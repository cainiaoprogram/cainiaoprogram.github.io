<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>（小甲鱼python）函数笔记合集七 函数(IX)总结 python实现汉诺塔详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="（小甲鱼python）函数笔记合集七 函数(IX)总结 python实现汉诺塔详解" />
<meta property="og:description" content="一、基础复习 函数的基本用法 创建和调用函数 函数的形参与实参等等函数的几种参数 位置参数、关键字参数、默认参数等函数的收集参数*args **args 解包参数详解函数中参数的作用域 局部作用域 全局作用域 global语句 嵌套函数 nonlocal语句等详解函数的闭包（工厂函数）lambda()函数表达式、map()、filter()函数详解生成器的定义、使用和产生生成器的两种方法详解函数的递归、递归和迭代的区别详解 二、汉诺塔 1.汉诺塔简介
汉诺塔（Tower of Hanoi），又称河内塔，是一个源于印度古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。
汉诺塔移动规则：
规则一：一次只能移动一枚金片。小片必须在大片的上面。 2.汉诺塔代码编写
汉诺塔的代码编写，主要用到了函数的递归， 对递归不熟悉的可以看一下函数的递归、递归和迭代的区别详解
例1：当汉诺塔层数为5时
def hanoi(n,x,y,z): if n==1: print(x,&#39;--&gt;&#39;,z) # 如果只有1层，直接将金片从x移动到z else: hanoi(n-1,x,z,y) # 将x上的n-1个金片移动到y print(x,&#39;--&gt;&#39;,z) # 将最底下的金片从x移动到z hanoi(n-1,y,x,z) # 将y上的n-1个金片移动到z n=int(input(&#39;请输入汉诺塔的层数:&#39;)) hanoi(n,&#39;A&#39;,&#39;B&#39;,&#39;C&#39;) 结果：
&gt;&gt;&gt; ================= RESTART: E:\xiaojiayu code\049讲：函数（IX）.py ================= 请输入汉诺塔的层数:5 A --&gt; C A --&gt; C B --&gt; C A --&gt; C B --&gt; C B --&gt; C A --&gt; C A --&gt; C B --&gt; C B --&gt; C A --&gt; C B --&gt; C A --&gt; C A --&gt; C B --&gt; C A --&gt; C B --&gt; C B --&gt; C A --&gt; C B --&gt; C A --&gt; C A --&gt; C B --&gt; C B --&gt; C A --&gt; C A --&gt; C B --&gt; C A --&gt; C B --&gt; C B --&gt; C A --&gt; C 例2：当汉诺塔层数为3时" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/bbce3e30f37d6309c6a70cdace02caf1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-06T22:41:00+08:00" />
<meta property="article:modified_time" content="2023-03-06T22:41:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">（小甲鱼python）函数笔记合集七 函数(IX)总结 python实现汉诺塔详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、基础复习</h3> 
<ol><li><a href="https://blog.csdn.net/qq_44985415/article/details/128618290?csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22128618290%22%2C%22source%22%3A%22qq_44985415%22%7D">函数的基本用法 创建和调用函数 函数的形参与实参等等</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/128620240?csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22128620240%22%2C%22source%22%3A%22qq_44985415%22%7D">函数的几种参数 位置参数、关键字参数、默认参数等</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/128708418">函数的收集参数*args **args 解包参数详解</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/128729722">函数中参数的作用域 局部作用域 全局作用域 global语句 嵌套函数 nonlocal语句等详解</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/128737183">函数的闭包（工厂函数）</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/128914606">lambda()函数表达式、map()、filter()函数详解</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/129208480">生成器的定义、使用和产生生成器的两种方法详解</a></li><li><a href="https://blog.csdn.net/qq_44985415/article/details/129261042">函数的递归、递归和迭代的区别详解</a></li></ol> 
<h3><a id="_9"></a>二、汉诺塔</h3> 
<p><strong>1.汉诺塔简介</strong></p> 
<blockquote> 
 <p>汉诺塔（Tower of Hanoi），又称河内塔，是一个源于印度古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/90/ed/T9Ex6Qn9_o.png" alt="在这里插入图片描述">汉诺塔移动规则：</p> 
<ul><li>规则一：一次只能移动一枚金片。</li><li>小片必须在大片的上面。</li></ul> 
<p><strong>2.汉诺塔代码编写</strong><br> <strong>汉诺塔的代码编写，主要用到了函数的递归，</strong> 对递归不熟悉的可以看一下<a href="https://blog.csdn.net/qq_44985415/article/details/129261042">函数的递归、递归和迭代的区别详解</a><br> 例1：当汉诺塔层数为5时</p> 
<pre><code>def hanoi(n,x,y,z):
   if n==1:
       print(x,'--&gt;',z) # 如果只有1层，直接将金片从x移动到z
   else:
       hanoi(n-1,x,z,y) # 将x上的n-1个金片移动到y
       print(x,'--&gt;',z) # 将最底下的金片从x移动到z
       hanoi(n-1,y,x,z) # 将y上的n-1个金片移动到z

n=int(input('请输入汉诺塔的层数:'))
hanoi(n,'A','B','C') 
</code></pre> 
<p>结果：</p> 
<pre><code>&gt;&gt;&gt; 
================= RESTART: E:\xiaojiayu code\049讲：函数（IX）.py =================
请输入汉诺塔的层数:5
A --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
</code></pre> 
<p>例2：当汉诺塔层数为3时<br> 结果：</p> 
<pre><code>&gt;&gt;&gt; 
================= RESTART: E:\xiaojiayu code\049讲：函数（IX）.py =================
请输入汉诺塔的层数:3
A --&gt; C
A --&gt; C
B --&gt; C
A --&gt; C
B --&gt; C
B --&gt; C
A --&gt; C
&gt;&gt;&gt; 
</code></pre> 
<p>汉诺塔n为3时，代码解释如下：<br> <img src="https://images2.imgbox.com/5d/8c/DA3WUJga_o.png" alt="在这里插入图片描述"></p> 
<p><strong>课后题：</strong><br> <strong>1.给定一个整数 n，请编写一个递归函数，计算从 1 + 2 + 3 + … + n 的结果（比如 n = 10，那么结果就是 55）。</strong><br> 代码：</p> 
<pre><code>&gt;&gt;&gt; def get_sum(n):
...     if n == 1:
...         return 1
...     else:
...         return n + get_sum(n-1)
...
&gt;&gt;&gt; get_sum(10)
55
&gt;&gt;&gt; get_sum(100)
5050
</code></pre> 
<p>解析：如果是 n 等于 1 就返回 1（结束递归），否则就是返回 n + get_sum(n-1)，递归其实很好理解的对吧~<br> <strong>2.给定一个整数 n，请编写一个递归函数，判断该整数是否为 2 的幂次方。如果是返回 True，否则返回 False。</strong><br> 代码：</p> 
<pre><code>&gt;&gt;&gt; def isPowerOfTwo(n):
...     if n &gt; 0:
...         if n == 1:
...             return True
...         if n % 2 == 1:
...             return False
...         return isPowerOfTwo(n/2)
...     else:
...         return False
...        
&gt;&gt;&gt; isPowerOfTwo(1)
True
&gt;&gt;&gt; isPowerOfTwo(0)
False
&gt;&gt;&gt; isPowerOfTwo(8)
True
</code></pre> 
<p>解析：if n % 2 == 1 这句虽然不要也可以，但是有它可以极大地提高代码的工作效率。<br> <strong>3.请实现一个递归函数，要求只使用加号运算符（+）来实现乘法运算的结果。</strong><br> <strong>我的代码：</strong></p> 
<pre><code>&gt;&gt;&gt; def mul(x,y):
    if x&lt;1:
        return 0
    else:
        return y+mul(x-1,y)
# 结果
&gt;&gt;&gt; mul(3,4)
12
&gt;&gt;&gt; mul(3,5)
15
&gt;&gt;&gt; mul(12,24)
288
</code></pre> 
<p>答案代码：</p> 
<pre><code>&gt;&gt;&gt; def mul(x, y):
...     if x == 0 or y == 0:
...         return 0
...     if x == 1:
...         return y
...     if y == 1:
...         return x
...     if x &lt; y:
...         return mul(x-1, y) + y
...     else:
...         return mul(x, y-1) + x
# 结果
&gt;&gt;&gt; mul(3, 4)
12
&gt;&gt;&gt; mul(3, 5)
15
&gt;&gt;&gt; mul(12, 24)
288
</code></pre> 
<p><strong>4.给定一个列表 L，请编写一个递归函数，找到该列表中最大的元素。</strong><br> 代码：</p> 
<pre><code>&gt;&gt;&gt; def get_max(L):
...     if len(L) == 2:
...         return L[0] if L[0] &gt; L[1] else L[1]
...     else:
...         sub = get_max(L[1:])
...         return L[0] if L[0] &gt; sub else sub
</code></pre> 
<p>解析：如果长度为 2，直接比较列表仅剩的两个元素大小；否则通过 get_max(L[1:]) 每次递归减少 1 个元素（sub 表示从剩余的部分拿出最大的数）。<br> <strong>5.假设僧侣每秒钟都能正确地移动一枚金片，请问将 64 枚金片从一根银针移动到另外一根银针上，大概需要使用多少时间？</strong><br> 解析：可能你会想着拿课堂中汉诺塔的代码进行修改，然后试图让程序移动完再顺便告诉你总共移动了多少次，像下面这样：</p> 
<pre><code>i = 0
def hanoi(n, x, y, z):
    global i
    if n == 1:
        i += 1
    else:
        hanoi(n-1, x, z, y)
        i += 1
        hanoi(n-1, y, x, z)
    
n = int(input('请输入汉诺塔的层数：'))
hanoi(n, 'A', 'B', 'C')
print(i)
</code></pre> 
<p>但问题是如果输入的层数是 64 的话，代码执行的时间会相当相当久，以致于你可能等不到结果。<br> 让我们先来看看汉诺塔的实现代码：</p> 
<pre><code>def hanoi(n, x, y, z):
    if n == 1:
        print(x, '--&gt;', z)  # 如果只有 1 层，直接将金片从 x 移动到 z
    else:
        hanoi(n-1, x, z, y) # 将 x 上的 n-1 个金片移动到 y
        print(x, '--&gt;', z)  # 将最底下的金片从 x 移动到 z
        hanoi(n-1, y, x, z) # 将 y 上的 n-1 个金片移动到 z
    
n = int(input('请输入汉诺塔的层数：'))
hanoi(n, 'A', 'B', 'C')
</code></pre> 
<p>递归调用和移动金片的规律是这样的：<br> g(n) = g(n-1) + 1 + g(n-1)<br> 也就是：<br> g(n) = 2 * g(n-1) + 1<br> 当 n == 1 的时候，g(1) == 1<br> 那么我们就可以根据这条规律，写出如下代码：</p> 
<pre><code>&gt;&gt;&gt; def g(n):
...     if n == 1:
...         return 1
...     else:
...         return 2 * g(n-1) + 1
&gt;&gt;&gt; g(64)
18446744073709551615
&gt;&gt;&gt; g(64) / 365 / 24 / 3600
584942417355.072
</code></pre> 
<p>题目来自小甲鱼python<a href="https://fishc.com.cn/thread-209302-1-2.html" rel="nofollow">函数(IX)</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/34d2985e5fa635ec67bfec4b58982c61/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">3D目标检测（二）—— 直接处理点云的3D目标检测网络VoteNet、H3DNet</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b583d88651fe7d73edefa2d7e1bc6673/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Hadoop集群搭建，基于3.3.4hadoop和centos8【图文教程-从零开始搭建Hadoop集群】，常见问题解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>