<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VLAN的配置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VLAN的配置" />
<meta property="og:description" content="目录
一、vlan的概念及优势
二、静态vlan的配置
1、首先设置四台主机的IP地址、子网掩码
2、SW1的vlan创建
3、设置交换机1的接口模式
4、通过ping检测
三、trunk的配置
1、首先配置四台主机和两台服务器的IP地址、子网掩码
2、SW1、SW2的VLAN创建
​编辑
3、设置交换机1的接口模式
​编辑
4、设置交换机2的接口模式
5、通过ping检测
一、vlan的概念及优势 早期的局域网hub带来的问题：带宽公用/冲突/安全（在一二三层物理设备上）
交换机的出现解决了带宽和冲突，但安全未解决
vlan的出现，解决一部分安全问题
VLAN的概念----虚拟局域网(物理上解决了部分安全问题/技术上解决了广播风暴问题)
分割广播域（物理分割----用交换机解决/
逻辑分割------用vlan解决）
VLAN的优势----控制广播/增强网络安全性/简化网络管理/便于排错
VLAN的种类----基于端口划分静态vlan
基于mac地址划分动态vlan（缺点--要搜集全部的mac地址，不够灵活）
VLAN的范围----0-------4095（可用只有4094个---0和4095 保留 仅限系统使用 用户不可查看和使用）
二、静态vlan的配置 access----主机 路由 等不识别vlan的设备
只允许一种vlan标签的流量通过
trunk----交换机和交换机之间可用trunk
允许多条vlan标签的流量通过
hybrid----混杂模式，华为默认类型
1、首先设置四台主机的IP地址、子网掩码 2、SW1的vlan创建 3、设置交换机1的接口模式 group-member中如果不想成员连用就用空格隔开，连续就用to
4、通过ping检测 三、trunk的配置 1、首先配置四台主机和两台服务器的IP地址、子网掩码 注意在同一网段
2、SW1、SW2的VLAN创建 SW1
SW2
3、设置交换机1的接口模式 SW1(接口1、2、3、4设置为access模式)
group-member中如果不想成员连用就用空格隔开，连续就用to
SW1中接口5设置为trunk模式
4、设置交换机2的接口模式 SW2中接口1设置为trunk模式
SW2中接口1、2设置为access模式
5、通过ping检测 四、总结 1、交换机和交换机之间用trunk模式，否则无法联通
2、因为处于同一网段，所以ping的检测中没有出现丢包
3、必须要记得开启端口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fb2f86ebad3de9fda8fd6b8d2fa1198f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-11T23:47:45+08:00" />
<meta property="article:modified_time" content="2022-09-11T23:47:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VLAN的配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81vlan%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E4%BC%98%E5%8A%BF-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81vlan%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E4%BC%98%E5%8A%BF" rel="nofollow">一、vlan的概念及优势</a></p> 
<p id="%E4%BA%8C%E3%80%81%E9%9D%99%E6%80%81vlan%E7%9A%84%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E9%9D%99%E6%80%81vlan%E7%9A%84%E9%85%8D%E7%BD%AE" rel="nofollow">二、静态vlan的配置</a></p> 
<p id="1%E3%80%81%E9%A6%96%E5%85%88%E8%AE%BE%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E9%A6%96%E5%85%88%E8%AE%BE%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81" rel="nofollow">1、首先设置四台主机的IP地址、子网掩码</a></p> 
<p id="2%E3%80%81SW1%E7%9A%84vlan%E5%88%9B%E5%BB%BA-toc" style="margin-left:40px;"><a href="#2%E3%80%81SW1%E7%9A%84vlan%E5%88%9B%E5%BB%BA" rel="nofollow">2、SW1的vlan创建</a></p> 
<p id="3%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F" rel="nofollow">3、设置交换机1的接口模式</a></p> 
<p id="4%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B" rel="nofollow">4、通过ping检测</a></p> 
<p id="%E4%B8%89%E3%80%81trunk%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81trunk%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E9%85%8D%E7%BD%AE" rel="nofollow">三、trunk的配置</a></p> 
<p id="1%E3%80%81%E9%A6%96%E5%85%88%E9%85%8D%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E5%92%8C%E4%B8%A4%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E7%BD%91%E5%85%B3%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E9%A6%96%E5%85%88%E9%85%8D%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E5%92%8C%E4%B8%A4%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E7%BD%91%E5%85%B3%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81" rel="nofollow">1、首先配置四台主机和两台服务器的IP地址、子网掩码</a></p> 
<p id="2%E3%80%81SW1%E3%80%81SW2%E7%9A%84VLAN%E5%88%9B%E5%BB%BA-toc" style="margin-left:40px;"><a href="#2%E3%80%81SW1%E3%80%81SW2%E7%9A%84VLAN%E5%88%9B%E5%BB%BA" rel="nofollow">2、SW1、SW2的VLAN创建</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A03%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%C2%A03%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F" rel="nofollow">​编辑</a></p> 
<p id="3%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F" rel="nofollow">3、设置交换机1的接口模式</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A04%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%C2%A04%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F" rel="nofollow">​编辑</a></p> 
<p id="4%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F" rel="nofollow">4、设置交换机2的接口模式</a></p> 
<p id="5%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B-toc" style="margin-left:40px;"><a href="#5%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B" rel="nofollow">5、通过ping检测</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81vlan%E7%9A%84%E6%A6%82%E5%BF%B5%E5%8F%8A%E4%BC%98%E5%8A%BF">一、vlan的概念及优势</h2> 
<p>早期的局域网hub带来的问题：带宽公用/冲突/安全（在一二三层物理设备上）</p> 
<p>交换机的出现解决了带宽和冲突，但安全未解决</p> 
<p>vlan的出现，解决一部分安全问题</p> 
<p><strong>VLAN的概念----</strong>虚拟局域网(物理上解决了部分安全问题/技术上解决了广播风暴问题)</p> 
<p>分割广播域（物理分割----用交换机解决/</p> 
<p>                      逻辑分割------用vlan解决）</p> 
<p><strong>VLAN的优势----</strong>控制广播/增强网络安全性/简化网络管理/便于排错</p> 
<p><strong>VLAN的种类----基于</strong>端口划分静态vlan</p> 
<p><strong>                         基于</strong>mac地址划分动态vlan（缺点--要搜集全部的mac地址，不够灵活）</p> 
<p><strong>VLAN的范围----</strong>0-------4095（可用只有4094个---0和4095 保留 仅限系统使用 用户不可查看和使用）</p> 
<h2 id="%E4%BA%8C%E3%80%81%E9%9D%99%E6%80%81vlan%E7%9A%84%E9%85%8D%E7%BD%AE">二、静态vlan的配置</h2> 
<p><strong>access----</strong>主机 路由 等不识别vlan的设备</p> 
<p>只允许一种vlan标签的流量通过</p> 
<p><strong>trunk----</strong>交换机和交换机之间可用trunk</p> 
<p>允许多条vlan标签的流量通过</p> 
<p><strong>hybrid----</strong>混杂模式，华为默认类型</p> 
<p><img alt="" height="336" src="https://images2.imgbox.com/99/5c/r31YDIu5_o.png" width="901"></p> 
<h3 id="1%E3%80%81%E9%A6%96%E5%85%88%E8%AE%BE%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">1、首先设置四台主机的IP地址、子网掩码</h3> 
<p><img alt="" height="438" src="https://images2.imgbox.com/b1/5e/pIPZegZ7_o.png" width="292"><img alt="" height="440" src="https://images2.imgbox.com/04/91/xYKZmtAk_o.png" width="277"></p> 
<p><img alt="" height="459" src="https://images2.imgbox.com/31/09/cAJnmSY9_o.png" width="292"><img alt="" height="454" src="https://images2.imgbox.com/c9/66/hOififQ4_o.png" width="301"></p> 
<h3 id="2%E3%80%81SW1%E7%9A%84vlan%E5%88%9B%E5%BB%BA">2、SW1的vlan创建</h3> 
<p><img alt="" height="218" src="https://images2.imgbox.com/5a/e5/RiOR4V8E_o.png" width="792"></p> 
<h3 id="3%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F">3、设置交换机1的接口模式</h3> 
<p><strong>group-member中如果不想成员连用就用空格隔开，连续就用to</strong></p> 
<p><img alt="" height="522" src="https://images2.imgbox.com/13/4d/A5U4xLBz_o.png" width="799"></p> 
<h3 id="4%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B">4、通过ping检测</h3> 
<p><img alt="" height="324" src="https://images2.imgbox.com/8d/14/3ylzB9DG_o.png" width="659"></p> 
<p> </p> 
<p><img alt="" height="300" src="https://images2.imgbox.com/ab/e0/JejYkQnZ_o.png" width="661"></p> 
<p> </p> 
<p><img alt="" height="318" src="https://images2.imgbox.com/2c/d1/8DMpZehT_o.png" width="725"></p> 
<p> </p> 
<h2 id="%E4%B8%89%E3%80%81trunk%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E9%85%8D%E7%BD%AE">三、trunk的配置</h2> 
<p><img alt="" height="399" src="https://images2.imgbox.com/e3/86/mnyC1vRg_o.png" width="540"></p> 
<h3 id="1%E3%80%81%E9%A6%96%E5%85%88%E9%85%8D%E7%BD%AE%E5%9B%9B%E5%8F%B0%E4%B8%BB%E6%9C%BA%E5%92%8C%E4%B8%A4%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84IP%E5%9C%B0%E5%9D%80%E3%80%81%E7%BD%91%E5%85%B3%E3%80%81%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81">1、首先配置四台主机和两台服务器的IP地址、子网掩码</h3> 
<p>注意在同一网段</p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/b9/1c/a3LZUP6l_o.png" width="292"><img alt="" height="440" src="https://images2.imgbox.com/13/18/OBEZzZ3Y_o.png" width="277"></p> 
<p><img alt="" height="459" src="https://images2.imgbox.com/50/15/bproxrTR_o.png" width="292"><img alt="" height="454" src="https://images2.imgbox.com/de/c6/W5hx7PkR_o.png" width="301"><img alt="" height="222" src="https://images2.imgbox.com/8c/2e/KC7TcANu_o.png" width="303"><img alt="" height="228" src="https://images2.imgbox.com/57/1e/5Pxcu2Wv_o.png" width="292"></p> 
<h3 id="2%E3%80%81SW1%E3%80%81SW2%E7%9A%84VLAN%E5%88%9B%E5%BB%BA">2、SW1、SW2的VLAN创建</h3> 
<p><strong>SW1</strong></p> 
<p><img alt="" height="218" src="https://images2.imgbox.com/99/1c/ZKDeQObK_o.png" width="792"></p> 
<p><strong>SW2</strong></p> 
<p><img alt="" height="140" src="https://images2.imgbox.com/96/b8/VWlhasXs_o.png" width="673"></p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A03%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA1%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F"><img alt="" height="41" src="https://images2.imgbox.com/67/ce/J1kajkdw_o.png" width="828"></h3> 
<h3>3、设置交换机1的接口模式</h3> 
<p><strong>SW1(接口1、2、3、4设置为access模式)</strong></p> 
<p><strong>group-member中如果不想成员连用就用空格隔开，连续就用to</strong><img alt="" height="522" src="https://images2.imgbox.com/f7/5a/Vh8Rbluk_o.png" width="799"></p> 
<p><strong>SW1中接口5设置为trunk模式</strong></p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/35/d2/o2vZrQ0I_o.png" width="741"></p> 
<h3 id="%E2%80%8B%E7%BC%96%E8%BE%91%C2%A04%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F"><img alt="" height="88" src="https://images2.imgbox.com/72/22/pAwHb0pw_o.png" width="840"></h3> 
<h3 id="4%E3%80%81%E8%AE%BE%E7%BD%AE%E4%BA%A4%E6%8D%A2%E6%9C%BA2%E7%9A%84%E6%8E%A5%E5%8F%A3%E6%A8%A1%E5%BC%8F">4、设置交换机2的接口模式</h3> 
<p><strong>SW2中接口1设置为trunk模式</strong></p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/4e/12/sfxoqNR5_o.png" width="796"></p> 
<p><strong>SW2中接口1、2设置为access模式</strong></p> 
<p><img alt="" height="101" src="https://images2.imgbox.com/f4/0c/k38hxyiR_o.png" width="838"></p> 
<p><img alt="" height="126" src="https://images2.imgbox.com/62/c3/lPcGsvmX_o.png" width="822"></p> 
<h3 id="5%E3%80%81%E9%80%9A%E8%BF%87ping%E6%A3%80%E6%B5%8B">5、通过ping检测</h3> 
<p><img alt="" height="308" src="https://images2.imgbox.com/d2/3d/1Mqpvuhb_o.png" width="626"></p> 
<p><img alt="" height="310" src="https://images2.imgbox.com/c7/09/EhxrOea6_o.png" width="732"></p> 
<p> <img alt="" height="299" src="https://images2.imgbox.com/fb/a2/kwHD2Ovp_o.png" width="737"></p> 
<p> <img alt="" height="289" src="https://images2.imgbox.com/76/53/CkPfEXeq_o.png" width="677"></p> 
<p> <img alt="" height="292" src="https://images2.imgbox.com/3b/cc/9ZNzAtsc_o.png" width="660"></p> 
<p> <img alt="" height="318" src="https://images2.imgbox.com/e7/4d/qQ81RG47_o.png" width="762"></p> 
<p> </p> 
<h2>四、总结</h2> 
<p>1、交换机和交换机之间用trunk模式，否则无法联通</p> 
<p>2、因为处于同一网段，所以ping的检测中没有出现丢包</p> 
<p>3、必须要记得开启端口</p> 
<p></p> 
<p> </p> 
<p> </p> 
<p></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2861c1e6dc472811542be963556d7a5a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【RbMQ】RabbitMQ概念辨析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6eb6a7011d7e290f0376219aa8d8ce45/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Oracle数据库imp文件导入失败提示：“不是有效的导出文件, 标头验证失败”解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>