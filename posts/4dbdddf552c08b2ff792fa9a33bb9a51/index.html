<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Max Sum (O(n)时间复杂度) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Max Sum (O(n)时间复杂度)" />
<meta property="og:description" content="Max Sum Problem Description Given a sequence a[1],a[2],a[3]......a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 &#43; (-1) &#43; 5 &#43; 4 = 14. Input The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line starts with a number N(1&lt;=N&lt;=100000), then N integers followed(all the integers are between -1000 and 1000)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4dbdddf552c08b2ff792fa9a33bb9a51/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-18T22:54:09+08:00" />
<meta property="article:modified_time" content="2018-01-18T22:54:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Max Sum (O(n)时间复杂度)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="color:rgb(26,92,200);text-align:center;font-family:'Times New Roman';">Max Sum</h2> 
<br style="color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;"> 
<div class="panel_title" align="left" style='background-image:url("panel-title.png");background-position:left bottom;background-repeat:no-repeat;padding:0px 14px;color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;'>
  Problem Description 
</div> 
<div class="panel_content" style="background-image:url(&quot;panel-content.png&quot;);background-repeat:repeat-y;margin:0px;padding:0px 20px;font-size:14px;font-family:'Times New Roman';color:rgb(0,0,0);">
  Given a sequence a[1],a[2],a[3]......a[n], your job is to calculate the max sum of a sub-sequence. For example, given (6,-1,5,4,-7), the max sum in this sequence is 6 + (-1) + 5 + 4 = 14. 
 <br> 
</div> 
<div class="panel_bottom" style="margin:0px;background-image:url(&quot;panel-bottom.png&quot;);background-position:left top;background-repeat:no-repeat;color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;">
    
</div> 
<br style="color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;"> 
<div class="panel_title" align="left" style='background-image:url("panel-title.png");background-position:left bottom;background-repeat:no-repeat;padding:0px 14px;color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;'>
  Input 
</div> 
<div class="panel_content" style="background-image:url(&quot;panel-content.png&quot;);background-repeat:repeat-y;margin:0px;padding:0px 20px;font-size:14px;font-family:'Times New Roman';color:rgb(0,0,0);">
  The first line of the input contains an integer T(1&lt;=T&lt;=20) which means the number of test cases. Then T lines follow, each line starts with a number N(1&lt;=N&lt;=100000), then N integers followed(all the integers are between -1000 and 1000). 
 <br> 
</div> 
<div class="panel_bottom" style="margin:0px;background-image:url(&quot;panel-bottom.png&quot;);background-position:left top;background-repeat:no-repeat;color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;">
    
</div> 
<br style="color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;"> 
<div class="panel_title" align="left" style='background-image:url("panel-title.png");background-position:left bottom;background-repeat:no-repeat;padding:0px 14px;color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;'>
  Output 
</div> 
<div class="panel_content" style="background-image:url(&quot;panel-content.png&quot;);background-repeat:repeat-y;margin:0px;padding:0px 20px;font-size:14px;font-family:'Times New Roman';color:rgb(0,0,0);">
  For each test case, you should output two lines. The first line is "Case #:", # means the number of the test case. The second line contains three integers, the Max Sum in the sequence, the start position of the sub-sequence, the end position of the sub-sequence. If there are more than one result, output the first one. Output a blank line between two cases. 
 <br> 
</div> 
<div class="panel_bottom" style="margin:0px;background-image:url(&quot;panel-bottom.png&quot;);background-position:left top;background-repeat:no-repeat;color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;">
    
</div> 
<br style="color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;"> 
<div class="panel_title" align="left" style='background-image:url("panel-title.png");background-position:left bottom;background-repeat:no-repeat;padding:0px 14px;color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;'>
  Sample Input 
</div> 
<div class="panel_content" style="background-image:url(&quot;panel-content.png&quot;);background-repeat:repeat-y;margin:0px;padding:0px 20px;font-size:14px;font-family:'Times New Roman';color:rgb(0,0,0);"> 
 <div style="font-family:'Courier New', Courier, monospace;">
   2 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;">
   5 6 -1 5 4 -7 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;">
   7 0 6 -1 1 -6 7 -5 
 </div> 
</div> 
<div class="panel_bottom" style="margin:0px;background-image:url(&quot;panel-bottom.png&quot;);background-position:left top;background-repeat:no-repeat;color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;">
    
</div> 
<br style="color:rgb(0,0,0);font-family:'Times New Roman';font-size:14px;"> 
<div class="panel_title" align="left" style='background-image:url("panel-title.png");background-position:left bottom;background-repeat:no-repeat;padding:0px 14px;color:rgb(124,169,237);font-size:18px;font-family:Arial;font-weight:bold;'>
  Sample Output 
</div> 
<div class="panel_content" style="background-image:url(&quot;panel-content.png&quot;);background-repeat:repeat-y;margin:0px;padding:0px 20px;font-size:14px;font-family:'Times New Roman';color:rgb(0,0,0);"> 
 <div style="font-family:'Courier New', Courier, monospace;">
   Case 1: 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;">
   14 1 4 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;"> 
  <br> 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;">
   Case 2: 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;">
   7 1 6 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;"> 
  <br> 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;"> 
  <pre><code class="language-cpp">// 设Si = A1 + A2 + A3 +...+Ai, 则 Ai + Ai+1 +...+ Aj = Sj - Si-1 （连续子序列之和等于两个前缀和之差）
// 当j确定时， “S[j] - S[i-1]最大” 相当于 “S[i-1]最小”，因此只需要扫描一次数组，维护“目前遇到过的最小的S”即可。
// 
#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

void Find(vector&lt;int&gt;&amp; a)
{
	vector&lt;int&gt; s;
	int min = 0; //最小的子串和
	int start = 1, end = 1; //最大子串的开始位置和结束位置
	int min_position = 1; //目前最大字串和的开始位置
	int best = a[1];//将最大字串和初始化为第一个数字
	s.push_back(0);//由于序列是从一开始的，而我是用的向量存储，所以需要填入一个数字占位
	for (int i = 1; i &lt; a.size(); i++)
	{
		s.push_back(s[i - 1] + a[i]);
		if (s[i - 1] &lt; min) {
			min_position = i;
			min = s[i - 1];
		}
		if (best &lt; s[i] - min) // 遇到最大字串和，将起始和终止的位置标好
		{
			best = s[i] - min;
			end = i;
			start = min_position;
		}
	}
	cout &lt;&lt; best &lt;&lt; " " &lt;&lt; start &lt;&lt; " " &lt;&lt; end;
}

int main()
{
	//freopen("data.txt", "r", stdin);
	int T;
	int N;
	int num;
	vector&lt;int&gt; array;
	cin &gt;&gt; T;
	array.push_back(0);
	for (int i = 0; i &lt; T; i++)
	{
		cin &gt;&gt; N;
		for (int i = 0; i &lt; N; i++) {
			cin &gt;&gt; num;
			array.push_back(num);
		}
		cout &lt;&lt; "Case " &lt;&lt; i + 1 &lt;&lt; ":" &lt;&lt; endl;
		Find(array);
		if (i != T - 1)
			cout &lt;&lt; endl &lt;&lt; endl;
		else
			cout &lt;&lt; endl;
		array.clear();
		array.push_back(0);
	}
	return 0;
}</code></pre> 
  <br> 
  <br> 
 </div> 
 <div style="font-family:'Courier New', Courier, monospace;"></div> 
 <div style="font-family:'Courier New', Courier, monospace;"> 
  <br> 
 </div> 
</div> 
<div> 
 <br> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/da139c923ebe92b0c49fc48db7d9a140/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jupyter notebook远程访问不了的问题解决</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67221043cc5b2f0c0e5a2fb80c744ed4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL数据类型之TEXT与BLOB</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>