<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>百度飞桨(PaddlePaddle) - PP-OCRv3 文字检测识别系统 预测部署简介与总览 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="百度飞桨(PaddlePaddle) - PP-OCRv3 文字检测识别系统 预测部署简介与总览" />
<meta property="og:description" content="1. 预测部署简介与总览 本章主要介绍PP-OCRv2系统的高性能推理方法、服务化部署方法以及端侧部署方法。通过本章的学习，您可以学习到：
根据不同的场景挑选合适的预测部署方法PP-OCRv2系列模型在不同场景下的推理方法Paddle Inference、Paddle Serving、Paddle Lite的推理部署开发方法 1.1 简介 在前面几个章节中，我们通过模型训练的方法，得到了训练好的模型，在使用它去预测的时候，我们首先需要定义好模型，然后加载训练好的模型，再将预处理之后的数据送进网络中进行预测、后处理，得到最终的结果。使用这种方法去进行预测，调试方便，但是预测效率比较低下。
针对上面的问题，对于训练得到的模型，一般有下面2种离线预测的方式。
基于训练引擎推理，也就是和训练使用同一套引擎，它调试方便，便于我们迅速定位问题，验证正确性。多为Python语言。基于预测引擎推理，将训练得到的模型进行转换，去掉与推理无关的部分，使用这种方法可以加速预测。多为Python语言或C&#43;&#43;。 二者具体的区别如下所示。
基于训练引擎推理基于预测引擎推理特点1. 和训练使用同一套引擎
2. 预测时需要定义网络模型
3. 不适合系统集成1. 需要转换模型，去掉与推理无关的部分
2. 预测时无需定义网络模型
3. 适合系统集成编程语言多为PythonPython或者C&#43;&#43;预测步骤1. Python端定义网络结构
2. 准备输入数据
3. 加载训练模型
4. 执行预测1. 准备输入数据
2. 加载模型结构和模型参数
3.执行预测 在实际离线预测部署中，更推荐基于预测引擎进行推理。
从应用场景来看，飞桨针对不同应用场景，提供了下面一些推理部署方案。
飞桨的不同部署方案
具体地，PaddleOCR 针对不同应用场景，提供了三种预测部署方案。
Inference的离线预测，这种方式主要应用在对预测响应的及时性要求不高，特别是需要大量图片预测的场景。像文档电子化、广告信息提取等。虽然不能及时响应预测请求，但是没有网络延时，计算效率比较高，数据安全性很高。Serving服务化部署，这种方式主要应用在对预测响应的及时性要求很高的场景，像商业化OCR的API接口、实时拍照翻译、拍题等场景。虽然这种方式能及时对预测需求及时响应，但是网络耗时开销比较大，GPU利用率往往不高，而且存在数据安全风险。Lite端侧部署，这种方式主要希望模型部署到手机、机器人等端侧设备上，主要考虑部署方便和数据安全性，像手机APP里面身份证识别、银行卡识别，工业应用场景的仪表监控识别等。这种方法，对OCR模型的大小比较敏感。虽然没有网络延时，数据安全性很高，但是由于算力限制，预测效率不高。 本章基于PP-OCRv2，介绍文本检测、识别以及系统串联预测推理与部署过程。
1.2 环境准备 体验本章节内容需要首先下载PaddleOCR代码，安装相关依赖，具体命令如下。
import os os.chdir(&#34;/home/aistudio&#34;) # 下载代码 !git clone https://gitee.com/paddlepaddle/PaddleOCR.git os.chdir(&#34;/home/aistudio/PaddleOCR&#34;) # 安装运行所需要的whl包 !pip install -U pip !pip install -r requirements.txt # VQA任务中需要用到该库 !pip install paddlenlp==2.2.1 # 导入一些库 import cv2 import matplotlib." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6fcbd0f86d66c2c176fb08986f2fa83c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-30T09:45:00+08:00" />
<meta property="article:modified_time" content="2023-09-30T09:45:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">百度飞桨(PaddlePaddle) - PP-OCRv3 文字检测识别系统 预测部署简介与总览</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="1-预测部署简介与总览">1. 预测部署简介与总览</h2> 
<p>本章主要介绍PP-OCRv2系统的高性能推理方法、服务化部署方法以及端侧部署方法。通过本章的学习，您可以学习到：</p> 
<ul><li>根据不同的场景挑选合适的预测部署方法</li><li>PP-OCRv2系列模型在不同场景下的推理方法</li><li>Paddle Inference、Paddle Serving、Paddle Lite的推理部署开发方法</li></ul> 
<h3 id="11-简介">1.1 简介</h3> 
<p>在前面几个章节中，我们通过模型训练的方法，得到了训练好的模型，在使用它去预测的时候，我们首先需要定义好模型，然后加载训练好的模型，再将预处理之后的数据送进网络中进行预测、后处理，得到最终的结果。使用这种方法去进行预测，调试方便，但是预测效率比较低下。</p> 
<p>针对上面的问题，对于训练得到的模型，一般有下面2种离线预测的方式。</p> 
<ol><li>基于训练引擎推理，也就是和训练使用同一套引擎，它调试方便，便于我们迅速定位问题，验证正确性。多为Python语言。</li><li>基于预测引擎推理，将训练得到的模型进行转换，去掉与推理无关的部分，使用这种方法可以加速预测。多为Python语言或C++。</li></ol> 
<p>二者具体的区别如下所示。</p> 
<table><thead><tr><th></th><th>基于训练引擎推理</th><th>基于预测引擎推理</th></tr></thead><tbody><tr><td>特点</td><td>1. 和训练使用同一套引擎<br> 2. 预测时需要定义网络模型<br> 3. 不适合系统集成</td><td>1. 需要转换模型，去掉与推理无关的部分<br> 2. <strong>预测时无需定义网络模型</strong><br> 3. 适合系统集成</td></tr><tr><td>编程语言</td><td>多为Python</td><td>Python或者C++</td></tr><tr><td>预测步骤</td><td>1. Python端定义网络结构<br> 2. 准备输入数据<br> 3. 加载训练模型<br> 4. 执行预测</td><td>1. 准备输入数据<br> 2. 加载模型结构和模型参数<br> 3.执行预测</td></tr></tbody></table> 
<p>在实际离线预测部署中，更推荐基于预测引擎进行推理。</p> 
<p>从应用场景来看，飞桨针对不同应用场景，提供了下面一些推理部署方案。</p> 
<p></p> 
<p class="img-center"><img alt="" height="941" src="https://images2.imgbox.com/7e/ae/vZmjhARg_o.png" width="1200"></p> 
<p>飞桨的不同部署方案</p> 
<p>具体地，PaddleOCR 针对不同应用场景，提供了三种预测部署方案。</p> 
<ul><li>Inference的离线预测，这种方式主要应用在对预测响应的及时性要求不高，特别是需要大量图片预测的场景。像文档电子化、广告信息提取等。虽然不能及时响应预测请求，但是没有网络延时，计算效率比较高，数据安全性很高。</li><li>Serving服务化部署，这种方式主要应用在对预测响应的及时性要求很高的场景，像商业化OCR的API接口、实时拍照翻译、拍题等场景。虽然这种方式能及时对预测需求及时响应，但是网络耗时开销比较大，GPU利用率往往不高，而且存在数据安全风险。</li><li>Lite端侧部署，这种方式主要希望模型部署到手机、机器人等端侧设备上，主要考虑部署方便和数据安全性，像手机APP里面身份证识别、银行卡识别，工业应用场景的仪表监控识别等。这种方法，对OCR模型的大小比较敏感。虽然没有网络延时，数据安全性很高，但是由于算力限制，预测效率不高。</li></ul> 
<p>本章基于PP-OCRv2，介绍文本检测、识别以及系统串联预测推理与部署过程。</p> 
<h3 id="12-环境准备">1.2 环境准备 </h3> 
<p>体验本章节内容需要首先下载PaddleOCR代码，安装相关依赖，具体命令如下。</p> 
<pre><code>import os

os.chdir("/home/aistudio")
# 下载代码
!git clone https://gitee.com/paddlepaddle/PaddleOCR.git
os.chdir("/home/aistudio/PaddleOCR")
# 安装运行所需要的whl包
!pip install -U pip
!pip install -r requirements.txt
# VQA任务中需要用到该库
!pip install paddlenlp==2.2.1

# 导入一些库
import cv2
import matplotlib.pyplot as plt
%matplotlib inline
import numpy as np
import os
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ee38671d5113573aa9268cd7b2fc9592/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">在Spring Boot项目中使用Redisson</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/24607345d85015f63aa429a0158da892/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">《YOLO小目标检测》专栏介绍 &amp; CSDN独家改进创新实战&amp;专栏目录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>