<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R语言——R函数、选项参数、数学统计函数（六） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="R语言——R函数、选项参数、数学统计函数（六）" />
<meta property="og:description" content="目录
一、R函数
二、选项参数
三、数学统计函数
四、参考
一、R函数 1.lm()
lm()是R语言中经常用到的函数，用来拟合回归模型。它是拟合线性模型最基本的函数
lm()格式如下：
fit&lt;-lm(formula,data) 其中，formula指要拟合的模型形式，data是一个数据框，包含了用于拟合模型的数据。结果对象（本例中是fit）存储在一个列表中，包含了所拟合模型的大量信息。表达式（formula）形式如下：
Y~X1&#43;X2..Xn 举例，输入：
a&lt;-c(1,2,3,4,5) b&lt;-c(2,4,6,8,10) mydata&lt;-data.frame(a,b) fit&lt;-lm(a~b,mydata) summary(fit) 结果会显示：
所以a,b的关系可表示为：
a=0.000000000000001192&#43;0.5*b 2.函数返回值及输入数据格式
使用函数时要注意函数的返回值类型，比如有些函数返回值是列表，那就不能将其运用到使用向量的环境中。
有些函数只能处理矩阵，有些函数既能处理矩阵也能处理数据框，使用函数时，需要知道每个函数的输入数据格式，否则就会出错。
输入数据类型
向量：sum，mean，sd，range，median，sort，order
矩阵或数据框：cbind，rbind
数字矩阵：heatmap
3.使用help(函数名)可以查看函数的帮助文档。
二、选项参数 一般的选项函数可以分为三部分：输入控制部分、输出控制部分以及调节部分。
- 输入控制选项
常用选项：
file：接一个文件
data：一般指要输入一个数据框
x：表示单独的一个对象，一般都是向量，也可以是矩阵或者列表
x和y：函数需要两个输入变量
x，y，z：函数需要三个输入变量
formula：公式
na.rm：删除缺失值
- 输出控制选项：在R中，函数一般都是屏幕输出结果，每个函数的返回值也比较固定，所以输出控制选项并不多。
- 调节参数
调节参数
1.根据名字判断选项的作用
color：选项明显用来控制颜色
select：与选择有关
font：与字体有关
font.axis：就是坐标轴的字体
lty：是 line type
lwd：是 line width
method：软件算法
2.选项接受哪些参数
main：字符串，不能是向量
na.rm：TRUE 或者 FALSE
axis：side参数只能是1到4
fig：包含四个元素的向量
三、数学统计函数 1.概率统计函数
R概率分布：
d 概率密度函数 p 分布函数 q 分布函数的反函数 r 产生相同分布的随机数 正态分布函数：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/767249ddc9300ab4604218b185701a67/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-03T09:25:24+08:00" />
<meta property="article:modified_time" content="2024-01-03T09:25:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R语言——R函数、选项参数、数学统计函数（六）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81R%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81R%E5%87%BD%E6%95%B0" rel="nofollow">一、R函数</a></p> 
<p id="%E4%BA%8C%E3%80%81%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0" rel="nofollow">二、选项参数</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0" rel="nofollow">三、数学统计函数</a></p> 
<p id="%E5%9B%9B%E3%80%81%E5%8F%82%E8%80%83-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E5%8F%82%E8%80%83" rel="nofollow">四、参考</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81R%E5%87%BD%E6%95%B0">一、R函数</h2> 
<p><img alt="" height="703" src="https://images2.imgbox.com/33/fe/RFzucS1Y_o.png" width="1200"></p> 
<p><strong>1.lm()</strong></p> 
<p>lm()是R语言中经常用到的函数，用来拟合<a href="https://so.csdn.net/so/search?q=%E5%9B%9E%E5%BD%92%E6%A8%A1%E5%9E%8B&amp;spm=1001.2101.3001.7020" title="回归模型">回归模型</a>。它是拟合线性模型最基本的函数</p> 
<p>lm()格式如下：</p> 
<pre><code class="language-R">fit&lt;-lm(formula,data)</code></pre> 
<p>其中，formula指要拟合的模型形式，data是一个数据框，包含了用于拟合模型的数据。结果对象（本例中是fit）存储在一个列表中，包含了所拟合模型的大量信息。表达式（formula）形式如下：</p> 
<pre><code class="language-R">Y~X1+X2..Xn</code></pre> 
<p>举例，输入：</p> 
<pre><code class="language-R">a&lt;-c(1,2,3,4,5)
b&lt;-c(2,4,6,8,10)
mydata&lt;-data.frame(a,b)
fit&lt;-lm(a~b,mydata)
summary(fit)</code></pre> 
<p>结果会显示：<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/14/98/Gkc78eqt_o.png"><br> 所以a,b的关系可表示为：</p> 
<pre><code class="language-R">a=0.000000000000001192+0.5*b
</code></pre> 
<p><strong>2.函数返回值及输入数据格式</strong></p> 
<p>        使用函数时要注意函数的返回值类型，比如有些函数返回值是列表，那就不能将其运用到使用向量的环境中。<br>         有些函数只能处理矩阵，有些函数既能处理矩阵也能处理数据框，使用函数时，需要知道每个函数的输入数据格式，否则就会出错。</p> 
<blockquote> 
 <p><strong>输入数据类型</strong></p> 
 <p>向量：sum，mean，sd，range，median，sort，order</p> 
 <p>矩阵或数据框：cbind，rbind</p> 
 <p>数字矩阵：heatmap</p> 
</blockquote> 
<p><strong>3.使用help(函数名)可以查看函数的帮助文档。</strong></p> 
<h2 id="%E4%BA%8C%E3%80%81%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0">二、<strong>选项参数</strong></h2> 
<p>一般的选项函数可以分为三部分：<strong>输入控制部分、输出控制部分</strong>以及<strong>调节部分</strong>。</p> 
<p><strong>- 输入控制选项</strong></p> 
<blockquote> 
 <p><strong>常用选项：</strong><br> file：接一个文件</p> 
 <p>data：一般指要输入一个数据框</p> 
 <p>x：表示单独的一个对象，一般都是向量，也可以是矩阵或者列表</p> 
 <p>x和y：函数需要两个输入变量</p> 
 <p>x，y，z：函数需要三个输入变量</p> 
 <p>formula：公式</p> 
 <p>na.rm：删除缺失值</p> 
</blockquote> 
<p><strong>- 输出控制选项</strong>：在R中，函数一般都是屏幕输出结果，每个函数的返回值也比较固定，所以输出控制选项并不多。</p> 
<p><strong>- 调节参数</strong></p> 
<blockquote> 
 <p><strong>调节参数</strong></p> 
 <p><strong>1.根据名字判断选项的作用</strong></p> 
 <p>color：选项明显用来控制颜色</p> 
 <p>select：与选择有关</p> 
 <p>font：与字体有关</p> 
 <p>font.axis：就是坐标轴的字体</p> 
 <p>lty：是 line type</p> 
 <p>lwd：是 line width</p> 
 <p>method：软件算法</p> 
 <p><strong>2.选项接受哪些参数</strong></p> 
 <p>main：字符串，不能是向量</p> 
 <p>na.rm：TRUE 或者 FALSE</p> 
 <p>axis：side参数只能是1到4</p> 
 <p>fig：包含四个元素的向量</p> 
</blockquote> 
<h2 id="%E4%B8%89%E3%80%81%E6%95%B0%E5%AD%A6%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0">三、数学<strong>统计函数</strong></h2> 
<p><strong>1.概率统计函数</strong><br> R概率分布：</p> 
<pre><code class="language-R">d 概率密度函数
p 分布函数
q 分布函数的反函数
r 产生相同分布的随机数
</code></pre> 
<p>正态分布函数：</p> 
<pre><code class="language-R">dnorm(x,mean,sd,log)
pnorm(q,mean,sd,lower.tail,log.p)
qnorm(p,mean,sd,lower.tail,log.p)
rnorm(n,mean,sd)
</code></pre> 
<p>与离散分布相关的函数：</p> 
<p><img alt="" height="787" src="https://images2.imgbox.com/a9/74/OMbFgETX_o.png" width="1092"></p> 
<p>与正态分布一样，在每种分布名称前面加上d、p、q、r就可以构成函数名。<br> 如：</p> 
<pre><code class="language-R">dgeom(x,prob,log=FALSE)
pgeom(q,prob,lower.tail=TRUE,log.p=FALSE)
qgeom(p,prob,lower.tail=TRUE,log.p=FALSE)
rgeom(n,prob)
</code></pre> 
<p>runif(n)：随机生成n个0到1之间的数。<br> runif(n,min=1,max=100)：随机生成n个从1到100之间的随机数。</p> 
<p><strong>2.描述性统计函数</strong><br> summary函数：</p> 
<pre><code class="language-R">mycars &lt;- mtcars[c("mpg","hp","wt","am")]
summary(mycars)
</code></pre> 
<p><img alt="" height="304" src="https://images2.imgbox.com/b7/86/JokC6pdA_o.png" width="959"></p> 
<p>fivenum函数：与summary函数类似</p> 
<pre><code class="language-R">fivenum(mycars$hp)
</code></pre> 
<p>Hmisc包中的describe函数：</p> 
<pre><code class="language-R">describe(mycars)
</code></pre> 
<p>pastecs包中stat.desc函数：计算种类繁多的描述性统计量，参数x是一个数据框或时间序列</p> 
<pre><code class="language-R">stat.desc(mycars)
</code></pre> 
<p>psych包中describe函数：</p> 
<pre><code class="language-R">describe(mycars)
describe(mycars,trim=0.1) #去掉10%的最低值最高值部分
</code></pre> 
<p>很多情况下，我们需要对数据进行分组描述，这时候可以使用aggregate函数，aggregate函数能够对数据按照指定的分组信息进行统计，将分组信息通过一个列表指定出来：</p> 
<pre><code class="language-R">library(MASS)
aggregate(Cars93[c("Min.Price","Price","Max.Price","MPG.city")],by=list(Manufacturer=Cars93$Manufacturer),mean)
</code></pre> 
<p>aggregate函数的缺点是一次只能计算一个统计函数。<br> 使用doBy包中的summaryBy函数：</p> 
<pre><code class="language-R">summaryBy(mpg+hp+wt~am,data=mycars,FUN=mean)
</code></pre> 
<p>使用psych包中的describeBy函数：</p> 
<pre><code class="language-R">describeBy(mycars,list(am=mycars$am))
</code></pre> 
<p><strong>3.频数统计函数</strong><br> （1）一维</p> 
<pre><code class="language-R">mtcars$cyl &lt;- as.factor(mtcars$cyl)
split(mtcars,mtcars$cyl)      #结果按照cyl分类
table(mtcars$cyl)     #频数统计
table(cut(mtcars$mpg,c(seq(10,50,10))))       #频数统计
prop.table(table(mtcars$cyl))      #频率值，即频数除以总数
</code></pre> 
<p>(2）二维：返回列联表</p> 
<pre><code class="language-R">library(vcd)
table(Arthritis$Treatment,Arthritis$Improved)      #统计两个量的频数，返回的结果是一个二维的列联表
</code></pre> 
<p>或者</p> 
<pre><code class="language-R">with(data = Arthritis,table(Treatment,Improved))
</code></pre> 
<p>或者</p> 
<pre><code class="language-R">xtabs(~Treatment+Improved,data = Arthritis)
</code></pre> 
<p>（3）对列联表进行边际频数统计<br> 边际频数统计：</p> 
<pre><code class="language-R">x &lt;- xtabs(~Treatment+Improved,data = Arthritis)
margin.table(x,1)      #按行进行边际频数统计
margin.table(x,2)      #按列进行边际频数统计
</code></pre> 
<p>边际频率统计：</p> 
<pre><code class="language-R">prop.table(x,1)      #按行进行边际频率统计
prop.table(x,2)      #按列进行边际频率统计
</code></pre> 
<p>将边际频数的和添加到频数表中：</p> 
<pre><code class="language-R">addmargins(x)
addmargins(x,1)
addmargins(x,2)
</code></pre> 
<p>(4）三维</p> 
<pre><code class="language-R">y &lt;- xtabs(~Treatment+Improved+Sex,data = Arthritis)
ftable(y)    #将结果转换为一个评估式的列联表
</code></pre> 
<h2 id="%E5%9B%9B%E3%80%81%E5%8F%82%E8%80%83">四、参考</h2> 
<p><a class="link-info" href="https://www.bilibili.com/video/BV19x411X7C6/?p=44&amp;spm_id_from=pageDriver&amp;vd_source=d2304d5397e001816cfc89a0015dba77" rel="nofollow" title="R语言入门与数据分析">R语言入门与数据分析</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5d2e23d14cae7d3d26f73957cae06587/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Android NumberPicker使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71a3943bc3c65a335df82d9653882033/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android 应用使用数据统计服务——UsageStatsManager</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>