<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VueTouchKeyboard——一个模拟键盘 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VueTouchKeyboard——一个模拟键盘" />
<meta property="og:description" content="功能需求：封装一个带有设计好的样式的输入组件，输入方式为模拟的数字键盘。
键盘组件为VueTouchKeyboard,下载方式如下
npm install &#34;vue-touch-keyboard&#34; --save image.png 封装的输入组件
模板
&lt;template&gt; &lt;div v-clickoutside=&#34;hide&#34;&gt; &lt;input v-bind=&#34;$attrs&#34; @focus=&#34;show&#34; @blur=&#34;submit&#34; /&gt; &lt;div class=&#34;keyboard__warn-mess keyboard__warn&#34;&gt; &lt;div v-if=warnMessage class=&#34;&#34;&gt; {{warnMessage}} &lt;/div&gt; &lt;/div&gt; &lt;vue-touch-keyboard class=&#34;keyboard-nav&#34; :options=&#34;options&#34; v-if=&#34;visible&#34; :cancel=&#34;hide&#34; :layout=&#34;layout&#34; :accept=&#34;hide&#34; :input=&#34;input&#34; /&gt; &lt;/div&gt; &lt;/template&gt; 很简单，就包含了一个VueTouchKeyboard模拟键盘和input输入框，以及一个div里放动态的warnMessage
js内容：
&lt;script&gt; import VueTouchKeyboard from &#39;vue-touch-keyboard&#39;; import &#39;vue-touch-keyboard/dist/vue-touch-keyboard.css&#39;; import $ from &#39;jquery&#39;; const clickoutside = {//自定义命令，功能：点击键盘以外的区域隐藏键盘 // 初始化指令 bind (el, binding, vnode) { function documentHandler (e) { // 这里判断点击的元素是否是本身，是本身，则返回 if (el.contains(e.target)) { return false; } // 判断指令中是否绑定了函数 if (binding." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b29af1169a282264b52f9b19f19c58c0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-14T10:16:53+08:00" />
<meta property="article:modified_time" content="2020-05-14T10:16:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VueTouchKeyboard——一个模拟键盘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>功能需求：封装一个带有设计好的样式的输入组件，输入方式为模拟的数字键盘。</p> 
<p>键盘组件为VueTouchKeyboard,下载方式如下</p> 
<pre><code>npm install "vue-touch-keyboard" --save
</code></pre> 
<div> 
 <div> 
  <div>
      
  </div> 
  <div> 
   <img alt="20315386-3dc95db37a53e302.png" src="https://images2.imgbox.com/d6/c7/vzFpxcnx_o.png"> 
  </div> 
 </div> 
 <div>
   image.png 
 </div> 
</div> 
<p>封装的输入组件</p> 
<p>模板</p> 
<pre><code>&lt;template&gt;
  &lt;div v-clickoutside="hide"&gt;
    &lt;input v-bind="$attrs"
           @focus="show"
           @blur="submit" /&gt;
    &lt;div class="keyboard__warn-mess keyboard__warn"&gt;
      &lt;div v-if=warnMessage
           class=""&gt;
        {<!-- -->{warnMessage}}
      &lt;/div&gt;

    &lt;/div&gt;
    &lt;vue-touch-keyboard class="keyboard-nav"
                        :options="options"
                        v-if="visible"
                        :cancel="hide"
                        :layout="layout"
                        :accept="hide"
                        :input="input" /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre> 
<p>很简单，就包含了一个VueTouchKeyboard模拟键盘和input输入框，以及一个div里放动态的warnMessage<br><strong>js内容：</strong></p> 
<pre><code>&lt;script&gt;
import VueTouchKeyboard from 'vue-touch-keyboard';
import 'vue-touch-keyboard/dist/vue-touch-keyboard.css';
import $ from 'jquery';

const clickoutside = {//自定义命令，功能：点击键盘以外的区域隐藏键盘
  // 初始化指令

  bind (el, binding, vnode) {
    function documentHandler (e) {
      // 这里判断点击的元素是否是本身，是本身，则返回
      if (el.contains(e.target)) {
        return false;
      }
      // 判断指令中是否绑定了函数
      if (binding.expression) {
        // 如果绑定了函数 则调用那个函数，此处binding.value就是handleClose方法
        binding.value(e);
      }
    }
    // 给当前元素绑定个私有变量，方便在unbind中可以解除事件监听
    el.__vueClickOutside__ = documentHandler;
    document.addEventListener('click', documentHandler);
  },
  update () { },
  unbind (el, binding) {
    // 解除事件监听
    document.removeEventListener('click', el.__vueClickOutside__);
    delete el.__vueClickOutside__;
  },
};

export default {
  components: {
    'vue-touch-keyboard': VueTouchKeyboard.component,
  },
  directives: { clickoutside },
  data: function () {
    return {
      visible: false,
      input: null,
      options: {
        useKbEvents: false,
        preventClickEvent: false
      }
    };
  },
  props: {
    warnMessage: { type: String, default: null },//错误提示
    layout: { type: String, default: 'normal' },//键盘的种类：normal:全键盘/numeric：数字/compact：字母
    instanceID: String,
  },
  methods: {
    accept () {
      this.hide();
    },

    show (e) {
      this.input = e.target;
      if (!this.visible) { this.visible = true }

    },
    hide () {
      this.visible = false;
    },
    submit () {
      if (this.input === null) {
        return;
      }
      this.$emit('data-change', this.input.value);
    },
  },
  watch: {
    warnMessage: {
      handler () {
        // debugger;
        const doubleId = `#${this.instanceID}`;
        if (this.warnMessage !== '' &amp;&amp; this.warnMessage != null) {
          $(doubleId).find('input').css('border', '1px solid rgba(255, 0, 90, 1)');
        } else {
          $(doubleId).find('input').css('border', 'none');
        }
      },
    },
  },
}
&lt;/script&gt;
</code></pre> 
<p>页面内容(只简单的展示了下组件的使用)</p> 
<pre><code>&lt;template&gt;
  &lt;div&gt;
    &lt;div class="display-flex-css"&gt;
      &lt;span class="keyboard-lable"&gt;{<!-- -->{$t('messages.order_no')}}&lt;/span&gt;
      &lt;touch-keyboard type="number"
                      id="order-no-K"
                      :placeholder="$t('messages.pls_input_orderno')"
                      :maxlength="13"
                      v-model="orderno"
                      instanceID="order-no-K"
                      :warnMessage="ordernoWarn"
                      @data-change="getOrderNo"
                      layout="numeric"&gt;&lt;/touch-keyboard&gt;
    &lt;/div&gt;
    &lt;div class="display-flex-css"&gt;
      &lt;span class="keyboard-lable"&gt;{<!-- -->{$t('messages.phoneNum')}}&lt;/span&gt;
      &lt;touch-keyboard type="number"
                      id="phone-num-K"
                      :placeholder="$t('messages.pls_input_phoneNum')"
                      :maxlength="11"
                      v-model="phoneNum"
                      instanceID="phone-num-K"
                      :warnMessage="phoneNumWarn"
                      @data-change="getPhoneNum"
                      layout="numeric"&gt;&lt;/touch-keyboard&gt;
    &lt;/div&gt;
    &lt;button class="confirm-btn"
            @click="confirm"&gt;确定&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import touchKeyboard from '@/components/keyboard';

export default {
  components: {
    'touch-keyboard': touchKeyboard,
  },
  data () {
    return {
      orderno: '',
      ordernoWarn: '',
      phoneNum: '',
      phoneNumWarn: ''
    }
  },
  methods: {
    getOrderNo (value) {
      this.orderno = value;
    },
    getPhoneNum (value) {
      this.phoneNum = value;
    },
    confirm () {
      this.ordernoWarn = "";
      this.phoneNumWarn = "";
      if (this.orderno == "") {
        this.ordernoWarn = "订单号不能为空";
      } else if (this.phoneNumWarn == "") {
        this.phoneNumWarn = "手机号不能为空";
      }
    }
  }
}
&lt;/script&gt;
&lt;style lang="scss"&gt;
.display-flex-css {
  display: flex;
  justify-content: center;
}
.keyboard-lable {
  font-size: 22px;
  padding-right: 26px;
  line-height: 46px;
}
.confirm-btn {
  width: 150px;
  height: 43px;
  font-size: 21px;
  border-radius: 8px;
  background: #9800ff29;
  border: 0px;
  margin-top: 17%;
}
&lt;/style&gt;
</code></pre> 
<p>页面效果：（随便画的，比较丑）</p> 
<div> 
 <div> 
  <div>
      
  </div> 
  <div> 
   <img alt="20315386-d5ac4903118d7270.png" src="https://images2.imgbox.com/fa/77/NjQK1YC7_o.png"> 
  </div> 
 </div> 
 <div>
     
 </div> 
</div> 
<p> </p> 
<div> 
 <div> 
  <div>
      
  </div> 
  <div> 
   <img alt="20315386-ba198828331babdb.png" src="https://images2.imgbox.com/37/bd/esL1tEE1_o.png"> 
  </div> 
 </div> 
 <div>
     
 </div> 
</div> 
<p> </p> 
<p>可参考<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvue-touch-keyboard" rel="nofollow">https://www.npmjs.com/package/vue-touch-keyboard</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/387318d351ee0965500f4b17204e7a98/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Matlab-python-ABAQUS数据交互及联合使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/13e7f1c8066298ba28105a5ce3cbae75/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">el-table的多选框（默认全选，条件性渲染，动态勾选等功能）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>