<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>入职第一天：先用Git管好你的代码！ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="入职第一天：先用Git管好你的代码！" />
<meta property="og:description" content="本文并非面向完全的 Git 初学者，也不会详细介绍每一个 Git 命令和它的所有选项。相反，本文的目标读者是那些已经有一些基础，至少知道如何在本地仓库进行基本的版本控制操作，包括 git add，git commit 和 git log，但是还没有在企业环境中真正使用 Git 进行过项目开发的开发者们。
本文的目标是提供一种顺畅的过渡，帮助你更深入地理解如何在实际的项目开发中使用 Git，以及如何利用 Git 进行高效的团队协作。
提交规范 记住，每个提交都应该是有意义的更改，应附带明确的提交信息。这不仅可以帮助你回溯和理解每次更改的目的，而且还能帮助团队其他成员更好地理解你的更改。在提交规范中，你可以添加更多关于提交信息格式的建议，比如推荐的提交信息格式是：&lt;type&gt;: &lt;subject&gt;，这里的type可以是以下几种：
feat：新功能fix：修复bugdocs：文档改变style：代码格式改变（比如删除空格、格式化）refactor：某个已有功能重构perf：性能优化test：增加测试chore：构建过程或辅助工具的变动 subject则是对提交内容的简短描述。
分支管理 分支是 Git 中的核心概念，是实现并行开发和团队合作的重要工具。在这个章节中，本文会详细介绍如何在实际项目开发中高效使用分支。
开发流程 在一个典型的开发流程中，我们通常会有一个主分支（例如 master 或 main），一个开发分支（例如 develop），以及针对特定功能或修复的特性分支（例如 feature/your_feature 或 fix/your_fix）。
主分支通常包含了最新发布的或即将发布的代码，开发分支包含了正在开发的代码，而特性分支则是从开发分支切出来的，用于开发新功能或修复bug。
当新功能或修复完成后，我们会将特性分支合并回开发分支，然后在需要发布新版本时，我们会将开发分支合并到主分支，并打上相应的版本标签。
创建并切换分支 创建并切换到新的分支，我们可以使用 git checkout -b 命令：
git checkout -b new_branch 合并分支 要将一个分支的更改合并到当前分支，我们可以使用 git merge 命令：
git merge other_branch 请注意，合并前通常需要切换到目标分支，例如将开发分支合并到主分支：
git checkout master git merge develop 分支的推送和删除 在你完成了特性分支上的工作后，你可以将其推送到远程仓库，并在确认无误后删除它：
git push origin feature_branch git branch -d feature_branch 示例流程 以下是一种典型的分支管理示例流程：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/49e9acfa548b45406078e3f4684974bb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-07T16:39:41+08:00" />
<meta property="article:modified_time" content="2023-07-07T16:39:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">入职第一天：先用Git管好你的代码！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本文并非面向完全的 Git 初学者，也不会详细介绍每一个 Git 命令和它的所有选项。相反，本文的目标读者是那些已经有一些基础，至少知道如何在本地仓库进行基本的版本控制操作，包括 <code>git add</code>，<code>git commit</code> 和 <code>git log</code>，但是还没有在企业环境中真正使用 Git 进行过项目开发的开发者们。</p> 
<p>本文的目标是提供一种顺畅的过渡，帮助你更深入地理解如何在实际的项目开发中使用 Git，以及如何利用 Git 进行高效的团队协作。</p> 
<h3><a id="_4"></a>提交规范</h3> 
<p>记住，每个提交都应该是有意义的更改，应附带明确的提交信息。这不仅可以帮助你回溯和理解每次更改的目的，而且还能帮助团队其他成员更好地理解你的更改。在提交规范中，你可以添加更多关于提交信息格式的建议，比如推荐的提交信息格式是：<code>&lt;type&gt;: &lt;subject&gt;</code>，这里的type可以是以下几种：</p> 
<ul><li>feat：新功能</li><li>fix：修复bug</li><li>docs：文档改变</li><li>style：代码格式改变（比如删除空格、格式化）</li><li>refactor：某个已有功能重构</li><li>perf：性能优化</li><li>test：增加测试</li><li>chore：构建过程或辅助工具的变动</li></ul> 
<p>subject则是对提交内容的简短描述。</p> 
<h3><a id="_19"></a>分支管理</h3> 
<p>分支是 Git 中的核心概念，是实现并行开发和团队合作的重要工具。在这个章节中，本文会详细介绍如何在实际项目开发中高效使用分支。</p> 
<h4><a id="_23"></a>开发流程</h4> 
<p>在一个典型的开发流程中，我们通常会有一个主分支（例如 <code>master</code> 或 <code>main</code>），一个开发分支（例如 <code>develop</code>），以及针对特定功能或修复的特性分支（例如 <code>feature/your_feature</code> 或 <code>fix/your_fix</code>）。</p> 
<p>主分支通常包含了最新发布的或即将发布的代码，开发分支包含了正在开发的代码，而特性分支则是从开发分支切出来的，用于开发新功能或修复bug。</p> 
<p>当新功能或修复完成后，我们会将特性分支合并回开发分支，然后在需要发布新版本时，我们会将开发分支合并到主分支，并打上相应的版本标签。</p> 
<h4><a id="_31"></a>创建并切换分支</h4> 
<p>创建并切换到新的分支，我们可以使用 <code>git checkout -b</code> 命令：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout <span class="token parameter variable">-b</span> new_branch
</code></pre> 
<h4><a id="_39"></a>合并分支</h4> 
<p>要将一个分支的更改合并到当前分支，我们可以使用 <code>git merge</code> 命令：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> merge other_branch
</code></pre> 
<p>请注意，合并前通常需要切换到目标分支，例如将开发分支合并到主分支：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout master
<span class="token function">git</span> merge develop
</code></pre> 
<h4><a id="_54"></a>分支的推送和删除</h4> 
<p>在你完成了特性分支上的工作后，你可以将其推送到远程仓库，并在确认无误后删除它：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> push origin feature_branch
<span class="token function">git</span> branch <span class="token parameter variable">-d</span> feature_branch
</code></pre> 
<h4><a id="_63"></a>示例流程</h4> 
<p>以下是一种典型的分支管理示例流程：</p> 
<p>1）首先，需要确保自己的本地 master 和 develop 分支是最新的。他们可以通过以下命令获取远程仓库的更新：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout master
<span class="token function">git</span> pull origin master
<span class="token function">git</span> checkout develop
<span class="token function">git</span> pull origin develop
</code></pre> 
<p>2）从 <code>develop</code> 分支创建 <code>feature/new_feature</code> 分支，并切换到 <code>feature/new_feature</code> 分支，然后在此分支上进行开发：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout <span class="token parameter variable">-b</span> feature/your_feature <span class="token comment"># 创建并切换到一个新的功能分支</span>
</code></pre> 
<p>3）在<code>feature/new_feature</code> 分支上完成新功能的开发后，将新功能的代码提交到特性分支：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"Add new feature"</span>
</code></pre> 
<p>4）提交代码后，需要将 <code>feature/new_feature</code> 分支推送到远程仓库，以便于其他团队成员进行代码审查：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> push origin feature/new_feature
</code></pre> 
<p>5）代码审查无误后，项目经理或团队领导会将 <code>feature/new_feature</code> 分支合并到 <code>develop </code>或 <code>master</code> 分支。</p> 
<p>因此，新入职员工主要的工作就是在自己的特性分_branch上进行开发，然后将完成的代码推送到远程仓库。其他的工作，例如合并分支、打标签等，通常由项目经理或团队领导来完成。</p> 
<p>这样，我们就可以在复杂的项目开发中高效地使用 Git 分支进行团队协作了。</p> 
<p>请注意，以上只是一种常见的分支管理策略（Git Flow），实际中可以根据项目的需要或者公司的规范来处理分支管理。</p> 
<p>在任何情况下，关键是要确保代码的一致性和整洁性，以便于代码的维护和团队的协作。</p> 
<h3><a id="_105"></a>短暂的工作中断</h3> 
<p>在你的开发过程中，可能会遇到需要临时切换到其他任务的情况，例如修复一个紧急的bug。在这种情况下，你可能还有一些未完成的修改，而你又不想为这些未完成的修改创建一个新的提交。此时，你可以使用 <code>git stash</code> 命令来保存你的修改。</p> 
<p><code>git stash</code> 命令会将所有未提交的修改（包括暂存区和工作目录的修改）保存起来，让你的工作目录回到最近的提交的状态。这样，你就可以自由地切换到其他任务，而不用担心你的未完成的修改会影响到你的新任务。</p> 
<p>以下是使用 <code>git stash</code> 命令的基本步骤：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> stash <span class="token comment"># 保存你的修改</span>
<span class="token function">git</span> checkout other_branch <span class="token comment"># 切换到其他任务</span>
<span class="token comment"># ... 在其他任务中进行你的工作 ...</span>
<span class="token function">git</span> checkout original_branch <span class="token comment"># 完成其他任务后，切回到原来的工作</span>
<span class="token function">git</span> stash pop <span class="token comment"># 取回你保存的修改</span>
</code></pre> 
<p>在这里，<code>git stash pop</code> 命令会将你保存的修改取回到你的工作目录，并且从你的 stash 列表中删除这个 stash。如果你希望保留在 stash 列表中的副本，你可以使用 <code>git stash apply</code> 命令取回你的修改。</p> 
<p>请注意，<code>git stash</code> 命令只会保存未提交的修改，不会保存任何未跟踪的文件（例如新创建的文件）。如果你想要保存未跟踪的文件，你需要使用 <code>git stash -u</code> 或 <code>git stash --include-untracked</code> 命令。</p> 
<h3><a id="_124"></a>开发完成时</h3> 
<p>在你准备提交代码之前，你应该首先检查你的修改。你可以使用 <code>git diff</code> 命令查看你的修改，然后使用 <code>git add .</code> 将你的所有修改添加到暂存区。最后，使用 <code>git status</code> 来确认你是否已经添加了所有的修改。一旦确认你的所有修改都已被添加，你就可以提交你的代码了：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> <span class="token function">diff</span> <span class="token comment"># 检查你的修改</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span> <span class="token comment"># 添加所有的修改</span>
<span class="token function">git</span> status <span class="token comment"># 确认你是否已经添加了所有的修改</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"你的提交信息"</span> <span class="token comment"># 提交你的修改</span>
</code></pre> 
<p>提交后，你需要确保你的代码是最新的。使用<code>git pull</code> 来获取远程仓库的更新，然后使用 <code>git merge</code> 将这些更新合并到你的分支。最后，使用<code> git push</code> 将你的分支推送到远程仓库：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout master
<span class="token function">git</span> pull origin master
<span class="token function">git</span> checkout feature_branch
<span class="token function">git</span> merge master
<span class="token function">git</span> push origin feature_branch
</code></pre> 
<h3><a id="_147"></a>冲突解决</h3> 
<p>在使用Git进行团队协作的时候，冲突是常见的问题，尤其是当多个人在同一段代码上做出修改的时候。当Git无法自动合并更改时，就会发生冲突。例如，当两个分支都修改了同一个文件的同一行，Git就不知道应该选择哪一个版本，就需要手动解决冲突。</p> 
<p>首先，你需要确定哪些文件有冲突。你可以通过运行<code>git status</code>来查看这些文件。</p> 
<p>接着，你需要打开这些文件，查找以下标记：</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;&lt;&lt;</span><span class="token operator">&lt;</span> HEAD
你的更改<span class="token punctuation">..</span>.
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
别人的更改<span class="token punctuation">..</span>.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> branch-name
</code></pre> 
<p>这些标记之间的内容就是发生冲突的地方。<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>之后，直到<code>=======</code>之间的部分是在你的分支（或<code>HEAD</code>）中的更改，<code>=======</code>和<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; branch-name</code>之间的部分是在别的分支中的更改。</p> 
<p>你需要根据实际情况，保留需要的更改，删除不需要的更改以及Git添加的标记。可能需要保留你的更改，可能需要保留别的分支的更改，也可能需要合并你的更改和别的分支的更改。</p> 
<p>完成冲突解决后，你应该再次检查你的修改，以确保他们的修改正如你所期望的那样。你可以使用 <code>git diff</code> 命令来查看你的修改。一旦你确定你的修改是正确的，你就可以将这些文件标记为冲突已解决，并提交你的修改了：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> <span class="token function">diff</span> <span class="token comment"># 再次检查你的修改</span>
<span class="token function">git</span> <span class="token function">add</span> conflicted_file <span class="token comment"># 将这些文件标记为冲突已解决</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">"Resolved conflicts"</span> <span class="token comment"># 提交你的修改</span>
</code></pre> 
<p>这样，你就成功地解决了冲突，可以继续你的工作了。</p> 
<h3><a id="or_174"></a>版本回退or测试</h3> 
<p>在编程开发中，尤其是在使用Git这样的版本控制系统时，版本回退是非常重要的一个环节。当我们发现最新的更改导致了某些问题，或者我们只是想要查看或测试某个旧的版本时，我们可以使用Git的版本回退功能。</p> 
<p>在回退之前，要么提交当前的修改，要么先使用<code>git stash</code>命令保存未提交的修改，防止回退操作丢失这些修改。</p> 
<p>但是请注意，回退到旧的commit后，任何新的commit都将基于这个旧的commit。也就是说，如果你在回退之后进行了一些修改，并提交了这些修改，那么这些新的commit将不包含回退之前的commit。这种情况下，你应该在回退的版本基础上创建新的分支，然后在新的分支上进行修改和测试。以下是这个流程的步骤：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout <span class="token parameter variable">-b</span> testing_branch <span class="token comment"># 创建并切换到一个新的测试分支</span>
<span class="token function">git</span> reset <span class="token parameter variable">--hard</span> <span class="token operator">&lt;</span>commit_hash<span class="token operator">&gt;</span> <span class="token comment"># 回退到需要测试的版本</span>
<span class="token function">git</span> push origin testing_branch <span class="token comment"># 将旧的代码推送到新的远程分支进行测试</span>
</code></pre> 
<p>测试完成后，如果你想回到最新的代码，你可以切换回你的工作分支。你的测试代码还被保留在了一个分离的分支上，如果不再需要测试分支，你可以选择删除它。</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout feature_branch <span class="token comment"># 切换回工作分支</span>
<span class="token function">git</span> branch <span class="token parameter variable">-d</span> testing_branch <span class="token comment"># 删除测试分支（可选）</span>
</code></pre> 
<h3><a id="Git_195"></a>配置和优化Git环境</h3> 
<p>在Java开发中，<code>.gitignore</code>文件是一个非常重要的配置文件。它告诉Git哪些文件不应该被版本控制系统追踪。</p> 
<p>例如，你可能想要Git忽略<code>target/</code>目录，这个目录通常包含了Java的编译结果。你可能也想要Git忽略IDE生成的项目配置文件，比如IntelliJ IDEA的<code>.idea/</code>目录和<code>.iml</code>文件。还有一些包含敏感信息的文件，比如包含数据库密码的<code>application.properties</code>文件，也应该被忽略。</p> 
<p>一个典型的Java项目的<code>.gitignore</code>文件可能是这样的：</p> 
<pre><code class="prism language-bash">target/
*.iml
.idea/
application.properties
</code></pre> 
<p>只需将上述内容添加到你的项目根目录下的<code>.gitignore</code>文件中，Git就会自动忽略这些文件和目录。</p> 
<p>希望这篇文章能够帮助你在实际项目开发中更有效地使用 Git，提高你的团队协作效率。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7d4079cbefd143b2b158ba8df2ef5b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Zabbix监控系统及安装部署</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/627a3bc983158245d925c382ce9b3035/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TimestepEmbedSequential&#43; zero_module&#43;make_zero_conv</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>