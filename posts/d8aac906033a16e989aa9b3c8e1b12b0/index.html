<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>常用软件滤波方法及其示例程序 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="常用软件滤波方法及其示例程序" />
<meta property="og:description" content="常用软件滤波方法及其示例程序 作者 未知 来源 发布时间 2005-08-24 浏览次数 &lt;script language=&#34;Javascript&#34; src=&#34;/view.php?articleid=10&#34; type=&#34;text/javascript&#34;&gt;&lt;/script&gt; 119 字体 大 中 小 1、限幅滤波法（又称程序判断滤波法）
A、方法：
根据经验判断，确定两次采样允许的最大偏差值（设为A）
每次检测到新值时判断：
如果本次值与上次值之差&lt;=A,则本次值有效
如果本次值与上次值之差&gt;A,则本次值无效,放弃本次值,用上次值代替本次值
B、优点：
能有效克服因偶然因素引起的脉冲干扰
C、缺点
无法抑制那种周期性的干扰
平滑度差 示例：
/*
A值可根据实际情况调整
value为有效值，new_value为当前采样值 滤波程序返回有效的实际值 */
#define A 10
char value;
char filter()
{
char new_value;
new_value = get_ad();
if ( ( new_value - value &gt; A ) || ( value - new_value &gt; A ) ) return value;
else return new_value;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d8aac906033a16e989aa9b3c8e1b12b0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2006-03-29T16:48:00+08:00" />
<meta property="article:modified_time" content="2006-03-29T16:48:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">常用软件滤波方法及其示例程序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <table cellspacing="0" cellpadding="0" width="100%" border="0"><tbody><tr><td align="center" height="30"><span class="style1"><strong>常用软件滤波方法及其示例程序</strong></span></td></tr><tr><td background="/templates/default/style/default/images/title.gif" height="5"> </td></tr><tr><td align="center" height="25">作者 未知    来源 <a href="http://writeblog.csdn.net/fckeditor/editor/" rel="nofollow noopener noreferrer" target="_blank"></a>    发布时间 2005-08-24     浏览次数 &lt;script language="Javascript" src="/view.php?articleid=10" type="text/javascript"&gt;&lt;/script&gt; 119    字体 <a class="black" rel="nofollow">大</a>  <a class="black" rel="nofollow">中</a>  <a class="black" rel="nofollow">小</a></td></tr><tr><td> 
    <table cellspacing="0" cellpadding="10" width="100%" border="0"><tbody><tr><td id="fontzoom" style="LEFT: 0px; WIDTH: 750px; WORD-WRAP: break-word">　　 <p align="left">1、限幅滤波法（又称程序判断滤波法）</p> 
        <blockquote> 
         <p align="left">A、方法：<br>根据经验判断，确定两次采样允许的最大偏差值（设为A）<br>每次检测到新值时判断：<br>如果本次值与上次值之差&lt;=A,则本次值有效<br>如果本次值与上次值之差&gt;A,则本次值无效,放弃本次值,用上次值代替本次值</p> 
         <p align="left">B、优点：<br>能有效克服因偶然因素引起的脉冲干扰</p> 
         <p align="left">C、缺点<br>无法抑制那种周期性的干扰<br>平滑度差 </p> 
         <p align="left">示例：<br>/*<br>A值可根据实际情况调整<br>value为有效值，new_value为当前采样值 <br>滤波程序返回有效的实际值 */<br><br>#define A 10<br>char value;<br>char filter()<br>{<!-- --><br>char new_value;<br>new_value = get_ad();<br>if ( ( new_value - value &gt; A ) || ( value - new_value &gt; A ) ) return value;<br>else return new_value;<br>}</p> 
        </blockquote> <p align="left">2、中位值滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>连续采样N次（N取奇数）<br>把N次采样值按大小排列<br>取中间值为本次有效值</p> 
         <p align="left">B、优点：<br>能有效克服因偶然因素引起的波动干扰<br>对温度、液位的变化缓慢的被测参数有良好的滤波效果</p> 
         <p align="left">C、缺点：<br>对流量、速度等快速变化的参数不宜</p> 
         <p align="left">示例：<br>/*<br>N值可根据实际情况调整<br>排序采用冒泡法*/<br><br>#define N 11<br>char filter()<br>{<!-- --><br>char value_buf[N];<br>char count,i,j,temp;<br>for ( count=0;count {<!-- --><br>value_buf[count] = get_ad();<br>delay();<br>}<br>for (j=0;j {<!-- --><br>for (i=0;i {<!-- --><br>if ( value_buf[i]&gt;value_buf[i+1] )<br>{<!-- --><br>temp = value_buf[i];<br>value_buf[i] = value_buf[i+1]; <br>value_buf[i+1] = temp;<br>}<br>}<br>}<br>return value_buf[(N-1)/2];<br>} </p> 
        </blockquote> <p align="left"><br>3、算术平均滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>连续取N个采样值进行算术平均运算<br>N值较大时：信号平滑度较高，但灵敏度较低<br>N值较小时：信号平滑度较低，但灵敏度较高<br>N值的选取：一般流量，N=12；压力：N=4</p> 
         <p align="left">B、优点：<br>适用于对一般具有随机干扰的信号进行滤波<br>这样信号的特点是有一个平均值，信号在某一数值范围附近上下波动</p> 
         <p align="left">C、缺点：<br>对于测量速度较慢或要求数据计算速度较快的实时控制不适用<br>比较浪费RAM</p> 
         <p align="left">示例：<br><br>#define N 12<br>char filter()<br>{<!-- --><br>int sum = 0;<br>char count;<br>for ( count=0;count {<!-- --><br>sum+=get_ad();<br>delay();<br>}<br>return (char)(sum/N);<br>}</p> 
        </blockquote> <p align="left">4、递推平均滤波法（又称滑动平均滤波法）</p> 
        <blockquote> 
         <p align="left">A、方法：<br>把连续取N个采样值看成一个队列<br>队列的长度固定为N<br>每次采样到一个新数据放入队尾,并扔掉原来队首的一次数据.(先进先出原则)<br>把队列中的N个数据进行算术平均运算,就可获得新的滤波结果<br>N值的选取：流量，N=12；压力：N=4；液面，N=4~12；温度，N=1~4</p> 
         <p align="left"><br>B、优点：<br>对周期性干扰有良好的抑制作用，平滑度高<br>适用于高频振荡的系统 </p> 
         <p align="left">C、缺点：<br>灵敏度低<br>对偶然出现的脉冲性干扰的抑制作用较差<br>不易消除由于脉冲干扰所引起的采样值偏差<br>不适用于脉冲干扰比较严重的场合<br>比较浪费RAM</p> 
         <p align="left">示例：<br><br>#define N 12 <br>char value_buf[N];<br>char i=0;<br>char filter()<br>{<!-- --><br>char count;<br>int sum=0;<br>value_buf[i++]=get_ad();<br>if (i == N) i=0;<br>for ( count=0;count sum = value_buf[count];<br>return (char)(sum/N);<br>}</p> 
        </blockquote> <p align="left">5、中位值平均滤波法（又称防脉冲干扰平均滤波法）</p> 
        <blockquote> 
         <p align="left">A、方法：<br>相当于“中位值滤波法”+“算术平均滤波法”<br>连续采样N个数据，去掉一个最大值和一个最小值<br>然后计算N-2个数据的算术平均值<br>N值的选取：3~14</p> 
         <p align="left">B、优点：<br>融合了两种滤波法的优点<br>对于偶然出现的脉冲性干扰，可消除由于脉冲干扰所引起的采样值偏差</p> 
         <p align="left">C、缺点：<br>测量速度较慢，和算术平均滤波法一样<br>比较浪费RAM</p> 
         <p align="left">示例：<br><br>#define N 12<br>char filter()<br>{<!-- --><br>char count,i,j,temp;<br>char value_buf[N];<br>int sum=0;<br>for (count=0;count {<!-- --><br>value_buf[count] = get_ad();<br>delay();<br>}<br>for (j=0;j {<!-- --><br>for (i=0;i {<!-- --><br>if ( value_buf[i]&gt;value_buf[i+1] )<br>{<!-- --><br>temp = value_buf[i];<br>value_buf[i] = value_buf[i+1]; <br>value_buf[i+1] = temp;<br>}<br>}<br>}<br>for(count=1;count sum += value_buf[count];<br>return (char)(sum/(N-2));<br>}<br></p> 
        </blockquote> <p align="left">6、限幅平均滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>相当于“限幅滤波法”+“递推平均滤波法”<br>每次采样到的新数据先进行限幅处理，<br>再送入队列进行递推平均滤波处理</p> 
         <p align="left">B、优点：<br>融合了两种滤波法的优点<br>对于偶然出现的脉冲性干扰，可消除由于脉冲干扰所引起的采样值偏差</p> 
         <p align="left">C、缺点：<br>比较浪费RAM</p> 
         <p align="left"><br>略 参考子程序1、3<br><br><br></p> 
        </blockquote> <p align="left"><br>7、一阶滞后滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>取a=0~1<br>本次滤波结果=（1-a）*本次采样值+a*上次滤波结果</p> 
         <p align="left">B、优点：<br>对周期性干扰具有良好的抑制作用<br>适用于波动频率较高的场合</p> 
         <p align="left">C、缺点：<br>相位滞后，灵敏度低<br>滞后程度取决于a值大小<br>不能消除滤波频率高于采样频率的1/2的干扰信号</p> 
         <p align="left">示例：<br>/*为加快程序处理速度假定基数为100，a=0~100 */<br><br>#define a 50<br>char value;<br>char filter()<br>{<!-- --><br>char new_value;<br>new_value = get_ad();<br>return (100-a)*value + a*new_value; <br>}</p> 
        </blockquote> <p align="left"> </p> <p align="left">8、加权递推平均滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>是对递推平均滤波法的改进，即不同时刻的数据加以不同的权<br>通常是，越接近现时刻的数据，权取得越大。<br>给予新采样值的权系数越大，则灵敏度越高，但信号平滑度越低</p> 
         <p align="left">B、优点：<br>适用于有较大纯滞后时间常数的对象<br>和采样周期较短的系统</p> 
         <p align="left">C、缺点：<br>对于纯滞后时间常数较小，采样周期较长，变化缓慢的信号<br>不能迅速反应系统当前所受干扰的严重程度，滤波效果差</p> 
         <p align="left"><br>示例：<br>/*coe数组为加权系数表，存在程序存储区。*/<br><br>#define N 12<br>char coe[N] = {1,2,3,4,5,6,7,8,9,10,11,12};<br>char sum_coe = 1+2+3+4+5+6+7+8+9+10+11+12;<br>char filter()<br>{<!-- --><br>char count;<br>char value_buf[N];<br>int sum=0;<br>for (count=0;count {<!-- --><br>value_buf[count] = get_ad();<br>delay();<br>}<br>for (count=0;count sum += value_buf[count]*coe[count];<br>return (char)(sum/sum_coe);<br>}</p> 
        </blockquote> <p align="left"><br>9、消抖滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>设置一个滤波计数器<br>将每次采样值与当前有效值比较：<br>如果采样值＝当前有效值，则计数器清零<br>如果采样值&lt;&gt;当前有效值，则计数器+1，并判断计数器是否&gt;=上限N(溢出)<br>如果计数器溢出,则将本次值替换当前有效值,并清计数器</p> 
         <p align="left">B、优点：<br>对于变化缓慢的被测参数有较好的滤波效果,<br>可避免在临界值附近控制器的反复开/关跳动或显示器上数值抖动</p> 
         <p align="left">C、缺点：<br>对于快速变化的参数不宜<br>如果在计数器溢出的那一次采样到的值恰好是干扰值,则会将干扰值当作有效值导<br>入系统</p> 
         <p align="left">示例：<br><br>char value;<br>#define N 12<br>char filter()<br>{<!-- --><br>char count=0;<br>char new_value;<br>new_value = get_ad();<br>while (value !=new_value);<br>{<!-- --><br>count++;<br>if (count&gt;=N) return new_value;<br>delay();<br>new_value = get_ad();<br>}<br>return value; <br>}</p> 
        </blockquote> <p align="left"><br>10、限幅消抖滤波法</p> 
        <blockquote> 
         <p align="left">A、方法：<br>相当于“限幅滤波法”+“消抖滤波法”<br>先限幅,后消抖</p> 
         <p align="left">B、优点：<br>继承了“限幅”和“消抖”的优点<br>改进了“消抖滤波法”中的某些缺陷,避免将干扰值导入系统</p> 
         <p align="left">C、缺点：<br>对于快速变化的参数不宜</p> 
         <p align="left">参考子程序1、9</p> 
        </blockquote></td></tr></tbody></table> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3913f3cf5c6292bb2488f14182bac055/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">用SQL语句向表格中插入数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bbcdfc5abfa4ec9565c0e5405e6fd8c1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java Web中的入侵检测及简单实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>