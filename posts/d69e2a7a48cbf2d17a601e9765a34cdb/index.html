<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>yocto项目简介，yocto配方文件(*.bb文件)编写格式，yocto项目添加自己的应用程序 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="yocto项目简介，yocto配方文件(*.bb文件)编写格式，yocto项目添加自己的应用程序" />
<meta property="og:description" content="yocto项目简介：
https://blog.csdn.net/qq_28992301/article/details/52872209?spm=1001.2014.3001.5501
http://www.fmddlmyy.cn/text43.html
yocto项目参考手册 (Yocto Project Reference Manual ），文章中有*.bb文件的所用到的名词/函数解析https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html
SUMMARY = &#34;test application&#34; SECTION = &#34;test&#34; LICENSE = &#34;MIT&#34; LIC_FILES_CHKSUM = &#34;file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302&#34; #file:// 表示在本地目录 SRC_URI = &#34;file://test.bin&#34; SRC_URI &#43;= &#34;file://test_log.conf&#34; RDEPENDS_${PN} = &#34; openssl &#34; INSANE_SKIP_${PN} &#43;= &#34;already-stripped&#34; #inhert 引用外部配方文件 inherit update-rc.d INITSCRIPT_PACKAGES = &#34;test&#34; INITSCRIPT_NAME_identify = &#34;test.sh&#34; INITSCRIPT_PARAMS_identify = &#34;start 60 S .&#34; #编译,这个任务的默认行为是，如果找到一个makefile (makefile, makefile或GNUmakefile)，就运行oe_runmake函数 do_compile() { cp ../test.bin	test.bin cp ../test_log.conf log.conf cp ../test.sh	test.sh } #打包到文件系统 do_install() { install -d ${D}${bindir} install -m 0755 test." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d69e2a7a48cbf2d17a601e9765a34cdb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-06T09:41:46+08:00" />
<meta property="article:modified_time" content="2021-09-06T09:41:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">yocto项目简介，yocto配方文件(*.bb文件)编写格式，yocto项目添加自己的应用程序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>yocto项目简介：<br> https://blog.csdn.net/qq_28992301/article/details/52872209?spm=1001.2014.3001.5501<br> http://www.fmddlmyy.cn/text43.html<br> yocto项目参考手册 (Yocto Project Reference Manual ），文章中有*.bb文件的所用到的名词/函数解析https://www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html</p> 
<pre><code class="prism language-c">SUMMARY <span class="token operator">=</span> <span class="token string">"test application"</span>
SECTION <span class="token operator">=</span> <span class="token string">"test"</span>
LICENSE <span class="token operator">=</span> <span class="token string">"MIT"</span>
LIC_FILES_CHKSUM <span class="token operator">=</span> <span class="token string">"file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302"</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">file</span><span class="token expression"><span class="token operator">:</span></span><span class="token comment">// 表示在本地目录</span></span>
SRC_URI <span class="token operator">=</span> <span class="token string">"file://test.bin"</span>
SRC_URI <span class="token operator">+=</span> <span class="token string">"file://test_log.conf"</span>

RDEPENDS_$<span class="token punctuation">{<!-- --></span>PN<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">" openssl "</span>

INSANE_SKIP_$<span class="token punctuation">{<!-- --></span>PN<span class="token punctuation">}</span> <span class="token operator">+=</span> <span class="token string">"already-stripped"</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">inhert</span> <span class="token expression">引用外部配方文件</span></span>
inherit update<span class="token operator">-</span>rc<span class="token punctuation">.</span>d
INITSCRIPT_PACKAGES <span class="token operator">=</span> <span class="token string">"test"</span>
INITSCRIPT_NAME_identify <span class="token operator">=</span> <span class="token string">"test.sh"</span>
INITSCRIPT_PARAMS_identify <span class="token operator">=</span> <span class="token string">"start 60 S ."</span>

#编译<span class="token punctuation">,</span>这个任务的默认行为是，如果找到一个<span class="token function">makefile</span> <span class="token punctuation">(</span>makefile<span class="token punctuation">,</span> makefile或GNUmakefile<span class="token punctuation">)</span>，就运行oe_runmake函数
<span class="token function">do_compile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	cp <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>test<span class="token punctuation">.</span>bin				test<span class="token punctuation">.</span>bin
	cp <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>test_log<span class="token punctuation">.</span>conf 		log<span class="token punctuation">.</span>conf
	cp <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>test<span class="token punctuation">.</span>sh				test<span class="token punctuation">.</span>sh
<span class="token punctuation">}</span>

#打包到文件系统
<span class="token function">do_install</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	install <span class="token operator">-</span>d $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>bindir<span class="token punctuation">}</span>
	install <span class="token operator">-</span>m <span class="token number">0755</span> test<span class="token punctuation">.</span>bin $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>bindir<span class="token punctuation">}</span>

	install <span class="token operator">-</span>d $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>init<span class="token punctuation">.</span>d
	install <span class="token operator">-</span>m <span class="token number">0755</span> test<span class="token punctuation">.</span>sh $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>init<span class="token punctuation">.</span>d

	install <span class="token operator">-</span>d $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>rcS<span class="token punctuation">.</span>d
	install <span class="token operator">-</span>m <span class="token number">0777</span> test<span class="token punctuation">.</span>sh $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>rcS<span class="token punctuation">.</span>d<span class="token operator">/</span>S61identify<span class="token punctuation">.</span>sh

	install <span class="token operator">-</span>d $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>test
	install <span class="token operator">-</span>m <span class="token number">0755</span> log<span class="token punctuation">.</span>conf $<span class="token punctuation">{<!-- --></span>D<span class="token punctuation">}</span>$<span class="token punctuation">{<!-- --></span>sysconfdir<span class="token punctuation">}</span><span class="token operator">/</span>test<span class="token operator">/</span>log<span class="token punctuation">.</span>conf
<span class="token punctuation">}</span>

</code></pre> 
<p>yocto官方层级包(layers)、配方(recipes *.bb文件)查询： https://layers.openembedded.org/layerindex/branch/krogoth/recipes/?q=libc</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/158a4cb9e6656de8ced462237253c50c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Vivado那些事儿】-VIO原理及应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/26d96759429b666872d3c40ee0e4eaa1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">模电笔记——电路分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>