<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数模3—Matlab线性规划、非线性规划、多目标规划（超全解法合集） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数模3—Matlab线性规划、非线性规划、多目标规划（超全解法合集）" />
<meta property="og:description" content="目录 一、线性规划🎐例题🎐线性规划适用的典型赛题🎐如何用Matlab求解线性规划🎐lingo求解线性规划 二、非线性规划🎐线性规划适用的典型赛题🎐lingo求解非线性规划🎐Matlab求解 三、多目标规划🎐多目标规划基础实例🎐多目标规划适用的典型赛题🎐基于NSGA-II算法的gamultiobj函数求解多目标优化 线性规划，非线性规划，多目标规划都归于优化类模型 一、线性规划 🎐例题 张麻子既要攻碉楼又要追替身，他们一伙6人，总共1200发子弹;每有一人攻碉楼会给百姓带来40点士气值，每有一人追替身会给百姓带来30点士气值;攻碉楼每人需240发子弹，追替身每人需120发。
问攻碉楼和追替身各派几个人，能使百姓的士气值最大?
解析为：
注意：
线性规划就是在一组线性约束条件下,求线性目标函数的最大或最小值
&#34;线性&#34;意味着所有变量都是一次方
🎐线性规划适用的典型赛题 题目中提到&#34;怎样安排/分配”&#34;尽量多(少)” “最多(少)” &#34;利润最大” “最合理” 等词;
生产安排：原材料、设备有限制，总利润最大
若生产两种机床，利润分别为XXX; A机器和B机器加工，有顺序要求，有不同损耗费用，不同的工作时间…;问题：怎样安排生产使得总利润最大?
投资收益:资产配置、组合投资、总收益最大（收益率、损失率可能不是线性了）
若总资金为M，有n种资产可以配置。每种资产的平均收益率…，风险损失率…，手续费…;
问题:设计组合投资方案，使得收益尽可能大(本质是多目标规划，可化简为一个目标的线性规划)
销售运输:产地、销地、产量、销量、运费，总运费最省
商品有m个产地和n个销地，需要从产地运到销地。各产地的产量…，各销地需求量…，由a产地运到b销地的运价xxx;问题:如何调运才能使总运费最省?
车辆安排:路线、起点终点、承载量、时间点、车次安排最合理（合理就是指最多/最少！）
不同种类的车辆有各自的承载量，工地各点之间要安排车辆运输。工地里有多条路线…满足用工需求的情况下…;问题:如何安排车辆能使产量尽可能大?
(注意:一般资料里所说的整数规划、0-1规划往往也默认为线性规划的特例)
🎐如何用Matlab求解线性规划 模型MATLAB求解: Linprog函数 注意：只能求最小值！
PS：matlab求线性规划要先把模型，弄出标准型。所以！线性规划嘛，都用lingo解。
求最大值：y的最大值等价于-y的最小值
x&gt;=b,也等价于-x&lt;=b
[x, fval] = linprog (f,A, b, Aeq, beq, Ib, ub)
f：目标函数的系数列向量
f = [-40; -30]
A:约束条件里的变量系数矩阵
b:约束条件里的常数量矩阵
Aeq：等式约束条件
beq：等式约束条件
lb：
ub： 已经在不等式约束里面写了就可以不写。
最后的到的x是一个矩阵。
✨若不存在不等式约束，用&#34;[]”代替A和b: [x, fval ] = linprog (f,[],[], Aeq, beq, lb, ub)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e496241df3bf189a2b98359a257174aa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-15T16:08:23+08:00" />
<meta property="article:modified_time" content="2022-09-15T16:08:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数模3—Matlab线性规划、非线性规划、多目标规划（超全解法合集）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">一、线性规划</a></li><li><ul><li><a href="#_3" rel="nofollow">🎐例题</a></li><li><a href="#_15" rel="nofollow">🎐线性规划适用的典型赛题</a></li><li><a href="#Matlab_33" rel="nofollow">🎐如何用Matlab求解线性规划</a></li><li><a href="#lingo_87" rel="nofollow">🎐lingo求解线性规划</a></li></ul> 
   </li><li><a href="#_99" rel="nofollow">二、非线性规划</a></li><li><ul><li><a href="#_104" rel="nofollow">🎐线性规划适用的典型赛题</a></li><li><a href="#lingo_120" rel="nofollow">🎐lingo求解非线性规划</a></li><li><a href="#Matlab_135" rel="nofollow">🎐Matlab求解</a></li></ul> 
   </li><li><a href="#_180" rel="nofollow">三、多目标规划</a></li><li><ul><li><a href="#_182" rel="nofollow">🎐多目标规划基础实例</a></li><li><a href="#_200" rel="nofollow">🎐多目标规划适用的典型赛题</a></li><li><a href="#NSGAIIgamultiobj_209" rel="nofollow">🎐基于NSGA-II算法的gamultiobj函数求解多目标优化</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<br> 线性规划，非线性规划，多目标规划都归于优化类模型 
<p></p> 
<h3><a id="_2"></a>一、线性规划</h3> 
<h4><a id="_3"></a>🎐例题</h4> 
<p>张麻子既要攻碉楼又要追替身，他们一伙6人，总共1200发子弹;每有一人攻碉楼会给百姓带来40点士气值，每有一人追替身会给百姓带来30点士气值;攻碉楼每人需240发子弹，追替身每人需120发。<br> 问攻碉楼和追替身各派几个人，能使百姓的士气值最大?</p> 
<p><img src="https://images2.imgbox.com/f0/24/advcPU0n_o.png" alt="在这里插入图片描述"><br> 解析为：<br> <img src="https://images2.imgbox.com/89/1d/P6eocws8_o.png" alt="在这里插入图片描述"><br> <mark>注意：</mark><br> 线性规划就是在一组线性约束条件下,求线性目标函数的最大或最小值<br> "线性"意味着所有变量都是一次方</p> 
<h4><a id="_15"></a>🎐线性规划适用的典型赛题</h4> 
<p><mark>题目中提到"怎样安排/分配”"尽量多(少)” “最多(少)” "利润最大” “最合理” 等词;</mark></p> 
<p><strong>生产安排</strong>：原材料、设备有限制，<strong>总利润最大</strong><br> 若生产两种机床，利润分别为XXX; A机器和B机器加工，有顺序要求，有不同损耗费用，不同的工作时间…;<strong>问题</strong>：怎样安排生产使得总利润最大?</p> 
<p><strong>投资收益</strong>:资产配置、组合投资、<strong>总收益最大</strong>（收益率、损失率可能不是线性了）<br> 若总资金为M，有n种资产可以配置。每种资产的平均收益率…，风险损失率…，手续费…;<br> <strong>问题</strong>:设计组合投资方案，使得收益尽可能大(本质是多目标规划，可化简为一个目标的线性规划)</p> 
<p><strong>销售运输</strong>:产地、销地、产量、销量、运费，<strong>总运费最省</strong><br> 商品有m个产地和n个销地，需要从产地运到销地。各产地的产量…，各销地需求量…，由a产地运到b销地的运价xxx;<strong>问题</strong>:如何调运才能使总运费最省?</p> 
<p><strong>车辆安排</strong>:路线、起点终点、承载量、时间点、<strong>车次安排最合理</strong>（合理就是指最多/最少！）<br> 不同种类的车辆有各自的承载量，工地各点之间要安排车辆运输。工地里有多条路线…满足用工需求的情况下…;<strong>问题</strong>:如何安排车辆能使产量尽可能大?</p> 
<p>(注意:一般资料里所说的整数规划、0-1规划往往也默认为线性规划的特例)</p> 
<h4><a id="Matlab_33"></a>🎐如何用Matlab求解线性规划</h4> 
<p><mark>模型MATLAB求解: Linprog函数</mark> 注意：只能求最小值！<br> PS：matlab求线性规划要先把模型，弄出标准型。所以！线性规划嘛，都用lingo解。<br> <img src="https://images2.imgbox.com/86/24/O8LqXcjK_o.png" alt="在这里插入图片描述"><br> 求最大值：y的最大值等价于-y的最小值<br> x&gt;=b,也等价于-x&lt;=b<br> [x, fval] = linprog (f,A, b, Aeq, beq, Ib, ub)<br> f：目标函数的系数列向量<br> f = [-40; -30]<br> A:约束条件里的变量系数矩阵<br> b:约束条件里的常数量矩阵<br> Aeq：等式约束条件<br> beq：等式约束条件<br> lb：<br> ub： 已经在不等式约束里面写了就可以不写。</p> 
<p><img src="https://images2.imgbox.com/fa/a6/WX1MrjYv_o.png" alt="在这里插入图片描述"><br> 最后的到的x是一个矩阵。</p> 
<hr> 
<p>✨若不存在不等式约束，用"[]”代替A和b: [x, fval ] = linprog (f,[],[], Aeq, beq, lb, ub)<br> ✨若不存在等式约束，用"[]”代替Aeq和beq: [x, fval ] = linprog Cf,A,b,[],[] ,lb,ub)<br> ✨没有等式约束和最小、最大取值的约束时，可以不写Aeq, beq和lb, ub: [x, fval ] = linprog (f,A,b)</p> 
<p>✨若题目求最大值:目标函数等号两端加符号转为求最小值;<strong>求解后目标值再取负</strong>！！千万别忘记</p> 
<p>代码：</p> 
<pre><code class="prism language-cpp">f <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">40</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">%</span>目标函数中变量的系数矩阵
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">%</span>小于等于的约束条
b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token number">1200</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">%</span>小于等于的约束条
<span class="token operator">%</span>标准形式<span class="token operator">:</span> <span class="token punctuation">[</span>x，fval <span class="token punctuation">]</span><span class="token operator">=</span> <span class="token function">linprog</span> <span class="token punctuation">(</span>f<span class="token punctuation">,</span>A<span class="token punctuation">,</span>b<span class="token punctuation">,</span> aeq<span class="token punctuation">,</span> beq<span class="token punctuation">,</span><span class="token number">1</span>b
<span class="token operator">%</span>从某个变量开始后面都没有<span class="token operator">?</span>全都不写
<span class="token operator">%</span>没有等式约束条件、但有上下界约束时，用<span class="token punctuation">[</span><span class="token punctuation">]</span>在函数里占
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">linprog</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>
y<span class="token operator">=</span><span class="token operator">-</span>y
<span class="token operator">%</span> <span class="token function">zeros</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> n<span class="token punctuation">)</span>是元素全为<span class="token number">0</span>的m行n列的矩阵
</code></pre> 
<p>结果：</p> 
<pre><code>x =
    4.0000
    2.0000
y =
  -220
y =
   220
</code></pre> 
<p>结论，4个人攻碉楼，2个人追替身的情况下，百姓的士气最大，最大值为220。</p> 
<h4><a id="lingo_87"></a>🎐lingo求解线性规划</h4> 
<p>直接把建模的式子，搬过来。注意！乘号一定要打出来。<br> 分号也一定要一个式子一个</p> 
<pre><code class="prism language-python"><span class="token builtin">max</span> <span class="token operator">=</span> <span class="token number">40</span><span class="token operator">*</span>x1 <span class="token operator">+</span> <span class="token number">30</span><span class="token operator">*</span>x2<span class="token punctuation">;</span>
x1 <span class="token operator">+</span> x2 <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span>
x1 <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>
x2 <span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">240</span><span class="token operator">*</span>x1 <span class="token operator">+</span> <span class="token number">120</span><span class="token operator">*</span>x2 <span class="token operator">&lt;=</span><span class="token number">1200</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果如图：<br> <img src="https://images2.imgbox.com/21/81/FwpBTDIh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_99"></a>二、非线性规划</h3> 
<p>和线性规划一样都是求最大的收益</p> 
<blockquote> 
 <p>线性规划:所有变量都是一次方<br> 非线性规划:至少一个变量不是一次方</p> 
</blockquote> 
<h4><a id="_104"></a>🎐线性规划适用的典型赛题</h4> 
<p><mark>题目中提到"怎样安排/分配”"尽量多(少)” “最多(少)” "利润最大” “最合理” 等词;但变量非一次方</mark></p> 
<p><strong>生产安排</strong>:原材料、设备有限制，<strong>总利润最大</strong>(目标函数或约束条件非线性)<br> 生产两种机床，利润分别为XXX, A机器和B机器加工，两种机器工作时间…;成本或利润与某变量的关系是非线性的，例如A机器每小时生产费用是f= 50x + 0.2x2 (元)，求安排生产使得总利润最大</p> 
<p><strong>投资规划</strong>:资产配置、收益率、损失率、组合投资、<strong>总收益率最大\最佳投资方案</strong><br> 总资金为M，有n种资产可以配置，平均收益率…，风险损失率…，手续费…，设计组合投资方案使得收益尽可能大，总体风险尽可能小</p> 
<p><img src="https://images2.imgbox.com/8d/1b/d3vPC8m6_o.png" alt="在这里插入图片描述"></p> 
<p><strong>角度调整</strong>:飞行管理避免相撞; 影院最佳视角<br> 飞机位置，速度，进入区域后判定是否相撞， 飞机飞行方向角调整的幅度尽量小<br> 电影院视角、仰角影响观影体验，什么位置观影最佳涉及三角函数，为非线性</p> 
<p><img src="https://images2.imgbox.com/4c/ec/h6IBXcVL_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="lingo_120"></a>🎐lingo求解非线性规划</h4> 
<p><img src="https://images2.imgbox.com/65/ec/0F5I9NQV_o.png" alt="在这里插入图片描述"></p> 
<p>lingo代码：</p> 
<pre><code class="prism language-python"><span class="token builtin">min</span> <span class="token operator">=</span> x1<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> x2<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> x3<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">;</span>
x1<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">-</span> x2 <span class="token operator">+</span> x3<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>
x1 <span class="token operator">+</span> x2<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> x3<span class="token operator">^</span><span class="token number">3</span> <span class="token operator">&lt;=</span><span class="token number">20</span><span class="token punctuation">;</span>
<span class="token operator">-</span>x1 <span class="token operator">-</span> x2<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
x2 <span class="token operator">+</span> <span class="token number">2</span><span class="token operator">*</span>x3<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
x1<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>x2<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>x3<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/c0/22/mTZU234g_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Matlab_135"></a>🎐Matlab求解</h4> 
<p>注意：即是初始值不一样，反正都是遍历迭代查找，所以最终结果都是一样的。<br> <mark>[x, fval] = fmincon( fun,x0, A, b, Aeq, beq, lb, ub, nonlcon)</mark></p> 
<ul><li>fun 单独脚本文件里定义的目标函数</li><li>x0 决策变量的初始值(不影响最终结果)</li><li>A, b 线性约束的不等式变量系数矩阵和常数项矩阵(&lt;=或&lt;)</li><li>Aeq, beq 线性约束的等式变量系数矩阵和常数项矩阵</li><li>lb, ub 决策变量的最小取值和最大取值</li><li>nonlcon 非线性约束，包括不等式和等式</li></ul> 
<p>fun1 目标函数</p> 
<pre><code class="prism language-r"><span class="token keyword">function</span> f <span class="token operator">=</span> fun1<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
f <span class="token operator">=</span> sum<span class="token punctuation">(</span>x.<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">;</span>
%目标函数
</code></pre> 
<p>非线性约束条件</p> 
<pre><code class="prism language-r"><span class="token keyword">function</span> <span class="token punctuation">[</span>g<span class="token punctuation">,</span>h<span class="token punctuation">]</span><span class="token operator">=</span>fun2<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span>
x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">3</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">]</span>    %g非线性不等式

h<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span>
x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span>       %h是非线性等式
</code></pre> 
<p>这个例子没有线性约束条件</p> 
<p>求解代码：</p> 
<pre><code class="prism language-r"><span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> fmincon<span class="token punctuation">(</span><span class="token string">'fun1'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'fun2'</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果：</p> 
<pre><code>x =
    0.5522
    1.2033
    0.9478
y =
   10.6511
</code></pre> 
<p>注意： 那些系数，都是列变量哦！并且：<br> <img src="https://images2.imgbox.com/d3/d2/pFufmgbe_o.png" alt="在这里插入图片描述"><br> lingo和Matlab次方都是一样的表示。但是在变量表示上Matlab略胜一筹啦~~因为Matlab的向量的表示十分丝滑，矩阵运算十分完善。</p> 
<h3><a id="_180"></a>三、多目标规划</h3> 
<p><mark>本质:既要XXX，又要XXX</mark></p> 
<h4><a id="_182"></a>🎐多目标规划基础实例</h4> 
<p><img src="https://images2.imgbox.com/cf/2f/JbXsHu9e_o.png" alt="在这里插入图片描述"><br> 模型解析：<br> 多目标:现在设有3个目标:<br> ●1.尽量使产品I的产量不超过产品II的产量;<br> ●2.尽可能充分利用设备，但不希望加班<br> ●3.尽可能使利润不少于56万<br> <img src="https://images2.imgbox.com/4e/c5/CzX6Tt8H_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/47/ea/c2S4yUSb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ab/19/tgJyXmcb_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/3c/ae/GvWVJzjJ_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c7/04/SmXvl6mV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d5/d0/39ve7258_o.png" alt="在这里插入图片描述"><br> 上面这张图的第三个写错了，应该是P3d3-<br> 查文献或者自己主观设优先因子，说是查了文献的<br> <img src="https://images2.imgbox.com/f0/d0/4J0nxvTG_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_200"></a>🎐多目标规划适用的典型赛题</h4> 
<p><img src="https://images2.imgbox.com/ed/cf/4dCrjt4f_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e5/05/fysY9W9k_o.png" alt="在这里插入图片描述"><br> 这个类型建模比较重要。求解可以用Matlab，也可以用lingo。求解办法和上面的线性规划和非线性规划类似。<a href="https://shenlong.blog.csdn.net/article/details/110501496" rel="nofollow">https://shenlong.blog.csdn.net/article/details/110501496</a><br> <mark>建议使用数学规划法，求出具体答案！</mark></p> 
<p>也可以！！ 直接用Matlab的遗传算法求解：参考下面这篇文章<br> <a href="https://zstar.blog.csdn.net/article/details/119302954" rel="nofollow">https://zstar.blog.csdn.net/article/details/119302954</a></p> 
<h4><a id="NSGAIIgamultiobj_209"></a>🎐基于NSGA-II算法的gamultiobj函数求解多目标优化</h4> 
<p><strong>1.多目标规划的问题描述</strong>：<br> <img src="https://images2.imgbox.com/ad/cb/E39BSWMp_o.png" alt="在这里插入图片描述"><br> <strong>2.求解方法</strong><br> Matlab中提供函数gamultiobj采用的算法就是基于NSGA-II改进的一种多目标优化算法（a variant of NSGA-II）,接下来对目标规划中的一些概念进行介绍。</p> 
<p>目前求解多目标优化问题方法算法主要有<mark>基于数学的规划方法</mark>和<mark>基于遗传算法</mark>的两类方法；其中<strong>带精英策略的快速非支配排序算法</strong>（NSGA-II)是影响最大和应用范围最广的一种多目标遗传算法。算法主要优点：</p> 
<blockquote> 
 <p>1.提出了快速非支配的排序算法，降低了计算非支配序的复杂度。<br> 2.引入了精英策略，扩大了采样空间。将父代种群与其产生的子代种群组合在一起，共同通过竞争来产生下一代种群，这有利于是父代中的优良个体得以保持，保证那些优良的个体在进化过程中不被丢弃，从而提高优化结果的准确度。并且通过对种群所有个体分层存放，使得最佳个体不会丢失，能够迅速提高种群水平。<br> 3.引入拥挤度和拥挤度比较算子，这不但克服了NSGA算法中需要人为指定共享参数的缺陷，而且将拥挤度作为种群中个体之间的比较准则，使得准Pareto域中的种群个体能均匀扩展到整个Pareto域，从而保证了种群的多样性。</p> 
</blockquote> 
<p><strong>3.求解案例</strong><br> <mark>求解的通用形式式</mark><br> <img src="https://images2.imgbox.com/0f/f9/DAlTxGFn_o.png" alt="在这里插入图片描述"></p> 
<p><strong>例1</strong><img src="https://images2.imgbox.com/b9/62/0Z7LN8Bz_o.png" alt="在这里插入图片描述"><br> <mark>使用gamultiobj求解,主要分为两部分：</mark><br> Fun.m文件</p> 
<pre><code class="prism language-r"><span class="token percent-operator operator">%%</span>定义求解函数文件
<span class="token keyword">function</span> y<span class="token operator">=</span>Fun<span class="token punctuation">(</span>x<span class="token punctuation">)</span> 
y<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">;</span> 
y<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">-</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

</code></pre> 
<p>main.m文件</p> 
<pre><code class="prism language-c"><span class="token operator">%</span><span class="token operator">%</span>求解文件
clear<span class="token punctuation">;</span>clc<span class="token punctuation">;</span>

fitnessfcn<span class="token operator">=</span>@Fun<span class="token punctuation">;</span><span class="token operator">%</span>适应度函数句柄
 nvars<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">%</span>变量个数
 lb<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">%</span>下限
 ub<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">%</span>上限
 A<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>b<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">%</span>线性不等式约束
 Aeq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>beq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">%</span>线性等式约束
 
options<span class="token operator">=</span><span class="token function">gaoptimset</span><span class="token punctuation">(</span><span class="token char">'paretoFraction'</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token char">'populationsize'</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token char">'generations'</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token char">'stallGenLimit'</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token char">'TolFun'</span><span class="token punctuation">,</span><span class="token number">1e-10</span><span class="token punctuation">,</span><span class="token char">'PlotFcns'</span><span class="token punctuation">,</span>@gaplotpareto<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token operator">%</span> 最优个体系数paretoFraction为<span class="token number">0.3</span><span class="token punctuation">;</span>
<span class="token operator">%</span>种群大小populationsize为<span class="token number">100</span>，
<span class="token operator">%</span>最大进化代数generations为<span class="token number">200</span>，
<span class="token operator">%</span> 停止代数stallGenLimit为<span class="token number">200</span>，
<span class="token operator">%</span>适应度函数偏差TolFun设为<span class="token number">1e-10</span>，
<span class="token operator">%</span>函数gaplotpareto：绘制Pareto前沿
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>fval<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">gamultiobj</span><span class="token punctuation">(</span>fitnessfcn<span class="token punctuation">,</span>nvars<span class="token punctuation">,</span>A<span class="token punctuation">,</span>b<span class="token punctuation">,</span>Aeq<span class="token punctuation">,</span>beq<span class="token punctuation">,</span>lb<span class="token punctuation">,</span>ub<span class="token punctuation">,</span>options<span class="token punctuation">)</span>
</code></pre> 
<p>句柄的概念：<a href="https://blog.csdn.net/xiaofeiyu321/article/details/89791451">https://blog.csdn.net/xiaofeiyu321/article/details/89791451</a><br> 求解结果：<br> <img src="https://images2.imgbox.com/3e/37/YzwPBohC_o.png" alt="在这里插入图片描述"><br> 图像会实时记录解的情况。</p> 
<p><img src="https://images2.imgbox.com/8d/1a/tuhTHDee_o.png" alt="在这里插入图片描述"></p> 
<p>最后的求解结果，即帕累托最优解集储存在[x,fval]中，fval是x对应的目标函数值。fval大致构成了一条空间曲线——Pareto前沿。若各个解较为均匀分布，说明该图包含了大部分最优解情况，全局性优，适用性强。<br> 在满足Pareto最优的条件下，是没有办法在不让某一优化目标受损的情况下，令另一方目标获得更优的。所以这些解均为最优，对最优解的具体选择可以根据实际情况。</p> 
<p>更多求解案例，可参考：</p> 
<p><a href="https://zstar.blog.csdn.net/article/details/119302954" rel="nofollow">https://zstar.blog.csdn.net/article/details/119302954</a></p> 
<p>如果是求最大，可参考这个的第一个例子;<br> <a href="https://blog.csdn.net/weixin_47102975/article/details/108253584">https://blog.csdn.net/weixin_47102975/article/details/108253584</a></p> 
<p>这两个和主函数放在一个文件，在主函数的前面</p> 
<pre><code class="prism language-r"><span class="token percent-operator operator">%%</span> 模型设置
% 适应度函数的函数句柄
fitnessfcn<span class="token operator">=</span><span class="token operator">@</span>Fun<span class="token punctuation">;</span>
% 变量个数
nvars<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
% 约束条件形式<span class="token number">1</span>：下限与上限（若无取空数组<span class="token punctuation">[</span><span class="token punctuation">]</span>）
% lb<span class="token operator">&lt;=</span> X <span class="token operator">&lt;=</span> ub
lb<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
ub<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

% 约束条件形式<span class="token number">2</span>：线性不等式约束（若无取空数组<span class="token punctuation">[</span><span class="token punctuation">]</span>）
% A<span class="token operator">*</span>X <span class="token operator">&lt;=</span> b 
A <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span>    <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span>
    <span class="token operator">-</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">3</span>  <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
     <span class="token number">0</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span>
     <span class="token number">0</span>    <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">48</span> <span class="token punctuation">;</span> <span class="token number">30</span> <span class="token punctuation">;</span> <span class="token number">30</span> <span class="token punctuation">;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

% 约束条件形式<span class="token number">3</span>：线性等式约束（若无取空数组<span class="token punctuation">[</span><span class="token punctuation">]</span>）
% Aeq<span class="token operator">*</span>X <span class="token operator">==</span> beq
Aeq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
beq<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>求解器设置部分：</p> 
<pre><code class="prism language-r"><span class="token percent-operator operator">%%</span> 求解器设置
% 最优个体系数paretoFraction
% 种群大小populationsize
% 最大进化代数generations
% 停止代数stallGenLimit
% 适应度函数偏差TolFun
% 函数gaplotpareto：绘制Pareto前沿 
options<span class="token operator">=</span>gaoptimset<span class="token punctuation">(</span><span class="token string">'paretoFraction'</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token string">'populationsize'</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">'generations'</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token string">'stallGenLimit'</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">'TolFun'</span><span class="token punctuation">,</span><span class="token number">1e-10</span><span class="token punctuation">,</span><span class="token string">'PlotFcns'</span><span class="token punctuation">,</span><span class="token operator">@</span>gaplotpareto<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>gamultiobj求解与结果输出部分：<mark>逆向重点！！</mark></p> 
<pre><code class="prism language-r"><span class="token percent-operator operator">%%</span> 主求解
<span class="token punctuation">[</span>x<span class="token punctuation">,</span>fval<span class="token punctuation">]</span><span class="token operator">=</span>gamultiobj<span class="token punctuation">(</span>fitnessfcn<span class="token punctuation">,</span>nvars<span class="token punctuation">,</span>A<span class="token punctuation">,</span>b<span class="token punctuation">,</span>Aeq<span class="token punctuation">,</span>beq<span class="token punctuation">,</span>lb<span class="token punctuation">,</span>ub<span class="token punctuation">,</span>options<span class="token punctuation">)</span>
<span class="token percent-operator operator">%%</span> 结果提取
% 因为gamultiobj是以目标函数分量取极小值为目标，
% 因此在y<span class="token operator">=</span>Fun<span class="token punctuation">(</span>x<span class="token punctuation">)</span>里取相反数的目标函数再取相反数画出原始情况
plot<span class="token punctuation">(</span><span class="token operator">-</span>fval<span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fval<span class="token punctuation">(</span><span class="token operator">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'pr'</span><span class="token punctuation">)</span>
xlabel<span class="token punctuation">(</span><span class="token string">'f_1(x)'</span><span class="token punctuation">)</span>
ylabel<span class="token punctuation">(</span><span class="token string">'f_2(x)'</span><span class="token punctuation">)</span>
title<span class="token punctuation">(</span><span class="token string">'Pareto front'</span><span class="token punctuation">)</span>
grid on
</code></pre> 
<p>目标函数: (这一段需放在脚本最后或单独放在一个文件里)</p> 
<pre><code class="prism language-r"><span class="token keyword">function</span> y<span class="token operator">=</span>Fun<span class="token punctuation">(</span>x<span class="token punctuation">)</span>
	% y是目标函数向量。有几个目标函数y就有多少个维度（数组y的长度）
	% 因为gamultiobj是以目标函数分量取极小值为目标，
	% 因此有些取极大值的目标函数注意取相反数
	y<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">-</span><span class="token punctuation">(</span>x<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span><span class="token operator">/</span><span class="token number">3</span> <span class="token operator">+</span> x<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">90</span><span class="token operator">/</span><span class="token number">3</span>  <span class="token operator">+</span> x<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">80</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">70</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	y<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">=</span>x<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">+</span>x<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
end
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/de62b49ee24459e64ef5546c34facf26/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">88：第七章：开发前台首页、作家个人展示页、粉丝等功能：9：【前台，作家中心，分页查看粉丝列表，接口】；（注意点：简单的条件查询，不一定非得使用tkmybatis的Example的；）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/962d8c3d42b0c7598f908f342be61f0f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue3简单的前端权限路由实现（通过前端鉴权&#43;侧边栏过滤）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>