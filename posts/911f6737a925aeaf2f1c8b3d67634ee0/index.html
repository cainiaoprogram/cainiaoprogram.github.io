<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c&#43;&#43;标准库vector文件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c&#43;&#43;标准库vector文件" />
<meta property="og:description" content="// vector standard header // Copyright (c) Microsoft Corporation. // SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception #pragma once #ifndef _VECTOR_ #define _VECTOR_ #include &lt;yvals_core.h&gt; #if _STL_COMPILER_PREPROCESSOR #include &lt;xmemory&gt; #if _HAS_CXX17 #include &lt;xpolymorphic_allocator.h&gt; #endif // _HAS_CXX17 #pragma pack(push, _CRT_PACKING) #pragma warning(push, _STL_WARNING_LEVEL) #pragma warning(disable : _STL_DISABLED_WARNINGS) _STL_DISABLE_CLANG_WARNINGS #pragma push_macro(&#34;new&#34;) #undef new _STD_BEGIN // CLASS TEMPLATE _Vector_const_iterator template &lt;class _Myvec&gt; class _Vector_const_iterator : public _Iterator_base { public: #ifdef __cpp_lib_concepts using iterator_concept = contiguous_iterator_tag; #endif // __cpp_lib_concepts using iterator_category = random_access_iterator_tag; using value_type = typename _Myvec::value_type; using difference_type = typename _Myvec::difference_type; using pointer = typename _Myvec::const_pointer; using reference = const value_type&amp;; using _Tptr = typename _Myvec::pointer; _Vector_const_iterator() noexcept : _Ptr() {} _Vector_const_iterator(_Tptr _Parg, const _Container_base* _Pvector) noexcept : _Ptr(_Parg) { this-&gt;_Adopt(_Pvector); } _NODISCARD reference operator*() const { #if _ITERATOR_DEBUG_LEVEL !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/911f6737a925aeaf2f1c8b3d67634ee0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-05T12:04:30+08:00" />
<meta property="article:modified_time" content="2020-02-05T12:04:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c&#43;&#43;标准库vector文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre><code class="prism language-cpp"><span class="token comment">// vector standard header</span>

<span class="token comment">// Copyright (c) Microsoft Corporation.</span>
<span class="token comment">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> once</span>
<span class="token macro property">#<span class="token directive keyword">ifndef</span> _VECTOR_</span>
<span class="token macro property">#<span class="token directive keyword">define</span> _VECTOR_</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;yvals_core.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _STL_COMPILER_PREPROCESSOR</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;xmemory&gt;</span></span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;xpolymorphic_allocator.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>

<span class="token macro property">#<span class="token directive keyword">pragma</span> pack(push, _CRT_PACKING)</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> warning(push, _STL_WARNING_LEVEL)</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> warning(disable : _STL_DISABLED_WARNINGS)</span>
_STL_DISABLE_CLANG_WARNINGS
<span class="token macro property">#<span class="token directive keyword">pragma</span> push_macro("new")</span>
<span class="token macro property">#<span class="token directive keyword">undef</span> new</span>

_STD_BEGIN
<span class="token comment">// CLASS TEMPLATE _Vector_const_iterator</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vector_const_iterator</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Iterator_base <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cpp_lib_concepts</span>
    <span class="token keyword">using</span> iterator_concept <span class="token operator">=</span> contiguous_iterator_tag<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// __cpp_lib_concepts</span>
    <span class="token keyword">using</span> iterator_category <span class="token operator">=</span> random_access_iterator_tag<span class="token punctuation">;</span>
    <span class="token keyword">using</span> value_type        <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type   <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer           <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>const_pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference         <span class="token operator">=</span> <span class="token keyword">const</span> value_type<span class="token operator">&amp;</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Tptr <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>pointer<span class="token punctuation">;</span>

    <span class="token function">_Vector_const_iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token function">_Vector_const_iterator</span><span class="token punctuation">(</span>_Tptr _Parg<span class="token punctuation">,</span> <span class="token keyword">const</span> _Container_base<span class="token operator">*</span> _Pvector<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Ptr</span><span class="token punctuation">(</span>_Parg<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Adopt</span><span class="token punctuation">(</span>_Pvector<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't dereference value-initialized vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">&lt;=</span> _Ptr <span class="token operator">&amp;&amp;</span> _Ptr <span class="token operator">&lt;</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"can't dereference out of range vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span>_Ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD pointer <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't dereference value-initialized vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">&lt;=</span> _Ptr <span class="token operator">&amp;&amp;</span> _Ptr <span class="token operator">&lt;</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"can't dereference out of range vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> _Ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't increment value-initialized vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Ptr <span class="token operator">&lt;</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"can't increment vector iterator past end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token operator">++</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vector_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token operator">++</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't decrement value-initialized vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">&lt;</span> _Ptr<span class="token punctuation">,</span> <span class="token string">"can't decrement vector iterator before begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token operator">--</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vector_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token operator">--</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Verify_offset</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Off<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _ITERATOR_DEBUG_LEVEL == 0 ^^^ // vvv _ITERATOR_DEBUG_LEVEL != 0 vvv</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> _Ptr<span class="token punctuation">,</span> <span class="token string">"cannot seek value-initialized vector iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">&gt;=</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">-</span> _Ptr<span class="token punctuation">,</span> <span class="token string">"cannot seek vector iterator before begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">&lt;=</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast <span class="token operator">-</span> _Ptr<span class="token punctuation">,</span> <span class="token string">"cannot seek vector iterator after end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 0</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Verify_offset</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Ptr <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vector_const_iterator <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vector_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token operator">-</span>_Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vector_const_iterator <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vector_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">-</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD difference_type <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Ptr <span class="token operator">-</span> _Right<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">+</span> _Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Ptr <span class="token operator">==</span> _Right<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">==</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Ptr <span class="token operator">&lt;</span> _Right<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Right <span class="token operator">&lt;</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Right <span class="token operator">&lt;</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">&lt;</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Compat</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// test for compatible iterator pair</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Right<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _ITERATOR_DEBUG_LEVEL == 0 ^^^ // vvv _ITERATOR_DEBUG_LEVEL != 0 vvv</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"vector iterators incompatible"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 0</span>
    <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">_Verify_range</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _First<span class="token punctuation">,</span> <span class="token keyword">const</span> _Vector_const_iterator<span class="token operator">&amp;</span> _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_First<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Last<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"vector iterators in range are from different containers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_First<span class="token punctuation">.</span>_Ptr <span class="token operator">&lt;=</span> _Last<span class="token punctuation">.</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"vector iterator range transposed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

    <span class="token keyword">using</span> _Prevent_inheriting_unwrap <span class="token operator">=</span> _Vector_const_iterator<span class="token punctuation">;</span>

    _NODISCARD <span class="token keyword">const</span> value_type<span class="token operator">*</span> <span class="token function">_Unwrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Seek_to</span><span class="token punctuation">(</span><span class="token keyword">const</span> value_type<span class="token operator">*</span> _It<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Ptr <span class="token operator">=</span> _Refancy<span class="token operator">&lt;</span>_Tptr<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const_cast</span><span class="token operator">&lt;</span>value_type<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>_It<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Tptr _Ptr<span class="token punctuation">;</span> <span class="token comment">// pointer to element in vector</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
_NODISCARD _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>
    <span class="token keyword">typename</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type _Off<span class="token punctuation">,</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span> _Next<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Next <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX20</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> pointer_traits<span class="token operator">&lt;</span>_Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> pointer         <span class="token operator">=</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> element_type    <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token keyword">typename</span> pointer<span class="token operator">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> pointer<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>

    _NODISCARD <span class="token keyword">static</span> <span class="token keyword">constexpr</span> element_type<span class="token operator">*</span> <span class="token function">to_address</span><span class="token punctuation">(</span><span class="token keyword">const</span> pointer _Iter<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token comment">// A value-initialized iterator is in the domain of to_address. An invalidated end iterator for a vector with</span>
        <span class="token comment">// capacity() of 0 is not. This function cannot distinguish those two cases, so it incorrectly does not diagnose</span>
        <span class="token comment">// the latter. In practice, this isn't a significant problem since to_address returns nullptr for such an</span>
        <span class="token comment">// iterator.</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>_Iter<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Mycont<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">&lt;=</span> _Iter<span class="token punctuation">.</span>_Ptr <span class="token operator">&amp;&amp;</span> _Iter<span class="token punctuation">.</span>_Ptr <span class="token operator">&lt;=</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast<span class="token punctuation">,</span>
                <span class="token string">"can't convert out-of-range vector iterator to pointer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token operator">!</span>_Iter<span class="token punctuation">.</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't convert invalid vector iterator to pointer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> _STD <span class="token function">to_address</span><span class="token punctuation">(</span>_Iter<span class="token punctuation">.</span>_Ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX20</span>

<span class="token comment">// CLASS TEMPLATE _Vector_iterator</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vector_iterator</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Mybase <span class="token operator">=</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">ifdef</span> __cpp_lib_concepts</span>
    <span class="token keyword">using</span> iterator_concept <span class="token operator">=</span> contiguous_iterator_tag<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// __cpp_lib_concepts</span>
    <span class="token keyword">using</span> iterator_category <span class="token operator">=</span> random_access_iterator_tag<span class="token punctuation">;</span>
    <span class="token keyword">using</span> value_type        <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type   <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer           <span class="token operator">=</span> <span class="token keyword">typename</span> _Myvec<span class="token operator">::</span>pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference         <span class="token operator">=</span> value_type<span class="token operator">&amp;</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Mybase<span class="token operator">::</span>_Mybase<span class="token punctuation">;</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">const_cast</span><span class="token operator">&lt;</span>reference<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD pointer <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Const_cast</span><span class="token punctuation">(</span>_Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vector_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vector_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vector_iterator <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vector_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vector_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">using</span> _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">;</span>

    _NODISCARD _Vector_iterator <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vector_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">-</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">const_cast</span><span class="token operator">&lt;</span>reference<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">using</span> _Prevent_inheriting_unwrap <span class="token operator">=</span> _Vector_iterator<span class="token punctuation">;</span>

    _NODISCARD value_type<span class="token operator">*</span> <span class="token function">_Unwrapped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
_NODISCARD _Vector_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>
    <span class="token keyword">typename</span> _Vector_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type _Off<span class="token punctuation">,</span> _Vector_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span> _Next<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Next <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX20</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Myvec</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> pointer_traits<span class="token operator">&lt;</span>_Vector_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> pointer         <span class="token operator">=</span> _Vector_iterator<span class="token operator">&lt;</span>_Myvec<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> element_type    <span class="token operator">=</span> <span class="token keyword">typename</span> pointer<span class="token operator">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> pointer<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>

    _NODISCARD <span class="token keyword">static</span> <span class="token keyword">constexpr</span> element_type<span class="token operator">*</span> <span class="token function">to_address</span><span class="token punctuation">(</span><span class="token keyword">const</span> pointer _Iter<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token comment">// A value-initialized iterator is in the domain of to_address. An invalidated end iterator for a vector with</span>
        <span class="token comment">// capacity() of 0 is not. This function cannot distinguish those two cases, so it incorrectly does not diagnose</span>
        <span class="token comment">// the latter. In practice, this isn't a significant problem since to_address returns nullptr for such an</span>
        <span class="token comment">// iterator.</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Mycont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Myvec<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>_Iter<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Mycont<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirst <span class="token operator">&lt;=</span> _Iter<span class="token punctuation">.</span>_Ptr <span class="token operator">&amp;&amp;</span> _Iter<span class="token punctuation">.</span>_Ptr <span class="token operator">&lt;=</span> _Mycont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mylast<span class="token punctuation">,</span>
                <span class="token string">"can't convert out-of-range vector iterator to pointer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token operator">!</span>_Iter<span class="token punctuation">.</span>_Ptr<span class="token punctuation">,</span> <span class="token string">"can't convert invalid vector iterator to pointer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> _STD <span class="token function">to_address</span><span class="token punctuation">(</span>_Iter<span class="token punctuation">.</span>_Ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX20</span>

<span class="token comment">// vector TYPE WRAPPERS</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Value_type</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Size_type</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Difference_type</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Pointer</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Const_pointer</span><span class="token punctuation">,</span>
    <span class="token keyword">class</span> <span class="token class-name">_Reference</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Const_reference</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> _Vec_iter_types <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">using</span> value_type      <span class="token operator">=</span> _Value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> size_type       <span class="token operator">=</span> _Size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> _Difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer         <span class="token operator">=</span> _Pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_pointer   <span class="token operator">=</span> _Const_pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// STRUCT _Value_init_tag</span>
<span class="token keyword">struct</span> _Value_init_tag <span class="token punctuation">{<!-- --></span> <span class="token comment">// tag to request value-initialization</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CLASS TEMPLATE _Vector_val</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Val_types</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vector_val</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Container_base <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> value_type      <span class="token operator">=</span> <span class="token keyword">typename</span> _Val_types<span class="token operator">::</span>value_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> size_type       <span class="token operator">=</span> <span class="token keyword">typename</span> _Val_types<span class="token operator">::</span>size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Val_types<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer         <span class="token operator">=</span> <span class="token keyword">typename</span> _Val_types<span class="token operator">::</span>pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_pointer   <span class="token operator">=</span> <span class="token keyword">typename</span> _Val_types<span class="token operator">::</span>const_pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference       <span class="token operator">=</span> value_type<span class="token operator">&amp;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reference <span class="token operator">=</span> <span class="token keyword">const</span> value_type<span class="token operator">&amp;</span><span class="token punctuation">;</span>

    <span class="token function">_Vector_val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Myfirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mylast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Myend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Swap_val</span><span class="token punctuation">(</span>_Vector_val<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Swap_adl</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Swap_adl</span><span class="token punctuation">(</span>_Mylast<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span>_Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Swap_adl</span><span class="token punctuation">(</span>_Myend<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Take_contents</span><span class="token punctuation">(</span>_Vector_val<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Myfirst <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        _Mylast  <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        _Myend   <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

        _Right<span class="token punctuation">.</span>_Myfirst <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Right<span class="token punctuation">.</span>_Mylast  <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Right<span class="token punctuation">.</span>_Myend   <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    pointer _Myfirst<span class="token punctuation">;</span> <span class="token comment">// pointer to beginning of array</span>
    pointer _Mylast<span class="token punctuation">;</span> <span class="token comment">// pointer to current end of sequence</span>
    pointer _Myend<span class="token punctuation">;</span> <span class="token comment">// pointer to end of array</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// FUNCTION TEMPLATE _Unfancy_maybe_null</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ptrty</span><span class="token operator">&gt;</span>
<span class="token keyword">auto</span> <span class="token function">_Unfancy_maybe_null</span><span class="token punctuation">(</span>_Ptrty _Ptr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// converts from a (potentially null) fancy pointer to a plain pointer</span>
    <span class="token keyword">return</span> _Ptr <span class="token operator">?</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span><span class="token operator">*</span>_Ptr<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token operator">&gt;</span>
_Ty<span class="token operator">*</span> <span class="token function">_Unfancy_maybe_null</span><span class="token punctuation">(</span>_Ty<span class="token operator">*</span> _Ptr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// do nothing for plain pointers</span>
    <span class="token keyword">return</span> _Ptr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// CLASS TEMPLATE vector</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span> <span class="token operator">=</span> allocator<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">vector</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// varying size array of values</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token operator">&gt;</span>
    <span class="token keyword">friend</span> <span class="token keyword">class</span> <span class="token class-name">_Vb_val</span><span class="token punctuation">;</span>
    <span class="token keyword">friend</span> _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Alty        <span class="token operator">=</span> _Rebind_alloc_t<span class="token operator">&lt;</span>_Alloc<span class="token punctuation">,</span> _Ty<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alty_traits <span class="token operator">=</span> allocator_traits<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">static_assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_ENFORCE_MATCHING_ALLOCATORS <span class="token operator">||</span> is_same_v<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> <span class="token keyword">typename</span> _Alloc<span class="token operator">::</span>value_type<span class="token operator">&gt;</span><span class="token punctuation">,</span>
        <span class="token function">_MISMATCHED_ALLOCATOR_MESSAGE</span><span class="token punctuation">(</span><span class="token string">"vector&lt;T, Allocator&gt;"</span><span class="token punctuation">,</span> <span class="token string">"T"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> value_type      <span class="token operator">=</span> _Ty<span class="token punctuation">;</span>
    <span class="token keyword">using</span> allocator_type  <span class="token operator">=</span> _Alloc<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer         <span class="token operator">=</span> <span class="token keyword">typename</span> _Alty_traits<span class="token operator">::</span>pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_pointer   <span class="token operator">=</span> <span class="token keyword">typename</span> _Alty_traits<span class="token operator">::</span>const_pointer<span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference       <span class="token operator">=</span> _Ty<span class="token operator">&amp;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reference <span class="token operator">=</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> size_type       <span class="token operator">=</span> <span class="token keyword">typename</span> _Alty_traits<span class="token operator">::</span>size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Alty_traits<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Scary_val <span class="token operator">=</span> _Vector_val<span class="token operator">&lt;</span>conditional_t<span class="token operator">&lt;</span>_Is_simple_alloc_v<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">,</span> _Simple_types<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span><span class="token punctuation">,</span>
        _Vec_iter_types<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> size_type<span class="token punctuation">,</span> difference_type<span class="token punctuation">,</span> pointer<span class="token punctuation">,</span> const_pointer<span class="token punctuation">,</span> _Ty<span class="token operator">&amp;</span><span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> iterator               <span class="token operator">=</span> _Vector_iterator<span class="token operator">&lt;</span>_Scary_val<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_iterator         <span class="token operator">=</span> _Vector_const_iterator<span class="token operator">&lt;</span>_Scary_val<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> reverse_iterator       <span class="token operator">=</span> _STD reverse_iterator<span class="token operator">&lt;</span>iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reverse_iterator <span class="token operator">=</span> _STD reverse_iterator<span class="token operator">&lt;</span>const_iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_default_constructible_v<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_Zero_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">explicit</span> <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty2</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Construct_n_copies_of_ty</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty2<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data  <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _My_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Buy_nonzero</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">=</span> <span class="token function">_Ufill</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Guard<span class="token punctuation">.</span>_Target   <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">explicit</span> <span class="token function">vector</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Construct_n_copies_of_ty</span><span class="token punctuation">(</span>_Count<span class="token punctuation">,</span> _Value_init_tag<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Construct_n_copies_of_ty</span><span class="token punctuation">(</span>_Count<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Range_construct_or_tidy</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> input_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> _First <span class="token operator">!=</span> _Last<span class="token punctuation">;</span> <span class="token operator">++</span>_First<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">emplace_back</span><span class="token punctuation">(</span><span class="token operator">*</span>_First<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// performance note: emplace_back()'s strong guarantee is unnecessary here</span>
        <span class="token punctuation">}</span>

        _Guard<span class="token punctuation">.</span>_Target <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Range_construct_or_tidy</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> forward_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Count <span class="token operator">=</span> _Convert_size<span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token punctuation">(</span>_STD <span class="token function">distance</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Buy_nonzero</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
            _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">=</span> <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Guard<span class="token punctuation">.</span>_Target   <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    <span class="token function">vector</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Adl_verify_range</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Range_construct_or_tidy</span><span class="token punctuation">(</span><span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_First<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_Last<span class="token punctuation">)</span><span class="token punctuation">,</span> _Iter_cat_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span> _Ilist<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Range_construct_or_tidy</span><span class="token punctuation">(</span>_Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random_access_iterator_tag<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Alty_traits<span class="token operator">::</span><span class="token function">select_on_container_copy_construction</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy           <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data            <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Right_data   <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Rightfirst <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Rightlast  <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _My_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Rightfirst <span class="token operator">!=</span> _Rightlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Buy_raw</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Rightlast <span class="token operator">-</span> _Rightfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">=</span> <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_Rightfirst<span class="token punctuation">,</span> _Rightlast<span class="token punctuation">,</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Guard<span class="token punctuation">.</span>_Target   <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy           <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data            <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Right_data   <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Rightfirst <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Rightlast  <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _My_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Rightfirst <span class="token operator">!=</span> _Rightlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Buy_raw</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Rightlast <span class="token operator">-</span> _Rightfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
            _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">=</span> <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_Rightfirst<span class="token punctuation">,</span> _Rightlast<span class="token punctuation">,</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Guard<span class="token punctuation">.</span>_Target   <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token comment">// _Move_from is an ABI zombie name</span>
    <span class="token keyword">void</span> <span class="token function">_Move_construct</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> true_type<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// move from _Right, stealing its contents</span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Take_contents</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Move_construct</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> false_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// move from _Right, possibly moving its contents</span>
        <span class="token keyword">if</span>
            <span class="token function">_CONSTEXPR_IF</span><span class="token punctuation">(</span><span class="token operator">!</span>_Alty_traits<span class="token operator">::</span>is_always_equal<span class="token operator">::</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Right_data   <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
                    <span class="token keyword">const</span> pointer _Rightfirst <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
                    <span class="token keyword">const</span> pointer _Rightlast  <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_Rightfirst <span class="token operator">!=</span> _Rightlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        <span class="token function">_Buy_raw</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Rightlast <span class="token operator">-</span> _Rightfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        _Tidy_guard<span class="token operator">&lt;</span>vector<span class="token operator">&gt;</span> _Guard<span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
                        _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Rightfirst<span class="token punctuation">,</span> _Rightlast<span class="token punctuation">,</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        _Guard<span class="token punctuation">.</span>_Target   <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token function">_Move_construct</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> true_type<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">vector</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Move_construct</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> true_type<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>_Alty_traits<span class="token operator">::</span>is_always_equal<span class="token operator">::</span>value<span class="token punctuation">)</span> <span class="token comment">// strengthened</span>
        <span class="token operator">:</span> <span class="token function">_Mypair</span><span class="token punctuation">(</span><span class="token function">_One_then_variadic_args_t</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Container_proxy_ptr<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Move_construct</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> <span class="token keyword">typename</span> _Alty_traits<span class="token operator">::</span>is_always_equal<span class="token operator">::</span>type<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Proxy<span class="token punctuation">.</span><span class="token function">_Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _Equal_allocators<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Pocma</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Take_contents</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _Propagate_allocators<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* terminates */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// intentionally slams into noexcept on OOM, TRANSITION, VSO#466800</span>
            _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Reload_proxy</span><span class="token punctuation">(</span>
                <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span></span>

        <span class="token function">_Pocma</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Take_contents</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _No_propagate_allocators<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Move_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Equal_allocators<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Right_data    <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
            <span class="token keyword">const</span> pointer _First <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
            <span class="token keyword">const</span> pointer _Last  <span class="token operator">=</span> _Right_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Newsize  <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Last <span class="token operator">-</span> _First<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
            pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
            pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

            _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldcapacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_IF_CONSTEXPR</span>
            <span class="token keyword">if</span> <span class="token keyword">constexpr</span> <span class="token punctuation">(</span>conjunction_v<span class="token operator">&lt;</span>bool_constant<span class="token operator">&lt;</span>_Ptr_copy_cat<span class="token operator">&lt;</span>_Ty<span class="token operator">*</span><span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">::</span>_Trivially_copyable<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                              _Uses_default_construct<span class="token operator">&lt;</span>_Alty<span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token punctuation">,</span> _Ty<span class="token operator">&gt;</span><span class="token punctuation">,</span> _Uses_default_destroy<span class="token operator">&lt;</span>_Alty<span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                _Mylast <span class="token operator">=</span> _Refancy<span class="token operator">&lt;</span>pointer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Copy_memmove</span><span class="token punctuation">(</span><span class="token function">_Unfancy</span><span class="token punctuation">(</span>_First<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Last<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_IF_CONSTEXPR</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
                        <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        _Oldsize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    <span class="token keyword">const</span> pointer _Mid <span class="token operator">=</span> _First <span class="token operator">+</span> _Oldsize<span class="token punctuation">;</span>
                    <span class="token function">_Move_unchecked</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Mid<span class="token punctuation">,</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    _Mylast <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Mid<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">const</span> pointer _Newlast <span class="token operator">=</span> _Myfirst <span class="token operator">+</span> _Newsize<span class="token punctuation">;</span>
                    <span class="token function">_Move_unchecked</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    _Mylast <span class="token operator">=</span> _Newlast<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span><span class="token keyword">noexcept</span><span class="token punctuation">(</span><span class="token function">_Move_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Choose_pocma<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Move_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Choose_pocma<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Delete_plain_internal</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myproxy<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    <span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token punctuation">)</span> <span class="token function">_Emplace_back_with_unused_capacity</span><span class="token punctuation">(</span>_Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// insert by perfectly forwarding into element at end, provide strong guarantee</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span>_Mylast <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// check that we have unused capacity</span>
        _Alty_traits<span class="token operator">::</span><span class="token function">construct</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Mylast<span class="token punctuation">)</span><span class="token punctuation">,</span> _STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Mylast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Ty<span class="token operator">&amp;</span> _Result <span class="token operator">=</span> <span class="token operator">*</span>_Mylast<span class="token punctuation">;</span>
        <span class="token operator">++</span>_Mylast<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
        <span class="token keyword">return</span> _Result<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _HAS_CXX17 ^^^ // vvv !_HAS_CXX17 vvv</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Result<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    <span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token punctuation">)</span> <span class="token function">emplace_back</span><span class="token punctuation">(</span>_Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// insert by perfectly forwarding into element at end, provide strong guarantee</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Mylast <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> <span class="token function">_Emplace_back_with_unused_capacity</span><span class="token punctuation">(</span>_STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        _Ty<span class="token operator">&amp;</span> _Result <span class="token operator">=</span> <span class="token operator">*</span><span class="token function">_Emplace_reallocate</span><span class="token punctuation">(</span>_Mylast<span class="token punctuation">,</span> _STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
        <span class="token keyword">return</span> _Result<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _HAS_CXX17 ^^^ // vvv !_HAS_CXX17 vvv</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Result<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// insert element at end, provide strong guarantee</span>
        <span class="token function">emplace_back</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span>_Ty<span class="token operator">&amp;&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// insert by moving into element at end, provide strong guarantee</span>
        <span class="token function">emplace_back</span><span class="token punctuation">(</span>_STD <span class="token function">move</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    pointer <span class="token function">_Emplace_reallocate</span><span class="token punctuation">(</span><span class="token keyword">const</span> pointer _Whereptr<span class="token punctuation">,</span> _Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// reallocate and insert by perfectly forwarding _Val at _Whereptr</span>
        _Alty<span class="token operator">&amp;</span> _Al        <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span>_Mylast <span class="token operator">==</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// check that we have no unused capacity</span>

        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Whereoff <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize  <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Oldsize <span class="token operator">==</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> size_type _Newsize     <span class="token operator">=</span> _Oldsize <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> size_type _Newcapacity <span class="token operator">=</span> <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> pointer _Newvec           <span class="token operator">=</span> _Al<span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Constructed_last <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        pointer _Constructed_first      <span class="token operator">=</span> _Constructed_last<span class="token punctuation">;</span>

        _TRY_BEGIN
        _Alty_traits<span class="token operator">::</span><span class="token function">construct</span><span class="token punctuation">(</span>_Al<span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">)</span><span class="token punctuation">,</span> _STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Constructed_first <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Whereptr <span class="token operator">==</span> _Mylast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// at back, provide strong guarantee</span>
            <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide basic guarantee</span>
            <span class="token function">_Umove</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Constructed_first <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
            <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        _CATCH_ALL
        <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Constructed_first<span class="token punctuation">,</span> _Constructed_last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Al<span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _RERAISE<span class="token punctuation">;</span>
        _CATCH_END

        <span class="token function">_Change_array</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newsize<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    iterator <span class="token function">emplace</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// insert by perfectly forwarding _Val at _Where</span>
        <span class="token keyword">const</span> pointer _Whereptr <span class="token operator">=</span> _Where<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data          <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Oldlast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Where<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">&gt;=</span> _My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">&amp;&amp;</span> _Oldlast <span class="token operator">&gt;=</span> _Whereptr<span class="token punctuation">,</span>
            <span class="token string">"vector emplace iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Oldlast <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Whereptr <span class="token operator">==</span> _Oldlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// at back, provide strong guarantee</span>
                <span class="token function">_Emplace_back_with_unused_capacity</span><span class="token punctuation">(</span>_STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Alloc_temporary<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Obj</span><span class="token punctuation">(</span>_Al<span class="token punctuation">,</span> _STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// handle aliasing</span>
                <span class="token comment">// after constructing _Obj, provide basic guarantee</span>
                <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Alty_traits<span class="token operator">::</span><span class="token function">construct</span><span class="token punctuation">(</span>_Al<span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">)</span><span class="token punctuation">,</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token operator">++</span>_My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
                <span class="token function">_Move_backward_unchecked</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token operator">*</span>_Whereptr <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Obj<span class="token punctuation">.</span>_Storage<span class="token punctuation">.</span>_Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token function">_Make_iterator</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token function">_Make_iterator</span><span class="token punctuation">(</span><span class="token function">_Emplace_reallocate</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// insert _Val at _Where</span>
        <span class="token keyword">return</span> <span class="token function">emplace</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Ty<span class="token operator">&amp;&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// insert by moving _Val at _Where</span>
        <span class="token keyword">return</span> <span class="token function">emplace</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// insert _Count * _Val at _Where</span>
        <span class="token keyword">const</span> pointer _Whereptr <span class="token operator">=</span> _Where<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>

        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        <span class="token keyword">const</span> pointer _Oldfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Oldlast  <span class="token operator">=</span> _Mylast<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Where<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">&gt;=</span> _Oldfirst <span class="token operator">&amp;&amp;</span> _Oldlast <span class="token operator">&gt;=</span> _Whereptr<span class="token punctuation">,</span>
            <span class="token string">"vector insert iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Whereoff        <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Unused_capacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">bool</span> _One_at_back     <span class="token operator">=</span> _Count <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">==</span> _Oldlast<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nothing to do, avoid invalidating iterators</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&gt;</span> _Unused_capacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">const</span> size_type _Newsize     <span class="token operator">=</span> _Oldsize <span class="token operator">+</span> _Count<span class="token punctuation">;</span>
            <span class="token keyword">const</span> size_type _Newcapacity <span class="token operator">=</span> <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">const</span> pointer _Newvec           <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> pointer _Constructed_last <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> _Count<span class="token punctuation">;</span>
            pointer _Constructed_first      <span class="token operator">=</span> _Constructed_last<span class="token punctuation">;</span>

            _TRY_BEGIN
            <span class="token function">_Ufill</span><span class="token punctuation">(</span>_Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Constructed_first <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_One_at_back<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide strong guarantee</span>
                <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>_Oldfirst<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide basic guarantee</span>
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Oldfirst<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Constructed_first <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            _CATCH_ALL
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Constructed_first<span class="token punctuation">,</span> _Constructed_last<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _RERAISE<span class="token punctuation">;</span>
            _CATCH_END

            <span class="token function">_Change_array</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newsize<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_One_at_back<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide strong guarantee</span>
            <span class="token function">_Emplace_back_with_unused_capacity</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide basic guarantee</span>
            <span class="token keyword">const</span> _Alloc_temporary<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span> <span class="token function">_Tmp_storage</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// handle aliasing</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Tmp              <span class="token operator">=</span> _Tmp_storage<span class="token punctuation">.</span>_Storage<span class="token punctuation">.</span>_Value<span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Affected_elements <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&gt;</span> _Affected_elements<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// new stuff spills off end</span>
                _Mylast <span class="token operator">=</span> <span class="token function">_Ufill</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">,</span> _Count <span class="token operator">-</span> _Affected_elements<span class="token punctuation">,</span> _Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _STD <span class="token function">fill</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// new stuff can all be assigned</span>
                _Mylast <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Count<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Move_backward_unchecked</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast <span class="token operator">-</span> _Count<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _STD <span class="token function">fill</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">,</span> _Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token function">_Make_iterator_offset</span><span class="token punctuation">(</span>_Whereoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Insert_range</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> input_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// insert input range [_First, _Last) at _Where</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_First <span class="token operator">==</span> _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// nothing to do, avoid invalidating iterators</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data       <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst    <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast     <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Whereoff <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Where<span class="token punctuation">.</span>_Ptr <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize  <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// For one-at-back, provide strong guarantee.</span>
        <span class="token comment">// Otherwise, provide basic guarantee (despite N4659 26.3.11.5 [vector.modifiers]/1).</span>
        <span class="token comment">// Performance note: except for one-at-back, emplace_back()'s strong guarantee is unnecessary here.</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> _First <span class="token operator">!=</span> _Last<span class="token punctuation">;</span> <span class="token operator">++</span>_First<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">emplace_back</span><span class="token punctuation">(</span><span class="token operator">*</span>_First<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Myfirst <span class="token operator">+</span> _Whereoff<span class="token punctuation">,</span> _Myfirst <span class="token operator">+</span> _Oldsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

        _STD <span class="token function">rotate</span><span class="token punctuation">(</span>_Myfirst <span class="token operator">+</span> _Whereoff<span class="token punctuation">,</span> _Myfirst <span class="token operator">+</span> _Oldsize<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Insert_range</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> forward_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// insert forward range [_First, _Last) at _Where</span>
        <span class="token keyword">const</span> pointer _Whereptr <span class="token operator">=</span> _Where<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Count       <span class="token operator">=</span> _Convert_size<span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token punctuation">(</span>_STD <span class="token function">distance</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        <span class="token keyword">const</span> pointer _Oldfirst     <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Oldlast      <span class="token operator">=</span> _Mylast<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Unused_capacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// nothing to do, avoid invalidating iterators</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&gt;</span> _Unused_capacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">const</span> size_type _Newsize     <span class="token operator">=</span> _Oldsize <span class="token operator">+</span> _Count<span class="token punctuation">;</span>
            <span class="token keyword">const</span> size_type _Newcapacity <span class="token operator">=</span> <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">const</span> pointer _Newvec           <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Whereoff            <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> pointer _Constructed_last <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> _Count<span class="token punctuation">;</span>
            pointer _Constructed_first      <span class="token operator">=</span> _Constructed_last<span class="token punctuation">;</span>

            _TRY_BEGIN
            <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Constructed_first <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Whereoff<span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">==</span> _Oldlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// one at back, provide strong guarantee</span>
                <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>_Oldfirst<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// provide basic guarantee</span>
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Oldfirst<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Constructed_first <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Newvec <span class="token operator">+</span> _Whereoff <span class="token operator">+</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            _CATCH_ALL
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Constructed_first<span class="token punctuation">,</span> _Constructed_last<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _RERAISE<span class="token punctuation">;</span>
            _CATCH_END

            <span class="token function">_Change_array</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newsize<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// Attempt to provide the strong guarantee for EmplaceConstructible failure.</span>
                 <span class="token comment">// If we encounter copy/move construction/assignment failure, provide the basic guarantee.</span>
                 <span class="token comment">// (For one-at-back, this provides the strong guarantee.)</span>

            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Affected_elements <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">&lt;</span> _Affected_elements<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// some affected elements must be assigned</span>
                _Mylast <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Count<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Move_backward_unchecked</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast <span class="token operator">-</span> _Count<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>

                _TRY_BEGIN
                <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _CATCH_ALL
                <span class="token comment">// glue the broken pieces back together</span>

                _TRY_BEGIN
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">,</span> _Whereptr <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> _Count<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _CATCH_ALL
                <span class="token comment">// vaporize the detached piece</span>
                <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> _Whereptr<span class="token punctuation">;</span>
                _RERAISE<span class="token punctuation">;</span>
                _CATCH_END

                <span class="token function">_Move_unchecked</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">*</span> _Count<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> _Oldlast<span class="token punctuation">;</span>
                _RERAISE<span class="token punctuation">;</span>
                _CATCH_END
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// affected elements don't overlap before/after</span>
                <span class="token keyword">const</span> pointer _Relocated <span class="token operator">=</span> _Whereptr <span class="token operator">+</span> _Count<span class="token punctuation">;</span>
                _Mylast                  <span class="token operator">=</span> <span class="token function">_Umove</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">,</span> _Relocated<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>

                _TRY_BEGIN
                <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _CATCH_ALL
                <span class="token comment">// glue the broken pieces back together</span>

                _TRY_BEGIN
                <span class="token function">_Umove</span><span class="token punctuation">(</span>_Relocated<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _CATCH_ALL
                <span class="token comment">// vaporize the detached piece</span>
                <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Relocated<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> _Whereptr<span class="token punctuation">;</span>
                _RERAISE<span class="token punctuation">;</span>
                _CATCH_END

                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Relocated<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> _Oldlast<span class="token punctuation">;</span>
                _RERAISE<span class="token punctuation">;</span>
                _CATCH_END
            <span class="token punctuation">}</span>

            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> pointer _Whereptr <span class="token operator">=</span> _Where<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data          <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Oldfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Where<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">&gt;=</span> _Oldfirst <span class="token operator">&amp;&amp;</span> _My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">&gt;=</span> _Whereptr<span class="token punctuation">,</span>
            <span class="token string">"vector insert iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token function">_Adl_verify_range</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Whereoff <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Insert_range</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> <span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_First<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_Last<span class="token punctuation">)</span><span class="token punctuation">,</span> _Iter_cat_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">_Make_iterator_offset</span><span class="token punctuation">(</span>_Whereoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> initializer_list<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">insert</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// assign _Newsize * _Val</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldcapacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
                <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Oldsize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                _STD <span class="token function">fill</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            _Mylast <span class="token operator">=</span> <span class="token function">_Ufill</span><span class="token punctuation">(</span>_Mylast<span class="token punctuation">,</span> _Newsize <span class="token operator">-</span> _Oldsize<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> pointer _Newlast <span class="token operator">=</span> _Myfirst <span class="token operator">+</span> _Newsize<span class="token punctuation">;</span>
            _STD <span class="token function">fill</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Newlast<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mylast <span class="token operator">=</span> _Newlast<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Assign_range</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> input_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// assign input range [_First, _Last)</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        pointer _Next <span class="token operator">=</span> _Myfirst<span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> _First <span class="token operator">!=</span> _Last <span class="token operator">&amp;&amp;</span> _Next <span class="token operator">!=</span> _Mylast<span class="token punctuation">;</span> <span class="token operator">++</span>_First<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">++</span>_Next<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">*</span>_Next <span class="token operator">=</span> <span class="token operator">*</span>_First<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Code size optimization: we've exhausted only the source, only the dest, or both.</span>
        <span class="token comment">// If we've exhausted only the source: we Trim, then Append does nothing.</span>
        <span class="token comment">// If we've exhausted only the dest: Trim does nothing, then we Append.</span>
        <span class="token comment">// If we've exhausted both: Trim does nothing, then Append does nothing.</span>

        <span class="token comment">// Trim.</span>
        <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Next<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Mylast <span class="token operator">=</span> _Next<span class="token punctuation">;</span>

        <span class="token comment">// Append.</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> _First <span class="token operator">!=</span> _Last<span class="token punctuation">;</span> <span class="token operator">++</span>_First<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">emplace_back</span><span class="token punctuation">(</span><span class="token operator">*</span>_First<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// performance note: emplace_back()'s strong guarantee is unnecessary here</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Assign_range</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> forward_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// assign forward range [_First, _Last)</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Newsize <span class="token operator">=</span> _Convert_size<span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token punctuation">(</span>_STD <span class="token function">distance</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data      <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast    <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend     <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_IF_CONSTEXPR</span>
        <span class="token keyword">if</span> <span class="token keyword">constexpr</span> <span class="token punctuation">(</span>conjunction_v<span class="token operator">&lt;</span>bool_constant<span class="token operator">&lt;</span>_Ptr_copy_cat<span class="token operator">&lt;</span>_Iter<span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">::</span>_Trivially_copyable<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                          _Uses_default_construct<span class="token operator">&lt;</span>_Alty<span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token operator">*</span>_First<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
                          _Uses_default_destroy<span class="token operator">&lt;</span>_Alty<span class="token punctuation">,</span> _Ty<span class="token operator">*</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldcapacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            _Mylast <span class="token operator">=</span> _Refancy<span class="token operator">&lt;</span>pointer<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Copy_memmove</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_IF_CONSTEXPR</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldcapacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
                    <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    _Oldsize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// performance note: traversing [_First, _Mid) twice</span>
                <span class="token keyword">const</span> _Iter _Mid <span class="token operator">=</span> _STD <span class="token function">next</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldsize<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Copy_unchecked</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Mid<span class="token punctuation">,</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_Mid<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">const</span> pointer _Newlast <span class="token operator">=</span> _Myfirst <span class="token operator">+</span> _Newsize<span class="token punctuation">;</span>
                <span class="token function">_Copy_unchecked</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
                _Mylast <span class="token operator">=</span> _Newlast<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Adl_verify_range</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Assign_range</span><span class="token punctuation">(</span><span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_First<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_Last<span class="token punctuation">)</span><span class="token punctuation">,</span> _Iter_cat_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Assign_range</span><span class="token punctuation">(</span>_Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random_access_iterator_tag<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">_Copy_assign</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> false_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Pocca</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Right_data <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token function">assign</span><span class="token punctuation">(</span>_Right_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">,</span> _Right_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Copy_assign</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> true_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Reload_proxy</span><span class="token punctuation">(</span>
                <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alty<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">_Copy_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> false_type<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Copy_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Choose_pocca<span class="token operator">&lt;</span>_Alty<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Assign_range</span><span class="token punctuation">(</span>_Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> random_access_iterator_tag<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty2</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Resize_reallocate</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty2<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize          <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> size_type _Newcapacity <span class="token operator">=</span> <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> pointer _Newvec         <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Appended_first <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Oldsize<span class="token punctuation">;</span>
        pointer _Appended_last        <span class="token operator">=</span> _Appended_first<span class="token punctuation">;</span>

        _TRY_BEGIN
        _Appended_last <span class="token operator">=</span> <span class="token function">_Ufill</span><span class="token punctuation">(</span>_Appended_first<span class="token punctuation">,</span> _Newsize <span class="token operator">-</span> _Oldsize<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _CATCH_ALL
        <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Appended_first<span class="token punctuation">,</span> _Appended_last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _RERAISE<span class="token punctuation">;</span>
        _CATCH_END

        <span class="token function">_Change_array</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newsize<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty2</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Resize</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty2<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// trim or append elements, provide strong guarantee</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data      <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast    <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&lt;</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// trim</span>
            <span class="token keyword">const</span> pointer _Newlast <span class="token operator">=</span> _Myfirst <span class="token operator">+</span> _Newsize<span class="token punctuation">;</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mylast <span class="token operator">=</span> _Newlast<span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// append</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Oldcapacity <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> _Oldcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reallocate</span>
                <span class="token function">_Resize_reallocate</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">const</span> pointer _Oldlast <span class="token operator">=</span> _Mylast<span class="token punctuation">;</span>
            _Mylast                <span class="token operator">=</span> <span class="token function">_Ufill</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">,</span> _Newsize <span class="token operator">-</span> _Oldsize<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Oldlast<span class="token punctuation">,</span> _Oldlast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// if _Newsize == _Oldsize, do nothing; avoid invalidating iterators</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">resize</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// trim or append value-initialized elements, provide strong guarantee</span>
        <span class="token function">_Resize</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">,</span> _Value_init_tag<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">resize</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// trim or append copies of _Val, provide strong guarantee</span>
        <span class="token function">_Resize</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">_Reallocate_exactly</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// set capacity to _Newcapacity (without geometric growth), provide strong guarantee</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Size <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> pointer _Newvec <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>

        _TRY_BEGIN
        <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Newvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _CATCH_ALL
        <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _RERAISE<span class="token punctuation">;</span>
        _CATCH_END

        <span class="token function">_Change_array</span><span class="token punctuation">(</span>_Newvec<span class="token punctuation">,</span> _Size<span class="token punctuation">,</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Clear_and_reserve_geometric</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0 &amp;&amp; defined(_ENABLE_STL_INTERNAL_CHECK)</span>
        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span>_Newsize <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">{<!-- --></span>
            _Lockit <span class="token function">_Lock</span><span class="token punctuation">(</span>_LOCK_DEBUG<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span><span class="token operator">!</span>_My_data<span class="token punctuation">.</span>_Myproxy<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirstiter<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// asserts that all iterators are orphaned</span>
        <span class="token punctuation">}</span> <span class="token comment">// unlock</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0 &amp;&amp; defined(_ENABLE_STL_INTERNAL_CHECK)</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> size_type _Newcapacity <span class="token operator">=</span> <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Myfirst<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// destroy and deallocate old array</span>
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            _Myfirst <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mylast  <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Myend   <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">_Buy_raw</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW <span class="token keyword">const</span> size_type _Newcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// increase capacity to _Newcapacity (without geometric growth), provide strong guarantee</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newcapacity <span class="token operator">&gt;</span> <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// something to do (reserve() never shrinks)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newcapacity <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token function">_Reallocate_exactly</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">shrink_to_fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reduce capacity to size, provide strong guarantee</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data         <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Oldlast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Oldlast <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// something to do</span>
            <span class="token keyword">const</span> pointer _Oldfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Oldfirst <span class="token operator">==</span> _Oldlast<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Reallocate_exactly</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Oldlast <span class="token operator">-</span> _Oldfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data   <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">!=</span> _Mylast<span class="token punctuation">,</span> <span class="token string">"vector empty before pop"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        _Alty_traits<span class="token operator">::</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">--</span>_Mylast<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">erase</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_move_assignable_v<span class="token operator">&lt;</span>value_type<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> pointer _Whereptr <span class="token operator">=</span> _Where<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data          <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast        <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Where<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Whereptr <span class="token operator">&gt;=</span> _My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">&amp;&amp;</span> _Mylast <span class="token operator">&gt;</span> _Whereptr<span class="token punctuation">,</span>
            <span class="token string">"vector erase iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token function">_Move_unchecked</span><span class="token punctuation">(</span>_Whereptr <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Whereptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Alty_traits<span class="token operator">::</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Unfancy</span><span class="token punctuation">(</span>_Mylast <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">--</span>_Mylast<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_Whereptr<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">erase</span><span class="token punctuation">(</span>const_iterator _First<span class="token punctuation">,</span> const_iterator _Last<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>
        is_nothrow_move_assignable_v<span class="token operator">&lt;</span>value_type<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> pointer _Firstptr <span class="token operator">=</span> _First<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">const</span> pointer _Lastptr  <span class="token operator">=</span> _Last<span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data          <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast        <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_First<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Last<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span>
                        <span class="token operator">&amp;&amp;</span> _Firstptr <span class="token operator">&gt;=</span> _My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">&amp;&amp;</span> _Lastptr <span class="token operator">&gt;=</span> _Firstptr <span class="token operator">&amp;&amp;</span> _Mylast <span class="token operator">&gt;=</span> _Lastptr<span class="token punctuation">,</span>
            <span class="token string">"vector erase iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Firstptr <span class="token operator">!=</span> _Lastptr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// something to do, invalidate iterators</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Firstptr<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> pointer _Newlast <span class="token operator">=</span> <span class="token function">_Move_unchecked</span><span class="token punctuation">(</span>_Lastptr<span class="token punctuation">,</span> _Mylast<span class="token punctuation">,</span> _Firstptr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Newlast<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Mylast <span class="token operator">=</span> _Newlast<span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_Firstptr<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// erase all</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Mylast <span class="token operator">=</span> _Myfirst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Pocs</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span><span class="token function">_Swap_val</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Ty<span class="token operator">*</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unfancy_maybe_null</span><span class="token punctuation">(</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">const</span> _Ty<span class="token operator">*</span> <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unfancy_maybe_null</span><span class="token punctuation">(</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">cbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">cend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">crbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">crend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    pointer <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    const_pointer <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    pointer <span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    const_pointer <span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">==</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Min_value</span><span class="token punctuation">(</span>
            <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Alty_traits<span class="token operator">::</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myend <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Ty<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Pos<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Pos <span class="token operator">&lt;</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"vector subscript out of range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">[</span>_Pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Pos<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>
            _Pos <span class="token operator">&lt;</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"vector subscript out of range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">[</span>_Pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Ty<span class="token operator">&amp;</span> <span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Pos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> _Pos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xrange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">[</span>_Pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> <span class="token function">at</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Pos<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Mylast <span class="token operator">-</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> _Pos<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xrange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">[</span>_Pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Ty<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"front() called on empty vector"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span>_My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"front() called on empty vector"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span>_My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Ty<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"back() called on empty vector"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">!=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">,</span> <span class="token string">"back() called on empty vector"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD allocator_type <span class="token function">get_allocator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>allocator_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token comment">// _Udefault is an ABI zombie name</span>

    pointer <span class="token function">_Ufill</span><span class="token punctuation">(</span>pointer _Dest<span class="token punctuation">,</span> <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Ty<span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// fill raw _Dest with _Count copies of _Val, using allocator</span>
        <span class="token keyword">return</span> <span class="token function">_Uninitialized_fill_n</span><span class="token punctuation">(</span>_Dest<span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> _Val<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    pointer <span class="token function">_Ufill</span><span class="token punctuation">(</span>pointer _Dest<span class="token punctuation">,</span> <span class="token keyword">const</span> size_type _Count<span class="token punctuation">,</span> _Value_init_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// fill raw _Dest with _Count value-initialized objects, using allocator</span>
        <span class="token keyword">return</span> <span class="token function">_Uninitialized_value_construct_n</span><span class="token punctuation">(</span>_Dest<span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    pointer <span class="token function">_Ucopy</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> pointer _Dest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// copy [_First, _Last) to raw _Dest, using allocator</span>
        <span class="token keyword">return</span> <span class="token function">_Uninitialized_copy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Dest<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    pointer <span class="token function">_Umove</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">,</span> pointer _Dest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// move [_First, _Last) to raw _Dest, using allocator</span>
        <span class="token keyword">return</span> <span class="token function">_Uninitialized_move</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Dest<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Umove_if_noexcept1</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">,</span> pointer _Dest<span class="token punctuation">,</span> true_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// move [_First, _Last) to raw _Dest, using allocator</span>
        <span class="token function">_Uninitialized_move</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Dest<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Umove_if_noexcept1</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">,</span> pointer _Dest<span class="token punctuation">,</span> false_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// copy [_First, _Last) to raw _Dest, using allocator</span>
        <span class="token function">_Uninitialized_copy</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Dest<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Umove_if_noexcept</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">,</span> pointer _Dest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// move_if_noexcept [_First, _Last) to raw _Dest, using allocator</span>
        <span class="token function">_Umove_if_noexcept1</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Dest<span class="token punctuation">,</span>
            bool_constant<span class="token operator">&lt;</span>disjunction_v<span class="token operator">&lt;</span>is_nothrow_move_constructible<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;</span><span class="token punctuation">,</span> negation<span class="token operator">&lt;</span>is_copy_constructible<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Destroy</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// destroy [_First, _Last) using allocator</span>
        <span class="token function">_Destroy_range</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    size_type <span class="token function">_Calculate_growth</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// given _Oldcapacity and _Newsize, calculate geometric growth</span>
        <span class="token keyword">const</span> size_type _Oldcapacity <span class="token operator">=</span> <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Oldcapacity <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> _Oldcapacity <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _Newsize<span class="token punctuation">;</span> <span class="token comment">// geometric growth would overflow</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> size_type _Geometric <span class="token operator">=</span> _Oldcapacity <span class="token operator">+</span> _Oldcapacity <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Geometric <span class="token operator">&lt;</span> _Newsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> _Newsize<span class="token punctuation">;</span> <span class="token comment">// geometric growth would be insufficient</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> _Geometric<span class="token punctuation">;</span> <span class="token comment">// geometric growth is sufficient</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// _Buy is an ABI zombie name</span>
    <span class="token keyword">void</span> <span class="token function">_Buy_raw</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// allocate array with _Newcapacity elements</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span><span class="token operator">!</span>_Myfirst <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>_Mylast <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>_Myend<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// check that *this is tidy</span>
        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;</span> _Newcapacity <span class="token operator">&amp;&amp;</span> _Newcapacity <span class="token operator">&lt;=</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Newvec <span class="token operator">=</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">allocate</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _Myfirst           <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
        _Mylast            <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
        _Myend             <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Newcapacity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Buy_nonzero</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Newcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// allocate array with _Newcapacity elements</span>
<span class="token macro property">#<span class="token directive keyword">ifdef</span> _ENABLE_STL_INTERNAL_CHECK</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>
        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span><span class="token operator">!</span>_Myfirst <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>_Mylast <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>_Myend<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// check that *this is tidy</span>
        <span class="token function">_STL_INTERNAL_CHECK</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;</span> _Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ENABLE_STL_INTERNAL_CHECK</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newcapacity <span class="token operator">&gt;</span> <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">_Buy_raw</span><span class="token punctuation">(</span>_Newcapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Change_array</span><span class="token punctuation">(</span><span class="token keyword">const</span> pointer _Newvec<span class="token punctuation">,</span> <span class="token keyword">const</span> size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">const</span> size_type _Newcapacity<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// orphan all iterators, discard old array, acquire new array</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Myfirst<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// destroy and deallocate old array</span>
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        _Myfirst <span class="token operator">=</span> _Newvec<span class="token punctuation">;</span>
        _Mylast  <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Newsize<span class="token punctuation">;</span>
        _Myend   <span class="token operator">=</span> _Newvec <span class="token operator">+</span> _Newcapacity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Tidy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// free all storage</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data    <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myfirst <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myfirst<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Mylast  <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Mylast<span class="token punctuation">;</span>
        pointer<span class="token operator">&amp;</span> _Myend   <span class="token operator">=</span> _My_data<span class="token punctuation">.</span>_Myend<span class="token punctuation">;</span>

        _My_data<span class="token punctuation">.</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Myfirst<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// destroy and deallocate old array</span>
            <span class="token function">_Destroy</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> _Mylast<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deallocate</span><span class="token punctuation">(</span>_Myfirst<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Myend <span class="token operator">-</span> _Myfirst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            _Myfirst <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Mylast  <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Myend   <span class="token operator">=</span> <span class="token function">pointer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span>noreturn<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">_Xlength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Xlength_error</span><span class="token punctuation">(</span><span class="token string">"vector too long"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span>noreturn<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">_Xrange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Xout_of_range</span><span class="token punctuation">(</span><span class="token string">"invalid vector subscript"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>pointer _First<span class="token punctuation">,</span> pointer _Last<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// orphan iterators within specified (inclusive) range</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        _Lockit <span class="token function">_Lock</span><span class="token punctuation">(</span>_LOCK_DEBUG<span class="token punctuation">)</span><span class="token punctuation">;</span>

        _Iterator_base12<span class="token operator">*</span><span class="token operator">*</span> _Pnext <span class="token operator">=</span> <span class="token operator">&amp;</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">.</span>_Myproxy<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirstiter<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Pnextptr <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>const_iterator<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token punctuation">.</span>_Ptr<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Pnextptr <span class="token operator">&lt;</span> _First <span class="token operator">||</span> _Last <span class="token operator">&lt;</span> _Pnextptr<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// skip the iterator</span>
                _Pnext <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mynextiter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// orphan the iterator</span>
                <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myproxy <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
                <span class="token operator">*</span>_Pnext             <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mynextiter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _ITERATOR_DEBUG_LEVEL == 2 ^^^ // vvv _ITERATOR_DEBUG_LEVEL != 2 vvv</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _First<span class="token punctuation">;</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Last<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
    <span class="token punctuation">}</span>

    _Alty<span class="token operator">&amp;</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span><span class="token function">_Get_first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> _Alty<span class="token operator">&amp;</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Mypair<span class="token punctuation">.</span><span class="token function">_Get_first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">_Make_iterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> pointer _Ptr<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">_Make_iterator_offset</span><span class="token punctuation">(</span><span class="token keyword">const</span> size_type _Offset<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// return the iterator begin() + _Offset without a debugging check</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;</span> _My_data <span class="token operator">=</span> _Mypair<span class="token punctuation">.</span>_Myval2<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">.</span>_Myfirst <span class="token operator">+</span> _Offset<span class="token punctuation">,</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_My_data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Compressed_pair<span class="token operator">&lt;</span>_Alty<span class="token punctuation">,</span> _Scary_val<span class="token operator">&gt;</span> _Mypair<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span> <span class="token operator">=</span> allocator<span class="token operator">&lt;</span>_Iter_value_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span>
    enable_if_t<span class="token operator">&lt;</span>conjunction_v<span class="token operator">&lt;</span>_Is_iterator<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">,</span> _Is_allocator<span class="token operator">&lt;</span>_Alloc<span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token operator">&gt;</span>
<span class="token function">vector</span><span class="token punctuation">(</span>_Iter<span class="token punctuation">,</span> _Iter<span class="token punctuation">,</span> _Alloc <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>vector<span class="token operator">&lt;</span>_Iter_value_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
<span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
    _Left<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Left<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
           <span class="token operator">&amp;&amp;</span> _STD <span class="token function">equal</span><span class="token punctuation">(</span>_Left<span class="token punctuation">.</span><span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Left<span class="token punctuation">.</span><span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Left <span class="token operator">==</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _STD <span class="token function">lexicographical_compare</span><span class="token punctuation">(</span>
        _Left<span class="token punctuation">.</span><span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Left<span class="token punctuation">.</span><span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Right <span class="token operator">&lt;</span> _Left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Right <span class="token operator">&lt;</span> _Left<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Left <span class="token operator">&lt;</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// CLASS TEMPLATE vector&lt;bool, Alloc&gt; AND FRIENDS</span>
<span class="token keyword">using</span> _Vbase         <span class="token operator">=</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">;</span> <span class="token comment">// word type for vector&lt;bool&gt; representation</span>
<span class="token keyword">constexpr</span> <span class="token keyword">int</span> _VBITS <span class="token operator">=</span> <span class="token number">8</span> <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>_Vbase<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// at least CHAR_BITS bits per word</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc0</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> _Wrap_alloc <span class="token punctuation">{<!-- --></span> <span class="token comment">// TRANSITION, ABI compat, preserves symbol names of vector&lt;bool&gt;::iterator</span>
    <span class="token keyword">using</span> _Alloc <span class="token operator">=</span> _Alloc0<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CLASS _Vb_iter_base</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vb_iter_base</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Iterator_base <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// store information common to reference and iterators</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Alvbase         <span class="token operator">=</span> <span class="token keyword">typename</span> _Alvbase_wrapped<span class="token operator">::</span>_Alloc<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Size_type       <span class="token operator">=</span> <span class="token keyword">typename</span> allocator_traits<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token operator">::</span>size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> allocator_traits<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Mycont          <span class="token operator">=</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Rebind_alloc_t<span class="token operator">&lt;</span>_Alvbase<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>

    <span class="token function">_Vb_iter_base</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token function">_Vb_iter_base</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vbase<span class="token operator">*</span> _Ptr<span class="token punctuation">,</span> _Size_type _Off<span class="token punctuation">,</span> <span class="token keyword">const</span> _Container_base<span class="token operator">*</span> _Mypvbool<span class="token punctuation">)</span> <span class="token keyword">noexcept</span>
        <span class="token operator">:</span> <span class="token function">_Myptr</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Myoff</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Adopt</span><span class="token punctuation">(</span>_Mypvbool<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Advance</span><span class="token punctuation">(</span>_Size_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Myoff <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
        _Myptr <span class="token operator">+</span><span class="token operator">=</span> _Myoff <span class="token operator">/</span> _VBITS<span class="token punctuation">;</span>
        _Myoff <span class="token operator">%</span><span class="token operator">=</span> _VBITS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
    _Difference_type <span class="token function">_Total_off</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span> _Cont<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_VBITS <span class="token operator">*</span> <span class="token punctuation">(</span>_Myptr <span class="token operator">-</span> _Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Myoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

    <span class="token keyword">const</span> _Vbase<span class="token operator">*</span> _Myptr <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
    _Size_type _Myoff    <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CLASS _Vb_reference</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vb_reference</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Vb_iter_base<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// reference to a bit within a base word</span>
    <span class="token keyword">using</span> _Mybase          <span class="token operator">=</span> _Vb_iter_base<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Mycont          <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Mycont<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Difference_type<span class="token punctuation">;</span>

    <span class="token comment">// TRANSITION, ABI: non-trivial constructor</span>
    <span class="token function">_Vb_reference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">_Vb_reference</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Mybase<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myptr<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span>_Myoff<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    _Vb_reference<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_reference<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_reference<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">bool</span> _Val<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">*</span><span class="token keyword">const_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Getptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">=</span> <span class="token function">_Mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">*</span><span class="token keyword">const_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Getptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span><span class="token operator">=</span> <span class="token operator">~</span><span class="token function">_Mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token operator">*</span><span class="token keyword">const_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token function">_Getptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span><span class="token operator">=</span> <span class="token function">_Mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">operator</span> <span class="token keyword">bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token function">_Getptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token function">_Mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> _Vbase<span class="token operator">*</span> <span class="token function">_Getptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot dereference value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"vector&lt;bool&gt; iterator not dereferencable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>_Vb_reference _Left<span class="token punctuation">,</span> _Vb_reference _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">bool</span> _Val <span class="token operator">=</span> _Left<span class="token punctuation">;</span> <span class="token comment">// NOT _STD swap</span>
        _Left     <span class="token operator">=</span> _Right<span class="token punctuation">;</span>
        _Right    <span class="token operator">=</span> _Val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">protected</span><span class="token operator">:</span>
    _Vbase <span class="token function">_Mask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CLASS _Vb_const_iterator</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vb_const_iterator</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Vb_iter_base<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Mybase <span class="token operator">=</span> _Vb_iter_base<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Mycont          <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Mycont<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Size_type       <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Reft            <span class="token operator">=</span> _Vb_reference<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reference  <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> iterator_category <span class="token operator">=</span> random_access_iterator_tag<span class="token punctuation">;</span>
    <span class="token keyword">using</span> value_type        <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type   <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer           <span class="token operator">=</span> const_reference<span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference         <span class="token operator">=</span> const_reference<span class="token punctuation">;</span>

    <span class="token function">_Vb_const_iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">;</span>

    <span class="token function">_Vb_const_iterator</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vbase<span class="token operator">*</span> _Ptr<span class="token punctuation">,</span> <span class="token keyword">const</span> _Container_base<span class="token operator">*</span> _Mypvbool<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Ptr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> _Mypvbool<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot dereference value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"vector&lt;bool&gt; iterator not dereferencable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> <span class="token function">_Reft</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vb_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token function">_Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vb_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token function">_Dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot seek value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Start_offset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token operator">-</span>_Start_offset <span class="token operator">&lt;=</span> _Off<span class="token punctuation">,</span> <span class="token string">"cannot seek vector&lt;bool&gt; iterator before begin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;</span> _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">&lt;=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">-</span> _Start_offset<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">"cannot seek vector&lt;bool&gt; iterator after end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">-</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// add negative increment</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff<span class="token punctuation">)</span> <span class="token operator">/</span> _VBITS<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">%</span><span class="token operator">=</span> _VBITS<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// add non-negative increment</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">+</span><span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">/</span> _VBITS<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">%</span><span class="token operator">=</span> _VBITS<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vb_const_iterator <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vb_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_const_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token operator">-</span>_Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vb_const_iterator <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vb_const_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">-</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD difference_type <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_VBITS <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">-</span> _Right<span class="token punctuation">.</span>_Myptr<span class="token punctuation">)</span><span class="token punctuation">)</span>
               <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">+</span> _Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">==</span> _Right<span class="token punctuation">.</span>_Myptr <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">==</span> _Right<span class="token punctuation">.</span>_Myoff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">==</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Compat</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">&lt;</span> _Right<span class="token punctuation">.</span>_Myptr <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr <span class="token operator">==</span> _Right<span class="token punctuation">.</span>_Myptr <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">&lt;</span> _Right<span class="token punctuation">.</span>_Myoff<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Right <span class="token operator">&lt;</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Right <span class="token operator">&lt;</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&gt;=</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">&lt;</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Compat</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// test for compatible iterator pair</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> _Right<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; iterators incompatible"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL</span>
    <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token keyword">using</span> _Prevent_inheriting_unwrap <span class="token operator">=</span> _Vb_const_iterator<span class="token punctuation">;</span>

    <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">_Verify_range</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _First<span class="token punctuation">,</span> <span class="token keyword">const</span> _Vb_const_iterator<span class="token operator">&amp;</span> _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// note _Compat check inside &lt;=</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_First <span class="token operator">&lt;=</span> _Last<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; iterator range transposed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

    <span class="token keyword">void</span> <span class="token function">_Dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// decrement bit position</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot decrement value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"cannot decrement vector&lt;bool&gt; begin iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">--</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// move to previous word</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">=</span> _VBITS <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
            <span class="token operator">--</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// increment bit position</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot increment value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"cannot increment vector&lt;bool&gt; end iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">&lt;</span> _VBITS <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token operator">++</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// move to next word</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myoff <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token operator">++</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myptr<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
_NODISCARD _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>
    <span class="token keyword">typename</span> _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type _Off<span class="token punctuation">,</span> _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Right <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// CLASS _Vb_iterator</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vb_iterator</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Mybase          <span class="token operator">=</span> _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Mycont          <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Mycont<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Difference_type<span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Reft           <span class="token operator">=</span> _Vb_reference<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reference <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> iterator_category <span class="token operator">=</span> random_access_iterator_tag<span class="token punctuation">;</span>
    <span class="token keyword">using</span> value_type        <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type   <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> pointer           <span class="token operator">=</span> _Reft<span class="token operator">*</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> reference         <span class="token operator">=</span> _Reft<span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Mybase<span class="token operator">::</span>_Mybase<span class="token punctuation">;</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Cont <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">const</span> _Mycont<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getcont</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">,</span> <span class="token string">"cannot dereference value-initialized vector&lt;bool&gt; iterator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Total_off</span><span class="token punctuation">(</span>_Cont<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Cont<span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"vector&lt;bool&gt; iterator not dereferencable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

        <span class="token keyword">return</span> <span class="token function">_Reft</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator <span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vb_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator <span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Vb_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD _Vb_iterator <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vb_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vb_iterator<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">-</span><span class="token operator">=</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">using</span> _Mybase<span class="token operator">::</span><span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">;</span>

    _NODISCARD _Vb_iterator <span class="token keyword">operator</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Vb_iterator _Tmp <span class="token operator">=</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Tmp <span class="token operator">-</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> difference_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span> <span class="token operator">+</span> _Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">using</span> _Prevent_inheriting_unwrap <span class="token operator">=</span> _Vb_iterator<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alvbase_wrapped</span><span class="token operator">&gt;</span>
_NODISCARD _Vb_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> <span class="token keyword">operator</span><span class="token operator">+</span><span class="token punctuation">(</span>
    <span class="token keyword">typename</span> _Vb_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type _Off<span class="token punctuation">,</span> _Vb_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Right <span class="token operator">+</span><span class="token operator">=</span> _Off<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// CLASS TEMPLATE _Vb_val</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">_Vb_val</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Container_base <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> _Alvbase         <span class="token operator">=</span> _Rebind_alloc_t<span class="token operator">&lt;</span>_Alloc<span class="token punctuation">,</span> _Vbase<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alvbase_traits  <span class="token operator">=</span> allocator_traits<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Vectype         <span class="token operator">=</span> vector<span class="token operator">&lt;</span>_Vbase<span class="token punctuation">,</span> _Alvbase<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alvbase_wrapped <span class="token operator">=</span> _Wrap_alloc<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> size_type        <span class="token operator">=</span> <span class="token keyword">typename</span> _Alvbase_traits<span class="token operator">::</span>size_type<span class="token punctuation">;</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_default_constructible_v<span class="token operator">&lt;</span>_Vectype<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_constructible_v<span class="token operator">&lt;</span>_Vectype<span class="token punctuation">,</span> _Alvbase<span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span>size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span><span class="token function">_Nw</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span>size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span><span class="token function">_Nw</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_val<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Vb_val<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span>_Vb_val<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_move_constructible_v<span class="token operator">&lt;</span>_Vectype<span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span>_STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span>_STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">,</span> size_type<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">_Vb_val</span><span class="token punctuation">(</span>_Vb_val<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_constructible_v<span class="token operator">&lt;</span>_Vectype<span class="token punctuation">,</span> _Vectype<span class="token punctuation">,</span> _Alvbase<span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Myvec</span><span class="token punctuation">(</span>_STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Mysize</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// we took _Right's buffer, so zero out size</span>
            _Right<span class="token punctuation">.</span>_Mysize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Alloc_proxy</span><span class="token punctuation">(</span><span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">_Vb_val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span><span class="token operator">&amp;&amp;</span> _Alproxy <span class="token operator">=</span> <span class="token function">_GET_PROXY_ALLOCATOR</span><span class="token punctuation">(</span>_Alvbase<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Delete_plain_internal</span><span class="token punctuation">(</span>_Alproxy<span class="token punctuation">,</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myproxy<span class="token punctuation">,</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token punctuation">}</span>

    _Alvbase<span class="token operator">&amp;</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Myvec<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> _Alvbase<span class="token operator">&amp;</span> <span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> _Myvec<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> size_type <span class="token function">_Nw</span><span class="token punctuation">(</span>size_type _Count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>_Count <span class="token operator">+</span> _VBITS <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> _VBITS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _Vectype _Myvec<span class="token punctuation">;</span> <span class="token comment">// base vector of words</span>
    size_type _Mysize<span class="token punctuation">;</span> <span class="token comment">// current length of sequence</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// CLASS vector&lt;bool&gt;</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">vector</span><span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token keyword">public</span> _Vb_val<span class="token operator">&lt;</span>_Alloc<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">static_assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_ENFORCE_MATCHING_ALLOCATORS <span class="token operator">||</span> is_same_v<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> <span class="token keyword">typename</span> _Alloc<span class="token operator">::</span>value_type<span class="token operator">&gt;</span><span class="token punctuation">,</span>
        <span class="token function">_MISMATCHED_ALLOCATOR_MESSAGE</span><span class="token punctuation">(</span><span class="token string">"vector&lt;bool, Allocator&gt;"</span><span class="token punctuation">,</span> <span class="token string">"bool"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Mybase          <span class="token operator">=</span> _Vb_val<span class="token operator">&lt;</span>_Alloc<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alvbase_wrapped <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Alvbase_wrapped<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alvbase         <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Alvbase<span class="token punctuation">;</span>
    <span class="token keyword">using</span> _Alvbase_traits  <span class="token operator">=</span> <span class="token keyword">typename</span> _Mybase<span class="token operator">::</span>_Alvbase_traits<span class="token punctuation">;</span>

    <span class="token keyword">using</span> size_type       <span class="token operator">=</span> <span class="token keyword">typename</span> _Alvbase_traits<span class="token operator">::</span>size_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> difference_type <span class="token operator">=</span> <span class="token keyword">typename</span> _Alvbase_traits<span class="token operator">::</span>difference_type<span class="token punctuation">;</span>
    <span class="token keyword">using</span> allocator_type  <span class="token operator">=</span> _Alloc<span class="token punctuation">;</span>

    <span class="token keyword">using</span> reference       <span class="token operator">=</span> _Vb_reference<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reference <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> value_type      <span class="token operator">=</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> _Reft          <span class="token operator">=</span> reference<span class="token punctuation">;</span>
    <span class="token keyword">using</span> iterator       <span class="token operator">=</span> _Vb_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_iterator <span class="token operator">=</span> _Vb_const_iterator<span class="token operator">&lt;</span>_Alvbase_wrapped<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token keyword">using</span> pointer                <span class="token operator">=</span> iterator<span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_pointer          <span class="token operator">=</span> const_iterator<span class="token punctuation">;</span>
    <span class="token keyword">using</span> reverse_iterator       <span class="token operator">=</span> _STD reverse_iterator<span class="token operator">&lt;</span>iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">using</span> const_reverse_iterator <span class="token operator">=</span> _STD reverse_iterator<span class="token operator">&lt;</span>const_iterator<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> _VBITS <span class="token operator">=</span> _STD _VBITS<span class="token punctuation">;</span>
    <span class="token keyword">enum</span> <span class="token punctuation">{<!-- --></span> _EEN_VBITS <span class="token operator">=</span> _VBITS <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// helper for expression evaluator</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_default_constructible_v<span class="token operator">&lt;</span>_Mybase<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">// strengthened</span>
        <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token keyword">explicit</span> <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_constructible_v<span class="token operator">&lt;</span>_Mybase<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">// strengthened</span>
        <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token keyword">explicit</span> <span class="token function">vector</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Count<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Trim</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Count<span class="token punctuation">,</span> _Val<span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Trim</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    <span class="token function">vector</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">_Alloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_BConstruct</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_BConstruct</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_move_constructible_v<span class="token operator">&lt;</span>_Mybase<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">// strengthened</span>
        <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_constructible_v<span class="token operator">&lt;</span>_Mybase<span class="token punctuation">,</span> _Mybase<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span>_STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span>
            <span class="token function">_CONSTEXPR_IF</span><span class="token punctuation">(</span><span class="token operator">!</span>_Alvbase_traits<span class="token operator">::</span>is_always_equal<span class="token operator">::</span>value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">return</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _Equal_allocators<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">,</span> size_type<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _Propagate_allocators<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">using</span> _Alproxy_type <span class="token operator">=</span> _Rebind_alloc_t<span class="token operator">&lt;</span>_Alvbase<span class="token punctuation">,</span> _Container_proxy<span class="token operator">&gt;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// reload proxy</span>
            <span class="token comment">// intentionally slams into noexcept on OOM, TRANSITION, VSO#466800</span>
            _Alproxy_type <span class="token function">_Oldal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Alproxy_type <span class="token function">_Right_proxy_al</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Container_proxy_ptr<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Right_proxy_al<span class="token punctuation">,</span> _Leave_proxy_unbound<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">,</span> size_type<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Proxy<span class="token punctuation">.</span><span class="token function">_Bind</span><span class="token punctuation">(</span>_Oldal<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">,</span> size_type<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Move_assign</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> _No_propagate_allocators<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// we took _Right's buffer, so zero out size</span>
            _Right<span class="token punctuation">.</span>_Mysize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">(</span>is_nothrow_move_assignable_v<span class="token operator">&lt;</span>_Mybase<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 0</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _STD <span class="token function">move</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _STD <span class="token function">exchange</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">,</span> size_type<span class="token punctuation">{<!-- --></span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _ITERATOR_DEBUG_LEVEL == 0 ^^^ // vvv _ITERATOR_DEBUG_LEVEL != 0 vvv</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Move_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Choose_pocma<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    <span class="token keyword">decltype</span><span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token punctuation">)</span> <span class="token function">emplace_back</span><span class="token punctuation">(</span>_Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">bool</span> <span class="token function">_Tmp</span><span class="token punctuation">(</span>_STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">push_back</span><span class="token punctuation">(</span>_Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
        <span class="token keyword">return</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Valty<span class="token operator">&gt;</span>
    iterator <span class="token function">emplace</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Valty<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">bool</span> <span class="token function">_Tmp</span><span class="token punctuation">(</span>_STD forward<span class="token operator">&lt;</span>_Valty<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">insert</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">vector</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> _Ilist<span class="token punctuation">,</span> <span class="token keyword">const</span> _Alloc<span class="token operator">&amp;</span> _Al <span class="token operator">=</span> <span class="token function">allocator_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">_Mybase</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> _Al<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">assign</span><span class="token punctuation">(</span>_Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>initializer_list<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">assign</span><span class="token punctuation">(</span>_Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> initializer_list<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> _Ilist<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">insert</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Ilist<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token operator">~</span><span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">private</span><span class="token operator">:</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL != 0</span>
    <span class="token keyword">void</span> <span class="token function">_Copy_assign</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> false_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">_Copy_assign</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">,</span> true_type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Copy_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> false_type<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// reload proxy</span>
            <span class="token keyword">using</span> _Alproxy_type <span class="token operator">=</span> _Rebind_alloc_t<span class="token operator">&lt;</span>_Alvbase<span class="token punctuation">,</span> _Container_proxy<span class="token operator">&gt;</span><span class="token punctuation">;</span>
            _Alproxy_type <span class="token function">_Oldal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Alproxy_type <span class="token function">_Right_proxy_al</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span><span class="token function">_Getal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            _Container_proxy_ptr<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span> <span class="token function">_Proxy</span><span class="token punctuation">(</span>_Right_proxy_al<span class="token punctuation">,</span> _Leave_proxy_unbound<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">;</span>
            _Proxy<span class="token punctuation">.</span><span class="token function">_Bind</span><span class="token punctuation">(</span>_Oldal<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL != 0</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    vector<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 0</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec  <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// ^^^ _ITERATOR_DEBUG_LEVEL == 0 ^^^ // vvv _ITERATOR_DEBUG_LEVEL != 0 vvv</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Copy_assign</span><span class="token punctuation">(</span>_Right<span class="token punctuation">,</span> _Choose_pocca<span class="token operator">&lt;</span>_Alvbase<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 0</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW size_type _Count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Nw</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> _VBITS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">cbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">cend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">crbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">crend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_iterator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD iterator <span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_iterator <span class="token function">_Unchecked_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Unchecked_begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">shrink_to_fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">shrink_to_fit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">_Make_iter</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        iterator _Tmp <span class="token operator">=</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            _Tmp <span class="token operator">+</span><span class="token operator">=</span> _Where <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> _Tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">reverse_iterator</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reverse_iterator <span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">const_reverse_iterator</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">resize</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW size_type _Newsize<span class="token punctuation">,</span> <span class="token keyword">bool</span> _Val <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> _Newsize<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Insert_n</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Newsize <span class="token operator">-</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_Newsize <span class="token operator">&lt;</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">erase</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD size_type <span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">constexpr</span> <span class="token keyword">auto</span> _Diff_max  <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>numeric_limits<span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token operator">::</span>max<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> size_type _Ints_max <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Ints_max <span class="token operator">&gt;</span> _Diff_max <span class="token operator">/</span> _VBITS<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// max_size bound by difference_type limits</span>
            <span class="token keyword">return</span> _Diff_max<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// max_size bound by underlying storage limits</span>
        <span class="token keyword">return</span> _Ints_max <span class="token operator">*</span> _VBITS<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD <span class="token keyword">bool</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD allocator_type <span class="token function">get_allocator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>allocator_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">get_allocator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token function">at</span><span class="token punctuation">(</span>size_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xran</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>_Off<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token function">at</span><span class="token punctuation">(</span>size_type _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xran</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span>_Off<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_type _Off<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; subscript out of range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        const_iterator _It <span class="token operator">=</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _It<span class="token punctuation">.</span><span class="token function">_Advance</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span>_It<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_type _Off<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; subscript out of range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        iterator _It <span class="token operator">=</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _It<span class="token punctuation">.</span><span class="token function">_Advance</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">*</span>_It<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"front() called on empty vector&lt;bool&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"front() called on empty vector&lt;bool&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD reference <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"back() called on empty vector&lt;bool&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    _NODISCARD const_reference <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
<span class="token macro property">#<span class="token directive keyword">if</span> _CONTAINER_DEBUG_LEVEL &gt; 0</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"back() called on empty vector&lt;bool&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _CONTAINER_DEBUG_LEVEL &gt; 0</span>

        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">erase</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>_Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">assign</span><span class="token punctuation">(</span>_CRT_GUARDOVERFLOW size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Insert_n</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Insert_n</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _CRT_GUARDOVERFLOW size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Insert_n</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Count<span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token operator">=</span> enable_if_t<span class="token operator">&lt;</span>_Is_iterator_v<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
    iterator <span class="token function">insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        difference_type _Off <span class="token operator">=</span> _Where <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Insert</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _First<span class="token punctuation">,</span> _Last<span class="token punctuation">,</span> _Iter_cat_t<span class="token operator">&lt;</span>_Iter<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> input_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        difference_type _Off <span class="token operator">=</span> _Where <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> _First <span class="token operator">!=</span> _Last<span class="token punctuation">;</span> <span class="token operator">++</span>_First<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">++</span>_Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Off<span class="token punctuation">,</span> <span class="token operator">*</span>_First<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Iter</span><span class="token operator">&gt;</span>
    <span class="token keyword">void</span> <span class="token function">_Insert</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> _Iter _First<span class="token punctuation">,</span> _Iter _Last<span class="token punctuation">,</span> forward_iterator_tag<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Adl_verify_range</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">auto</span> _Count    <span class="token operator">=</span> _Convert_size<span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_t<span class="token operator">&gt;</span><span class="token punctuation">(</span>_STD <span class="token function">distance</span><span class="token punctuation">(</span>_First<span class="token punctuation">,</span> _Last<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        size_type _Off <span class="token operator">=</span> <span class="token function">_Insert_x</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Copy_unchecked</span><span class="token punctuation">(</span><span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_First<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_Get_unwrapped</span><span class="token punctuation">(</span>_Last<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">erase</span><span class="token punctuation">(</span>const_iterator _Where_arg<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        iterator _Where      <span class="token operator">=</span> <span class="token function">_Make_iter</span><span class="token punctuation">(</span>_Where_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        difference_type _Off <span class="token operator">=</span> _Where <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> _Where<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; erase iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _STD <span class="token function">copy</span><span class="token punctuation">(</span>_Where <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Where<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">_Orphan_range</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
        _STD <span class="token function">copy</span><span class="token punctuation">(</span>_Where <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Where<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token function">_Trim</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    iterator <span class="token function">erase</span><span class="token punctuation">(</span>const_iterator _First_arg<span class="token punctuation">,</span> const_iterator _Last_arg<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        iterator _First      <span class="token operator">=</span> <span class="token function">_Make_iter</span><span class="token punctuation">(</span>_First_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        iterator _Last       <span class="token operator">=</span> <span class="token function">_Make_iter</span><span class="token punctuation">(</span>_Last_arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        difference_type _Off <span class="token operator">=</span> _First <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_First <span class="token operator">!=</span> _Last<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// worth doing, copy down over hole</span>
<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
            <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span>_Last <span class="token operator">&gt;=</span> _First <span class="token operator">&amp;&amp;</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> _Last<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; erase iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            iterator _Next      <span class="token operator">=</span> _STD <span class="token function">copy</span><span class="token punctuation">(</span>_Last<span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _First<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Newsize <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Next <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Trim</span><span class="token punctuation">(</span>_Newsize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
            iterator _Next <span class="token operator">=</span> _STD <span class="token function">copy</span><span class="token punctuation">(</span>_Last<span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _First<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">_Trim</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Next <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Orphan_all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">flip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// toggle all elements</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> _Elem <span class="token operator">:</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            _Elem <span class="token operator">=</span> <span class="token operator">~</span>_Elem<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">_Trim</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>vector<span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token comment">/* strengthened */</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">!=</span> _STD <span class="token function">addressof</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Swap_proxy_and_iterators</span><span class="token punctuation">(</span>_Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>_Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">)</span><span class="token punctuation">;</span>
            _STD <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">,</span> _Right<span class="token punctuation">.</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>reference _Left<span class="token punctuation">,</span> reference _Right<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">bool</span> _Val <span class="token operator">=</span> _Left<span class="token punctuation">;</span> <span class="token comment">// NOT _STD swap</span>
        _Left     <span class="token operator">=</span> _Right<span class="token punctuation">;</span>
        _Right    <span class="token operator">=</span> _Val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">friend</span> hash<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>

    iterator <span class="token function">_Insert_n</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> size_type _Count<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">bool</span><span class="token operator">&amp;</span> _Val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        size_type _Off     <span class="token operator">=</span> <span class="token function">_Insert_x</span><span class="token punctuation">(</span>_Where<span class="token punctuation">,</span> _Count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Result <span class="token operator">=</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
        _STD <span class="token function">fill</span><span class="token punctuation">(</span>_Result<span class="token punctuation">,</span> _Result <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Count<span class="token punctuation">)</span><span class="token punctuation">,</span> _Val<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> _Result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    size_type <span class="token function">_Insert_x</span><span class="token punctuation">(</span>const_iterator _Where<span class="token punctuation">,</span> size_type _Count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        difference_type _Off <span class="token operator">=</span> _Where <span class="token operator">-</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token function">_STL_VERIFY</span><span class="token punctuation">(</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> _Where<span class="token punctuation">,</span> <span class="token string">"vector&lt;bool&gt; insert iterator outside range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">bool</span> _Realloc <span class="token operator">=</span> <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> _Count<span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Count <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> _Count<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">_Xlen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result too long</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// worth doing</span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Nw</span><span class="token punctuation">(</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">+</span><span class="token operator">=</span> _Count<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// make room and copy down suffix</span>
                iterator _Oldend <span class="token operator">=</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">+</span><span class="token operator">=</span> _Count<span class="token punctuation">;</span>
                _STD <span class="token function">copy_backward</span><span class="token punctuation">(</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Off<span class="token punctuation">,</span> _Oldend<span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
            <span class="token function">_Orphan_range</span><span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Realloc <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> _Off<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Off<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _ITERATOR_DEBUG_LEVEL == 2</span>
    <span class="token keyword">void</span> <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>size_type _Offlo<span class="token punctuation">,</span> size_type _Offhi<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        _Lockit <span class="token function">_Lock</span><span class="token punctuation">(</span>_LOCK_DEBUG<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token keyword">auto</span> _Base <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        _Iterator_base12<span class="token operator">*</span><span class="token operator">*</span> _Pnext <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myproxy<span class="token operator">-</span><span class="token operator">&gt;</span>_Myfirstiter<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// test offset from beginning of vector</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> _Pnextiter <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>const_iterator<span class="token operator">&amp;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> <span class="token keyword">auto</span> _Off        <span class="token operator">=</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>size_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_VBITS <span class="token operator">*</span> <span class="token punctuation">(</span>_Pnextiter<span class="token punctuation">.</span>_Myptr <span class="token operator">-</span> _Base<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> _Pnextiter<span class="token punctuation">.</span>_Myoff<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>_Off <span class="token operator">&lt;</span> _Offlo <span class="token operator">||</span> _Offhi <span class="token operator">&lt;</span> _Off<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                _Pnext <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mynextiter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// orphan the iterator</span>
                <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myproxy <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>
                <span class="token operator">*</span>_Pnext             <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>_Pnext<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mynextiter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token macro property">#<span class="token directive keyword">else</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>
    <span class="token keyword">void</span> <span class="token function">_Orphan_range</span><span class="token punctuation">(</span>size_type<span class="token punctuation">,</span> size_type<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _ITERATOR_DEBUG_LEVEL == 2</span>

    <span class="token keyword">void</span> <span class="token function">_Trim</span><span class="token punctuation">(</span>size_type _Size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">max_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> _Size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">_Xlen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// result too long</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> size_type _Words <span class="token operator">=</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">_Nw</span><span class="token punctuation">(</span>_Size<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>_Words <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span>difference_type<span class="token operator">&gt;</span><span class="token punctuation">(</span>_Words<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Mysize <span class="token operator">=</span> _Size<span class="token punctuation">;</span>
        _Size <span class="token operator">%</span><span class="token operator">=</span> _VBITS<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">&lt;</span> _Size<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>_Myvec<span class="token punctuation">[</span>_Words <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">static_cast</span><span class="token operator">&lt;</span>_Vbase<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> _Size<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span>noreturn<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token function">_Xlen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Xlength_error</span><span class="token punctuation">(</span><span class="token string">"vector&lt;bool&gt; too long"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token punctuation">[</span>noreturn<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token keyword">void</span> <span class="token function">_Xran</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">_Xout_of_range</span><span class="token punctuation">(</span><span class="token string">"invalid vector&lt;bool&gt; subscript"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">==</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> _Left<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> _Right<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> _Left<span class="token punctuation">.</span>_Myvec <span class="token operator">==</span> _Right<span class="token punctuation">.</span>_Myvec<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
_NODISCARD <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Left<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Right<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>_Left <span class="token operator">==</span> _Right<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// STRUCT TEMPLATE SPECIALIZATION hash</span>
<span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Alloc</span><span class="token operator">&gt;</span>
<span class="token keyword">struct</span> hash<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;&gt;</span> <span class="token punctuation">{<!-- --></span>
    _CXX17_DEPRECATE_ADAPTOR_TYPEDEFS <span class="token keyword">typedef</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span> argument_type<span class="token punctuation">;</span>
    _CXX17_DEPRECATE_ADAPTOR_TYPEDEFS <span class="token keyword">typedef</span> size_t result_type<span class="token punctuation">;</span>

    _NODISCARD size_t <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token punctuation">,</span> _Alloc<span class="token operator">&gt;</span><span class="token operator">&amp;</span> _Keyval<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">_Hash_array_representation</span><span class="token punctuation">(</span>_Keyval<span class="token punctuation">.</span>_Myvec<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> _Keyval<span class="token punctuation">.</span>_Myvec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token macro property">#<span class="token directive keyword">if</span> _HAS_CXX17</span>
<span class="token keyword">namespace</span> pmr <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_Ty</span><span class="token operator">&gt;</span>
    <span class="token keyword">using</span> vector <span class="token operator">=</span> _STD vector<span class="token operator">&lt;</span>_Ty<span class="token punctuation">,</span> polymorphic_allocator<span class="token operator">&lt;</span>_Ty<span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// namespace pmr</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _HAS_CXX17</span>
_STD_END

<span class="token macro property">#<span class="token directive keyword">pragma</span> pop_macro("new")</span>
_STL_RESTORE_CLANG_WARNINGS
<span class="token macro property">#<span class="token directive keyword">pragma</span> warning(pop)</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> pack(pop)</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _STL_COMPILER_PREPROCESSOR</span>
<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// _VECTOR_</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1861a24d295624d112dc8dd687443678/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python之路 字典{ }</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/02145fc93d8675d67cacae30191c33ba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HTB-Obscurity writeup</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>