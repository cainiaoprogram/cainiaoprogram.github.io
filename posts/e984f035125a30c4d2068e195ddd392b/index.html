<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>zTree树插件实现点击左侧树，右侧展示文章列表页面实现思路 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="zTree树插件实现点击左侧树，右侧展示文章列表页面实现思路" />
<meta property="og:description" content="笔者新建了一个QQ群：571278542 。欢迎大家加入！
上一篇文章中说了zTree树插件编写过程。接来下，谈谈zTree树插件实现点击左侧树，右侧展示文章列表页面过程。
效果展示 2.这里就说说思路。
channel.jsp
&lt;div class=&#34;pos-a&#34; style=&#34;width:280px;left:0;top:0; bottom:0; height:100%; border-right:1px solid #e5e5e5; background-color:#f5f5f5&#34;&gt; &lt;ul id=&#34;channelTree&#34; class=&#34;ztree&#34;&gt; &lt;/ul&gt; &lt;/div&gt; &lt;iframe id=&#34;listChannel&#34; Name=&#34;listChannel&#34; frameborder=0 src=&#34;&#34; scrolling=auto width=100% height=900px &gt;&lt;/iframe&gt; 要想实现上面图片中的效果，就是建立2个jsp页面，channel.jsp和channelChild.jsp。
&lt;iframe id=&#34;listChannel&#34; Name=&#34;listChannel&#34; frameborder=0 src=&#34;&#34; scrolling=auto width=100% height=900px &gt;&lt;/iframe&gt; 就是上面channel.jsp中那段代码。点击左侧树，右侧切换靠的就是channelChild.jsp子页面。 那么怎么实现？原理就是点击左侧树的时候，传递url地址给iframe 中src即可(至于iframe 标签 的用法大家可以去查一下)。这样就要依赖jquery来实现了。 以下zTree.js插件中，我已经写上去了。大家可以参考来写。
/* 插件树：传入setting原型扩展方法 */ var zTreeObj = null;// (function($) { $.fn.mytree = function(opts) { var setting = $.extend({ view: { selectedMulti: false, dblClickExpand:true }, async: { enable: true, type:&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e984f035125a30c4d2068e195ddd392b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-11-11T12:29:47+08:00" />
<meta property="article:modified_time" content="2016-11-11T12:29:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">zTree树插件实现点击左侧树，右侧展示文章列表页面实现思路</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>笔者新建了一个QQ群：571278542 。欢迎大家加入！</strong></p> 
<blockquote> 
 <p>上一篇文章中说了zTree树插件编写过程。接来下，谈谈zTree树插件实现点击左侧树，右侧展示文章列表页面过程。</p> 
</blockquote> 
<ol><li>效果展示 <br> <img src="https://images2.imgbox.com/d0/16/S75QuWEK_o.jpg" alt="这里写图片描述" title=""></li></ol> 
<p>2.这里就说说思路。</p> 
<blockquote> 
 <p>channel.jsp</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"pos-a"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"width:280px;left:0;top:0; bottom:0; height:100%; border-right:1px solid #e5e5e5; background-color:#f5f5f5"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">ul</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"channelTree"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ztree"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">iframe</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"listChannel"</span> <span class="hljs-attribute">Name</span>=<span class="hljs-value">"listChannel"</span> <span class="hljs-attribute">frameborder</span>=<span class="hljs-value">0</span>  <span class="hljs-attribute">src</span>=<span class="hljs-value">""</span>
        <span class="hljs-attribute">scrolling</span>=<span class="hljs-value">auto</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">100%</span>  <span class="hljs-attribute">height</span>=<span class="hljs-value">900px</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">iframe</span>&gt;</span>
</code></pre> 
<blockquote> 
 <p>要想实现上面图片中的效果，就是建立2个jsp页面，channel.jsp和channelChild.jsp。</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">iframe</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"listChannel"</span> <span class="hljs-attribute">Name</span>=<span class="hljs-value">"listChannel"</span> <span class="hljs-attribute">frameborder</span>=<span class="hljs-value">0</span>  <span class="hljs-attribute">src</span>=<span class="hljs-value">""</span>
        <span class="hljs-attribute">scrolling</span>=<span class="hljs-value">auto</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">100%</span>  <span class="hljs-attribute">height</span>=<span class="hljs-value">900px</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">iframe</span>&gt;</span></code></pre> 
<blockquote> 
 <p>就是上面channel.jsp中那段代码。点击左侧树，右侧切换靠的就是channelChild.jsp子页面。 <br> 那么怎么实现？原理就是点击左侧树的时候，传递url地址给iframe 中src即可(至于iframe 标签 的用法大家可以去查一下)。这样就要依赖jquery来实现了。 <br> 以下zTree.js插件中，我已经写上去了。大家可以参考来写。</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-comment">/* 插件树：传入setting原型扩展方法 */</span>
<span class="hljs-keyword">var</span> zTreeObj = <span class="hljs-literal">null</span>;<span class="hljs-comment">//</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($)</span> {<!-- --></span>
    $.fn.mytree = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(opts)</span> {<!-- --></span>
        <span class="hljs-keyword">var</span> setting = $.extend({
                view: {
                    selectedMulti: <span class="hljs-literal">false</span>,
                    dblClickExpand:<span class="hljs-literal">true</span>
                },

                async: {
                    enable: <span class="hljs-literal">true</span>,
                    type:<span class="hljs-string">"GET"</span>,
                    <span class="hljs-comment">//如果请求到的值是null, 应该如何提示 代表当前路径：$("#ctx")</span>
                    url: opts?(opts.url||<span class="hljs-string">"ajaxchannel"</span>):<span class="hljs-string">"ajaxchannel"</span>
                },
                **mine: {
                    listChild:<span class="hljs-number">1</span>,
                    srcElement:<span class="hljs-string">"#listChannel"</span>
                }**,
                callback: {
                    onAsyncSuccess: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zTreeOnAsyncSuccess</span><span class="hljs-params">()</span>
                    {<!-- --></span>
                        zTreeObj.expandAll(<span class="hljs-literal">true</span>);
                    },
                },

                data: {
                    simpleData: {
                        enable: <span class="hljs-literal">true</span>,
                        idKey: <span class="hljs-string">"id"</span>,
                        pIdKey: <span class="hljs-string">"parentId"</span>,
                        rootPId: -<span class="hljs-number">1</span>,
                    },
                    key:{
                        name:<span class="hljs-string">"title"</span>
                    }
                }
        },opts||{});
        <span class="hljs-keyword">var</span> _mine = setting.mine;
        zTreeObj = $.fn.zTree.init($(<span class="hljs-keyword">this</span>), setting);
        zTreeObj.getCheckParentNodes = getCheckParentNodes;
        zTreeObj.getCheckChildNodes = getCheckChildNodes;
        <span class="hljs-keyword">if</span>(_mine.listChild) {
            zTreeObj.setting.callback.onClick = listChild;
        }

        <span class="hljs-comment">/**
         * 回调函数
         */</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zTreeOnAsyncSuccess</span><span class="hljs-params">()</span>
        {<!-- --></span>
            <span class="hljs-comment">// tips no data TODO</span>
            zTreeObj.expandAll(<span class="hljs-literal">true</span>);
        }

        <span class="hljs-comment">/**
         * 点击任意栏目，列出他的所有子栏目
         */</span>
        **<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listChild</span><span class="hljs-params">(event,treeId,treeNode)</span>{<!-- --></span>
            $(_mine.srcElement).attr(<span class="hljs-string">"src"</span>,<span class="hljs-string">"channel/"</span>+treeNode.id);
        }**

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCheckParentNodes</span><span class="hljs-params">(treeNode,checked)</span> {<!-- --></span>
            <span class="hljs-keyword">var</span> ps = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
            <span class="hljs-keyword">var</span> pn;
            <span class="hljs-keyword">while</span>((pn=treeNode.getParentNode())) {
                <span class="hljs-keyword">if</span>(pn.checked==checked) ps.push(pn);
                treeNode = pn;
            }
            <span class="hljs-keyword">return</span> ps;
        }

        <span class="hljs-comment">//第三个参数存储所有子节点</span>
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCheckChildNodes</span><span class="hljs-params">(treeNode,checked,cs)</span> {<!-- --></span>
            <span class="hljs-keyword">var</span> ccs;
            <span class="hljs-keyword">if</span>((ccs=treeNode.children)) {
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;ccs.length;i++) {
                    <span class="hljs-keyword">var</span> c = ccs[i];
                    <span class="hljs-keyword">if</span>(c.checked==checked) {
                        cs.push(c);
                    }
                    getCheckChildNodes(c,checked,cs);
                }
            }
        }

        <span class="hljs-keyword">return</span> zTreeObj;
    };
})(jQuery);
</code></pre> 
<blockquote> 
 <p>代码就是上面的：</p> 
</blockquote> 
<pre class="prettyprint"><code class=" hljs java">mine: {
    listChild:<span class="hljs-number">1</span>,
    srcElement:<span class="hljs-string">"#listChannel"</span>
}

<span class="hljs-keyword">if</span>(_mine.listChild) {
    zTreeObj.setting.callback.onClick = listChild;
}

<span class="hljs-javadoc">/**
* 点击任意栏目，列出他的所有子栏目
 */</span>
function listChild(event,treeId,treeNode){
    $(_mine.srcElement).attr(<span class="hljs-string">"src"</span>,<span class="hljs-string">"channel/"</span>+treeNode.id);
}</code></pre> 
<p><strong>代码下载：<a href="https://download.csdn.net/download/u012759397/10434005">https://download.csdn.net/download/u012759397/10434005</a></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fadd96d885d43f251d0c16941af5960/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">详解Linux下安装配置Nginx</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3fd1242972f26b22c1b6fc0b54cd1ba9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">自定义控件---类似添加邮件收件人效果</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>