<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue3-watch的用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue3-watch的用法" />
<meta property="og:description" content="watch简介 作用:监视数据的变化 (和 Vue2 中的 watch 作用一致)
特点: Vue3 中的 watch 只能监视以下四种数据
1.ref 定义的数据(又可以分 基本 和 对象 )
2.reactive 定义的数据
3.函数返回一个值。(getter 函数)
4.一个包含上述内容的数组
我们在 Vue3 中使用 watch 的时候，通常会遇到以下几种情况
情况一 （监视 ref 定义的[基本类型]数据） 监视 ref 定义的[基本类型]数据: 直接写数据名即可，监视的是其 value 值的改变
情况二 （监视 ref 定义的[对象类型]数据） 监视 ref 定义的[对象类型]数据: 直接写数据名，监视的是对象的[地址值]，若想监视对象内部的数据，要手动开启深度监视。
注意
若修改的是 ref 定义的对象中的属性，newValue 和 oldValue 都是新值，因为它们是同一个对象
若修改整个ref 定义的对象，newValue 是新值， oldValue 是旧值，因为不是同一个对象了
情况三（监视reactive定义的对象类型数据） 监视reactive定义的对象类型数据，且默认开启了深度监视。
情况四（监视 ref 或 reactive 定义的[对象类型]数据中的某个属性）（关键） 监视 ref 或 reactive 定义的[对象类型]数据中的某个属性，注意点如下:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/797f97ba6171691cc8cc46fd0603c86a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T15:53:02+08:00" />
<meta property="article:modified_time" content="2024-01-09T15:53:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue3-watch的用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>watch简介</h2> 
<p>作用:监视数据的变化 (和 Vue2 中的 watch 作用一致)</p> 
<p>特点: Vue3 中的 watch 只能监视以下四种数据</p> 
<p>1.ref 定义的数据(又可以分   <strong>基本</strong>  和  <strong>对象</strong> )<br> 2.reactive 定义的数据<br> 3.函数返回一个值。(getter 函数)<br> 4.一个包含上述内容的数组</p> 
<p>我们在 Vue3 中使用 watch 的时候，通常会遇到以下几种情况</p> 
<h2 style="background-color:transparent;"><br> 情况一 （监视 ref 定义的[基本类型]数据）</h2> 
<p><br> 监视 ref 定义的[基本类型]数据: 直接写数据名即可，监视的是其 value 值的改变</p> 
<p><img alt="" height="254" src="https://images2.imgbox.com/3d/80/eGRgoVtD_o.png" width="734"></p> 
<h2 style="background-color:transparent;">情况二 （监视 ref 定义的[对象类型]数据）</h2> 
<p>监视 ref 定义的[对象类型]数据: 直接写数据名，<strong><span style="color:#fe2c24;">监视的是对象的[地址值]</span></strong>，<strong><span style="color:#511b78;">若想监视对象内部的数据，要手动开启深度监视。</span></strong></p> 
<p><strong>注意</strong><br> 若修改的是 ref 定义的对象中的属性，newValue 和 oldValue 都是新值，因为它们是同一个对象</p> 
<p>若修改整个ref 定义的对象，newValue 是新值， oldValue 是旧值，因为不是同一个对象了</p> 
<p><img alt="" height="140" src="https://images2.imgbox.com/31/f2/9A52VhYY_o.png" width="295"></p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/5c/c8/KjV1SuLK_o.png" width="983"></p> 
<h2>情况三（监视reactive定义的对象类型数据）</h2> 
<p>监视reactive定义的对象类型数据，且默认开启了深度监视。</p> 
<p><img alt="" height="140" src="https://images2.imgbox.com/37/f8/Iy2Q6PkC_o.png" width="366"></p> 
<p><img alt="" height="154" src="https://images2.imgbox.com/4e/06/s29Q9QSy_o.png" width="1048"></p> 
<h2 style="background-color:transparent;">情况四（监视 ref 或 reactive 定义的[对象类型]数据中的某个属性）（关键）</h2> 
<p>监视 ref 或 reactive 定义的[对象类型]数据中的某个属性，注意点如下:</p> 
<p>1.若该属性值不是[对象类型]，是【基本类型】，<span style="color:#fe2c24;"><strong>需要写成函数形式。</strong></span></p> 
<p><img alt="" height="151" src="https://images2.imgbox.com/00/a1/0v39hfvk_o.png" width="778"><br> 2.若该属性值是依然是[对象类型]，可直接编，也可写成函数，不过建议写成函数。</p> 
<p>   <span style="color:#fe2c24;">写成函数，不加deep，只监听地址变化；加deep，内部和地址都监听</span></p> 
<p><img alt="" height="106" src="https://images2.imgbox.com/70/f3/44mURvqs_o.png" width="796"></p> 
<p>  <span style="color:#fe2c24;"> 不写成函数，只监听内部，整个对象都变了的时候，监听不到</span></p> 
<p><img alt="" height="106" src="https://images2.imgbox.com/5b/77/8KssObOf_o.png" width="794"></p> 
<p>结论:监视的要是对象里的属性，那么最好写函数式，注意点: 若是对象监视的是地址值，需要关注对象内部，需要手动开启深度监视。</p> 
<h2>情况五</h2> 
<p>监视上述多个数据</p> 
<p><img alt="" height="141" src="https://images2.imgbox.com/72/bb/lB7mdEwZ_o.png" width="848"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5f83217d2af95793551cc75bf327cbf7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">2024美赛数学建模思路 - 复盘：人力资源安排的最优化模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4bf0cc6905e2fbb1cc0bc17d6a88c1ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">三步完成ChatGLM3-6B在英特尔CPU上的INT4量化和部署</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>