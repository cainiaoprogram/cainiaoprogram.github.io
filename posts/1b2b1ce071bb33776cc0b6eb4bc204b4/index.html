<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据挖掘——数据可视化 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据挖掘——数据可视化" />
<meta property="og:description" content="数据可视化 1.数据可视化第一关 数据可视化的内涵1&gt;数据可视化是什么？2&gt;为什么需要数据可视化？3&gt;历史演变4&gt;习题 第二关 初识数据第三关 柱状图第四关 散点图第五关 直方图 2.数据可视化进阶第一关 热图1&gt;热图的作用？2&gt;习题 第二关 文本可视化1&gt;文本可视化之wordcloud2&gt;wordcloud参数3&gt;习题 第三关 文本调整和美化(主要运用seaborn) 1.数据可视化 第一关 数据可视化的内涵 1&gt;数据可视化是什么？ 数据可视化是将数据和信息通过用图来表示展示其价值。直观来讲，常见画图的目的有：
1.按区间划分的数据，进行比较；
2.展现变量间的关系或分布；
3.展现网络结果的节点、边、集群，寻找路径，找到影响力大的节点；
4.表示关系，将相关性等属性用不同颜色展示；
5.用字词大小展示频率、重要性；
6.在 3D 空间上展示变量关系、分布。
可视化在数据科学中的地位：
数据可视化的位置虽然靠后，但是十分重要，因为它往往是最后呈现结果的，且本身具有交叉学科属性：信息技术、自然科学、统计分析、图形学、交互、地理信息。
2&gt;为什么需要数据可视化？ 哪种数据的表示形式更让人容易接受，是以文字形式还是以图形化呢？“人类有五官，能通过 5 种渠道感受这个物质世界，那么为什么单单要青睐可视化的方式来传递信息呢？这是因为人类利用视觉获取的信息量巨大，人眼结合大脑构成了一台高带宽巨量视觉信号输入的并行处理器。具有超强模式识别能力，有超过 50% 功能用于视觉感知相关处理的大脑。大量视觉信息在潜意识阶段就被处理完成，人类对图像的处理速度比文本快得多。所以数据可视化是一种高带宽的信息交流方式。面对复杂数据，图形化表示更容易让人脑接受，方便挖掘数据中的规律和价值。
3&gt;历史演变 当今世界，数据量猛增，对于如何理解数据提出了更高要求，催生了数据可视化技术的发展。数据表示精细化，高维度化，时序化：
这些进步和演变得益于数据可视化工具，新兴数据可视化工具提高了作图效率
：
Matplotlib ：功能全，可定制性好；
Pandas Visualization ：基于 Matplotlib ，接口设计好；
Seaborn ：高级作图语言，默认样式精美。
4&gt;习题 第二关 初识数据 import pandas as pd import numpy as np pd.set_option(&#39;display.max_columns&#39;, 1000) pd.set_option(&#39;display.width&#39;, 1000) pd.set_option(&#39;display.max_colwidth&#39;, 1000) def student(): # ********* Begin *********# print(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1b2b1ce071bb33776cc0b6eb4bc204b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-21T17:30:36+08:00" />
<meta property="article:modified_time" content="2022-02-21T17:30:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据挖掘——数据可视化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>数据可视化</h4> 
 <ul><li><ul><li><a href="#1_1" rel="nofollow">1.数据可视化</a></li><li><ul><li><a href="#__2" rel="nofollow">第一关 数据可视化的内涵</a></li><li><ul><li><a href="#1_3" rel="nofollow">1&gt;数据可视化是什么？</a></li><li><a href="#2_19" rel="nofollow">2&gt;为什么需要数据可视化？</a></li><li><a href="#3_22" rel="nofollow">3&gt;历史演变</a></li><li><a href="#4_31" rel="nofollow">4&gt;习题</a></li></ul> 
    </li><li><a href="#__33" rel="nofollow">第二关 初识数据</a></li><li><a href="#__55" rel="nofollow">第三关 柱状图</a></li><li><a href="#__87" rel="nofollow">第四关 散点图</a></li><li><a href="#__116" rel="nofollow">第五关 直方图</a></li></ul> 
   </li><li><a href="#2_148" rel="nofollow">2.数据可视化进阶</a></li><li><ul><li><a href="#__149" rel="nofollow">第一关 热图</a></li><li><ul><li><a href="#1_150" rel="nofollow">1&gt;热图的作用？</a></li><li><a href="#2_152" rel="nofollow">2&gt;习题</a></li></ul> 
    </li><li><a href="#__182" rel="nofollow">第二关 文本可视化</a></li><li><ul><li><a href="#1wordcloud_183" rel="nofollow">1&gt;文本可视化之wordcloud</a></li><li><a href="#2wordcloud_188" rel="nofollow">2&gt;wordcloud参数</a></li><li><a href="#3_190" rel="nofollow">3&gt;习题</a></li></ul> 
    </li><li><a href="#_seaborn_233" rel="nofollow">第三关 文本调整和美化(主要运用seaborn)</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1_1"></a>1.数据可视化</h3> 
<h4><a id="__2"></a>第一关 数据可视化的内涵</h4> 
<h5><a id="1_3"></a>1&gt;数据可视化是什么？</h5> 
<p>    <strong>数据可视化是将数据和信息通过用图来表示展示其价值</strong>。直观来讲，常见画图的目的有：<br> <mark>1.按区间划分的数据，进行比较；</mark><br> <mark>2.展现变量间的关系或分布；</mark><br> <mark>3.展现网络结果的节点、边、集群，寻找路径，找到影响力大的节点；</mark><br> <mark>4.表示关系，将相关性等属性用不同颜色展示；</mark><br> <mark>5.用字词大小展示频率、重要性；</mark><br> <mark>6.在 3D 空间上展示变量关系、分布。</mark></p> 
<p>可视化在数据科学中的地位：</p> 
<p><img src="https://images2.imgbox.com/6c/a1/vh4C8er2_o.png" alt="在这里插入图片描述"></p> 
<p>数据可视化的位置虽然靠后，但是十分重要，因为它往往是最后呈现结果的，且本身具有交叉学科属性：信息技术、自然科学、统计分析、图形学、交互、地理信息。</p> 
<h5><a id="2_19"></a>2&gt;为什么需要数据可视化？</h5> 
<p>哪种数据的表示形式更让人容易接受，是以文字形式还是以图形化呢？“人类有五官，能通过 5 种渠道感受这个物质世界，那么为什么单单要青睐可视化的方式来传递信息呢？这是因为人类利用视觉获取的信息量巨大，人眼结合大脑构成了一台高带宽巨量视觉信号输入的并行处理器。具有超强模式识别能力，有超过 50% 功能用于视觉感知相关处理的大脑。大量视觉信息在潜意识阶段就被处理完成，人类对图像的处理速度比文本快得多。所以数据可视化是一种高带宽的信息交流方式。面对复杂数据，图形化表示更容易让人脑接受，方便挖掘数据中的规律和价值。</p> 
<h5><a id="3_22"></a>3&gt;历史演变</h5> 
<p>当今世界，数据量猛增，对于如何理解数据提出了更高要求，催生了数据可视化技术的发展。数据表示精细化，高维度化，时序化：<br> <img src="https://images2.imgbox.com/21/16/E2zD85C1_o.png" alt="在这里插入图片描述">这些进步和演变得益于数据可视化工具，新兴数据可视化工具提高了作图效率<br> ：</p> 
<p><mark>Matplotlib ：功能全，可定制性好；</mark><br> <mark>Pandas Visualization ：基于 Matplotlib ，接口设计好；</mark><br> <mark>Seaborn ：高级作图语言，默认样式精美。</mark></p> 
<h5><a id="4_31"></a>4&gt;习题</h5> 
<p><img src="https://images2.imgbox.com/9d/06/vPAKgWSC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__33"></a>第二关 初识数据</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">'display.max_columns'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">'display.width'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">'display.max_colwidth'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">"""
          id                                               name  host_id  host_name  neighbourhood_group                           neighbourhood  latitude  longitude        room_type  price  minimum_nights  number_of_reviews last_review  reviews_per_month  calculated_host_listings_count  availability_365
0   2818           Quiet Garden View Room &amp; Super Fast WiFi     3159     Daniel                  NaN  Oostelijk Havengebied - Indische Buurt  52.36575    4.94142     Private room     59               3                262  2019-06-28               2.09                               1               107
1  20168       Studio with private bathroom in the centre 1    59484  Alexander                  NaN                            Centrum-Oost  52.36509    4.89354     Private room     80               1                279  2019-07-08               2.45                               2               140
2  25428    Lovely apt in City Centre (w.lift) near Jordaan    56142       Joan                  NaN                            Centrum-West  52.37297    4.88339  Entire home/apt    125              14                  3  2019-05-11               0.17                               2               106
3  27886  Romantic, stylish B&amp;B houseboat in canal district    97647       Flip                  NaN                            Centrum-West  52.38673    4.89208     Private room    150               2                195  2019-07-01               2.14                               1                74
4  28871                            Comfortable double room   124245      Edwin                  NaN                            Centrum-West  52.36719    4.89092     Private room     75               2                277  2019-07-02               2.56                               3               138
    """</span><span class="token punctuation">)</span>

    <span class="token comment"># ********* End *********#</span>
    
</code></pre> 
<h4><a id="__55"></a>第三关 柱状图</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    <span class="token comment"># 读入数据为DataFrame</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'Task3/listings.csv'</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment"># 绘图：图像大小10×10,</span>
    fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 设置绘图样式</span>
    <span class="token comment"># sns.set(style = 'whitegrid')</span>
    <span class="token comment"># 绘制图形</span>
    sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">'room_type'</span><span class="token punctuation">,</span>
                  data<span class="token operator">=</span>df<span class="token punctuation">,</span>
                  <span class="token comment"># 对room_type列的字段进行统计并排序并取前5个</span>
                  order<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'room_type'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span>
    <span class="token comment"># 旋转x轴90度</span>
    plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span>
    <span class="token comment"># 保存并显示图像</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task3/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># ********* End *********#</span>
    
</code></pre> 
<h4><a id="__87"></a>第四关 散点图</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    <span class="token comment"># 读入数据为DataFrame</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'Task4/listings.csv'</span><span class="token punctuation">)</span>
    <span class="token comment"># 绘图：图像大小10×10,</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 散点图</span>
    sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"longitude"</span><span class="token punctuation">,</span>
                    y<span class="token operator">=</span><span class="token string">"latitude"</span><span class="token punctuation">,</span>
                    s<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>
                    data<span class="token operator">=</span>df<span class="token punctuation">)</span>
    <span class="token comment"># 保存并显示图像</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task4/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># ********* End *********#</span>

</code></pre> 
<h4><a id="__116"></a>第五关 直方图</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> warnings
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>
warnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">'''
    根据输入数据将直方图与线形图绘制在同一面板中
    :param data: 绘制直方图数据，类型为list
    :param x,y: 绘制线形图数据，类型为list
    :return: None
    '''</span>
    <span class="token comment"># ********* Begin *********#</span>
    <span class="token comment"># 绘图：图像大小10×10,</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 直方图</span>
    sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>data<span class="token punctuation">,</span> kde<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">)</span>
    <span class="token comment"># 折线图</span>
    sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span>x<span class="token punctuation">,</span> y<span class="token operator">=</span>y<span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"orange"</span><span class="token punctuation">)</span>
    <span class="token comment"># 保存并显示图像</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task5/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># ********* End *********#</span>
    
</code></pre> 
<h3><a id="2_148"></a>2.数据可视化进阶</h3> 
<h4><a id="__149"></a>第一关 热图</h4> 
<h5><a id="1_150"></a>1&gt;热图的作用？</h5> 
<p>热图可通过色块颜色展示变量相关性的强弱，能够方便的展示各个属性之间的相关度强弱，通过颜色变化找到一些值得观察的数据。</p> 
<h5><a id="2_152"></a>2&gt;习题</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    <span class="token comment"># 读入数据为DataFrame</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'Task1/listings.csv'</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment"># 绘图：图像大小10×10,</span>
    fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment"># 绘制图形</span>
    sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>
        df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">,</span> <span class="token string">'minimum_nights'</span><span class="token punctuation">,</span> <span class="token string">'availability_365'</span><span class="token punctuation">,</span>
            <span class="token string">'reviews_per_month'</span><span class="token punctuation">,</span> <span class="token string">'number_of_reviews'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        annot<span class="token operator">=</span><span class="token boolean">True</span>
    <span class="token punctuation">)</span>
    <span class="token comment"># 保存并显示图像</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task1/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># ********* End *********#</span>

</code></pre> 
<h4><a id="__182"></a>第二关 文本可视化</h4> 
<h5><a id="1wordcloud_183"></a>1&gt;文本可视化之wordcloud</h5> 
<p>数据很多时候是自然语言信息，如何从中进行可视化也是有用的一个问题。<br> <mark>字云：用字词大小形象化字词频率的图形。</mark><br> <mark>如何画一个字云呢？用 wordcloud 插件。</mark><br> <strong>安装 wordcloud 作图插件</strong>：<a href="https://anaconda.org/conda-forge/wordcloud" rel="nofollow">https://anaconda.org/conda-forge/wordcloud</a></p> 
<h5><a id="2wordcloud_188"></a>2&gt;wordcloud参数</h5> 
<p><img src="https://images2.imgbox.com/db/9f/lQkVILu7_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_190"></a>3&gt;习题</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> requests
<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud<span class="token punctuation">,</span> STOPWORDS
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    <span class="token comment"># 补全所有None的部分</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"Task2/listings.csv"</span><span class="token punctuation">)</span>
    <span class="token comment"># 获取图形形状</span>
    mask <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>
        <span class="token string">'http://www.clker.com/cliparts/O/i/x/Y/q/P/yellow-house-hi.png'</span><span class="token punctuation">,</span> stream<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 填充的单词</span>
    filtered_words <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"Amsterdam"</span><span class="token punctuation">,</span> <span class="token string">"apartment"</span><span class="token punctuation">,</span>
                      <span class="token string">"room"</span><span class="token punctuation">,</span> <span class="token string">"bedroom"</span><span class="token punctuation">,</span> <span class="token string">"studio"</span><span class="token punctuation">,</span> <span class="token string">"city"</span><span class="token punctuation">}</span>
    <span class="token comment"># 生成词云</span>
    wordcloud <span class="token operator">=</span> WordCloud<span class="token punctuation">(</span>
        background_color<span class="token operator">=</span><span class="token string">"white"</span><span class="token punctuation">,</span>  <span class="token comment"># 设置背景色</span>
        stopwords<span class="token operator">=</span><span class="token builtin">set</span><span class="token punctuation">(</span>STOPWORDS<span class="token punctuation">)</span><span class="token punctuation">.</span>union<span class="token punctuation">(</span>filtered_words<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 过滤词</span>
        max_words<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span>  <span class="token comment"># 最大显示字数</span>
        max_font_size<span class="token operator">=</span><span class="token number">40</span><span class="token punctuation">,</span>  <span class="token comment"># 最大字体</span>
        mask<span class="token operator">=</span>mask<span class="token punctuation">,</span>  <span class="token comment"># mask的形状</span>
        random_state<span class="token operator">=</span><span class="token number">2019</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span>generate<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 基于mask生成字云</span>
    <span class="token comment"># 绘图</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>wordcloud<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">"off"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task2/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># ********* End *********#</span>

</code></pre> 
<h4><a id="_seaborn_233"></a>第三关 文本调整和美化(主要运用seaborn)</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">"Agg"</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment"># ********* Begin *********#</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"Task3/listings.csv"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">'whitegrid'</span><span class="token punctuation">)</span>
    sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">'room_type'</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">'price'</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                order<span class="token operator">=</span>df<span class="token punctuation">.</span>room_type<span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span>ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"Task3/img/T1.png"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># ********* End *********#</span>

</code></pre> 
<p><em>@date: 2021.04.04<br> @author: zkinglin</em><br> （完）</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7be32c820444820f0a3e91a2caba4b40/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vscode编辑器快捷键</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d1178b5c4981376704a61fed5aeba9a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据挖掘——数据采集和数据清洗</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>