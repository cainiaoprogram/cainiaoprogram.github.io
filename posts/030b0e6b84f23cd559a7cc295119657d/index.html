<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>虚幻UE 增强输入-第三人称模板增强输入分析与扩展 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="虚幻UE 增强输入-第三人称模板增强输入分析与扩展" />
<meta property="og:description" content="本篇是增强输入模块，作为UE5.0新增加的模块。
其展现出来的功能异常地强大！
让我们先来学习学习一下第三人称模板里面的增强输入吧！
文章目录 前言一、增强输入四大概念二、使用步骤1、打开增强输入模块2、添加IA输入动作2、添加IMC输入映射内容3、绑定IMC到EIPS增强输入本地用户子系统4、具体按键实现逻辑 三、测试其他特性1、同一按键 不同Map先后2、不同按键（组合键3、运行时按键控制 总结参考 前言 为什么要开发出一个新的输入模式呢？
是因为旧的输入模式不好吗？其实并不是，而是不够灵活、方便，
且一般只能实现简单的功能，如果需要复杂的功能得自己写逻辑了，
比如按住、双击、联合输入等
所以就开发了一个新的输入模式----增强输入（Enhanced Input System）
一、增强输入四大概念 增强输入主要提出了四个概念：
输入动作（UInputAction）： 是增强输入系统和项目代码之间的通信链接。 和我们的按键无关，只知道按键的状态，也就是是否按下。 输入修改器（UInputModifier）：用于修改来自用户设备的原始输入值。 也就是可以对按键的状态进行修改 输入触发器（UInputTrigger）： 使用经过修饰器修改的输入值， 或者使用其他输入动作的输出值，来确定是否激活输入动作。 输入映射内容（UInputMappingContext）： 将用户输入映射到输入动作， 并可以动态地为每个用户添加、移除或安排优先次序。和按键有关。 二、使用步骤 1、打开增强输入模块 开启增强输入插件
修改默认的输入模式为增强输入
2、添加IA输入动作 原先的Action绑定:
原先的Axis绑定:（也可以把左右移动、上下移动写在一个IA里，用2D来表示
2、添加IMC输入映射内容 按键绑定：（修改器中Negate是相反的意思，就是把修饰器修改的输入值，
或者使用其他输入动作的输出值进行取反
3、绑定IMC到EIPS增强输入本地用户子系统 4、具体按键实现逻辑 这样一个简单的第三人称模板的输入就搞定了！
注意：我们这里接触到是输入修改器（UInputModifier）暂时只有Negate反向，
但其实在第三人称模板内，还涉及了：
盲区DeadZone为了解决两个问题：
1、如果用户没有按下任何键，系统通常会将输入视为无效或忽略。
2、当用户只是暂时释放了按键，但很快又按下时，系统可能无法正确地响应他们的输入。
解决方式：当用户在一定时间内没有按下任何键时，系统可以忽略他们的输入，以避免误操作或干扰游戏进程。同时，当用户按下某个键时，系统可以快速地响应并执行相应的动作，提供更好的游戏体验。
拌合输入轴值Mixed Axis Values为了解决的问题：
1、将1D输入（例如键盘按键）映射到2D或3D空间的问题。
简单的来说就是同时按下W和A键时，如何判断移动的方向？
拌合输入轴值允许开发者将多个轴值组合在一起，形成更复杂的输入动作。
三、测试其他特性 两份功能一模一样的IA和IMC
1、同一按键 不同Map先后 结论：后进先出 1、改变优先级 优先级越大越优先 2、consume input为false（默认为true，如果最后mapping的那个为false的话不会影响其他的输入 Consume Input 允许开发者控制输入事件是否被处理或传递给其他系统或组件。 通过使用 Consume Input，开发者可以拦截用户的输入行为，并进行自定义处理， 而不需要将输入传递给其他组件或系统。 2、不同按键（组合键 组合键" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/030b0e6b84f23cd559a7cc295119657d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T21:39:33+08:00" />
<meta property="article:modified_time" content="2024-01-04T21:39:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">虚幻UE 增强输入-第三人称模板增强输入分析与扩展</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>本篇是增强输入模块，作为UE5.0新增加的模块。<br> 其展现出来的功能异常地强大！<br> 让我们先来学习学习一下第三人称模板里面的增强输入吧！</p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_9" rel="nofollow">前言</a></li><li><a href="#_18" rel="nofollow">一、增强输入四大概念</a></li><li><a href="#_36" rel="nofollow">二、使用步骤</a></li><li><ul><li><a href="#1_37" rel="nofollow">1、打开增强输入模块</a></li><li><a href="#2IA_42" rel="nofollow">2、添加IA输入动作</a></li><li><a href="#2IMC_48" rel="nofollow">2、添加IMC输入映射内容</a></li><li><a href="#3IMCEIPS_53" rel="nofollow">3、绑定IMC到EIPS增强输入本地用户子系统</a></li><li><a href="#4_56" rel="nofollow">4、具体按键实现逻辑</a></li></ul> 
  </li><li><a href="#_77" rel="nofollow">三、测试其他特性</a></li><li><ul><li><a href="#1__Map_80" rel="nofollow">1、同一按键 不同Map先后</a></li><li><a href="#2_104" rel="nofollow">2、不同按键（组合键</a></li><li><a href="#3_112" rel="nofollow">3、运行时按键控制</a></li></ul> 
  </li><li><a href="#_120" rel="nofollow">总结</a></li><li><a href="#_127" rel="nofollow">参考</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_9"></a>前言</h2> 
<p>为什么要开发出一个新的输入模式呢？<br> 是因为旧的输入模式不好吗？其实并不是，而是不够灵活、方便，<br> 且一般只能实现简单的功能，如果需要复杂的功能得自己写逻辑了，<br> 比如按住、双击、联合输入等<br> 所以就开发了一个新的输入模式----增强输入（Enhanced Input System）</p> 
<hr> 
<h2><a id="_18"></a>一、增强输入四大概念</h2> 
<p><strong>增强输入主要提出了四个概念：</strong></p> 
<pre><code class="prism language-bash">输入动作（UInputAction）： 是增强输入系统和项目代码之间的通信链接。
和我们的按键无关，只知道按键的状态，也就是是否按下。 

输入修改器（UInputModifier）：用于修改来自用户设备的原始输入值。
也就是可以对按键的状态进行修改

输入触发器（UInputTrigger）： 使用经过修饰器修改的输入值，
或者使用其他输入动作的输出值，来确定是否激活输入动作。

输入映射内容（UInputMappingContext）： 将用户输入映射到输入动作，
并可以动态地为每个用户添加、移除或安排优先次序。和按键有关。
</code></pre> 
<hr> 
<h2><a id="_36"></a>二、使用步骤</h2> 
<h3><a id="1_37"></a>1、打开增强输入模块</h3> 
<p>开启增强输入插件<br> <img src="https://images2.imgbox.com/70/b4/bSG0PQDL_o.png" alt="在这里插入图片描述"><br> 修改默认的输入模式为增强输入<br> <img src="https://images2.imgbox.com/b3/14/0mAGR06S_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2IA_42"></a>2、添加IA输入动作</h3> 
<p><img src="https://images2.imgbox.com/e9/96/eSTeqDJB_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>原先的Action绑定:<br> <img src="https://images2.imgbox.com/a9/56/rVTR18k5_o.png" alt="在这里插入图片描述"><br> 原先的Axis绑定:（也可以把左右移动、上下移动写在一个IA里，用2D来表示<img src="https://images2.imgbox.com/cd/6d/sAbWlIm0_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h3><a id="2IMC_48"></a>2、添加IMC输入映射内容</h3> 
<p><img src="https://images2.imgbox.com/bb/f1/9XazhYVC_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>按键绑定：（修改器中Negate是相反的意思，就是把修饰器修改的输入值，<br> 或者使用其他输入动作的输出值进行取反<br> <img src="https://images2.imgbox.com/2b/27/vQwATtAC_o.png" alt=""></p> 
</blockquote> 
<h3><a id="3IMCEIPS_53"></a>3、绑定IMC到EIPS增强输入本地用户子系统</h3> 
<p><img src="https://images2.imgbox.com/8c/c2/fkodvNpr_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_56"></a>4、具体按键实现逻辑</h3> 
<p><img src="https://images2.imgbox.com/41/22/453IqYLV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5f/a1/jYQcpneA_o.png" alt="在这里插入图片描述"><br> 这样一个简单的第三人称模板的输入就搞定了！</p> 
<blockquote> 
 <p>注意：我们这里接触到是输入修改器（UInputModifier）暂时只有Negate反向，<br> 但其实在第三人称模板内，还涉及了：</p> 
 <hr> 
 <p>盲区DeadZone为了解决两个问题：<br> 1、如果用户没有按下任何键，系统通常会将输入视为无效或忽略。<br> 2、当用户只是暂时释放了按键，但很快又按下时，系统可能无法正确地响应他们的输入。<br> 解决方式：当用户在一定时间内没有按下任何键时，系统可以忽略他们的输入，以避免误操作或干扰游戏进程。同时，当用户按下某个键时，系统可以快速地响应并执行相应的动作，提供更好的游戏体验。</p> 
 <hr> 
 <p>拌合输入轴值Mixed Axis Values为了解决的问题：<br> 1、将1D输入（例如键盘按键）映射到2D或3D空间的问题。<br> 简单的来说就是同时按下W和A键时，如何判断移动的方向？<br> 拌合输入轴值允许开发者将多个轴值组合在一起，形成更复杂的输入动作。</p> 
</blockquote> 
<h2><a id="_77"></a>三、测试其他特性</h2> 
<p>两份功能一模一样的IA和IMC<br> <img src="https://images2.imgbox.com/55/a2/OCtHGmMm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1__Map_80"></a>1、同一按键 不同Map先后</h3> 
<pre><code class="prism language-bash">结论：后进先出 
</code></pre> 
<p><img src="https://images2.imgbox.com/a8/44/9aNnW926_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/41/80/H9BYPXkd_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/83/ad/p27oX1zN_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token number">1</span>、改变优先级  优先级越大越优先
</code></pre> 
<p><img src="https://images2.imgbox.com/db/91/6nFViIMF_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token number">2</span>、consume input为false（默认为true，如果最后mapping的那个为false的话不会影响其他的输入
Consume Input 允许开发者控制输入事件是否被处理或传递给其他系统或组件。
通过使用 Consume Input，开发者可以拦截用户的输入行为，并进行自定义处理，
而不需要将输入传递给其他组件或系统。
</code></pre> 
<p><img src="https://images2.imgbox.com/00/34/PQhVwbib_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/06/52/VP8XeUUK_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/e4/cc/GrBSYBga_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_104"></a>2、不同按键（组合键</h3> 
<p><img src="https://images2.imgbox.com/77/bf/GqIJsGYC_o.png" alt="在这里插入图片描述"><br> 组合键<br> 1和2一起按才打印<br> 两个IA都要加入到Mapping 此时单独按1 没有用<br> <img src="https://images2.imgbox.com/6f/ee/L6qRe9UK_o.png" alt="在这里插入图片描述"><br> 此时1和2一起按下<br> <img src="https://images2.imgbox.com/70/09/P6ouUNv8_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_112"></a>3、运行时按键控制</h3> 
<p>运行时加入<br> 刚运行时按2没有反应 当按下1后 2才有反应<img src="https://images2.imgbox.com/b2/78/FkYtvAuJ_o.png" alt="在这里插入图片描述"><br> 运行时离开<br> 1和2随便按 再按3 后来又1和2随便按 最后发现1已经失效<img src="https://images2.imgbox.com/a3/9a/fqTlNmco_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="_120"></a>总结</h2> 
<p>增强输入的功能太强了，远不止我所展示的这么多，<br> 还有很多功能需要再研究，等待后续发掘！！！<br> 关注不迷路！！！</p> 
<hr> 
<h2><a id="_127"></a>参考</h2> 
<p>UE5.0官方中文文档：<a href="https://docs.unrealengine.com/5.0/zh-CN/enhanced-input-in-unreal-engine/" rel="nofollow">虚幻引擎中的增强输入</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9e8bd5db5e5f29ec10c7e15ed43c12ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【UnityShader入门精要学习笔记】第三章（1）Unity Shader介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d9fe1b5392ef539b1f74994e84fa1d8a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Pytorch从零开始实战15</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>