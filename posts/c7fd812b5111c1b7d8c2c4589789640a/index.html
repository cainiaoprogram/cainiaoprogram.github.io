<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>服务器显示日志已满,解决db2事务日志已满及日志磁盘空间已满问题办法详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="服务器显示日志已满,解决db2事务日志已满及日志磁盘空间已满问题办法详解" />
<meta property="og:description" content="事务日志满指当前事务无法写入到活动日志中(主日志文件和辅助日志文件已全部用完或者没有足够当前事务写入的空间)
日志磁盘空间已满指辅助日志文件还未使用完，磁盘空间已经满了。
db2数据库事务日志文件分为主日志文件和辅助日志文件，主日志文件已分配空间，辅助日志文件使用时再分配。
查看事务日志配置(mid为数据库名称)：
db2 get db cfg for mid
运行结果：
日志文件大小(4KB) (LOGFILSIZ) = 1024
主日志文件的数目 (LOGPRIMARY) = 13
辅助日志文件的数目 (LOGSECOND) = 4
已更改的至日志文件的路径 (NEWLOGPATH) =
日志文件路径 = D:\DB2\NODE0000\SQL00003\SQLOGDIR\
总事务日志容量大小=(LOGPRIMARY&#43;LOGSECOND)*LOGFILSIZ*4k
ps:(13&#43;4)*1024*4kb=68mb
DB2事务日志满解决办法：
(1) 增大日志文件大小：
db2 udpate db cfg for mid using LOGFILSIZ 8192
或者增大主日志文件个数：
db2 update db cfg for mid using LOGPRIMARY 15
或者增大辅助日志文件个数：
db2 update db cfg for mid using LOGSECOND 10
(2)停掉引起这个错误的应用程序或者停掉所有的应用程序，再重启数据库
db2 force applications all
db2 force application (应用程序句柄 通过db2 list applications获取)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c7fd812b5111c1b7d8c2c4589789640a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-09T13:06:58+08:00" />
<meta property="article:modified_time" content="2021-08-09T13:06:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">服务器显示日志已满,解决db2事务日志已满及日志磁盘空间已满问题办法详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>事务日志满指当前事务无法写入到活动日志中(主日志文件和辅助日志文件已全部用完或者没有足够当前事务写入的空间)</p> 
 <p>日志磁盘空间已满指辅助日志文件还未使用完，磁盘空间已经满了。</p> 
 <p>db2数据库事务日志文件分为主日志文件和辅助日志文件，主日志文件已分配空间，辅助日志文件使用时再分配。</p> 
 <p>查看事务日志配置(mid为数据库名称)：</p> 
 <p>db2 get db cfg for mid</p> 
 <p>运行结果：</p> 
 <p>日志文件大小(4KB)                         (LOGFILSIZ) = 1024</p> 
 <p>主日志文件的数目                           (LOGPRIMARY) = 13</p> 
 <p>辅助日志文件的数目                          (LOGSECOND) = 4</p> 
 <p>已更改的至日志文件的路径                   (NEWLOGPATH) =</p> 
 <p>日志文件路径                                            = D:\DB2\NODE0000\SQL00003\SQLOGDIR\</p> 
 <p>总事务日志容量大小=(LOGPRIMARY+LOGSECOND)*LOGFILSIZ*4k</p> 
 <p>ps:(13+4)*1024*4kb=68mb</p> 
 <p>DB2事务日志满解决办法：</p> 
 <p>(1) 增大日志文件大小：</p> 
 <p>db2 udpate db cfg for mid using LOGFILSIZ 8192</p> 
 <p>或者增大主日志文件个数：</p> 
 <p>db2 update db cfg for mid using LOGPRIMARY 15</p> 
 <p>或者增大辅助日志文件个数：</p> 
 <p>db2 update db cfg for mid using LOGSECOND 10</p> 
 <p>(2)停掉引起这个错误的应用程序或者停掉所有的应用程序，再重启数据库</p> 
 <p>db2 force applications all</p> 
 <p>db2 force application (应用程序句柄 通过db2 list applications获取)</p> 
 <p>db2stop</p> 
 <p>db2start</p> 
 <p>以上两个解决db2事务日志已满及日志磁盘空间已满的问题办法希望可以帮到你</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d6b7a8314ec427df2a24c0d744f1f235/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue脚手架项目部署到服务器,vue脚手架项目发布</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c530f0b487908b65fc611057dba146ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">天刀显示服务器断开怎么回事,天涯明月刀手游掉线怎么办 连接服务器失败解答...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>