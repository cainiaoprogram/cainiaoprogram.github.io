<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【slam】视觉slam十四讲笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【slam】视觉slam十四讲笔记" />
<meta property="og:description" content="第一讲 序言 学习slam必备知识及软件
第二讲 初识slam 1.引入 要想实现机器人的自主运动需要解决的两大问题：定位和建图。
定位侧重对自身的了解，建图侧重对外在的了解。
而这里就出现了一个相互耦合的问题，那就是要想获得准确的定位，首先要有一个精确的地图，而要想有精确的地图，那又需要一个准确的定位。
slam就是用来研究解决这两大问题的。
那么，要用什么来做slam呢？
------------答案是传感器。
服务于slam的传感器有两种：环境传感器和自身携带传感器。
而在实际的应用场景中，环境传感器有一定的限制，且slam更强调未知环境，所以携带式传感器是更合适更受重视的传感器。
相机： 本质：以二维记录三维 丢失的维度是：距离 各类相机的主要区别在于有没有深度信息 单目：没有深度，必须通过移动相机产生深度 双目：视差计算深度 RGBD:通过物理方法测量深度 2.视觉slam框架 1.前端 VO Visual Odometry 视觉里程计
方法：特征点法（第七讲） 直接法（第八讲） 2.后端 Optimization
代表：前期：EKF 现在：图优化（第十、十一讲） 3.回环检测 Loop Closing
识别到达过的场景，检测机器人是否回到早先位置
方法：词袋模型（第十二讲） 4.建图 Mapping
度量地图vs拓扑地图 稀疏地图vs稠密地图 3.slam问题的数学描述 两个基本方程：
运动方程
观测方程
4.实践部分 第三讲 三维空间的刚体运动 3D Space Rigid Body Motion
概述or目的： 1.理解三维空间刚体运动描述方式：旋转矩阵、变换矩阵、四元数和欧拉角 2.掌握eigen库的矩阵，几何模块的使用方法 1.点、向量 向量运算：
内积 外积* a^b 把向量变成矩阵
坐标系由三个基构成
行列式本身表示体积
引入问题：坐标系之间是如何变化的？
进而：怎么计算同一个向量在不同坐标系里的坐标？
在slam中：1.固定的世界坐标系和移动的机器人坐标系 2.机器人坐标随着机器人运动而改变，每个时刻都有新的坐标系" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3e22d5481d6bd313436a440e39508307/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-09T20:32:47+08:00" />
<meta property="article:modified_time" content="2023-08-09T20:32:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【slam】视觉slam十四讲笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="__0"></a>第一讲 序言</h2> 
<p>学习slam必备知识及软件</p> 
<h2><a id="_slam_2"></a>第二讲 初识slam</h2> 
<h3><a id="1_3"></a>1.引入</h3> 
<p>要想实现机器人的自主运动需要解决的两大问题：定位和建图。</p> 
<p>定位侧重对自身的了解，建图侧重对外在的了解。</p> 
<p>而这里就出现了一个相互耦合的问题，那就是要想获得准确的定位，首先要有一个精确的地图，而要想有精确的地图，那又需要一个准确的定位。</p> 
<p>slam就是用来研究解决这两大问题的。</p> 
<p>那么，要用什么来做slam呢？<br> ------------答案是传感器。</p> 
<p>服务于slam的传感器有两种：环境传感器和自身携带传感器。</p> 
<p>而在实际的应用场景中，环境传感器有一定的限制，且slam更强调未知环境，所以携带式传感器是更合适更受重视的传感器。</p> 
<pre><code>相机： 
	本质：以二维记录三维
	丢失的维度是：距离
各类相机的主要区别在于有没有深度信息
	单目：没有深度，必须通过移动相机产生深度
	双目：视差计算深度
	RGBD:通过物理方法测量深度
</code></pre> 
<h3><a id="2slam_26"></a>2.视觉slam框架</h3> 
<p>1.前端 VO Visual Odometry 视觉里程计</p> 
<pre><code>方法：特征点法（第七讲） 直接法（第八讲）
</code></pre> 
<p>2.后端 Optimization</p> 
<pre><code>代表：前期：EKF 现在：图优化（第十、十一讲）
</code></pre> 
<p>3.回环检测 Loop Closing<br> 识别到达过的场景，检测机器人是否回到早先位置</p> 
<pre><code>方法：词袋模型（第十二讲）
</code></pre> 
<p>4.建图 Mapping</p> 
<pre><code>度量地图vs拓扑地图
稀疏地图vs稠密地图
</code></pre> 
<h3><a id="3slam_41"></a>3.slam问题的数学描述</h3> 
<p>两个基本方程：<br> 运动方程<br> 观测方程</p> 
<h3><a id="4_47"></a>4.实践部分</h3> 
<p><img src="https://images2.imgbox.com/51/ba/qFXQdIFO_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/4b/51/KxbNyFNj_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__51"></a>第三讲 三维空间的刚体运动</h2> 
<p><em>3D Space Rigid Body Motion</em></p> 
<pre><code>	概述or目的：
	       1.理解三维空间刚体运动描述方式：旋转矩阵、变换矩阵、四元数和欧拉角
	       2.掌握eigen库的矩阵，几何模块的使用方法
</code></pre> 
<h3><a id="1_58"></a>1.点、向量</h3> 
<p>向量运算：<br> 内积 外积* a^b 把向量变成矩阵<br> 坐标系由三个基构成<br> 行列式本身表示体积</p> 
<p>引入问题：坐标系之间是如何变化的？<br> 进而：怎么计算同一个向量在不同坐标系里的坐标？<br> 在slam中：1.固定的世界坐标系和移动的机器人坐标系 2.机器人坐标随着机器人运动而改变，每个时刻都有新的坐标系<br> 答案： 变化-&gt;旋转+平移（原点间的平移，三个轴的旋转）<br> #平移是一个向量 <strong>a’ = Ra + t</strong><br> #旋转<br> <strong>a = Ra’</strong><br> R是旋转矩阵,两个性质：R是一个正交矩阵（求逆直接转置）且行列式为1，满足这两个性质的矩阵称为旋转矩阵</p> 
<pre><code>#a' = Ra + t   两个坐标系的刚体运动可以由R，t完全描述
</code></pre> 
<p>但是这种方程在多次变换的时候会变得很复杂，所以改变一下形式，写成矩阵相乘的形式：<br> b~ = T1 a~ a~ = [a 1]T b~ = [b 1]~<br> 这种用四个数表达三维向量的做法称为齐次坐标，引入齐次坐标后，旋转和平移可以放到同一个矩阵，称为变换矩阵<br> SE 称为特殊欧式群</p> 
<p>在slam中，通常定义世界坐标系Tw 机器人坐标系Tr（ r - robot w - world）<br> 在实际编程中，可使用Trw或Twr来描述机器人的位姿 Trw是世界坐标系在机器人坐标系的位置 Twr是在机器人在世界坐标系下的位置</p> 
<h3><a id="2_83"></a>2.实践</h3> 
<p>useEigen 包括了矩阵的基本操作<br> <img src="https://images2.imgbox.com/7c/31/w6m9xoPd_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_86"></a>3.旋转向量、欧拉角</h3> 
<p>旋转描述：角轴表示 w = ·n<br> <strong>角轴</strong>（也就是李代数）：三个量，没有约束<br> 旋转矩阵：九个量，有正交性约束和行列式值约束<br> 角轴与旋转矩阵只是表达的方式不同，但表达的东西可以是同一个</p> 
<p><strong>欧拉角</strong>：将一次旋转分解为三次不同轴上的转动<br> z - 偏航角yaw y - 俯仰角pitch x - 滚转角roll<br> 会出现万向锁问题----使系统少了一个自由度，存在奇异性问题<br> 欧拉角不适于插值和迭代，往往只用于人机交互中，slam程序中很少使用欧拉角表达姿态</p> 
<h3><a id="4_97"></a>4.四元数</h3> 
<p>一种扩展的复数。四元数有三个虚部，可以表达三维空间的旋转<br> q = q0 +q1 i + q2 j + q3 k<br> 四元数和旋转矩阵以及角轴可以互相转换</p> 
<p>相比于角轴、欧拉角的优势：紧凑、无奇异性</p> 
<h3><a id="5_104"></a>5.相似、仿射、射影变换</h3> 
<h3><a id="6EIGEN_105"></a>6.实践-EIGEN几何模块</h3> 
<p><img src="https://images2.imgbox.com/0a/b1/lEqNWhnV_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/49/37/MBs670xA_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__109"></a>第四讲 李群与李代数</h2> 
<p>Lie Group and Lie Algebra</p> 
<pre><code>目标：1.理解李群与李代数的概念 
	  2.理解李代数上的求导方式和意义
	  3.使用Sophus对李代数进行运算
</code></pre> 
<p>群是一种集合加上一种运算的代数结构。记集合为A，运算为·，那么当运算满足【封结幺逆】四大性质时，称（A，·）成群。</p> 
<p>李群：具有连续性质的群，既是群也是流形<br> 李代数：与李群对应的一种结构，位于向量空间</p> 
<h2><a id="__121"></a>第五讲 相机与图像</h2> 
<pre><code>目标：1.理解针孔相机的模型、内参与径向畸变参数
2.理解一个空间点是如何投影到相机成像平面的
3.掌握OpenCV的图像存储与表达方式
4.学会基本的摄像头标定方法
</code></pre> 
<h3><a id="1_128"></a>1.相机模型</h3> 
<p>照片丢掉了距离信息</p> 
<h4><a id="1_131"></a>1.针孔相机模型</h4> 
<p>—相似三角形 负号表示倒像<br> 从焦距和相似三角形推到图像坐标，再推到成像坐标，然后简化形式，最后写成矩阵形式 Z% = KP<br> 中间矩阵称为内参数，内参通常再相机生产后就已固定</p> 
<p>当只有一个相机时，只能确定某点的可能的位置（一条直线）<br> 相机坐标系和世界坐标系差一个变换，而这个变换会引入外参，R，t，T<br> 外参是SLAM估计的目标，因为想要估计某个点在世界坐标系下的位置</p> 
<p>世界坐标—相机----归一化平面----像素</p> 
<p><strong>畸变</strong><br> 径向畸变和切向畸变<br> 径向畸变：桶形失真和枕形失真</p> 
<p>畸变可以用归一化坐标的变换来描述（多项式描述）</p> 
<h4><a id="2z__d____UlUr_149"></a>2.双目模型：利用相似关系可以写出左右像素的几何关系，然后通过整理得到z 和 d = Ul-Ur</h4> 
<p>d为视差，描述同一个点在左右目上成像的距离，不容易计算<br> z为基线到实际该点的距离，最大值为fb<br> b为基线宽度</p> 
<h4><a id="3RGBD_154"></a>3.RGB-D相机：物理手段测量深度</h4> 
<p>Tof或结构光两种主要原理<br> 通常能得到与rgb图对应的深度图</p> 
<h3><a id="2_158"></a>2.图像</h3> 
<p>图像在计算机中以矩阵形式存储（二维数组）</p> 
<h3><a id="3_160"></a>3.实践-基本图形处理</h3> 
<p><img src="https://images2.imgbox.com/14/26/g8sbG9Gm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_163"></a>4.实践-点云拼接</h3> 
<p>遇到的问题 1.pcl未安装 2.pcl需要c++14<br> <img src="https://images2.imgbox.com/3c/60/QsUO4CK4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__167"></a>第六讲 非线性优化</h2> 
<pre><code>目标：1.理解最小二乘法
2.理解高斯牛顿和 等下降策略
3.学习ceres库和g2o库的基本使用方法
</code></pre> 
<h3><a id="1_173"></a>1.状态估计问题</h3> 
<p>最简单问题：线性系统 高斯噪声<br> 复杂问题：非线性系统，非高斯噪声</p> 
<h3><a id="3_CERES_177"></a>3.实践 CERES</h3> 
<pre><code>ADD_COMPILE_OPTIONS(-std=c++11 )
ADD_COMPILE_OPTIONS(-std=c++14 )
set( CMAKE_CXX_FLAGS "-std=c++11 -O3" ) 
</code></pre> 
<p>set( CMAKE_CXX_STANDARD 14)</p> 
<h2><a id="_184"></a>第八讲</h2> 
<p><img src="https://images2.imgbox.com/4e/d5/74JbAQE3_o.png" alt="useLK运行成功截图"><br> direct_semidense<br> <img src="https://images2.imgbox.com/9f/e7/iJW9V73K_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="linux_188"></a>发现一个很牛逼的linux安装软件的代码</h2> 
<pre><code class="prism language-cpp">wget http<span class="token operator">:</span><span class="token comment">//fishros.com/install -O fishros &amp;&amp; . fishros</span>

</code></pre> 
<p><strong>一键安装</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5c82e4722db4d5e8ccf83524d0628d61/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CTF PWN之精确覆盖变量数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a11c48f3639ffcba327c7b961a8da199/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">简单了解YOLOv8</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>