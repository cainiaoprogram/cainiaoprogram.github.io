<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>信号完整性之S参数（八） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="信号完整性之S参数（八）" />
<meta property="og:description" content="我们在信号完整性六给大家分享过S参数，就今天在之前的基础上再完善一下，有兴趣的同学可以一起讨论学习。这个是上一篇文章的链接link.，大家可以看一下，下面开始今天的分享：
0.信号完整性问题的简单描述 ■ 信号完整性(SI)：是指信号在传输路径上的质量，可以泛指电压、电流在互连结构传输过程中的信号质量问题。
■ 信号质量包括以下几点（常见的signaling problem）：
1) 过冲（上过冲和下过冲）上过冲是信号高于信号供电电源电压的最高电压，下过冲是信号低于参考地电压的最低电压。过冲可能不会对功能产生影响，但是过冲过大会造成器件损坏，影响器件的可靠性。
2）回冲（上回冲和下回冲）是指信号在达到最高电压或最低电压后回到Vcc之下或Vss之上。回冲会使噪声容限减少。
■ 原因：造成过冲和回冲的原因是信号传输路径的阻抗不连续引起的反射造成的。
3）振铃（Ringing)：是信号跳变之后的振荡，同样会使信号的噪声容限变小，过大会造成逻辑错误，而且会使信号的高频分量增加，增大EMI问题。
■ 原因：造成振铃的原因由于信号传输路径过长并且阻抗不连续所引起的多次反射造成，或是由于信号之间的含绕、信号跳变所引起的电源或地波动造成的。
4）边沿单调性（Monotonicity)：指信号上升或下降沿的回沟。对于边沿判决的时钟信号，波形边沿在翻转门限电平处的非单调性可能造成逻辑判断错误。
■ 原因：造成monotonicit的原因为传输路径过长并且阻抗不连续所引起的反射、多负载的反射或者驱动输出阻抗较大（驱动过小）所导致的接受信号过缓引起的。
■ 以上谈到是信号质量，就是时间信号的波形，那么造成这些的原因包括以上谈到的信号传输路径过长、信号传输路径阻抗不连续（信号参考平面不连续）还有就是信号之间的干扰（串扰）、同步开关噪声、抖动等等。
1.S参数定义 ■ S参数的全称为Scatter参数，即散射参数，表征无源网络的一种特性，在仿真中即用S参数来代表无源网络。
■ Sij代表就是入射波从j端口注入，在其他端口匹配负载时，在i端口测得的传输波或反射波和j端口的入射波的比值。
■ S参数描述了传输通道的频域特性，在进行串行链路SI分析时，获得通道的准确S参数是一个很重要的环节，通过S参数，我们能看到传输通道的几乎全部特性。以下是S参数的二端口网络示意图：分为S11\S12\S21\S22
S11=b1/a1|a2=0、S21=b2/a1|a2=0、S22=b2/a2|a1=0、S21=b1/a2|a1=0
2.S参数相关定义 1）S11：代表1端口的反射系数（反射损耗或回波损耗）
2）S21：代表1端口到2端口的传输系数（传输损耗或插入损耗）
3）S31：代表1端口到3端口的隔离度（反映近端串扰）
4）S41：代表1端口到4端口的隔离度（反映远端串扰）
■ S11这个值越小越好，也就是反射越小，一般建议S1&lt;0.1,即-20dB以下
■ S21这个值越大越好，也就是越小的传输损耗，理想值是1，即0dB，通常在-3dB 以上可以保证信号传输的质量
■ S31和S41也是越小越好，也就是越小的近端和远端串扰，一般建议S31/S41&lt;0.01,即在-40dB以下。
■ 时域是真实世界，频域仅仅是更好的用于做信号分析的一种数学手段。时域数字信号转换得到频域信号如果集合起来，则可以复现原来的时域信号。高频谐波分量主要影响信号的边沿时间，低频的分量影响幅度。
3.S参数分析 简单分析S11：下图显示的就是相应网络的回波损耗（S11），图1是S11的幅值显示，图2是dB值显示，具体换算如下：
S11=0.348357 dB=20log10|0.348357|=-9.1595
换算公式：dB=20log10|magnitude|
■ 一般回波损耗在没有特殊要求下要小于-20dB，由下图可知在112MHz时，损耗就已经大于了-20dB。并且随着频率的变大，信号的损耗也会变大。
简单分析S21：下图显示的是相应网络的插入损耗（S21），通常在没有特俗情况下，保证在-3dB以上可以保证信号正常传输，下图在1G范围以内都是在-3dB以上。
简单分析S31和S41分析：通常在没有特俗情况下，保证在-40dB以下可以保证信号正常传输。下图显示的是相应网络的隔离度（S31和S41），在26MHz时就已经高于-40dB，可能会影响信号传输。
4.S参数特性 ■ S参数的三大特性：无源性（Passivity），互易性（Reciprocal），因果性（Causality）
■ 无源性：对于一个无损网络，S矩阵一个单位矩阵，对于二端口网络存在下面关系式：|S11|²&#43;|S21|²=1，由于没有损耗，所以散射的总量是100%。当S21大的时候，S11就会下一些。对于无源的二端口的网络|S11|²&#43;|S21|²&lt;1,因此一个无源器件的S参数不会大于1（0dB）。
■ 互易性：如果一个器件是可交换方向使用，则Sij=Sji。
■ 因果性：因果性指的是先有激励才有输出。对于无源系统的S参数，由于信号的传输一定会产生相应的延时，因此无源系统的S参数应该符合因果性原理的。但实际测得的S参数往往会由于种种原因产生一定的非因果性，导致不正确的仿真结果。
5.S参数文件 ■ TouchStone文件定义：是一种仿真软件的标准格式文件，仿真软件中调用此文件来代表一个器件或电路。TouchStone文件名都是以.snp为后缀名，n表示端口数。
■ TouchStone文件内容：内容包括端口数量、网络名、频率、parameter格式、幅值类型（RI、代表、MA）、匹配电阻R=50ohm。二端口的网络参数总共有九行包括频率，幅值S11,相位S11，幅值S21，相位S21，幅值S12，相位S12，幅值S22，相位S22的次序排列，这些数据point连接起来就是S参数的频率曲线。
6.S参数提取 S参数的提取是最常用的信号完整性仿真的一个步骤，我们不仅能从S参数的文件中看出信号的质量，也可以把S参数文件导入到相应的仿真软件中，如ADS、ANSYS等，查看信号的时域波形，下面是S参数提取的仿真过程，包括SIWAVE和Cadence Sigrity Power SI，大家可以看一下：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/036dc8f024aa07a511a88814c50f0d3f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-17T14:34:57+08:00" />
<meta property="article:modified_time" content="2021-08-17T14:34:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">信号完整性之S参数（八）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><font color="#0000FF"><strong>我们在信号完整性六给大家分享过S参数，就今天在之前的基础上再完善一下，有兴趣的同学可以一起讨论学习。这个是上一篇文章的链接<a href="https://blog.csdn.net/weixin_41808082/article/details/116197571?spm=1001.2014.3001.5501">link</a>.，大家可以看一下，下面开始今天的分享：</strong></font></p> 
<h3><a id="0_1"></a>0.信号完整性问题的简单描述</h3> 
<p>■ 信号完整性(SI)：是指信号在传输路径上的质量，可以泛指电压、电流在互连结构传输过程中的信号质量问题。<br> ■ 信号质量包括以下几点（常见的signaling problem）：<br> 1) 过冲（上过冲和下过冲）上过冲是信号高于信号供电电源电压的最高电压，下过冲是信号低于参考地电压的最低电压。过冲可能不会对功能产生影响，但是过冲过大会造成器件损坏，影响器件的可靠性。<br> 2）回冲（上回冲和下回冲）是指信号在达到最高电压或最低电压后回到Vcc之下或Vss之上。回冲会使噪声容限减少。<br> ■ 原因：造成过冲和回冲的原因是信号传输路径的阻抗不连续引起的反射造成的。<br> 3）振铃（Ringing)：是信号跳变之后的振荡，同样会使信号的噪声容限变小，过大会造成逻辑错误，而且会使信号的高频分量增加，增大EMI问题。<br> ■ 原因：造成振铃的原因由于信号传输路径过长并且阻抗不连续所引起的多次反射造成，或是由于信号之间的含绕、信号跳变所引起的电源或地波动造成的。<br> 4）边沿单调性（Monotonicity)：指信号上升或下降沿的回沟。对于边沿判决的时钟信号，波形边沿在翻转门限电平处的非单调性可能造成逻辑判断错误。<br> ■ 原因：造成monotonicit的原因为传输路径过长并且阻抗不连续所引起的反射、多负载的反射或者驱动输出阻抗较大（驱动过小）所导致的接受信号过缓引起的。<br> ■ 以上谈到是信号质量，就是时间信号的波形，那么造成这些的原因包括以上谈到的信号传输路径过长、信号传输路径阻抗不连续（信号参考平面不连续）还有就是信号之间的干扰（串扰）、同步开关噪声、抖动等等。<br> <img src="https://images2.imgbox.com/79/ea/6uXI0Suy_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1S_13"></a>1.S参数定义</h3> 
<p>■ S参数的全称为Scatter参数，即散射参数，表征无源网络的一种特性，在仿真中即用S参数来代表无源网络。<br> ■ Sij代表就是入射波从j端口注入，在其他端口匹配负载时，在i端口测得的传输波或反射波和j端口的入射波的比值。<br> ■ S参数描述了传输通道的频域特性，在进行串行链路SI分析时，获得通道的准确S参数是一个很重要的环节，通过S参数，我们能看到传输通道的几乎全部特性。以下是S参数的二端口网络示意图：分为S11\S12\S21\S22<br> <img src="https://images2.imgbox.com/5c/c8/5ATNTwkL_o.png" alt="在这里插入图片描述"><br> S11=b1/a1|a2=0、S21=b2/a1|a2=0、S22=b2/a2|a1=0、S21=b1/a2|a1=0</p> 
<h3><a id="2S_19"></a>2.S参数相关定义</h3> 
<p>1）S11：代表1端口的反射系数（反射损耗或回波损耗）<br> 2）S21：代表1端口到2端口的传输系数（传输损耗或插入损耗）<br> 3）S31：代表1端口到3端口的隔离度（反映近端串扰）<br> 4）S41：代表1端口到4端口的隔离度（反映远端串扰）<br> ■ S11这个值越小越好，也就是反射越小，一般建议S1&lt;0.1,即-20dB以下<br> ■ S21这个值越大越好，也就是越小的传输损耗，理想值是1，即0dB，通常在-3dB 以上可以保证信号传输的质量<br> ■ S31和S41也是越小越好，也就是越小的近端和远端串扰，一般建议S31/S41&lt;0.01,即在-40dB以下。<br> ■ 时域是真实世界，频域仅仅是更好的用于做信号分析的一种数学手段。时域数字信号转换得到频域信号如果集合起来，则可以复现原来的时域信号。高频谐波分量主要影响信号的边沿时间，低频的分量影响幅度。</p> 
<h3><a id="3S_28"></a>3.S参数分析</h3> 
<p><font color="#FF7F50"><strong>简单分析S11：下图显示的就是相应网络的回波损耗（S11），图1是S11的幅值显示，图2是dB值显示，具体换算如下：</strong></font><br> <img src="https://images2.imgbox.com/3c/2f/yk45rfK3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cd/9c/tklC8cYS_o.png" alt="在这里插入图片描述"><br> S11=0.348357 dB=20<em>log10|0.348357|=-9.1595<br> 换算公式：dB=20</em>log10|magnitude|<br> ■ 一般回波损耗在没有特殊要求下要小于-20dB，由下图可知在112MHz时，损耗就已经大于了-20dB。并且随着频率的变大，信号的损耗也会变大。<br> <img src="https://images2.imgbox.com/4c/0b/r1wIurQo_o.png" alt="在这里插入图片描述"><br> <font color="#FF7F50"><strong>简单分析S21：下图显示的是相应网络的插入损耗（S21），通常在没有特俗情况下，保证在-3dB以上可以保证信号正常传输，下图在1G范围以内都是在-3dB以上。</strong></font><br> <img src="https://images2.imgbox.com/90/71/W7c87oCG_o.png" alt="在这里插入图片描述"><br> <font color="#FF7F50"><strong>简单分析S31和S41分析：通常在没有特俗情况下，保证在-40dB以下可以保证信号正常传输。下图显示的是相应网络的隔离度（S31和S41），在26MHz时就已经高于-40dB，可能会影响信号传输。</strong></font><br> <img src="https://images2.imgbox.com/b3/28/T5A1FUYW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4S_40"></a>4.S参数特性</h3> 
<p><font color="#00CED1"><strong>■ S参数的三大特性：无源性（Passivity），互易性（Reciprocal），因果性（Causality）</strong></font><br> ■ 无源性：对于一个无损网络，S矩阵一个单位矩阵，对于二端口网络存在下面关系式：|S11|²+|S21|²=1，由于没有损耗，所以散射的总量是100%。当S21大的时候，S11就会下一些。对于无源的二端口的网络|S11|²+|S21|²&lt;1,因此一个无源器件的S参数不会大于1（0dB）。<br> ■ 互易性：如果一个器件是可交换方向使用，则Sij=Sji。<br> ■ 因果性：因果性指的是先有激励才有输出。对于无源系统的S参数，由于信号的传输一定会产生相应的延时，因此无源系统的S参数应该符合因果性原理的。但实际测得的S参数往往会由于种种原因产生一定的非因果性，导致不正确的仿真结果。</p> 
<h3><a id="5S_45"></a>5.S参数文件</h3> 
<p>■ TouchStone文件定义：是一种仿真软件的标准格式文件，仿真软件中调用此文件来代表一个器件或电路。TouchStone文件名都是以.snp为后缀名，n表示端口数。<br> ■ TouchStone文件内容：内容包括端口数量、网络名、频率、parameter格式、幅值类型（RI、代表、MA）、匹配电阻R=50ohm。二端口的网络参数总共有九行包括频率，幅值S11,相位S11，幅值S21，相位S21，幅值S12，相位S12，幅值S22，相位S22的次序排列，这些数据point连接起来就是S参数的频率曲线。<br> <img src="https://images2.imgbox.com/e6/f9/TmZySo4U_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/04/10/3wlBar0D_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6S_50"></a>6.S参数提取</h3> 
<p>S参数的提取是最常用的信号完整性仿真的一个步骤，我们不仅能从S参数的文件中看出信号的质量，也可以把S参数文件导入到相应的仿真软件中，如ADS、ANSYS等，查看信号的时域波形，下面是S参数提取的仿真过程，包括SIWAVE和Cadence Sigrity Power SI，大家可以看一下：<br> <font color="#0000FF"><strong>链接: <a href="https://blog.csdn.net/weixin_41808082/article/details/116638672?spm=1001.2014.3001.5501">link</a>.和链接: <a href="https://blog.csdn.net/weixin_41808082/article/details/116584970?spm=1001.2014.3001.5501">link</a>.</strong></font></p> 
<p><strong>以上是关于S参数总结分析的过程！</strong><br> <strong>如有错误，希望各位大神留言指正，喜欢和学习仿真的朋友可以关注，留言，顺便点个赞👍，我会坚持整理分享和大家一起学习，感谢！！！</strong><br> 想要掌握真正的仿真还要加强理论知识，大家一起学习，加油！！！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b15855c223f33821879f9bb69a6781bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PyTorch教程（5）激活函数(后记）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6418247f106b7cf6dffe746a5fac4df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">看完左耳朵耗子的116篇文章，我给自己定了个5年技术规划</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>