<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL记录文档 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL记录文档" />
<meta property="og:description" content="终端打开和使用mysql命令 管理员模式下，net start mysql打开数据库
然后，输入mysql -u root(用户名) -p 123456(密码)，进入mysql；
show databases; 看看有哪些数据库；
use 数据库名称（如果想要创建一个数据库，使用create databases 名称；来创建）
....
退出数据库时使用quit；命令；
关闭mysql服务，net stop mysql
select version();查看sql的版本号 select database();查看正在使用的数据库 show databases;查看sql中有哪些数据库； creat database 库名；创建数据库 source 绝对路径（不能有中文）；将文件导入数据库,执行脚本文件。 use 库名；使用数据库 show 表名；展示库中的表名 select * from 表名；查看表中的内容（*效率低，可读性差） desc(describe) 表名；查看表的结构
单行处理函数 需要注意 isnull()只能判别是否为null,ifnull(字段，替换值)可以用来替换。
多行处理函数不对null进行处理。max()，min(),count(),avg(),sum();
count((具体字段)不包括null，count（*）包含null；
单表查询执行顺序： from -&gt;where -&gt;group by-&gt;having-&gt;select-&gt; order by
格式：
select ....
from ....
where ....
group by ...
having ...不能单独使用，与group by搭配使用
order by ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4a6e93481b69b3185823749ef8c7a046/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-09T15:24:35+08:00" />
<meta property="article:modified_time" content="2023-11-09T15:24:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL记录文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>终端打开和使用mysql命令</h2> 
<ul><li> <p>管理员模式下，net start mysql打开数据库</p> </li><li> <p>然后，输入mysql -u root(用户名) -p 123456(密码)，进入mysql；</p> </li><li> <p>show databases; 看看有哪些数据库；</p> </li><li> <p>use 数据库名称（如果想要创建一个数据库，使用create databases 名称；来创建）</p> </li><li> <p>....</p> </li><li> <p>退出数据库时使用quit；命令；</p> </li><li> <p>关闭mysql服务，net stop mysql</p> </li></ul> 
<p>select version();查看sql的版本号 select database();查看正在使用的数据库 show databases;查看sql中有哪些数据库； creat database 库名；创建数据库 source 绝对路径（不能有中文）；将文件导入数据库,执行脚本文件。 use 库名；使用数据库 show 表名；展示库中的表名 select * from 表名；查看表中的内容（*效率低，可读性差） desc(describe) 表名；查看表的结构</p> 
<h3>单行处理函数</h3> 
<p>需要注意 isnull()只能判别是否为null,ifnull(字段，替换值)可以用来替换。</p> 
<p>多行处理函数不对null进行处理。max()，min(),count(),avg(),sum();</p> 
<p>count((具体字段)不包括null，count（*）包含null；</p> 
<p>单表查询执行顺序： from -&gt;where -&gt;group by-&gt;having-&gt;select-&gt; order by</p> 
<p>格式：</p> 
<p>select ....</p> 
<p>from ....</p> 
<p>where ....</p> 
<p>group by ...</p> 
<p>having ...不能单独使用，与group by搭配使用</p> 
<p>order by ...</p> 
<h3>模糊查询</h3> 
<p>......where 字段名 like '%t' 以t结尾的字段值</p> 
<p>like 't%'t开头的 like '_A%' 第二个是A的字段值。</p> 
<h3>sql语句</h3> 
<p>DDl create drop alter truncate 对表的结构进行操作</p> 
<p>DML insert delete update select</p> 
<p>insert常与into搭配使用</p> 
<p>update 表名 set 字段=值 where 条件</p> 
<p>delete 删除效率低，可以通过TCL(事务控制语言) rollback 恢复数据；truncate table 表名，删除整张表，不能恢复。</p> 
<h3>复制表格</h3> 
<p>create table 表名2 as select * from 表名1；</p> 
<h3>四种约束</h3> 
<p>检查约束check（MySQL不支持，Oracle支持）</p> 
<p>not null, unique, primary key(pk主键约束)， foreign key(外键约束fk)</p> 
<p>pk=not null +unique</p> 
<p>主键又分自然主键和业务主键，一般常用自然主键，常与auto—increment搭配使用</p> 
<p>fk最起码具备unique，可以为null，格式 class(</p> 
<p>no int primary key</p> 
<p>)</p> 
<p>student (</p> 
<p>num int ,</p> 
<p>foreign(num) references class(no)</p> 
<p>)</p> 
<p>先创父表，再创子表，先删子表，再删父表。class 是student的父表。</p> 
<h3>查看存储引擎</h3> 
<p>show engines \G;</p> 
<p>show create table 表名；显示存储引擎以及一些默认表结构；</p> 
<h3>事务语言（transaction control language TCL）</h3> 
<p>事务是最小单位，具有完整的业务逻辑</p> 
<h4>事务四个特性</h4> 
<p>原子性、一致性、隔离性、持久性</p> 
<h4>两个事物同时开启</h4> 
<pre> select @@tx_isolation; -查询当前的隔离级别
 set session transaction isolation level read uncommitted; -设置当前会话隔离级别为“读未提交”</pre> 
<p>读未提交 read uncomitted ：又叫脏读，B事务只读A事务未提交的，缺点：不能读已提交的</p> 
<p>读已提交 read comitted ：解决了脏读，但不能重读读，A事务改变提交后，B事务读取的内容就会改变（Oracle默认）</p> 
<p>可重复读 repeatable read：解决了不能重复读，但每次读取的内容都一样，所谓“幻读”，一旦B事务开启，读取内容就不变了（MySQL默认）</p> 
<p>序列化/串化 serializable ：解决了所有问题，按照序列排序，A事务开启之后，B事务不能干预</p> 
<p>start transaction; ||开启事务</p> 
<p>对表的操作DML insert delete update</p> 
<p></p> 
<p>commit 之后事务结束（成功）</p> 
<p>rollback回滚到事务开启的状态，事务结束</p> 
<h3>索引</h3> 
<p>主键或具有唯一性的字段，自动添加索引；</p> 
<p>create index 索引名 on 表名（加索引字段）；</p> 
<p>drop index 索引名 on 表名；</p> 
<p>explain select * from 表名 where 字段 =字段值；查看某字段是否使用索引</p> 
<p>底层是由B-tree构建的；</p> 
<p>1.以%开始或2.使用or时，两字段有无索引时，索引失效；</p> 
<p>3.复合索引，左侧有效，右侧无效。</p> 
<p>4.索引字段参加运算；</p> 
<p>5.索引使用函数处理</p> 
<p>......</p> 
<h5>索引分类</h5> 
<p>单一索引，复合索引，主键索引，唯一性索引</p> 
<h3>视图</h3> 
<p>修改视图会影响原表；作用：简化开发</p> 
<p>create view 视图名 as sql语句;</p> 
<p>drop view 视图名；CRUD 增删改查；</p> 
<p>C :create R：retrive</p> 
<p>U: update D:delete</p> 
<h3>DBA</h3> 
<p>导入数据库：source 路径 后面没有；</p> 
<p>导出数据库 ： sqldump 库名 &gt; 路径 -uroot -p密码；</p> 
<h3>数据库三范式</h3> 
<p>第一范式；有主键；</p> 
<p>第二范式：在第一范式的基础上，非主键唯一依赖主键；</p> 
<p>第三范式：在第二范式的基础上，不得传递依赖属性；</p> 
<h3>数据库设计</h3> 
<p>多对多，三张表，外键有两个；</p> 
<p>一对多，两张表，外键有一个；</p> 
<p>一对一，两张表，外键唯一；</p> 
<p></p> 
<h3>结语</h3> 
<p>数据库的设计更多是为了满足客户的需求，三范式只是理论上的，有时候可以用冗余换速度，同时也减少了数据库的复杂。</p> 
<h2>四种连接的定义与区别</h2> 
<p>left join （左连接）：返回包括左表中的所有记录和右表中连接字段相等的记录。</p> 
<p>　 right join （右连接）：返回包括右表中的所有记录和左表中连接字段相等的记录。</p> 
<p>　　inner join （等值连接或者叫内连接）：只返回两个表中连接字段相等的行。</p> 
<p>　　full join （全外连接）：返回左右表中所有的记录和左右表中连接字段相等的记录。</p> 
<p>内连接：<img alt="" height="146" src="https://images2.imgbox.com/70/1d/A6gqszJh_o.png" width="234"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 INNER JOIN Table_B B
 ON A.Key = B.Key</pre> 
<p>左连接：<img alt="" height="145" src="https://images2.imgbox.com/39/64/PstrfOcD_o.png" width="234"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 LEFT JOIN Table_B B
 ON A.Key = B.Key</pre> 
<p>右连接:<img alt="" height="132" src="https://images2.imgbox.com/9d/00/5fvtn64C_o.png" width="204"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 RIGHT JOIN Table_B B
 ON A.Key = B.Key</pre> 
<p>外连接：<img alt="" height="137" src="https://images2.imgbox.com/cf/5a/qPhjzP9A_o.png" width="213"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 FULL OUTER JOIN Table_B B
 ON A.Key = B.Key</pre> 
<p>左连接-内连接：<img alt="" height="140" src="https://images2.imgbox.com/0f/b0/EH9WYRRc_o.png" width="213"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 LEFT JOIN Table_B B
 ON A.Key = B.Key
 WHERE B.Key IS NULL</pre> 
<p>右连接-内连接：<img alt="" height="142" src="https://images2.imgbox.com/bf/95/nPnXWz0J_o.png" width="223"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 RIGHT JOIN Table_B B
 ON A.Key = B.Key
 WHERE A.Key IS NULL</pre> 
<p>外连接-内连接：<img alt="" height="142" src="https://images2.imgbox.com/79/c0/X6wM6fd3_o.png" width="209"></p> 
<pre> SELECT &lt;select_list&gt;
 FROM Table_A A
 FULL OUTER JOIN Table_B B
 ON A.Key = B.Key
 WHERE A.Key IS NULL OR B.Key IS NULL</pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef201d5d7b2de727c2866d07b3cde5f4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">华为两大旗帜性人物相继发声！透露出哪些重要信息？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db5a011362a941e6f1428f5e39f8f49d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">html-webpack-plugin 配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>