<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【js组件】自定义select - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【js组件】自定义select" />
<meta property="og:description" content="单个HTML页面直接运行。
下面是代码：
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;style&gt; body{ background-color: black; color: white; } .KatyLight-select { position: relative; width: 200px; display: inline-block; text-align: center; user-select: none; color: #3b5b65; font-size: .8rem; } .KatyLight-select &gt; .title { padding: .5rem 1rem; background-color: transparent; display: block; box-shadow: inset 0 0 0 2px #96e4ff; color: #96e4ff; } .KatyLight-select &gt; .title:empty::after{ content: &#39;请选择&#39;; color: #3b5b65; } .KatyLight-select &gt; .KatyLight-select-list { display: none; } ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/678f07d55f73c35a404d933a7b1443b1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-06T15:02:08+08:00" />
<meta property="article:modified_time" content="2022-07-06T15:02:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【js组件】自定义select</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><img alt="" src="https://images2.imgbox.com/0b/40/8DXkWW59_o.jpg"><img alt="" src="https://images2.imgbox.com/1c/f5/kweWugux_o.jpg"></p> 
<p>单个HTML页面直接运行。</p> 
<p>下面是代码：</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Title&lt;/title&gt;
  &lt;style&gt;
    body{
      background-color: black;
      color: white;
    }
    .KatyLight-select {
      position: relative;
      width: 200px;
      display: inline-block;
      text-align: center;
      user-select: none;
      color: #3b5b65;
      font-size: .8rem;
    }

    .KatyLight-select &gt; .title {
      padding: .5rem 1rem;
      background-color: transparent;
      display: block;
      box-shadow: inset 0 0 0 2px #96e4ff;
      color: #96e4ff;
    }
    .KatyLight-select &gt; .title:empty::after{
      content: '请选择';
      color: #3b5b65;

    }
    .KatyLight-select &gt; .KatyLight-select-list {
      display: none;
    }

    .KatyLight-select.active &gt; .KatyLight-select-list {
      display: block;
    }

    .KatyLight-select-list &gt; ul {
      list-style: none;
      margin: 0;
      position: absolute;
      top:.5rem;
      padding-inline-start: 0;
       left: 0;
      width: 100%;
      box-shadow: inset 0 0 0 2px #96e4ff;
    }

    .KatyLight-select-list &gt; ul &gt; li {
      padding:.5rem 0;
    }

    .KatyLight-select-list {
      position: relative;
    }

    .KatyLight-select-list &gt; ul &gt; li:hover{
      color: #96e4ff;
    }

    .KatyLight-select-list &gt; ul &gt; li.active {
      color: #96e4ff;
      background-color: #96e4ff22;
    }
    .KatyLight-select &gt; .del {
      position: absolute;
      right: 1rem;
      top: .5rem;
      z-index: 22;
      height: 2rem;
      width: 2rem;

    }

    .KatyLight-select &gt; .del.active {
      display: block;
    }

    .KatyLight-select &gt; .del {
      display: none;
      color: white;
    }

    .KatyLight-select &gt; .del::after {
      content: 'x';
    }
  &lt;/style&gt;

&lt;/head&gt;
&lt;script&gt;
  class KatyLightSelect {
    constructor(params) {
      this.target = params.target
      this.data = params.data
      this.title = this.target.querySelector('.title')
      this.del = this.target.querySelector('.del')
      this.ul = this.target.querySelector('ul')
      this.active = false
      this.cIndex = -1
      this.outClickZ = this.outClick.bind(this)
      document.addEventListener('click', this.outClickZ)
      this.del.dataset.del = '1'
      this.title.dataset.title = '1'
      this.domCreate()
    }
    domCreate() {
      this.li = []
      for (let i = 0; i &lt; this.data.length; i++) {
        let li = document.createElement('li')
        li.dataset.index = i.toString()
        li.dataset.option = 'K'
        li.innerText = this.data[i].label
        this.ul.append(li)
        this.li.push(li)
      }
    }
    titleTrigger() {
      this.view(!this.active)
    }
    view(t) {
      this.active = t
      if (t) {
        this.target.classList.add('active')
      } else {
        this.target.classList.remove('active')
      }
    }
    getVal() {
      if (this.cIndex === -1) {
        return ''
      } else {
        return this.data[this.cIndex].value
      }
    }
    delTrigger() {
      this.choose(-1)
    }
    outClick(e) {
      if (!this.target.contains(e.target)) {
        this.view(false)
      } else {
        if (e.target.dataset.option) {
          this.choose(parseInt(e.target.dataset.index))
          this.view(false)
        } else if (e.target.dataset.title) {
          this.titleTrigger()
        } else if (e.target.dataset.del) {
          this.delTrigger()
        }
      }
    }
    choose(ii) {
      if (this.cIndex !== -1) {
        this.li[this.cIndex].classList.remove('active')
      }
      this.cIndex = ii
      if (this.cIndex !== -1) {
        this.li[this.cIndex].classList.add('active')
        this.title.innerText = this.data[this.cIndex].label
        this.del.classList.add('active')
      } else {
        this.title.innerText = ''
        this.del.classList.remove('active')
      }
    }
  }

  window.onload = () =&gt; {
    let zz = new KatyLightSelect({
      target: document.querySelector('.KatyLight-select'),
      data: [
        { label: 'a1', value: 'b1' },
        { label: 'a2', value: 'b2' },
        { label: 'a3', value: 'b3' },
        { label: 'a4', value: 'b4 ' },
        { label: 'a5', value: 'b5' },
        { label: 'a6', value: 'b6' }
      ]
    })
    setTimeout(() =&gt; {
      console.log(zz.getVal())
    }, 1500)
  }
&lt;/script&gt;
&lt;body&gt;
&lt;div class="KatyLight-select"&gt;
  &lt;span class="title"&gt;&lt;/span&gt;
  &lt;span class="del"&gt;&lt;/span&gt;
  &lt;div class="KatyLight-select-list"&gt;
    &lt;ul&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b137bdeec1c3499679ae33dba4ce90f0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">element-plus使用中文</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/777f8748a29e7638b84f8d6b48acc874/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Latex 爬过的坑(4)——Latex中插入Emoji</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>