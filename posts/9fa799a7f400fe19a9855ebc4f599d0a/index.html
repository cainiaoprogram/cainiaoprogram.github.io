<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GEE开发之Modis_NDVI数据分析获取大总结 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GEE开发之Modis_NDVI数据分析获取大总结" />
<meta property="og:description" content="GEE开发之Modis_NDVI数据分析获取大总结 0. 之前的博客链接1. MYD13Q1(250米/16天)2. MOD09GA_006_NDVI(500米/1天)3. MOD13Q1(250米/16天)4. MOD13A1(500米/16天)5. MOD13A2(1000米/16天)6. 日数据下载(以MYD13Q1为例子)7. 月数据下载(以MYD13Q1为例子)7.1 代码一7.2 代码二（简洁） 8. 年数据下载(以MYD13Q1为例子)8.1 代码一8.2 代码二（简洁） 前言：主要总结一下在GEE上获取Modis_NDVI数据的各种形式，主要包括MYD13Q1、MOD09GA、MOD13Q1、MOD13A1、MOD13A2以及日数据、月数据、年数据的获取和下载。 0. 之前的博客链接 之前总结的Modis_NDVI数据分析的博客链接如下：
《GEE开发之Modis_NDVI的数据分析》
《GEE开发之MODIS_NDVI年均值数据分析》
《GEE开发之MODIS_NDVI一年之中的所有数据获取》
1. MYD13Q1(250米/16天) //以鹿邑为例子 var geometry = ee.FeatureCollection(&#39;users/www1573979951/luyixian&#39;); Map.centerObject(geometry,6); //选取影像集以及波段 NDVI var ndvi = ee.ImageCollection(&#34;MODIS/006/MYD13Q1&#34;).filterDate(&#39;2020-01-01&#39;, &#39;2020-12-31&#39;).filterBounds(geometry).select(&#34;NDVI&#34;); //换算单位 var multiply = function(image){ var img = image.multiply(0.0001); return img.set(&#39;system:time_start&#39;,image.get(&#39;system:time_start&#39;)); }; ndvi = ndvi.map(multiply); print(ndvi); //设置调色板并展示影像 var colorizedVis = {min: 0.0, max: 1.0, palette: [&#39;FFFFFF&#39;, &#39;CE7E45&#39;, &#39;DF923D&#39;, &#39;F1B555&#39;, &#39;FCD163&#39;, &#39;99B718&#39;, &#39;74A901&#39;, &#39;66A000&#39;, &#39;529400&#39;, &#39;3E8601&#39;, &#39;207401&#39;, &#39;056201&#39;, &#39;004C00&#39;, &#39;023B01&#39;, &#39;012E01&#39;, &#39;011D01&#39;, &#39;011301&#39;]}; Map." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9fa799a7f400fe19a9855ebc4f599d0a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-18T16:12:02+08:00" />
<meta property="article:modified_time" content="2022-11-18T16:12:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GEE开发之Modis_NDVI数据分析获取大总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>GEE开发之Modis_NDVI数据分析获取大总结</h4> 
 <ul><li><a href="#0__4" rel="nofollow">0. 之前的博客链接</a></li><li><a href="#1__MYD13Q125016_10" rel="nofollow">1. MYD13Q1(250米/16天)</a></li><li><a href="#2_MOD09GA_006_NDVI5001_33" rel="nofollow">2. MOD09GA_006_NDVI(500米/1天)</a></li><li><a href="#3_MOD13Q125016_48" rel="nofollow">3. MOD13Q1(250米/16天)</a></li><li><a href="#4_MOD13A150016_69" rel="nofollow">4. MOD13A1(500米/16天)</a></li><li><a href="#5_MOD13A2100016_91" rel="nofollow">5. MOD13A2(1000米/16天)</a></li><li><a href="#6_MYD13Q1_113" rel="nofollow">6. 日数据下载(以MYD13Q1为例子)</a></li><li><a href="#7_MYD13Q1_155" rel="nofollow">7. 月数据下载(以MYD13Q1为例子)</a></li><li><ul><li><a href="#71__156" rel="nofollow">7.1 代码一</a></li><li><a href="#72__210" rel="nofollow">7.2 代码二（简洁）</a></li></ul> 
  </li><li><a href="#8_MYD13Q1_255" rel="nofollow">8. 年数据下载(以MYD13Q1为例子)</a></li><li><ul><li><a href="#81__256" rel="nofollow">8.1 代码一</a></li><li><a href="#82__321" rel="nofollow">8.2 代码二（简洁）</a></li></ul> 
 </li></ul> 
</div> 
<br> 前言：主要总结一下在GEE上获取Modis_NDVI数据的各种形式，主要包括MYD13Q1、MOD09GA、MOD13Q1、MOD13A1、MOD13A2以及日数据、月数据、年数据的获取和下载。 
<p></p> 
<h2><a id="0__4"></a>0. 之前的博客链接</h2> 
<p>之前总结的Modis_NDVI数据分析的博客链接如下：<br> 《<a href="https://blog.csdn.net/qq_32306361/article/details/126078600">GEE开发之Modis_NDVI的数据分析</a>》<br> 《<a href="https://blog.csdn.net/qq_32306361/article/details/126125256">GEE开发之MODIS_NDVI年均值数据分析</a>》<br> 《<a href="https://blog.csdn.net/qq_32306361/article/details/127188400">GEE开发之MODIS_NDVI一年之中的所有数据获取</a>》</p> 
<h2><a id="1__MYD13Q125016_10"></a>1. MYD13Q1(250米/16天)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
 <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span>image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> <span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2020年NDVI的均值</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/83/e2/YMzfNYtI_o.png" alt="在这里插入图片描述"><br> 此图是鹿邑县2020年NDVI的均值<br> <img src="https://images2.imgbox.com/9c/9f/7mLdvb6y_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2_MOD09GA_006_NDVI5001_33"></a>2. MOD09GA_006_NDVI(500米/1天)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/MOD09GA_006_NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> <span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//2020年NDVI的均值</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/48/33/IhqVQsjf_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4b/82/YxiipYSv_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="3_MOD13Q125016_48"></a>3. MOD13Q1(250米/16天)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MOD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">toDictionary</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> <span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a5/f7/DTEQQSjt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/09/aa/tQ3yFJBr_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4_MOD13A150016_69"></a>4. MOD13A1(500米/16天)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MOD13A1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">toDictionary</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> <span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/22/c6/X74n30lB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/08/1f/rBSus6nT_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="5_MOD13A2100016_91"></a>5. MOD13A2(1000米/16天)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MOD13A2"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterBounds</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">toDictionary</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">.</span><span class="token function">median</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> <span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//NDVI均值显示</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/0c/74/STq97flQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/5e/FQgY61ss_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="6_MYD13Q1_113"></a>6. 日数据下载(以MYD13Q1为例子)</h2> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
 <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span>image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">exportImageCollection</span><span class="token punctuation">(</span><span class="token parameter">imgCol</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> indexList <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"system:index"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  indexList<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">indexs</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>indexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> image <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"system:index"</span><span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      image <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查看具体的遥感影像</span>
      <span class="token comment">//tif数据下载</span>
      Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">image</span><span class="token operator">:</span> image<span class="token punctuation">,</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fileNamePrefix</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">folder</span><span class="token operator">:</span> <span class="token string">'Modis'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
        <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token string">"EPSG:4326"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">exportImageCollection</span><span class="token punctuation">(</span>ndvi<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/22/6a/otfxcEtC_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/42/dc/lxBTZESw_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="7_MYD13Q1_155"></a>7. 月数据下载(以MYD13Q1为例子)</h2> 
<h3><a id="71__156"></a>7.1 代码一</h3> 
<pre><code class="prism language-javascript"><span class="token comment">//以鹿邑为例子 </span>
<span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//选取影像集以及波段 NDVI</span>
<span class="token keyword">var</span> ndvi <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2020-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
 <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span>image<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
ndvi <span class="token operator">=</span> ndvi<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//设置调色板并展示影像</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//时间范围</span>
<span class="token keyword">var</span> years <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> months <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//将逐日数据生成月平均数据</span>
<span class="token keyword">var</span> monthlymeanNDVI <span class="token operator">=</span>  ee<span class="token punctuation">.</span>ImageCollection<span class="token punctuation">.</span><span class="token function">fromImages</span><span class="token punctuation">(</span>
  years<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> months<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> ndvi<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">calendarRange</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span>y<span class="token punctuation">,</span> <span class="token string">'year'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">calendarRange</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> m<span class="token punctuation">,</span> <span class="token string">'month'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'year'</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'month'</span><span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span> ee<span class="token punctuation">.</span>Date<span class="token punctuation">.</span><span class="token function">fromYMD</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flatten</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">print</span><span class="token punctuation">(</span>monthlymeanNDVI<span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">exportImageCollection</span><span class="token punctuation">(</span><span class="token parameter">imgCol</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> indexList <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"system:index"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  indexList<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">indexs</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>indexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> image <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"system:index"</span><span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      image <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查看具体的遥感影像</span>
      <span class="token comment">//tif数据下载</span>
      Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">image</span><span class="token operator">:</span> image<span class="token punctuation">,</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fileNamePrefix</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">folder</span><span class="token operator">:</span> <span class="token string">'Modis'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
        <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token string">"EPSG:4326"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">exportImageCollection</span><span class="token punctuation">(</span>monthlymeanNDVI<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9c/3c/XtGoDaZI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/53/79/mzO2vTx4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="72__210"></a>7.2 代码二（简洁）</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">NDVI</span> <span class="token operator">=</span>ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">2018</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">2020</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token number">12</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> data_collection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
      <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">7</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">8</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">10</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">12</span><span class="token operator">:</span>
        data_collection <span class="token operator">=</span> <span class="token constant">NDVI</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-01'</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">9</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token number">11</span><span class="token operator">:</span>
        data_collection <span class="token operator">=</span> <span class="token constant">NDVI</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-01'</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-30'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
        data_collection <span class="token operator">=</span> <span class="token constant">NDVI</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-01'</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token operator">+</span><span class="token string">'-28'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// print(data_collection)</span>
    <span class="token keyword">var</span> YR_collection <span class="token operator">=</span> data_collection<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// print(YR_collection)</span>
    Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">image</span><span class="token operator">:</span> YR_collection<span class="token punctuation">,</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token punctuation">,</span>
      <span class="token literal-property property">fileNamePrefix</span><span class="token operator">:</span> i<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>j<span class="token punctuation">,</span>
      <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
      <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
      <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span><span class="token punctuation">,</span>
      <span class="token literal-property property">folder</span><span class="token operator">:</span> <span class="token string">'Modis'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c7/d6/Lz3sBdfD_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="8_MYD13Q1_255"></a>8. 年数据下载(以MYD13Q1为例子)</h2> 
<h3><a id="81__256"></a>8.1 代码一</h3> 
<pre><code class="prism language-javascript"> <span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 选择数据集并进行波段比例换算</span>
<span class="token keyword">var</span> collection <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MOD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span><span class="token string">'2000-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2020-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"NDVI"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//换算单位</span>
<span class="token keyword">var</span> <span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">image</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">var</span> img <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token keyword">return</span> img<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">toDictionary</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span><span class="token function">propertyNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
collection <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>multiply<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//进行年平均值的计算</span>
<span class="token keyword">var</span> years <span class="token operator">=</span> ee<span class="token punctuation">.</span>List<span class="token punctuation">.</span><span class="token function">sequence</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> collectYear <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span>years
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> start <span class="token operator">=</span> ee<span class="token punctuation">.</span>Date<span class="token punctuation">.</span><span class="token function">fromYMD</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> end <span class="token operator">=</span> start<span class="token punctuation">.</span><span class="token function">advance</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">'month'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> collection<span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">float</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'system:time_start'</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'year'</span><span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>collectYear<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//年均值的时间序列展示</span>
<span class="token keyword">var</span> Yearly_chart <span class="token operator">=</span> ui<span class="token punctuation">.</span>Chart<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">imageCollection</span><span class="token operator">:</span> collectYear<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'NDVI_mean'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
    <span class="token literal-property property">reducer</span><span class="token operator">:</span> ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    <span class="token literal-property property">xProperty</span><span class="token operator">:</span> <span class="token string">'year'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setOptions</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">interpolateNulls</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lineWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'NDVI Yearly Seires'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">vAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'NDVI'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">hAxis</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Date'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//trendlines: { 0: {title: 'NDVI_trend',type:'linear', showR2: true,  color:'red', visibleInLegend: true}}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>Yearly_chart<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> colorizedVis <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>  <span class="token literal-property property">palette</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'FFFFFF'</span><span class="token punctuation">,</span> <span class="token string">'CE7E45'</span><span class="token punctuation">,</span> <span class="token string">'DF923D'</span><span class="token punctuation">,</span> <span class="token string">'F1B555'</span><span class="token punctuation">,</span> <span class="token string">'FCD163'</span><span class="token punctuation">,</span> <span class="token string">'99B718'</span><span class="token punctuation">,</span> <span class="token string">'74A901'</span><span class="token punctuation">,</span> <span class="token string">'66A000'</span><span class="token punctuation">,</span> <span class="token string">'529400'</span><span class="token punctuation">,</span> <span class="token string">'3E8601'</span><span class="token punctuation">,</span> <span class="token string">'207401'</span><span class="token punctuation">,</span> <span class="token string">'056201'</span><span class="token punctuation">,</span> <span class="token string">'004C00'</span><span class="token punctuation">,</span> <span class="token string">'023B01'</span><span class="token punctuation">,</span>  <span class="token string">'012E01'</span><span class="token punctuation">,</span> <span class="token string">'011D01'</span><span class="token punctuation">,</span> <span class="token string">'011301'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">exportImageCollection</span><span class="token punctuation">(</span><span class="token parameter">imgCol</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> indexList <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">reduceColumns</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Reducer<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"system:index"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  indexList<span class="token punctuation">.</span><span class="token function">evaluate</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">indexs</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>indexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> image <span class="token operator">=</span> imgCol<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>ee<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"system:index"</span><span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      image <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      Map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> colorizedVis<span class="token punctuation">,</span> indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//查看具体的遥感影像</span>
      <span class="token comment">//tif数据下载</span>
      Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">image</span><span class="token operator">:</span> image<span class="token punctuation">,</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">fileNamePrefix</span><span class="token operator">:</span> <span class="token string">'modis_ndvi_'</span><span class="token operator">+</span>indexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">folder</span><span class="token operator">:</span> <span class="token string">'Modis'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
        <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
        <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token string">"EPSG:4326"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">exportImageCollection</span><span class="token punctuation">(</span>collectYear<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/22/68/bSQfEPqb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/00/b1/53n5bXWK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="82__321"></a>8.2 代码二（简洁）</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">var</span> geometry <span class="token operator">=</span> ee<span class="token punctuation">.</span><span class="token function">FeatureCollection</span><span class="token punctuation">(</span><span class="token string">'users/www1573979951/luyixian'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Map<span class="token punctuation">.</span><span class="token function">centerObject</span><span class="token punctuation">(</span>geometry<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token constant">NDVI</span> <span class="token operator">=</span>ee<span class="token punctuation">.</span><span class="token function">ImageCollection</span><span class="token punctuation">(</span><span class="token string">"MODIS/006/MYD13Q1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">2018</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">2020</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> data_collection <span class="token operator">=</span> <span class="token constant">NDVI</span><span class="token punctuation">.</span><span class="token function">filterDate</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token string">'-01-01'</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token string">'-12-31'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'NDVI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">print</span><span class="token punctuation">(</span>data_collection<span class="token punctuation">)</span>
  <span class="token keyword">var</span> YR_collection <span class="token operator">=</span> data_collection<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token number">0.0001</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clip</span><span class="token punctuation">(</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Export<span class="token punctuation">.</span>image<span class="token punctuation">.</span><span class="token function">toDrive</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">image</span><span class="token operator">:</span> YR_collection<span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> i<span class="token punctuation">,</span>
    <span class="token literal-property property">fileNamePrefix</span><span class="token operator">:</span> i<span class="token punctuation">,</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span>
    <span class="token literal-property property">region</span><span class="token operator">:</span> geometry<span class="token punctuation">,</span>
    <span class="token literal-property property">maxPixels</span><span class="token operator">:</span> <span class="token number">1e13</span><span class="token punctuation">,</span>
    <span class="token literal-property property">folder</span><span class="token operator">:</span> <span class="token string">'Modis'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/e7/b2/6vB5hYf7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/10/95/2xbTP633_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/848b1ec916c2695a7445ee06668d0beb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JAVA SpringMVC老项目集成knife4j</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5112031464c235503061f33d336109ad/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据增强方法汇总</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>