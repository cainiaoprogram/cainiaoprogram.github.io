<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【控制理论】【Matlab】利用System identification App辨识对象模型 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【控制理论】【Matlab】利用System identification App辨识对象模型" />
<meta property="og:description" content="想要了解更深入，去Matlab官网
System Identifacation App介绍
https://ww2.mathworks.cn/help/ident/gs/identify-linear-models-using-the-gui.html
另一个辨识的案例：
https://ww2.mathworks.cn/help/ident/examples/estimating-transfer-function-models-for-a-heat-exchanger.html
做控制的时候有一个对象的数学模型非常重要，有时候对机理搞不太清楚或者很难得建立一个模型的时候可以借助实验数据直接做黑箱建模。MATLAB中提供了System identification工具可以很方便地做模型辨识，下面具体讲一下怎么操作的。
数据导入 打开matlab-&gt;App中的System identifacation：
导入的数据可以包括时域的，也可以包括频域的。填入相应的输入变量名，输出变量名，采样时间。import导入后在主界面的data views中会生成对应的图形。
按下主界面中的time plot可以显示数据，检查数据是否正确很方便。
有时候可能需要把数据拉到零附近，preprocess中提供了remove means。
要对数据进行操作时，都要把数据拖到working data中才能生效
preprocess中提供了select range可以把数据分成两个部分，一个用来辨识模型，一个用来验证模型。
我的数据一共有1000个采样点，分成两个部分，选择第一个用来辨识的数据为1-500，第二个用来验证的部分为501-1000，修改名字后insert。
重新调整一下组件，把data_est拖动到working Data区域
数据建模 1、使用Quick start估算线性模型
它将自动生成包括imp的阶跃响应、spad的频率响应、以及arxqs的四阶ARX模型。mathworks的官方解释如下：
imp — Step response over a period of time using the impulseest algorithm.
spad — Frequency response over a range of frequencies using the spa algorithm. The frequency response is the Fourier transform of the impulse response of a linear system." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e7fb13afad93b65d1994ebce62b6adf9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-06T22:11:16+08:00" />
<meta property="article:modified_time" content="2020-05-06T22:11:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【控制理论】【Matlab】利用System identification App辨识对象模型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>想要了解更深入，去Matlab官网</p> 
<p><a href="https://ww2.mathworks.cn/help/ident/gs/identify-linear-models-using-the-gui.html" rel="nofollow">System Identifacation App介绍</a><br> https://ww2.mathworks.cn/help/ident/gs/identify-linear-models-using-the-gui.html<br> 另一个辨识的案例：<br> https://ww2.mathworks.cn/help/ident/examples/estimating-transfer-function-models-for-a-heat-exchanger.html<br> 做控制的时候有一个对象的数学模型非常重要，有时候对机理搞不太清楚或者很难得建立一个模型的时候可以借助实验数据直接做黑箱建模。MATLAB中提供了System identification工具可以很方便地做模型辨识，下面具体讲一下怎么操作的。</p> 
<h3><a id="_8"></a>数据导入</h3> 
<p>打开matlab-&gt;App中的System identifacation：<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/72/5c/gLfgG8eD_o.png"><br> 导入的数据可以包括时域的，也可以包括频域的。填入相应的输入变量名，输出变量名，采样时间。import导入后在主界面的data views中会生成对应的图形。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/b6/86/yIGjM44e_o.png"><br> 按下主界面中的time plot可以显示数据，检查数据是否正确很方便。<br> 有时候可能需要把数据拉到零附近，preprocess中提供了remove means。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/a7/82/ig73vSce_o.png"><br> <strong>要对数据进行操作时，都要把数据拖到working data中才能生效</strong><br> preprocess中提供了select range可以把数据分成两个部分，一个用来辨识模型，一个用来验证模型。<br> 我的数据一共有1000个采样点，分成两个部分，选择第一个用来辨识的数据为1-500，第二个用来验证的部分为501-1000，修改名字后insert。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/33/ac/4PbOW4uR_o.png"><br> 重新调整一下组件，把data_est拖动到working Data区域<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/86/a9/dVrI3Kzb_o.png"></p> 
<h3><a id="_22"></a>数据建模</h3> 
<p>1、使用Quick start估算线性模型<br> 它将自动生成包括imp的阶跃响应、spad的频率响应、以及arxqs的四阶ARX模型。mathworks的官方解释如下：</p> 
<blockquote> 
 <p>imp — Step response over a period of time using the impulseest algorithm.<br> spad — Frequency response over a range of frequencies using the spa algorithm. The frequency response is the Fourier transform of the impulse response of a linear system.By default, the model is evaluated at 128 frequency values, ranging from 0 to the Nyquist frequency.<br> arxqs — Fourth-order autoregressive (ARX) model using the<br> arx algorithm.</p> 
</blockquote> 
<p>Model output窗口会产生一个拟合效果的列表，89.44代表辨识的模型和数据之间的拟合程度是89.44%。<br> <strong>Quick start的主要目的是通过观察step输出，频率响应是否具有线性特性，以便决定是否可以用线性模型来对数据建模。</strong><br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/28/00/1wlRtol3_o.png"><br> 2、<strong>利用ARX确定模型的阶次</strong><br> 选择Estimate中的Polynomial models，orders中的阶次na nb nk分别代表系统的极点、零点以及时延。这里选取一个范围1：10用来找到一个比较好的阶次。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/36/1c/5tg6MjFJ_o.png"><br> 点击Estimate后将弹出下面的窗口，纵轴是<strong>Unexplained output variance</strong>，值越低表示当前阶次配比能更好地拟合模型。红色、绿色、蓝色分别代表三种不同评价指标下最好的阶次选择。<br> <strong>在控制理论中倾向于选择低阶的模型</strong>，第三个条形图的效果和绿色条形图的效果差不多，阶次比较合理，na =2,nb=2,bk=3。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/ce/29/u7qjzTux_o.png"><br> <strong>3、辨识传递函数模型</strong><br> 有了模型阶次的大概范围之后，可以选择传递函数模型进行辨识。<br> 延时时间等于<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          n 
         
        
          k 
         
        
       
         − 
        
       
         1 
        
       
         ) 
        
       
         ∗ 
        
        
        
          T 
         
        
          s 
         
        
       
         = 
        
       
         ( 
        
       
         3 
        
       
         − 
        
       
         1 
        
       
         ) 
        
       
         ∗ 
        
       
         0.08 
        
       
         = 
        
       
         0.16 
        
       
      
        (n_k-1)*T_s=(3-1)*0.08=0.16 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.33em;"><span style="top: -2.55em; margin-right: 0.05em; margin-left: 0em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mspace" style="margin-right: 0.22em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.22em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.22em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.22em;"></span></span><span class="base"><span class="strut" style="height: 0.83em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span style="top: -2.55em; margin-right: 0.05em; margin-left: -0.13em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"></span></span></span></span></span><span class="mspace" style="margin-right: 0.27em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.27em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right: 0.22em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.22em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.22em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.22em;"></span></span><span class="base"><span class="strut" style="height: 0.64em; vertical-align: 0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">8</span><span class="mspace" style="margin-right: 0.27em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.27em;"></span></span><span class="base"><span class="strut" style="height: 0.64em; vertical-align: 0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">6</span></span></span></span></span>,Ts是数据的采样时间<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/1f/bc/N0YWYwDs_o.png"><br> 4、用状态空间对模型进行辨识<br> 选择模型的阶次，修改Estimation options-&gt;focus为用以优化输出仿真的模型<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/37/e3/8vovNljQ_o.png"><br> <strong>5、根据模型辨识的效果选择一个模型</strong><br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/aa/d1/iURLXd6K_o.png"><br> 双击对应的图表就可以看到对应模型的参数。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/19/5c/1YK6zkuu_o.png"></p> 
<p><strong>有了模型之后设计控制器或者用来分析对象的动态特性就非常方便了！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eea8e1792efb8d47d530d54ebd684aa4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CSS animation多个动效叠加的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/96b189375b1916e399e5cbb4cda7f294/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">展讯平台lcd频率计算</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>