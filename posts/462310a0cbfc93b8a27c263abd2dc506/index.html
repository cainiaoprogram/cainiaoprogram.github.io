<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Gitlab 基础配置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Gitlab 基础配置" />
<meta property="og:description" content="Gitlab 基础配置 文章目录 Gitlab 基础配置1. 邮箱发送短信2. 注册账号3. 创建项目3.1 创建空白项目3.2 创建模板项目3.3 导入项目 4. 删除项目5. gitlab项目上传github 1. 邮箱发送短信 $ docker exec -ti gitlab bash $ vi /etc/gitlab/gitlab.rb gitlab_rails[&#39;smtp_enable&#39;] = true gitlab_rails[&#39;smtp_address&#39;] = &#34;smtp-mail.outlook.com&#34; gitlab_rails[&#39;smtp_port&#39;] = 25 gitlab_rails[&#39;smtp_user_name&#39;] = &#34;&lt;xxxx&gt;@outlook.com&#34; gitlab_rails[&#39;smtp_password&#39;] = &#34;&lt;xxxxx&gt;&#34; gitlab_rails[&#39;smtp_domain&#39;] = &#34;outlook.com&#34; gitlab_rails[&#39;smtp_authentication&#39;] = &#34;login&#34; gitlab_rails[&#39;smtp_enable_starttls_auto&#39;] = true gitlab_rails[&#39;smtp_tls&#39;] = false gitlab_rails[&#39;gitlab_email_enabled&#39;] = true gitlab_rails[&#39;gitlab_email_from&#39;] = &#39;&lt;xxxx&gt;@outlook.com&#39; gitlab_rails[&#39;gitlab_email_display_name&#39;] = &#39;Gitlab&#39; 保存退出修改，执行命令gitlab-ctl reconfigure重新配置gitlab
$ gitlab-ctl reconfigure 执行命令gitlab-ctl console测试发邮件，进入控制台之后执行命令
Notify.test_email(&#39;&lt;xxxxxx&gt;@139.com&#39;, &#39;邮件标题&#39;, &#39;邮件正文&#39;)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/462310a0cbfc93b8a27c263abd2dc506/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-06T00:12:41+08:00" />
<meta property="article:modified_time" content="2022-06-06T00:12:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Gitlab 基础配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Gitlab__0"></a>Gitlab 基础配置</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Gitlab__0" rel="nofollow">Gitlab 基础配置</a></li><li><ul><li><a href="#1__4" rel="nofollow">1. 邮箱发送短信</a></li><li><a href="#2__44" rel="nofollow">2. 注册账号</a></li><li><a href="#3__69" rel="nofollow">3. 创建项目</a></li><li><ul><li><a href="#31__78" rel="nofollow">3.1 创建空白项目</a></li><li><a href="#32__87" rel="nofollow">3.2 创建模板项目</a></li><li><a href="#33__94" rel="nofollow">3.3 导入项目</a></li></ul> 
   </li><li><a href="#4__130" rel="nofollow">4. 删除项目</a></li><li><a href="#5_gitlabgithub_139" rel="nofollow">5. gitlab项目上传github</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h3><a id="1__4"></a>1. 邮箱发送短信</h3> 
<pre><code class="prism language-bash">$ <span class="token function">docker</span> <span class="token builtin class-name">exec</span> -ti gitlab <span class="token function">bash</span>
$ <span class="token function">vi</span> /etc/gitlab/gitlab.rb
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_enable'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_address'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"smtp-mail.outlook.com"</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_port'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">25</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_user_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"&lt;xxxx&gt;@outlook.com"</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_password'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"&lt;xxxxx&gt;"</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_domain'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"outlook.com"</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_authentication'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"login"</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_enable_starttls_auto'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'smtp_tls'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>

gitlab_rails<span class="token punctuation">[</span><span class="token string">'gitlab_email_enabled'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'gitlab_email_from'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'&lt;xxxx&gt;@outlook.com'</span>
gitlab_rails<span class="token punctuation">[</span><span class="token string">'gitlab_email_display_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'Gitlab'</span>

</code></pre> 
<p>保存退出修改，执行命令<code>gitlab-ctl reconfigure</code>重新配置gitlab</p> 
<pre><code class="prism language-bash">$ gitlab-ctl reconfigure
</code></pre> 
<p>执行命令<code>gitlab-ctl console</code>测试发邮件，进入控制台之后执行命令</p> 
<pre><code class="prism language-bash">Notify.test_email<span class="token punctuation">(</span><span class="token string">'&lt;xxxxxx&gt;@139.com'</span>, <span class="token string">'邮件标题'</span>, <span class="token string">'邮件正文'</span><span class="token punctuation">)</span>.deliver_now
</code></pre> 
<pre><code class="prism language-bash">irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> Notify.test_email<span class="token punctuation">(</span><span class="token string">'&lt;xxxxxx&gt;@139.com'</span>, <span class="token string">'邮件标题'</span>, <span class="token string">'邮件正文'</span><span class="token punctuation">)</span>.deliver_now
Delivered mail 61b9f42db6726_4fc5a503772f@gitlab.example.com.mail <span class="token punctuation">(</span><span class="token number">3732</span>.4ms<span class="token punctuation">)</span>
<span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token comment">#&lt;Mail::Message:154720, Multipart: false, Headers: &lt;Date: Wed, 15 Dec 2021 13:57:01 +0000&gt;, &lt;From: Gitlab &lt;zoxun@outlook.com&gt;&gt;, &lt;Reply-To: Gitlab &lt;noreply@gitlab.example.com&gt;&gt;, &lt;To: 13522947651@139.com&gt;, &lt;Message-ID: &lt;61b9f42db6726_4fc5a503772f@gitlab.example.com.mail&gt;&gt;, &lt;Subject: 邮件标题&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text/html; charset=UTF-8&gt;, &lt;Content-Transfer-Encoding: 7bit&gt;, &lt;Auto-Submitted: auto-generated&gt;, &lt;X-Auto-Response-Suppress: All&gt;&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/bc/b3/vLA7MXTz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2__44"></a>2. 注册账号</h3> 
<p><img src="https://images2.imgbox.com/6e/f1/Bl0tb1w4_o.png" alt="在这里插入图片描述"><br> 填写自己的名字、邮箱、密码<br> <img src="https://images2.imgbox.com/09/ec/196izKMU_o.png" alt="在这里插入图片描述"><br> 注册后等待管理员验证通过。<br> <img src="https://images2.imgbox.com/5c/90/fNU38k34_o.png" alt="在这里插入图片描述"></p> 
<p>登陆管理员，找到Admin<br> <img src="https://images2.imgbox.com/80/86/1aKhDwch_o.png" alt="在这里插入图片描述"><br> 找到管理user的界面<br> <img src="https://images2.imgbox.com/09/b8/wNdE4ZHA_o.png" alt="在这里插入图片描述"><br> 发现新注册的用户<br> <img src="https://images2.imgbox.com/92/04/OeTP8kkw_o.png" alt="在这里插入图片描述"><br> 点击通过或拒绝。<br> <img src="https://images2.imgbox.com/60/99/TsXiYYYm_o.png" alt="在这里插入图片描述"><br> 通过后，你也可以对此用户进行限制访问或删除。<br> <img src="https://images2.imgbox.com/60/ab/skkC8lLu_o.png" alt="在这里插入图片描述"><br> 通过后，租户登陆，选择用户角色<br> <img src="https://images2.imgbox.com/8e/6b/hGOUzM2o_o.png" alt="在这里插入图片描述"><br> 创建项目或寻找项目<br> <img src="https://images2.imgbox.com/8a/60/YMeJm5CY_o.png" alt="在这里插入图片描述"><br> 与管理员界面的区别缺少admin的权限<br> <img src="https://images2.imgbox.com/7e/89/3uF2KaN6_o.png" alt="在这里插入图片描述"><br> 回到管理员的user用户管理界面，发现xiaoming已经被激活。<br> <img src="https://images2.imgbox.com/fd/86/AP9gPqqu_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3__69"></a>3. 创建项目</h3> 
<p>第一种<br> <img src="https://images2.imgbox.com/95/9b/AlMflwMs_o.png" alt="在这里插入图片描述"><br> 第二种<br> <img src="https://images2.imgbox.com/46/75/LqP7NbHt_o.png" alt="在这里插入图片描述"><br> 第三种<br> <img src="https://images2.imgbox.com/13/85/ZmBOoO88_o.png" alt="在这里插入图片描述"><br> 三类项目<br> 空白项目，导入项目，模板项目</p> 
<h4><a id="31__78"></a>3.1 创建空白项目</h4> 
<p><img src="https://images2.imgbox.com/ff/1e/2WswHooT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a9/b1/XoO7CMU2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8d/9f/vgT6upBK_o.png" alt="在这里插入图片描述"><br> 当我们在点击创建之前，如果点击了“<code>README</code>”，如下<br> <img src="https://images2.imgbox.com/22/ff/HKjmj74C_o.png" alt="在这里插入图片描述"><br> 那创建出来的项目是这样的。<br> <img src="https://images2.imgbox.com/65/24/8Armgfg3_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32__87"></a>3.2 创建模板项目</h4> 
<p>当我们选择模板项目时，会有需要各类开发的模板项目供我们选择。<br> <img src="https://images2.imgbox.com/2a/51/l6zwI4H9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/83/f7/HnBRfWh5_o.png" alt="在这里插入图片描述"><br> 这个关于<code>kubernets</code>的<code>gitbook</code>项目<br> <img src="https://images2.imgbox.com/1e/72/rFfpUs1a_o.png" alt="在这里插入图片描述"><br> 我们可以编写自己的<code>gitbook</code>了。</p> 
<h4><a id="33__94"></a>3.3 导入项目</h4> 
<p>导入项目，适合以下场景：</p> 
<ul><li>项目迁移</li><li>借用开源项目定制开发</li></ul> 
<p><img src="https://images2.imgbox.com/9a/ec/MmmM2lX6_o.png" alt="在这里插入图片描述"><br> 我们需要一个<code>token</code>,这个<code>token</code>来自于你选择的平台，而不是来自自己的<code>gitlab</code>平台，我这选择了<code>github</code>平台。<br> <img src="https://images2.imgbox.com/47/84/GirRaGQK_o.png" alt="在这里插入图片描述"><br> 我们现在去创建<code>token</code>，我们 登陆<code>github</code>，选择设置“<code>setting</code>”<br> <img src="https://images2.imgbox.com/82/c2/EJJuWVB1_o.png" alt="在这里插入图片描述"><br> 找到“<code>developer settings</code>”<br> <img src="https://images2.imgbox.com/5e/50/23XpLkRM_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a3/47/kusKK8Mu_o.png" alt="在这里插入图片描述"><br> 根据兴趣随便取<br> <img src="https://images2.imgbox.com/00/d1/zDn5Ne6b_o.png" alt="在这里插入图片描述"><br> 我们创建出来了<br> <img src="https://images2.imgbox.com/32/08/PWzyxmyh_o.png" alt="在这里插入图片描述"></p> 
<p>复制到gitlab的这里<br> <img src="https://images2.imgbox.com/28/b6/plhXMnzh_o.png" alt="在这里插入图片描述"></p> 
<p>获取到我的<code>github</code>账号下的项目列表，选择其中一个</p> 
<p><img src="https://images2.imgbox.com/c9/c4/mZGw7qAR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/48/3b/fB9ZXNi9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/87/6a/q4CVIjZM_o.png" alt="在这里插入图片描述"><br> 开始导入<br> <img src="https://images2.imgbox.com/04/61/EFGvpnmq_o.png" alt="在这里插入图片描述"><br> 导入完成。<br> <img src="https://images2.imgbox.com/a1/1b/HXpv0ow7_o.png" alt="在这里插入图片描述"><br> 查看gitlab导入的项目<br> <img src="https://images2.imgbox.com/a5/1c/WkVzY9pD_o.png" alt="在这里插入图片描述"><br> 查看项目内容，然后根据自己的需求开发属于你自己的项目吧。<br> <img src="https://images2.imgbox.com/e4/5c/H0UBVzFZ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4__130"></a>4. 删除项目</h3> 
<p>我们要删除这个项目<br> <img src="https://images2.imgbox.com/a9/b7/GX5CNE3j_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d1/ff/3poL3izZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/90/54/tSdTWd4k_o.png" alt="在这里插入图片描述"><br> 再次确认<br> <img src="https://images2.imgbox.com/ab/62/wkUM1Ngu_o.png" alt="在这里插入图片描述"><br> 我们找不到了<code>gitlab-example-demo</code>了<br> <img src="https://images2.imgbox.com/eb/68/tj0apVby_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_gitlabgithub_139"></a>5. gitlab项目上传github</h3> 
<p>github创建一个空项目<br> <img src="https://images2.imgbox.com/68/eb/sppQ7J6d_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash">$ <span class="token function">git</span> clone http://gitlab.example.com:8081/root/gitlab-example-demo.git
$ <span class="token builtin class-name">cd</span> gitlab-example-demo
$ <span class="token function">git</span> remote -v
origin	http://gitlab.example.com:8081/root/gitlab-example-demo.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin	http://gitlab.example.com:8081/root/gitlab-example-demo.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
$ <span class="token function">git</span> remote <span class="token function">add</span> hello https://github.com/Ghostwritten/gitlab-example-demo.git
root@yourdomain:/data/gitlab/projects/gitlab-example-demo<span class="token comment"># git remote -v</span>
hello	https://github.com/Ghostwritten/gitlab-example-demo.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
hello	https://github.com/Ghostwritten/gitlab-example-demo.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>
origin	http://gitlab.example.com:8081/root/gitlab-example-demo.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>
origin	http://gitlab.example.com:8081/root/gitlab-example-demo.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span>

$ <span class="token function">git</span> push -u hello
Username <span class="token keyword">for</span> <span class="token string">'https://github.com'</span><span class="token builtin class-name">:</span> ghostwritten
Password <span class="token keyword">for</span> <span class="token string">'https://ghostwritten@github.com'</span><span class="token builtin class-name">:</span> <span class="token operator">&lt;</span>access token<span class="token operator">&gt;</span>
Counting objects: <span class="token number">24</span>, done.
Delta compression using up to <span class="token number">4</span> threads.
Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">22</span>/22<span class="token punctuation">)</span>, done.
Writing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">24</span>/24<span class="token punctuation">)</span>, <span class="token number">2.36</span> KiB <span class="token operator">|</span> <span class="token number">201.00</span> KiB/s, done.
Total <span class="token number">24</span> <span class="token punctuation">(</span>delta <span class="token number">3</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>
remote: Resolving deltas: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">3</span>/3<span class="token punctuation">)</span>, done.
To https://github.com/Ghostwritten/gitlab-example-demo.git
 * <span class="token punctuation">[</span>new branch<span class="token punctuation">]</span>      master -<span class="token operator">&gt;</span> master
Branch <span class="token string">'master'</span> <span class="token builtin class-name">set</span> up to track remote branch <span class="token string">'master'</span> from <span class="token string">'hello'</span><span class="token builtin class-name">.</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/be/a8/BZcOe47r_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>相关阅读：</p> 
<ul><li><a href="https://ghostwritten.blog.csdn.net/article/details/121929582" rel="nofollow">部署gitlab</a></li><li><a href="https://ghostwritten.blog.csdn.net/article/details/107755143" rel="nofollow">gitlab-runner部署</a></li><li><a href="https://ghostwritten.blog.csdn.net/article/details/121962870" rel="nofollow">Gitlab 基础配置</a></li><li><a href="https://blog.csdn.net/xixihahalelehehe/article/details/121941628?spm=1001.2014.3001.5501">Create a Continuous Integration (CI) Pipeline in Gitlab</a></li><li><a href="https://ghostwritten.blog.csdn.net/article/details/121107739" rel="nofollow">git与gitlab快速学习手册</a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9cd95de56fe8f6b2d9a4923bf1a36528/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">mysql Blob和Text类型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/66e0ab63551c8692f2681ade50c767c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MATLAB画小猪佩琪</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>