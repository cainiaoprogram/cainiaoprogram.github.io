<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用python实现将文件拷贝到指定目录 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用python实现将文件拷贝到指定目录" />
<meta property="og:description" content="基本方法 import os import shutil alllist=os.listdir(u&#34;D:\\notes\\python\\资料\\&#34;) for i in alllist: aa,bb=i.split(&#34;.&#34;) if &#39;python&#39; in aa.lower(): oldname= u&#34;D:\\notes\\python\\资料\\&#34;&#43;aa&#43;&#34;.&#34;&#43;bb newname=u&#34;d:\\copy\\newname&#34;&#43;aa&#43;&#34;.&#34;&#43;bb shutil.copyfile(oldname,newname) 比较全面的方法
#coding:utf-8 import os import sys import getpass import shutil# shutil.copyfile(&#34;oldfile&#34;,&#34;newfile&#34;) oldfile和newfile都只能是文件# 创建多级目录：os.makedirs（&#34;/Users/ximi/version&#34;）# 创建单个目录：os.mkdir（&#34;project&#34;）# #复制文件# shutil.copyfile(&#39;listfile.py&#39;, &#39;d:/test.py&#39;)# shutil.rmtree(&#34;dir&#34;) 空目录、有内容的目录都可以删# 检验给出的路径是否真地存:os.path.exists()# getpass.getuser()该函数返回登陆的用户名,不需要参数username = getpass.getuser()# 改变当前工作目录os.chdir(&#39;/Users/&#39; &#43; username &#43; &#39;/Documents/client/myProj/&#39;)# shutil.copyfile(&#34;oldfile&#34;,&#34;newfile&#34;) oldfile和newfile都只能是文件# 创建多级目录：os.makedirs（&#34;/Users/ximi/version&#34;）# 创建单个目录：os.mkdir（&#34;project&#34;）# #复制文件# shutil.copyfile(&#39;listfile.py&#39;, &#39;d:/test.py&#39;)# shutil.rmtree(&#34;dir&#34;) 空目录、有内容的目录都可以删# 检验给出的路径是否真地存:os.path.exists()# getpass.getuser()该函数返回登陆的用户名,不需要参数username = getpass.getuser()# 改变当前工作目录os.chdir(&#39;/Users/&#39; &#43; username &#43; &#39;/Documents/client/myProj/&#39;) 文件的拷贝用shutil.copyfile(srcFilePath,dstFilePath)
def handleVersionFile(): # os." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7e8a06fbb7c991f8065867b6cb601670/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-09T18:00:18+08:00" />
<meta property="article:modified_time" content="2018-04-09T18:00:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用python实现将文件拷贝到指定目录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre> </pre> 
<h4><span style="color:#336666;">基本方法</span></h4> 
<pre class="has"><code class="language-python">import os
import shutil
alllist=os.listdir(u"D:\\notes\\python\\资料\\")
for i in alllist:
    aa,bb=i.split(".")
    if 'python' in aa.lower():
        oldname= u"D:\\notes\\python\\资料\\"+aa+"."+bb
        newname=u"d:\\copy\\newname"+aa+"."+bb
        shutil.copyfile(oldname,newname)</code></pre> 
<p>比较全面的方法</p> 
<pre class="prettyprint"><code>#coding:utf-8

import os
import sys
import getpass
import shutil</code><code><span style="color:#009900;"># shutil.copyfile("oldfile","newfile")       oldfile和newfile都只能是文件</span></code><code><span style="color:#009900;"># 创建多级目录：os.makedirs（"/Users/ximi/version"）</span></code><code><span style="color:#009900;"># 创建单个目录：os.mkdir（"project"）</span></code><code><span style="color:#009900;"># #复制文件</span></code><code><span style="color:#009900;"># shutil.copyfile('listfile.py', 'd:/test.py')</span></code><code><span style="color:#009900;"># shutil.rmtree("dir")    空目录、有内容的目录都可以删</span></code><code><span style="color:#009900;"># 检验给出的路径是否真地存:os.path.exists()</span></code><code><span style="color:#009900;"># getpass.getuser()该函数返回登陆的用户名,不需要参数</span></code><code>username = getpass.getuser()</code><code><span style="color:#009900;"># 改变当前工作目录</span></code><code>os.chdir('/Users/' + username + '/Documents/client/myProj/')</code><code><span style="color:#009900;"># shutil.copyfile("oldfile","newfile")       oldfile和newfile都只能是文件</span></code><code><span style="color:#009900;"># 创建多级目录：os.makedirs（"/Users/ximi/version"）</span></code><code><span style="color:#009900;"># 创建单个目录：os.mkdir（"project"）</span></code><code><span style="color:#009900;"># #复制文件</span></code><code><span style="color:#009900;"># shutil.copyfile('listfile.py', 'd:/test.py')</span></code><code><span style="color:#009900;"># shutil.rmtree("dir")    空目录、有内容的目录都可以删</span></code><code><span style="color:#009900;"># 检验给出的路径是否真地存:os.path.exists()</span></code><code><span style="color:#009900;"># getpass.getuser()该函数返回登陆的用户名,不需要参数</span></code><code>username = getpass.getuser()</code><code><span style="color:#009900;"># 改变当前工作目录</span></code><code>os.chdir('/Users/' + username + '/Documents/client/myProj/')</code></pre> 
<p>文件的拷贝用shutil.copyfile(srcFilePath,dstFilePath)</p> 
<pre class="prettyprint"><code>def handleVersionFile():</code><code>    # os.getcwd()获取<span style="color:#000000;">当前工作目录，即当前python脚本工作的目录路径。</span>
    srcVersionFilePath = os.getcwd()+os.sep+"res/version/version.manifest"
    dstVersionFilePath = os.getcwd()+os.sep+"tools/myProj/version/version.manifest"

    versionDir = os.getcwd()+os.sep+"tools/myProj/version/"
    if not os.path.exists(versionDir):
        print versionDir, '\n配置文件目录不存在，创建目录...'
        # os.mkdir(versionDir)
        os.makedirs(versionDir)
        print '创建配置文件目录成功！\n'

    srcProjectFilePath = os.getcwd()+os.sep+"res/version/project.manifest"
    dstProjectFilePath = os.getcwd()+os.sep+"tools/myProj/version/project.manifest"

    print '拷贝配置文件开始...'
    if os.path.exists(srcVersionFilePath):
        shutil.copyfile(srcVersionFilePath,dstVersionFilePath)

    if os.path.exists(srcProjectFilePath):
        shutil.copyfile(srcProjectFilePath,dstProjectFilePath)

    print '拷贝配置文件结束！\n'</code></pre> 
<p>文件夹的拷贝用shutil.copytree(dstResDir)</p> 
<pre class="prettyprint"><code>def handleAssetsFile():
    sourceSrcDir = os.getcwd()+os.sep+"src/"
    dstSrcDir = os.getcwd()+os.sep+"tools/myProj/assets/src/"
    sourceResDir = os.getcwd()+os.sep+"res/"
    dstResDir = os.getcwd()+os.sep+"tools/myProj/assets/res/"
    #复制目录，olddir和newdir都只能是目录，且newdir必须不存在

    if os.path.exists(dstSrcDir):
        print dstSrcDir, '存在先删除'</code><code>        # 如果要递归删除目录的内容，可使用shutil.rmtree()函数
        shutil.rmtree(dstSrcDir)

    print '拷贝代码文件夹开始...'
    shutil.copytree(sourceSrcDir, dstSrcDir)
    print '拷贝代码文件夹结束！\n'

    if os.path.exists(dstResDir):
        print dstResDir, '存在先删除'
        shutil.rmtree(dstResDir)

    print '拷贝资源文件夹开始...'
    shutil.copytree(sourceResDir, dstResDir)
    print '拷贝资源文件夹结束！\n'</code><code>
</code><code>if<span style="color:#000000;"> __name__ == </span>"__main__"<span style="color:#000000;">:   </span></code><code><span style="color:#000000;">    handleVersionFile()    </span></code><code><span style="color:#000000;">    handleAssetsFile()</span>
</code><code>
</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43d78959a64588619d347143f2d7b1e9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MATLAB如何画三轴图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/374f2fea69fbeea7484a33022b524403/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【STM32】GPIO工作原理（八种工作方式超详细分析，附电路图）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>