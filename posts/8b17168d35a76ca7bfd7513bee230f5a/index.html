<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>配置HTTPS加密的快速参考指南 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="配置HTTPS加密的快速参考指南" />
<meta property="og:description" content="Nginx
ssl_protocols TLSv1 TLSv1.1 TLSv1.2
阿帕奇
SSLProtocol All -SSLv2 -SSLv3
密码套房
选择密码套件可能很困难，它们的名称可能看起来很复杂，但可以很容易地分解成它们的组件。采取以下套房：
TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
组件是：
TLS - the protocol used ECDHE - the key exchange mechanism ECDSA - the algorithm of the authentication key AES - the symmetric encryption algorithm 128 - the key size of the above GCM - the mode of the above SHA256 - the MAC used by the algorithm 密钥交换机制
您应该只支持使用ECDHE和DHE（也称为EECDH和EDH）进行密钥交换的套件。EC变体更快，并且都提供完美前向保密（PFS），这是必不可少的。用ECDHE支持ECDHE和DHE的一个例子是首选。
TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 TLS_DHE_RSA_WITH_AES_128_GCM_SHA256 TLS_DHE_RSA_WITH_AES_256_GCM_SHA384 注意： TLSv1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8b17168d35a76ca7bfd7513bee230f5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-29T14:49:55+08:00" />
<meta property="article:modified_time" content="2018-11-29T14:49:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">配置HTTPS加密的快速参考指南</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content-detail markdown-body"> 
 <p>Nginx</p> 
 <p>ssl_protocols TLSv1 TLSv1.1 TLSv1.2<br>阿帕奇</p> 
 <p>SSLProtocol All -SSLv2 -SSLv3<br>密码套房</p> 
 <p>选择密码套件可能很困难，它们的名称可能看起来很复杂，但可以很容易地分解成它们的组件。采取以下套房：</p> 
 <p>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</p> 
 <p>组件是：</p> 
 <pre><code>TLS - the protocol used
    ECDHE - the key exchange mechanism
    ECDSA - the algorithm of the authentication key
    AES - the symmetric encryption algorithm
    128 - the key size of the above
    GCM - the mode of the above
    SHA256 - the MAC used by the algorithm
</code></pre> 
 <p>密钥交换机制</p> 
 <p>您应该只支持使用ECDHE和DHE（也称为EECDH和EDH）进行密钥交换的套件。EC变体更快，并且都提供完美前向保密（PFS），这是必不可少的。用ECDHE支持ECDHE和DHE的一个例子是首选。</p> 
 <pre><code> TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256
    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384
</code></pre> 
 <p>注意： TLSv1.3仅支持PFS密钥交换。<br>认证</p> 
 <p>绝大多数网络将使用RSA作为身份验证密钥，因为它得到了广泛的支持，但ECDSA的速度要快得多（来源）。您可以同时为两个世界提供RSA和ECDSA证书（教程）。通过在身份验证段中检查RSA和/或ECDSA，仅支持适合您情况的套件。</p> 
 <p>有RSA证书：</p> 
 <pre><code> TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
</code></pre> 
 <p>使用ECDSA证书：</p> 
 <pre><code>    TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
</code></pre> 
 <p>使用混合RSA和ECDSA证书：</p> 
 <pre><code>    TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
    TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
</code></pre> 
 <p>在上面的示例中，AES_128_GCM形成密码。AES是首选算法，使用128位密钥大小是可以接受的。出于性能原因，您可以选择128位密钥而不是256位密钥。GCM段是密码的模式，表示这是AEAD（带有关联数据的经过身份验证的加密）。GCM套件应优先于非GCM套件。同一套件的GCM和非GCM版本的示例。</p> 
 <pre><code>     TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
    TLS_ECDHE_RSA_WITH_AES_128_SHA256
    TLS_ECDHE_RSA_WITH_AES_256_SHA384
</code></pre> 
 <p>注意： TLSv1.3仅支持AEAD套件。<br>Nginx</p> 
 <p>ssl_ciphers "EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH"<br>阿帕奇</p> 
 <p>SSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH<br>首选服务器订单</p> 
 <p>当我们按照首选顺序指定密码列表时，我们需要告诉服务器强制执行该订单，否则不会。</p> 
 <p>Nginx的</p> 
 <p>ssl_prefer_server_ciphers on;</p> 
 <p>阿帕奇</p> 
 <p>SSLHonorCipherOrder On</p> 
 <p>HTTP严格传输安全性</p> 
 <p>HSTS是一个HTTP响应标头，允许您将访问者的浏览器配置为仅通过HTTPS与您通信，无论发生什么。如果没有配置HSTS，则不会完成HTTPS的部署。您可以在HSTS中阅读更多内容- 传输层安全性中缺少的链接，我有很多文章涉及HSTS。</p> 
 <p>Nginx的</p> 
 <p>add_header Strict-Transport-Security "max-age=600; includeSubDomains";</p> 
 <p>阿帕奇</p> 
 <p>Header always set Strict-Transport-Security "max-age=600; includeSubDomains"</p> 
 <p>随着您对策略越来越有信心，您可以增加max-age的大小并考虑HSTS预加载。<br>原文地址：<a href="https://www.wosign.com/news/news_2018112002.htm" rel="nofollow">https://www.wosign.com/news/news_2018112002.htm</a></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/772de2a87cb8b6ab0f790344911db6cb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">YSlow--Web前端性能测试工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc9f58813d3981f7a013ac57d4928b8d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LTE学习笔记 —— 测量</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>