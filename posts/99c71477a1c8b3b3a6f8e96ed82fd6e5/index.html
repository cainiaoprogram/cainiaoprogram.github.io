<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【vue】图标选择（elementUI和svg结合） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【vue】图标选择（elementUI和svg结合）" />
<meta property="og:description" content="目标：在做菜单权限的时候需要选择图标，如果既想要用elementUI自带的图标，还想要自定义的图标，这时就需要二者结合一下 如果用的是vue-admin-template，那svg组件和引入elementUI是不需要操作的，直接使用即可。步骤直接跳到最后就行
一、封装组件svg src/components/Svgicon/index.vue
&lt;template&gt; &lt;div v-if=&#34;isExternal&#34; :style=&#34;styleExternalIcon&#34; class=&#34;svg-external-icon svg-icon&#34; v-on=&#34;$listeners&#34; /&gt; &lt;svg v-else :class=&#34;svgClass&#34; aria-hidden=&#34;true&#34; v-on=&#34;$listeners&#34;&gt; &lt;use :xlink:href=&#34;iconName&#34; /&gt; &lt;/svg&gt; &lt;/template&gt; &lt;script&gt; // doc: https://panjiachen.github.io/vue-element-admin-site/feature/component/svg-icon.html#usage import { isExternal } from &#39;@/utils/validate&#39; export default { name: &#39;SvgIcon&#39;, props: { iconClass: { type: String, required: true }, className: { type: String, default: &#39;&#39; } }, computed: { isExternal() { return isExternal(this.iconClass) }, iconName() { return `#icon-${this.iconClass}` }, svgClass() { if (this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/99c71477a1c8b3b3a6f8e96ed82fd6e5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-02T11:44:08+08:00" />
<meta property="article:modified_time" content="2023-03-02T11:44:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【vue】图标选择（elementUI和svg结合）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:958px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:53.444675%;height:0;"> 
    <img src="https://images2.imgbox.com/6d/42/77uCS3eG_o.png" style="margin-left:;display:block;width:958px;margin-top:-53.444675%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <blockquote class="kdocs-blockquote" style="">
   目标：在做菜单权限的时候需要选择图标，如果既想要用elementUI自带的图标，还想要自定义的图标，这时就需要二者结合一下 
 </blockquote> 
 <p style="">如果用的是vue-admin-template，那svg组件和引入elementUI是不需要操作的，直接使用即可。步骤直接跳到最后就行</p> 
 <h2 style="">一、封装组件svg</h2> 
 <p style="">src/components/Svgicon/index.vue</p> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;template&gt;
  &lt;div v-if="isExternal" :style="styleExternalIcon" class="svg-external-icon svg-icon" v-on="$listeners" /&gt;
  &lt;svg v-else :class="svgClass" aria-hidden="true" v-on="$listeners"&gt;
    &lt;use :xlink:href="iconName" /&gt;
  &lt;/svg&gt;
&lt;/template&gt;

&lt;script&gt;
// doc: https://panjiachen.github.io/vue-element-admin-site/feature/component/svg-icon.html#usage
import { isExternal } from '@/utils/validate'

export default {
  name: 'SvgIcon',
  props: {
    iconClass: {
      type: String,
      required: true
    },
    className: {
      type: String,
      default: ''
    }
  },
  computed: {
    isExternal() {
      return isExternal(this.iconClass)
    },
    iconName() {
      return `#icon-${this.iconClass}`
    },
    svgClass() {
      if (this.className) {
        return 'svg-icon ' + this.className
      } else {
        return 'svg-icon'
      }
    },
    styleExternalIcon() {
      return {
        mask: `url(${this.iconClass}) no-repeat 50% 50%`,
        '-webkit-mask': `url(${this.iconClass}) no-repeat 50% 50%`
      }
    }
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.svg-icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}

.svg-external-icon {
  background-color: currentColor;
  mask-size: cover!important;
  display: inline-block;
}
&lt;/style&gt;
</code></pre> 
 <p style="">src/components/Svgicon/requireIcon.js</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">const req = require.context("../../icons/svg", false, /\.svg$/);
const requireAll = (requireContext) =&gt; requireContext.keys();

const re = /\.\/(.*)\.svg/;

const icons = requireAll(req).map((i) =&gt; {
  return i.match(re)[1];
});

export default icons;
</code></pre> 
 <p style=""></p> 
 <p style=""></p> 
 <h2 style="">二、创建icons</h2> 
 <p style="">src/icons/svg</p> 
 <p style="">这个是放svg图片的地方</p> 
 <p style=""></p> 
 <p style="">src/icons/index.js</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">import Vue from "vue";
import SvgIcon from "@/components/SvgIcon"; // svg component

// register globally
Vue.component("svg-icon", SvgIcon);

const req = require.context("./svg", false, /\.svg$/);
const requireAll = (requireContext) =&gt;
  requireContext.keys().map(requireContext);
requireAll(req);
</code></pre> 
 <p style=""></p> 
 <p style="">src/icons/svgo.yml</p> 
 <pre class="kdocs-javascript"><code class="language-javascript"># replace default config

# multipass: true
# full: true

plugins:

  # - name
  #
  # or:
  # - name: false
  # - name: true
  #
  # or:
  # - name:
  #     param1: 1
  #     param2: 2

- removeAttrs:
    attrs:
      - 'fill'
      - 'fill-rule'
</code></pre> 
 <p style=""></p> 
 <p style=""></p> 
 <h2 style="">三、封装elementUI的图标</h2> 
 <h5 style="">1、引入elementUI的css</h5> 
 <p style="">src/main.js</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">import "element-ui/lib/theme-chalk/index.css";</code></pre> 
 <p style=""></p> 
 <h5 style="">2、封装组件</h5> 
 <p style="">src/components/iconChoose/index.vue</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">&lt;template&gt;
  &lt;div id="ico"&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {

}
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;</code></pre> 
 <p style=""></p> 
 <h5 style="">3、把所需要的elementUI的图标放入js文件中</h5> 
 <p style="">src/components/iconChoose/icon.js</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">export const menuicon = [
  "el-icon-s-tools",
  "el-icon-more",
  "el-icon-s-grid",
  "el-icon-s-data",
  "el-icon-present",
  "el-icon-set-up",
  "el-icon-location-outline",
  "el-icon-goods",
  "el-icon-video-camera",
  "el-icon-s-fold",
  "el-icon-s-unfold",
  "el-icon-s-operation",
  "el-icon-s-promotion",
  "el-icon-s-home",
  "el-icon-s-release",
  "el-icon-s-ticket",
  "el-icon-s-management",
  "el-icon-s-open",
  "el-icon-menu",
  "el-icon-s-check",
  "el-icon-s-custom",
  "el-icon-s-opportunity",
  "el-icon-date",
  "el-icon-printer",
  "el-icon-mobile",
  "el-icon-film",
  "el-icon-collection",
  "el-icon-files",
  "el-icon-notebook-1",
  "el-icon-notebook-2",
  "el-icon-shopping-cart-full",
  "el-icon-coin",
  "el-icon-chat-dot-round",
  "el-icon-bangzhu",
  "el-icon-odometer",
  "el-icon-crop",
  "el-icon-delete-location",
  "el-icon-medal",
  "el-icon-message",
  "el-icon-discount",
  "el-icon-office-building",
  "el-icon-receiving",
];</code></pre> 
 <p style=""></p> 
 <p style=""></p> 
 <h2 style="">四、页面使用</h2> 
 <pre class="kdocs-xml"><code class="language-xml">&lt;template&gt;
  &lt;div id="Menu" class="Menu-container"&gt;
        &lt;el-form
          ref="menusForm"
          :rules="menusrules"
          :model="menusForm"
          label-position="right"
          label-width="120px"
          size="small"
        &gt;
          &lt;el-form-item label="菜单图标" prop="ico"&gt;
            &lt;el-popover
              popper-class="icon"
              placement="right"
              width="400"
              height="200"
              trigger="focus"
            &gt;
              &lt;ul class="ul-icon"&gt;
                &lt;li
                  v-for="(icon, index) in incondata"
                  :key="icon"
                  class="li-icon"
                  @click="geticon(icon, index)"
                &gt;
                  &lt;i class="i-icon-choose" :class="icon" /&gt;
                  &lt;svg-icon
                    :icon-class="icon"
                    style="height: 30px; width: 16px"
                  /&gt;
                &lt;/li&gt;
              &lt;/ul&gt;
              &lt;el-input
                slot="reference"
                v-model="menusForm.ico"
                clearable
                class="inputsize"
                @focus="iconChoose"
              &gt;
                &lt;i
                  v-if="menusForm.ico.substr(0, 7) === 'el-icon' ? true : false"
                  slot="prefix"
                  :class="menusForm.ico"
                &gt;&lt;/i&gt;
                &lt;svg-icon
                  v-else
                  slot="prefix"
                  :icon-class="menusForm.ico"
                  style="height: 14px; width: 14px; margin-top: 10px"
                /&gt;
              &lt;/el-input&gt;
            &lt;/el-popover&gt;
          &lt;/el-form-item&gt;
        &lt;/el-form&gt;
      &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { menuicon } from "@/src/components/iconChoose/icon.js";
import icons from "@/components/SvgIcon/requirelcons";
import SvgIcon from "@/components/SvgIcon/index.vue";

export default {
  name: "Menu",
  components: { SvgIcon },
  data() {
    return {
      incondata: "", // 图标选择
    };
  },
  created() {
    this.getMenuList();
    this.GetAllMenuList();
  },
  methods: {
    // 选择图标,输入框聚焦时触发
    iconChoose() {
      // 自定义的svg和elementUI提供的结合一起使用
      this.incondata = [...icons, ...menuicon];
    },
    // 获取图标的值
    geticon(icon, index) {
      this.menusForm.ico = icon;
    },
  },
};
&lt;/script&gt;
&lt;style lang="scss" scoped&gt;
li {
  list-style: none;
}
.choose-icon {
  text-align: center;
  font-size: 16px;
  line-height: 16px;
  color: #17163c;
  margin-top: 5px;
  margin-bottom: 5px;
}
.ul-icon {
  display: flex;
  flex-wrap: wrap;
  padding: 5px 0;
  margin: 0;
  justify-content: center;
}
.ul-icon {
  .li-icon {
    width: 44px;
    height: 44px;
    text-align: center;
    line-height: 44px;
    i {
      font-size: 18px;
    }
  }
  .li-icon:hover {
    background-color: #f1f3f4;
  }
}
&lt;/style&gt;
</code></pre> 
 <p style="text-align:null;">这篇文章看完如果您觉得有所收获，认为还行的话，就点个赞收藏一下呗</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:203px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:100.0%;height:0;"> 
    <img src="https://images2.imgbox.com/b5/49/BMSlsFLu_o.gif" style="margin-left:;display:block;width:203px;margin-top:-100.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9d98b0ef911e29f7d3963495fe106713/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言--求100-999的水仙花数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a2fbae82d0222dc4684dbc1ac7357a69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java之多线程下载网络图片</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>