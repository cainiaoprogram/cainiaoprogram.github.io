<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Wget下载整个网站（包含图片/JS/CSS） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Wget下载整个网站（包含图片/JS/CSS）" />
<meta property="og:description" content="我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.
Wget这个名字来源于 World Wide Web &#43; get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.
Wget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.
在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.
在演示前,我们先在 [[https://www.rosehosting.com/ubuntu-vps.html][Ubuntu 16.04]] [[https://www.rosehosting.com/ubuntu-vps.html][VPS]] 上安装wget.
请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 [[https://www.rosehosting.com/linux-vps-hosting.html][Linux]] 发行版中同样适用.
登陆服务器并安装wget 第一步是 [[https://www.rosehosting.com/blog/connect-to-your-linux-vps-via-ssh/][通过SSH登陆服务器]].
使用下面命令更新你的服务器:
apt-get update apt-get upgrade 然后安装wget软件包:
apt-get install wget 安装完成后，就可以开始使用wget命令了.
1. 下载单个文件 wget最常用也是最简单的用法就是用来下载单个文件.
你可以用下面命令想下载最新版的WordPress
wget https://wordpress.org/latest.zip 你会看到如下输出:
--2017-10-14 03:46:06-- https://wordpress.org/latest.zip Resolving wordpress.org (wordpress.org)... 66.155.40.250, 66.155.40.249 Connecting to wordpress.org (wordpress.org)|66.155.40.250|:443... connected. HTTP request sent, awaiting response." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/119ef5eaa3919c3984d476dbd65b137d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-11-01T09:51:51+08:00" />
<meta property="article:modified_time" content="2017-11-01T09:51:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Wget下载整个网站（包含图片/JS/CSS）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>我会向你展示10个 Wget 命令的实际案例. Wget 是一个用于下载文件的免费工具，它支持大多数常用的Internet协议，包括 HTTP, HTTPS, 以及 FTP.</p> 
<p>Wget这个名字来源于 World Wide Web + get. Wget 有很多功能，可以很方便地做到下载大型文件,递归下载,一次下载多个文件以及镜像web网站和FTP站点.</p> 
<p>Wget是非交互式的，但是使用起来相当的灵活. 你可以在脚本，cron任务，终端等地方调用它. <br> 它可以在用户未登陆的情况下运行在后台. 也就是说你可以开始下载文件，然后退出系统，wget会在后台运行直到完成任务.</p> 
<p>在本文中，我将演示一些wget的使用例子, 这些例子都很常见,比如下载文件，比如镜像整个网站.</p> 
<p>在演示前,我们先在 [[<a href="https://www.rosehosting.com/ubuntu-vps.html%5D%5BUbuntu" rel="nofollow">https://www.rosehosting.com/ubuntu-vps.html][Ubuntu</a> 16.04]] [[<a href="https://www.rosehosting.com/ubuntu-vps.html%5D%5BVPS%5D%5D" rel="nofollow">https://www.rosehosting.com/ubuntu-vps.html][VPS]]</a> 上安装wget.</p> 
<p>请注意，虽然该演示是在 Ubuntu 16.04 上进行的, 但是这些命令在其他 [[<a href="https://www.rosehosting.com/linux-vps-hosting.html%5D%5BLinux%5D%5D" rel="nofollow">https://www.rosehosting.com/linux-vps-hosting.html][Linux]]</a> 发行版中同样适用.</p> 
<ul><li>登陆服务器并安装wget</li></ul> 
<p>第一步是 [[<a href="https://www.rosehosting.com/blog/connect-to-your-linux-vps-via-ssh/%5D%5B" rel="nofollow">https://www.rosehosting.com/blog/connect-to-your-linux-vps-via-ssh/][</a>通过SSH登陆服务器]].</p> 
<p>使用下面命令更新你的服务器:</p> 
<pre class="prettyprint"><code class="language-shell hljs cs">  apt-<span class="hljs-keyword">get</span> update
  apt-<span class="hljs-keyword">get</span> upgrade</code></pre> 
<p>然后安装wget软件包:</p> 
<pre class="prettyprint"><code class="language-shell hljs cs">  apt-<span class="hljs-keyword">get</span> install wget</code></pre> 
<p>安装完成后，就可以开始使用wget命令了.</p> 
<h4 id="1-下载单个文件">1. 下载单个文件</h4> 
<p>wget最常用也是最简单的用法就是用来下载单个文件.</p> 
<p>你可以用下面命令想下载最新版的WordPress</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget https://wordpress<span class="hljs-preprocessor">.org</span>/latest<span class="hljs-preprocessor">.zip</span></code></pre> 
<p>你会看到如下输出:</p> 
<pre class="prettyprint"><code class=" hljs r">  --<span class="hljs-number">2017</span>-<span class="hljs-number">10</span>-<span class="hljs-number">14</span> <span class="hljs-number">03</span>:<span class="hljs-number">46</span>:<span class="hljs-number">06</span>-- https://wordpress.org/latest.zip
  Resolving wordpress.org (wordpress.org)<span class="hljs-keyword">...</span> <span class="hljs-number">66.155</span><span class="hljs-number">.40</span><span class="hljs-number">.250</span>, <span class="hljs-number">66.155</span><span class="hljs-number">.40</span><span class="hljs-number">.249</span>
  Connecting to wordpress.org (wordpress.org)|<span class="hljs-number">66.155</span><span class="hljs-number">.40</span><span class="hljs-number">.250</span>|:<span class="hljs-number">443.</span>.. connected.
  HTTP request sent, awaiting response... <span class="hljs-number">200</span> OK
  Length: <span class="hljs-number">8912693</span> (<span class="hljs-number">8.</span>5M) [application/zip]
  Saving to: <span class="hljs-string">'latest.zip'</span>

  latest.zip <span class="hljs-number">100</span>%[=====================================================================================================&gt;] <span class="hljs-number">8.</span>50M <span class="hljs-number">5.</span>03MB/s <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>7s

  <span class="hljs-number">2017</span>-<span class="hljs-number">10</span>-<span class="hljs-number">14</span> <span class="hljs-number">03</span>:<span class="hljs-number">46</span>:<span class="hljs-number">07</span> (<span class="hljs-number">5.03</span> MB/s) - <span class="hljs-string">'latest.zip'</span> saved [<span class="hljs-number">8912693</span>/<span class="hljs-number">8912693</span>]</code></pre> 
<p>从中可以看出，wget还会显示出下载的进度, 当前下载速度, 文件大小, 当前日期时间 以及待下载文件的名称.</p> 
<p>在我们的例子中, wget会下载文件并以”latest.zip”为名存放到当前目录中.zip” name.</p> 
<h4 id="2-下载文件并重命名">2. 下载文件并重命名</h4> 
<p>若你想以其他名称保存下载的文件，可以使用 =-O= 选项:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget -O wordpress<span class="hljs-preprocessor">.zip</span> https://wordpress<span class="hljs-preprocessor">.org</span>/latest<span class="hljs-preprocessor">.zip</span></code></pre> 
<p>wget会下载文件并以”wordpress.zip”为名存放到当前目录中.zip” name.</p> 
<h4 id="3-指定下载目录">3. 指定下载目录</h4> 
<p>使用 =-p= 选项指定下载目录:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget -P /opt/wordpress https://wordpress<span class="hljs-preprocessor">.org</span>/latest<span class="hljs-preprocessor">.zip</span></code></pre> 
<p>就会把文件下载到 /opt/wordpress 目录中.</p> 
<h4 id="4-限制下载速度">4. 限制下载速度</h4> 
<p>当你下载大型文件时,可能耗时很长,这事你可以限制wget的下载速度以防止它把整个带宽都占满了.</p> 
<p>下面命令就将下载速度限制在了每秒300k:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget --limit-rate=<span class="hljs-number">300</span>k https://wordpress<span class="hljs-preprocessor">.org</span>/latest<span class="hljs-preprocessor">.zip</span></code></pre> 
<h4 id="5-断点续传">5. 断点续传</h4> 
<p>在下载大型文件时，可能会由于网络连接抖动造成下载中断.</p> 
<p>为了避免重新下载，可以使用 =-c= 选项进行断点续传:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget -c https://wordpress<span class="hljs-preprocessor">.org</span>/latest<span class="hljs-preprocessor">.zip</span></code></pre> 
<p>若下载中断后你没有用 =-c= 进行断点续传，而是重新下载, wget 会在文件名后加上 “.1” 防止与前面下载的文件重名.</p> 
<h4 id="6-后台下载">6. 后台下载</h4> 
<p>当下载大型文件时, 可以使用 =-b= 选项让wget在后台下载文件.</p> 
<pre class="prettyprint"><code class="language-shell hljs livecodeserver">  wget -b <span class="hljs-keyword">http</span>://example.com/big-<span class="hljs-built_in">file</span>.zip</code></pre> 
<p>输出内容会写入同目录下的 “wget-log” 文件, 这样你就可以用下面命令来检查下载状态了:</p> 
<pre class="prettyprint"><code class="language-shell hljs lasso">  tail <span class="hljs-attribute">-f</span> wget<span class="hljs-attribute">-log</span></code></pre> 
<h4 id="7-设置重试次数">7. 设置重试次数</h4> 
<p>若网络有问题导致下载时常中断,就可以使用 =-tries= 选项增加重试次数:</p> 
<pre class="prettyprint"><code class="language-shell hljs livecodeserver">  wget -tries=<span class="hljs-number">100</span> <span class="hljs-keyword">https</span>://example.com/<span class="hljs-built_in">file</span>.zip</code></pre> 
<h4 id="8-下载多文件">8. 下载多文件</h4> 
<p>若你想同时下载多个文件,你可以将要在的文件URL存放在一个文本文件中(假设该文件名为download.txt). </p> 
<p>下面命令创建一个文本文件:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  touch download<span class="hljs-preprocessor">.txt</span></code></pre> 
<p>然后可以用 nano 编辑该文件，输入所有想下载的文件URL:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  nano download<span class="hljs-preprocessor">.txt</span>

  http://example<span class="hljs-preprocessor">.com</span>/file1<span class="hljs-preprocessor">.zip</span>

  http://example<span class="hljs-preprocessor">.com</span>/file2<span class="hljs-preprocessor">.zip</span>

  http://example<span class="hljs-preprocessor">.com</span>/file3<span class="hljs-preprocessor">.zip</span></code></pre> 
<p>保存该文件, 然后使用 =-i= 选项下载文本文件中保存的所有文件:</p> 
<pre class="prettyprint"><code class="language-shell hljs avrasm">  wget -i download<span class="hljs-preprocessor">.txt</span></code></pre> 
<h4 id="9-下载ftp文件">9. 下载FTP文件</h4> 
<p>wget还支持下载FTP文件，可以为它设置用户名和密码，如下所示:</p> 
<pre class="prettyprint"><code class="language-shell hljs lasso">  wget <span class="hljs-subst">--</span>ftp<span class="hljs-attribute">-user</span><span class="hljs-subst">=</span>username <span class="hljs-subst">--</span>ftp<span class="hljs-attribute">-password</span><span class="hljs-subst">=</span>password ftp:<span class="hljs-comment">//url-to-ftp-file</span></code></pre> 
<h4 id="10-下载整个网站">10. 下载整个网站</h4> 
<p>你甚至可以用wget下载完整的站点, 然后进行离线浏览. 方法是使用如下命令:</p> 
<pre class="prettyprint"><code class="language-shell hljs lasso">wget <span class="hljs-subst">--</span>mirror <span class="hljs-subst">--</span>convert<span class="hljs-attribute">-links</span> <span class="hljs-subst">--</span>page<span class="hljs-attribute">-requisites</span> <span class="hljs-subst">----</span>no<span class="hljs-attribute">-parent</span> <span class="hljs-attribute">-P</span> /path/<span class="hljs-keyword">to</span>/download https:<span class="hljs-comment">//example-domain.com</span></code></pre> 
<p>—mirror 会开启镜像所需要的所有选项.</p> 
<p>–convert-links 会将所有链接转换成本地链接以便离线浏览.</p> 
<p>–page-requisites 表示下载包括CSS样式文件，图片等所有所需的文件，以便离线时能正确地现实页面.</p> 
<p>–no-parent 用于限制只下载网站的某一部分内容.</p> 
<p>此外, 你可以使用 =P= 设置下载路径.</p> 
<p>以上例子覆盖了wget最常用的几个场景.[[<a href="https://www.gnu.org/software/wget/manual/wget.html%5D%5B" rel="nofollow">https://www.gnu.org/software/wget/manual/wget.html][</a>想更多地了解wget]], 你可以使用 =man wget= 查看它的帮助文档.</p> 
<p>若你跟我们一样有一台 [[<a href="https://www.rosehosting.com/linux-vps-hosting.html%5D%5BLinux" rel="nofollow">https://www.rosehosting.com/linux-vps-hosting.html][Linux</a> VPS]] , 那么你只需要让Linux管理员帮忙在你的服务器上安装一下wget命令或者为他们提供一些使用wget的建议. <br> 他们是 24/7 在线的,会帮你解决这个问题.</p> 
<p>转自：<a href="https://github.com/lujun9972/linux-document/blob/master/examples/10%20wget%20command%20examples.org">https://github.com/lujun9972/linux-document/blob/master/examples/10%20wget%20command%20examples.org</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb496c7008cc2db6317baa7e5e0bad9d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IOS百度地图开发问题汇总（附解决方案）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48048cb8e3150e80114fb9a48c5745da/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; BMP图片转换为PNG图片</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>