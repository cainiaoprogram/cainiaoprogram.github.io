<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>BugFree系统部署 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="BugFree系统部署" />
<meta property="og:description" content="导语： 最近公司需求，需要部署一个测试case录入系统、bug记录系统，而同事推荐之前使用过的BugFree系统，这个由淘宝开发的开源系统，但已经在2013年就停止更新了，那么我们介绍下如何部署。
1.准备环境 ①、CentOS-7-x86_64-Minimal-1708系统：http://59.80.44.100/isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1810.iso
②、BugFree系统源码：https://github.com/chencjfeng/bugfree
③、yum源更新，并停止防火墙
yum install epel-release //扩展包更新包 yum update //更新yum源 systemctl stop firewalld.service //停止防火墙服务 systemctl disable firewalld.service //禁用防火墙开机启动服务 ④、下载更新mysql-server源
yum -y install wget wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm rpm -ivh mysql-community-release-el7-5.noarch.rpm 2.配置Apache环境 ①、安装Apache
yum install httpd ②、启动进程
service httpd start ③、设置httpd开机启动
chkconfig httpd on 访问服务器ip，能出现以下页面则表示安装成功，不能出现以下页面则排查下防火墙是否关闭和httpd服务是否起来
Apache
3.配置mysql环境 ①、安装mysql
yum install mysql mysql-server ②、启动进程
service mysqld start ③、配置mysql root初始密码
mysql use mysql update user set password=password(&#39;密码&#39;) where user=&#39;root&#39; ; //此句结尾需加上分号，分号不能漏掉 ④、重启mysql服务生效" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4d9505e6937187ae85a7fbb5bf43c364/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-27T10:47:02+08:00" />
<meta property="article:modified_time" content="2019-03-27T10:47:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">BugFree系统部署</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>导语：</h4> 
<blockquote> 
 <p>最近公司需求，需要部署一个测试case录入系统、bug记录系统，而同事推荐之前使用过的BugFree系统，这个由淘宝开发的开源系统，但已经在2013年就停止更新了，那么我们介绍下如何部署。<br>  </p> 
</blockquote> 
<h4>1.准备环境</h4> 
<p>①、CentOS-7-x86_64-Minimal-1708系统：<a href="https://links.jianshu.com/go?to=http%3A%2F%2F59.80.44.100%2Fisoredirect.centos.org%2Fcentos%2F7%2Fisos%2Fx86_64%2FCentOS-7-x86_64-Minimal-1810.iso" rel="nofollow">http://59.80.44.100/isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1810.iso</a><br> ②、BugFree系统源码：<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fchencjfeng%2Fbugfree" rel="nofollow">https://github.com/chencjfeng/bugfree</a></p> 
<p>③、yum源更新，并停止防火墙</p> 
<pre class="has"><code>yum  install epel-release  //扩展包更新包
yum  update //更新yum源
systemctl stop firewalld.service //停止防火墙服务
systemctl disable firewalld.service //禁用防火墙开机启动服务
</code></pre> 
<p>④、下载更新mysql-server源</p> 
<pre class="has"><code>yum -y install wget
wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm
rpm -ivh mysql-community-release-el7-5.noarch.rpm
</code></pre> 
<h4>2.配置Apache环境</h4> 
<p>①、安装Apache</p> 
<pre class="has"><code>yum install httpd
</code></pre> 
<p>②、启动进程</p> 
<pre class="has"><code>service httpd start
</code></pre> 
<p>③、设置httpd开机启动</p> 
<pre class="has"><code>chkconfig httpd on
</code></pre> 
<p>访问服务器ip，能出现以下页面则表示安装成功，不能出现以下页面则排查下防火墙是否关闭和httpd服务是否起来</p> 
<p> </p> 
<p><img alt="4970496-5b4538c9e0823f57.png" class="has" src="https://images2.imgbox.com/b0/9e/BwLwjo1Y_o.png"></p> 
<p>Apache</p> 
<h4>3.配置mysql环境</h4> 
<p>①、安装mysql</p> 
<pre class="has"><code>yum install mysql mysql-server
</code></pre> 
<p>②、启动进程</p> 
<pre class="has"><code>service mysqld start
</code></pre> 
<p>③、配置mysql root初始密码</p> 
<pre class="has"><code>mysql

use mysql

update user set password=password('密码') where user='root' ;   //此句结尾需加上分号，分号不能漏掉
</code></pre> 
<p>④、重启mysql服务生效</p> 
<pre class="has"><code>service mysqld restart
</code></pre> 
<p>⑤、验证密码修改是否成功</p> 
<pre class="has"><code>mysql -u root -p
</code></pre> 
<p>然后输入新的密码，如成功登陆，则表明新密码已经生效。<br> ⑥、设置mysqld开机启动</p> 
<pre class="has"><code>chkconfig mysqld on
</code></pre> 
<h4>4.安装php服务器</h4> 
<pre class="has"><code>yum install php php-mysql php-gd php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc
yum install libmcrypt
yum install php-mcrypt
</code></pre> 
<h4>5.安装bugFree</h4> 
<p>①、将bugFree源码解压，放置/var/www/html/目录下，并重命名文件夹名字为“bugfree”,如图：</p> 
<p> </p> 
<p><img alt="4970496-5d73c2016cf37227.png" class="has" src="https://images2.imgbox.com/01/34/odhrrO6C_o.png"></p> 
<p>bugfree</p> 
<p> </p> 
<p>②、创建BugFile文件夹，在/var/www/html/目录下</p> 
<p> </p> 
<pre class="has"><code>cd /var/www/html/
mkdir BugFile
</code></pre> 
<p>③、配置读写权限，创建缺失文件夹</p> 
<pre class="has"><code>mkdir /var/www/html/bugfree/assets
mkdir /var/www/html/bugfree/protected/runtime
chmod 777 /var/www/html/BugFile
chmod 777 /var/www/html/bugfree/assets
chmod 777 /var/www/html/bugfree/protected/runtime
chmod -R 777 /var/www/html/bugfree/protected/config
chmod -R 777 /var/www/html/bugfree/install
</code></pre> 
<p>④、关闭selinux（不关闭的话，Apache用户对/var/目录下其他东西权限还是不可写）<br> ———临时关闭———</p> 
<pre class="has"><code>setenforce 0
</code></pre> 
<p>———永久关闭———<br> 修改/etc/selinux/config文件<br> 将SELINUX=enforcing改为SELINUX=disabled<br> 保存退出重启机器</p> 
<h4>6.配置bugfree系统环境</h4> 
<p>①、打开“<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fip" rel="nofollow">http://ip</a>地址/bufree/install”链接（例：<a href="https://links.jianshu.com/go?to=http%3A%2F%2F192.168.1.228%2Fbugfree%2Finstall" rel="nofollow">http://192.168.1.228/bugfree/install</a>），如下图，文件权限都OK没问题，点击继续。</p> 
<p><img alt="4970496-5a8ceb2d471105aa.png" class="has" src="https://images2.imgbox.com/0d/b4/MhCjvlZF_o.png"></p> 
<p>步骤一</p> 
<p><br> ②、填写数据库账户和密码，root账户，密码是mysql设置的初始密码，点击安装。</p> 
<p> </p> 
<p><img alt="4970496-264c75f118e55873.png" class="has" src="https://images2.imgbox.com/d4/c6/YTFbl8H2_o.png"></p> 
<p>步骤二</p> 
<p><br> ③、安装完成，进入Bugfree系统。</p> 
<p> </p> 
<p><img alt="4970496-2e3ee9c275f85647.png" class="has" src="https://images2.imgbox.com/4d/7b/wTKVWrY1_o.png"></p> 
<p>步骤三</p> 
<p> </p> 
<h4>7.修复3.0.4 bugfree系统执行case出现500的问题</h4> 
<p>将“/var/www/html/bugfree/protected/extensions/simple_html_dom.php”中第988行代码注释掉即可，如图：</p> 
<p> </p> 
<p><img alt="4970496-1f653de7cd082693.png" class="has" src="https://images2.imgbox.com/8e/99/jL9kzSnf_o.png"></p> 
<p>500错误</p> 
<h4>7.邮件服务器配置</h4> 
<p>①、配置邮件服务器，编辑“/var/www/html/bugfree/protected/config/main.php”文件</p> 
<pre class="has"><code>'mail' =&gt;
    array (
      'on' =&gt; '1',
      'from_address' =&gt; '发件人邮箱地址',
      'from_name' =&gt; 'BugFree',
      'send_method' =&gt; 'SMTP',
      'send_params' =&gt;
      array (
        'host' =&gt; '邮件服务器地址',
        'smtp_auth' =&gt; true,    //改为true，通常都需要开启认证
        'username' =&gt; '发件人邮箱地址',
        'password' =&gt; '发件人邮箱密码',
      ),
    ),
</code></pre> 
<p>②、bugfree邮件服务器源码有个问题，需要手动修改，改动文件“/var/www/html/bugfree/protected/service/MailService.php”,将以下三行的双引号改为单引号即可</p> 
<pre class="has"><code>$mailInfo-&gt;SMTPAuth = Yii::app()-&gt;params-&gt;mail['send_params']["smtp_auth"];
$mailInfo-&gt;Username = Yii::app()-&gt;params-&gt;mail['send_params']["username"];
$mailInfo-&gt;Password = Yii::app()-&gt;params-&gt;mail['send_params']["password"];
</code></pre> 
<p>操作完以上两步骤，邮件服务也就能用了。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f08cf25ed60cf8b12bc06f6ca90688f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">用scanf函数输入数据，举例并分析错误原因  用下面的scanf函数输入数据，使a=3，b=7,x=8.5,y=71.82,c1=’A’,c2=’a’。问在键盘上如何输入。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ea235f0115e31c4978f7c98a841731d3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QT中connect的两种简单用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>