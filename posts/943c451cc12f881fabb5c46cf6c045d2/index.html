<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL基础--（函数,函数返回值） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL基础--（函数,函数返回值）" />
<meta property="og:description" content="含义：一组预先编译好的sql语句的集合，理解成成批的语句。
1.提高代码的重用性 2.简化操作 3.减少编译次数并且减少和数据库服务器的连接次数，提高效率。
区别：存储过程：可以有0个返回，也可以有多个返回，适合做批量插入，批量更新。
函数：有且只有一个返回，适合做数据处理后返回的一个结果。
1.创建语法
create function 函数名（参数列表） return 返回类型 begin 函数体 end 注意：1.参数列表 包含两部分： 参数名 参数类型
2.函数体：肯定会有return语句，如果没有报错的话 如果return 语句没有放在函数体的最后也不会报错，但是不建议
return 值：3.函数体仅有一句话，则可以省略begin end 4.使用delimiter
调用函数函数；
select 函数名（参数列表）；
案例： 返回公司的员工个数
create function myf1（） returns int begin declare c int default 0； #定义变量 select count（*）into c #f赋值 from employees return c； end $ select myf1（） $ 2.有返回值的
案例：根据员工名字，返回相应工资
create function retusalr（empName（20） returns double begin set @sal = 0； select salary into @sal from employees where name = empName； return @sal； end $ 案例2 根据部门名，返回该部门的平均工资" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/943c451cc12f881fabb5c46cf6c045d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-10T20:28:08+08:00" />
<meta property="article:modified_time" content="2021-08-10T20:28:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL基础--（函数,函数返回值）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>含义：一组预先编译好的sql语句的集合，理解成成批的语句。</p> 
<p>1.提高代码的重用性 2.简化操作  3.减少编译次数并且减少和数据库服务器的连接次数，提高效率。</p> 
<p>区别：存储过程：可以有0个返回，也可以有多个返回，适合做批量插入，批量更新。</p> 
<p>函数：有且只有一个返回，适合做数据处理后返回的一个结果。</p> 
<p></p> 
<p>1.创建语法</p> 
<pre><code class="language-sql">create function 函数名（参数列表） return 返回类型
begin 
    函数体
end</code></pre> 
<p>注意：1.参数列表 包含两部分： 参数名 参数类型</p> 
<p>2.函数体：肯定会有return语句，如果没有报错的话  如果return 语句没有放在函数体的最后也不会报错，但是不建议</p> 
<p>return 值：3.函数体仅有一句话，则可以省略begin end  4.使用delimiter</p> 
<p>调用函数函数；</p> 
<p>select 函数名（参数列表）；</p> 
<p>案例： 返回公司的员工个数<br>  </p> 
<pre><code class="language-sql"> create function myf1（） returns int 
begin
                declare c int default 0； #定义变量
                select count（*）into c #f赋值
                from employees
                return c；
end $
select myf1（） $</code></pre> 
<p>2.有返回值的</p> 
<p>案例：根据员工名字，返回相应工资</p> 
<pre><code class="language-sql">create function retusalr（empName（20） returns double
begin
    set @sal = 0；
    select salary into @sal
    from employees
    where name = empName；    

    return @sal；
end $</code></pre> 
<p>案例2  根据部门名，返回该部门的平均工资</p> 
<pre><code class="language-sql">create function avgsal(dept_name varchar(20) retunrs double
begin    
        declare avgasl ;
        select avg(salary)
        from employees e 
        join department d
        on d. departmen_id = e.department_id
        where d.department_id = dept_name;
    
        return avgasl;   
end $
#调用
select avfsal(2);</code></pre> 
<p>前面讲的都是输入一个值，接下来实现传入两个值得，返回二者之和。</p> 
<pre><code class="language-sql">create function test_fun(num1 float,num2 float) return float
begin 
    declare sum float default 0;
    set sum = num1+num2;
    return sum;

end $


select test_fun(1,2)</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b05736f6c025230920fbefea43566a66/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">elment上传pdf文件至服务器,基于element-ui组件手动实现单选和上传功能.pdf</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cdc6659374db35e20362b99e3f562d43/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">我的世界服务器金币抽奖系统,[娱乐|综合][PCD]Pcj ——【动态转盘GUI抽奖】多种奖励,多种功能[1.7.2-1.8.8]...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>