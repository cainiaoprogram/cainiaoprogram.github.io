<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>php代码转java代码_PHP代码转成java代码 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="php代码转java代码_PHP代码转成java代码" />
<meta property="og:description" content="function bter_query($path, array $req = array()) {
// API settings, add your Key and Secret at here
$key = &#39;&#39;;
$secret = &#39;&#39;;
// generate a nonce to avoid problems with 32bits systems
$mt = explode(&#39; &#39;, microtime());
$req[&#39;nonce&#39;] = $mt[1].substr($mt[0], 2, 6);
// generate the POST data string
$post_data = http_build_query($req, &#39;&#39;, &#39;&amp;&#39;);
$sign = hash_hmac(&#39;sha512&#39;, $post_data, $secret);
// generate the extra headers
$headers = array(
&#39;KEY: &#39;.$key," />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1658bd20792fb2480d0c764ae3bccbaa/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-12T21:04:08+08:00" />
<meta property="article:modified_time" content="2021-02-12T21:04:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">php代码转java代码_PHP代码转成java代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>function bter_query($path, array $req = array()) {<!-- --></p> 
 <p>// API settings, add your Key and Secret at here</p> 
 <p>$key = '';</p> 
 <p>$secret = '';</p> 
 <p>// generate a nonce to avoid problems with 32bits systems</p> 
 <p>$mt = explode(' ', microtime());</p> 
 <p>$req['nonce'] = $mt[1].substr($mt[0], 2, 6);</p> 
 <p>// generate the POST data string</p> 
 <p>$post_data = http_build_query($req, '', '&amp;');</p> 
 <p>$sign = hash_hmac('sha512', $post_data, $secret);</p> 
 <p>// generate the extra headers</p> 
 <p>$headers = array(</p> 
 <p>'KEY: '.$key,</p> 
 <p>'SIGN: '.$sign,</p> 
 <p>);</p> 
 <p>//!!! please set Content-Type to application/x-www-form-urlencoded if it's not the default value</p> 
 <p>// curl handle (initialize if required)</p> 
 <p>static $ch = null;</p> 
 <p>if (is_null($ch)) {<!-- --></p> 
 <p>$ch = curl_init();</p> 
 <p>curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</p> 
 <p>curl_setopt($ch, CURLOPT_USERAGENT,</p> 
 <p>'Mozilla/4.0 (compatible; Bter PHP bot; '.php_uname('a').'; PHP/'.phpversion().')'</p> 
 <p>);</p> 
 <p>}</p> 
 <p>curl_setopt($ch, CURLOPT_URL, 'https://bter.com/api/'.$path);</p> 
 <p>curl_setopt($ch, CURLOPT_POSTFIELDS, $post_data);</p> 
 <p>curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);</p> 
 <p>curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);</p> 
 <p>// run the query</p> 
 <p>$res = curl_exec($ch);</p> 
 <p>if ($res === false) throw new Exception('Curl error: '.curl_error($ch));</p> 
 <p>//echo $res;</p> 
 <p>$dec = json_decode($res, true);</p> 
 <p>if (!$dec) throw new Exception('Invalid data: '.$res);</p> 
 <p>return $dec;</p> 
 <p>}</p> 
 <p>function get_top_rate($pair, $type='BUY') {<!-- --></p> 
 <p>$rate = 0;</p> 
 <p>// our curl handle (initialize if required)</p> 
 <p>static $ch = null;</p> 
 <p>if (is_null($ch)) {<!-- --></p> 
 <p>$ch = curl_init();</p> 
 <p>curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</p> 
 <p>curl_setopt($ch, CURLOPT_USERAGENT,</p> 
 <p>'Mozilla/4.0 (compatible; Bter PHP bot; '.php_uname('a').'; PHP/'.phpversion().')'</p> 
 <p>);</p> 
 <p>}</p> 
 <p>curl_setopt($ch, CURLOPT_URL, 'https://bter.com/api/1/depth/'.$pair);</p> 
 <p>curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);</p> 
 <p>// run the query</p> 
 <p>$res = curl_exec($ch);</p> 
 <p>if ($res === false) throw new Exception('Could not get reply: '.curl_error($ch));</p> 
 <p>//echo $res;</p> 
 <p>$dec = json_decode($res, true);</p> 
 <p>if (!$dec) throw new Exception('Invalid data: '.$res);</p> 
 <p>if (strtoupper($type) == 'BUY') {<!-- --></p> 
 <p>$r = $dec['bids'][0];</p> 
 <p>$rate = $r[0];</p> 
 <p>} else {<!-- --></p> 
 <p>$r = end($dec['asks']);</p> 
 <p>$rate = $r[0];</p> 
 <p>}</p> 
 <p>return $rate;</p> 
 <p>}</p> 
 <p>try {<!-- --></p> 
 <p>// example 1: get funds</p> 
 <p>var_dump(bter_query('1/private/getfunds'));</p> 
 <p>// example 2: place a buy order</p> 
 <p>$pair = 'ltc_btc';</p> 
 <p>$type = 'buy';</p> 
 <p>$rate = get_top_rate($pair, $type) * 1.01;</p> 
 <p>var_dump(bter_query('1/private/placeorder',</p> 
 <p>array(</p> 
 <p>'pair' =&gt; "$pair",</p> 
 <p>'type' =&gt; "$type",</p> 
 <p>'rate' =&gt; "$rate",</p> 
 <p>'amount' =&gt; '0.01',</p> 
 <p>)</p> 
 <p>)</p> 
 <p>);</p> 
 <p>// example 3: cancel an order</p> 
 <p>var_dump(bter_query('1/private/cancelorder', array('order_id' =&gt; 125811)));</p> 
 <p>// example 4: get order status</p> 
 <p>var_dump(bter_query('1/private/getorder', array('order_id' =&gt; 15088)));</p> 
 <p>//example 5: list all open orders</p> 
 <p>var_dump(bter_query('1/private/orderlist'));</p> 
 <p>} catch (Exception $e) {<!-- --></p> 
 <p>echo "Error:".$e-&gt;getMessage();</p> 
 <p>}</p> 
 <p>?&gt;</p> 
 <p align="center"></p> 
 <p>本文原创发布php中文网，转载请注明出处，感谢您的尊重！</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ead0a6597c6c027a538bf2a3e460ddc5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java解析yaml_YAML配置文件解析器：SnakeYAML</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0e72fe4f2cbfdf26673b3c5e3f91d02/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java接口能被实例化吗_java的接口为什么不能实例化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>