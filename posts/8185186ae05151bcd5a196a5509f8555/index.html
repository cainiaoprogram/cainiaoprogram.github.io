<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>全国失信被执行人名单爬虫 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="全国失信被执行人名单爬虫" />
<meta property="og:description" content="一、需求说明 通过百度的接口，爬取全国失信被执行人名单。翻页爬虫，获取姓名，身份证等信息。
二、python实现
版本1：
# -*- coding:utf-8*-
import sys
reload(sys)
sys.setdefaultencoding(&#39;utf-8&#39;)
import time
import requests
time1=time.time()
import pandas as pd
import json
################定义数据结构列表存储数据####################
iname=[]
icard=[]
################循环发送请求解析数据#######################
for i in range(1,101):
print &#39;正在抓取第&#39;&#43;str(i)&#43;&#34;页.................................&#34;
url=&#34;https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?resource_id=6899&amp;query=%E8%80%81%E8%B5%96&amp;pn=&#34;&#43;str(i*10)&#43;&#34;&amp;ie=utf-8&amp;oe=utf-8&amp;format=json&#34;
head={
&#34;Host&#34;: &#34;sp0.baidu.com&#34;,
&#34;Connection&#34;: &#34;keep-alive&#34;,
&#34;User-Agent&#34;: &#34;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.101 Safari/537.36&#34;,
&#34;Accept&#34;: &#34;*/*&#34;,
&#34;Referer&#34;: &#34;https://www.baidu.com/s?ie=utf-8&amp;f=3&amp;rsv_bp=1&amp;tn=95943715_hao_pg&amp;wd=%E8%80%81%E8%B5%96&amp;oq=%25E8%2580%2581%25E8%25B5%2596&amp;rsv_pq=ec5e631d0003d8eb&amp;rsv_t=b295wWZB5DEWWt%2FICZvMsf2TZJVPmof2YpTR0MpCszb28dLtEQmdjyBEidZohtPIr%2FBmMrB3&amp;rqlang=cn&amp;rsv_enter=0&amp;prefixsug=%25E8%2580%2581%25E8%25B5%2596&amp;rsp=0&amp;rsv_sug9=es_0_1&amp;rsv_sug=9&#34;,
&#34;Accept-Encoding&#34;: &#34;gzip, deflate, br&#34;,
&#34;Accept-Language&#34;: &#34;zh-CN,zh;q=0.8&#34;
}
html=requests.get(url,headers=head).content
html_json=json.loads(html)
html_data=html_json[&#39;data&#39;]
for each in html_data:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8185186ae05151bcd5a196a5509f8555/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-02-19T17:27:13+08:00" />
<meta property="article:modified_time" content="2019-02-19T17:27:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">全国失信被执行人名单爬虫</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、需求说明 <br> 通过百度的接口，爬取全国失信被执行人名单。翻页爬虫，获取姓名，身份证等信息。</p> 
<p>二、python实现</p> 
<p>版本1：</p> 
<p># -*- coding:utf-8*-<br> import sys<br> reload(sys)<br> sys.setdefaultencoding('utf-8')<br> import time<br> import requests<br> time1=time.time()<br> import pandas as pd<br> import  json</p> 
<p><br> ################定义数据结构列表存储数据####################<br> iname=[]<br> icard=[]</p> 
<p>################循环发送请求解析数据#######################<br> for i in range(1,101):<br>     print '正在抓取第'+str(i)+"页................................."<br>     url="https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?resource_id=6899&amp;query=%E8%80%81%E8%B5%96&amp;pn="+str(i*10)+"&amp;ie=utf-8&amp;oe=utf-8&amp;format=json"<br>     head={<!-- --><br>     "Host": "sp0.baidu.com",<br>     "Connection": "keep-alive",<br>     "User-Agent": "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.101 Safari/537.36",<br>     "Accept": "*/*",<br>     "Referer": "https://www.baidu.com/s?ie=utf-8&amp;f=3&amp;rsv_bp=1&amp;tn=95943715_hao_pg&amp;wd=%E8%80%81%E8%B5%96&amp;oq=%25E8%2580%2581%25E8%25B5%2596&amp;rsv_pq=ec5e631d0003d8eb&amp;rsv_t=b295wWZB5DEWWt%2FICZvMsf2TZJVPmof2YpTR0MpCszb28dLtEQmdjyBEidZohtPIr%2FBmMrB3&amp;rqlang=cn&amp;rsv_enter=0&amp;prefixsug=%25E8%2580%2581%25E8%25B5%2596&amp;rsp=0&amp;rsv_sug9=es_0_1&amp;rsv_sug=9",<br>     "Accept-Encoding": "gzip, deflate, br",<br>     "Accept-Language": "zh-CN,zh;q=0.8"<br>     }</p> 
<p>    html=requests.get(url,headers=head).content<br>     html_json=json.loads(html)<br>     html_data=html_json['data']<br>     for each in html_data:<br>         k=each['result']<br>         for each in k:<br>             print each['iname'],each['cardNum']<br>             iname.append(each['iname'])<br>             icard.append(each['cardNum'])</p> 
<p><br> #####################将数据组织成数据框###########################<br> data=pd.DataFrame({"name":iname,"IDCard":icard})</p> 
<p>#################数据框去重####################################<br> data1=data.drop_duplicates()<br> print data1</p> 
<p><br> # #########################写出数据到excel#########################################<br> # pd.DataFrame.to_excel(data1,"F:\\iname_icard.xlsx",header=True,encoding='gbk',index=False)<br> # time2=time.time()<br> # print u'ok,爬虫结束!'<br> # print u'总共耗时：'+str(time2-time1)+'s'<br><br> 三、效果展示</p> 
<p>"D:\Program Files\Python27\python.exe" D:/PycharmProjects/learn2017/全国失信被执行人名单爬虫.py<br> 正在抓取第1页.................................<br> 陈虹桦 44170219860****4223<br> 党训 32022219720****1898<br> 林战 44032119680****0038<br> 江祖藕 44172119821****2546<br> 智彩玲 15042819840****4543<br> 孙嘉佳 41232219680****1826<br> 简光粉 53223119630****2120<br> 魏凡东 37092119691****3612<br> 张夫连 37092019660****6483<br> 沈新建 32102519661****1658<br> 戴光明 32102619680****5935<br> 梁伦奇 33262319710****5959<br> 王义拓 41140319890****6612<br> 王怀旭 41092319651****601X<br> 许耀明 32022219580****6555<br><br> 版本2：</p> 
<p># -*- coding:utf-8*-<br> import sys<br> reload(sys)<br> sys.setdefaultencoding('utf-8')<br> import time<br> import requests<br> time1=time.time()<br> import pandas as pd<br> import  json</p> 
<p><br> ################定义数据结构列表存储数据####################<br> iname=[]<br> icard=[]<br> courtName=[]<br> areaName=[]<br> caseCode=[]<br> duty=[]<br> performance=[]<br> disruptTypeName=[]<br> publishDate=[]<br> ################循环发送请求解析数据#######################<br> for i in range(1,101):<br>     print '正在抓取第'+str(i)+"页................................."<br>     url="https://sp0.baidu.com/8aQDcjqpAAV3otqbppnN2DJv/api.php?resource_id=6899&amp;query=%E8%80%81%E8%B5%96&amp;pn="+str(i*10)+"&amp;ie=utf-8&amp;oe=utf-8&amp;format=json"<br>     head={<!-- --><br>     "Host": "sp0.baidu.com",<br>     "Connection": "keep-alive",<br>     "User-Agent": "Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.101 Safari/537.36",<br>     "Accept": "*/*",<br>     "Referer": "https://www.baidu.com/s?ie=utf-8&amp;f=3&amp;rsv_bp=1&amp;tn=95943715_hao_pg&amp;wd=%E8%80%81%E8%B5%96&amp;oq=%25E8%2580%2581%25E8%25B5%2596&amp;rsv_pq=ec5e631d0003d8eb&amp;rsv_t=b295wWZB5DEWWt%2FICZvMsf2TZJVPmof2YpTR0MpCszb28dLtEQmdjyBEidZohtPIr%2FBmMrB3&amp;rqlang=cn&amp;rsv_enter=0&amp;prefixsug=%25E8%2580%2581%25E8%25B5%2596&amp;rsp=0&amp;rsv_sug9=es_0_1&amp;rsv_sug=9",<br>     "Accept-Encoding": "gzip, deflate, br",<br>     "Accept-Language": "zh-CN,zh;q=0.8"<br>     }</p> 
<p>    html=requests.get(url,headers=head).content<br>     html_json=json.loads(html)<br>     html_data=html_json['data']<br>     for each in html_data:<br>         k=each['result']<br>         for each in k:<br>             print each['iname'], each['cardNum'], each['courtName'], each['areaName'], each['caseCode'], each['duty'], \<br>             each['performance'], each['disruptTypeName'], each['publishDate']<br>             iname.append(each['iname'])<br>             icard.append(each['cardNum'])<br>             courtName.append(each['courtName'])<br>             areaName.append(each['areaName'])<br>             caseCode.append(each['caseCode'])<br>             duty.append(each['duty'])<br>             performance.append(each['performance'])<br>             disruptTypeName.append(each['disruptTypeName'])<br>             publishDate.append(each['publishDate'])</p> 
<p><br> #####################将数据组织成数据框###########################<br> # data=pd.DataFrame({"name":iname,"IDCard":icard})</p> 
<p>detail_data = pd.DataFrame(<br>     {"name": iname, "IDCard": icard, "courtName": courtName, "areaName": areaName, "caseCode": caseCode, "duty": duty,\<br>      "performance": performance, \<br>      "disruptTypeName": disruptTypeName, "publishDate": publishDate})</p> 
<p><br> # #################数据框去重####################################<br> # data1=data.drop_duplicates()<br> # print data1<br> detail_data1 = detail_data.drop_duplicates()</p> 
<p>print detail_data1</p> 
<p># #########################写出数据到excel#########################################<br> # pd.DataFrame.to_excel(data1,"F:\\iname_icard.xlsx",header=True,encoding='gbk',index=False)<br> # time2=time.time()<br> # print u'ok,爬虫结束!'<br> # print u'总共耗时：'+str(time2-time1)+'s'</p> 
<p><br><br>  </p> 
<p>--------------------- <br> 作者：开心果汁 <br> 来源：CSDN <br> 原文：https://blog.csdn.net/u013421629/article/details/77471919 <br> 版权声明：本文为博主原创文章，转载请附上博文链接！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c956927d89ddc20da12330009332fc52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python读写文件的编码格式-UTF-8, GBK</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a93d1d9ee36ada0beb215271d0743462/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Activiti入门创建25张表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>