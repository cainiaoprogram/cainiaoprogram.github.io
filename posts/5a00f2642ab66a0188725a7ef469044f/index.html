<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序实战-01翻页时钟-1 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序实战-01翻页时钟-1" />
<meta property="og:description" content="文章目录 前言需求分析功能设计界面设计界面结构设计界面样式设计 逻辑设计 单页功能实现运行结果 前言 我经常在手机上用的一款app有一个功能是翻页时钟，基于之前学习的小程序相关的基础内容，我打算在微信小程序中也设计一个翻页时钟功能，Just do it！
需求分析 作为练手项目，需求比较简单，两个功能：
支持时、分、秒显示；支持翻页效果； 整体效果大概是这个样子：
功能设计 界面设计 界面结构设计 wxml整体结构比较简单，设计6个页面和两组“:”。
界面样式设计 wxss的样式(CSS)对于我来说还是很陌生，没做过前端，也是边学边干。总体涉及的CSS的知识点会比较杂，对于样式的描述如果是动态的部分，还是不太了解，用文字描述也会不太容易。涉及的知识点，通过代码注释和理论结合进行阐述。
整体的样式也如上图所示。
逻辑设计 主要是通过js来完成计时和翻页的功能。
首先，我会先完成一个页面的渲染；然后再完成6个页面的渲染和计时，最后再完成动态翻页效果。
单页功能实现 本文先记录一个时钟数字页的渲染实现过程。
因为要有“翻页”，所以一个页面由一个view组件(item)来构造，由于涉及翻页，所以每个item设计成上下半部和一个页轴。上下半部也是通过view组件来构造，页轴通过样式来构造。
clock.wxml代码如下：
&lt;!-- clock.wxml --&gt; &lt;view class=&#34;container&#34;&gt; &lt;view class=&#34;item&#34;&gt; &lt;view class=&#34;up&#34;&gt; &lt;view class=&#34;number&#34;&gt;5&lt;/view&gt; &lt;/view&gt; &lt;view class=&#34;down&#34;&gt; &lt;view class=&#34;number&#34;&gt;5&lt;/view&gt; &lt;/view&gt; &lt;/view&gt; &lt;/view&gt; clock.wxss代码如下：
/* 设置item的样式，固定宽高 */ .item { position: relative; width: 90rpx; height: 155rpx; border:1rpx solid rgba(121, 121, 121, 0.384); box-shadow: 0 2rpx 18rpx rgba(0,0,0,0.7); border-radius: 10rpx; } /* 时钟的单个数字 */ ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5a00f2642ab66a0188725a7ef469044f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T22:26:50+08:00" />
<meta property="article:modified_time" content="2024-01-08T22:26:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序实战-01翻页时钟-1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_9" rel="nofollow">需求分析</a></li><li><a href="#_21" rel="nofollow">功能设计</a></li><li><ul><li><a href="#_23" rel="nofollow">界面设计</a></li><li><ul><li><a href="#_25" rel="nofollow">界面结构设计</a></li><li><a href="#_29" rel="nofollow">界面样式设计</a></li></ul> 
   </li><li><a href="#_35" rel="nofollow">逻辑设计</a></li></ul> 
  </li><li><a href="#_41" rel="nofollow">单页功能实现</a></li><li><a href="#_129" rel="nofollow">运行结果</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>前言</h2> 
<p>我经常在手机上用的一款app有一个功能是翻页时钟，基于之前学习的小程序相关的基础内容，我打算在微信小程序中也设计一个翻页时钟功能，Just do it！</p> 
<h2><a id="_9"></a>需求分析</h2> 
<p>作为练手项目，需求比较简单，两个功能：</p> 
<ol><li>支持时、分、秒显示；</li><li>支持翻页效果；</li></ol> 
<p>整体效果大概是这个样子：</p> 
<p><img src="https://images2.imgbox.com/10/50/pawEHaxc_o.png" alt="请添加图片描述"></p> 
<h2><a id="_21"></a>功能设计</h2> 
<h3><a id="_23"></a>界面设计</h3> 
<h4><a id="_25"></a>界面结构设计</h4> 
<p>wxml整体结构比较简单，设计6个页面和两组“:”。</p> 
<h4><a id="_29"></a>界面样式设计</h4> 
<p>wxss的样式(CSS)对于我来说还是很陌生，没做过前端，也是边学边干。总体涉及的CSS的知识点会比较杂，对于样式的描述如果是动态的部分，还是不太了解，用文字描述也会不太容易。涉及的知识点，通过代码注释和理论结合进行阐述。</p> 
<p>整体的样式也如上图所示。</p> 
<h3><a id="_35"></a>逻辑设计</h3> 
<p>主要是通过js来完成计时和翻页的功能。</p> 
<p>首先，我会先完成一个页面的渲染；然后再完成6个页面的渲染和计时，最后再完成动态翻页效果。</p> 
<h2><a id="_41"></a>单页功能实现</h2> 
<p>本文先记录一个时钟数字页的渲染实现过程。</p> 
<p>因为要有“翻页”，所以一个页面由一个view组件(item)来构造，由于涉及翻页，所以每个item设计成上下半部和一个页轴。上下半部也是通过view组件来构造，页轴通过样式来构造。</p> 
<p>clock.wxml代码如下：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- clock.wxml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>up<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>down<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>clock.wxss代码如下：</p> 
<pre><code class="prism language-css"><span class="token comment">/* 设置item的样式，固定宽高 */</span>
<span class="token selector">.item</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 90rpx<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 155rpx<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span>1rpx solid <span class="token function">rgba</span><span class="token punctuation">(</span>121<span class="token punctuation">,</span> 121<span class="token punctuation">,</span> 121<span class="token punctuation">,</span> 0.384<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 2rpx 18rpx <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0<span class="token punctuation">,</span>0.7<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 10rpx<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/* 时钟的单个数字 */</span>
<span class="token selector">.number</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token comment">/* border: 1px solid red; 调试用 */</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 155rpx<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #252525<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 2rpx 4rpx <span class="token function">rgb</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 118rpx<span class="token punctuation">;</span>
  <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 页轴 */</span>
<span class="token selector">.item::before</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 75rpx<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 5rpx<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*  掩盖“down”的上半部分 */</span>
<span class="token selector">.down</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.down .number</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 掩盖“up”的下半部分 */</span>
<span class="token selector">.up</span><span class="token punctuation">{<!-- --></span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>上述的CSS样式代码都是结合调试工具，一点点调试出来的。在这个过程中，会慢慢地去了解不同的属性的作用和使用、不同选择器的使用、不同布局、怎样将元素定位。</p> 
<p>对初学者来说，我当前的体会是通过开发者工具的调试器去查看详细的元素信息，同时，不断的去尝试，直到get你想要的渲染效果。中间会有很多尝试都是不奏效，从结果的角度来说可能是无用功，但是从学习的角度来说对CSS的知识点又增进了一些。因为CSS的知识点比较碎，比较多，有些概念也是初次遇到，所以这部分的调试工作会花费比较多的时间。不知道有没有更高效的工具或手段来完成CSS部分的工作，我目前所用的方式估计是最原始的手段，step by step。但是，当调试出自己想要的效果且知道每行代码的作用以及背后的知识点时，还是比较满意的。</p> 
<h2><a id="_129"></a>运行结果</h2> 
<p><img src="https://images2.imgbox.com/96/a4/hsegny0N_o.png" alt="请添加图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/08b550bbeea30577a18ed25a1a509f76/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">编程语言--C/C&#43;&#43;、python</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/264a5dc348e90a9dd8eeb0aba861ac14/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">linux下删除正在使用的文件（bin、so）会发生什么？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>