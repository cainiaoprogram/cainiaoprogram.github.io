<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>sed命令的应用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="sed命令的应用" />
<meta property="og:description" content="sed命令的应用 一、sed编辑器sed的工作流程：sed的命令格式于常用选项命令格式常用选项常用操作： 三、实际操作打印内容删除行替换行数内容插入内容字符位置互换 一、sed编辑器 sed是一种流编辑器，流编辑器会在编辑器处理数据之前基于预先提供的一组规则来编辑数据流。
sed编辑器可以根据命令来处理数据流中的数据，这些命令要么从命令行中输入，要么存储在一个命令文本文件中。
sed的工作流程： sed工作流程主要包括读取、执行、显示三个过程。
读取：sed从输入流（文件、管道、标准输入）中读取一行内容并存储到临时的缓冲区中（又称模式空间，pattern space）执行：默认情况下，所有的sed命令都在模式空间顺序地执行，除非
指定了行的地址，否则sed命令将会在所有的行上一次执行。
显示：发送修改后的内容到输出流。在发送数据后，模式空间将会被清空。在所有的文件内容都会被处理完成之前，上述过程将重复执行，直至所有内容被处理完。 在所有的文件内容都被处理完之前，上述过程将重复执行，直至所有内容被处理完。
注意：默认情况下所有的sed命令都是在模式空间内执行的，因此输入的文件并不会发生任何变化，除非是用重定向存储输出。
sed的命令格式于常用选项 命令格式 sed 选项 操作 文件
sed -f 脚本文件 文件1 文件2
sed -e &#39;n{
操作1
操作2
…
}‘文件1 文件2
常用选项 -e或者--expression=：表示用指定命令来处理输入的文本文件，只有一个操作命令时可省略，一般在执行多个操作命令使用 -f或者--file=：表示用指定的脚本文件来处理输入的文本文件 -h或--help：显示帮助 -n、--quiet或silent：禁止sed编辑器输出，但可以于p命令一起使用完成输出。 -i：直接修改目标文本文件。 常用操作： s：替换，替换指定字符 d：删除，删除选定的行 a：增加，在当前行下面增加一行指定内容 i： 插入，在选定行上面插入一条指定内容 c：替换，将选定行替换为指定内容 y：字符转换，转换前后的字符长度必须相同 p：打印，如果同时指定行，表示打印指定行；如果不指定行，则表示打印所有内容；如果有非打印字符，则以ASCII码输出。其通常于”-n“选项一起使用 =：打印行号 l（小写L）：打印数据流中的文本和不可打印的ASCII字符（比如结束符$、制表符\t） 三、实际操作 打印内容 查看指定行数：
显示奇数偶数
原理：
n表示切换到下一行，以奇数为例，当显示出第一行之后会执行p后面的n命令，n切换到下一行，也就是第三行，如何执行p显示。如此循环，直到遍历完文件所有内容。
删除行 替换行数内容 格式：
行范围s/旧字符串/新字符串/替换标记
4种替换标记：
数字：表面新字符串将替换第几处匹配的地方 g：表明新字符串将会替换所有匹配的地方 p：打印与替换命令匹配的行，与-n一起使用 w文件：将替换的结果写到文件中 使用替换时，分隔符是可以自定义的
加-i是修改保存的意思
插入内容 原理：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9ee13ed6ee379b9da3f66bb53cdbe7d3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-13T15:00:38+08:00" />
<meta property="article:modified_time" content="2023-05-13T15:00:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">sed命令的应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>sed命令的应用</h4> 
 <ul><li><a href="#sed_1" rel="nofollow">一、sed编辑器</a></li><li><ul><li><a href="#sed_5" rel="nofollow">sed的工作流程：</a></li><li><a href="#sed_16" rel="nofollow">sed的命令格式于常用选项</a></li><li><a href="#_17" rel="nofollow">命令格式</a></li><li><a href="#_26" rel="nofollow">常用选项</a></li><li><a href="#_36" rel="nofollow">常用操作：</a></li></ul> 
  </li><li><a href="#_50" rel="nofollow">三、实际操作</a></li><li><ul><li><a href="#_51" rel="nofollow">打印内容</a></li><li><a href="#_66" rel="nofollow">删除行</a></li><li><a href="#_71" rel="nofollow">替换行数内容</a></li><li><a href="#_100" rel="nofollow">插入内容</a></li><li><a href="#_109" rel="nofollow">字符位置互换</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="sed_1"></a>一、sed编辑器</h2> 
<p>sed是一种流编辑器，流编辑器会在编辑器处理数据之前基于预先提供的一组规则来编辑数据流。<br> sed编辑器可以根据命令来处理数据流中的数据，这些命令要么从命令行中输入，要么存储在一个命令文本文件中。</p> 
<h3><a id="sed_5"></a>sed的工作流程：</h3> 
<p>sed工作流程主要包括读取、执行、显示三个过程。</p> 
<ul><li>读取：sed从输入流（文件、管道、标准输入）中读取一行内容并存储到临时的缓冲区中（又称模式空间，pattern space）</li><li>执行：默认情况下，所有的sed命令都在模式空间顺序地执行，除非<br> 指定了行的地址，否则sed命令将会在所有的行上一次执行。<br> 显示：发送修改后的内容到输出流。在发送数据后，模式空间将会被清空。在所有的文件内容都会被处理完成之前，上述过程将重复执行，直至所有内容被处理完。</li></ul> 
<p>在所有的文件内容都被处理完之前，上述过程将重复执行，直至所有内容被处理完。<br> 注意：默认情况下所有的sed命令都是在模式空间内执行的，因此输入的文件并不会发生任何变化，除非是用重定向存储输出。</p> 
<h3><a id="sed_16"></a>sed的命令格式于常用选项</h3> 
<h3><a id="_17"></a>命令格式</h3> 
<p>sed 选项 操作 文件<br> sed -f 脚本文件 文件1 文件2<br> sed -e 'n{<!-- --><br> 操作1<br> 操作2<br> …<br> }‘文件1 文件2</p> 
<h3><a id="_26"></a>常用选项</h3> 
<pre><code>-e或者--expression=：表示用指定命令来处理输入的文本文件，只有一个操作命令时可省略，一般在执行多个操作命令使用
-f或者--file=：表示用指定的脚本文件来处理输入的文本文件
-h或--help：显示帮助
-n、--quiet或silent：禁止sed编辑器输出，但可以于p命令一起使用完成输出。
-i：直接修改目标文本文件。
</code></pre> 
<h3><a id="_36"></a>常用操作：</h3> 
<pre><code>s：替换，替换指定字符
d：删除，删除选定的行
a：增加，在当前行下面增加一行指定内容
i： 插入，在选定行上面插入一条指定内容
c：替换，将选定行替换为指定内容
y：字符转换，转换前后的字符长度必须相同
p：打印，如果同时指定行，表示打印指定行；如果不指定行，则表示打印所有内容；如果有非打印字符，则以ASCII码输出。其通常于”-n“选项一起使用
=：打印行号
l（小写L）：打印数据流中的文本和不可打印的ASCII字符（比如结束符$、制表符\t）
</code></pre> 
<h2><a id="_50"></a>三、实际操作</h2> 
<h3><a id="_51"></a>打印内容</h3> 
<p>查看指定行数：<br> <img src="https://images2.imgbox.com/a9/73/a8aO3Z5q_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/61/7e/PG8zyuuR_o.png" alt="在这里插入图片描述"><br> 显示奇数偶数<br> <img src="https://images2.imgbox.com/24/8c/X5mIvbvk_o.png" alt="在这里插入图片描述"><br> 原理：<br> n表示切换到下一行，以奇数为例，当显示出第一行之后会执行p后面的n命令，n切换到下一行，也就是第三行，如何执行p显示。如此循环，直到遍历完文件所有内容。</p> 
<p><img src="https://images2.imgbox.com/78/68/7kemMv7i_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ff/80/J6zvvQkN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/10/b9/Ri3OAgrK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ed/25/thShm6na_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/17/64/uXmZV5rJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_66"></a>删除行</h3> 
<p><img src="https://images2.imgbox.com/84/ce/3eNZoNaA_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/23/24/J2AYRJQT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d5/5d/7sQgBs7E_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/34/a6/5Rw41PrV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_71"></a>替换行数内容</h3> 
<p>格式：<br> 行范围s/旧字符串/新字符串/替换标记</p> 
<p>4种替换标记：</p> 
<pre><code>数字：表面新字符串将替换第几处匹配的地方
g：表明新字符串将会替换所有匹配的地方
p：打印与替换命令匹配的行，与-n一起使用
w文件：将替换的结果写到文件中
</code></pre> 
<p><img src="https://images2.imgbox.com/9f/10/oEil8uSa_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e6/91/Q56qd9To_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4c/59/CZe69lZj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ad/06/yxChqGVX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c5/9b/AcHRIvl5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4e/fe/v2VTgoQY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/12/f5/W731tlzn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c1/4b/8s5T3AQS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7e/b5/YWoPYQgT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0c/85/jRqt5lK9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/01/59/OU7i0GNh_o.png" alt="在这里插入图片描述"><br> 使用替换时，分隔符是可以自定义的<br> <img src="https://images2.imgbox.com/ce/5d/qV7GeYHH_o.png" alt="在这里插入图片描述"><br> 加-i是修改保存的意思<br> <img src="https://images2.imgbox.com/19/5c/xxn3X81x_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_100"></a>插入内容</h3> 
<p><img src="https://images2.imgbox.com/0f/c9/HkscaRW5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/49/af/MVGuy8gW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a7/50/0joBq9a0_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/5e/85/RDxZTEUw_o.png" alt="在这里插入图片描述"><br> 原理：<br> sed会先将指定内容复制到剪切板（临时存储空间）然后删除之前的内容，将复制的内容粘贴到指定位置。相当于剪切的作用</p> 
<h3><a id="_109"></a>字符位置互换</h3> 
<p><img src="https://images2.imgbox.com/ef/53/oPzdV95e_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/74/f5/2Js0b9Wm_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b436dee048098c500a2d6ac2fa2189b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">C语言知识点一</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10eaedf108dd7f01f5bd5178517a1d15/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ES6与CommonJS的模块化规范比较</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>