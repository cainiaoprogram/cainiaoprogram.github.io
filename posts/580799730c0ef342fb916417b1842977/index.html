<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络安全必学渗透测试流程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络安全必学渗透测试流程" />
<meta property="og:description" content="这个靶场是一个对渗透新手很友好的靶场。而且，该靶场包含了渗透测试的信息收集，漏洞利用和权限提升的全过程，对新手理解渗透测试的流程有很好的帮助。
靶场地址： https://hackmyvm.eu/machines/machine.php?vm=Hundred
靶场基本情况：
KALI靶机：192.168.1.3/24 主机：192.168.1.146/24 目标：普通用户flag和管理员flag
信息收集阶段： nmap -sn 192.168.1.0/2
sudo nmap -v -T4 -p- -A -oN nmap.log 192.168.1.146
nmap -A 192.168.1.146
这里我们看到开启了21端口，22端口和80端口：
【一&gt;所有资源关注我，私信回复“资料”获取&lt;一】 1、网络安全学习路线 2、电子书籍（白帽子） 3、安全大厂内部视频 4、100份src文档 5、常见安全面试题 6、ctf大赛经典题目解析 7、全套工具包 8、应急响应笔记
漏洞利用阶段： 我们连接下21端口：
用户名和密码都是ftp，然后查看当前目录文件，可见密钥文件和users.txt文件。
其实用户名是ftp，密码是什么，都可以登录！
这里采用mget，将所有文件下载到本地！这里采用mget可以一次性下载多个文件！
id_rsa文件：私钥是个兔子！
公钥文件，看着挺正常！
接下来，查看下id_rsa.pem文件！这个像是私钥文件！
然后，查看用户名文件！最后那个感谢的像是真正的用户名！
可以这里我们试着用着这个私钥文件通过SSH登录下hmv这个文件！
嘿嘿嘿，不行！
这条路暂时不同，接着咱们看下那个开放的80端口，直接访问下看看！！！
一个方块？
貌似出题人，打靶场打的魔怔了！
查看源代码，发现了端倪！
上面是个文件，下面是个目录！？先下载下来看看
wget http://192.168.1.146/h4ckb1tu5.enc
这个页面作为一个整体告诉我们可以通过这个key值获取一个目录。而且，我们也可以从logo图片获取一些信息通过图片隐写术。回到这个key值，我们可以通过RSA私钥和OpenSSL rsautl解码信息。通过解码信息获取一个文件。
接下来，我们用私钥文件和下载下来不知道啥玩意的文件生成目录！
访问下看看！192.168.1.146/，方向没错！！！
查看源代码？啥也没有？
网站的目录扫描有要点，一层一层的扫描！！！
来个超级字典！
https://github.com/danielmiessler/SecLists/releases/tag/2022.1
扫一波目录：
gobuster dir -w /root/Web-Content/common.txt -u http://192.168.1.146/softyhackb4el7dshelldredd/
然后，把这个私钥下载下来:
wget http://192.168.1.146/softyhackb4el7dshelldredd/id_rsa" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/580799730c0ef342fb916417b1842977/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-06T21:07:00+08:00" />
<meta property="article:modified_time" content="2024-01-06T21:07:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络安全必学渗透测试流程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>这个靶场是一个对渗透新手很友好的靶场。而且，该靶场包含了渗透测试的信息收集，漏洞利用和权限提升的全过程，对新手理解渗透测试的流程有很好的帮助。</p> 
<p>靶场地址： https://hackmyvm.eu/machines/machine.php?vm=Hundred</p> 
<p>靶场基本情况：</p> 
<blockquote> 
 <p>KALI靶机：192.168.1.3/24 主机：192.168.1.146/24 目标：普通用户flag和管理员flag</p> 
</blockquote> 
<h3><a id="_8"></a>信息收集阶段：</h3> 
<blockquote> 
 <p>nmap -sn 192.168.1.0/2</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5e/ef/MWo4zouC_o.jpg" alt="img"></p> 
<p>sudo nmap -v -T4 -p- -A -oN nmap.log 192.168.1.146</p> 
<blockquote> 
 <p>nmap -A 192.168.1.146</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/55/fb/CXNWRG4d_o.jpg" alt="img"></p> 
<p>这里我们看到开启了21端口，22端口和80端口：</p> 
<blockquote> 
 <p>【一&gt;所有资源关注我，私信回复“资料”获取&lt;一】 1、网络安全学习路线 2、电子书籍（白帽子） 3、安全大厂内部视频 4、100份src文档 5、常见安全面试题 6、ctf大赛经典题目解析 7、全套工具包 8、应急响应笔记</p> 
</blockquote> 
<h3><a id="_25"></a>漏洞利用阶段：</h3> 
<p>我们连接下21端口：</p> 
<p>用户名和密码都是ftp，然后查看当前目录文件，可见密钥文件和users.txt文件。</p> 
<p>其实用户名是ftp，密码是什么，都可以登录！</p> 
<p><img src="https://images2.imgbox.com/04/e4/NIqFGieJ_o.jpg" alt="img"></p> 
<p>这里采用mget，将所有文件下载到本地！这里采用mget可以一次性下载多个文件！</p> 
<p><img src="https://images2.imgbox.com/99/43/qb8evSfp_o.jpg" alt="img"></p> 
<p>id_rsa文件：私钥是个兔子！</p> 
<p><img src="https://images2.imgbox.com/ad/10/prAlc5kx_o.jpg" alt="img"></p> 
<p>公钥文件，看着挺正常！</p> 
<p><img src="https://images2.imgbox.com/48/13/8LAOnQMA_o.png" alt="img"></p> 
<p>接下来，查看下id_rsa.pem文件！这个像是私钥文件！</p> 
<p><img src="https://images2.imgbox.com/26/87/C6JQXfFC_o.png" alt="img"></p> 
<p>然后，查看用户名文件！最后那个感谢的像是真正的用户名！</p> 
<p><img src="https://images2.imgbox.com/c6/84/wfjAeFtn_o.png" alt="img"></p> 
<p>可以这里我们试着用着这个私钥文件通过SSH登录下hmv这个文件！</p> 
<p>嘿嘿嘿，不行！</p> 
<p><img src="https://images2.imgbox.com/e0/d4/2mGkaWXL_o.png" alt="img"></p> 
<p>这条路暂时不同，接着咱们看下那个开放的80端口，直接访问下看看！！！</p> 
<p>一个方块？</p> 
<p><img src="https://images2.imgbox.com/cc/58/gZkjNuYN_o.jpg" alt="img"></p> 
<p><img src="https://images2.imgbox.com/da/3c/mAgzBIqA_o.png" alt="img"></p> 
<p>貌似出题人，打靶场打的魔怔了！</p> 
<p>查看源代码，发现了端倪！</p> 
<p><img src="https://images2.imgbox.com/a4/d3/89jfXtQH_o.png" alt="img"></p> 
<p>上面是个文件，下面是个目录！？先下载下来看看</p> 
<p>wget http://192.168.1.146/h4ckb1tu5.enc</p> 
<p>这个页面作为一个整体告诉我们可以通过这个key值获取一个目录。而且，我们也可以从logo图片获取一些信息通过图片隐写术。回到这个key值，我们可以通过RSA私钥和OpenSSL rsautl解码信息。通过解码信息获取一个文件。</p> 
<p>接下来，我们用私钥文件和下载下来不知道啥玩意的文件生成目录！</p> 
<p><img src="https://images2.imgbox.com/de/50/XnshOe4Y_o.png" alt="img"></p> 
<p>访问下看看！192.168.1.146/，方向没错！！！</p> 
<p><img src="https://images2.imgbox.com/97/6f/N2YfXzaP_o.png" alt="img"></p> 
<p>查看源代码？啥也没有？</p> 
<p><img src="https://images2.imgbox.com/06/54/sq3rFGKK_o.png" alt="img"></p> 
<p>网站的目录扫描有要点，一层一层的扫描！！！</p> 
<p>来个超级字典！</p> 
<p>https://github.com/danielmiessler/SecLists/releases/tag/2022.1</p> 
<p>扫一波目录：</p> 
<p>gobuster dir -w /root/Web-Content/common.txt -u http://192.168.1.146/softyhackb4el7dshelldredd/</p> 
<p><img src="https://images2.imgbox.com/bc/bf/rG0Z1R9r_o.jpg" alt="img"></p> 
<p>然后，把这个私钥下载下来:</p> 
<p>wget http://192.168.1.146/softyhackb4el7dshelldredd/id_rsa</p> 
<p><img src="https://images2.imgbox.com/b9/06/DE5edTtC_o.png" alt="img"></p> 
<p>这次登录试下！两个问题：</p> 
<ol><li>too open需要将私钥的权限改为600</li><li>这个id_rsa需要密码</li></ol> 
<p><img src="https://images2.imgbox.com/df/7c/Xc7dAbm3_o.jpg" alt="img"></p> 
<p>接下来，需要搞定这个rsa的密码！！！！</p> 
<p>我们先把这个logo图片下下来！！！</p> 
<p>wget http://192.168.1.146/logo.jpg</p> 
<p>这里我们需要安装一个图片隐写工具：</p> 
<p>https://github.com/RickdeJager/stegseek/releases/tag/v0.6</p> 
<p>下载完：安装下：</p> 
<p>dpkg -i stegseek_0.6-1.deb</p> 
<p>安装过程中可能缺少部分组件：</p> 
<p>apt --fix-broken install</p> 
<p>安装完毕：采用先前的user.txt,对logo图片进行解密！</p> 
<p>stegseek logo.jpg users.txt -xf output</p> 
<p><img src="https://images2.imgbox.com/20/4f/7FSO3RV3_o.jpg" alt="img"></p> 
<p>这就是私钥的密码了！！</p> 
<p>d4t4s3c#1</p> 
<p>ssh -i id_rsa hmv@192.168.1.146</p> 
<p><img src="https://images2.imgbox.com/64/6d/Byth2Uzj_o.jpg" alt="img"><br> 终于进来了！！！！</p> 
<h3><a id="_151"></a>权限提升阶段：</h3> 
<p>接下来，root权限提升：</p> 
<p>在这台VM上root的权限提升很容易。这个/etc/shadow文件对任何人可写。因为我们可以通过修改这个文件来获取root的密码。</p> 
<p>以下链接介绍了/etc/shadow文件的组成：</p> 
<p>https://www.cyberciti.biz/faq/understanding-etcshadow-file/</p> 
<p>图片上传失败</p> 
<p>重试</p> 
<p>因为我们不需要读/etc/shadow这个文件，我们只需要复写它。</p> 
<p>因此，我们把密码修改为root，如下：</p> 
<p>1 生成密码root的加密值</p> 
<p>openssl passwd # enter new password “root”</p> 
<p>2 将root的加密值导入到/etc/shadow的root用户格式中</p> 
<p>echo root:qdbEWfKM1ov2g:18844:0:99999:7::: &gt; /etc/shadow</p> 
<p>3 切换为root，输入密码root</p> 
<p>su -l</p> 
<p><img src="https://images2.imgbox.com/85/98/9WaTYAhp_o.jpg" alt="img"></p> 
<p>完事了，这个难度是easy，其实也不简单。</p> 
<h3><a id="_185"></a>从靠劳力赚钱转变成靠脑力赚钱，想入门网络安全的小白肯定想知道如何学好？</h3> 
<blockquote> 
 <p>👉<a href="https://mp.weixin.qq.com/s/r1A4iMngDDFyTDHzJ923gw" rel="nofollow">[[[<font color="red">CSDN大礼包：</font>《黑客&amp;网络安全入门&amp;进阶学习资源》免费分享]]]</a><font color="green">（<strong>安全链接，放心点击</strong>）</font></p> 
</blockquote> 
<p><strong>对于0基础小白入门：</strong></p> 
<blockquote> 
 <p>如果你是零基础小白，想快速入门网络安全是可以考虑的。<br> 一方面是学习时间相对较短，学习内容更全面更集中。<br> 二方面是可以找到适合自己的学习方案</p> 
</blockquote> 
<p><mark>包括： 网络渗透、逆向分析、漏洞攻击、内核安全、移动安全、破解PWN等众多子方向。 带你从零基础系统性的学好网络安全！</mark></p> 
<p>网安所有方向的技术点做的整理，形成各个领域的知识点汇总，它的用处就在于，你可以按照上面的知识点去找对应的学习资源，保证自己学得较为全面。<mark>（全套教程文末领取哈）</mark><br> <img src="https://images2.imgbox.com/8b/2e/MQh0CicY_o.jpg" alt="在这里插入图片描述"><br> <strong>加粗样式如图片过大被平台压缩导致看不清的话，想要这个详细学习路线图的话呢。</strong></p> 
<p>以及我整理的视频配套资料&amp;国内外网安书籍、文档&amp;工具等等</p> 
<p><img src="https://images2.imgbox.com/8b/b2/nlsCBCHO_o.jpg" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/89/99/c9hqCNAf_o.jpg" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/b8/92/mZNN6TtS_o.png" alt="在这里插入图片描述"><br> <strong><mark>这份完整版的学习资料已经上传CSDN，朋友们如果需要可以微信扫描下方CSDN官方认证二维码免费领取<font color="red">【保证100%免费】</font></mark></strong></p> 
<blockquote> 
 <p>👉<a href="https://mp.weixin.qq.com/s/r1A4iMngDDFyTDHzJ923gw" rel="nofollow">[[[<font color="red">CSDN大礼包：</font>《黑客&amp;网络安全入门&amp;进阶学习资源》免费分享]]]</a><font color="green">（<strong>安全链接，放心点击</strong>）</font></p> 
</blockquote> 
<center> 
 <img src="https://images2.imgbox.com/e2/18/e9PP1LgL_o.png"> 
 <center> 
 </center> 
</center>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e9908e7e0a384e18aeacc1f07d1f3b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux常用指令四：查看进程以及内存信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b6619061f0ffd127de7fd7d63cc53f1c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">7 年 Python 的我，总结了这 90 条写 Python 程序的建议</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>