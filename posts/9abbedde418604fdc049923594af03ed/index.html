<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue(七) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue(七)" />
<meta property="og:description" content="组件的自定义事件 1. 一种组件问通信的方式，适用于 子组件===&gt;父组件
2.使用场量: A是父组件。B是子组件。B想给A传数据，那么就要在A中给B绑定自定义事件(事件的回调在A中)。
3.绑定自定义事件:
1.第一种方式，在父组件中: &lt;Demo @atguigu-&#34;test&#34;/&gt; 或&lt;Demo v-on:atguigyu-&#34;test&#34;/&gt;
2.第二种方式。在父组件中:
&lt;Dome ref=&#34;demo&#34;/&gt; mounted(){ this.$refs.xxx.$on(&#34;atguigu&#34; ,this.test) } 3.若想让自定义事件只能触发一次，可以使用once修饰符，或$once方法。
4.触发自定义事件: this.$emit(&#34;atguigu&#34; ,数据)
5.解绑自定义事件this.off(&#34; atguigu&#39;)
6.组件上也可以绑定原生DOM事件，需要使用native修饰符。
7.注意:通过this. $refs.xxx.$on( &#39;atguigu&#39; ,回调)绑定白定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题!
实例： app.vue &lt;template&gt; &lt;div id=&#34;app&#34;&gt; &lt;h2&gt;xxx:{{name}}&lt;/h2&gt; &lt;!--通过父组件给子组件绑定一个自定义事件实现:子给父传递数据 (第一种写法。使用@或v-on)--&gt; &lt;School @atguigu=&#34;getSchoolName&#34; /&gt; &lt;!--通过父组件给子组件绑定一个白定义事件实现: 子给父传递数据(第二种写法。使用ref)--&gt; &lt;Student ref=&#34;student&#34; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import School from &#39;./components/School&#39; import Student from &#39;./components/Student&#39; export default { name: &#39;App&#39;, data() { return { name:&#34;&#34; } }, components: { School, Student }, methods: { getSchoolName(name) { console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9abbedde418604fdc049923594af03ed/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-04T11:26:39+08:00" />
<meta property="article:modified_time" content="2022-07-04T11:26:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue(七)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3> </h3> 
<p> </p> 
<h3>组件的自定义事件</h3> 
<p><br><strong>1. 一种组件问通信的方式，适用于 子组件===&gt;父组件<br> 2.使用场量: A是父组件。B是子组件。B想给A传数据，那么就要在A中给B绑定自定义事件(事件的回调在A中)。<br> 3.绑定自定义事件:</strong><br>         1.第一种方式，在父组件中: &lt;Demo @atguigu-"test"/&gt; 或&lt;Demo v-on:atguigyu-"test"/&gt;<br>         2.第二种方式。在父组件中:</p> 
<pre><code class="language-javascript">&lt;Dome ref="demo"/&gt;

mounted(){
    this.$refs.xxx.$on("atguigu" ,this.test)
}</code></pre> 
<p><br><strong>3.若想让自定义事件只能触发一次，可以使用once修饰符，或$once方法。<br> 4.触发自定义事件: this.$emit("atguigu" ,数据)<br> 5.解绑自定义事件this.off(" atguigu')<br> 6.组件上也可以绑定原生DOM事件，需要使用native修饰符。<br> 7.注意:通过this. $refs.xxx.$on( 'atguigu' ,回调)绑定白定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题!</strong></p> 
<p> </p> 
<h4>实例：</h4> 
<h4><strong>app.vue</strong></h4> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;h2&gt;xxx:{<!-- -->{name}}&lt;/h2&gt;

    &lt;!--通过父组件给子组件绑定一个自定义事件实现:子给父传递数据 (第一种写法。使用@或v-on)--&gt;
    &lt;School @atguigu="getSchoolName" /&gt;

    &lt;!--通过父组件给子组件绑定一个白定义事件实现: 子给父传递数据(第二种写法。使用ref)--&gt;
    &lt;Student ref="student" /&gt;

  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  import School from './components/School'
  import Student from './components/Student'
export default {
    name: 'App',
    data() {
      return {
        name:""
      }
    },
    components: {
       School,
       Student
    },
    methods: {
      getSchoolName(name) {
        console.log(name),
        this.name=name
      },
      getStudentName(name,...params) {
        console.log(name+" "+params),
          this.name = name
      }
    },
    mounted() {
      //第二种写法。使用ref的
      this.$refs.student.$on("atguigu", this.getStudentName)
     
    }
}
&lt;/script&gt;

&lt;style scoped&gt;
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
  background-color:#b6ff00;
}
&lt;/style&gt;
</code></pre> 
<h4> School.vue</h4> 
<p> </p> 
<pre><code class="language-html">&lt;template&gt;
  &lt;div class="demo"&gt;
    &lt;div&gt;{<!-- -->{schoolName}}&lt;/div&gt;
    &lt;div&gt;{<!-- -->{schoolAdress}}&lt;/div&gt;
    &lt;button @click="SetShoolName"&gt;上传学校姓名&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;


  export default {
    name: 'School',
    data() {
      return {
        schoolName: 'xuexiao',
        schoolAdress: 'dizhi'
      }
    },
    methods:{
      SetShoolName() {
        console.log("school:" + this.schoolName)
        this.$emit("atguigu", this.schoolName)
      }
    }
  }
&lt;/script&gt;

&lt;style scoped&gt;
  .demo{
    background-color:royalblue;
  }
&lt;/style&gt;</code></pre> 
<h4>Student.vue</h4> 
<pre><code class="language-html">&lt;template&gt;
  &lt;!--组件的结构--&gt;
  &lt;div class="demo2"&gt;
    &lt;div&gt;{<!-- -->{name}}&lt;/div&gt;
    &lt;div&gt;{<!-- -->{age}}&lt;/div&gt;
    &lt;button @click="SetStudentName"&gt;上传学生姓名&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'Student',
    data() {
      return {
        name: "Alice",
        age:"18"
      }
    },
    methods: {
      //触发Student组件实例身上的atguigu事件
      SetStudentName() {
        this.$emit("atguigu", this.name,100,200,300)
      }
    }
  }
&lt;/script&gt;

&lt;style scoped&gt;
  .demo2{
    background-color:greenyellow;
  }
&lt;/style&gt;
</code></pre> 
<p> </p> 
<p> <img src="https://images2.imgbox.com/df/73/pNIQi0hE_o.png" alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Y2X5Z-O5a2k5be3,size_20,color_FFFFFF,t_70,g_se,x_16"></p> 
<p> </p> 
<p> </p> 
<h3>解绑</h3> 
<pre><code class="language-html">&lt;template&gt;
  &lt;!--组件的结构--&gt;
  &lt;div class="demo2"&gt;
    &lt;div&gt;{<!-- -->{name}}&lt;/div&gt;
    &lt;div&gt;{<!-- -->{age}}&lt;/div&gt;
    &lt;button @click="SetStudentName"&gt;上传学生姓名&lt;/button&gt;
    &lt;button @click="unbind"&gt;解绑&lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
  export default {
    name: 'Student',
    data() {
      return {
        name: "Alice",
        age:"18"
      }
    },
    methods: {
      //触发Student组件实例身上的atguigu事件
      SetStudentName() {
        this.$emit("atguigu", this.name,100,200,300)
      },
      unbind() {
        //this.$off("atguigu")             解绑单个自定义事件
        //this.$off(["atguigu","demo"])    解绑多个自定义事件
        this.$off()                      //解绑全部自定义事件
      }
    }
  }
&lt;/script&gt;</code></pre> 
<p> </p> 
<p><img src="https://images2.imgbox.com/03/95/0WQ3viHT_o.png" alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Y2X5Z-O5a2k5be3,size_20,color_FFFFFF,t_70,g_se,x_16"></p> 
<p> <img src="https://images2.imgbox.com/44/d0/sB4SgZlA_o.png" alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Y2X5Z-O5a2k5be3,size_11,color_FFFFFF,t_70,g_se,x_16"></p> 
<p> <img src="https://images2.imgbox.com/63/bf/j2VhPqt8_o.png" alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Y2X5Z-O5a2k5be3,size_20,color_FFFFFF,t_70,g_se,x_16"></p> 
<p> <img src="https://images2.imgbox.com/4c/6b/PXmYdEgW_o.png" alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5Y2X5Z-O5a2k5be3,size_20,color_FFFFFF,t_70,g_se,x_16"></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d65c28a3ca16a9c2a5c004343e5ac1c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java语言 eclipse lombok的@data无法生效</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/76eac4dc7bd0aaa70b1c84ef8ef78c3d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ts 严格模式下 对象可能为“未定义”。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>