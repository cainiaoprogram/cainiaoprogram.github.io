<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ESP32驱动1.28寸GC9A01播放视频（一、视频分辨率的调整和视频格式的转换） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ESP32驱动1.28寸GC9A01播放视频（一、视频分辨率的调整和视频格式的转换）" />
<meta property="og:description" content="ESP32驱动1.28寸GC9A01播放视频（一、视频分辨率的调整和视频格式的转换） 播放前准备转换视频分辨率用FFmpeg将.MP4转换为.mjpeg格式FFmpeg的win10环境搭建FFmpeg的下载环境变量的搭建 MP4转换成mjpeg格式 总结 播放前准备 1.28寸GC9A01屏幕的分辨率是240x240，所以需要把视频分辨率改成240x240的；而且还需要把MP4格式的视频转换成mjpeg形式的
转换视频分辨率 1、用格式工厂可以自行百度搜索下载（也可以自己用其它的软件转化），下载后点开MP4，、
2、添加相应的MP4文件，可以看到分辨率不是240x240的，然后点击输出配置
3、在屏幕大小后面手动输入240x240，也可以自己选择相应的分辨率，然后确定
3、选择输出的视频路径，然后点击确定
4、点击开始即可输出对应的视频，然后在对应的文件下即可看到对应的文件
用FFmpeg将.MP4转换为.mjpeg格式 我们用的是FFmpeg，如果自己有更好的软件也可以用自己的
FFmpeg的win10环境搭建 我们用的是win10，其它系统环境需要自行百度
FFmpeg的下载 1、打开FFmpeg官网：https://ffmpeg.org，点击Download
2、鼠标放到windos图标上，然后点击第一个下载链接
3、点击ffmpeg-git-ful.7z,会下载一个压缩包，下载之后解压好
环境变量的搭建 1、打开文件里面的bin文件，复制当前路径，
2、打开搜索，输入环境变量，点开编辑系统环境变量
3、点击环境变量
4、找到Path，然后双击
5、点击新建，然后把刚刚复制的路径粘贴好，确定即可
MP4转换成mjpeg格式 1、在刚刚的bin路径下按住“shift”右击鼠标.选择“在此处打开 Powershll 窗口”
2、执行以下命令将mp4文件转换为mjpeg格式
./ffmpeg -i [你的mp4文件路径] -vf &#34;fps=30,scale=-1:240:flags=lanczos,crop=240:in_h:(in_w-240)/2:0&#34; -q:v 9 [输出路径]
比如：
./ffmpeg -i D:\FFOutput\240x240\1.mp4 -vf &#34;fps=30,scale=-1:240:flags=lanczos,crop=240:in_h:(in_w-240)/2:0&#34; -q:v 9 D:\FFOutput\ffmpeg-240\240_30fps.mjpeg
1.mp4是视频名字，需要手动输入，输出的文件名240_30fps.mjpeg也是自己手动输入的
3、点击回车，出现下图表示成功
总结 本篇文章是为了后面ESP32驱动1.28寸屏显示视频做的准备，需要FFmpeg下载包的可以留下邮箱获取，感谢支持" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4a4e831237790099b5a50b35f4680f68/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-12T16:54:27+08:00" />
<meta property="article:modified_time" content="2023-04-12T16:54:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ESP32驱动1.28寸GC9A01播放视频（一、视频分辨率的调整和视频格式的转换）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ESP32驱动1.28寸GC9A01播放视频（一、视频分辨率的调整和视频格式的转换）</h4> 
 <ul><li><a href="#_1" rel="nofollow">播放前准备</a></li><li><a href="#_3" rel="nofollow">转换视频分辨率</a></li><li><a href="#FFmpegMP4mjpeg_17" rel="nofollow">用FFmpeg将.MP4转换为.mjpeg格式</a></li><li><ul><li><a href="#FFmpegwin10_19" rel="nofollow">FFmpeg的win10环境搭建</a></li><li><ul><li><a href="#FFmpeg_21" rel="nofollow">FFmpeg的下载</a></li><li><a href="#_28" rel="nofollow">环境变量的搭建</a></li></ul> 
   </li><li><a href="#MP4mjpeg_39" rel="nofollow">MP4转换成mjpeg格式</a></li></ul> 
  </li><li><a href="#_54" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>播放前准备</h2> 
<p>1.28寸GC9A01屏幕的分辨率是240x240，所以需要把视频分辨率改成240x240的；而且还需要把MP4格式的视频转换成mjpeg形式的</p> 
<h2><a id="_3"></a>转换视频分辨率</h2> 
<p>1、用格式工厂可以自行百度搜索下载（也可以自己用其它的软件转化），下载后点开MP4，、<br> <img src="https://images2.imgbox.com/84/9a/u0KeqcuF_o.png" alt="在这里插入图片描述"><br> 2、添加相应的MP4文件，可以看到分辨率不是240x240的，然后点击输出配置<br> <img src="https://images2.imgbox.com/5b/1c/jeVMt9Eq_o.png" alt="在这里插入图片描述"><br> 3、在屏幕大小后面手动输入240x240，也可以自己选择相应的分辨率，然后确定<br> <img src="https://images2.imgbox.com/00/b8/3KjoSMcT_o.png" alt="在这里插入图片描述"><br> 3、选择输出的视频路径，然后点击确定<br> <img src="https://images2.imgbox.com/d0/43/RTE2FTMb_o.png" alt="在这里插入图片描述"><br> 4、点击开始即可输出对应的视频，然后在对应的文件下即可看到对应的文件<br> <img src="https://images2.imgbox.com/d1/6d/zZaYR5op_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6e/c0/Jd3esoHb_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="FFmpegMP4mjpeg_17"></a>用FFmpeg将.MP4转换为.mjpeg格式</h2> 
<p>我们用的是FFmpeg，如果自己有更好的软件也可以用自己的</p> 
<h3><a id="FFmpegwin10_19"></a>FFmpeg的win10环境搭建</h3> 
<p>我们用的是win10，其它系统环境需要自行百度</p> 
<h4><a id="FFmpeg_21"></a>FFmpeg的下载</h4> 
<p>1、打开FFmpeg官网：<a href="https://ffmpeg.org" rel="nofollow">https://ffmpeg.org</a>，点击Download<br> <img src="https://images2.imgbox.com/c3/a0/pMbYtHos_o.png" alt="在这里插入图片描述"><br> 2、鼠标放到windos图标上，然后点击第一个下载链接<br> <img src="https://images2.imgbox.com/65/77/z1Nb0qt5_o.png" alt="在这里插入图片描述"><br> 3、点击ffmpeg-git-ful.7z,会下载一个压缩包，下载之后解压好<br> <img src="https://images2.imgbox.com/56/68/qV67YkTB_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_28"></a>环境变量的搭建</h4> 
<p>1、打开文件里面的bin文件，复制当前路径，<br> <img src="https://images2.imgbox.com/cd/fb/9gGQWSHh_o.png" alt="在这里插入图片描述"><br> 2、打开搜索，输入环境变量，点开编辑系统环境变量<br> <img src="https://images2.imgbox.com/34/5b/9EiOdHTh_o.png" alt="在这里插入图片描述"><br> 3、点击环境变量<br> <img src="https://images2.imgbox.com/cd/9b/KWznULea_o.png" alt="在这里插入图片描述"><br> 4、找到Path，然后双击<br> <img src="https://images2.imgbox.com/6a/50/Ioqaa2F1_o.png" alt="在这里插入图片描述"><br> 5、点击新建，然后把刚刚复制的路径粘贴好，确定即可<br> <img src="https://images2.imgbox.com/88/39/cswzvs27_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="MP4mjpeg_39"></a>MP4转换成mjpeg格式</h3> 
<p>1、在刚刚的bin路径下按住“shift”右击鼠标.选择“在此处打开 Powershll 窗口”</p> 
<p><img src="https://images2.imgbox.com/c1/d5/nCwCwjFl_o.png" alt="在这里插入图片描述"><br> 2、执行以下命令将mp4文件转换为mjpeg格式<br> <code>./ffmpeg -i [你的mp4文件路径] -vf "fps=30,scale=-1:240:flags=lanczos,crop=240:in_h:(in_w-240)/2:0" -q:v 9 [输出路径]</code><br> 比如：<br> <code>./ffmpeg -i D:\FFOutput\240x240\1.mp4 -vf "fps=30,scale=-1:240:flags=lanczos,crop=240:in_h:(in_w-240)/2:0" -q:v 9 D:\FFOutput\ffmpeg-240\240_30fps.mjpeg</code><br> 1.mp4是视频名字，需要手动输入，输出的文件名240_30fps.mjpeg也是自己手动输入的<br> 3、点击回车，出现下图表示成功<br> <img src="https://images2.imgbox.com/9a/7b/T6ThGC5G_o.png" alt="!](https://img-blog.csdnimg.cn/7efc3ee06dd646559e4ec3b99d43f10e.png)"></p> 
<h2><a id="_54"></a>总结</h2> 
<p>本篇文章是为了后面ESP32驱动1.28寸屏显示视频做的准备，需要FFmpeg下载包的可以留下邮箱获取，感谢支持</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aca4761b22167cef267f950626427d65/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jdbc通过kerberos认证连接hive</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/004cc951d439f398cafd0b9b8adcc887/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">软件设计的七大原则，超详细</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>