<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LTE信令流程——去附着 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LTE信令流程——去附着" />
<meta property="og:description" content="LTE信令流程 去附着 去附着流程允许UE通知网络侧，UE不想再进入EPS，或是网络侧通知UE不允许再进入EPS网络。按照去附着的触发源不同，可以分为UE发起的去附着和网络发起的去附着。对于无线侧来说，常见的UE发起的去附着。
1. 连接态UE发起的去附着 具体流程如下：
处于RRC_Connection态的UE进行DETACH过程，向eNB发送 UL NAS Transfer 消息，包含NAS层的Detach Request 消息eNB 向MME发送 上行直传UPLINK NAS Transport消息，包含NAS层的Detach Request 消息MME 向 Serving-GW发送 Delete Session Request消息，以删除 EPS承载Serving-GW 向MME 发送 Delete Session Response消息，以确认 EPS承载删除MME向基站发送下行直传DOWNLINK NAS TRANSPORT消息，包含NAS层Detach accept消息eNB向UE发送DLInformationTransfer消息，包含NAS层Detach accept消息MME向eNB发送UE CONTEXT RELEASE COMMAND消息，请求eNB释放UE上下文信息eNB接收到UE CONTEXT RELEASE COMMAND消息，向UE发送RRCConnectionRelease消息，释放RRC连接eNB释放UE上下文信息，向MME发送UE CONTEXT RELEASE COMPLETE消息进行响应 2. 连接态MME发起的去附着 MME发起的Detach过程与UE发起的类似，只是Detach Request消息由MME发起
3. HSS发起的去附着 由 HSS 向MME/SGSN 发送 Cancel Location 消息，通知MME/SGSN 进行去附着MME/SGSN 发送 去附着请求 给UEMME/SGSN向 Serving-GW发送 Delete Session Request消息，Serving-GW转发给PDN GW，以删除EPS承载PDN GW回复 Delete Session Response 消息给Serving-GW，Serving-GW转发给MME/SGSNUE向MME/SGSN发送 Detach Accept 消息，通知其接受去附着请求MME/SGSN向HSS回复 Cancel Location ACK消息UE到 MME/SGSN 的信令连接被释放，详细步骤同（1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/42359d0464e160833f40364c920dc50b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-23T23:48:43+08:00" />
<meta property="article:modified_time" content="2020-06-23T23:48:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LTE信令流程——去附着</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="LTE_0"></a>LTE信令流程</h2> 
<h3><a id="_2"></a>去附着</h3> 
<p>去附着流程允许UE通知网络侧，UE不想再进入EPS，或是网络侧通知UE不允许再进入EPS网络。按照去附着的触发源不同，可以分为UE发起的去附着和网络发起的去附着。对于无线侧来说，常见的UE发起的去附着。</p> 
<h4><a id="1_UE_8"></a>1. 连接态UE发起的去附着</h4> 
<p><img src="https://images2.imgbox.com/15/5b/3l1Dl7dt_o.png" alt="在这里插入图片描述"></p> 
<p>具体流程如下：</p> 
<ol><li>处于RRC_Connection态的UE进行DETACH过程，向eNB发送 UL NAS Transfer 消息，包含NAS层的Detach Request 消息</li><li>eNB 向MME发送 上行直传UPLINK NAS Transport消息，包含NAS层的Detach Request 消息</li><li>MME 向 Serving-GW发送 Delete Session Request消息，以删除 EPS承载</li><li>Serving-GW 向MME 发送 Delete Session Response消息，以确认 EPS承载删除</li><li>MME向基站发送下行直传DOWNLINK NAS TRANSPORT消息，包含NAS层Detach accept消息</li><li>eNB向UE发送DLInformationTransfer消息，包含NAS层Detach accept消息</li><li>MME向eNB发送UE CONTEXT RELEASE COMMAND消息，请求eNB释放UE上下文信息</li><li>eNB接收到UE CONTEXT RELEASE COMMAND消息，向UE发送RRCConnectionRelease消息，释放RRC连接</li><li>eNB释放UE上下文信息，向MME发送UE CONTEXT RELEASE COMPLETE消息进行响应</li></ol> 
<h4><a id="2_MME_26"></a>2. 连接态MME发起的去附着</h4> 
<p><img src="https://images2.imgbox.com/66/02/oE6hKVRu_o.png" alt="在这里插入图片描述"></p> 
<p>MME发起的Detach过程与UE发起的类似，只是Detach Request消息由MME发起</p> 
<h4><a id="3_HSS_34"></a>3. HSS发起的去附着</h4> 
<p><img src="https://images2.imgbox.com/dd/df/xasxPWfb_o.png" alt="在这里插入图片描述"></p> 
<ol><li>由 HSS 向MME/SGSN 发送 Cancel Location 消息，通知MME/SGSN 进行去附着</li><li>MME/SGSN 发送 去附着请求 给UE</li><li>MME/SGSN向 Serving-GW发送 Delete Session Request消息，Serving-GW转发给PDN GW，以删除EPS承载</li><li>PDN GW回复 Delete Session Response 消息给Serving-GW，Serving-GW转发给MME/SGSN</li><li>UE向MME/SGSN发送 Detach Accept 消息，通知其接受去附着请求</li><li>MME/SGSN向HSS回复 Cancel Location ACK消息</li><li>UE到 MME/SGSN 的信令连接被释放，详细步骤同（1. 连接态UE发起的去附着）中的第7~9步</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76400ed086c46f5d5a244c45065c698d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java学习-进阶】-Spring Boot 的Log4j2配置和使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/09fa9a834cc259207db4356c3c66d781/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Docker学习笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>