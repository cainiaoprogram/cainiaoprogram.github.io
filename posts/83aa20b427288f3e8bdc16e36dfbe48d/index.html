<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux—Web服务器（静态、动态网站的搭建） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux—Web服务器（静态、动态网站的搭建）" />
<meta property="og:description" content="一、web服务器 1.1www所用的协议
HTTP超文本传输协议，是互联网上最广泛的一种网络协议，所有的www文件都必须遵守这个标准
它是建立在TCP上一种的无状态连接，整个基本的工作流程是客户端发送一个HTTP请求，说明客户端想要访问的资源和请求的动作，服务端收到请求之后，服务端开始处理请求，并根据请求做出相应的动作访问服务器资源，最后通过发送HTTP相应把结果返回给客户端，其中一个请求的开始到一个相应的结束称为事务，当一个事务结束后还会在服务端添加一条日志条目
1.1.1 网址及HTTP简介
web服务器提供的这些数据大部分都是文件，那么我们需要在服务器端先将数据文件写好，并且放置在某个特殊的目录下面，这个目录就是我们整个网站的首页，在Redhat中，这个目录默认在/var/www/html。
URL：统一资源定位符，对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示，是互联网上标准资源的地址
网址格式：&lt;协议&gt;://&lt;主机或主机名&gt;[:port]/&lt;目录资源或路径&gt;
httpd常用的协议状态码：
status(状态码)： 1xx：100-101 信息提示 2xx：200-206 成功 3xx：300-305 重定向 4xx：400-415 错误类信息，客户端错误 5xx：500-505 错误类信息，服务器端错误 常见状态码、状态描述的说明：
200： 客户端请求成功 400： 客户端请求有语法错误，不能被服务器所理解 401： 请求未经授权，这个状态码必须和WWW-Authenticate报头域一起使用 403： 服务器收到请求，但是拒绝提供服务 404： 请求资源不存在，举个例子：输入了错误的URL 500： 服务器内部错误 502： 代理服务器从后端服务器收到了一条伪响应，如无法连接到网关 503 – 服务不可用，临时服务器维护或过载，服务器无法处理请求 504 – 网关超时 505 — http的版本不受支持 二、HTTP协议请求的工作过程 （1）终端客户在web浏览器地址输入访问地址http://www.ceshi.con:80/index.html （2）web浏览器请求DNS服务器把域名www.ceshi.com解析成web服务的IP地址 （3）web浏览器将端口号（默认是80）从访问地址（URL）中解析出来 （4）web浏览器通过解析后的IP地址及端口号与web服务器之间建立一条TCP连接 （5）建立TCP连接后，web浏览器向web服务器发送一条HTTP请求报文 （6）web服务器响应并读取浏览器的请求信息，然后返回一条	HTTP响应报文 （7）web服务器关闭HTTP连接，关闭TCP连接，web浏览器显示访问的网站内容到屏幕上 三、www服务器的基本配置 在服务端（192.168.169.128）进行：
第一步：挂载
mount /dev/sr0 /mnt 第二步：配置yum源仓库
vim /etc/yum.repos.d/base.repo 第三步：安装http并启动服务，关闭防火墙和selinux
[root@server ~]# yum install httpd -y [root@server ~]# systemctl start httpd [root@server ~]# systemctl stop filewalld [root@server ~]# setenforce 0 测试结果：可以访问到资源界面" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/83aa20b427288f3e8bdc16e36dfbe48d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-22T17:17:28+08:00" />
<meta property="article:modified_time" content="2023-07-22T17:17:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux—Web服务器（静态、动态网站的搭建）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="web_0"></a>一、web服务器</h2> 
<p><strong>1.1www所用的协议</strong></p> 
<p>HTTP超文本传输协议，是互联网上最广泛的一种网络协议，所有的www文件都必须遵守这个标准</p> 
<p>它是建立在TCP上一种的无状态连接，整个基本的工作流程是客户端发送一个HTTP请求，说明客户端想要访问的资源和请求的动作，服务端收到请求之后，服务端开始处理请求，并根据请求做出相应的动作访问服务器资源，最后通过发送HTTP相应把结果返回给客户端，其中一个请求的开始到一个相应的结束称为事务，当一个事务结束后还会在服务端添加一条日志条目</p> 
<p><strong>1.1.1 网址及HTTP简介</strong></p> 
<p>web服务器提供的这些数据大部分都是文件，那么我们需要在服务器端先将数据文件写好，并且放置在某个特殊的目录下面，这个目录就是我们整个网站的首页，在Redhat中，这个目录默认在/var/www/html。</p> 
<p><strong>URL：统一资源定位符</strong>，对可以从互联网上得到的资源的位置和访问方法的一种简洁的表示，是互联网上标准资源的地址</p> 
<p><strong>网址格式：&lt;协议&gt;://&lt;主机或主机名&gt;[:port]/&lt;目录资源或路径&gt;</strong></p> 
<p><strong>httpd常用的协议状态码：</strong></p> 
<pre><code>status(状态码)：
1xx：100-101 信息提示
2xx：200-206 成功
3xx：300-305 重定向
4xx：400-415 错误类信息，客户端错误
5xx：500-505 错误类信息，服务器端错误
</code></pre> 
<p><strong>常见状态码、状态描述的说明：</strong></p> 
<pre><code>200： 客户端请求成功

400： 客户端请求有语法错误，不能被服务器所理解

401： 请求未经授权，这个状态码必须和WWW-Authenticate报头域一起使用

403： 服务器收到请求，但是拒绝提供服务

404： 请求资源不存在，举个例子：输入了错误的URL

500： 服务器内部错误

502： 代理服务器从后端服务器收到了一条伪响应，如无法连接到网关

503 – 服务不可用，临时服务器维护或过载，服务器无法处理请求

504 – 网关超时

505 — http的版本不受支持
</code></pre> 
<h2><a id="HTTP_50"></a>二、HTTP协议请求的工作过程</h2> 
<pre><code>（1）终端客户在web浏览器地址输入访问地址http://www.ceshi.con:80/index.html
（2）web浏览器请求DNS服务器把域名www.ceshi.com解析成web服务的IP地址
（3）web浏览器将端口号（默认是80）从访问地址（URL）中解析出来
（4）web浏览器通过解析后的IP地址及端口号与web服务器之间建立一条TCP连接
（5）建立TCP连接后，web浏览器向web服务器发送一条HTTP请求报文
（6）web服务器响应并读取浏览器的请求信息，然后返回一条	HTTP响应报文
（7）web服务器关闭HTTP连接，关闭TCP连接，web浏览器显示访问的网站内容到屏幕上
</code></pre> 
<h2><a id="www_61"></a>三、www服务器的基本配置</h2> 
<p><strong>在服务端（192.168.169.128）进行：</strong></p> 
<p><strong>第一步：挂载</strong></p> 
<pre><code> mount /dev/sr0 /mnt
</code></pre> 
<p><strong>第二步：配置yum源仓库</strong></p> 
<pre><code>vim /etc/yum.repos.d/base.repo
</code></pre> 
<p><img src="https://images2.imgbox.com/45/e9/ajE5NopY_o.png" alt="在这里插入图片描述"></p> 
<p><strong>第三步：安装http并启动服务，关闭防火墙和selinux</strong></p> 
<pre><code>[root@server ~]# yum install httpd -y
[root@server ~]# systemctl start httpd
[root@server ~]# systemctl stop filewalld
[root@server ~]# setenforce 0
</code></pre> 
<p><strong>测试结果：可以访问到资源界面</strong></p> 
<p><img src="https://images2.imgbox.com/56/01/729vtPtZ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="http_91"></a>四、搭建静态网站—基于http协议的静态网站</h2> 
<p><strong>配置文件：/etc/httpd/conf/httpd.conf</strong></p> 
<pre><code>ServerName  0.0.0.0:80
LISTEN 80 监听端口
DoucmentROOT /var/www/html  网站加载数据文件的主目录
&lt;Directory /&gt;		默认有权限
	AllowOverride none		不允许覆盖
	Require all denied（granted）默认对根目录请求全部拒绝（授予）
&lt;Directory&gt;
&lt;Directory /var/www&gt;
	AllowOverride noe	
	Require all granted
&lt;Directory&gt;
&lt;Ifmodule dir_modlue&gt;
		DIrectoryIndex index.html    网站的资源文件名
&lt;/Ifmodule&gt;
</code></pre> 
<p><strong>搭建一个web服务器，访问该服务器时显示“hello world”欢迎界面</strong></p> 
<pre><code>[root@server ~]# cd /var/www/html/
[root@server html]# vim index.html
hello world
之后再通过浏览器访问
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/43/TF74H1mn_o.png" alt="在这里插入图片描述"><br> 或者：</p> 
<pre><code>[root@server ~]# echo hello world &gt; /var/www/html/index.html
[root@server ~]# curl 192.168.169.128
helloworld
</code></pre> 
<p><strong>问题：<br> 1.设置默认访问apache欢迎界面的配置文件是哪个？apache欢迎界面的具体文件在哪儿？</strong></p> 
<pre><code>配置文件：/etc/httpd/conf.d/welcome.conf
</code></pre> 
<p><img src="https://images2.imgbox.com/42/dd/2lrlz46R_o.png" alt="在这里插入图片描述"></p> 
<pre><code>具体文件：/usr/share/httpd/noindex/index.html
</code></pre> 
<p><img src="https://images2.imgbox.com/4a/cd/rHPNlXmT_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2.为什么自己定义的静态页面是在/var/www/html目录？</strong></p> 
<pre><code>因为在配置文件/etc/httpd/conf/httpd.conf中，
网站加载数据文件的主目录为/var/www/html
DoucmentROOT /var/www/html  
</code></pre> 
<p><img src="https://images2.imgbox.com/77/e4/WMNen6UT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1IP_151"></a>1、多IP网站搭建</h3> 
<p><strong>第一步：添加多IP</strong></p> 
<pre><code>[root@server ~]# nmcli connection modify ens160 ipv4.method manual +ipv4.addresses 192.168.169.134/24 +ipv4.addresses 192.168.169.135/24 +ipv4.addresses 192.168.169.136/24 ipv4.gateway 192.168.169.2 ipv4.dns 114.114.114.114 connection.autoconnect yes
[root@server ~]# nmcli connection up ens160
</code></pre> 
<p><strong>server主机配置：</strong></p> 
<p><strong>1.安装web服务包</strong></p> 
<pre><code>[root@server ~]# yum install httpd -y
</code></pre> 
<p><strong>2.关闭selinux，firewalld</strong></p> 
<pre><code>[root@server ~]# systemctl stop filewalld
[root@server ~]# setenforce 0
</code></pre> 
<p><strong>3.根据需求更改配置文件</strong></p> 
<pre><code>[root@server ~]# vim /etc/httpd/conf.d/vhosts.conf
[root@server ~]# cat /etc/httpd/conf.d/vhosts.conf
&lt;Virtualhost 192.168.169.134:80&gt;
    DocumentRoot /www/134
	ServerName 192.168.169.134
&lt;/Virtualhost&gt;
&lt;Directory /www&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;
&lt;Virtualhost 192.168.169.135:80&gt;
    DocumentRoot /www/135
    ServerName 192.168.169.135
&lt;/Virtualhost&gt;
&lt;Virtualhost 192.168.169.136:80&gt;
    DocumentRoot /www/136
    ServerName 192.168.169.136
&lt;/Virtualhost&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/e5/a6/6MwTwwo1_o.png" alt="在这里插入图片描述"></p> 
<p><strong>4.创建对应资源目录、文件</strong></p> 
<pre><code>[root@server ~]# mkdir /www/{134,135,136} -pv
[root@server ~]# echo this is 134 &gt; /www/134/index.html
[root@server ~]# echo this is 135 &gt; /www/135/index.html
[root@server ~]# echo this is 136 &gt; /www/136/index.html
</code></pre> 
<p><img src="https://images2.imgbox.com/1e/e2/OtAT8Qd9_o.png" alt="在这里插入图片描述"></p> 
<p><strong>5.重启服务</strong></p> 
<pre><code>[root@server ~]# systemctl restart httpd
</code></pre> 
<p><strong>测试结果：</strong></p> 
<p><img src="https://images2.imgbox.com/b8/bb/OgaY391z_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/20/49/CwTx0Y8E_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/c2/57/5L1ed6OA_o.png" alt="在这里插入图片描述"></p> 
<p><strong>eg：移除或修改网卡地址</strong></p> 
<p>ens160网卡中有192.168.10.100，134，135，136四个IP地址</p> 
<pre><code>移除134、135、136；添加200
[root@server ~]# nmcli connection edit ens160
nmcli&gt; goto ipv4
nmcli ipv4&gt; remove ipv4.addresses 192.168.10.134/24
nmcli ipv4&gt; remove ipv4.addresses 192.168.10.135/24
nmcli ipv4&gt; remove ipv4.addresses 192.168.10.136/24
nmcli ipv4&gt; set ipv4.addresses 192.168.10.200/24
nmcli ipv4&gt; save
nmcli ipv4&gt; quit
</code></pre> 
<h3><a id="2IP_238"></a>2、单IP地址多端口搭建网站</h3> 
<p><strong>1.添加多端口</strong></p> 
<pre><code>[root@server ~]# vim /etc/httpd/conf.d/vhosts.conf
[root@server ~]# cat /etc/httpd/conf.d/vhosts.conf
&lt;Virtualhost 192.168.169.134:80&gt;
DocumentRoot /www/80
ServerName 192.168.169.134
&lt;/Virtualhost&gt;
&lt;Directory /www&gt;
AllowOverride none
Require all granted
&lt;/Directory&gt;
Listen 8909
Listen 9999    
&lt;Virtualhost 192.168.169.134:8909&gt;
DocumentRoot /www/8909
ServerName 192.168.169.134
&lt;/Virtualhost&gt;
&lt;Virtualhost 192.168.169.134:9999&gt;
DocumentRoot /www/9999
ServerName 192.168.169.134
&lt;/Virtualhost&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/8c/grrczLZG_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2.根据配合创建对应资源目录、文件</strong></p> 
<pre><code>[root@server ~]# mkdir /www/{80,8909,9999} -pv
[root@server ~]# echo this is 80 &gt; /www/80/index.html
[root@server ~]# echo this is 8909 &gt; /www/8909/index.html
[root@server ~]# echo this is 9999 &gt; /www/9999/index.html
</code></pre> 
<p><strong>3.重启服务</strong></p> 
<p><strong>4. 测试</strong></p> 
<h3><a id="3_278"></a>3、建立两个基于域名访问的网站</h3> 
<p><strong>1.新建一个网站，域名为www.ceshi.com,设置DocumentRoot为/www/name,网页内容为this is test<br> 2.新建一个网站，域名为www.first.day,同时可通过ce.first.day访问，设置DocumentRoot为/www/ce,网页内容为：today is first day of class</strong></p> 
<pre><code>#本机地址192.168.10.100
[root@server ~]# vim /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
192.168.10.100  www.ceshi.com
192.168.10.100  www.first.day
192.168.10.100  ce.first.day

[root@server ~]# vim /etc/httpd/conf.d/vhost.conf
&lt;virtualHost 192.168.10.100:80&gt;
    DocumentRoot /www/ce
    ServerName www.first.day
    ServerName ce.first.day
&lt;/virtualHost&gt;
&lt;virtualHost 192.168.10.100:80&gt;
    DocumentRoot /www/name
    ServerName www.ceshi.com
&lt;/virtualHost&gt;
&lt;Directory /www&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;

[root@server ~]# mkdir /www/name
[root@server ~]# mkdir /www/ce
[root@server ~]# echo this is test &gt; /www/name/index.html
[root@server ~]# echo today is first day of class &gt; /www/ce/index.html
[root@server ~]# systemctl restart httpd
</code></pre> 
<p><strong>测试结果：</strong></p> 
<p><img src="https://images2.imgbox.com/ec/e6/oqPyX3gJ_o.png" alt="在这里插入图片描述"></p> 
<pre><code>&lt;Directory /www&gt;
    AllowOverride none
    &lt;RequirelAll&gt;
            Require all granted       #允许所有主机都可以访问
            Require not ip 192.168.10.134   #不允许此IP访问
    &lt;/RequireAll&gt;   
&lt;/Directory&gt;
</code></pre> 
<h2><a id="https_332"></a>五、搭建静态网站—基于https协议的静态网站</h2> 
<p><strong>HTTPS：超文本传输安全协议，是以安全为目标的HTTP通道。</strong></p> 
<p>1、介绍<br> HTTPS并不是一个新协议，而是 HTTP+SSL（TLS）。原本HTTP先和TCP（假定传输层是TCP协议）直接通信，而加了SSL后，就变成HTTP先和SSL通信，再由SSL和TCP通信，相当于SSL被嵌在了HTTP和TCP之间。</p> 
<p><img src="https://images2.imgbox.com/73/b5/Aae2Jgv8_o.png" alt="在这里插入图片描述"></p> 
<p><strong>SSL</strong>：是“Secure Sockets Layer”的缩写，中文叫做“安全套接层”。它是在上世纪90年代中期，由网景公司设计的。到了1999年，SSL 应用广泛，已经成为互联网上的事实标准。IETF 就把SSL 标准化。标准化之后SSL被改为 TLS（Transport Layer Security传输层安全协议）。</p> 
<p><strong>2、SSL协议</strong><br> 两层SSL协议：</p> 
<p>SSL记录协议 （SSL Record Protocol）：它建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能。</p> 
<p>SSL握手协议（SSL Handshake Protocol）：它建立在SSL记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。</p> 
<p>SSL协议提供的服务：</p> 
<p>1）认证用户和服务器，确保数据发送到正确的客户机和服务器</p> 
<p>2）加密数据以防止数据中途被窃取</p> 
<p>3）维护数据的完整性，确保数据在传输过程中不被改变。</p> 
<p><strong>搭建https静态网站</strong></p> 
<p>mod_ssl：是一种以openssl 的工具箱为基础专门为apache webserver 提供密码保护的软件。</p> 
<pre><code>1.装包
[root@localhost ~]# yum install mod_ssl -y
</code></pre> 
<p><img src="https://images2.imgbox.com/4d/e4/WSiiIaDE_o.png" alt="在这里插入图片描述"></p> 
<pre><code>ssl.conf中重要的三条配置
SSLEngine on    引擎
SSLCertificateFile /etc/pki/tls/certs/localhost.crt    证书文件
SSLCertificateKeyFile /etc/pki/tls/private/localhost.key    私钥文件


2.创建自签名证书和颁发证书
[root@localhost ~]# openssl req -newkey rsa:4096 -nodes -sha256 -keyout /etc/pki/tls/private/openlab.key -x509 -days 365 -out /etc/pki/tls/certs/openlab.crt 
</code></pre> 
<p><img src="https://images2.imgbox.com/e1/ac/8N5oTCx0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/30/ef/9wrH3xSa_o.png" alt="在这里插入图片描述"></p> 
<pre><code>3.更改配置文件
&lt;Virtualhost 192.168.10.100:443&gt;
    DocumentRoot /www/443
    ServerName 192.168.10.100
    SSLEngine on
    SSLCertificateFile /etc/pki/tls/certs/openlab.crt
    SSLCertificateKeyFile /etc/pki/tls/private/openlab.key
&lt;/Virtualhost&gt;
&lt;Directory /www&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;
</code></pre> 
<p><img src="https://images2.imgbox.com/7a/8e/Hh5hA0Tg_o.png" alt="在这里插入图片描述"></p> 
<pre><code>4.创建对应资源目录、文件
[root@localhost ~]# mkdir /www/443 
[root@localhost ~]# echo i really is 栓q &gt; /www/443/index.html
</code></pre> 
<p><strong>5.重启服务、测试</strong></p> 
<p><img src="https://images2.imgbox.com/4f/c8/sDqPUUhx_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_408"></a>六、搭建动态网站（搭建论坛）</h2> 
<p><strong>LAMP（Linux+Apache+MySQL+PHP）</strong></p> 
<p><strong>Apache</strong>主要提供www服务器平台<br> <strong>MySQL</strong>：数据库是一个特殊格式的文件，这种文件要通过特殊接口（数据库软件）来进行读写，由于这个特殊接口已经针对数据的查询，写入做过优化设计，因此适合多人同时写入与查询工作<br> <strong>PHP</strong>：可以被用来建立动态网页，PHP程序代码可以直接在HTML网页当中嵌入就像编辑HTML网页一样简单，PHP是一种程序语言，可以直接在网页当中编写，不需要经过编译即可执行</p> 
<p><strong>1.关闭防火墙和selinux</strong></p> 
<pre><code>2.安包
yum install httpd -y
yum install php* -y
yum install mariadb-server -y



3.上传discuz包
包链接：
https://pan.baidu.com/s/15vywjSPrj4fhbxuANvsLpA?pwd=zw13
</code></pre> 
<p><img src="https://images2.imgbox.com/63/17/tfD0OW3l_o.png" alt="在这里插入图片描述"></p> 
<pre><code>4.解压
[root@localhost discuz]# unzip Discuz_X3.4_SC_GBK_20191201.zip
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/48/6r0Js2uv_o.png" alt="在这里插入图片描述"></p> 
<pre><code>5.启动MySQL服务以及初始化数据库
[root@localhost upload]# systemctl restart mariadb
[root@localhost upload]# mysql_secure_installation  设置密码

6.进入数据库并创建库
[root@localhost upload]# mysql -uroot -p
MariaDB [(none)]&gt; create database discuz;
Query OK, 1 row affected (0.000 sec)
MariaDB [(none)]&gt; exit
Bye
[root@localhost upload]# systemctl restart mariadb


7.更改配置
[root@localhost ~]# vim /etc/httpd/conf.d/vhosts.conf 
&lt;Virtualhost 192.168.10.100:80&gt;
    DocumentRoot /discuz
    ServerName 192.168.10.100
&lt;/Virtualhost&gt;
&lt;Directory /discuz&gt;
    AllowOverride none
    Require all granted
&lt;/Directory&gt;
[root@localhost ~]# systemctl restart httpd
</code></pre> 
<p><strong>用浏览器访问 http://192.168.10.100/upload 进入论坛安装配置过程</strong></p> 
<p><img src="https://images2.imgbox.com/51/df/x5dVoAY7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7e/de/UuUI9T7u_o.png" alt="在这里插入图片描述"></p> 
<pre><code>在当前目录upload下无权限，所以要加权限
[root@localhost upload]# chmod 777 config data uc_* -R
</code></pre> 
<p><img src="https://images2.imgbox.com/f2/fe/pjCAI7OP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c7/97/ZHeJ41KJ_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8d/0c/gruy9vdK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4d/41/Nmmy0QJs_o.png" alt="在这里插入图片描述"><br> 重新刷新</p> 
<p><img src="https://images2.imgbox.com/06/2a/g7LtcNaB_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c39e875d2ae065f998c7b7fad6b3afe2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Element Plus 稳定版正式发布</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5d00a76ef74a9bff27679998ac1f69f8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Allegro学习笔记——网络表从生成到导入PCB及放置器件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>