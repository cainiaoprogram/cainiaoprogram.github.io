<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>lambda用法及其高阶函数 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="lambda用法及其高阶函数" />
<meta property="og:description" content="lambda用法及其高阶函数 lambda函数1、lambda 语法1.1 参数arg1.2 参数表达式expression1.3 常见的lambda函数示例：无参匿名函数带参匿名函数 2、lambda 用法之高阶函数2.1 map() 函数：2.2 reduce()函数2.3 sorted() 函数：2.4 filter() 函数：2.5 和for连用（1）res=[ lambda x,i=i : x*i for i in range (6) ]第一种：带参数x第二种：无参使用： （2）错误操作：res = [lambda x : x*i for i in range(6)]第一种：带参数x第二种：无参使用： （3）res = lambda x : [x*i for i in range(6)]第一种：带参数x第二种：无参使用： 3、复习一下列表推导式：for..in...if语法(不使用lambda)2.6.1 带有 if 语句2.6.2 带有 for 嵌套2.6.3. 既有 if 语句又有 for 嵌套: for..in..if..2.6.4. 列表推导式生成矩阵 lambda函数 1、lambda 语法 lambda arg1,arg2,…argn(传入的参数):expression(要执行的语句)
匿名函数不需要return来返回值，表达式expression执行完的结果就是返回值。
# 普通python函数 def func(a,b,c): return a&#43;b&#43;c print func(1,2,3) # 返回值为6 # lambda匿名函数 f = lambda a,b,c:a&#43;b&#43;c print f(1,2,3) # 返回结果为6 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3cfe2016eaea6ba2718f406313f4b61d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-15T10:14:38+08:00" />
<meta property="article:modified_time" content="2023-08-15T10:14:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">lambda用法及其高阶函数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>lambda用法及其高阶函数</h4> 
 <ul><li><a href="#lambda_3" rel="nofollow">lambda函数</a></li><li><ul><li><a href="#1lambda__5" rel="nofollow">1、lambda 语法</a></li><li><ul><li><a href="#11_arg_26" rel="nofollow">1.1 参数arg</a></li><li><a href="#12_expression_39" rel="nofollow">1.2 参数表达式expression</a></li><li><a href="#13_lambda_52" rel="nofollow">1.3 常见的lambda函数示例：</a></li><li><ul><li><a href="#_63" rel="nofollow">无参匿名函数</a></li><li><a href="#_101" rel="nofollow">带参匿名函数</a></li></ul> 
   </li></ul> 
   </li><li><a href="#2lambda__196" rel="nofollow">2、lambda 用法之高阶函数</a></li><li><ul><li><a href="#21_map__198" rel="nofollow">2.1 map() 函数：</a></li><li><a href="#22_reduce_241" rel="nofollow">2.2 reduce()函数</a></li><li><a href="#23_sorted__304" rel="nofollow">2.3 sorted() 函数：</a></li><li><a href="#24_filter__366" rel="nofollow">2.4 filter() 函数：</a></li><li><a href="#25_for_406" rel="nofollow">2.5 和for连用</a></li><li><ul><li><a href="#1res_lambda_xii__xi_for_i_in_range_6__408" rel="nofollow">（1）res=[ lambda x,i=i : x*i for i in range (6) ]</a></li><li><ul><li><a href="#x_410" rel="nofollow">第一种：带参数x</a></li><li><a href="#_451" rel="nofollow">第二种：无参使用：</a></li></ul> 
     </li><li><a href="#2res__lambda_x__xi__for_i_in_range6_478" rel="nofollow">（2）错误操作：res = [lambda x : x*i for i in range(6)]</a></li><li><ul><li><a href="#x_480" rel="nofollow">第一种：带参数x</a></li><li><a href="#_508" rel="nofollow">第二种：无参使用：</a></li></ul> 
     </li><li><a href="#3res__lambda_x__xi__for_i_in_range6_542" rel="nofollow">（3）res = lambda x : [x*i for i in range(6)]</a></li><li><ul><li><a href="#x_550" rel="nofollow">第一种：带参数x</a></li><li><a href="#_571" rel="nofollow">第二种：无参使用：</a></li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#3foriniflambda_595" rel="nofollow">3、复习一下列表推导式：for..in...if语法(不使用lambda)</a></li><li><ul><li><ul><li><a href="#261__if__605" rel="nofollow">2.6.1 带有 if 语句</a></li><li><a href="#262__for__618" rel="nofollow">2.6.2 带有 for 嵌套</a></li><li><a href="#263__if__for__forinif_629" rel="nofollow">2.6.3. 既有 if 语句又有 for 嵌套: for..in..if..</a></li><li><a href="#264__662" rel="nofollow">2.6.4. 列表推导式生成矩阵</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="lambda_3"></a>lambda函数</h2> 
<h3><a id="1lambda__5"></a>1、lambda 语法</h3> 
<blockquote> 
 <p>lambda arg1,arg2,…argn(传入的参数):expression(要执行的语句)</p> 
 <p>匿名函数不需要<a href="http://www.iplaypy.com/jinjie/return.html" rel="nofollow">return</a>来返回值，表达式expression执行完的结果就是返回值。</p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token comment"># 普通python函数</span>
<span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token operator">+</span>c
 
<span class="token keyword">print</span> func<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 返回值为6</span>
 
<span class="token comment"># lambda匿名函数</span>
f <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">:</span>a<span class="token operator">+</span>b<span class="token operator">+</span>c

<span class="token keyword">print</span> f<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token comment"># 返回结果为6</span>
</code></pre> 
<h4><a id="11_arg_26"></a>1.1 参数arg</h4> 
<p><strong>[arg…] 是参数列表</strong>，它的结构与 Python 中函数(function)的参数列表是一样的。<br> [arg…] 可以有非常多的形式。例如：</p> 
<ul><li><code>a, b</code> 函数输入是a和b</li><li><code>a=1, b=2</code></li><li><code>*args</code> 输入是任意个数参数</li><li><code>**kwargs</code> 输入是任意键值对参数</li><li><code>a, b=1, *args</code></li><li><code>空</code> 函数没有输入参数</li><li>…</li></ul> 
<h4><a id="12_expression_39"></a>1.2 参数表达式expression</h4> 
<p><strong>expression 是一个参数表达式</strong>，表达式中出现的参数需要在<code>[arg......]</code>中有定义，并且表达式只能是单行的，只能有一个表达式。<br> 以下都是合法的表达式：</p> 
<ul><li>1</li><li>None</li><li>a + b</li><li>sum(a)</li><li>1 if a &gt;10 else 0</li><li>m for m in xxxxx</li><li>…</li></ul> 
<h4><a id="13_lambda_52"></a>1.3 常见的lambda函数示例：</h4> 
<pre><code class="prism language-python"><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x<span class="token operator">*</span>y			<span class="token comment"># 函数输入是x和y，输出是它们的积x*y</span>
<span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token boolean">None</span>					<span class="token comment"># 函数没有输入参数，输出是None</span>
<span class="token keyword">lambda</span> <span class="token operator">*</span>args<span class="token punctuation">:</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>		<span class="token comment"># 输入是任意个数参数，输出是它们的和(隐性要求输入参数必须能进行算术运算)</span>
<span class="token keyword">lambda</span> <span class="token operator">**</span>kwargs<span class="token punctuation">:</span> <span class="token number">1</span>			<span class="token comment"># 输入是任意键值对参数，输出是1</span>
</code></pre> 
<h5><a id="_63"></a>无参匿名函数</h5> 
<p>例1、</p> 
<pre><code class="prism language-python">无参匿名函数<span class="token punctuation">:</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token boolean">True</span> <span class="token comment">#分号前无任何参数</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> t<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>

等价于下面的<span class="token keyword">def</span>定义的函数
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">return</span> <span class="token boolean">True</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
</code></pre> 
<p>例2、</p> 
<pre><code class="prism language-python"><span class="token comment">#建此字符串按照正常情形输出</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s <span class="token operator">=</span> <span class="token string">"this is\na\ttest"</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> s
<span class="token string">'this is\na\ttest'</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#split函数默认分割:空格，换行符，TAB</span>
<span class="token punctuation">[</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#用join函数将一个列表转为字符串</span>
<span class="token string">'this is a test'</span>

等价于
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span><span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">"this is\na\ttest"</span><span class="token punctuation">)</span>
即
f <span class="token operator">=</span> <span class="token keyword">lambda</span> s<span class="token punctuation">:</span><span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">(</span><span class="token string">"this is\na\ttest"</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_101"></a>带参匿名函数</h5> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">3</span> <span class="token comment">#一个参数</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">:</span>x<span class="token operator">+</span>y<span class="token operator">+</span>z <span class="token comment">#多个参数</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">:</span> x<span class="token operator">*</span>y <span class="token comment">#允许参数存在默认值</span>

<span class="token comment">#以元组作为参数</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token operator">*</span>z<span class="token punctuation">:</span>z  <span class="token comment">#参数*z表示输入参数为元组</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">(</span><span class="token string">'Testing1'</span><span class="token punctuation">,</span><span class="token string">'Testing2'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'Testing1'</span><span class="token punctuation">,</span> <span class="token string">'Testing2'</span><span class="token punctuation">)</span>
</code></pre> 
<p>匿名函数调用</p> 
<pre><code class="prism language-python"><span class="token comment">#直接赋值给一个变量,然后再像一般函数调用</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>z<span class="token punctuation">:</span> x<span class="token operator">*</span>y<span class="token operator">*</span>z
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token number">24</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">:</span> x<span class="token operator">+</span>y <span class="token comment">#使用了默认值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">#不输的话，使用默认值2</span>
<span class="token number">12</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span> 
</code></pre> 
<pre><code class="prism language-python">
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token operator">*</span>z<span class="token punctuation">:</span>z <span class="token comment">#*z返回的是一个元祖</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">(</span><span class="token string">'Testing1'</span><span class="token punctuation">,</span><span class="token string">'Testing2'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'Testing1'</span><span class="token punctuation">,</span> <span class="token string">'Testing2'</span><span class="token punctuation">)</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token operator">**</span>Arg<span class="token punctuation">:</span> Arg <span class="token comment">#arg返回的是一个字典</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token comment">#直接后面传递实参</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span> x <span class="token keyword">if</span> x<span class="token operator">&gt;</span> y <span class="token keyword">else</span> y<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">)</span>
<span class="token number">102</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token number">9</span>

<span class="token comment">#lambda返回的值，结合map,filter,reduce使用</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>

等价于下面的列表推导式

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> l <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token keyword">if</span> x<span class="token operator">%</span><span class="token number">3</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> l
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>


嵌套使用

<span class="token comment">#lambda嵌套到普通函数中,lambda函数本身做为return的值</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">increment</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">return</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">+</span>n
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token operator">=</span>increment<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token number">6</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> title <span class="token operator">=</span> <span class="token string">'Sir,'</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> action<span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> title <span class="token operator">+</span> x
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">return</span> action
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> act <span class="token operator">=</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> act<span class="token punctuation">(</span><span class="token string">'Smith!'</span><span class="token punctuation">)</span>
<span class="token string">'Sir,Smith!'</span>
</code></pre> 
<h3><a id="2lambda__196"></a>2、lambda 用法之高阶函数</h3> 
<h4><a id="21_map__198"></a>2.1 map() 函数：</h4> 
<pre><code class="prism language-python"><span class="token builtin">map</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span> iterable<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre> 
<p>描述：map() 会根据提供的函数<code>function </code> <strong>对指定序列</strong> <code>iterable</code> 做映射。</p> 
<p>以序列中的每一个元素调用 function 函数，返回包含每次 function 函数返回值的新列表。</p> 
<p>参数：</p> 
<ul><li> <p>function ----&gt; 函数</p> </li><li> <p>iterable ----&gt; 一个或多个序列</p> </li></ul> 
<p>返回值：</p> 
<ul><li>Python 2.x 版本返回的是列表</li><li>Python 3.x 版本返回的是迭代器</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># ===========一般写法：===========</span>
<span class="token comment"># 1、计算平方数</span>
<span class="token keyword">def</span> <span class="token function">square</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">return</span> x <span class="token operator">**</span> <span class="token number">2</span>

<span class="token builtin">map</span><span class="token punctuation">(</span>square<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>	<span class="token comment"># 计算列表各个元素的平方</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>

<span class="token comment"># ===========匿名函数写法：============</span>
<span class="token comment"># 2、计算平方数，lambda 写法</span>
<span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>	 

<span class="token comment"># 3、提供两个列表，将其相同索引位置的列表元素进行相加</span>
<span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="22_reduce_241"></a>2.2 reduce()函数</h4> 
<pre><code class="prism language-python"><span class="token builtin">reduce</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span> iterable<span class="token punctuation">[</span><span class="token punctuation">,</span> initializer<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>reduce() 函数会对参数序列中元素进行 <strong><mark>累加</mark></strong>。</p> </li><li> <p>函数将一个数据集合（链表，元组等）中的所有数据进行下列操作：</p> 
  <ul><li>用传给 reduce 中的函数 function（有两个参数）先对集合中的第 1、2 个元素进行操作，</li><li>得到的结果再与第三个数据用 function 函数运算，以此类推，最后得到一个结果。</li></ul> </li></ul> 
<p><strong>参数：</strong></p> 
<ul><li>function ----&gt; 函数，有两个参数</li><li>iterable ----&gt; 可迭代对象</li><li>initializer ----&gt; 可选，初始参数</li></ul> 
<p><strong>返回值：</strong></p> 
<ul><li>返回函数计算结果。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># ===========一般写法：===========</span>
<span class="token comment"># 1、两数相加</span>
<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>            
	<span class="token keyword">return</span> x <span class="token operator">+</span> y

<span class="token builtin">reduce</span><span class="token punctuation">(</span>add<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># 计算列表元素和：1+3+5+7+9</span>
<span class="token comment"># 结果：</span>
<span class="token number">25</span>

<span class="token triple-quoted-string string">"""
===========执行步骤解析：===========
调用 reduce(add, [1, 3, 5, 7, 9])时，reduce函数将做如下计算：
1	先计算头两个元素：f(1, 3)，结果为4；
2	再把结果和第3个元素计算：f(4, 5)，结果为9；
3	再把结果和第4个元素计算：f(9, 7)，结果为16；
4	再把结果和第5个元素计算：f(16, 9)，结果为25；
5	由于没有更多的元素了，计算结束，返回结果25。
"""</span>

<span class="token comment"># ===========匿名函数写法：===========</span>
<span class="token comment"># 2、两数相加，lambda 写法</span>
<span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token operator">+</span> y<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token number">15</span>
</code></pre> 
<p>什么时候用reduce()？</p> 
<pre><code class="prism language-python"><span class="token comment"># 当然求和运算可以直接用Python内建函数sum()，没必要动用reduce。</span>
	
<span class="token comment"># 3、但是如果要把序列 [1, 3, 5, 7, 9] 变换成整数 13579，reduce就可以派上用场：</span>
<span class="token keyword">def</span> <span class="token function">fn</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">return</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> y

<span class="token builtin">reduce</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token number">13579</span>
</code></pre> 
<h4><a id="23_sorted__304"></a>2.3 sorted() 函数：</h4> 
<pre><code class="prism language-python"><span class="token builtin">sorted</span><span class="token punctuation">(</span>iterable<span class="token punctuation">[</span><span class="token punctuation">,</span> <span class="token builtin">cmp</span><span class="token punctuation">[</span><span class="token punctuation">,</span> key<span class="token punctuation">[</span><span class="token punctuation">,</span> reverse<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>描述：</strong> sorted() 函数对所有可迭代的对象进行排序操作。</p> 
<blockquote> 
 <p>sort 与 sorted 区别：<br> sort 是 list 的一个方法，而 <strong><mark>sorted</mark></strong> 可以对 <strong><mark>所有</mark></strong> 可迭代的对象进行排序操作。<br> list 的 sort 方法返回的是对已经存在的列表进行操作，无返回值，而内建函数 sorted 方法返回的是一个 <strong>新的 list</strong>，而不是在原来的基础上进行的操作。</p> 
</blockquote> 
<p><strong>参数说明：</strong></p> 
<ul><li>iterable ----&gt; 可迭代对象。</li><li>cmp ----&gt; 比较的函数，这个具有两个参数，参数的值都是从可迭代对象中取出，此函数必须遵守的规则为，<strong>大于则返回1，小于则返回-1，等于则返回0</strong>。</li><li>key ----&gt; 主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。</li><li>reverse ----&gt; 排序规则，reverse = True 降序 ， reverse = False 升序（默认）。</li></ul> 
<p><strong>返回值：</strong></p> 
<p>返回重新排序的列表。</p> 
<pre><code class="prism language-python"><span class="token comment"># ===========一般用法：===========</span>
<span class="token comment"># 1、简单排序</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>       <span class="token comment"># 使用sorted，保留原列表，不改变列表a的值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># 原列表不变</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># ===========匿名函数用法：===========</span>
L<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token comment"># 2、利用参数 cmp 排序</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> <span class="token builtin">cmp</span><span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token builtin">cmp</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token comment"># 3、利用参数 key 排序</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>L<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token comment"># 4、按年龄升序</span>
students <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>students<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token comment"># 5、按年龄降序</span>
<span class="token builtin">sorted</span><span class="token punctuation">(</span>students<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> s<span class="token punctuation">:</span> s<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 结果：</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'jane'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'dave'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="24_filter__366"></a>2.4 filter() 函数：</h4> 
<pre><code class="prism language-python"><span class="token builtin">filter</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span> iterable<span class="token punctuation">)</span>
</code></pre> 
<p><strong>描述：</strong> filter() 函数用于过滤序列，<strong>过滤掉不符合条件的元素</strong>，返回由符合条件元素组成的新列表。</p> 
<ul><li> <p>该接收两个参数，第一个为函数，第二个为序列，</p> </li><li> <p>序列的每个元素作为参数传递给函数进行判，然后返回 True 或 False，</p> </li><li> <p>最后<strong>将返回 True 的元素放到新列表</strong>中。</p> </li></ul> 
<p><strong>参数：</strong></p> 
<ul><li>function ----&gt; 判断函数。</li><li>iterable ----&gt; 可迭代对象。</li></ul> 
<p>返回值：</p> 
<ul><li>Pyhton2.7 返回列表，</li><li>Python3.x 返回迭代器对象，具体内容可以查看：Python3 filter() 函数</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># ===========一般用法：===========</span>
<span class="token comment"># 1、过滤出列表中的所有奇数</span>
<span class="token keyword">def</span> <span class="token function">is_odd</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">return</span> n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span>
		 
newlist <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>is_odd<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>newlist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 结果： [1, 3, 5, 7, 9]</span>

<span class="token comment"># ===========匿名函数用法：===========</span>
<span class="token comment"># 2、将列表[1, 2, 3]中能够被3整除的元素过滤出来</span>
newlist <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>newlist<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 结果： [3]</span>
</code></pre> 
<h4><a id="25_for_406"></a>2.5 和for连用</h4> 
<h5><a id="1res_lambda_xii__xi_for_i_in_range_6__408"></a>（1）res=[ lambda x,i=i : x*i for i in range (6) ]</h5> 
<h6><a id="x_410"></a>第一种：带参数x</h6> 
<p><code>res=[ lambda x,i=i : x*i for i in range (6) ]</code></p> 
<ul><li>res=[ lambda x,i=i : x*i for i in range (6) ] ，获得一个函数列表</li><li>res[0]代表 i = 0时计算x*0的值；同理， res[1],…, res[5] 分别代表 i = 1,…,5 时的函数</li><li><code>res[1](0) </code> 即 向函数res[1]传入参数0。</li></ul> 
<p><strong>例1：</strong> 给出一个值 x ，分别计算 x 与 0~5 之间各个数的乘积</p> 
<pre><code class="prism language-python"><span class="token comment">#  给出一个值 x ，分别计算 x 与 0~5 之间各个数的乘积</span>
res<span class="token operator">=</span><span class="token punctuation">[</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span>i<span class="token operator">=</span>i <span class="token punctuation">:</span> x<span class="token operator">*</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>       <span class="token comment">#得到返回 x*i 函数的6个地址</span>
<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#对每个遍历到的函数 传递参数 x=2</span>
<span class="token comment">#0 2 4 6 8 10</span>
</code></pre> 
<blockquote> 
 <p>输出：0 2 4 6 8 10</p> 
</blockquote> 
<p>这里的<code>x+i for i in range (6)</code>是原for…in…if…的用法</p> 
<p>x，i为每个函数的参数，而 i 由for循环指定</p> 
<p>相当于：</p> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lam</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment"># 即 指定y=i</span>
        <span class="token keyword">return</span> x<span class="token operator">*</span>y    <span class="token comment"># 即 x*i</span>
    fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lam<span class="token punctuation">)</span>
    
<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#对每个遍历到的函数 传递参数 x=2</span>
<span class="token comment"># 输出：0 2 4 6 8 10</span>
</code></pre> 
<blockquote> 
 <p>输出：0 2 4 6 8 10</p> 
</blockquote> 
<h6><a id="_451"></a>第二种：无参使用：</h6> 
<p><code>res = [lambda i=i: i*i for i in range(6)]</code></p> 
<p>调用时无需输入参数，但是注意<strong>括号不能少！</strong></p> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">lambda</span> i<span class="token operator">=</span>i<span class="token punctuation">:</span> i<span class="token operator">*</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#无需输入参数，但是注意 括号不能少！</span>
</code></pre> 
<blockquote> 
 <p>输出：0 1 4 9 16 25</p> 
</blockquote> 
<p>相当于：</p> 
<pre><code class="prism language-python">fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lam</span><span class="token punctuation">(</span>x<span class="token operator">=</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment"># 即 i=i</span>
        <span class="token keyword">return</span> x<span class="token operator">*</span>x    <span class="token comment"># 即 i*i</span>
    fs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lam<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="2res__lambda_x__xi__for_i_in_range6_478"></a>（2）错误操作：res = [lambda x : x*i for i in range(6)]</h5> 
<h6><a id="x_480"></a>第一种：带参数x</h6> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">lambda</span> x <span class="token punctuation">:</span> x<span class="token operator">*</span>i  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>   <span class="token comment"># 获得一个包含 x*i 函数的6个地址的列表。</span>
<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#对每个遍历到的函数 传递参数 x=2</span>
</code></pre> 
<blockquote> 
 <p>输出：10 10 10 10 10 10</p> 
</blockquote> 
<p>相当于：</p> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lam</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#并未指定另一个参数i的值</span>
        <span class="token keyword">return</span> x<span class="token operator">*</span>i
    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lam<span class="token punctuation">)</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#对每个遍历到的函数 传递参数 x=2</span>
</code></pre> 
<p>每循环一次，将 lam 函数的地址存到 res 中。<strong><mark>因为在每次循环中 lam函数都未绑定 i 的值，所以直到循环结束，i 的值为5，并将 lam 中所用到的 i 值定为 5</mark></strong> ，因此真正调用（例如<code>res[0](2)</code>的时候 i 值保持不变（为5）。</p> 
<p>所以 无论调用的res[]是第几个函数，计算的都是 x*5。</p> 
<h6><a id="_508"></a>第二种：无参使用：</h6> 
<p><code>res= [lambda : i*i for i in range(6)]</code></p> 
<p>无需输入参数，但是注意 括号不能少！</p> 
<pre><code class="prism language-python">res<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> i<span class="token operator">*</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#无需输入参数，但是注意 括号不能少！</span>
<span class="token comment">#25 25 25 25 25 25</span>
</code></pre> 
<blockquote> 
 <p>输出：25 25 25 25 25 25</p> 
</blockquote> 
<p>相当于：</p> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">lam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>     <span class="token comment">#并未指定i的值</span>
        <span class="token keyword">return</span> i<span class="token operator">*</span>i
    res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>lam<span class="token punctuation">)</span>

<span class="token keyword">for</span> f <span class="token keyword">in</span> res<span class="token punctuation">:</span>    <span class="token comment">#循环遍历每个地址</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：25 25 25 25 25 25</span>
</code></pre> 
<blockquote> 
 <p>输出：25 25 25 25 25 25</p> 
</blockquote> 
<h5><a id="3res__lambda_x__xi__for_i_in_range6_542"></a>（3）res = lambda x : [x*i for i in range(6)]</h5> 
<blockquote> 
 <p>这种就比较正常啦！</p> 
 <p><strong><mark>只会获得一个函数</mark></strong>，而不是(1)(2)中的函数列表</p> 
</blockquote> 
<p>中括号括起来的只是表达式部分。</p> 
<h6><a id="x_550"></a>第一种：带参数x</h6> 
<p><code>res = lambda x : [x*i for i in range(6)]</code></p> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token keyword">lambda</span> x <span class="token punctuation">:</span> <span class="token punctuation">[</span>x<span class="token operator">*</span>i  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
res<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：[0, 2, 4, 6, 8, 10]</span>
</code></pre> 
<blockquote> 
 <p>输出：[0, 2, 4, 6, 8, 10]</p> 
</blockquote> 
<p>相当于</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">res</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token operator">*</span>i  <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
res<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：[0, 2, 4, 6, 8, 10]</span>
</code></pre> 
<h6><a id="_571"></a>第二种：无参使用：</h6> 
<p><code>res = lambda : [x for x in range(5)]</code></p> 
<ul><li>只获得一个函数，其中函数表达式是<code>[x for x in range(5)]</code></li><li>无需输入参数</li></ul> 
<pre><code class="prism language-python">res <span class="token operator">=</span> <span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span>x  <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
res<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<blockquote> 
 <p>输出：[0, 1, 2, 3, 4]</p> 
</blockquote> 
<p>相当于 直接return这个列表推导式</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>x  <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
res<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3foriniflambda_595"></a>3、复习一下列表推导式：for…in…if语法(不使用lambda)</h3> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>expression <span class="token keyword">for</span> x <span class="token keyword">in</span> X <span class="token punctuation">[</span><span class="token keyword">if</span> condition<span class="token punctuation">]</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> Y <span class="token punctuation">[</span><span class="token keyword">if</span> condition<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">for</span> n <span class="token keyword">in</span> N <span class="token punctuation">[</span><span class="token keyword">if</span> condition<span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> 
<p>上面按照从左至右的顺序，<strong>分别是外层循环到内层循环</strong></p> 
<p>称为 <strong>列表推导式</strong></p> 
<h5><a id="261__if__605"></a>2.6.1 带有 if 语句</h5> 
<p>可以在 <code>for</code> 语句后面跟上一个 <strong><code>if</code> 判断语句，用于过滤掉那些不满足条件的结果项。</strong></p> 
<p>例如，我想去除列表中所有的偶数项，保留奇数项，可以这么写：</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> L <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> L <span class="token keyword">if</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> L
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
</code></pre> 
<h5><a id="262__for__618"></a>2.6.2 带有 for 嵌套</h5> 
<p>在复杂一点的列表推导式中，可以嵌套有多个 <code>for</code> 语句。<strong>按照从左至右的顺序，分别是外层循环到内层循环。</strong></p> 
<p>例如：</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>x <span class="token operator">+</span> y <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token string">'ab'</span> <span class="token keyword">for</span> y <span class="token keyword">in</span> <span class="token string">'jk'</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token string">'aj'</span><span class="token punctuation">,</span> <span class="token string">'ak'</span><span class="token punctuation">,</span> <span class="token string">'bj'</span><span class="token punctuation">,</span> <span class="token string">'bk'</span><span class="token punctuation">]</span>
</code></pre> 
<h5><a id="263__if__for__forinif_629"></a>2.6.3. 既有 if 语句又有 for 嵌套: for…in…if…</h5> 
<p>列表推导式可以带任意数量的嵌套 <code>for</code> 循环，并且每一个 <code>for</code> 循环后面都有可选的 <code>if</code> 语句。</p> 
<p>通用语法：</p> 
<pre><code>[ expression for x in X [if condition]
             for y in Y [if condition]
             ...
             for n in N [if condition] ]
</code></pre> 
<p>例如，下面的代码输出了 0~4 之间的偶数和奇数的组合。</p> 
<pre><code>&gt;&gt;&gt; [(x, y) for x in range(5) if x % 2 == 0 for y in range(5) if y % 2 == 1]
[(0, 1), (0, 3), (2, 1), (2, 3), (4, 1), (4, 3)]
</code></pre> 
<p>等价于下面的一般 <code>for</code> 循环：</p> 
<pre><code>&gt;&gt;&gt; L = []
&gt;&gt;&gt; for x in range(5):
...     if x % 2 == 0:
...         for y in range(5):
...             if y % 2 == 1:
...                 L.append((x, y))
&gt;&gt;&gt; L
[(0, 1), (0, 3), (2, 1), (2, 3), (4, 1), (4, 3)]
</code></pre> 
<h5><a id="264__662"></a>2.6.4. 列表推导式生成矩阵</h5> 
<p>生成矩阵的方式有多种，例如手动赋值、一般 for 循环，还有就是列表推导式。如果我们要用列表推导式生成下面的矩阵，可以怎么写？</p> 
<pre><code>&gt;&gt;&gt; M = [[1, 2, 3],
... [4, 5, 6],
... [7, 8, 9]]
</code></pre> 
<p>一种方法是：</p> 
<pre><code>&gt;&gt;&gt; M = [[x, x+1, x+2] for x in [1, 4, 7]]
&gt;&gt;&gt; M
[[1, 2, 3], [4, 5, 6], [7, 8, 9]]
</code></pre> 
<p>矩阵的列数少时可以使用这种方法。</p> 
<p>如果矩阵的列数较多，我们可以使用另外一种方式：在循环变量的表达式中使用列表推导式。</p> 
<p>具体代码如下：</p> 
<pre><code>&gt;&gt;&gt; M = [[y for y in range(x, x+3)] for x in [1, 4, 7]]
&gt;&gt;&gt; M
[[1, 2, 3], [4, 5, 6], [7, 8, 9]]
123
</code></pre> 
<p>与之前带 <code>for</code> 嵌套的语法不同，这个例子中，实际使用的是最基本的 <code>[expression for x in L]</code> 语法，只有一个 <code>for</code> 语句。</p> 
<p>复杂的地方在于前面的变量表达式 <code>expression</code> 不再是简单的变量运算，而是一个列表推导式，在这个例子中就是 <code>[y for y in range(x, x+3)]</code> 。</p> 
<p>内层的列表推导式返回一个行向量，而这些行向量经由外层的列表推导式，最终形成一个二维列表，也就是我们想要的矩阵。</p> 
<p>参考：<br> <a href="https://blog.csdn.net/PY0312/article/details/88956795">Python 之 lambda 函数完整详解 &amp; 巧妙运用_lambda函数python_Nick Peng的博客-CSDN博客</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f34188b4ab2a7303f23a169753a5206/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jetson nano的基础及进阶配置（用于视觉识别深度学习）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/38adb65d50ba2d16a9cb5068eb650f1e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mapstruct</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>