<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>函数传参问题（指针传参，值传参，引用传参）： - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="函数传参问题（指针传参，值传参，引用传参）：" />
<meta property="og:description" content="目录
形参和实参：
形参和实参关系：
实参为值传值
实参为指针传值
实参本身为普通变量
实参本身为指针
一级指针
二级指针
引用传值
形参和实参： 什么是形参（parameter），什么是实参（argument）
在函数定义中出现的参数可以看做是一个占位符，它没有数据，只能等到函数被调用时接收传递进来的数据，所以称为形式参数，简称形参。
给形参传递值的变量称为实际参数，简称实参。
形参和实参关系： 1) 形参变量只有在函数被调用时才会分配内存，调用结束后，立刻释放内存，所以形参变量只有在函数内部有效，不能在函数外部使用。
2) 实参可以是常量、变量、表达式、函数等，无论实参是何种类型的数据，在进行函数调用时，它们都必须有确定的值，以便把这些值传送给形参，所以应该提前用赋值、输入等办法使实参获得确定值。
3) 实参和形参在数量上、类型上、顺序上必须严格一致，否则会发生“类型不匹配”的错误。当然，如果能够进行自动类型转换，或者进行了强制类型转换，那么实参类型也可以不同于形参类型。
实参为值传值 代码：
#include&lt;iostream&gt; using namespace std; void swap(int a,int b) { cout&lt;&lt;&#34;a address1 = &#34;&lt;&lt;&amp;a&lt;&lt;endl; cout&lt;&lt;&#34;b address1 = &#34;&lt;&lt;&amp;b&lt;&lt;endl; int temp = a; a = b; b = temp; } int main() { int a = 10; int b = 20; cout&lt;&lt;&#34;a address = &#34;&lt;&lt;&amp;a&lt;&lt;endl; cout&lt;&lt;&#34;b address = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7c66863fbe1a4159ebaf0aad2d97102a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-06T22:26:04+08:00" />
<meta property="article:modified_time" content="2023-04-06T22:26:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">函数传参问题（指针传参，值传参，引用传参）：</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%EF%BC%9A" rel="nofollow">形参和实参：</a></p> 
<p id="%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%E5%85%B3%E7%B3%BB%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%E5%85%B3%E7%B3%BB%EF%BC%9A" rel="nofollow">形参和实参关系：</a></p> 
<p id="%E5%AE%9E%E5%8F%82%E4%B8%BA%E5%80%BC%E4%BC%A0%E5%80%BC-toc" style="margin-left:0px;"><a href="#%E5%AE%9E%E5%8F%82%E4%B8%BA%E5%80%BC%E4%BC%A0%E5%80%BC" rel="nofollow">实参为值传值</a></p> 
<p id="%E5%AE%9E%E5%8F%82%E4%B8%BA%E6%8C%87%E9%92%88%E4%BC%A0%E5%80%BC-toc" style="margin-left:0px;"><a href="#%E5%AE%9E%E5%8F%82%E4%B8%BA%E6%8C%87%E9%92%88%E4%BC%A0%E5%80%BC" rel="nofollow">实参为指针传值</a></p> 
<p id="%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F-toc" style="margin-left:40px;"><a href="#%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F" rel="nofollow">实参本身为普通变量</a></p> 
<p id="%C2%A0%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%8C%87%E9%92%88-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%8C%87%E9%92%88" rel="nofollow"> 实参本身为指针</a></p> 
<p id="%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA1-toc" style="margin-left:80px;"><a href="#%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA1" rel="nofollow">一级指针</a></p> 
<p id="%C2%A0%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA%E6%8C%87%E9%92%882-toc" style="margin-left:80px;"><a href="#%C2%A0%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA%E6%8C%87%E9%92%882" rel="nofollow">二级指针</a></p> 
<p id="%E5%BC%95%E7%94%A8%E4%BC%A0%E5%80%BC%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%BC%95%E7%94%A8%E4%BC%A0%E5%80%BC%EF%BC%9A" rel="nofollow">引用传值</a></p> 
<hr id="hr-toc"> 
<h2 id="%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%EF%BC%9A"><span style="background-color:#4da8ee;">形参和实参：</span></h2> 
<p>什么是形参（parameter），什么是实参（argument）</p> 
<p>在函数定义中出现的参数可以看做是一个占位符，它没有数据，只能等到函数被调用时接收传递进来的数据，所以称为<strong>形式参数</strong>，简称<strong>形参</strong>。</p> 
<p>给形参传递值的变量称为<strong>实际参数</strong>，简称<strong>实参</strong>。</p> 
<h2 id="%E5%BD%A2%E5%8F%82%E5%92%8C%E5%AE%9E%E5%8F%82%E5%85%B3%E7%B3%BB%EF%BC%9A"><span style="background-color:#4da8ee;">形参和实参关系：</span></h2> 
<p>1) 形参变量只有在函数被调用时才会分配内存，调用结束后，立刻释放内存，所以形参变量只有在函数内部有效，不能在函数外部使用。<br><br> 2) 实参可以是常量、变量、表达式、函数等，无论实参是何种类型的数据，在进行函数调用时，它们都必须有确定的值，以便把这些值传送给形参，所以应该提前用赋值、输入等办法使实参获得确定值。<br><br> 3) 实参和形参在数量上、类型上、顺序上必须严格一致，否则会发生“类型不匹配”的错误。当然，如果能够进行自动类型转换，或者进行了强制类型转换，那么实参类型也可以不同于形参类型。</p> 
<h2 id="%E5%AE%9E%E5%8F%82%E4%B8%BA%E5%80%BC%E4%BC%A0%E5%80%BC"><span style="background-color:#4da8ee;">实参为值传值</span></h2> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
void swap(int a,int b)
{
    cout&lt;&lt;"a address1 = "&lt;&lt;&amp;a&lt;&lt;endl;
    cout&lt;&lt;"b address1 = "&lt;&lt;&amp;b&lt;&lt;endl;
    int temp = a;
    a = b;
    b = temp;
}

int main()
{
    int a = 10;
    int b = 20;
    cout&lt;&lt;"a address = "&lt;&lt;&amp;a&lt;&lt;endl;
    cout&lt;&lt;"b address = "&lt;&lt;&amp;b&lt;&lt;endl;
    cout&lt;&lt;"original "&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b="&lt;&lt;b&lt;&lt;endl;
    swap(a,b);
    cout&lt;&lt;"swaped "&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b="&lt;&lt;b&lt;&lt;endl;
    return 0;
}</code></pre> 
<p>执行结果：</p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/25/72/GU97eCTW_o.png" width="424"></p> 
<p> 分析结果：</p> 
<p>实参a，b 和形参a,b的地址是不一样的，因为形参a,b是整型变量，他们在函数调用时分配内存，里面只是存放了和实参对应得整型值，所以改变形参变量a,b的值并没有改变实参a,b的值。形参a,b是临时变量，当函数运行结束时，他们的生命周期也就结束了。所以实参a,b的值并没有改变。</p> 
<p>图解：</p> 
<p style="text-align:center;"><img alt="" height="364" src="https://images2.imgbox.com/8e/1c/044KaDb8_o.png" width="704"></p> 
<h2 id="%E5%AE%9E%E5%8F%82%E4%B8%BA%E6%8C%87%E9%92%88%E4%BC%A0%E5%80%BC"><span style="background-color:#4da8ee;">实参为指针传值</span></h2> 
<h3 id="%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%99%AE%E9%80%9A%E5%8F%98%E9%87%8F"><span style="background-color:#4da8ee;">实参本身为普通变量</span></h3> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;
void swap(int *a,int *b)
{
    cout&lt;&lt;"parameter a address1 = "&lt;&lt;&amp;a&lt;&lt;endl;
    cout&lt;&lt;"parameter b address1 = "&lt;&lt;&amp;b&lt;&lt;endl;

    cout&lt;&lt;"a value address1 = "&lt;&lt;a&lt;&lt;endl;
    cout&lt;&lt;"b value address1 = "&lt;&lt;b&lt;&lt;endl;
    int temp = *a;
    *a = *b;
    *b = temp;
}

int main()
{
    int a = 10;
    int b = 20;
    cout&lt;&lt;"a address = "&lt;&lt;&amp;a&lt;&lt;endl;
    cout&lt;&lt;"b address = "&lt;&lt;&amp;b&lt;&lt;endl;
    cout&lt;&lt;"original "&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b="&lt;&lt;b&lt;&lt;endl;
    swap(&amp;a,&amp;b);
    cout&lt;&lt;"swap "&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b="&lt;&lt;b&lt;&lt;endl;
    return 0;
}

</code></pre> 
<p>执行结果：</p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/2d/0b/hwZCFYnc_o.png" width="411"></p> 
<p> 分析结果：</p> 
<p>*p 指的是 指针变量p所指向的地址所存放的内容</p> 
<p></p> 
<p>&amp;p指的是指针本身的地址</p> 
<p>p指的是指针所指向的内容的地址</p> 
<p>实参传递的是实参a,b的地址，形参a,b为指针类型的变量，也就是对应存放的是实参a,b变量的地址，函数内交换形参a,b指针所指向地址的内容，也就是交换了实参a,b地址指向空间的内容，所以实参a,b的内容被交换。</p> 
<p>图解：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/2d/f1/yJpRURpe_o.png"></p> 
<h3 id="%C2%A0%E5%AE%9E%E5%8F%82%E6%9C%AC%E8%BA%AB%E4%B8%BA%E6%8C%87%E9%92%88"><span style="background-color:#4da8ee;"> 实参本身为指针</span></h3> 
<h4 id="%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA1"><span style="background-color:#4da8ee;">一级指针</span></h4> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;

void newPoint(int *p)
{
    cout&lt;&lt;"parameter p address = "&lt;&lt;&amp;p&lt;&lt;endl;
    p = new int;
    *p = 10;
}


int main()
{
    int *p = NULL;
    cout&lt;&lt;"argument p address = "&lt;&lt;&amp;p&lt;&lt;endl;
    newPoint(p);
    cout&lt;&lt;"*p = "&lt;&lt;*p&lt;&lt;endl;
    delete p;
    return 0;
}
~           </code></pre> 
<p>执行结果：</p> 
<p><img alt="" height="93" src="https://images2.imgbox.com/cb/44/MqyXjb9X_o.png" width="422"></p> 
<p></p> 
<p> 分析结果：</p> 
<p>实参指针p 没有指向任何类容为空，当实参给形参传递值时，传递的实际上是NULL,形参指针p 分配空间，仅仅只是给形参p分配了空间，当函数退出时，实参指针指向的内容还是为空，这时去访问实参p指向的内容，因为指针没有指向确切地址，就会产生段错误，同时因为函数new了空间没有释放，还会造成内存泄漏。</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/3f/49/c4Bzpz8M_o.png"></p> 
<p></p> 
<p></p> 
<h4 id="%C2%A0%E6%8C%87%E9%92%88%E4%B8%BA%E7%A9%BA%E6%8C%87%E9%92%882"><span style="background-color:#4da8ee;">二级指针</span></h4> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;

void newPoint(int **p)
{
    cout&lt;&lt;"parameter p address = "&lt;&lt;&amp;p&lt;&lt;endl;
    *p = new int;
    cout&lt;&lt;"parameter p value = "&lt;&lt;p&lt;&lt;endl;
    cout&lt;&lt;"parameter *p value = "&lt;&lt;*p&lt;&lt;endl;
    **p = 10;
}


int main()
{
    int *p = NULL;
    cout&lt;&lt;"argument p address = "&lt;&lt;&amp;p&lt;&lt;endl;
    newPoint(&amp;p);
    cout&lt;&lt;"argument p value = "&lt;&lt;p&lt;&lt;endl;
    cout&lt;&lt;"*p = "&lt;&lt;*p&lt;&lt;endl;
    delete p;
    return 0;
}
~       </code></pre> 
<p>执行结果：</p> 
<p><img alt="" height="128" src="https://images2.imgbox.com/96/7c/bl6wxlj8_o.png" width="411"></p> 
<p>结果分析：</p> 
<p>实参给形参传递的值是实参本身的地址 0x7ffe7feaa980，形参类型是二级指针，形参p存放的是一级指针实参p的地址，调用new之后，相当于是给实参指针p分配了空间，实参指针指向的地址为0x55d013b6d280，给**p赋值，相当于是给地址0x55d013b6d280指向的空间赋值，所以当函数返回时，实参指针指向了确定的地址0x55d013b6d280，并且地址0x55d013b6d280指向的空间值为10；</p> 
<p>图解：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b9/04/YiZErA4a_o.png"></p> 
<h3 id="%E5%BC%95%E7%94%A8%E4%BC%A0%E5%80%BC%EF%BC%9A"><span style="background-color:#4da8ee;">引用传值</span></h3> 
<p>代码：</p> 
<pre><code class="language-cpp">#include&lt;iostream&gt;
using namespace std;

void swap(int&amp; a,int&amp; b)
{
    cout&lt;&lt;"parameter a address = "&lt;&lt; &amp;a&lt;&lt;endl;
    cout&lt;&lt;"parameter b address = "&lt;&lt; &amp;b&lt;&lt;endl;
    a = a+b;
    b = a-b;
    a = a-b;

}

int main()
{
    int a = 10;
    int b = 20;

    cout&lt;&lt;"argument a address = "&lt;&lt;&amp;a&lt;&lt;endl;
    cout&lt;&lt;"argument b address = "&lt;&lt;&amp;b&lt;&lt;endl;
    cout&lt;&lt;"original value"&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b ="&lt;&lt;b&lt;&lt;endl;
    swap(a,b);
    cout&lt;&lt;"swap value"&lt;&lt;"a = "&lt;&lt;a&lt;&lt;" b ="&lt;&lt;b&lt;&lt;endl;
    return 0;
}
~     </code></pre> 
<p>运行结果：</p> 
<p><img alt="" height="132" src="https://images2.imgbox.com/d7/af/pTk6us8n_o.png" width="415"></p> 
<p>结果分析:</p> 
<p>引用传值，函数形参并没有给形参分配内存，而是和实参相同的内存地址，节省了开销，建议能用引用传值的就用引用。</p> 
<p> 图解：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/da/05/IG40wX9f_o.png"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ecc4e3f61f83cf656b12649aadc18e2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">VScode配置8086汇编环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c39d619fdb9630214f6d3a4693d78b6f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计组简答题（面试）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>