<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>搞定重复计数：Python 中的 Counter 模块 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="搞定重复计数：Python 中的 Counter 模块" />
<meta property="og:description" content="文章目录 参考描述Counter 模块Counter() 类Counter() 对象字典有序性KeyError魔术方法 \_\_missing\_\_ update() 方法 Counter 对象的常用方法most_common()elements()total()subtract() Counter 对象间的运算加法运算减法运算并集运算交集运算单目运算 Counter 对象间的比较&gt;== 参考 项目描述Python 标准库DougHellmann 著 / 刘炽 等 译搜索引擎BingPython 官方文档collections — 容器数据类型 描述 项目描述Python 解释器3.10.6 Counter 模块 在 Python 的 collections 模块中，有一个很常用的模块就是 Counter。Counter 是一个简单的计数器，用于统计某些 可哈希对象 的数量。它以字典的形式存储元素和它们的计数。
Counter() 类 类 Counter() 能够对传入给该类的参数按照一定规则进行计数，并将计数对象与计数结果作为键值对以字典的形式进行结果的返回。
Counter(iterable=None, /, **kwds) 举个栗子
from collections import Counter # 返回一个空的 Counter 对象 cnt = Counter() print(cnt) # 将可迭代对象（字符串）作为参数 cnt = Counter(&#39;Hello World&#39;) print(cnt) # 将可迭代对象（列表）作为参数 cnt = Counter([&#39;a&#39;, &#39;a&#39;, &#39;b&#39;, &#39;d&#39;, &#39;c&#39;, &#39;d&#39;]) print(cnt) # 使用可迭代对象（字典）作为参数 cnt = Counter({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;d&#39;: 3, &#39;c&#39;: 2}) print(cnt) # 使用关键字参数 cnt = Counter(a=1, b=2, d=3, c=2) print(cnt) 执行效果" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ef3ee175000d56aeeea22fda8a6e097a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-20T19:17:53+08:00" />
<meta property="article:modified_time" content="2023-04-20T19:17:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">搞定重复计数：Python 中的 Counter 模块</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">参考</a></li><li><a href="#_11" rel="nofollow">描述</a></li><li><a href="#Counter__18" rel="nofollow">Counter 模块</a></li><li><ul><li><ul><li><a href="#Counter__24" rel="nofollow">Counter() 类</a></li><li><a href="#Counter__71" rel="nofollow">Counter() 对象</a></li><li><ul><li><ul><li><a href="#_74" rel="nofollow">字典</a></li><li><a href="#_109" rel="nofollow">有序性</a></li><li><a href="#KeyError_139" rel="nofollow">KeyError</a></li><li><ul><li><a href="#___missing___182" rel="nofollow">魔术方法 \_\_missing\_\_</a></li></ul> 
      </li><li><a href="#update__206" rel="nofollow">update() 方法</a></li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
  </li><li><a href="#Counter__243" rel="nofollow">Counter 对象的常用方法</a></li><li><ul><li><ul><li><a href="#most_common_245" rel="nofollow">most_common()</a></li><li><a href="#elements_281" rel="nofollow">elements()</a></li><li><a href="#total_312" rel="nofollow">total()</a></li><li><a href="#subtract_333" rel="nofollow">subtract()</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Counter__355" rel="nofollow">Counter 对象间的运算</a></li><li><ul><li><ul><li><a href="#_361" rel="nofollow">加法运算</a></li><li><a href="#_388" rel="nofollow">减法运算</a></li><li><a href="#_417" rel="nofollow">并集运算</a></li><li><a href="#_443" rel="nofollow">交集运算</a></li><li><a href="#_468" rel="nofollow">单目运算</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Counter__491" rel="nofollow">Counter 对象间的比较</a></li><li><ul><li><ul><li><a href="#_504" rel="nofollow">&gt;</a></li><li><a href="#_527" rel="nofollow">==</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>参考</h2> 
<table><thead><tr><th>项目</th><th>描述</th></tr></thead><tbody><tr><td>Python 标准库</td><td>DougHellmann <strong>著</strong> <strong>/</strong> 刘炽 等 <strong>译</strong></td></tr><tr><td>搜索引擎</td><td><strong><a href="https://www.bing.com/?mkt=zh-CN" rel="nofollow">Bing</a></strong></td></tr><tr><td>Python 官方文档</td><td><strong><a href="https://docs.python.org/zh-cn/3/library/collections.html?highlight=collections#module-collections" rel="nofollow">collections — 容器数据类型</a></strong></td></tr></tbody></table> 
<h2><a id="_11"></a>描述</h2> 
<table><thead><tr><th>项目</th><th>描述</th></tr></thead><tbody><tr><td>Python 解释器</td><td>3.10.6</td></tr></tbody></table> 
<h2><a id="Counter__18"></a>Counter 模块</h2> 
<p>在 Python 的 collections 模块中，有一个很常用的模块就是 Counter。Counter 是一个简单的计数器，用于统计某些 <mark>可哈希对象</mark> 的数量。它以字典的形式存储元素和它们的计数。</p> 
<h4><a id="Counter__24"></a>Counter() 类</h4> 
<p>类 <strong>Counter()</strong> 能够对传入给该类的参数按照一定规则进行计数，并将计数对象与计数结果作为键值对以字典的形式进行结果的返回。</p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span>iterable<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">/</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwds<span class="token punctuation">)</span>
</code></pre> 
<p><code>举个栗子</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


<span class="token comment"># 返回一个空的 Counter 对象</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 将可迭代对象（字符串）作为参数</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 将可迭代对象（列表）作为参数</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 使用可迭代对象（字典）作为参数</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 使用关键字参数</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> d<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">3</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'H'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'e'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">' '</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'W'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'r'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'b'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">3</span>, <span class="token string">'b'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'a'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">3</span>, <span class="token string">'b'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'a'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="Counter__71"></a>Counter() 对象</h4> 
<h6><a id="_74"></a>字典</h6> 
<p>由 <strong>Counter()</strong> 返回的结果为一个字典，它拥有普通字典的大部分方法。在大多数情况下，你可以像操作字典一样操作 <strong>Counter</strong> 对象。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 输出 Counter 对象中的键值对列表</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 移除 Counter 对象中的最后一个键值对</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>popitem<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 输出 Counter 中键 l 对应的值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">[</span><span class="token string">'l'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行结果</code></p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
dict_items<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'H'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'l'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'W'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">3</span>
</code></pre> 
<h6><a id="_109"></a>有序性</h6> 
<p>Python 中的字典是无序的，<strong>无序的</strong> 的含义并不是说字典中的键值对没有顺序，而是指字典中的键值对的顺序是不可预测的。对此，请参考如下示例：</p> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> key <span class="token keyword">in</span> d<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
</code></pre> 
<p>该示例的输出结果可能是：</p> 
<pre><code class="prism language-python">a
b
c
</code></pre> 
<p>也可能是：</p> 
<pre><code class="prism language-python">b
c
a
</code></pre> 
<p>当然还存在其他可能，这里就不一一列举了。</p> 
<p>Python 官方对 <mark><strong>Python 3.7</strong></mark> 版本中的字典进行了优化，使其能够记住键值对插入的顺序。此后，字典显得不那么凌乱了（字典中的键值对的顺序变得可以预测了）。</p> 
<h6><a id="KeyError_139"></a>KeyError</h6> 
<p>在 Python 的内置字典中，若尝试访问不存在的键，Python 将抛出 <strong>KeyError</strong> 异常错误。对此，请参考如下示例：</p> 
<pre><code class="prism language-python">d <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

<span class="token comment"># 尝试访问字典 d 中不存在的键</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-python">Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"C:\main.py"</span><span class="token punctuation">,</span> line <span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
KeyError<span class="token punctuation">:</span> <span class="token string">'d'</span>
<span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
</code></pre> 
<p><code>同样的场景。这一次，我们让 Counter 作为主角。</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token comment"># 尝试访问 Counter 中不存在的键</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<p>访问 Counter 对象中不存在的键时，并不会抛出 <strong>KeyError</strong> 异常，而是返回默认计数值 <strong>0</strong>。</p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">0</span>
</code></pre> 
<h6><a id="___missing___182"></a>魔术方法 __missing__</h6> 
<p><strong>__missing__()</strong> 是 Python 中的一个特殊方法，用于处理通过键访问字典中的值时键不存在时的情况。<br> 当我们使用字典的索引来访问一个不存在的键时，Python 将会调用特殊方法 <strong>__missing__()</strong> 来尝试返回一个合适的值。若未实现 <strong>__missing__()</strong> 方法，Python 将会抛出 <strong>KeyError</strong> 异常。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token comment"># 创建一个字典对象，该对象继承自 Python 内置的 dict 对象</span>
<span class="token keyword">class</span> <span class="token class-name">MyDict</span><span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__missing__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>

<span class="token comment"># 实例化 MyDict() 对象</span>
myDict <span class="token operator">=</span> MyDict<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 尝试访问 myDict 对象中不存在的键 a</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>myDict<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell"><span class="token number">0</span>
</code></pre> 
<h6><a id="update__206"></a>update() 方法</h6> 
<p><strong>Counter</strong> 对象与 <strong>dict</strong> 对象同样实现了 <strong>update()</strong> 方法。使用 <strong>update()</strong> 方法能够将作为参数的字典合并到调用该方法的 <strong>dict</strong> 对象中。不同的是，<strong>dict</strong> 对象的 <strong>update()</strong> 方法在遇到具有相同的键时，将会对该键对应的值执行 <strong>覆盖</strong> 操作。而 <strong>Counter</strong> 对象的 <strong>update()</strong> 方法在遇到具有相同的键时，将会对该键对应的值执行 <strong>叠加</strong> 操作。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


<span class="token comment"># Python 中内置的 dict 对象</span>
d <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

d<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Counter 对象</span>
cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

cnt<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-python"><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>
<span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span>

Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="Counter__243"></a>Counter 对象的常用方法</h2> 
<h4><a id="most_common_245"></a>most_common()</h4> 
<p><strong>most_common()</strong> 方法将返回一个列表，列表中的元素均为 Counter 对象中的键值对组成的元组。元组在列表中的顺序取决于计数值（键值对中的值）的大小。计数值更大的元组将位于列表的前端，计数值相等的元组将按照它们首次在列表中出现的顺序进行排列（先出现的元组将更靠近列表的前端）。<br> <strong>most_common()</strong> 默认将使用 Counter 对象中所有的键值对组成的元组作为返回列表中的元素。你可以通过向该方法提供一个数值，该数值将指定放回的列表中的元素的数量。</p> 
<p><code>举个栗子</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 返回由 Counter 中计数值最大的两个</span>
<span class="token comment"># 键值对构成的元组所组成的列表</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 返回由 Counter 中计数值最大的</span>
<span class="token comment"># 键值对构成的元组所组成的列表</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="elements_281"></a>elements()</h4> 
<p><strong>elements()</strong> 方法将返回一个以 Counter 对象中的键为元素的迭代器，其中每个元素将重复出现计数值所指定的次数。</p> 
<p><code>迭代器中的元素将存在如下特点：</code></p> 
<ol><li>元素将会按照其首次添加到 Counter 对象中的顺序进行返回。</li><li>某个键对应的计数值小于一，那么该键将不会作为元素出现在 <strong>element()</strong> 方法返回的迭代器中。</li></ol> 
<p><code>举个栗子</code></p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>elements<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">3</span>, <span class="token string">'b'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'a'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> -4<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token string">'a'</span>, <span class="token string">'b'</span>, <span class="token string">'b'</span>, <span class="token string">'c'</span>, <span class="token string">'c'</span>, <span class="token string">'c'</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="total_312"></a>total()</h4> 
<p><strong>total()</strong> 方法将返回 Counter 对象中，所有计数值累加后得到的结果。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">.</span>total<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt1<span class="token punctuation">.</span>total<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell"><span class="token number">2</span>
<span class="token number">11</span>
</code></pre> 
<h4><a id="subtract_333"></a>subtract()</h4> 
<p>该方法的效果与 <strong>Counter</strong> 对象的 <strong>update()</strong> 方法类似。如果说 <strong>update()</strong> 方法执行的是 <strong>加</strong> 操作，那么 <strong>subtract()</strong> 方法执行的则是 <strong>减</strong> 操作。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter


cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

cnt<span class="token punctuation">.</span>subtract<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="Counter__355"></a>Counter 对象间的运算</h2> 
<p><code>注：</code></p> 
<p>本部分内容中讲解到的运算符仅能在 <mark><strong>Python 3.3</strong></mark> 及以后版本中正常使用。</p> 
<h4><a id="_361"></a>加法运算</h4> 
<p>在 Python 的 Counter 模块中，两个 Counter 对象可以相加，相加后将返回一个新的 Counter 对象，其中每个元素的计数是两个原始 Counter 对象中该元素计数的总和。可以通过使用加法运算符来执行此操作。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">+</span> cnt1<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-python">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'W'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'H'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'W'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>注：</code></p> 
<p>在 Counter 对象间的运算过程中，对于 Counter 中不存在的键，其计数值为零。</p> 
<h4><a id="_388"></a>减法运算</h4> 
<p>在 Python 的 Counter 模块中，可以使用减法运算符来对两个 Counter 对象进行减法运算，即将左侧 Counter 对象中的计数器值减去右侧 Counter 对象中相同键的计数器值，最后返回一个新的 Counter 对象。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'cook'</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'coder'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">-</span> cnt1<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'k'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'e'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'r'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'k'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>注：</code></p> 
<p>在 Counter 对象间的运算过程中，对于 Counter 中不存在的键，其计数值为零。</p> 
<h4><a id="_417"></a>并集运算</h4> 
<p>Counter 对象之间的并集运算是指两个 Counter 对象按照键的并集进行运算，返回的结果是一个新的 Counter 对象，其中包含的键和值均为 <strong>原始 Counter 对象中存在的键及其对应的最大值</strong>。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">|</span> cnt1<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'H'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'e'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'W'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'r'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'H'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'e'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'W'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'r'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_443"></a>交集运算</h4> 
<p>Counter 对象之间的交集运算是指两个 Counter 对象按照键的交集进行运算，返回的结果是一个新的 Counter 对象，其中包含的键和值均为 <strong>原始 Counter 对象中共同拥有的键及其对应的最小值</strong>。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">&amp;</span> cnt1<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, <span class="token string">'H'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'e'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'W'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'r'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'d'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'l'</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, <span class="token string">'o'</span><span class="token builtin class-name">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_468"></a>单目运算</h4> 
<p>单目运算指的是表达式中存在单目运算符的运算操作。存在两种单目运算符，即单目减法运算符与单目加法运算符。无论是单目减法运算符还是单目加法运算符，它们的操作对象均为 Counter 对象中的计数值。<br> 在对 Counter 对象进行单目运算后，将返回一个由大于零的计数值相关的键值对组成的 Counter 对象。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">+</span>cnt<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">-</span>cnt<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token builtin class-name">:</span> <span class="token number">4</span>, <span class="token string">'b'</span><span class="token builtin class-name">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token builtin class-name">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="Counter__491"></a>Counter 对象间的比较</h2> 
<p>从 <mark><strong>Python 3.10</strong></mark> 版本开始，Counter 对象间开始支持常见的比较运算符，这些运算符有：</p> 
<ol><li>&lt;</li><li>&lt;=</li><li>&gt;</li><li>&gt;=</li><li>==</li><li>!=</li></ol> 
<p>这里以 <strong>&gt;</strong> 及 <strong>==</strong> 为例进行讲解。</p> 
<h4><a id="_504"></a>&gt;</h4> 
<p>当 <strong>&gt;</strong> 的左侧的 Counter 对象的键对应的计数值均大于该符号右侧的 Counter 对象中相同的键（对于 Counter 中不存在的键，其计数值为零）对应的计数值时，比较结果为 <strong>True</strong>。否则为 <strong>False</strong>。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
cnt2 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">&gt;</span> cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">&gt;</span> cnt2<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">False
True
</code></pre> 
<h4><a id="_527"></a>==</h4> 
<p>当 <strong>==</strong> 的左侧的 Counter 对象的键对应的计数值均等于该符号右侧的 Counter 对象中相同的键（对于 Counter 中不存在的键，其计数值为零）对应的计数值时，比较结果为 <strong>True</strong>。否则为 <strong>False</strong>。对此，请参考如下示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

cnt <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
cnt1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
cnt2 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> cnt1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cnt <span class="token operator">==</span> cnt2<span class="token punctuation">)</span>
</code></pre> 
<p><code>执行效果</code></p> 
<pre><code class="prism language-shell">False
True
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0aff8d56b382625eff85c303d7e7bd16/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">nodejs ubuntu20.04源码安装</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1ac869d6131ee605218dc2eee66b0140/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装配置 JupyterLab ubuntu20.04</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>