<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c语言实现三子棋小游戏 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c语言实现三子棋小游戏" />
<meta property="og:description" content="欢迎来到程序员的快乐！
目录
一、游戏规则：
二、编程准备和分析：
三、游戏菜单界面打印
四、创建字符数组存储数据
五、初始化棋盘
六、棋盘打印
七、玩家1，玩家2轮流下棋
八、判断游戏胜出、平局、继续
九、、游戏测试 十、总体代码：
一、游戏规则： 两位玩家进行博弈，棋盘为3*3，当一方玩家的3个棋子连成一条线的时候胜利。如果棋盘上没有落子的位置且没有玩家胜出的时候判定为平局。
二、编程准备和分析： 1、准备
game.h：游戏相关的函数声明，头文件包含，符号声明。
text.c:测试游戏的逻辑。
game.c：游戏相关函数的实现。
2、分析：
可能出现的四种游戏状态：玩家1胜、出玩家2胜、平局、游戏继续。
可能不是很熟悉的语法：#define 定义的标识符常量。
三、游戏菜单界面打印 1、自己动手来给三子棋写一个menu()函数实现菜单界面的打印。
void menu() { printf(&#34;----------- Tic-Tac-Toe -----------\n&#34;); printf(&#34;*********** 1.开始游戏 ************\n&#34;); printf(&#34;*********** 0.退出游戏 ************\n&#34;); printf(&#34;-----------------------------------\n&#34;); } 2、在主函数中使用do...while循环语句和switch多分支语句，选择不同选项出现不同效果，我们暂时输出一句话来展现不同的效果。input是我们定义的一个变量，并把它当做循环和分支的条件表达式，当input = 1时开始游戏，input = 0 时退出游戏并且退出循环，input= 其它值时打印出一句错误提醒！
int main() { int input = 0; do { menu(); printf(&#34;请输入选项:&gt;\n&#34;); scanf(&#34;%d&#34;, &amp;input); switch (input) { case 1: printf(&#34;游戏开始！\n&#34;); break; case 0: printf(&#34;退出游戏！\n&#34;); break; default: printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/479a2411883292d7901aac0b9629ba95/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-24T20:33:51+08:00" />
<meta property="article:modified_time" content="2022-08-24T20:33:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c语言实现三子棋小游戏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>欢迎来到程序员的快乐！</p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%A7%84%E5%88%99%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%A7%84%E5%88%99%EF%BC%9A" rel="nofollow">一、游戏规则：</a></p> 
<p id="%E4%BA%8C%E3%80%81%E7%BC%96%E7%A8%8B%E5%87%86%E5%A4%87%E5%92%8C%E5%88%86%E6%9E%90%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81%E7%BC%96%E7%A8%8B%E5%87%86%E5%A4%87%E5%92%8C%E5%88%86%E6%9E%90%EF%BC%9A" rel="nofollow">二、编程准备和分析：</a></p> 
<p id="%E4%B8%89%E3%80%81%E6%B8%B8%E6%88%8F%E8%8F%9C%E5%8D%95%E7%95%8C%E9%9D%A2%E6%89%93%E5%8D%B0-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E6%B8%B8%E6%88%8F%E8%8F%9C%E5%8D%95%E7%95%8C%E9%9D%A2%E6%89%93%E5%8D%B0" rel="nofollow">三、游戏菜单界面打印</a></p> 
<p id="%C2%A0%E5%9B%9B%E3%80%81%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%9B%9B%E3%80%81%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE" rel="nofollow"> 四、创建字符数组存储数据</a></p> 
<p id="%E4%BA%94%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A3%8B%E7%9B%98-toc" style="margin-left:40px;"><a href="#%E4%BA%94%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A3%8B%E7%9B%98" rel="nofollow">五、初始化棋盘</a></p> 
<p id="%E5%85%AD%E3%80%81%E6%A3%8B%E7%9B%98%E6%89%93%E5%8D%B0-toc" style="margin-left:40px;"><a href="#%E5%85%AD%E3%80%81%E6%A3%8B%E7%9B%98%E6%89%93%E5%8D%B0" rel="nofollow">六、棋盘打印</a></p> 
<p id="%C2%A0%E4%B8%83%E3%80%81%E7%8E%A9%E5%AE%B61%EF%BC%8C%E7%8E%A9%E5%AE%B62%E8%BD%AE%E6%B5%81%E4%B8%8B%E6%A3%8B-toc" style="margin-left:40px;"><a href="#%C2%A0%E4%B8%83%E3%80%81%E7%8E%A9%E5%AE%B61%EF%BC%8C%E7%8E%A9%E5%AE%B62%E8%BD%AE%E6%B5%81%E4%B8%8B%E6%A3%8B" rel="nofollow"> 七、玩家1，玩家2轮流下棋</a></p> 
<p id="%C2%A0%E5%85%AB%E3%80%81%E5%88%A4%E6%96%AD%E6%B8%B8%E6%88%8F%E8%83%9C%E5%87%BA%E3%80%81%E5%B9%B3%E5%B1%80%E3%80%81%E7%BB%A7%E7%BB%AD-toc" style="margin-left:40px;"><a href="#%C2%A0%E5%85%AB%E3%80%81%E5%88%A4%E6%96%AD%E6%B8%B8%E6%88%8F%E8%83%9C%E5%87%BA%E3%80%81%E5%B9%B3%E5%B1%80%E3%80%81%E7%BB%A7%E7%BB%AD" rel="nofollow"> 八、判断游戏胜出、平局、继续</a></p> 
<p id="%E4%B9%9D%E3%80%81%E3%80%81%E6%B8%B8%E6%88%8F%E6%B5%8B%E8%AF%95%C2%A0-toc" style="margin-left:40px;"><a href="#%E4%B9%9D%E3%80%81%E3%80%81%E6%B8%B8%E6%88%8F%E6%B5%8B%E8%AF%95%C2%A0" rel="nofollow">九、、游戏测试 </a></p> 
<p id="%E5%8D%81%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E5%8D%81%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81%EF%BC%9A" rel="nofollow">十、总体代码：</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h3 id="10%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81"><br>  </h3> 
<p></p> 
<h3></h3> 
<p></p> 
<p></p> 
<h3 id="%E4%B8%80%E3%80%81%E6%B8%B8%E6%88%8F%E8%A7%84%E5%88%99%EF%BC%9A">一、游戏规则：</h3> 
<p>       两位玩家进行博弈，棋盘为3*3，当一方玩家的3个棋子连成一条线的时候胜利。如果棋盘上没有落子的位置且没有玩家胜出的时候判定为平局。</p> 
<h3 id="%E4%BA%8C%E3%80%81%E7%BC%96%E7%A8%8B%E5%87%86%E5%A4%87%E5%92%8C%E5%88%86%E6%9E%90%EF%BC%9A">二、编程准备和分析：</h3> 
<p>1、准备</p> 
<p class="img-center"><img alt="" height="142" src="https://images2.imgbox.com/bb/24/Wmj032Lw_o.png" width="237"></p> 
<p></p> 
<p></p> 
<p>game.h：游戏相关的函数声明，头文件包含，符号声明。</p> 
<p>text.c:测试游戏的逻辑。</p> 
<p>game.c：游戏相关函数的实现。</p> 
<p>2、分析：</p> 
<p>可能出现的四种游戏状态：玩家1胜、出玩家2胜、平局、游戏继续。</p> 
<p>可能不是很熟悉的语法：#define  定义的标识符常量。</p> 
<h3 id="%E4%B8%89%E3%80%81%E6%B8%B8%E6%88%8F%E8%8F%9C%E5%8D%95%E7%95%8C%E9%9D%A2%E6%89%93%E5%8D%B0">三、游戏菜单界面打印</h3> 
<p></p> 
<p>1、自己动手来给三子棋写一个<span style="color:#fe2c24;">menu()函数实现菜单界面的打印。</span></p> 
<pre><code>void menu()
{
	printf("----------- Tic-Tac-Toe -----------\n");
	printf("*********** 1.开始游戏 ************\n");
	printf("*********** 0.退出游戏 ************\n");
	printf("-----------------------------------\n");
	
}</code></pre> 
<p>2、在主函数中使用<span style="color:#38d8f0;">do...while循环语句和switch多分支语句</span>，<span style="color:#fe2c24;">选择不同选项出现不同效果，我们暂时输出一句话来展现不同的效果</span>。input是我们定义的一个变量，并把它当做循环和分支的条件表达式，当input = 1时开始游戏，input = 0 时退出游戏并且退出循环，input= 其它值时打印出一句错误提醒！</p> 
<pre><code>int main()
{
	int input = 0;
	do
	{
		menu();
		printf("请输入选项:&gt;\n");
		scanf("%d", &amp;input);
		switch (input)
		{
		case 1:
			printf("游戏开始！\n");
			break;
		case 0:
			printf("退出游戏！\n");
			break;

		default:
			printf("选项错误，请重新输入：");
		}
		printf("\n");
	} while (input);
	
	
	return 0;
}</code></pre> 
<p>3、效果展示：</p> 
<p class="img-center"><img alt="" height="455" src="https://images2.imgbox.com/c6/b3/LAsqD4A1_o.png" width="775"></p> 
<h3 id="%C2%A0%E5%9B%9B%E3%80%81%E5%88%9B%E5%BB%BA%E5%AD%97%E7%AC%A6%E6%95%B0%E7%BB%84%E5%AD%98%E5%82%A8%E6%95%B0%E6%8D%AE"> 四、创建字符数组存储数据</h3> 
<p></p> 
<p>1、首先，我们写一个game()函数来实现游戏的一些逻辑！游戏界面打印好后，就要在game()函数中（<span style="color:#fe2c24;">在上述case 1:调用game()这个函数！</span>）搭建游戏场景。第一步我们创建一个字符数组来存储数据，因为三子棋的棋盘是3*3，所以我们可以写成：</p> 
<pre><code> char board[3][3];</code></pre> 
<p>这样写是没有问题的，但是对于程序员来说，我们要考虑到代码的耦合度，假设我们突然想要把棋盘改成5*5或者更大的棋盘，就要改动大量的代码，这时候我们的效率就大大降低，而且更容易出错！综上所述，我们可以对代码进行这样的优化：</p> 
<p>2、在game.h中定义标识符常量行（ROW）和列（COL）</p> 
<pre><code>//符号的定义
#define ROW 3//表示行
#define COL 3//表示列
</code></pre> 
<p>注意：在Text.c中写上头文件#include "game.h"</p> 
<p>3、这时我们就可以写成这样：</p> 
<pre><code> char board[ROW][COL];</code></pre> 
<p>到这里我们就完成了数组的创建！ </p> 
<h3 id="%E4%BA%94%E3%80%81%E5%88%9D%E5%A7%8B%E5%8C%96%E6%A3%8B%E7%9B%98">五、初始化棋盘</h3> 
<p>实际上就是对数组的初始化，在game()函数中调用一个用来初始化的<span style="color:#38d8f0;">函数</span>i<span style="color:#38d8f0;">nitboard(board, ROW, COL);，</span><span style="color:#0d0016;">传入的</span><span style="color:#fe2c24;">3个参数分别是二维数组、行、列</span><span style="color:#0d0016;">。</span></p> 
<p><span style="color:#0d0016;">把这个和游戏相关的函数写在game.c中：</span></p> 
<pre><code>//初始化棋盘
void initboard (char ch[ROW][COL],int row,int col)
{
	//遍历二维数组
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			ch[i][j] = ' ';
		}
	}
}</code></pre> 
<h3 id="%E5%85%AD%E3%80%81%E6%A3%8B%E7%9B%98%E6%89%93%E5%8D%B0">六、棋盘打印</h3> 
<p>在game()函数中调用一个用来打印棋盘的<span style="color:#38d8f0;">函数printfboard(board, ROW, COL);</span><span style="color:#0d0016;">传入的</span><span style="color:#fe2c24;">3个参数分别是二维数组、行、列</span><span style="color:#0d0016;">。</span></p> 
<p><span style="color:#0d0016;">把这个和游戏相关的函数写在game.c中，小张在这里介绍两种写法：</span></p> 
<p><span style="color:#0d0016;">1、写死（简单，容易理解，灵活度低，改动麻烦）</span></p> 
<p><img alt="" height="449" src="https://images2.imgbox.com/9e/c4/oxd2sxcN_o.png" width="1120"></p> 
<p> 把棋盘它分成两个部分来分析，第一部分是 （" %c  | %c | %c "），第二部分是（“---|---|---”）三个%c对应的结果我们直接写出来即可。为了控制最后一行不打印分割行，写了个if()。</p> 
<pre><code>void printfboard(char board[ROW][COL],int row,int col)
{
	int i = 0;
	for (i = 0; i&lt;row; i++) 
	{
			printf(" %c | %c | %c \n",board[i][0],board[i][1],board[i][2]);
			if(i&lt;row-1)
			printf("---|---|---\n");
		}
	
}</code></pre> 
<p><span style="color:#0d0016;">2、复杂一点点（方便后续根据要求修改代码）</span></p> 
<p>这段代码看起来比上面的代码复杂一些，实际上也是很容易理解的。我把棋盘的“ %c ”和‘|’看成一个部分；“---”和‘|’看成一个部分。</p> 
<p><img alt="" height="400" src="https://images2.imgbox.com/0c/eb/nCyhXZh7_o.png" width="495"></p> 
<p>board[i][j],第i行，第j列</p> 
<p> ‘|’分隔符不是总打印的，和上面的逻辑是一样的，写了个if(row- 1)......来控制。</p> 
<pre><code>void printfboard(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		int j = 0;
		for (j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if (j &lt; col - 1)
				printf("|");
		}
		printf("\n");

		if (i &lt; row - 1)

			for (int i = 0; i &lt; col; i++)
			{
				printf("---");
				if (i &lt; row - 1)
					printf("|");
			}
		printf("\n");
	}


}</code></pre> 
<p>效果图（第一种写法的效果图是一样的）：</p> 
<p><img alt="" height="249" src="https://images2.imgbox.com/bc/46/LtLRHte3_o.png" width="622"></p> 
<p>假设我们想要把棋盘改成10*10，只需要更改 标识符常量行（ROW）和列（COL）即可：</p> 
<pre><code>#define ROW 10//表示行
#define COL 10//表示列</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="339" src="https://images2.imgbox.com/c1/4b/cQHKcMax_o.png" width="406"></p> 
<h3 id="%C2%A0%E4%B8%83%E3%80%81%E7%8E%A9%E5%AE%B61%EF%BC%8C%E7%8E%A9%E5%AE%B62%E8%BD%AE%E6%B5%81%E4%B8%8B%E6%A3%8B"> 七、玩家1，玩家2轮流下棋</h3> 
<p>在game()函数中调用一个用来玩家1落子的<span style="color:#38d8f0;">函数play1move(board, ROW, COL);</span><span style="color:#0d0016;">传入的</span><span style="color:#fe2c24;">3个参数分别是二维数组、行、列</span><span style="color:#0d0016;">。</span></p> 
<p>调用一个用来玩家2落子的<span style="color:#38d8f0;">函数play2move(board, ROW, COL);</span><span style="color:#0d0016;">传入的</span><span style="color:#fe2c24;">3个参数分别是二维数组、行、列</span><span style="color:#0d0016;">。</span></p> 
<p><span style="color:#0d0016;">把这个和游戏相关的函数写在game.c中:</span></p> 
<pre><code>//玩家1下棋
void play1move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	printf("玩家1走：&gt;");
	while (1)
	{
		printf("请输入棋子坐标：");
		scanf("%d %d", &amp;x, &amp;y);
		//判断棋子是否合法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			//落子
			//判断要下的坐标是否被占用
			//这里要注意，对下标进行访问是原坐标-1
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '*';

				break;
			}
			else
				printf("坐标已经被占用！");
		}
		else
			printf("坐标错误，请重新输入！");
	}
}

//玩家2下棋
void play2move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	printf("玩家2走：&gt;");
	while (1)
	{
		printf("请输入棋子坐标：");
		scanf("%d %d", &amp;x, &amp;y);
		//判断棋子是否合法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			//落子
			//判断要下的坐标是否被占用
			//这里要注意，对下标进行访问是原坐标-1
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '#';

				break;
			}
			else
				printf("坐标已经被占用！");
		}
		else
			printf("坐标错误，请重新输入！");
	}
}

</code></pre> 
<p>玩家1和2落子的逻辑是一样的，通过落子的坐标判断落子是否符合游戏规则，是否在棋盘内，落子坐标是否已经有棋子。这里要<span style="color:#fe2c24;">注意：控制台输入的x y坐标是数学上的坐标，但是判断坐标是否被占用的时候我们访问的是数组的下标，所以我们写成了(board[x - 1][y - 1]这样的形式！</span></p> 
<p><span style="color:#0d0016;">效果图：</span></p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/14/1a/VvQo2D5P_o.png" width="667"></p> 
<h3 id="%C2%A0%E5%85%AB%E3%80%81%E5%88%A4%E6%96%AD%E6%B8%B8%E6%88%8F%E8%83%9C%E5%87%BA%E3%80%81%E5%B9%B3%E5%B1%80%E3%80%81%E7%BB%A7%E7%BB%AD"> 八、判断游戏胜出、平局、继续</h3> 
<p>可能出现的四种游戏状态：规定每种状态下的返回值</p> 
<p>玩家1胜:&gt;'*'</p> 
<p>出玩家2胜:&gt;'#'</p> 
<p>平局:&gt;'A'</p> 
<p>游戏继续:&gt;'B'</p> 
<p>在game()函数中调用一个用来判断胜负落子的<span style="color:#38d8f0;">函数iswin(board, ROW, COL);</span><span style="color:#0d0016;">传入的</span><span style="color:#fe2c24;">3个参数分别是二维数组、行、列</span><span style="color:#0d0016;">。</span></p> 
<p></p> 
<p>游戏结果的判断分为几个方向：</p> 
<p>1、三行有一样的棋子</p> 
<p>因为胜出一方的返回值类型和棋子的字符是一样的，所以返回胜出行的任意一个字符即可！</p> 
<p>2、三列有一样的棋子</p> 
<p>因为胜出一方的返回值类型和棋子的字符是一样的，所以返回胜出列的任意一个字符即可！</p> 
<p>3、对角线有一样的棋子</p> 
<p>对角线的两种情况写死即可！</p> 
<p>4、都不满足游戏继续 retun ‘B’；</p> 
<p><span style="color:#38d8f0;">5、返回1平局，返回0游戏继续，如果棋盘满了且没有连成一条线则平局</span></p> 
<p><span style="color:#fe2c24;">isswin()函数中调用</span><span style="color:#38d8f0;">isfull()函数来判断棋盘是否已满，满了返回1，没满返回0</span></p> 
<pre><code>int isfull(char ch[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for(i = 0; i&lt;row;i++)
	{
		for (j = 0;j&lt;col;j++)
		{
			if (ch[i][j] == ' ')
			{
				return 0;//棋盘没满
			}
		}
	}
	return 1;//棋盘满了
}</code></pre> 
<pre><code>/判断游戏输赢
char iswin(char ch[ROW][COL], int row, int col)
{
	//当三个棋子连成一条线的时候，游戏胜利
	//判断三行有一样的棋子
	int i = 0;
	for (i = 0; i&lt;row; i++)
	{
		if (ch[i][0] == ch[i][1] &amp;&amp; ch[i][1] == ch[i][2] &amp;&amp; ch[i][1] != ' ')
		{
			return ch[i][1];
		}
	}
	//判断三列有一样的棋子
	int j = 0;
	for (j = 0; j &lt; col; j++)
	{
		if (ch[0][j] == ch[1][j] &amp;&amp; ch[1][j] == ch[2][j] &amp;&amp; ch[1][j] != ' ')
		{
			return ch[1][j];
		}
	}

	//判断对角线
	if (ch[0][0] == ch[1][1] &amp;&amp; ch[1][1] == ch[2][2] &amp;&amp; ch[1][1] != ' ')
	{
		return ch[1][1];
	}
	if (ch[0][2] == ch[1][1] &amp;&amp; ch[1][1] == ch[2][0] &amp;&amp; ch[1][1] != ' ')
	{
		return ch[1][1];
	}

	//判断是否平局，棋盘是否已经满了
	//返回1平局，返回0继续游戏
	int ret = isfull(ch,row,col);
	if (ret == 1)
	{

		return 'A';
	}
	//继续
	return 'B';
}</code></pre> 
<h3 id="%E4%B9%9D%E3%80%81%E3%80%81%E6%B8%B8%E6%88%8F%E6%B5%8B%E8%AF%95%C2%A0">九、、游戏测试 </h3> 
<p>1、玩家1胜利：</p> 
<p class="img-center"><img alt="" height="240" src="https://images2.imgbox.com/47/4a/e0c6PCOL_o.png" width="426"></p> 
<p></p> 
<p>2、玩家2胜利：</p> 
<p class="img-center"><img alt="" height="230" src="https://images2.imgbox.com/45/1e/ufmVqoRC_o.png" width="376"></p> 
<p></p> 
<p>3、平局：</p> 
<p class="img-center"><img alt="" height="235" src="https://images2.imgbox.com/e4/f3/XYPV8QfX_o.png" width="324"></p> 
<h3 id="%E5%8D%81%E3%80%81%E6%80%BB%E4%BD%93%E4%BB%A3%E7%A0%81%EF%BC%9A">十、总体代码：</h3> 
<p>1、game.c</p> 
<pre><code>#define _CRT_SECURE_NO_WARNINGS 1
#include "game.h"

int isfull(char board[ROW][COL], int row, int col)
{
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			if (board[i][j] == ' ')
			{
				return 0;//棋盘没满
			}
		}
	}
	return 1;//棋盘满了
}

//初始化棋盘
void initboard(char board[ROW][COL], int row, int col)
{
	//遍历二维数组
	int i = 0;
	int j = 0;
	for (i = 0; i &lt; row; i++)
	{
		for (j = 0; j &lt; col; j++)
		{
			board[i][j] = ' ';
		}
	}
}

打印棋盘
这种写法的灵活度低，当需求改变的时候我们要进行大量的修改
//void printfboard(char board[ROW][COL],int row,int col)
//{
//	int i = 0;
//	for (i = 0; i&lt;row; i++) 
//	{
//			printf(" %c | %c | %c \n",board[i][0],board[i][1],board[i][2]);
//			if(i&lt;row-1)
//			printf("---|---|---\n");
//		}

//}
//把棋盘的“ %c ”和|看成一个部分；“---”和|看成一个部分
void printfboard(char board[ROW][COL], int row, int col)
{
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		/*printf(" %c | %c | %c \n",ch[i][0],ch[i][1],ch[i][2]);*/
		int j = 0;
		for (j = 0; j &lt; col; j++)
		{
			printf(" %c ", board[i][j]);
			if (j &lt; col - 1)
				printf("|");
		}
		printf("\n");

		if (i &lt; row - 1)
			//	printf("---|---|---\n");

			for (int i = 0; i &lt; col; i++)
			{
				printf("---");
				if (i &lt; col - 1)
					printf("|");
			}
		printf("\n");
	}


}

//玩家1下棋
void play1move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	printf("玩家1走：&gt;");
	while (1)
	{
		printf("请输入棋子坐标：");
		scanf("%d %d", &amp;x, &amp;y);
		//判断棋子是否合法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			//落子
			//判断要下的坐标是否被占用
			//这里要注意，对下标进行访问是原坐标-1
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '*';

				break;
			}
			else
				printf("坐标已经被占用！");
		}
		else
			printf("坐标错误，请重新输入！");
	}
}

//玩家2下棋
void play2move(char board[ROW][COL], int row, int col)
{
	int x = 0;
	int y = 0;
	printf("玩家2走：&gt;");
	while (1)
	{
		printf("请输入棋子坐标：");
		scanf("%d %d", &amp;x, &amp;y);
		//判断棋子是否合法
		if (x &gt;= 1 &amp;&amp; x &lt;= row &amp;&amp; y &gt;= 1 &amp;&amp; y &lt;= col)
		{
			//落子
			//判断要下的坐标是否被占用
			//这里要注意，对下标进行访问是原坐标-1
			if (board[x - 1][y - 1] == ' ')
			{
				board[x - 1][y - 1] = '#';

				break;
			}
			else
				printf("坐标已经被占用！");
		}
		else
			printf("坐标错误，请重新输入！");
	}
}

//判断游戏输赢
char iswin(char ch[ROW][COL], int row, int col)
{
	//当三个棋子连成一条线的时候，游戏胜利
	//判断三行有一样的棋子
	int i = 0;
	for (i = 0; i &lt; row; i++)
	{
		if (ch[i][0] == ch[i][1] &amp;&amp; ch[i][1] == ch[i][2] &amp;&amp; ch[i][1] != ' ')
		{
			return ch[i][1];
		}
	}
	//判断三列有一样的棋子
	int j = 0;
	for (j = 0; j &lt; col; j++)
	{
		if (ch[0][j] == ch[1][j] &amp;&amp; ch[1][j] == ch[2][j] &amp;&amp; ch[1][j] != ' ')
		{
			return ch[1][j];
		}
	}

	//判断对角线
	if (ch[0][0] == ch[1][1] &amp;&amp; ch[1][1] == ch[2][2] &amp;&amp; ch[1][1] != ' ')
	{
		return ch[1][1];
	}
	if (ch[0][2] == ch[1][1] &amp;&amp; ch[1][1] == ch[2][0] &amp;&amp; ch[1][1] != ' ')
	{
		return ch[1][1];
	}

	//判断是否平局，棋盘是否已经满了
	//返回1平局，返回0继续游戏
	int ret = isfull(ch, row, col);
	if (ret == 1)
	{

		return 'A';
	}
	//继续
	return 'B';
}

</code></pre> 
<p>2、game.h</p> 
<pre><code>#pragma once
//头文件
#include &lt;stdio.h&gt;
//符号的定义
#define ROW 3//表示行
#define COL 3//表示列

//函数的声明
//初始化棋盘的函数
void initboard(char board[ROW][COL], int row, int col);

//打印棋盘的函数
void printfboard(char board[ROW][COL], int row, int col);
//玩家1落子
void play1move(char board[ROW][COL], int row, int col);
//玩家2落子
void play2move(char board[ROW][COL], int row, int col);
//判断输赢
char  iswin(char board[ROW][COL], int row, int col);</code></pre> 
<p>3、 text.c</p> 
<pre><code>#define _CRT_SECURE_NO_WARNINGS 1
#include "game.h"
 void menu()
{
	printf("----------- Tic-Tac-Toe -----------\n");
	printf("*********** 1.开始游戏 ************\n");
	printf("*********** 0.退出游戏 ************\n");
	printf("-----------------------------------\n");
	
}
 void game()
 {
	 //字符数组存储数据
	 char board[ROW][COL];
	 //初始化棋盘
	 initboard(board, ROW, COL);
	 //打印棋盘
	 printfboard(board,ROW,COL);
	 char ret = 0;
	 while (1)
	 {
		 //玩家1走
		 play1move(board, ROW, COL);
		 printfboard(board, ROW, COL);
		 ret = iswin(board, ROW, COL);
		 if (ret != 'B')
			 break;
		 //玩家2走
		 play2move(board, ROW, COL);
		 printfboard(board, ROW, COL);
		 ret = iswin(board, ROW, COL);
		 if (ret != 'B')
			 break;
	 }
	 if (ret == '*')
	 {
		 printf("玩家1胜利！\n");
	 }
	 else if (ret == '#')
	 {
		 printf("玩家2胜利！\n");
	 }
	 else
	 {
		 printf("平局！\n");
	 }
	 printfboard(board, ROW, COL);
 }
int main()
{
	int input = 0;
	do
	{
		menu();
		printf("请输入选项:&gt;\n");
		scanf("%d", &amp;input);
		printf("\n");
		switch (input)
		{
		case 1:
			game();
			/*printf("游戏开始！\n");*/
			break;
		case 0:
			printf("退出游戏！\n");
			break;

		default:
			printf("选项错误，请重新输入：");
		}
		printf("\n");
	} while (input);
	
	
	return 0;
}</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/554ec384ff88504074b07c31c90b835b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用Java的PrinterJob实现调用打印机打印</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62e45d3eefa84b048272099f78791926/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于STM32的OLED多级菜单GUI实现（简化版智能手表）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>