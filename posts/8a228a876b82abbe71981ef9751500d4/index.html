<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>git 实现两个仓库间的代码同步 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="git 实现两个仓库间的代码同步" />
<meta property="og:description" content="目录
项目场景
解决思路
方案实施
项目场景 一个项目由 A 开发团队和 B 开发团队共同开发，由于网络等客观因素的限制，两个开发团队需要分别将代码提交到位于不同服务器上的 A 仓库 和 B 仓库的 develop 分支。A 团队成员可以访问 A 仓库和 B 仓库，B 团队成员只能访问 B 仓库。为了实现 A 仓库和 B 仓库的同步，需要 A 开发团队的负责人每天将两个仓库 develop 分支的代码进行同步更新。
解决思路 在 B 仓库里拉一个 develop-merge 的分支，每次把 A 仓库 develop 分支的代码覆盖到这个分支，再把 B 仓库的 develop 分支合并到 develop-merge 分支。最后覆盖回 A 仓库的 develop 分支，并 merge 到 B 仓库的 develop分支。在 B 仓库的 develop-merge 分支合并代码，合完后有两个方向，一是拷贝到 A 仓库的本地目录，再提交；二是 merge 到 B 仓库的 develop 分支。 方案实施 A 开发团队和 B 开发团队分别在 A 仓库和 B 仓库的 develop 分支上提交所有代码。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8a228a876b82abbe71981ef9751500d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-16T14:50:06+08:00" />
<meta property="article:modified_time" content="2022-03-16T14:50:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">git 实现两个仓库间的代码同步</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="_0"></a></h2> 
<blockquote> 
 <p id="main-toc"><strong>目录</strong></p> 
 <p id="%E9%A1%B9%E7%9B%AE%E5%9C%BA%E6%99%AF-toc" style="margin-left:0px;"><a href="#%E9%A1%B9%E7%9B%AE%E5%9C%BA%E6%99%AF" rel="nofollow">项目场景</a></p> 
 <p id="%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF-toc" style="margin-left:0px;"><a href="#%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF" rel="nofollow">解决思路</a></p> 
 <p id="%E6%96%B9%E6%A1%88%E5%AE%9E%E6%96%BD-toc" style="margin-left:0px;"><a href="#%E6%96%B9%E6%A1%88%E5%AE%9E%E6%96%BD" rel="nofollow">方案实施</a></p> 
</blockquote> 
<hr> 
<h2 id="%E9%A1%B9%E7%9B%AE%E5%9C%BA%E6%99%AF">项目场景</h2> 
<p>一个项目由 A 开发团队和 B 开发团队共同开发，由于网络等客观因素的限制，两个开发团队需要分别将代码提交到位于不同服务器上的 A 仓库 和 B 仓库的 develop 分支。A 团队成员可以访问 A 仓库和 B 仓库，B 团队成员只能访问 B 仓库。为了实现 A 仓库和 B 仓库的同步，需要 A 开发团队的负责人每天将两个仓库 develop 分支的代码进行同步更新。</p> 
<hr> 
<h2 id="%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF"><a id="_30"></a>解决思路</h2> 
<ul><li>在 B 仓库里拉一个 develop-merge 的分支，每次把 A 仓库 develop 分支的代码覆盖到这个分支，再把 B 仓库的 develop 分支合并到 develop-merge 分支。最后覆盖回 A 仓库的 develop 分支，并 merge 到 B 仓库的 develop分支。</li><li>在 B 仓库的 develop-merge 分支合并代码，合完后有两个方向，一是拷贝到 A 仓库的本地目录，再提交；二是 merge 到 B 仓库的 develop 分支。</li></ul> 
<hr> 
<h2 id="%E6%96%B9%E6%A1%88%E5%AE%9E%E6%96%BD">方案实施</h2> 
<p>A 开发团队和 B 开发团队分别在 A 仓库和 B 仓库的 develop 分支上提交所有代码。</p> 
<p>本地 A 仓库切到 develop 分支拉取最新代码。</p> 
<p>本地 B 仓库切到 develop-merge 分支。把 A 仓库本地目录的 develop 分支源代码整体复制，覆盖 本地 B 仓库的 develop-merge 分支。</p> 
<p>在本地 B 仓库的 develop-merge 分支上执行：</p> 
<pre><code class="language-bash">git add 
git commit -m "同步代码"</code></pre> 
<p>本地 B 仓库切到 develop 分支，拉取 B 仓库远程最新代码，切回 develop-merge 分支，合并 develop 分支，执行：</p> 
<pre><code class="language-bash">git merge develop</code></pre> 
<p>解决冲突后再执行：</p> 
<pre><code class="language-bash">git add .
git commit -m "同步代码"
git push</code></pre> 
<p>切到本地 B 仓库的 develop 分支，</p> 
<pre><code class="language-bash"># 把本地 B 仓库的 develop-merge 分支合并到 develop 分支
git merge develop-merge
# 提交
git push origin develop</code></pre> 
<p>切回本地 B 仓库的 develop-merge 分支，把 B 仓库本地目录的 develop-merge 分支源代码整体复制，覆盖 A 仓库本地目录的 develop 分支。在本地 A 仓库的 develop 分支执行：</p> 
<pre><code>git add
git commit -m '同步代码'
git push origin develop</code></pre> 
<p>通过以上操作，A 仓库和 B 仓库的 develop 分支代码实现了同步更新。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cc3746c17a1e98d2b8456a4079f631c4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">记录Yolov5(6.0)转为NCNN全过程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3080c07c4dc999510e92815f9a03409b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CVPR2022知识蒸馏用于目标检测：Focal and Global Knowledge Distillation for Detectors</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>