<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>自然语言处理总复习（十一）—— 信息检索 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="自然语言处理总复习（十一）—— 信息检索" />
<meta property="og:description" content="自然语言处理总复习（十一）—— 信息检索 一、概述1. 概念2. IR系统的体系结构（1）系统要素（2）Web搜索 3. IR的历史4. IR的困难5. IR相关领域6. 主要的搜索引擎7. 信息检索的应用8. 国际国内会议9. 重要工具 二、评价（一）评价的概述1. 评价IR的原因2. 评价IR系统的困难3. 评价的对象4. 如何评价效果？ （二）基本指标 **`precision, recall, F-measure`**1. 精准率（precision），召回率（recall）2. F-measure（precision &#43; recall） （三）TREC评测1. TREC的查询方式2. Pooling技术3. 性能评价指标 —— MAP（算数平均精度）4. 性能评价指标 —— 11-point AP（11点平均精度）- 计算实例 5. 其他评价指标 三、模型（一）模型概述1. 模型的概念2. 检索模型的核心问题3. 模型分类4. 信息检索的两种主要方式（1）特别（ad hoc retrieval）检索（2）过滤（filtering） （二）信息检索模型1. 布尔模型（Boolean Model）布尔模型的定义和描述（1）定义（2）举例（3）模型小结（4）问题 2. 向量空间模型（Vector Space Model, VSM)（1）索引项（2）文档集的表示方法（3）相似度计算（1）相似度函数 —— 内积（2）相似度函数 —— 余弦 （4）文档和词项的权重计算方法a. 一些定义b. 计算公式 —— 典型计算公式c. 计算公式 —— 归一化计算公式 （5）向量空间模型小结a. 模型优点b. 思考 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/73a3975329972c6ae2c5160bfa884da4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-30T15:06:26+08:00" />
<meta property="article:modified_time" content="2021-10-30T15:06:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">自然语言处理总复习（十一）—— 信息检索</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>自然语言处理总复习（十一）—— 信息检索</h4> 
 <ul><li><a href="#_2" rel="nofollow">一、概述</a></li><li><ul><li><a href="#1__4" rel="nofollow">1. 概念</a></li><li><a href="#2_IR_33" rel="nofollow">2. IR系统的体系结构</a></li><li><ul><li><a href="#1_36" rel="nofollow">（1）系统要素</a></li><li><a href="#2Web_38" rel="nofollow">（2）Web搜索</a></li></ul> 
   </li><li><a href="#3_IR_40" rel="nofollow">3. IR的历史</a></li><li><a href="#4_IR_44" rel="nofollow">4. IR的困难</a></li><li><a href="#5_IR_49" rel="nofollow">5. IR相关领域</a></li><li><a href="#6__54" rel="nofollow">6. 主要的搜索引擎</a></li><li><a href="#7__65" rel="nofollow">7. 信息检索的应用</a></li><li><a href="#8__67" rel="nofollow">8. 国际国内会议</a></li><li><a href="#9__69" rel="nofollow">9. 重要工具</a></li></ul> 
  </li><li><a href="#_71" rel="nofollow">二、评价</a></li><li><ul><li><a href="#_78" rel="nofollow">（一）评价的概述</a></li><li><ul><li><a href="#1_IR_79" rel="nofollow">1. 评价IR的原因</a></li><li><a href="#2_IR_82" rel="nofollow">2. 评价IR系统的困难</a></li><li><a href="#3__84" rel="nofollow">3. 评价的对象</a></li><li><a href="#4__86" rel="nofollow">4. 如何评价效果？</a></li></ul> 
   </li><li><a href="#_precision_recall_Fmeasure_88" rel="nofollow">（二）基本指标 **`precision, recall, F-measure`**</a></li><li><ul><li><a href="#1__precisionrecall_90" rel="nofollow">1. 精准率（precision），召回率（recall）</a></li><li><a href="#2_Fmeasureprecision__recall_111" rel="nofollow">2. F-measure（precision + recall）</a></li></ul> 
   </li><li><a href="#TREC_119" rel="nofollow">（三）TREC评测</a></li><li><ul><li><a href="#1_TREC_120" rel="nofollow">1. TREC的查询方式</a></li><li><a href="#2_Pooling_123" rel="nofollow">2. Pooling技术</a></li><li><a href="#3___MAP_126" rel="nofollow">3. 性能评价指标 —— MAP（算数平均精度）</a></li><li><a href="#4___11point_AP11_130" rel="nofollow">4. 性能评价指标 —— 11-point AP（11点平均精度）</a></li><li><ul><li><a href="#___134" rel="nofollow">- 计算实例</a></li></ul> 
    </li><li><a href="#5__141" rel="nofollow">5. 其他评价指标</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_144" rel="nofollow">三、模型</a></li><li><ul><li><a href="#_146" rel="nofollow">（一）模型概述</a></li><li><ul><li><a href="#1__147" rel="nofollow">1. 模型的概念</a></li><li><a href="#2__168" rel="nofollow">2. 检索模型的核心问题</a></li><li><a href="#3__173" rel="nofollow">3. 模型分类</a></li><li><a href="#4__175" rel="nofollow">4. 信息检索的两种主要方式</a></li><li><ul><li><a href="#1ad_hoc_retrieval_176" rel="nofollow">（1）特别（ad hoc retrieval）检索</a></li><li><a href="#2filtering_179" rel="nofollow">（2）过滤（filtering）</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_183" rel="nofollow">（二）信息检索模型</a></li><li><ul><li><a href="#1_Boolean_Model_185" rel="nofollow">1. 布尔模型（Boolean Model）</a></li><li><ul><li><a href="#_194" rel="nofollow">布尔模型的定义和描述</a></li><li><ul><li><a href="#1_195" rel="nofollow">（1）定义</a></li><li><a href="#2_198" rel="nofollow">（2）举例</a></li><li><a href="#3_200" rel="nofollow">（3）模型小结</a></li><li><a href="#4_202" rel="nofollow">（4）问题</a></li></ul> 
    </li></ul> 
    </li><li><a href="#2_Vector%09Space_Model_VSM_204" rel="nofollow">2. 向量空间模型（Vector Space Model, VSM)</a></li><li><ul><li><a href="#1_205" rel="nofollow">（1）索引项</a></li><li><a href="#2_227" rel="nofollow">（2）文档集的表示方法</a></li><li><a href="#3_231" rel="nofollow">（3）相似度计算</a></li><li><ul><li><a href="#1___245" rel="nofollow">（1）相似度函数 —— 内积</a></li><li><a href="#2___253" rel="nofollow">（2）相似度函数 —— 余弦</a></li></ul> 
     </li><li><a href="#4_255" rel="nofollow">（4）文档和词项的权重计算方法</a></li><li><ul><li><a href="#a__256" rel="nofollow">a. 一些定义</a></li><li><a href="#b____268" rel="nofollow">b. 计算公式 —— 典型计算公式</a></li><li><a href="#c____270" rel="nofollow">c. 计算公式 —— 归一化计算公式</a></li></ul> 
     </li><li><a href="#5_275" rel="nofollow">（5）向量空间模型小结</a></li><li><ul><li><a href="#a__276" rel="nofollow">a. 模型优点</a></li><li><a href="#b__281" rel="nofollow">b. 思考</a></li></ul> 
    </li></ul> 
    </li><li><a href="#3__287" rel="nofollow">3. 概率检索模型</a></li></ul> 
   </li><li><a href="#_295" rel="nofollow">（三）信息检索模型总结</a></li><li><a href="#_303" rel="nofollow">（四）其他检索模型</a></li><li><ul><li><a href="#1__304" rel="nofollow">1. 问题提出</a></li><li><a href="#2_LSI_307" rel="nofollow">2. 潜在语义索引模型（LSI）</a></li></ul> 
  </li></ul> 
  </li><li><a href="#WebSpider_314" rel="nofollow">四、Web-Spider</a></li><li><ul><li><a href="#_315" rel="nofollow">（一）概述</a></li><li><a href="#Spider_319" rel="nofollow">（二）Spider基本工作原理</a></li><li><ul><li><a href="#1__320" rel="nofollow">1. 基本工作流程</a></li><li><a href="#2_Spider_323" rel="nofollow">2. 简单的Spider问题</a></li></ul> 
   </li><li><a href="#Spider_332" rel="nofollow">（三）Spider的关键问题和技术</a></li><li><ul><li><a href="#1__333" rel="nofollow">1. 抓取策略</a></li><li><a href="#2__351" rel="nofollow">2. 分布式采集</a></li><li><a href="#3__360" rel="nofollow">3. 内容重复判别</a></li><li><a href="#4__364" rel="nofollow">4. 作弊页面、采集器陷阱处理</a></li><li><a href="#5__376" rel="nofollow">5. 礼貌性、新鲜度</a></li><li><ul><li><a href="#1_379" rel="nofollow">（1）爬行周期的确定</a></li><li><a href="#1_381" rel="nofollow">（1）爬行器要遵守采集协议</a></li></ul> 
   </li></ul> 
   </li><li><a href="#Spider_384" rel="nofollow">（四）网站运营者对Spider的态度</a></li><li><a href="#WebSpider_386" rel="nofollow">（五）Web-Spider总结</a></li></ul> 
  </li><li><a href="#_394" rel="nofollow">五、相关反馈和查询扩展</a></li><li><ul><li><a href="#_395" rel="nofollow">（一）问题背景</a></li><li><a href="#___408" rel="nofollow">（二）局部方法 —— 相关反馈</a></li><li><ul><li><a href="#1__409" rel="nofollow">1. 基本思想</a></li><li><a href="#2__415" rel="nofollow">2. 相关反馈分类</a></li><li><ul><li><a href="#1_416" rel="nofollow">（1）显式相关反馈</a></li><li><a href="#2_419" rel="nofollow">（2）隐式相关反馈</a></li><li><a href="#3_440" rel="nofollow">（3）伪相关反馈或盲相关反馈</a></li></ul> 
    </li><li><a href="#3__454" rel="nofollow">3. 相关反馈的特点</a></li><li><a href="#4____457" rel="nofollow">4. 核心概念 —— 质心</a></li><li><a href="#5___Rocchio_460" rel="nofollow">5. 相关反馈的实现方式 —— Rocchio算法</a></li><li><a href="#6__469" rel="nofollow">6. 反馈的处理方式</a></li><li><a href="#7____471" rel="nofollow">7. 相关反馈能够提高召回率的条件 —— 基于假设</a></li><li><a href="#8__475" rel="nofollow">8. 相关反馈的评价</a></li><li><a href="#9__477" rel="nofollow">9. 相关反馈存在的问题</a></li><li><a href="#10____479" rel="nofollow">10. 相关反馈 —— 新查询词的选择</a></li><li><ul><li><a href="#1_481" rel="nofollow">（1）基于局部聚类的方法</a></li><li><ul><li><a href="#__485" rel="nofollow">—— 关联簇介绍</a></li></ul> 
     </li><li><a href="#2_491" rel="nofollow">（2）基于局部上下文分析的方法</a></li></ul> 
   </li></ul> 
   </li><li><a href="#___502" rel="nofollow">（三）全局方法 —— 查询拓展</a></li><li><ul><li><a href="#1__503" rel="nofollow">1. 概念介绍</a></li><li><a href="#2__512" rel="nofollow">2. 查询扩展的类型</a></li><li><ul><li><a href="#21__513" rel="nofollow">2-1. 人工构建的同（近）义词词典</a></li><li><a href="#22__515" rel="nofollow">2-2. 自动导出的同（近）义词词典</a></li><li><ul><li><a href="#_517" rel="nofollow">词典的自动构建方式：</a></li></ul> 
    </li></ul> 
    </li><li><a href="#3__560" rel="nofollow">3. 搜索引擎中的查询扩展</a></li></ul> 
   </li><li><a href="#_563" rel="nofollow">（四）本讲小结</a></li></ul> 
  </li><li><a href="#WebPageRankHITS_576" rel="nofollow">六、Web页面的评分机制（PageRank和HITS）</a></li><li><ul><li><a href="#Web_577" rel="nofollow">（一）Web页面中的链接</a></li><li><a href="#PageRank_579" rel="nofollow">（二）PageRank</a></li><li><ul><li><a href="#1__580" rel="nofollow">1. 随机冲浪模型的简化模型</a></li><li><ul><li><a href="#1PageRank1_586" rel="nofollow">（1）PageRank公式1</a></li><li><a href="#2PageRank2_589" rel="nofollow">（2）PageRank公式2</a></li><li><ul><li><a href="#_593" rel="nofollow">例子</a></li></ul> 
    </li></ul> 
    </li><li><a href="#2__607" rel="nofollow">2. 锚文本</a></li><li><a href="#3_PageRank_633" rel="nofollow">3. PageRank的一些数据结论</a></li></ul> 
   </li><li><a href="#Hypertext_Induced_Topic_Search_HITS_635" rel="nofollow">（二）Hypertext Induced Topic Search (HITS)</a></li></ul> 
  </li><li><a href="#_644" rel="nofollow">七、文本处理</a></li><li><ul><li><a href="#_650" rel="nofollow">（一）词法分析</a></li><li><ul><li><a href="#1_httpsimgblogcsdnimgcnd295df6208134739a4a392bb859d970fpngxossprocessimagewatermarktype_ZHJvaWRzYW5zZmFsbGJhY2sshadow_50text_Q1NETiBAVmljdGF5cmlhsize_20color_FFFFFFt_70g_sex_16_655" rel="nofollow">1. 英文词法分析![在这里插入图片描述](https://img-blog.csdnimg.cn/d295df6208134739a4a392bb859d970f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAVmljdGF5cmlh,size_20,color_FFFFFF,t_70,g_se,x_16)</a></li><li><a href="#2__657" rel="nofollow">2. 中文词法分析</a></li></ul> 
   </li><li><a href="#_661" rel="nofollow">（二）停用词消除</a></li><li><a href="#_663" rel="nofollow">（三）英文词干还原</a></li><li><a href="#Term_669" rel="nofollow">（四）Term选择</a></li></ul> 
  </li><li><a href="#_676" rel="nofollow">八、文本索引</a></li><li><ul><li><a href="#_681" rel="nofollow">（一）字符串匹配</a></li><li><ul><li><a href="#_692" rel="nofollow">相关方法</a></li></ul> 
   </li><li><a href="#_695" rel="nofollow">（二）向前索引</a></li><li><a href="#_701" rel="nofollow">（三）倒排索引</a></li><li><ul><li><a href="#_706" rel="nofollow">倒排索引的更新</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_708" rel="nofollow">九、多媒体检索</a></li><li><ul><li><a href="#_709" rel="nofollow">（一）多媒体检索概述</a></li><li><a href="#_716" rel="nofollow">（二）声音检索</a></li><li><a href="#_720" rel="nofollow">（三）图像检索</a></li><li><a href="#_726" rel="nofollow">（四）视频检索</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>一、概述</h2> 
<p><img src="https://images2.imgbox.com/34/0a/OPKr6gau_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1__4"></a>1. 概念</h3> 
<p><strong>信息检索：</strong> 从非结构化的文档集中找出与用户需求相关的信息。</p> 
<p><strong>和其它相关技术的区别：</strong></p> 
<blockquote> 
 <p>和数据库的区别：数据库是结构化数据<br> 和情报检索的区别：情报检索介绍如何利用信息检索工具</p> 
</blockquote> 
<p><strong>处理的对象：</strong></p> 
<ul><li>非结构化数据<br> 文本数据：新闻、科技论文等<br> 网页：HTML、XML<br> 多媒体数据：图像、图形、视频、音频</li><li>目前最主要的处理对象是互联网</li></ul> 
<p><strong>典型的IR任务</strong></p> 
<ul><li>给定 
  <ul><li>自然语言的文档集合</li><li>用户的提问（Query）-- 由用户需求而来</li></ul> </li><li>查找 
  <ul><li>和Query相关的经过排序（Rank）的文档子集</li></ul> </li></ul> 
<p><strong>IR系统</strong></p> 
<p><img src="https://images2.imgbox.com/7f/25/ds6s2dkX_o.png" alt="在这里插入图片描述" width="450"></p> 
<p><strong>基于内容的图像查询：</strong></p> 
<p><img src="https://images2.imgbox.com/09/08/nxq57zUB_o.png" alt="在这里插入图片描述" width="400"></p> 
<h3><a id="2_IR_33"></a>2. IR系统的体系结构</h3> 
<p><img src="https://images2.imgbox.com/4c/59/S5xjc0CW_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="1_36"></a>（1）系统要素</h4> 
<p><img src="https://images2.imgbox.com/4c/d7/D4m6vlaO_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2Web_38"></a>（2）Web搜索</h4> 
<p><img src="https://images2.imgbox.com/46/60/twWq87zg_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_IR_40"></a>3. IR的历史</h3> 
<p><img src="https://images2.imgbox.com/2b/4d/j3qrGlsV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3d/14/i5IyFj5C_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/81/bc/lx6B7xWm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_IR_44"></a>4. IR的困难</h3> 
<p><img src="https://images2.imgbox.com/53/23/5y5UmLoD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7c/dc/85jMaFWE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4b/95/Xof473Zs_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/af/13/5TxsdwlU_o.png" alt="在这里插入图片描述" width="60%"></p> 
<h3><a id="5_IR_49"></a>5. IR相关领域</h3> 
<p><img src="https://images2.imgbox.com/7a/45/0f1ISSl0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/47/55/xQ9dqM9h_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/72/7e/STlXvnJM_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/16/ee/2oEq8jbZ_o.png" alt="在这里插入图片描述" width="50%"></p> 
<h3><a id="6__54"></a>6. 主要的搜索引擎</h3> 
<ul><li>2003年底以前，中国搜索引擎市场的格局是：雅虎和Google都提供中文搜索服务，但没有正式进入中国。中国本土的搜索引擎服务商主要是百度、3721、中国搜索(慧聪搜索)。然而，这一切在2004年发生了彻底的变化。</li><li>2003年11月21日，雅虎中国收购3721公司。3721的搜索服务成为了YHAOO中国的重要组成，YHAOO正式进军中国搜索引擎服务市场。</li><li>2004年6月15日，Google进入中国市场</li><li>2004年6月21日，雅虎中国除了坚固其门户搜索、3721之外，推出了专门的中文搜索门户网站“一搜(www.yisou.com)”。</li><li>2004年7月1日，微软公司董事长比尔·盖茨在北京含蓄地表示，要加强MSN搜索开拓中国市场的力度。</li><li>2010，google撤退至香港<br> <img src="https://images2.imgbox.com/61/69/q4YWcTEx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4f/31/sPBhB8mL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0c/b3/K1Cz5ONe_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b2/99/1tPci51e_o.png" alt="在这里插入图片描述" width="50%"></li></ul> 
<h3><a id="7__65"></a>7. 信息检索的应用</h3> 
<p><img src="https://images2.imgbox.com/20/48/00vGTgdv_o.png" alt="在这里插入图片描述" width="70%"></p> 
<h3><a id="8__67"></a>8. 国际国内会议</h3> 
<p><img src="https://images2.imgbox.com/0b/a6/IZYdP0jI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="9__69"></a>9. 重要工具</h3> 
<p><img src="https://images2.imgbox.com/f1/6c/Mwl7rbnK_o.png" alt="在这里插入图片描述" width="450"></p> 
<h2><a id="_71"></a>二、评价</h2> 
<p>基本指标：precision、recall、F-measure<br> TREC评测<br> TREC的查询形式<br> Pooling技术<br> MAP（算术平均精度）<br> 11-point AP（11点平均精度）</p> 
<h3><a id="_78"></a>（一）评价的概述</h3> 
<h4><a id="1_IR_79"></a>1. 评价IR的原因</h4> 
<p>通过评估可以评价不同技术的优劣，不同因素对系统的影响，从而促进本领域研究水平的不断提高。<br> <strong>信息检索的目标：</strong> 在较少消耗情况下尽快、全面返回准确的结果。</p> 
<h4><a id="2_IR_82"></a>2. 评价IR系统的困难</h4> 
<p><img src="https://images2.imgbox.com/63/8f/sTF3OTg5_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="3__84"></a>3. 评价的对象</h4> 
<p><img src="https://images2.imgbox.com/ce/a4/BLoYUTVv_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="4__86"></a>4. 如何评价效果？</h4> 
<p><img src="https://images2.imgbox.com/fb/4e/uRPc2b8O_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_precision_recall_Fmeasure_88"></a>（二）基本指标 <strong><code>precision, recall, F-measure</code></strong></h3> 
<h4><a id="1__precisionrecall_90"></a>1. 精准率（precision），召回率（recall）</h4> 
<pre><code class="prism language-c">precision <span class="token operator">=</span> 检出的相关文档数<span class="token operator">/</span>检出文档数，也称查准率
recall <span class="token operator">=</span> 检出的相关文档数<span class="token operator">/</span>相关文档总数，也称查全率
</code></pre> 
<p>两个极端情况：<br> 返回1篇，P=100%，但R极低；全部返回，R＝1，但P极低。</p> 
<p><strong>一个例子：</strong><br> 查询Q，本应该有100篇相关文档，某个系统返回200篇文档，其中80篇是真正相关的文档<br> <code>recall = 80/100 = 0.8</code><br> <code>precision = 80/200 = 0.4</code><br> 结论：召回率较高但是精准率较低</p> 
<p><strong>召回率和精准率的关系：</strong></p> 
<p><img src="https://images2.imgbox.com/e0/cc/Ir4470Tc_o.png" alt="在这里插入图片描述" width="60%"><br> 一个Query的P-R曲线：<br> <img src="https://images2.imgbox.com/56/19/ADnTM9yR_o.png" alt="在这里插入图片描述" width="60%"></p> 
<h4><a id="2_Fmeasureprecision__recall_111"></a>2. F-measure（precision + recall）</h4> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           F 
          
          
          
            m 
           
          
            e 
           
          
            a 
           
          
            s 
           
          
            u 
           
          
            r 
           
          
            e 
           
          
         
        
          = 
         
         
         
           { 
          
          
           
            
             
              
              
                0 
               
              
                , 
               
              
             
            
            
             
              
              
                P 
               
              
                = 
               
              
                R 
               
              
                = 
               
              
                0 
               
              
             
            
           
           
            
             
              
               
                
                 
                 
                   2 
                  
                 
                   P 
                  
                 
                   R 
                  
                 
                 
                 
                   P 
                  
                 
                   + 
                  
                 
                   R 
                  
                 
                
               
              
                , 
               
              
             
            
            
             
              
              
                P 
               
              
                和 
               
              
                R 
               
              
                不 
               
              
                同 
               
              
                时 
               
              
                为 
               
              
                0 
               
              
             
            
           
          
         
        
       
         F_{measure} = \begin{cases} 0, &amp;P =R=0 \\ \dfrac{2PR}{P+R}, &amp;P和R不同时为0 \end{cases} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.60004em; vertical-align: -1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05002em;"><span class="" style="top: -2.49999em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎩</span></span></span><span class="" style="top: -3.15001em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎨</span></span></span><span class="" style="top: -4.30002em;"><span class="pstrut" style="height: 3.15em;"></span><span class="delimsizinginner delim-size4"><span class="">⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55002em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.03483em;"><span class="" style="top: -4.38716em;"><span class="pstrut" style="height: 3.36033em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span><span class="" style="top: -2.59483em;"><span class="pstrut" style="height: 3.36033em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.36033em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.76933em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.53483em;"><span class=""></span></span></span></span></span><span class="arraycolsep" style="width: 1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.03483em;"><span class="" style="top: -4.38716em;"><span class="pstrut" style="height: 3.36033em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord">0</span></span></span><span class="" style="top: -2.59483em;"><span class="pstrut" style="height: 3.36033em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">P</span><span class="mord cjk_fallback">和</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord cjk_fallback">不</span><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">为</span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.53483em;"><span class=""></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></p> 
<h3><a id="TREC_119"></a>（三）TREC评测</h3> 
<h4><a id="1_TREC_120"></a>1. TREC的查询方式</h4> 
<p><img src="https://images2.imgbox.com/d9/96/XZQXyVC9_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_Pooling_123"></a>2. Pooling技术</h4> 
<p><img src="https://images2.imgbox.com/a9/25/JxFlAPFH_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3___MAP_126"></a>3. 性能评价指标 —— MAP（算数平均精度）</h4> 
<p><img src="https://images2.imgbox.com/6e/35/AS7B7MRz_o.png" alt="在这里插入图片描述" width="65%"></p> 
<p><img src="https://images2.imgbox.com/80/49/islqDmdX_o.png" alt="在这里插入图片描述" width="65%"></p> 
<h4><a id="4___11point_AP11_130"></a>4. 性能评价指标 —— 11-point AP（11点平均精度）</h4> 
<p><img src="https://images2.imgbox.com/d0/6c/1IAJvsLg_o.png" alt="在这里插入图片描述" width="65%"><br> <img src="https://images2.imgbox.com/b3/25/DHIPlXja_o.png" alt="在这里插入图片描述" width="65%"></p> 
<h5><a id="___134"></a>- 计算实例</h5> 
<p><img src="https://images2.imgbox.com/03/12/GG3w5XPv_o.png" alt="在这里插入图片描述" width="60%"><br> <img src="https://images2.imgbox.com/b2/2b/jwAXr9C7_o.png" alt="在这里插入图片描述" width="60%"><br> <img src="https://images2.imgbox.com/05/01/xgtFtJbp_o.png" alt="在这里插入图片描述" width="60%"><br> <img src="https://images2.imgbox.com/e5/7b/djyjplIA_o.png" alt="在这里插入图片描述" width="60%"></p> 
<p><img src="https://images2.imgbox.com/bb/25/LUqy31H4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="5__141"></a>5. 其他评价指标</h4> 
<p><img src="https://images2.imgbox.com/cd/09/UTLYmf9I_o.png" alt="在这里插入图片描述" width="60%"></p> 
<h2><a id="_144"></a>三、模型</h2> 
<h3><a id="_146"></a>（一）模型概述</h3> 
<h4><a id="1__147"></a>1. 模型的概念</h4> 
<ul><li>模型是采用数学工具，对现实世界某种事物运动、或问题的抽象描述</li><li>面对相同的输入，模型的输出应能够无限地逼近现实世界的输出</li></ul> 
<p><strong>信息检索的模型</strong>，就是运用数学的语言和工具，对信息检索系统中的信息及其处理过程加以描述和抽象，表述为某种数学公式，再经过演绎、推断、解释和实际检验，反过来指导信息检索实践。</p> 
<p><strong>信息检索模型的形式化表示</strong><br> <code>[D, Q, F, R(qi, dj)]</code></p> 
<blockquote> 
 <p>D: 是一个文档集合，通常由文档逻辑视图来表示。可以是一组索引词或关键词。既可以自动提取，也可以是由人主观指定。</p> 
</blockquote> 
<blockquote> 
 <p>Q：是一个查询集合，用户任务的表达<br> 目前主要是关键词<br> 也可能是自然语言句子、文档的样本、图像、草图</p> 
</blockquote> 
<blockquote> 
 <p>F：是一个框架，用以构建文档、查询表示以及它们之间关系的模型 检索系统的理论框架，包括预处理、中间处理（分类、聚类、索引）<br> 文档和查询的表示方法</p> 
</blockquote> 
<blockquote> 
 <p>R(qi, dj)：是一个排序函数，它给查询qi和文档 dj 之间的相似度赋予一个排序值<br> 如目前往往按与关键词匹配的数量和Google的pageRank的值。</p> 
</blockquote> 
<h4><a id="2__168"></a>2. 检索模型的核心问题</h4> 
<ul><li>用户的需求表示：包括用户查询信息的获取与表示。</li><li>文档的表示：文档内容的识别与表示。</li><li>相似匹配及排序：用户需求表示与文档表示之间的查询机制，以及它们之间相关性排序的准则和函数表示。</li><li>反馈修正：对检索结果进行优化。</li></ul> 
<h4><a id="3__173"></a>3. 模型分类</h4> 
<p><img src="https://images2.imgbox.com/d4/bf/IH1MF83j_o.png" alt="在这里插入图片描述" width="500"></p> 
<h4><a id="4__175"></a>4. 信息检索的两种主要方式</h4> 
<h5><a id="1ad_hoc_retrieval_176"></a>（1）特别（ad hoc retrieval）检索</h5> 
<p>用户可以不断地提出新的检索需求或新组合，检索系统中的文献不变 ；<br> 比如：Google, Baidu, bing</p> 
<h5><a id="2filtering_179"></a>（2）过滤（filtering）</h5> 
<p>用户的检索需求描述是固定不变的，当得到新的文档后，把与用户需求相关的文档留下，并分类和排序后提交给用户。<br> 比如：股票，新闻，天气，航班</p> 
<h3><a id="_183"></a>（二）信息检索模型</h3> 
<p><img src="https://images2.imgbox.com/87/bb/U4T27Yx4_o.png" alt="在这里插入图片描述" width="500"></p> 
<h4><a id="1_Boolean_Model_185"></a>1. 布尔模型（Boolean Model）</h4> 
<p>一种简单的检索模型，它建立在经典的集合论和布尔代数的基础上。</p> 
<p><strong>遵循的基本规则：</strong><br> 每个索引词在文档或查询中只有两种状态：出现或不出现，对应权值为1或0。</p> 
<p><strong>查询：</strong> 由三种布尔逻辑运算符 and, or, not 连接索引词组成的布尔表达式。<br> <strong>匹配：</strong> 一个文档当且仅当它能够满足布尔查询式时，才将其检索出来。</p> 
<h5><a id="_194"></a>布尔模型的定义和描述</h5> 
<h6><a id="1_195"></a>（1）定义</h6> 
<p><img src="https://images2.imgbox.com/5d/20/SDmNIvJ9_o.png" alt="在这里插入图片描述" width="500"><br> <img src="https://images2.imgbox.com/48/9a/xr0HxNpQ_o.png" alt="在这里插入图片描述" width="500"></p> 
<h6><a id="2_198"></a>（2）举例</h6> 
<p><img src="https://images2.imgbox.com/0d/9d/KDoVpNpJ_o.png" alt="在这里插入图片描述" width="450"></p> 
<h6><a id="3_200"></a>（3）模型小结</h6> 
<p><img src="https://images2.imgbox.com/92/ef/tF7ofbda_o.png" alt="在这里插入图片描述" width="550"></p> 
<h6><a id="4_202"></a>（4）问题</h6> 
<p><img src="https://images2.imgbox.com/37/4e/bXCPbWsB_o.png" alt="在这里插入图片描述" width="500"></p> 
<h4><a id="2_Vector%09Space_Model_VSM_204"></a>2. 向量空间模型（Vector Space Model, VSM)</h4> 
<h5><a id="1_205"></a>（1）索引项</h5> 
<p>若干独立的词项被选作索引项(index terms) or 词表vocabulary.<br> 索引项代表了一个应用中的重要词项<br> 计算机科学图书馆中的索引项应该是哪些呢?<br> <img src="https://images2.imgbox.com/71/51/JtEulcpf_o.png" alt="在这里插入图片描述" width="400"><br> <strong>索引项的假设：</strong><br> 这些索引项是不相关的 (或者说是正交的) ，形成一个向量空间vector space.</p> 
<pre><code class="prism language-c">实际上，这些词项是相互关联的
当你在一个文档中看到“计算机”<span class="token punctuation">,</span> 非常有可能同时看到“科学”
当你在一个文档中看到“计算机”<span class="token punctuation">,</span> 有中等的可能性同时看到“商务”
当你在一个文档中看到“商务”，只有很少的机会同时看到“科学”
</code></pre> 
<p><strong>索引项到向量：</strong><br> <code>n 个索引项构成 n 维空间</code><br> 一个文档或查询式可以表示为 n 个元素的线性组合</p> 
<blockquote> 
 <p>2个索引项构成一个二维空间，一个文档可能包含0, 1 或2个索引项<br> di = (0, 0) (一个索引项也不包含)<br> dj = (0, 0.7) (包含其中一个索引项)<br> dk = (1, 2) (包含两个索引项)<br> 类似的，3个索引项构成一个三维空间</p> 
</blockquote> 
<h5><a id="2_227"></a>（2）文档集的表示方法</h5> 
<p><img src="https://images2.imgbox.com/fa/a8/kd2OjuCA_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0b/6a/sCmzRgJ7_o.png" alt="在这里插入图片描述" width="300"><br> <img src="https://images2.imgbox.com/d5/35/rhkN4Tff_o.png" alt="在这里插入图片描述" width="400"></p> 
<h5><a id="3_231"></a>（3）相似度计算</h5> 
<p><strong>相似度概念：</strong> 是一个函数，它给出两个向量之间的相似程度。</p> 
<p><strong>相似度存在的地方：</strong></p> 
<ul><li>文档 – 文档</li><li>查询式 – 查询式</li><li>查询式 – 文档</li></ul> 
<blockquote> 
 <ul><li>可以根据预定的重要程度对检索出来的文档进行排序</li><li>通过强制设定某个阈值，控制被检索出来的文档的数量</li><li>检索结果可以被用于相关反馈中，以便对原始的查询式进行修正。(例如：将文档向量和查询式向量进行结合)</li></ul> 
</blockquote> 
<p><code>注：查询式和文档都是向量</code></p> 
<h6><a id="1___245"></a>（1）相似度函数 —— 内积</h6> 
<p><img src="https://images2.imgbox.com/40/62/Do2F57zI_o.png" alt="在这里插入图片描述" width="450"><br> <img src="https://images2.imgbox.com/f2/13/Trqnnb89_o.png" alt="在这里插入图片描述" width="450"><br> <strong>内积的属性：</strong></p> 
<ul><li>内积值没有界限</li><li>对长文档有利 
  <ul><li>内积用于衡量有多少词项匹配成功，而不计算有多少词项匹配失败。</li><li>长文档包含大量独立词项，每个词项均多次出现，因此一般而言，和查询式中的词项匹配成功的可能性就会比短文档大。</li></ul> </li></ul> 
<h6><a id="2___253"></a>（2）相似度函数 —— 余弦</h6> 
<p><img src="https://images2.imgbox.com/79/4f/MMf2oGdF_o.png" alt="在这里插入图片描述" width="480"></p> 
<h5><a id="4_255"></a>（4）文档和词项的权重计算方法</h5> 
<h6><a id="a__256"></a>a. 一些定义</h6> 
<pre><code class="prism language-c">文档： tf
文档集：idf
</code></pre> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          t 
         
         
         
           f 
          
          
          
            i 
           
          
            j 
           
          
         
        
          = 
         
        
          词 
         
        
          项 
         
        
          j 
         
        
          在 
         
        
          文 
         
        
          档 
         
        
          i 
         
        
          中 
         
        
          的 
         
        
          频 
         
        
          率 
         
         
        
          d 
         
         
         
           f 
          
         
           j 
          
         
        
          = 
         
        
          词 
         
        
          项 
         
        
          j 
         
        
          的 
         
        
          文 
         
        
          档 
         
        
          频 
         
        
          率 
         
        
          = 
         
        
          包 
         
        
          含 
         
        
          词 
         
        
          项 
         
        
          j 
         
        
          的 
         
        
          文 
         
        
          档 
         
        
          数 
         
        
          量 
         
         
        
          i 
         
        
          d 
         
         
         
           f 
          
         
           j 
          
         
        
          = 
         
        
          词 
         
        
          项 
         
        
          j 
         
        
          的 
         
        
          反 
         
        
          文 
         
        
          档 
         
        
          频 
         
        
          率 
         
        
          = 
         
        
          l 
         
        
          o 
         
         
         
           g 
          
         
           2 
          
         
        
          ( 
         
        
          N 
         
        
          / 
         
        
          d 
         
         
         
           f 
          
         
           j 
          
         
        
          ) 
         
         
        
          （ 
         
        
          其 
         
        
          中 
         
        
          ， 
         
        
          N 
         
        
          为 
         
        
          文 
         
        
          档 
         
        
          集 
         
        
          中 
         
        
          文 
         
        
          档 
         
        
          总 
         
        
          数 
         
        
          ， 
         
         
        
          反 
         
        
          文 
         
        
          档 
         
        
          频 
         
        
          率 
         
        
          用 
         
        
          词 
         
        
          项 
         
        
          区 
         
        
          别 
         
        
          文 
         
        
          档 
         
        
          ） 
         
        
       
         tf_{ij} = 词项j在文档i中的频率 \\ df_{j} = 词项j的文档频率 = 包含词项j的文档数量 \\ idf_{j} = 词项j的反文档频率 = log_2(N/df_j) \\ （其中，N为文档集中文档总数，\\反文档频率用词项区别文档） 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord cjk_fallback">词</span><span class="mord cjk_fallback">项</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mord cjk_fallback">在</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">频</span><span class="mord cjk_fallback">率</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord cjk_fallback">词</span><span class="mord cjk_fallback">项</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">频</span><span class="mord cjk_fallback">率</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord cjk_fallback">包</span><span class="mord cjk_fallback">含</span><span class="mord cjk_fallback">词</span><span class="mord cjk_fallback">项</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">量</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord cjk_fallback">词</span><span class="mord cjk_fallback">项</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">反</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">频</span><span class="mord cjk_fallback">率</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord">/</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">其</span><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">集</span><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">，</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord cjk_fallback">反</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">频</span><span class="mord cjk_fallback">率</span><span class="mord cjk_fallback">用</span><span class="mord cjk_fallback">词</span><span class="mord cjk_fallback">项</span><span class="mord cjk_fallback">区</span><span class="mord cjk_fallback">别</span><span class="mord cjk_fallback">文</span><span class="mord cjk_fallback">档</span><span class="mord cjk_fallback">）</span></span></span></span></span></span></p> 
<h6><a id="b____268"></a>b. 计算公式 —— 典型计算公式</h6> 
<p><img src="https://images2.imgbox.com/b9/98/hdyEByWo_o.png" alt="在这里插入图片描述" width="400"></p> 
<h6><a id="c____270"></a>c. 计算公式 —— 归一化计算公式</h6> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           w 
          
          
          
            i 
           
          
            j 
           
          
         
        
          = 
         
        
          ( 
         
        
          t 
         
         
         
           f 
          
          
          
            i 
           
          
            j 
           
          
         
        
          / 
         
         
          
          
            max 
           
          
            ⁡ 
           
          
         
           l 
          
         
        
          { 
         
        
          t 
         
         
         
           f 
          
          
          
            l 
           
          
            j 
           
          
         
        
          } 
         
        
          ) 
         
        
          ⋅ 
         
        
          i 
         
        
          d 
         
         
         
           f 
          
         
           j 
          
         
        
       
         w_{ij} = (tf_{ij}/ \mathop{\max}_l\{tf_{lj}\}) \cdot idf_j 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mord">/</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mop"><span class="mop"><span class="mop">max</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">{<!-- --></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span><br> 其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
         
         
           max 
          
         
           ⁡ 
          
         
        
          l 
         
        
       
         { 
        
       
         t 
        
        
        
          f 
         
         
         
           l 
          
         
           j 
          
         
        
       
         } 
        
       
      
        \mathop{\max}_l\{tf_{lj}\} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mop"><span class="mop"><span class="mop">max</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">{<!-- --></span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></span>表示文档<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         j 
        
       
      
        j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span>中最高频率的词频的频率。</p> 
<h5><a id="5_275"></a>（5）向量空间模型小结</h5> 
<h6><a id="a__276"></a>a. 模型优点</h6> 
<ul><li>索引项权重的算法提高了检索的性能</li><li>部分匹配的策略使得检索的结果文档集更接近用户的检索需求</li><li>可以根据结果文档对于查询串的相关度通过Cosine Ranking等公式对结果文档进行排序</li></ul> 
<h6><a id="b__281"></a>b. 思考</h6> 
<ul><li>如何判断两程序之间是否存在抄袭？</li></ul> 
<p><strong>思路：</strong><br> 比如对每段程序建立一个&lt;函数个数，变量个数，常量个数，…&gt;向量，然后进行向量相似度计算。如果相似度大于某个阈值，则认为可能抄袭</p> 
<h4><a id="3__287"></a>3. 概率检索模型</h4> 
<p><img src="https://images2.imgbox.com/f8/b3/nb4HU6uk_o.png" alt="在这里插入图片描述" width="400"><br> <img src="https://images2.imgbox.com/7f/11/MnDeS4AU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/30/ee/OI4wgrQQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b6/d4/w2pggirX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b4/4f/QRNKDiaO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0d/32/2paIK0h6_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d7/d9/sfowI9YJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_295"></a>（三）信息检索模型总结</h3> 
<ul><li>信息检索模型是信息检索的核心。</li><li>主要问题： 
  <ul><li>文档的表示</li><li>查询的表示</li><li>匹配的数量</li></ul> </li><li>三种模型的优缺点比较</li></ul> 
<h3><a id="_303"></a>（四）其他检索模型</h3> 
<h4><a id="1__304"></a>1. 问题提出</h4> 
<p><img src="https://images2.imgbox.com/b3/2e/UyG8vOTl_o.png" alt="在这里插入图片描述"><br> <strong><code>我们希望找到一种方法，能反映术语之间内在的相关性</code></strong></p> 
<h4><a id="2_LSI_307"></a>2. 潜在语义索引模型（LSI）</h4> 
<p><img src="https://images2.imgbox.com/d5/fa/u3o6zmLj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e5/a4/cmhYn2Gy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/59/b7/3rAWSqsF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d3/d1/hDB4tfj2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f1/b4/N5OxnTa4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/30/26/kImeJn6V_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="WebSpider_314"></a>四、Web-Spider</h2> 
<h3><a id="_315"></a>（一）概述</h3> 
<p><img src="https://images2.imgbox.com/9f/0c/rZTofrlF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/5d/7c/VXZvodAn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/69/82/x5nkaO2j_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Spider_319"></a>（二）Spider基本工作原理</h3> 
<h4><a id="1__320"></a>1. 基本工作流程</h4> 
<p><img src="https://images2.imgbox.com/1d/b9/SC1QzmOx_o.png" alt="在这里插入图片描述" width="300"><br> <img src="https://images2.imgbox.com/93/68/YjVSGHHO_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="2_Spider_323"></a>2. 简单的Spider问题</h4> 
<ul><li>规模问题: 必须要分布式处理</li><li>重复网页：必须要集成重复检测功能</li><li>作弊网页和采集器陷阱：必须要集成作弊网页检测功能 
  <ul><li>采集器陷阱：使得爬行器陷入无限循环出不来</li></ul> </li><li>礼貌性问题： 对同一网站的访问按遵照协议规定，并且访问的间隔必须要足够</li><li>新鲜度(freshness)问题：必须要定期更新或者重采 
  <ul><li>由于Web的规模巨大，我们只能对一个小的网页子集频繁重采。</li><li>同样，这也存在一个选择或者优先级问题</li></ul> </li></ul> 
<h3><a id="Spider_332"></a>（三）Spider的关键问题和技术</h3> 
<h4><a id="1__333"></a>1. 抓取策略</h4> 
<p><strong>目标：</strong> 查得全<br> 理想情况：<strong>遍历</strong>互联网上所有的网页<br> <strong>遍历方式：</strong> 深度优先、广度优先<br> <strong>遍历的问题：</strong> 要抓取互联网上所有的网页几乎是不可能的</p> 
<p>原因：</p> 
<blockquote> 
 <p>（1）技术瓶颈</p> 
 <ul><li>无法遍历所有网页，许多网页无法从其他网页的链接中找</li></ul> 
</blockquote> 
<blockquote> 
 <p>（2）存储技术和处理技术的问题</p> 
 <ul><li>如果按照每个页面的平均大小为2M计算，xx亿网页的容量是多少？</li><li>即使能够存储，下载也存在问题（时间开销太大）。</li><li>同时，由于数据量太大，在提供搜索时也会有效率方面的影响。</li></ul> 
</blockquote> 
<p><strong>解决方式：设置访问层数</strong><br> <img src="https://images2.imgbox.com/3f/08/RzJwpNkT_o.png" alt="在这里插入图片描述" width="550"></p> 
<h4><a id="2__351"></a>2. 分布式采集</h4> 
<p>如果要在一个月内采集20,000,000,000个页面. . .<br> . . . 那么必须要在一秒内大概采集 8000个网页!<br> 由于我们采集的网页可能重复、不可下载或者是作弊网<br> 页，实际上可能需要更快的采集速度才能达到上述指标<br> <strong>运行多个采集线程，这些线程可以分布在不同节点上</strong><br> <strong>这些节点往往在地理上分散在不同位置<br> 将采集的主机分配到不同节点上</strong></p> 
<h4><a id="3__360"></a>3. 内容重复判别</h4> 
<ul><li>对每个抓取的页面，判断它是否已在索引当中</li><li>可以采用文档指纹或者shingle的方法判别</li><li>忽略那些已经在索引中的重复页面</li></ul> 
<h4><a id="4__364"></a>4. 作弊页面、采集器陷阱处理</h4> 
<ul><li>一些恶意的服务器可以产生无穷的链接网页序列</li><li>一些复杂的采集器陷阱产生的页面不能简单地判断为动态页面</li></ul> 
<blockquote> 
 <p><strong>作弊方法：</strong><br> 背景文字、超小号文字<br> 链接重定向<br> 故意制作大量的链接指向一个网址<br> 使用程序机在web2.0等网站大量的群发指向您某网站的链接<br> 通过扫描网站漏洞在高质量站点中加入隐藏链接<br> 不具推荐意义的交换链接等等</p> 
</blockquote> 
<h4><a id="5__376"></a>5. 礼貌性、新鲜度</h4> 
<ul><li>礼貌性: 不要非常频繁第访问某个Web服务器（比如，可以在两次服务器访问之间设置一个时间间隔）</li><li>新鲜度: 对某些网站的采集频率(如新闻网站)要高于其他网站（实现上述功能并不容易，一个简单的优先级队列难以成功）</li></ul> 
<h5><a id="1_379"></a>（1）爬行周期的确定</h5> 
<p><img src="https://images2.imgbox.com/e9/e6/oxewDhcW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="1_381"></a>（1）爬行器要遵守采集协议</h5> 
<p><img src="https://images2.imgbox.com/c4/b5/LnWZJOVk_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/da/6f/Wn2Zulvm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Spider_384"></a>（四）网站运营者对Spider的态度</h3> 
<p><img src="https://images2.imgbox.com/c4/37/0CGFVuW1_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="WebSpider_386"></a>（五）Web-Spider总结</h3> 
<p>任意一个Spider应该做到：</p> 
<p>（1）能够进行分布式处理<br> （2）支持规模的扩展：能够通过增加机器支持更高的采集速度<br> （3）优先采集高质量网页<br> （4）能够持续运行：不断进行更新</p> 
<h2><a id="_394"></a>五、相关反馈和查询扩展</h2> 
<h3><a id="_395"></a>（一）问题背景</h3> 
<ol><li> <p>用户有明确的查询目的，但是用户不知道如何构造好的查询，因此，初始查询往往不能很好地表达其查询需求</p> 
  <blockquote> 
   <p>用户没有经验 <br> 查询的表达方式很多 <br> 对检索系统不熟悉 <br> 对目标文档分布不熟悉</p> 
  </blockquote> </li><li> <p>用户不知道要具体查询什么，需要查看结果以后才逐渐细化</p> </li></ol> 
<p><strong>优化目标：提高召回率</strong><br> <strong>提高召回率的方法：</strong></p> 
<ul><li>局部方法：对用户查询进行局部的即时的分析 —— 相关反馈</li><li>全局方法：进行一次性的全局分析(比如分析整个文档集)来产生同/近义词词典 —— 利用该词典进行查询扩展</li></ul> 
<h3><a id="___408"></a>（二）局部方法 —— 相关反馈</h3> 
<h4><a id="1__409"></a>1. 基本思想</h4> 
<ul><li>用户提交一个(简短的)查询，搜索引擎返回一系列文档</li><li>用户将部分返回文档标记为相关的，将部分文档标记为不相关的</li><li>搜索引擎根据标记结果计算得到信息需求的一个新查询表示。</li><li>搜索引擎对新查询进行处理，返回新结果，新结果可望（理想上说）有更高的召回率</li></ul> 
<h4><a id="2__415"></a>2. 相关反馈分类</h4> 
<h5><a id="1_416"></a>（1）显式相关反馈</h5> 
<p><strong>概念：</strong> 用户相关反馈或显式相关反馈(User Feedback or Explicit Feedback): 用户显式参加交互过程</p> 
<h5><a id="2_419"></a>（2）隐式相关反馈</h5> 
<p><strong>概念：</strong> 系统跟踪用户的行为来推测返回文档的相关性，从而进行反馈。<br> <img src="https://images2.imgbox.com/f7/87/LJ6FXG54_o.png" alt="在这里插入图片描述"><br> <strong>用户行为种类：</strong></p> 
<ul><li> <p>鼠标键盘操作<br> 点击链接、加入收藏夹、拷贝粘贴、停留、翻页等等</p> </li><li> <p>用户眼球动作<br> Eye tracking可以跟踪用户的眼球动作<br> 拉近、拉远、瞟、凝视、往某个方向转</p> </li></ul> 
<p><strong>隐式相关反馈的优缺点：</strong><br> （1）优点</p> 
<ul><li>不需要用户显式参与，减轻用户负担</li><li>用户行为某种程度上反映用户的兴趣，具有可行性</li></ul> 
<p>（2）缺点</p> 
<ul><li>对行为分析有较高要求</li><li>准确度不一定能保证</li><li>某些情况下需要增加额外设备</li></ul> 
<h5><a id="3_440"></a>（3）伪相关反馈或盲相关反馈</h5> 
<p><strong>概念：</strong> 没有用户参与，系统直接假设返回文档的前k篇是相关的，然后进行反馈。</p> 
<p><img src="https://images2.imgbox.com/52/58/CT8PsMre_o.png" alt="在这里插入图片描述" width="400"><br> <strong>伪相关反馈优缺点小结：</strong></p> 
<p>（1）优点</p> 
<ul><li>不用考虑用户的因素，处理简单</li><li>很多实验也取得了较好效果</li></ul> 
<p>（2）缺点</p> 
<ul><li>没有通过用户判断，所以准确率难以保证</li><li>不是所有的查询都会提高效果</li></ul> 
<h4><a id="3__454"></a>3. 相关反馈的特点</h4> 
<ul><li>相关反馈可以循环若干次</li><li>不仅仅局限于文档</li></ul> 
<h4><a id="4____457"></a>4. 核心概念 —— 质心</h4> 
<p><strong>文档质心的计算：</strong><br> <img src="https://images2.imgbox.com/ca/ad/408QUlmZ_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="5___Rocchio_460"></a>5. 相关反馈的实现方式 —— Rocchio算法</h4> 
<p><img src="https://images2.imgbox.com/1f/74/kf6GoK3n_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ac/c8/JsKF7JqS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a6/10/trFYN67D_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/ce/Wy952j30_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/45/2f/JRZgVu5T_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bb/79/SJS8QQ0a_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/be/f8/NCup8sZ2_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="6__469"></a>6. 反馈的处理方式</h4> 
<p><img src="https://images2.imgbox.com/01/df/3GWgCXqP_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7____471"></a>7. 相关反馈能够提高召回率的条件 —— 基于假设</h4> 
<p><img src="https://images2.imgbox.com/b7/d7/eky5dJfb_o.png" alt="在这里插入图片描述" width="400"></p> 
<p><img src="https://images2.imgbox.com/a3/d2/eqJqv5X6_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="8__475"></a>8. 相关反馈的评价</h4> 
<p><img src="https://images2.imgbox.com/42/1e/hGdWQrSK_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="9__477"></a>9. 相关反馈存在的问题</h4> 
<p><img src="https://images2.imgbox.com/8f/a1/ZVIvPPxq_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="10____479"></a>10. 相关反馈 —— 新查询词的选择</h4> 
<p>根据相关反馈修改查询条件的方法，判断哪些词应该加入到查询条件中。</p> 
<h5><a id="1_481"></a>（1）基于局部聚类的方法</h5> 
<p><img src="https://images2.imgbox.com/bc/a2/NAiduQKb_o.png" alt="在这里插入图片描述"><br> <strong>基于簇的查询扩展 —— 簇的相关概念介绍：</strong><br> 簇中的不同term互称为邻居（neighborhood），或者搜索同义项（searchonym），有别于语法意义上的同义词。</p> 
<h6><a id="__485"></a>—— 关联簇介绍</h6> 
<p><img src="https://images2.imgbox.com/07/6e/7XB97Uu6_o.png" alt="在这里插入图片描述" width="380"><br> <img src="https://images2.imgbox.com/a1/23/7Na67Lq1_o.png" alt="在这里插入图片描述" width="360"><br> <strong>局部聚类的缺点：</strong><br> 计算的是 q 中每个 term和所有 term 之间的相似度，而不是计算 q 和所有 term 的相似度。</p> 
<h5><a id="2_491"></a>（2）基于局部上下文分析的方法</h5> 
<p><strong>核心思想：</strong><br> 在局部文档中计算出和查询 q 最相近的 term 进行扩展。</p> 
<p><strong>三个步骤：</strong></p> 
<p><img src="https://images2.imgbox.com/3a/32/1WvDGi1O_o.png" alt="在这里插入图片描述"><br> <strong>q和c的相似度计算：</strong><br> <img src="https://images2.imgbox.com/fc/e3/CIj9Wmmg_o.png" alt="在这里插入图片描述" width="380"><br> <strong>LCA的使用：</strong><br> <img src="https://images2.imgbox.com/bd/8f/JqNUT0eK_o.png" alt="在这里插入图片描述" width="550"></p> 
<h3><a id="___502"></a>（三）全局方法 —— 查询拓展</h3> 
<h4><a id="1__503"></a>1. 概念介绍</h4> 
<p>我们使用 “全局查询扩展” 来指那些 “查询重构(query reformulation)的全局方法”。<br> <strong>主要使用的信息：</strong> 同义词或近义词<br> 在全局扩展查询中，查询基于一些全局的资源进行修改，这些资源与查询无关。<br> <strong>同义词或近义词词典的构建方法：</strong> 【人工构建】 和 【自动构建】<br> <strong>基于基于同(近)义词词典的查询扩展：</strong><br> <img src="https://images2.imgbox.com/68/f2/TjqLwfIm_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="2__512"></a>2. 查询扩展的类型</h4> 
<h5><a id="21__513"></a>2-1. 人工构建的同（近）义词词典</h5> 
<p>人工编辑人员维护的词典</p> 
<h5><a id="22__515"></a>2-2. 自动导出的同（近）义词词典</h5> 
<p>比如，基于词语的共现统计信息</p> 
<h6><a id="_517"></a>词典的自动构建方式：</h6> 
<p><code>通过分析文档集中的词项分布来自动生成同（近）义词词典</code><br> <code>基本想法：计算词语之间的【相似度】</code></p> 
<ul><li>相似度的衡量：<br> <img src="https://images2.imgbox.com/b1/1c/K5Yll0Np_o.png" alt="在这里插入图片描述" width="450"></li><li>相似度的定义</li></ul> 
<p>对于所有N篇文档，考虑其矩阵表示<br> <code>文档的矩阵表示</code><br> <img src="https://images2.imgbox.com/05/20/t1vQz2NI_o.png" alt="在这里插入图片描述"></p> 
<p>N：文档数目<br> t：整个文档集中的term数目<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          t 
         
        
          j 
         
        
       
      
        t_j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.901188em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ：文档 d_j 中的不同 term 数目<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         i 
        
       
         t 
        
        
        
          f 
         
        
          j 
         
        
       
         = 
        
       
         l 
        
       
         o 
        
       
         g 
        
        
         
         
           t 
          
          
          
            t 
           
          
            j 
           
          
         
        
       
      
        itf_j = log \dfrac{t}{t_j} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.26419em; vertical-align: -0.972108em;"></span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.29208em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.972108em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>，为文档<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          d 
         
        
          j 
         
        
       
      
        d_j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>的逆term频率<br> 每个<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          w 
         
         
         
           i 
          
         
           , 
          
         
           j 
          
         
        
       
      
        w_{i,j} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>表示的是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
        
        
          k 
         
        
          i 
         
        
       
         , 
        
        
        
          d 
         
        
          j 
         
        
       
         ] 
        
       
      
        [k_i, d_j] 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>对应的权重（term<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          i 
         
        
       
      
        k_i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>在文档<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          d 
         
        
          j 
         
        
       
      
        d_j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>中的权重）；<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          f 
         
         
         
           i 
          
         
           , 
          
         
           j 
          
         
        
       
      
        f_{i,j} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.10764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>为term<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          i 
         
        
       
      
        k_i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>在文档<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          d 
         
        
          j 
         
        
       
      
        d_j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.980548em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>中的频度</p> 
<p><code>term之间的相似度计算</code><br> 将上述矩阵的地<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         i 
        
       
      
        i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span>行看成term <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          i 
         
        
       
      
        k_i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>的一个向量表示<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
         
         
           k 
          
         
           i 
          
         
        
          ⃗ 
         
        
       
      
        \vec{k_i} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.12744em; vertical-align: -0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.97744em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.26344em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.2355em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
            <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
             <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
            </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span><br> 计算 term <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          u 
         
        
       
      
        k_u 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          v 
         
        
       
      
        k_v 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>之间的相似度，可以采用内积计算方法，至此，可以得到term相似度矩阵。<br> 至此，可以得到term相似度矩阵。其中的u行v列为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           c 
          
          
          
            u 
           
          
            , 
           
          
            v 
           
          
         
        
          = 
         
         
          
          
            k 
           
          
            u 
           
          
         
           ⃗ 
          
         
        
          ⋅ 
         
         
          
          
            k 
           
          
            v 
           
          
         
           ⃗ 
          
         
        
          = 
         
         
         
           ∑ 
          
          
          
            ∀ 
           
           
           
             d 
            
           
             j 
            
           
          
         
         
         
           w 
          
          
          
            u 
           
          
            , 
           
          
            j 
           
          
         
        
          × 
         
         
         
           w 
          
          
          
            v 
           
          
            , 
           
          
            j 
           
          
         
        
       
         c_{u,v} = \vec{k_u} \cdot \vec{k_v} = \sum_{\forall d_j}w_{u,j} \times w_{v,j} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.12744em; vertical-align: -0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.97744em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.26344em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.2355em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.12744em; vertical-align: -0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.97744em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.26344em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.2355em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.54944em; vertical-align: -1.49943em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.05001em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∀</span><span class="mord mtight"><span class="mord mathdefault mtight">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328086em;"><span class="" style="top: -2.357em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.281886em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.49943em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></p> 
<p><code>查询q和term之间的相似度计算</code><br> 将q向量化，对于q总的每个term <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          i 
         
        
       
      
        k_i 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，可以利用前面计算<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
        
        
          k 
         
        
          i 
         
        
       
         , 
        
        
        
          d 
         
        
          j 
         
        
       
         ] 
        
       
      
        [k_i, d_j] 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span>权重的公式计算权重<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          w 
         
         
         
           i 
          
         
           , 
          
         
           q 
          
         
        
       
      
        w_{i,q} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，从而得到q的向两边表示：<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          q 
         
        
          ⃗ 
         
        
       
         = 
        
        
        
          ∑ 
         
         
         
           ∀ 
          
          
          
            k 
           
          
            i 
           
          
         
           ∈ 
          
         
           q 
          
         
        
        
        
          w 
         
         
         
           i 
          
         
           , 
          
         
           q 
          
         
        
        
         
         
           k 
          
         
           i 
          
         
        
          ⃗ 
         
        
       
      
        \vec{q} = \sum_{\forall k_i \in q}w_{i,q}\vec{k_i} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.90844em; vertical-align: -0.19444em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.714em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">q</span></span></span><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.15216em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
            <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
             <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
            </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.19444em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.41326em; vertical-align: -0.435818em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.186398em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∀</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328086em;"><span class="" style="top: -2.357em; margin-left: -0.03148em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.435818em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.97744em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.26344em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.2355em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
            <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
             <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
            </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></p> 
<p>q和任意term<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          k 
         
        
          v 
         
        
       
      
        k_v 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>之间的相似度 sim ：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          s 
         
        
          i 
         
        
          m 
         
        
          ( 
         
        
          q 
         
        
          , 
         
         
         
           k 
          
         
           v 
          
         
        
          ) 
         
        
          = 
         
         
         
           q 
          
         
           ⃗ 
          
         
        
          ⋅ 
         
         
          
          
            k 
           
          
            v 
           
          
         
           ⃗ 
          
         
         
        
          = 
         
         
         
           ∑ 
          
          
           
           
             k 
            
           
             u 
            
           
          
            ∈ 
           
          
            q 
           
          
         
         
         
           w 
          
          
          
            u 
           
          
            , 
           
          
            q 
           
          
         
        
          × 
         
         
         
           k 
          
         
           u 
          
         
        
          ⋅ 
         
         
         
           k 
          
         
           v 
          
         
         
        
          = 
         
         
         
           ∑ 
          
          
           
           
             k 
            
           
             u 
            
           
          
            ∈ 
           
          
            q 
           
          
         
         
         
           w 
          
          
          
            u 
           
          
            , 
           
          
            q 
           
          
         
        
          × 
         
         
         
           c 
          
          
          
            u 
           
          
            , 
           
          
            v 
           
          
         
        
       
         sim(q,k_v) = \vec{q} \cdot \vec{k_v} \\ =\sum_{k_u \in q}w_{u,q} \times k_u \cdot k_v \\ =\sum_{k_u\in q} w_{u,q} \times c_{u,v} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">q</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.90844em; vertical-align: -0.19444em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.714em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">q</span></span></span><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.15216em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.19444em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1.12744em; vertical-align: -0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.97744em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span><span class="" style="top: -3.26344em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.2355em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.48823em; vertical-align: -1.43822em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.05001em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.164543em;"><span class="" style="top: -2.357em; margin-left: -0.03148em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.43822em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.48823em; vertical-align: -1.43822em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.05001em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.164543em;"><span class="" style="top: -2.357em; margin-left: -0.03148em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.43822em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></p> 
<p><code>利用 sim 进行查询扩展</code></p> 
<ol><li>选择sim值最高的r个term</li><li>加入到原始查询中新查询q’</li><li>新加入的term <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           k 
          
         
           v 
          
         
        
       
         k_v 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.84444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.03148em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>的权重设置为：<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           w 
          
          
          
            v 
           
          
            , 
           
           
           
             q 
            
           
             ′ 
            
           
          
         
        
          = 
         
         
          
          
            s 
           
          
            i 
           
          
            m 
           
          
            ( 
           
          
            q 
           
          
            , 
           
           
           
             k 
            
           
             v 
            
           
          
            ) 
           
          
          
           
           
             ∑ 
            
            
             
             
               k 
              
             
               u 
              
             
            
              ∈ 
             
            
              q 
             
            
           
           
           
             w 
            
            
            
              u 
             
            
              , 
             
            
              q 
             
            
           
          
         
        
       
         w_{v,q'} = \frac{sim(q,k_v)}{\sum_{k_u\in q}w_{u,q}} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.716668em; vertical-align: -0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.32798em;"><span class="" style="top: -2.55em; margin-left: -0.02691em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.682829em;"><span class="" style="top: -2.786em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.68001em; vertical-align: -0.670007em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.01em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.17459em;"><span class="" style="top: -2.17856em; margin-left: 0em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.23056em;"><span class="" style="top: -2.3em; margin-left: -0.03148em; margin-right: 0.1em;"><span class="pstrut" style="height: 2.5em;"></span><span class="mord mathdefault mtight">u</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2em;"><span class=""></span></span></span></span></span></span><span class="mrel mtight">∈</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.464296em;"><span class=""></span></span></span></span></span></span><span class="mspace mtight" style="margin-right: 0.195167em;"></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.164543em;"><span class="" style="top: -2.357em; margin-left: -0.02691em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">u</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.281886em;"><span class=""></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.485em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">m</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">q</span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.164543em;"><span class="" style="top: -2.357em; margin-left: -0.03148em; margin-right: 0.0714286em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.143em;"><span class=""></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.670007em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></li></ol> 
<h4><a id="3__560"></a>3. 搜索引擎中的查询扩展</h4> 
<p>搜索引擎进行查询扩展<strong>主要依赖的资源：</strong> 查询日志（query log）<br> <img src="https://images2.imgbox.com/e3/08/YscZo0u4_o.png" alt="在这里插入图片描述" width="400"></p> 
<h3><a id="_563"></a>（四）本讲小结</h3> 
<ul><li>交互式相关反馈：</li></ul> 
<p>在初始检索结果的基础上，通过用户交互指定哪些文档相关或不相关，然后改进检索的结果</p> 
<ul><li> <p>最著名的相关反馈算法：Rocchio算法</p> </li><li> <p>查询扩展：</p> </li></ul> 
<p>通过在查询中加入同义词或者相关的词项来提高检索结果<br> - 相关词项的来源：人工编辑的同义词词典，自动构造的同义词词典，查询日志等</p> 
<h2><a id="WebPageRankHITS_576"></a>六、Web页面的评分机制（PageRank和HITS）</h2> 
<h3><a id="Web_577"></a>（一）Web页面中的链接</h3> 
<p><img src="https://images2.imgbox.com/88/99/Ewn5Yeo8_o.png" alt="在这里插入图片描述" width="450"></p> 
<h3><a id="PageRank_579"></a>（二）PageRank</h3> 
<h4><a id="1__580"></a>1. 随机冲浪模型的简化模型</h4> 
<p>前提假设：不返回已经浏览过的页面<br> 模型：给定一个随机页面，按照页面提供的链接向前浏览的概率为q，在浏览厌烦之后随机跳到其它页面的概率为1-q<br> PageRank值：浏览每个页面的概率分配</p> 
<h5><a id="1PageRank1_586"></a>（1）PageRank公式1</h5> 
<p><img src="https://images2.imgbox.com/22/2f/cxEfVdQe_o.png" alt="在这里插入图片描述" width="400"><br> <img src="https://images2.imgbox.com/36/95/h7xJSbB9_o.png" alt="在这里插入图片描述" width="500"></p> 
<h5><a id="2PageRank2_589"></a>（2）PageRank公式2</h5> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
         
           r 
          
         
           ⃗ 
          
         
        
          : 
         
        
          = 
         
        
          ( 
         
        
          q 
         
        
          A 
         
        
          + 
         
         
          
          
            1 
           
          
            − 
           
          
            q 
           
          
         
           N 
          
         
        
          I 
         
        
          ) 
         
         
         
           r 
          
         
           ⃗ 
          
         
        
       
         \vec{r} := (qA + \frac{1-q}{N}I)\vec{r} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.714em; vertical-align: 0em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.17994em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">:</span></span><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right: 0.03588em;">q</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 2.00744em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.32144em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">q</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mclose">)</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.714em;"><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span></span></span><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="accent-body" style="left: -0.17994em;"><span class="overlay" style="height: 0.714em; width: 0.471em;"> 
             <svg width="0.471em" height="0.714em" style="width:0.471em" viewbox="0 0 471 714" preserveaspectratio="xMinYMin"> 
              <path d="M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z"></path> 
             </svg></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<h6><a id="_593"></a>例子</h6> 
<p><img src="https://images2.imgbox.com/13/c8/5zFmiFUL_o.png" alt="在这里插入图片描述" width="200"><br> （1）定义链接矩阵<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
      
        A 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault">A</span></span></span></span></span><br> <img src="https://images2.imgbox.com/1d/cb/acKC4RCa_o.jpg" alt="在这里插入图片描述" width="450"><br> （2）定义迭代过程<br> <img src="https://images2.imgbox.com/5f/ff/ZYds0j3r_o.jpg" alt="在这里插入图片描述"><br> （3）公式2和公式1的对比<br> 公式1：将从某一个页面链接到的其他页面的页面PageRank都当成了1；<br> 公式2：还原了被链接页面的PageRank值；</p> 
<p>（4）求解<br> <img src="https://images2.imgbox.com/ad/a5/VzEuytOn_o.png" alt="在这里插入图片描述" width="400"><br> <img src="https://images2.imgbox.com/86/95/Be9gVYBw_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ea/d1/ThVEFkVH_o.png" alt="在这里插入图片描述" width="550"></p> 
<h4><a id="2__607"></a>2. 锚文本</h4> 
<p><img src="https://images2.imgbox.com/4f/97/tqMsqTYq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6a/0b/gwRF81PP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7c/de/zN7nX7vT_o.png" alt="在这里插入图片描述"><br> PageRank背后的假设：</p> 
<ol><li>Web上的链接是网页质量的标志 —— 链出网页的作者认为链向的网页具有很高的质量</li></ol> 
<ul><li>故意制作大量的链接指向一个网址</li><li>链接重定向</li><li>使用程序机在web2.0等网站大量的群发指向您网站的链接</li><li>通过扫描网站漏洞在高质量站点中加入隐藏链接</li><li>不具推荐意义的交换链接等等</li></ul> 
<ol start="2"><li> <p>锚文本能够描述链向网页的内容</p> <p>Google炸弹<br> 指的是这样一种情况：<br> （1）数目众多的网页链接指向某一个URL<br> （2）这些链接都使用特定锚文本做链接文字<br> （3）被链接的URL中一般并不包含这个锚文本，内容与<br> 其也基本无关<br> （4）达到效果就是这个被链接的URL在这个特定锚文本<br> 下，搜索引擎排名急剧上升，很多时候都排到第一</p> </li></ol> 
<p><img src="https://images2.imgbox.com/0e/f5/IFdkGbyB_o.png" alt="在这里插入图片描述" width="450"></p> 
<h4><a id="3_PageRank_633"></a>3. PageRank的一些数据结论</h4> 
<p><img src="https://images2.imgbox.com/a0/f2/5q4hYlsd_o.png" alt="在这里插入图片描述" width="450"></p> 
<h3><a id="Hypertext_Induced_Topic_Search_HITS_635"></a>（二）Hypertext Induced Topic Search (HITS)</h3> 
<p><strong>目标：</strong> 找到有关某个特定主题的权威页面（authorities）<br> <strong>思想：</strong> 在Web上存在 hubs 和 authorities页面，它们彼此之间是互相增强的关系<br> <img src="https://images2.imgbox.com/c9/6a/6n7U9RH7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6a/6c/RhDfJxF9_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/79/32/dozMVJex_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9f/26/C6U0t4au_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ac/89/kurelYIa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6f/9d/WgSQ9vY8_o.png" alt="在这里插入图片描述" width="400"></p> 
<h2><a id="_644"></a>七、文本处理</h2> 
<p><strong>文本的表示：</strong> 不论是文档还是查询，都要表示成索引词（index term）的某种形式（布尔表达式、向量、概率等）<br> <strong>问题：</strong><br> 抽取什么样的词语作为 index term ?<br> 如何索引？</p> 
<h3><a id="_650"></a>（一）词法分析</h3> 
<p>功能：将文档的字符串序列变成词序列</p> 
<ul><li>英文词法分析：通过空格分隔 —— 容易</li><li>中文词法分析：书写时通常没有空格，需要分词</li></ul> 
<h4><a id="1_httpsimgblogcsdnimgcnd295df6208134739a4a392bb859d970fpngxossprocessimagewatermarktype_ZHJvaWRzYW5zZmFsbGJhY2sshadow_50text_Q1NETiBAVmljdGF5cmlhsize_20color_FFFFFFt_70g_sex_16_655"></a>1. 英文词法分析<img src="https://images2.imgbox.com/c2/e4/eGa77iEE_o.png" alt="在这里插入图片描述"></h4> 
<p><img src="https://images2.imgbox.com/48/ad/1GMwSoCu_o.png" alt="在这里插入图片描述" width="50%"></p> 
<h4><a id="2__657"></a>2. 中文词法分析</h4> 
<p><img src="https://images2.imgbox.com/6c/cf/zVK03DVM_o.png" alt="在这里插入图片描述" width="50%"><br> <img src="https://images2.imgbox.com/c2/53/xRDgMZPE_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d0/be/KlaOHqKz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_661"></a>（二）停用词消除</h3> 
<p><img src="https://images2.imgbox.com/77/69/6x9W0Bxt_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_663"></a>（三）英文词干还原</h3> 
<p><img src="https://images2.imgbox.com/a1/4f/HMONAvWH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/49/35/t9WY9czu_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/93/0c/fUCHKrYq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/94/8d/CQg6hyDp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/52/70/7WhziYw0_o.png" alt="在这里插入图片描述" width="50%"></p> 
<h3><a id="Term_669"></a>（四）Term选择</h3> 
<p>选择更有意义的词或者概念来表示文档<br> （1）选择名词<br> （2）选择短语<br> （3）选择一组组的名词<br> （每个组内的名词比较相似，一个组可以称为一个概念）</p> 
<h2><a id="_676"></a>八、文本索引</h2> 
<p><strong>检索效率问题：</strong></p> 
<ul><li>检索面对的搜索基本问题：给定一个查询串，在文档集合里面搜索出现这些查询串的文档。</li><li>解决该问题的效率将影响检索的效率。</li></ul> 
<h3><a id="_681"></a>（一）字符串匹配</h3> 
<p><strong>定义：</strong> 给定一个子串q,在字符串d中查找q所有出现的位置(有时只要判断是否出现即可)。q的长度假设为m，d的长度假设为n。</p> 
<ul><li>搜索问题转化为对每个查询q，在文档集合中搜索出现查询q的文档。</li><li>当文档集合规模不大时，通过字符串定位可以实现检索。如小型网站的全文检索。</li></ul> 
<p><strong>优点：</strong><br> 方法简单易行<br> 很方便地支持文档更新（增加和删除）<br> <strong>缺点：</strong><br> 效率不高</p> 
<h4><a id="_692"></a>相关方法</h4> 
<p><img src="https://images2.imgbox.com/85/ce/v2InabLc_o.png" alt="在这里插入图片描述" width="80%"><br> <img src="https://images2.imgbox.com/44/a5/Mcwo9WFk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_695"></a>（二）向前索引</h3> 
<p><strong>问题提出：</strong> 对文本进行预处理，防止对一篇文档直接进行费时费力的扫描。<br> <strong>核心思想：</strong> 将每篇文档表示成 DocID 及其文本内容组成的类向量模式。<br> <img src="https://images2.imgbox.com/36/d3/D5XVWwzF_o.png" alt="在这里插入图片描述" width="70%"><br> 仍然是依次扫描每个文档，但是对于一个字符串的多次出现不需要一一扫描，而且对同一文档内的字符串查找可以采用二分查找的方式，加快匹配过程。也就是说通过预处理的方式加快对每篇文档的匹配速度。</p> 
<h3><a id="_701"></a>（三）倒排索引</h3> 
<p><strong>问题提出：</strong> 使用前向索引，仍然需要一篇篇扫描每个文档，如果文档数目较多，那么就非常费时费力。【有没有一种方法能够直接从查询词定位到文档？—— 倒排索引】</p> 
<p><img src="https://images2.imgbox.com/68/03/ytYlOUlm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/c4/RYJnxJWP_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_706"></a>倒排索引的更新</h4> 
<p><img src="https://images2.imgbox.com/ba/1c/YW37gpka_o.png" alt="在这里插入图片描述" width="50%"></p> 
<h2><a id="_708"></a>九、多媒体检索</h2> 
<h3><a id="_709"></a>（一）多媒体检索概述</h3> 
<p><img src="https://images2.imgbox.com/cf/05/ThQFnL1r_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cc/ae/tJ7LHMmS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fc/91/KpEOZVKP_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/44/2c/RTV4o5Te_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/57/83/cHAVHYeb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/92/e0/4Sne8IzK_o.png" alt="在这里插入图片描述" width="55%"></p> 
<h3><a id="_716"></a>（二）声音检索</h3> 
<p><img src="https://images2.imgbox.com/ca/39/PPzNww8M_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/66/69/BQoxMgGK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_720"></a>（三）图像检索</h3> 
<p><img src="https://images2.imgbox.com/7b/3e/QjG6SuED_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/24/17/Q3Mjsrmw_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/28/30/CZrXeCLL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/eb/08/TG0J7s8W_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_726"></a>（四）视频检索</h3> 
<p><img src="https://images2.imgbox.com/e4/02/hRg2sWrQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/eb/d4/u24YnY18_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/396157f8f9ef36f82dfc9c28d238b079/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">go的比较</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c49ea460d4893a118f50d90a859beb72/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring Security---会话固定攻击防御</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>