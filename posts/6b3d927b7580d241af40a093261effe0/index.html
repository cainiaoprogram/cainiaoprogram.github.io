<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>tar 命令详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="tar 命令详解" />
<meta property="og:description" content="tar 命令
[root@linux ~]# tar [-cxtzjvfpPN] 文件与目录 ....
Usage: tar [OPTION...] [FILE]...
Examples:
tar -cf archive.tar foo bar # Create archive.tar from files foo and bar.
tar -tvf archive.tar # List all files in archive.tar verbosely.
tar -xf archive.tar # Extract all files from archive.tar.
更多帮助可以：man tar 或者 tar --help 查看帮助文档。
必选其中之一参数（而且 一次只能使用其中一个，不能同时使用多个）：
（这五个参数是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用，但一次只能用其中一个）
-c：建立一个压缩文件的参数指令(create 的意思)； -x：解开一个压缩文件的参数指令！ -t：查看 tarfile 里面的文件！ -r：向压缩归档文件末尾追加文件 -u：更新原压缩包中的文件 特别注意，在参数的下达中， c/x/t/r/u 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。
可选参数
下面的参数是根据需要在压缩或解压档案时可选的。
-z：有gzip属性,即需要用 gzip 压缩 -j：有bz2属性,即需要用 bzip2 压缩 -Z：有compress属性的 -v ：压缩的过程中显示文件(显示所有过程)！这个常用，但不建议用在背景执行过程！ -O：将文件解开到标准输出 -f ：使用档名，请留意，在 f 之后要立即接档名！不要再加参数！ 例如：使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成『 tar -zcvPf tfile sfile』才对喔！ -p ：使用原文件的原来属性（属性不会依据使用者而变） -P ：可以使用绝对路径来压缩！ -N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！ --exclude FILE：在压缩的过程中，不要将 FILE 打包！ -f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。 # tar -cf all." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6b3d927b7580d241af40a093261effe0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-12-03T14:14:30+08:00" />
<meta property="article:modified_time" content="2016-12-03T14:14:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">tar 命令详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p><strong><span style="color:#000000;">tar 命令</span></strong></p> 
<p></p> 
<p>[root@linux ~]# <strong><span style="color:#000000;">tar [-cxtzjvfpPN] 文件与目录 ....</span></strong><br> Usage: tar [OPTION...] [FILE]...<br> Examples:<br>         tar -cf archive.tar foo bar         # Create archive.tar from files foo and bar.<br>         tar -tvf archive.tar                    # List all files in archive.tar verbosely.<br>         tar -xf archive.tar                     # Extract all files from archive.tar.</p> 
<p>更多帮助可以：<strong>man tar</strong>  或者 <strong> tar --help</strong> 查看帮助文档。</p> 
<p></p> 
<p><strong><span style="color:#ff0000;">必选其中之一参数（而且 一次只能使用其中一个，不能同时使用多个）：</span><br><br><span style="color:#000000;">（这五个参数是独立的命令，压缩解压都要用到其中一个，可以和别的命令连用，但一次只能用其中一个）</span></strong></p> 
<pre class="has"><code class="language-plain">-c：建立一个压缩文件的参数指令(create 的意思)；  
-x：解开一个压缩文件的参数指令！  
-t：查看 tarfile 里面的文件！  
-r：向压缩归档文件末尾追加文件  
-u：更新原压缩包中的文件   </code></pre> 
<p><strong><span style="color:#000000;">特别注意，在参数的下达中， c/x/t/r/u 仅能存在一个！不可同时存在！因为不可能同时压缩与解压缩。</span></strong></p> 
<p></p> 
<p></p> 
<p><strong><span style="color:#000000;">可选参数</span></strong></p> 
<p>下面的参数是根据需要在压缩或解压档案时可选的。</p> 
<pre class="has"><code class="language-plain">-z：有gzip属性,即需要用 gzip 压缩  
-j：有bz2属性,即需要用 bzip2 压缩  
-Z：有compress属性的  
-v ：压缩的过程中显示文件(显示所有过程)！这个常用，但不建议用在背景执行过程！  
-O：将文件解开到标准输出  
-f ：使用档名，请留意，在 f 之后要立即接档名！不要再加参数！
       例如：使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成『 tar -zcvPf tfile sfile』才对喔！ 
-p ：使用原文件的原来属性（属性不会依据使用者而变）  
-P ：可以使用绝对路径来压缩！  
-N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！  
--exclude FILE：在压缩的过程中，不要将 FILE 打包！    
-f: 使用档案名字，切记，这个参数是最后一个参数，后面只能接档案名。 </code></pre> 
<p># tar -cf all.tar *.jpg      // 这条命令是将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名。  <br> # tar -rf all.tar *.gif         // 这条命令是将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思。   <br> # tar -uf all.tar logo.gif   // 这条命令是更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思。   <br> # tar -tf all.tar                 // 这条命令是列出all.tar包中所有文件，-t是列出文件的意思   <br> # tar -xf all.tar                 // 这条命令是解出all.tar包中所有文件，-x是解开的意思  </p> 
<p></p> 
<p><span style="color:#000000;"><strong>查看</strong></span></p> 
<pre class="has"><code class="language-plain">tar -tf aaa.tar.gz    // 在不解压的情况下查看压缩包的内容 </code></pre> 
<p></p> 
<p><span style="color:#000000;"><strong>压缩</strong></span></p> 
<pre class="has"><code class="language-plain">tar -cvf jpg.tar *.jpg       // 将目录里所有jpg文件打包成tar.jpg  
tar -czf jpg.tar.gz *.jpg    // 将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，
                                生成一个gzip压缩过的包，命名为jpg.tar.gz  
tar -cjf jpg.tar.bz2 *.jpg   // 将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，
                                生成一个bzip2压缩过的包，命名为jpg.tar.bz2  
tar -cZf jpg.tar.Z *.jpg     // 将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，
                                生成一个umcompress压缩过的包，命名为jpg.tar.Z  </code></pre> 
<p></p> 
<p><strong><span style="color:#000000;">解压</span></strong></p> 
<pre class="has"><code class="language-plain">tar -xvf file.tar         // 解压 tar包
tar -zxvf file.tar.gz     // 解压 tar.gz  
tar -jxvf file.tar.bz2    // 解压 tar.bz2  
tar -Zxvf file.tar.Z      // 解压 tar.Z  </code></pre> 
<p>1、*.tar                       用 tar -xvf 解压<br> 2、*.gz                        用 gzip -d 或者 gunzip 解压<br> 3、*.tar.gz 和 *.tgz      用 tar -xzf 解压<br> 4、*.bz2                      用 bzip2 -d 或者用 bunzip2 解压<br> 5、*.tar.bz2                 用 tar -xjf 解压<br> 6、*.Z                          用 uncompress 解压<br> 7、*.tar.Z                     用 tar -xZf 解压</p> 
<p></p> 
<p><strong><span style="color:#000000;">范例：</span></strong></p> 
<p>(下面示例摘自《鸟哥的Linux私房菜基础篇》。鸟哥官网：<a href="http://linux.vbird.org" rel="nofollow" title="鳥哥的 Linux 私房菜 -- 鳥哥的 Linux 私房菜 首頁">鳥哥的 Linux 私房菜 -- 鳥哥的 Linux 私房菜 首頁</a>)</p> 
<pre class="has"><code class="language-plain">范例一：将整个 /etc 目录下的文件全部打包成为 /tmp/etc.tar  
[root@linux ~]# tar -cvf /tmp/etc.tar /etc      &lt;==仅打包，不压缩！  
[root@linux ~]# tar -zcvf /tmp/etc.tar.gz /etc  &lt;==打包后，以 gzip 压缩  
[root@linux ~]# tar -jcvf /tmp/etc.tar.bz2 /etc &lt;==打包后，以 bzip2 压缩  
# 特别注意，在参数 f 之后的文件档名是自己取的，我们习惯上都用 .tar 来作为辨识。  
# 如果加 z 参数，则以 .tar.gz 或 .tgz 来代表 gzip 压缩过的 tar file ～  
# 如果加 j 参数，则以 .tar.bz2 来作为附档名啊～  
# 上述指令在执行的时候，会显示一个警告讯息：  
# 『tar: Removing leading `/' from member names』那是关於绝对路径的特殊设定。  
  
范例二：查阅上述 /tmp/etc.tar.gz 文件内有哪些文件？  
[root@linux ~]# tar -ztvf /tmp/etc.tar.gz  
# 由於我们使用 gzip 压缩，所以要查阅该 tar file 内的文件时，  
# 就得要加上 z 这个参数了！这很重要的！  
  
范例三：将 /tmp/etc.tar.gz 文件解压缩在 /usr/local/src 底下  
[root@linux ~]# cd /usr/local/src  
[root@linux src]# tar -zxvf /tmp/etc.tar.gz  
# 在预设的情况下，我们可以将压缩档在任何地方解开的！以这个范例来说，  
# 我先将工作目录变换到 /usr/local/src 底下，并且解开 /tmp/etc.tar.gz ，  
# 则解开的目录会在 /usr/local/src/etc 呢！另外，如果您进入 /usr/local/src/etc  
# 则会发现，该目录下的文件属性与 /etc/ 可能会有所不同喔！  
  
范例四：在 /tmp 底下，我只想要将 /tmp/etc.tar.gz 内的 etc/passwd 解开而已  
[root@linux ~]# cd /tmp  
[root@linux tmp]# tar -zxvf /tmp/etc.tar.gz etc/passwd  
# 我可以透过 tar -ztvf 来查阅 tarfile 内的文件名称，如果单只要一个文件，  
# 就可以透过这个方式来下达！注意到！ etc.tar.gz 内的根目录 / 是被拿掉了！  
  
范例五：将 /etc/ 内的所有文件备份下来，并且保存其权限！  
[root@linux ~]# tar -zcvpf /tmp/etc.tar.gz /etc  
# 这个 -p 的属性是很重要的，尤其是当您要保留原本文件的属性时！  
  
范例六：在 /home 当中，比 2005/06/01 新的文件才备份  
[root@linux ~]# tar -N '2005/06/01' -zcvf home.tar.gz /home  
  
范例七：我要备份 /home, /etc ，但不要 /home/dmtsai  
[root@linux ~]# tar --exclude /home/dmtsai -zcvf myfile.tar.gz /home/* /etc  
  
范例八：将 /etc/ 打包后直接解开在 /tmp 底下，而不产生文件！  
[root@linux ~]# cd /tmp  
[root@linux tmp]# tar -cvf - /etc | tar -xvf -  
# 这个动作有点像是 cp -r /etc /tmp 啦～依旧是有其有用途的！  
# 要注意的地方在於输出档变成 - 而输入档也变成 - ，又有一个 | 存在～  
# 这分别代表 standard output, standard input 与管线命令啦！  
# 这部分我们会在 Bash shell 时，再次提到这个指令跟大家再解释啰！ </code></pre> 
<p></p> 
<p><strong><span style="color:#000000;">gzip 的压缩详解</span></strong></p> 
<pre class="has"><code class="language-plain">gunzip的用法格式 
        gunzip [-acfhlLnNqrtvV][-s ][文件...]   
    或者
        gunzip [-acfhlLnNqrtvV][-s ][目录] 

主要参数
-a 或 --ascii：使用ASCII文字模式。   
-c 或 --stdout 或 --to-stdout：把解压后的文件输出到标准输出设备。   
-f 或 -force： 强行解开压缩文件，不理会文件名称或硬连接是否存在，以及该文件是否为符号连接。   
-h 或 --help： 在线帮助。   
-l 或 --list： 列出压缩文件的相关信息。   
-L 或 --license： 显示版本与版权信息。   
-n 或 --no-name： 解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其忽略不予处理。   
-N 或 --name： 解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其回存到解开的文件上。   
-q 或 --quiet：不显示警告信息。   
-r 或 --recursive： 递归处理，将指定目录下的所有文件及子目录一并处理。   
-S 或 --suffix：    更改压缩字尾字符串。   
-t 或 --test：      测试压缩文件是否正确无误。   
-v 或 --verbose：   显示指令执行过程。   
-V 或 --version：   显示版本信息。  

gzip -c filename &gt; filename.gz         // Linux压缩保留源文件的方法
gunzip -c filename.gz &gt; filename       // Linux解压缩保留源文件的方法</code></pre> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/580bf5e59a527b8f0547300e3dc91cbb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript Study 2（类型、值和变量）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6d8a27fa725b58ac6aa65a7b00a465fa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JVM实用参数_GC日志</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>