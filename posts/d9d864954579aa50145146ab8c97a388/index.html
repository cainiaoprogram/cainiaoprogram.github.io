<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>批量插入数据库数据脚本 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="批量插入数据库数据脚本" />
<meta property="og:description" content="插5w条数据到表里面，如果一条一条insert会很麻烦
mysql版本：
DELIMITER $$：这行代码设置了新的定界符为$$，以替代默认的分号;。这是因为存储过程中可能包含多个SQL语句，为了区分每个语句的结束，需要使用不同于默认分号的定界符。
CREATE PROCEDURE InsertData()：这行代码定义了一个名为InsertData的存储过程。CREATE PROCEDURE是用于创建存储过程的语句。InsertData是存储过程的名称，您可以根据需要进行更改。
BEGIN和END：这两行代码标记存储过程的开始和结束。
DECLARE i INT DEFAULT 1;：这行代码声明一个名为i的整数型变量，并将其初始值设为1。在循环中，我们将使用这个变量来迭代插入操作。
WHILE i &lt;= 10 DO和END WHILE;：这两行代码定义了一个循环结构，只要i小于等于10，循环内的代码块就会被执行。
INSERT INTO your_table (column1, column2) VALUES (value1, value2);：这行代码表示插入一条数据到名为your_table的表中。您需要将your_table替换为实际的表名，将column1和column2替换为要插入数据的列名，将value1和value2替换为具体的值。
SET i = i &#43; 1;这行代码将变量i的值递增1，以便进行下一次迭代。
最后，DELIMITER ;将定界符恢复为默认的分号;。
创建一个存储过程
DELIMITER $$
CREATE PROCEDURE insert_data()
BEGIN
DECLARE i INT DEFAULT 1;
WHILE i &lt;= 50000
DO
INSERT INTO your_table1(column1，column2) VALUES (value1, value2);
INSERT INTO your_table2(column1，column2) VALUES (value1, value2);
SET i = i &#43; 1;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d9d864954579aa50145146ab8c97a388/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T20:11:13+08:00" />
<meta property="article:modified_time" content="2024-01-04T20:11:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">批量插入数据库数据脚本</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>插5w条数据到表里面，如果一条一条insert会很麻烦</p> 
<p>mysql版本：</p> 
<ol><li> <p><code>DELIMITER $$</code>：这行代码设置了新的定界符为<code>$$</code>，以替代默认的分号<code>;</code>。这是因为存储过程中可能包含多个SQL语句，为了区分每个语句的结束，需要使用不同于默认分号的定界符。</p> </li><li> <p><code>CREATE PROCEDURE InsertData()</code>：这行代码定义了一个名为<code>InsertData</code>的存储过程。<code>CREATE PROCEDURE</code>是用于创建存储过程的语句。<code>InsertData</code>是存储过程的名称，您可以根据需要进行更改。</p> </li><li> <p><code>BEGIN</code>和<code>END</code>：这两行代码标记存储过程的开始和结束。</p> </li><li> <p><code>DECLARE i INT DEFAULT 1;</code>：这行代码声明一个名为<code>i</code>的整数型变量，并将其初始值设为1。在循环中，我们将使用这个变量来迭代插入操作。</p> </li><li> <p><code>WHILE i &lt;= 10 DO</code>和<code>END WHILE;</code>：这两行代码定义了一个循环结构，只要<code>i</code>小于等于10，循环内的代码块就会被执行。</p> </li><li> <p><code>INSERT INTO your_table (column1, column2) VALUES (value1, value2);</code>：这行代码表示插入一条数据到名为<code>your_table</code>的表中。您需要将<code>your_table</code>替换为实际的表名，将<code>column1</code>和<code>column2</code>替换为要插入数据的列名，将<code>value1</code>和<code>value2</code>替换为具体的值。</p> </li><li> <p><code>SET i = i + 1;</code>这行代码将变量<code>i</code>的值递增1，以便进行下一次迭代。</p> </li></ol> 
<p>最后，<code>DELIMITER ;</code>将定界符恢复为默认的分号<code>;</code>。</p> 
<blockquote> 
 <p>创建一个存储过程</p> 
 <p>DELIMITER $$<br> CREATE PROCEDURE insert_data()<br> BEGIN<br>     DECLARE i INT DEFAULT 1;<br>     WHILE i &lt;= 50000<br>         DO<br>             INSERT INTO <code>your_table1</code>(<code>column1</code>，<code>column2</code>) VALUES (value1, value2);<br>             INSERT INTO <code>your_table2</code>(<code>column1</code>，<code>column2</code>) VALUES (value1, value2);<br>             SET i = i + 1;<br>         END WHILE;<br> END $$<br> DELIMITER ;</p> 
 <p></p> 
 <p>用CALL执行这个存储过程</p> 
 <p>CALL insert_data();</p> 
 <p></p> 
 <p>最后删除掉这个存储过程即可，如果存储过程存在，则会被删除；如果不存在，则不会执行任何操作</p> 
 <p>DROP PROCEDURE IF EXISTS insert_data;</p> 
</blockquote> 
<p>oracle版本：</p> 
<blockquote> 
 <p>--增量<br> declare<br> i integer;--定义变量<br> begin<br> i :=1;<br> loop<br> insert into your_table(<code>column1,column2</code>) VALUES (value1,value2);<br> /*参数递增*/<br> i :=i+1;<br> /*停止条件*/<br> exit when i&gt;5000000;<br> end loop;<br> commit;<br> end;、</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/df629f4914b7c164997c0d0a9a599dfa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Fiber Golang 中的路由和中间件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dca4c93436da461836af1bf3611a4144/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Mybatis】我抄袭了Mybatis，手写一套MyMybatis框架：编写一个引入MyMybatis框架的正常项目</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>