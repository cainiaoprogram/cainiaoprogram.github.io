<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenCV实现SfM（一）：双目三维重建(包含SIFT特征点提取) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OpenCV实现SfM（一）：双目三维重建(包含SIFT特征点提取)" />
<meta property="og:description" content="三维重建介绍 三维重建是指根据基于一个视图或者多个视图所获得的物体或者场景的图像重建三维模型的过程。由于单视图的信息很单一,因此三维重建需要更复杂的算法和过程。相比之下，多视图的三维重建(模仿人类观察世界的方式)就比较容易实现,其方法是先对摄像机进行标定,即计算出摄像机的图像坐标系与世界坐标系的关系.然后利用多个二维图像中的信息重建出三维信息
1.根据摄像机（图片）数目划分：
对于基于图像的三维重建，主要有单目视觉法、双目视觉法、多目视觉法。
基于图像的三维重建是从若干幅图片计算提取出场景和物体的三维深度信息，根据获取的三维深度信息，重构出具备很强真实感的物体或者场景的三维模型的方法。
2.单幅图像的三维重建
目前，基于单幅图像三维重建最广泛和最实用的方法利用几何投影的原理进行重建。每一幅图像中含有的大量平行线、平行面、垂直线、垂直面、消失点、消失线等多种几何属性的约束，利用图像的这些几何约束进行摄像机标定或平面标定。进而估算出摄像机的内部各种参数、摄像机的焦距； 然后通过测量目标的几何形状或计算目标高度来估算出必需的深度信息; 最后利用几何投影知识等对图像进行数字化的表述，构建数字化的三维模型，将得到的模型绘制出来，这就是整个的基于单幅图像的三维重建过程。
3.立体视觉的三维重建
立体视觉的基本原理是从两个或者多个视点观察同一景物，已获得在多个不同的视角下对景物的多张感知图像，运用三角测量的基本原理计算图像像素间位置偏差，获得景物的三维深度信息，这一个过程与人类观察外面的世界的过程是一样的。要建立完整的一个双目立体视觉系统通常大致需要经过6个步骤，分别是获得图像、标定摄像机、提取特征、立体匹配、模型重建等
4.深度图像三维重建
一般的通过激光扫描仪进行一次扫描得到的是一组二维有序的点阵，其中每一点包含了相应的场景上被扫描点的距离信息，这个点阵被称为深度图像。为了获得完整的场景，往往需要从几个不同的位置对目标场景进行扫描而得到的不同的深度图像则需要匹配到一个坐标系下。通过深度图像获得场景的数据，对点云数据进行基于平面的分割，提取平面特征实现三维场景的重
本文主要学习基于双目的立体视觉三维重建。
SfM介绍 SfM的全称为Structure from Motion，即通过相机的移动来确定目标的空间和几何关系，是三维重建的一种常见方法。它与Kinect这种3D摄像头最大的不同在于，它只需要普通的RGB摄像头即可，因此成本更低廉，且受环境约束较小，在室内和室外均能使用。但是，SfM背后需要复杂的理论和算法做支持，在精度和速度上都还有待提高，所以目前成熟的商业应用并不多。 本系列介绍SfM中的基本原理与算法，借助OpenCV实现一个简易的SfM系统。
极线约束与本征矩阵 在三维重建前，我们先研究一下同一点在两个相机中的像的关系。假设在世界坐标系中有一点 p ，坐标为 X ，它在1相机中的像为 x1 ，在2相机中的像为 x2 （注意 x1 和 x2 为齐次坐标，最后一个元素是1），如下图。 设 X 到两个相机像面的垂直距离分别为 s1 和 s2 ，且这两个相机具有相同的内参矩阵 K ，与世界坐标系之间的变换关系分别为 [R1 T1] 和 [R2 T2] ，那么我们可以得到下面两个等式 s1x1=K(R1X&#43;T1)s2x2=K(R2X&#43;T2) 由于K是可逆矩阵，两式坐乘K的逆，有 s1K−1x1=R1X&#43;T1s2K−1x2=R2X&#43;T2 设 K−1x1=x′1 ， K−1x2=x′2 ，则有 s1x′1=R1X&#43;T1s2x′2=R2X&#43;T2 我们一般称 x′1 和 x′2 为归一化后的像坐标，它们和图像的大小没有关系，且原点位于图像中心。 由于世界坐标系可以任意选择，我们将世界坐标系选为第一个相机的相机坐标系，这时 R1=I, T1=0 。上式则变为 s1x′1=Xs2x′2=R2X&#43;T2 将第一式带入第二式，有 s2x′2=s1R2x′1&#43;T2 x′2 和 T2 都是三维向量，它们做外积（叉积）之后得到另外一个三维向量 T2ˆx′2 （其中 T2ˆ 为外积的矩阵形式， T2ˆx′2 代表 T2×x′2 ），且该向量垂直于 x′2 和 T2 ，再用该向量对等式两边做内积，有 0=s1(T2ˆx′2)TR2x′1 即 x′2T2ˆR2x′1=0 令 E=T2ˆR2 有 x′2Ex′1=0 可以看出，上式是同一点在两个相机中的像所满足的关系，它和点的空间坐标、点到相机的距离均没有关系，我们称之为极线约束，而矩阵 E 则称为关于这两个相机的本征矩阵。如果我们知道两幅图像中的多个对应点（至少5对），则可以通过上式解出矩阵 E ，又由于 E 是由 T2 和 R2 构成的，可以从E中分解出 T2 和 R2 。 如何从 E 中分解出两个相机的相对变换关系（即 T2 和 R2 ），背后的数学原理比较复杂，好在OpenCV为我们提供了这样的方法，在此就不谈原理了。 特征点提取与匹配 从上面的分析可知，要求取两个相机的相对关系，需要两幅图像中的对应点，这就变成的特征点的提取和匹配问题。对于图像差别较大的情况，推荐使用SIFT特征，因为SIFT对旋转、尺度、透视都有较好的鲁棒性。如果差别不大，可以考虑其他更快速的特征，比如SURF、ORB等。 本文中使用SIFT特征，由于OpenCV3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c8446ce84575f461887b87ab5b5fccb6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-19T11:37:52+08:00" />
<meta property="article:modified_time" content="2017-09-19T11:37:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenCV实现SfM（一）：双目三维重建(包含SIFT特征点提取)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-family:'microsoft yahei'; color:#3f3f3f; font-size:15px; line-height:35px"></span> 
<h2 id="sfm介绍" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> 三维重建介绍</h2> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 三维重建是指根据基于一个视图或者多个视图所获得的物体或者场景的图像重建三维模型的过程。由于单视图的信息很单一,因此三维重建需要更复杂的算法和过程。相比之下，多视图的三维重建(模仿人类观察世界的方式)就比较容易实现,其方法是先对摄像机进行标定,即计算出摄像机的图像坐标系与世界坐标系的关系.然后利用多个二维图像中的信息重建出三维信息<br> <br> 1.根据摄像机（图片）数目划分：<br> 对于基于图像的三维重建，主要有单目视觉法、双目视觉法、多目视觉法。<br> 基于图像的三维重建是从若干幅图片计算提取出场景和物体的三维深度信息，根据获取的三维深度信息，重构出具备很强真实感的物体或者场景的三维模型的方法。<br> <br> 2.单幅图像的三维重建<br> 目前，基于单幅图像三维重建最广泛和最实用的方法利用几何投影的原理进行重建。每一幅图像中含有的大量平行线、平行面、垂直线、垂直面、消失点、消失线等多种几何属性的约束，利用图像的这些几何约束进行摄像机标定或平面标定。进而估算出摄像机的内部各种参数、摄像机的焦距； 然后通过测量目标的几何形状或计算目标高度来估算出必需的深度信息; 最后利用几何投影知识等对图像进行数字化的表述，构建数字化的三维模型，将得到的模型绘制出来，这就是整个的基于单幅图像的三维重建过程。<br> <br> 3.立体视觉的三维重建<br> 立体视觉的基本原理是从两个或者多个视点观察同一景物，已获得在多个不同的视角下对景物的多张感知图像，运用三角测量的基本原理计算图像像素间位置偏差，获得景物的三维深度信息，这一个过程与人类观察外面的世界的过程是一样的。要建立完整的一个双目立体视觉系统通常大致需要经过6个步骤，分别是获得图像、标定摄像机、提取特征、立体匹配、模型重建等<br> <br> 4.深度图像三维重建<br> 一般的通过激光扫描仪进行一次扫描得到的是一组二维有序的点阵，其中每一点包含了相应的场景上被扫描点的距离信息，这个点阵被称为深度图像。为了获得完整的场景，往往需要从几个不同的位置对目标场景进行扫描而得到的不同的深度图像则需要匹配到一个坐标系下。通过深度图像获得场景的数据，对点云数据进行基于平面的分割，提取平面特征实现三维场景的重<br> <br> 本文主要学习基于双目的立体视觉三维重建。</p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> <span style="font-family:'microsoft yahei'; color:#3f3f3f; font-size:15px; line-height:35px"></span></p> 
<h2 id="sfm介绍" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> SfM介绍</h2> 
<p></p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> SfM的全称为Structure from Motion，即通过相机的移动来确定目标的空间和几何关系，是三维重建的一种常见方法。它与Kinect这种3D摄像头最大的不同在于，它只需要普通的RGB摄像头即可，因此成本更低廉，且受环境约束较小，在室内和室外均能使用。但是，SfM背后需要复杂的理论和算法做支持，在精度和速度上都还有待提高，所以目前成熟的商业应用并不多。 <br style=""> 本系列介绍SfM中的基本原理与算法，借助OpenCV实现一个简易的SfM系统。</p> 
<span style="font-family:'microsoft yahei'; color:#3f3f3f; font-size:15px; line-height:35px"></span> 
<h2 id="极线约束与本征矩阵" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> 极线约束与本征矩阵</h2> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 在三维重建前，我们先研究一下同一点在两个相机中的像的关系。假设在世界坐标系中有一点<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-1-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-1" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-2" style=""><span class="mi" id="MathJax-Span-3" style="">p</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，坐标为<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-2-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-4" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-5" style=""><span class="mi" id="MathJax-Span-6" style="">X<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，它在1相机中的像为<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-3-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-7" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-8" style=""><span class="msubsup" id="MathJax-Span-9" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-10" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-11" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，在2相机中的像为<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-4-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-12" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-13" style=""><span class="msubsup" id="MathJax-Span-14" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-15" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-16" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>（注意<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-5-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-17" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-18" style=""><span class="msubsup" id="MathJax-Span-19" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-20" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-21" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>和<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-6-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-22" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-23" style=""><span class="msubsup" id="MathJax-Span-24" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-25" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-26" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>为齐次坐标，最后一个元素是1），如下图。 <br style=""> <img src="https://images2.imgbox.com/89/55/kptUw7Q3_o.jpg" alt="这里写图片描述" title="" height="225" width="453" style="border-style:none; border-width:initial; border-color:initial; max-width:602px; max-height:100%"> <br style=""> 设<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-7-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-27" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-28" style=""><span class="mi" id="MathJax-Span-29" style="">X<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>到两个相机像面的垂直距离分别为<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-8-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-30" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-31" style=""><span class="msubsup" id="MathJax-Span-32" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-33" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-34" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>和<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-9-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-35" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-36" style=""><span class="msubsup" id="MathJax-Span-37" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-38" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-39" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，且这两个相机具有相同的内参矩阵<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-10-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-40" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-41" style=""><span class="mi" id="MathJax-Span-42" style="">K<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，与世界坐标系之间的变换关系分别为<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-11-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-43" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-44" style=""><span class="mo" id="MathJax-Span-45" style="">[</span><span class="msubsup" id="MathJax-Span-46" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-47" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-48" style="">1</span><span style=""></span></span></span></span><span class="mtext" id="MathJax-Span-49" style=""> </span><span class="mtext" id="MathJax-Span-50" style=""> </span><span class="msubsup" id="MathJax-Span-51" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-52" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-53" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-54" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>和<span class="MathJax_Preview" style="color:#888888"></span><span class="MathJax" id="MathJax-Element-12-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-55" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-56" style=""><span class="mo" id="MathJax-Span-57" style="">[</span><span class="msubsup" id="MathJax-Span-58" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-59" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-60" style="">2</span><span style=""></span></span></span></span><span class="mtext" id="MathJax-Span-61" style=""> </span><span class="mtext" id="MathJax-Span-62" style=""> </span><span class="msubsup" id="MathJax-Span-63" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-64" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-65" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-66" style="">]</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span>，那么我们可以得到下面两个等式 <br style=""> <span class="MathJax_Preview" style="color:#888888"></span></p> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-13-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-67" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-68" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-69" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-70" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-71" style="">1</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-72" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-73" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-74" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-75" style="">=</span><span class="mi" id="MathJax-Span-76" style="">K<span style=""></span></span><span class="mo" id="MathJax-Span-77" style="">(</span><span class="msubsup" id="MathJax-Span-78" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-79" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-80" style="">1</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-81" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-82" style="">+</span><span class="msubsup" id="MathJax-Span-83" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-84" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-85" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-86" style="">)</span><span style=""></span></span><span style=""><span class="mspace" id="MathJax-Span-87" style=""></span><span class="msubsup" id="MathJax-Span-88" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-89" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-90" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-91" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-92" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-93" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-94" style="">=</span><span class="mi" id="MathJax-Span-95" style="">K<span style=""></span></span><span class="mo" id="MathJax-Span-96" style="">(</span><span class="msubsup" id="MathJax-Span-97" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-98" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-99" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-100" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-101" style="">+</span><span class="msubsup" id="MathJax-Span-102" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-103" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-104" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-105" style="">)</span><span style=""></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 由于K是可逆矩阵，两式坐乘K的逆，有  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-14-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-106" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-107" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-108" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-109" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-110" style="">1</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-111" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-112" style="">K<span style=""></span></span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-113" style=""><span class="mrow" id="MathJax-Span-114" style=""><span class="mo" id="MathJax-Span-115" style="">−</span><span class="mn" id="MathJax-Span-116" style="">1</span></span></span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-117" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-118" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-119" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-120" style="">=</span><span class="msubsup" id="MathJax-Span-121" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-122" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-123" style="">1</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-124" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-125" style="">+</span><span class="msubsup" id="MathJax-Span-126" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-127" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-128" style="">1</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mspace" id="MathJax-Span-129" style=""></span><span class="msubsup" id="MathJax-Span-130" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-131" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-132" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-133" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-134" style="">K<span style=""></span></span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-135" style=""><span class="mrow" id="MathJax-Span-136" style=""><span class="mo" id="MathJax-Span-137" style="">−</span><span class="mn" id="MathJax-Span-138" style="">1</span></span></span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-139" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-140" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-141" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-142" style="">=</span><span class="msubsup" id="MathJax-Span-143" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-144" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-145" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-146" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-147" style="">+</span><span class="msubsup" id="MathJax-Span-148" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-149" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-150" style="">2</span><span style=""></span></span></span></span><span style=""></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 设 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-15-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-151" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-152" style=""><span class="msubsup" id="MathJax-Span-153" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-154" style="">K<span style=""></span></span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-155" style=""><span class="mrow" id="MathJax-Span-156" style=""><span class="mo" id="MathJax-Span-157" style="">−</span><span class="mn" id="MathJax-Span-158" style="">1</span></span></span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-159" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-160" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-161" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-162" style="">=</span><span class="msubsup" id="MathJax-Span-163" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-164" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-165" style=""><span class="mrow" id="MathJax-Span-166" style=""><span class="msup" id="MathJax-Span-167" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-168" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-169" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-170" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>， 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-16-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-171" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-172" style=""><span class="msubsup" id="MathJax-Span-173" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-174" style="">K<span style=""></span></span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-175" style=""><span class="mrow" id="MathJax-Span-176" style=""><span class="mo" id="MathJax-Span-177" style="">−</span><span class="mn" id="MathJax-Span-178" style="">1</span></span></span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-179" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-180" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-181" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-182" style="">=</span><span class="msubsup" id="MathJax-Span-183" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-184" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-185" style=""><span class="mrow" id="MathJax-Span-186" style=""><span class="msup" id="MathJax-Span-187" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-188" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-189" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-190" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>，则有  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-17-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-191" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-192" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-193" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-194" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-195" style="">1</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-196" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-197" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-198" style=""><span class="mrow" id="MathJax-Span-199" style=""><span class="msup" id="MathJax-Span-200" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-201" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-202" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-203" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-204" style="">=</span><span class="msubsup" id="MathJax-Span-205" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-206" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-207" style="">1</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-208" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-209" style="">+</span><span class="msubsup" id="MathJax-Span-210" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-211" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-212" style="">1</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mspace" id="MathJax-Span-213" style=""></span><span class="msubsup" id="MathJax-Span-214" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-215" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-216" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-217" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-218" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-219" style=""><span class="mrow" id="MathJax-Span-220" style=""><span class="msup" id="MathJax-Span-221" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-222" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-223" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-224" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-225" style="">=</span><span class="msubsup" id="MathJax-Span-226" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-227" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-228" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-229" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-230" style="">+</span><span class="msubsup" id="MathJax-Span-231" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-232" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-233" style="">2</span><span style=""></span></span></span></span><span style=""></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 我们一般称 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-18-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-234" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-235" style=""><span class="msubsup" id="MathJax-Span-236" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-237" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-238" style=""><span class="mrow" id="MathJax-Span-239" style=""><span class="msup" id="MathJax-Span-240" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-241" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-242" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-243" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-19-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-244" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-245" style=""><span class="msubsup" id="MathJax-Span-246" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-247" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-248" style=""><span class="mrow" id="MathJax-Span-249" style=""><span class="msup" id="MathJax-Span-250" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-251" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-252" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-253" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>为归一化后的像坐标，它们和图像的大小没有关系，且原点位于图像中心。  
<br style=""> 由于世界坐标系可以任意选择，我们将世界坐标系选为第一个相机的相机坐标系，这时 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-20-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-254" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-255" style=""><span class="msubsup" id="MathJax-Span-256" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-257" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-258" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-259" style="">=</span><span class="mi" id="MathJax-Span-260" style="">I<span style=""></span></span><span class="mo" id="MathJax-Span-261" style="">,</span><span class="mtext" id="MathJax-Span-262" style=""> </span><span class="msubsup" id="MathJax-Span-263" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-264" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-265" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-266" style="">=</span><span class="mn" id="MathJax-Span-267" style="">0</span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>。上式则变为  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-21-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-268" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-269" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-270" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-271" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-272" style="">1</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-273" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-274" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-275" style=""><span class="mrow" id="MathJax-Span-276" style=""><span class="msup" id="MathJax-Span-277" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-278" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-279" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-280" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-281" style="">=</span><span class="mi" id="MathJax-Span-282" style="">X<span style=""></span></span><span style=""></span></span><span style=""><span class="mspace" id="MathJax-Span-283" style=""></span><span class="msubsup" id="MathJax-Span-284" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-285" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-286" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-287" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-288" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-289" style=""><span class="mrow" id="MathJax-Span-290" style=""><span class="msup" id="MathJax-Span-291" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-292" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-293" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-294" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-295" style="">=</span><span class="msubsup" id="MathJax-Span-296" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-297" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-298" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-299" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-300" style="">+</span><span class="msubsup" id="MathJax-Span-301" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-302" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-303" style="">2</span><span style=""></span></span></span></span><span style=""></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 将第一式带入第二式，有  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-22-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-304" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-305" style=""><span class="msubsup" id="MathJax-Span-306" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-307" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-308" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-309" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-310" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-311" style=""><span class="mrow" id="MathJax-Span-312" style=""><span class="msup" id="MathJax-Span-313" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-314" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-315" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-316" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-317" style="">=</span><span class="msubsup" id="MathJax-Span-318" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-319" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-320" style="">1</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-321" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-322" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-323" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-324" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-325" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-326" style=""><span class="mrow" id="MathJax-Span-327" style=""><span class="msup" id="MathJax-Span-328" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-329" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-330" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-331" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-332" style="">+</span><span class="msubsup" id="MathJax-Span-333" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-334" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-335" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-23-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-336" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-337" style=""><span class="msubsup" id="MathJax-Span-338" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-339" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-340" style=""><span class="mrow" id="MathJax-Span-341" style=""><span class="msup" id="MathJax-Span-342" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-343" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-344" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-345" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-24-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-346" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-347" style=""><span class="msubsup" id="MathJax-Span-348" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-349" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-350" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>都是三维向量，它们做外积（叉积）之后得到另外一个三维向量 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-25-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-351" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-352" style=""><span class="texatom" id="MathJax-Span-353" style=""><span class="mrow" id="MathJax-Span-354" style=""><span class="munderover" id="MathJax-Span-355" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-356" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-357" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-358" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-359" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-360" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-361" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-362" style=""><span class="mrow" id="MathJax-Span-363" style=""><span class="msup" id="MathJax-Span-364" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-365" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-366" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-367" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>（其中 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-26-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-368" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-369" style=""><span class="texatom" id="MathJax-Span-370" style=""><span class="mrow" id="MathJax-Span-371" style=""><span class="munderover" id="MathJax-Span-372" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-373" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-374" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-375" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-376" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>为外积的矩阵形式， 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-27-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-377" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-378" style=""><span class="texatom" id="MathJax-Span-379" style=""><span class="mrow" id="MathJax-Span-380" style=""><span class="munderover" id="MathJax-Span-381" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-382" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-383" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-384" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-385" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-386" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-387" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-388" style=""><span class="mrow" id="MathJax-Span-389" style=""><span class="msup" id="MathJax-Span-390" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-391" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-392" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-393" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>代表 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-28-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-394" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-395" style=""><span class="msubsup" id="MathJax-Span-396" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-397" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-398" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-399" style="">×</span><span class="msubsup" id="MathJax-Span-400" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-401" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-402" style=""><span class="mrow" id="MathJax-Span-403" style=""><span class="msup" id="MathJax-Span-404" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-405" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-406" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-407" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>），且该向量垂直于 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-29-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-408" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-409" style=""><span class="msubsup" id="MathJax-Span-410" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-411" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-412" style=""><span class="mrow" id="MathJax-Span-413" style=""><span class="msup" id="MathJax-Span-414" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-415" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-416" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-417" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-30-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-418" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-419" style=""><span class="msubsup" id="MathJax-Span-420" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-421" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-422" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>，再用该向量对等式两边做内积，有  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-31-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-423" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-424" style=""><span class="mn" id="MathJax-Span-425" style="">0</span><span class="mo" id="MathJax-Span-426" style="">=</span><span class="msubsup" id="MathJax-Span-427" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-428" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-429" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-430" style="">(</span><span class="texatom" id="MathJax-Span-431" style=""><span class="mrow" id="MathJax-Span-432" style=""><span class="munderover" id="MathJax-Span-433" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-434" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-435" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-436" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-437" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-438" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-439" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-440" style=""><span class="mrow" id="MathJax-Span-441" style=""><span class="msup" id="MathJax-Span-442" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-443" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-444" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-445" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-446" style=""><span style=""><span style=""><span class="mo" id="MathJax-Span-447" style="">)</span><span style=""></span></span><span style=""><span class="mi" id="MathJax-Span-448" style="">T<span style=""></span></span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-449" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-450" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-451" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-452" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-453" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-454" style=""><span class="mrow" id="MathJax-Span-455" style=""><span class="msup" id="MathJax-Span-456" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-457" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-458" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-459" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 即  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-32-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-460" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-461" style=""><span class="msubsup" id="MathJax-Span-462" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-463" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-464" style=""><span class="mrow" id="MathJax-Span-465" style=""><span class="msup" id="MathJax-Span-466" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-467" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-468" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-469" style="">2</span><span style=""></span></span></span></span><span class="texatom" id="MathJax-Span-470" style=""><span class="mrow" id="MathJax-Span-471" style=""><span class="munderover" id="MathJax-Span-472" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-473" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-474" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-475" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-476" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-477" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-478" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-479" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-480" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-481" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-482" style=""><span class="mrow" id="MathJax-Span-483" style=""><span class="msup" id="MathJax-Span-484" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-485" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-486" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-487" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-488" style="">=</span><span class="mn" id="MathJax-Span-489" style="">0</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 令 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-33-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-490" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-491" style=""><span class="mi" id="MathJax-Span-492" style="">E<span style=""></span></span><span class="mo" id="MathJax-Span-493" style="">=</span><span class="texatom" id="MathJax-Span-494" style=""><span class="mrow" id="MathJax-Span-495" style=""><span class="munderover" id="MathJax-Span-496" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-497" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-498" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-499" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-500" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-501" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-502" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-503" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span> 有  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-34-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-504" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-505" style=""><span class="msubsup" id="MathJax-Span-506" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-507" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-508" style=""><span class="mrow" id="MathJax-Span-509" style=""><span class="msup" id="MathJax-Span-510" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-511" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-512" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-513" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-514" style="">E<span style=""></span></span><span class="msubsup" id="MathJax-Span-515" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-516" style="">x</span><span style=""></span></span><span style=""><span class="texatom" id="MathJax-Span-517" style=""><span class="mrow" id="MathJax-Span-518" style=""><span class="msup" id="MathJax-Span-519" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-520" style=""></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-521" style="">′</span><span style=""></span></span></span></span></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-522" style="">1</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-523" style="">=</span><span class="mn" id="MathJax-Span-524" style="">0</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 可以看出，上式是同一点在两个相机中的像所满足的关系，它和点的空间坐标、点到相机的距离均没有关系，我们称之为极线约束，而矩阵 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-35-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-525" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-526" style=""><span class="mi" id="MathJax-Span-527" style="">E<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>则称为关于这两个相机的本征矩阵。如果我们知道两幅图像中的多个对应点（至少5对），则可以通过上式解出矩阵 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-36-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-528" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-529" style=""><span class="mi" id="MathJax-Span-530" style="">E<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>，又由于 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-37-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-531" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-532" style=""><span class="mi" id="MathJax-Span-533" style="">E<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>是由 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-38-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-534" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-535" style=""><span class="msubsup" id="MathJax-Span-536" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-537" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-538" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-39-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-539" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-540" style=""><span class="msubsup" id="MathJax-Span-541" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-542" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-543" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>构成的，可以从E中分解出 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-40-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-544" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-545" style=""><span class="msubsup" id="MathJax-Span-546" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-547" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-548" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-41-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-549" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-550" style=""><span class="msubsup" id="MathJax-Span-551" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-552" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-553" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>。  
<br style=""> 如何从 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-42-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-554" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-555" style=""><span class="mi" id="MathJax-Span-556" style="">E<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>中分解出两个相机的相对变换关系（即 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-43-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-557" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-558" style=""><span class="msubsup" id="MathJax-Span-559" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-560" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-561" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-44-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-562" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-563" style=""><span class="msubsup" id="MathJax-Span-564" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-565" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-566" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>），背后的数学原理比较复杂，好在OpenCV为我们提供了这样的方法，在此就不谈原理了。 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> </p> 
<h2 id="特征点提取与匹配" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> <a target="_blank" name="t1" style="text-decoration:none; color:rgb(12,137,207)"></a>特征点提取与匹配</h2> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 从上面的分析可知，要求取两个相机的相对关系，需要两幅图像中的对应点，这就变成的特征点的提取和匹配问题。对于图像差别较大的情况，推荐使用SIFT特征，因为SIFT对旋转、尺度、透视都有较好的鲁棒性。如果差别不大，可以考虑其他更快速的特征，比如SURF、ORB等。 <br style=""> 本文中使用SIFT特征，由于OpenCV3.0将SIFT包含在了扩展部分中，所以官网上下载的版本是没有SIFT的，为此需要到<a target="_blank" href="https://github.com/itseez/opencv_contrib/" rel="noopener noreferrer">https://github.com/itseez/opencv_contrib/</a>下载扩展包opencv_contrib，并按照里面的说明重新编译OpenCV。如果使用其他特征，就不必做这一步。</p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 编译opencv的时候要通过cmake -DOPENCV_EXTRA_MODULES_PATH将opencv_contrib的module编译进来，一定要保持两者的版本一致，opencv链接：https://github.com/opencv/opencv.git  pull到最近即可成功cmake<br> </p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> <br style=""> 下面的代码负责提取图像特征，并进行匹配。</p> 
<pre class="prettyprint" name="code" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-right: 0px; margin-bottom: 1.1em; margin-left: 0px; font-family: 'Source Code Pro', monospace; display: block; padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.046875); border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; "><code class="language-cpp hljs  has-numbering" style="display: block; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; color: inherit; box-sizing: border-box; font-family: 'Source Code Pro', monospace;font-size:undefined; white-space: pre; border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; word-wrap: normal; background-position: initial initial; background-repeat: initial initial; "><span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">void</span> extract_features(
    <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;<span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">string</span>&gt;</span>&amp; image_names,
    <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;<span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;KeyPoint&gt;</span>&gt;</span>&amp; key_points_for_all,
    <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Mat&gt;</span>&amp; descriptor_for_all,
    <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;<span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Vec3b&gt;</span>&gt;</span>&amp; colors_for_all
    )
{
    key_points_for_all.clear();
    descriptor_for_all.clear();
    Mat image;

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//读取图像，获取图像特征点，并保存</span>
    Ptr&lt;Feature2D&gt; sift = xfeatures2d::SIFT::create(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.04</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">10</span>);
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">for</span> (<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">auto</span> it = image_names.begin(); it != image_names.end(); ++it)
    {
        image = imread(*it);
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (image.empty()) <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">continue</span>;

        <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;KeyPoint&gt;</span> key_points;
        Mat descriptor;
        <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//偶尔出现内存分配失败的错误</span>
        sift-&gt;detectAndCompute(image, noArray(), key_points, descriptor);

        <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//特征点过少，则排除该图像</span>
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (key_points.size() &lt;= <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">10</span>) <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">continue</span>;

        key_points_for_all.push_back(key_points);
        descriptor_for_all.push_back(descriptor);

        <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Vec3b&gt;</span> colors(key_points.size());
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">for</span> (<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">int</span> i = <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>; i &lt; key_points.size(); ++i)
        {
            Point2f&amp; p = key_points[i].pt;
            colors[i] = image.at&lt;Vec3b&gt;(p.y, p.x);
        }
        colors_for_all.push_back(colors);
    }
}

<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">void</span> match_features(Mat&amp; query, Mat&amp; train, <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;DMatch&gt;</span>&amp; matches)
{
    <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;<span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;DMatch&gt;</span>&gt;</span> knn_matches;
    BFMatcher matcher(NORM_L2);
    matcher.knnMatch(query, train, knn_matches, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">2</span>);

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//获取满足Ratio Test的最小匹配的距离</span>
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">float</span> min_dist = FLT_MAX;
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">for</span> (<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">int</span> r = <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>; r &lt; knn_matches.size(); ++r)
    {
        <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//Ratio Test</span>
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>].distance &gt; <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.6</span>*knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">1</span>].distance)
            <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">continue</span>;

        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">float</span> dist = knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>].distance;
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (dist &lt; min_dist) min_dist = dist;
    }

    matches.clear();
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">for</span> (size_t r = <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>; r &lt; knn_matches.size(); ++r)
    {
        <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//排除不满足Ratio Test的点和匹配距离过大的点</span>
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (
            knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>].distance &gt; <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.6</span>*knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">1</span>].distance ||
            knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>].distance &gt; <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">5</span> * max(min_dist, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">10.0f</span>)
            )
            <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">continue</span>;

        <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//保存匹配点</span>
        matches.push_back(knn_matches[r][<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>]);
    }
}</code>
 
 </pre><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; background-color: rgb(238, 238, 238); top: 0px; left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 6px; padding-right: 0px; padding-bottom: 40px; padding-left: 0px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); list-style-type: none; list-style-position: initial; list-style-image: initial; text-align: right; "><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">1</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">2</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">3</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">4</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">5</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">6</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">7</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">8</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">9</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">10</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">11</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">12</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">13</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">14</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">15</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">16</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">17</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">18</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">19</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">20</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">21</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">22</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">23</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">24</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">25</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">26</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">27</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">28</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">29</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">30</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">31</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">32</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">33</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">34</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">35</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">36</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">37</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">38</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">39</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">40</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">41</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">42</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">43</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">44</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">45</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">46</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">47</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">48</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">49</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">50</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">51</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">52</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">53</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">54</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">55</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">56</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">57</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">58</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">59</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">60</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">61</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">62</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">63</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">64</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">65</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">66</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">67</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">68</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">69</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">70</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">71</li></ul> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 需要重点说明的是，匹配结果往往有很多误匹配，为了排除这些错误，这里使用了Ratio Test方法，即使用KNN算法寻找与该特征最匹配的2个特征，若第一个特征的匹配距离与第二个特征的匹配距离之比小于某一阈值，就接受该匹配，否则视为误匹配。当然，也可以使用Cross Test（交叉验证）方法来排除错误。</p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 得到匹配点后，就可以使用OpenCV3.0中新加入的函数findEssentialMat()来求取本征矩阵了。得到本征矩阵后，再使用另一个函数对本征矩阵进行分解，并返回两相机之间的相对变换R和T。注意这里的T是在第二个相机的坐标系下表示的，也就是说，其方向从第二个相机指向第一个相机（即世界坐标系所在的相机），且它的长度等于1。</p> 
<pre class="prettyprint" name="code" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-right: 0px; margin-bottom: 1.1em; margin-left: 0px; font-family: 'Source Code Pro', monospace; display: block; padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 60px; font-size: 14px; line-height: 1.45; word-break: break-all; color: rgb(51, 51, 51); background-color: rgba(128, 128, 128, 0.046875); border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; "><code class="language-cpp hljs  has-numbering" style="display: block; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: transparent; color: inherit; box-sizing: border-box; font-family: 'Source Code Pro', monospace;font-size:undefined; white-space: pre; border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; word-wrap: normal; background-position: initial initial; background-repeat: initial initial; "><span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">bool</span> find_transform(Mat&amp; K, <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Point2f&gt;</span>&amp; p1, <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Point2f&gt;</span>&amp; p2, Mat&amp; R, Mat&amp; T, Mat&amp; mask)
{
    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//根据内参矩阵获取相机的焦距和光心坐标（主点坐标）</span>
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span> focal_length = <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.5</span>*(K.at&lt;<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span>&gt;(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>) + K.at&lt;<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span>&gt;(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">4</span>));
    Point2d principle_point(K.at&lt;<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span>&gt;(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">2</span>), K.at&lt;<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span>&gt;(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">5</span>));

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//根据匹配点求取本征矩阵，使用RANSAC，进一步排除失配点</span>
    Mat E = findEssentialMat(p1, p2, focal_length, principle_point, RANSAC, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.999</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">1.0</span>, mask);
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (E.empty()) <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">return</span> <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">false</span>;

    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span> feasible_count = countNonZero(mask);
    <span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">cout</span> &lt;&lt; (<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">int</span>)feasible_count &lt;&lt; <span class="hljs-string" style="color:#0880;box-sizing: border-box; ">" -in- "</span> &lt;&lt; p1.size() &lt;&lt; endl;
    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//对于RANSAC而言，outlier数量大于50%时，结果是不可靠的</span>
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (feasible_count &lt;= <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">15</span> || (feasible_count / p1.size()) &lt; <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.6</span>)
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">return</span> <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">false</span>;

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//分解本征矩阵，获取相对变换</span>
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">int</span> pass_count = recoverPose(E, p1, p2, R, T, focal_length, principle_point, mask);

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//同时位于两个相机前方的点的数量要足够大</span>
    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">if</span> (((<span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">double</span>)pass_count) / feasible_count &lt; <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0.7</span>)
        <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">return</span> <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">false</span>;

    <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">return</span> <span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">true</span>;
}</code>
 
 </pre><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; background-color: rgb(238, 238, 238); top: 0px; left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 6px; padding-right: 0px; padding-bottom: 40px; padding-left: 0px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); list-style-type: none; list-style-position: initial; list-style-image: initial; text-align: right; "><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">1</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">2</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">3</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">4</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">5</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">6</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">7</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">8</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">9</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">10</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">11</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">12</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">13</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">14</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">15</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">16</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">17</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">18</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">19</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">20</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">21</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">22</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">23</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">24</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">25</li></ul> 
<h2 id="三维重建" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> <a target="_blank" name="t2" style="text-decoration:none; color:rgb(12,137,207)"></a>三维重建</h2> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 现在已经知道了两个相机之间的变换矩阵，还有每一对匹配点的坐标。三维重建就是通过这些已知信息还原匹配点在空间当中的坐标。在前面的推导中，我们有 <br style=""> <span class="MathJax_Preview" style="color:#888888"></span></p> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-75-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-567" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-568" style=""><span class="msubsup" id="MathJax-Span-569" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-570" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-571" style="">2</span><span style=""></span></span></span></span><span class="msubsup" id="MathJax-Span-572" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-573" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-574" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-575" style="">=</span><span class="mi" id="MathJax-Span-576" style="">K<span style=""></span></span><span class="mo" id="MathJax-Span-577" style="">(</span><span class="msubsup" id="MathJax-Span-578" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-579" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-580" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-581" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-582" style="">+</span><span class="msubsup" id="MathJax-Span-583" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-584" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-585" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-586" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 这个等式中有两个未知量，分别是 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-76-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-587" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-588" style=""><span class="msubsup" id="MathJax-Span-589" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-590" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-591" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-77-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-592" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-593" style=""><span class="mi" id="MathJax-Span-594" style="">X<span style=""></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>。用 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-78-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-595" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-596" style=""><span class="msubsup" id="MathJax-Span-597" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-598" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-599" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>对等式两边做外积，可以消去 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-79-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-600" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-601" style=""><span class="msubsup" id="MathJax-Span-602" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-603" style="">s</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-604" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>，得  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-80-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-605" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-606" style=""><span class="mn" id="MathJax-Span-607" style="">0</span><span class="mo" id="MathJax-Span-608" style="">=</span><span class="texatom" id="MathJax-Span-609" style=""><span class="mrow" id="MathJax-Span-610" style=""><span class="munderover" id="MathJax-Span-611" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-612" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-613" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-614" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-615" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="mi" id="MathJax-Span-616" style="">K<span style=""></span></span><span class="mo" id="MathJax-Span-617" style="">(</span><span class="msubsup" id="MathJax-Span-618" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-619" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-620" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-621" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-622" style="">+</span><span class="msubsup" id="MathJax-Span-623" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-624" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-625" style="">2</span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-626" style="">)</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 整理一下可以得到一个关于空间坐标X的线性方程  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-81-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-627" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-628" style=""><span class="texatom" id="MathJax-Span-629" style=""><span class="mrow" id="MathJax-Span-630" style=""><span class="munderover" id="MathJax-Span-631" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-632" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-633" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-634" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-635" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="mi" id="MathJax-Span-636" style="">K<span style=""></span></span><span class="msubsup" id="MathJax-Span-637" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-638" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-639" style="">2</span><span style=""></span></span></span></span><span class="mi" id="MathJax-Span-640" style="">X<span style=""></span></span><span class="mo" id="MathJax-Span-641" style="">=</span><span class="mo" id="MathJax-Span-642" style="">−</span><span class="texatom" id="MathJax-Span-643" style=""><span class="mrow" id="MathJax-Span-644" style=""><span class="munderover" id="MathJax-Span-645" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-646" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-647" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-648" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-649" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="mi" id="MathJax-Span-650" style="">K<span style=""></span></span><span class="msubsup" id="MathJax-Span-651" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-652" style="">T<span style=""></span></span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-653" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 上面的方程不能直接取逆求解，因此化为其次方程  
<br style=""> 
<span class="MathJax_Preview" style="color:#888888"></span> 
<div class="MathJax_Display" style="text-align:center; margin-top:1em; margin-right:0em; margin-bottom:1em; margin-left:0em; position:relative; display:block!important; text-indent:0px; max-width:none; max-height:none; min-width:0px; min-height:0px; width:934px"> 
 <span class="MathJax" id="MathJax-Element-82-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
   
   <span class="math" id="MathJax-Span-654" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-655" style=""><span class="texatom" id="MathJax-Span-656" style=""><span class="mrow" id="MathJax-Span-657" style=""><span class="munderover" id="MathJax-Span-658" style=""><span style=""><span style=""><span class="msubsup" id="MathJax-Span-659" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-660" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-661" style="">2</span><span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mo" id="MathJax-Span-662" style=""><span style="">ˆ</span></span><span style=""></span></span></span></span></span></span><span class="mi" id="MathJax-Span-663" style="">K<span style=""></span></span><span class="mo" id="MathJax-Span-664" style="">(</span><span class="msubsup" id="MathJax-Span-665" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-666" style="">R</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-667" style="">2</span><span style=""></span></span></span></span><span class="mtext" id="MathJax-Span-668" style=""> </span><span class="mtext" id="MathJax-Span-669" style=""> </span><span class="mi" id="MathJax-Span-670" style="">T<span style=""></span></span><span class="mo" id="MathJax-Span-671" style="">)</span><span class="mrow" id="MathJax-Span-672" style=""><span class="mo" id="MathJax-Span-673" style=""><span style="">(</span></span><span class="mtable" id="MathJax-Span-674" style=""><span style=""><span style=""><span style=""><span style=""><span class="mtd" id="MathJax-Span-675" style=""><span class="mrow" id="MathJax-Span-676" style=""><span class="mi" id="MathJax-Span-677" style="">X<span style=""></span></span></span></span><span style=""></span></span><span style=""><span class="mtd" id="MathJax-Span-678" style=""><span class="mrow" id="MathJax-Span-679" style=""><span class="mn" id="MathJax-Span-680" style="">1</span></span></span><span style=""></span></span></span><span style=""></span></span></span></span><span class="mo" id="MathJax-Span-681" style=""><span style="">)</span></span></span><span class="mo" id="MathJax-Span-682" style="">=</span><span class="mn" id="MathJax-Span-683" style="">0</span></span><span style=""></span></span></span><span style=""></span></span> 
  </span> 
</div> 
<br style=""> 用SVD求X左边矩阵的零空间，再将最后一个元素归一化到1，即可求得X。其几何意义相当于分别从两个相机的光心作过 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-83-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-684" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-685" style=""><span class="msubsup" id="MathJax-Span-686" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-687" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-688" style="">1</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>和 
<span class="MathJax_Preview" style="color:#888888"></span> 
<span class="MathJax" id="MathJax-Element-84-Frame" style="display:inline; font-style:normal; font-weight:normal; line-height:normal; font-size:15px; text-indent:0px; text-align:left; text-transform:none; letter-spacing:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border-top-width:0px; border-right-width:0px; border-bottom-width:0px; border-left-width:0px; border-style:initial; border-color:initial; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px"> 
  
  <span class="math" id="MathJax-Span-689" style=""><span style=""><span style=""><span class="mrow" id="MathJax-Span-690" style=""><span class="msubsup" id="MathJax-Span-691" style=""><span style=""><span style=""><span class="mi" id="MathJax-Span-692" style="">x</span><span style=""></span></span><span style=""><span class="mn" id="MathJax-Span-693" style="">2</span><span style=""></span></span></span></span></span><span style=""></span></span></span><span style=""></span></span> 
 </span>的延长线，延长线的焦点即为方程的解，如文章最上方的图所示。由于这种方法和三角测距类似，因此这种重建方式也被称为 
<strong><span style="font-size:18px; color:#3366FF">三角法（triangulate）</span></strong>。OpenCV提供了该方法，可以直接使用。 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> </p> 
<pre class="prettyprint" name="code" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; position: relative; overflow-y: hidden; overflow-x: auto; margin-top: 0px; margin-right: 0px; margin-bottom: 1.1em; margin-left: 0px; font-family: 'Source Code Pro', monospace; display: block; padding-top: 5px; padding-right: 5px; padding-bottom: 5px; padding-left: 60px; font-size: 14px; line-height: 1.45; word-break: break-all; border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-style: solid; border-top-color: rgb(136, 136, 136); border-right-color: rgb(136, 136, 136); border-bottom-color: rgb(136, 136, 136); border-left-color: rgb(136, 136, 136); border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; "><code class="language-cpp hljs  has-numbering" style="display: block; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; box-sizing: border-box; font-family: 'Source Code Pro', monospace; white-space: pre; border-top-left-radius: 0px 0px; border-top-right-radius: 0px 0px; border-bottom-right-radius: 0px 0px; border-bottom-left-radius: 0px 0px; word-wrap: normal; "><span style="color: inherit; background-color: transparent; "><span class="hljs-keyword" style="color:#0088;box-sizing: border-box; ">void</span> reconstruct(Mat&amp; K, Mat&amp; R, Mat&amp; T, <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Point2f&gt;</span>&amp; p1, <span class="hljs-stl_container" style="box-sizing: border-box; "><span class="hljs-built_in" style="color:#66066;box-sizing: border-box; ">vector</span>&lt;Point2f&gt;</span>&amp; p2, Mat&amp; structure)
{
    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//两个相机的投影矩阵[R T]，triangulatePoints只支持float型</span>
    Mat proj1(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">4</span>, CV_32FC1);
    Mat proj2(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">4</span>, CV_32FC1);

    proj1(Range(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>), Range(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>)) = Mat::eye(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, CV_32FC1);
    proj1.col(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>) = Mat::zeros(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">1</span>, CV_32FC1);

    R.convertTo(proj2(Range(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>), Range(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">0</span>, <span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>)), CV_32FC1);
    T.convertTo(proj2.col(<span class="hljs-number" style="color:#06666;box-sizing: border-box; ">3</span>), CV_32FC1);

    Mat fK;
    K.convertTo(fK, CV_32FC1);
    proj1 = fK*proj1;
    proj2 = fK*proj2;

    <span class="hljs-comment" style="color:#8800;box-sizing: border-box; ">//三角化重建</span>
    </span><span style="color:#6633FF;background-color: rgb(204, 255, 255);">triangulatePoints</span><span style="color:#00000000;background-color: transparent; ">(proj1, proj2, p1, p2, structure);
}</span></code>
 
 </pre><ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; background-color: rgb(238, 238, 238); top: 0px; left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 6px; padding-right: 0px; padding-bottom: 40px; padding-left: 0px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); list-style-type: none; list-style-position: initial; list-style-image: initial; text-align: right; color: rgb(51, 51, 51); "><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">1</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">2</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">3</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">4</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">5</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">6</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">7</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">8</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">9</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">10</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">11</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">12</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">13</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">14</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">15</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">16</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">17</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">18</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">19</li><li style="box-sizing: border-box; padding-top: 0px; padding-right: 5px; padding-bottom: 0px; padding-left: 5px; list-style-type: none; list-style-position: initial; list-style-image: initial; margin-left: 0px; ">20</li></ul> 
<h2 id="测试" style="margin-top:0.8em; margin-right:0px; margin-bottom:0.8em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px; font-weight:100; line-height:1.3em; font-size:2.6em"> <a target="_blank" name="t3" style="text-decoration:none; color:rgb(12,137,207)"></a>测试</h2> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 我用了下面两幅图像进行测试 <br style=""> <img src="https://images2.imgbox.com/ef/c7/lOQ3CPVw_o.jpg" alt="这里写图片描述" title="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; max-width:602px; max-height:100%; height:auto"></p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 得到了着色后的稀疏点云，是否能看出一点轮廓呢？！</p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> <img src="https://images2.imgbox.com/89/2e/n7XKBiYb_o.jpg" alt="这里写图片描述" title="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; max-width:602px; max-height:100%; height:auto"> <br style=""> <img src="https://images2.imgbox.com/1f/bc/l5uoBKWk_o.jpg" alt="这里写图片描述" title="" style="border-top-style:none; border-right-style:none; border-bottom-style:none; border-left-style:none; border-width:initial; border-color:initial; max-width:602px; max-height:100%; height:auto"></p> 
<p style="margin-top:0px; margin-right:0px; margin-bottom:1.1em; margin-left:0px; padding-top:0px; padding-right:0px; padding-bottom:0px; padding-left:0px"> 图片中的两个彩色坐标系分别代表两个相机的位置。 <br style=""> 在接下来的文章中，会将相机的个数推广到任意多个，成为一个真正的SfM系统</p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/553fa688ce3052fe4610587ff46061ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">django限制用户重复登陆</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b92ae2c2ef747e07cb12faca40edf7cc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">AD转移一个封装库文件到另一个封装库中</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>