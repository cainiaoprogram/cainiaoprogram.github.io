<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Sysbench-Mongodb - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Sysbench-Mongodb" />
<meta property="og:description" content="Sysbench-Mongodb与sysbench mysql类似，可用于做压力测试
作者介绍：http://www.tokutek.com/2013/03/sysbench-benchmark-for-mongodb/
安装及运行步骤如下：
1、下载解压 https://github.com/tmcallaghan/sysbench-mongodb
wget https://codeload.github.com/tmcallaghan/sysbench-mongodb/zip/master -O sysbench-mongodb-master.zip
unzip sysbench-mongodb-master.zip
2、运行需要jdk，安装JDK 1.7 下载地址：http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html
wget --no-cookies \
--no-check-certificate \
--header &#34;Cookie: oraclelicense=accept-securebackup-cookie&#34; \
&#34;http://download.oracle.com/otn-pub/java/jdk/7u55-b13/jdk-7u55-linux-x64.rpm&#34; \
-O jdk-7u55-linux-x64.rpm
#chmod &#43;x jdk-7u 5 5-linux-x64.rpm
#rpm -ivh jdk-7u 5 5-linux-x64.rpm
安装完毕，配置环境变量，编辑/etc/profile文件，在文件中找到export PATH USER LOGNAME 等内容，添加以下内容： JAVA_HOME=/usr/java/jdk1.7.0_45
JRE_HOME=/usr/java/jdk1.7.0_45/jre
PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL JAVA_HOME JRE_HOME CLASSPATH
保存退出，执行: #source /etc/profile
3、 下载mongo-java-driver 驱动包
wget http://central.maven.org/maven2/org/mongodb/mongo-java-driver/2.11.4/mongo-java-driver-2.11.4.jar
配置环境变量：
export CLASSPATH=$PWD/mongo-java-driver-2.11.4.jar:$CLASSPATH" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f09173ed174870a855e8f4a25c13ff39/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-05-20T17:25:03+08:00" />
<meta property="article:modified_time" content="2014-05-20T17:25:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Sysbench-Mongodb</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> Sysbench-Mongodb与sysbench mysql类似，可用于做压力测试</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 作者介绍：<a target="_blank" href="http://www.tokutek.com/2013/03/sysbench-benchmark-for-mongodb/" rel="nofollow noopener noreferrer" style="color:rgb(63,167,203)">http://www.tokutek.com/2013/03/sysbench-benchmark-for-mongodb/</a></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <strong>安装及运行步骤如下</strong>：</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 1、下载解压 https://github.com/tmcallaghan/sysbench-mongodb</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="white-space:pre"></span>wget https://codeload.github.com/tmcallaghan/sysbench-mongodb/zip/master -O sysbench-mongodb-master.zip</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="white-space:pre"></span>unzip <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> sysbench-mongodb-master.zip</span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 2、运行需要jdk，安装JDK 1.7 </p> 
<blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
 <p><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">下载地址：</span><a target="_blank" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html" rel="nofollow noopener noreferrer">http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html</a></p> 
</blockquote> 
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"> 
 <blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
  <p>wget --no-cookies \</p> 
 </blockquote> 
 <blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
  <p>--no-check-certificate \</p> 
 </blockquote> 
 <blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
  <p>--header "Cookie: oraclelicense=accept-securebackup-cookie" \</p> 
 </blockquote> 
 <blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
  <p>"http://download.oracle.com/otn-pub/java/jdk/7u55-b13/jdk-7u55-linux-x64.rpm" \</p> 
 </blockquote> 
 <blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
  <p>-O jdk-7u55-linux-x64.rpm</p> 
 </blockquote> 
</blockquote> 
<blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; white-space:pre">#chmod +x jdk-7u</span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">5</span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2; white-space:pre">5-linux-x64.rpm<br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2; white-space:pre">#rpm -ivh jdk-7u</span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">5</span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2; white-space:pre">5-linux-x64.rpm<br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">安装完毕，配置环境变量，编辑/etc/profile文件，在文件中找到export PATH USER LOGNAME 等内容，添加以下内容：</span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">JAVA_HOME=/usr/java/jdk1.7.0_45<br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">JRE_HOME=/usr/java/jdk1.7.0_45/jre<br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin<br> </span> 
 <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL JAVA_HOME JRE_HOME CLASSPATH</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">保存退出，执行:</span><br style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> #source /etc/profile<br> </p> 
</blockquote> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="white-space:pre"></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="white-space:pre"></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 3、 下载mongo-java-driver 驱动包</p> 
<blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> wget http://central.maven.org/maven2/org/mongodb/mongo-java-driver/2.11.4/mongo-java-driver-2.11.4.jar</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 配置环境变量：</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> export CLASSPATH=$PWD/mongo-java-driver-2.11.4.jar:$CLASSPATH</p> 
</blockquote> 
<p><span style="font-family:tahoma,helvetica,arial; color:rgb(69,69,69)"><span style="font-size:14px; line-height:21px">4、执行测试脚本文件</span></span></p> 
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
 <p>cd sysbench-mongodb-master </p> 
</blockquote> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
<blockquote style="margin:0px 0px 0px 40px; border:none; padding:0px"> 
 <p><span style="font-size:14px; line-height:21px">./run.simple.bash</span></p> 
</blockquote> 
<br> 
<p></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <strong>测试脚本主要分成load data和workload两个步骤：</strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 1、Load data部分，我们可以修改collection数量和document数量</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
<ul style="border:0px; margin:0px 0px 24px 1.5em; padding:0px; vertical-align:baseline; list-style:square; color:rgb(59,59,60); font-family:Verdana,Arial,Helvetica,'Nimbus Sans L',sans-serif; font-size:14px; line-height:22px; orphans:2; widows:2"><li><ul style="background-color:transparent; border:0px; margin:0px 0px 0px 1.5em; padding:0px; vertical-align:baseline; list-style:square"><li dir="ltr" style="background-color:transparent; border:0px; margin:0px; padding:0px; vertical-align:baseline"> <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">它默认是生成16个collection，名字为sbtest1...sbtest16,每个collection有1千万documents</span></li><li dir="ltr" style="background-color:transparent; border:0px; margin:0px; padding:0px; vertical-align:baseline"> <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">每个collection的"K"列上创建有二级索引</span></li><li dir="ltr" style="background-color:transparent; border:0px; margin:0px; padding:0px; vertical-align:baseline"> <span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">documents的结构如下：<br> </span> <pre class="code" style="background-color:rgb(247,247,247); border:0px; margin-top:0px; margin-bottom:24px; padding:1.5em; vertical-align:baseline; font-family:'Courier 10 Pitch',Courier,monospace; color:rgb(34,34,34); line-height:21px; font-size:15px; orphans:2; widows:2">{
"_id" : 1 … 10000000
"k"   : random integer between 1 and 10000000
"c"   : 10 segments of 11 random digits plus hyphen
        (119 characters total)
"pad" : 5 segments of 11 random digits plus hyphen
        (59 characters total)
}</pre> </li></ul> 
</li></ul> 
<p></p> 
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 具体如下所示：</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> &gt; db.sbtest1.find().limit(1)</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> {<!-- --></p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> "_id" : 1, </p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> "k" : 548986, </p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> "c" : "87344468893-73242269620-94983725406-35905450777-20807236565-89440163868-45896582721-17821859959-07640351160-42454483377", </p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> "pad" : "01376750983-06661949810-55641668812-30952342371-57477967936" </p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> }</p> 
 <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p> 
</blockquote> 
<p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">2、负载测试步骤，一个"事务"包含以下操作：</span></span></p> 
<blockquote style="margin:0 0 0 40px; border:none; padding:0px"> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">每个客户端线程随机选择一个集合来执行以下所有操作，</span></span><span style="font-size:14px; line-height:21px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial">所有的操作都是通过_id键，范围操作是连续的：</span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">10个随机查询"C" 列</span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">1个100个文档的范围查询“C”列 </span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">使用聚合框架在100个文档的范围sum(“K”) </span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">1个100个文档的范围排序"C"列 </span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">1个100个文档的范围查找distinct “C” 列</span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">随机更新1个文档的属性“K”（有索引） </span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">随机更新1个文档的属性“C”（无索引） </span></span></p> 
 <p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px">通过_id随机删除1个文档，然后使用相同的_id插入新文档</span></span></p> 
</blockquote> 
<p><span style="font-family:tahoma,helvetica,arial; color:#454545"><span style="font-size:14px; line-height:21px"><br> </span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> 具体的一些参数可以直接修改<span style="font-size:14px; line-height:21px">run.simple.bash脚本，基本上能猜出具体的作用，如：</span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="font-size:14px; line-height:21px">NUM_COLLECTIONS=8      #集合数量<br> NUM_DOCUMENTS_PER_COLLECTION=1000000<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#每集合的文档数量</span><br> NUM_DOCUMENTS_PER_INSERT=1000<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#每次Insert多少个文档</span><br> NUM_LOADER_THREADS=8<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#Loaddata时的进程数量</span><br> RUN_TIME_MINUTES=10<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#负载测试运行多少分钟</span><br> NUM_SECONDS_PER_FEEDBACK=10<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#每次输出的间隔秒数</span><br> MONGO_SERVER=localhost<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#mongodb服务器</span><br> MONGO_PORT=27017<span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">      </span><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2">#mongodb端口号</span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> SYSBENCH_READ_ONLY=N      #是否只读测试</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="font-size:14px; line-height:21px"><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"><br> </span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="font-size:14px; line-height:21px"><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"><br> </span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="font-size:14px; line-height:21px"><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"><strong>测试结果：</strong></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <span style="font-size:14px; line-height:21px"><span style="color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"><img src="https://images2.imgbox.com/3c/d4/PNRtF7PD_o.png" alt=""><br> </span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> cum ips： 是总体的平均每秒insert数量 ，也就是总inserts/秒数</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> int ips ：增量平均每秒insert数量，也就是本次10秒内的平均每秒insert数量</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <img src="https://images2.imgbox.com/4c/81/nztGkl5K_o.png" alt=""><br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> cum tps： 是总体的平均每秒事务数量 ，也就是总事务/秒数</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> int ips ：增量的平均每秒事务数量，也就是本次10秒内的平均每秒事务数量</p> 
<br> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(69,69,69); font-family:tahoma,helvetica,arial; font-size:14px; line-height:21px; orphans:2; widows:2"> <br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/aead1175294b9c625629a7dca8bee2c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JSP简单隔行变色和日期格式化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4787296d57689343f5217992fc2182fd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">各种符号用英文怎么读</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>