<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>qt-vs 常量中有换行符 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="qt-vs 常量中有换行符" />
<meta property="og:description" content="以下内容转载或参考自
http://blog.csdn.net/xuancailinggan/article/details/50373415
http://blog.csdn.net/xuly_29/article/details/52247567
说来惭愧，好多群友问这个问题，因为我用的minGW编译器，所以这个问题对我来说是不存在，后来终于想尝试用下vs版的qt了。
好了不多说，上代码：
就这一句话，直接报错说常量中有换行符，我滴天，其实呢，这个是编译器作怪，vs版本的编译器不认汉字！坑爹吧……
修改一下设置：
然后重新编译，正常情况下是可以的哦。但是显然不可以，这里是QT的一个bug，你需要找到汉字，随便找几个就行，重新打一下，然后编译就好了。
来下总结吧：
首先，要想用中文，你要设置编码是带bom的，这样写出来的代码没有任何问题。
如果你已经开写，或者用的别人的代码，你需要设置以后再选几个字重新打一下。选几个就行，别几万的汉字你都打了……那还不如重写呢。
正常运行了吧，不过下面这个还是乱码的，vs坑爹啊……支持开源，果断minGW吧，少年们。
在使用gcc/mingw或clang作为编译器时不会出现,如果把环境换成以MSVC编译就出现此错误.
具体为:
C4819:该文件包含不能在当前代码页(936)中表示的字符.请将该文件保存为Unicode格式以防止数据丢失.
C2001:常量中有换行符
问题所在是源代码中的中文字符.
如果在QT Creator里Select Encoding...
经常会出现错误: Error:Could not decode &#34;XXX.cpp&#34; with &#34;XXX&#34;-encoding . Editing not possible.
并且源代码中的中文会变乱码.
解决方法:
用Visual Studio打开出错源代码.
文件-&gt;高级保存选项-&gt;编码,
把编码由&#34;Uncode (UTF-8 无签名) - 代码页65001&#34;
换成
&#34;Uncode (UTF-8 带签名) - 代码页65001&#34;
确定后保存.
在QT Creator里可以正确显示中文并且不会出错&#34;常量中有换行符&#34;的错误" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9653baeeeaee9fef08b019c6b414bb62/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-09T14:40:05+08:00" />
<meta property="article:modified_time" content="2017-06-09T14:40:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">qt-vs 常量中有换行符</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>以下内容转载或参考自</p> 
<p>http://blog.csdn.net/xuancailinggan/article/details/50373415<br> </p> 
<p>http://blog.csdn.net/xuly_29/article/details/52247567<br> </p> 
<p><br> </p> 
<p></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">说来惭愧，好多群友问这个问题，因为我用的minGW编译器，所以这个问题对我来说是不存在，后来终于想尝试用下vs版的qt了。</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">好了不多说，上代码：</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px"><img src="https://images2.imgbox.com/1d/5b/gsnwMGuc_o.png" alt="" style="border:none; max-width:100%"></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">就这一句话，直接报错说常量中有换行符，我滴天，其实呢，这个是编译器作怪，vs版本的编译器不认汉字！坑爹吧……</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">修改一下设置：</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px"><img src="https://images2.imgbox.com/b7/d4/7wMLXga7_o.png" alt="" style="border:none; max-width:100%"></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">然后重新编译，正常情况下是可以的哦。但是显然不可以，这里是QT的一个bug，你需要找到汉字，随便找几个就行，重新打一下，然后编译就好了。</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">来下总结吧：</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">首先，要想用中文，你要设置编码是带bom的，这样写出来的代码没有任何问题。</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">如果你已经开写，或者用的别人的代码，你需要设置以后再选几个字重新打一下。选几个就行，别几万的汉字你都打了……那还不如重写呢。</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px"><img src="https://images2.imgbox.com/3d/c3/hG8paiEB_o.png" alt="" style="border:none; max-width:100%"></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">正常运行了吧，不过下面这个还是乱码的，vs坑爹啊……支持开源，果断minGW吧，少年们。</p> 
<br> 
<p><br> </p> 
<p><br> </p> 
<p><br> </p> 
<p><br> </p> 
<p><br> </p> 
<p></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 在使用gcc/mingw或clang作为编译器时不会出现,如果把环境换成以MSVC编译就出现此错误.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 具体为:</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> C4819:该文件包含不能在当前代码页(936)中表示的字符.请将该文件保存为Unicode格式以防止数据丢失.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> C2001:常量中有换行符</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 问题所在是源代码中的中文字符.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> <br> </p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 如果在QT Creator里Select Encoding...</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 经常会出现错误: Error:Could not decode "XXX.cpp" with "XXX"-encoding . Editing not possible.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 并且源代码中的中文会变乱码.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 解决方法:</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 用Visual Studio打开出错源代码.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 文件-&gt;高级保存选项-&gt;编码,</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 把编码由"Uncode (UTF-8 无签名) - 代码页65001"</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 换成</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> "Uncode (UTF-8 带签名) - 代码页65001"</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 确定后保存.</p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; font-family:Arial; font-size:14px"> 在QT Creator里可以正确显示中文并且不会出错"常量中有换行符"的错误</p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6714e1b12f1356acb7ea02156c62b9c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Windows 市场份额十年来首次跌破 90%</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10df4ce2fdf31990ef3789f3c22c4312/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基本VLAN特性配置与管理——5</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>