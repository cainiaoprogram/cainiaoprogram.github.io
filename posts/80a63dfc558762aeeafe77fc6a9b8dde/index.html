<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SpringMVC知识点详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SpringMVC知识点详解" />
<meta property="og:description" content="目录
1、SpringMVC概述
1.1 SpringMVC概念
1.2 SpringMVC原理
1.3 SpringMVC优势
2、MVC模式回顾
3、入门程序
3.1 创建web的maven工程
3.2 pom.xml文件添加依赖和插件
3.3 创建Spring和SpringMVC的配置文件
3.3.1 创建Spring配置文件applicationContext.xml文件
3.3.2 创建SpringMVC的配置文件springmvc.xml
3.4 在web.xml中进行Spring和SpringMVC配置
3.5 创建控制器
3.6 配置视图解析器
3.7 编写index.jsp页面
3.8 测试
3.9 启动web容器后web.xml中发生了什么
4、SpringMVC工作流程
4.1 工作流程分析
4.2 SpringMVC组件
5 @RequestMapping 注解
5.1@RequestMapping出现的位置
5.2 指定请求的提交方式
5.3 补充url-pattern解析(*.do和/区别)
5.3.1 url-pattern解析
5.3.2 静态资源访问
6、处理器方法接收请求参数
6.1 直接使用方法的参数逐个接收
6.2 使用对象接收多个参数
6.3 请求参数和方法名称的参数不一致
6.4 使用HttpServletRequest 对象获取参数
6.5 直接使用URL地址传参
6.6 获取日期类型的参数
6.7 获取数组类型的参数
6.8 获取集合类型的参数
7、请求参数中文乱码
7.1 乱码解决方案" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/80a63dfc558762aeeafe77fc6a9b8dde/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-09T19:04:38+08:00" />
<meta property="article:modified_time" content="2021-08-09T19:04:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SpringMVC知识点详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"></p> 
<p id="1%E3%80%81SpringMVC%E6%A6%82%E8%BF%B0-toc" style="margin-left:0px;"><strong>目录</strong></p> 
<p style="margin-left:0px;"><a href="#1%E3%80%81SpringMVC%E6%A6%82%E8%BF%B0" rel="nofollow">1、SpringMVC概述</a></p> 
<p id="1.1%20SpringMVC%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#1.1%20SpringMVC%E6%A6%82%E5%BF%B5" rel="nofollow">1.1 SpringMVC概念</a></p> 
<p id="1.2%20SpringMVC%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#1.2%20SpringMVC%E5%8E%9F%E7%90%86" rel="nofollow">1.2 SpringMVC原理</a></p> 
<p id="1.3%20SpringMVC%E4%BC%98%E5%8A%BF-toc" style="margin-left:40px;"><a href="#1.3%20SpringMVC%E4%BC%98%E5%8A%BF" rel="nofollow">1.3 SpringMVC优势</a></p> 
<p id="2%E3%80%81MVC%E6%A8%A1%E5%BC%8F%E5%9B%9E%E9%A1%BE-toc" style="margin-left:0px;"><a href="#2%E3%80%81MVC%E6%A8%A1%E5%BC%8F%E5%9B%9E%E9%A1%BE" rel="nofollow">2、MVC模式回顾</a></p> 
<p id="3%E3%80%81%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F-toc" style="margin-left:0px;"><a href="#3%E3%80%81%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F" rel="nofollow">3、入门程序</a></p> 
<p id="3.1%20%E5%88%9B%E5%BB%BAweb%E7%9A%84maven%E5%B7%A5%E7%A8%8B-toc" style="margin-left:40px;"><a href="#3.1%20%E5%88%9B%E5%BB%BAweb%E7%9A%84maven%E5%B7%A5%E7%A8%8B" rel="nofollow">3.1 创建web的maven工程</a></p> 
<p id="%C2%A03.2%20pom.xml%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96%E5%92%8C%E6%8F%92%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%C2%A03.2%20pom.xml%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96%E5%92%8C%E6%8F%92%E4%BB%B6" rel="nofollow"> 3.2 pom.xml文件添加依赖和插件</a></p> 
<p id="%C2%A03.3%20%E5%88%9B%E5%BB%BASpring%E5%92%8CSpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%C2%A03.3%20%E5%88%9B%E5%BB%BASpring%E5%92%8CSpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" rel="nofollow"> 3.3 创建Spring和SpringMVC的配置文件</a></p> 
<p id="3.3.1%20%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6applicationContext.xml%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#3.3.1%20%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6applicationContext.xml%E6%96%87%E4%BB%B6" rel="nofollow">3.3.1 创建Spring配置文件applicationContext.xml文件</a></p> 
<p id="3.3.2%20%E5%88%9B%E5%BB%BASpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6springmvc.xml-toc" style="margin-left:80px;"><a href="#3.3.2%20%E5%88%9B%E5%BB%BASpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6springmvc.xml" rel="nofollow">3.3.2 创建SpringMVC的配置文件springmvc.xml</a></p> 
<p id="3.4%20%E5%9C%A8web.xml%E4%B8%AD%E8%BF%9B%E8%A1%8CSpring%E5%92%8CSpringMVC%E9%85%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#3.4%20%E5%9C%A8web.xml%E4%B8%AD%E8%BF%9B%E8%A1%8CSpring%E5%92%8CSpringMVC%E9%85%8D%E7%BD%AE" rel="nofollow">3.4 在web.xml中进行Spring和SpringMVC配置</a></p> 
<p id="3.5%20%E5%88%9B%E5%BB%BA%E6%8E%A7%E5%88%B6%E5%99%A8-toc" style="margin-left:40px;"><a href="#3.5%20%E5%88%9B%E5%BB%BA%E6%8E%A7%E5%88%B6%E5%99%A8" rel="nofollow">3.5 创建控制器</a></p> 
<p id="3.6%20%E9%85%8D%E7%BD%AE%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8-toc" style="margin-left:40px;"><a href="#3.6%20%E9%85%8D%E7%BD%AE%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8" rel="nofollow">3.6 配置视图解析器</a></p> 
<p id="3.7%20%E7%BC%96%E5%86%99index.jsp%E9%A1%B5%E9%9D%A2-toc" style="margin-left:40px;"><a href="#3.7%20%E7%BC%96%E5%86%99index.jsp%E9%A1%B5%E9%9D%A2" rel="nofollow">3.7 编写index.jsp页面</a></p> 
<p id="3.8%20%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#3.8%20%E6%B5%8B%E8%AF%95" rel="nofollow">3.8 测试</a></p> 
<p id="3.9%20%E5%90%AF%E5%8A%A8web%E5%AE%B9%E5%99%A8%E5%90%8Eweb.xml%E4%B8%AD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88-toc" style="margin-left:40px;"><a href="#3.9%20%E5%90%AF%E5%8A%A8web%E5%AE%B9%E5%99%A8%E5%90%8Eweb.xml%E4%B8%AD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88" rel="nofollow">3.9 启动web容器后web.xml中发生了什么</a></p> 
<p id="4%E3%80%81SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-toc" style="margin-left:0px;"><a href="#4%E3%80%81SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B" rel="nofollow">4、SpringMVC工作流程</a></p> 
<p id="4.1%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90-toc" style="margin-left:40px;"><a href="#4.1%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90" rel="nofollow">4.1 工作流程分析</a></p> 
<p id="4.2%20SpringMVC%E7%BB%84%E4%BB%B6-toc" style="margin-left:40px;"><a href="#4.2%20SpringMVC%E7%BB%84%E4%BB%B6" rel="nofollow">4.2 SpringMVC组件</a></p> 
<p id="5%20%40RequestMapping%20%E6%B3%A8%E8%A7%A3-toc" style="margin-left:0px;"><a href="#5%20%40RequestMapping%20%E6%B3%A8%E8%A7%A3" rel="nofollow">5 @RequestMapping 注解</a></p> 
<p id="5.1%40RequestMapping%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE-toc" style="margin-left:40px;"><a href="#5.1%40RequestMapping%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE" rel="nofollow">5.1@RequestMapping出现的位置</a></p> 
<p id="5.2%20%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8F%90%E4%BA%A4%E6%96%B9%E5%BC%8F-toc" style="margin-left:40px;"><a href="#5.2%20%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8F%90%E4%BA%A4%E6%96%B9%E5%BC%8F" rel="nofollow">5.2 指定请求的提交方式</a></p> 
<p id="5.3%20%E8%A1%A5%E5%85%85url-pattern%E8%A7%A3%E6%9E%90(*.do%E5%92%8C%2F%E5%8C%BA%E5%88%AB)-toc" style="margin-left:80px;"><a href="#5.3%20%E8%A1%A5%E5%85%85url-pattern%E8%A7%A3%E6%9E%90%28*.do%E5%92%8C%2F%E5%8C%BA%E5%88%AB%29" rel="nofollow">5.3 补充url-pattern解析(*.do和/区别)</a></p> 
<p id="5.3.1%20url-pattern%E8%A7%A3%E6%9E%90-toc" style="margin-left:80px;"><a href="#5.3.1%20url-pattern%E8%A7%A3%E6%9E%90" rel="nofollow">5.3.1 url-pattern解析</a></p> 
<p id="5.3.2%20%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE-toc" style="margin-left:80px;"><a href="#5.3.2%20%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE" rel="nofollow">5.3.2 静态资源访问</a></p> 
<p id="6%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0-toc" style="margin-left:0px;"><a href="#6%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" rel="nofollow">6、处理器方法接收请求参数</a></p> 
<p id="6.1%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E9%80%90%E4%B8%AA%E6%8E%A5%E6%94%B6-toc" style="margin-left:40px;"><a href="#6.1%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E9%80%90%E4%B8%AA%E6%8E%A5%E6%94%B6" rel="nofollow">6.1 直接使用方法的参数逐个接收</a></p> 
<p id="6.2%20%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%8E%A5%E6%94%B6%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#6.2%20%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%8E%A5%E6%94%B6%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0" rel="nofollow">6.2 使用对象接收多个参数</a></p> 
<p id="6.3%20%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%E5%90%8D%E7%A7%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%B8%8D%E4%B8%80%E8%87%B4-toc" style="margin-left:40px;"><a href="#6.3%20%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%E5%90%8D%E7%A7%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%B8%8D%E4%B8%80%E8%87%B4" rel="nofollow">6.3 请求参数和方法名称的参数不一致</a></p> 
<p id="6.4%20%E4%BD%BF%E7%94%A8HttpServletRequest%20%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#6.4%20%E4%BD%BF%E7%94%A8HttpServletRequest%20%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0" rel="nofollow">6.4 使用HttpServletRequest 对象获取参数</a></p> 
<p id="6.5%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8URL%E5%9C%B0%E5%9D%80%E4%BC%A0%E5%8F%82-toc" style="margin-left:40px;"><a href="#6.5%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8URL%E5%9C%B0%E5%9D%80%E4%BC%A0%E5%8F%82" rel="nofollow">6.5 直接使用URL地址传参</a></p> 
<p id="6.6%20%E8%8E%B7%E5%8F%96%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#6.6%20%E8%8E%B7%E5%8F%96%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0" rel="nofollow">6.6 获取日期类型的参数</a></p> 
<p id="6.7%20%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#6.7%20%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0" rel="nofollow">6.7 获取数组类型的参数</a></p> 
<p id="6.8%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0-toc" style="margin-left:40px;"><a href="#6.8%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0" rel="nofollow">6.8 获取集合类型的参数</a></p> 
<p id="7%E3%80%81%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81-toc" style="margin-left:0px;"><a href="#7%E3%80%81%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81" rel="nofollow">7、请求参数中文乱码</a></p> 
<p id="%C2%A07.1%20%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-toc" style="margin-left:40px;"><a href="#%C2%A07.1%20%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" rel="nofollow"> 7.1 乱码解决方案</a></p> 
<p id="7.2%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#7.2%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%8E%9F%E7%90%86" rel="nofollow">7.2 解决方案原理</a></p> 
<p id="%C2%A07%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC-toc" style="margin-left:0px;"><a href="#%C2%A07%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC" rel="nofollow"> 7、处理器方法的返回值</a></p> 
<p id="7.1%20%E8%BF%94%E5%9B%9EModelAndView-toc" style="margin-left:40px;"><a href="#7.1%20%E8%BF%94%E5%9B%9EModelAndView" rel="nofollow">7.1 返回ModelAndView</a></p> 
<p id="7.2%20%E8%BF%94%E5%9B%9EString-toc" style="margin-left:40px;"><a href="#7.2%20%E8%BF%94%E5%9B%9EString" rel="nofollow">7.2 返回String</a></p> 
<p id="7.3%20%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px;"><a href="#7.3%20%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B" rel="nofollow">7.3 返回对象类型(Integer、String、Map、List或自定义)</a></p> 
<p id="7.3.1%20%E8%BF%94%E5%9B%9E%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#7.3.1%20%E8%BF%94%E5%9B%9E%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B" rel="nofollow">7.3.1 返回基础类型</a></p> 
<p id="7.3.2%20%E8%BF%94%E5%9B%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#7.3.2%20%E8%BF%94%E5%9B%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B" rel="nofollow">7.3.2 返回自定义对象类型</a></p> 
<p id="7.3.3%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88List-toc" style="margin-left:80px;"><a href="#7.3.3%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88List" rel="nofollow">7.3.3 返回集合List</a></p> 
<p id="7.3.4%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88Map-toc" style="margin-left:80px;"><a href="#7.3.4%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88Map" rel="nofollow">7.3.4 返回集合Map</a></p> 
<p id="7.4%20%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%20void-%E4%BA%86%E8%A7%A3-toc" style="margin-left:40px;"><a href="#7.4%20%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%20void-%E4%BA%86%E8%A7%A3" rel="nofollow">7.4 无返回值 void-了解</a></p> 
<p id="8%E3%80%81%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%E7%9A%84%E6%96%B9%E5%BC%8F-toc" style="margin-left:0px;"><a href="#8%E3%80%81%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%E7%9A%84%E6%96%B9%E5%BC%8F" rel="nofollow">8、页面导航的方式</a></p> 
<p id="8.1%20%E8%BD%AC%E5%8F%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2-toc" style="margin-left:40px;"><a href="#8.1%20%E8%BD%AC%E5%8F%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2" rel="nofollow">8.1 转发到一个jsp页面</a></p> 
<p id="8.1.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E8%BD%AC%E5%8F%91-toc" style="margin-left:80px;"><a href="#8.1.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E8%BD%AC%E5%8F%91" rel="nofollow">8.1.1 字符串方式转发</a></p> 
<p id="8.1.2%20ModelAndView%E8%BD%AC%E5%8F%91-toc" style="margin-left:80px;"><a href="#8.1.2%20ModelAndView%E8%BD%AC%E5%8F%91" rel="nofollow">8.1.2 ModelAndView转发</a></p> 
<p id="8.2%20%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2-toc" style="margin-left:40px;"><a href="#8.2%20%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2" rel="nofollow">8.2 重定向到一个jsp页面</a></p> 
<p id="8.2.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E9%87%8D%E5%AE%9A%E5%90%91-toc" style="margin-left:80px;"><a href="#8.2.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E9%87%8D%E5%AE%9A%E5%90%91" rel="nofollow">8.2.1 字符串方式重定向</a></p> 
<p id="8.2.2%20ModelAndView%E9%87%8D%E5%AE%9A%E5%90%91%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#8.2.2%20ModelAndView%E9%87%8D%E5%AE%9A%E5%90%91%E6%96%B9%E5%BC%8F" rel="nofollow">8.2.2 ModelAndView重定向方式</a><a href="#%E2%80%8B" rel="nofollow">​</a></p> 
<p id="8.3%20%E9%87%8D%E5%AE%9A%E5%90%91%E6%88%96%E8%80%85%E8%BD%AC%E5%8F%91%E5%88%B0%E6%8E%A7%E5%88%B6%E5%99%A8-toc" style="margin-left:40px;"><a href="#8.3%20%E9%87%8D%E5%AE%9A%E5%90%91%E6%88%96%E8%80%85%E8%BD%AC%E5%8F%91%E5%88%B0%E6%8E%A7%E5%88%B6%E5%99%A8" rel="nofollow">8.3 重定向或者转发到控制器</a></p> 
<p id="9%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-toc" style="margin-left:0px;"><a href="#9%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86" rel="nofollow">9、异常处理</a></p> 
<p id="9.1%40ExceptionHandler%20%E6%B3%A8%E8%A7%A3-toc" style="margin-left:40px;"><a href="#9.1%40ExceptionHandler%20%E6%B3%A8%E8%A7%A3" rel="nofollow">9.1@ExceptionHandler 注解</a></p> 
<p id="9.2%20%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-toc" style="margin-left:40px;"><a href="#9.2%20%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4" rel="nofollow">9.2 实现步骤</a></p> 
<p id="9.2.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB-toc" style="margin-left:40px;"><a href="#9.2.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB" rel="nofollow">9.3优化</a></p> 
<p id="10%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8-toc" style="margin-left:0px;"><a href="#10%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8" rel="nofollow">10、拦截器</a></p> 
<p id="10.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8-toc" style="margin-left:40px;"><a href="#10.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8" rel="nofollow">10.1 自定义拦截器</a></p> 
<p id="10.2%20%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8-toc" style="margin-left:40px;"><a href="#10.2%20%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8" rel="nofollow">10.2 配置拦截器</a></p> 
<p id="11%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD-toc" style="margin-left:0px;"><a href="#11%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD" rel="nofollow">11、文件上传和下载</a></p> 
<p id="11.1%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0-toc" style="margin-left:40px;"><a href="#11.1%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0" rel="nofollow">11.1 文件上传</a></p> 
<p id="%C2%A011.2%20%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD-toc" style="margin-left:40px;"><a href="#%C2%A011.2%20%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD" rel="nofollow"> 11.2 文件下载</a></p> 
<p id="12%E3%80%81RESTful%E9%A3%8E%E6%A0%BC-toc" style="margin-left:0px;"><a href="#12%E3%80%81RESTful%E9%A3%8E%E6%A0%BC" rel="nofollow">12、RESTful风格</a></p> 
<p id="12.1%20REST%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#12.1%20REST%E6%A6%82%E5%BF%B5" rel="nofollow">12.1 REST概念</a></p> 
<p id="12.2%20RESTful%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#12.2%20RESTful%E6%A6%82%E5%BF%B5" rel="nofollow">12.2 RESTful概念</a></p> 
<p id="12.3%20API%E8%AE%BE%E8%AE%A1%2FURL%E8%AE%BE%E8%AE%A1-toc" style="margin-left:40px;"><a href="#12.3%20API%E8%AE%BE%E8%AE%A1%2FURL%E8%AE%BE%E8%AE%A1" rel="nofollow">12.3 RESTful风格的API设计/URL设计</a></p> 
<p id="12.3.1%20%E5%8A%A8%E8%AF%8D%2B%E5%AE%BE%E8%AF%AD-toc" style="margin-left:80px;"><a href="#12.3.1%20%E5%8A%A8%E8%AF%8D%2B%E5%AE%BE%E8%AF%AD" rel="nofollow">12.3.1 动词+宾语</a></p> 
<p id="12.4%20HTTP%E7%8A%B6%E6%80%81%E7%A0%81-toc" style="margin-left:40px;"><a href="#12.4%20HTTP%E7%8A%B6%E6%80%81%E7%A0%81" rel="nofollow">12.4 HTTP状态码</a></p> 
<p id="12.4.1%20%E7%8A%B6%E6%80%81%E7%A0%812xx-toc" style="margin-left:80px;"><a href="#12.4.1%20%E7%8A%B6%E6%80%81%E7%A0%812xx" rel="nofollow">12.4.1 状态码2xx</a></p> 
<p id="12.4.2%20%E7%8A%B6%E6%80%81%E7%A0%813xx-toc" style="margin-left:80px;"><a href="#12.4.2%20%E7%8A%B6%E6%80%81%E7%A0%813xx" rel="nofollow">12.4.2 状态码3xx</a></p> 
<p id="12.4.4%20%E7%8A%B6%E6%80%81%E7%A0%815xx-toc" style="margin-left:80px;"><a href="#12.4.4%20%E7%8A%B6%E6%80%81%E7%A0%815xx" rel="nofollow">12.4.4 状态码5xx</a></p> 
<p id="12.5%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94-toc" style="margin-left:40px;"><a href="#12.5%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94" rel="nofollow">12.5 服务器响应</a></p> 
<p id="12.6%20%E6%A1%88%E4%BE%8B-toc" style="margin-left:40px;"><a href="#12.6%20%E6%A1%88%E4%BE%8B" rel="nofollow">12.6 案例</a></p> 
<p id="12.6.1RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#12.6.1RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9F%A5%E8%AF%A2" rel="nofollow">12.6.1RESTful风格的查询</a></p> 
<p id="12.6.2RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%B7%BB%E5%8A%A0-toc" style="margin-left:80px;"><a href="#12.6.2RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%B7%BB%E5%8A%A0" rel="nofollow">12.6.2RESTful风格的添加</a></p> 
<p id="12.6.3%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0-toc" style="margin-left:80px;"><a href="#12.6.3%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0" rel="nofollow">12.6.3 RESTful风格的更新</a></p> 
<p id="12.6.4RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E5%88%A0%E9%99%A4-toc" style="margin-left:80px;"><a href="#12.6.4RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E5%88%A0%E9%99%A4" rel="nofollow">12.6.4RESTful风格的删除</a></p> 
<p id="12.6.5%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0%E5%92%8C%E5%88%A0%E9%99%A4%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#12.6.5%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0%E5%92%8C%E5%88%A0%E9%99%A4%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98" rel="nofollow">12.6.5 RESTful风格的更新和删除遇到的问题</a></p> 
<p id="12.7%20%E8%87%AA%E5%B7%B1%E5%B0%81%E8%A3%85%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C-toc" style="margin-left:80px;"><a href="#12.7%20%E8%87%AA%E5%B7%B1%E5%B0%81%E8%A3%85%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C" rel="nofollow">12.7 自己封装响应结果</a></p> 
<hr id="hr-toc"> 
<h2 id="1%E3%80%81SpringMVC%E6%A6%82%E8%BF%B0"><span style="color:#333333;"><strong>1</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>SpringMVC</strong></span><span style="color:#333333;"><strong>概述 </strong></span></h2> 
<h3 id="1.1%20SpringMVC%E6%A6%82%E5%BF%B5"><span style="color:#333333;"><strong>1.1 SpringMVC</strong></span><span style="color:#333333;"><strong>概念</strong></span></h3> 
<div> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">也叫</span> 
 <span style="color:#333333;"> Spring web mvc</span> 
 <span style="color:#333333;">。是</span> 
 <span style="color:#333333;"> Spring</span> 
 <span style="color:#333333;">内置的一个</span> 
 <span style="color:#333333;">MVC</span> 
 <span style="color:#333333;">框架，在</span> 
 <span style="color:#333333;"> Spring3.0 </span> 
 <span style="color:#333333;">后发布。</span> 
 <span style="color:#333333;">SpringMVC 框架解决了WEB</span> 
 <span style="color:#333333;">开发中常见的问题</span> 
 <span style="color:#333333;">(</span> 
 <span style="color:#333333;">参数接收、文件上传、表单验证等等</span> 
 <span style="color:#333333;">)</span> 
 <span style="color:#333333;">，而且使用简单，与</span> 
 <span style="color:#333333;">Spring</span> 
 <span style="color:#333333;">无缝集成。支持 RESTful</span> 
 <span style="color:#333333;">风格的</span> 
 <span style="color:#333333;">URL</span> 
 <span style="color:#333333;">请求。采用了松散耦合可插拔组件结构，比其他</span> 
 <span style="color:#333333;"> MVC </span> 
 <span style="color:#333333;">框架更具扩展性和灵活性。 </span> 
</div> 
<div></div> 
<h3 id="1.2%20SpringMVC%E5%8E%9F%E7%90%86"><span style="color:#333333;"><strong>1.2 SpringMVC</strong></span><span style="color:#333333;"><strong>原理 </strong></span></h3> 
<div> 
 <span style="color:#333333;">在没有使用SpringMVC之前我们都是使用</span> 
 <span style="color:#333333;">Servlet</span> 
 <span style="color:#333333;">在做</span> 
 <span style="color:#333333;">Web</span> 
 <span style="color:#333333;">开发。但是使用</span> 
 <span style="color:#333333;">Servlet</span> 
 <span style="color:#333333;">开发在接收请求参数， 数据共享，页面跳转等操作相对比较复杂。servlet</span> 
 <span style="color:#333333;">是</span> 
 <span style="color:#333333;">java</span> 
 <span style="color:#333333;">进行</span> 
 <span style="color:#333333;">web</span> 
 <span style="color:#333333;">开发的标准，既然</span> 
 <span style="color:#333333;">springMVC</span> 
 <span style="color:#333333;">是对 servlet的封装，那么很显然</span> 
 <span style="color:#333333;"><strong>SpringMVC</strong></span> 
 <span style="color:#333333;"><strong>底层就是</strong></span> 
 <span style="color:#333333;"><strong>Servlet</strong></span> 
 <span style="color:#333333;"><strong>，</strong></span> 
 <span style="color:#333333;"><strong>SpringMVC</strong></span> 
 <span style="color:#333333;"><strong>就是对</strong></span> 
 <span style="color:#333333;"><strong>Servlet</strong></span> 
 <span style="color:#333333;"><strong>进行深层次的封 </strong></span> 
 <span style="color:#333333;"><strong>装。</strong></span> 
</div> 
<div></div> 
<h3 id="1.3%20SpringMVC%E4%BC%98%E5%8A%BF"><span style="color:#333333;"><strong>1.3 SpringMVC</strong></span><span style="color:#333333;"><strong>优势</strong></span></h3> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、基于</span> 
 <span style="color:#333333;"> MVC </span> 
 <span style="color:#333333;">架构，功能分工明确。解决页面代码和后台代码的分离。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、简单易用。</span> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">也是轻量级，</span> 
 <span style="color:#333333;">jar </span> 
 <span style="color:#333333;">很小。不依赖特定接口和类就可开发一个注解的 </span> 
</div> 
<div> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">项目。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、是</span> 
 <span style="color:#333333;">Spring框架一</span> 
 <span style="color:#333333;">部 分 ,能够使用</span> 
 <span style="color:#333333;">Spring</span> 
 <span style="color:#333333;">的</span> 
 <span style="color:#333333;">IoC</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">AOP ,</span> 
 <span style="color:#333333;">方 便 整 合</span> 
 <span style="color:#333333;">MyBatis,Hiberate,JPA</span> 
 <span style="color:#333333;">等 </span> 
</div> 
<div> 
 <span style="color:#333333;">其他框架。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">springMVC</span> 
 <span style="color:#333333;">的注解强大易用。 </span> 
</div> 
<div></div> 
<h2 id="2%E3%80%81MVC%E6%A8%A1%E5%BC%8F%E5%9B%9E%E9%A1%BE"><span style="color:#333333;"><strong>2</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>MVC</strong></span><span style="color:#333333;"><strong>模式回顾 </strong></span></h2> 
<div> 
 <span style="color:#777777;">模型</span> 
 <span style="color:#777777;">1</span> 
 <span style="color:#777777;">：</span> 
 <span style="color:#777777;">jsp+javabean</span> 
 <span style="color:#777777;">模型</span> 
 <span style="color:#777777;">---</span> 
 <span style="color:#777777;">在</span> 
 <span style="color:#777777;">jsp</span> 
 <span style="color:#777777;">页面中嵌入大量的</span> 
 <span style="color:#777777;">java</span> 
 <span style="color:#777777;">代码 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#777777;">模型</span> 
 <span style="color:#777777;">2</span> 
 <span style="color:#777777;">：</span> 
 <span style="color:#777777;">jsp+servlet+javabean</span> 
 <span style="color:#777777;">模型</span> 
 <span style="color:#777777;">---jsp</span> 
 <span style="color:#777777;">页面将请求发送给</span> 
 <span style="color:#777777;">servlet</span> 
 <span style="color:#777777;">，由</span> 
 <span style="color:#777777;">servlet</span> 
 <span style="color:#777777;">调用</span> 
 <span style="color:#777777;">javabean</span> 
 <span style="color:#777777;">，再 </span> 
</div> 
<div> 
 <span style="color:#777777;">由</span> 
 <span style="color:#777777;">servlet</span> 
 <span style="color:#777777;">将制定</span> 
 <span style="color:#777777;">jsp</span> 
 <span style="color:#777777;">页面响应给用户。 </span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">模型</span> 
  <span style="color:#333333;">2</span> 
  <span style="color:#333333;">一般就是现在的</span> 
  <span style="color:#333333;">MVC</span> 
  <span style="color:#333333;">模式，也是我们一直使用的。 </span> 
 </div> 
 <div></div> 
</div> 
<p><span style="color:#333333;">Model-View-Controller</span><span style="color:#333333;">：模型</span><span style="color:#333333;">--</span><span style="color:#333333;">视图</span><span style="color:#333333;">--</span><span style="color:#333333;">控制器</span></p> 
<div> 
 <span style="color:#333333;">Model</span> 
 <span style="color:#333333;">： 模型层</span> 
 <span style="color:#333333;"> javaBean </span> 
 <span style="color:#333333;">负责数据访问和业务处理</span> 
 <span style="color:#333333;"> dao service pojo </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">View</span> 
 <span style="color:#333333;">：</span> 
 <span style="color:#333333;">视图</span> 
 <span style="color:#333333;"> JSP</span> 
 <span style="color:#333333;">技术</span> 
 <span style="color:#333333;">负责收集和展示数据 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">Controller</span> 
 <span style="color:#333333;">： 控制器</span> 
 <span style="color:#333333;"> servlet</span> 
 <span style="color:#333333;">技术</span> 
 <span style="color:#333333;">中间调度</span> 
</div> 
<p></p> 
<p><span style="color:#333333;">控制器的工作：</span></p> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、接受客户端的请求（包括请求中携带的数据） </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、处理请求：调用后台的模型层中的业务逻辑 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、页面导航：处理完毕给出响应：</span> 
 <span style="color:#333333;">JSP</span> 
 <span style="color:#333333;">页面</span> 
</div> 
<p></p> 
<h2 id="3%E3%80%81%E5%85%A5%E9%97%A8%E7%A8%8B%E5%BA%8F"><span style="color:#333333;"><strong>3</strong></span><span style="color:#333333;"><strong>、入门程序 </strong></span></h2> 
<h3 id="3.1%20%E5%88%9B%E5%BB%BAweb%E7%9A%84maven%E5%B7%A5%E7%A8%8B"><span style="color:#333333;"><strong>3.1 </strong></span><span style="color:#333333;"><strong>创建web的</strong></span><span style="color:#333333;"><strong>maven工程</strong></span></h3> 
<p><span style="color:#333333;">创建项目并补齐目录结构 </span></p> 
<p><img alt="" height="328" src="https://images2.imgbox.com/a6/0d/ib5TR7ZB_o.png" width="271"></p> 
<h3 id="%C2%A03.2%20pom.xml%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96%E5%92%8C%E6%8F%92%E4%BB%B6"> <span style="color:#333333;"><strong>3.2 pom.xml</strong></span><span style="color:#333333;"><strong>文件添加依赖和插件 </strong></span></h3> 
<p><img alt="" height="390" src="https://images2.imgbox.com/ae/2d/qGHZVD6N_o.png" width="696"></p> 
<p> <img alt="" height="509" src="https://images2.imgbox.com/d9/99/XRzeO2n0_o.png" width="562"></p> 
<h3 id="%C2%A03.3%20%E5%88%9B%E5%BB%BASpring%E5%92%8CSpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"> <span style="color:#333333;"><strong>3.3 </strong></span><span style="color:#333333;"><strong>创建</strong></span><span style="color:#333333;"><strong>Spring</strong></span><span style="color:#333333;"><strong>和</strong></span><span style="color:#333333;"><strong>SpringMVC</strong></span><span style="color:#333333;"><strong>的配置文件</strong></span></h3> 
<div> 
 <span style="color:#333333;">我们一般将除了</span> 
 <span style="color:#333333;"> Controller </span> 
 <span style="color:#333333;">之外的所有</span> 
 <span style="color:#333333;"> Bean </span> 
 <span style="color:#333333;">注册到</span> 
 <span style="color:#333333;"> Spring </span> 
 <span style="color:#333333;">容器中，而将</span> 
 <span style="color:#333333;"> Controller </span> 
 <span style="color:#333333;">注册到 </span> 
</div> 
<div> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">容器中。所以我们在</span> 
 <span style="color:#333333;"> resources </span> 
 <span style="color:#333333;">目录下添加</span> 
 <span style="color:#333333;"> applicationContext.xml </span> 
 <span style="color:#333333;">作为</span> 
 <span style="color:#333333;"> spring </span> 
 <span style="color:#333333;">的配置， 添加springmvc.xml</span> 
 <span style="color:#333333;">作为</span> 
 <span style="color:#333333;">springmvc</span> 
 <span style="color:#333333;">的配置文件。 </span> 
</div> 
<p></p> 
<h4 id="3.3.1%20%E5%88%9B%E5%BB%BASpring%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6applicationContext.xml%E6%96%87%E4%BB%B6"><span style="color:#333333;"><strong>3.3.1 </strong></span><span style="color:#333333;"><strong>创建</strong></span><span style="color:#333333;"><strong>Spring</strong></span><span style="color:#333333;"><strong>配置文件</strong></span><span style="color:#333333;"><strong>applicationContext.xml</strong></span><span style="color:#333333;"><strong>文件</strong></span></h4> 
<p>spring作为IOC容器创建管理对象，在xml中需要配置组件扫描器进行包扫描，找到@Component、@Repository、@Service、@Controller注解的类进行对象的创建，因此需要添加context约束。<span style="color:#333333;">一般将除了</span><span style="color:#333333;"> Controller </span><span style="color:#333333;">之外的所有</span><span style="color:#333333;"> Bean </span><span style="color:#333333;">注册到</span><span style="color:#333333;"> Spring </span><span style="color:#333333;">容器中</span></p> 
<p><img alt="" height="294" src="https://images2.imgbox.com/4f/2c/OoGUJYMh_o.png" width="768"></p> 
<h4 id="3.3.2%20%E5%88%9B%E5%BB%BASpringMVC%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6springmvc.xml"><span style="color:#333333;"><strong>3.3.2 </strong></span><span style="color:#333333;"><strong>创建</strong></span><span style="color:#333333;"><strong>SpringMVC</strong></span><span style="color:#333333;"><strong>的配置文件</strong></span><span style="color:#333333;"><strong>springmvc.xml </strong></span></h4> 
<div> 
 <span style="color:#333333;">一般将</span> 
 <span style="color:#333333;"> Controller </span> 
 <span style="color:#333333;">注册到SpringMVC 容器中，所以也需要context约束(命名空间)，需要组件扫描器进行包扫描，另外还需要添加mvc约束。</span> 
</div> 
<p><img alt="" height="351" src="https://images2.imgbox.com/ec/74/iIMOOzIl_o.png" width="744"></p> 
<h3 id="3.4%20%E5%9C%A8web.xml%E4%B8%AD%E8%BF%9B%E8%A1%8CSpring%E5%92%8CSpringMVC%E9%85%8D%E7%BD%AE"><span style="color:#333333;"><strong>3.4 </strong></span><span style="color:#333333;"><strong>在</strong></span><span style="color:#333333;"><strong>web.xml</strong></span><span style="color:#333333;"><strong>中进行</strong></span><span style="color:#333333;"><strong>Spring</strong></span><span style="color:#333333;"><strong>和</strong></span><span style="color:#333333;"><strong>SpringMVC</strong></span><span style="color:#333333;"><strong>配置</strong></span></h3> 
<p>web服务器启动后，读了web.xml后就会去启动Spring容器和SpringMVC容器，创建各自对象。</p> 
<div> 
 <strong><span style="color:#aa5500;">&lt;!--spring</span><span style="color:#aa5500;">的配置</span><span style="color:#aa5500;">--&gt;</span></strong> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">&lt;!--contextConfigLocation：表示用于加载 Bean的配置文件--&gt; </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#0d0016;">&lt;!--指定spring配置文件的位置 ，这个配置文件也有一些默认规则，它的配置文件名默认就叫 applicationContext.xml ， 如果将这个配置文件放在 WEB-INF 目录下，那么这里就可以不用 指定配置文件位置， 只需要指定监听器就可以。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">这段配置是 Spring 集成 Web 环境的通用配置；一般用于加载除控制器层的 Bean（如 dao、service 等），以便于与其他任何Web框架集成。</span> 
</div> 
<div></div> 
<div></div> 
<div></div> 
<div> 
 <div> 
  <strong><span style="color:#aa5500;">&lt;!--SpringMVC</span><span style="color:#aa5500;">的配置</span><span style="color:#aa5500;">--&gt; </span></strong> 
 </div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#0d0016;">&lt;!--</span> 
  </div> 
  <div> 
   <span style="color:#0d0016;">前端控制器：所有的请求都会经过此控制器，然后通过此控制器分发到各个分控制器. </span> 
  </div> 
  <div> 
   <span style="color:#0d0016;">前端控制器本质上还是一个Servlet，因为SpringMVC底层就是使用Servlet编写的 </span> 
  </div> 
  <div> 
   <span style="color:#0d0016;">--&gt; </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#0d0016;">&lt;!-- 创建前端控制器的时候读取springmvc配置文件启动ioc容器 --&gt; </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#0d0016;">load-on-startup &lt;!-- Tomcat启动就创建此对象(值&gt;0) --&gt; </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#0d0016;">&lt;!-- 配置拦截路径url，所有以.do结尾的请求都会被前端控制器拦截处理 --&gt; </span> 
  </div> 
 </div> 
</div> 
<div></div> 
<p><img alt="" height="756" src="https://images2.imgbox.com/53/0d/JX2w9OQq_o.png" width="970"></p> 
<div> 
 <span style="color:#0d0016;">SpringMVC的配置解析：</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#0d0016;">1、<strong>servlet-class</strong>：前端控制器的完全限定名，在spring-webmvc-5.2.5.RELEASE.jar包中的 </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">org.springframework.web.servlet下 </span> 
 </div> 
</div> 
<p></p> 
<div> 
 <span style="color:#0d0016;">2、<strong>load-on-startup</strong>：标记是否在Web服务器（这里是Tomcat）启动时会创建这个 Servlet 实 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">例，即是否在 Web 服务器启动时调用执行该 Servlet 的 init()方法，而不是在真正访问时才创建。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">要求取值是整数。 值大于0：表示容器在启动时就加载并初始化这个 servlet，数值越小，Servlet的优先级就越高，其被创建的也就越早值小于0或者省略：表示该 Servlet 在真正被使用时才会去创建。 值相同：容器会自己选择创建顺序</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#0d0016;">3、<strong>url-pattern</strong>：可以写为 / ，可以写为*.do 、*.action、*.mvc等形式，此处先写*.do,以后 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">介绍不同写法的区别。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#0d0016;">4、<strong>init-param</strong>：表示了springmvc配置文件的名称和位置。如果没有配置，默认在项目的WEB-INF 目录下找名称为 Servlet 名称-servlet.xml 的配置文件。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#0d0016;">如果没有配置，启用默认的规则：即如果配置文件放在 webapp/WEB-INF/ 目录下，并且配置文 </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">件的名字等于 DispatcherServlet 的名字+ -servlet（即这里的配置文件路径是 webapp/WEB- </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">INF/dispatcherServlet-servlet.xml），如果是这样的话，可以不用添加 init-param 参数，即不 </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">用手动配置 springmvc 的配置文件，框架会自动加载。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#0d0016;">而一般情况下，配置文件是放在类路径下，即 resources 目录下。所以，在注册前端控制器时， </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">还需要设置查找 SpringMVC 配置文件路径。</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#0d0016;">其中contextConfigLocation属性：来自DispatcherServlet的父类FrameworkServlet， </span> 
 </div> 
 <div> 
  <span style="color:#0d0016;">该类中的contextConfigLocation属性用来配置springmvc的路径和名称。</span> 
 </div> 
</div> 
<div></div> 
<h3 id="3.5%20%E5%88%9B%E5%BB%BA%E6%8E%A7%E5%88%B6%E5%99%A8"><span style="color:#333333;"><strong>3.5 </strong></span><span style="color:#333333;"><strong>创建控制器</strong></span></h3> 
<p><img alt="" height="704" src="https://images2.imgbox.com/e1/ba/3e8M0krZ_o.png" width="850"></p> 
<h3 id="3.6%20%E9%85%8D%E7%BD%AE%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8"><span style="color:#333333;"><strong>3.6 </strong></span><span style="color:#333333;"><strong>配置视图解析器 </strong></span></h3> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">springmvc.xml</span> 
 <span style="color:#333333;">配置文件中添加视图解析器的配置</span> 
</div> 
<div> 
 <img alt="" height="604" src="https://images2.imgbox.com/03/42/VX16G4Je_o.png" width="982"> 
</div> 
<p></p> 
<div> 
 <span style="color:#0d0016;">&lt;!--annotation-driven是一种简写形式，也可以手动配置替代这种简写形式，简写形式可以让初学者快速应用默认配置方案。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">该注解会自动注册DefaultAnnotationHandlerMapping与AnnotationMethodHandlerAdapter </span> 
</div> 
<div> 
 <span style="color:#0d0016;">两个bean,是springMVC为@Controller分发用户请求所必须的，解决了@Controller注解使用的前提配置。同时它还提供了：数据绑定支持，@NumberFormatannotation支持，@DateTimeFormat支持，@Valid支持，读写XML的支持（JAXB，读写JSON的支持（Jackson）。我们处理响应ajax请求时，就使用到了对json 的支持（配置之后，在加入了jackson的core和mapper包之后，不写配置文件也能自动转换成json）。 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">--&gt; </span> 
</div> 
<div></div> 
<h3 id="3.7%20%E7%BC%96%E5%86%99index.jsp%E9%A1%B5%E9%9D%A2"><span style="color:#333333;"><strong>3.7 </strong></span><span style="color:#333333;"><strong>编写</strong></span><span style="color:#333333;"><strong>index.jsp</strong></span><span style="color:#333333;"><strong>页面 </strong></span></h3> 
<div> 
 <span style="color:#333333;">webapp</span> 
 <span style="color:#333333;">文件夹下面创建文件夹</span> 
 <span style="color:#333333;">jsp,</span> 
 <span style="color:#333333;">然后</span> 
 <span style="color:#333333;">jsp</span> 
 <span style="color:#333333;">文件夹中添加</span> 
 <span style="color:#333333;">index.jsp</span> 
 <span style="color:#333333;">页面 </span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="197" src="https://images2.imgbox.com/c1/86/gGkpVWVt_o.png" width="620"> 
</div> 
<h3 id="3.8%20%E6%B5%8B%E8%AF%95"><span style="color:#333333;"><strong>3.8 </strong></span><span style="color:#333333;"><strong>测试 </strong></span></h3> 
<p><img alt="" height="482" src="https://images2.imgbox.com/64/c4/3T8gAMOM_o.png" width="796"></p> 
<p> 在maven中使用tomcat插件无法访问的话，就直接使用本地的tomcat</p> 
<p>1 ，点击 Run---EDit Confifigurations...<br>  <br> 2. 点击左侧 “+” 号，找到 Tomcat Server---Local （若是没有找到 Tomcat Server 可以点击最后一行 34 items more ）<br>  <br> 3. 在 Tomcat Server -&gt; local-&gt; Server -&gt; Application server 项目下，点击 Confifiguration ，找到本地 Tomcat 服务 器，再点击 OK 按钮。</p> 
<p><img alt="" height="165" src="https://images2.imgbox.com/6c/a6/1wYLfma1_o.png" width="728"></p> 
<h3 id="3.9%20%E5%90%AF%E5%8A%A8web%E5%AE%B9%E5%99%A8%E5%90%8Eweb.xml%E4%B8%AD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88"><span style="color:#333333;"><strong>3.9 </strong></span><span style="color:#333333;"><strong>启动web容器后web.xml中发生了什么</strong></span></h3> 
<p></p> 
<div> 
 <span style="color:#333333;">ContextLoaderListener </span> 
 <span style="color:#333333;">初始化的上下文加载的</span> 
 <span style="color:#333333;"> Bean </span> 
 <span style="color:#333333;">是对于整个应用程序共享的，不管是使用什 </span> 
</div> 
<div> 
 <span style="color:#333333;">么表现层技术，一般如</span> 
 <span style="color:#333333;"> dao</span> 
 <span style="color:#333333;">层、</span> 
 <span style="color:#333333;">service</span> 
 <span style="color:#333333;">层 的</span> 
 <span style="color:#333333;">bean</span> 
 <span style="color:#333333;">； </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">DispatcherServlet </span> 
 <span style="color:#333333;">初始化的上下文加载的</span> 
 <span style="color:#333333;"> bean </span> 
 <span style="color:#333333;">是只对</span> 
 <span style="color:#333333;"> Spring Web MVC </span> 
 <span style="color:#333333;">有效的</span> 
 <span style="color:#333333;"> bean</span> 
 <span style="color:#333333;">，如 </span> 
</div> 
<div> 
 <span style="color:#333333;">Controller</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">HandlerMapping</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">HandlerAdapter </span> 
 <span style="color:#333333;">等等，该初始化上下文应该只加载</span> 
 <span style="color:#333333;"> Web</span> 
 <span style="color:#333333;">相关组 </span> 
</div> 
<div> 
 <span style="color:#333333;">件</span> 
</div> 
<h3 id="%E2%80%8B"><img alt="" height="540" src="https://images2.imgbox.com/4f/09/JWxVq3oE_o.png" width="1005"></h3> 
<p> <img alt="" height="734" src="https://images2.imgbox.com/b8/21/zo92piBT_o.png" width="716"></p> 
<p></p> 
<div> 
 <span style="color:#333333;">1.Spring</span> 
 <span style="color:#333333;">容器中不能扫描所有</span> 
 <span style="color:#333333;">Bean</span> 
 <span style="color:#333333;">嘛？ </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">不可以。当用户发送的请求达到服务端后，会寻找前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">去处理，只在 </span> 
</div> 
<div> 
 <span style="color:#333333;">SpringMVC</span> 
 <span style="color:#333333;">容器中找，所以</span> 
 <span style="color:#333333;">Controller</span> 
 <span style="color:#333333;">必须在</span> 
 <span style="color:#333333;">SpringMVC</span> 
 <span style="color:#333333;">容器中扫描。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2.SpringMVC</span> 
 <span style="color:#333333;">容器中可以扫描所有</span> 
 <span style="color:#333333;">Bean</span> 
 <span style="color:#333333;">嘛？ </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">可以。可以在</span> 
 <span style="color:#333333;">SpringMVC</span> 
 <span style="color:#333333;">容器中扫描所有</span> 
 <span style="color:#333333;">Bean</span> 
 <span style="color:#333333;">。但是实际开发中一般不会这么做，原因如下： </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">）为了方便配置文件的管理(两个xml分别管理spring和springmvc的配置)</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">）未来在SSM</span> 
 <span style="color:#333333;">组合中，要写的配置内容很多，一般都会根据功能分开编写</span> 
</div> 
<p></p> 
<h2 id="4%E3%80%81SpringMVC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span style="color:#333333;"><strong>4</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>SpringMVC</strong></span><span style="color:#333333;"><strong>工作流程 </strong></span></h2> 
<h3 id="4.1%20%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span style="color:#333333;"><strong>4.1 </strong></span><span style="color:#333333;"><strong>工作流程分析 </strong></span></h3> 
<p><img alt="" height="281" src="https://images2.imgbox.com/ad/7c/DJtzDADM_o.png" width="726"></p> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">）用户通过浏览器发送请求到前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">）前端控制器直接将请求转给处理器映射器</span> 
 <span style="color:#333333;">HandleMapping</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">）处理器映射器</span> 
 <span style="color:#333333;">HandleMapping</span> 
 <span style="color:#333333;">会根据请求，找到负责处理该请求的处理器，并将其封装为处理器执行链HandlerExecutionChina后返回给前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">）前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">根据处理器执行链中的处理器，找到能够执行该处理器的处理器适配器HandlerAdaptor</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">5</span> 
 <span style="color:#333333;">）处理器适配器</span> 
 <span style="color:#333333;">HandlerAdaptor</span> 
 <span style="color:#333333;">调用执行处理器</span> 
 <span style="color:#333333;">Controller</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">6</span> 
 <span style="color:#333333;">）处理器</span> 
 <span style="color:#333333;">Controller</span> 
 <span style="color:#333333;">将处理结果及要跳转的视图封装到一个对象</span> 
 <span style="color:#333333;"> ModelAndView </span> 
 <span style="color:#333333;">中，并将其返回给处理器适配器HandlerAdaptor</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">7</span> 
 <span style="color:#333333;">）处理器适配器直接将结果返回给前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">8</span> 
 <span style="color:#333333;">）前端控制器调用视图解析器，将</span> 
 <span style="color:#333333;"> ModelAndView </span> 
 <span style="color:#333333;">中的视图名称封装为视图对象。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">9</span> 
 <span style="color:#333333;">）视图解析器ViewResolver</span>[rɪˈzɒlvə] 
 <span style="color:#333333;">将封装的视图View</span> 
 <span style="color:#333333;">对象返回前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet. </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">10</span> 
 <span style="color:#333333;">）前端控制器</span> 
 <span style="color:#333333;">DispatcherServlet</span> 
 <span style="color:#333333;">调用视图对象，让其自己进行渲染，即进行数据填充，形成响应对象。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">（</span> 
 <span style="color:#333333;">11</span> 
 <span style="color:#333333;">）前端控制器响应浏览器。</span> 
</div> 
<p></p> 
<h3 id="4.2%20SpringMVC%E7%BB%84%E4%BB%B6"><span style="color:#333333;"><strong>4.2 SpringMVC</strong></span><span style="color:#333333;"><strong>组件 </strong></span></h3> 
<div> 
 <span style="color:#333333;">1.<strong>DispatcherServlet</strong></span> 
 <span style="color:#333333;">：前端控制器</span> 
 <span style="color:#333333;">,</span> 
 <span style="color:#333333;">也称为中央控制器或者核心控制器。</span> 
</div> 
<div></div> 
<p><span style="color:#333333;">用户请求的入口控制器</span><span style="color:#333333;">，它就相当于</span><span style="color:#333333;"> mvc </span><span style="color:#333333;">模式中的</span><span style="color:#333333;">c</span><span style="color:#333333;">，</span><span style="color:#333333;">DispatcherServlet </span><span style="color:#956fe7;">是整个流程控制的中心</span><span style="color:#333333;">，相当于是 SpringMVC </span><span style="color:#333333;">的大脑，</span><span style="color:#956fe7;">由它调用其它组件处理用户的请求</span><span style="color:#333333;">，</span><span style="color:#333333;">DispatcherServlet </span><span style="color:#333333;">的存在降低了组件之间的耦合性。SpringMVC</span><span style="color:#333333;">框架提供的该核心控制器需要我们在</span><span style="color:#333333;">web.xml</span><span style="color:#333333;">文件中配置。 </span></p> 
<div> 
 <span style="color:#333333;">2.<strong>HandlerMapping</strong></span> 
 <span style="color:#333333;">：处理器映射器</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">HandlerMapping</span> 
 <span style="color:#333333;">也是控制器，派发请求的控制器。我们不需要自己控制该类，但是他是</span> 
 <span style="color:#333333;">springmvc</span> 
 <span style="color:#333333;">运转历程中的重要的一个控制器。 HandlerMapping</span> 
 <span style="color:#956fe7;">负责根据用户请求找到 Handler 即处理器</span> 
 <span style="color:#333333;">（也就是我们所说的 Controller</span> 
 <span style="color:#333333;">），</span> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">提供了不同的映射器实现不同的映射方式，例如：配置文件方式，实现接口方式，注解方式等，在实际开发中，我们常用的方式是注解方式。 </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">3.<strong>Handler</strong></span> 
 <span style="color:#333333;">：处理器 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">Handler </span> 
 <span style="color:#333333;">是继</span> 
 <span style="color:#333333;"> DispatcherServlet </span> 
 <span style="color:#333333;">前端控制器的后端控制器，</span> 
 <span style="color:#956fe7;">在DispatcherServlet 的控制下Handler 对具体的用户请求进行处理</span> 
 <span style="color:#333333;">。由于 Handler </span> 
 <span style="color:#333333;">涉及到具体的用户业务请求，所以一般情况需要程序员根据业务需求开发 Handler</span> 
 <span style="color:#333333;">。（这里所说的</span> 
 <span style="color:#333333;"> Handler </span> 
 <span style="color:#333333;">就是指我们的</span> 
 <span style="color:#333333;"> Controller</span> 
 <span style="color:#333333;">）</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">4.<strong>HandlerAdapter</strong></span> 
 <span style="color:#333333;">：处理器适配器</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#956fe7;">通过 HandlerAdapter 对处理器进行执行</span> 
 <span style="color:#333333;">，这是适配器模式的应用，通过扩展处理器适配器，支持更多类型的处理器,</span> 
 <span style="color:#333333;">调用处理器传递参数等工作。</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">5.<strong>ViewResolver</strong></span> 
 <span style="color:#333333;">：视图解析器 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">ViewResolver </span> 
 <span style="color:#333333;">负责将处理结果生成</span> 
 <span style="color:#333333;"> View </span> 
 <span style="color:#333333;">视图，</span> 
 <span style="color:#333333;">ViewResolver </span> 
 <span style="color:#333333;">首先根据逻辑视图名解析成物理视图名称，即具体的页面地址，再生成 View </span> 
 <span style="color:#333333;">视图对象，最后对</span> 
 <span style="color:#333333;"> View </span> 
 <span style="color:#333333;">进行渲染将处理结果通过页面展示给用户。 SpringMVC </span> 
 <span style="color:#333333;">框架提供了很多的</span> 
 <span style="color:#333333;"> View </span> 
 <span style="color:#333333;">视图类型，包括：</span> 
 <span style="color:#333333;">jstlView</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">freemarkerView</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">pdfView </span> 
 <span style="color:#333333;">等。 一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户，需要由程序员根据业务需求开发具体的页面</span> 
</div> 
<p></p> 
<h2 id="5%20%40RequestMapping%20%E6%B3%A8%E8%A7%A3"><span style="color:#333333;"><strong>5 @RequestMapping </strong></span><span style="color:#333333;"><strong>注解 </strong></span></h2> 
<h3 id="5.1%40RequestMapping%E5%87%BA%E7%8E%B0%E7%9A%84%E4%BD%8D%E7%BD%AE"><span style="color:#333333;"><strong>5.1@RequestMapping</strong></span><span style="color:#333333;"><strong>出现的位置</strong></span></h3> 
<div> 
 <span style="color:#333333;">@RequestMapping </span> 
 <span style="color:#333333;">注解定义了处理器对于请求的映射规则。该注解可以定义在类上，也可以定义在方法上，但是含义不同。 </span> 
</div> 
<div> 
 <img alt="" height="493" src="https://images2.imgbox.com/58/19/VCHPIK9w_o.png" width="446"> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">一个</span> 
 <span style="color:#333333;">@Controller </span> 
 <span style="color:#333333;">所注解的类中，可以定义多个处理器方法。当然，不同的处理器方法所匹配的</span> 
 <span style="color:#333333;"> URI 是不同的。这些不同的 URI 被指定在方法之上的注解@RequestMapping 的</span> 
 <span style="color:#333333;">value </span> 
 <span style="color:#333333;">属性中。但若</span> 
 <span style="color:#956fe7;">这些请求具有相同的 URI 部分，则这些相同的 URI，可以被抽取到注解在类之上的RequestMapping 的 value 属性中</span> 
 <span style="color:#333333;">。此时的这个 URI </span> 
 <span style="color:#333333;">表示模块的名称。</span> 
 <span style="color:#333333;">URI </span> 
 <span style="color:#333333;">的请求是相对于</span> 
 <span style="color:#333333;"> Web </span> 
 <span style="color:#333333;">的根目录。在类的级别上的注解会将一个特定请求或者请求模式映射到一个控制器之上。之后你还可以另外添加方法级别的注解来进一步指定到处理方法的映射关系</span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="574" src="https://images2.imgbox.com/6a/4a/VYa6Hc9y_o.png" width="790"> 
</div> 
<p> 将处理器方法中相同部分的映射路径抽取到注解在类上的RequestMapping中</p> 
<p><img alt="" height="605" src="https://images2.imgbox.com/2f/e5/1KK5f8j0_o.png" width="780"></p> 
<div></div> 
<div> 
 <img alt="" height="153" src="https://images2.imgbox.com/d8/5b/VMCe1bzH_o.png" width="212"> 
</div> 
<p></p> 
<div> 
 <img alt="" height="217" src="https://images2.imgbox.com/f5/8c/J8gKh5KJ_o.png" width="943"> 
</div> 
<p></p> 
<p> <img alt="" height="175" src="https://images2.imgbox.com/99/35/OO4R42vO_o.png" width="677"></p> 
<p> <img alt="" height="170" src="https://images2.imgbox.com/d6/52/aL8Z6bCe_o.png" width="748"></p> 
<div></div> 
<h3 id="5.2%20%E6%8C%87%E5%AE%9A%E8%AF%B7%E6%B1%82%E7%9A%84%E6%8F%90%E4%BA%A4%E6%96%B9%E5%BC%8F"><span style="color:#333333;"><strong>5.2 </strong></span><span style="color:#333333;"><strong>指定请求的提交方式</strong></span></h3> 
<div> 
 <span style="color:#333333;">@RequestMapping</span> 
 <span style="color:#333333;">的</span> 
 <span style="color:#333333;">method</span> 
 <span style="color:#333333;">属性，用来对被注解方法所处理请求的提交方式进行限制，即只有满足method 属性指定的提交方式的请求，才会执行该被注解方法。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">Method </span> 
 <span style="color:#333333;">属性的取值为</span> 
 <span style="color:#333333;"> RequestMethod </span> 
 <span style="color:#333333;">枚举常量。常用的为</span> 
 <span style="color:#333333;"> RequestMethod.GET </span> 
 <span style="color:#333333;">与 </span> 
</div> 
<div> 
 <span style="color:#333333;">RequestMethod.POST</span> 
 <span style="color:#333333;">，分别表示提交方式的匹配规则为</span> 
 <span style="color:#333333;"> GET </span> 
 <span style="color:#333333;">与</span> 
 <span style="color:#333333;"> POST </span> 
 <span style="color:#333333;">提交。</span> 
</div> 
<p><img alt="" height="281" src="https://images2.imgbox.com/07/f4/0dGH2iZ8_o.png" width="375"></p> 
<p> <img alt="" height="656" src="https://images2.imgbox.com/c2/1b/Gl7YIpdx_o.png" width="763"></p> 
<p> <img alt="" height="249" src="https://images2.imgbox.com/3c/60/SPPFq7Ga_o.png" width="758"></p> 
<div> 
 <strong><span style="color:#333333;">常用的提交方式</span></strong> 
</div> 
<p><img alt="" height="205" src="https://images2.imgbox.com/25/f0/L4Edrxv5_o.png" width="719"></p> 
<h4 id="5.3%20%E8%A1%A5%E5%85%85url-pattern%E8%A7%A3%E6%9E%90(*.do%E5%92%8C%2F%E5%8C%BA%E5%88%AB)"><span style="color:#333333;"><strong>5.3 </strong></span><span style="color:#333333;"><strong>补充</strong></span><span style="color:#333333;"><strong>url-pattern</strong></span><span style="color:#333333;"><strong>解析(*.do和/区别)</strong></span></h4> 
<p><span style="color:#333333;">对于.do，当用户发送请求后，前端控制器只负责后缀中含有.do的请求的处理，对于/，所有请求都会由前端控制器处理，那么访问静态资源的时候(css,js,图片)请求也会当做一个普通的controller请求，前端控制器会调用处理器映射器，查找相应的处理器，就找不到，所有的静态资源在这种情况下都会报04错误。</span></p> 
<h4 id="5.3.1%20url-pattern%E8%A7%A3%E6%9E%90"><span style="color:#333333;"><strong>5.3.1 url-pattern</strong></span><span style="color:#333333;"><strong>解析</strong></span></h4> 
<p><span style="color:#333333;">在</span><span style="color:#333333;">web.xml</span><span style="color:#333333;">配置</span><span style="color:#333333;">SpringMVC</span><span style="color:#333333;">的前端控制器时有这个节点。这个节点中的值一般有两种写法：</span></p> 
<p><img alt="" height="205" src="https://images2.imgbox.com/79/f0/CxgUlYKj_o.png" width="744"></p> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">index.jsp</span> 
 <span style="color:#333333;">页面添加图片，如果节点中的值为</span> 
 <span style="color:#333333;">*.do,</span> 
 <span style="color:#333333;">图片可以正常访问，但是如果为</span> 
 <span style="color:#333333;">/</span> 
 <span style="color:#333333;">就不能访问。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、项目中添加图片，同时修改</span> 
 <span style="color:#333333;">index.jsp</span> 
 <span style="color:#333333;">页面 </span> 
</div> 
<p><img alt="" height="589" src="https://images2.imgbox.com/b7/17/J8ZvxkT9_o.png" width="912"></p> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、修改</span> 
 <span style="color:#333333;">web.xml </span> 
</div> 
<div> 
 <img alt="" height="301" src="https://images2.imgbox.com/ed/1c/fcQYfx0a_o.png" width="763"> 
</div> 
<p></p> 
<div> 
 <div> 
  <span style="color:#333333;">3</span> 
  <span style="color:#333333;">、此时访问图片无法显示</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <img alt="" height="244" src="https://images2.imgbox.com/57/ed/p0suMOPk_o.png" width="724"> 
</div> 
<div></div> 
<h4 id="5.3.2%20%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%AE%BF%E9%97%AE"><span style="color:#333333;"><strong>5.3.2 </strong></span><span style="color:#333333;"><strong>静态资源访问 </strong></span></h4> 
<div> 
 <span style="color:#333333;">如果<strong>url-pattern</strong>的值配置为/</span> 
 <span style="color:#333333;">后，静态资源可以通过以下两种方法解决。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;"><strong>5.3.2.1</strong></span> 
 <span style="color:#333333;"><strong>使用</strong></span> 
 <span style="color:#333333;"><strong>&lt; mvc:default-servlet-handler/ &gt;标签</strong></span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">&lt;!--声 明 了 &lt;mvc:default-servlet-handler /&gt; 后 ，springmvc框架会在容器中创建 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">DefaultServletHttpRequestHandler默认处理器对象。该对象会对所有进入 DispatcherServlet的URL 进行检查。如果发现是静态资源请求，就</span> 
 <span style="color:#956fe7;">将该请求转由Web应用服务器默认的Servlet 处理</span> 
 <span style="color:#0d0016;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">一般的服务器都有默认的 Servlet。例如咱们使用的Tomcat服务器中，有一个专门用于处理静态资源访问的 Servlet 名叫 DefaultServlet。其&lt;servlet-name/&gt;为default。可以处理各种静态资源访问 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">请求。该Servlet注册在 Tomcat 服务器的 web.xml 中。在 Tomcat安装目录/conf/web.xml。--&gt;</span> 
</div> 
<p><img alt="" height="503" src="https://images2.imgbox.com/d6/c0/j8DAKOvz_o.png" width="1200"></p> 
<p> 静态资源的访问就不会被前端控制器拦截处理，而是交由web容器默认的servlet处理</p> 
<p><img alt="" height="670" src="https://images2.imgbox.com/ed/5c/BFIoNUbq_o.png" width="1051"></p> 
<p></p> 
<div> 
 <span style="color:#333333;"><strong>5.3.2.2 </strong></span> 
 <span style="color:#333333;"><strong>使用</strong></span> 
 <span style="color:#333333;"><strong> &lt; mvc:resources/ &gt; 标签 记住</strong></span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">springmvc</span> 
 <span style="color:#333333;">的配置文件中添加如下内容： </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#0d0016;">location: 表示静态资源所在目录。当然，目录不要使用/WEB-INF/及其子目录。 </span> 
</div> 
<div> 
 <span style="color:#0d0016;">mapping: 表示对该资源的请求。注意，后面是两个星号**。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;"> Spring3.0 </span> 
 <span style="color:#333333;">版本后，</span> 
 <span style="color:#333333;">Spring </span> 
 <span style="color:#333333;">定义了专门用于处理静态资源访问请求的处理器 </span> 
</div> 
<div> 
 <span style="color:#333333;">ResourceHttpRequestHandler</span> 
 <span style="color:#333333;">。并且添加了</span> 
 <span style="color:#333333;">&lt; mvc:resources/ &gt;</span> 
 <span style="color:#333333;">标签，专门用于解决静态资源无法访问问题。 </span> 
</div> 
<p><img alt="" height="568" src="https://images2.imgbox.com/41/01/ML6bg71x_o.png" width="847"></p> 
<h2 id="6%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E6%8E%A5%E6%94%B6%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6</strong></span><span style="color:#333333;"><strong>、处理器方法接收请求参数</strong></span></h2> 
<p>处理器方法就是Controller中的定义的方法</p> 
<div> 
 <span style="color:#333333;">处理器方法可以包含以下四类参数，这些参数会在系统调用时由系统自动赋值</span> 
 <span style="color:#333333;">.</span> 
 <span style="color:#333333;">所以我们可以在方法内直接使用。以下是这四类参</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">HttpServletRequest </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">HttpServletResponse </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">HttpSession </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">请求中所携带的请求参数</span> 
</div> 
<p></p> 
<p><span style="color:#956fe7;"><strong>注意：如果请求后，服务器这边使用对象接收时，有个别的参数没有值，可能是参数类型和实体类属性不一致，另外需要set、get方法。</strong></span></p> 
<div> 
 <span style="color:#333333;">准备工作：创建新的控制器</span> 
 <span style="color:#333333;">ParamController.java</span> 
 <span style="color:#333333;">和前端页面</span> 
 <span style="color:#333333;">param.jsp</span> 
 <span style="color:#333333;">页面,url-partern设置/</span> 
</div> 
<p><img alt="" height="183" src="https://images2.imgbox.com/e5/89/wQumxHUj_o.png" width="784"></p> 
<h3 id="6.1%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E9%80%90%E4%B8%AA%E6%8E%A5%E6%94%B6"><span style="color:#333333;"><strong>6.1 </strong></span><span style="color:#333333;"><strong>直接使用方法的参数逐个接收 </strong></span></h3> 
<p><span style="color:#333333;">form表单提交请求</span></p> 
<p><img alt="" height="285" src="https://images2.imgbox.com/b7/24/VitW0PAV_o.png" width="603"></p> 
<p> 处理器方法</p> 
<p><img alt="" height="251" src="https://images2.imgbox.com/f5/de/fjjiHnU8_o.png" width="777"></p> 
<p>先访问<a href="http://localhost:8080/param/test" rel="nofollow">http://localhost:8080/param/test</a>，该处理器方法向浏览器返回param.jsp页面，如下</p> 
<p><img alt="" height="268" src="https://images2.imgbox.com/40/52/sN84RgKp_o.png" width="682"></p> 
<p> 控制台</p> 
<p><img alt="" height="99" src="https://images2.imgbox.com/c9/c8/xMu9FbZu_o.png" width="502"></p> 
<h3 id="6.2%20%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E6%8E%A5%E6%94%B6%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6.2 </strong></span><span style="color:#333333;"><strong>使用对象接收多个参数 </strong></span></h3> 
<p><span style="color:#333333;">注意，实体类中要有set、get方法，还是需要set的给对象赋值的。</span></p> 
<p><span style="color:#333333;">form表单</span></p> 
<p><img alt="" height="156" src="https://images2.imgbox.com/dd/e5/nFYYwqlL_o.png" width="595"></p> 
<p> 处理器方法</p> 
<p><img alt="" height="156" src="https://images2.imgbox.com/0c/9a/p73Bdvr6_o.png" width="787"></p> 
<p> 实体类Team</p> 
<p><img alt="" height="137" src="https://images2.imgbox.com/c3/f3/ulKPY6sH_o.png" width="648"></p> 
<p> 测试</p> 
<p><img alt="" height="276" src="https://images2.imgbox.com/c5/e8/0Sl0u8gu_o.png" width="689"></p> 
<p>控制台</p> 
<p> <img alt="" height="58" src="https://images2.imgbox.com/25/f7/RiFZfFTn_o.png" width="640"></p> 
<h3 id="6.3%20%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%92%8C%E6%96%B9%E6%B3%95%E5%90%8D%E7%A7%B0%E7%9A%84%E5%8F%82%E6%95%B0%E4%B8%8D%E4%B8%80%E8%87%B4"><span style="color:#333333;"><strong>6.3 </strong></span><span style="color:#333333;"><strong>请求参数和方法名称的参数不一致 </strong></span></h3> 
<p>表单</p> 
<p><img alt="" height="161" src="https://images2.imgbox.com/b0/9b/LaY8lBIR_o.png" width="571"></p> 
<p> 处理器方法</p> 
<p><img alt="" height="302" src="https://images2.imgbox.com/c2/ba/OsHVsRbC_o.png" width="917"></p> 
<p>测试</p> 
<p><img alt="" height="274" src="https://images2.imgbox.com/d1/f7/yrJUD33X_o.png" width="681"></p> 
<p> <img alt="" height="95" src="https://images2.imgbox.com/a4/76/bhsojmO4_o.png" width="588"></p> 
<h3 id="6.4%20%E4%BD%BF%E7%94%A8HttpServletRequest%20%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6.4 </strong></span><span style="color:#333333;"><strong>使用</strong></span><span style="color:#333333;"><strong>HttpServletRequest </strong></span><span style="color:#333333;"><strong>对象获取参数 </strong></span></h3> 
<p>表单</p> 
<p><img alt="" height="164" src="https://images2.imgbox.com/17/9e/0wY2fNzH_o.png" width="534"></p> 
<p>处理器方法</p> 
<p><img alt="" height="278" src="https://images2.imgbox.com/c0/d0/qmUIao31_o.png" width="751"> 测试</p> 
<p><img alt="" height="281" src="https://images2.imgbox.com/ab/f0/L04O50s4_o.png" width="712"></p> 
<p> <img alt="" height="111" src="https://images2.imgbox.com/fb/74/cDu5XwBJ_o.png" width="589"></p> 
<h3 id="6.5%20%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8URL%E5%9C%B0%E5%9D%80%E4%BC%A0%E5%8F%82"><span style="color:#333333;"><strong>6.5 </strong></span><span style="color:#333333;"><strong>直接使用</strong></span><span style="color:#333333;"><strong>URL</strong></span><span style="color:#333333;"><strong>地址传参 </strong></span></h3> 
<p><span style="color:#333333;">地址栏</span></p> 
<p><img alt="" height="47" src="https://images2.imgbox.com/94/32/NOwhycVB_o.png" width="823"></p> 
<p>处理器方法</p> 
<p><img alt="" height="271" src="https://images2.imgbox.com/cf/a6/Ab3lD3AW_o.png" width="701"></p> 
<p>测试 </p> 
<p> <img alt="" height="95" src="https://images2.imgbox.com/be/c9/uAJZJbQO_o.png" width="566"></p> 
<h3 id="6.6%20%E8%8E%B7%E5%8F%96%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6.6 </strong></span><span style="color:#333333;"><strong>获取日期类型的参数 </strong></span></h3> 
<p>将Team实体类中添加createTime属性,并添加@DateTimeFormat注解，还要添加该属性的set、get方法</p> 
<p><img alt="" height="447" src="https://images2.imgbox.com/ee/82/NUzKBxvl_o.png" width="620"></p> 
<p></p> 
<p> 表单</p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/15/72/oMpSdj1o_o.png" width="580"></p> 
<p> 控制器方法</p> 
<p><img alt="" height="171" src="https://images2.imgbox.com/31/61/isW878KW_o.png" width="604"></p> 
<p> 测试</p> 
<p><img alt="" height="304" src="https://images2.imgbox.com/75/08/QwMrafx9_o.png" width="688"></p> 
<p> <img alt="" height="66" src="https://images2.imgbox.com/cb/2f/9R8aBoyn_o.png" width="809"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h3 id="6.7%20%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6.7 </strong></span><span style="color:#333333;"><strong>获取数组类型的参数 </strong></span></h3> 
<p>表单</p> 
<p><img alt="" height="181" src="https://images2.imgbox.com/e3/db/7k3x0xgn_o.png" width="595"></p> 
<p>处理器方法</p> 
<p><img alt="" height="421" src="https://images2.imgbox.com/5d/40/MwNiIaqk_o.png" width="711"></p> 
<p> 测试</p> 
<p><img alt="" height="293" src="https://images2.imgbox.com/a1/20/usY5CRHV_o.png" width="702"></p> 
<p> <img alt="" height="187" src="https://images2.imgbox.com/df/8c/ikpnfgBc_o.png" width="560"></p> 
<h3 id="6.8%20%E8%8E%B7%E5%8F%96%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%82%E6%95%B0"><span style="color:#333333;"><strong>6.8 </strong></span><span style="color:#333333;"><strong>获取集合类型的参数</strong></span></h3> 
<p><strong>1.简单类型集合(String/double..)</strong></p> 
<p>表单</p> 
<p><img alt="" height="162" src="https://images2.imgbox.com/1b/12/pdesPG2j_o.png" width="661"></p> 
<p> 处理器方法</p> 
<p><img alt="" height="210" src="https://images2.imgbox.com/f1/47/qX99oJjC_o.png" width="715"></p> 
<p> 测试</p> 
<p><img alt="" height="297" src="https://images2.imgbox.com/bf/01/OYA3QLL3_o.png" width="716"></p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/55/de/i62J8ds8_o.png" width="481"></p> 
<p> 2.获取集合类型的参数: 对象集合不支持直接获取，必须封装在类中，作为一个属性操作</p> 
<p>创建QueryVO类，定义一个List&lt;Team&gt;teamList集合属性，在处理器方法参数中使用QueryVO对象vo接收请求参数，input组件的name是teamList[0].teamId，表示向vo对象的属性teamList中的第1个Team对象的teamId赋值为输入框内容，以此类推。</p> 
<p>表单</p> 
<p><img alt="" height="225" src="https://images2.imgbox.com/48/3b/AghQOVhr_o.png" width="723"></p> 
<p>处理器方法</p> 
<p><img alt="" height="217" src="https://images2.imgbox.com/35/fb/2RJYjCfg_o.png" width="665"></p> 
<p>测试</p> 
<p> <img alt="" height="275" src="https://images2.imgbox.com/c5/e8/9qowPsQ2_o.png" width="507"></p> 
<p> <img alt="" height="111" src="https://images2.imgbox.com/cf/de/KSxilQZy_o.png" width="718"></p> 
<h2 id="7%E3%80%81%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span style="color:#333333;"><strong>7</strong></span><span style="color:#333333;"><strong>、请求参数中文乱码 </strong></span></h2> 
<p> 在没有使用Springmvc前，处理请求参数中文乱码都是通过过滤拦截后统一设置编码，request.setCharacterEncoding("字符集")。</p> 
<div> 
 <span style="color:#333333;">对于上面所接收的请求参数，若含有中文，则会出现中文乱码问题。</span> 
 <span style="color:#333333;">Spring </span> 
 <span style="color:#333333;">对于请求参数中的中文乱码问题，给出了专门的</span> 
 <span style="color:#98c091;"><strong>字符集过滤器CharacterEncodingFilter 类</strong></span> 
 <span style="color:#333333;">。如图所示。 </span> 
</div> 
<p><img alt="" height="555" src="https://images2.imgbox.com/0d/a8/ggp1KBHB_o.png" width="543"></p> 
<h3 id="%C2%A07.1%20%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"> <span style="color:#333333;"><strong>7.1 </strong></span><span style="color:#333333;"><strong>乱码解决方案</strong></span></h3> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;"> web.xml </span> 
 <span style="color:#333333;">中注册字符集过滤器，推荐将该过滤器注册在其它过滤器之前。因为过滤器的执行是按照其注册顺序进行的。 </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">web.xml</span> 
 <span style="color:#333333;">配置文件直接注册字符集 </span> 
</div> 
<p><img alt="" height="554" src="https://images2.imgbox.com/27/d5/ElW16hY7_o.png" width="763"></p> 
<p> 强制request/response使用字符集encoding,是指当你在处理器方法中通过setCharacterEncoding()</p> 
<p>设置字符集，但xml配置这边强制使用指定的encoding。</p> 
<p>测试：</p> 
<p><img alt="" height="280" src="https://images2.imgbox.com/ba/d3/8UV7K0bW_o.png" width="641"></p> 
<p></p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/25/ab/84N3AjtI_o.png" width="565"></p> 
<p></p> 
<h3 id="7.2%20%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%8E%9F%E7%90%86"><span style="color:#333333;"><strong>7.2 </strong></span><span style="color:#333333;"><strong>解决方案原理</strong></span></h3> 
<p><img alt="" height="415" src="https://images2.imgbox.com/5f/73/MaEaFvzC_o.png" width="726"></p> 
<h2 id="%C2%A07%E3%80%81%E5%A4%84%E7%90%86%E5%99%A8%E6%96%B9%E6%B3%95%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"> <span style="color:#333333;"><strong>7</strong></span><span style="color:#333333;"><strong>、处理器方法的返回值</strong></span></h2> 
<div> 
 <span style="color:#333333;">使用</span> 
 <span style="color:#333333;">@Controller </span> 
 <span style="color:#333333;">注解的处理器的处理器方法，其返回值常用的有四种类型</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">1. ModelAndView </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2. String </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">3. </span> 
 <span style="color:#333333;">返回自定义类型对象 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">4. </span> 
 <span style="color:#333333;">无返回值</span> 
 <span style="color:#333333;"> void</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">根据实际的业务选择不同的返回值</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">创建控制器</span> 
 <span style="color:#333333;">ResultController.java</span> 
</div> 
<div> 
 <img alt="" height="148" src="https://images2.imgbox.com/29/d7/xwR8sAef_o.png" width="619"> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">jsp</span> 
 <span style="color:#333333;">文件夹中添加页面</span> 
 <span style="color:#333333;">result.jsp </span> 
</div> 
<div></div> 
<div></div> 
<h3 id="7.1%20%E8%BF%94%E5%9B%9EModelAndView"><span style="color:#333333;"><strong>7.1 </strong></span><span style="color:#333333;"><strong>返回</strong></span><span style="color:#333333;"><strong>ModelAndView </strong></span></h3> 
<p><span style="color:#333333;">如果是前后端不分的开发，大部分情况下，我们返回</span><span style="color:#333333;"> ModelAndView</span><span style="color:#333333;">，即数据模型</span><span style="color:#333333;">+</span><span style="color:#333333;">视图.</span></p> 
<p></p> 
<p><span style="color:#333333;">Model </span><span style="color:#333333;">中，放我们的数据，然后在</span><span style="color:#333333;"> ModelAndView </span><span style="color:#333333;">中指定视图名称。 </span></p> 
<div> 
 <span style="color:#333333;">当处理器方法处理完后，需要跳转到其它资源的同时传递数据，选择返回</span> 
 <span style="color:#333333;"> ModelAndView </span> 
 <span style="color:#333333;">比较好，但是如果只是需要传递数据或者跳转之一，这个时候ModelAndView </span> 
 <span style="color:#333333;">就不是最优选择。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">控制器</span> 
 <span style="color:#333333;">ResultController.java</span> 
 <span style="color:#333333;">中添加方法： </span> 
</div> 
<p><img alt="" height="343" src="https://images2.imgbox.com/a9/92/MblKYvtN_o.png" width="882"></p> 
<div> 
 <span style="color:#333333;">result.jsp</span> 
 <span style="color:#333333;">页面中添加如下内容：</span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="56" src="https://images2.imgbox.com/53/bf/k5SAKZmL_o.png" width="675"> 
</div> 
<p></p> 
<p> 测试</p> 
<p><img alt="" height="46" src="https://images2.imgbox.com/76/50/g2R3B1Xd_o.png" width="688"></p> 
<p> <img alt="" height="75" src="https://images2.imgbox.com/75/e2/cQGBklx2_o.png" width="530"></p> 
<h3 id="7.2%20%E8%BF%94%E5%9B%9EString"><span style="color:#333333;"><strong>7.2 </strong></span><span style="color:#333333;"><strong>返回</strong></span><span style="color:#333333;"><strong>String</strong></span></h3> 
<div> 
 <span style="color:#333333;">上一种方式中的</span> 
 <span style="color:#333333;"> ModelAndView </span> 
 <span style="color:#333333;">可以拆分为两部分，</span> 
 <span style="color:#333333;">Model </span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;"> View</span> 
 <span style="color:#333333;">，在</span> 
 <span style="color:#333333;"> SpringMVC </span> 
 <span style="color:#333333;">中，</span> 
 <span style="color:#333333;">Model </span> 
 <span style="color:#333333;">我们可以直接在参数中指定，然后<strong>返回值是逻辑视图名</strong></span> 
 <span style="color:#333333;">，视图解析器解析可以将逻辑视图名称转换为物理视图地址。</span> 
</div> 
<div></div> 
<p><span style="color:#333333;">视图解析器通过<strong>内部资源视图解析器</strong></span><span style="color:#333333;"><strong>InternalResourceViewResolver</strong></span><span style="color:#333333;">将字符串与解析器中的</span><span style="color:#333333;">prefix</span><span style="color:#333333;">和suffix结合形成要跳转的额</span><span style="color:#333333;">URI</span><span style="color:#333333;">。</span></p> 
<p><img alt="" height="174" src="https://images2.imgbox.com/00/c4/PkvsLkQY_o.png" width="941"></p> 
<p> <span style="color:#333333;">控制器</span><span style="color:#333333;">ResultController.java</span><span style="color:#333333;">中添加方法： </span></p> 
<p><img alt="" height="353" src="https://images2.imgbox.com/22/49/JLxgR8C1_o.png" width="805"><span style="color:#333333;">result.jsp页面中添加如下内容： </span></p> 
<p></p> 
<p> <img alt="" height="278" src="https://images2.imgbox.com/1b/70/yaGHzBqY_o.png" width="627"></p> 
<p>测试</p> 
<p><img alt="" height="44" src="https://images2.imgbox.com/81/3e/QEmXpOss_o.png" width="692"></p> 
<p> <img alt="" height="148" src="https://images2.imgbox.com/08/f7/37CfImGa_o.png" width="1022"></p> 
<h3 id="7.3%20%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span style="color:#333333;"><strong>7.3 返回对象类型(</strong>Integer</span><span style="color:#333333;">、</span><span style="color:#333333;">String</span><span style="color:#333333;">、</span><span style="color:#333333;">Map</span><span style="color:#333333;">、</span><span style="color:#333333;">List或自定义<strong>)</strong></span></h3> 
<div> 
 <span style="color:#333333;">处理器方法返回</span> 
 <span style="color:#333333;">Object</span> 
 <span style="color:#333333;">对象类型时，可是</span> 
 <span style="color:#333333;">Integer</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">String</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Map</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">List</span> 
 <span style="color:#333333;">，也可是自定义的对象类型。</span> 
</div> 
<div></div> 
<p><span style="color:#333333;">但是无论是什么类型，都不是作为逻辑视图出现，而是直接作为数据返回然后展示的</span></p> 
<div> 
 <span style="color:#333333;">一般前端发起Ajax</span> 
 <span style="color:#333333;">请求的时候都会使用直接返回对象的形式。</span> 
</div> 
<div></div> 
<p><span style="color:#333333;">返回对象的时候，需要使用@ResponseBody </span><span style="color:#333333;">注解，将转换后的</span><span style="color:#333333;"> JSON </span><span style="color:#333333;">数据放入到响应体中。 </span></p> 
<p><span style="color:#333333;">pom.xml</span><span style="color:#333333;">文件中添加两个依赖</span></p> 
<p><img alt="" height="236" src="https://images2.imgbox.com/96/46/RTdPm5hP_o.png" width="774"></p> 
<h4 id="7.3.1%20%E8%BF%94%E5%9B%9E%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span style="color:#333333;"><strong>7.3.1 </strong></span><span style="color:#333333;"><strong>返回基础类型 </strong></span></h4> 
<h4 id="7.3.2%20%E8%BF%94%E5%9B%9E%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span style="color:#333333;"><strong>7.3.2 </strong></span><span style="color:#333333;"><strong>返回自定义对象类型</strong></span></h4> 
<p>处理器方法</p> 
<p><img alt="" height="478" src="https://images2.imgbox.com/fd/b6/BW94u3r1_o.png" width="798"></p> 
<p></p> 
<p> 测试</p> 
<p><img alt="" height="147" src="https://images2.imgbox.com/2b/49/uhvRlwyl_o.png" width="710"></p> 
<p> <img alt="" height="162" src="https://images2.imgbox.com/df/e0/NGDyQ1Rk_o.png" width="706"></p> 
<p> 使用ajax向test033()方法获取返回值自定义对象</p> 
<p><img alt="" height="536" src="https://images2.imgbox.com/2d/b9/1hcO5lJG_o.png" width="639"></p> 
<p> <img alt="" height="49" src="https://images2.imgbox.com/07/07/GHZ3Zesu_o.png" width="659"></p> 
<p> <img alt="" height="118" src="https://images2.imgbox.com/93/60/B2ULP0Lz_o.png" width="596"></p> 
<p> 当点击"ajax请求"按钮，</p> 
<p><img alt="" height="172" src="https://images2.imgbox.com/ba/e8/yMdzanaW_o.png" width="563"><strong> </strong></p> 
<h4 id="7.3.3%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88List"><span style="color:#333333;"><strong>7.3.3 </strong></span><span style="color:#333333;"><strong>返回集合</strong></span><span style="color:#333333;"><strong>List</strong></span></h4> 
<p>ajax请求</p> 
<p><img alt="" height="665" src="https://images2.imgbox.com/cb/c9/THQbd9cU_o.png" width="885"></p> 
<p>处理器方法</p> 
<p><img alt="" height="199" src="https://images2.imgbox.com/28/a8/T6VxAuLZ_o.png" width="711"></p> 
<p>测试</p> 
<p><img alt="" height="52" src="https://images2.imgbox.com/a9/80/pugoAQur_o.png" width="612"></p> 
<p></p> 
<p> <img alt="" height="276" src="https://images2.imgbox.com/2a/57/mjPaQn42_o.png" width="583"></p> 
<p></p> 
<h4 id="7.3.4%20%E8%BF%94%E5%9B%9E%E9%9B%86%E5%90%88Map"><span style="color:#333333;"><strong>7.3.4 </strong></span><span style="color:#333333;"><strong>返回集合</strong></span><span style="color:#333333;"><strong>Map</strong></span></h4> 
<p><span style="color:#333333;">ajax请求</span></p> 
<p><img alt="" height="682" src="https://images2.imgbox.com/50/5d/1EbFXgnd_o.png" width="1200"></p> 
<p> 处理器方法</p> 
<p><img alt="" height="238" src="https://images2.imgbox.com/65/0d/1XzQGYiU_o.png" width="1043"></p> 
<p> 给实体类createTime属性添加注解<img alt="" height="194" src="https://images2.imgbox.com/de/17/MmSGNZ1y_o.png" width="682"></p> 
<p> 测试</p> 
<p><img alt="" height="271" src="https://images2.imgbox.com/fe/8b/5S7GHkFr_o.png" width="638"></p> 
<p></p> 
<h3 id="7.4%20%E6%97%A0%E8%BF%94%E5%9B%9E%E5%80%BC%20void-%E4%BA%86%E8%A7%A3"><span style="color:#333333;"><strong>7.4 </strong></span><span style="color:#333333;"><strong>无返回值</strong></span><span style="color:#333333;"><strong> void-</strong></span><span style="color:#333333;"><strong>了解 </strong></span></h3> 
<div> 
 <span style="color:#333333;">方法的返回值为</span> 
 <span style="color:#333333;"> void</span> 
 <span style="color:#333333;">，并不一定真的没有返回值，我们可以通过其他方式给前端返回。实际上，这种方式也可以理解为 Servlet </span> 
 <span style="color:#333333;">中的的处理方案</span> 
</div> 
<div></div> 
<div> 
 <pre><code class="language-html">通过 HttpServletRequest 做服务端跳转</code></pre> 
</div> 
<div>
  通过 HttpServletResponse 做服务端重定向 
</div> 
<div></div> 
<div>
  通过response.getWriter向浏览器写入字符串（注意乱码处理） 
</div> 
<div></div> 
<div>
  通过response.setHeader另一种重定向 
</div> 
<div> 
 <p><img alt="" height="682" src="https://images2.imgbox.com/78/72/4kUOajYr_o.png" width="987"></p> 
</div> 
<h2 id="8%E3%80%81%E9%A1%B5%E9%9D%A2%E5%AF%BC%E8%88%AA%E7%9A%84%E6%96%B9%E5%BC%8F"><span style="color:#333333;"><strong>8</strong></span><span style="color:#333333;"><strong>、页面导航的方式 </strong></span></h2> 
<p><span style="color:#333333;">页面导航分为两种：</span><span style="color:#333333;">1</span><span style="color:#333333;">、转发</span><span style="color:#333333;"> 2</span><span style="color:#333333;">、重定向 </span></p> 
<p><span style="color:#333333;">springMVC</span><span style="color:#333333;">有以下两种方式实现页面的转发或重定向： </span></p> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、返回字符串</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、使用</span> 
 <span style="color:#333333;">ModelAndView</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">SpringMVC</span> 
 <span style="color:#333333;">中两种导航进行页面导航的时候使用不同的前缀指定转发还是重定向,使用前缀后，视图解析器中前后缀就实现了，此时必须自己编写绝对路径。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">前缀：</span>      
 <span style="color:#333333;">转发： forward:url 不写前缀，</span> 
 <span style="color:#333333;">默认是转发</span> 
</div> 
<div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">                重定向： redirect:url </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#956fe7;"><strong>使用ModelAndView方式的重定向，解决了request中数据丢失问题，会把存储在request作用域中的值以参数形式追加到地址栏URL后面。</strong></span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <div> 
  <span style="color:#333333;">准备工作：创建一个新的控制器</span> 
  <span style="color:#333333;">NavigationController.java</span> 
  <span style="color:#333333;">：</span> 
 </div> 
 <div></div> 
 <div></div> 
 <div> 
  <img alt="" height="189" src="https://images2.imgbox.com/bb/d0/LH3yfGc2_o.png" width="638"> 
 </div> 
</div> 
<h3 id="8.1%20%E8%BD%AC%E5%8F%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2"><span style="color:#333333;"><strong>8.1 </strong></span><span style="color:#333333;"><strong>转发到一个</strong></span><span style="color:#333333;"><strong>jsp</strong></span><span style="color:#333333;"><strong>页面 </strong></span></h3> 
<h4 id="8.1.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E8%BD%AC%E5%8F%91"><span style="color:#333333;"><strong>8.1.1 </strong></span><span style="color:#333333;"><strong>字符串方式转发 </strong></span></h4> 
<h4 id="8.1.2%20ModelAndView%E8%BD%AC%E5%8F%91"><span style="color:#333333;"><strong>8.1.2 ModelAndView</strong></span><span style="color:#333333;"><strong>转发</strong></span></h4> 
<h3 id="8.2%20%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0%E4%B8%80%E4%B8%AAjsp%E9%A1%B5%E9%9D%A2"><span style="color:#333333;"><strong>8.2 </strong></span><span style="color:#333333;"><strong>重定向到一个</strong></span><span style="color:#333333;"><strong>jsp</strong></span><span style="color:#333333;"><strong>页面 </strong></span></h3> 
<h4 id="8.2.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%96%B9%E5%BC%8F%E9%87%8D%E5%AE%9A%E5%90%91"><span style="color:#333333;"><strong>8.2.1 </strong></span><span style="color:#333333;"><strong>字符串方式重定向</strong></span></h4> 
<h4 id="8.2.2%20ModelAndView%E9%87%8D%E5%AE%9A%E5%90%91%E6%96%B9%E5%BC%8F"><span style="color:#333333;"><strong>8.2.2 ModelAndView</strong></span><span style="color:#333333;"><strong>重定向方式 </strong></span></h4> 
<h4><img alt="" height="851" src="https://images2.imgbox.com/a9/3f/wRdnjfb7_o.png" width="798"></h4> 
<h3 id="8.3%20%E9%87%8D%E5%AE%9A%E5%90%91%E6%88%96%E8%80%85%E8%BD%AC%E5%8F%91%E5%88%B0%E6%8E%A7%E5%88%B6%E5%99%A8"><span style="color:#333333;"><strong>8.3 </strong></span><span style="color:#333333;"><strong>重定向或者转发到控制器</strong></span></h3> 
<h3><img alt="" height="432" src="https://images2.imgbox.com/ec/56/OITTKs7U_o.png" width="754"></h3> 
<p> <img alt="" height="48" src="https://images2.imgbox.com/e0/60/lIrqhEL6_o.png" width="605"></p> 
<p></p> 
<p><img alt="" height="231" src="https://images2.imgbox.com/70/37/3RAYgTuB_o.png" width="764"></p> 
<p></p> 
<h2 id="9%E3%80%81%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span style="color:#333333;"><strong>9</strong></span><span style="color:#333333;"><strong>、异常处理 </strong></span></h2> 
<p><span style="color:#333333;">SpringMVC</span><span style="color:#333333;">框架常用</span><span style="color:#333333;">@ExceptionHandler </span><span style="color:#333333;">注解处理异常。</span></p> 
<h3 id="9.1%40ExceptionHandler%20%E6%B3%A8%E8%A7%A3"><span style="color:#333333;"><strong>9.1@ExceptionHandler </strong></span><span style="color:#333333;"><strong>注解 </strong></span></h3> 
<div> 
 <span style="color:#333333;">@ExceptionHandler </span> 
 <span style="color:#333333;">可以将一个方法指定为异常处理方法。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">被注解的方法，其返回值可以是</span> 
  <span style="color:#333333;"> ModelAndView</span> 
  <span style="color:#333333;">、</span> 
  <span style="color:#333333;">String</span> 
  <span style="color:#333333;">，或</span> 
  <span style="color:#333333;"> void</span> 
  <span style="color:#333333;">，方法名随意，方法参数可以是 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">Exception </span> 
  <span style="color:#333333;">及其子类对象、</span> 
  <span style="color:#333333;">HttpServletRequest</span> 
  <span style="color:#333333;">、</span> 
  <span style="color:#333333;">HttpServletResponse </span> 
  <span style="color:#333333;">等。系统会自动为这些方法参数赋值。 </span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <span style="color:#333333;">对于异常处理注解的用法，也可以直接将异常处理方法注解于</span> 
 <span style="color:#333333;"> Controller </span> 
 <span style="color:#333333;">之中</span> 
</div> 
<div></div> 
<div></div> 
<h3 id="9.2%20%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span style="color:#333333;"><strong>9.2 </strong></span><span style="color:#333333;"><strong>实现步骤</strong></span></h3> 
<p></p> 
<pre><code class="language-html">TeamException异常类</code></pre> 
<p><img alt="" height="188" src="https://images2.imgbox.com/6e/a8/q2Bpj0gG_o.png" width="594"></p> 
<pre><code class="language-html">TeamIdException异常类</code></pre> 
<p><img alt="" height="160" src="https://images2.imgbox.com/bb/07/AJOpVXar_o.png" width="618"></p> 
<pre><code class="language-html">TeamNameException异常类 出现异常需要跳转到异常页面jsp</code></pre> 
<p>error.jsp</p> 
<p><img alt="" height="201" src="https://images2.imgbox.com/e6/b2/Uy1GyYVV_o.png" width="663"></p> 
<p> idError.jsp</p> 
<p><img alt="" height="199" src="https://images2.imgbox.com/27/2b/hWxTKfUF_o.png" width="760"></p> 
<p> nameError.jsp</p> 
<p><img alt="" height="203" src="https://images2.imgbox.com/40/8c/SdldIUv7_o.png" width="781"></p> 
<p> 异常处理的控制器</p> 
<p><img alt="" height="748" src="https://images2.imgbox.com/69/b6/efWNzJAN_o.png" width="944"></p> 
<p> 测试</p> 
<p><img alt="" height="200" src="https://images2.imgbox.com/f0/c1/Clb5ham1_o.png" width="1044"></p> 
<p> <img alt="" height="169" src="https://images2.imgbox.com/56/e5/bP6hKxwG_o.png" width="994"></p> 
<p> <img alt="" height="162" src="https://images2.imgbox.com/d9/71/xTngKmfm_o.png" width="801"></p> 
<p></p> 
<h3 id="9.2.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB"><span style="color:#333333;"><strong>9.3</strong></span><span style="color:#333333;"><strong>优化 </strong></span></h3> 
<p><span style="color:#333333;">一般将异常处理方法专门定义在一个类中，作为全局的异常处理类。</span></p> 
<div> 
 <span style="color:#333333;">使用注解</span> 
 <span style="color:#333333;">@ControllerAdvice</span> 
 <span style="color:#333333;">，就是</span> 
 <span style="color:#333333;">“</span> 
 <span style="color:#333333;">控制器增强</span> 
 <span style="color:#333333;">”</span> 
 <span style="color:#333333;">，是给控制器对象增强功能的。使用 </span> 
</div> 
<div> 
 <span style="color:#333333;">@ControllerAdvice </span> 
 <span style="color:#333333;">修饰的类中可以使用</span> 
 <span style="color:#333333;">@ExceptionHandler</span> 
 <span style="color:#333333;">。</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">当使用</span> 
 <span style="color:#333333;">@RequestMapping </span> 
 <span style="color:#333333;">注解修饰的方法抛出异常时，会执行</span> 
 <span style="color:#333333;">@ControllerAdvice </span> 
 <span style="color:#333333;">修饰的类中的异常处理方法。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">@ControllerAdvice </span> 
 <span style="color:#333333;">注解所在的类需要进行包扫描，否则无法创建对象。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">全局异常处理类(控制器)</span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="855" src="https://images2.imgbox.com/19/53/Uez8Ub56_o.png" width="819"> 
</div> 
<p></p> 
<p><img alt="" height="522" src="https://images2.imgbox.com/e2/6f/HOxwOXPr_o.png" width="856"></p> 
<p> 实际开发中，对比较重要的字段，都是要求自定义异常去处理的</p> 
<div></div> 
<h2 id="10%E3%80%81%E6%8B%A6%E6%88%AA%E5%99%A8"><span style="color:#333333;"><strong>10</strong></span><span style="color:#333333;"><strong>、拦截器</strong></span></h2> 
<p><span style="color:#333333;"><strong>10.0.什么是拦截器，拦截时间点在什么位置</strong></span></p> 
<div> 
 <span style="color:#333333;">SpringMVC </span> 
 <span style="color:#333333;">中的 拦截器（</span> 
 <span style="color:#333333;"> Interceptor</span> 
 <span style="color:#333333;">）是非常重要的，它的主要作用是拦截指定的用户请求，并进行相应的预处理与后处理。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">拦截的时间点在</span> 
  <span style="color:#333333;">“</span> 
  <span style="color:#333333;">处理器映射器</span> 
  <span style="color:#333333;">HandlerMapping</span> 
  <span style="color:#333333;">根据用户提交的请求映射出了所要执行的处理器类，并且也找到了要执行该处理器类的处理器适配器，在处理器适配器HandlerAdaptor</span> 
  <span style="color:#333333;">执行处理器之前</span> 
  <span style="color:#333333;">”</span> 
  <span style="color:#333333;">。</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">在处理器映射器映射出所要执行的处理器类时，已经将拦截器与处理器组合为了一个处理器执行链 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">HandlerExecutionChain</span> 
  <span style="color:#333333;">，并返回给了前端控制器。</span> 
 </div> 
 <div></div> 
 <div></div> 
</div> 
<h3 id="10.1%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%A6%E6%88%AA%E5%99%A8"><span style="color:#333333;"><strong>10.1 </strong></span><span style="color:#333333;"><strong>自定义拦截器</strong></span></h3> 
<p><span style="color:#333333;">自定义拦截器，需要实现</span><span style="color:#333333;"> </span><span style="color:#98c091;"><strong>HandlerInterceptor </strong></span><span style="color:#333333;">接口。而该接口中含有三个方法：</span></p> 
<p><img alt="" height="303" src="https://images2.imgbox.com/ac/10/iyvdbpwH_o.png" width="618"></p> 
<p><span style="color:#98c091;"><strong> </strong></span><span style="color:#79c6cd;"><strong>preHandle</strong></span><span style="color:#333333;">(request,response, Object handler)</span></p> 
<div> 
 <span style="color:#333333;">该方法</span> 
 <span style="color:#956fe7;">在处理器方法执行之前执行</span> 
 <span style="color:#333333;">。其返回值为</span> 
 <span style="color:#333333;">boolean</span> 
 <span style="color:#333333;">，若为</span> 
 <span style="color:#333333;">true</span> 
 <span style="color:#333333;">，则紧接着会执行处理器方法，且会将afterCompletion()</span> 
 <span style="color:#333333;">方法放入到一个专门的方法栈中等待执行。 </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#79c6cd;"><strong>postHandle</strong></span> 
 <span style="color:#333333;">(request,response, Object handler,modelAndView)</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">该方法</span> 
  <span style="color:#956fe7;">在处理器方法执行之后执行</span> 
  <span style="color:#333333;">。处理器方法若最终未被执行，则该方法不会执行。由于该方法是在处理器方法执行完后执行，且该方法参数中包含 ModelAndView</span> 
  <span style="color:#333333;">，所以该方法</span> 
  <span style="color:#956fe7;">可以修改处理器方法的处理结果数据，且可以修改跳转方向</span> 
 </div> 
</div> 
<div></div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#79c6cd;"><strong>afterCompletion</strong></span> 
  <span style="color:#333333;">(request,response, Object handler, Exception ex)</span> 
  <span style="color:#333333;">： </span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">当 </span> 
  <span style="color:#333333;">preHandle()</span> 
  <span style="color:#333333;">方法返回</span> 
  <span style="color:#333333;">true</span> 
  <span style="color:#333333;">时，会将该方法放到专门的方法栈中，等到对请求进行响应的所工作完成之后才执行该方法。即该方法是在前端控制器渲染（数据填充）了响应页面之后执行的，此时对ModelAndView再操作也对响应无济于事。 </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">第一个拦截器</span> 
 </div> 
 <div></div> 
 <div> 
  <img alt="" height="661" src="https://images2.imgbox.com/27/73/rzWVsE3n_o.png" width="1187"> 
 </div> 
 <p> 第二个拦截器</p> 
 <p><img alt="" height="599" src="https://images2.imgbox.com/9e/5e/b1P0x0KS_o.png" width="1188"></p> 
</div> 
<h3 id="10.2%20%E9%85%8D%E7%BD%AE%E6%8B%A6%E6%88%AA%E5%99%A8"><span style="color:#333333;"><strong>10.2 </strong></span><span style="color:#333333;"><strong>配置拦截器 </strong></span></h3> 
<p>在SpringMVC中配置拦截器</p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/2b/4e/wPogNLPK_o.png" width="799"></p> 
<p> 测试：随便访问一个处理器方法</p> 
<p><img alt="" height="153" src="https://images2.imgbox.com/d3/e2/snDyZd8W_o.png" width="697"></p> 
<p></p> 
<p><img alt="" height="197" src="https://images2.imgbox.com/ca/62/KV6TPBFM_o.png" width="699"></p> 
<h2 id="11%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD"><span style="color:#333333;"><strong>11</strong></span><span style="color:#333333;"><strong>、文件上传和下载 </strong></span></h2> 
<div> 
 <span style="color:#333333;">Spring MVC</span> 
 <span style="color:#333333;">为文件上传提供了直接支持</span> 
 <span style="color:#333333;">,</span> 
 <span style="color:#333333;">这种支持是通过即插即用的</span> 
 <span style="color:#333333;">MultipartResolver</span> 
 <span style="color:#333333;">实现。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">Spring</span> 
 <span style="color:#333333;">中有一个</span> 
 <span style="color:#333333;">MultipartResolver</span> 
 <span style="color:#333333;">的实现类</span> 
 <span style="color:#333333;">:CommonsMultipartResolver</span> 
 <span style="color:#333333;">。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">在</span> 
 <span style="color:#333333;">SpringMVC</span> 
 <span style="color:#333333;">上下文中默认没有装配</span> 
 <span style="color:#333333;">MultipartResolver,</span> 
 <span style="color:#333333;">因此默认情况下不能处理文件上传工作。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">如果想使用</span> 
 <span style="color:#333333;">Spring</span> 
 <span style="color:#333333;">的文件上传功能</span> 
 <span style="color:#333333;">,</span> 
 <span style="color:#333333;">则需要先在上下文中配置</span> 
 <span style="color:#333333;">MultipartResolver</span> 
 <span style="color:#333333;">。</span> 
</div> 
<p></p> 
<p>[mao]  [rɪˈzɒlvə]多组件处理器</p> 
<h3 id="11.1%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span style="color:#333333;"><strong>11.1 </strong></span><span style="color:#333333;"><strong>文件上传</strong></span></h3> 
<div> 
 <span style="color:#333333;">(1)添加依赖 </span> 
</div> 
<div> 
 <img alt="" height="133" src="https://images2.imgbox.com/37/4e/s4PcOiaQ_o.png" width="637"> 
</div> 
<p></p> 
<div> 
 <div> 
  <span style="color:#333333;">(2)springmvc.xml</span> 
  <span style="color:#333333;">文件中配置</span> 
  <span style="color:#333333;">MultipartResolver: </span> 
 </div> 
</div> 
<p><img alt="" height="77" src="https://images2.imgbox.com/8a/35/85vWoyyx_o.png" width="877"></p> 
<p>(3)<span style="color:#333333;">fileHandle.jsp</span><span style="color:#333333;">页面表单 </span></p> 
<p><img alt="" height="281" src="https://images2.imgbox.com/00/63/pmpxWcCc_o.png" width="709"></p> 
<p>(4)文件上传控制器<span style="color:#333333;">(</span><span style="color:#333333;">注意要创建文件夹保存上传之后的文件</span><span style="color:#333333;">)</span></p> 
<p><img alt="" height="186" src="https://images2.imgbox.com/c0/b2/0Qa8TmMC_o.png" width="293"></p> 
<p><img alt="" height="628" src="https://images2.imgbox.com/db/0d/2ev5uxl1_o.png" width="1200"></p> 
<p> <span style="color:#956fe7;"><strong>优化：如果需要限定文件的大小和类型：</strong></span></p> 
<p>在springmvc.xml中限定文件大小</p> 
<p><img alt="" height="213" src="https://images2.imgbox.com/2c/f8/xtQjxdwT_o.png" width="930"></p> 
<p> 定义文件拦截器，只有.png和.jpg文件类型放行</p> 
<p><img alt="" height="720" src="https://images2.imgbox.com/57/33/o56Yby5Q_o.png" width="945"></p> 
<p>在springmvc.xml中添加拦截器</p> 
<p><img alt="" height="588" src="https://images2.imgbox.com/5a/43/0ks5dxT4_o.png" width="812"></p> 
<p> 若出现非指定后缀文件，跳转到异常页面fileTypeError.jsp</p> 
<p><img alt="" height="206" src="https://images2.imgbox.com/a7/5f/ZRhmrgsB_o.png" width="697"></p> 
<h3 id="%C2%A011.2%20%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD"> <span style="color:#333333;"><strong>11.2 </strong></span><span style="color:#333333;"><strong>文件下载 </strong></span></h3> 
<div> 
 <span style="color:#333333;">(1</span> 
 <span style="color:#333333;">）前端页面 </span> 
</div> 
<p> <img alt="" height="374" src="https://images2.imgbox.com/8c/70/zXdmQWfN_o.png" width="746"></p> 
<p><span style="color:#333333;">(2)</span><span style="color:#333333;">配置处理类方法</span></p> 
<p><img alt="" height="725" src="https://images2.imgbox.com/51/1c/QwvEN4B1_o.png" width="1022"></p> 
<p> 测试</p> 
<p><img alt="" height="211" src="https://images2.imgbox.com/c2/34/9zNKoNYq_o.png" width="741"></p> 
<p> <img alt="" height="88" src="https://images2.imgbox.com/51/ec/6y5bfqxJ_o.png" width="574"></p> 
<p></p> 
<h2 id="12%E3%80%81RESTful%E9%A3%8E%E6%A0%BC"><span style="color:#333333;"><strong>12</strong></span><span style="color:#333333;"><strong>、</strong></span><span style="color:#333333;"><strong>RESTful</strong></span><span style="color:#333333;"><strong>风格</strong></span></h2> 
<h3 id="12.1%20REST%E6%A6%82%E5%BF%B5"><span style="color:#333333;"><strong>12.1 REST</strong></span><span style="color:#333333;"><strong>概念 </strong></span></h3> 
<h3 id="12.2%20RESTful%E6%A6%82%E5%BF%B5"><span style="color:#333333;"><strong>12.2 RESTful</strong></span><span style="color:#333333;"><strong>概念</strong></span></h3> 
<h4></h4> 
<p><span style="color:#333333;"><strong>REST</strong></span><span style="color:#333333;">(</span><span style="color:#333333;">英文：</span><span style="color:#333333;">Representational State Transfer</span><span style="color:#333333;">，简称</span><span style="color:#333333;"><strong>REST</strong></span><span style="color:#333333;">，意思：表述性状态转换，描述了一个架构样式的网络系统，比如web</span><span style="color:#333333;">应用</span><span style="color:#333333;">)</span><span style="color:#333333;">。 </span></p> 
<div></div> 
<div> 
 <span style="color:#333333;">它是一种软件架构风格、设计风格，而不是标准，只是提供了一组设计原则和约束条件，它主要用于</span> 
 <span style="color:#333333;"><strong>客</strong></span> 
 <span style="color:#333333;"><strong>户端和服务端</strong></span> 
 <span style="color:#333333;">交互类的软件。基于这个风格设计的软件可以更简介，更有层次，更易于实现缓存等机制.</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">它本身并没有什么使用性，其</span> 
  <span style="color:#79c6cd;"><strong>核心价值在于如何设计出符合REST风格的网络接口</strong></span> 
 </div> 
 <div></div> 
 <div></div> 
</div> 
<div> 
 <span style="color:#333333;">REST</span> 
 <span style="color:#333333;">指的是一组架构约束条件和原则。满足这些约束条件和原则的应用程序或设计就</span> 
 <span style="color:#333333;"><strong>RESTful</strong></span> 
 <span style="color:#333333;">。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">RESTful</span> 
 <span style="color:#333333;">的特性：</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;"><strong>资源</strong></span> 
  <span style="color:#333333;"><strong>(Resources)</strong></span> 
  <span style="color:#333333;">：互联网所有的事物都可以被抽象为资源 。它可以是一段文本、一张图片、一首歌曲、一种服务，总之就是一个具体的存在。可以用一个URI</span> 
  <span style="color:#333333;">（统一资源定位符）指向它，每种资源对应一个特性的URI</span> 
  <span style="color:#333333;">。要获取这个资源，访问它的</span> 
  <span style="color:#333333;">URI</span> 
  <span style="color:#333333;">就可以，因此</span> 
  <span style="color:#333333;">URI</span> 
  <span style="color:#333333;">即为每一个资源的独一无二的识别符。</span> 
 </div> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;"><strong>表现层</strong></span> 
 <span style="color:#333333;"><strong>(Representation)</strong></span> 
 <span style="color:#333333;">：把资源具体呈现出来的形式，叫做它的表现层</span> 
 <span style="color:#333333;">(Representation)</span> 
 <span style="color:#333333;">。比如，文本可以用txt</span> 
 <span style="color:#333333;">格式表现，也可以用</span> 
 <span style="color:#333333;">HTML</span> 
 <span style="color:#333333;">格式、</span> 
 <span style="color:#333333;">XML</span> 
 <span style="color:#333333;">格式、</span> 
 <span style="color:#333333;">JSON</span> 
 <span style="color:#333333;">格式表现，甚至可以采用二进制格式。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;"><strong>状态转换</strong></span> 
  <span style="color:#333333;"><strong>(State Transfer)</strong></span> 
  <span style="color:#333333;">：每发出一个请求，就代表了客户端和服务器的一次交互过程。</span> 
  <span style="color:#333333;">HTTP</span> 
  <span style="color:#333333;">协议， 是一个无状态协议，即所有的状态都保存在服务器端。因此，如果客户端想要操作服务器，必须通过某 种手段，让服务器端发生“</span> 
  <span style="color:#333333;">状态转换</span> 
  <span style="color:#333333;">”(State Transfer)</span> 
  <span style="color:#333333;">。而这种转换是建立在表现层之上的，所以就是</span> 
  <span style="color:#333333;">“</span> 
  <span style="color:#333333;">表 现层状态转换”</span> 
  <span style="color:#333333;">。 </span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">具体来说就是</span> 
  <span style="color:#333333;">HTTP</span> 
  <span style="color:#333333;">协议里面，四个表示操作方式的动词：</span> 
  <span style="color:#333333;"><strong>GET</strong></span> 
  <span style="color:#333333;"><strong>、</strong></span> 
  <span style="color:#333333;"><strong>POST</strong></span> 
  <span style="color:#333333;"><strong>、</strong></span> 
  <span style="color:#333333;"><strong>PUT</strong></span> 
  <span style="color:#333333;"><strong>、</strong></span> 
  <span style="color:#333333;"><strong>DELETE</strong></span> 
  <span style="color:#333333;">。他们分别对应四种基本操作：GET</span> 
  <span style="color:#333333;">用来</span> 
  <span style="color:#333333;"><strong>获取</strong></span> 
  <span style="color:#333333;">资源，</span> 
  <span style="color:#333333;">POST</span> 
  <span style="color:#333333;">用来</span> 
  <span style="color:#333333;"><strong>新建</strong></span> 
  <span style="color:#333333;">资源，</span> 
  <span style="color:#333333;">PUT</span> 
  <span style="color:#333333;">用来</span> 
  <span style="color:#333333;"><strong>更新</strong></span> 
  <span style="color:#333333;">资源，</span> 
  <span style="color:#333333;">DELETE</span> 
  <span style="color:#333333;">用来</span> 
  <span style="color:#333333;"><strong>删除</strong></span> 
  <span style="color:#333333;">资源。 </span> 
 </div> 
 <div></div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#98c091;"><strong>原来的操作资源的方式： </strong></span> 
  </div> 
  <div></div> 
 </div> 
 <div> 
  <div> 
   <span style="color:#4183c4;">http://localhost:8080/getExpress.do?id=1</span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#4183c4;">http://localhost:8080/saveExpress.do</span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#4183c4;">http://localhost:8080/updateExpress.do</span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#4183c4;">http://localhost:8080/deleteExpress.do?id=1</span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">原来用的方式当然没有问题，但是如果有更简洁的方式就更好了，此时就是</span> 
   <span style="color:#333333;">RESTful</span> 
   <span style="color:#333333;">风格。</span> 
  </div> 
 </div> 
 <div></div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#98c091;"><strong>使用RESTful操作资源</strong></span> 
  </div> 
 </div> 
 <div></div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#333333;">GET /expresses #</span> 
   <span style="color:#333333;">查询所有的快递信息列表 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">GET /express/1006 #</span> 
   <span style="color:#333333;">查询一个快递信息 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">POST /express #</span> 
   <span style="color:#333333;">新建一个快递信息 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">PUT /express/1006  #更新一个快递信息(</span> 
   <span style="color:#333333;">全部更新</span> 
   <span style="color:#333333;">) </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">PATCH /express/1006  #更新一个快递信息（部分更新） </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">DELETE /express/1006 #删除一个快递信息</span> 
  </div> 
 </div> 
 <div></div> 
 <div></div> 
</div> 
<h3 id="12.3%20API%E8%AE%BE%E8%AE%A1%2FURL%E8%AE%BE%E8%AE%A1"><span style="color:#333333;"><strong>12.3 RESTful风格的API</strong></span><span style="color:#333333;"><strong>设计</strong></span><span style="color:#333333;"><strong>/URL</strong></span><span style="color:#333333;"><strong>设计 </strong></span></h3> 
<h4 id="12.3.1%20%E5%8A%A8%E8%AF%8D%2B%E5%AE%BE%E8%AF%AD"><span style="color:#333333;"><strong>12.3.1 </strong></span><span style="color:#333333;"><strong>动词</strong></span><span style="color:#333333;"><strong>+</strong></span><span style="color:#333333;"><strong>宾语</strong></span></h4> 
<div> 
 <span style="color:#98c091;"><strong>RESTful 的核心思想就是客户端的用户发出的数据操作指令都是"动词 + 宾语"的结构</strong></span> 
 <span style="color:#333333;">。例如</span> 
 <span style="color:#333333;">GET </span> 
</div> 
<div> 
 <span style="color:#333333;">/expresses </span> 
 <span style="color:#333333;">这个命令，</span> 
 <span style="color:#333333;">GET</span> 
 <span style="color:#333333;">是动词，</span> 
 <span style="color:#333333;">/expresses </span> 
 <span style="color:#333333;">是宾语。 </span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">动词通常就是五种 </span> 
 <span style="color:#333333;">HTTP </span> 
 <span style="color:#333333;">方法，对应 </span> 
 <span style="color:#333333;">CRUD </span> 
 <span style="color:#333333;">操作。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">GET</span> 
 <span style="color:#333333;">：读取（</span> 
 <span style="color:#333333;">Read</span> 
 <span style="color:#333333;">） </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">POST</span> 
 <span style="color:#333333;">：新建（</span> 
 <span style="color:#333333;">Create</span> 
 <span style="color:#333333;">） </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PUT</span> 
 <span style="color:#333333;">：更新（</span> 
 <span style="color:#333333;">Update</span> 
 <span style="color:#333333;">） </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PATCH</span> 
 <span style="color:#333333;">：更新（</span> 
 <span style="color:#333333;">Update</span> 
 <span style="color:#333333;">），通常是部分更新 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">DELETE</span> 
 <span style="color:#333333;">：删除（</span> 
 <span style="color:#333333;">Delete</span> 
 <span style="color:#333333;">） </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PS: 1</span> 
 <span style="color:#333333;">、根据 </span> 
 <span style="color:#333333;">HTTP </span> 
 <span style="color:#333333;">规范，动词一律大写。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">2</span> 
  <span style="color:#333333;">、一些代理只支持</span> 
  <span style="color:#333333;">POST</span> 
  <span style="color:#333333;">和</span> 
  <span style="color:#333333;">GET</span> 
  <span style="color:#333333;">方法， 为了使用这些有限方法支持</span> 
  <span style="color:#333333;">RESTful API</span> 
  <span style="color:#333333;">，需要一种办法覆盖http原来的方法。使用订制的</span> 
  <span style="color:#333333;">HTTP</span> 
  <span style="color:#333333;">头 </span> 
  <span style="color:#333333;">X-HTTP-Method-Override </span> 
  <span style="color:#333333;">来覆盖</span> 
  <span style="color:#333333;">POST </span> 
  <span style="color:#333333;">方法</span> 
  <span style="color:#333333;">. </span> 
 </div> 
</div> 
<div></div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;"><strong>12.3.2 </strong></span> 
  <span style="color:#333333;"><strong>宾语必须是名词</strong></span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">宾语就是</span> 
  <span style="color:#333333;"> API </span> 
  <span style="color:#333333;">的</span> 
  <span style="color:#333333;"> URL</span> 
  <span style="color:#333333;">，是</span> 
  <span style="color:#333333;"> HTTP </span> 
  <span style="color:#333333;">动词作用的对象。它应该是名词，不能是动词</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">比如，</span> 
  <span style="color:#333333;">/expresses </span> 
  <span style="color:#333333;">这个</span> 
  <span style="color:#333333;"> URL </span> 
  <span style="color:#333333;">就是正确的。 </span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">以下这些</span> 
  <span style="color:#333333;">URL</span> 
  <span style="color:#333333;">都是不推荐的，因为带上了动词，不是推荐写法。 </span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">/getAllExpresses </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">/getExpress </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">/createExpress </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">/deleteAllExpress</span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#777777;">ps:</span> 
  <span style="color:#777777;">不要混淆名词单数和复数，为了保持简单，只对所有资源使用复数。</span> 
 </div> 
 <div></div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;"><strong>12.3.3 </strong></span> 
  <span style="color:#333333;"><strong>避免多级</strong></span> 
  <span style="color:#333333;"><strong>URL </strong></span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">如果资源有多级分类，不建议写出多级</span> 
  <span style="color:#333333;">URL</span> 
  <span style="color:#333333;">。例如要获取编号1001球队中1005号队员，有人写：</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">GET /team/1001/player/1005 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">这种写法的语义不够明确，所以推荐使用查询字符串做后缀，改写为 </span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">GET /team/1001?player=1005</span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <div> 
  <span style="color:#333333;">再例如查询所有的还未取出的快递，你该如何编写呢？ </span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <div> 
  <span style="color:#333333;">GET /expresses/statu </span> 
  <span style="color:#333333;">不推荐 </span> 
 </div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#333333;">GET /expresses?statu=false </span> 
   <span style="color:#333333;">推荐 </span> 
  </div> 
 </div> 
 <div></div> 
</div> 
<div></div> 
<h3 id="12.4%20HTTP%E7%8A%B6%E6%80%81%E7%A0%81"><span style="color:#333333;"><strong>12.4 HTTP</strong></span><span style="color:#333333;"><strong>状态码</strong></span></h3> 
<p><span style="color:#333333;">客户端用户发起每一次请求，服务器都必须给出响应。响应包括 </span><span style="color:#333333;"><strong>HTTP </strong></span><span style="color:#333333;"><strong>状态码</strong></span><span style="color:#333333;">和</span><span style="color:#333333;"><strong>数据</strong></span><span style="color:#333333;">两部分。</span></p> 
<p><span style="color:#333333;"><strong>HTTP </strong></span><span style="color:#333333;"><strong>状态码就是一个三位数，分成五个类别</strong></span><span style="color:#333333;">。</span></p> 
<p><span style="color:#333333;">每一种状态码都有标准的（或者约定的）解释，客户端只</span><span style="color:#333333;">需查看状态码，就可以判断出发生了什么情况，所以服务器应该返回尽可能精确的状态码。</span></p> 
<div> 
 <span style="color:#98c091;"><strong>五类状态码分别如下： </strong></span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">1xx</span> 
 <span style="color:#333333;">：相关信息 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2xx</span> 
 <span style="color:#333333;">：操作成功 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">3xx</span> 
 <span style="color:#333333;">：重定向 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">4xx</span> 
 <span style="color:#333333;">：客户端错误  </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">5xx</span> 
 <span style="color:#333333;">：服务器错误 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PS</span> 
 <span style="color:#333333;">：</span> 
 <span style="color:#333333;">API </span> 
 <span style="color:#333333;">不需要</span> 
 <span style="color:#333333;">1xx</span> 
 <span style="color:#333333;">状态码，所以这个类别直接忽略</span> 
</div> 
<div></div> 
<div></div> 
<h4 id="12.4.1%20%E7%8A%B6%E6%80%81%E7%A0%812xx"><span style="color:#333333;"><strong>12.4.1 </strong></span><span style="color:#333333;"><strong>状态码</strong></span><span style="color:#333333;"><strong>2xx </strong></span></h4> 
<p><span style="color:#79c6cd;"><strong>200 </strong></span><span style="color:#333333;">状态码表示操作成功，但是不同的方法可以返回更精确的状态码</span></p> 
<div> 
 <span style="color:#333333;">GET: 200 OK </span> 
 <span style="color:#333333;">表示一切正常 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">POST: 201 Created </span> 
 <span style="color:#333333;">表示新的资源已经成功创建 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PUT: 200 OK 更新成功</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">PATCH: 200 OK  更新成功</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">DELETE: 204 No Content </span> 
 <span style="color:#333333;">表示资源已经成功删除 </span> 
</div> 
<p></p> 
<h4 id="12.4.2%20%E7%8A%B6%E6%80%81%E7%A0%813xx"><span style="color:#333333;"><strong>12.4.2 </strong></span><span style="color:#333333;"><strong>状态码</strong></span><span style="color:#333333;"><strong>3xx </strong></span></h4> 
<div> 
 <span style="color:#333333;">API </span> 
 <span style="color:#333333;">用不到 </span> 
 <span style="color:#333333;">301 </span> 
 <span style="color:#333333;">状态码（永久重定向）和 </span> 
 <span style="color:#333333;">302 </span> 
 <span style="color:#333333;">状态码（暂时重定向， </span> 
 <span style="color:#333333;">307 </span> 
 <span style="color:#333333;">也是这个含义），因为它们可以由应用级别返回，浏览器会直接跳转，API </span> 
 <span style="color:#333333;">级别可以不考虑这两种情况</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">API </span> 
 <span style="color:#333333;">用到的 </span> 
 <span style="color:#333333;">3xx </span> 
 <span style="color:#333333;">状态码，主要是 </span> 
 <span style="color:#333333;">303 See Other </span> 
 <span style="color:#333333;">，表示参考另一个</span> 
 <span style="color:#333333;"> URL</span> 
 <span style="color:#333333;">。它与 </span> 
 <span style="color:#333333;">302 </span> 
 <span style="color:#333333;">和 </span> 
 <span style="color:#333333;">307 </span> 
 <span style="color:#333333;">的含义一 样，也是"</span> 
 <span style="color:#333333;">暂时重定向</span> 
 <span style="color:#333333;">"</span> 
 <span style="color:#333333;">，区别在于 </span> 
 <span style="color:#333333;">302 </span> 
 <span style="color:#333333;">和 </span> 
 <span style="color:#333333;">307 </span> 
 <span style="color:#333333;">用于 </span> 
 <span style="color:#333333;">GET </span> 
 <span style="color:#333333;">请求，而 </span> 
 <span style="color:#333333;">303 </span> 
 <span style="color:#333333;">用于 </span> 
 <span style="color:#333333;">POST </span> 
 <span style="color:#333333;">、 </span> 
 <span style="color:#333333;">PUT </span> 
 <span style="color:#333333;">和 </span> 
 <span style="color:#333333;">DELETE </span> 
 <span style="color:#333333;">请求。 收到 303 </span> 
 <span style="color:#333333;">以后，浏览器不会自动跳转，而会让用户自己决定下一步怎么办。</span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;">我们只需要关注一下</span> 
 <span style="color:#333333;">304</span> 
 <span style="color:#333333;">状态码就可以了 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#79c6cd;"><strong>304</strong></span> 
 <span style="color:#0d0016;"> ： Not Modified 客户端使用缓存数据</span> 
</div> 
<h4></h4> 
<div> 
 <span style="color:#333333;"><strong>12.4.3 </strong></span> 
 <span style="color:#333333;"><strong>状态码</strong></span> 
 <span style="color:#333333;"><strong>4xx </strong></span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">4xx </span> 
  <span style="color:#333333;">状态码表示客户端错误。</span> 
 </div> 
 <div></div> 
 <div> 
  <div> 
   <span style="color:#79c6cd;"><strong>400 </strong></span> 
   <span style="color:#333333;">Bad Request</span> 
   <span style="color:#333333;">：服务器不理解客户端的请求，未做任何处理。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#79c6cd;"><strong>401 </strong></span> 
   <span style="color:#333333;">Unauthorized</span> 
   <span style="color:#333333;">：用户未提供身份验证凭据，或者没有通过身份验证。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#79c6cd;"><strong>403 </strong></span> 
   <span style="color:#333333;">Forbidden</span> 
   <span style="color:#333333;">：用户通过了身份验证，但是不具有访问资源所需的权限。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#79c6cd;"><strong>404 </strong></span> 
   <span style="color:#333333;">Not Found</span> 
   <span style="color:#333333;">：所请求的资源不存在，或不可用。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#79c6cd;"><strong>405 </strong></span> 
   <span style="color:#333333;">Method Not Allowed</span> 
   <span style="color:#333333;">：用户已经通过身份验证，请求方式不匹配(get/post..)</span> 
   <span style="color:#333333;">。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">410 Gone</span> 
   <span style="color:#333333;">：所请求的资源已从这个地址转移，不再可用。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">415 Unsupported Media Type</span> 
   <span style="color:#333333;">：客户端要求的返回格式不支持。比如，</span> 
   <span style="color:#333333;">API </span> 
   <span style="color:#333333;">只能返回 </span> 
   <span style="color:#333333;">JSON </span> 
   <span style="color:#333333;">格式，但是客户端要求返回 XML </span> 
   <span style="color:#333333;">格式。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">422 Unprocessable Entity </span> 
   <span style="color:#333333;">：客户端上传的附件无法处理，导致请求失败。 </span> 
  </div> 
  <div></div> 
  <div> 
   <span style="color:#333333;">429 Too Many Requests</span> 
   <span style="color:#333333;">：客户端的请求次数超过限额</span> 
  </div> 
 </div> 
 <div></div> 
</div> 
<div></div> 
<h4 id="12.4.4%20%E7%8A%B6%E6%80%81%E7%A0%815xx"><span style="color:#333333;"><strong>12.4.4 </strong></span><span style="color:#333333;"><strong>状态码</strong></span><span style="color:#333333;"><strong>5xx </strong></span></h4> 
<div> 
 <span style="color:#333333;">5xx </span> 
 <span style="color:#333333;">状态码表示服务端错误。一般来说，</span> 
 <span style="color:#333333;">API </span> 
 <span style="color:#333333;">不会向用户透露服务器的详细信息，所以只要两个状态码就够了。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#79c6cd;"><strong>500 </strong></span> 
 <span style="color:#333333;">Internal Server Error</span> 
 <span style="color:#333333;">：客户端请求有效，服务器处理时发生了意外。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#79c6cd;"><strong>503 </strong></span> 
 <span style="color:#333333;">Service Unavailable</span> 
 <span style="color:#333333;">：服务器无法处理请求，一般用于网站维护状态。</span> 
</div> 
<div></div> 
<h3 id="12.5%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%93%8D%E5%BA%94"><span style="color:#333333;"><strong>12.5 </strong></span><span style="color:#333333;"><strong>服务器响应</strong></span></h3> 
<div> 
 <span style="color:#333333;">服务器返回的信息一般不推荐纯文本，而是建议大家选择</span> 
 <span style="color:#333333;">JSON </span> 
 <span style="color:#333333;">对象，因为这样才能返回标准的结构化数据。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">所以，</span> 
 <span style="color:#0d0016;">服务器回应的 HTTP 头的</span> 
 <span style="color:#79c6cd;"><strong> Content-Type</strong></span> 
 <span style="color:#0d0016;"> 属性要设为 application/json 。</span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;">客户端请求时，也要明确告诉服务器，可以接受 JSON </span> 
  <span style="color:#333333;">格式，即</span> 
  <span style="color:#0d0016;">请求的 HTTP 头的 </span> 
  <span style="color:#79c6cd;"><strong>ACCEPT </strong></span> 
  <span style="color:#0d0016;">属性也要设成 application/json 。</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">当发生错误时候，除了返回状态码外，也要返回错误信息。所以我们可以</span> 
 <span style="color:#79c6cd;"><strong>自己封装要返回的信息</strong></span> 
 <span style="color:#333333;">。</span> 
</div> 
<p></p> 
<h3 id="12.6%20%E6%A1%88%E4%BE%8B"><span style="color:#333333;"><strong>12.6 </strong></span><span style="color:#333333;"><strong>案例 </strong></span></h3> 
<h4 id="12.6.1RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9F%A5%E8%AF%A2"><span style="color:#333333;"><strong>12.6.1RESTful</strong></span><span style="color:#333333;"><strong>风格的查询 </strong></span></h4> 
<p><span style="color:#333333;">前端页面</span><span style="color:#333333;">restful.jsp</span></p> 
<p><img alt="" height="474" src="https://images2.imgbox.com/13/a1/C2pbGi63_o.png" width="651"></p> 
<p> <img alt="" height="792" src="https://images2.imgbox.com/70/e1/3jE0Qsdo_o.png" width="848"></p> 
<p><span style="color:#333333;">控制器</span><span style="color:#333333;">RestfulController.java </span></p> 
<p><img alt="" height="801" src="https://images2.imgbox.com/6a/ea/0dPGx8we_o.png" width="849"></p> 
<p> <img alt="" height="385" src="https://images2.imgbox.com/25/84/RrXt36xd_o.png" width="719"></p> 
<p> <img alt="" height="276" src="https://images2.imgbox.com/13/bb/Gwykt86G_o.png" width="630"></p> 
<p></p> 
<h4 id="12.6.2RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%B7%BB%E5%8A%A0"><span style="color:#333333;"><strong>12.6.2RESTful</strong></span><span style="color:#333333;"><strong>风格的添加</strong></span></h4> 
<p>ajax</p> 
<h4><img alt="" height="308" src="https://images2.imgbox.com/b5/15/LTW3chHJ_o.png" width="837"></h4> 
<p>处理器方法</p> 
<p><img alt="" height="192" src="https://images2.imgbox.com/a0/3b/l5CVNEA4_o.png" width="704"></p> 
<p> 测试</p> 
<p><img alt="" height="316" src="https://images2.imgbox.com/a0/64/T3EpewJU_o.png" width="775"></p> 
<p></p> 
<p> <img alt="" height="366" src="https://images2.imgbox.com/cc/67/9KrsSPDc_o.png" width="713"></p> 
<h4 id="12.6.3%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0"><span style="color:#333333;"><strong>12.6.3 RESTful</strong></span><span style="color:#333333;"><strong>风格的更新 </strong></span></h4> 
<p><span style="color:#333333;">ajax异步请求</span></p> 
<h4><img alt="" height="331" src="https://images2.imgbox.com/36/b3/Lsfgo7sH_o.png" width="954"></h4> 
<p>  处理器方法<img alt="" height="328" src="https://images2.imgbox.com/b0/5b/xqiPIFmB_o.png" width="730"></p> 
<p>测试</p> 
<p><img alt="" height="291" src="https://images2.imgbox.com/d7/09/SDQriEpo_o.png" width="731"></p> 
<p> <img alt="" height="288" src="https://images2.imgbox.com/4a/18/9erw8GAg_o.png" width="634"></p> 
<h4 id="12.6.4RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E5%88%A0%E9%99%A4"><span style="color:#333333;"><strong>12.6.4RESTful</strong></span><span style="color:#333333;"><strong>风格的删除 </strong></span></h4> 
<p><img alt="" height="200" src="https://images2.imgbox.com/ac/5f/VCGgjTGi_o.png" width="693"></p> 
<p></p> 
<h4 id="12.6.5%20RESTful%E9%A3%8E%E6%A0%BC%E7%9A%84%E6%9B%B4%E6%96%B0%E5%92%8C%E5%88%A0%E9%99%A4%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span style="color:#333333;"><strong>12.6.5 RESTful</strong></span><span style="color:#333333;"><strong>风格的更新和删除遇到的问题 </strong></span></h4> 
<div> 
 <span style="color:#333333;"><strong>12.6.5.1 </strong></span> 
 <span style="color:#333333;"><strong>遇到的问题： </strong></span> 
</div> 
<div></div> 
<div> 
 <span style="color:#79c6cd;"><strong>在Ajax中，采用Restful风格PUT和DELETE请求传递参数无效，传递到后台的参数值为null </strong></span> 
</div> 
<p></p> 
<div> 
 <span style="color:#333333;"><strong>12.6.5.2 </strong></span> 
 <span style="color:#333333;"><strong>产生的原因：</strong></span> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#98c091;"><strong>Tomcat封装请求参数的过程：</strong></span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <span style="color:#333333;">1.</span> 
 <span style="color:#333333;">将请求体中的数据，封装成一个</span> 
 <span style="color:#333333;">map </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">2.request.getParameter(key)</span> 
 <span style="color:#333333;">会从这个</span> 
 <span style="color:#333333;">map</span> 
 <span style="color:#333333;">中取值 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#333333;">3.SpringMvc</span> 
 <span style="color:#333333;">封装</span> 
 <span style="color:#333333;">POJO</span> 
 <span style="color:#333333;">对象的时候，会把</span> 
 <span style="color:#333333;">POJO</span> 
 <span style="color:#333333;">中每个属性的值进行</span> 
 <span style="color:#333333;">request.getParamter(); </span> 
</div> 
<div></div> 
<div> 
 <p><span style="color:#333333;">AJAX</span><span style="color:#333333;">送</span><span style="color:#333333;">PUT</span><span style="color:#333333;">或者</span><span style="color:#333333;">DELETE</span><span style="color:#333333;">请求时，请求体中的数据data通过</span><span style="color:#333333;">request.getParamter()拿不到。</span></p> 
 <div> 
  <span style="color:#333333;">Tomcat</span> 
  <span style="color:#333333;">检测是</span> 
  <span style="color:#333333;">PUT</span> 
  <span style="color:#333333;">或</span> 
  <span style="color:#333333;">DELETE</span> 
  <span style="color:#333333;">就不会封装请求体中数据data为</span> 
  <span style="color:#333333;">map</span> 
  <span style="color:#333333;">，</span> 
  <span style="color:#333333;">POST</span> 
  <span style="color:#333333;">形式data才封装为map</span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">总之就是，当是更新或者删除的请求时，tomcat是不会把请求体data数据转为map，后台处理器方法也就无法通过key获取值，若请求体data数据为空，比如删除的时候只需要在url属性中提供id，请求头data中不需数据，不影响程序运行。</span> 
 </div> 
</div> 
<div></div> 
<div> 
 <div> 
  <span style="color:#333333;"><strong>12.6.5.3 </strong></span> 
  <span style="color:#333333;"><strong>解决方案：</strong></span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">1</span> 
  <span style="color:#333333;">、前端页面中的</span> 
  <span style="color:#333333;">ajax</span> 
  <span style="color:#333333;">发送请求的时候在data</span> 
  <span style="color:#333333;">中加 </span> 
  <span style="color:#333333;">&amp;_method=”PUT” </span> 
  <span style="color:#333333;">或者 </span> 
  <span style="color:#333333;">&amp;_method=”DELETE” </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">2. web.xml中配置HiddenHttpMethodFilter</span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#333333;">配置的时候多个过滤器需要注意顺序</span> 
 </div> 
 <div></div> 
</div> 
<div> 
 <img alt="" height="536" src="https://images2.imgbox.com/0f/98/rIODmusI_o.png" width="642"> 
</div> 
<p> <img alt="" height="258" src="https://images2.imgbox.com/1f/d0/8W1PPOt0_o.png" width="793"></p> 
<div></div> 
<h4 id="12.7%20%E8%87%AA%E5%B7%B1%E5%B0%81%E8%A3%85%E5%93%8D%E5%BA%94%E7%BB%93%E6%9E%9C"><span style="color:#333333;"><strong>12.7 </strong></span><span style="color:#333333;"><strong>自己封装响应结果</strong></span></h4> 
<p>AjaxResultVO&lt;T&gt;</p> 
<p><img alt="" height="714" src="https://images2.imgbox.com/2a/74/mtymyfYC_o.png" width="741"></p> 
<p> 处理器返回类型统一改成AjaxResultVO&lt;Team&gt;</p> 
<p><img alt="" height="612" src="https://images2.imgbox.com/21/28/XCmpyLD4_o.png" width="841"></p> 
<p> <img alt="" height="661" src="https://images2.imgbox.com/cc/04/Flmc5rJ6_o.png" width="715"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cac9cd2fcc60e6f8070b4a0bef8ea2fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">华为服务器登陆不了系统,服务器的数据库怎么登陆不了怎么办</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e6fdb10d10b8ba2471238e963fb0210/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【计算机网络】传输层详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>