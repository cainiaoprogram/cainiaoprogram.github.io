<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vant Uploader 文件上传手机上所遇到的坑 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vant Uploader 文件上传手机上所遇到的坑" />
<meta property="og:description" content="公司H5项目文件上传用到了Vant Uploader文件上传组件，但是这个组件的坑属实是真的多，写这篇文章给大家分享一下，如果问题和我同样的话就不用纠结了，可以直接换组件了~~
问题1：我在谷歌浏览器的模拟器中测试可以，为什么在手机上却没有办法显示，如下图
这个问题总共是有2处坑
关乎公司所购买的服务器，图片上传是经过服务器上传的，如果你们公司购买的服务器很便宜，那么它的传输速度就会很慢，这会导致图片上传以后回显加载的很慢或者是直接不回显。 解决方案：
前端可以在图片上传前压缩图片，这类代码其他博客有很多，随便搜索下就有了，这里顺便也给大家贴出来，这里要注意，如果你使用过这个方法却失败了还是不行，有可能是因为你没有转换文件，与后端所需要的格式不一致，所以会导致失败
//这里是把上传的文件转换 dataURLtoFile(dataurl, filename) { var arr = dataurl.split(&#34;,&#34;), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n); while (n--) { u8arr[n] = bstr.charCodeAt(n); } return new File([u8arr], filename, { type: mime }); } 然后就是压缩图片大小 if (/\/(?:jpeg|png)/i.test(event.file.type) &amp;&amp; event.file.size &gt; 500000) { // 创建Canvas对象(画布) let canvas = document.createElement(&#34;canvas&#34;); // 获取对应的CanvasRenderingContext2D对象(画笔) let context = canvas.getContext(&#34;2d&#34;); // 创建新的图片对象 let img = new Image(); // 指定图片的DataURL(图片的base64编码数据) img." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/72e0df5826b2129887c6835d86f9d24b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-13T10:34:44+08:00" />
<meta property="article:modified_time" content="2020-03-13T10:34:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vant Uploader 文件上传手机上所遇到的坑</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>公司H5项目文件上传用到了Vant Uploader文件上传组件，但是这个组件的坑属实是真的多，写这篇文章给大家分享一下，如果问题和我同样的话就不用纠结了，可以直接换组件了~~</p> 
<p>问题1：我在谷歌浏览器的模拟器中测试可以，为什么在手机上却没有办法显示，如下图<br> <img src="https://images2.imgbox.com/a3/e6/W420d5CE_o.png" alt="在这里插入图片描述"><br> 这个问题总共是有2处坑</p> 
<ol><li>关乎公司所购买的服务器，图片上传是经过服务器上传的，如果你们公司购买的服务器很便宜，那么它的传输速度就会很慢，这会导致图片上传以后回显加载的很慢或者是直接不回显。</li></ol> 
<ul><li> <p>解决方案：</p> <p>前端可以在图片上传前压缩图片，这类代码其他博客有很多，随便搜索下就有了，这里顺便也给大家贴出来，这里要注意，如果你使用过这个方法却失败了还是不行，有可能是因为你没有转换文件，与后端所需要的格式不一致，所以会导致失败</p> </li></ul> 
<pre><code class="prism language-javascript">	<span class="token comment">//这里是把上传的文件转换</span>
    <span class="token function">dataURLtoFile</span><span class="token punctuation">(</span>dataurl<span class="token punctuation">,</span> filename<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> arr <span class="token operator">=</span> dataurl<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        mime <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/:(.*?);/</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        bstr <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        n <span class="token operator">=</span> bstr<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        u8arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        u8arr<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> bstr<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">[</span>u8arr<span class="token punctuation">]</span><span class="token punctuation">,</span> filename<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> type<span class="token punctuation">:</span> mime <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code>  然后就是压缩图片大小
</code></pre> 
<pre><code class="prism language-javascript">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\/(?:jpeg|png)/i</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>file<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span>file<span class="token punctuation">.</span>size <span class="token operator">&gt;</span> <span class="token number">500000</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建Canvas对象(画布)</span>
        <span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"canvas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取对应的CanvasRenderingContext2D对象(画笔)</span>
        <span class="token keyword">let</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 创建新的图片对象</span>
        <span class="token keyword">let</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 指定图片的DataURL(图片的base64编码数据)</span>
        img<span class="token punctuation">.</span>src <span class="token operator">=</span> event<span class="token punctuation">.</span>content<span class="token punctuation">;</span>
        <span class="token comment">// 监听浏览器加载图片完成，然后进行进行绘制</span>
        img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// 指定canvas画布大小，该大小为最后生成图片的大小</span>
          canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
          canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>
          <span class="token comment">/* drawImage画布绘制的方法。(0,0)表示以Canvas画布左上角为起点，400，300是将图片按给定的像素进行缩小。
        如果不指定缩小的像素图片将以图片原始大小进行绘制，图片像素如果大于画布将会从左上角开始按画布大小部分绘制图片，最后的图片就是张局部图。*/</span>

          context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 将绘制完成的图片重新转化为base64编码，file.file.type为图片类型，0.92为默认压缩质量</span>
          event<span class="token punctuation">.</span>content <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>file<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token number">0.92</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
            headers<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token comment">//添加请求头</span>
              <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"multipart/form-data"</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> file <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">dataURLtoFile</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token string">"image"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// console.log(file)</span>
          <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          params<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token string">`这里写公司图片上传的接口`</span></span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            method<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
            url<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MOBILE_ROOT</span> <span class="token operator">+</span> url<span class="token punctuation">,</span>
            data<span class="token punctuation">:</span> params<span class="token punctuation">,</span>
            config
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>fileList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                  url<span class="token punctuation">:</span> res<span class="token punctuation">.</span>result<span class="token punctuation">.</span>url
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Indicator.close();</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> 
</code></pre> 
<p>2.部分oppo，小米手机不支持这个组件，我自己实测了很多手机，例如苹果6,7,8，华为等等，在这些手机中oppo和小米部分型号手机是不支持Vant Uploader这个组件的，看到这里是不是欲哭无泪，辛辛苦苦大半天结果不兼容。。。</p> 
<ul><li> <p>解决方案：</p> <p>换另外的组件，比如说微信公用的api chooseImage()，这个方法是最合适，详细的使用方法可以去微信的开发文档里看，这里也把代码贴一下</p> </li></ul> 
<pre><code class="prism language-javascript">	<span class="token comment">//先判断下终端是什么</span>
    <span class="token function">updateImg</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style <span class="token operator">=</span> style<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fromWhere <span class="token operator">==</span> <span class="token string">"wechat"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//上传图片</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fromWhere <span class="token operator">==</span> <span class="token string">"ios"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span>messageHandlers<span class="token punctuation">.</span>uploadImage<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> body<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fromWhere <span class="token operator">==</span> <span class="token string">"android"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span>native<span class="token punctuation">.</span><span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//然后可以设置上传时最多上传几张，压缩图以及相片来源</span>
 <span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$wx<span class="token punctuation">.</span><span class="token function">chooseImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        count<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        sizeType<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"compressed"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定是原图还是压缩图，默认二者都有</span>
        sourceType<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"album"</span><span class="token punctuation">,</span> <span class="token string">"camera"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 可以指定来源是相册还是相机，默认二者都有</span>
        success<span class="token punctuation">:</span> res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">var</span> localId <span class="token operator">=</span> res<span class="token punctuation">.</span>localIds<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uploadImg</span><span class="token punctuation">(</span>localId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//这里是获取图片上传后返回来的一个图片本地ID</span>
    <span class="token function">uploadImg</span><span class="token punctuation">(</span>localId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$wx<span class="token punctuation">.</span><span class="token function">uploadImage</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        localId<span class="token punctuation">:</span> localId<span class="token punctuation">,</span> <span class="token comment">// 需要上传的图片的本地ID，由chooseImage接口获得</span>
        isShowProgressTips<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 默认为1，显示进度提示</span>
        success<span class="token punctuation">:</span> res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> serverId <span class="token operator">=</span> res<span class="token punctuation">.</span>serverId<span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setServer</span><span class="token punctuation">(</span>serverId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        fail<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">Toast</span><span class="token punctuation">(</span><span class="token string">"上传错误,请稍候重试!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token comment">//最后上传图片并回显</span>
  <span class="token function">setServer</span><span class="token punctuation">(</span>serverId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">"这里写公司图片上传的接口"</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"mediaId"</span><span class="token punctuation">,</span> serverId<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$http</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        method<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
        url<span class="token punctuation">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">API_ROOT</span> <span class="token operator">+</span> url<span class="token punctuation">,</span>
        data<span class="token punctuation">:</span> formData
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>style <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>cardPositive <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>passPort <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>household <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span>cardBack <span class="token operator">=</span> res<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>e <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>总结：我太难了。。。(后续还有几个问题以后再写)</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/57cbc772915e553ab7c02fdd005cba08/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java基础9——几个重要的API之迭代器Iterator</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab63bde4f5ef177ae30ee1a8526df169/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js通过match方法和正则表达式截取某两个字符串中间部分的字符</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>