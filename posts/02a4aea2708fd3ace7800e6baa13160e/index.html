<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Django--案例 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Django--案例" />
<meta property="og:description" content="案例1：用户管理
1. 展示用户列表 url函数 获取所有用户信息HTML渲染 将数据库获取的对象当做参数传递给前端HTML：
注意字典的键是双引号。
补充：时间在模板中如何使用字符串
2.添加用户 url函数 通过GET方式，看到页面，输入内容。通过POST方式，提交 -&gt; 写入到数据库。
可以在列表的html中添加一个a标签链接到add 中，因为是在同一个网址下，即![在这里插入图片描述](https://img-blog.csdnimg.cn/7b277d2c3e314577bd8156725ff0e295.png 3.删除用户 url函数 同样先添加 删除的 URL 和函数 ，
开始时可以直接URL后面添加 ？uid=xx 来指定删除对应id 的数据.
由于不能让用户去输入对应id的URL来实现删除，所示设置a标签进行跳转删除
这样就通过前面的for循环在每一列后面添加了删除的a标签来跳转到删除的URL 而id即使用当前的obj.id来实现指定id的删除
结果如下：
由于在当前的同样的网址下操作，所以Href后面的网址 http://127.0.0.1:8000 同样可以省去
再设置删除后面的跳转的页面
#案例2
设计数据库表
max_digits参数表示数字长度，而decimal_places表示小数点后面的长度
通过ForeignKey来设置外键，参数中的to 表示与哪张表进行关联，to_fields与表中哪一列关联,
on_delete=models.CASCADE 表示级联删除，当外键中对应的部门删除后，对应的主键也会被删除;
on_delete=models.SET_NULL 表示当外键被删除后，主键内容不是被删除，而是被置空;
可以在Django中通过元组来为其做约束，
这里约束之后选择性别的时候只能是1，或2。
设计数据库
修改配置文件，连接MySQL
DATABASES = {
‘default’: {
‘ENGINE’: ‘django.db.backends.mysql’,
‘NAME’:‘test1’,
‘USER’:‘root’,
‘PASSWORD’:‘root’,
‘HOST’:‘127.0.0.1’,
‘PORT’:3306,
}
}
通过Django命令生成 数据库表
python manage.py makemigrations
python manage.py migrate" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/02a4aea2708fd3ace7800e6baa13160e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-22T21:23:43+08:00" />
<meta property="article:modified_time" content="2022-08-22T21:23:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Django--案例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>案例1：用户管理</strong></p> 
<h4><a id="1__2"></a>1. 展示用户列表</h4> 
<ul><li>url</li><li>函数 
  <ul><li>获取所有用户信息</li><li>HTML渲染</li></ul> </li></ul> 
<p>将数据库获取的对象当做参数传递给前端HTML：<br> <img src="https://images2.imgbox.com/ab/57/NtuB136p_o.png" alt="在这里插入图片描述">注意字典的键是双引号。</p> 
<p>补充：时间在模板中如何使用字符串<br> <img src="https://images2.imgbox.com/80/0f/kjsXEtAY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_17"></a>2.添加用户</h4> 
<ul><li>url</li><li>函数 
  <ul><li>通过GET方式，看到页面，输入内容。</li><li>通过POST方式，提交 -&gt; 写入到数据库。<br> <img src="https://images2.imgbox.com/66/13/2QHtrAFs_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9c/b5/lrhOWO7o_o.png" alt="在这里插入图片描述">可以在列表的html中添加一个a标签链接到add 中，因为是在同一个网址下，即![在这里插入图片描述](https://img-blog.csdnimg.cn/7b277d2c3e314577bd8156725ff0e295.png<img src="https://images2.imgbox.com/0f/c7/dPO6t9Kl_o.png" alt="在这里插入图片描述"></li></ul> </li></ul> 
<h4><a id="3_25"></a>3.删除用户</h4> 
<ul><li>url</li><li>函数</li></ul> 
<p>同样先添加 删除的 URL 和函数 ，<br> <img src="https://images2.imgbox.com/f8/40/3PfAKdd1_o.png" alt="在这里插入图片描述"></p> 
<p>开始时可以直接URL后面添加 ？uid=xx 来指定删除对应id 的数据.<br> <img src="https://images2.imgbox.com/66/78/BBNQkUTa_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8e/93/YGU8XVke_o.png" alt="在这里插入图片描述"><br> 由于不能让用户去输入对应id的URL来实现删除，所示设置a标签进行跳转删除</p> 
<p><img src="https://images2.imgbox.com/a5/07/UJtUOtK5_o.png" alt="在这里插入图片描述">这样就通过前面的for循环在每一列后面添加了删除的a标签来跳转到删除的URL 而id即使用当前的obj.id来实现指定id的删除<br> 结果如下：<br> <img src="https://images2.imgbox.com/e0/dd/ar5d1PEK_o.png" alt="在这里插入图片描述"><br> 由于在当前的同样的网址下操作，所以Href后面的网址 http://127.0.0.1:8000 同样可以省去<br> <img src="https://images2.imgbox.com/b5/62/lS58e3zA_o.png" alt="在这里插入图片描述"></p> 
<p>再设置删除后面的跳转的页面</p> 
<p><img src="https://images2.imgbox.com/d5/67/C8gj1kxg_o.png" alt="在这里插入图片描述"></p> 
<p>#案例2</p> 
<p>设计数据库表<br> <img src="https://images2.imgbox.com/51/49/ieB24NsD_o.png" alt="在这里插入图片描述"><br> max_digits参数表示数字长度，而decimal_places表示小数点后面的长度</p> 
<p>通过ForeignKey来设置外键，参数中的to 表示与哪张表进行关联，to_fields与表中哪一列关联,<br> on_delete=models.CASCADE 表示级联删除，当外键中对应的部门删除后，对应的主键也会被删除;<br> on_delete=models.SET_NULL 表示当外键被删除后，主键内容不是被删除，而是被置空;</p> 
<p>可以在Django中通过元组来为其做约束，<br> <img src="https://images2.imgbox.com/22/1c/g2R6XD0W_o.png" alt="在这里插入图片描述">这里约束之后选择性别的时候只能是1，或2。</p> 
<p>设计数据库<br> <img src="https://images2.imgbox.com/f6/d5/q7yyhnCA_o.png" alt="在这里插入图片描述">修改配置文件，连接MySQL<br> <img src="https://images2.imgbox.com/4d/5a/ttJvLg9j_o.png" alt="在这里插入图片描述"><br> DATABASES = {<!-- --><br> ‘default’: {<!-- --><br> ‘ENGINE’: ‘django.db.backends.mysql’,<br> ‘NAME’:‘test1’,<br> ‘USER’:‘root’,<br> ‘PASSWORD’:‘root’,<br> ‘HOST’:‘127.0.0.1’,<br> ‘PORT’:3306,<br> }<br> }</p> 
<p>通过Django命令生成 数据库表</p> 
<p>python manage.py makemigrations<br> python manage.py migrate</p> 
<p>还可以通过<br> <img src="https://images2.imgbox.com/33/f6/E1yEqh95_o.png" alt="在这里插入图片描述">快速生成命令。</p> 
<p>设置HTML 前端 通过Bootstrap 框架<br> 可以参考 https://v3.bootcss.com/components/#navbar-default网站<br> <img src="https://images2.imgbox.com/58/cb/ySEpwBiK_o.png" alt="在这里插入图片描述"><br> ###注意在 Pycharm 中可以通过ctrl +alt+L 自动调整代码格式</p> 
<p>通过前端设计（主要通过在bootstrap寻找模板）得到前端页面:部门列表显示界面和部门添加页面<br> ![在这里插入图片描述](https://img-blog.csdnimg.cn/b5ace1c6d0e9406799fea4061edd7bb6.png<img src="https://images2.imgbox.com/3b/65/SOFl0CuN_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/49/ba/jYIdEJXh_o.png" alt="在这里插入图片描述"><br> 页面设计成功，完成实际功能。<br> 提交按钮的方式为POST方式去提交，所以再在views中设计代码</p> 
<p>注意，在form 中为写action的话，会将数据提交到当前的地址<br> <img src="https://images2.imgbox.com/15/be/1fdYbLvS_o.png" alt="在这里插入图片描述">即当前的地址<br> <img src="https://images2.imgbox.com/d4/c7/58imuZ3l_o.png" alt="在这里插入图片描述"><br> 注意，添加部门是通过POST 获得数据，而删除部门使用的是GET的方式获得数据<br> <img src="https://images2.imgbox.com/3e/16/7HWysZoO_o.png" alt="在这里插入图片描述"><br> ##编辑部门<br> 在编辑部门的时候，因为要将原来的部门中数据在 编辑页面的中显示，所以需要传递值过来，这里的方法是通过传id到编辑页面 再通过id再数据库寻找到数据，当然可以通过上面的方式在html中获取到id，</p> 
<p>#这里还可以通过url匹配来传递id：</p> 
<p>首先使用正则表达</p> 
<p><img src="https://images2.imgbox.com/ab/27/jGPLho6Z_o.png" alt="在这里插入图片描述"></p> 
<p>相当于每次在url中带了一个前面传过来的nid，<br> <img src="https://images2.imgbox.com/77/21/IUQRFH9h_o.png" alt="在这里插入图片描述">这样就可以获得nid<br> <img src="https://images2.imgbox.com/1f/83/p7OZCDVk_o.png" alt="在这里插入图片描述">最后再传递到指定的页面<br> <img src="https://images2.imgbox.com/fe/3d/LsLTYoFX_o.png" alt="在这里插入图片描述">再进行数据库、重定向操作<br> <img src="https://images2.imgbox.com/17/d6/1LT3DFyK_o.png" alt="在这里插入图片描述"><br> <strong>Django支持模板继承</strong></p> 
<p>在上面的html中许多页面的模板都是一样的，之前采取的方式是通过重复的html代码来实现，这样比较复杂</p> 
<p>这里由于<em>Django支持模板的继承</em></p> 
<p><strong>{% block content %}{% endblock %}</strong> （content表示内容，不是固定的，只需要继承页面的保持一直即可）</p> 
<p>通过 {% block content %} 特殊占位符将页面中模板填充到block 里面，其它页面需要这个模板只需要通过{% extends ‘layout.html’（继承的页面文件） %}继承，<br> 然后编写*{% block content %}与{% endblock %}中间的部分就可以。</p> 
<p><img src="https://images2.imgbox.com/cc/0a/RsGjo8dj_o.png" alt="在这里插入图片描述"><br> 这样重复的部分就不需要进行编写</p> 
<p><img src="https://images2.imgbox.com/38/48/ycWvqCJV_o.png" alt="在这里插入图片描述">这样如果之后导航需要修改，只需要改模板中的，其它页面继承的也会随之自动修改。</p> 
<p>如果有的页面需要不同的js、css，同样也可以通过<br> {% block js %} （加上该页面独特的js）{% endblock %}<br> {% block css %}（加上该页面独特的css）{<!-- -->{% endblock %}<br> <img src="https://images2.imgbox.com/f3/85/H21UaBv9_o.png" alt="在这里插入图片描述">右边为继承页面</p> 
<p>#用户列表</p> 
<p>注意：<br> 1:python中datatime转字符串的方式</p> 
<p>time=obj.create_time (datatime类型)<br> t=time.strftime（“%Y-%m-%d”）(字符串类型)</p> 
<p>注意：在如果在模板语法，即html页面中使用以上的python语言是通过obj.create_time | date:“Y-m-d (H:i:s)”</p> 
<p><img src="https://images2.imgbox.com/87/d9/lerVnjma_o.png" alt="在这里插入图片描述"></p> 
<p>2.在通过元组中套用选择，并使用到choices的时候，因为数据库储存的是1，2等，想要找到1、2对应的字符串，可以直接通过xxxx.get_xxx.display直接显示<br> <img src="https://images2.imgbox.com/3c/64/tw1746xs_o.png" alt="在这里插入图片描述"><br> 例如如图中，可以通过</p> 
<p><img src="https://images2.imgbox.com/87/b1/koSMsRCB_o.png" alt="在这里插入图片描述">注意，如果在模板语法，即html页面中使用以上的python语言不需要加（）</p> 
<p>3：在做外键与别的表关联的时候，主键的表中往往是存储的是外键表中的id，如果想要获得对应id的行中每列的数据，可以通过id去查询外键的表。<br> 还可以直接通过<br> <img src="https://images2.imgbox.com/7a/1d/BRyABzhY_o.png" alt="在这里插入图片描述"><br> 可以通过对象.（外键对象）dapart.title(外键表中对应字段)直接获取需要的外键表数据。<br> <img src="https://images2.imgbox.com/cb/c6/hQsXWE8g_o.png" alt="在这里插入图片描述"></p> 
<p>案例3 订单表</p> 
<p>同样设计model（数据库对应表）、url 、views.py、继承的父html 对应的标签、再设计oredel_list.html</p> 
<p>再去<strong>https://v3.bootcss.com/javascript/#modals</strong>获得Bootstrap对话框的模板</p> 
<p><img src="https://images2.imgbox.com/6c/13/j65Sgd2Q_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/b1/02/sfiQbsLl_o.png" alt="在这里插入图片描述">为button绑定下面对话框</p> 
<p>方法一：为上面按钮添加两个属性 data-toggle与 data-target<br> <img src="https://images2.imgbox.com/fe/9f/jPemlFSJ_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/7f/ab/Wmyo5U1I_o.png" alt="在这里插入图片描述"><br> 效果如下：<img src="https://images2.imgbox.com/02/d7/lgcGMYdU_o.png" alt="在这里插入图片描述">方法二：通过JS绑定事件，</p> 
<p><img src="https://images2.imgbox.com/1b/3e/MJycn1IW_o.png" alt="在这里插入图片描述"></p> 
<p>官方文档上显示通过JS调用<br> <img src="https://images2.imgbox.com/aa/ec/zGjH4ZCU_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/a2/92/ARu9dQl1_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/8d/e1/kCQdLfGE_o.png" alt="在这里插入图片描述"></p> 
<p>设置对话框的内容（内容应该是通过modelform表示）<br> 在对应的py文件中，通过modelform将数据传输到前端form表单<br> <img src="https://images2.imgbox.com/7f/37/XxkaPShh_o.png" alt="在这里插入图片描述">效果展示：<br> <img src="https://images2.imgbox.com/44/65/GDvlEEoT_o.png" alt="在这里插入图片描述">如果想上下排布，可以修改div class="col-xs-6"为div class=“col-xs-12”<br> <img src="https://images2.imgbox.com/fe/92/TcE6TW0D_o.png" alt="在这里插入图片描述">效果展示：<br> <img src="https://images2.imgbox.com/08/16/dOcJOqpu_o.png" alt="在这里插入图片描述">订单号应该是后台自动生成，所以在modelform中将订单号进行排除。</p> 
<p><img src="https://images2.imgbox.com/07/4c/rXDhuClq_o.png" alt="在这里插入图片描述">效果展示：<br> <img src="https://images2.imgbox.com/99/dd/PQXS6eUR_o.png" alt="在这里插入图片描述">点击保存，将数据都放到数据库，即绑定按钮事件，然后发送Ajax请求<br> <img src="https://images2.imgbox.com/05/8d/6XG1cPqW_o.png" alt="在这里插入图片描述">![在这里插入图片描述](https://img-blog.csdnimg.cn/cf066ccf063943fa8f5ee892dafa981e.png</p> 
<p>提示 效果展示：</p> 
<p><img src="https://images2.imgbox.com/2e/8f/0AXbD680_o.png" alt="在这里插入图片描述">为页面添加数据库订单列表<br> <img src="https://images2.imgbox.com/90/4f/tfl15jBk_o.png" alt="在这里插入图片描述">并添加页码<br> <img src="https://images2.imgbox.com/ad/f2/Q5GWMTSt_o.png" alt="在这里插入图片描述">为对话框中保存按钮添加清空表单、关闭对话框、并页面自动刷新页面的功能<br> <img src="https://images2.imgbox.com/86/1c/iPZ7KBJN_o.png" alt="在这里插入图片描述">为列表添加删除的功能<br> <img src="https://images2.imgbox.com/8c/4a/Y8ReS0bI_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/68/e9/tVGTtVni_o.png" alt="在这里插入图片描述">这里像之前部门列表一样主要是通过点击就跳转页面进删除，这里修改其成为点击就直接删除<br> <img src="https://images2.imgbox.com/c1/a2/Mh0zBCEz_o.png" alt="在这里插入图片描述">修改为input的标签，并为其 添加 btn-delete的自定义样式，并绑定事件</p> 
<p><img src="https://images2.imgbox.com/54/34/2sLUNPyD_o.png" alt="在这里插入图片描述"><br> 添加删除对话框，在模板中找到警告框，并对应修改模板中内容<br> <img src="https://images2.imgbox.com/4f/f7/B0skBAYf_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/64/5d/ZuAfKX2s_o.png" alt="在这里插入图片描述">data-dismiss=“modal” 属性可以实现在点击取消按钮后对话框消失的功能</p> 
<p>完善删除按钮的实际功能</p> 
<p>方法，在点击删除按钮的时候，获取对应行的id，通过id进行删除</p> 
<p>方式1：通过删除按钮将对应id放在某个标签中，再点击确认的时候再将对应的id。<br> 方式2：设置一个默认值为0的全局变量，再点击删除的按钮的时候，将全局变量设置为对应的id，点击确认的时候再将该全局变量获取</p> 
<p>方式二<br> 先为删除按钮添加自定义属性，并为其绑定事件</p> 
<p><img src="https://images2.imgbox.com/c5/c4/dg0nckx2_o.png" alt="在这里插入图片描述">设置全局变量，并在点击事件中获取对应的全局变量的值<br> <img src="https://images2.imgbox.com/ac/37/k59vgEHw_o.png" alt="在这里插入图片描述"><br> 为删除弹窗中确认键绑定事件<br> <img src="https://images2.imgbox.com/d9/3e/FlfNcRa6_o.png" alt="在这里插入图片描述"><br> 为绑定的事件添加ajax，并将数据传输到后台<img src="https://images2.imgbox.com/35/36/q3qAcsVo_o.png" alt="在这里插入图片描述">在后台通过.exists()来先判断是否数据存在，</p> 
<p><img src="https://images2.imgbox.com/44/f4/SQEkjnCc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/47/cc/UBd8u5tA_o.png" alt="在这里插入图片描述">成功后进行页面刷新，方法有直接删除对应标签，或者简单的方法location.reload();<br> <img src="https://images2.imgbox.com/2d/6f/VYdlCBdx_o.png" alt="在这里插入图片描述">完成删除按钮功能！</p> 
<p>修改编辑按钮的功能</p> 
<p>这里由于编辑的弹窗与新建弹窗内容差不多，所以共用一个form<br> <img src="https://images2.imgbox.com/eb/19/Yf0UNKtd_o.png" alt="在这里插入图片描述">此处form的id为myModalLabel</p> 
<p>然后将对应编辑的原内容显示在form中<br> 发送AJAX去后端获取当前行的相关数据</p> 
<p><img src="https://images2.imgbox.com/55/64/XdPqkmUD_o.png" alt="在这里插入图片描述">如果数据不存在<br> <img src="https://images2.imgbox.com/f1/e0/scEhiNp0_o.png" alt="在这里插入图片描述">就不会再弹出编辑框。<br> <img src="https://images2.imgbox.com/51/60/KnWRh8fN_o.png" alt="在这里插入图片描述">所以为显示对话框设置条件<br> <img src="https://images2.imgbox.com/11/92/FhpImhXw_o.png" alt="在这里插入图片描述"><br> 如果从数据库获取的数据，应该是一个对象，<br> <img src="https://images2.imgbox.com/c8/e8/zZebbqag_o.png" alt="在这里插入图片描述">也可以直接从数据库获取的数据，获取的数据为一个字典<br> <img src="https://images2.imgbox.com/ea/8b/fEqZsgTM_o.png" alt="在这里插入图片描述">获取字典的格式： row_dict=models.Order.objects.filter(id=uid).values(“xxx”,“xxx”,“xxx”).first()</p> 
<p>类似之前的<br> queryset，<br> queryset = models.Order.objects.all()， 里面表示的是queryset = [obj,obj,obj,] 里面内容为对象；</p> 
<pre><code>			queryset = models.Order.objects.all().values("id","title")，里面表示的是queryset = [ {'id':1,'title':"xx"},{'id':2,'title':"xx"}, ] 里面内容为字典；

			queryset = models.Order.objects.all().values_list("id","title")里面表示的元组# queryset = [ (1,"xx"),(2,"xxx"), ]；


			这里的JSON序列化只支持字典，所以一般用.values
</code></pre> 
<p>现在将数据放在对话框中，获取到对应的标签id，然后将对应值放在对应标签中<br> <img src="https://images2.imgbox.com/68/c6/qURG8931_o.png" alt="在这里插入图片描述"><br> 因为这里与新建订单用的是同一个对话框，所以需要在使用时都需要将之前内容清空<br> <img src="https://images2.imgbox.com/5a/12/FMYj23KR_o.png" alt="在这里插入图片描述">编辑显示的内容解决，现在完成编辑中保存的按钮功能<br> 因为编辑与新建使用的同时一个对话框，而编辑的时候保存按钮是对原有数据库的内容进行修改，而不是跟新建一样在数据库中添加内容。</p> 
<p>设置一个全局变量 （如：Edit_ID），并将编辑中uid赋值给这个全局变量<br> <img src="https://images2.imgbox.com/83/b2/GileVJES_o.png" alt="在这里插入图片描述"><br> 为了防止在点击编辑后，再点击新建，Edit_ID还是上次那个， 所以在新建事件中需要将Edit_ID置空<br> <img src="https://images2.imgbox.com/9a/08/1sYjgXOY_o.png" alt="在这里插入图片描述">这里将Edit_ID设置为flase，即表示undefined</p> 
<p>所以之后就可以在保存按钮中根据判断，如果Edit_ID为flase即undefined时，就表示为新建的保存，否则就为编辑的保存。<br> <img src="https://images2.imgbox.com/91/d7/IeU27Qep_o.png" alt="在这里插入图片描述">这里方便代码整体性，将编辑函数与添加函数单独拿出来写，将之前添加绑定事件中函数放在doAdd中，同时编写doEdit函数</p> 
<p><img src="https://images2.imgbox.com/80/e2/f6dHlQWW_o.png" alt="在这里插入图片描述">这里的url应该带上相应的uid</p> 
<p>这里还可以做一层验证，也可以不做<br> <img src="https://images2.imgbox.com/41/bc/vzsErYFq_o.png" alt="在这里插入图片描述">通过instance与save 实现modelform的对原数据的修改，同时通过error在前端显示输入的错误信息<br> <img src="https://images2.imgbox.com/3f/64/N4mXcd7O_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d9/29/2vNuz2Lw_o.png" alt="在这里插入图片描述"><br> 主要是通过Edit_ID为ture与flase来决定是新建还是编辑。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0467c7fcb7e10d7e84c0480c4b49450c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">认识数据链路层</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63d5fa5c772261b5e4e7559f09e10068/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用cookie进行登录操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>