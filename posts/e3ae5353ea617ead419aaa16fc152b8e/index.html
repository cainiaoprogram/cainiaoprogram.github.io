<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>平衡小车学习教程1——硬件资源及其小车底层硬件介绍篇 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="平衡小车学习教程1——硬件资源及其小车底层硬件介绍篇" />
<meta property="og:description" content="起因 大家在学会了Stm32后，可以做一个项目来进行来进行练手，平衡小车就是一个很好的练手项目，可以检验自己的学习成果，也可以对学习到的知识进行一个复习。再一个就是通过做项目来锻炼自己的工程能力。
好啦，废话不多说，本套教程预计分为两部分，硬件底层介绍篇和软件移植篇，经过这两个部分的学习，大家可以体会软硬件资源如何相互配合，在本教程的基础上快速做成自己的第一辆平衡小车。
当然，博主抽空更新啦，最近期末，要准备课程考试和课程设计，大家可以期待一下下
一、制作平衡小车所需要的模块选型 1、小车底板及带有编码器电机 推荐方案 小车底板 大家可以选择到淘宝自行购买平衡小车底板，如下图所示，一般如果不加电机的话，价格在30元左右，加上电机的话大概在130左右
带有编码器的电机 只要选择带有编码器的减速直流电机即可，大家注意要选择带有支架和轮胎的，不然买回来就只有一个电机，轮胎和支架还要另外买，查看淘宝的价格，两个带编码器的电机大约在120元左右
我的方案 小车底板 自己纯手工制作，直接采用的绿色洞洞板，自己使用螺丝挖孔，采用铜柱作为支撑
编码器电机 使用实验室的电机，型号为JGB37520电机，65mm大轮胎
2、电机驱动 推荐方案 使用TB6612FNG电机驱动模块,我认为这个电机驱动比较好用，就是要注意使用，一不小心就烧了，驱动倒是不贵嘞，但是可能会把MCU烧了噢
3、电源以及稳压模块 推荐方案 电池 1.采用3S航模电池，就是价格有点小贵,价格大概在50元左右
大家一定要注意转接头是否匹配，多买几条相应的转接头，有XT60、JST、T插等接口
2.大家也可以选择下图18650电池组，12V输出，电流参数大家可以自行选择
稳压 采用LM2596S-DC-DC可调模块,将12V电压降压成5V，给MCU和其他外设模块供电
4、OLED显示屏 这个就没什么好推荐的嘞，直接采用0.96OLED屏，主要是用来调试参数使用，查看陀螺仪角度等,大概10元左右
5、MCU 这个也请大家根据个人需求选择，可以选择Stm32单片机或者其他型号的单片机
我这里采用的是Stm32F103RCT6单片机，一般的Stm32F103C8T6就已经够用嘞
6、陀螺仪模块(MPU6050) 推荐方案 1、上淘宝买一个MPU6050，8脚的，大概价格在15元左右
2、采用ATK-MPU6050
原子家的MPU6050,6脚的,小贵，一个都快60块嘞，但是貌似精度更高？
由于手上有这个模块，就直接采用了原子家的
7、蓝牙模块 大家自行去淘宝购买，我选择的是HC-05，价格大概在20元左右
大家也可以选择购买HC-06/07/08等
二、集成上述模块，画出PCB 1、原理图 下图为集成模块，所画出的PCB,将各个模块进行继承整合，下图即为所使用到的硬件原理图
还添加了三个按钮，三个LED和一个蜂鸣器，扩展出了两个串口，这块板子很强，表扬一下硬件大哥
12V电压经过LM2596S DC-DC可调电压模块降压成5V,给外设和MCU供电
2、PCB PCB如下图所示,太棒了，硬件大哥非常给力，再次点赞
三、规划MCU的IO口资源，以及使用到的软件资源 1、电机及编码器 注意这里的规划资源是根据TB6612逻辑来进行使用的，但是其他驱动模块同理
PB12 PB13 PB14 PB15控制电机的正反转
PB6(TIM4-CH1) PB7(TIM4-CH2)控制电机转速
PA0(TIM2-CH1) PA1(TIM2-CH2) PA6(TIM3-CH1) PA7(TIM3-CH2)编码器读取脉冲
2、OLED OLED这里选择的是IIC通信的四脚OLED，可以随意选择两个通用IO,作为SCL和SDA引脚
PC5(SCL)
PC4(SDA)
3、MPU6050 MPU6050也是使用IIC通信的模块，有一个中断引脚INT，SCL引脚和SDA引脚
PB5(INT引脚)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e3ae5353ea617ead419aaa16fc152b8e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-20T09:35:15+08:00" />
<meta property="article:modified_time" content="2023-06-20T09:35:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">平衡小车学习教程1——硬件资源及其小车底层硬件介绍篇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>起因</h3> 
<p>大家在学会了Stm32后，可以做一个项目来进行来进行练手，<mark>平衡小车</mark>就<strong>是一个很好的练手项目，可以检验自己的学习成果</strong>，也可以对学习到的知识进行一个复习。再一个就是<strong>通过做项目来锻炼自己的工程能力。</strong></p> 
<p>好啦，废话不多说，<strong>本套教程预计分为两部分</strong>，<mark>硬件底层介绍篇和软件移植篇</mark>，经过这两个部分的学习，<strong>大家可以体会软硬件资源如何相互配合，在本教程的基础上快速做成自己的第一辆平衡小车。</strong></p> 
<blockquote> 
 <p><code>当然，博主抽空更新啦，最近期末，要准备课程考试和课程设计，大家可以期待一下下</code></p> 
</blockquote> 
<h3><a id="_6"></a>一、制作平衡小车所需要的模块选型</h3> 
<h4><a id="1_7"></a>1、小车底板及带有编码器电机</h4> 
<h5><a id="_8"></a>推荐方案</h5> 
<h6><a id="_9"></a>小车底板</h6> 
<blockquote> 
 <p>大家可以选择到淘宝自行<code>购买平衡小车底板</code>，如下图所示，一般如果不加电机的话，价格在30元左右，加上电机的话大概在130左右</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/02/ab/TuEI6XG4_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_13"></a>带有编码器的电机</h6> 
<blockquote> 
 <p>只要<code>选择带有编码器的减速直流电机</code>即可，大家注意要选择带有支架和轮胎的，不然买回来就只有一个电机，轮胎和支架还要另外买，查看淘宝的价格，两个带编码器的电机大约在120元左右</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/fd/6a/PCXcHewo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c9/89/hGkJg9Eb_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_22"></a>我的方案</h5> 
<h6><a id="_23"></a>小车底板</h6> 
<p><code>自己纯手工制作，直接采用的绿色洞洞板，自己使用螺丝挖孔，采用铜柱作为支撑</code></p> 
<h6><a id="_25"></a>编码器电机</h6> 
<p><code>使用实验室的电机，型号为JGB37520电机，65mm大轮胎</code></p> 
<h4><a id="2_29"></a>2、电机驱动</h4> 
<h5><a id="_30"></a>推荐方案</h5> 
<blockquote> 
 <p>使用<code>TB6612FNG电机驱动模块</code>,我认为这个电机驱动比较好用，就是要注意使用，一不小心就烧了，驱动倒是不贵嘞，但是可能会把MCU烧了噢</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/42/4d/PxeDHyOY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_34"></a>3、电源以及稳压模块</h4> 
<h5><a id="_35"></a>推荐方案</h5> 
<h6><a id="_36"></a>电池</h6> 
<blockquote> 
 <p>1.采用<code>3S航模电池</code>，就是价格有点小贵,价格大概在50元左右<br> 大家一定要注意转接头是否匹配，多买几条相应的转接头，有XT60、JST、T插等接口</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e1/a6/1cmz3pOA_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2.大家也可以选择下图<code>18650电池组，12V输出</code>，电流参数大家可以自行选择</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/0a/68/bXRVe33A_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_46"></a>稳压</h6> 
<blockquote> 
 <p>采用<code>LM2596S-DC-DC可调模块</code>,将12V电压降压成5V，给MCU和其他外设模块供电</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b0/0a/84HeFpVc_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="4OLED_51"></a>4、OLED显示屏</h4> 
<p>这个就没什么好推荐的嘞，直接采用<code>0.96OLED屏</code>，主要是用来调试参数使用，查看陀螺仪角度等,大概10元左右</p> 
<h4><a id="5MCU_54"></a>5、MCU</h4> 
<p>这个也请大家根据个人需求选择，可以选择<code>Stm32单片机或者其他型号的单片机</code></p> 
<p>我这里采用的是Stm32F103RCT6单片机，一般的Stm32F103C8T6就已经够用嘞</p> 
<h4><a id="6MPU6050_58"></a>6、陀螺仪模块(MPU6050)</h4> 
<h5><a id="_59"></a>推荐方案</h5> 
<blockquote> 
 <p>1、上淘宝<code>买一个MPU6050，8脚的</code>，大概价格在15元左右</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e0/9f/4m95Y5oG_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>2、采用ATK-MPU6050<br> <code>原子家的MPU6050,6脚的</code>,小贵，一个都快60块嘞，但是貌似精度更高？</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8c/65/r7pSspS4_o.png" alt="在这里插入图片描述"></p> 
<p>由于手上有这个模块，就直接采用了原子家的</p> 
<h4><a id="7_72"></a>7、蓝牙模块</h4> 
<p>大家自行去淘宝购买，我选择的是<code>HC-05</code>，价格大概在20元左右<br> 大家也可以<strong>选择购买HC-06/07/08</strong>等<br> <img src="https://images2.imgbox.com/ae/82/T16t93Dc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="PCB_79"></a>二、集成上述模块，画出PCB</h3> 
<h4><a id="1_81"></a>1、原理图</h4> 
<p>下图为集成模块，所画出的PCB,将各个模块进行继承整合，下图即为所使用到的硬件原理图<br> <strong>还添加了三个按钮，三个LED和一个蜂鸣器，扩展出了两个串口</strong>，这块板子很强，<code>表扬一下硬件大哥</code></p> 
<p><code>12V电压经过LM2596S DC-DC可调电压模块降压成5V,给外设和MCU供电</code><br> <img src="https://images2.imgbox.com/0a/1f/yEJAJJTH_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ec/c0/D8XNYacW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2PCB_88"></a>2、PCB</h4> 
<p><code>PCB如下图所示,太棒了</code>，硬件大哥非常给力，再次点赞<br> <img src="https://images2.imgbox.com/14/d8/dfyhrnsR_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="MCUIO_94"></a>三、规划MCU的IO口资源，以及使用到的软件资源</h3> 
<h4><a id="1_95"></a>1、电机及编码器</h4> 
<p><mark>注意这里的规划资源是根据TB6612逻辑来进行使用的，但是其他驱动模块同理</mark></p> 
<p><code>PB12 PB13 PB14 PB15</code>控制电机的正反转<br> <code>PB6(TIM4-CH1) PB7(TIM4-CH2)</code>控制电机转速<br> <code>PA0(TIM2-CH1) PA1(TIM2-CH2) PA6(TIM3-CH1) PA7(TIM3-CH2)</code>编码器读取脉冲</p> 
<h4><a id="2OLED_102"></a>2、OLED</h4> 
<p><mark>OLED这里选择的是IIC通信的四脚OLED，可以随意选择两个通用IO,作为SCL和SDA引脚</mark><br> <code>PC5(SCL)</code><br> <code>PC4(SDA)</code></p> 
<h4><a id="3MPU6050_107"></a>3、MPU6050</h4> 
<p><mark>MPU6050也是使用IIC通信的模块，有一个中断引脚INT，SCL引脚和SDA引脚</mark><br> <code>PB5(INT引脚)</code><br> <code>PB4(SCL引脚)</code><br> <code>PB3(SDA引脚)</code></p> 
<h4><a id="4LED_113"></a>4、按键、LED及蜂鸣器</h4> 
<p><code>PC0 PC1 PC2</code>三个按键<br> <code>PC10 PC11 PC12</code>三个LED<br> <code>PD2</code> 蜂鸣器</p> 
<h4><a id="5USART_118"></a>5、引出的USART串口</h4> 
<p><code>PA2 PA3</code> 串口2的TX RX<br> <code>PB10 PB11</code> 串口3的 TX RX</p> 
<h3><a id="_122"></a>四、总结</h3> 
<p>主要介绍了<mark>如何从零开始制作一辆平衡小车，包括选型、模块的购买，原理图PCB的介绍,还有软件资源的规划</mark></p> 
<p><strong>制作平衡小车首先要搭出硬件，硬件结构的选取也是非常重要的，一个好的硬件结构能够为软件的编写减轻很多困难</strong></p> 
<p><code>硬件和软件相互配合，不断迭代更新，就可以制作出属于你自己的第一辆平衡小车啦</code></p> 
<p>大家可以期待一下下，后面将会以此大纲来进行更新</p> 
<p><mark>软件移植篇</mark></p> 
<ul><li>MPU6050数据读取()，移植DMP读取Roll角、Pitch角、Yaw角</li><li>小车底层驱动(电机、编码器)</li><li>平衡小车PID(速度环、直立环、转向环)</li><li>平衡小车PID调参</li><li>蓝牙介绍，添加蓝牙模块控制小车(蓝牙知识篇、AT指令篇、手机app连接蓝牙篇)</li><li>总结篇</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f561ff646bb59ea9a8209ae82bf2cdbe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cookie和session</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ba93dadfde9a3819700b7a65b6b1853/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">yolov7模型部署——环境搭建(python 导出onnx模型，c# OnnxRunTime-GPU版调用) 踩坑记录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>