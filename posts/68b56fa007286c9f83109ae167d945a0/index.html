<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mac安装thrift - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mac安装thrift" />
<meta property="og:description" content="在mac操作系统中安装thrift不是非常顺利，历经好多个小时的时间，问题反反复复。特此记录中途遇到的问题及解决方法，有需要的朋友可以参考
问题1： error: Bison version 2.5 or higher must be installed on the system!
答：mac中默认安装的版本是2.3，我参考官网的安装步骤下载最新版0.18，至少需要2.5或以上的版本，故需要处理。
这里我参考的是: https://www.cnblogs.com/zhangyy3/p/9082908.html 作者的文章
可以通过如下方式解决,参考
https://stackoverflow.com/questions/10778905/why-not-gnu-bison-upgrade-to-2-5-on-macosx-10-7-3
brew unlink bison brew link bison --force 重新link 之后还不好使，还得加一下环境变量，这个得看使用的哪个bash,我用的是zshrc, 在.zshrc 文件中加入以下代码（就是配置环境变量），然后source 一下。版本更新成功。
export PATH=&#34;/usr/local/opt/bison/bin:$PATH&#34; source .zshrc bison -V 问题2: 使用brew直接安装一个是版本范围受限，另一个是并没有成功安装，寻找了很多资料包括maven插件但是依赖却在中央仓库找不到，最后去官网寻找答案
官网地址： Apache Thrift - Home
但上面会遇到一个 open-ssl的问题
问题3: fatal error: &#39;openssl/opensslv.h&#39; file not found
我尝试了是第二种方法。 然后按照控制台提示的信息，又重新设置了环境变量
问题4:
Your user account isn&#39;t allowed to install to the system RubyGems.
You can cancel this installation and run:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/68b56fa007286c9f83109ae167d945a0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-24T21:24:36+08:00" />
<meta property="article:modified_time" content="2023-02-24T21:24:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mac安装thrift</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在mac操作系统中安装thrift不是非常顺利，历经好多个小时的时间，问题反反复复。特此记录中途遇到的问题及解决方法，有需要的朋友可以参考</p> 
<p>问题1： error: Bison version 2.5 or higher must be installed on the system!</p> 
<p>答：mac中默认安装的版本是2.3，我参考官网的安装步骤下载最新版0.18，至少需要2.5或以上的版本，故需要处理。</p> 
<p>这里我参考的是: <a href="https://www.cnblogs.com/zhangyy3/p/9082908.html" rel="nofollow" title="https://www.cnblogs.com/zhangyy3/p/9082908.html">https://www.cnblogs.com/zhangyy3/p/9082908.html</a> 作者的文章</p> 
<blockquote> 
 <p>可以通过如下方式解决,参考</p> 
 <p>https://stackoverflow.com/questions/10778905/why-not-gnu-bison-upgrade-to-2-5-on-macosx-10-7-3</p> 
 <pre>brew unlink bison
brew link bison --force</pre> 
 <p>重新link 之后还不好使，还得加一下环境变量，这个得看使用的哪个bash,我用的是zshrc, 在.zshrc 文件中加入以下代码（就是配置环境变量），然后source 一下。版本更新成功。</p> 
 <pre>export PATH="/usr/local/opt/bison/bin:$PATH"</pre> 
 <pre>source .zshrc
bison -V</pre> 
</blockquote> 
<p>问题2: 使用brew直接安装一个是版本范围受限，另一个是并没有成功安装，寻找了很多资料包括maven插件但是依赖却在中央仓库找不到，最后去官网寻找答案</p> 
<p>官网地址： <a href="https://thrift.apache.org" rel="nofollow" title="Apache Thrift - Home">Apache Thrift - Home</a></p> 
<p><img alt="" height="1144" src="https://images2.imgbox.com/76/bc/P4PWmljl_o.png" width="1200"></p> 
<p>但上面会遇到一个 open-ssl的问题</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/7f/54/KaPIKj7h_o.png" width="1200"></p> 
<p>问题3: <strong>fatal error: </strong><strong>'openssl/opensslv.h' file not found</strong></p> 
<p><img alt="" height="922" src="https://images2.imgbox.com/90/9d/3294B4mO_o.png" width="1200"></p> 
<p>我尝试了是第二种方法。 然后按照控制台提示的信息，又重新设置了环境变量</p> 
<p>问题4:</p> 
<p></p> 
<blockquote> 
 <p>Your user account isn't allowed to install to the system RubyGems.</p> 
 <p>  You can cancel this installation and run:</p> 
 <p></p> 
 <p>      bundle install --path vendor/bundle</p> 
 <p></p> 
 <p>  to install the gems into ./vendor/bundle/, or you can enter your password</p> 
 <p>  and install the bundled gems to RubyGems using sudo.</p> 
 <p></p> 
</blockquote> 
<p><img alt="" height="262" src="https://images2.imgbox.com/df/f9/eQ4KrPhB_o.png" width="1162">问题5: Gem::Ext::BuildError: ERROR: Failed to build gem native extension</p> 
<p>后来经过仔细寻找 发现有这样一篇文章可以选择性忽略，这个在正常官文中没有看到</p> 
<p><img alt="" height="1164" src="https://images2.imgbox.com/79/b4/ppwGf5f0_o.png" width="1200"></p> 
<p> 最终还是有微小的错误，但是运行版本检查，已经可以出结果了。 小问题看看明天有其他的影响再编辑说明了。</p> 
<p><img alt="" height="64" src="https://images2.imgbox.com/ce/8e/1lEtzRuQ_o.png" width="926"></p> 
<p>---------</p> 
<p>今天遇到了thrift编译后的java程序比系统本身的JDK版本高的问题</p> 
<p>问题6: 类文件具有错误的版本 55.0, 应为 52.0 请删除该文件或确保该文件位于正确的类路径子目录中</p> 
<p>系统中同时安装了高版本的JDK ，使用 /usr/libexec/java_home -V 查看默认版本 发现了问题</p> 
<p>然后卸载了昨天的安装 通过重新指定对应的JDK版本 重新进行安装</p> 
<p>./configure --prefix=/usr/local/ --with-boost=/usr/local --with-libevent=/usr/local --without-ruby --without-php --without-go JAVAC=/usr/bin/javac</p> 
<p>仍然存在问题，最终选择了降低版本至0.13版本</p> 
<p>问题7: <img alt="" height="1152" src="https://images2.imgbox.com/48/13/idndekPu_o.png" width="1200"></p> 
<p>------------</p> 
<p>关于各种版本依赖的错误，实在处理不了。 再次寄托于brew工具</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/30/a2/ybASs57v_o.png" width="1200"></p> 
<p> 经过更新为了国内阿里源之后，并且降级之后，系统现运行不再报错。</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/75d0c00ecf59cd04edd7fdae22557ba6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Pyinstaller打包程序后可能遇到的错误</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c22bb10706b58276e3d8500c01abe4a5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">gitlab应用学习笔记1：创建git~创建分支</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>