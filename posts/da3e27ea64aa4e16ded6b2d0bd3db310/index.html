<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring IOC原理，Spring容器，IOC容器以及Spring中的DI - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring IOC原理，Spring容器，IOC容器以及Spring中的DI" />
<meta property="og:description" content="文章目录 一、Spring IOC原理1.IOC定义2.IOC能做什么3.Spring容器管理对象1.添加Spring核心组件2.Spring配置文件3.创建实体类（xxx.java）4.IOC容器管理对象 4.IOC容器1、 BeanFactory2、 ApplicationContext的常用实现类3、 容器管理对象4、 Spring中Bean的实例1.基于XML的配置方式转配Bean2.基于注解方式装配Bean（自动装配）3.通过java代码装配Bean（组件扫描） 二、Spring中DI1、基于XML配置注入依赖1. 有参构造函数注入依赖2. set方法注入依赖3. 注入依赖也可以是自定义类型4. 依赖也可以是集合类型 2、基于注解形式注入依赖@value@Resource@Autowired@Autowired和Resource的异同点 一、Spring IOC原理 1.IOC定义 IOC（Inversion of Control）：即“控制反转”，意味着将设计好的对象交给容器控制；传统的java程序设计，直接在对象的内部通过New形式创建对象，是程序主动去创建依赖对象，而IOC技术是专门的一个容器来创建对象，IOC容器来控制对象的创建而不是显性的使用new；对象的创建交给容器管理，这就是控制反转；控制反转是通过容器来完成的，Spring中提供了这样一个容器，称之为IOC容器；无论是创建对象，处理对象之间的依赖，对象的创建时间还是创建的数量，都是由Spring为我们提供的IOC容器上配置上兑现信息就行； 2.IOC能做什么 有了IOC容器之后，对于使用方来说只需要进行调用就行了，把创建和查找依赖的对象的控制权交给了容器，由容器进行注入组合对象，所以对象与对象之间是松耦合的，这样方便进行测试，利用功能复用，使整个体系结构变得非常灵活；由IOC容器来帮助对象找响应的依赖对象并注入，而不是对象主动去找，核心点在与资源不是有使用资源的调用方管理，而是不使用资源的第三方管理，第三方指的就是IOC容器；资源的集中管理，实现资源的可配置和易管理；降低了使用 资源双方的依赖程度，也就是说松耦合； 3.Spring容器管理对象 1.添加Spring核心组件 2.Spring配置文件 3.创建实体类（xxx.java） 4.IOC容器管理对象 增加一个Spring配置文件；对xml配置文件进行解析（bean标签）BeanFactory工厂类在工厂类的方法中使用反射创建Bean对象 4.IOC容器 ApplicationContext接口是BeanFactory的子接口；BeanFactory是Spring IOC容器所定义的最底层接口；ApplicationContext是BeanFactory的最高级实现之一，并对BeanFactory功能上做了很多的扩展，所以大部分的工厂场景下，都会使用ApplicationContext作为IOC容器； 1、 BeanFactory 1. 最底层的实现，提供了比较先进的配置机制，使得任何对象的配置成为可能； - ApplicationContext： 1. 在BeanFactory的基础上做了很多扩展实现； - 区别： 1. BeanFactory的实现是按需创建，即第一次获取bean时创建bean； 2. ApplicationContext会一次性创建所有的bean，ApplicationContext也创建了一些额外的功能，比如与Spring的AOP更容易继承，也提供了Message Resource的机制（用于处理国际化支持）和通知机制； 2、 ApplicationContext的常用实现类 - ClassPathXmlApplicationContext - 读取classpath，如果配置文件在当前系统类路径下，可以优先使用ClassPathXmlApplicationContext类 - FileSystemXmlApplicationContext - 读取指定路径下的资源，如果配置文件放在文件系统路径下，则可以优先使用ClassPathXmlApplicationContext类； 3、 容器管理对象 4、 Spring中Bean的实例 1.基于XML的配置方式转配Bean 无参构造方法实例化对象 如果不指定构造函数，会生成一个默认的无参构造函数；如果显性的指定有参构造函数，不会生成默认的构造函数，必须显性指定一个无参构造函数 静态工厂类实例化对象普通工厂实例化对象 通过工厂创建一个非静态方法得到对象；
配置文件中时同工厂的非静态方法返回对象；
2.基于注解方式装配Bean（自动装配） 基于注解形式进行bean的管理比bean 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/da3e27ea64aa4e16ded6b2d0bd3db310/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-15T18:29:07+08:00" />
<meta property="article:modified_time" content="2022-05-15T18:29:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring IOC原理，Spring容器，IOC容器以及Spring中的DI</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Spring_IOC_1" rel="nofollow">一、Spring IOC原理</a></li><li><ul><li><a href="#1IOC_2" rel="nofollow">1.IOC定义</a></li><li><a href="#2IOC_8" rel="nofollow">2.IOC能做什么</a></li><li><a href="#3Spring_12" rel="nofollow">3.Spring容器管理对象</a></li><li><ul><li><a href="#1Spring_13" rel="nofollow">1.添加Spring核心组件</a></li><li><a href="#2Spring_14" rel="nofollow">2.Spring配置文件</a></li><li><a href="#3xxxjava_16" rel="nofollow">3.创建实体类（xxx.java）</a></li><li><a href="#4IOC_18" rel="nofollow">4.IOC容器管理对象</a></li></ul> 
    </li><li><a href="#4IOC_23" rel="nofollow">4.IOC容器</a></li><li><ul><li><a href="#1_BeanFactory_27" rel="nofollow">1、 BeanFactory</a></li><li><a href="#2_ApplicationContext_34" rel="nofollow">2、 ApplicationContext的常用实现类</a></li><li><a href="#3__39" rel="nofollow">3、 容器管理对象</a></li><li><a href="#4_SpringBean_40" rel="nofollow">4、 Spring中Bean的实例</a></li><li><ul><li><a href="#1XMLBean_41" rel="nofollow">1.基于XML的配置方式转配Bean</a></li><li><a href="#2Bean_50" rel="nofollow">2.基于注解方式装配Bean（自动装配）</a></li><li><a href="#3javaBean_52" rel="nofollow">3.通过java代码装配Bean（组件扫描）</a></li></ul> 
    </li></ul> 
   </li></ul> 
   </li><li><a href="#SpringDI_60" rel="nofollow">二、Spring中DI</a></li><li><ul><li><a href="#1XML_62" rel="nofollow">1、基于XML配置注入依赖</a></li><li><ul><li><a href="#1__63" rel="nofollow">1. 有参构造函数注入依赖</a></li><li><a href="#2_set_89" rel="nofollow">2. set方法注入依赖</a></li><li><a href="#3__111" rel="nofollow">3. 注入依赖也可以是自定义类型</a></li><li><a href="#4__129" rel="nofollow">4. 依赖也可以是集合类型</a></li></ul> 
    </li><li><a href="#2_153" rel="nofollow">2、基于注解形式注入依赖</a></li><li><ul><li><a href="#value_157" rel="nofollow">@value</a></li><li><a href="#Resource_167" rel="nofollow">@Resource</a></li><li><a href="#Autowired_179" rel="nofollow">@Autowired</a></li><li><a href="#AutowiredResource_190" rel="nofollow">@Autowired和Resource的异同点</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Spring_IOC_1"></a>一、Spring IOC原理</h3> 
<h4><a id="1IOC_2"></a>1.IOC定义</h4> 
<ol><li><strong>IOC（Inversion of Control）</strong>：即“控制反转”，意味着将设计好的对象交给容器控制；</li><li>传统的java程序设计，直接在对象的内部通过New形式创建对象，是程序主动去创建依赖对象，而IOC技术是专门的一个容器来创建对象，IOC容器来控制对象的创建而不是显性的使用new；</li><li>对象的创建交给容器管理，这就是控制反转；</li><li>控制反转是通过容器来完成的，Spring中提供了这样一个容器，称之为IOC容器；</li><li>无论是创建对象，处理对象之间的依赖，对象的创建时间还是创建的数量，都是由Spring为我们提供的IOC容器上配置上兑现信息就行；</li></ol> 
<h4><a id="2IOC_8"></a>2.IOC能做什么</h4> 
<ol><li>有了IOC容器之后，对于使用方来说只需要进行调用就行了，把创建和查找依赖的对象的控制权交给了容器，由容器进行注入组合对象，所以对象与对象之间是松耦合的，这样方便进行测试，利用功能复用，使整个体系结构变得非常灵活；</li><li>由IOC容器来帮助对象找响应的依赖对象并注入，而不是对象主动去找，核心点在与资源不是有使用资源的调用方管理，而是不使用资源的第三方管理，第三方指的就是IOC容器；</li><li>资源的集中管理，实现资源的可配置和易管理；降低了使用 资源双方的依赖程度，也就是说松耦合；</li></ol> 
<h4><a id="3Spring_12"></a>3.Spring容器管理对象</h4> 
<h5><a id="1Spring_13"></a>1.添加Spring核心组件</h5> 
<h5><a id="2Spring_14"></a>2.Spring配置文件</h5> 
<h5><a id="3xxxjava_16"></a>3.创建实体类（xxx.java）</h5> 
<h5><a id="4IOC_18"></a>4.IOC容器管理对象</h5> 
<ol><li>增加一个Spring配置文件；</li><li>对xml配置文件进行解析（bean标签）</li><li>BeanFactory工厂类</li><li>在工厂类的方法中使用反射创建Bean对象</li></ol> 
<h4><a id="4IOC_23"></a>4.IOC容器</h4> 
<ol><li>ApplicationContext接口是BeanFactory的子接口；</li><li>BeanFactory是Spring IOC容器所定义的最底层接口；</li><li>ApplicationContext是BeanFactory的最高级实现之一，并对BeanFactory功能上做了很多的扩展，所以大部分的工厂场景下，都会使用ApplicationContext作为IOC容器；</li></ol> 
<h5><a id="1_BeanFactory_27"></a>1、 BeanFactory</h5> 
<pre><code>1. 最底层的实现，提供了比较先进的配置机制，使得任何对象的配置成为可能；
- ApplicationContext：
	1. 在BeanFactory的基础上做了很多扩展实现；
- 区别：
	1. BeanFactory的实现是按需创建，即第一次获取bean时创建bean；
	2. ApplicationContext会一次性创建所有的bean，ApplicationContext也创建了一些额外的功能，比如与Spring的AOP更容易继承，也提供了Message Resource的机制（用于处理国际化支持）和通知机制；
</code></pre> 
<h5><a id="2_ApplicationContext_34"></a>2、 ApplicationContext的常用实现类</h5> 
<pre><code>- ClassPathXmlApplicationContext
	- 读取classpath，如果配置文件在当前系统类路径下，可以优先使用ClassPathXmlApplicationContext类
- FileSystemXmlApplicationContext
	- 读取指定路径下的资源，如果配置文件放在文件系统路径下，则可以优先使用ClassPathXmlApplicationContext类；
</code></pre> 
<h5><a id="3__39"></a>3、 容器管理对象</h5> 
<h5><a id="4_SpringBean_40"></a>4、 Spring中Bean的实例</h5> 
<h6><a id="1XMLBean_41"></a>1.基于XML的配置方式转配Bean</h6> 
<ol><li>无参构造方法实例化对象 
  <ol><li>如果不指定构造函数，会生成一个默认的无参构造函数；</li><li>如果显性的指定有参构造函数，不会生成默认的构造函数，必须显性指定一个无参构造函数</li></ol> </li><li>静态工厂类实例化对象</li><li>普通工厂实例化对象 
  <ol><li> <p>通过工厂创建一个非静态方法得到对象；</p> </li><li> <p>配置文件中时同工厂的非静态方法返回对象；</p> </li></ol> </li></ol> 
<h6><a id="2Bean_50"></a>2.基于注解方式装配Bean（自动装配）</h6> 
<ol><li>基于注解形式进行bean的管理比bean</li></ol> 
<h6><a id="3javaBean_52"></a>3.通过java代码装配Bean（组件扫描）</h6> 
<ol><li> <p>给定一个配置类，在配置类上添加Configuration注解表明当前类是一个配置类，告诉Spring应用上下如何创建Bean细节；</p> </li><li> <p>将交给spring管理的类声明为bean，编写一个方法，方法会创建所需要的bean的实例，给方法添加上@bean注解；</p> </li><li> <p>@bean注解会告诉spring这个方法</p> </li></ol> 
<h3><a id="SpringDI_60"></a>二、Spring中DI</h3> 
<ol><li>DI（Dependency Injection）：即依赖注入，对象之间的依赖由容器在运行期决定，即容器动态的将某个依赖注入到对象中；</li></ol> 
<h4><a id="1XML_62"></a>1、基于XML配置注入依赖</h4> 
<h5><a id="1__63"></a>1. 有参构造函数注入依赖</h5> 
<pre><code>1. bean类实现有参构造函数；
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token comment">/**
*有参构造函数
*/</span>
<span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token operator">=</span>id<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code>2.在配置文件中配置参数通过有参构造函数给对象属性赋值；
</code></pre> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>通过有参构造注入依赖<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"student"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.wang.Spring.IOC.POJO.Student"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>id属性注入<span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"11"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>name属性注入<span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"wang"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre> 
<pre><code>3. 有参构造函数使用constructor-arg标签
</code></pre> 
<h5><a id="2_set_89"></a>2. set方法注入依赖</h5> 
<pre><code>1. 给对象的属性提供setter方法
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token operator">=</span>id<span class="token punctuation">;</span><span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">Strign</span> name<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code>2.  在配置文件中通过set方法赋值
</code></pre> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>通过setter方法注入依赖<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"student"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.wang.Spring.IOC.PoJo.Student"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"java"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre> 
<pre><code>3. 通过set方法使用的是property标签
</code></pre> 
<h5><a id="3__111"></a>3. 注入依赖也可以是自定义类型</h5> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>注入自定义类型<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"user"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.wang.Spring.IOC.PoJo.user"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"java"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"student"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.wang.Spring.IOC.PoJo.student"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"java"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>value属性：将参数按照<span class="token class-name">Syringe</span>类型进行解析 ref类型：<span class="token class-name">String</span>中管理对象的id值<span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> ref<span class="token operator">=</span><span class="token string">"user"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

</code></pre> 
<pre><code> 自定义类型也是要交给spring进行管理，如何后去管理对象实例
 1.使用ref属性来获取值，该ref会自动识别为spring中对象的名字
 2.使用value属性来获取值，spring会认为仅仅是一个字符串值
</code></pre> 
<h5><a id="4__129"></a>4. 依赖也可以是集合类型</h5> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>注入集合类型<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"student"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.wang.Spring.IOC.PoJo.Student"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>注入list类型<span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"bookName"</span><span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>list<span class="token punctuation">&gt;</span></span>
			<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>语文<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
			<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>数学<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
			<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>英语<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>list<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
	
	<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>注入map类型<span class="token operator">--</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"bookName"</span><span class="token operator">&gt;</span>
		<span class="token generics"><span class="token punctuation">&lt;</span>map<span class="token punctuation">&gt;</span></span>
			<span class="token operator">&lt;</span>entry key<span class="token operator">=</span><span class="token string">"语文"</span> value<span class="token operator">=</span><span class="token string">"99"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>entry key<span class="token operator">=</span><span class="token string">"数学"</span> value<span class="token operator">=</span><span class="token string">"92"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>map<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

</code></pre> 
<h4><a id="2_153"></a>2、基于注解形式注入依赖</h4> 
<p>@value:注入普通类型属性<br> @Resource:注入对象类型<br> @Autowired：注入对象类型</p> 
<h5><a id="value_157"></a>@value</h5> 
<ol><li>该注解只能添加到普通类型上，@Value（“1”）注解中可以赋值完成对基础属性的依赖注入</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span>value<span class="token operator">=</span>student"<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{<!-- --></span>
	<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="Resource_167"></a>@Resource</h5> 
<ol><li>该注解注入对象类型</li><li>是由java提供的，而不是由Spring框架提供，默认按照类型查找并注入类</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"student"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//自定义类型</span>
	<span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"user"</span><span class="token punctuation">)</span>
	<span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="Autowired_179"></a>@Autowired</h5> 
<ol><li>注入对象类型，是Spring框架提供的，按照名称来注入</li></ol> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span>（value<span class="token operator">=</span><span class="token string">"student"</span>）
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//自定义类型</span>
	<span class="token annotation punctuation">@Autowired</span>
	<span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="AutowiredResource_190"></a>@Autowired和Resource的异同点</h5> 
<ul><li>联系 
  <ol><li>@Autowired和@Resource注解都是作为bean对象注入的时候使用的</li><li>两者都可以声明在字段和setter方法上</li><li>如果生命在字段上，那么就不需要再写setter方法，但是本质上该对象还是作为set方法的实参，通过执行set方法注入，知识省略了setter方法罢了。</li></ol> </li><li>区别</li></ul> 
<ol><li>@Autowired注解是Spring提供的，而@Resource注解是J2EE本身提供的</li><li>@Autowired注解是默认通过byType方式注入，而@Resource注解是默认通过byName方式注入</li><li>@Autowired注解注入的对象需要早IOC容器中存在，否则需要加上属性required=false，表示忽当前要注入的bean，如果有直接注入，没有则跳过。</li><li>byName就是变量名去匹配bean的id属性，而不TYpe则是变量类型去匹配bean的class属性</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/182fbaba8406314cdbe8775ad6e327c2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">BeanFactory和ApplicationContext谁才是SpringIoC容器？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7fc7765d4b056b72e99504cbd4d7f701/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">webpack 面试题整理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>