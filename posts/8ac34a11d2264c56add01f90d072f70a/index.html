<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android开发--Intent-filter属性详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android开发--Intent-filter属性详解" />
<meta property="og:description" content="如果一个 Intent 请求在一片数据上执行一个动作， Android 如何知道哪个应用程序（和组件）能用来响应这个请求呢？ Intent Filter就是 用来注册 Activity 、 Service 和 Broadcast Receiver 具有能在某种数据上执行一个动作的能力。 使用 Intent Filter ，应用程序组件告诉 Android ，它们能为其它程序的组件的动作请求提供服务，包括同一个程序的组 件、本地的或第三方的应用程序。 为了注册一个应用程序组件为 Intent 处理者，在组件的 manifest 节点添加一个 intent-filter 标签。 在 Intent Filter 节点里使用下面的标签（关联属性），你能指定组件支持的动作、种类和数据： 1．动作测试 &lt;intent-filter&gt;元素中可以包括子元素&lt;action&gt;，比如： view source print ? 1. &lt; intent-filter &gt; 2. &lt; action android:name=&#34;com.example.project.SHOW_CURRENT&#34; /&gt; 3. &lt; action android:name=&#34;com.example.project.SHOW_RECENT&#34; /&gt; 4. &lt; action android:name=&#34;com.example.project.SHOW_PENDING&#34; /&gt; 5. &lt;/ intent-filter &gt; 一条&lt;intent-filter&gt;元素至少应该包含一个&lt;action&gt;，否则任何Intent请求都不能和该&lt;intent-filter&gt;匹配。如果Intent 请求的Action和&lt;intent-filter&gt;中个某一条&lt;action&gt;匹配，那么该Intent就通过了这条&lt;intent-filter&gt;的动作测试。如果 Intent请求或&lt;intent-filter&gt;中没有说明具体的Action类型，那么会出现下面两种情况。 (1) 如果&lt;intent-filter&gt;中没有包含任何Action类型，那么无论什么Intent请求都无法和这条&lt;intent-filter&gt;匹配； (2) 反之，如果Intent请求中没有设定Action类型，那么只要&lt;intent-filter&gt;中包含有Action类型，这个Intent请求就将顺 利地通过&lt;intent-filter&gt;的行为测试。 2．类别测试" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8ac34a11d2264c56add01f90d072f70a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-06-17T20:53:40+08:00" />
<meta property="article:modified_time" content="2012-06-17T20:53:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android开发--Intent-filter属性详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <br> 如果一个 Intent 请求在一片数据上执行一个动作， Android 如何知道哪个应用程序（和组件）能用来响应这个请求呢？  
<br> 
<br> Intent Filter就是 用来注册 Activity 、 Service 和 Broadcast Receiver 具有能在某种数据上执行一个动作的能力。 
<br> 使用 Intent Filter ，应用程序组件告诉 Android ，它们能为其它程序的组件的动作请求提供服务，包括同一个程序的组 
<br> 件、本地的或第三方的应用程序。 
<br> 
<br> 为了注册一个应用程序组件为 Intent 处理者，在组件的 manifest 节点添加一个 intent-filter 标签。 
<br> 
<br> 在 Intent Filter 节点里使用下面的标签（关联属性），你能指定组件支持的动作、种类和数据： 
<br> 1．动作测试 
<br> &lt;intent-filter&gt;元素中可以包括子元素&lt;action&gt;，比如： 
<br> view source print ? 
<br> 1. &lt; intent-filter &gt; 
<br> 2. &lt; action android:name="com.example.project.SHOW_CURRENT" /&gt; 
<br> 3. &lt; action android:name="com.example.project.SHOW_RECENT" /&gt; 
<br> 4. &lt; action android:name="com.example.project.SHOW_PENDING" /&gt; 
<br> 5. &lt;/ intent-filter &gt; 
<br> 一条&lt;intent-filter&gt;元素至少应该包含一个&lt;action&gt;，否则任何Intent请求都不能和该&lt;intent-filter&gt;匹配。如果Intent 
<br> 请求的Action和&lt;intent-filter&gt;中个某一条&lt;action&gt;匹配，那么该Intent就通过了这条&lt;intent-filter&gt;的动作测试。如果 
<br> Intent请求或&lt;intent-filter&gt;中没有说明具体的Action类型，那么会出现下面两种情况。 
<br> (1) 如果&lt;intent-filter&gt;中没有包含任何Action类型，那么无论什么Intent请求都无法和这条&lt;intent-filter&gt;匹配； 
<br> (2) 反之，如果Intent请求中没有设定Action类型，那么只要&lt;intent-filter&gt;中包含有Action类型，这个Intent请求就将顺 
<br> 利地通过&lt;intent-filter&gt;的行为测试。 
<br> 
<p><br> </p> 
<p>2．类别测试</p> &lt;intent-filter&gt;元素可以包含&lt;category&gt;子元素，比如： 
<br> view source print ? 
<br> 1. &lt; intent-filter . . . &gt; 
<br> 2. &lt; category android:name="android.Intent.Category.DEFAULT" /&gt; 
<br> 3. &lt; category android:name="android.Intent.Category.BROWSABLE" /&gt; 
<br> 4. &lt;/ intent-filter &gt; 
<br> 只有当Intent请求中所有的Category与组件中某一个IntentFilter的&lt;category&gt;完全匹配时，才会让该 Intent请求通过测试 
<br> ，IntentFilter中多余的&lt;category&gt;声明并不会导致匹配失败。一个没有指定任何类别测试的 IntentFilter仅仅只会匹配没 
<br> 有设置类别的Intent请求。 
<br> 
<p><br> </p> 
<p>3．数据测试</p> 数据在&lt;intent-filter&gt;中的描述如下： 
<br> view source print ? 
<br> 1. &lt; intent-filter . . . &gt; 
<br> 2. &lt; data android:type="video/mpeg" android:scheme="http" . . . /&gt; 
<br> 3. &lt; data android:type="audio/mpeg" android:scheme="http" . . . /&gt; 
<br> 4. &lt;/ intent-filter &gt; 
<br> &lt;data&gt;元素指定了希望接受的Intent请求的数据URI和数据类型，URI被分成三部分来进行匹配：scheme、 authority和path 
<br> 。其中，用setData()设定的Inteat请求的URI数据类型和scheme必须与IntentFilter中所指定的一致。若IntentFilter中还指定了authority或path，它们也需要相匹配才会通过测试。 
<br> 
<br> ❑ action 
<br> 使用 android:name 特性来指定对响应的动作名。动作名必须是独一无二的字符串，所以，一个好的习惯是使用基于 Java 包的命名方式的命名系统。 
<br> 
<br> ❑ category 
<br> 
<p>使用 android:category 属性用来指定在什么样的环境下动作才被响应。每个 Intent Filter 标签可以包含多个 category 标签。你可以指定自定义的种类或使用 Android 提供的标准值，如下所示：</p> 
<p><br> </p> ❑ ALTERNATIVE 
<br> 你将在这章的后面所看到的，一个 Intent Filter 的用途是使用动作来帮忙填入上下文菜单。 ALTERNATIVE 种类指定，在某种数据类型的项目上可以替代默认执行的动作。例如，一个联系人的默认动作时浏览它，替代的可能是去编辑或删除它。 
<br> 
<br> ❑ SELECTED_ALTERNATIVE 
<br> 与 ALTERNATIVE 类似，但 ALTERNATIVE 总是使用下面所述的 Intent 解析来指向单一的动作。SELECTED_ALTERNATIVE在需要一个可能性列表时使用。 
<br> 
<br> ❑ BROWSABLE 
<br> 指定在浏览器中的动作。当 Intent 在浏览器中被引发，都会被指定成 BROWSABLE 种类。 
<br> 
<br> ❑ DEFAULT 
<br> 设置这个种类来让组件成为 Intent Filter 中定义的 data 的默认动作。这对使用显式 Intent 启动的 Activity 来说也是必要的。 
<br> 
<br> ❑ GADGET 
<br> 通过设置 GADGET 种类，你可以指定这个 Activity 可以嵌入到其他的 Activity 来允许。 
<br> 
<br> ❑ HOME 
<br> HOME Activity 是设备启动（登陆屏幕）时显示的第一个 Activity 。通过指定 Intent Filter 为 HOME 种类而不指定动作的话，你正在将其设为本地 home 画面的替代。 
<br> 
<br> ❑ LAUNCHER 
<br> 使用这个种类来让一个 Activity 作为应用程序的启动项。 
<br> 
<br> ❑ data 
<br> data 标签允许你指定组件能作用的数据的匹配；如果你的组件能处理多个的话，你可以包含多个条件。你可以使用下面属性的任意组合来指定组件支持的数据： 
<br> 
<br> ❑ android:host 
<br> 指定一个有效的主机名（例如， com.google ）。 
<br> 
<br> ❑ android:mimetype 
<br> 允许你设定组件能处理的数据类型。例如，&lt;type android:value=”vnd.android.cursor.dir/*”/&gt;能匹配任何 Android 游标。 
<br> 
<br> ❑ android:path 
<br> 有效地 URI 路径值（例如， /transport/boats/ ）。 
<br> 
<br> ❑ android:port 
<br> 特定主机上的有效端口。 
<br> 
<br> ❑ android:scheme 
<br> 需要一个特殊的图示（例如， content 或 http ）。 
<br> 
<br> 
<p>接下来的代码片段显示了如何配置 Activity 的 Intent Filter ，使其以在特定数据下的默认的或可替代的动作的身份来执行 SHOW_DAMAGE动作.</p> 
<p></p> 
<pre><code class="language-html">Java代码
  
 &lt;activity android:name=".EarthquakeDamageViewer" 
   android:label="View Damage"&gt; 
   
   &lt;intent-filter&gt; 
   
   &lt;action 
    
   android:name="com.paad.earthquake.intent.action.SHOW_DAMAGE"&gt; 
   
  &lt;/action&gt; 
   
  &lt;category android:name="android.intent.category.DEFAULT"/&gt; 
   
   &lt;category 
  
   android:name="android.intent.category.ALTERNATIVE_SELECTED"  /&gt; 
 
  &lt;data android:mimeType="vnd.earthquake.cursor.item/*"/&gt; 
  
  &lt;/intent-filter&gt; 
  
  &lt;/activity&gt; 
&lt;activity android:name=".EarthquakeDamageViewer"
android:label="View Damage"&gt;
&lt;intent-filter&gt;
&lt;action
android:name="com.paad.earthquake.intent.action.SHOW_DAMAGE"&gt;
&lt;/action&gt;
&lt;category android:name="android.intent.category.DEFAULT"/&gt;
&lt;category</code></pre> 
<br> 
<br> 
<p></p> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5643258dcf34ae428d81a0a0c870158c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Junit4中Test Suite的用法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f5ece82469e6be8d230371270eb09b43/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS判断是否到达指定时间，执行任务，可以精确到秒。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>