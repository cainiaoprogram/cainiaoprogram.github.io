<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>整数数据类型mediumint - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="整数数据类型mediumint" />
<meta property="og:description" content="文章目录 1.1 mediumint说明1.2 测试环境说明1.3 加unsigned属性1.3.1 SQL模式开启严格模式1.3.2 SQL模式未开启严格模式 1.4 加zerofill属性1.4.1 SQL模式开启严格模式1.4.2 SQL模式未开启严格模式 1.5 不加unsigned和zerofill属性1.5.1 SQL模式开启严格模式1.5.2 SQL模式未开启严格模式 1.1 mediumint说明 数据类型显示长度占用字节有符号无符号mediumint加上unsigned/zerofill：8 不加unsigned/zerofill：93(24bit)-8388608至83886070至16777215 ## 格式 id mediumint(M) [unsigned] [zerofill] 字段名 数据类型(显示长度,建表时不指定) 无符号 无符号且前导零填充 ## 关于mediumint最大数值是怎样得来的 mediumint占用3字节,3字节占用24位，经过换算(2的24次方减1)就是16777215 ## 关于加上unsigned后的说明 加上unsigned后就是无符号(范围是0~16777215的整数,因为是整数,不会有符号&#34;-&#34;,就是无符号) ## 关于加上zerofill后的说明 zerofill会把unsigned属性也给带上,这样就是无符号（范围是0~16777215，显示长度就是8），同时还会 进行前导零填充（没有达到显示长度的数值，例如：你插入1,显示的是00000001）。 ## 不加unsigned和zerofill的说明 字段后面不加上这两个属性中的任何一个,就表示是有符号(范围是-8388608~8388607,因为有符号&#34;-&#34;,所有是有符号)。 1.2 测试环境说明 ## 数据库版本和默认的存储引擎 mysql&gt; select @@version,@@default_storage_engine; &#43;------------&#43;--------------------------&#43; | @@version | @@default_storage_engine | &#43;------------&#43;--------------------------&#43; | 5.7.28-log | InnoDB | &#43;------------&#43;--------------------------&#43; 1 row in set (0.00 sec) ## 创建chenliang库 mysql&gt; create database if not exists chenliang; Query OK, 1 row affected (0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ba88061e77f093906cf2c9af3a449f09/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-01T00:10:07+08:00" />
<meta property="article:modified_time" content="2020-03-01T00:10:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">整数数据类型mediumint</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#11_mediumint_1" rel="nofollow">1.1 mediumint说明</a></li><li><a href="#12__27" rel="nofollow">1.2 测试环境说明</a></li><li><a href="#13_unsigned_73" rel="nofollow">1.3 加unsigned属性</a></li><li><ul><li><a href="#131_SQL_74" rel="nofollow">1.3.1 SQL模式开启严格模式</a></li><li><a href="#132_SQL_128" rel="nofollow">1.3.2 SQL模式未开启严格模式</a></li></ul> 
   </li><li><a href="#14_zerofill_192" rel="nofollow">1.4 加zerofill属性</a></li><li><ul><li><a href="#141_SQL_193" rel="nofollow">1.4.1 SQL模式开启严格模式</a></li><li><a href="#142_SQL_246" rel="nofollow">1.4.2 SQL模式未开启严格模式</a></li></ul> 
   </li><li><a href="#15_unsignedzerofill_309" rel="nofollow">1.5 不加unsigned和zerofill属性</a></li><li><ul><li><a href="#151_SQL_310" rel="nofollow">1.5.1 SQL模式开启严格模式</a></li><li><a href="#152_SQL_363" rel="nofollow">1.5.2 SQL模式未开启严格模式</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="11_mediumint_1"></a>1.1 mediumint说明</h3> 
<table><thead><tr><th align="left">数据类型</th><th align="left">显示长度</th><th align="left">占用字节</th><th align="left">有符号</th><th align="left">无符号</th></tr></thead><tbody><tr><td align="left">mediumint</td><td align="left">加上unsigned/zerofill：8 <br>不加unsigned/zerofill：9</td><td align="left">3(24bit)</td><td align="left">-8388608至8388607</td><td align="left">0至16777215</td></tr></tbody></table> 
<pre><code class="prism language-bash"><span class="token comment">## 格式</span>
<span class="token function">id</span>       mediumint<span class="token punctuation">(</span>M<span class="token punctuation">)</span>               <span class="token punctuation">[</span>unsigned<span class="token punctuation">]</span>      <span class="token punctuation">[</span>zerofill<span class="token punctuation">]</span>
字段名  数据类型<span class="token punctuation">(</span>显示长度,建表时不指定<span class="token punctuation">)</span>    无符号         无符号且前导零填充

<span class="token comment">## 关于mediumint最大数值是怎样得来的</span>
mediumint占用3字节,3字节占用24位，经过换算<span class="token punctuation">(</span>2的24次方减1<span class="token punctuation">)</span>就是16777215

<span class="token comment">## 关于加上unsigned后的说明</span>
加上unsigned后就是无符号<span class="token punctuation">(</span>范围是0~16777215的整数,因为是整数,不会有符号<span class="token string">"-"</span>,就是无符号<span class="token punctuation">)</span>

<span class="token comment">## 关于加上zerofill后的说明</span>
zerofill会把unsigned属性也给带上,这样就是无符号（范围是0~16777215，显示长度就是8），同时还会
进行前导零填充（没有达到显示长度的数值，例如：你插入1,显示的是00000001）。

<span class="token comment">## 不加unsigned和zerofill的说明</span>
字段后面不加上这两个属性中的任何一个,就表示是有符号<span class="token punctuation">(</span>范围是-8388608~8388607,因为有符号<span class="token string">"-"</span>,所有是有符号<span class="token punctuation">)</span>。
</code></pre> 
<br> 
<h3><a id="12__27"></a>1.2 测试环境说明</h3> 
<pre><code class="prism language-bash"><span class="token comment">## 数据库版本和默认的存储引擎</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@version,@@default_storage_engine<span class="token punctuation">;</span>
+------------+--------------------------+
<span class="token operator">|</span> @@version  <span class="token operator">|</span> @@default_storage_engine <span class="token operator">|</span>
+------------+--------------------------+
<span class="token operator">|</span> 5.7.28-log <span class="token operator">|</span> InnoDB                   <span class="token operator">|</span>
+------------+--------------------------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建chenliang库</span>
mysql<span class="token operator">&gt;</span> create database <span class="token keyword">if</span> not exists chenliang<span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.03 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> show databases like <span class="token string">"chenliang"</span><span class="token punctuation">;</span>
+----------------------+
<span class="token operator">|</span> Database <span class="token punctuation">(</span>chenliang<span class="token punctuation">)</span> <span class="token operator">|</span>
+----------------------+
<span class="token operator">|</span> chenliang            <span class="token operator">|</span>
+----------------------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.03 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 进入chenliang库</span>
mysql<span class="token operator">&gt;</span> use chenliang<span class="token punctuation">;</span>
Database changed
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> database<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
+------------+
<span class="token operator">|</span> database<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span>
+------------+
<span class="token operator">|</span> chenliang  <span class="token operator">|</span>
+------------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 查看事务是否自动提交</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@global.autocommit<span class="token punctuation">;</span>
+---------------------+
<span class="token operator">|</span> @@global.autocommit <span class="token operator">|</span>
+---------------------+
<span class="token operator">|</span>                   1 <span class="token operator">|</span>
+---------------------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h3><a id="13_unsigned_73"></a>1.3 加unsigned属性</h3> 
<h4><a id="131_SQL_74"></a>1.3.1 SQL模式开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中开启了严格模式,即SQL_MODE参数中包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment"># 设置会话模式下sql_mode中包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建test1测试表（这里指定了UNSIGNED，也就是无符号）</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test1<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint unsigned
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.19 sec<span class="token punctuation">)</span>
 
　　<span class="token comment">## 表test1的id字段加了unsigned参数，那么id字段的范围就是0~16777215;</span>
　　<span class="token comment">## 显示显示应该是mediumint(8),因为16777215的长度是8;</span>
 
<span class="token comment">## 查看test1表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test1<span class="token punctuation">;</span>
+-------+-----------------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type                  <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+-----------------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>8<span class="token punctuation">)</span> unsigned <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+-----------------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.10 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入0~16777215范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test1<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-1<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment"># 插入数值-1,错误,不在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
 
mysql<span class="token operator">&gt;</span> insert into test1<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment"># 插入数值0,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test1<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777215<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 插入数值16777215,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test1<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777216<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 插入数值16777216,错误,不在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test1<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span>        0 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
+----------+
2 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="132_SQL_128"></a>1.3.2 SQL模式未开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中未开启严格模式,即SQL_MODE参数中不包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">## 设置会话模式下sql_mode中不开启严格模式,即不包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建test11表（这里加上unsigned，也就是无符号）</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test11<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint unsigned
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
 
　　<span class="token comment">## 表test1的id字段加了unsigned参数，那么id字段的范围就是0~16777215;</span>
　　<span class="token comment">## 显示显示应该是mediumint(8),因为16777215的长度是8;</span>
 
<span class="token comment">## 查看test11表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test11<span class="token punctuation">;</span>
+-------+-----------------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type                  <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+-----------------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>8<span class="token punctuation">)</span> unsigned <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+-----------------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入0~16777215范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test11<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-1<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围内,插入时未报错(因为sql_mode中未开启严格模式)</span>
　　<span class="token comment">## 插入到表中的数据不是-1,而是0</span>
 
mysql<span class="token operator">&gt;</span> insert into test11<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
   <span class="token comment">## 在范围内,插入时不报错,插入的是什么就是什么</span>
 
mysql<span class="token operator">&gt;</span> insert into test11<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777215<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
   <span class="token comment">## 在范围内,插入时不报错,插入的是什么就是什么</span>
 
mysql<span class="token operator">&gt;</span> insert into test11<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777216<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围内,插入时未报错(因为sql_mode中未开启严格模式)</span>
　　<span class="token comment">## 插入到表中的数据不是16777216,而是16777215</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test11<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span>        0 <span class="token operator">|</span>
<span class="token operator">|</span>        0 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
+----------+
4 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h3><a id="14_zerofill_192"></a>1.4 加zerofill属性</h3> 
<h4><a id="141_SQL_193"></a>1.4.1 SQL模式开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中开启了严格模式,即SQL_MODE参数中包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment"># 设置会话模式下sql_mode中包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建test2表（这里指定了zerofill,也就是前导零填充）</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test2<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint zerofill
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.03 sec<span class="token punctuation">)</span>

  　<span class="token comment">## id字段加了zerofile参数,它会把unsigned参数也带上,且会前导零填充;</span>
　　<span class="token comment">## 范围就是0~16777215, 因为16777215的长度是8, 显示长度是mediumint(8);</span>
　　
<span class="token comment">## 查看test2表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test2<span class="token punctuation">;</span>
+-------+--------------------------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type                           <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+--------------------------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>8<span class="token punctuation">)</span> unsigned zerofill <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+--------------------------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入0~16777215范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test2<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-1<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment"># 插入数值-1,错误,不在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
 
mysql<span class="token operator">&gt;</span> insert into test2<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment"># 插入数值0,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test2<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777215<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 插入数值16777215,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test2<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777216<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 插入数值16777216,错误,不在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test2<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span> 00000000 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
+----------+
2 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="142_SQL_246"></a>1.4.2 SQL模式未开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中未开启严格模式,即SQL_MODE参数中不包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">## 设置会话模式下sql_mode中不开启严格模式,即不包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>

<span class="token comment">## 创建test22表(加上zerofill参数,它会前导零填充,同时也会把unsigned带上)</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test22<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint zerofill
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
 
　　<span class="token comment">## id字段加了zerofile参数,它会把unsigned参数也带上,且会前导零填充;</span>
　　<span class="token comment">## 范围就是0~16777215, 因为16777215的长度是8, 显示长度是mediumint(8);</span>
 
<span class="token comment">## 查看test22表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test22<span class="token punctuation">;</span>
+-------+--------------------------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type                           <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+--------------------------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>8<span class="token punctuation">)</span> unsigned zerofill <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+--------------------------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入0~16777215范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test22<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-1<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围,插入未报错(因为sql_mode中未开启严格模式)</span>
　　<span class="token comment">## 插入的数据不是-1,而是0,但显示时会前导零填充,因为加了zerofill参数</span>
 
mysql<span class="token operator">&gt;</span> insert into test22<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 在范围内,不报错,插入是多少就是多少,但显示时会前导零填充,因为加了zerofill参数</span>
 
mysql<span class="token operator">&gt;</span> insert into test22<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777215<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 在范围内,不报错,插入是多少就是多少</span>
 
mysql<span class="token operator">&gt;</span> insert into test22<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>16777216<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围,插入未报错(因为sql_mode中未开启严格模式)</span>
　　<span class="token comment">## 插入的数据不是16777216,而是16777215</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test22<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span> 00000000 <span class="token operator">|</span>
<span class="token operator">|</span> 00000000 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
<span class="token operator">|</span> 16777215 <span class="token operator">|</span>
+----------+
4 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<br> 
<h3><a id="15_unsignedzerofill_309"></a>1.5 不加unsigned和zerofill属性</h3> 
<h4><a id="151_SQL_310"></a>1.5.1 SQL模式开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中开启了严格模式,即SQL_MODE参数中包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">## 设置会话模式下sql_mode中包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建test3表（不加unsigned和zerofill）</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test3<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.05 sec<span class="token punctuation">)</span>
 
　　<span class="token comment">## 表test3的id字段没加unsigned和zerofile参数,那么id字段的范围就是-8388608~8388607</span>
　　<span class="token comment">## 显示长度是9,因为-8388608和8388607的长度是8,但要显示符号("-"),所显示长度是9</span>
 
<span class="token comment">## 查看test3表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test3<span class="token punctuation">;</span>
+-------+--------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type         <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+--------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>9<span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+--------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入-8388608~8388607范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test3<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-8388609<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment"># 插入数值-8388609,错误,不在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
mysql<span class="token operator">&gt;</span> insert into test3<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-8388608<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment"># 插入数值-8388608,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test3<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>8388607<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment"># 插入数值8388607,正确,在范围内</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> insert into test3<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>8388608<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment"># 插入数值8388608,错误,在范围内</span>
ERROR 1264 <span class="token punctuation">(</span>22003<span class="token punctuation">)</span>: Out of range value <span class="token keyword">for</span> column <span class="token string">'id'</span> at row 1
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test3<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span> -8388608 <span class="token operator">|</span>
<span class="token operator">|</span>  8388607 <span class="token operator">|</span>
+----------+
2 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="152_SQL_363"></a>1.5.2 SQL模式未开启严格模式</h4> 
<blockquote> 
 <p><strong>SQL_MODE中未开启严格模式,即SQL_MODE参数中不包含STRICT_TRANS_TABLES参数</strong></p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token comment">## 设置会话模式下sql_mode中不开启严格模式,即不包含strict_trans_tables变量</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> session sql_mode<span class="token operator">=</span><span class="token string">"NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span><span class="token punctuation">;</span>
Query OK, 0 rows affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> @@sql_mode\G
*************************** 1. row ***************************
@@sql_mode: NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 创建test33表（不加unsigned和zerofill参数）</span>
mysql<span class="token operator">&gt;</span> create table <span class="token keyword">if</span> not exists test33<span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span> <span class="token function">id</span> mediumint
    -<span class="token operator">&gt;</span> <span class="token punctuation">)</span>engine<span class="token operator">=</span>innodb character <span class="token keyword">set</span> utf8 collate utf8_general_ci<span class="token punctuation">;</span>
Query OK, 0 rows affected <span class="token punctuation">(</span>0.01 sec<span class="token punctuation">)</span>
 
　　<span class="token comment">## 表test33的id字段没加unsigned和zerofile参数,那么id字段的范围就是-8388608~8388607</span>
　　<span class="token comment">## 显示长度是9,因为-8388608和8388607的长度是8,但要显示符号("-"),所显示长度是9</span>
  

<span class="token comment">## 查看test33表的表结构</span>
mysql<span class="token operator">&gt;</span> desc test33<span class="token punctuation">;</span>
+-------+--------------+------+-----+---------+-------+
<span class="token operator">|</span> Field <span class="token operator">|</span> Type         <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra <span class="token operator">|</span>
+-------+--------------+------+-----+---------+-------+
<span class="token operator">|</span> <span class="token function">id</span>    <span class="token operator">|</span> mediumint<span class="token punctuation">(</span>9<span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> NULL    <span class="token operator">|</span>       <span class="token operator">|</span>
+-------+--------------+------+-----+---------+-------+
1 row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
 
<span class="token comment">## 测试插入-8388608~8388607范围内的整数和不在该范围内的整数</span>
mysql<span class="token operator">&gt;</span> insert into test33<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-8388609<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围内,插入未报错（因为sql_mode中未开启严格模式）</span>
　　<span class="token comment">## 插入的数据不是-8388609,而是-8388608</span>
 
mysql<span class="token operator">&gt;</span> insert into test33<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>-8388608<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
    <span class="token comment">## 在范围内,未报错,插入是多少就是多少</span>
 
mysql<span class="token operator">&gt;</span> insert into test33<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>8388607<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 在范围内,未报错,插入是多少就是多少</span>
 
mysql<span class="token operator">&gt;</span> insert into test33<span class="token punctuation">(</span>id<span class="token punctuation">)</span> values<span class="token punctuation">(</span>8388608<span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, 1 row affected, 1 warning <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
　　<span class="token comment">## 不在范围内,插入未报错（因为sql_mode中未开启严格模式）</span>
　　<span class="token comment">## 插入的数据不是8388608,而是8388607</span>
 
mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> * from test33<span class="token punctuation">;</span>
+----------+
<span class="token operator">|</span> <span class="token function">id</span>       <span class="token operator">|</span>
+----------+
<span class="token operator">|</span> -8388608 <span class="token operator">|</span>
<span class="token operator">|</span> -8388608 <span class="token operator">|</span>
<span class="token operator">|</span>  8388607 <span class="token operator">|</span>
<span class="token operator">|</span>  8388607 <span class="token operator">|</span>
+----------+
4 rows <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span>0.00 sec<span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1ad26823190c9bb25299e925485e64f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UNICODE和UTF-8的相互转换（C&#43;&#43;）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4f33098b6600df426d430e67c659e0fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">with check option的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>