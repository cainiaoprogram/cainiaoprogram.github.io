<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Intellij IDEA中使用MyBatis-generator 插件自动生成MyBatis代码 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Intellij IDEA中使用MyBatis-generator 插件自动生成MyBatis代码" />
<meta property="og:description" content="1、要用maven生成pom.xml
选中项目——&gt;右键——&gt;选择Add Framworks Support——&gt;选择maven ，他会自动生成pom.xml文件
maven在编译的时候，默认使用的是jdk1.5,如果要指定jdk的版本，需要在pom.xml文件中加入如下配置（修改jdk版本为1.8）
2、修改jdk版本和加入org.mybatis.generator插件
&lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;/properties&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; 刚加入是红色的。
3、让IDEA自动下载插件
在pom.xml文件中点击右键-----》选择maven--------》选择reimport,它就会自动加载，等着把资源下载好。
4、添加运行maven的配置
在Command line中添加如下代码
mybatis-generator:generate -e 5、在resources下建立generatorConfig.xml 内容如下
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;!DOCTYPE generatorConfiguration PUBLIC &#34;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&#34; &#34;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&#34; &gt; &lt;generatorConfiguration&gt; &lt;!-- 数据库驱动:选择你的本地硬盘上面的数据库驱动包，路径不要出现中文--&gt; &lt;classPathEntry location=&#34;D:\woooooork\jar\mysqlconnnect\mysql-connector-java-5.1.44.jar&#34;/&gt; &lt;context id=&#34;DB2Tables&#34; targetRuntime=&#34;MyBatis3&#34;&gt; &lt;commentGenerator&gt; &lt;property name=&#34;suppressDate&#34; value=&#34;true&#34;/&gt; &lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt; &lt;property name=&#34;suppressAllComments&#34; value=&#34;true&#34;/&gt; &lt;/commentGenerator&gt; &lt;!--数据库链接URL，用户名、密码 --&gt; &lt;jdbcConnection driverClass=&#34;com.mysql.jdbc.Driver&#34; connectionURL=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d36d3ec896ef350786129ba4f8fa19dd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-22T15:27:51+08:00" />
<meta property="article:modified_time" content="2018-08-22T15:27:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Intellij IDEA中使用MyBatis-generator 插件自动生成MyBatis代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1、要用maven生成pom.xml</p> 
<p>选中项目——&gt;右键——&gt;选择Add Framworks Support——&gt;选择maven ，他会自动生成pom.xml文件</p> 
<p><img alt="" class="has" height="205" src="https://images2.imgbox.com/fb/d2/8Xw8MprF_o.png" width="495"></p> 
<p><img alt="" class="has" height="644" src="https://images2.imgbox.com/c4/38/2vxjFvEZ_o.png" width="764"></p> 
<p><img alt="" class="has" height="443" src="https://images2.imgbox.com/55/6e/kDwL1B44_o.png" width="801"></p> 
<p><strong>maven在编译的时候，默认使用的是jdk1.5,如果要指定jdk的版本，需要在pom.xml文件中加入如下配置（修改jdk版本为1.8）</strong></p> 
<p>2、<strong>修改jdk版本和加入org.mybatis.generator插件</strong></p> 
<pre class="has"><code>    &lt;properties&gt;
        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;
        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;
    &lt;/properties&gt;</code></pre> 
<pre class="has"><code>    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt;
                &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.3.2&lt;/version&gt;

            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;</code></pre> 
<p>刚加入是红色的。</p> 
<p>3、让IDEA自动下载插件</p> 
<p>在pom.xml文件中点击右键-----》选择maven--------》选择reimport,它就会自动加载，等着把资源下载好。</p> 
<p><img alt="" class="has" height="545" src="https://images2.imgbox.com/f7/ad/MtZ9NuZX_o.png" width="695"></p> 
<p>4、添加运行maven的配置</p> 
<p><img alt="这里写图片描述" class="has" src="https://images2.imgbox.com/38/d0/coOiKsQy_o.png"></p> 
<p><img alt="这里写图片描述" class="has" src="https://images2.imgbox.com/e4/81/P3zK1NTK_o.png"></p> 
<p>在Command line中添加如下代码</p> 
<pre class="has"><code>mybatis-generator:generate -e</code></pre> 
<p><strong>5、在resources下建立generatorConfig.xml 内容如下</strong></p> 
<pre class="has"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE generatorConfiguration 
PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd" &gt;
&lt;generatorConfiguration&gt;
    &lt;!-- 数据库驱动:选择你的本地硬盘上面的数据库驱动包，路径不要出现中文--&gt;
    &lt;classPathEntry  location="D:\woooooork\jar\mysqlconnnect\mysql-connector-java-5.1.44.jar"/&gt;
    &lt;context id="DB2Tables"  targetRuntime="MyBatis3"&gt;
        &lt;commentGenerator&gt;
            &lt;property name="suppressDate" value="true"/&gt;
            &lt;!-- 是否去除自动生成的注释 true：是 ： false:否 --&gt;
            &lt;property name="suppressAllComments" value="true"/&gt;
        &lt;/commentGenerator&gt;
        &lt;!--数据库链接URL，用户名、密码 --&gt;
        &lt;jdbcConnection driverClass="com.mysql.jdbc.Driver" connectionURL="jdbc:mysql://localhost:3306/test?useUnicode=true" userId="root" password="123456"&gt;
        &lt;/jdbcConnection&gt;
        &lt;javaTypeResolver&gt;
            &lt;property name="forceBigDecimals" value="false"/&gt;
        &lt;/javaTypeResolver&gt;
        &lt;!-- 生成模型的包名和位置--&gt;
        &lt;javaModelGenerator targetPackage="main.java.com.model" targetProject="src"&gt;
            &lt;property name="enableSubPackages" value="true"/&gt;
            &lt;property name="trimStrings" value="true"/&gt;
        &lt;/javaModelGenerator&gt;
        &lt;!-- 生成映射文件的包名和位置--&gt;
        &lt;sqlMapGenerator targetPackage="main.resources.mapper" targetProject="src"&gt;
            &lt;property name="enableSubPackages" value="true"/&gt;
        &lt;/sqlMapGenerator&gt;
        &lt;!-- 生成DAO的包名和位置--&gt;
        &lt;javaClientGenerator type="XMLMAPPER" targetPackage="main.java.com.mapper" targetProject="src"&gt;
       &lt;property name="enableSubPackages" value="true"/&gt;
        &lt;/javaClientGenerator&gt;
        &lt;!-- 要生成的表 tableName是数据库中的表名或视图名 domainObjectName是实体类名--&gt;
        &lt;table tableName="t_user" domainObjectName="User" enableCountByExample="false" enableUpdateByExample="false" enableDeleteByExample="false" enableSelectByExample="false" selectByExampleQueryId="false"&gt;&lt;/table&gt;
    &lt;/context&gt;
&lt;/generatorConfiguration&gt;</code></pre> 
<p>细节根据注释修改，绑定到数据的表后，运行generator后就可以啦！</p> 
<p>6、点击生成好的generator，运行</p> 
<p><img alt="" class="has" height="356" src="https://images2.imgbox.com/af/56/DuhPln9I_o.png" width="1200"></p> 
<p>7、根据<strong>generatorConfig.xml </strong>生成model、映射文件mapper、和dao层接口</p> 
<pre class="has"><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" &gt;

&lt;!--对应该实体类的结果集--&gt;
&lt;mapper namespace="com.mapper.UserMapper" &gt;
  &lt;resultMap id="BaseResultMap" type="com.model.User" &gt;
    &lt;id column="user_id" property="userId" jdbcType="INTEGER" /&gt;
    &lt;result column="user_name" property="userName" jdbcType="VARCHAR" /&gt;
    &lt;result column="password" property="password" jdbcType="VARCHAR" /&gt;
    &lt;result column="phone" property="phone" jdbcType="VARCHAR" /&gt;
  &lt;/resultMap&gt;
      &lt;!-- 该实体类的对象 可以用这种形式，在sql展示：                &lt;include refid="Base_Column_List" /&gt;--&gt;  
  &lt;sql id="Base_Column_List" &gt;
    user_id, user_name, password, phone
  &lt;/sql&gt;
  &lt;!--通过主键查询--&gt;
  &lt;select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" &gt;
    select 
    &lt;include refid="Base_Column_List" /&gt;
    from t_user
    where user_id = #{userId,jdbcType=INTEGER}
  &lt;/select&gt;
  &lt;!--通过主键删除--&gt;
  &lt;delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" &gt;
    delete from t_user
    where user_id = #{userId,jdbcType=INTEGER}
  &lt;/delete&gt;
  &lt;!--插入--&gt;
  &lt;insert id="insert" parameterType="com.model.User" &gt;
    insert into t_user (user_id, user_name, password, 
      phone)
    values (#{userId,jdbcType=INTEGER}, #{userName,jdbcType=VARCHAR}, #{password,jdbcType=VARCHAR}, 
      #{phone,jdbcType=VARCHAR})
  &lt;/insert&gt;
  &lt;insert id="insertSelective" parameterType="com.model.User" &gt;
    insert into t_user
    &lt;trim prefix="(" suffix=")" suffixOverrides="," &gt;
      &lt;if test="userId != null" &gt;
        user_id,
      &lt;/if&gt;
      &lt;if test="userName != null" &gt;
        user_name,
      &lt;/if&gt;
      &lt;if test="password != null" &gt;
        password,
      &lt;/if&gt;
      &lt;if test="phone != null" &gt;
        phone,
      &lt;/if&gt;
    &lt;/trim&gt;
    &lt;trim prefix="values (" suffix=")" suffixOverrides="," &gt;
      &lt;if test="userId != null" &gt;
        #{userId,jdbcType=INTEGER},
      &lt;/if&gt;
      &lt;if test="userName != null" &gt;
        #{userName,jdbcType=VARCHAR},
      &lt;/if&gt;
      &lt;if test="password != null" &gt;
        #{password,jdbcType=VARCHAR},
      &lt;/if&gt;
      &lt;if test="phone != null" &gt;
        #{phone,jdbcType=VARCHAR},
      &lt;/if&gt;
    &lt;/trim&gt;
  &lt;/insert&gt;
  &lt;update id="updateByPrimaryKeySelective" parameterType="com.model.User" &gt;
    update t_user
    &lt;set &gt;
      &lt;if test="userName != null" &gt;
        user_name = #{userName,jdbcType=VARCHAR},
      &lt;/if&gt;
      &lt;if test="password != null" &gt;
        password = #{password,jdbcType=VARCHAR},
      &lt;/if&gt;
      &lt;if test="phone != null" &gt;
        phone = #{phone,jdbcType=VARCHAR},
      &lt;/if&gt;
    &lt;/set&gt;
    where user_id = #{userId,jdbcType=INTEGER}
  &lt;/update&gt;
  &lt;update id="updateByPrimaryKey" parameterType="com.model.User" &gt;
    update t_user
    set user_name = #{userName,jdbcType=VARCHAR},
      password = #{password,jdbcType=VARCHAR},
      phone = #{phone,jdbcType=VARCHAR}
    where user_id = #{userId,jdbcType=INTEGER}
  &lt;/update&gt;

  &lt;!-- 自己书写的查询语句--&gt;
  &lt;select id="getUser" parameterType="String" resultType="com.model.User" &gt;
    SELECT * FROM t_user WHERE username = #{userName,jdbcType=VARCHAR}
  &lt;/select&gt;
&lt;!-- 在UserMapper接口中定义List&lt;User&gt; 返回类型的方法，就该方法就返回对象的集合了--&gt;
  &lt;select id="getUserByPhone" parameterType="String" resultMap="BaseResultMap"&gt;
      SELECT
      &lt;include refid="Base_Column_List"/&gt;
    FROM t_user where phone= #{phone,jdbcType=VARCHAR}
  &lt;/select&gt;
&lt;/mapper&gt;</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/325b0ea61df93c832f746623454c170f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">百度地图点击标注展示信息栏，信息栏根据点击的标注，显示不同的信息</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c25197478ae0294b4e5742b27b019338/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">GitHub网站排版混乱并且速度慢的问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>