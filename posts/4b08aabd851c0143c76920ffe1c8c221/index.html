<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell脚本入门 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell脚本入门" />
<meta property="og:description" content="shell脚本入门 菜单栏编写方法; cat &lt;&lt; EOF 1) .............................................................................. 2) ..................................................................................... EOF 脚本第一行必须写#!/bin/bash 这一行说明这是一个脚本文件，如果写在第二行，就会认为是一个注释行 vim打开语法高亮：syntax enable 用户交互命令：read -p &#34;提示用户&#34; var read -p -p是提示，从键盘读取内容放到变量var中。 内置变量：一般大写 $UID是用户ID 用id命令可以查看uid gid 和组 [ $UID -ne 0 ] $UID表示执行这个脚本的UID是多少 查看UID的方法，UID都是在/etc/passwd tail -5 /etc/passwd 查看配置文件/etc/passwd的最后5行 sync:x:4:65534:sync:/bin:/bin/sync 冒号隔开，第一列是用户名，第二个是密码（x表示有密码），第三个是uid，第四个是gid, 判断语句; [ 2 -eq 3 ] &amp;&amp; echo 0 #中括号两边必须要有空格，-eq是等于的意思，假设2等于3，就会执行后面的echo 0 [ 2 -ne 3 ] &amp;&amp; echo 0 #同上，-ne表示不等于。 [ 2 -eq 3 ] &amp;&amp; echo 0 || echo 1 #前面的语句执行失败了，将要执行echo 1 gt：是大于；lt 是小于；ge是大于等于；le是小于等于 只能比较数字，不能比较字符串 但是双中括号有时候出问题 [[ $line &gt; 10 ]] &amp;&amp; echo 1 #这样用就可以直接用大于号小于号不等于之类的。双中括号。有些系统不支持 [[ $line = 10 ]] &amp;&amp; echo 0 比较字符串 一个问题： #!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4b08aabd851c0143c76920ffe1c8c221/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-11-06T08:36:55+08:00" />
<meta property="article:modified_time" content="2017-11-06T08:36:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell脚本入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="text-align:center">shell脚本入门</h2> 
<div>
  菜单栏编写方法; 
</div> 
<div>
  cat   &lt;&lt;    EOF 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <span style="white-space:pre"></span>1) 
 <span style="white-space:pre"> </span> .............................................................................. 
</div> 
<div> 
 <span style="white-space:pre"></span>2)    ..................................................................................... 
</div> 
<div> 
 <br> 
</div> 
<div>
  EOF 
</div> 
<div> 
 <br> 
</div> 
<div>
  脚本第一行必须写#!/bin/bash 
 <span style="white-space:pre"> </span>这一行说明这是一个脚本文件，如果写在第二行，就会认为是一个注释行 
</div> 
<div> 
 <br> 
</div> 
<div>
  vim打开语法高亮：syntax  enable 
</div> 
<div> 
 <br> 
</div> 
<div>
  用户交互命令：read   -p   "提示用户"     var 
 <span style="white-space:pre"> </span>read   -p     -p是提示，从键盘读取内容放到变量var中。 
</div> 
<div> 
 <br> 
</div> 
<div>
  内置变量：一般大写 
</div> 
<div>
  $UID是用户ID 
</div> 
<div>
  用id命令可以查看uid   gid   和组 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  $UID   -ne     0   
 <span style="white-space:pre"> </span>] 
 <span style="white-space:pre"></span>$UID表示执行这个脚本的UID是多少 
</div> 
<div> 
 <br> 
</div> 
<div>
  查看UID的方法，UID都是在/etc/passwd 
</div> 
<div>
  tail   -5    /etc/passwd 
 <span style="white-space:pre"> </span>查看配置文件/etc/passwd的最后5行 
</div> 
<div> 
 <br> 
</div> 
<div>
  sync:x:4:65534:sync:/bin:/bin/sync 
 <span style="white-space:pre"> </span>冒号隔开，第一列是用户名，第二个是密码（x表示有密码），第三个是uid，第四个是gid, 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断语句; 
</div> 
<div>
  [  2  -eq  3  ]   &amp;&amp;  echo   0 
 <span style="white-space:pre"> </span>#中括号两边必须要有空格，-eq是等于的意思，假设2等于3，就会执行后面的echo   0 
</div> 
<div>
  [  2  -ne  3  ]  &amp;&amp;   echo  0 
 <span style="white-space:pre"> </span>#同上，-ne表示不等于。 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  2  -eq  3  ]  &amp;&amp;  echo  0  ||  echo  1 
 <span style="white-space:pre"> </span> #前面的语句执行失败了，将要执行echo   1 
</div> 
<div> 
 <br> 
</div> 
<div>
  gt：是大于；lt  是小于；ge是大于等于；le是小于等于   只能比较数字，不能比较字符串 
</div> 
<div> 
 <br> 
</div> 
<div>
  但是双中括号有时候出问题 
</div> 
<div>
  [[  $line  &gt;  10  ]]    &amp;&amp;   echo  1 
 <span style="white-space:pre"> </span>#这样用就可以直接用大于号小于号不等于之类的。双中括号。有些系统不支持 
</div> 
<div>
  [[  $line =   10  ]]   &amp;&amp;    echo  0 
 <span style="white-space:pre"> </span> 
</div> 
<div> 
 <br> 
</div> 
<div>
  比较字符串 
</div> 
<div> 
 <br> 
</div> 
<div>
  一个问题： 
</div> 
<div>
  #!/bin/bash   - 
</div> 
<div>
  var =xxx 
</div> 
<div>
  [[   $var = "xxx"  ]]  &amp;&amp;  echo 0  ||  echo  1 
</div> 
<div> 
 <br> 
</div> 
<div>
  用bash执行没有问题，用sh执行出现问题。但是用sh来执行还是会返回正确的结果，或者赋予脚本权限也没问题。双中括号的问题 
</div> 
<div> 
 <br> 
</div> 
<div>
  [[  $var  =-   ...]]   &amp;&amp;  echo  0 ||  echo  1 
</div> 
<div>
  -表示匹配正则的意思。.表示匹配任意的一个字符 
</div> 
<div> 
 <br> 
</div> 
<div>
  vim 加上行号：set  nu 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  -z   $port  ] 
 <span style="white-space:pre"> </span>判断prot是不是空值 
</div> 
<div> 
 <br> 
</div> 
<div>
  中括号几种常用用法 
</div> 
<div> 
 <br> 
</div> 
<div>
  echo   $var 
</div> 
<div>
  unset   $var 
 <span style="white-space:pre"> </span>取消变量var，相当于var=""，把var设置为空 
</div> 
<div> 
 <br> 
</div> 
<div>
  [[  "$var"  =   "xxx"  ]]   &amp;&amp;   echo   0  ||  echo   1，外面加双引号，这样不会报错 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断是否空值 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  -z   $dir  ]  &amp;&amp;   echo  0   ||   echo   1 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断非空 
</div> 
<div>
  [ !  -z   $dir  ]  &amp;&amp;  echo  0  ||  echo   1 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断路径是否存在 
</div> 
<div>
  [  -d   $dir   ]  &amp;&amp;  echo  0  ||  echo   1 
</div> 
<div> 
 <br> 
</div> 
<div>
  路径不存在 
</div> 
<div>
  [  !  -d  $dir  ]  &amp;&amp;  echo 0  ||  echo  1 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断文件是否存在 
</div> 
<div>
  [   -f    cat.sh   ]   &amp;&amp;   echo   0   ||   echo   1 
</div> 
<div>
  判断文件不存在就在-f前面加一个!就行了。 
</div> 
<div> 
 <br> 
</div> 
<div>
  判断是否有执行权限是-x 
</div> 
<div> 
 <br> 
</div> 
<div>
  shell函数入门 
</div> 
<div>
  shell的函数不能传参，函数里面的变量和外面的变量都是一样的，不存在局部变量和全局变量等。 
</div> 
<div> 
 <br> 
</div> 
<div>
  #!/bin/bash   - 
</div> 
<div>
  errorinfo(){ 
</div> 
<div>
  echo  "error" 
</div> 
<div>
  } 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  !  -d   $dir  ]  &amp;&amp;  errorinfo 
</div> 
<div> 
 <br> 
</div> 
<div>
  shell中的位置变量 
</div> 
<div>
  $0   $1   $2    $#   $@ 
</div> 
<div> 
 <br> 
</div> 
<div>
  比如./512.sh    1   2   3   4   5 
</div> 
<div>
  $0   =  ./512.sh 
</div> 
<div>
  $1   =   1 
 <span style="white-space:pre"> </span>第一个输入参数 
</div> 
<div>
  $2   =   2         第二个输入参数 
</div> 
<div>
  $#   =   5         一共输入了几个参数 
</div> 
<div>
  $@  =   1  2   3   4   5 
 <span style="white-space:pre"> </span>所有的输入值 
</div> 
<div> 
 <br> 
</div> 
<div>
  ping   -c  2   -w   2   192.168.1.101 
</div> 
<div>
  -c表示ping的次数，-w表示超时等待，这里是2秒 
</div> 
<div> 
 <br> 
</div> 
<div>
  标准错误重定向到/dev/null，因为这里已经把标准输入重定向到了/dev/null，所以这里的1就是/dev/null 
</div> 
<div>
  ping  -c  2  -w  2   $ip  &gt;  /dev/null   2&gt;&amp;1 
</div> 
<div> 
 <br> 
</div> 
<div>
  #exit  1表示退出脚本 
</div> 
<div>
  #!/bin/bash 
 <br> 
 <br> [ $# -ne 1 ] &amp;&amp; echo 'need $1' &amp;&amp; exit 1 
 <br> ip=$1 
 <br> echo $ip 
 <br> #-c表示ping两次，-w指定超时时间，这里是2s。 
</div> 
<div>
  ping -c 2 -w 2 $ip &gt;/dev/null 2&gt;&amp;1 
 <br> #上一句执行成功$?=0 
</div> 
<div>
  [ $? -eq 0 ] &amp;&amp; echo "$ip is on" 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div>
  函数中的位置变量 
</div> 
<div>
  #!/bin/bash  - 
</div> 
<div>
  test(){ 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   "$1" 
</div> 
<div>
  } 
</div> 
<div> 
 <br> 
</div> 
<div>
  test   $1 
</div> 
<div> 
 <br> 
</div> 
<div>
  函数内的位置参数需要通过函数名   参数，这种格式传入进去 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  -z  $1  ]  &amp;&amp;  exit  1 
 <span style="white-space:pre"> </span>判断输入的第一个参数是否为空值，exit   1。返回值是1，用$?可以查看，表示非正常退出 
</div> 
<div> 
 <br> 
</div> 
<div>
  if判断格式 
</div> 
<div>
  #if后面有个空格，中括号里面两端也有空格，后面还有一个分号，然后then 
</div> 
<div>
  if  [  $i    -eq   0  ];then 
</div> 
<div> 
 <span style="white-space:pre"></span>echo "=" 
</div> 
<div>
  else 
</div> 
<div> 
 <span style="white-space:pre"></span>echo "!=" 
</div> 
<div>
  fi 
</div> 
<div> 
 <br> 
</div> 
<div>
  如果有多个条件判断，用elif.一定要加then，否则语法错误 
</div> 
<div> 
 <div>
   if    [  $i    -eq   0  ];then 
 </div> 
 <div> 
  <span style="white-space:pre"></span> 
  <span style="white-space:pre"></span>echo   "=" 
 </div> 
 <div>
   elif  [  $i   -eq 1   ];then 
 </div> 
 <div> 
  <span style="white-space:pre"></span>echo   "1" 
 </div> 
 <div>
   else 
 </div> 
 <div> 
  <span style="white-space:pre"></span> 
  <span style="white-space:pre"></span>echo "!=" 
 </div> 
 <div>
   fi 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   寻找最近的vi命令，!vi，前面加一个叹号 
 </div> 
 <div> 
  <br> 
 </div> 
 <div>
   while循环和for循环 
 </div> 
 <div> 
  <br> 
 </div> #!/bin/bash 
</div> 
<div>
  i=0 
</div> 
<div>
  while  [  $i  -ne   10  ] 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>i=$(($i+1)) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  $i 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  in后面有几个执行几次 
</div> 
<div>
  for  i    in  1   2   3 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo 
 <span style="white-space:pre"></span>$i 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  for  i  in   `seq   10` 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $i 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  for  i  in  `ls` 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo $i 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  #它会cat  ls出来的所有目录 
</div> 
<div>
  for  i   in  `ls` 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>cat   $i 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  break和continue用法 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  i=0 
</div> 
<div>
  while  [  9  -ne  10  ] 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>i=$(($i+1)) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $i 
</div> 
<div> 
 <span style="white-space:pre"></span>[  $i  -ge   10   ]   &amp;&amp;  break 
 <span style="white-space:pre"></span>#当i大于等于10，就退出循环 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  按行来读取文件 
</div> 
<div>
  方法一： 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  cat  a.txt  | 
</div> 
<div>
  while   read  line 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $line 
</div> 
<div> 
 <span style="white-space:pre"></span>sleep  1 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  方法二; 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  while   read   line 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $line 
</div> 
<div> 
 <span style="white-space:pre"></span>sleep  1 
</div> 
<div>
  done  &lt;  a.txt 
</div> 
<div> 
 <br> 
</div> 
<div>
  用for循环，如果一行中间有空格，for会把他作为一个字符串来处理 
</div> 
<div>
  for  line   in   `cat   a.txt` 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $line 
</div> 
<div> 
 <span style="white-space:pre"></span>sleep   1 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  case条件分支 
</div> 
<div> 
 <br> 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  read  -p   "Choice:"   choice 
</div> 
<div> 
 <br> 
</div> 
<div>
  case  $choice  in 
</div> 
<div>
  s|start) 
 <span style="white-space:pre"> </span>#s或者start都可以 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  1  ;; 
 <span style="white-space:pre"></span>#两个分号表示结尾 
</div> 
<div>
  2) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  2  ;; 
</div> 
<div>
  3) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  3  ;; 
</div> 
<div>
  *) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  '*';; 
 <span style="white-space:pre"></span>#加个单引号给*,因为它是通配符，不能让它转义 
</div> 
<div>
  esac 
</div> 
<div> 
 <br> 
</div> 
<div>
  一般在脚本里面要用*和!，如果一定要用，就用单引号引起来。 
</div> 
<div> 
 <br> 
</div> 
<div>
  调试脚本的方法：bash  -x   case.sh 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div>
  shell小技巧 
</div> 
<div> 
 <br> 
</div> 
<div>
  &amp;表示继承，这里是继承了标准输出，现在的标准输出是/dev/null 
</div> 
<div>
  ping  -c  2   -w  2  www.baidu.com  &gt;/dev/null   2&gt;&amp;1 
</div> 
<div>
  &amp;是一个通配符，表示任意数字，全部重定向到/dev/null 
</div> 
<div>
  ping  -c  2   -w  2  www.baidu.com  &amp;&gt;/dev/null 
</div> 
<div> 
 <br> 
</div> 
<div>
  比较两个文件是否相等： 
</div> 
<div>
  cmp -s /bin/mv  /bin/cp   然后$?，如果是1，说明不相等 
 <br> 
</div> 
<div>
  diff   A文件   B文件 
 <span style="white-space:pre"> </span>他会显示不同的行 
</div> 
<div> 
 <br> 
</div> 
<div>
  vimdiff这个软件也可以比较 
</div> 
<div> 
 <br> 
</div> 
<div>
  diff   a   b|grep  '&gt;'  |  cut   -d  '  '   -f    2 
</div> 
<div>
  for  i   in  `seq  3`;do   echo   "789"  &gt;&gt;   b;  done 
</div> 
<div>
  diff   a  b |  grep  '&gt;'  |  cut  -d '  '   -f  2 
</div> 
<div> 
 <br> 
</div> 
<div>
  别名 
</div> 
<div>
  alias  py='python' 
</div> 
<div> 
 <br> 
</div> 
<div>
  cat  -n   b  | tail  -1    -n显示行号，tail从后面开始，tail  -1，显示最后一行 
</div> 
<div> 
 <br> 
</div> 
<div>
  alias  grep='grep  --color=auto' 
</div> 
<div>
  postqueue  -p|grep   empty 
 <span style="white-space:pre"> </span>#postqueue邮件列表 
</div> 
<div> 
 <br> 
</div> 
<div>
  转换格式的命令  windows和linux存储文本格式不一致，通过dos2unix命令来进行转换 
</div> 
<div> 
 <br> 
</div> 
<div>
  shell脚本函数库的实现 
</div> 
<div> 
 <br> 
</div> 
<div>
  #!/bin/bash 
</div> 
<div> 
 <br> 
</div> 
<div>
  .   路径/函数脚本 
 <span style="white-space:pre"> </span>#这样函数库就加载进来了，然后就可以使用了 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <strong><br> </strong> 
</div> 
<div> 
 <strong><span style="font-size:14px">脚本中的常用计算以及判断变量是否数字的方法</span></strong> 
</div> 
<div> 
 <br> 
</div> 
<div>
  echo   $((1+2))   $((1/2))    不支持浮点 
</div> 
<div> 
 <br> 
</div> 
<div>
  expr   2  +   3     加号前面和后面一定要有空格 
</div> 
<div> 
 <br> 
</div> 
<div>
  调整语言   LANG=en 
</div> 
<div> 
 <br> 
</div> 
<div>
  expr   a  +   1 
 <span style="white-space:pre"> </span>echo   ?    根据执行结果来判断a是不是字符串 
</div> 
<div> 
 <br> 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  a=asd 
</div> 
<div>
  expr    $a  +   1  &gt;   /dev/null     2&gt;&amp;1 
</div> 
<div>
  [   $?   -ne    0   ]   &amp;&amp;   echo    "$a   is not   a   number"   ||   echo   "$a   is   a   number" 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <span style="font-size:14px"><strong>shell中打包备份</strong></span> 
</div> 
<div>
  tar   zcvf      z：是变成tar.gz    c是create   v是显示详细过程    f是文件名 
</div> 
<div>
  tar   zcvf    etc.tar.gz     /etc       打包etc目录为etc.tar.gz压缩文件 
</div> 
<div> 
 <br> 
</div> 
<div>
  bak.sh 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  logfile=/home/nba/bak.log    #日志 
</div> 
<div>
  riq=`date` 
 <span style="white-space:pre"> </span>   #日期 
</div> 
<div>
  echo  "$riqi"   &gt;&gt;  $logfile 
 <span style="white-space:pre"> </span>   #追加日期到日志文件 
</div> 
<div> 
 <br> 
</div> 
<div>
  dir=`dirname   $logfile`   #dirname取出路径名的命令，basename是取出文件名 
</div> 
<div>
  [  !  -d  $dir  ]   &amp;&amp;   exit   1    #如果路径不存在，就退出 
</div> 
<div>
  tar   zcvf    /home/nba/etc.tar.gz     /etc   &gt;   $logfile   2&gt;&gt;&amp;logfile  ||  exit   2   #如果失败了，退出 
</div> 
<div>
  mv  /home/nba/etc.tar.gc    /tmp 
</div> 
<div> 
 <br> 
</div> 
<div>
  date   +%Y-%m-%d 
 <span style="white-space:pre"> </span>#日期 
</div> 
<div> 
 <br> 
</div> 
<div>
  计算期脚本 
</div> 
<div>
  ./clac.sh    1+2 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  error() 
</div> 
<div>
  { 
</div> 
<div>
  # 
 <span style="white-space:pre"> </span>echo   -e  "\teg:Usage:`basename   $0` 
 <span style="white-space:pre"></span>1+2"   #-e选项可以加一些\t制表符之类的 
</div> 
<div> 
 <span style="white-space:pre"></span>printf   "\teg:Usage:`basename   $0` 
 <span style="white-space:pre"></span>1+2\n"  #printf默认没有换行，必须加\n 
</div> 
<div> 
 <span style="white-space:pre"></span>exit   1 
</div> 
<div>
  } 
</div> 
<div> 
 <br> 
</div> 
<div>
  [  $#   -eq   0   ]  &amp;&amp;   error     #$#传入的参数个数，假设传入的参数个数为0，就报错 
</div> 
<div>
  echo   $ (($1)) 
</div> 
<div> 
 <br> 
</div> 
<div>
  echo  -n 
 <span style="white-space:pre"> </span>#-n选项不支持换行 
</div> 
<div> 
 <br> 
</div> 
<div>
  printf   "%9d%9d\n"    "10"     "9"      #10前面有9位 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <strong><span style="font-size:18px">利用getopts来接受参数的正规方法</span></strong> 
</div> 
<div>
  #!/bin/bash 
</div> 
<div>
  while   getopts   ab:c::   ARGS 
</div> 
<div>
  do 
</div> 
<div> 
 <span style="white-space:pre"></span>case   $ARGS     in 
</div> 
<div> 
 <span style="white-space:pre"></span>a) 
</div> 
<div> 
 <span style="white-space:pre"></span>echo  "a"   ;; 
</div> 
<div> 
 <span style="white-space:pre"></span>b) 
</div> 
<div> 
 <span style="white-space:pre"></span>b=$OPTARG 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $b    ;; 
</div> 
<div> 
 <span style="white-space:pre"></span>c) 
</div> 
<div> 
 <span style="white-space:pre"></span>c=$OPTARG 
</div> 
<div> 
 <span style="white-space:pre"></span>echo   $c  ;; 
</div> 
<div> 
 <span style="white-space:pre"></span>*) 
</div> 
<div> 
 <span style="white-space:pre"></span>exit   1 
</div> 
<div> 
 <span style="white-space:pre"></span>esac 
</div> 
<div>
  done 
</div> 
<div> 
 <br> 
</div> 
<div>
  ping   -c   2    www.baidu.com       -c是选项，不带-的是参数 
</div> 
<div>
  getopts   :如果一个单个字符后面有一个：，那么这个选项后面必须加一个参数。而且这个参数需要一个空格隔开 
</div> 
<div> 
 <span style="white-space:pre"></span> 如果有两个冒号，就是选项和参数之间不需要间隔，必须紧贴一块 
</div> 
<div> 
 <span style="white-space:pre"></span>如果没有冒号，就不需要参数。 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <strong><span style="font-size:24px">shift</span></strong> 
</div> 
<div> 
 <span style="font-size:10px">就是左移，假设sh  shift.sh    1   2   3   4   5，第一个参数1会废弃掉，2作为第一个参数，执行两次就左移两次</span> 
</div> 
<div> 
 <strong><span style="font-size:18px"><br> </span></strong> 
</div> 
<div> 
 <strong><span style="font-size:18px">批量创建用户</span></strong> 
</div> 
<div> 
 <span style="font-size:10px">#!/bin/bash</span> 
</div> 
<div> 
 <span style="font-size:10px">for   i   in   `seq   9`</span> 
</div> 
<div> 
 <span style="font-size:10px">do</span> 
</div> 
<div> 
 <span style="font-size:10px"><span style="white-space:pre"></span>id  test${i} &gt; /dev/null  2&gt;/dev/null ||  useradd   test${i}   #id   test${i}   id命令是查看这个用户是否存在，如果这个用户不存在就执行useradd命令</span> 
</div> 
<div> 
 <span style="font-size:10px"><span style="white-space:pre"></span>echo  "passwd{i}"|passwd  test${i}   --stdin      #--stdin：标准输入</span> 
</div> 
<div> 
 <span style="font-size:10px"><span style="white-space:pre"></span>echo  "user:test${i}   pass:$passwd${i}"  &gt;&gt;  user.log  #追加到日志</span> 
</div> 
<div> 
 <span style="font-size:10px">done</span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:18px"><strong>批量创建文件</strong></span> 
</div> 
<div> 
 <span style="font-size:10px">#!/bin/bash</span> 
</div> 
<div> 
 <span style="font-size:10px">for   i    in  `seq   10`</span> 
</div> 
<div> 
 <span style="font-size:10px">do</span> 
</div> 
<div> 
 <span style="font-size:10px"><span style="white-space:pre"></span>touch   file$i</span> 
</div> 
<div> 
 <span style="font-size:10px">done</span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:10px">seq   -w   10    #会打印01  02   .....    10</span> 
</div> 
<div> 
 <span style="font-size:18px"><br> </span> 
</div> 
<div> 
 <span style="font-size:18px"><strong>利用find实现批量删除</strong></span> 
</div> 
<div> 
 <span style="font-size:10px">find  ./   -type   f   -size   0   |    xargs   rm</span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:10px">find  ./   -type  f   -mtime   +1    查1天以前的文件</span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:10px">find  ./   -type   f   -name   "*.tar.gz"   -mtime   +7   |  xargs   rm   删除七天以前的文件</span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:10px"><br> </span> 
</div> 
<div> 
 <span style="font-size:18px"><br> </span> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <br> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6a5088956977e3ac2527096f7fa677a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTML5-网页标栏的下拉菜单</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7f4b2cfe3880c2ca7ce8215a59fcb301/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TensorFlow 完整的TensorFlow入门教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>