<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[Java]JavaWebå­¦ä¹ ç¬”è®°(åŠ¨åŠ›èŠ‚ç‚¹è€æœ2022)ã€Javaweb&#43;MVCæ¶æ„æ¨¡å¼å®Œç»“ã€‘ - èœé¸Ÿç¨‹åºå‘˜åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[Java]JavaWebå­¦ä¹ ç¬”è®°(åŠ¨åŠ›èŠ‚ç‚¹è€æœ2022)ã€Javaweb&#43;MVCæ¶æ„æ¨¡å¼å®Œç»“ã€‘" />
<meta property="og:description" content="æ–‡ç« ç›®å½• ğŸ¥½ è§†é¢‘å¯¹åº”èµ„æ–™ğŸ¥½ TomcatæœåŠ¡å™¨ğŸŒŠ ä¸‹è½½ä¸å®‰è£…ğŸŒŠ å…³äºTomcatæœåŠ¡å™¨çš„ç›®å½•ğŸŒŠ å¯åŠ¨TomcatğŸŒŠ å®ç°ä¸€ä¸ªæœ€åŸºæœ¬çš„webåº”ç”¨ï¼ˆè¿™ä¸ªwebåº”ç”¨ä¸­æ²¡æœ‰javaå°ç¨‹åºï¼‰ ğŸ¥½ é™æ€èµ„æºä¸åŠ¨æ€èµ„æºğŸ¥½ æ¨¡æ‹ŸServletæœ¬è´¨ğŸ¥½ Servletè§„èŒƒğŸ¥½ å¼€å‘ä¸€ä¸ªå¸¦æœ‰Servletï¼ˆJavaå°ç¨‹åºï¼‰çš„webappï¼ˆé‡ç‚¹ï¼‰ğŸ¥½ å…³äºJavaEEçš„ç‰ˆæœ¬ğŸ¥½ è§£å†³TomcatæœåŠ¡å™¨åœ¨DOSå‘½ä»¤çª—å£ä¸­çš„ä¹±ç é—®é¢˜ï¼ˆæ§åˆ¶å°ä¹±ç ï¼‰ğŸ¥½ å‘å®¢æˆ·ç«¯ç›¸åº”å†…å®¹ğŸ¥½ åœ¨Servletä¸­è¿æ¥æ•°æ®åº“ğŸ¥½ åœ¨é›†æˆå¼€å‘ç¯å¢ƒå½“ä¸­å¼€å‘Servletç¨‹åºğŸ¥½ Servletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸğŸ¥½ é€‚é…å™¨è®¾è®¡æ¨¡å¼Adapterå®ç°Servletæ¥å£ğŸ¥½ ServletConfigğŸ¥½ ServletContextğŸ¥½ ç¼“å­˜æœºåˆ¶ğŸ¥½ HTTPåè®®ğŸ¥½ æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ğŸ¥½ HttpServletæºç åˆ†æğŸ¥½ å…³äºä¸€ä¸ªwebç«™ç‚¹çš„æ¬¢è¿é¡µé¢ğŸ¥½ å…³äºWEB-INFç›®å½•ğŸ¥½ HttpServletRequestæ¥å£è¯¦è§£ğŸ¥½ ä½¿ç”¨çº¯Servletåšä¸€ä¸ªå•è¡¨çš„CRUDæ“ä½œğŸ¥½ åœ¨ä¸€ä¸ªwebåº”ç”¨ä¸­åº”è¯¥å¦‚ä½•å®Œæˆèµ„æºçš„è·³è½¬ğŸ¥½ å°†oaé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼ğŸ¥½ Servletæ³¨è§£ï¼Œç®€åŒ–é…ç½®ğŸ¥½ é€šè¿‡åå°„è·å–æ³¨è§£ğŸ¥½ ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®ğŸ¥½ åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·ğŸ¥½ JSPğŸŒŠ æˆ‘çš„ç¬¬ä¸€ä¸ªJSPç¨‹åºğŸŒŠ JSPæ¦‚è¿°ğŸŒŠ JSPçš„åŸºç¡€è¯­æ³•ğŸ’¦ JSPä¸­ç›´æ¥ç¼–å†™æ–‡å­—ğŸ’¦ JSPçš„pageæŒ‡ä»¤ğŸ’¦ JSPä¸­ç¼–å†™javaç¨‹åºğŸ’§ &lt;% javaè¯­å¥; %&gt;ğŸ’§ &lt;%! %&gt;ğŸ’§ JSPçš„è¾“å‡ºè¯­å¥ &lt;%= %&gt; ğŸ’¦ JSPä¸­çš„æ³¨é‡ŠğŸ’¦ JSPåŸºç¡€è¯­æ³•æ€»ç»“ ğŸ¥½ ä½¿ç”¨Servlet &#43; JSPå®Œæˆoaé¡¹ç›®çš„æ”¹é€ ğŸ¥½ oaç³»ç»Ÿå®ç°ç™»å½•åŠŸèƒ½ğŸ¥½ sessionğŸŒŠ webåº”ç”¨çš„sessionæœºåˆ¶ğŸŒŠ sessionçš„å®ç°åŸç† ğŸ¥½ åŸŸå¯¹è±¡ğŸ¥½ sessionæ”¹é€ oaé¡¹ç›®ğŸ¥½ CookieğŸ¥½ cookieå®ç°ä¸€ä¸‹åå¤©å†…å…ç™»å½•åŠŸèƒ½ğŸ¥½ JSPçš„æŒ‡ä»¤ğŸ¥½ JSPçš„ä¹å¤§å†…ç½®å¯¹è±¡ğŸ¥½ ELè¡¨è¾¾å¼ğŸŒŠ ELè¡¨è¾¾å¼æ¦‚è¿°ğŸŒŠ ELè¡¨è¾¾å¼è¯­æ³•ğŸŒŠ ELè¡¨è¾¾å¼çš„ä½¿ç”¨ ğŸ¥½ JSTLæ ‡ç­¾åº“ğŸŒŠ JSTLæ ‡ç­¾åº“æ¦‚è¿°ğŸŒŠ ä½¿ç”¨JSTLæ ‡ç­¾åº“çš„æ­¥éª¤ğŸŒŠ JSTLæ ‡ç­¾çš„åŸç†ğŸŒŠ jstlä¸­çš„æ ¸å¿ƒæ ‡ç­¾åº“coreå½“ä¸­å¸¸ç”¨çš„æ ‡ç­¾ ğŸ¥½ ä½¿ç”¨ELä¸JSTLæ”¹é€ OAé¡¹ç›®ğŸ¥½ Filterè¿‡æ»¤å™¨ğŸ¥½ ä½¿ç”¨è¿‡æ»¤å™¨æ”¹é€ OAé¡¹ç›®ã€‚ğŸ¥½ Listenerç›‘å¬å™¨ğŸ¥½ å®ç°oaé¡¹ç›®ä¸­å½“å‰ç™»å½•åœ¨çº¿çš„äººæ•°ã€‚ğŸ¥½ MVCæ¶æ„æ¨¡å¼ ğŸ¥½ è§†é¢‘å¯¹åº”èµ„æ–™ è§†é¢‘åœ°å€ï¼šåŠ¨åŠ›èŠ‚ç‚¹æœ€æ–°JavaWebè§†é¢‘æ•™ç¨‹,javawebé›¶åŸºç¡€å…¥é—¨åˆ°ç²¾é€šIDEAç‰ˆhttps://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/cfca939efa492b49559c892ea95d5146/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-05T18:53:41+08:00" />
<meta property="article:modified_time" content="2023-02-05T18:53:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èœé¸Ÿç¨‹åºå‘˜åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èœé¸Ÿç¨‹åºå‘˜åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[Java]JavaWebå­¦ä¹ ç¬”è®°(åŠ¨åŠ›èŠ‚ç‚¹è€æœ2022)ã€Javaweb&#43;MVCæ¶æ„æ¨¡å¼å®Œç»“ã€‘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p></p> 
 <div class="toc"> 
  <h4>æ–‡ç« ç›®å½•</h4> 
  <ul><li><a href="#__3" rel="nofollow">ğŸ¥½ è§†é¢‘å¯¹åº”èµ„æ–™</a></li><li><a href="#_Tomcat_8" rel="nofollow">ğŸ¥½ TomcatæœåŠ¡å™¨</a></li><li><ul><li><a href="#__9" rel="nofollow">ğŸŒŠ ä¸‹è½½ä¸å®‰è£…</a></li><li><a href="#_Tomcat_20" rel="nofollow">ğŸŒŠ å…³äºTomcatæœåŠ¡å™¨çš„ç›®å½•</a></li><li><a href="#_Tomcat_29" rel="nofollow">ğŸŒŠ å¯åŠ¨Tomcat</a></li><li><a href="#_webwebjava_60" rel="nofollow">ğŸŒŠ å®ç°ä¸€ä¸ªæœ€åŸºæœ¬çš„webåº”ç”¨ï¼ˆè¿™ä¸ªwebåº”ç”¨ä¸­æ²¡æœ‰javaå°ç¨‹åºï¼‰</a></li></ul> 
   </li><li><a href="#__98" rel="nofollow">ğŸ¥½ é™æ€èµ„æºä¸åŠ¨æ€èµ„æº</a></li><li><a href="#_Servlet_159" rel="nofollow">ğŸ¥½ æ¨¡æ‹ŸServletæœ¬è´¨</a></li><li><a href="#_Servlet_310" rel="nofollow">ğŸ¥½ Servletè§„èŒƒ</a></li><li><a href="#_ServletJavawebapp_322" rel="nofollow">ğŸ¥½ å¼€å‘ä¸€ä¸ªå¸¦æœ‰Servletï¼ˆJavaå°ç¨‹åºï¼‰çš„webappï¼ˆé‡ç‚¹ï¼‰</a></li><li><a href="#_JavaEE_496" rel="nofollow">ğŸ¥½ å…³äºJavaEEçš„ç‰ˆæœ¬</a></li><li><a href="#_TomcatDOS_512" rel="nofollow">ğŸ¥½ è§£å†³TomcatæœåŠ¡å™¨åœ¨DOSå‘½ä»¤çª—å£ä¸­çš„ä¹±ç é—®é¢˜ï¼ˆæ§åˆ¶å°ä¹±ç ï¼‰</a></li><li><a href="#__519" rel="nofollow">ğŸ¥½ å‘å®¢æˆ·ç«¯ç›¸åº”å†…å®¹</a></li><li><a href="#_Servlet_586" rel="nofollow">ğŸ¥½ åœ¨Servletä¸­è¿æ¥æ•°æ®åº“</a></li><li><a href="#_Servlet_727" rel="nofollow">ğŸ¥½ åœ¨é›†æˆå¼€å‘ç¯å¢ƒå½“ä¸­å¼€å‘Servletç¨‹åº</a></li><li><a href="#_Servlet_940" rel="nofollow">ğŸ¥½ Servletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</a></li><li><a href="#_AdapterServlet_1100" rel="nofollow">ğŸ¥½ é€‚é…å™¨è®¾è®¡æ¨¡å¼Adapterå®ç°Servletæ¥å£</a></li><li><a href="#_ServletConfig_1258" rel="nofollow">ğŸ¥½ ServletConfig</a></li><li><a href="#_ServletContext_1401" rel="nofollow">ğŸ¥½ ServletContext</a></li><li><a href="#__1593" rel="nofollow">ğŸ¥½ ç¼“å­˜æœºåˆ¶</a></li><li><a href="#_HTTP_1615" rel="nofollow">ğŸ¥½ HTTPåè®®</a></li><li><a href="#__1829" rel="nofollow">ğŸ¥½ æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</a></li><li><a href="#_HttpServlet_2029" rel="nofollow">ğŸ¥½ HttpServletæºç åˆ†æ</a></li><li><a href="#_web_2237" rel="nofollow">ğŸ¥½ å…³äºä¸€ä¸ªwebç«™ç‚¹çš„æ¬¢è¿é¡µé¢</a></li><li><a href="#_WEBINF_2330" rel="nofollow">ğŸ¥½ å…³äºWEB-INFç›®å½•</a></li><li><a href="#_HttpServletRequest_2336" rel="nofollow">ğŸ¥½ HttpServletRequestæ¥å£è¯¦è§£</a></li><li><a href="#_ServletCRUD_2688" rel="nofollow">ğŸ¥½ ä½¿ç”¨çº¯Servletåšä¸€ä¸ªå•è¡¨çš„CRUDæ“ä½œ</a></li><li><a href="#_web_3590" rel="nofollow">ğŸ¥½ åœ¨ä¸€ä¸ªwebåº”ç”¨ä¸­åº”è¯¥å¦‚ä½•å®Œæˆèµ„æºçš„è·³è½¬</a></li><li><a href="#_oa_3664" rel="nofollow">ğŸ¥½ å°†oaé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼</a></li><li><a href="#_Servlet_3708" rel="nofollow">ğŸ¥½ Servletæ³¨è§£ï¼Œç®€åŒ–é…ç½®</a></li><li><a href="#__3822" rel="nofollow">ğŸ¥½ é€šè¿‡åå°„è·å–æ³¨è§£</a></li><li><a href="#_oa_3849" rel="nofollow">ğŸ¥½ ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®</a></li><li><a href="#_Servletweb_4225" rel="nofollow">ğŸ¥½ åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·</a></li><li><a href="#_JSP_4237" rel="nofollow">ğŸ¥½ JSP</a></li><li><ul><li><a href="#_JSP_4239" rel="nofollow">ğŸŒŠ æˆ‘çš„ç¬¬ä¸€ä¸ªJSPç¨‹åº</a></li><li><a href="#_JSP_4251" rel="nofollow">ğŸŒŠ JSPæ¦‚è¿°</a></li><li><a href="#_JSP_4291" rel="nofollow">ğŸŒŠ JSPçš„åŸºç¡€è¯­æ³•</a></li><li><ul><li><a href="#_JSP_4292" rel="nofollow">ğŸ’¦ JSPä¸­ç›´æ¥ç¼–å†™æ–‡å­—</a></li><li><a href="#_JSPpage_4298" rel="nofollow">ğŸ’¦ JSPçš„pageæŒ‡ä»¤</a></li><li><a href="#_JSPjava_4305" rel="nofollow">ğŸ’¦ JSPä¸­ç¼–å†™javaç¨‹åº</a></li><li><ul><li><a href="#__java__4306" rel="nofollow">ğŸ’§ &lt;% javaè¯­å¥; %&gt;</a></li><li><a href="#___4320" rel="nofollow">ğŸ’§ &lt;%! %&gt;</a></li><li><a href="#_JSP___4324" rel="nofollow">ğŸ’§ JSPçš„è¾“å‡ºè¯­å¥ &lt;%= %&gt;</a></li></ul> 
     </li><li><a href="#_JSP_4343" rel="nofollow">ğŸ’¦ JSPä¸­çš„æ³¨é‡Š</a></li><li><a href="#_JSP_4350" rel="nofollow">ğŸ’¦ JSPåŸºç¡€è¯­æ³•æ€»ç»“</a></li></ul> 
   </li></ul> 
   </li><li><a href="#_Servlet__JSPoa_4364" rel="nofollow">ğŸ¥½ ä½¿ç”¨Servlet + JSPå®Œæˆoaé¡¹ç›®çš„æ”¹é€ </a></li><li><a href="#_oa_4895" rel="nofollow">ğŸ¥½ oaç³»ç»Ÿå®ç°ç™»å½•åŠŸèƒ½</a></li><li><a href="#_session_5004" rel="nofollow">ğŸ¥½ session</a></li><li><ul><li><a href="#_websession_5010" rel="nofollow">ğŸŒŠ webåº”ç”¨çš„sessionæœºåˆ¶</a></li><li><a href="#_session_5045" rel="nofollow">ğŸŒŠ sessionçš„å®ç°åŸç†</a></li></ul> 
   </li><li><a href="#__5087" rel="nofollow">ğŸ¥½ åŸŸå¯¹è±¡</a></li><li><a href="#_sessionoa_5105" rel="nofollow">ğŸ¥½ sessionæ”¹é€ oaé¡¹ç›®</a></li><li><a href="#_Cookie_5233" rel="nofollow">ğŸ¥½ Cookie</a></li><li><a href="#_cookie_5317" rel="nofollow">ğŸ¥½ cookieå®ç°ä¸€ä¸‹åå¤©å†…å…ç™»å½•åŠŸèƒ½</a></li><li><a href="#_JSP_5502" rel="nofollow">ğŸ¥½ JSPçš„æŒ‡ä»¤</a></li><li><a href="#_JSP_5558" rel="nofollow">ğŸ¥½ JSPçš„ä¹å¤§å†…ç½®å¯¹è±¡</a></li><li><a href="#_EL_5577" rel="nofollow">ğŸ¥½ ELè¡¨è¾¾å¼</a></li><li><ul><li><a href="#_EL_5578" rel="nofollow">ğŸŒŠ ELè¡¨è¾¾å¼æ¦‚è¿°</a></li><li><a href="#_EL_5600" rel="nofollow">ğŸŒŠ ELè¡¨è¾¾å¼è¯­æ³•</a></li><li><a href="#_EL_5628" rel="nofollow">ğŸŒŠ ELè¡¨è¾¾å¼çš„ä½¿ç”¨</a></li></ul> 
   </li><li><a href="#_JSTL_6012" rel="nofollow">ğŸ¥½ JSTLæ ‡ç­¾åº“</a></li><li><ul><li><a href="#_JSTL_6013" rel="nofollow">ğŸŒŠ JSTLæ ‡ç­¾åº“æ¦‚è¿°</a></li><li><a href="#_JSTL_6020" rel="nofollow">ğŸŒŠ ä½¿ç”¨JSTLæ ‡ç­¾åº“çš„æ­¥éª¤</a></li><li><a href="#_JSTL_6093" rel="nofollow">ğŸŒŠ JSTLæ ‡ç­¾çš„åŸç†</a></li><li><a href="#_jstlcore_6127" rel="nofollow">ğŸŒŠ jstlä¸­çš„æ ¸å¿ƒæ ‡ç­¾åº“coreå½“ä¸­å¸¸ç”¨çš„æ ‡ç­¾</a></li></ul> 
   </li><li><a href="#_ELJSTLOA_6222" rel="nofollow">ğŸ¥½ ä½¿ç”¨ELä¸JSTLæ”¹é€ OAé¡¹ç›®</a></li><li><a href="#_Filter_6424" rel="nofollow">ğŸ¥½ Filterè¿‡æ»¤å™¨</a></li><li><a href="#_OA_6529" rel="nofollow">ğŸ¥½ ä½¿ç”¨è¿‡æ»¤å™¨æ”¹é€ OAé¡¹ç›®ã€‚</a></li><li><a href="#_Listener_6622" rel="nofollow">ğŸ¥½ Listenerç›‘å¬å™¨</a></li><li><a href="#_oa_6777" rel="nofollow">ğŸ¥½ å®ç°oaé¡¹ç›®ä¸­å½“å‰ç™»å½•åœ¨çº¿çš„äººæ•°ã€‚</a></li><li><a href="#_MVC_6998" rel="nofollow">ğŸ¥½ MVCæ¶æ„æ¨¡å¼</a></li></ul> 
 </div> 
 <p></p> 
</blockquote> 
<hr> 
<h2><a id="__3"></a>ğŸ¥½ è§†é¢‘å¯¹åº”èµ„æ–™</h2> 
<blockquote> 
 <p>è§†é¢‘åœ°å€ï¼šåŠ¨åŠ›èŠ‚ç‚¹æœ€æ–°JavaWebè§†é¢‘æ•™ç¨‹,javawebé›¶åŸºç¡€å…¥é—¨åˆ°ç²¾é€šIDEAç‰ˆ<a href="https://www.bilibili.com/video/BV1Z3411C7NZ?p=1&amp;vd_source=93ab990b9131a1b90943874a5448830a" rel="nofollow">https://www.bilibili.com/video/BV1Z3411C7NZ?p=1&amp;vd_source=93ab990b9131a1b90943874a5448830a</a><br> èµ„æ–™é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1y-Dm0dGjQQOvARFBmGiG1w?pwd=1234" rel="nofollow">https://pan.baidu.com/s/1y-Dm0dGjQQOvARFBmGiG1w?pwd=1234 </a><br> æå–ç ï¼š1234</p> 
</blockquote> 
<h2><a id="_Tomcat_8"></a>ğŸ¥½ TomcatæœåŠ¡å™¨</h2> 
<h3><a id="__9"></a>ğŸŒŠ ä¸‹è½½ä¸å®‰è£…</h3> 
<p><a href="https://tomcat.apache.org/whichversion.html" rel="nofollow">ã€TomcatæœåŠ¡å™¨ç‰ˆæœ¬ä¸æ”¯æŒJavaç‰ˆæœ¬çš„å¯¹åº”å…³ç³»ï¼šhttps://tomcat.apache.org/whichversion.htmlã€‘</a></p> 
<p><img src="https://images2.imgbox.com/e8/99/UNzB4eyH_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><a href="https://tomcat.apache.org/download-10.cgi" rel="nofollow">ã€Tomcatå®˜ç½‘ä¸‹è½½åœ°å€ï¼šhttps://tomcat.apache.org/download-10.cgiã€‘</a></p> 
<p><img src="https://images2.imgbox.com/bd/05/atzQw17Y_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ä¸‹è½½å®Œæˆåï¼Œç›´æ¥é€‰æ‹©åˆé€‚çš„ä½ç½®å°†ä¸‹è½½çš„å‹ç¼©åŒ…è§£å‹å³å¯ï¼Œè§£å‹å°±æ˜¯å®‰è£…ã€‚</p> 
<h3><a id="_Tomcat_20"></a>ğŸŒŠ å…³äºTomcatæœåŠ¡å™¨çš„ç›®å½•</h3> 
<ul><li>bin ï¼š è¿™ä¸ªç›®å½•æ˜¯TomcatæœåŠ¡å™¨çš„å‘½ä»¤æ–‡ä»¶å­˜æ”¾çš„ç›®å½•ï¼Œæ¯”å¦‚ï¼šå¯åŠ¨Tomcatï¼Œå…³é—­Tomcatç­‰ã€‚</li><li>confï¼š è¿™ä¸ªç›®å½•æ˜¯TomcatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•ã€‚ï¼ˆserver.xmlæ–‡ä»¶ä¸­å¯ä»¥é…ç½®ç«¯å£å·ï¼Œé»˜è®¤Tomcatç«¯å£æ˜¯8080ï¼‰</li><li>lib ï¼šè¿™ä¸ªç›®å½•æ˜¯TomcatæœåŠ¡å™¨çš„æ ¸å¿ƒç¨‹åºç›®å½•ï¼Œå› ä¸ºTomcatæœåŠ¡å™¨æ˜¯Javaè¯­è¨€ç¼–å†™çš„ï¼Œè¿™é‡Œçš„jaråŒ…é‡Œé¢éƒ½æ˜¯classæ–‡ä»¶ã€‚</li><li>logs: TomcatæœåŠ¡å™¨çš„æ—¥å¿—ç›®å½•ï¼ŒTomcatæœåŠ¡å™¨å¯åŠ¨ç­‰ä¿¡æ¯éƒ½ä¼šåœ¨è¿™ä¸ªç›®å½•ä¸‹ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ã€‚</li><li>tempï¼šTomcatæœåŠ¡å™¨çš„ä¸´æ—¶ç›®å½•ã€‚å­˜å‚¨ä¸´æ—¶æ–‡ä»¶ã€‚</li><li>webappsï¼šè¿™ä¸ªç›®å½•å½“ä¸­å°±æ˜¯ç”¨æ¥å­˜æ”¾å¤§é‡çš„webappï¼ˆweb applicationï¼šwebåº”ç”¨ï¼‰</li><li>workï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾JSPæ–‡ä»¶ç¿»è¯‘ä¹‹åçš„javaæ–‡ä»¶ä»¥åŠç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶ã€‚</li></ul> 
<h3><a id="_Tomcat_29"></a>ğŸŒŠ å¯åŠ¨Tomcat</h3> 
<ul><li>binç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼š<code>startup.bat</code>ï¼Œé€šè¿‡å®ƒå¯ä»¥å¯åŠ¨TomcatæœåŠ¡å™¨ã€‚ 
  <ul><li>xxx.batæ–‡ä»¶æ˜¯ä¸ªä»€ä¹ˆæ–‡ä»¶ï¼Ÿbatæ–‡ä»¶æ˜¯windowsæ“ä½œç³»ç»Ÿä¸“ç”¨çš„ï¼Œbatæ–‡ä»¶æ˜¯æ‰¹å¤„ç†æ–‡ä»¶ï¼Œè¿™ç§æ–‡ä»¶ä¸­å¯ä»¥ç¼–å†™å¤§é‡çš„windowsçš„doså‘½ä»¤ï¼Œç„¶åæ‰§è¡Œbatæ–‡ä»¶å°±ç›¸å½“äºæ‰¹é‡çš„æ‰§è¡Œdoså‘½ä»¤ã€‚</li><li>startup.shï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨windowså½“ä¸­æ— æ³•æ‰§è¡Œï¼Œåœ¨Linuxç¯å¢ƒå½“ä¸­å¯ä»¥ä½¿ç”¨ã€‚åœ¨Linuxç¯å¢ƒä¸‹èƒ½å¤Ÿæ‰§è¡Œçš„æ˜¯shellå‘½ä»¤ï¼Œå¤§é‡çš„shellå‘½ä»¤ç¼–å†™åœ¨shellæ–‡ä»¶å½“ä¸­ï¼Œç„¶åæ‰§è¡Œè¿™ä¸ªshellæ–‡ä»¶å¯ä»¥æ‰¹é‡çš„æ‰§è¡Œshellå‘½ä»¤ã€‚</li><li>tomcatæœåŠ¡å™¨æä¾›äº†batå’Œshæ–‡ä»¶ï¼Œè¯´æ˜äº†è¿™ä¸ªtomcatæœåŠ¡å™¨çš„é€šç”¨æ€§ã€‚</li><li>åˆ†æstartup.batæ–‡ä»¶å¾—å‡ºï¼Œæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œå®é™…ä¸Šæœ€åæ˜¯æ‰§è¡Œï¼šcatalina.batæ–‡ä»¶ã€‚<br> <img src="https://images2.imgbox.com/16/73/vADYUDfo_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>catalina.batæ–‡ä»¶ä¸­æœ‰è¿™æ ·ä¸€è¡Œé…ç½®ï¼šMAINCLASS=org.apache.catalina.startup.Bootstrap ï¼ˆè¿™ä¸ªç±»å°±æ˜¯mainæ–¹æ³•æ‰€åœ¨çš„ç±»ã€‚ï¼‰<br> <img src="https://images2.imgbox.com/3e/42/73wLXelz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>tomcatæœåŠ¡å™¨å°±æ˜¯Javaè¯­è¨€å†™çš„ï¼Œæ—¢ç„¶æ˜¯javaè¯­è¨€å†™çš„ï¼Œé‚£ä¹ˆå¯åŠ¨TomcatæœåŠ¡å™¨å°±æ˜¯æ‰§è¡Œmainæ–¹æ³•ã€‚</li></ul> </li><li>æˆ‘ä»¬å°è¯•æ‰“å¼€doså‘½ä»¤çª—å£ï¼Œåœ¨doså‘½ä»¤çª—å£ä¸­è¾“å…¥startup.batæ¥å¯åŠ¨tomcatæœåŠ¡å™¨ã€‚</li><li>å¯åŠ¨TomcatæœåŠ¡å™¨åªé…ç½®pathå¯¹åº”çš„binç›®å½•æ˜¯ä¸è¡Œçš„ã€‚æœ‰ä¸¤ä¸ªç¯å¢ƒå˜é‡éœ€è¦é…ç½®ï¼š 
  <ul><li><code>JAVA_HOME=JDKçš„æ ¹</code>ï¼Œåœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥æ‰¾åˆ°Javaè¿è¡ŒJavaç¨‹åº</li><li><code>CATALINA_HOME=TomcatæœåŠ¡å™¨çš„æ ¹</code>ï¼Œåœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥æ‰¾åˆ°Tomcatè¿è¡ŒTomcatæœåŠ¡å™¨<br> <img src="https://images2.imgbox.com/e8/0a/P417b9cS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>é…ç½®TomcatæœåŠ¡å™¨éœ€è¦å“ªäº›ç¯å¢ƒå˜é‡ï¼Ÿ 
  <ul><li><code>JAVA_HOME=JDKçš„æ ¹</code></li><li><code>CATALINA_HOME=TomcatæœåŠ¡å™¨çš„æ ¹</code></li><li><code>PATH=%JAVA_HOME%\bin</code>ï¼›<code>%CATALINA_HOME%\bin</code>ï¼Œåœ¨ä»»ä½•ä½ç½®å¯ä»¥æ‰¾åˆ°ç›¸åº”çš„å¯æ‰§è¡Œæ–‡ä»¶<br> <img src="https://images2.imgbox.com/86/52/D7nDp4Tn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>å¯åŠ¨Tomcatï¼š startup<br> <img src="https://images2.imgbox.com/05/c3/y0RCyREI_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>å…³é—­Tomcatï¼šstop ï¼ˆshutdown.batæ–‡ä»¶é‡å‘½åä¸ºstop.batï¼Œä¸ºä»€ä¹ˆï¼ŸåŸå› æ˜¯shutdownå‘½ä»¤å’Œwindowsä¸­çš„å…³æœºå‘½ä»¤å†²çªã€‚æ‰€ä»¥ä¿®æ”¹ä¸€ä¸‹ã€‚ï¼‰<br> <img src="https://images2.imgbox.com/45/d3/pf9FfN1E_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>æ€ä¹ˆæµ‹è¯•TomcatæœåŠ¡å™¨æœ‰æ²¡æœ‰å¯åŠ¨æˆåŠŸå‘¢ï¼Ÿ 
  <ul><li>æ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸Šè¾“å…¥URLå³å¯ï¼š 
    <ul><li>http://ipåœ°å€:ç«¯å£å·</li><li>ipåœ°å€æ˜¯ä»€ä¹ˆï¼Ÿç«¯å£å·çŸ¥é“ï¼Œæ˜¯8080</li><li>æœ¬æœºçš„IPåœ°å€æ˜¯ï¼š127.0.0.1ï¼Œæˆ–è€…æ˜¯localhostï¼Œéƒ½è¡Œã€‚</li></ul> </li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/33/0a/1jWyKfYa_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="_webwebjava_60"></a>ğŸŒŠ å®ç°ä¸€ä¸ªæœ€åŸºæœ¬çš„webåº”ç”¨ï¼ˆè¿™ä¸ªwebåº”ç”¨ä¸­æ²¡æœ‰javaå°ç¨‹åºï¼‰</h3> 
<ul><li>ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°CATALINA_HOME\webappsç›®å½• 
  <ul><li>å› ä¸ºæ‰€æœ‰çš„webappè¦æ”¾åˆ°webappsç›®å½•ä¸‹ã€‚ï¼ˆæ²¡æœ‰ä¸ºä»€ä¹ˆï¼Œè¿™æ˜¯TomcatæœåŠ¡å™¨çš„è¦æ±‚ã€‚å¦‚æœä¸æ”¾åˆ°è¿™é‡Œï¼ŒTomcatæœåŠ¡å™¨æ‰¾ä¸åˆ°ä½ çš„åº”ç”¨ã€‚ï¼‰</li></ul> </li><li>ç¬¬äºŒæ­¥ï¼šåœ¨CATALINA_HOME\webappsç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªå­ç›®å½•ï¼Œèµ·åï¼šoa 
  <ul><li>è¿™ä¸ªç›®å½•åoaå°±æ˜¯ä½ è¿™ä¸ªwebappçš„åå­—ã€‚<br> <img src="https://images2.imgbox.com/28/48/Onvt8Tqr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>ç¬¬ä¸‰æ­¥ï¼šåœ¨oaç›®å½•ä¸‹æ–°å»ºèµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šindex.html 
  <ul><li>ç¼–å†™index.htmlæ–‡ä»¶çš„å†…å®¹ã€‚<br> <img src="https://images2.imgbox.com/e9/b5/UaDodGlq_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello World<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>ç¬¬å››æ­¥ï¼šå¯åŠ¨TomcatæœåŠ¡å™¨<br> <img src="https://images2.imgbox.com/fa/8c/sBNzS9Pr_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>ç¬¬äº”æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šè¾“å…¥è¿™æ ·çš„URLï¼š<code>http://ipåœ°å€:ç«¯å£å·/webappå/èµ„æºæ–‡ä»¶å</code> <code>http://127.0.0.1:8080/oa/index.html</code><br> <img src="https://images2.imgbox.com/71/65/4l6bM10b_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š 
  <ul><li> <p>æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šç›´æ¥è¾“å…¥ä¸€ä¸ªURLï¼Œç„¶åå›è½¦ã€‚è¿™ä¸ªåŠ¨ä½œå’Œè¶…é“¾æ¥ä¸€æ ·å—ï¼Ÿæ—¢ç„¶æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨è¶…é“¾æ¥ã€‚</p> <pre><code class="prism language-html"><span class="token comment">&lt;!--æ³¨æ„ä»¥ä¸‹çš„è·¯å¾„ï¼Œä»¥/å¼€å§‹ï¼Œå¸¦é¡¹ç›®åï¼Œæ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚ä¸éœ€è¦æ·»åŠ ï¼šhttp://127.0.0.1:8080ï¼Œå³ / è¡¨ç¤ºhttp://127.0.0.1:8080--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/oa/login.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>user login2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--å¤šä¸ªå±‚çº§ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæ­£å¸¸è®¿é—®å³å¯ã€‚--&gt;</span>
<span class="token comment">&lt;!--æ³¨æ„ï¼šæˆ‘ä»¬ç›®å‰å‰ç«¯ä¸Šçš„è·¯å¾„éƒ½ä»¥â€œ/â€å¼€å§‹çš„ï¼Œéƒ½æ˜¯åŠ é¡¹ç›®åçš„--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/oa/test/debug/d.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>d page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li></ul> 
<h2><a id="__98"></a>ğŸ¥½ é™æ€èµ„æºä¸åŠ¨æ€èµ„æº</h2> 
<ul><li>http://127.0.0.1:8080/oa/userList.html<br> <img src="https://images2.imgbox.com/77/f8/jihWP92M_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> 
  <ul><li>è®¿é—®è¿™ä¸ªåœ°å€ï¼Œå¯ä»¥å±•ç¤ºä¸€ä¸ªç”¨æˆ·åˆ—è¡¨é¡µé¢ã€‚ä½†æ˜¯è¿™ä¸ªç”¨æˆ·åˆ—è¡¨é¡µé¢æ˜¯å†™æ­»åœ¨HTMLæ–‡ä»¶å½“ä¸­çš„ã€‚è¿™ç§èµ„æºæˆ‘ä»¬ç§°ä¸ºé™æ€èµ„æºã€‚æ€ä¹ˆèƒ½å˜æˆåŠ¨æ€èµ„æºã€‚æ˜¾ç„¶éœ€è¦è¿æ¥æ•°æ®åº“ã€‚</li><li>è¿æ¥æ•°æ®åº“éœ€è¦JDBCç¨‹åºï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦ç¼–å†™Javaç¨‹åºè¿æ¥æ•°æ®åº“ï¼Œæ•°æ®åº“ä¸­æœ‰å¤šå°‘æ¡è®°å½•ï¼Œé¡µé¢ä¸Šå°±æ˜¾ç¤ºå¤šå°‘æ¡è®°å½•ï¼Œè¿™ç§æŠ€æœ¯è¢«ç§°ä¸ºåŠ¨æ€ç½‘é¡µæŠ€æœ¯ã€‚ï¼ˆåŠ¨æ€ç½‘é¡µæŠ€æœ¯å¹¶ä¸æ˜¯è¯´é¡µé¢ä¸­æœ‰flashåŠ¨ç”»ã€‚åŠ¨æ€ç½‘é¡µæŠ€æœ¯æ˜¯è¯´é¡µé¢ä¸­çš„æ•°æ®æ˜¯åŠ¨æ€çš„ï¼Œæ ¹æ®æ•°æ®åº“ä¸­æ•°æ®çš„å˜åŒ–è€Œå˜åŒ–ã€‚ï¼‰<br> <img src="https://images2.imgbox.com/51/1c/5gxFhdZ4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>no<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Tom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Michile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Jane<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Marry<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>Jack<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>å¯¹äºä¸€ä¸ªåŠ¨æ€çš„webåº”ç”¨æ¥è¯´ï¼Œä¸€ä¸ªè¯·æ±‚å’Œå“åº”çš„è¿‡ç¨‹æœ‰å¤šå°‘ä¸ªè§’è‰²å‚ä¸ï¼Œè§’è‰²å’Œè§’è‰²ä¹‹é—´æœ‰å¤šå°‘ä¸ªåè®®<br> <img src="https://images2.imgbox.com/f5/00/ciiM1SoF_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> 
  <ul><li>æœ‰å“ªäº›è§’è‰²ï¼ˆåœ¨æ•´ä¸ªBSç»“æ„çš„ç³»ç»Ÿå½“ä¸­ï¼Œæœ‰å“ªäº›äººå‚ä¸è¿›å»äº†ï¼‰ 
    <ul><li>æµè§ˆå™¨è½¯ä»¶çš„å¼€å‘å›¢é˜Ÿï¼ˆæµè§ˆå™¨è½¯ä»¶å¤ªå¤šäº†ï¼šè°·æ­Œæµè§ˆå™¨ã€ç«ç‹æµè§ˆå™¨ã€IEæµè§ˆå™¨â€¦ï¼‰</li><li>WEB Serverçš„å¼€å‘å›¢é˜Ÿï¼ˆWEB Serverè¿™ä¸ªè½¯ä»¶ä¹Ÿæ˜¯å¤ªå¤šäº†ï¼šTomcatã€Jettyã€WebLogicã€JBOSSã€WebSphereâ€¦ï¼‰</li><li>DB Serverçš„å¼€å‘å›¢é˜Ÿï¼ˆDB Serverè¿™ä¸ªè½¯ä»¶ä¹Ÿæ˜¯å¤ªå¤šäº†ï¼šOracleã€MySQLâ€¦ï¼‰</li><li>webappçš„å¼€å‘å›¢é˜Ÿï¼ˆWEBåº”ç”¨æ˜¯æˆ‘ä»¬åšä¸ºJavaWEBç¨‹åºå‘˜å¼€å‘çš„ï¼‰</li></ul> </li><li>è§’è‰²å’Œè§’è‰²ä¹‹é—´éœ€è¦éµå®ˆå“ªäº›è§„èŒƒï¼Œå“ªäº›åè®® 
    <ul><li>webappçš„å¼€å‘å›¢é˜Ÿ å’Œ WEB Serverçš„å¼€å‘å›¢é˜Ÿ ä¹‹é—´æœ‰ä¸€å¥—è§„èŒƒ: JavaEEè§„èŒƒä¹‹ä¸€Servletè§„èŒƒã€‚ 
      <ul><li>Servletè§„èŒƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 
        <ul><li>WEB Server å’Œ webappè§£è€¦åˆã€‚</li></ul> </li></ul> </li><li>Browser å’Œ WebServerä¹‹é—´æœ‰ä¸€å¥—ä¼ è¾“åè®®ï¼šHTTPåè®®ã€‚ï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚ï¼‰</li><li>webappå¼€å‘å›¢é˜Ÿ å’Œ DB Serverçš„å¼€å‘å›¢é˜Ÿä¹‹é—´æœ‰ä¸€å¥—è§„èŒƒï¼šJDBCè§„èŒƒã€‚<br> <img src="https://images2.imgbox.com/59/76/pSldaFRX_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> </li></ul> 
<h2><a id="_Servlet_159"></a>ğŸ¥½ æ¨¡æ‹ŸServletæœ¬è´¨</h2> 
<ul><li> <p>å……å½“SUNå…¬å¸çš„è§’è‰²ï¼Œåˆ¶å®šServletè§„èŒƒï¼Œjavax.servlet.Servletæ¥å£ï¼ŒWebappçš„å¼€å‘è€…ç¼–å†™çš„Servletç±»éƒ½è¦å®ç°è¯¥æ¥å£</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token comment">/*
	æˆ‘ä»¬ç°åœ¨å……å½“çš„è§’è‰²æ—¶SUNå…¬å¸
	SUNå…¬å¸æŠŠServletæ¥å£/è§„èŒƒåˆ¶å®šå‡ºæ¥
*/</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>

	<span class="token comment">// ä¸€ä¸ªä¸“é—¨æä¾›æœåŠ¡çš„æ–¹æ³•</span>
	<span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>å……å½“TomcatæœåŠ¡å™¨çš„å¼€å‘è€…</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>apache</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Properties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileReader</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>

<span class="token comment">// å……å½“TomcatæœåŠ¡å™¨çš„å¼€å‘è€…</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tomcat</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"TomcatæœåŠ¡å™¨å¯åŠ¨æˆåŠŸï¼Œå¼€å§‹æ¥æ”¶ç”¨æˆ·çš„è®¿é—®ã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// ç®€å•çš„ä½¿ç”¨Scanneræ¥æ¨¡æ‹Ÿä¸€ä¸‹ç”¨æˆ·çš„è¯·æ±‚</span>
		<span class="token comment">// ç”¨æˆ·è®¿é—®æœåŠ¡å™¨æ˜¯é€šè¿‡æµè§ˆå™¨ä¸Šçš„â€œè¯·æ±‚è·¯å¾„â€</span>
		<span class="token comment">// ä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·è¯·æ±‚è·¯å¾„ä¸åŒï¼Œåå°æ‰§è¡Œçš„Servletä¸åŒã€‚</span>
		<span class="token comment">/*
			/userList    UserListServlet
			/login		 UserLoginServlet
			/bank		 BankServlet
			......
		*/</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥æ‚¨çš„è®¿é—®è·¯å¾„ï¼š"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Scanner</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// ç”¨æˆ·çš„è¯·æ±‚è·¯å¾„  /bbbb</span>
		<span class="token class-name">String</span> key <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TomcatæœåŠ¡å™¨å·²ç»è·å–åˆ°äº†ç”¨æˆ·çš„è¯·æ±‚è·¯å¾„äº†ã€‚</span>

		<span class="token comment">// TomcatæœåŠ¡å™¨åº”è¯¥é€šè¿‡ç”¨æˆ·çš„è¯·æ±‚è·¯å¾„æ‰¾å¯¹åº”çš„XXXServlet</span>
		<span class="token comment">// è¯·æ±‚è·¯å¾„å’ŒXXXServletä¹‹é—´çš„å…³ç³»åº”è¯¥ç”±è°æŒ‡å®šå‘¢ï¼Ÿ</span>
		<span class="token comment">// å¯¹äºTomcatæœåŠ¡å™¨æ¥è¯´éœ€è¦è§£æé…ç½®æ–‡ä»¶</span>
		<span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"web.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
		reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// é€šè¿‡keyè·å–value</span>
		<span class="token class-name">String</span> className <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡</span>
		<span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Object</span> obj <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// objçš„ç±»å‹å¯¹äºTomcatæœåŠ¡å™¨å¼€å‘äººå‘˜æ¥è¯´ä¸çŸ¥é“ã€‚</span>
		
		<span class="token comment">// ä½†æ˜¯TomcatæœåŠ¡å™¨çš„å¼€å‘è€…çŸ¥é“ï¼Œä½ å†™çš„XXXXServletä¸€å®šå®ç°äº†Servletæ¥å£</span>
		<span class="token class-name">Servlet</span> servlet <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Servlet</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
		servlet<span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>å……å½“Webappçš„å¼€å‘è€…</p> 
  <ul><li> <p>BankServlet implements Servlet</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>

<span class="token comment">// å……å½“çš„è§’è‰²å‘ç”Ÿäº†æ”¹å˜:webappå¼€å‘è€…</span>
<span class="token comment">// åªè¦æ˜¯æˆ‘ä»¬webappå¼€å‘è€…å†™çš„XXXServletéƒ½è¦å®ç°Servletæ¥å£</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BankServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"BankServlet's service..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>UserListServlet implements Servlet</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>

<span class="token comment">// å……å½“çš„è§’è‰²å‘ç”Ÿäº†æ”¹å˜:webappå¼€å‘è€…</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserListServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"UserListServlet's service..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>UserLoginServlet implements Servlet</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>

<span class="token comment">// å……å½“çš„è§’è‰²å‘ç”Ÿäº†æ”¹å˜:webappå¼€å‘è€…</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserLoginServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"UserLoginServlet's service..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œè¯·æ±‚èµ„æºè·¯å¾„å’Œç›¸åº”Servletç±»çš„å¯¹åº”å…³ç³»æœ‰é…ç½®æ–‡ä»¶ç»™å‡º</p> <pre><code class="prism language-java"><span class="token operator">/</span>aaaa<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>UserListServlet</span>
<span class="token operator">/</span>bbbb<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>UserLoginServlet</span>
<span class="token operator">/</span>cccc<span class="token operator">=</span><span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>BankServlet</span>
</code></pre> </li></ul> </li><li> <p>é€šè¿‡åˆ†æï¼Œå¯¹äºæˆ‘ä»¬javawebç¨‹åºå‘˜æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦åšä¸¤ä»¶äº‹ï¼Œ(1)ç¼–å†™ä¸€ä¸ªç±»å®ç°Servletæ¥å£ï¼›(2)å°†ç¼–å†™çš„ç±»é…ç½®åˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­ï¼šæŒ‡å®š è¯·æ±‚è·¯å¾„ å’Œ ç±»å çš„å…³ç³»ã€‚</p> </li><li> <p>æ³¨æ„ï¼š</p> 
  <ul><li> <p>è¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ–‡ä»¶åä¸èƒ½ä¹±æ¥ã€‚å›ºå®šçš„ã€‚</p> </li><li> <p>è¿™ä¸ªé…ç½®æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ä¸èƒ½ä¹±æ¥ã€‚å›ºå®šçš„ã€‚</p> </li><li> <p>æ–‡ä»¶åã€æ–‡ä»¶è·¯å¾„éƒ½æ˜¯SUNå…¬å¸åˆ¶å®šçš„Servletè§„èŒƒä¸­çš„æ˜ç»†ã€‚</p> <pre><code class="prism language-java"><span class="token comment">// ä»è¯¥æ®µä»£ç å¯ä»¥çœ‹å‡º</span>
<span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"web.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ul> </li><li> <p>ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´Servletå…¶å®å¹¶ä¸æ˜¯ç®€å•çš„ä¸€ä¸ªæ¥å£ï¼š</p> 
  <ul><li>Servletè§„èŒƒä¸­è§„å®šäº†ï¼š 
    <ul><li>ä¸€ä¸ªåˆæ ¼çš„webappåº”è¯¥æ˜¯ä¸€ä¸ªæ€æ ·çš„ç›®å½•ç»“æ„ã€‚</li><li>ä¸€ä¸ªåˆæ ¼çš„webappåº”è¯¥æœ‰ä¸€ä¸ªæ€æ ·çš„é…ç½®æ–‡ä»¶ã€‚</li><li>ä¸€ä¸ªåˆæ ¼çš„webappé…ç½®æ–‡ä»¶è·¯å¾„æ”¾åœ¨å“ªé‡Œã€‚</li><li>ä¸€ä¸ªåˆæ ¼çš„webappä¸­javaç¨‹åºæ”¾åœ¨å“ªé‡Œã€‚</li><li>è¿™äº›éƒ½æ˜¯Servletè§„èŒƒä¸­è§„å®šçš„ã€‚</li></ul> </li></ul> </li><li> <p>TomcatæœåŠ¡å™¨è¦éµå¾ªServletè§„èŒƒã€‚JavaWEBç¨‹åºå‘˜ä¹Ÿè¦éµå¾ªè¿™ä¸ªServletè§„èŒƒã€‚è¿™æ ·TomcatæœåŠ¡å™¨å’Œwebappæ‰èƒ½è§£è€¦åˆã€‚</p> </li></ul> 
<h2><a id="_Servlet_310"></a>ğŸ¥½ Servletè§„èŒƒ</h2> 
<ul><li>éµå¾ªServletè§„èŒƒçš„webappï¼Œè¿™ä¸ªwebappå°±å¯ä»¥æ”¾åœ¨ä¸åŒçš„WEBæœåŠ¡å™¨ä¸­è¿è¡Œã€‚ï¼ˆå› ä¸ºè¿™ä¸ªwebappæ˜¯éµå¾ªServletè§„èŒƒçš„ã€‚ï¼‰</li><li>Servletè§„èŒƒåŒ…æ‹¬ä»€ä¹ˆå‘¢ï¼Ÿ 
  <ul><li>è§„èŒƒäº†å“ªäº›æ¥å£</li><li>è§„èŒƒäº†å“ªäº›ç±»</li><li>è§„èŒƒäº†ä¸€ä¸ªwebåº”ç”¨ä¸­åº”è¯¥æœ‰å“ªäº›é…ç½®æ–‡ä»¶</li><li>è§„èŒƒäº†ä¸€ä¸ªwebåº”ç”¨ä¸­é…ç½®æ–‡ä»¶çš„åå­—</li><li>è§„èŒƒäº†ä¸€ä¸ªwebåº”ç”¨ä¸­é…ç½®æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„</li><li>è§„èŒƒäº†ä¸€ä¸ªwebåº”ç”¨ä¸­é…ç½®æ–‡ä»¶çš„å†…å®¹</li><li>è§„èŒƒäº†ä¸€ä¸ªåˆæ³•æœ‰æ•ˆçš„webåº”ç”¨å®ƒçš„ç›®å½•ç»“æ„åº”è¯¥æ˜¯æ€æ ·çš„ã€‚</li><li>â€¦</li></ul> </li></ul> 
<h2><a id="_ServletJavawebapp_322"></a>ğŸ¥½ å¼€å‘ä¸€ä¸ªå¸¦æœ‰Servletï¼ˆJavaå°ç¨‹åºï¼‰çš„webappï¼ˆé‡ç‚¹ï¼‰</h2> 
<ul><li>å¼€å‘æ­¥éª¤æ˜¯æ€æ ·çš„ï¼Ÿ 
  <ul><li> <p>ç¬¬ä¸€æ­¥ï¼šåœ¨webappsç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œèµ·åcrmï¼ˆè¿™ä¸ªcrmå°±æ˜¯webappçš„åå­—ï¼‰ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶å®ƒé¡¹ç›®ï¼Œæ¯”å¦‚é“¶è¡Œé¡¹ç›®ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç›®å½•bankï¼ŒåŠå…¬ç³»ç»Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªoaã€‚</p> 
    <ul><li>æ³¨æ„ï¼šcrmå°±æ˜¯è¿™ä¸ªwebappçš„æ ¹<br> <img src="https://images2.imgbox.com/32/85/W5ILCxhU_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>ç¬¬äºŒæ­¥ï¼šåœ¨webappçš„æ ¹ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼šWEB-INF</p> 
    <ul><li>æ³¨æ„ï¼šè¿™ä¸ªç›®å½•çš„åå­—æ˜¯Servletè§„èŒƒä¸­è§„å®šçš„ï¼Œå¿…é¡»å…¨éƒ¨å¤§å†™ï¼Œå¿…é¡»ä¸€æ¨¡ä¸€æ ·ã€‚å¿…é¡»çš„å¿…é¡»ã€‚<br> <img src="https://images2.imgbox.com/81/fb/c1GtvMsl_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>ç¬¬ä¸‰æ­¥ï¼šåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼šclasses</p> 
    <ul><li>æ³¨æ„ï¼šè¿™ä¸ªç›®å½•çš„åå­—å¿…é¡»æ˜¯å…¨éƒ¨å°å†™çš„classesã€‚è¿™ä¹Ÿæ˜¯Servletè§„èŒƒä¸­è§„å®šçš„ã€‚å¦å¤–è¿™ä¸ªç›®å½•ä¸‹ä¸€å®šå­˜æ”¾çš„æ˜¯Javaç¨‹åºç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶ï¼ˆè¿™é‡Œå­˜æ”¾çš„æ˜¯å­—èŠ‚ç æ–‡ä»¶ï¼‰ã€‚<br> <img src="https://images2.imgbox.com/26/c4/6G9hlJF1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>ç¬¬å››æ­¥ï¼šåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼šlib</p> 
    <ul><li>æ³¨æ„ï¼šè¿™ä¸ªç›®å½•ä¸æ˜¯å¿…é¡»çš„ã€‚ä½†å¦‚æœä¸€ä¸ªwebappéœ€è¦ç¬¬ä¸‰æ–¹çš„jaråŒ…çš„è¯ï¼Œè¿™ä¸ªjaråŒ…è¦æ”¾åˆ°è¿™ä¸ªlibç›®å½•ä¸‹ï¼Œè¿™ä¸ªç›®å½•çš„åå­—ä¹Ÿä¸èƒ½éšæ„ç¼–å†™ï¼Œå¿…é¡»æ˜¯å…¨éƒ¨å°å†™çš„libã€‚ä¾‹å¦‚javaè¯­è¨€è¿æ¥æ•°æ®åº“éœ€è¦æ•°æ®åº“çš„é©±åŠ¨jaråŒ…ã€‚é‚£ä¹ˆè¿™ä¸ªjaråŒ…å°±ä¸€å®šè¦æ”¾åˆ°libç›®å½•ä¸‹ã€‚è¿™Servletè§„èŒƒä¸­è§„å®šçš„ã€‚<br> <img src="https://images2.imgbox.com/8e/fe/7FZme5wS_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>ç¬¬äº”æ­¥ï¼šåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼šweb.xml</p> 
    <ul><li>æ³¨æ„ï¼šè¿™ä¸ªæ–‡ä»¶æ˜¯å¿…é¡»çš„ï¼Œè¿™ä¸ªæ–‡ä»¶åå¿…é¡»å«åšweb.xmlã€‚è¿™ä¸ªæ–‡ä»¶å¿…é¡»æ”¾åœ¨è¿™é‡Œã€‚ä¸€ä¸ªåˆæ³•çš„webappï¼Œweb.xmlæ–‡ä»¶æ˜¯å¿…é¡»çš„ï¼Œè¿™ä¸ªweb.xmlæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­æè¿°äº†è¯·æ±‚è·¯å¾„å’ŒServletç±»ä¹‹é—´çš„å¯¹ç…§å…³ç³»ã€‚<br> <img src="https://images2.imgbox.com/b2/cd/gMtFObyE_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>è¿™ä¸ªæ–‡ä»¶æœ€å¥½ä»å…¶ä»–çš„webappä¸­æ‹·è´ï¼Œæœ€å¥½åˆ«æ‰‹å†™ã€‚æ²¡å¿…è¦ã€‚å¤åˆ¶ç²˜è´´</li><li> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee
                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd<span class="token punctuation">"</span></span>
  <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0<span class="token punctuation">"</span></span>
  <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>

</code></pre> </li></ul> <p><img src="https://images2.imgbox.com/de/3e/Z4zcXdW5_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>ç¬¬å…­æ­¥ï¼šç¼–å†™ä¸€ä¸ªJavaç¨‹åºï¼Œè¿™ä¸ªå°Javaç¨‹åºä¹Ÿä¸èƒ½éšæ„å¼€å‘ï¼Œè¿™ä¸ªå°javaç¨‹åºå¿…é¡»å®ç°Servletæ¥å£ã€‚</p> 
    <ul><li>è¿™ä¸ªServletæ¥å£ä¸åœ¨JDKå½“ä¸­ã€‚ï¼ˆå› ä¸ºServletä¸æ˜¯JavaSEäº†ã€‚Servletå±äºJavaEEï¼Œæ˜¯å¦å¤–çš„ä¸€å¥—ç±»åº“ã€‚ï¼‰</li><li>Servletæ¥å£ï¼ˆServlet.classæ–‡ä»¶ï¼‰æ˜¯Oracleæä¾›çš„ã€‚ï¼ˆæœ€åŸå§‹çš„æ˜¯sunå…¬å¸æä¾›çš„ã€‚ï¼‰</li><li>Servletæ¥å£æ˜¯JavaEEçš„è§„èŒƒä¸­çš„ä¸€å‘˜ã€‚</li><li>TomcatæœåŠ¡å™¨å®ç°äº†Servletè§„èŒƒï¼Œæ‰€ä»¥TomcatæœåŠ¡å™¨ä¹Ÿéœ€è¦ä½¿ç”¨Servletæ¥å£ã€‚TomcatæœåŠ¡å™¨ä¸­åº”è¯¥æœ‰è¿™ä¸ªæ¥å£ï¼ŒTomcatæœåŠ¡å™¨çš„CATALINA_HOME\libç›®å½•ä¸‹æœ‰ä¸€ä¸ªservlet-api.jarï¼Œè§£å‹è¿™ä¸ªservlet-api.jarä¹‹åï¼Œä½ ä¼šçœ‹åˆ°é‡Œé¢æœ‰ä¸€ä¸ªServlet.classæ–‡ä»¶ã€‚<br> <img src="https://images2.imgbox.com/a1/05/zmyG2e3R_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/76/1d/CA6Oatd5_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>é‡ç‚¹ï¼šä»JakartaEE9å¼€å§‹ï¼ŒServletæ¥å£çš„å…¨åå˜äº†ï¼šjakarta.servlet.Servlet</li><li>æ³¨æ„ï¼šç¼–å†™è¿™ä¸ªJavaå°ç¨‹åºçš„æ—¶å€™ï¼Œjavaæºä»£ç ä½ æ„¿æ„åœ¨å“ªé‡Œå°±åœ¨å“ªé‡Œï¼Œä½ç½®æ— æ‰€è°“ï¼Œä½ <mark>åªéœ€è¦å°†javaæºä»£ç ç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶æ”¾åˆ°classesç›®å½•ä¸‹å³å¯</mark>ã€‚</li></ul> </li><li> <p>ç¬¬ä¸ƒæ­¥ï¼šç¼–è¯‘æˆ‘ä»¬ç¼–å†™çš„HelloServlet</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨Tomcat9ä»¥åŠTomcat9ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ä½¿ç”¨javax.servletè¿™ä¸ªåŒ…</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>

	<span class="token comment">// 5ä¸ªæ–¹æ³•</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
		<span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span>

		<span class="token comment">// å‘æ§åˆ¶å°æ‰“å°è¾“å‡º</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"My First Servlet, Hello Servlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
    <ul><li>é‡ç‚¹ï¼šä½ æ€ä¹ˆèƒ½è®©ä½ çš„HelloServletç¼–è¯‘é€šè¿‡å‘¢ï¼Ÿé…ç½®ç¯å¢ƒå˜é‡CLASSPATH <code>CLASSPATH=.;C:\dev\apache-tomcat-10.0.12\lib\servlet-api.jar</code><br> <img src="https://images2.imgbox.com/8f/dc/nKAL3Hf0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>æ€è€ƒé—®é¢˜ï¼šä»¥ä¸Šé…ç½®çš„CLASSPATHå’ŒTomcatæœåŠ¡å™¨è¿è¡Œæœ‰æ²¡æœ‰å…³ç³»ï¼Ÿ 
      <ul><li>æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä»¥ä¸Šé…ç½®è¿™ä¸ªç¯å¢ƒå˜é‡åªæ˜¯ä¸ºäº†è®©ä½ çš„HelloServletèƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘ç”Ÿæˆclassæ–‡ä»¶ã€‚</li></ul> </li></ul> </li><li> <p>ç¬¬å…«æ­¥ï¼šå°†ä»¥ä¸Šç¼–è¯‘ä¹‹åçš„HelloServlet.classæ–‡ä»¶æ‹·è´åˆ°WEB-INF\classesç›®å½•ä¸‹ã€‚<br> <code>javac -d . HelloServlet.java</code><br> <img src="https://images2.imgbox.com/12/cc/sTIuvfyp_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/a4/1f/wh0M2zBf_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>ç¬¬ä¹æ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­ç¼–å†™é…ç½®ä¿¡æ¯ï¼Œè®©â€œè¯·æ±‚è·¯å¾„â€å’Œâ€œServletç±»åâ€å…³è”åœ¨ä¸€èµ·ã€‚</p> 
    <ul><li>è¿™ä¸€æ­¥ç”¨ä¸“ä¸šæœ¯è¯­æè¿°ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­æ³¨å†ŒServletç±»ã€‚</li><li>å¯èƒ½ä¼šç”±äºxmlé…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šä¿¡æ¯å¯¼è‡´Tomcatå¯åŠ¨æŠ¥é”™ï¼Œå¯ä»¥å°†xmlé…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šä¿¡æ¯åˆ é™¤</li><li> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee
                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd<span class="token punctuation">"</span></span>
  <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0<span class="token punctuation">"</span></span>
  <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!--servletæè¿°ä¿¡æ¯--&gt;</span>
	<span class="token comment">&lt;!--ä»»ä½•ä¸€ä¸ªservletéƒ½å¯¹åº”ä¸€ä¸ªservlet-mapping --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>fdsafdsagfdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--è¿™ä¸ªä½ç½®å¿…é¡»æ˜¯å¸¦æœ‰åŒ…åçš„å…¨é™å®šç±»å--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!--servletæ˜ å°„ä¿¡æ¯--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--è¿™ä¸ªä¹Ÿæ˜¯éšä¾¿çš„ï¼Œä¸è¿‡è¿™é‡Œå†™çš„å†…å®¹è¦å’Œä¸Šé¢çš„ä¸€æ ·ã€‚--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>fdsafdsagfdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--è¿™é‡Œéœ€è¦ä¸€ä¸ªè·¯å¾„--&gt;</span>
		<span class="token comment">&lt;!--è¿™ä¸ªè·¯å¾„å”¯ä¸€çš„è¦æ±‚æ˜¯å¿…é¡»ä»¥ / å¼€å§‹--&gt;</span>
		<span class="token comment">&lt;!--å½“å‰è¿™ä¸ªè·¯å¾„å¯ä»¥éšä¾¿å†™--&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/fdsa/fd/saf/d/sa/fd/sa/fd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>

</code></pre> </li></ul> </li><li> <p>ç¬¬åæ­¥ï¼šå¯åŠ¨TomcatæœåŠ¡å™¨<br> <img src="https://images2.imgbox.com/a1/f6/LeuCvcWz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>ç¬¬åä¸€æ­¥ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šè¾“å…¥ä¸€ä¸ªurlï¼Œè¿™ä¸ªURLå¿…é¡»æ˜¯ï¼š</p> 
    <ul><li>http://127.0.0.1:8080/crm/fdsa/fd/saf/d/sa/fd/sa/fd<br> <img src="https://images2.imgbox.com/27/a0/prbU9aDy_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>å¯åŠ¨TomcatæœåŠ¡å™¨ä¹‹åï¼ŒTomcatä¼šç›‘å¬ipåœ°å€è¡¨ç¤ºçš„ä¸»æœºçš„8080ç«¯å£ï¼Œcrmè¡¨ç¤ºè®¿é—®éƒ¨ç½²åœ¨TomcatæœåŠ¡å™¨ä¸Šçš„crmé¡¹ç›®ï¼Œfdsa/fd/saf/d/sa/fd/sa/fdè¡¨ç¤ºè®¿é—®çš„é¡¹ç›®èµ„æºè·¯å¾„</li><li>éå¸¸é‡è¦çš„ä¸€ä»¶äº‹ï¼šæµè§ˆå™¨ä¸Šçš„è¯·æ±‚è·¯å¾„ä¸èƒ½éšä¾¿å†™ï¼Œè¿™ä¸ª<mark>è¯·æ±‚è·¯å¾„å¿…é¡»å’Œweb.xmlæ–‡ä»¶ä¸­çš„url-patternä¸€è‡´</mark>ã€‚</li><li>æ³¨æ„ï¼šæµè§ˆå™¨ä¸Šçš„è¯·æ±‚è·¯å¾„å’Œweb.xmlæ–‡ä»¶ä¸­çš„url-patternçš„å”¯ä¸€åŒºåˆ«å°±æ˜¯ï¼šæµè§ˆå™¨ä¸Šçš„è¯·æ±‚è·¯å¾„å¸¦é¡¹ç›®åï¼š/crm</li></ul> </li><li> <p>æµè§ˆå™¨ä¸Šç¼–å†™çš„è·¯å¾„å¤ªå¤æ‚ï¼Œå¯ä»¥ä½¿ç”¨è¶…é“¾æ¥ã€‚ï¼ˆ<strong>éå¸¸é‡è¦ï¼šhtmlé¡µé¢åªèƒ½æ”¾åˆ°WEB-INFç›®å½•å¤–é¢ã€‚</strong>ï¼‰</p> <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/crm/fdsa/fd/saf/d/sa/fd/sa/fd<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>HelloServelet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><img src="https://images2.imgbox.com/34/9b/Ld7wWFqY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/76/98/rtNx55me_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>ä»¥åä¸éœ€è¦æˆ‘ä»¬ç¼–å†™mainæ–¹æ³•äº†ã€‚tomcatæœåŠ¡å™¨è´Ÿè´£è°ƒç”¨mainæ–¹æ³•ï¼ŒTomcatæœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œçš„å°±æ˜¯mainæ–¹æ³•ã€‚æˆ‘ä»¬javawebç¨‹åºå‘˜åªéœ€è¦ç¼–å†™Servletæ¥å£çš„å®ç°ç±»ï¼Œç„¶åå°†å…¶æ³¨å†Œåˆ°web.xmlæ–‡ä»¶ä¸­ï¼Œå³å¯ã€‚</p> </li><li> <p>æ€»ç»“ä¸€ä¸‹ï¼šä¸€ä¸ªåˆæ³•çš„webappç›®å½•ç»“æ„åº”è¯¥æ˜¯æ€æ ·çš„ï¼Ÿ</p> <pre><code>webapproot
     |------WEB-INF
     		  |------classes(å­˜æ”¾å­—èŠ‚ç )
     		  |------lib(ç¬¬ä¸‰æ–¹jaråŒ…)
     		  |------web.xml(æ³¨å†ŒServlet)
     |------html
     |------css
     |------javascript
     |------image
     ....
</code></pre> </li><li> <p>æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œåˆ°æœ€ç»ˆæœåŠ¡å™¨è°ƒç”¨Servletä¸­çš„æ–¹æ³•ï¼Œæ˜¯æ€æ ·çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Ÿï¼ˆä»¥ä¸‹è¿™ä¸ªè¿‡ç¨‹æè¿°çš„å¾ˆç²—ç³™ã€‚å…¶ä¸­è¿˜æœ‰å¾ˆå¤šæ­¥éª¤æˆ‘çœç•¥äº†ã€‚ï¼‰</p> 
    <ul><li>ç”¨æˆ·è¾“å…¥URLï¼Œæˆ–è€…ç›´æ¥ç‚¹å‡»è¶…é“¾æ¥ï¼šhttp://127.0.0.1:8080/crm/fdsa/fd/saf/d/sa/fd/sa/fd</li><li>ç„¶åTomcatæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ï¼Œæˆªå–è·¯å¾„ï¼š/crm/fdsa/fd/saf/d/sa/fd/sa/fd</li><li>TomcatæœåŠ¡å™¨æ‰¾åˆ°crmé¡¹ç›®</li><li>TomcatæœåŠ¡å™¨åœ¨web.xmlæ–‡ä»¶ä¸­æŸ¥æ‰¾/fdsa/fd/saf/d/sa/fd/sa/fd å¯¹åº”çš„Servletæ˜¯ï¼šcom.bjpowernode.servlet.HelloServlet</li><li>TomcatæœåŠ¡å™¨é€šè¿‡åå°„æœºåˆ¶ï¼Œåˆ›å»ºcom.bjpowernode.servlet.HelloServletçš„å¯¹è±¡ã€‚</li><li>TomcatæœåŠ¡å™¨è°ƒç”¨com.bjpowernode.servlet.HelloServletå¯¹è±¡çš„serviceæ–¹æ³•ã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="_JavaEE_496"></a>ğŸ¥½ å…³äºJavaEEçš„ç‰ˆæœ¬</h2> 
<ul><li>JavaEEç›®å‰æœ€é«˜ç‰ˆæœ¬æ˜¯ JavaEE8</li><li>JavaEEè¢«OracleæçŒ®äº†ï¼ŒOracleå°†JavaEEè§„èŒƒæçŒ®ç»™Apacheäº†ã€‚</li><li>ApacheæŠŠJavaEEæ¢åäº†ï¼Œä»¥åä¸å«JavaEEäº†ï¼Œä»¥åå«åš jakarta EEã€‚</li><li>ä»¥åæ²¡æœ‰JavaEEäº†ã€‚ä»¥åéƒ½å«åšJakarta EEã€‚</li><li>JavaEE8ç‰ˆæœ¬å‡çº§ä¹‹åçš„"JavaEE 9"ï¼Œä¸å†æ˜¯"JavaEE9"è¿™ä¸ªåå­—äº†ï¼Œå«åšJakartaEE9</li><li>JavaEE8çš„æ—¶å€™å¯¹åº”çš„Servletç±»åæ˜¯ï¼šjavax.servlet.Servlet</li><li>JakartaEE9çš„æ—¶å€™å¯¹åº”çš„Servletç±»åæ˜¯ï¼šjakarta.servlet.Servlet ï¼ˆåŒ…åéƒ½æ¢äº†ï¼‰</li><li>å¦‚æœä½ ä¹‹å‰çš„é¡¹ç›®è¿˜æ˜¯åœ¨ä½¿ç”¨javax.servlet.Servletï¼Œé‚£ä¹ˆä½ çš„é¡¹ç›®æ— æ³•ç›´æ¥éƒ¨ç½²åˆ°Tomcat10+ç‰ˆæœ¬ä¸Šã€‚ä½ åªèƒ½éƒ¨ç½²åˆ°Tomcat9-ç‰ˆæœ¬ä¸Šã€‚åœ¨Tomcat9ä»¥åŠTomcat9ä¹‹å‰çš„ç‰ˆæœ¬ä¸­è¿˜æ˜¯èƒ½å¤Ÿè¯†åˆ«javax.servletè¿™ä¸ªåŒ…ã€‚</li><li>å®˜æ–¹ä¸ºç‰ˆæœ¬çš„åˆ‡æ¢æä¾›äº†è¿ç§»å·¥å…·ï¼Œ<a href="https://github.com/apache/tomcat-jakartaee-migration">ã€This will almost certainly require code changes to enable applications to migrate from Tomcat 9 and earlier to Tomcat 10 and later. A migration tool has been developed to aid this process.ã€‘</a></li><li>Tomcat 10ç‰ˆæœ¬å¯¹åº”çš„Servletæ–‡æ¡£<br> <img src="https://images2.imgbox.com/8d/d0/sAydJaqu_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/01/03/us5E8fvb_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/5e/77/IyeZv5uB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> 
<h2><a id="_TomcatDOS_512"></a>ğŸ¥½ è§£å†³TomcatæœåŠ¡å™¨åœ¨DOSå‘½ä»¤çª—å£ä¸­çš„ä¹±ç é—®é¢˜ï¼ˆæ§åˆ¶å°ä¹±ç ï¼‰</h2> 
<p>å°†CATALINA_HOME/conf/logging.propertiesæ–‡ä»¶ä¸­çš„å†…å®¹ä¿®æ”¹å¦‚ä¸‹ï¼š</p> 
<pre><code class="prism language-java"><span class="token comment">// Windows DOSå‘½ä»¤çª—å£çš„ç¼–ç ä¸ºGBK</span>
<span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>logging<span class="token punctuation">.</span></span>ConsoleHandler</span><span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token constant">GBK</span>
</code></pre> 
<h2><a id="__519"></a>ğŸ¥½ å‘å®¢æˆ·ç«¯ç›¸åº”å†…å®¹</h2> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>

	<span class="token comment">// 5ä¸ªæ–¹æ³•</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
		<span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span>

		<span class="token comment">// å‘æ§åˆ¶å°æ‰“å°è¾“å‡º</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"My First Servlet, Hello Servlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹æ˜¯æ™®é€šæ–‡æœ¬æˆ–htmlä»£ç </span>
		<span class="token comment">// éœ€è¦åœ¨è·å–æµå¯¹è±¡ä¹‹å‰è®¾ç½®ï¼Œæœ‰æ•ˆã€‚</span>
		<span class="token comment">// å“åº”åˆ°æµè§ˆå™¨å‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥æŒ‡å®šå­—ç¬¦é›†text/html;charset=UTF-8</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// æ€ä¹ˆå°†ä¸€ä¸ªä¿¡æ¯ç›´æ¥è¾“å‡ºåˆ°æµè§ˆå™¨ä¸Šï¼Ÿ</span>
		<span class="token comment">// éœ€è¦ä½¿ç”¨ServletResponseæ¥å£ï¼šresponse</span>
		<span class="token comment">// responseè¡¨ç¤ºå“åº”ï¼šä»æœåŠ¡å™¨å‘æµè§ˆå™¨å‘é€æ•°æ®å«åšå“åº”ã€‚</span>
		<span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹æ—¶ä¸è¦åœ¨è·å–æµä¹‹åè®¾ç½®ã€‚</span>
		<span class="token comment">//response.setContentType("text/html");</span>

		out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Hello Servlet, You are my first servlet!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// æµè§ˆå™¨æ˜¯èƒ½å¤Ÿè¯†åˆ«htmlä»£ç çš„ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯åº”è¯¥è¾“å‡ºä¸€æ®µHTMLä»£ç å‘¢ï¼Ÿ</span>
		out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;hello servletï¼Œä½ å¥½Servlet&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// è¿™æ˜¯ä¸€ä¸ªè¾“å‡ºæµï¼Œè´Ÿè´£è¾“å‡ºå­—ç¬¦ä¸²åˆ°æµè§ˆå™¨</span>
		<span class="token comment">// è¿™ä¸ªè¾“å‡ºæµä¸éœ€è¦æˆ‘ä»¬åˆ·æ–°ï¼Œä¹Ÿä¸éœ€è¦æˆ‘ä»¬å…³é—­ï¼Œè¿™äº›éƒ½ç”±Tomcatæ¥ç»´æŠ¤ã€‚</span>
		<span class="token comment">/*
		out.flush();
		out.close();
		*/</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/02/15/xTlqbFID_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_Servlet_586"></a>ğŸ¥½ åœ¨Servletä¸­è¿æ¥æ•°æ®åº“</h2> 
<p>Servletæ˜¯Javaç¨‹åºï¼Œæ‰€ä»¥åœ¨Servletä¸­å®Œå…¨å¯ä»¥ç¼–å†™JDBCä»£ç è¿æ¥æ•°æ®åº“ã€‚</p> 
<p>åœ¨ä¸€ä¸ªwebappä¸­å»è¿æ¥æ•°æ®åº“ï¼Œéœ€è¦å°†é©±åŠ¨jaråŒ…æ”¾åˆ°WEB-INF/libç›®å½•ä¸‹ã€‚ï¼ˆcom.mysql.cj.jdbc.Driver è¿™ä¸ªç±»å°±åœ¨é©±åŠ¨jaråŒ…å½“ä¸­ã€‚ï¼‰</p> 
<blockquote> 
 <p>æ³¨å†Œé©±åŠ¨ï¼Œæ–°ç‰ˆæœ¬ä¸­å»ºè®®ä½¿ç”¨com.mysql.cj.jdbc.Driverï¼Œcom.mysql.jdbc.Driverå·²è¿‡æ—¶ã€‚(å¯¹åº”Mysqlçš„ç‰ˆæœ¬ä¸º8.0+)</p> 
</blockquote> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">{<!-- --></span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span><span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
		<span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span>
		
		<span class="token comment">// å“åº”åˆ°æµè§ˆå™¨å‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥æŒ‡å®šå­—ç¬¦é›†text/html;charset=UTF-8</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// ç¼–å†™JDBCä»£ç ï¼Œè¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ã€‚</span>
		<span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">// æ³¨å†Œé©±åŠ¨ ï¼ˆcom.mysql.jdbc.Driverï¼Œè¿™ä¸ªå·²è¿‡æ—¶ã€‚ï¼‰</span>
			<span class="token comment">// æ–°ç‰ˆæœ¬ä¸­å»ºè®®ä½¿ç”¨ï¼šcom.mysql.cj.jdbc.Driveré©±åŠ¨ã€‚</span>
			<span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// è·å–è¿æ¥</span>
			<span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/mydatabase"</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>
			<span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"123456"</span><span class="token punctuation">;</span>
			conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// è·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span>
			<span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select id,name from account"</span><span class="token punctuation">;</span>
			ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// æ‰§è¡ŒSQL</span>
			rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">// å¤„ç†æŸ¥è¯¢ç»“æœé›†</span>
			<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token class-name">String</span> no <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">String</span> name <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//System.out.println(no + "," + name);</span>
				out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>no <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">// é‡Šæ”¾èµ„æº</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
					rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>ps <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
					ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
					conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>å°†ç›¸åº”çš„jaråŒ…æ”¾åˆ°WEB-INF/libç›®å½•ä¸‹</p> 
<p><img src="https://images2.imgbox.com/dd/f2/0npZUU5k_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¼–è¯‘ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶</p> 
<p><img src="https://images2.imgbox.com/61/1f/27M21O2X_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee
                      https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd<span class="token punctuation">"</span></span>
  <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0<span class="token punctuation">"</span></span>
  <span class="token attr-name">metadata-complete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>fdsafdsagfdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>fdsafdsagfdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/fdsa/fd/saf/d/sa/fd/sa/fd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>jdbc_test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.servlet.StudentServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>jdbc_test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/jdbc_test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
	
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><img src="https://images2.imgbox.com/44/99/57KKbtRO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_Servlet_727"></a>ğŸ¥½ åœ¨é›†æˆå¼€å‘ç¯å¢ƒå½“ä¸­å¼€å‘Servletç¨‹åº</h2> 
<ul><li>é›†æˆå¼€å‘å·¥å…·å¾ˆå¤šï¼Œå…¶ä¸­ç›®å‰ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯ï¼š 
  <ul><li>IntelliJ IDEAï¼ˆè¿™ä¸ªå±…å¤šï¼ŒIDEAåœ¨æç¤ºåŠŸèƒ½æ–¹é¢è¦å¼ºäºEclipseï¼Œä¹Ÿå°±æ˜¯è¯´IDEAä½¿ç”¨èµ·æ¥æ¯”Eclipseæ›´åŠ æ™ºèƒ½ï¼Œæ›´å¥½ç”¨ã€‚JetBrainå…¬å¸å¼€å‘çš„ã€‚æ”¶è´¹çš„ã€‚ï¼‰</li><li>Eclipseï¼ˆè¿™ä¸ªå°‘ä¸€äº›ï¼‰ï¼ŒEclipseç›®å‰è¿˜æ˜¯æœ‰å›¢é˜Ÿä½¿ç”¨ï¼Œåªä¸è¿‡å¤„äºå‡å°‘çš„è¶‹åŠ¿ï¼Œè‡ªå·±ä»äº‹å·¥ä½œä¹‹åï¼Œå¯èƒ½ä¼šé‡åˆ°ã€‚Eclipseæ˜¯IBMå›¢é˜Ÿå¼€å‘çš„ã€‚Eclipseå¯“æ„æ˜¯â€œæ—¥é£Ÿâ€ã€‚â€œæ—¥é£Ÿâ€è¡¨ç¤ºå°†å¤ªé˜³åƒæ‰ã€‚å¤ªé˜³æ˜¯SUNã€‚IBMå›¢é˜Ÿå¼€å‘Eclipseçš„å¯“æ„æ˜¯åå¹¶SUNå…¬å¸ï¼Œä½†æ˜¯2009å¹´çš„æ—¶å€™SUNå…¬å¸è¢«Oracleå…¬å¸å¹¶è´­äº†ã€‚IBMå¹¶æ²¡æœ‰æˆåŠŸå¹¶è´­SUNå…¬å¸ã€‚</li></ul> </li><li>ä½¿ç”¨IDEAé›†æˆå¼€å‘å·¥å…·å¼€å‘Servlet 
  <ul><li>ç¬¬ä¸€æ­¥ï¼šNew Projectï¼ˆæˆ‘æ¯”è¾ƒä¹ æƒ¯å…ˆåˆ›å»ºä¸€ä¸ªEmpty Projectã€ç©ºå·¥ç¨‹ã€‘ï¼Œç„¶ååœ¨ç©ºå·¥ç¨‹ä¸‹æ–°å»ºModuleã€æ¨¡å—ã€‘ï¼Œè¿™ä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯ä¸€ç§ä¹ æƒ¯ï¼Œä½ å¯ä»¥ç›´æ¥æ–°å»ºéç©ºçš„Projectï¼‰ï¼Œè¿™ä¸ªEmpty Projectèµ·åä¸ºï¼šjavawebï¼ˆä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯ä¸€ä¸ªåå­—è€Œå·²ã€‚ä¸€èˆ¬æƒ…å†µä¸‹æ–°å»ºçš„Projectçš„åå­—æœ€å¥½å’Œç›®å½•çš„åå­—ä¸€è‡´ã€‚ï¼‰</li><li>ç¬¬äºŒæ­¥ï¼šæ–°å»ºæ¨¡å—ï¼ˆFile --&gt; new --&gt; Moduleâ€¦ï¼‰ 
    <ul><li>è¿™é‡Œæ–°å»ºçš„æ˜¯ä¸€ä¸ªæ™®é€šçš„JavaSEæ¨¡å—ï¼ˆè¿™é‡Œå…ˆä¸è¦æ–°å»ºJava Enterpriseæ¨¡å—ï¼ŒJava EnterpriseåŸºäºMavenï¼‰</li><li>è¿™ä¸ªModuleè‡ªåŠ¨ä¼šè¢«æ”¾åœ¨javawebçš„projectä¸‹é¢ã€‚</li><li>è¿™ä¸ªModuleèµ·åï¼šservlet01<br> <img src="https://images2.imgbox.com/1b/ab/cd6tsr4K_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/bb/20/058ZzkTx_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>ç¬¬ä¸‰æ­¥ï¼šè®©Moduleå˜æˆJavaEEçš„æ¨¡å—ã€‚ï¼ˆè®©Moduleå˜æˆwebappçš„æ¨¡å—ã€‚ç¬¦åˆwebappè§„èŒƒã€‚ç¬¦åˆServletè§„èŒƒçš„Moduleï¼‰ 
    <ul><li>åœ¨Moduleä¸Šç‚¹å‡»å³é”®ï¼šAdd Framework Supportâ€¦ï¼ˆæ·»åŠ æ¡†æ¶æ”¯æŒï¼‰</li><li>åœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œé€‰æ‹©Web Applicationï¼ˆé€‰æ‹©çš„æ˜¯webappçš„æ”¯æŒï¼‰</li><li>é€‰æ‹©äº†è¿™ä¸ªwebappçš„æ”¯æŒä¹‹åï¼ŒIDEAä¼šè‡ªåŠ¨ç»™ä½ ç”Ÿæˆä¸€ä¸ªç¬¦åˆServletè§„èŒƒçš„webppç›®å½•ç»“æ„ã€‚<img src="https://images2.imgbox.com/11/fa/Nx6IqCqz_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/30/1c/cSQ0kstD_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/55/16/ZQQAH0QP_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li><strong>é‡ç‚¹ï¼Œéœ€è¦æ³¨æ„çš„ï¼šåœ¨IDEAå·¥å…·ä¸­æ ¹æ®Web Applicationæ¨¡æ¿ç”Ÿæˆçš„ç›®å½•ä¸­æœ‰ä¸€ä¸ªwebç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°±ä»£è¡¨webappçš„æ ¹</strong></li></ul> </li><li>ç¬¬å››æ­¥ï¼ˆéå¿…é¡»ï¼‰ï¼šæ ¹æ®Web Applicationç”Ÿæˆçš„èµ„æºä¸­æœ‰index.jspæ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©åˆ é™¤è¿™ä¸ªindex.jspæ–‡ä»¶ã€‚</li><li>ç¬¬äº”æ­¥ï¼šç¼–å†™Servletï¼ˆStudentServletï¼‰ 
    <ul><li><code>class StudentServlet implements Servlet</code></li><li>è¿™ä¸ªæ—¶å€™å‘ç°Servlet.classæ–‡ä»¶æ²¡æœ‰ã€‚æ€ä¹ˆåŠï¼Ÿå°†CATALINA_HOME/lib/servlet-api.jarå’Œjsp-api.jaræ·»åŠ åˆ°classpathå½“ä¸­ï¼ˆè¿™é‡Œçš„classpathè¯´çš„æ˜¯IDEAçš„classpathï¼‰ 
      <ul><li>File --&gt; Project Structrue --&gt; Modules --&gt; + åŠ å· --&gt; Add JARSâ€¦</li><li><img src="https://images2.imgbox.com/c3/48/o6LbAo1K_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/24/82/n0KMTHew_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/4d/2e/wkhwcZDh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/fc/22/zs9ZGM1i_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>å®ç°jakarta.servlet.Servletæ¥å£ä¸­çš„5ä¸ªæ–¹æ³•ã€‚<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li><li>ç¬¬å…­æ­¥ï¼šåœ¨Servletå½“ä¸­çš„serviceæ–¹æ³•ä¸­ç¼–å†™ä¸šåŠ¡ä»£ç ï¼ˆæˆ‘ä»¬è¿™é‡Œè¿æ¥æ•°æ®åº“äº†ã€‚ï¼‰<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">DriverManager</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å“åº”åˆ°æµè§ˆå™¨å‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥æŒ‡å®šå­—ç¬¦é›†text/html;charset=UTF-8</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¼–å†™JDBCä»£ç ï¼Œè¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯ã€‚</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ³¨å†Œé©±åŠ¨ ï¼ˆcom.mysql.jdbc.Driverï¼Œè¿™ä¸ªå·²è¿‡æ—¶ã€‚ï¼‰</span>
            <span class="token comment">// æ–°ç‰ˆæœ¬ä¸­å»ºè®®ä½¿ç”¨ï¼šcom.mysql.cj.jdbc.Driveré©±åŠ¨ã€‚</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.cj.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–è¿æ¥</span>
            <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">"jdbc:mysql://localhost:3306/mydatabase"</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> user <span class="token operator">=</span> <span class="token string">"root"</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token string">"285013 "</span><span class="token punctuation">;</span>
            conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select id,name from account"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡ŒSQL</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¤„ç†æŸ¥è¯¢ç»“æœé›†</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> no <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> name <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//System.out.println(no + "," + name);</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>no <span class="token operator">+</span> <span class="token string">","</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡Šæ”¾èµ„æº</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                    rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ps <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                    ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span><span class="token punctuation">{<!-- --></span>
                    conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li><li>ç¬¬ä¸ƒæ­¥ï¼šåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªå­ç›®å½•ï¼šlibï¼ˆè¿™ä¸ªç›®å½•åå¯ä¸èƒ½éšæ„ï¼Œå¿…é¡»æ˜¯å…¨éƒ¨å°å†™çš„libï¼‰ï¼Œå¹¶ä¸”å°†è¿æ¥æ•°æ®åº“çš„é©±åŠ¨jaråŒ…æ”¾åˆ°libç›®å½•ä¸‹ã€‚<br> <img src="https://images2.imgbox.com/e4/43/WCMFiqjl_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>ç¬¬å…«æ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­å®ŒæˆStudentServletç±»çš„æ³¨å†Œã€‚ï¼ˆè¯·æ±‚è·¯å¾„å’ŒServletä¹‹é—´å¯¹åº”èµ·æ¥ï¼‰<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>studentServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.javaweb.servlet.StudentServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>studentServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/servlet/student<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>ç¬¬ä¹æ­¥ï¼šç»™ä¸€ä¸ªhtmlé¡µé¢ï¼Œåœ¨HTMLé¡µé¢ä¸­ç¼–å†™ä¸€ä¸ªè¶…é“¾æ¥ï¼Œç”¨æˆ·ç‚¹å‡»è¿™ä¸ªè¶…é“¾æ¥ï¼Œå‘é€è¯·æ±‚ï¼ŒTomcatæ‰§è¡Œåå°çš„StudentServletã€‚ 
    <ul><li>student.html</li><li>è¿™ä¸ªæ–‡ä»¶ä¸èƒ½æ”¾åˆ°WEB-INFç›®å½•é‡Œé¢ï¼Œåªèƒ½æ”¾åˆ°WEB-INFç›®å½•å¤–é¢ã€‚</li><li>student.htmlæ–‡ä»¶çš„å†…å®¹</li><li> <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>student page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--è¿™é‡Œçš„é¡¹ç›®åæ˜¯ /xmm ï¼Œæ— æ³•åŠ¨æ€è·å–ï¼Œå…ˆå†™æ­»--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/xmm/servlet/student<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>student list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>ç¬¬åæ­¥ï¼šè®©IDEAå·¥å…·å»å…³è”TomcatæœåŠ¡å™¨ã€‚å…³è”çš„è¿‡ç¨‹å½“ä¸­å°†webappéƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨å½“ä¸­ã€‚ 
    <ul><li>IDEAå·¥å…·å³ä¸Šè§’ï¼Œç»¿è‰²å°é”¤å­å³è¾¹æœ‰ä¸€ä¸ªï¼šAdd Configuration<br> <img src="https://images2.imgbox.com/04/f6/ZsBbCIl6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>å·¦ä¸Šè§’åŠ å·ï¼Œç‚¹å‡»Tomcat Server --&gt; local<br> <img src="https://images2.imgbox.com/a2/f2/ZW2rBAlw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­è®¾ç½®æœåŠ¡å™¨Serverçš„å‚æ•°ï¼ˆåŸºæœ¬ä¸Šä¸ç”¨åŠ¨ï¼‰<br> <img src="https://images2.imgbox.com/80/2d/BU5gGR4G_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>åœ¨å½“å‰çª—å£ä¸­æœ‰ä¸€ä¸ªDeploymentï¼ˆç‚¹å‡»è¿™ä¸ªç”¨æ¥éƒ¨ç½²webappï¼‰ï¼Œç»§ç»­ç‚¹å‡»åŠ å·ï¼Œéƒ¨ç½²å³å¯ã€‚<br> <img src="https://images2.imgbox.com/ce/bb/ked3lPlO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>ä¿®æ”¹ Application contextä¸ºï¼š/xmm<br> <img src="https://images2.imgbox.com/c0/05/qzb5rD8A_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>ç¬¬åä¸€æ­¥ï¼šå¯åŠ¨TomcatæœåŠ¡å™¨ 
    <ul><li>åœ¨å³ä¸Šè§’æœ‰ç»¿è‰²çš„ç®­å¤´ï¼Œæˆ–è€…ç»¿è‰²çš„å°è™«å­ï¼Œç‚¹å‡»è¿™ä¸ªç»¿è‰²çš„å°è™«å­ï¼Œå¯ä»¥é‡‡ç”¨debugçš„æ¨¡å¼å¯åŠ¨TomcatæœåŠ¡å™¨ã€‚</li><li>æˆ‘ä»¬å¼€å‘ä¸­å»ºè®®é€‚ç”¨debugæ¨¡å¼å¯åŠ¨Tomcat</li></ul> </li><li>ç¬¬åäºŒæ­¥ï¼šæ‰“å¼€æµè§ˆå™¨ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šè¾“å…¥ï¼šhttp://localhost:8080/xmm/servlet/student<br> <img src="https://images2.imgbox.com/22/53/cLDRGesh_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> 
<h2><a id="_Servlet_940"></a>ğŸ¥½ Servletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</h2> 
<ul><li>ä»€ä¹ˆæ˜¯Servletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸï¼Ÿ 
  <ul><li>Servletå¯¹è±¡ä»€ä¹ˆæ—¶å€™è¢«åˆ›å»ºã€‚</li><li>Servletå¯¹è±¡ä»€ä¹ˆæ—¶å€™è¢«é”€æ¯ã€‚</li><li>Servletå¯¹è±¡åˆ›å»ºäº†å‡ ä¸ªï¼Ÿ</li><li>Servletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸè¡¨ç¤ºï¼šä¸€ä¸ªServletå¯¹è±¡ä»å‡ºç”Ÿåœ¨æœ€åçš„æ­»äº¡ï¼Œæ•´ä¸ªè¿‡ç¨‹æ˜¯æ€æ ·çš„ã€‚</li></ul> </li><li>Servletå¯¹è±¡æ˜¯ç”±è°æ¥ç»´æŠ¤çš„ï¼Ÿ 
  <ul><li>Servletå¯¹è±¡çš„åˆ›å»ºï¼Œå¯¹è±¡ä¸Šæ–¹æ³•çš„è°ƒç”¨ï¼Œå¯¹è±¡æœ€ç»ˆçš„é”€æ¯ï¼ŒJavawebç¨‹åºå‘˜æ˜¯æ— æƒå¹²é¢„çš„ã€‚</li><li>Servletå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç”±TomcatæœåŠ¡å™¨ï¼ˆWEB Serverï¼‰å…¨æƒè´Ÿè´£çš„ã€‚</li><li>TomcatæœåŠ¡å™¨é€šå¸¸æˆ‘ä»¬åˆç§°ä¸ºï¼šWEBå®¹å™¨ã€‚ï¼ˆè¿™ä¸ªå«æ³•ä½ è¦çŸ¥é“ã€WEB Containerã€‘ï¼‰</li><li>WEBå®¹å™¨æ¥ç®¡ç†Servletå¯¹è±¡çš„æ­»æ´»ã€‚</li></ul> </li><li>æ€è€ƒï¼šæˆ‘ä»¬è‡ªå·±newçš„Servletå¯¹è±¡å—WEBå®¹å™¨çš„ç®¡ç†å—ï¼Ÿ 
  <ul><li>æˆ‘ä»¬è‡ªå·±newçš„Servletå¯¹è±¡æ˜¯ä¸å—WEBå®¹å™¨ç®¡ç†çš„ã€‚</li><li>WEBå®¹å™¨åˆ›å»ºçš„Servletå¯¹è±¡ï¼Œè¿™äº›Servletå¯¹è±¡éƒ½ä¼šè¢«æ”¾åˆ°ä¸€ä¸ªé›†åˆå½“ä¸­ï¼ˆHashMapï¼‰ï¼Œåªæœ‰æ”¾åˆ°è¿™ä¸ªHashMapé›†åˆä¸­çš„Servletæ‰èƒ½å¤Ÿè¢«WEBå®¹å™¨ç®¡ç†ï¼Œè‡ªå·±newçš„Servletå¯¹è±¡ä¸ä¼šè¢«WEBå®¹å™¨ç®¡ç†ã€‚ï¼ˆè‡ªå·±newçš„Servletå¯¹è±¡ä¸åœ¨å®¹å™¨å½“ä¸­ï¼‰</li><li>webå®¹å™¨åº•å±‚åº”è¯¥æœ‰ä¸€ä¸ªHashMapè¿™æ ·çš„é›†åˆï¼Œåœ¨è¿™ä¸ªé›†åˆå½“ä¸­å­˜å‚¨äº†Servletå¯¹è±¡å’Œè¯·æ±‚è·¯å¾„ä¹‹é—´çš„å…³ç³»<br> <img src="https://images2.imgbox.com/62/d7/q0bHjkIB_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li>ç ”ç©¶ï¼šæœåŠ¡å™¨åœ¨å¯åŠ¨çš„Servletå¯¹è±¡æœ‰æ²¡æœ‰è¢«åˆ›å»ºå‡ºæ¥ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ï¼Ÿ 
  <ul><li>åœ¨Servletä¸­æä¾›ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™çœ‹çœ‹æ„é€ æ–¹æ³•æ˜¯å¦æ‰§è¡Œã€‚</li><li>ç»è¿‡æµ‹è¯•å¾—å‡ºç»“è®ºï¼šé»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åœ¨å¯åŠ¨çš„æ—¶å€™Servletå¯¹è±¡å¹¶ä¸ä¼šè¢«å®ä¾‹åŒ–ã€‚</li><li>è¿™ä¸ªè®¾è®¡æ˜¯åˆç†çš„ã€‚ç”¨æˆ·æ²¡æœ‰å‘é€è¯·æ±‚ä¹‹å‰ï¼Œå¦‚æœæå‰åˆ›å»ºå‡ºæ¥æ‰€æœ‰çš„Servletå¯¹è±¡ï¼Œå¿…ç„¶æ˜¯è€—è´¹å†…å­˜çš„ï¼Œå¹¶ä¸”åˆ›å»ºå‡ºæ¥çš„Servletå¦‚æœä¸€ç›´æ²¡æœ‰ç”¨æˆ·è®¿é—®ï¼Œæ˜¾ç„¶è¿™ä¸ªServletå¯¹è±¡æ˜¯ä¸€ä¸ªåºŸç‰©ï¼Œæ²¡å¿…è¦å…ˆåˆ›å»ºã€‚</li></ul> </li><li>æ€ä¹ˆè®©æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºServletå¯¹è±¡å‘¢ï¼Ÿ 
  <ul><li>åœ¨servletæ ‡ç­¾ä¸­æ·»åŠ <code>&lt;load-on-startup&gt;</code>å­æ ‡ç­¾ï¼Œåœ¨è¯¥å­æ ‡ç­¾ä¸­å¡«å†™æ•´æ•°ï¼Œè¶Šå°çš„æ•´æ•°ä¼˜å…ˆçº§è¶Šé«˜ã€‚<pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>aservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.javaweb.servlet.AServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 
        	åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶åˆ›å»ºServletå¯¹è±¡ï¼Œåœ¨è¯¥æ ‡ç­¾ä¸­å¡«å†™æ•´æ•°
        	æ•°å­—è¡¨ç¤ºåˆ›å»ºå¯¹è±¡çš„å…ˆåé¡ºåº 
        	æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>aservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>Servletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸ 
  <ul><li>é»˜è®¤æƒ…å†µä¸‹æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™AServletå¯¹è±¡å¹¶æ²¡æœ‰è¢«å®ä¾‹åŒ–</li><li>ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œæ§åˆ¶å°è¾“å‡ºäº†ä»¥ä¸‹å†…å®¹ï¼š<pre><code>AServletæ— å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œäº†
AServlet's init method execute!
AServlet's service method execute!
</code></pre> </li><li>æ ¹æ®ä»¥ä¸Šè¾“å‡ºå†…å®¹å¾—å‡ºç»“è®ºï¼š 
    <ul><li>ç”¨æˆ·åœ¨å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™Servletå¯¹è±¡è¢«å®ä¾‹åŒ–ï¼ˆAServletçš„æ„é€ æ–¹æ³•è¢«æ‰§è¡Œäº†ã€‚å¹¶ä¸”æ‰§è¡Œçš„æ˜¯æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚ï¼‰</li><li>AServletå¯¹è±¡è¢«åˆ›å»ºå‡ºæ¥ä¹‹åï¼ŒTomcatæœåŠ¡å™¨é©¬ä¸Šè°ƒç”¨äº†AServletå¯¹è±¡çš„initæ–¹æ³•ã€‚ï¼ˆinitæ–¹æ³•åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒAServletå¯¹è±¡å·²ç»å­˜åœ¨äº†ã€‚å·²ç»è¢«åˆ›å»ºå‡ºæ¥äº†ã€‚ï¼‰</li><li>ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œinitæ–¹æ³•æ‰§è¡Œä¹‹åï¼ŒTomcatæœåŠ¡å™¨é©¬ä¸Šè°ƒç”¨AServletå¯¹è±¡çš„serviceæ–¹æ³•ã€‚</li></ul> </li><li>ç”¨æˆ·ç»§ç»­å‘é€ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œæ§åˆ¶å°è¾“å‡ºäº†ä»¥ä¸‹å†…å®¹ï¼š<pre><code>AServlet's service method execute!
</code></pre> </li><li>æ ¹æ®ä»¥ä¸Šè¾“å‡ºç»“æœå¾—çŸ¥ï¼Œç”¨æˆ·åœ¨å‘é€ç¬¬äºŒæ¬¡ï¼Œæˆ–è€…ç¬¬ä¸‰æ¬¡ï¼Œæˆ–è€…ç¬¬å››æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼ŒServletå¯¹è±¡å¹¶æ²¡æœ‰æ–°å»ºï¼Œè¿˜æ˜¯ä½¿ç”¨ä¹‹å‰åˆ›å»ºå¥½çš„Servletå¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨è¯¥Servletå¯¹è±¡çš„serviceæ–¹æ³•ï¼Œè¿™è¯´æ˜ï¼š 
    <ul><li>ç¬¬ä¸€ï¼šServletå¯¹è±¡æ˜¯å•ä¾‹çš„ï¼ˆå•å®ä¾‹çš„ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼šServletå¯¹è±¡æ˜¯å•å®ä¾‹çš„ï¼Œä½†æ˜¯Servletç±»å¹¶ä¸ç¬¦åˆå•ä¾‹æ¨¡å¼ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºå‡å•ä¾‹ã€‚ä¹‹æ‰€ä»¥å•ä¾‹æ˜¯å› ä¸ºServletå¯¹è±¡çš„åˆ›å»ºæˆ‘ä»¬javawebç¨‹åºå‘˜ç®¡ä¸ç€ï¼Œè¿™ä¸ªå¯¹è±¡çš„åˆ›å»ºåªèƒ½æ˜¯Tomcatæ¥è¯´äº†ç®—ï¼ŒTomcatåªåˆ›å»ºäº†ä¸€ä¸ªï¼Œæ‰€ä»¥å¯¼è‡´äº†å•ä¾‹ï¼Œä½†æ˜¯å±äºå‡å•ä¾‹ã€‚çœŸå•ä¾‹æ¨¡å¼ï¼Œæ„é€ æ–¹æ³•æ˜¯ç§æœ‰åŒ–çš„ã€‚ï¼‰</li><li>ç¬¬äºŒï¼šæ— å‚æ•°æ„é€ æ–¹æ³•ã€initæ–¹æ³•åªåœ¨ç¬¬ä¸€æ¬¡ç”¨æˆ·å‘é€è¯·æ±‚çš„æ—¶å€™æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´æ— å‚æ•°æ„é€ æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚initæ–¹æ³•ä¹Ÿåªè¢«TomcatæœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚</li><li>ç¬¬ä¸‰ï¼šåªè¦ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼šserviceæ–¹æ³•å¿…ç„¶ä¼šè¢«TomcatæœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚å‘é€100æ¬¡è¯·æ±‚ï¼Œserviceæ–¹æ³•ä¼šè¢«è°ƒç”¨100æ¬¡ã€‚</li></ul> </li><li>å…³é—­æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæ§åˆ¶å°è¾“å‡ºäº†ä»¥ä¸‹å†…å®¹ï¼š<pre><code>AServlet's destroy method execute!
</code></pre> </li><li>é€šè¿‡ä»¥ä¸Šè¾“å‡ºå†…å®¹ï¼Œå¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š 
    <ul><li>Servletçš„destroyæ–¹æ³•åªè¢«TomcatæœåŠ¡å™¨è°ƒç”¨ä¸€æ¬¡ã€‚</li><li>destroyæ–¹æ³•æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨çš„ï¼Ÿ 
      <ul><li>åœ¨æœåŠ¡å™¨å…³é—­çš„æ—¶å€™ã€‚</li><li>å› ä¸ºæœåŠ¡å™¨å…³é—­çš„æ—¶å€™è¦é”€æ¯AServletå¯¹è±¡çš„å†…å­˜ã€‚</li><li>æœåŠ¡å™¨åœ¨é”€æ¯AServletå¯¹è±¡å†…å­˜ä¹‹å‰ï¼ŒTomcatæœåŠ¡å™¨ä¼šè‡ªåŠ¨è°ƒç”¨AServletå¯¹è±¡çš„destroyæ–¹æ³•ã€‚</li></ul> </li></ul> </li><li>è¯·é—®ï¼šdestroyæ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œå¯¹è±¡é”€æ¯äº†è¿˜æ˜¯æ²¡æœ‰é”€æ¯å‘¢ï¼Ÿ 
    <ul><li>destroyæ–¹æ³•æ‰§è¡Œçš„æ—¶å€™AServletå¯¹è±¡è¿˜åœ¨ï¼Œæ²¡æœ‰è¢«é”€æ¯ã€‚destroyæ–¹æ³•æ‰§è¡Œç»“æŸä¹‹åï¼ŒAServletå¯¹è±¡çš„å†…å­˜æ‰ä¼šè¢«Tomcaté‡Šæ”¾ã€‚</li></ul> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// æ— å‚æ•°æ„é€ æ–¹æ³•</span>
    <span class="token keyword">public</span> <span class="token class-name">AServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AServletæ— å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œäº†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç¨‹åºå‘˜æ‰‹åŠ¨æä¾›Servletç±»çš„æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œä¼šæ€ä¹ˆæ ·ï¼Ÿ</span>
    <span class="token comment">/*public AServlet(String s){

    }*/</span>

    <span class="token comment">// initè¢«ç¿»è¯‘ä¸ºåˆå§‹åŒ–</span>
    <span class="token comment">// initæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡</span>
    <span class="token comment">// åœ¨AServletå¯¹è±¡ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºä¹‹åæ‰§è¡Œã€‚</span>
    <span class="token comment">// initæ–¹æ³•é€šå¸¸æ˜¯å®Œæˆåˆå§‹åŒ–æ“ä½œçš„ã€‚</span>
    <span class="token comment">// initæ–¹æ³•åœ¨æ‰§è¡Œçš„æ—¶å€™AServletå¯¹è±¡å·²ç»è¢«åˆ›å»ºå‡ºæ¥äº†ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AServlet's init method execute!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// serviceæ–¹æ³•ï¼šæ˜¯å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æ ¸å¿ƒæ–¹æ³•ã€‚</span>
    <span class="token comment">// åªè¦ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œserviceæ–¹æ³•å¿…ç„¶ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</span>
    <span class="token comment">// å‘é€100æ¬¡è¯·æ±‚ï¼Œserviceæ–¹æ³•åˆ™æ‰§è¡Œ100æ¬¡ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AServlet's service method execute!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// destroyæ–¹æ³•ä¹Ÿæ˜¯åªæ‰§è¡Œä¸€æ¬¡ã€‚</span>
    <span class="token comment">// TomcatæœåŠ¡å™¨åœ¨é”€æ¯AServletå¯¹è±¡ä¹‹å‰ä¼šè°ƒç”¨ä¸€æ¬¡destroyæ–¹æ³•</span>
    <span class="token comment">// destroyæ–¹æ³•åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒAServletå¯¹è±¡çš„å†…å­˜è¿˜æ²¡æœ‰è¢«é”€æ¯ã€‚å³å°†è¢«é”€æ¯ã€‚</span>
    <span class="token comment">// destroyæ–¹æ³•ä¸­å¯ä»¥ç¼–å†™é”€æ¯å‰çš„å‡†å¤‡ã€‚</span>
    <span class="token comment">// æ¯”å¦‚è¯´ï¼ŒæœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼ŒAServletå¯¹è±¡å¼€å¯äº†ä¸€äº›èµ„æºï¼Œè¿™äº›èµ„æºå¯èƒ½æ˜¯æµï¼Œå¯èƒ½æ˜¯æ•°æ®åº“è¿æ¥</span>
    <span class="token comment">// é‚£ä¹ˆï¼Œå…³é—­æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¦å…³é—­è¿™äº›æµï¼Œå…³é—­è¿™äº›æ•°æ®åº“è¿æ¥ï¼Œé‚£ä¹ˆè¿™äº›å…³é—­èµ„æºçš„ä»£ç å°±å¯ä»¥å†™åˆ°destroyæ–¹æ³•å½“ä¸­ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"AServlet's destroy method execute!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li><li>Servletå¯¹è±¡æ›´åƒä¸€ä¸ªäººçš„ä¸€ç”Ÿï¼š 
    <ul><li>Servletçš„æ— å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œï¼šæ ‡å¿—ç€ä½ å‡ºç”Ÿäº†ã€‚</li><li>Servletå¯¹è±¡çš„initæ–¹æ³•çš„æ‰§è¡Œï¼šæ ‡å¿—ç€ä½ æ­£åœ¨æ¥å—æ•™è‚²ã€‚</li><li>Servletå¯¹è±¡çš„serviceæ–¹æ³•çš„æ‰§è¡Œï¼šæ ‡å¿—ç€ä½ å·²ç»å¼€å§‹å·¥ä½œäº†ï¼Œå·²ç»å¼€å§‹ä¸ºäººç±»æä¾›æœåŠ¡äº†ã€‚</li><li>Servletå¯¹è±¡çš„destroyæ–¹æ³•çš„æ‰§è¡Œï¼šæ ‡å¿—ç€ä¸´ç»ˆã€‚æœ‰ä»€ä¹ˆé—è¨€ï¼ŒæŠ“ç´§çš„ã€‚è¦ä¸ç„¶ï¼Œæ¥ä¸åŠäº†ã€‚</li></ul> </li><li>å…³äºServletç±»ä¸­æ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°ï¼Ÿ 
    <ul><li>æ„é€ æ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚</li><li>initæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚</li><li>serviceæ–¹æ³•ï¼šç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚åˆ™æ‰§è¡Œä¸€æ¬¡ï¼Œå‘é€Næ¬¡è¯·æ±‚åˆ™æ‰§è¡ŒNæ¬¡ã€‚</li><li>destroyæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡ã€‚</li></ul> </li><li>å½“æˆ‘ä»¬Servletç±»ä¸­ç¼–å†™ä¸€ä¸ªæœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ‰‹åŠ¨ç¼–å†™æ— å‚æ•°æ„é€ æ–¹æ³•ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜ï¼Ÿ 
    <ul><li>æŠ¥é”™äº†ï¼š500é”™è¯¯ã€‚</li><li>æ³¨æ„ï¼š500æ˜¯ä¸€ä¸ªHTTPåè®®çš„é”™è¯¯çŠ¶æ€ç ã€‚</li><li>500ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å› ä¸ºæœåŠ¡å™¨ç«¯çš„Javaç¨‹åºå‡ºç°äº†å¼‚å¸¸ã€‚ï¼ˆæœåŠ¡å™¨ç«¯çš„é”™è¯¯éƒ½æ˜¯500é”™è¯¯ï¼šæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ã€‚ï¼‰</li><li>å¦‚æœæ²¡æœ‰æ— å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œä¼šå¯¼è‡´å‡ºç°500é”™è¯¯ï¼Œæ— æ³•å®ä¾‹åŒ–Servletå¯¹è±¡ã€‚</li><li>æ‰€ä»¥ï¼Œä¸€å®šè¦æ³¨æ„ï¼šåœ¨Servletå¼€å‘å½“ä¸­ï¼Œä¸å»ºè®®ç¨‹åºå‘˜æ¥å®šä¹‰æ„é€ æ–¹æ³•ï¼Œå› ä¸ºå®šä¹‰ä¸å½“ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šå¯¼è‡´æ— æ³•å®ä¾‹åŒ–Servletå¯¹è±¡ã€‚</li></ul> </li><li>æ€è€ƒï¼šServletçš„æ— å‚æ•°æ„é€ æ–¹æ³•æ˜¯åœ¨å¯¹è±¡ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™æ‰§è¡Œï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚initæ–¹æ³•ä¹Ÿæ˜¯åœ¨å¯¹è±¡ç¬¬ä¸€æ¬¡åˆ›å»ºçš„æ—¶å€™æ‰§è¡Œï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚é‚£ä¹ˆè¿™ä¸ªæ— å‚æ•°æ„é€ æ–¹æ³•å¯ä»¥ä»£æ›¿æ‰initæ–¹æ³•å—ï¼Ÿ 
    <ul><li>ä¸èƒ½ã€‚</li><li>Servletè§„èŒƒä¸­æœ‰è¦æ±‚ï¼Œä½œä¸ºjavawebç¨‹åºå‘˜ï¼Œç¼–å†™Servletç±»çš„æ—¶å€™ï¼Œä¸å»ºè®®æ‰‹åŠ¨ç¼–å†™æ„é€ æ–¹æ³•ï¼Œå› ä¸ºç¼–å†™æ„é€ æ–¹æ³•ï¼Œå¾ˆå®¹æ˜“è®©æ— å‚æ•°æ„é€ æ–¹æ³•æ¶ˆå¤±ï¼Œè¿™ä¸ªæ“ä½œå¯èƒ½ä¼šå¯¼è‡´Servletå¯¹è±¡æ— æ³•å®ä¾‹åŒ–ã€‚æ‰€ä»¥initæ–¹æ³•æ˜¯æœ‰å­˜åœ¨çš„å¿…è¦çš„ã€‚</li></ul> </li><li>initã€serviceã€destroyæ–¹æ³•ä¸­ä½¿ç”¨æœ€å¤šçš„æ˜¯å“ªä¸ªæ–¹æ³•ï¼Ÿ 
    <ul><li>ä½¿ç”¨æœ€å¤šå°±æ˜¯serviceæ–¹æ³•ï¼Œserviceæ–¹æ³•æ˜¯ä¸€å®šè¦å®ç°çš„ï¼Œå› ä¸ºserviceæ–¹æ³•æ˜¯å¤„ç†ç”¨æˆ·è¯·æ±‚çš„æ ¸å¿ƒæ–¹æ³•ã€‚</li><li>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨initæ–¹æ³•å‘¢ï¼Ÿ 
      <ul><li>initæ–¹æ³•å¾ˆå°‘ç”¨ã€‚</li><li>é€šå¸¸åœ¨initæ–¹æ³•å½“ä¸­åšåˆå§‹åŒ–æ“ä½œï¼Œå¹¶ä¸”è¿™ä¸ªåˆå§‹åŒ–æ“ä½œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼šåˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± ï¼Œåˆå§‹åŒ–çº¿ç¨‹æ± â€¦</li></ul> </li><li>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨destroyæ–¹æ³•å‘¢ï¼Ÿ 
      <ul><li>destroyæ–¹æ³•ä¹Ÿå¾ˆå°‘ç”¨ã€‚</li><li>é€šå¸¸åœ¨destroyæ–¹æ³•å½“ä¸­ï¼Œè¿›è¡Œèµ„æºçš„å…³é—­ã€‚é©¬ä¸Šå¯¹è±¡è¦è¢«é”€æ¯äº†ï¼Œè¿˜æœ‰ä»€ä¹ˆæ²¡æœ‰å…³é—­çš„ï¼ŒæŠ“ç´§æ—¶é—´å…³é—­èµ„æºã€‚è¿˜æœ‰ä»€ä¹ˆèµ„æºæ²¡ä¿å­˜çš„ï¼ŒæŠ“ç´§æ—¶é—´ä¿å­˜ä¸€ä¸‹ã€‚</li></ul> </li></ul> </li></ul> </li><li>æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªServletç±»ç›´æ¥å®ç°Servletæ¥å£æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ 
  <ul><li>æˆ‘ä»¬åªéœ€è¦serviceæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦ä½¿ç”¨çš„ã€‚ä»£ç å¾ˆä¸‘é™‹ã€‚</li></ul> </li></ul> 
<h2><a id="_AdapterServlet_1100"></a>ğŸ¥½ é€‚é…å™¨è®¾è®¡æ¨¡å¼Adapterå®ç°Servletæ¥å£</h2> 
<ul><li>æ‰‹æœºç›´æ¥æ’åˆ°220Vçš„ç”µå‹ä¸Šï¼Œæ‰‹æœºç›´æ¥å°±æŠ¥åºŸäº†ã€‚æ€ä¹ˆåŠï¼Ÿå¯ä»¥æ‰¾ä¸€ä¸ªå……ç”µå™¨ã€‚è¿™ä¸ªå……ç”µå™¨å°±æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚æ‰‹æœºè¿æ¥é€‚é…å™¨ã€‚é€‚é…å™¨è¿æ¥220Vçš„ç”µå‹ã€‚è¿™æ ·é—®é¢˜å°±è§£å†³äº†ã€‚</li><li>ç¼–å†™ä¸€ä¸ªGenericServletç±»ï¼Œè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•serviceã€‚ 
  <ul><li>GenericServletå®ç°Servletæ¥å£ã€‚</li><li>GenericServletæ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚</li><li>ä»¥åç¼–å†™çš„æ‰€æœ‰Servletç±»ç»§æ‰¿GenericServletï¼Œé‡å†™serviceæ–¹æ³•å³å¯ã€‚ä¸éœ€è¦æ¯æ¬¡éƒ½è¦å®ç°æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ç¼–å†™ä¸€ä¸ªæ ‡å‡†é€šç”¨çš„Servletï¼Œèµ·åï¼šGenericServlet
 * ä»¥åæ‰€æœ‰çš„Servletç±»éƒ½ä¸è¦ç›´æ¥å®ç°Servletæ¥å£äº†ã€‚
 * ä»¥åæ‰€æœ‰çš„Servletç±»éƒ½è¦ç»§æ‰¿GenericServletç±»ã€‚
 * GenericServlet å°±æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">GenericServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{<!-- --></span>
	
	<span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æœ€å¸¸ç”¨ã€‚æ‰€ä»¥è¦æ±‚å­ç±»å¿…é¡»å®ç°serviceæ–¹æ³•ã€‚
     * @param servletRequest
     * @param servletResponse
     * @throws ServletException
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li><li>æ€è€ƒï¼šGenericServletç±»æ˜¯å¦éœ€è¦æ”¹é€ ä¸€ä¸‹ï¼Ÿæ€ä¹ˆæ”¹é€ ï¼Ÿæ›´åˆ©äºå­ç±»ç¨‹åºçš„ç¼–å†™ï¼Ÿ 
  <ul><li>æ€è€ƒç¬¬ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘æä¾›äº†ä¸€ä¸ªGenericServletä¹‹åï¼Œinitæ–¹æ³•è¿˜ä¼šæ‰§è¡Œå—ï¼Ÿ 
    <ul><li>è¿˜ä¼šæ‰§è¡Œã€‚ä¼šæ‰§è¡ŒGenericServletç±»ä¸­çš„initæ–¹æ³•ã€‚å­ç±»æ²¡æœ‰é‡å†™çˆ¶ç±»çš„æ–¹æ³•ä¼šé»˜è®¤æ‰§è¡Œçˆ¶ç±»çš„æ–¹æ³•</li></ul> </li><li>æ€è€ƒç¬¬äºŒä¸ªé—®é¢˜ï¼šinitæ–¹æ³•æ˜¯è°è°ƒç”¨çš„ï¼Ÿ 
    <ul><li>TomcatæœåŠ¡å™¨è°ƒç”¨çš„ã€‚</li></ul> </li><li>æ€è€ƒç¬¬ä¸‰ä¸ªé—®é¢˜ï¼šinitæ–¹æ³•ä¸­çš„ServletConfigå¯¹è±¡æ˜¯è°åˆ›å»ºçš„ï¼Ÿæ˜¯è°ä¼ è¿‡æ¥çš„ï¼Ÿ 
    <ul><li>éƒ½æ˜¯Tomcatå¹²çš„ã€‚</li><li>TomcatæœåŠ¡å™¨å…ˆåˆ›å»ºäº†ServletConfigå¯¹è±¡ï¼Œç„¶åè°ƒç”¨initæ–¹æ³•ï¼Œå°†ServletConfigå¯¹è±¡ä¼ ç»™äº†initæ–¹æ³•ã€‚</li></ul> </li><li>æ€è€ƒä¸€ä¸‹TomcatæœåŠ¡å™¨ä¼ªä»£ç ï¼š 
    <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tomcat</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// .....</span>
        <span class="token comment">// TomcatæœåŠ¡å™¨ä¼ªä»£ç </span>
        <span class="token comment">// åˆ›å»ºLoginServletå¯¹è±¡ï¼ˆé€šè¿‡åå°„æœºåˆ¶ï¼Œè°ƒç”¨æ— å‚æ•°æ„é€ æ–¹æ³•æ¥å®ä¾‹åŒ–LoginServletå¯¹è±¡ï¼‰</span>
        <span class="token class-name">Class</span> clazz <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.bjpowernode.javaweb.servlet.LoginServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> obj <span class="token operator">=</span> clazz<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// å‘ä¸‹è½¬å‹</span>
        <span class="token class-name">Servlet</span> servlet <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Servlet</span><span class="token punctuation">)</span>obj<span class="token punctuation">;</span>
        
        <span class="token comment">// åˆ›å»ºServletConfigå¯¹è±¡</span>
        <span class="token comment">// TomcatæœåŠ¡å™¨è´Ÿè´£å°†ServletConfigå¯¹è±¡å®ä¾‹åŒ–å‡ºæ¥ã€‚</span>
        <span class="token comment">// å¤šæ€ï¼ˆTomcatæœåŠ¡å™¨å®Œå…¨å®ç°äº†Servletè§„èŒƒï¼‰</span>
        <span class="token class-name">ServletConfig</span> servletConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardWrapperFacade</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è°ƒç”¨Servletçš„initæ–¹æ³•</span>
        servlet<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>servletConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è°ƒç”¨Servletçš„serviceæ–¹æ³•</span>
        <span class="token comment">// ....</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ç¼–å†™ä¸€ä¸ªæ ‡å‡†é€šç”¨çš„Servletï¼Œèµ·åï¼šGenericServlet
 * ä»¥åæ‰€æœ‰çš„Servletç±»éƒ½ä¸è¦ç›´æ¥å®ç°Servletæ¥å£äº†ã€‚
 * ä»¥åæ‰€æœ‰çš„Servletç±»éƒ½è¦ç»§æ‰¿GenericServletç±»ã€‚
 * GenericServlet å°±æ˜¯ä¸€ä¸ªé€‚é…å™¨ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">GenericServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// æˆå‘˜å˜é‡</span>
    <span class="token comment">// å°†ServletConfigå¯¹è±¡ä¿å­˜ä»¥ä¾¿å…¶ä»–æ–¹æ³•å¯ä»¥ä½¿ç”¨</span>
    <span class="token keyword">private</span> <span class="token class-name">ServletConfig</span> config<span class="token punctuation">;</span>

    <span class="token comment">/**
     * initæ–¹æ³•ä¸­çš„ServletConfigå¯¹è±¡æ˜¯å°çŒ«å’ªåˆ›å»ºå¥½çš„ã€‚
     * è¿™ä¸ªServletConfigå¯¹è±¡ç›®å‰åœ¨initæ–¹æ³•çš„å‚æ•°ä¸Šï¼Œå±äºå±€éƒ¨å˜é‡ã€‚
     * é‚£ä¹ˆServletConfigå¯¹è±¡è‚¯å®šä»¥åè¦åœ¨serviceæ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ€ä¹ˆæ‰èƒ½ä¿è¯ServletConfigå¯¹è±¡åœ¨serviceæ–¹æ³•ä¸­èƒ½å¤Ÿä½¿ç”¨å‘¢ï¼Ÿ
     */</span>
     <span class="token comment">// é˜²æ­¢å­ç±»é‡å†™è¯¥æ–¹æ³•ï¼Œå°†è¯¥æ–¹æ³•å£°æ˜ä¸ºfinalï¼Œæä¾›ä¸€ä¸ªå•ç‹¬çš„initæ–¹æ³•æ˜¯ä¾›å­ç±»é‡å†™çš„ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­è°ƒç”¨å…è®¸å­ç±»é‡å†™çš„initæ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//System.out.println("servletConfigå¯¹è±¡ï¼Œå°çŒ«å’ªåˆ›å»ºå¥½çš„ï¼š" + config);</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>config <span class="token operator">=</span> config<span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨init()æ–¹æ³•</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * è¿™ä¸ªinitæ–¹æ³•æ˜¯ä¾›å­ç±»é‡å†™çš„ã€‚
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * æŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æœ€å¸¸ç”¨ã€‚æ‰€ä»¥è¦æ±‚å­ç±»å¿…é¡»å®ç°serviceæ–¹æ³•ã€‚
     * @param servletRequest
     * @param servletResponse
     * @throws ServletException
     * @throws IOException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<blockquote> 
 <p>transient è¡¨ç¤ºä¿®é¥°çš„å±æ€§ä¸å¯åºåˆ—åŒ–</p> 
</blockquote> 
<h2><a id="_ServletConfig_1258"></a>ğŸ¥½ ServletConfig</h2> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Enumeration</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ServletConfig
 *   1. ServletConfigæ˜¯ä»€ä¹ˆï¼Ÿ
 *      jakarta.servlet.ServletConfig
 *      æ˜¾ç„¶ServletConfigæ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚
 *      ServletConfigæ˜¯ä¸€ä¸ªæ¥å£ã€‚ï¼ˆjakarta.servlet.Servletæ˜¯ä¸€ä¸ªæ¥å£ã€‚ï¼‰
 *   2. è°å»å®ç°äº†è¿™ä¸ªæ¥å£å‘¢ï¼Ÿ WEBæœåŠ¡å™¨å®ç°äº†
 *      public class org.apache.catalina.core.StandardWrapperFacade implements ServletConfig {}
 *      ç»“è®ºï¼šTomcatæœåŠ¡å™¨å®ç°äº†ServletConfigæ¥å£ã€‚
 *      æ€è€ƒï¼šå¦‚æœæŠŠTomcatæœåŠ¡å™¨æ¢æˆjettyæœåŠ¡å™¨ï¼Œè¾“å‡ºServletConfigå¯¹è±¡çš„æ—¶å€™ï¼Œè¿˜æ˜¯è¿™ä¸ªç»“æœå—ï¼Ÿ
 *          ä¸ä¸€å®šä¸€æ ·ï¼ŒåŒ…åç±»åå¯èƒ½å’ŒTomcatä¸ä¸€æ ·ã€‚ä½†æ˜¯ä»–ä»¬éƒ½å®ç°äº†ServletConfigè¿™ä¸ªè§„èŒƒã€‚
 *   3. ä¸€ä¸ªServletå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªServletConfigå¯¹è±¡ã€‚ï¼ˆServletå’ŒServletConfigå¯¹è±¡æ˜¯ä¸€å¯¹ä¸€ã€‚ï¼‰
 *      100ä¸ªServletï¼Œå°±åº”è¯¥æœ‰100ä¸ªServletConfigå¯¹è±¡ã€‚
 *   4. ServletConfigå¯¹è±¡æ˜¯è°åˆ›å»ºçš„ï¼Ÿåœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ï¼Ÿ
 *      TomcatæœåŠ¡å™¨ï¼ˆWEBæœåŠ¡å™¨ï¼‰åˆ›å»ºäº†ServletConfigå¯¹è±¡ã€‚
 *      åœ¨åˆ›å»ºServletå¯¹è±¡çš„æ—¶å€™ï¼ŒåŒæ—¶åˆ›å»ºServletConfigå¯¹è±¡ã€‚
 *   5. ServletConfigæ¥å£åˆ°åº•æ˜¯å¹²å•¥çš„ï¼Ÿæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ
 *      Configæ˜¯å“ªä¸ªå•è¯çš„ç¼©å†™ï¼Ÿ
 *          Configuration
 *      ServletConfigå¯¹è±¡è¢«ç¿»è¯‘ä¸ºï¼šServletå¯¹è±¡çš„é…ç½®ä¿¡æ¯å¯¹è±¡ã€‚
 *      ä¸€ä¸ªServletå¯¹è±¡å°±æœ‰ä¸€ä¸ªé…ç½®ä¿¡æ¯å¯¹è±¡ã€‚
 *      ä¸¤ä¸ªServletå¯¹è±¡å°±æœ‰ä¸¤ä¸ªé…ç½®ä¿¡æ¯å¯¹è±¡ã€‚
 *
 *   6. ServletConfigå¯¹è±¡ä¸­åˆ°åº•åŒ…è£…äº†ä»€ä¹ˆä¿¡æ¯å‘¢ï¼Ÿ
 *      &lt;servlet&gt;
 *         &lt;servlet-name&gt;configTest&lt;/servlet-name&gt;
 *         &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.ConfigTestServlet&lt;/servlet-class&gt;
 *     &lt;/servlet&gt;
 *     ServletConfigå¯¹è±¡ä¸­åŒ…è£…çš„ä¿¡æ¯æ˜¯ï¼š
 *          web.xmlæ–‡ä»¶ä¸­&lt;servlet&gt;&lt;/servlet&gt;æ ‡ç­¾çš„é…ç½®ä¿¡æ¯ã€‚
 *
 *     Tomcatå°çŒ«å’ªè§£æweb.xmlæ–‡ä»¶ï¼Œå°†web.xmlæ–‡ä»¶ä¸­&lt;servlet&gt;&lt;/servlet&gt;æ ‡ç­¾ä¸­çš„é…ç½®ä¿¡æ¯è‡ªåŠ¨åŒ…è£…åˆ°ServletConfigå¯¹è±¡ä¸­ã€‚
 *
 *   7. ServletConfigæ¥å£ä¸­æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ
 *      &lt;servlet&gt;
 *         &lt;servlet-name&gt;configTest&lt;/servlet-name&gt;
 *         &lt;servlet-class&gt;com.bjpowernode.javaweb.servlet.ConfigTestServlet&lt;/servlet-class&gt;
 *         &lt;!--è¿™é‡Œæ˜¯å¯ä»¥é…ç½®ä¸€ä¸ªServletå¯¹è±¡çš„åˆå§‹åŒ–ä¿¡æ¯çš„ã€‚--&gt;
 *         &lt;init-param&gt;
 *             &lt;param-name&gt;driver&lt;/param-name&gt;
 *             &lt;param-value&gt;com.mysql.cj.jdbc.Driver&lt;/param-value&gt;
 *         &lt;/init-param&gt;
 *         &lt;init-param&gt;
 *             &lt;param-name&gt;url&lt;/param-name&gt;
 *             &lt;param-value&gt;jdbc:mysql://localhost:3306/bjpowernode&lt;/param-value&gt;
 *         &lt;/init-param&gt;
 *         &lt;init-param&gt;
 *             &lt;param-name&gt;user&lt;/param-name&gt;
 *             &lt;param-value&gt;root&lt;/param-value&gt;
 *         &lt;/init-param&gt;
 *         &lt;init-param&gt;
 *             &lt;param-name&gt;password&lt;/param-name&gt;
 *             &lt;param-value&gt;root1234&lt;/param-value&gt;
 *         &lt;/init-param&gt;
 *     &lt;/servlet&gt;
 *     ä»¥ä¸Š&lt;servlet&gt;&lt;/servlet&gt;æ ‡ç­¾ä¸­çš„&lt;init-param&gt;&lt;/init-param&gt;æ˜¯åˆå§‹åŒ–å‚æ•°ã€‚è¿™ä¸ªåˆå§‹åŒ–å‚æ•°ä¿¡æ¯ä¼šè‡ªåŠ¨è¢«å°çŒ«å’ªå°è£…åˆ°ServletConfigå¯¹è±¡å½“ä¸­ã€‚
 *  8. ServletConfigæ¥å£ä¸­æœ‰4ä¸ªæ–¹æ³•ï¼š
 *      ç¬¬1ä¸ªæ–¹æ³•ï¼š
 *          public String getInitParameter(String name);
 *      ç¬¬2ä¸ªæ–¹æ³•ï¼š
 *          public Enumeration&lt;String&gt; getInitParameterNames();
 *      ç¬¬3ä¸ªæ–¹æ³•ï¼š
 *          public ServletContext getServletContext();
 *      ç¬¬4ä¸ªæ–¹æ³•ï¼š
 *          public String getServletName();
 *
 *      ä»¥ä¸Šçš„4ä¸ªæ–¹æ³•ï¼Œåœ¨è‡ªå·±ç¼–å†™çš„Servletç±»å½“ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨thiså»è°ƒç”¨ã€‚ï¼ˆè¿™ä¸ªServletç»§æ‰¿äº†GenericServletï¼‰
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigTestServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–ServletConfigå¯¹è±¡</span>
        <span class="token class-name">ServletConfig</span> config <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¾“å‡ºè¯¥å¯¹è±¡</span>
        <span class="token comment">// org.apache.catalina.core.StandardWrapperFacade@aea0d43</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ServletConfigå¯¹è±¡æ˜¯ï¼š"</span> <span class="token operator">+</span> config<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–&lt;servlet-name&gt;&lt;/servlet-name&gt;</span>
        <span class="token class-name">String</span> servletName <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;servlet-name&gt;"</span><span class="token operator">+</span>servletName<span class="token operator">+</span><span class="token string">"&lt;/servlet-name&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// é€šè¿‡ServletConfigå¯¹è±¡çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œå¯ä»¥è·å–åˆ°web.xmlæ–‡ä»¶ä¸­çš„åˆå§‹åŒ–å‚æ•°é…ç½®ä¿¡æ¯ã€‚</span>
        <span class="token comment">// java.util.Enumeration&lt;java.lang.String&gt;	getInitParameterNames() è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°çš„name</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> initParameterNames <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// éå†é›†åˆ</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>initParameterNames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// æ˜¯å¦æœ‰æ›´å¤šå…ƒç´ </span>
            <span class="token class-name">String</span> parameterName <span class="token operator">=</span> initParameterNames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å–å…ƒç´ </span>
            <span class="token class-name">String</span> parameterVal <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span>parameterName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡nameè·å–value</span>
            out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>parameterName <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> parameterVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// java.lang.String	getInitParameter(java.lang.String name) é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</span>
        <span class="token comment">/*String driver = config.getInitParameter("driver");
        out.print(driver);*/</span>
		
		<span class="token comment">// ServletConfigçš„å››ä¸ªæ–¹æ³•åœ¨è‡ªå·±ç¼–å†™çš„Servletç±»å½“ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨thiså»è°ƒç”¨ã€‚ï¼ˆè¿™ä¸ªServletç»§æ‰¿äº†GenericServletï¼ŒGenericServletå®ç°äº†ServletConfigæ¥å£ï¼‰</span>
        <span class="token comment">// å®é™…ä¸Šè·å–ä¸€ä¸ªServletå¯¹è±¡çš„åˆå§‹åŒ–å‚æ•°ï¼Œå¯ä»¥ä¸ç”¨è·å–ServletConfigå¯¹è±¡ã€‚ç›´æ¥é€šè¿‡thisä¹Ÿå¯ä»¥ã€‚</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰“å°åˆ°åå°</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre> 
<ul><li>ä»€ä¹ˆæ˜¯ServletConfigï¼Ÿ 
  <ul><li>Servletå¯¹è±¡çš„é…ç½®ä¿¡æ¯å¯¹è±¡ã€‚</li><li>ServletConfigå¯¹è±¡ä¸­å°è£…äº†<code>&lt;servlet&gt;&lt;/servlet&gt;</code>æ ‡ç­¾ä¸­çš„é…ç½®ä¿¡æ¯ã€‚ï¼ˆweb.xmlæ–‡ä»¶ä¸­servletçš„é…ç½®ä¿¡æ¯ï¼‰</li></ul> </li><li>ä¸€ä¸ªServletå¯¹åº”ä¸€ä¸ªServletConfigå¯¹è±¡ã€‚</li><li>Servletå¯¹è±¡æ˜¯TomcatæœåŠ¡å™¨åˆ›å»ºï¼Œå¹¶ä¸”ServletConfigå¯¹è±¡ä¹Ÿæ˜¯TomcatæœåŠ¡å™¨åˆ›å»ºã€‚å¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹ï¼Œä»–ä»¬éƒ½æ˜¯åœ¨ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™åˆ›å»ºã€‚</li><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„initæ–¹æ³•çš„æ—¶å€™éœ€è¦ä¼ ä¸€ä¸ªServletConfigå¯¹è±¡çš„å‚æ•°ç»™initæ–¹æ³•ã€‚</li><li>ServletConfigæ¥å£çš„å®ç°ç±»æ˜¯TomcatæœåŠ¡å™¨ç»™å®ç°çš„ã€‚ï¼ˆTomcatæœåŠ¡å™¨è¯´çš„å°±æ˜¯WEBæœåŠ¡å™¨ã€‚ï¼‰</li><li>ServletConfigæ¥å£æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ 
  <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</span>
<span class="token keyword">public</span> <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°çš„name</span>
<span class="token keyword">public</span> <span class="token class-name">ServletContext</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ServletContextå¯¹è±¡</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–Servletçš„name</span>
</code></pre> </li><li>ä»¥ä¸Šæ–¹æ³•<mark>åœ¨Servletç±»å½“ä¸­ï¼Œéƒ½å¯ä»¥ä½¿ç”¨thiså»è°ƒç”¨</mark>ã€‚å› ä¸º<mark>GenericServletå®ç°äº†ServletConfigæ¥å£</mark>ã€‚</li></ul> </li></ul> 
<h2><a id="_ServletContext_1401"></a>ğŸ¥½ ServletContext</h2> 
<pre><code class="prism language-java">        <span class="token comment">// æ€ä¹ˆè·å–ServletContextå¯¹è±¡å‘¢ï¼Ÿ</span>
        <span class="token comment">// ç¬¬ä¸€ç§æ–¹å¼ï¼šé€šè¿‡ServletConfigå¯¹è±¡è·å–ServletContextå¯¹è±¡ã€‚</span>
        <span class="token class-name">ServletContext</span> application <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¾“å‡º</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span> <span class="token operator">+</span> application<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//org.apache.catalina.core.ApplicationContextFacade@19187bbb</span>

        <span class="token comment">// ç¬¬äºŒç§æ–¹å¼ï¼šé€šè¿‡thisä¹Ÿå¯ä»¥è·å–ServletContextå¯¹è±¡ã€‚</span>
        <span class="token class-name">ServletContext</span> application2 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;br&gt;"</span> <span class="token operator">+</span> application2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//org.apache.catalina.core.ApplicationContextFacade@19187bbb</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Enumeration</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * ServletContext
 * 1. ServletContextæ˜¯ä»€ä¹ˆï¼Ÿ
 *  	ServletContextæ˜¯æ¥å£ï¼Œæ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚
 * 2. ServletContextæ˜¯è°å®ç°çš„ï¼Ÿ
 *  	TomcatæœåŠ¡å™¨ï¼ˆWEBæœåŠ¡å™¨ï¼‰å®ç°äº†ServletContextæ¥å£ã€‚
 *  	public class org.apache.catalina.core.ApplicationContextFacade implements ServletContext {}
 * 3. ServletContextå¯¹è±¡æ˜¯è°åˆ›å»ºçš„ï¼Ÿåœ¨ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ï¼Ÿ
 *  	ServletContextå¯¹è±¡åœ¨WEBæœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºã€‚
 *  	ServletContextå¯¹è±¡æ˜¯WEBæœåŠ¡å™¨åˆ›å»ºçš„ã€‚
 *  	å¯¹äºä¸€ä¸ªwebappæ¥è¯´ï¼ŒServletContextå¯¹è±¡åªæœ‰ä¸€ä¸ªã€‚
 * 		ä¸€ä¸ª&lt;web-app&gt;&lt;/web-app&gt;æ ‡ç­¾å¯¹åº”ä¸€ä¸ªServletContextå¯¹è±¡
 *  	ServletContextå¯¹è±¡åœ¨æœåŠ¡å™¨å…³é—­çš„æ—¶å€™é”€æ¯ã€‚
 * 4. ServletContextæ€ä¹ˆç†è§£ï¼Ÿ
 *  	contextæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
 *      	Servletå¯¹è±¡çš„ç¯å¢ƒå¯¹è±¡ã€‚ï¼ˆServletå¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ï¼‰
 *  	ServletContextå¯¹è±¡å…¶å®å¯¹åº”çš„å°±æ˜¯æ•´ä¸ªweb.xmlæ–‡ä»¶ã€‚
 *  	50ä¸ªå­¦ç”Ÿï¼Œæ¯ä¸ªå­¦ç”Ÿéƒ½æ˜¯ä¸€ä¸ªServletï¼Œè¿™50ä¸ªå­¦ç”Ÿéƒ½åœ¨åŒä¸€ä¸ªæ•™å®¤å½“ä¸­ã€‚é‚£ä¹ˆè¿™ä¸ªæ•™å®¤å°±ç›¸å½“äºServletContextå¯¹è±¡ã€‚
 *  	æ”¾åœ¨ServletContextå¯¹è±¡å½“ä¸­çš„æ•°æ®ï¼Œæ‰€æœ‰Servletä¸€å®šæ˜¯å…±äº«çš„ã€‚
 *  	æ¯”å¦‚ï¼šä¸€ä¸ªæ•™å®¤ä¸­çš„ç©ºè°ƒæ˜¯æ‰€æœ‰å­¦ç”Ÿå…±äº«çš„ï¼Œä¸€ä¸ªæ•™å®¤ä¸­çš„è¯­æ–‡è€å¸ˆæ˜¯æ‰€æœ‰å­¦ç”Ÿå…±äº«çš„ã€‚
 *  	Tomcatæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œä¸€ä¸ªå®¹å™¨å½“ä¸­å¯ä»¥æ”¾å¤šä¸ªwebappï¼Œä¸€ä¸ªwebappå¯¹åº”ä¸€ä¸ªServletContextå¯¹è±¡ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ServletContextå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> application <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ServletContextå¯¹è±¡æ˜¯ï¼š"</span> <span class="token operator">+</span> application <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<ul><li>ä¸€ä¸ªServletå¯¹è±¡å¯¹åº”ä¸€ä¸ªServletConfigã€‚100ä¸ªServletå¯¹è±¡åˆ™å¯¹åº”100ä¸ªServletConfigå¯¹è±¡ã€‚</li><li>åªè¦åœ¨åŒä¸€ä¸ªwebappå½“ä¸­ï¼Œåªè¦åœ¨åŒä¸€ä¸ªåº”ç”¨å½“ä¸­ï¼Œæ‰€æœ‰çš„Servletå¯¹è±¡éƒ½æ˜¯å…±äº«åŒä¸€ä¸ªServletContextå¯¹è±¡çš„ã€‚</li><li>ServletContextå¯¹è±¡åœ¨æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µåˆ›å»ºï¼Œåœ¨æœåŠ¡å™¨å…³é—­çš„æ—¶å€™é”€æ¯ã€‚è¿™å°±æ˜¯ServletContextå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚ServletContextå¯¹è±¡æ˜¯åº”ç”¨çº§å¯¹è±¡ã€‚</li><li>TomcatæœåŠ¡å™¨ä¸­æœ‰ä¸€ä¸ªwebappsï¼Œè¿™ä¸ªwebappsä¸‹å¯ä»¥å­˜æ”¾webappï¼Œå¯ä»¥å­˜æ”¾å¤šä¸ªwebappï¼Œå‡è®¾æœ‰100ä¸ªwebappï¼Œé‚£ä¹ˆå°±æœ‰100ä¸ªServletContextå¯¹è±¡ã€‚ä½†æ˜¯ï¼Œæ€»ä¹‹ï¼Œä¸€ä¸ªåº”ç”¨ï¼Œä¸€ä¸ªwebappè‚¯å®šæ˜¯åªæœ‰ä¸€ä¸ªServletContextå¯¹è±¡ã€‚</li><li>ServletContextè¢«ç§°ä¸ºServletä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ï¼ˆServletå¯¹è±¡çš„å››å‘¨ç¯å¢ƒå¯¹è±¡ã€‚ï¼‰</li><li>ä¸€ä¸ªServletContextå¯¹è±¡é€šå¸¸å¯¹åº”çš„æ˜¯ä¸€ä¸ªweb.xmlæ–‡ä»¶ã€‚</li><li>ServletContextå¯¹åº”æ˜¾ç¤ºç”Ÿæ´»ä¸­çš„ä»€ä¹ˆä¾‹å­å‘¢ï¼Ÿ 
  <ul><li>ä¸€ä¸ªæ•™å®¤é‡Œæœ‰å¤šä¸ªå­¦ç”Ÿï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå­¦ç”Ÿå°±æ˜¯ä¸€ä¸ªServletï¼Œè¿™äº›å­¦ç”Ÿéƒ½åœ¨åŒä¸€ä¸ªæ•™å®¤å½“ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ•™å®¤å«åšServletContextå¯¹è±¡ã€‚é‚£ä¹ˆä¹Ÿå°±æ˜¯è¯´æ”¾åœ¨è¿™ä¸ªServletContextå¯¹è±¡ï¼ˆç¯å¢ƒï¼‰å½“ä¸­çš„æ•°æ®ï¼Œåœ¨åŒä¸€ä¸ªæ•™å®¤å½“ä¸­ï¼Œç‰©å“éƒ½æ˜¯å…±äº«çš„ã€‚æ¯”å¦‚ï¼šæ•™å®¤ä¸­æœ‰ä¸€ä¸ªç©ºè°ƒï¼Œæ‰€æœ‰çš„å­¦ç”Ÿéƒ½å¯ä»¥æ“ä½œã€‚å¯è§ï¼Œç©ºè°ƒæ˜¯å…±äº«çš„ã€‚å› ä¸ºç©ºè°ƒæ”¾åœ¨æ•™å®¤å½“ä¸­ã€‚æ•™å®¤å°±æ˜¯ServletContextå¯¹è±¡ã€‚</li></ul> </li><li>ServletContextæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒTomcatæœåŠ¡å™¨å¯¹ServletContextæ¥å£è¿›è¡Œäº†å®ç°ã€‚ 
  <ul><li>ServletContextå¯¹è±¡çš„åˆ›å»ºä¹Ÿæ˜¯TomcatæœåŠ¡å™¨æ¥å®Œæˆçš„ã€‚å¯åŠ¨webappçš„æ—¶å€™åˆ›å»ºçš„ã€‚</li></ul> </li><li>ServletContextæ¥å£ä¸­æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ 
  <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</span>
<span class="token keyword">public</span> <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ‰€æœ‰çš„åˆå§‹åŒ–å‚æ•°çš„name</span>
</code></pre> </li><li> <pre><code class="prism language-xml"><span class="token comment">&lt;!--ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•æ˜¯ServletContextå¯¹è±¡çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è·å–çš„æ˜¯ä»€ä¹ˆä¿¡æ¯ï¼Ÿæ˜¯ä»¥ä¸‹çš„é…ç½®ä¿¡æ¯--&gt;</span>
<span class="token comment">&lt;!--ä¸Šä¸‹æ–‡çš„åˆå§‹åŒ–å‚æ•°ï¼Œä»¥ä¸‹çš„è¿™äº›é…ç½®ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ServletContextå¯¹è±¡æ¥è·å–--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>pageSize<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>startIndex<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--æ³¨æ„ï¼šä»¥ä¸Šçš„é…ç½®ä¿¡æ¯å±äºåº”ç”¨çº§çš„é…ç½®ä¿¡æ¯ï¼Œä¸€èˆ¬ä¸€ä¸ªé¡¹ç›®ä¸­å…±äº«çš„é…ç½®ä¿¡æ¯ä¼šæ”¾åˆ°ä»¥ä¸Šçš„æ ‡ç­¾å½“ä¸­ã€‚--&gt;</span>
<span class="token comment">&lt;!--å¦‚æœä½ çš„é…ç½®ä¿¡æ¯åªæ˜¯æƒ³ç»™æŸä¸€ä¸ªservletä½œä¸ºå‚è€ƒï¼Œé‚£ä¹ˆä½ é…ç½®åˆ°servletæ ‡ç­¾å½“ä¸­å³å¯ï¼Œä½¿ç”¨ServletConfigå¯¹è±¡æ¥è·å–ã€‚--&gt;</span>
</code></pre> <pre><code class="prism language-java">   <span class="token comment">// è·å–ä¸Šä¸‹æ–‡çš„åˆå§‹åŒ–å‚æ•°</span>
   <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> initParameterNames <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">while</span><span class="token punctuation">(</span>initParameterNames<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token class-name">String</span> name <span class="token operator">=</span> initParameterNames<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">String</span> value <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
       out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre> </li><li>å¦‚æœé…ç½®ä¿¡æ¯æ˜¯åœ¨æ•´ä¸ªé¡¹ç›®å…¨å±€ä¸­è¿›è¡Œä½¿ç”¨ï¼Œåˆ™å°†é…ç½®ä¿¡æ¯é…ç½®åˆ°å…¨å±€çš„ä¸Šä¸‹æ–‡å‚æ•°ä¸­ï¼Œå¦‚æœä½ çš„é…ç½®ä¿¡æ¯åªæ˜¯æƒ³ç»™æŸä¸€ä¸ªservletä½œä¸ºå‚è€ƒï¼Œé‚£ä¹ˆä½ é…ç½®åˆ°servletæ ‡ç­¾å½“ä¸­å³å¯ï¼Œä½¿ç”¨ServletConfigå¯¹è±¡æ¥è·å–ã€‚</li><li> <pre><code class="prism language-java"><span class="token comment">// è·å–åº”ç”¨çš„æ ¹è·¯å¾„ï¼ˆéå¸¸é‡è¦ï¼‰ï¼Œå› ä¸ºåœ¨javaæºä»£ç å½“ä¸­æœ‰ä¸€äº›åœ°æ–¹å¯èƒ½ä¼šéœ€è¦åº”ç”¨çš„æ ¹è·¯å¾„ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥åŠ¨æ€è·å–åº”ç”¨çš„æ ¹è·¯å¾„</span>
<span class="token comment">// åœ¨javaæºç å½“ä¸­ï¼Œä¸è¦å°†åº”ç”¨çš„æ ¹è·¯å¾„å†™æ­»ï¼Œå› ä¸ºä½ æ°¸è¿œéƒ½ä¸çŸ¥é“è¿™ä¸ªåº”ç”¨åœ¨æœ€ç»ˆéƒ¨ç½²çš„æ—¶å€™ï¼Œèµ·ä¸€ä¸ªä»€ä¹ˆåå­—ã€‚</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//String contextPath = application.getContextPath();</span>
</code></pre> <pre><code class="prism language-java"><span class="token comment">// è·å–context path ï¼ˆè·å–åº”ç”¨ä¸Šä¸‹æ–‡çš„æ ¹ï¼‰</span>
<span class="token class-name">String</span> contextPath <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>contextPath <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <pre><code class="prism language-java"><span class="token comment">// è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼ˆçœŸå®è·¯å¾„ï¼‰</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token class-name">String</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <pre><code class="prism language-java"><span class="token comment">// è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span>
<span class="token comment">// åé¢çš„è¿™ä¸ªè·¯å¾„ï¼ŒåŠ äº†ä¸€ä¸ªâ€œ/â€ï¼Œè¿™ä¸ªâ€œ/â€ä»£è¡¨çš„æ˜¯webçš„æ ¹</span>
<span class="token comment">//String realPath = application.getRealPath("/index.html"); // å¯ä»¥</span>
<span class="token comment">// ä½ ä¸åŠ â€œ/â€ï¼Œé»˜è®¤ä¹Ÿæ˜¯ä»æ ¹ä¸‹å¼€å§‹æ‰¾ã€‚</span>
<span class="token comment">//String realPath = application.getRealPath("index.html"); // ä¸åŠ â€œ/â€ä¹Ÿå¯ä»¥</span>
<span class="token comment">//out.print(realPath + "&lt;br&gt;");</span>

<span class="token comment">// C:\Users\Administrator\IdeaProjects\javaweb\out\artifacts\servlet04_war_exploded\common\common.html</span>
<span class="token class-name">String</span> realPath <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">"/common/common.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>realPath <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <pre><code class="prism language-java"><span class="token comment">// é€šè¿‡ServletContextå¯¹è±¡ä¹Ÿæ˜¯å¯ä»¥è®°å½•æ—¥å¿—çš„</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è®°å½•æ—¥å¿—ä¿¡æ¯å¤–ï¼Œè¿˜è®°å½•å¼‚å¸¸ä¿¡æ¯ï¼Œæ§åˆ¶å°ä¸ä¼šå‘é€å¼‚å¸¸ï¼Œåªæ˜¯è®°å½•å¼‚å¸¸ä¿¡æ¯</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è¿™äº›æ—¥å¿—ä¿¡æ¯è®°å½•åˆ°å“ªé‡Œäº†ï¼Ÿ</span>
<span class="token comment">// localhost.2021-11-05.log</span>

<span class="token comment">// IDEAå·¥å…·çš„TomcatæœåŠ¡å™¨æ˜¯æ ¹æ®ä¸‹è½½çš„TomcatæœåŠ¡å™¨ç”Ÿæˆçš„å‰¯æœ¬</span>
<span class="token comment">// TomcatæœåŠ¡å™¨çš„logsç›®å½•ä¸‹éƒ½æœ‰å“ªäº›æ—¥å¿—æ–‡ä»¶ï¼Ÿ</span>
<span class="token comment">//catalina.2021-11-05.log æœåŠ¡å™¨ç«¯çš„javaç¨‹åºè¿è¡Œçš„æ§åˆ¶å°ä¿¡æ¯ã€‚</span>
<span class="token comment">//localhost.2021-11-05.log ServletContextå¯¹è±¡çš„logæ–¹æ³•è®°å½•çš„æ—¥å¿—ä¿¡æ¯å­˜å‚¨åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</span>
<span class="token comment">//localhost_access_log.2021-11-05.txt è®¿é—®æ—¥å¿—</span>
</code></pre> <pre><code class="prism language-java"><span class="token comment">// log</span>
<span class="token comment">// è¿™ä¸ªæ—¥å¿—ä¼šè‡ªåŠ¨è®°å½•åˆ°å“ªé‡Œå‘¢ï¼Ÿ</span>
<span class="token comment">// CATALINA_HOME/logsç›®å½•ä¸‹ã€‚</span>
<span class="token comment">//application.log("å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯åŠ¨åŠ›èŠ‚ç‚¹æœè€å¸ˆï¼Œæ¬¢è¿å¤§å®¶å’Œæˆ‘ä¸€èµ·å­¦ä¹ Servletè§„èŒƒï¼");</span>

<span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">17</span><span class="token punctuation">;</span> <span class="token comment">// 17å²</span>
<span class="token comment">// å½“å¹´é¾„å°äº18å²çš„æ—¶å€™ï¼Œè¡¨ç¤ºéæ³•ï¼Œè®°å½•æ—¥å¿—</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    application<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å¯¹ä¸èµ·ï¼Œæ‚¨æœªæˆå¹´ï¼Œè¯·ç»•è¡Œï¼"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"å°å±å­©ï¼Œå¿«èµ°å¼€ï¼Œä¸é€‚åˆä½ ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <pre><code class="prism language-java"><span class="token comment">// ServletContextå¯¹è±¡è¿˜æœ‰å¦ä¸€ä¸ªåå­—ï¼šåº”ç”¨åŸŸï¼ˆåé¢è¿˜æœ‰å…¶ä»–åŸŸï¼Œä¾‹å¦‚ï¼šè¯·æ±‚åŸŸã€ä¼šè¯åŸŸï¼‰</span>

<span class="token comment">// å¦‚æœæ‰€æœ‰çš„ç”¨æˆ·å…±äº«ä¸€ä»½æ•°æ®ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°æ®å¾ˆå°‘çš„è¢«ä¿®æ”¹ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°æ®é‡å¾ˆå°‘ï¼Œå¯ä»¥å°†è¿™äº›æ•°æ®æ”¾åˆ°ServletContextè¿™ä¸ªåº”ç”¨åŸŸä¸­</span>

<span class="token comment">// ä¸ºä»€ä¹ˆæ˜¯æ‰€æœ‰ç”¨æˆ·å…±äº«çš„æ•°æ®ï¼Ÿ ä¸æ˜¯å…±äº«çš„æ²¡æœ‰æ„ä¹‰ã€‚å› ä¸ºServletContextè¿™ä¸ªå¯¹è±¡åªæœ‰ä¸€ä¸ªã€‚åªæœ‰å…±äº«çš„æ•°æ®æ”¾è¿›å»æ‰æœ‰æ„ä¹‰ã€‚</span>

<span class="token comment">// ä¸ºä»€ä¹ˆæ•°æ®é‡è¦å°ï¼Ÿ å› ä¸ºæ•°æ®é‡æ¯”è¾ƒå¤§çš„è¯ï¼Œå¤ªå ç”¨å †å†…å­˜ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé•¿ï¼ŒæœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼Œè¿™ä¸ªå¯¹è±¡æ‰ä¼šè¢«é”€æ¯ã€‚å¤§æ•°æ®é‡ä¼šå½±å“æœåŠ¡å™¨çš„æ€§èƒ½ã€‚å ç”¨å†…å­˜è¾ƒå°çš„æ•°æ®é‡å¯ä»¥è€ƒè™‘æ”¾è¿›å»ã€‚</span>

<span class="token comment">// ä¸ºä»€ä¹ˆè¿™äº›å…±äº«æ•°æ®å¾ˆå°‘çš„ä¿®æ”¹ï¼Œæˆ–è€…è¯´å‡ ä¹ä¸ä¿®æ”¹ï¼Ÿ</span>
<span class="token comment">// æ‰€æœ‰ç”¨æˆ·å…±äº«çš„æ•°æ®ï¼Œå¦‚æœæ¶‰åŠåˆ°ä¿®æ”¹æ“ä½œï¼Œå¿…ç„¶ä¼šå­˜åœ¨çº¿ç¨‹å¹¶å‘æ‰€å¸¦æ¥çš„å®‰å…¨é—®é¢˜ã€‚æ‰€ä»¥æ”¾åœ¨ServletContextå¯¹è±¡ä¸­çš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯åªè¯»çš„ã€‚</span>

<span class="token comment">// æ•°æ®é‡å°ã€æ‰€æœ‰ç”¨æˆ·å…±äº«ã€åˆä¸ä¿®æ”¹ï¼Œè¿™æ ·çš„æ•°æ®æ”¾åˆ°ServletContextè¿™ä¸ªåº”ç”¨åŸŸå½“ä¸­ï¼Œä¼šå¤§å¤§æå‡æ•ˆç‡ã€‚å› ä¸ºåº”ç”¨åŸŸç›¸å½“äºä¸€ä¸ªç¼“å­˜ï¼Œæ”¾åˆ°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¸‹æ¬¡åœ¨ç”¨çš„æ—¶å€™ï¼Œä¸éœ€è¦ä»æ•°æ®åº“ä¸­å†æ¬¡è·å–ï¼Œå¤§å¤§æå‡æ‰§è¡Œæ•ˆç‡ã€‚</span>

<span class="token comment">// å­˜ï¼ˆæ€ä¹ˆå‘ServletContextåº”ç”¨åŸŸä¸­å­˜æ•°æ®ï¼‰</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// map.put(k, v)</span>
<span class="token comment">// å–ï¼ˆæ€ä¹ˆä»ServletContextåº”ç”¨åŸŸä¸­å–æ•°æ®ï¼‰</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object v = map.get(k)</span>
<span class="token comment">// åˆ ï¼ˆæ€ä¹ˆåˆ é™¤ServletContextåº”ç”¨åŸŸä¸­çš„æ•°æ®ï¼‰</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// map.remove(k)</span>
</code></pre> <pre><code class="prism language-java"><span class="token comment">// å‡†å¤‡æ•°æ®</span>
<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"jack"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å‘ServletContextåº”ç”¨åŸŸå½“ä¸­å­˜å‚¨æ•°æ®</span>
application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"userObj"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å–å‡ºæ¥</span>
<span class="token comment">//Object userObj = application.getAttribute("userObj");</span>
<span class="token comment">// è¾“å‡ºåˆ°æµè§ˆå™¨</span>
<span class="token comment">//out.print(userObj + "&lt;br&gt;");</span>
</code></pre> </li></ul> </li><li>æ³¨æ„ï¼šä»¥åæˆ‘ä»¬ç¼–å†™Servletç±»çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯ä¸ä¼šå»ç›´æ¥ç»§æ‰¿GenericServletç±»çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯B/Sç»“æ„çš„ç³»ç»Ÿï¼Œè¿™ç§ç³»ç»Ÿæ˜¯åŸºäºHTTPè¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ï¼Œåœ¨Servletè§„èŒƒå½“ä¸­ï¼Œæä¾›äº†ä¸€ä¸ªç±»å«åšHttpServletï¼Œå®ƒæ˜¯ä¸“é—¨ä¸ºHTTPåè®®å‡†å¤‡çš„ä¸€ä¸ªServletç±»ã€‚æˆ‘ä»¬ç¼–å†™çš„Servletç±»è¦ç»§æ‰¿HttpServletã€‚ï¼ˆHttpServletæ˜¯HTTPåè®®ä¸“ç”¨çš„ã€‚ï¼‰ä½¿ç”¨HttpServletå¤„ç†HTTPåè®®æ›´ä¾¿æ·ã€‚ä½†æ˜¯ä½ éœ€è¦ç›´åˆ°å®ƒçš„ç»§æ‰¿ç»“æ„ï¼š 
  <ul><li> <pre><code>jakarta.servlet.Servletï¼ˆæ¥å£ï¼‰ã€çˆ·çˆ·ã€‘
jakarta.servlet.GenericServlet implements Servletï¼ˆæŠ½è±¡ç±»ï¼‰ã€å„¿å­ã€‘
jakarta.servlet.http.HttpServlet extends GenericServletï¼ˆæŠ½è±¡ç±»ï¼‰ã€å­™å­ã€‘

æˆ‘ä»¬ä»¥åç¼–å†™çš„Servletè¦ç»§æ‰¿HttpServletç±»ã€‚
</code></pre> </li></ul> </li></ul> 
<h2><a id="__1593"></a>ğŸ¥½ ç¼“å­˜æœºåˆ¶</h2> 
<ul><li>å¤§å®¶åˆ°ç›®å‰ä¸ºæ­¢éƒ½æ¥è§¦è¿‡å“ªäº›ç¼“å­˜æœºåˆ¶äº†ï¼Ÿ 
  <ul><li>å †å†…å­˜å½“ä¸­çš„å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚ 
    <ul><li>â€œabcâ€ å…ˆåœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥æ‹¿æ¥ç”¨ã€‚å¦‚æœæ²¡æœ‰åˆ™æ–°å»ºï¼Œç„¶åå†æ”¾å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚</li></ul> </li><li>å †å†…å­˜å½“ä¸­çš„æ•´æ•°å‹å¸¸é‡æ± ã€‚ 
    <ul><li>[-128 ~ 127] ä¸€å…±256ä¸ªIntegerç±»å‹çš„å¼•ç”¨ï¼Œæ”¾åœ¨æ•´æ•°å‹å¸¸é‡æ± ä¸­ã€‚æ²¡æœ‰è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„è¯ï¼Œç›´æ¥ä»å¸¸é‡æ± ä¸­å–ã€‚</li></ul> </li><li>è¿æ¥æ± (Connection Cache) 
    <ul><li>è¿™é‡Œæ‰€è¯´çš„è¿æ¥æ± ä¸­çš„è¿æ¥æ˜¯javaè¯­è¨€è¿æ¥æ•°æ®åº“çš„è¿æ¥å¯¹è±¡ï¼šjava.sql.Connectionå¯¹è±¡ã€‚</li><li>JVMæ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚MySQLæ•°æ®åº“æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å’Œè¿›ç¨‹ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œæ‰“å¼€é€šé“æ˜¯å¾ˆè´¹åŠ²çš„ã€‚æ˜¯å¾ˆè€—è´¹èµ„æºçš„ã€‚æ€ä¹ˆåŠï¼Ÿå¯ä»¥æå‰å…ˆåˆ›å»ºå¥½Nä¸ªConnectionè¿æ¥å¯¹è±¡ï¼Œå°†è¿æ¥å¯¹è±¡æ”¾åˆ°ä¸€ä¸ªé›†åˆå½“ä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªæ”¾æœ‰Connectionå¯¹è±¡çš„é›†åˆç§°ä¸ºè¿æ¥æ± ã€‚æ¯ä¸€æ¬¡ç”¨æˆ·è¿æ¥çš„æ—¶å€™ä¸éœ€è¦å†æ–°å»ºè¿æ¥å¯¹è±¡ï¼Œçœå»äº†æ–°å»ºçš„ç¯èŠ‚ï¼Œç›´æ¥ä»è¿æ¥æ± ä¸­è·å–è¿æ¥å¯¹è±¡ï¼Œå¤§å¤§æå‡è®¿é—®æ•ˆç‡ã€‚</li><li>è¿æ¥æ±  
      <ul><li>æœ€å°è¿æ¥æ•°</li><li>æœ€å¤§è¿æ¥æ•°</li><li>è¿æ¥æ± å¯ä»¥æé«˜ç”¨æˆ·çš„è®¿é—®æ•ˆç‡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®åº“çš„å®‰å…¨æ€§ã€‚</li></ul> </li></ul> </li><li>çº¿ç¨‹æ±  
    <ul><li>TomcatæœåŠ¡å™¨æœ¬èº«å°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚</li><li>TomcatæœåŠ¡å™¨æ˜¯åœ¨ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œå°±æ–°å»ºä¸€ä¸ªThreadçº¿ç¨‹å¯¹è±¡å—ï¼Ÿ 
      <ul><li>å½“ç„¶ä¸æ˜¯ï¼Œå®é™…ä¸Šæ˜¯åœ¨TomcatæœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šå…ˆåˆ›å»ºå¥½Nå¤šä¸ªçº¿ç¨‹Threadå¯¹è±¡ï¼Œç„¶åå°†çº¿ç¨‹å¯¹è±¡æ”¾åˆ°é›†åˆå½“ä¸­ï¼Œç§°ä¸ºçº¿ç¨‹æ± ã€‚ç”¨æˆ·å‘é€è¯·æ±‚è¿‡æ¥ä¹‹åï¼Œéœ€è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„çº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™çº¿ç¨‹å¯¹è±¡å°±ä¼šç›´æ¥ä»çº¿ç¨‹æ± ä¸­æ‹¿ï¼Œæ•ˆç‡æ¯”è¾ƒé«˜ã€‚</li><li>æ‰€æœ‰çš„WEBæœåŠ¡å™¨ï¼Œæˆ–è€…åº”ç”¨æœåŠ¡å™¨ï¼Œéƒ½æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ï¼Œéƒ½æœ‰çº¿ç¨‹æ± æœºåˆ¶ã€‚</li></ul> </li></ul> </li><li>redis 
    <ul><li>NoSQLæ•°æ®åº“ã€‚éå…³ç³»å‹æ•°æ®åº“ã€‚ç¼“å­˜æ•°æ®åº“ã€‚</li></ul> </li><li>å‘ServletContextåº”ç”¨åŸŸä¸­å­˜å‚¨æ•°æ®ï¼Œä¹Ÿç­‰äºæ˜¯å°†æ•°æ®å­˜æ”¾åˆ°ç¼“å­˜cacheå½“ä¸­äº†ã€‚</li></ul> </li></ul> 
<h2><a id="_HTTP_1615"></a>ğŸ¥½ HTTPåè®®</h2> 
<ul><li>ä»€ä¹ˆæ˜¯åè®®ï¼Ÿ 
  <ul><li>åè®®å®é™…ä¸Šæ˜¯æŸäº›äººï¼Œæˆ–è€…æŸäº›ç»„ç»‡æå‰åˆ¶å®šå¥½çš„ä¸€å¥—è§„èŒƒï¼Œå¤§å®¶éƒ½æŒ‰ç…§è¿™ä¸ªè§„èŒƒæ¥ï¼Œè¿™æ ·å¯ä»¥åšåˆ°æ²Ÿé€šæ— éšœç¢ã€‚</li><li>åè®®å°±æ˜¯ä¸€å¥—è§„èŒƒï¼Œå°±æ˜¯ä¸€å¥—æ ‡å‡†ã€‚ç”±å…¶ä»–äººæˆ–å…¶ä»–ç»„ç»‡æ¥è´Ÿè´£åˆ¶å®šçš„ã€‚</li><li>æˆ‘è¯´çš„è¯ä½ èƒ½å¬æ‡‚ï¼Œä½ è¯´çš„è¯ï¼Œæˆ‘ä¹Ÿèƒ½å¬æ‡‚ï¼Œè¿™è¯´æ˜æˆ‘ä»¬ä¹‹é—´æ˜¯æœ‰ä¸€å¥—è§„èŒƒçš„ï¼Œä¸€å¥—åè®®çš„ï¼Œè¿™å¥—åè®®å°±æ˜¯ï¼šä¸­å›½æ™®é€šè¯åè®®ã€‚æˆ‘ä»¬éƒ½éµå®ˆè¿™å¥—åè®®ï¼Œæˆ‘ä»¬ä¹‹é—´å°±å¯ä»¥æ²Ÿé€šæ— éšœç¢ã€‚</li></ul> </li><li>ä»€ä¹ˆæ˜¯HTTPåè®®ï¼Ÿ 
  <ul><li>HTTPåè®®ï¼šæ˜¯W3Cåˆ¶å®šçš„ä¸€ç§è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€‚ï¼ˆé€šä¿¡åè®®ï¼šå‘é€æ¶ˆæ¯çš„æ¨¡æ¿æå‰è¢«åˆ¶å®šå¥½ã€‚ï¼‰</li><li>W3Cï¼š 
    <ul><li>ä¸‡ç»´ç½‘è”ç›Ÿç»„ç»‡</li><li>è´Ÿè´£åˆ¶å®šæ ‡å‡†çš„ï¼šHTTP HTML4.0 HTML5 XML DOMç­‰è§„èŒƒéƒ½æ˜¯W3Cåˆ¶å®šçš„ã€‚</li><li>ä¸‡ç»´ç½‘ä¹‹çˆ¶ï¼šè’‚å§†Â·ä¼¯çº³æ–¯Â·æ</li></ul> </li><li>ä»€ä¹ˆæ˜¯è¶…æ–‡æœ¬ï¼Ÿ 
    <ul><li>è¶…æ–‡æœ¬è¯´çš„å°±æ˜¯ï¼šä¸æ˜¯æ™®é€šæ–‡æœ¬ï¼Œæ¯”å¦‚æµåª’ä½“ï¼šå£°éŸ³ã€è§†é¢‘ã€å›¾ç‰‡ç­‰ã€‚</li><li>HTTPåè®®æ”¯æŒï¼šä¸ä½†å¯ä»¥ä¼ é€æ™®é€šå­—ç¬¦ä¸²ï¼ŒåŒæ ·æ”¯æŒä¼ é€’å£°éŸ³ã€è§†é¢‘ã€å›¾ç‰‡ç­‰æµåª’ä½“ä¿¡æ¯ã€‚</li></ul> </li><li>è¿™ç§åè®®æ¸¸èµ°åœ¨Bå’ŒSä¹‹é—´ã€‚Bå‘Så‘æ•°æ®è¦éµå¾ªHTTPåè®®ã€‚Så‘Bå‘æ•°æ®åŒæ ·éœ€è¦éµå¾ªHTTPåè®®ã€‚è¿™æ ·Bå’ŒSæ‰èƒ½è§£è€¦åˆã€‚</li><li>ä»€ä¹ˆæ˜¯è§£è€¦åˆï¼Ÿ 
    <ul><li>Bä¸ä¾èµ–Sã€‚</li><li>Sä¹Ÿä¸ä¾èµ–Bã€‚</li></ul> </li><li>B/Sè¡¨ç¤ºï¼šB/Sç»“æ„çš„ç³»ç»Ÿï¼ˆæµè§ˆå™¨è®¿é—®WEBæœåŠ¡å™¨çš„ç³»ç»Ÿï¼‰</li><li>æµè§ˆå™¨ å‘ WEBæœåŠ¡å™¨å‘é€æ•°æ®ï¼Œå«åšï¼šè¯·æ±‚ï¼ˆrequest)</li><li>WEBæœåŠ¡å™¨ å‘ æµè§ˆå™¨å‘é€æ•°æ®ï¼Œå«åšï¼šå“åº”ï¼ˆresponseï¼‰</li><li>HTTPåè®®åŒ…æ‹¬ï¼š 
    <ul><li>è¯·æ±‚åè®® 
      <ul><li>æµè§ˆå™¨ å‘ WEBæœåŠ¡å™¨å‘é€æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘é€çš„æ•°æ®éœ€è¦éµå¾ªä¸€å¥—æ ‡å‡†ï¼Œè¿™å¥—æ ‡å‡†ä¸­è§„å®šäº†å‘é€çš„æ•°æ®å…·ä½“æ ¼å¼ã€‚</li></ul> </li><li>å“åº”åè®® 
      <ul><li>WEBæœåŠ¡å™¨ å‘ æµè§ˆå™¨å‘é€æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå‘é€çš„æ•°æ®éœ€è¦éµå¾ªä¸€å¥—æ ‡å‡†ï¼Œè¿™å¥—æ ‡å‡†ä¸­è§„å®šäº†å‘é€çš„æ•°æ®å…·ä½“æ ¼å¼ã€‚</li></ul> </li></ul> </li><li>HTTPåè®®å°±æ˜¯æå‰åˆ¶å®šå¥½çš„ä¸€ç§æ¶ˆæ¯æ¨¡æ¿ã€‚ 
    <ul><li>ä¸ç®¡ä½ æ˜¯å“ªä¸ªå“ç‰Œçš„æµè§ˆå™¨ï¼Œéƒ½æ˜¯è¿™ä¹ˆå‘ã€‚</li><li>ä¸ç®¡ä½ æ˜¯å“ªä¸ªå“ç‰Œçš„WEBæœåŠ¡å™¨ï¼Œéƒ½æ˜¯è¿™ä¹ˆå‘ã€‚</li><li>FFæµè§ˆå™¨ å¯ä»¥å‘ Tomcatå‘é€è¯·æ±‚ï¼Œä¹Ÿå¯ä»¥å‘JettyæœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚æµè§ˆå™¨ä¸ä¾èµ–å…·ä½“çš„æœåŠ¡å™¨å“ç‰Œã€‚</li><li>WEBæœåŠ¡å™¨ä¹Ÿä¸ä¾èµ–å…·ä½“çš„æµè§ˆå™¨å“ç‰Œã€‚å¯ä»¥æ˜¯FFæµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯Chromeæµè§ˆå™¨ï¼Œå¯ä»¥æ˜¯IEï¼Œéƒ½è¡Œã€‚</li></ul> </li></ul> </li><li>HTTPçš„è¯·æ±‚åè®®ï¼ˆB --&gt; Sï¼‰ 
  <ul><li>HTTPçš„è¯·æ±‚åè®®åŒ…æ‹¬ï¼š4éƒ¨åˆ† 
    <ul><li>è¯·æ±‚è¡Œ</li><li>è¯·æ±‚å¤´</li><li>ç©ºç™½è¡Œ</li><li>è¯·æ±‚ä½“</li></ul> </li><li>HTTPè¯·æ±‚åè®®çš„å…·ä½“æŠ¥æ–‡ï¼šGETè¯·æ±‚ 
    <ul><li> <pre><code>GET /servlet05/getServlet?username=lucy&amp;userpwd=1111 HTTP/1.1                           è¯·æ±‚è¡Œ
Host: localhost:8080                                                                    è¯·æ±‚å¤´
Connection: keep-alive
sec-ch-ua: "Google Chrome";v="95", "Chromium";v="95", ";Not A Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Referer: http://localhost:8080/servlet05/index.html
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
                                                                                        ç©ºç™½è¡Œ
                                                                                        è¯·æ±‚ä½“
</code></pre> </li></ul> </li><li>HTTPè¯·æ±‚åè®®çš„å…·ä½“æŠ¥æ–‡ï¼šPOSTè¯·æ±‚ 
    <ul><li> <pre><code>POST /servlet05/postServlet HTTP/1.1                                                  è¯·æ±‚è¡Œ
Host: localhost:8080                                                                  è¯·æ±‚å¤´
Connection: keep-alive
Content-Length: 25
Cache-Control: max-age=0
sec-ch-ua: "Google Chrome";v="95", "Chromium";v="95", ";Not A Brand";v="99"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Upgrade-Insecure-Requests: 1
Origin: http://localhost:8080
Content-Type: application/x-www-form-urlencoded
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.54 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: same-origin
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Referer: http://localhost:8080/servlet05/index.html
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
                                                                                      ç©ºç™½è¡Œ
username=lisi&amp;userpwd=123                                                             è¯·æ±‚ä½“
</code></pre> </li></ul> </li><li>è¯·æ±‚è¡Œ 
    <ul><li>åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼š 
      <ul><li>ç¬¬ä¸€éƒ¨åˆ†ï¼šè¯·æ±‚æ–¹å¼ï¼ˆ7ç§ï¼‰ 
        <ul><li>getï¼ˆå¸¸ç”¨çš„ï¼‰</li><li>postï¼ˆå¸¸ç”¨çš„ï¼‰</li><li>delete</li><li>put</li><li>head</li><li>options</li><li>trace</li></ul> </li><li>ç¬¬äºŒéƒ¨åˆ†ï¼šURI 
        <ul><li>ä»€ä¹ˆæ˜¯URIï¼Ÿ ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚ä»£è¡¨ç½‘ç»œä¸­æŸä¸ªèµ„æºçš„åå­—ã€‚ä½†æ˜¯é€šè¿‡URIæ˜¯æ— æ³•å®šä½èµ„æºçš„ã€‚</li><li>ä»€ä¹ˆæ˜¯URLï¼Ÿç»Ÿä¸€èµ„æºå®šä½ç¬¦ã€‚ä»£è¡¨ç½‘ç»œä¸­æŸä¸ªèµ„æºï¼ŒåŒæ—¶ï¼Œé€šè¿‡URLæ˜¯å¯ä»¥å®šä½åˆ°è¯¥èµ„æºçš„ã€‚</li><li>URIå’ŒURLä»€ä¹ˆå…³ç³»ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 
          <ul><li>URLåŒ…æ‹¬URI</li><li>http://localhost:8080/servlet05/index.html è¿™æ˜¯URLã€‚</li><li>/servlet05/index.html è¿™æ˜¯URIã€‚</li></ul> </li></ul> </li><li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šHTTPåè®®ç‰ˆæœ¬å·</li></ul> </li></ul> </li><li>è¯·æ±‚å¤´ 
    <ul><li>è¯·æ±‚çš„ä¸»æœº</li><li>ä¸»æœºçš„ç«¯å£</li><li>æµè§ˆå™¨ä¿¡æ¯</li><li>å¹³å°ä¿¡æ¯</li><li>cookieç­‰ä¿¡æ¯</li><li>â€¦</li></ul> </li><li>ç©ºç™½è¡Œ 
    <ul><li>ç©ºç™½è¡Œæ˜¯ç”¨æ¥åŒºåˆ†â€œè¯·æ±‚å¤´â€å’Œâ€œè¯·æ±‚ä½“â€</li></ul> </li><li>è¯·æ±‚ä½“ 
    <ul><li>å‘æœåŠ¡å™¨å‘é€çš„å…·ä½“æ•°æ®ã€‚</li></ul> </li></ul> </li><li>HTTPçš„å“åº”åè®®ï¼ˆS --&gt; Bï¼‰ 
  <ul><li>HTTPçš„å“åº”åè®®åŒ…æ‹¬ï¼š4éƒ¨åˆ† 
    <ul><li>çŠ¶æ€è¡Œ</li><li>å“åº”å¤´</li><li>ç©ºç™½è¡Œ</li><li>å“åº”ä½“</li></ul> </li><li>out.println() æ˜¯è¾“å‡ºä¿¡æ¯åˆ°æµè§ˆå™¨ï¼Œæœ€ç»ˆæºä»£ç ä¸­æ¢è¡Œã€‚ï¼ˆä¸æ˜¯ç½‘é¡µä¸Šæœ‰æ¢è¡Œæ•ˆæœï¼Œç½‘é¡µä¸Šæœ‰æ¢è¡Œæ•ˆæœå¿…é¡»ä½¿ç”¨<code>&lt;br&gt;</code>ï¼‰</li><li>HTTPå“åº”åè®®çš„å…·ä½“æŠ¥æ–‡ï¼š 
    <ul><li> <pre><code>HTTP/1.1 200 ok                                     çŠ¶æ€è¡Œ
Content-Type: text/html;charset=UTF-8               å“åº”å¤´
Content-Length: 160
Date: Mon, 08 Nov 2021 13:19:32 GMT
Keep-Alive: timeout=20
Connection: keep-alive
                                                    ç©ºç™½è¡Œ
&lt;!doctype html&gt;                                     å“åº”ä½“
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;from get servlet&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;from get servlet&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre> </li></ul> </li><li>çŠ¶æ€è¡Œ 
    <ul><li>ä¸‰éƒ¨åˆ†ç»„æˆ 
      <ul><li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåè®®ç‰ˆæœ¬å·ï¼ˆHTTP/1.1ï¼‰</li><li>ç¬¬äºŒéƒ¨åˆ†ï¼šçŠ¶æ€ç ï¼ˆHTTPåè®®ä¸­è§„å®šçš„å“åº”çŠ¶æ€å·ã€‚ä¸åŒçš„å“åº”ç»“æœå¯¹åº”ä¸åŒçš„å·ç ã€‚ï¼‰ 
        <ul><li>200 è¡¨ç¤ºè¯·æ±‚å“åº”æˆåŠŸï¼Œæ­£å¸¸ç»“æŸã€‚</li><li>404è¡¨ç¤ºè®¿é—®çš„èµ„æºä¸å­˜åœ¨ï¼Œé€šå¸¸æ˜¯å› ä¸ºè¦ä¹ˆæ˜¯ä½ è·¯å¾„å†™é”™äº†ï¼Œè¦ä¹ˆæ˜¯è·¯å¾„å†™å¯¹äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸­å¯¹åº”çš„èµ„æºå¹¶æ²¡æœ‰å¯åŠ¨æˆåŠŸã€‚æ€»ä¹‹404é”™è¯¯æ˜¯å‰ç«¯é”™è¯¯ã€‚</li><li>405è¡¨ç¤ºå‰ç«¯å‘é€çš„è¯·æ±‚æ–¹å¼ä¸åç«¯è¯·æ±‚çš„å¤„ç†æ–¹å¼ä¸ä¸€è‡´æ—¶å‘ç”Ÿï¼š 
          <ul><li>æ¯”å¦‚ï¼šå‰ç«¯æ˜¯POSTè¯·æ±‚ï¼Œåç«¯çš„å¤„ç†æ–¹å¼æŒ‰ç…§getæ–¹å¼è¿›è¡Œå¤„ç†æ—¶ï¼Œå‘ç”Ÿ405</li><li>æ¯”å¦‚ï¼šå‰ç«¯æ˜¯GETè¯·æ±‚ï¼Œåç«¯çš„å¤„ç†æ–¹å¼æŒ‰ç…§postæ–¹å¼è¿›è¡Œå¤„ç†æ—¶ï¼Œå‘ç”Ÿ405</li></ul> </li><li>500è¡¨ç¤ºæœåŠ¡å™¨ç«¯çš„ç¨‹åºå‡ºç°äº†å¼‚å¸¸ã€‚ä¸€èˆ¬ä¼šè®¤ä¸ºæ˜¯æœåŠ¡å™¨ç«¯çš„é”™è¯¯å¯¼è‡´çš„ã€‚</li><li>ä»¥4å¼€å§‹çš„ï¼Œä¸€èˆ¬æ˜¯æµè§ˆå™¨ç«¯çš„é”™è¯¯å¯¼è‡´çš„ã€‚</li><li>ä»¥5å¼€å§‹çš„ï¼Œä¸€èˆ¬æ˜¯æœåŠ¡å™¨ç«¯çš„é”™è¯¯å¯¼è‡´çš„ã€‚</li></ul> </li><li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šçŠ¶æ€çš„æè¿°ä¿¡æ¯ 
        <ul><li>ok è¡¨ç¤ºæ­£å¸¸æˆåŠŸç»“æŸã€‚</li><li>not found è¡¨ç¤ºèµ„æºæ‰¾ä¸åˆ°ã€‚</li></ul> </li></ul> </li></ul> </li><li>å“åº”å¤´ï¼š 
    <ul><li>å“åº”çš„å†…å®¹ç±»å‹</li><li>å“åº”çš„å†…å®¹é•¿åº¦</li><li>å“åº”çš„æ—¶é—´</li><li>â€¦</li></ul> </li><li>ç©ºç™½è¡Œï¼š 
    <ul><li>ç”¨æ¥åˆ†éš”â€œå“åº”å¤´â€å’Œâ€œå“åº”ä½“â€çš„ã€‚</li></ul> </li><li>å“åº”ä½“ï¼š 
    <ul><li>å“åº”ä½“å°±æ˜¯å“åº”çš„æ­£æ–‡ï¼Œè¿™äº›å†…å®¹æ˜¯ä¸€ä¸ªé•¿çš„å­—ç¬¦ä¸²ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²è¢«æµè§ˆå™¨æ¸²æŸ“ï¼Œè§£é‡Šå¹¶æ‰§è¡Œï¼Œæœ€ç»ˆå±•ç¤ºå‡ºæ•ˆæœã€‚</li></ul> </li></ul> </li><li>æ€ä¹ˆæŸ¥çœ‹çš„åè®®å†…å®¹ï¼Ÿ 
  <ul><li>ä½¿ç”¨chromeæµè§ˆå™¨ï¼šF12ã€‚ç„¶åæ‰¾åˆ°networkï¼Œé€šè¿‡è¿™ä¸ªé¢æ¿å¯ä»¥æŸ¥çœ‹åè®®çš„å…·ä½“å†…å®¹ã€‚</li></ul> </li><li>æ€ä¹ˆå‘æœåŠ¡å™¨å‘é€GETè¯·æ±‚ï¼Œæ€ä¹ˆå‘æœåŠ¡å™¨å‘é€POSTè¯·æ±‚ï¼Ÿ 
  <ul><li>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œåªæœ‰ä¸€ç§æƒ…å†µå¯ä»¥å‘é€POSTè¯·æ±‚ï¼šä½¿ç”¨formè¡¨å•ï¼Œå¹¶ä¸”formæ ‡ç­¾ä¸­çš„methodå±æ€§å€¼ä¸ºï¼šmethod=â€œpostâ€ã€‚</li><li>å…¶ä»–æ‰€æœ‰æƒ…å†µä¸€å¾‹éƒ½æ˜¯getè¯·æ±‚ï¼š 
    <ul><li>åœ¨æµè§ˆå™¨åœ°å€æ ä¸Šç›´æ¥è¾“å…¥URLï¼Œæ•²å›è½¦ï¼Œå±äºgetè¯·æ±‚ã€‚</li><li>åœ¨æµè§ˆå™¨ä¸Šç›´æ¥ç‚¹å‡»è¶…é“¾æ¥ï¼Œå±äºgetè¯·æ±‚ã€‚</li><li>ä½¿ç”¨formè¡¨å•æäº¤æ•°æ®æ—¶ï¼Œformæ ‡ç­¾ä¸­æ²¡æœ‰å†™methodå±æ€§ï¼Œé»˜è®¤å°±æ˜¯get</li><li>æˆ–è€…ä½¿ç”¨formçš„æ—¶å€™ï¼Œformæ ‡ç­¾ä¸­methodå±æ€§å€¼ä¸ºï¼šmethod=â€œgetâ€</li><li>â€¦</li></ul> </li></ul> </li><li>GETè¯·æ±‚å’ŒPOSTè¯·æ±‚æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 
  <ul><li>getè¯·æ±‚å‘é€æ•°æ®çš„æ—¶å€™ï¼Œæ•°æ®ä¼šæŒ‚åœ¨URIçš„åé¢ï¼Œå¹¶ä¸”åœ¨URIåé¢æ·»åŠ ä¸€ä¸ªâ€œ?â€ï¼Œ"?"åé¢æ˜¯æ•°æ®ã€‚è¿™æ ·ä¼šå¯¼è‡´å‘é€çš„æ•°æ®å›æ˜¾åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸Šã€‚ï¼ˆgetè¯·æ±‚åœ¨â€œè¯·æ±‚è¡Œâ€ä¸Šå‘é€æ•°æ®ï¼‰ 
    <ul><li>http://localhost:8080/servlet05/getServlet?username=zhangsan&amp;userpwd=1111</li></ul> </li><li>postè¯·æ±‚å‘é€æ•°æ®çš„æ—¶å€™ï¼Œåœ¨è¯·æ±‚ä½“å½“ä¸­å‘é€ã€‚ä¸ä¼šå›æ˜¾åˆ°æµè§ˆå™¨çš„åœ°å€æ ä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´postå‘é€çš„æ•°æ®ï¼Œåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šçœ‹ä¸åˆ°ã€‚ï¼ˆpoståœ¨â€œè¯·æ±‚ä½“â€å½“ä¸­å‘é€æ•°æ®ï¼‰</li><li>getè¯·æ±‚åªèƒ½å‘é€æ™®é€šçš„å­—ç¬¦ä¸²ã€‚å¹¶ä¸”å‘é€çš„å­—ç¬¦ä¸²é•¿åº¦æœ‰é™åˆ¶ï¼Œä¸åŒçš„æµè§ˆå™¨é™åˆ¶ä¸åŒã€‚è¿™ä¸ªæ²¡æœ‰æ˜ç¡®çš„è§„èŒƒã€‚</li><li>getè¯·æ±‚æ— æ³•å‘é€å¤§æ•°æ®é‡ã€‚</li><li>postè¯·æ±‚å¯ä»¥å‘é€ä»»ä½•ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ™®é€šå­—ç¬¦ä¸²ï¼Œæµåª’ä½“ç­‰ä¿¡æ¯ï¼šè§†é¢‘ã€å£°éŸ³ã€å›¾ç‰‡ã€‚</li><li>postè¯·æ±‚å¯ä»¥å‘é€å¤§æ•°æ®é‡ï¼Œç†è®ºä¸Šæ²¡æœ‰é•¿åº¦é™åˆ¶ã€‚</li><li>getè¯·æ±‚åœ¨W3Cä¸­æ˜¯è¿™æ ·è¯´çš„ï¼šgetè¯·æ±‚æ¯”è¾ƒé€‚åˆä»æœåŠ¡å™¨ç«¯è·å–æ•°æ®ã€‚</li><li>postè¯·æ±‚åœ¨W3Cä¸­æ˜¯è¿™æ ·è¯´çš„ï¼špostè¯·æ±‚æ¯”è¾ƒé€‚åˆå‘æœåŠ¡å™¨ç«¯ä¼ é€æ•°æ®ã€‚</li><li>getè¯·æ±‚æ˜¯å®‰å…¨çš„ã€‚getè¯·æ±‚æ˜¯ç»å¯¹å®‰å…¨çš„ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºgetè¯·æ±‚åªæ˜¯ä¸ºäº†ä»æœåŠ¡å™¨ä¸Šè·å–æ•°æ®ã€‚ä¸ä¼šå¯¹æœåŠ¡å™¨é€ æˆå¨èƒã€‚ï¼ˆgetæœ¬èº«æ˜¯å®‰å…¨çš„ï¼Œä½ ä¸è¦ç”¨é”™äº†ã€‚ç”¨é”™äº†ä¹‹ååˆå†¤æ‰äººå®¶getä¸å®‰å…¨ï¼Œä½ è¿™æ ·ä¸å¥½ï¼ˆå¤ªåäº†ï¼‰ï¼Œé‚£æ˜¯ä½ è‡ªå·±çš„é—®é¢˜ï¼Œä¸æ˜¯getè¯·æ±‚çš„é—®é¢˜ã€‚ï¼‰</li><li>postè¯·æ±‚æ˜¯å±é™©çš„ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºpostè¯·æ±‚æ˜¯å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œå¦‚æœè¿™äº›æ•°æ®é€šè¿‡åé—¨çš„æ–¹å¼è¿›å…¥åˆ°æœåŠ¡å™¨å½“ä¸­ï¼ŒæœåŠ¡å™¨æ˜¯å¾ˆå±é™©çš„ã€‚å¦å¤–postæ˜¯ä¸ºäº†æäº¤æ•°æ®ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹æ‹¦æˆªè¯·æ±‚çš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†ä¼šé€‰æ‹©æ‹¦æˆªï¼ˆç›‘å¬ï¼‰postè¯·æ±‚ã€‚</li><li>getè¯·æ±‚æ”¯æŒç¼“å­˜ã€‚ 
    <ul><li>https://n.sinaimg.cn/finance/590/w240h350/20211101/b40c-b425eb67cabc342ff5b9dc018b4b00cc.jpg</li><li>ä»»ä½•ä¸€ä¸ªgetè¯·æ±‚æœ€ç»ˆçš„â€œå“åº”ç»“æœâ€éƒ½ä¼šè¢«æµè§ˆå™¨ç¼“å­˜èµ·æ¥ã€‚åœ¨æµè§ˆå™¨ç¼“å­˜å½“ä¸­ï¼š 
      <ul><li>ä¸€ä¸ªgetè¯·æ±‚çš„è·¯å¾„a å¯¹åº” ä¸€ä¸ªèµ„æºã€‚</li><li>ä¸€ä¸ªgetè¯·æ±‚çš„è·¯å¾„b å¯¹åº” ä¸€ä¸ªèµ„æºã€‚</li><li>ä¸€ä¸ªgetè¯·æ±‚çš„è·¯å¾„c å¯¹åº” ä¸€ä¸ªèµ„æºã€‚</li><li>â€¦</li></ul> </li><li>å®é™…ä¸Šï¼Œä½ åªè¦å‘é€getè¯·æ±‚ï¼Œæµè§ˆå™¨åšçš„ç¬¬ä¸€ä»¶äº‹éƒ½æ˜¯å…ˆä»æœ¬åœ°æµè§ˆå™¨ç¼“å­˜ä¸­æ‰¾ï¼Œæ‰¾ä¸åˆ°çš„æ—¶å€™æ‰ä¼šå»æœåŠ¡å™¨ä¸Šè·å–ã€‚è¿™ç§ç¼“å­˜æœºåˆ¶ç›®çš„æ˜¯ä¸ºäº†æé«˜ç”¨æˆ·çš„ä½“éªŒã€‚</li><li>æœ‰æ²¡æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šæˆ‘ä»¬ä¸å¸Œæœ›getè¯·æ±‚èµ°ç¼“å­˜ï¼Œæ€ä¹ˆåŠï¼Ÿæ€ä¹ˆé¿å…èµ°ç¼“å­˜ï¼Ÿæˆ‘å¸Œæœ›æ¯ä¸€æ¬¡è¿™ä¸ªgetè¯·æ±‚éƒ½å»æœåŠ¡å™¨ä¸Šæ‰¾èµ„æºï¼Œæˆ‘ä¸æƒ³ä»æœ¬åœ°æµè§ˆå™¨çš„ç¼“å­˜ä¸­å–ã€‚ 
      <ul><li>åªè¦æ¯ä¸€æ¬¡getè¯·æ±‚çš„è¯·æ±‚è·¯å¾„ä¸åŒå³å¯ã€‚</li><li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897898</li><li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=789789787897899</li><li>https://n.sinaimg.cn/finance/590/w240h350/20211101/7cabc342ff5b9dc018b4b00cc.jpg?t=ç³»ç»Ÿæ¯«ç§’æ•°</li><li>æ€ä¹ˆè§£å†³ï¼Ÿå¯ä»¥åœ¨è·¯å¾„çš„åé¢æ·»åŠ ä¸€ä¸ªæ¯æ—¶æ¯åˆ»éƒ½åœ¨å˜åŒ–çš„â€œæ—¶é—´æˆ³â€ï¼Œè¿™æ ·ï¼Œæ¯ä¸€æ¬¡çš„è¯·æ±‚è·¯å¾„éƒ½ä¸ä¸€æ ·ï¼Œæµè§ˆå™¨å°±ä¸èµ°ç¼“å­˜äº†ã€‚</li></ul> </li></ul> </li><li>postè¯·æ±‚ä¸æ”¯æŒç¼“å­˜ã€‚ï¼ˆPOSTæ˜¯ç”¨æ¥ä¿®æ”¹æœåŠ¡å™¨ç«¯çš„èµ„æºçš„ã€‚ï¼‰ 
    <ul><li>postè¯·æ±‚ä¹‹åï¼ŒæœåŠ¡å™¨â€œå“åº”çš„ç»“æœâ€ä¸ä¼šè¢«æµè§ˆå™¨ç¼“å­˜èµ·æ¥ã€‚å› ä¸ºè¿™ä¸ªç¼“å­˜æ²¡æœ‰æ„ä¹‰ã€‚</li></ul> </li></ul> </li><li>GETè¯·æ±‚å’ŒPOSTè¯·æ±‚å¦‚ä½•é€‰æ‹©ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨GETè¯·æ±‚ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨POSTè¯·æ±‚ï¼Ÿ 
  <ul><li>æ€ä¹ˆé€‰æ‹©GETè¯·æ±‚å’ŒPOSTè¯·æ±‚å‘¢ï¼Ÿè¡¡é‡æ ‡å‡†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä½ è¿™ä¸ªè¯·æ±‚æ˜¯æƒ³è·å–æœåŠ¡å™¨ç«¯çš„æ•°æ®ï¼Œè¿˜æ˜¯æƒ³å‘æœåŠ¡å™¨å‘é€æ•°æ®ã€‚å¦‚æœä½ æ˜¯æƒ³ä»æœåŠ¡å™¨ä¸Šè·å–èµ„æºï¼Œå»ºè®®ä½¿ç”¨GETè¯·æ±‚ï¼Œå¦‚æœä½ è¿™ä¸ªè¯·æ±‚æ˜¯ä¸ºäº†å‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œå»ºè®®ä½¿ç”¨POSTè¯·æ±‚ã€‚</li><li>å¤§éƒ¨åˆ†çš„formè¡¨å•æäº¤ï¼Œéƒ½æ˜¯postæ–¹å¼ï¼Œå› ä¸ºformè¡¨å•ä¸­è¦å¡«å†™å¤§é‡çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®æ˜¯æ”¶é›†ç”¨æˆ·çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯éœ€è¦ä¼ ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°†è¿™äº›æ•°æ®ä¿å­˜/ä¿®æ”¹ç­‰ã€‚</li><li>å¦‚æœè¡¨å•ä¸­æœ‰æ•æ„Ÿä¿¡æ¯ï¼Œè¿˜æ˜¯å»ºè®®é€‚ç”¨postè¯·æ±‚ï¼Œå› ä¸ºgetè¯·æ±‚ä¼šå›æ˜¾æ•æ„Ÿä¿¡æ¯åˆ°æµè§ˆå™¨åœ°å€æ ä¸Šã€‚ï¼ˆä¾‹å¦‚ï¼šå¯†ç ä¿¡æ¯ï¼‰</li><li>åšæ–‡ä»¶ä¸Šä¼ ï¼Œä¸€å®šæ˜¯postè¯·æ±‚ã€‚è¦ä¼ çš„æ•°æ®ä¸æ˜¯æ™®é€šæ–‡æœ¬ã€‚</li><li>å…¶ä»–æƒ…å†µéƒ½å¯ä»¥ä½¿ç”¨getè¯·æ±‚ã€‚</li></ul> </li><li>ä¸ç®¡ä½ æ˜¯getè¯·æ±‚è¿˜æ˜¯postè¯·æ±‚ï¼Œå‘é€çš„è¯·æ±‚æ•°æ®æ ¼å¼æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œåªä¸è¿‡ä½ç½®ä¸åŒï¼Œæ ¼å¼éƒ½æ˜¯ç»Ÿä¸€çš„ï¼š 
  <ul><li>name=value&amp;name=value&amp;name=value&amp;name=value</li><li>nameæ˜¯ä»€ä¹ˆï¼Ÿ 
    <ul><li>ä»¥formè¡¨å•ä¸ºä¾‹ï¼šformè¡¨å•ä¸­inputæ ‡ç­¾çš„nameã€‚</li></ul> </li><li>valueæ˜¯ä»€ä¹ˆï¼Ÿ 
    <ul><li>ä»¥formè¡¨å•ä¸ºä¾‹ï¼šformè¡¨å•ä¸­inputæ ‡ç­¾çš„valueã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="__1829"></a>ğŸ¥½ æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</h2> 
<ul><li>ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ï¼Ÿ 
  <ul><li>æŸä¸ªé—®é¢˜çš„å›ºå®šçš„è§£å†³æ–¹æ¡ˆã€‚(å¯ä»¥è¢«é‡å¤ä½¿ç”¨ã€‚)</li></ul> </li><li>ä½ çŸ¥é“å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ 
  <ul><li>GoFè®¾è®¡æ¨¡å¼ï¼š 
    <ul><li>é€šå¸¸æˆ‘ä»¬æ‰€è¯´çš„23ç§è®¾è®¡æ¨¡å¼ã€‚ï¼ˆGang of Fourï¼š4äººç»„æå‡ºçš„è®¾è®¡æ¨¡å¼ï¼‰</li><li>å•ä¾‹æ¨¡å¼</li><li>å·¥å‚æ¨¡å¼</li><li>ä»£ç†æ¨¡å¼</li><li>é—¨é¢æ¨¡å¼</li><li>è´£ä»»é“¾è®¾è®¡æ¨¡å¼</li><li>è§‚å¯Ÿè€…æ¨¡å¼</li><li>æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</li><li>â€¦</li></ul> </li><li>JavaEEè®¾è®¡æ¨¡å¼ï¼š 
    <ul><li>DAO</li><li>DTO</li><li>VO</li><li>PO</li><li>pojo</li><li>â€¦</li></ul> </li><li>â€¦</li></ul> </li><li>ä»€ä¹ˆæ˜¯æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ï¼Ÿ 
  <ul><li>åœ¨æ¨¡æ¿ç±»çš„æ¨¡æ¿æ–¹æ³•å½“ä¸­å®šä¹‰æ ¸å¿ƒç®—æ³•éª¨æ¶ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤å¯ä»¥å»¶è¿Ÿåˆ°å­ç±»å½“ä¸­å®Œæˆã€‚</li></ul> </li><li>æ¨¡æ¿ç±»é€šå¸¸æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ¨¡æ¿ç±»å½“ä¸­çš„æ¨¡æ¿æ–¹æ³•å®šä¹‰æ ¸å¿ƒç®—æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é€šå¸¸æ˜¯finalçš„ï¼ˆä½†ä¹Ÿå¯ä»¥ä¸æ˜¯finalçš„ï¼‰</li><li>æ¨¡æ¿ç±»å½“ä¸­çš„æŠ½è±¡æ–¹æ³•å°±æ˜¯ä¸ç¡®å®šå®ç°çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸ç¡®å®šæ€ä¹ˆå®ç°çš„äº‹å„¿äº¤ç»™å­ç±»å»åšã€‚</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>template1</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * è¿™ä¸ªæ–¹æ³•æè¿°å­¦ç”Ÿçš„ä¸€å¤©
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å’ŒTeacherçš„ç®—æ³•ç›¸åŒã€‚</span>
        <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"èµ·åºŠ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ´—æ¼±"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ—©é¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­¦ç”Ÿä¸Šå­¦ï¼Œå­¦ä¹ "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ™šé¥­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>template1</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * å­˜åœ¨çš„é—®é¢˜ï¼š
 *      ç¬¬ä¸€ï¼šç®—æ³•æ²¡æœ‰å¾—åˆ°é‡å¤çš„ä½¿ç”¨ã€‚
 *      ç¬¬äºŒï¼šä»£ç æ²¡æœ‰å¾—åˆ°å¤ç”¨ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * è¿™ä¸ªæ–¹æ³•æè¿°è€å¸ˆçš„ä¸€å¤©
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// å’ŒStudentçš„ç®—æ³•ç›¸åŒã€‚</span>
        <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"èµ·åºŠ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ´—æ¼±"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ—©é¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è€å¸ˆæ­£åœ¨è¯¾å ‚ä¸Šæˆè¯¾ï¼Œæ•™æˆå­¦ç”ŸçŸ¥è¯†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ™šé¥­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>template2</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Teacherå’ŒStudentéƒ½æ˜¯Person
 * 1. Personå°±æ˜¯æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼å½“ä¸­çš„æ¨¡æ¿ç±»ã€‚
 * 2. day()æ–¹æ³•å°±æ˜¯æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼å½“ä¸­çš„æ¨¡æ¿æ–¹æ³•ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// æ¨¡æ¿ç±»é€šå¸¸æ˜¯æŠ½è±¡ç±»ã€‚</span>

    <span class="token comment">// æ¨¡æ¿æ–¹æ³•</span>
    <span class="token comment">// æ·»åŠ äº†finalä¹‹åï¼Œè¿™ä¸ªæ–¹æ³•æ— æ³•è¢«è¦†ç›–ï¼Œè¿™æ ·æ ¸å¿ƒçš„ç®—æ³•ä¹Ÿå¯ä»¥å¾—åˆ°ä¿æŠ¤ã€‚</span>
    <span class="token comment">// æ¨¡æ¿æ–¹æ³•å®šä¹‰æ ¸å¿ƒçš„ç®—æ³•éª¨æ¶ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤å¯ä»¥å»¶è¿Ÿåˆ°å­ç±»å½“ä¸­å»å®ç°ã€‚</span>
    <span class="token comment">// æ ¸å¿ƒç®—æ³•ä¸€æ–¹é¢æ˜¯å¾—åˆ°äº†ä¿æŠ¤ï¼Œä¸èƒ½è¢«æ”¹å˜ã€‚å¦å¤–ä¸€æ–¹é¢å°±æ˜¯ç®—æ³•å¾—åˆ°äº†é‡å¤ä½¿ç”¨ã€‚</span>
    <span class="token comment">// å¦å¤–ä»£ç ä¹Ÿå¾—åˆ°äº†æœç”¨ï¼Œå› ä¸ºç®—æ³•ä¸­æŸäº›æ­¥éª¤çš„ä»£ç æ˜¯å›ºå®šçš„ã€‚è¿™äº›å›ºå®šçš„ä»£ç ä¸ä¼šéšç€å­ç±»çš„å˜åŒ–è€Œå˜æ¢ï¼Œè¿™ä¸€éƒ¨åˆ†ä»£ç å¯ä»¥å†™åˆ°æ¨¡æ¿ç±»å½“ä¸­ã€‚</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ç¬¬ä¸€æ­¥</span>
        <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¬¬äºŒæ­¥</span>
        <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¬¬ä¸‰æ­¥</span>
        <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¬¬å››æ­¥</span>
        <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¬¬äº”æ­¥</span>
        <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç¬¬å…­æ­¥</span>
        <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å…¶ä¸­çš„æŸäº›æ­¥éª¤ï¼Œä¸ä¼šéšç€å­ç±»çš„å˜åŒ–è€Œå˜åŒ–ï¼Œè¿™äº›ä»£ç å¯ä»¥å†™åˆ°çˆ¶ç±»ä¸­ï¼Œå¾—åˆ°ä»£ç å¤ç”¨ã€‚</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">qiChuang</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"èµ·åºŠ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">xiShu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ´—æ¼±"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiZaoCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ—©é¤"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è¿™ä¸€æ­¥æ˜¯è¦åšï¼Œä½†æ˜¯å…·ä½“è¿™ä¸€æ­¥æ€ä¹ˆåšï¼Œå­ç±»è¯´äº†ç®—ã€‚</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">chiWanFan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åƒæ™šé¥­"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shuiJiao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¡è§‰"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>template2</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å­¦ç”Ÿä¸Šå­¦ï¼Œå­¦ä¹ "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>template2</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Teacher</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{<!-- --></span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è€å¸ˆæ­£åœ¨è¯¾å ‚ä¸Šæˆè¯¾ï¼Œæ•™æˆå­¦ç”ŸçŸ¥è¯†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_HttpServlet_2029"></a>ğŸ¥½ HttpServletæºç åˆ†æ</h2> 
<ul><li>HttpServletç±»æ˜¯ä¸“é—¨ä¸ºHTTPåè®®å‡†å¤‡çš„ã€‚æ¯”GenericServletæ›´åŠ é€‚åˆHTTPåè®®ä¸‹çš„å¼€å‘ã€‚</li><li>HttpServletåœ¨å“ªä¸ªåŒ…ä¸‹ï¼Ÿ 
  <ul><li>jakarta.servlet.http.HttpServlet</li></ul> </li><li>åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬æ¥è§¦äº†servletè§„èŒƒä¸­å“ªäº›æ¥å£ï¼Ÿ 
  <ul><li>jakarta.servlet.Servlet æ ¸å¿ƒæ¥å£ï¼ˆæ¥å£ï¼‰</li><li>jakarta.servlet.ServletConfig Servleté…ç½®ä¿¡æ¯æ¥å£ï¼ˆæ¥å£ï¼‰</li><li>jakarta.servlet.ServletContext Servletä¸Šä¸‹æ–‡æ¥å£ï¼ˆæ¥å£ï¼‰</li><li>jakarta.servlet.ServletRequest Servletè¯·æ±‚æ¥å£ï¼ˆæ¥å£ï¼‰</li><li>jakarta.servlet.ServletResponse Servletå“åº”æ¥å£ï¼ˆæ¥å£ï¼‰</li><li>jakarta.servlet.ServletException Servletå¼‚å¸¸ï¼ˆç±»ï¼‰</li><li>jakarta.servlet.GenericServlet æ ‡å‡†é€šç”¨çš„Servletç±»ï¼ˆæŠ½è±¡ç±»ï¼‰</li></ul> </li><li>httpåŒ…ä¸‹éƒ½æœ‰å“ªäº›ç±»å’Œæ¥å£å‘¢ï¼Ÿjakarta.servlet.http.*; 
  <ul><li>jakarta.servlet.http.HttpServlet ï¼ˆHTTPåè®®ä¸“ç”¨çš„Servletç±»ï¼ŒæŠ½è±¡ç±»ï¼‰</li><li>jakarta.servlet.http.HttpServletRequest ï¼ˆHTTPåè®®ä¸“ç”¨çš„è¯·æ±‚å¯¹è±¡ï¼‰</li><li>jakarta.servlet.http.HttpServletResponse ï¼ˆHTTPåè®®ä¸“ç”¨çš„å“åº”å¯¹è±¡ï¼‰</li></ul> </li><li>HttpServletRequestå¯¹è±¡ä¸­å°è£…äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿ 
  <ul><li>HttpServletRequestï¼Œç®€ç§°requestå¯¹è±¡ã€‚</li><li>HttpServletRequestä¸­å°è£…äº†è¯·æ±‚åè®®çš„å…¨éƒ¨å†…å®¹ã€‚</li><li>TomcatæœåŠ¡å™¨ï¼ˆWEBæœåŠ¡å™¨ï¼‰å°†â€œè¯·æ±‚åè®®â€ä¸­çš„æ•°æ®å…¨éƒ¨è§£æå‡ºæ¥ï¼Œç„¶åå°†è¿™äº›æ•°æ®å…¨éƒ¨å°è£…åˆ°requestå¯¹è±¡å½“ä¸­äº†ã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªè¦é¢å‘HttpServletRequestï¼Œå°±å¯ä»¥è·å–è¯·æ±‚åè®®ä¸­çš„æ•°æ®ã€‚</li></ul> </li><li>HttpServletResponseå¯¹è±¡æ˜¯ä¸“é—¨ç”¨æ¥å“åº”HTTPåè®®åˆ°æµè§ˆå™¨çš„ã€‚</li><li>å›å¿†Servletç”Ÿå‘½å‘¨æœŸï¼Ÿ 
  <ul><li>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ 
    <ul><li>TomcatæœåŠ¡å™¨é€šè¿‡åå°„æœºåˆ¶ï¼Œè°ƒç”¨æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚åˆ›å»ºServletå¯¹è±¡ã€‚(web.xmlæ–‡ä»¶ä¸­é…ç½®çš„Servletç±»å¯¹åº”çš„å¯¹è±¡ã€‚)</li><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„initæ–¹æ³•å®Œæˆåˆå§‹åŒ–ã€‚</li><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚ã€‚</li></ul> </li><li>ç”¨æˆ·ç¬¬äºŒæ¬¡è¯·æ±‚ 
    <ul><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚ã€‚</li></ul> </li><li>ç”¨æˆ·ç¬¬ä¸‰æ¬¡è¯·æ±‚ 
    <ul><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚ã€‚</li></ul> </li><li>â€¦ 
    <ul><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„serviceæ–¹æ³•å¤„ç†è¯·æ±‚ã€‚</li></ul> </li><li>æœåŠ¡å™¨å…³é—­ 
    <ul><li>TomcatæœåŠ¡å™¨è°ƒç”¨Servletå¯¹è±¡çš„destroyæ–¹æ³•ï¼Œåšé”€æ¯ä¹‹å‰çš„å‡†å¤‡å·¥ä½œã€‚</li><li>TomcatæœåŠ¡å™¨é”€æ¯Servletå¯¹è±¡ã€‚</li></ul> </li></ul> </li><li>HttpServletæºç åˆ†æï¼š</li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ›å»ºHelloServletå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œè¿™ä¸ªæ— å‚æ•°æ„é€ æ–¹æ³•ã€‚</span>
	<span class="token keyword">public</span> <span class="token class-name">HelloServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//override é‡å†™ doGetæ–¹æ³•</span>
    <span class="token comment">//override é‡å†™ doPostæ–¹æ³•</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">GenericServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span><span class="token punctuation">,</span> <span class="token class-name">ServletConfig</span><span class="token punctuation">,</span>
        <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">{<!-- --></span>
           
	<span class="token comment">// ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼ŒHelloServletå¯¹è±¡ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºä¹‹åï¼Œè¿™ä¸ªinitæ–¹æ³•ä¼šæ‰§è¡Œã€‚</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>config <span class="token operator">=</span> config<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
	<span class="token comment">// ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œå¸¦æœ‰å‚æ•°çš„init(ServletConfig config)æ‰§è¡Œä¹‹åï¼Œä¼šæ‰§è¡Œè¿™ä¸ªæ²¡æœ‰å‚æ•°çš„init()</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// NOOP by default</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// HttpServletæ¨¡æ¿ç±»ã€‚</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">HttpServlet</span> <span class="token keyword">extends</span> <span class="token class-name">GenericServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™è¿™ä¸ªserviceä¼šæ‰§è¡Œ</span>
    <span class="token comment">// ç”¨æˆ·å‘é€ç¬¬Næ¬¡è¯·æ±‚çš„æ—¶å€™ï¼Œè¿™ä¸ªserviceæ–¹æ³•è¿˜æ˜¯ä¼šæ‰§è¡Œã€‚</span>
    <span class="token comment">// ç”¨æˆ·åªè¦å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œè¿™ä¸ªserviceæ–¹æ³•å°±ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> res<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>

        <span class="token class-name">HttpServletRequest</span>  request<span class="token punctuation">;</span>
        <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// å°†ServletRequestå’ŒServletResponseå‘ä¸‹è½¬å‹ä¸ºå¸¦æœ‰Httpçš„HttpServletRequestå’ŒHttpServletResponse</span>
            request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> req<span class="token punctuation">;</span>
            response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> res<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassCastException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ServletException</span><span class="token punctuation">(</span>lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"http.non_http"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// è°ƒç”¨é‡è½½çš„serviceæ–¹æ³•ã€‚</span>
        <span class="token function">service</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// è¿™ä¸ªserviceæ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å¸¦æœ‰Httpçš„ã€‚</span>
    <span class="token comment">// è¿™ä¸ªserviceæ˜¯ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ã€‚</span>
    <span class="token comment">// åœ¨è¯¥æ–¹æ³•ä¸­å®šä¹‰æ ¸å¿ƒç®—æ³•éª¨æ¶ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å»å®Œæˆã€‚</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–è¯·æ±‚æ–¹å¼</span>
        <span class="token comment">// è¿™ä¸ªè¯·æ±‚æ–¹å¼æœ€ç»ˆå¯èƒ½æ˜¯ï¼š""</span>
        <span class="token comment">// æ³¨æ„ï¼šrequest.getMethod()æ–¹æ³•è·å–çš„æ˜¯è¯·æ±‚æ–¹å¼ï¼Œå¯èƒ½æ˜¯ä¸ƒç§ä¹‹ä¸€ï¼š</span>
        <span class="token comment">// GET POST PUT DELETE HEAD OPTIONS TRACE</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å¦‚æœè¯·æ±‚æ–¹å¼æ˜¯GETè¯·æ±‚ï¼Œåˆ™æ‰§è¡ŒdoGetæ–¹æ³•ã€‚</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_GET</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> lastModified <span class="token operator">=</span> <span class="token function">getLastModified</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>lastModified <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// servlet doesn't support if-modified-since, no reason</span>
                <span class="token comment">// to go through further expensive logic</span>
                <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">long</span> ifModifiedSince<span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    ifModifiedSince <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getDateHeader</span><span class="token punctuation">(</span><span class="token constant">HEADER_IFMODSINCE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IllegalArgumentException</span> iae<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// Invalid date header - proceed as if none was set</span>
                    ifModifiedSince <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>ifModifiedSince <span class="token operator">&lt;</span> <span class="token punctuation">(</span>lastModified <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// If the servlet mod time is later, call doGet()</span>
                    <span class="token comment">// Round down to the nearest second for a proper compare</span>
                    <span class="token comment">// A ifModifiedSince of -1 will always be less</span>
                    <span class="token function">maybeSetLastModified</span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> lastModified<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                    resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span><span class="token constant">SC_NOT_MODIFIED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_HEAD</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">long</span> lastModified <span class="token operator">=</span> <span class="token function">getLastModified</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">maybeSetLastModified</span><span class="token punctuation">(</span>resp<span class="token punctuation">,</span> lastModified<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">doHead</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_POST</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// å¦‚æœè¯·æ±‚æ–¹å¼æ˜¯POSTè¯·æ±‚ï¼Œåˆ™æ‰§è¡ŒdoPostæ–¹æ³•ã€‚</span>
            <span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_PUT</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doPut</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_DELETE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doDelete</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_OPTIONS</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doOptions</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">METHOD_TRACE</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doTrace</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//</span>
            <span class="token comment">// Note that this means NO servlet supports whatever</span>
            <span class="token comment">// method was requested, anywhere on this server.</span>
            <span class="token comment">//</span>

            <span class="token class-name">String</span> errMsg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"http.method_not_implemented"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> errArgs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            errArgs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> method<span class="token punctuation">;</span>
            errMsg <span class="token operator">=</span> <span class="token class-name">MessageFormat</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>errMsg<span class="token punctuation">,</span> errArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>

            resp<span class="token punctuation">.</span><span class="token function">sendError</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span><span class="token constant">SC_NOT_IMPLEMENTED</span><span class="token punctuation">,</span> errMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æŠ¥405é”™è¯¯</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"http.method_get_not_supported"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">sendMethodNotAllowed</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
        <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æŠ¥405é”™è¯¯</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> lStrings<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"http.method_post_not_supported"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">sendMethodNotAllowed</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">,</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

<span class="token comment">/*
é€šè¿‡ä»¥ä¸Šæºä»£ç åˆ†æï¼š
	å‡è®¾å‰ç«¯å‘é€çš„è¯·æ±‚æ˜¯getè¯·æ±‚ï¼Œåç«¯ç¨‹åºå‘˜é‡å†™çš„æ–¹æ³•æ˜¯doPostï¼Œå­ç±»æ²¡æœ‰å®ç°doGetæ–¹æ³•ï¼Œä¼šæ‰§è¡Œçˆ¶ç±»çš„doGetæ–¹æ³•ï¼Œçˆ¶ç±»çš„doGetæ–¹æ³•ä¼šæŠ¥405é”™è¯¯
	å‡è®¾å‰ç«¯å‘é€çš„è¯·æ±‚æ˜¯postè¯·æ±‚ï¼Œåç«¯ç¨‹åºå‘˜é‡å†™çš„æ–¹æ³•æ˜¯doGet
	ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ
		å‘ç”Ÿ405è¿™æ ·çš„ä¸€ä¸ªé”™è¯¯ã€‚
		405è¡¨ç¤ºå‰ç«¯çš„é”™è¯¯ï¼Œå‘é€çš„è¯·æ±‚æ–¹å¼ä¸å¯¹ã€‚å’ŒæœåŠ¡å™¨ä¸ä¸€è‡´ã€‚ä¸æ˜¯æœåŠ¡å™¨éœ€è¦çš„è¯·æ±‚æ–¹å¼ã€‚
	
	é€šè¿‡ä»¥ä¸Šæºä»£ç å¯ä»¥çŸ¥é“ï¼šåªè¦HttpServletç±»ä¸­çš„doGetæ–¹æ³•æˆ–doPostæ–¹æ³•æ‰§è¡Œäº†ï¼Œå¿…ç„¶405.

æ€ä¹ˆé¿å…405çš„é”™è¯¯å‘¢ï¼Ÿ
	åç«¯é‡å†™äº†doGetæ–¹æ³•ï¼Œå‰ç«¯ä¸€å®šè¦å‘getè¯·æ±‚ã€‚
	åç«¯é‡å†™äº†doPostæ–¹æ³•ï¼Œå‰ç«¯ä¸€å®šè¦å‘postè¯·æ±‚ã€‚
	è¿™æ ·å¯ä»¥é¿å…405é”™è¯¯ã€‚
	
	è¿™ç§å‰ç«¯åˆ°åº•éœ€è¦å‘ä»€ä¹ˆæ ·çš„è¯·æ±‚ï¼Œå…¶å®åº”è¯¥åç«¯è¯´äº†ç®—ã€‚åç«¯è®©å‘ä»€ä¹ˆæ–¹å¼ï¼Œå‰ç«¯å°±å¾—å‘ä»€ä¹ˆæ–¹å¼ã€‚
	
æœ‰çš„äººï¼Œä½ ä¼šçœ‹åˆ°ä¸ºäº†é¿å…405é”™è¯¯ï¼Œåœ¨Servletç±»å½“ä¸­ï¼Œå°†doGetå’ŒdoPostæ–¹æ³•éƒ½è¿›è¡Œäº†é‡å†™ã€‚
è¿™æ ·ï¼Œç¡®å®å¯ä»¥é¿å…405çš„å‘ç”Ÿï¼Œä½†æ˜¯ä¸å»ºè®®ï¼Œ405é”™è¯¯è¿˜æ˜¯æœ‰ç”¨çš„ã€‚è¯¥æŠ¥é”™çš„æ—¶å€™å°±åº”è¯¥è®©ä»–æŠ¥é”™ã€‚
å¦‚æœä½ è¦æ˜¯åŒæ—¶é‡å†™äº†doGetå’ŒdoPostï¼Œé‚£è¿˜ä¸å¦‚ä½ ç›´æ¥é‡å†™serviceæ–¹æ³•å¥½äº†ã€‚è¿™æ ·ä»£ç è¿˜èƒ½
å°‘å†™ä¸€ç‚¹ã€‚
*/</span>


</code></pre> 
<ul><li>æˆ‘ä»¬ç¼–å†™çš„HelloServletç›´æ¥ç»§æ‰¿HttpServletï¼Œç›´æ¥é‡å†™HttpServletç±»ä¸­çš„service()æ–¹æ³•è¡Œå—ï¼Ÿ 
  <ul><li>å¯ä»¥ï¼Œåªä¸è¿‡ä½ äº«å—ä¸åˆ°405é”™è¯¯ã€‚äº«å—ä¸åˆ°HTTPåè®®ä¸“å±çš„ä¸œè¥¿ã€‚</li></ul> </li><li>åˆ°ä»Šå¤©æˆ‘ä»¬ç»ˆäºå¾—åˆ°äº†æœ€ç»ˆçš„ä¸€ä¸ªServletç±»çš„å¼€å‘æ­¥éª¤ï¼š 
  <ul><li>ç¬¬ä¸€æ­¥ï¼šç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç›´æ¥ç»§æ‰¿HttpServlet</li><li>ç¬¬äºŒæ­¥ï¼šé‡å†™doGetæ–¹æ³•æˆ–è€…é‡å†™doPostæ–¹æ³•ï¼Œåˆ°åº•é‡å†™è°ï¼Œjavawebç¨‹åºå‘˜è¯´äº†ç®—ã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼šå°†Servletç±»é…ç½®åˆ°web.xmlæ–‡ä»¶å½“ä¸­ã€‚</li><li>ç¬¬å››æ­¥ï¼šå‡†å¤‡å‰ç«¯çš„é¡µé¢ï¼ˆformè¡¨å•ï¼‰ï¼Œformè¡¨å•ä¸­æŒ‡å®šè¯·æ±‚è·¯å¾„å³å¯ã€‚</li></ul> </li></ul> 
<h2><a id="_web_2237"></a>ğŸ¥½ å…³äºä¸€ä¸ªwebç«™ç‚¹çš„æ¬¢è¿é¡µé¢</h2> 
<ul><li>ä»€ä¹ˆæ˜¯ä¸€ä¸ªwebç«™ç‚¹çš„æ¬¢è¿é¡µé¢ï¼Ÿ 
  <ul><li>å¯¹äºä¸€ä¸ªwebappæ¥è¯´ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥è®¾ç½®å®ƒçš„æ¬¢è¿é¡µé¢çš„ã€‚</li><li>è®¾ç½®äº†æ¬¢è¿é¡µé¢ä¹‹åï¼Œå½“ä½ è®¿é—®è¿™ä¸ªwebappçš„æ—¶å€™ï¼Œæˆ–è€…è®¿é—®è¿™ä¸ªwebç«™ç‚¹çš„æ—¶å€™ï¼Œæ²¡æœ‰æŒ‡å®šä»»ä½•â€œèµ„æºè·¯å¾„â€ï¼Œè¿™ä¸ªæ—¶å€™ä¼šé»˜è®¤è®¿é—®ä½ çš„æ¬¢è¿é¡µé¢ã€‚</li><li>æˆ‘ä»¬ä¸€èˆ¬çš„è®¿é—®æ–¹å¼æ˜¯ï¼š 
    <ul><li>http://localhost:8080/servlet06/login.html è¿™ç§æ–¹å¼æ˜¯æŒ‡å®šäº†è¦è®¿é—®çš„å°±æ˜¯login.htmlèµ„æºã€‚</li></ul> </li><li>å¦‚æœæˆ‘ä»¬è®¿é—®çš„æ–¹å¼æ˜¯ï¼š 
    <ul><li>http://localhost:8080/servlet06 å¦‚æœæˆ‘ä»¬è®¿é—®çš„å°±æ˜¯è¿™ä¸ªç«™ç‚¹ï¼Œæ²¡æœ‰æŒ‡å®šå…·ä½“çš„èµ„æºè·¯å¾„ã€‚å®ƒé»˜è®¤ä¼šè®¿é—®è°å‘¢ï¼Ÿ</li><li>é»˜è®¤ä¼šè®¿é—®ä½ è®¾ç½®çš„æ¬¢è¿é¡µé¢ã€‚</li></ul> </li></ul> </li><li>æ€ä¹ˆè®¾ç½®æ¬¢è¿é¡µé¢å‘¢ï¼Ÿ 
  <ul><li>ç¬¬ä¸€æ­¥ï¼šæˆ‘åœ¨IDEAå·¥å…·çš„webç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶login.html<br> <img src="https://images2.imgbox.com/05/a7/R5My54lK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li><li>ç¬¬äºŒæ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡Œäº†ä»¥ä¸‹çš„é…ç½® 
    <ul><li> <pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>login.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>æ³¨æ„ï¼šè®¾ç½®æ¬¢è¿é¡µé¢çš„æ—¶å€™ï¼Œè¿™ä¸ªè·¯å¾„ä¸éœ€è¦ä»¥â€œ/â€å¼€å§‹ã€‚å¹¶ä¸”è¿™ä¸ªè·¯å¾„<mark>é»˜è®¤æ˜¯ä»webappçš„æ ¹ä¸‹å¼€å§‹æŸ¥æ‰¾</mark>ã€‚</li></ul> </li><li>ç¬¬ä¸‰æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨ï¼Œæµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€ 
    <ul><li>http://localhost:8080/servlet07<br> <img src="https://images2.imgbox.com/c3/96/QxrWeGDs_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> </li><li>å¦‚æœåœ¨webappçš„æ ¹ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œç›®å½•ä¸­å†ç»™ä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¬¢è¿é¡µè¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿ 
  <ul><li>åœ¨webappæ ¹ä¸‹æ–°å»ºpage1</li><li>åœ¨page1ä¸‹æ–°å»ºpage2ç›®å½•</li><li>åœ¨page2ç›®å½•ä¸‹æ–°å»ºpage.htmlé¡µé¢</li><li>åœ¨web.xmlæ–‡ä»¶ä¸­åº”è¯¥è¿™æ ·é…ç½® 
    <ul><li> <pre><code>&lt;welcome-file-list&gt;
    &lt;welcome-file&gt;page1/page2/page.html&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
</code></pre> </li><li>æ³¨æ„ï¼š<mark>è·¯å¾„ä¸éœ€è¦ä»¥â€œ/â€å¼€å§‹ï¼Œå¹¶ä¸”è·¯å¾„é»˜è®¤ä»webappçš„æ ¹ä¸‹å¼€å§‹æ‰¾</mark>ã€‚</li></ul> </li></ul> </li><li>ä¸€ä¸ªwebappæ˜¯å¯ä»¥è®¾ç½®å¤šä¸ªæ¬¢è¿é¡µé¢çš„ 
  <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>page1/page2/page.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>login.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>æ³¨æ„ï¼š<mark>è¶Šé ä¸Šçš„ä¼˜å…ˆçº§è¶Šé«˜ã€‚æ‰¾ä¸åˆ°çš„ç»§ç»­å‘ä¸‹æ‰¾</mark>ã€‚</li></ul> </li><li>ä½ æœ‰æ²¡æœ‰æ³¨æ„ä¸€ä»¶äº‹ï¼šå½“æˆ‘çš„æ–‡ä»¶åè®¾ç½®ä¸ºindex.htmlçš„æ—¶å€™ï¼Œä¸éœ€è¦åœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®æ¬¢è¿é¡µé¢ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ<br> <img src="https://images2.imgbox.com/ce/05/R4XcJfGe_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/60/45/vDpfhLg4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"> 
  <ul><li>è¿™æ˜¯å› ä¸ºå°çŒ«å’ªTomcatæœåŠ¡å™¨å·²ç»æå‰é…ç½®å¥½äº†ã€‚</li><li>å®é™…ä¸Šé…ç½®æ¬¢è¿é¡µé¢æœ‰ä¸¤ä¸ªåœ°æ–¹å¯ä»¥é…ç½®ï¼š 
    <ul><li>ä¸€ä¸ªæ˜¯åœ¨webappå†…éƒ¨çš„web.xmlæ–‡ä»¶ä¸­ã€‚ï¼ˆåœ¨è¿™ä¸ªåœ°æ–¹é…ç½®çš„å±äºå±€éƒ¨é…ç½®ï¼‰</li><li>ä¸€ä¸ªæ˜¯åœ¨CATALINA_HOME/conf/web.xmlæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®ã€‚ï¼ˆåœ¨è¿™ä¸ªåœ°æ–¹é…ç½®çš„å±äºå…¨å±€é…ç½®ï¼‰ 
      <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>index.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>index.htm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>index.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>TomcatæœåŠ¡å™¨çš„å…¨å±€æ¬¢è¿é¡µé¢æ˜¯ï¼šindex.html index.htm index.jspã€‚å¦‚æœä½ ä¸€ä¸ªwebç«™ç‚¹æ²¡æœ‰è®¾ç½®å±€éƒ¨çš„æ¬¢è¿é¡µé¢ï¼ŒTomcatæœåŠ¡å™¨å°±ä¼šä»¥index.html index.htm index.jspä½œä¸ºä¸€ä¸ªwebç«™ç‚¹çš„æ¬¢è¿é¡µé¢ã€‚</li></ul> </li><li><mark>æ³¨æ„åŸåˆ™ï¼šå±€éƒ¨ä¼˜å…ˆåŸåˆ™ã€‚ï¼ˆå°±è¿‘åŸåˆ™ï¼‰</mark></li></ul> </li></ul> </li><li>æ¬¢è¿é¡µå¯ä»¥æ˜¯ä¸€ä¸ªServletå—ï¼Ÿ 
  <ul><li>å½“ç„¶å¯ä»¥ã€‚</li><li>ä½ ä¸è¦å¤šæƒ³ï¼Œæ¬¢è¿é¡µå°±æ˜¯ä¸€ä¸ªèµ„æºï¼Œæ—¢ç„¶æ˜¯ä¸€ä¸ªèµ„æºï¼Œé‚£ä¹ˆå¯ä»¥æ˜¯é™æ€èµ„æºï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€èµ„æºã€‚</li><li>é™æ€èµ„æºï¼šindex.html welcome.html â€¦</li><li>åŠ¨æ€èµ„æºï¼šServletç±»ã€‚</li><li>æ­¥éª¤ï¼š 
    <ul><li>ç¬¬ä¸€æ­¥ï¼šå†™ä¸€ä¸ªServlet 
      <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WelcomeServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;h1&gt;welcome to bjpowernode!&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li>ç¬¬äºŒæ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®servlet 
      <ul><li> <pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>welcomeServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.javaweb.servlet.WelcomeServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>welcomeServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/fdsa/fds/a/fds/af/ds/af/dsafdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>ç¬¬ä¸‰æ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­é…ç½®æ¬¢è¿é¡µ 
      <ul><li> <pre><code class="prism language-xml">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>fdsa/fds/a/fds/af/ds/af/dsafdsafdsa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
</code></pre> <img src="https://images2.imgbox.com/f4/1c/9gvO1qca_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> </li></ul> </li></ul> 
<h2><a id="_WEBINF_2330"></a>ğŸ¥½ å…³äºWEB-INFç›®å½•</h2> 
<ul><li>åœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶ï¼šwelcome.html</li><li>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080/servlet07/WEB-INF/welcome.html å‡ºç°äº†404é”™è¯¯ã€‚</li><li>æ³¨æ„ï¼š<mark>æ”¾åœ¨WEB-INFç›®å½•ä¸‹çš„èµ„æºæ˜¯å—ä¿æŠ¤çš„</mark>ã€‚<mark>åœ¨æµè§ˆå™¨ä¸Šä¸èƒ½å¤Ÿé€šè¿‡è·¯å¾„ç›´æ¥è®¿é—®</mark>ã€‚æ‰€ä»¥åƒHTMLã€CSSã€JSã€imageç­‰é™æ€èµ„æºä¸€å®šè¦æ”¾åˆ°WEB-INFç›®å½•ä¹‹å¤–ã€‚</li></ul> 
<h2><a id="_HttpServletRequest_2336"></a>ğŸ¥½ HttpServletRequestæ¥å£è¯¦è§£</h2> 
<ul><li> <p>HttpServletRequestæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…¨é™å®šåç§°ï¼šjakarta.servlet.http.HttpServletRequest</p> </li><li> <p>HttpServletRequestæ¥å£æ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚</p> </li><li> <p>HttpServletRequestæ¥å£çš„çˆ¶æ¥å£ï¼šServletRequest</p> 
  <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HttpServletRequest</span> <span class="token keyword">extends</span> <span class="token class-name">ServletRequest</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>HttpServletRequestæ¥å£çš„å®ç°ç±»è°å†™çš„? HttpServletRequestå¯¹è±¡æ˜¯è°ç»™åˆ›å»ºçš„ï¼Ÿ</p> 
  <ul><li> <p>é€šè¿‡æµ‹è¯•ï¼šorg.apache.catalina.connector.RequestFacade å®ç°äº† HttpServletRequestæ¥å£</p> 
    <ul><li> <pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestFacade</span> <span class="token keyword">implements</span> <span class="token class-name">HttpServletRequest</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>æµ‹è¯•ç»“æœè¯´æ˜ï¼šTomcatæœåŠ¡å™¨ï¼ˆWEBæœåŠ¡å™¨ã€WEBå®¹å™¨ï¼‰å®ç°äº†HttpServletRequestæ¥å£ï¼Œè¿˜æ˜¯è¯´æ˜äº†TomcatæœåŠ¡å™¨å®ç°äº†Servletè§„èŒƒã€‚è€Œå¯¹äºæˆ‘ä»¬javawebç¨‹åºå‘˜æ¥è¯´ï¼Œå®é™…ä¸Šä¸éœ€è¦å…³å¿ƒè¿™ä¸ªï¼Œæˆ‘ä»¬åªéœ€è¦é¢å‘æ¥å£ç¼–ç¨‹å³å¯ã€‚æˆ‘ä»¬å…³å¿ƒçš„æ˜¯HttpServletRequestæ¥å£ä¸­æœ‰å“ªäº›æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥å®Œæˆä»€ä¹ˆåŠŸèƒ½ï¼ï¼ï¼ï¼</p> </li></ul> </li><li> <p>HttpServletRequestå¯¹è±¡ä¸­éƒ½æœ‰ä»€ä¹ˆä¿¡æ¯ï¼Ÿéƒ½åŒ…è£…äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿ</p> 
  <ul><li>HttpServletRequestå¯¹è±¡æ˜¯TomcatæœåŠ¡å™¨è´Ÿè´£åˆ›å»ºçš„ã€‚è¿™ä¸ªå¯¹è±¡ä¸­å°è£…äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿå°è£…äº†HTTPçš„è¯·æ±‚åè®®ã€‚</li><li>å®é™…ä¸Šæ˜¯ç”¨æˆ·å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œéµå¾ªäº†HTTPåè®®ï¼Œå‘é€çš„æ˜¯HTTPçš„è¯·æ±‚åè®®ï¼ŒTomcatæœåŠ¡å™¨å°†HTTPåè®®ä¸­çš„ä¿¡æ¯ä»¥åŠæ•°æ®å…¨éƒ¨è§£æå‡ºæ¥ï¼Œç„¶åTomcatæœåŠ¡å™¨æŠŠè¿™äº›ä¿¡æ¯å°è£…åˆ°HttpServletRequestå¯¹è±¡å½“ä¸­ï¼Œä¼ ç»™äº†æˆ‘ä»¬javawebç¨‹åºå‘˜ã€‚</li><li>javawebç¨‹åºå‘˜é¢å‘HttpServletRequestæ¥å£ç¼–ç¨‹ï¼Œè°ƒç”¨æ–¹æ³•å°±å¯ä»¥è·å–åˆ°è¯·æ±‚çš„ä¿¡æ¯äº†ã€‚</li></ul> </li><li> <p>requestå’Œresponseå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ</p> 
  <ul><li>requestå¯¹è±¡å’Œresponseå¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯è¯·æ±‚å¯¹è±¡ï¼Œä¸€ä¸ªæ˜¯å“åº”å¯¹è±¡ã€‚è¿™ä¸¤ä¸ªå¯¹è±¡åªåœ¨å½“å‰è¯·æ±‚ä¸­æœ‰æ•ˆã€‚</li><li>ä¸€æ¬¡è¯·æ±‚å¯¹åº”ä¸€ä¸ªrequestã€‚</li><li>ä¸¤æ¬¡è¯·æ±‚åˆ™å¯¹åº”ä¸¤ä¸ªrequestã€‚</li><li>â€¦</li></ul> </li><li> <p>HttpServletRequestæ¥å£ä¸­æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•ï¼Ÿ</p> 
  <ul><li> <p>æ€ä¹ˆè·å–å‰ç«¯æµè§ˆå™¨ç”¨æˆ·æäº¤çš„æ•°æ®ï¼Ÿ</p> 
    <ul><li> <pre><code class="prism language-java"><span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> è¿™ä¸ªæ˜¯è·å–<span class="token class-name">Map</span>
<span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> è¿™ä¸ªæ˜¯è·å–<span class="token class-name">Map</span>é›†åˆä¸­æ‰€æœ‰çš„key
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> æ ¹æ®keyè·å–<span class="token class-name">Map</span>é›†åˆçš„value
<span class="token class-name">String</span> <span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span>  æ ¹æ®keyè·å–valueè¿™ä¸ªä¸€ç»´æ•°ç»„å½“ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªæ–¹æ³•æœ€å¸¸ç”¨ã€‚
<span class="token comment">// ä»¥ä¸Šçš„4ä¸ªæ–¹æ³•ï¼Œå’Œè·å–ç”¨æˆ·æäº¤çš„æ•°æ®æœ‰å…³ç³»ã€‚</span>
</code></pre> </li><li> <p>æ€è€ƒï¼šå¦‚æœæ˜¯ä½ ï¼Œå‰ç«¯çš„formè¡¨å•æäº¤äº†æ•°æ®ä¹‹åï¼Œä½ å‡†å¤‡æ€ä¹ˆå­˜å‚¨è¿™äº›æ•°æ®ï¼Œä½ å‡†å¤‡é‡‡ç”¨ä»€ä¹ˆæ ·çš„æ•°æ®ç»“æ„å»å­˜å‚¨è¿™äº›æ•°æ®å‘¢ï¼Ÿ</p> 
      <ul><li> <p>å‰ç«¯æäº¤çš„æ•°æ®æ ¼å¼ï¼šusername=abc&amp;userpwd=111&amp;aihao=s&amp;aihao=d&amp;aihao=tt</p> </li><li> <p>æˆ‘ä¼šé‡‡ç”¨Mapé›†åˆæ¥å­˜å‚¨ï¼š</p> 
        <ul><li> <pre><code class="prism language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span>
    keyå­˜å‚¨<span class="token class-name">String</span>
    valueå­˜å‚¨<span class="token class-name">String</span>
    è¿™ç§æƒ³æ³•å¯¹å—ï¼Ÿä¸å¯¹ã€‚
    å¦‚æœé‡‡ç”¨ä»¥ä¸Šçš„æ•°æ®ç»“æ„å­˜å‚¨ä¼šå‘ç°keyé‡å¤çš„æ—¶å€™valueè¦†ç›–ã€‚
    key         value
    <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    username    abc
    userpwd     <span class="token number">111</span>
    aihao       s
    aihao       d
    aihao       tt
    è¿™æ ·æ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºmapçš„keyä¸èƒ½é‡å¤ã€‚
<span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span>
    keyå­˜å‚¨<span class="token class-name">String</span>
    valueå­˜å‚¨<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    key				value
    <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
    username		<span class="token punctuation">{<!-- --></span><span class="token string">"abc"</span><span class="token punctuation">}</span>
    userpwd			<span class="token punctuation">{<!-- --></span><span class="token string">"111"</span><span class="token punctuation">}</span>
    aihao			<span class="token punctuation">{<!-- --></span><span class="token string">"s"</span><span class="token punctuation">,</span><span class="token string">"d"</span><span class="token punctuation">,</span><span class="token string">"tt"</span><span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>æ³¨æ„ï¼šå‰ç«¯è¡¨å•æäº¤æ•°æ®çš„æ—¶å€™ï¼Œå‡è®¾æäº¤äº†120è¿™æ ·çš„â€œæ•°å­—â€ï¼Œå…¶å®æ˜¯ä»¥å­—ç¬¦ä¸²"120"çš„æ–¹å¼æäº¤çš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨ç«¯è·å–åˆ°çš„ä¸€å®šæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„"120"ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ•°å­—ã€‚ï¼ˆå‰ç«¯æ°¸è¿œæäº¤çš„æ˜¯å­—ç¬¦ä¸²ï¼Œåç«¯è·å–çš„ä¹Ÿæ°¸è¿œæ˜¯å­—ç¬¦ä¸²ã€‚ï¼‰</p> </li></ul> </li></ul> </li><li> <p>æ‰‹å·¥å¼€å‘ä¸€ä¸ªwebappã€‚æµ‹è¯•HttpServletRequestæ¥å£ä¸­çš„ç›¸å…³æ–¹æ³•ã€‚</p> 
    <ul><li> <p>å…ˆæµ‹è¯•äº†4ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼Œè·å–è¯·æ±‚å‚æ•°çš„å››ä¸ªæ–¹æ³•ã€‚</p> 
      <ul><li> <pre><code class="prism language-java">	<span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> value <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/*
username=zhangsan&amp;userpwd=123&amp;interest=s&amp;interest=d
Map&lt;String,String[]&gt;
key				value
---------------------------
"username"		{"zhangsan"}
"userpwd"		{"123"}
"interest"		{"s", "d"}

æ€»ç»“ä¸€ä¸‹ï¼šrequestæ¥å£ä¸­å››ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•ã€‚
	Map&lt;String,String[]&gt; parameterMap = request.getParameterMap();
	Enumeration&lt;String&gt; names = request.getParameterNames();
	String[] values = request.getParameterValues("name");
	String value = request.getParameter("name");


*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RequestTestServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{<!-- --></span>

	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
		<span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span><span class="token class-name">ServletException</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">// é¢å‘æ¥å£ç¼–ç¨‹:HttpServletRequestæ¥å£ã€‚</span>
		<span class="token comment">// è·å–å‰ç«¯æäº¤çš„æ•°æ®</span>
		<span class="token comment">// å‰ç«¯ä¼šæäº¤ä»€ä¹ˆæ•°æ®å‘¢ï¼Ÿ</span>
		<span class="token comment">// username=zhangsan&amp;userpwd=123&amp;interest=s&amp;interest=d</span>
		<span class="token comment">// ä»¥ä¸Šçš„æ•°æ®ä¼šè¢«å°çŒ«å’ªå°è£…åˆ°requestå¯¹è±¡ä¸­ã€‚</span>

		<span class="token comment">// è·å–å‚æ•°Mapé›†åˆ</span>
		<span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> parameterMap <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// éå†Mapé›†åˆ(è·å–Mapé›†åˆä¸­æ‰€æœ‰çš„keyï¼Œéå†)</span>
		<span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> keys <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">String</span> key <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">//System.out.println(key);</span>
			<span class="token comment">// é€šè¿‡keyè·å–value</span>
			<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> values <span class="token operator">=</span> parameterMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment">/*
				username=[Ljava.lang.String;@7cce40b4
				userpwd=[Ljava.lang.String;@7453f0b9
				interest=[Ljava.lang.String;@4063ebb5
			*/</span>
			<span class="token comment">//System.out.println(key + "=" + values);</span>

			<span class="token comment">// éå†ä¸€ç»´æ•°ç»„</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> value <span class="token operator">:</span> values<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>value <span class="token operator">+</span> <span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// æ¢è¡Œ</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// ç›´æ¥é€šè¿‡getParameterNames()è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥è·å–è¿™ä¸ªMapé›†åˆçš„æ‰€æœ‰key</span>
		<span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">String</span> name <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// ç›´æ¥é€šè¿‡nameè·å–valueè¿™ä¸ªä¸€ç»´æ•°ç»„ã€‚</span>
		<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> usernames <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> userpwds <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"userpwd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interests <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"interest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// éå†ä¸€ç»´æ•°ç»„</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> username <span class="token operator">:</span> usernames<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> userpwd <span class="token operator">:</span> userpwds<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userpwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> interest <span class="token operator">:</span> interests<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>interest<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// é€šè¿‡nameè·å–valueè¿™ä¸ªä¸€ç»´æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span>
		<span class="token comment">// è¿™ä¸ªæ–¹æ³•ä½¿ç”¨æœ€å¤šï¼Œå› ä¸ºè¿™ä¸ªä¸€ç»´æ•°ç»„ä¸­ä¸€èˆ¬åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚</span>
		<span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> userpwd <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"userpwd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//String interest = request.getParameter("interest");</span>

		<span class="token comment">// æ—¢ç„¶æ˜¯checkboxï¼Œè°ƒç”¨æ–¹æ³•ï¼šrequest.getParameterValues("interest")</span>
		<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interests2 <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"interest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// è·å–çš„éƒ½æ˜¯ä¸€ç»´æ•°ç»„å½“ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userpwd<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//System.out.println(interest);</span>

		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> interest <span class="token operator">:</span> interests2<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>interest<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li> <p>requestå¯¹è±¡å®é™…ä¸Šåˆç§°ä¸ºâ€œè¯·æ±‚åŸŸâ€å¯¹è±¡ã€‚</p> 
      <ul><li> <p>åº”ç”¨åŸŸå¯¹è±¡æ˜¯ä»€ä¹ˆï¼Ÿ</p> 
        <ul><li> <p>ServletContext ï¼ˆServletä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ï¼‰</p> </li><li> <p>ä»€ä¹ˆæƒ…å†µä¸‹ä¼šè€ƒè™‘å‘ServletContextè¿™ä¸ªåº”ç”¨åŸŸå½“ä¸­ç»‘å®šæ•°æ®å‘¢ï¼Ÿ</p> 
          <ul><li>ç¬¬ä¸€ï¼šæ‰€æœ‰ç”¨æˆ·å…±äº«çš„æ•°æ®ã€‚</li><li>ç¬¬äºŒï¼šè¿™ä¸ªå…±äº«çš„æ•°æ®é‡å¾ˆå°ã€‚</li><li>ç¬¬ä¸‰ï¼šè¿™ä¸ªå…±äº«çš„æ•°æ®å¾ˆå°‘çš„ä¿®æ”¹æ“ä½œã€‚</li><li>åœ¨ä»¥ä¸Šä¸‰ä¸ªæ¡ä»¶éƒ½æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨è¿™ä¸ªåº”ç”¨åŸŸå¯¹è±¡ï¼Œå¯ä»¥å¤§å¤§æé«˜æˆ‘ä»¬ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚</li><li>å®é™…ä¸Šå‘åº”ç”¨åŸŸå½“ä¸­ç»‘å®šæ•°æ®ï¼Œå°±ç›¸å½“äºæŠŠæ•°æ®æ”¾åˆ°äº†ç¼“å­˜ï¼ˆCacheï¼‰å½“ä¸­ï¼Œç„¶åç”¨æˆ·è®¿é—®çš„æ—¶å€™ç›´æ¥ä»ç¼“å­˜ä¸­å–ï¼Œå‡å°‘IOçš„æ“ä½œï¼Œå¤§å¤§æå‡ç³»ç»Ÿçš„æ€§èƒ½ï¼Œæ‰€ä»¥ç¼“å­˜æŠ€æœ¯æ˜¯æé«˜ç³»ç»Ÿæ€§èƒ½çš„é‡è¦æ‰‹æ®µã€‚</li></ul> </li><li> <p>ä½ è§è¿‡å“ªäº›ç¼“å­˜æŠ€æœ¯å‘¢ï¼Ÿ</p> 
          <ul><li>å­—ç¬¦ä¸²å¸¸é‡æ± </li><li>æ•´æ•°å‹å¸¸é‡æ±  [-128~127]ï¼Œä½†å‡¡æ˜¯åœ¨è¿™ä¸ªèŒƒå›´å½“ä¸­çš„Integerå¯¹è±¡ä¸å†åˆ›å»ºæ–°å¯¹è±¡ï¼Œç›´æ¥ä»è¿™ä¸ªæ•´æ•°å‹å¸¸é‡æ± ä¸­è·å–ã€‚å¤§å¤§æå‡ç³»ç»Ÿæ€§èƒ½ã€‚</li><li>æ•°æ®åº“è¿æ¥æ± ï¼ˆæå‰åˆ›å»ºå¥½Nä¸ªè¿æ¥å¯¹è±¡ï¼Œå°†è¿æ¥å¯¹è±¡æ”¾åˆ°é›†åˆå½“ä¸­ï¼Œä½¿ç”¨è¿æ¥å¯¹è±¡çš„æ—¶å€™ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ã€‚çœå»äº†è¿æ¥å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ã€‚æ•ˆç‡æå‡ã€‚ï¼‰</li><li>çº¿ç¨‹æ± ï¼ˆTomcatæœåŠ¡å™¨å°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚æ‰€è°“çš„çº¿ç¨‹æ± å°±æ˜¯æå‰å…ˆåˆ›å»ºå¥½Nä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œå°†çº¿ç¨‹å¯¹è±¡å­˜å‚¨åˆ°é›†åˆä¸­ï¼Œç„¶åç”¨æˆ·è¯·æ±‚è¿‡æ¥ä¹‹åï¼Œç›´æ¥ä»çº¿ç¨‹æ± ä¸­è·å–çº¿ç¨‹å¯¹è±¡ï¼Œç›´æ¥æ‹¿æ¥ç”¨ã€‚æå‡ç³»ç»Ÿæ€§èƒ½ï¼‰</li><li>åæœŸä½ è¿˜ä¼šå­¦ä¹ æ›´å¤šçš„ç¼“å­˜æŠ€æœ¯ï¼Œä¾‹å¦‚ï¼šredisã€mongoDBâ€¦</li></ul> </li><li> <p>ServletContextå½“ä¸­æœ‰ä¸‰ä¸ªæ“ä½œåŸŸçš„æ–¹æ³•ï¼š</p> 
          <ul><li> <pre><code class="prism language-java"><span class="token keyword">void</span> <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘åŸŸå½“ä¸­ç»‘å®šæ•°æ®ã€‚</span>
<span class="token class-name">Object</span> <span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»åŸŸå½“ä¸­æ ¹æ®nameè·å–æ•°æ®ã€‚</span>
<span class="token keyword">void</span> <span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†åŸŸå½“ä¸­ç»‘å®šçš„æ•°æ®ç§»é™¤</span>

<span class="token comment">// ä»¥ä¸Šçš„æ“ä½œç±»ä¼¼äºMapé›†åˆçš„æ“ä½œã€‚</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘mapé›†åˆä¸­æ”¾keyå’Œvalue</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡mapé›†åˆçš„keyè·å–value</span>
map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡Mapé›†åˆçš„keyåˆ é™¤keyå’Œvalueè¿™ä¸ªé”®å€¼å¯¹ã€‚</span>
</code></pre> </li></ul> </li></ul> </li><li> <p>â€œè¯·æ±‚åŸŸâ€å¯¹è±¡</p> 
        <ul><li> <p>â€œè¯·æ±‚åŸŸâ€å¯¹è±¡è¦æ¯”â€œåº”ç”¨åŸŸâ€å¯¹è±¡èŒƒå›´å°å¾ˆå¤šã€‚ç”Ÿå‘½å‘¨æœŸçŸ­å¾ˆå¤šã€‚è¯·æ±‚åŸŸåªåœ¨ä¸€æ¬¡è¯·æ±‚å†…æœ‰æ•ˆã€‚</p> </li><li> <p>ä¸€ä¸ªè¯·æ±‚å¯¹è±¡requestå¯¹åº”ä¸€ä¸ªè¯·æ±‚åŸŸå¯¹è±¡ã€‚ä¸€æ¬¡è¯·æ±‚ç»“æŸä¹‹åï¼Œè¿™ä¸ªè¯·æ±‚åŸŸå°±é”€æ¯äº†ã€‚</p> </li><li> <p>è¯·æ±‚åŸŸå¯¹è±¡ä¹Ÿæœ‰è¿™ä¸‰ä¸ªæ–¹æ³•ï¼š</p> 
          <ul><li> <pre><code class="prism language-java"><span class="token keyword">void</span> <span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Object</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘åŸŸå½“ä¸­ç»‘å®šæ•°æ®ã€‚</span>
<span class="token class-name">Object</span> <span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä»åŸŸå½“ä¸­æ ¹æ®nameè·å–æ•°æ®ã€‚</span>
<span class="token keyword">void</span> <span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†åŸŸå½“ä¸­ç»‘å®šçš„æ•°æ®ç§»é™¤</span>
</code></pre> </li></ul> </li><li> <p>è¯·æ±‚åŸŸå’Œåº”ç”¨åŸŸçš„é€‰ç”¨åŸåˆ™ï¼Ÿ</p> 
          <ul><li>å°½é‡ä½¿ç”¨å°çš„åŸŸå¯¹è±¡ï¼Œå› ä¸ºå°çš„åŸŸå¯¹è±¡å ç”¨çš„èµ„æºè¾ƒå°‘ã€‚</li></ul> </li></ul> </li></ul> </li></ul> </li></ul> </li><li> <p>è·³è½¬</p> 
  <ul><li> <p>è½¬å‘ï¼ˆä¸€æ¬¡è¯·æ±‚ï¼‰</p> 
    <ul><li> <pre><code class="prism language-java">  <span class="token comment">// è¿™æ ·åšå¯ä»¥å—ï¼Ÿ</span>
  <span class="token comment">// åœ¨AServletå½“ä¸­newä¸€ä¸ªBServletå¯¹è±¡ï¼Œç„¶åè°ƒç”¨BServletå¯¹è±¡çš„doGetæ–¹æ³•ï¼ŒæŠŠrequestå¯¹è±¡ä¼ è¿‡å»ã€‚</span>
  <span class="token comment">// è¿™ä¸ªä»£ç è™½ç„¶å¯ä»¥å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯Servletå¯¹è±¡ä¸èƒ½è‡ªå·±ç”±ç¨‹åºå‘˜æ¥newã€‚è‡ªå·±newçš„Servletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸å—TomcatæœåŠ¡å™¨çš„ç®¡ç†ã€‚</span>
  <span class="token comment">/*BServlet bServlet = new BServlet();
  bServlet.doGet(request, response);*/</span>
  
  <span class="token comment">// ä½¿ç”¨Servletå½“ä¸­çš„è½¬å‘æœºåˆ¶ã€‚</span>
  <span class="token comment">// æ‰§è¡Œäº†AServletä¹‹åï¼Œè·³è½¬åˆ°BServletã€‚ï¼ˆè¿™ä¸ªèµ„æºè·³è½¬å¯ä»¥ä½¿ç”¨è½¬å‘æœºåˆ¶æ¥å®Œæˆã€‚ï¼‰</span>
  <span class="token comment">// æ€ä¹ˆè½¬å‘ï¼Ÿä»£ç æ€ä¹ˆå†™ï¼Ÿ</span>
  <span class="token comment">// ç¬¬ä¸€æ­¥ï¼šè·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡</span>
  <span class="token comment">// ç›¸å½“äºæŠŠ"/b"è¿™ä¸ªè·¯å¾„åŒ…è£…åˆ°è¯·æ±‚è½¬å‘å™¨å½“ä¸­ï¼Œå®é™…ä¸Šæ˜¯æŠŠä¸‹ä¸€ä¸ªè·³è½¬çš„èµ„æºçš„è·¯å¾„å‘ŠçŸ¥ç»™TomcatæœåŠ¡å™¨äº†ã€‚</span>
  <span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// ç¬¬äºŒæ­¥ï¼šè°ƒç”¨è¯·æ±‚è½¬å‘å™¨RequestDispatcherçš„forwardæ–¹æ³•ã€‚è¿›è¡Œè½¬å‘ã€‚</span>
  <span class="token comment">// è½¬å‘çš„æ—¶å€™ï¼šè¿™ä¸¤ä¸ªå‚æ•°å¾ˆé‡è¦ã€‚requestå’Œresponseéƒ½æ˜¯è¦ä¼ é€’ç»™ä¸‹ä¸€ä¸ªèµ„æºçš„ã€‚</span>
  dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token comment">// ä¸€è¡Œä»£ç æå®šè½¬å‘ã€‚</span>
  request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/b"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> </li></ul> </li></ul> </li><li> <p>ä¸¤ä¸ªServletæ€ä¹ˆå…±äº«æ•°æ®ï¼Ÿ</p> 
  <ul><li>å°†æ•°æ®æ”¾åˆ°ServletContextåº”ç”¨åŸŸå½“ä¸­ï¼Œå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åº”ç”¨åŸŸèŒƒå›´å¤ªå¤§ï¼Œå ç”¨èµ„æºå¤ªå¤šã€‚ä¸å»ºè®®ä½¿ç”¨ã€‚</li><li>å¯ä»¥å°†æ•°æ®æ”¾åˆ°requeståŸŸå½“ä¸­ï¼Œç„¶åAServletè½¬å‘åˆ°BServletï¼Œä¿è¯AServletå’ŒBServletåœ¨åŒä¸€æ¬¡è¯·æ±‚å½“ä¸­ï¼Œè¿™æ ·å°±å¯ä»¥åšåˆ°ä¸¤ä¸ªServletï¼Œæˆ–è€…å¤šä¸ªServletå…±äº«åŒä¸€ä»½æ•°æ®ã€‚</li></ul> </li><li> <p>è½¬å‘çš„ä¸‹ä¸€ä¸ªèµ„æºå¿…é¡»æ˜¯ä¸€ä¸ªServletå—ï¼Ÿ</p> 
  <ul><li>ä¸ä¸€å®šï¼Œåªè¦æ˜¯TomcatæœåŠ¡å™¨å½“ä¸­çš„åˆæ³•èµ„æºï¼Œéƒ½æ˜¯å¯ä»¥è½¬å‘çš„ã€‚ä¾‹å¦‚ï¼šhtmlâ€¦</li><li>æ³¨æ„ï¼šè½¬å‘çš„æ—¶å€™ï¼Œè·¯å¾„çš„å†™æ³•è¦æ³¨æ„ï¼Œè½¬å‘çš„è·¯å¾„ä»¥â€œ/â€å¼€å§‹ï¼Œä¸åŠ é¡¹ç›®åã€‚</li><li> <pre><code class="prism language-java"><span class="token comment">// è½¬å‘åˆ°ä¸€ä¸ªServletï¼Œä¹Ÿå¯ä»¥è½¬å‘åˆ°ä¸€ä¸ªHTMLï¼Œåªè¦æ˜¯WEBå®¹å™¨å½“ä¸­çš„åˆæ³•èµ„æºå³å¯ã€‚</span>
request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/test.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ul> </li><li> <p>å…³äºrequestå¯¹è±¡ä¸­ä¸¤ä¸ªéå¸¸å®¹æ˜“æ··æ·†çš„æ–¹æ³•ï¼š</p> 
  <ul><li> <pre><code class="prism language-java"><span class="token comment">// uri?username=zhangsan&amp;userpwd=123&amp;sex=1</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¹‹å‰ä¸€å®šæ˜¯æ‰§è¡Œè¿‡ï¼šrequest.setAttribute("name", new Object())</span>
<span class="token class-name">Object</span> obj <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä»¥ä¸Šä¸¤ä¸ªæ–¹æ³•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span>
<span class="token comment">// ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼šè·å–çš„æ˜¯ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šæäº¤çš„æ•°æ®ã€‚</span>
<span class="token comment">// ç¬¬äºŒä¸ªæ–¹æ³•ï¼šè·å–çš„æ˜¯è¯·æ±‚åŸŸå½“ä¸­ç»‘å®šçš„æ•°æ®ã€‚</span>
</code></pre> </li></ul> </li><li> <p>HttpServletRequestæ¥å£çš„å…¶ä»–å¸¸ç”¨æ–¹æ³•ï¼š</p> 
  <ul><li> <pre><code class="prism language-java"><span class="token comment">// è·å–å®¢æˆ·ç«¯çš„IPåœ°å€</span>
<span class="token class-name">String</span> remoteAddr <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// request.getRemoteHost(); è·å–è¿œç¨‹ä¸»æœºåœ°å€</span>
<span class="token comment">// request.getRemotePort(); è·å–ç«¯å£</span>

<span class="token comment">// getè¯·æ±‚åœ¨è¯·æ±‚è¡Œä¸Šæäº¤æ•°æ®ã€‚</span>
<span class="token comment">// postè¯·æ±‚åœ¨è¯·æ±‚ä½“ä¸­æäº¤æ•°æ®ã€‚</span>
<span class="token comment">// è®¾ç½®è¯·æ±‚ä½“çš„å­—ç¬¦é›†ã€‚ï¼ˆæ˜¾ç„¶è¿™ä¸ªæ–¹æ³•æ˜¯å¤„ç†POSTè¯·æ±‚çš„ä¹±ç é—®é¢˜ã€‚è¿™ç§æ–¹å¼å¹¶ä¸èƒ½è§£å†³getè¯·æ±‚çš„ä¹±ç é—®é¢˜ã€‚ï¼‰</span>
<span class="token comment">// Tomcat10ä¹‹åï¼Œrequestè¯·æ±‚ä½“å½“ä¸­çš„å­—ç¬¦é›†é»˜è®¤å°±æ˜¯UTF-8ï¼Œä¸éœ€è¦è®¾ç½®å­—ç¬¦é›†ï¼Œä¸ä¼šå‡ºç°ä¹±ç é—®é¢˜ã€‚</span>
<span class="token comment">// Tomcat9å‰ï¼ˆåŒ…æ‹¬9åœ¨å†…ï¼‰ï¼Œå¦‚æœå‰ç«¯è¯·æ±‚ä½“æäº¤çš„æ˜¯ä¸­æ–‡ï¼Œåç«¯è·å–ä¹‹åå‡ºç°ä¹±ç ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªä¹±ç ï¼Ÿæ‰§è¡Œä»¥ä¸‹ä»£ç ã€‚</span>
request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨Tomcat9ä¹‹å‰ï¼ˆåŒ…æ‹¬9ï¼‰ï¼Œå“åº”ä¸­æ–‡ä¹Ÿæ˜¯æœ‰ä¹±ç çš„ï¼Œæ€ä¹ˆè§£å†³è¿™ä¸ªå“åº”çš„ä¹±ç ï¼Ÿ</span>
response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åœ¨Tomcat10ä¹‹åï¼ŒåŒ…æ‹¬10åœ¨å†…ï¼Œå“åº”ä¸­æ–‡çš„æ—¶å€™å°±ä¸åœ¨å‡ºç°ä¹±ç é—®é¢˜äº†ã€‚ä»¥ä¸Šä»£ç å°±ä¸éœ€è¦è®¾ç½®UTF-8äº†ã€‚</span>

<span class="token comment">// æ³¨æ„ä¸€ä¸ªç»†èŠ‚</span>
<span class="token comment">// åœ¨Tomcat10åŒ…æ‹¬10åœ¨å†…ä¹‹åçš„ç‰ˆæœ¬ï¼Œä¸­æ–‡å°†ä¸å†å‡ºç°ä¹±ç ã€‚ï¼ˆè¿™ä¹Ÿä½“ç°äº†ä¸­æ–‡åœ°ä½çš„æå‡ã€‚ï¼‰</span>

<span class="token comment">// getè¯·æ±‚ä¹±ç é—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿ</span>
<span class="token comment">// getè¯·æ±‚å‘é€çš„æ—¶å€™ï¼Œæ•°æ®æ˜¯åœ¨è¯·æ±‚è¡Œä¸Šæäº¤çš„ï¼Œä¸æ˜¯åœ¨è¯·æ±‚ä½“å½“ä¸­æäº¤çš„ã€‚</span>
<span class="token comment">// getè¯·æ±‚ä¹±ç æ€ä¹ˆè§£å†³</span>
<span class="token comment">// æ–¹æ¡ˆï¼šä¿®æ”¹CATALINA_HOME/conf/server.xmlé…ç½®æ–‡ä»¶</span>
<span class="token operator">&lt;</span><span class="token class-name">Connector</span> <span class="token class-name">URIEncoding</span><span class="token operator">=</span><span class="token string">"UTF-8"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// æ³¨æ„ï¼šä»Tomcat8ä¹‹åï¼ŒURIEncodingçš„é»˜è®¤å€¼å°±æ˜¯UTF-8ï¼Œæ‰€ä»¥GETè¯·æ±‚ä¹Ÿæ²¡æœ‰ä¹±ç é—®é¢˜äº†ã€‚</span>
    
<span class="token comment">// è·å–åº”ç”¨çš„æ ¹è·¯å¾„</span>
<span class="token class-name">String</span> contextPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–è¯·æ±‚æ–¹å¼</span>
<span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–è¯·æ±‚çš„URI</span>
<span class="token class-name">String</span> uri <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// /aaa/testRequest</span>

<span class="token comment">// è·å–servlet pathï¼Œä¸å¸¦é¡¹ç›®å</span>
<span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//   /testRequest</span>

</code></pre> </li></ul> </li></ul> 
<h2><a id="_ServletCRUD_2688"></a>ğŸ¥½ ä½¿ç”¨çº¯Servletåšä¸€ä¸ªå•è¡¨çš„CRUDæ“ä½œ</h2> 
<p>ä½¿ç”¨çº¯ç²¹çš„Servletå®Œæˆå•è¡¨ã€å¯¹éƒ¨é—¨çš„ã€‘çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚ï¼ˆB/Sç»“æ„çš„ã€‚ï¼‰</p> 
<p>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ä¸€å¼ æ•°æ®åº“è¡¨ã€‚ï¼ˆsqlè„šæœ¬ï¼‰</p> 
<pre><code class="prism language-sql"><span class="token comment"># éƒ¨é—¨è¡¨</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> dept<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> dept<span class="token punctuation">(</span>
	deptno <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    loc <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'XiaoShouBu'</span><span class="token punctuation">,</span> <span class="token string">'BEIJING'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'YanFaBu'</span><span class="token punctuation">,</span> <span class="token string">'SHANGHAI'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'JiShuBu'</span><span class="token punctuation">,</span> <span class="token string">'GUANGZHOU'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> dept<span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">'MeiTiBu'</span><span class="token punctuation">,</span> <span class="token string">'SHENZHEN'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">commit</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span>
</code></pre> 
<p>ç¬¬äºŒæ­¥ï¼šå‡†å¤‡ä¸€å¥—HTMLé¡µé¢ï¼ˆé¡¹ç›®åŸå‹ï¼‰</p> 
<ul><li>æŠŠHTMLé¡µé¢å‡†å¤‡å¥½</li><li>ç„¶åå°†HTMLé¡µé¢ä¸­çš„é“¾æ¥éƒ½èƒ½å¤Ÿè·‘é€šã€‚ï¼ˆé¡µé¢æµè½¬æ²¡é—®é¢˜ã€‚ï¼‰</li><li>åº”è¯¥è®¾è®¡å“ªäº›é¡µé¢å‘¢ï¼Ÿ 
  <ul><li>æ¬¢è¿é¡µé¢ï¼šindex.html<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨OAç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./list.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> </li><li>åˆ—è¡¨é¡µé¢ï¼šlist.htmlï¼ˆä»¥åˆ—è¡¨é¡µé¢ä¸ºæ ¸å¿ƒï¼Œå±•å¼€å…¶ä»–æ“ä½œã€‚ï¼‰<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1px solid black<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>åºå·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>é”€å”®éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>edit.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detail.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>é”€å”®éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>edit.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detail.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>é”€å”®éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>edit.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detail.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>æ–°å¢é¡µé¢ï¼šadd.html<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./list.html<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ç¼–å·ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dptno<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ä½ç½®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ–°å¢<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>ä¿®æ”¹é¡µé¢ï¼šedit.html<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>list.html<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token comment">&lt;!-- éƒ¨é—¨ç¼–å·ä¸å…è®¸ä¿®æ”¹ --&gt;</span>
			éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">readonly</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
			éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>é”€å”®éƒ¨<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
			éƒ¨é—¨ä½ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŒ—äº¬<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ä¿®æ”¹<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> </li><li>è¯¦æƒ…é¡µé¢ï¼šdetail.html<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·ï¼š20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°ï¼šé”€å”®éƒ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ä½ç½®ï¼šåŒ—äº¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åé€€<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li></ul> 
<p>ç¬¬ä¸‰æ­¥ï¼šåˆ†ææˆ‘ä»¬è¿™ä¸ªç³»ç»ŸåŒ…æ‹¬å“ªäº›åŠŸèƒ½ï¼Ÿ</p> 
<ul><li>ä»€ä¹ˆå«åšä¸€ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ 
  <ul><li>åªè¦ è¿™ä¸ªæ“ä½œè¿æ¥äº†æ•°æ®åº“ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„åŠŸèƒ½ã€‚</li></ul> </li><li>åŒ…æ‹¬å“ªäº›åŠŸèƒ½ï¼Ÿ 
  <ul><li>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨</li><li>æ–°å¢éƒ¨é—¨</li><li>åˆ é™¤éƒ¨é—¨</li><li>æŸ¥çœ‹éƒ¨é—¨è¯¦ç»†ä¿¡æ¯</li><li>è·³è½¬åˆ°ä¿®æ”¹é¡µé¢</li><li>ä¿®æ”¹éƒ¨é—¨</li></ul> </li></ul> 
<p>ç¬¬å››æ­¥ï¼šåœ¨IDEAå½“ä¸­æ­å»ºå¼€å‘ç¯å¢ƒ</p> 
<ul><li> <p>åˆ›å»ºä¸€ä¸ªwebappï¼ˆç»™è¿™ä¸ªwebappæ·»åŠ servlet-api.jarå’Œjsp-api.jaråˆ°classpathå½“ä¸­ã€‚ï¼‰</p> </li><li> <p>å‘webappä¸­æ·»åŠ è¿æ¥æ•°æ®åº“çš„jaråŒ…ï¼ˆmysqlé©±åŠ¨ï¼‰</p> 
  <ul><li>å¿…é¡»åœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºlibç›®å½•ï¼Œç„¶åå°†mysqlçš„é©±åŠ¨jaråŒ…æ‹·è´åˆ°è¿™ä¸ªlibç›®å½•ä¸‹ã€‚è¿™ä¸ªç›®å½•åå¿…é¡»å«åšlibï¼Œå…¨éƒ¨å°å†™çš„ã€‚</li></ul> </li><li> <p>JDBCçš„å·¥å…·ç±»</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ResourceBundle</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBUtil</span> <span class="token punctuation">{<!-- --></span>
    
    <span class="token comment">// é™æ€å˜é‡ï¼šåœ¨ç±»åŠ è½½æ—¶æ‰§è¡Œã€‚</span>
    <span class="token comment">// å¹¶ä¸”æ˜¯æœ‰é¡ºåºçš„ã€‚è‡ªä¸Šè€Œä¸‹çš„é¡ºåºã€‚</span>
    <span class="token comment">// å±æ€§èµ„æºæ–‡ä»¶ç»‘å®š</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ResourceBundle</span> bundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">"resources.jdbc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ ¹æ®å±æ€§é…ç½®æ–‡ä»¶keyè·å–value</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driver <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> user <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">static</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ³¨å†Œé©±åŠ¨ï¼ˆæ³¨å†Œé©±åŠ¨åªéœ€è¦æ³¨å†Œä¸€æ¬¡ï¼Œæ”¾åœ¨é™æ€ä»£ç å—å½“ä¸­ã€‚DBUtilç±»åŠ è½½çš„æ—¶å€™æ‰§è¡Œã€‚ï¼‰</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// "com.mysql.jdbc.Driver" æ˜¯è¿æ¥æ•°æ®åº“çš„é©±åŠ¨ï¼Œä¸èƒ½å†™æ­»ã€‚å› ä¸ºä»¥åå¯èƒ½è¿˜ä¼šè¿æ¥Oracleæ•°æ®åº“ã€‚</span>
            <span class="token comment">// å¦‚æœè¿æ¥oracleæ•°æ®åº“çš„æ—¶å€™ï¼Œè¿˜éœ€è¦ä¿®æ”¹javaä»£ç ï¼Œæ˜¾ç„¶è¿èƒŒäº†OCPå¼€é—­åŸåˆ™ã€‚</span>
            <span class="token comment">// OCPå¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ï¼ˆä»€ä¹ˆæ˜¯ç¬¦åˆOCPå‘¢ï¼Ÿåœ¨è¿›è¡ŒåŠŸèƒ½æ‰©å±•çš„æ—¶å€™ï¼Œä¸éœ€è¦ä¿®æ”¹javaæºä»£ç ã€‚ï¼‰</span>
            <span class="token comment">// Class.forName("com.mysql.cj.jdbc.Driver");</span>
            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * ç§æœ‰åŒ–æ„é€ å™¨é˜²æ­¢å·¥å…·ç±»è¢«å®ä¾‹åŒ–
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">DBUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡
     * @return
     * @throws SQLException
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/**
     * å…³é—­æ•°æ®åº“è¿æ¥èµ„æº
     * @param conn
     * @param stmt
     * @param rs
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> conn<span class="token punctuation">,</span> <span class="token class-name">Statement</span> stmt<span class="token punctuation">,</span> <span class="token class-name">ResultSet</span> rs<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>rs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                rs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>stmt <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                stmt<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li><li> <p>å°†æ‰€æœ‰HTMLé¡µé¢æ‹·è´åˆ°webç›®å½•ä¸‹ã€‚<br> <img src="https://images2.imgbox.com/98/a9/zW2Vgfyy_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ul> 
<p>ç¬¬äº”æ­¥ï¼šå®ç°ç¬¬ä¸€ä¸ªåŠŸèƒ½ï¼šæŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨</p> 
<ul><li> <p>æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå»å®ç°ä¸€ä¸ªåŠŸèƒ½å‘¢ï¼Ÿ</p> 
  <ul><li>å»ºè®®ï¼šä½ å¯ä»¥ä»åç«¯å¾€å‰ç«¯ä¸€æ­¥ä¸€æ­¥å†™ã€‚ä¹Ÿå¯ä»¥ä»å‰ç«¯ä¸€æ­¥ä¸€æ­¥å¾€åç«¯å†™ã€‚éƒ½å¯ä»¥ã€‚ä½†æ˜¯åƒä¸‡è¦è®°ä½ä¸è¦æƒ³èµ·æ¥ä»€ä¹ˆå†™ä»€ä¹ˆã€‚ä½ å†™ä»£ç çš„è¿‡ç¨‹æœ€å¥½æ˜¯ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šç¨‹åºæ‰§è¡Œåˆ°å“ªé‡Œï¼Œä½ å°±å†™å“ªé‡Œã€‚è¿™æ ·ä¸€ä¸ªé¡ºåºæµä¸‹æ¥ä¹‹åï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‡ºç°ä»€ä¹ˆé”™è¯¯ã€æ„å¤–ã€‚</li><li>ä»å“ªé‡Œå¼€å§‹ï¼Ÿ 
    <ul><li>å‡è®¾ä»å‰ç«¯å¼€å§‹ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä»ç”¨æˆ·ç‚¹å‡»æŒ‰é’®é‚£é‡Œå¼€å§‹çš„ã€‚</li></ul> </li></ul> </li><li> <p>ç¬¬ä¸€ï¼šå…ˆä¿®æ”¹å‰ç«¯é¡µé¢çš„è¶…é“¾æ¥ï¼Œå› ä¸ºç”¨æˆ·å…ˆç‚¹å‡»çš„å°±æ˜¯è¿™ä¸ªè¶…é“¾æ¥ã€‚</p> 
  <ul><li> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/oa/dept/list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li> <p>ç¬¬äºŒï¼šç¼–å†™web.xmlæ–‡ä»¶</p> 
  <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cw.javaweb.oa.web.DeptListServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--web.xmlæ–‡ä»¶ä¸­çš„è¿™ä¸ªè·¯å¾„ä¹Ÿæ˜¯ä»¥â€œ/â€å¼€å§‹çš„ï¼Œä½†æ˜¯ä¸éœ€è¦åŠ é¡¹ç›®å--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li> <p>ç¬¬ä¸‰ï¼šç¼–å†™DeptListServletç±»ç»§æ‰¿HttpServletç±»ã€‚ç„¶åé‡å†™doGetæ–¹æ³•ã€‚</p> </li><li> <p>ç¬¬å››ï¼šåœ¨DeptListServletç±»çš„doGetæ–¹æ³•ä¸­è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨ï¼ŒåŠ¨æ€çš„å±•ç¤ºéƒ¨é—¨åˆ—è¡¨é¡µé¢.</p> 
  <ul><li> <p>åˆ†ælist.htmlé¡µé¢ä¸­å“ªéƒ¨åˆ†æ˜¯å›ºå®šæ­»çš„ï¼Œå“ªéƒ¨åˆ†æ˜¯éœ€è¦åŠ¨æ€å±•ç¤ºçš„ã€‚</p> </li><li> <p>list.htmlé¡µé¢ä¸­çš„å†…å®¹æ‰€æœ‰çš„åŒå¼•å·è¦æ›¿æ¢æˆå•å¼•å·ï¼Œå› ä¸ºout.print(â€œâ€)è¿™é‡Œæœ‰ä¸€ä¸ªåŒå¼•å·ï¼Œå®¹æ˜“å†²çªã€‚</p> </li><li> <p>ç°åœ¨å†™å®Œè¿™ä¸ªåŠŸèƒ½ä¹‹åï¼Œä½ ä¼šæœ‰ä¸€ç§æ„Ÿè§‰ï¼Œæ„Ÿè§‰å¼€å‘å¾ˆç¹çï¼Œåªä½¿ç”¨servletå†™ä»£ç å¤ªç¹çäº†ã€‚</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptListServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ä»¥åŠå­—ç¬¦é›†ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç </span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–è¾“å‡ºæµ</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html lang='en'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;meta charset='UTF-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;title&gt;éƒ¨é—¨åˆ—è¡¨é¡µé¢&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;h1 align='center'&gt;éƒ¨é—¨åˆ—è¡¨&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;hr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;table align='center' border='1px solid black' width='50%'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;thead&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;th&gt;åºå·&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;th&gt;éƒ¨é—¨ç¼–å·&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;th&gt;éƒ¨é—¨åç§°&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;th&gt;æ“ä½œ&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;/tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;/thead&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;tbody&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–é“¾æ¥</span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select deptno, dname, loc from dept"</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡Œsqlï¼Œè·å–æŸ¥è¯¢ç»“æœ</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> deptno <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;td&gt;"</span><span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;td&gt;"</span><span class="token operator">+</span> deptno <span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;td&gt;"</span><span class="token operator">+</span> dname <span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"            &lt;a href=''&gt;åˆ é™¤&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"            &lt;a href=''&gt;ä¿®æ”¹&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"            &lt;a href=''&gt;è¯¦æƒ…&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        &lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;/tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡Šæ”¾èµ„æº</span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    &lt;/tbody&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/table&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;hr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;a href=''&gt;æ–°å¢éƒ¨é—¨&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/f8/43/5xCE7XSt_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¬¬å…­æ­¥ï¼šæŸ¥çœ‹éƒ¨é—¨è¯¦æƒ…ã€‚</p> 
<ul><li> <p>å»ºè®®ï¼šä»å‰ç«¯å¾€åç«¯ä¸€æ­¥ä¸€æ­¥å®ç°ã€‚é¦–å…ˆè¦è€ƒè™‘çš„æ˜¯ï¼Œç”¨æˆ·ç‚¹å‡»çš„æ˜¯ä»€ä¹ˆï¼Ÿç”¨æˆ·ç‚¹å‡»çš„ä¸œè¥¿åœ¨å“ªé‡Œï¼Ÿ</p> 
  <ul><li> <p>ä¸€å®šè¦å…ˆæ‰¾åˆ°ç”¨æˆ·ç‚¹çš„â€œè¯¦æƒ…â€åœ¨å“ªé‡Œã€‚æ‰¾äº†åŠå¤©ï¼Œç»ˆäºåœ¨åç«¯çš„javaç¨‹åºä¸­æ‰¾åˆ°äº†</p> 
    <ul><li> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>å†™ä¸€ä¸ªè·¯å¾„<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>è¯¦æƒ… æ˜¯éœ€è¦è¿æ¥æ•°æ®åº“çš„ï¼Œæ‰€ä»¥è¿™ä¸ªè¶…é“¾æ¥ç‚¹å‡»ä¹‹åä¹Ÿæ˜¯éœ€è¦æ‰§è¡Œä¸€æ®µjavaä»£ç çš„ã€‚æ‰€ä»¥è¦å°†è¿™ä¸ªè¶…é“¾æ¥çš„è·¯å¾„ä¿®æ”¹ä¸€ä¸‹ã€‚</p> </li><li> <p>æ³¨æ„ï¼šä¿®æ”¹è·¯å¾„ä¹‹åï¼Œè¿™ä¸ªè·¯å¾„æ˜¯éœ€è¦åŠ é¡¹ç›®åçš„ã€‚â€œ/oa/dept/detailâ€</p> </li></ul> </li><li> <p>æŠ€å·§ï¼š</p> 
    <ul><li> <pre><code class="prism language-java">out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;a href='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/dept/detail?deptno="</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">"'&gt;è¯¦æƒ…&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <p>é‡ç‚¹ï¼šå‘æœåŠ¡å™¨æäº¤æ•°æ®çš„æ ¼å¼ï¼šuri?name=value&amp;name=value&amp;name=value&amp;name=value</p> </li><li> <p>è¿™é‡Œçš„é—®å·ï¼Œå¿…é¡»æ˜¯è‹±æ–‡çš„é—®å·ã€‚ä¸èƒ½ä¸­æ–‡çš„é—®å·ã€‚</p> </li></ul> </li></ul> </li><li> <p>è§£å†³404çš„é—®é¢˜ã€‚å†™web.xmlæ–‡ä»¶ã€‚</p> 
  <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>detail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.oa.web.action.DeptDetailServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>detail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/detail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li> <p>ç¼–å†™ä¸€ä¸ªç±»ï¼šDeptDetailServletç»§æ‰¿HttpServletï¼Œé‡å†™doGetæ–¹æ³•ã€‚</p> </li><li> <p>åœ¨doGetæ–¹æ³•å½“ä¸­ï¼šè¿æ¥æ•°æ®åº“ï¼Œæ ¹æ®éƒ¨é—¨ç¼–å·æŸ¥è¯¢è¯¥éƒ¨é—¨çš„ä¿¡æ¯ã€‚åŠ¨æ€å±•ç¤ºéƒ¨é—¨è¯¦æƒ…é¡µã€‚</p> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptDetailServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token comment">// /oa/dept/detail?deptno=30</span>
        <span class="token comment">// è™½ç„¶æ˜¯æäº¤çš„30ï¼Œä½†æ˜¯æœåŠ¡å™¨è·å–çš„æ˜¯"30"è¿™ä¸ªå­—ç¬¦ä¸²ã€‚</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å†…å®¹ç±»å‹ä»¥åŠç¼–ç </span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–è¾“å‡ºå¯¹è±¡</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html lang='en'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;meta charset='UTF-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;title&gt;éƒ¨é—¨è¯¦æƒ…&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;h1&gt;éƒ¨é—¨è¯¦æƒ…&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;hr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select dname, loc from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;p&gt;éƒ¨é—¨ç¼–å·ï¼š"</span><span class="token operator">+</span> deptno <span class="token operator">+</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;p&gt;éƒ¨é—¨åç§°ï¼š"</span><span class="token operator">+</span> dname <span class="token operator">+</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"  &lt;p&gt;éƒ¨é—¨ä½ç½®ï¼š"</span><span class="token operator">+</span> loc <span class="token operator">+</span><span class="token string">"&lt;/p&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;input type='button' value='åé€€' Î¿nclick='window.history.back()'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> 
<p><img src="https://images2.imgbox.com/59/9b/k1TIUeSY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¬¬ä¸ƒæ­¥ï¼šåˆ é™¤éƒ¨é—¨</p> 
<ul><li> <p>æ€ä¹ˆå¼€å§‹ï¼Ÿä»å“ªé‡Œå¼€å§‹ï¼Ÿä»å‰ç«¯é¡µé¢å¼€å§‹ï¼Œç”¨æˆ·ç‚¹å‡»åˆ é™¤æŒ‰é’®çš„æ—¶å€™ï¼Œåº”è¯¥æç¤ºç”¨æˆ·æ˜¯å¦åˆ é™¤ã€‚å› ä¸ºåˆ é™¤è¿™ä¸ªåŠ¨ä½œæ˜¯æ¯”è¾ƒå±é™©çš„ã€‚ä»»ä½•ç³»ç»Ÿåœ¨è¿›è¡Œåˆ é™¤æ“ä½œä¹‹å‰ï¼Œæ˜¯å¿…é¡»è¦æç¤ºç”¨æˆ·çš„ï¼Œå› ä¸ºè¿™ä¸ªåˆ é™¤çš„åŠ¨ä½œæœ‰å¯èƒ½æ˜¯ç”¨æˆ·è¯¯æ“ä½œã€‚ï¼ˆåœ¨å‰ç«¯é¡µé¢ä¸Šå†™JSä»£ç ï¼Œæ¥æç¤ºç”¨æˆ·æ˜¯å¦åˆ é™¤ã€‚ï¼‰</p> 
  <ul><li> <pre><code class="prism language-html"><span class="token comment">&lt;!-- javascript:void(0) ä¿ç•™è¶…é“¾æ¥çš„æ ·å¼ï¼Œä½†æ˜¯ç‚¹å‡»è¶…é“¾æ¥ä¸è¿›è¡Œé¡µé¢çš„è·³è½¬ --&gt;</span>
<span class="token comment">&lt;!-- onclick ç‚¹å‡»è¶…é“¾æ¥æ—¶æ‰§è¡Œå›è°ƒå‡½æ•° --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">function</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">dno</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	    <span class="token comment">// confirm å¼¹å‡ºä¸€ä¸ªç¡®è®¤æ¡†ï¼Œç‚¹å‡»ç¡®å®šè¿”å›trueï¼Œå¦åˆ™ä¸ºfalse</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"äº²ï¼Œåˆ äº†ä¸å¯æ¢å¤å“¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">// å‘é€è¯·æ±‚</span>
			<span class="token comment">// document.location.href = ""</span>
			<span class="token comment">// document.location = ""</span>
			<span class="token comment">// window.location.href = ""</span>
			<span class="token comment">// window.location = ""</span>
			document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"/oa/dept/delete?deptno="</span> <span class="token operator">+</span> dno<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li> <p>ä»¥ä¸Šçš„å‰ç«¯ç¨‹åºè¦å†™åˆ°åç«¯çš„javaä»£ç å½“ä¸­ï¼š</p> 
  <ul><li>DeptListServletç±»çš„doGetæ–¹æ³•å½“ä¸­ï¼Œä½¿ç”¨out.print()æ–¹æ³•ï¼Œå°†ä»¥ä¸Šçš„å‰ç«¯ä»£ç è¾“å‡ºåˆ°æµè§ˆå™¨ä¸Šã€‚</li></ul> </li><li> <p>è§£å†³404çš„é—®é¢˜ï¼š</p> 
  <ul><li> <p>http://localhost:8080/oa/dept/delete?deptno=30</p> </li><li> <p>web.xmlæ–‡ä»¶</p> 
    <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.bjpowernode.oa.web.action.DeptDelServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li></ul> </li><li> <p>ç¼–å†™DeptDelServletç»§æ‰¿HttpServletï¼Œé‡å†™doGetæ–¹æ³•ã€‚</p> </li><li> <p>åˆ é™¤æˆåŠŸæˆ–è€…å¤±è´¥çš„æ—¶å€™çš„ä¸€ä¸ªå¤„ç†ï¼ˆè¿™é‡Œæˆ‘ä»¬é€‰æ‹©äº†è½¬å‘ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨é‡å®šå‘æœºåˆ¶ã€‚ï¼‰</p> <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æ“ä½œå¤±è´¥ï¼Œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>è¿”å›<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptDelServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨id</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è¿æ¥æ•°æ®åº“åˆ é™¤éƒ¨é—¨</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¼€å¯äº‹åŠ¡ï¼Œå…³é—­è‡ªåŠ¨æäº¤äº‹åŠ¡</span>
            conn<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from dept where id = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// äº‹åŠ¡æäº¤</span>
            conn<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// äº‹åŠ¡å›æ»š</span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                conn<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token comment">// åˆ¤æ–­æˆåŠŸæˆ–å¤±è´¥ï¼Œè¿›è¡Œé¡µé¢çš„è·³è½¬</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åˆ é™¤æˆåŠŸ</span>
            <span class="token comment">//ä»ç„¶è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</span>
            <span class="token comment">//éƒ¨é—¨åˆ—è¡¨é¡µé¢çš„æ˜¾ç¤ºéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªServletã€‚æ€ä¹ˆåŠï¼Ÿè½¬å‘ã€‚</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// åˆ é™¤å¤±è´¥</span>
            <span class="token comment">// è¯·æ±‚è½¬å‘å¯ä»¥æ˜¯servletä¹Ÿå¯ä»¥æ˜¯é¡µé¢</span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> 
<p><img src="https://images2.imgbox.com/de/3e/LTa8Djs4_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/a5/f8/tfQURhom_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¬¬å…«æ­¥ï¼šæ–°å¢éƒ¨é—¨</p> 
<ul><li> <pre><code class="prism language-java">  out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;a href='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/add.html'&gt;æ–°å¢éƒ¨é—¨&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li><li> <pre><code class="prism language-xml">  <span class="token comment">&lt;!--æ–°å¢éƒ¨é—¨ --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cw.javaweb.oa.web.DeptAddServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <pre><code class="prism language-html">  <span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/oa/dept/add<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      éƒ¨é—¨ç¼–å·ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
      éƒ¨é—¨åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
      éƒ¨é—¨ä½ç½®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ–°å¢<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <pre><code class="prism language-java">  <span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>
  
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>
  
  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptAddServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">// æ³¨æ„ä¹±ç é—®é¢˜</span>
          request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// è·å–éƒ¨é—¨ä¿¡æ¯</span>
          <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          
          <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œæ’å…¥æ“ä½œ</span>
          <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      
          <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
              conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into dept(deptno, dname, loc) values (?, ?, ?)"</span><span class="token punctuation">;</span>
              ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
              ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
              ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
              ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
              count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// æˆåŠŸæˆ–å¤±è´¥</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
              request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
</code></pre> </li><li> <p>æ³¨æ„ï¼šæœ€åä¿å­˜æˆåŠŸä¹‹åï¼Œè½¬å‘åˆ° /dept/list çš„æ—¶å€™ï¼Œä¼šå‡ºç°405ï¼Œä¸ºä»€ä¹ˆï¼Ÿ<br> <img src="https://images2.imgbox.com/4e/55/qmq47RWC_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/37/1b/OMzNTANw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
  <ul><li>ç¬¬ä¸€ï¼šä¿å­˜ç”¨çš„æ˜¯postè¯·æ±‚ã€‚åº•å±‚è¦æ‰§è¡ŒdoPostæ–¹æ³•ã€‚</li><li>ç¬¬äºŒï¼šè½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œä¹‹å‰æ˜¯postï¼Œä¹‹åè¿˜æ˜¯postï¼Œå› ä¸ºå®ƒæ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚</li><li>ç¬¬ä¸‰ï¼š/dept/list Servletå½“ä¸­åªæœ‰ä¸€ä¸ªdoGetæ–¹æ³•ã€‚</li><li>æ€ä¹ˆè§£å†³ï¼Ÿä¸¤ç§æ–¹æ¡ˆ 
    <ul><li>ç¬¬ä¸€ç§ï¼šåœ¨/dept/list Servletä¸­æ·»åŠ doPostæ–¹æ³•ï¼Œç„¶ååœ¨doPostæ–¹æ³•ä¸­è°ƒç”¨doGetã€‚<pre><code class="prism language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li><li>ç¬¬äºŒç§ï¼šé‡å®šå‘ã€‚</li></ul> </li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/ff/09/o9XSFtV0_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/1e/82/5wYz46Qa_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¬¬ä¹æ­¥ï¼šè·³è½¬åˆ°ä¿®æ”¹éƒ¨é—¨çš„é¡µé¢</p> 
<pre><code class="prism language-java">out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;a href='"</span><span class="token operator">+</span> contextPath <span class="token operator">+</span><span class="token string">"/dept/edit?deptno="</span><span class="token operator">+</span> deptno <span class="token operator">+</span><span class="token string">"'&gt;ä¿®æ”¹&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-xml">	<span class="token comment">&lt;!-- ä¿®æ”¹éƒ¨é—¨ä¿¡æ¯ --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cw.javaweb.oa.web.DeptEditServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptEditServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å“åº”å†…å®¹æ ¼å¼å’Œç¼–ç </span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–è¾“å‡ºå¯¹è±¡</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;meta charset='utf-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;title&gt;ä¿®æ”¹éƒ¨é—¨&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;h1&gt;ä¿®æ”¹éƒ¨é—¨&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;hr &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;form action='/oa/dept/modify' method='post'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;!-- éƒ¨é—¨ç¼–å·ä¸å…è®¸ä¿®æ”¹ --&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// æŸ¥è¯¢æ•°æ®åº“</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select dname, loc from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨ç¼–å·&lt;input type='text' name='deptno' value='"</span><span class="token operator">+</span> deptno <span class="token operator">+</span><span class="token string">"' readonly /&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨åç§°&lt;input type='text' name='dname' value='"</span><span class="token operator">+</span>dname<span class="token operator">+</span><span class="token string">"'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨ä½ç½®&lt;input type='text' name='loc' value='"</span><span class="token operator">+</span>loc<span class="token operator">+</span><span class="token string">"'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;input type='submit' value='ä¿®æ”¹'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;/form&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/f4/99/JbiLuTmj_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>ç¬¬åæ­¥ï¼šä¿®æ”¹éƒ¨é—¨</p> 
<pre><code class="prism language-xml">	<span class="token comment">&lt;!-- ç¼–è¾‘éƒ¨é—¨ä¿¡æ¯ --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>modify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>cw.javaweb.oa.web.DeptModifyServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>modify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/modify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptModifyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ³¨æ„ä¹±ç é—®é¢˜</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–éƒ¨é—¨ä¿¡æ¯</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œæ’å…¥æ“ä½œ</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update dept set dname = ?, loc = ? where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// æˆåŠŸæˆ–å¤±è´¥</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/4a/75/dbQD1nsi_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/f3/d6/haXpxQnu_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/db/a5/umctk9L1_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="_web_3590"></a>ğŸ¥½ åœ¨ä¸€ä¸ªwebåº”ç”¨ä¸­åº”è¯¥å¦‚ä½•å®Œæˆèµ„æºçš„è·³è½¬</h2> 
<ul><li> <p>åœ¨ä¸€ä¸ªwebåº”ç”¨ä¸­é€šè¿‡ä¸¤ç§æ–¹å¼ï¼Œå¯ä»¥å®Œæˆèµ„æºçš„è·³è½¬ï¼š</p> 
  <ul><li>ç¬¬ä¸€ç§æ–¹å¼ï¼šè½¬å‘</li><li>ç¬¬äºŒç§æ–¹å¼ï¼šé‡å®šå‘</li></ul> </li><li> <p>è½¬å‘å’Œé‡å®šå‘æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> 
  <ul><li> <p>ä»£ç ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> 
    <ul><li> <p>è½¬å‘</p> 
      <ul><li> <pre><code class="prism language-java"><span class="token comment">// è·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡</span>
<span class="token comment">// å‘Šè¯‰Tomcatä¸‹ä¸€æ¬¡è¯·æ±‚è¦å‘ç»™å“ªä¸ªServletå¯¹è±¡</span>
<span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è°ƒç”¨è¯·æ±‚è½¬å‘å™¨å¯¹è±¡çš„forwardæ–¹æ³•å®Œæˆè½¬å‘</span>
<span class="token comment">// ä¼ å…¥request, response ä¿è¯ä¸ºåŒä¸€æ¬¡è¯·æ±‚ï¼Œä¿è¯è¯·æ±‚åŸŸç›¸åŒ</span>
dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆå¹¶ä¸€è¡Œä»£ç </span>
request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è½¬å‘çš„æ—¶å€™æ˜¯ä¸€æ¬¡è¯·æ±‚ï¼Œä¸ç®¡ä½ è½¬å‘äº†å¤šå°‘æ¬¡ã€‚éƒ½æ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚</span>
<span class="token comment">// AServletè½¬å‘åˆ°BServletï¼Œå†è½¬å‘åˆ°CServletï¼Œå†è½¬å‘åˆ°DServletï¼Œä¸ç®¡è½¬å‘äº†å¤šå°‘æ¬¡ï¼Œéƒ½åœ¨åŒä¸€ä¸ªrequestå½“ä¸­ã€‚</span>
<span class="token comment">// è¿™æ˜¯å› ä¸ºè°ƒç”¨forwardæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šå°†å½“å‰çš„requestå’Œresponseå¯¹è±¡ä¼ é€’ç»™ä¸‹ä¸€ä¸ªServletã€‚</span>
</code></pre> </li></ul> </li><li> <p>é‡å®šå‘</p> 
      <ul><li> <pre><code class="prism language-java"><span class="token comment">// æ³¨æ„ï¼šè·¯å¾„ä¸Šè¦åŠ ä¸€ä¸ªé¡¹ç›®åã€‚ä¸ºä»€ä¹ˆï¼Ÿ</span>
<span class="token comment">// æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œè¯·æ±‚è·¯å¾„ä¸Šæ˜¯éœ€è¦æ·»åŠ é¡¹ç›®åçš„ã€‚</span>
<span class="token comment">// ä»¥ä¸‹è¿™ä¸€è¡Œä»£ç ä¼šå°†è¯·æ±‚è·¯å¾„â€œ/oa/dept/listâ€å‘é€ç»™æµè§ˆå™¨</span>
<span class="token comment">// æµè§ˆå™¨ä¼šè‡ªå‘çš„å‘æœåŠ¡å™¨å‘é€ä¸€æ¬¡å…¨æ–°çš„è¯·æ±‚ï¼š/oa/dept/list</span>
response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/oa/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ul> </li></ul> </li><li> <p>å½¢å¼ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p> 
    <ul><li> <p>è½¬å‘ï¼ˆä¸€æ¬¡è¯·æ±‚ï¼‰</p> 
      <ul><li>åœ¨æµè§ˆå™¨åœ°å€æ ä¸Šå‘é€çš„è¯·æ±‚æ˜¯ï¼šhttp://localhost:8080/servlet10/a ï¼Œæœ€ç»ˆè¯·æ±‚ç»“æŸä¹‹åï¼Œæµè§ˆå™¨åœ°å€æ ä¸Šçš„åœ°å€è¿˜æ˜¯è¿™ä¸ªã€‚æ²¡å˜ã€‚<br> <img src="https://images2.imgbox.com/bd/51/vSuogUU6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>é‡å®šå‘ï¼ˆä¸¤æ¬¡è¯·æ±‚ï¼‰</p> 
      <ul><li>åœ¨æµè§ˆå™¨åœ°å€æ ä¸Šå‘é€çš„è¯·æ±‚æ˜¯ï¼šhttp://localhost:8080/servlet10/a ï¼Œæœ€ç»ˆåœ¨æµè§ˆå™¨åœ°å€æ ä¸Šæ˜¾ç¤ºçš„åœ°å€æ˜¯ï¼šhttp://localhost:8080/servlet10/b<br> <img src="https://images2.imgbox.com/b4/80/DIJiwgOY_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> </li><li> <p>è½¬å‘å’Œé‡å®šå‘çš„æœ¬è´¨åŒºåˆ«ï¼Ÿ</p> 
    <ul><li>è½¬å‘ï¼šæ˜¯ç”±WEBæœåŠ¡å™¨æ¥æ§åˆ¶çš„ã€‚Aèµ„æºè·³è½¬åˆ°Bèµ„æºï¼Œè¿™ä¸ªè·³è½¬åŠ¨ä½œæ˜¯TomcatæœåŠ¡å™¨å†…éƒ¨å®Œæˆçš„ã€‚</li><li>é‡å®šå‘ï¼šæ˜¯æµè§ˆå™¨å®Œæˆçš„ã€‚å…·ä½“è·³è½¬åˆ°å“ªä¸ªèµ„æºï¼Œæ˜¯æµè§ˆå™¨è¯´äº†ç®—ã€‚</li></ul> </li><li> <p>ä½¿ç”¨ä¸€ä¸ªä¾‹å­å»æè¿°è¿™ä¸ªè½¬å‘å’Œé‡å®šå‘</p> 
    <ul><li>å€Ÿé’±ï¼ˆè½¬å‘ï¼šå‘é€äº†ä¸€æ¬¡è¯·æ±‚ï¼‰ 
      <ul><li>æœè€å¸ˆæ²¡é’±äº†ï¼Œæ‰¾å¼ ä¸‰å€Ÿé’±ï¼Œå…¶å®å¼ ä¸‰æ²¡æœ‰é’±ï¼Œä½†æ˜¯å¼ ä¸‰å¤Ÿä¹‰æ°”ï¼Œå¼ ä¸‰è‡ªå·±æ‰¾æå››å€Ÿäº†é’±ï¼Œç„¶åå¼ ä¸‰æŠŠè¿™ä¸ªé’±ç»™äº†æœè€å¸ˆï¼Œæœè€å¸ˆä¸çŸ¥é“è¿™ä¸ªé’±æ˜¯æå››çš„ï¼Œæœè€å¸ˆåªæ±‚äº†ä¸€ä¸ªäººã€‚æœè€å¸ˆä»¥ä¸ºè¿™ä¸ªé’±å°±æ˜¯å¼ ä¸‰çš„ã€‚</li></ul> </li><li>å€Ÿé’±ï¼ˆé‡å®šå‘ï¼šå‘é€äº†ä¸¤æ¬¡è¯·æ±‚ï¼‰ 
      <ul><li>æœè€å¸ˆæ²¡é’±äº†ï¼Œæ‰¾å¼ ä¸‰å€Ÿé’±ï¼Œå¼ ä¸‰æ²¡æœ‰é’±ï¼Œå¼ ä¸‰æœ‰ä¸€ä¸ªå¥½å“¥ä»¬ï¼Œå«æå››ï¼Œæå››æ˜¯ä¸ªå¯ŒäºŒä»£ï¼Œäºæ˜¯å¼ ä¸‰å°†æå››çš„å®¶åº­ä½å€å‘Šè¯‰äº†æœè€å¸ˆï¼Œæœè€å¸ˆæŒ‰ç…§è¿™ä¸ªåœ°å€å»æ‰¾åˆ°æå››ï¼Œç„¶åä»æå››é‚£é‡Œå€Ÿäº†é’±ã€‚æ˜¾ç„¶æœè€å¸ˆåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ±‚äº†ä¸¤ä¸ªäººã€‚å¹¶ä¸”æœè€å¸ˆçŸ¥é“æœ€ç»ˆè¿™ä¸ªé’±æ˜¯æå››å€Ÿç»™ä¿ºçš„ã€‚</li></ul> </li></ul> </li></ul> </li><li> <p>è½¬å‘å’Œé‡å®šå‘åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿä»€ä¹ˆæ—¶å€™ä½¿ç”¨è½¬å‘ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨é‡å®šå‘ï¼Ÿ</p> 
  <ul><li>å¦‚æœåœ¨ä¸Šä¸€ä¸ªServletå½“ä¸­å‘requeståŸŸå½“ä¸­ç»‘å®šäº†æ•°æ®ï¼Œå¸Œæœ›ä»ä¸‹ä¸€ä¸ªServletå½“ä¸­æŠŠrequeståŸŸé‡Œé¢çš„æ•°æ®å–å‡ºæ¥ï¼Œä½¿ç”¨è½¬å‘æœºåˆ¶ã€‚</li><li>å‰©ä¸‹æ‰€æœ‰çš„è¯·æ±‚å‡ä½¿ç”¨é‡å®šå‘ã€‚ï¼ˆé‡å®šå‘ä½¿ç”¨è¾ƒå¤šã€‚ï¼‰</li></ul> </li><li> <p>è·³è½¬çš„ä¸‹ä¸€ä¸ªèµ„æºæœ‰æ²¡æœ‰è¦æ±‚å‘¢ï¼Ÿå¿…é¡»æ˜¯ä¸€ä¸ªServletå—ï¼Ÿ</p> 
  <ul><li>ä¸ä¸€å®šï¼Œè·³è½¬çš„èµ„æºåªè¦æ˜¯æœåŠ¡å™¨å†…éƒ¨åˆæ³•çš„èµ„æºå³å¯ã€‚åŒ…æ‹¬ï¼šServletã€JSPã€HTMLâ€¦</li></ul> </li><li> <p>è½¬å‘ä¼šå­˜åœ¨æµè§ˆå™¨çš„åˆ·æ–°é—®é¢˜ã€‚ç”±äºè¯·æ±‚è½¬å‘çš„å‰ç«¯è·¯å¾„ä¸ä¼šå‘é€å˜åŒ–ï¼Œæ‰€ä»¥å‰ç«¯è¿›è¡Œåˆ·æ–°ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡ä¸ä¹‹å‰ç›¸åŒçš„è¯·æ±‚ï¼Œå¦‚æœä¹‹å‰æ‰§è¡Œçš„ä¸ºå‘æ•°æ®åº“æ’å…¥ä¿¡æ¯çš„è¯·æ±‚ï¼Œåˆ™ä½¿ç”¨è½¬å‘æ¯æ¬¡è¿›è¡Œåˆ·æ–°éƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡æ’å…¥æ“ä½œã€‚ä½¿ç”¨é‡å®šå‘åˆ™ä¸ä¼šï¼Œé‡å®šå‘æ˜¯å‘é€ä¸€æ¬¡ä¸ä¹‹å‰è¯·æ±‚æ— å…³çš„ä¸€æ¬¡æ–°è¯·æ±‚ã€‚</p> </li></ul> 
<h2><a id="_oa_3664"></a>ğŸ¥½ å°†oaé¡¹ç›®ä¸­çš„èµ„æºè·³è½¬ä¿®æ”¹ä¸ºåˆé€‚çš„è·³è½¬æ–¹å¼</h2> 
<p>åˆ é™¤ä¹‹åï¼Œé‡å®šå‘</p> 
<pre><code class="prism language-java"><span class="token comment">// åˆ¤æ–­æˆåŠŸæˆ–å¤±è´¥ï¼Œè¿›è¡Œé¡µé¢çš„è·³è½¬</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//åˆ é™¤æˆåŠŸ</span>
    <span class="token comment">//ä»ç„¶è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</span>
    <span class="token comment">//éƒ¨é—¨åˆ—è¡¨é¡µé¢çš„æ˜¾ç¤ºéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªServletã€‚æ€ä¹ˆåŠï¼Ÿè½¬å‘ã€‚</span>
    <span class="token comment">// request.getRequestDispatcher("/dept/list").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// åˆ é™¤å¤±è´¥</span>
    <span class="token comment">// request.getRequestDispatcher("/error.html").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¿®æ”¹ä¹‹åï¼Œé‡å®šå‘</p> 
<pre><code class="prism language-java"><span class="token comment">// æˆåŠŸæˆ–å¤±è´¥</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// request.getRequestDispatcher("/dept/list").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// request.getRequestDispatcher("/error.html").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>ä¿å­˜ä¹‹åï¼Œé‡å®šå‘</p> 
<pre><code class="prism language-java"><span class="token comment">// æˆåŠŸæˆ–å¤±è´¥</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// request.getRequestDispatcher("/dept/list").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// request.getRequestDispatcher("/error.html").forward(request, response);</span>
    response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_Servlet_3708"></a>ğŸ¥½ Servletæ³¨è§£ï¼Œç®€åŒ–é…ç½®</h2> 
<ul><li> <p>åˆ†æoaé¡¹ç›®ä¸­çš„web.xmlæ–‡ä»¶</p> 
  <ul><li>ç°åœ¨åªæ˜¯ä¸€ä¸ªå•æ ‡çš„CRUDï¼Œæ²¡æœ‰å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¾ˆç®€å•çš„ä¸€ä¸¢ä¸¢åŠŸèƒ½ã€‚web.xmlæ–‡ä»¶ä¸­å°±æœ‰å¦‚æ­¤å¤šçš„é…ç½®ä¿¡æ¯ã€‚å¦‚æœé‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œå¯¹äºä¸€ä¸ªå¤§çš„é¡¹ç›®æ¥è¯´ï¼Œè¿™æ ·çš„è¯web.xmlæ–‡ä»¶ä¼šéå¸¸åºå¤§ï¼Œæœ‰å¯èƒ½æœ€ç»ˆä¼šè¾¾åˆ°å‡ åå…†ã€‚</li><li>åœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡Œservletä¿¡æ¯çš„é…ç½®ï¼Œæ˜¾ç„¶å¼€å‘æ•ˆç‡æ¯”è¾ƒä½ï¼Œæ¯ä¸€ä¸ªéƒ½éœ€è¦é…ç½®ä¸€ä¸‹ã€‚</li><li>è€Œä¸”åœ¨web.xmlæ–‡ä»¶ä¸­çš„é…ç½®æ˜¯å¾ˆå°‘è¢«ä¿®æ”¹çš„ï¼Œæ‰€ä»¥è¿™ç§é…ç½®ä¿¡æ¯èƒ½ä¸èƒ½ç›´æ¥å†™åˆ°javaç±»å½“ä¸­å‘¢ï¼Ÿå¯ä»¥çš„ã€‚</li></ul> </li><li> <p>Servlet3.0ç‰ˆæœ¬ä¹‹åï¼Œæ¨å‡ºäº†å„ç§ServletåŸºäºæ³¨è§£å¼å¼€å‘ã€‚ä¼˜ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>å¼€å‘æ•ˆç‡é«˜ï¼Œä¸éœ€è¦ç¼–å†™å¤§é‡çš„é…ç½®ä¿¡æ¯ã€‚ç›´æ¥åœ¨javaç±»ä¸Šä½¿ç”¨æ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚</li><li>web.xmlæ–‡ä»¶ä½“ç§¯å˜å°äº†ã€‚</li></ul> </li><li> <p>å¹¶ä¸æ˜¯è¯´æ³¨è§£æœ‰äº†ä¹‹åï¼Œweb.xmlæ–‡ä»¶å°±ä¸éœ€è¦äº†ï¼š</p> 
  <ul><li>æœ‰ä¸€äº›éœ€è¦å˜åŒ–çš„ä¿¡æ¯ï¼Œè¿˜æ˜¯è¦é…ç½®åˆ°web.xmlæ–‡ä»¶ä¸­ã€‚ä¸€èˆ¬éƒ½æ˜¯ æ³¨è§£+é…ç½®æ–‡ä»¶ çš„å¼€å‘æ¨¡å¼ã€‚</li><li>ä¸€äº›ä¸ä¼šç»å¸¸å˜åŒ–ä¿®æ”¹çš„é…ç½®å»ºè®®ä½¿ç”¨æ³¨è§£ã€‚ä¸€äº›å¯èƒ½ä¼šè¢«ä¿®æ”¹çš„å»ºè®®å†™åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚</li></ul> </li><li> <p>æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæ³¨è§£ï¼š</p> 
  <ul><li> <pre><code>jakarta.servlet.annotation.WebServlet
</code></pre> </li><li> <p>åœ¨Servletç±»ä¸Šä½¿ç”¨ï¼š@WebServletï¼ŒWebServletæ³¨è§£ä¸­æœ‰å“ªäº›å±æ€§å‘¢ï¼Ÿ</p> 
    <ul><li>nameå±æ€§ï¼šç”¨æ¥æŒ‡å®šServletçš„åå­—ã€‚ç­‰åŒäºï¼š</li><li>urlPatternså±æ€§ï¼šç”¨æ¥æŒ‡å®šServletçš„æ˜ å°„è·¯å¾„ã€‚å¯ä»¥æŒ‡å®šå¤šä¸ªå­—ç¬¦ä¸²ã€‚</li><li>loadOnStartUpå±æ€§ï¼šç”¨æ¥æŒ‡å®šåœ¨æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µæ˜¯å¦åŠ è½½è¯¥Servletã€‚ç­‰åŒäºï¼š</li><li>valueå±æ€§ï¼š<mark>å½“æ³¨è§£çš„å±æ€§åæ˜¯valueçš„æ—¶å€™ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™ï¼Œvalueå±æ€§åæ˜¯å¯ä»¥çœç•¥çš„</mark>ã€‚<pre><code class="prism language-java"><span class="token comment">//@WebServlet(urlPatterns = {"/welcome1", "/welcome2"})</span>
<span class="token comment">// æ³¨æ„ï¼šå½“æ³¨è§£çš„å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå¤§æ‹¬å·å¯ä»¥çœç•¥ã€‚</span>
<span class="token comment">//@WebServlet(urlPatterns = "/welcome")</span>
<span class="token comment">// è¿™ä¸ªvalueå±æ€§å’ŒurlPatternså±æ€§ä¸€è‡´ï¼Œéƒ½æ˜¯ç”¨æ¥æŒ‡å®šServletçš„æ˜ å°„è·¯å¾„çš„ã€‚</span>
<span class="token comment">//@WebServlet(value = {"/welcome1", "/welcome2"})</span>
<span class="token comment">// å¦‚æœæ³¨è§£çš„å±æ€§åæ˜¯valueçš„è¯ï¼Œå±æ€§åä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ã€‚</span>
<span class="token comment">//@WebServlet(value = "/welcome1")</span>
<span class="token comment">//@WebServlet({"/wel", "/abc", "/def"})</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/wel"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WelcomeServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"æ¬¢è¿å­¦ä¹ Servletã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li><li>æ³¨æ„ï¼šä¸æ˜¯å¿…é¡»å°†æ‰€æœ‰å±æ€§éƒ½å†™ä¸Šï¼Œåªéœ€è¦æä¾›éœ€è¦çš„ã€‚ï¼ˆéœ€è¦ä»€ä¹ˆç”¨ä»€ä¹ˆã€‚ï¼‰</li><li>æ³¨æ„ï¼šå±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœ<mark>æ•°ç»„ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä½¿ç”¨è¯¥æ³¨è§£çš„æ—¶å€™ï¼Œå±æ€§å€¼çš„å¤§æ‹¬å·å¯ä»¥çœç•¥</mark>ã€‚</li></ul> <pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebInitParam</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Enumeration</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
        urlPatterns <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"/hello1"</span><span class="token punctuation">,</span> <span class="token string">"/hello2"</span><span class="token punctuation">,</span> <span class="token string">"/hello3"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        loadOnStartup <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// æœåŠ¡å™¨éƒ¨ç½²å¯åŠ¨æ—¶åŠ è½½è¯¥ç±»</span>
        <span class="token comment">// åˆå§‹åŒ–å‚æ•°</span>
 initParams <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"username"</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"password"</span><span class="token punctuation">,</span> value<span class="token operator">=</span><span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// æ— å‚æ•°æ„é€ æ–¹æ³•</span>

    <span class="token keyword">public</span> <span class="token class-name">HelloServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ— å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œï¼ŒHelloServletåŠ è½½å®Œæˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">/*@WebServlet
    private String name;*/</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–Servlet Name</span>
        <span class="token class-name">String</span> servletName <span class="token operator">=</span> <span class="token function">getServletName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"servlet name = "</span> <span class="token operator">+</span> servletName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–servlet path</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"servlet path = "</span> <span class="token operator">+</span> servletPath <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–åˆå§‹åŒ–å‚æ•°</span>
        <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> <span class="token function">getInitParameterNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>names<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> name <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token function">getInitParameter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li><li> <p>æ³¨è§£å¯¹è±¡çš„ä½¿ç”¨æ ¼å¼ï¼š</p> 
  <ul><li>@æ³¨è§£åç§°(å±æ€§å=å±æ€§å€¼, å±æ€§å=å±æ€§å€¼, å±æ€§å=å±æ€§å€¼â€¦)</li></ul> </li></ul> 
<h2><a id="__3822"></a>ğŸ¥½ é€šè¿‡åå°„è·å–æ³¨è§£</h2> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReflectAnnotation</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{<!-- --></span>

        <span class="token comment">// ä½¿ç”¨åå°„æœºåˆ¶å°†ç±»ä¸Šé¢çš„æ³¨è§£è¿›è¡Œè§£æã€‚</span>
        <span class="token comment">// è·å–ç±»Classå¯¹è±¡</span>
        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> welcomeServletClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.bjpowernode.javaweb.servlet.WelcomeServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–è¿™ä¸ªç±»ä¸Šé¢çš„æ³¨è§£å¯¹è±¡</span>
        <span class="token comment">// å…ˆåˆ¤æ–­è¿™ä¸ªç±»ä¸Šé¢æœ‰æ²¡æœ‰è¿™ä¸ªæ³¨è§£å¯¹è±¡ï¼Œå¦‚æœæœ‰è¿™ä¸ªæ³¨è§£å¯¹è±¡ï¼Œå°±è·å–è¯¥æ³¨è§£å¯¹è±¡ã€‚</span>
        <span class="token comment">//boolean annotationPresent = welcomeServletClass.isAnnotationPresent(WebServlet.class);</span>
        <span class="token comment">//System.out.println(annotationPresent);</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>welcomeServletClass<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">WebServlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–è¿™ä¸ªç±»ä¸Šé¢çš„æ³¨è§£å¯¹è±¡</span>
            <span class="token class-name">WebServlet</span> webServletAnnotation <span class="token operator">=</span> welcomeServletClass<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">WebServlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–æ³¨è§£çš„valueå±æ€§å€¼ã€‚</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> value <span class="token operator">=</span> webServletAnnotation<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_oa_3849"></a>ğŸ¥½ ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ä¼˜åŒ–oaé¡¹ç›®</h2> 
<ul><li>ä¸Šé¢çš„æ³¨è§£è§£å†³äº†é…ç½®æ–‡ä»¶çš„é—®é¢˜ã€‚ä½†æ˜¯ç°åœ¨çš„oaé¡¹ç›®ä»ç„¶å­˜åœ¨ä¸€ä¸ªæ¯”è¾ƒè‡ƒè‚¿çš„é—®é¢˜ã€‚ 
  <ul><li>ä¸€ä¸ªå•æ ‡çš„CRUDï¼Œå°±å†™äº†6ä¸ªServletã€‚å¦‚æœä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œè¿™ç§å¼€å‘æ–¹å¼ï¼Œæ˜¾ç„¶ä¼šå¯¼è‡´ç±»çˆ†ç‚¸ã€‚ï¼ˆç±»çš„æ•°é‡å¤ªå¤§ã€‚ï¼‰</li><li>æ€ä¹ˆè§£å†³è¿™ä¸ªç±»çˆ†ç‚¸é—®é¢˜ï¼Ÿå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼ã€‚</li></ul> </li><li>æ€ä¹ˆè§£å†³ç±»çˆ†ç‚¸é—®é¢˜ï¼Ÿ 
  <ul><li>ä»¥å‰çš„è®¾è®¡æ˜¯ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªServletç±»ã€‚1000ä¸ªè¯·æ±‚å¯¹åº”1000ä¸ªServletç±»ã€‚å¯¼è‡´ç±»çˆ†ç‚¸ã€‚</li><li>å¯ä»¥è¿™æ ·åšï¼šä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæ–¹æ³•ã€‚ä¸€ä¸ªä¸šåŠ¡å¯¹åº”ä¸€ä¸ªServletç±»ã€‚</li><li>å¤„ç†éƒ¨é—¨ç›¸å…³ä¸šåŠ¡çš„å¯¹åº”ä¸€ä¸ªDeptServletã€‚å¤„ç†ç”¨æˆ·ç›¸å…³ä¸šåŠ¡çš„å¯¹åº”ä¸€ä¸ªUserServletã€‚å¤„ç†é“¶è¡Œå¡å¡ç‰‡ä¸šåŠ¡å¯¹åº”ä¸€ä¸ªCardServletã€‚</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web<span class="token punctuation">.</span>action</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token comment">// æ¨¡æ¿ç±»</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/dept/list"</span><span class="token punctuation">,</span> <span class="token string">"/dept/save"</span><span class="token punctuation">,</span> <span class="token string">"/dept/edit"</span><span class="token punctuation">,</span> <span class="token string">"/dept/detail"</span><span class="token punctuation">,</span> <span class="token string">"/dept/delete"</span><span class="token punctuation">,</span> <span class="token string">"/dept/modify"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// æ¨¡ç³ŠåŒ¹é…</span>
<span class="token comment">// åªè¦è¯·æ±‚è·¯å¾„æ˜¯ä»¥"/dept"å¼€å§‹çš„ï¼Œéƒ½èµ°è¿™ä¸ªServletã€‚</span>
<span class="token comment">//@WebServlet("/dept/*")</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// æ¨¡æ¿æ–¹æ³•</span>
    <span class="token comment">// é‡å†™serviceæ–¹æ³•ï¼ˆå¹¶æ²¡æœ‰é‡å†™doGetæˆ–è€…doPostï¼‰</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–servlet path</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doList</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/save"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doSave</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/edit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doEdit</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/detail"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doDetail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/delete"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doDel</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/dept/modify"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doModify</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doList</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–åº”ç”¨çš„æ ¹è·¯å¾„</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ä»¥åŠå­—ç¬¦é›†ã€‚é˜²æ­¢ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;meta charset='utf-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;title&gt;éƒ¨é—¨åˆ—è¡¨é¡µé¢&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;script type='text/javascript'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    function del(dno){"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        if(window.confirm('äº²ï¼Œåˆ äº†ä¸å¯æ¢å¤å“¦ï¼')){"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"            document.location.href = '"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/dept/delete?deptno=' + dno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"        }"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"    }"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/script&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;h1 align='center'&gt;éƒ¨é—¨åˆ—è¡¨&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;hr &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;table border='1px' align='center' width='50%'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;th&gt;åºå·&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;th&gt;éƒ¨é—¨ç¼–å·&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;th&gt;éƒ¨é—¨åç§°&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;th&gt;æ“ä½œ&lt;/th&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;/tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">/*ä¸Šé¢ä¸€éƒ¨åˆ†æ˜¯æ­»çš„*/</span>

        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–è¿æ¥</span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select deptno as a,dname,loc from dept"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡ŒSQLè¯­å¥</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¤„ç†ç»“æœé›†</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> deptno <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;td&gt;"</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;td&gt;"</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;td&gt;"</span><span class="token operator">+</span>dname<span class="token operator">+</span><span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"					&lt;a href='javascript:void(0)' Î¿nclick='del("</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">")'&gt;åˆ é™¤&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"					&lt;a href='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/dept/edit?deptno="</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">"'&gt;ä¿®æ”¹&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"					&lt;a href='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/dept/detail?fdsafdsas="</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">"'&gt;è¯¦æƒ…&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"				&lt;/td&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;/tr&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡Šæ”¾èµ„æº</span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">/*ä¸‹é¢ä¸€éƒ¨åˆ†æ˜¯æ­»çš„*/</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;/table&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;hr &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;a href='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/add.html'&gt;æ–°å¢éƒ¨é—¨&lt;/a&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doSave</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨çš„ä¿¡æ¯</span>
        <span class="token comment">// æ³¨æ„ä¹±ç é—®é¢˜ï¼ˆTomcat10ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼‰</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œinsertè¯­å¥</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into dept(deptno, dname, loc) values(?,?,?)"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä¿å­˜æˆåŠŸè·³è½¬åˆ°åˆ—è¡¨é¡µé¢</span>
            <span class="token comment">// è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>

            <span class="token comment">// è¿™é‡Œæœ€å¥½ä½¿ç”¨é‡å®šå‘ï¼ˆæµè§ˆå™¨ä¼šå‘ä¸€æ¬¡å…¨æ–°çš„è¯·æ±‚ã€‚ï¼‰</span>
            <span class="token comment">// æµè§ˆå™¨åœ¨åœ°å€æ ä¸Šå‘é€è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚æ˜¯getè¯·æ±‚ã€‚</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä¿å­˜å¤±è´¥è·³è½¬åˆ°é”™è¯¯é¡µé¢</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>

            <span class="token comment">// è¿™é‡Œä¹Ÿå»ºè®®ä½¿ç”¨é‡å®šå‘ã€‚</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doEdit</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–åº”ç”¨çš„æ ¹è·¯å¾„ã€‚</span>
        <span class="token class-name">String</span> contextPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;meta charset='utf-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;title&gt;ä¿®æ”¹éƒ¨é—¨&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;h1&gt;ä¿®æ”¹éƒ¨é—¨&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;hr &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;form action='"</span><span class="token operator">+</span>contextPath<span class="token operator">+</span><span class="token string">"/dept/modify' method='post'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼Œæ ¹æ®éƒ¨é—¨ç¼–å·æŸ¥è¯¢éƒ¨é—¨çš„ä¿¡æ¯ã€‚</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select dname, loc as location from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿™ä¸ªç»“æœé›†ä¸­åªæœ‰ä¸€æ¡è®°å½•ã€‚</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> location <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"location"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‚æ•°"location"æ˜¯sqlè¯­å¥æŸ¥è¯¢ç»“æœåˆ—çš„åˆ—åã€‚</span>
                <span class="token comment">// è¾“å‡ºåŠ¨æ€ç½‘é¡µã€‚</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨ç¼–å·&lt;input type='text' name='deptno' value='"</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">"' readonly /&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨åç§°&lt;input type='text' name='dname' value='"</span><span class="token operator">+</span>dname<span class="token operator">+</span><span class="token string">"'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"                éƒ¨é—¨ä½ç½®&lt;input type='text' name='loc' value='"</span><span class="token operator">+</span>location<span class="token operator">+</span><span class="token string">"'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"			&lt;input type='submit' value='ä¿®æ”¹'/&gt;&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;/form&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doDetail</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> out <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;!DOCTYPE html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;meta charset='utf-8'&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;title&gt;éƒ¨é—¨è¯¦æƒ…&lt;/title&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/head&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;h1&gt;éƒ¨é—¨è¯¦æƒ…&lt;/h1&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;hr &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token comment">// /oa/dept/detail?fdsafdsas=30</span>
        <span class="token comment">// è™½ç„¶æ˜¯æäº¤çš„30ï¼Œä½†æ˜¯æœåŠ¡å™¨è·å–çš„æ˜¯"30"è¿™ä¸ªå­—ç¬¦ä¸²ã€‚</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"fdsafdsas"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼Œæ ¹æ®éƒ¨é—¨ç¼–å·æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯ã€‚</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select dname,loc from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿™ä¸ªç»“æœé›†ä¸€å®šåªæœ‰ä¸€æ¡è®°å½•ã€‚</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"éƒ¨é—¨ç¼–å·ï¼š"</span><span class="token operator">+</span>deptno<span class="token operator">+</span><span class="token string">" &lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"éƒ¨é—¨åç§°ï¼š"</span><span class="token operator">+</span>dname<span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"éƒ¨é—¨ä½ç½®ï¼š"</span><span class="token operator">+</span>loc<span class="token operator">+</span><span class="token string">"&lt;br&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"		&lt;input type='button' value='åé€€' Î¿nclick='window.history.back()'/&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"	&lt;/body&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"&lt;/html&gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doDel</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ ¹æ®éƒ¨é—¨ç¼–å·ï¼Œåˆ é™¤éƒ¨é—¨ã€‚</span>
        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“åˆ é™¤æ•°æ®</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¼€å¯äº‹åŠ¡ï¼ˆè‡ªåŠ¨æäº¤æœºåˆ¶å…³é—­ï¼‰</span>
            conn<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿”å›å€¼æ˜¯ï¼šå½±å“äº†æ•°æ®åº“è¡¨å½“ä¸­å¤šå°‘æ¡è®°å½•ã€‚</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// äº‹åŠ¡æäº¤</span>
            conn<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡åˆ°å¼‚å¸¸è¦å›æ»š</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    conn<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// åˆ¤æ–­åˆ é™¤æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ã€‚</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åˆ é™¤æˆåŠŸ</span>
            <span class="token comment">//ä»ç„¶è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</span>
            <span class="token comment">//éƒ¨é—¨åˆ—è¡¨é¡µé¢çš„æ˜¾ç¤ºéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªServletã€‚æ€ä¹ˆåŠï¼Ÿè½¬å‘ã€‚</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// åˆ é™¤å¤±è´¥</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doModify</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è§£å†³è¯·æ±‚ä½“çš„ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è·å–è¡¨å•ä¸­çš„æ•°æ®</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œæ›´æ–°è¯­å¥</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update dept set dname = ?, loc = ? where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ›´æ–°æˆåŠŸ</span>
            <span class="token comment">// è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢ï¼ˆéƒ¨é—¨åˆ—è¡¨é¡µé¢æ˜¯é€šè¿‡Javaç¨‹åºåŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦å†æ¬¡æ‰§è¡Œå¦ä¸€ä¸ªServletï¼‰</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>

            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ›´æ–°å¤±è´¥</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_Servletweb_4225"></a>ğŸ¥½ åˆ†æä½¿ç”¨çº¯ç²¹Servletå¼€å‘webåº”ç”¨çš„ç¼ºé™·</h2> 
<ul><li>åœ¨Servletå½“ä¸­ç¼–å†™HTML/CSS/JavaScriptç­‰å‰ç«¯ä»£ç ã€‚å­˜åœ¨ä»€ä¹ˆé—®é¢˜ï¼Ÿ 
  <ul><li>javaç¨‹åºä¸­ç¼–å†™å‰ç«¯ä»£ç ï¼Œç¼–å†™éš¾åº¦å¤§ã€‚éº»çƒ¦ã€‚</li><li>javaç¨‹åºä¸­ç¼–å†™å‰ç«¯ä»£ç ï¼Œæ˜¾ç„¶ç¨‹åºçš„è€¦åˆåº¦éå¸¸é«˜ã€‚</li><li>javaç¨‹åºä¸­ç¼–å†™å‰ç«¯ä»£ç ï¼Œä»£ç éå¸¸ä¸ç¾è§‚ã€‚</li><li>javaç¨‹åºä¸­ç¼–å†™å‰ç«¯ä»£ç ï¼Œç»´æŠ¤æˆæœ¬å¤ªé«˜ã€‚ï¼ˆéå¸¸éš¾äºç»´æŠ¤ï¼‰ 
    <ul><li>ä¿®æ”¹å°å°çš„ä¸€ä¸ªå‰ç«¯ä»£ç ï¼Œåªè¦æœ‰æ”¹åŠ¨ï¼Œå°±éœ€è¦é‡æ–°ç¼–è¯‘javaä»£ç ï¼Œç”Ÿæˆæ–°çš„classæ–‡ä»¶ï¼Œæ‰“ä¸€ä¸ªæ–°çš„waråŒ…ï¼Œé‡æ–°å‘å¸ƒã€‚</li></ul> </li></ul> </li><li>æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä½ çš„è¯ï¼Œä½ å‡†å¤‡æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ 
  <ul><li>æ€è·¯å¾ˆé‡è¦ã€‚ä½¿ç”¨ä»€ä¹ˆæ ·çš„æ€è·¯å»åšã€å»è§£å†³è¿™ä¸ªé—®é¢˜ 
    <ul><li>ä¸Šé¢çš„é‚£ä¸ªServletï¼ˆJavaç¨‹åºï¼‰èƒ½ä¸èƒ½ä¸å†™äº†ï¼Œè®©æœºå™¨è‡ªåŠ¨ç”Ÿæˆã€‚æˆ‘ä»¬ç¨‹åºå‘˜åªéœ€è¦å†™è¿™ä¸ªServletç¨‹åºä¸­çš„â€œå‰ç«¯çš„é‚£æ®µä»£ç â€ï¼Œç„¶åè®©æœºå™¨å°†æˆ‘ä»¬å†™çš„â€œå‰ç«¯ä»£ç â€è‡ªåŠ¨ç¿»è¯‘ç”Ÿæˆâ€œServletè¿™ç§javaç¨‹åºâ€ã€‚ç„¶åæœºå™¨å†è‡ªåŠ¨å°†â€œjavaâ€ç¨‹åºç¼–è¯‘ç”Ÿæˆ"class"æ–‡ä»¶ã€‚ç„¶åå†ä½¿ç”¨JVMè°ƒç”¨è¿™ä¸ªclassä¸­çš„æ–¹æ³•ã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="_JSP_4237"></a>ğŸ¥½ JSP</h2> 
<h3><a id="_JSP_4239"></a>ğŸŒŠ æˆ‘çš„ç¬¬ä¸€ä¸ªJSPç¨‹åº</h3> 
<ul><li> <p>åœ¨WEB-INFç›®å½•ä¹‹å¤–åˆ›å»ºä¸€ä¸ªindex.jspæ–‡ä»¶ï¼Œç„¶åè¿™ä¸ªæ–‡ä»¶ä¸­æ²¡æœ‰ä»»ä½•å†…å®¹ã€‚<br> <img src="https://images2.imgbox.com/04/6c/ckDfYiAk_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>å°†ä¸Šé¢çš„é¡¹ç›®éƒ¨ç½²ä¹‹åï¼Œå¯åŠ¨æœåŠ¡å™¨ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ä»¥ä¸‹åœ°å€ï¼š</p> 
  <ul><li>http://localhost:8080/jsp/index.jsp å±•ç°åœ¨å¤§å®¶é¢å‰çš„æ˜¯ä¸€ä¸ªç©ºç™½ã€‚</li><li>å®é™…ä¸Šè®¿é—®ä»¥ä¸Šçš„è¿™ä¸ªï¼šindex.jspï¼Œåº•å±‚æ‰§è¡Œçš„æ˜¯ï¼šindex_jsp.class è¿™ä¸ªjavaç¨‹åºã€‚</li><li>è¿™ä¸ªindex.jspä¼šè¢«tomcatç¿»è¯‘ç”Ÿæˆindex_jsp.javaæ–‡ä»¶ï¼Œç„¶åtomcatæœåŠ¡å™¨åˆä¼šå°†index_jsp.javaç¼–è¯‘ç”Ÿæˆindex_jsp.classæ–‡ä»¶</li><li>è®¿é—®index.jspï¼Œå®é™…ä¸Šæ‰§è¡Œçš„æ˜¯index_jsp.classä¸­çš„æ–¹æ³•ã€‚<br> <img src="https://images2.imgbox.com/de/e3/MpMzfgnW_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li></ul> 
<h3><a id="_JSP_4251"></a>ğŸŒŠ JSPæ¦‚è¿°</h3> 
<ul><li> <p>JSPå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªServletã€‚</p> 
  <ul><li>index.jspè®¿é—®çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç¿»è¯‘ç”Ÿæˆindex_jsp.javaï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ç”Ÿæˆindex_jsp.classï¼Œé‚£ä¹ˆindex_jsp è¿™å°±æ˜¯ä¸€ä¸ªç±»ã€‚</li><li>index_jsp ç±»ç»§æ‰¿ HttpJspBaseï¼Œè€ŒHttpJspBaseç±»ç»§æ‰¿çš„æ˜¯HttpServletã€‚æ‰€ä»¥index_jspç±»å°±æ˜¯ä¸€ä¸ªServletç±»ã€‚</li><li>jspçš„ç”Ÿå‘½å‘¨æœŸå’ŒServletçš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ç›¸åŒã€‚å®Œå…¨å°±æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</li><li>jspå’Œservletä¸€æ ·ï¼Œéƒ½æ˜¯å•ä¾‹çš„ã€‚ï¼ˆå‡å•ä¾‹ã€‚ï¼‰</li></ul> </li><li> <p>jspæ–‡ä»¶ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>ä¸ºä»€ä¹ˆå¤§éƒ¨åˆ†çš„è¿ç»´äººå‘˜åœ¨ç»™å®¢æˆ·æ¼”ç¤ºé¡¹ç›®çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆæå‰å…ˆæŠŠæ‰€æœ‰çš„jspæ–‡ä»¶å…ˆè®¿é—®ä¸€éã€‚</li><li>ç¬¬ä¸€æ¬¡æ¯”è¾ƒéº»çƒ¦ï¼š 
    <ul><li>è¦æŠŠjspæ–‡ä»¶ç¿»è¯‘ç”Ÿæˆjavaæºæ–‡ä»¶</li><li>javaæºæ–‡ä»¶è¦ç¼–è¯‘ç”Ÿæˆclasså­—èŠ‚ç æ–‡ä»¶</li><li>ç„¶åé€šè¿‡classå»åˆ›å»ºservletå¯¹è±¡</li><li>ç„¶åè°ƒç”¨servletå¯¹è±¡çš„initæ–¹æ³•</li><li>æœ€åè°ƒç”¨servletå¯¹è±¡çš„serviceæ–¹æ³•ã€‚</li></ul> </li><li>ç¬¬äºŒæ¬¡å°±æ¯”è¾ƒå¿«äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿ 
    <ul><li>å› ä¸ºç¬¬äºŒæ¬¡ç›´æ¥è°ƒç”¨å•ä¾‹servletå¯¹è±¡çš„serviceæ–¹æ³•å³å¯ã€‚</li></ul> </li></ul> </li><li> <p>JSPæ˜¯ä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>JSPæ˜¯javaç¨‹åºã€‚ï¼ˆJSPæœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªServletï¼‰</li><li>JSPæ˜¯ï¼šJavaServer Pagesçš„ç¼©å†™ã€‚ï¼ˆåŸºäºJavaè¯­è¨€å®ç°çš„æœåŠ¡å™¨ç«¯çš„é¡µé¢ã€‚ï¼‰</li><li>Servletæ˜¯JavaEEçš„13ä¸ªå­è§„èŒƒä¹‹ä¸€ï¼Œé‚£ä¹ˆJSPä¹Ÿæ˜¯JavaEEçš„13ä¸ªå­è§„èŒƒä¹‹ä¸€ã€‚</li><li>JSPæ˜¯ä¸€å¥—è§„èŒƒã€‚æ‰€æœ‰çš„webå®¹å™¨/webæœåŠ¡å™¨éƒ½æ˜¯éµå¾ªè¿™å¥—è§„èŒƒçš„ï¼Œéƒ½æ˜¯æŒ‰ç…§è¿™å¥—è§„èŒƒè¿›è¡Œçš„â€œç¿»è¯‘â€</li><li>æ¯ä¸€ä¸ªwebå®¹å™¨/webæœåŠ¡å™¨éƒ½ä¼šå†…ç½®ä¸€ä¸ªJSPç¿»è¯‘å¼•æ“ã€‚</li></ul> </li><li> <p>å¯¹JSPè¿›è¡Œé”™è¯¯è°ƒè¯•çš„æ—¶å€™ï¼Œè¿˜æ˜¯è¦ç›´æ¥æ‰“å¼€JSPæ–‡ä»¶å¯¹åº”çš„javaæ–‡ä»¶ï¼Œæ£€æŸ¥javaä»£ç ã€‚</p> </li><li> <p>å¼€å‘JSPçš„æœ€é«˜å¢ƒç•Œï¼š</p> 
  <ul><li>çœ¼å‰æ˜¯JSPä»£ç ï¼Œä½†æ˜¯è„‘è¢‹ä¸­å‘ˆç°çš„æ˜¯javaä»£ç ã€‚</li></ul> </li><li> <p>JSPæ—¢ç„¶æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªServletï¼Œé‚£ä¹ˆJSPå’ŒServletåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p> 
  <ul><li>èŒè´£ä¸åŒï¼š 
    <ul><li>Servletçš„èŒè´£æ˜¯ä»€ä¹ˆï¼šæ”¶é›†æ•°æ®ã€‚ï¼ˆServletçš„å¼ºé¡¹æ˜¯é€»è¾‘å¤„ç†ï¼Œä¸šåŠ¡å¤„ç†ï¼Œç„¶åé“¾æ¥æ•°æ®åº“ï¼Œè·å–/æ”¶é›†æ•°æ®ã€‚ï¼‰</li><li>JSPçš„èŒè´£æ˜¯ä»€ä¹ˆï¼šå±•ç¤ºæ•°æ®ã€‚ï¼ˆJSPçš„å¼ºé¡¹æ˜¯åšæ•°æ®çš„å±•ç¤ºï¼‰</li></ul> </li></ul> </li></ul> 
<h3><a id="_JSP_4291"></a>ğŸŒŠ JSPçš„åŸºç¡€è¯­æ³•</h3> 
<h4><a id="_JSP_4292"></a>ğŸ’¦ JSPä¸­ç›´æ¥ç¼–å†™æ–‡å­—</h4> 
<ul><li> <p>åœ¨jspæ–‡ä»¶ä¸­ç›´æ¥ç¼–å†™æ–‡å­—ï¼Œéƒ½ä¼šè‡ªåŠ¨è¢«ç¿»è¯‘åˆ°å“ªé‡Œï¼Ÿ</p> 
  <ul><li>ç¿»è¯‘åˆ°servletç±»çš„serviceæ–¹æ³•çš„out.write(â€œç¿»è¯‘åˆ°è¿™é‡Œâ€)ï¼Œç›´æ¥ç¿»è¯‘åˆ°åŒå¼•å·é‡Œï¼Œè¢«javaç¨‹åºå½“åšæ™®é€šå­—ç¬¦ä¸²æ‰“å°è¾“å‡ºåˆ°æµè§ˆå™¨ã€‚</li><li>åœ¨JSPä¸­ç¼–å†™çš„HTML CSS JSä»£ç ï¼Œè¿™äº›ä»£ç å¯¹äºJSPæ¥è¯´åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ã€‚ä½†æ˜¯JSPæŠŠè¿™ä¸ªæ™®é€šçš„å­—ç¬¦ä¸²ä¸€æ—¦è¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°±ä¼šå¯¹HTML CSS JSè¿›è¡Œè§£é‡Šæ‰§è¡Œã€‚å±•ç°ä¸€ä¸ªæ•ˆæœã€‚</li></ul> </li></ul> 
<h4><a id="_JSPpage_4298"></a>ğŸ’¦ JSPçš„pageæŒ‡ä»¤</h4> 
<ul><li> <p>JSPçš„pageæŒ‡ä»¤ï¼ˆè¿™ä¸ªæŒ‡ä»¤åé¢å†è¯¦ç»†è¯´ï¼Œè¿™é‡Œå…ˆè§£å†³ä¸€ä¸‹ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œå†™åœ¨æ–‡ä»¶å†…å®¹å¼€å§‹ä½ç½®ï¼‰ï¼Œè§£å†³å“åº”æ—¶çš„ä¸­æ–‡ä¹±ç é—®é¢˜ï¼š</p> 
  <ul><li>é€šè¿‡pageæŒ‡ä»¤æ¥è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ï¼Œåœ¨å†…å®¹ç±»å‹çš„æœ€åé¢æ·»åŠ ï¼šcharset=UTF-8 
    <ul><li>&lt;%@page contentType=â€œtext/html;charset=UTF-8â€%&gt;ï¼Œè¡¨ç¤ºå“åº”çš„å†…å®¹ç±»å‹æ˜¯text/htmlï¼Œé‡‡ç”¨çš„å­—ç¬¦é›†UTF-8</li><li>&lt;%@page import=â€œjava.util.List,java.util.ArrayListâ€%&gt;</li></ul> </li></ul> </li></ul> 
<h4><a id="_JSPjava_4305"></a>ğŸ’¦ JSPä¸­ç¼–å†™javaç¨‹åº</h4> 
<h5><a id="__java__4306"></a>ğŸ’§ &lt;% javaè¯­å¥; %&gt;</h5> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>
  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello JSP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/73/ba/OMIXQgYw_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ul><li>è„šæœ¬å—</li><li>åœ¨è¿™ä¸ªç¬¦å·å½“ä¸­ç¼–å†™çš„è¢«è§†ä¸ºjavaç¨‹åºï¼Œè¢«ç¿»è¯‘åˆ°Servletç±»çš„serviceæ–¹æ³•å†…éƒ¨ã€‚</li><li>è¿™é‡Œä½ è¦ç»†å¿ƒç‚¹ï¼Œä½ è¦æ€è€ƒï¼Œåœ¨&lt;% %&gt;è¿™ä¸ªç¬¦å·é‡Œé¢å†™javaä»£ç çš„æ—¶å€™ï¼Œä½ è¦æ—¶æ—¶åˆ»åˆ»çš„è®°ä½ä½ æ­£åœ¨â€œæ–¹æ³•ä½“â€å½“ä¸­å†™ä»£ç ï¼Œæ–¹æ³•ä½“ä¸­å¯ä»¥å†™ä»€ä¹ˆï¼Œä¸å¯ä»¥å†™ä»€ä¹ˆï¼Œä½ å¿ƒé‡Œæ˜¯å¦æ˜ç™½å‘¢ï¼Ÿ</li><li>åœ¨serviceæ–¹æ³•å½“ä¸­ç¼–å†™çš„ä»£ç æ˜¯æœ‰é¡ºåºçš„ï¼Œæ–¹æ³•ä½“å½“ä¸­çš„ä»£ç è¦éµå¾ªè‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¾æ¬¡é€è¡Œæ‰§è¡Œã€‚</li><li>serviceæ–¹æ³•å½“ä¸­ä¸èƒ½å†™é™æ€ä»£ç å—ï¼Œä¸èƒ½å†™æ–¹æ³•ï¼Œä¸èƒ½å®šä¹‰æˆå‘˜å˜é‡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</li><li>åœ¨åŒä¸€ä¸ªJSPå½“ä¸­ &lt;%%&gt; è¿™ä¸ªç¬¦å·å¯ä»¥å‡ºç°å¤šä¸ªã€‚</li></ul> 
<h5><a id="___4320"></a>ğŸ’§ &lt;%! %&gt;</h5> 
<ul><li>å¯ä»¥è¿›è¡Œæˆå‘˜å˜é‡ã€é™æ€ä»£ç å—çš„å£°æ˜</li><li>åœ¨è¿™ä¸ªç¬¦å·å½“ä¸­ç¼–å†™çš„javaç¨‹åºä¼šè‡ªåŠ¨ç¿»è¯‘åˆ°serviceæ–¹æ³•ä¹‹å¤–ã€‚</li><li>è¿™ä¸ªè¯­æ³•å¾ˆå°‘ç”¨ï¼Œä¸ºä»€ä¹ˆï¼Ÿä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºåœ¨serviceæ–¹æ³•å¤–é¢å†™é™æ€å˜é‡å’Œå®ä¾‹å˜é‡ï¼Œéƒ½ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºJSPå°±æ˜¯servletï¼Œservletæ˜¯å•ä¾‹çš„ï¼Œå¤šçº¿ç¨‹å¹¶å‘çš„ç¯å¢ƒä¸‹ï¼Œè¿™ä¸ªé™æ€å˜é‡å’Œå®ä¾‹å˜é‡ä¸€æ—¦æœ‰ä¿®æ”¹æ“ä½œï¼Œå¿…ç„¶ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</li></ul> 
<h5><a id="_JSP___4324"></a>ğŸ’§ JSPçš„è¾“å‡ºè¯­å¥ &lt;%= %&gt;</h5> 
<ul><li>æ€ä¹ˆå‘æµè§ˆå™¨ä¸Šè¾“å‡ºä¸€ä¸ªjavaå˜é‡ã€‚</li><li>&lt;% String name = â€œjackâ€; out.write("name = " + name); %&gt;</li><li>æ³¨æ„ï¼šä»¥ä¸Šä»£ç ä¸­çš„outæ˜¯JSPçš„ä¹å¤§å†…ç½®å¯¹è±¡ä¹‹ä¸€ã€‚å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ã€‚å½“ç„¶ï¼Œå¿…é¡»åªèƒ½åœ¨serviceæ–¹æ³•å†…éƒ¨ä½¿ç”¨ã€‚</li><li>ä¹å¤§å†…ç½®å¯¹è±¡åªèƒ½åœ¨serviceæ–¹æ³•ä¸­ä½¿ç”¨</li><li>å¦‚æœå‘æµè§ˆå™¨ä¸Šè¾“å‡ºçš„å†…å®¹ä¸­æ²¡æœ‰â€œjavaä»£ç â€ï¼Œä¾‹å¦‚è¾“å‡ºçš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥åœ¨jspä¸­ç¼–å†™ï¼Œä¸éœ€è¦å†™åˆ°&lt;%%&gt; è¿™é‡Œã€‚</li><li>å¦‚æœè¾“å‡ºçš„å†…å®¹ä¸­å«æœ‰â€œjavaä»£ç â€ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•æ ¼å¼ï¼š 
  <ul><li> <p>&lt;%= %&gt; æ³¨æ„ï¼šåœ¨=çš„åé¢ç¼–å†™è¦è¾“å‡ºçš„å†…å®¹ã€‚</p> </li><li> <p>&lt;%= %&gt; è¿™ä¸ªç¬¦å·ä¼šè¢«ç¿»è¯‘åˆ°å“ªé‡Œï¼Ÿæœ€ç»ˆç¿»è¯‘æˆä»€ä¹ˆï¼Ÿ</p> 
    <ul><li>ç¿»è¯‘æˆäº†è¿™ä¸ªjavaä»£ç ï¼š out.print();</li><li>ç¿»è¯‘åˆ°serviceæ–¹æ³•å½“ä¸­äº†ã€‚<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%=</span><span class="token string">"hello world"</span><span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre> <img src="https://images2.imgbox.com/d6/3f/gwIR9CJo_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/b2/c0/hygsMQey_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></li></ul> </li><li> <p>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨&lt;%=%&gt; è¾“å‡ºå‘¢ï¼Ÿè¾“å‡ºçš„å†…å®¹ä¸­å«æœ‰javaçš„å˜é‡ï¼Œè¾“å‡ºçš„å†…å®¹æ˜¯ä¸€ä¸ªåŠ¨æ€çš„å†…å®¹ï¼Œä¸æ˜¯ä¸€ä¸ªæ­»çš„å­—ç¬¦ä¸²ã€‚å¦‚æœè¾“å‡ºçš„æ˜¯ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œç›´æ¥åœ¨JSPæ–‡ä»¶ä¸­ç¼–å†™å³å¯ã€‚</p> </li></ul> </li></ul> 
<h4><a id="_JSP_4343"></a>ğŸ’¦ JSPä¸­çš„æ³¨é‡Š</h4> 
<ul><li> <p>åœ¨JSPä¸­å¦‚ä½•ç¼–å†™JSPçš„ä¸“ä¸šæ³¨é‡Š</p> 
  <ul><li><code>&lt;%--JSPçš„ä¸“ä¸šæ³¨é‡Šï¼Œä¸ä¼šè¢«ç¿»è¯‘åˆ°javaæºä»£ç å½“ä¸­ã€‚--%&gt;</code></li><li><code>&lt;!--è¿™ç§æ³¨é‡Šå±äºHTMLçš„æ³¨é‡Šï¼Œè¿™ä¸ªæ³¨é‡Šä¿¡æ¯ä»ç„¶ä¼šè¢«ç¿»è¯‘åˆ°javaæºä»£ç å½“ä¸­ï¼Œä¸å»ºè®®ã€‚--&gt;</code></li></ul> </li></ul> 
<h4><a id="_JSP_4350"></a>ğŸ’¦ JSPåŸºç¡€è¯­æ³•æ€»ç»“</h4> 
<ul><li> <p>JSPåŸºç¡€è¯­æ³•æ€»ç»“ï¼š</p> 
  <ul><li>JSPä¸­ç›´æ¥ç¼–å†™æ™®é€šå­—ç¬¦ä¸² 
    <ul><li>ç¿»è¯‘åˆ°serviceæ–¹æ³•çš„out.write(â€œè¿™é‡Œâ€)</li></ul> </li><li>&lt;%%&gt; 
    <ul><li>ç¿»è¯‘åˆ°serviceæ–¹æ³•ä½“å†…éƒ¨ï¼Œé‡Œé¢æ˜¯ä¸€æ¡ä¸€æ¡çš„javaè¯­å¥ã€‚</li></ul> </li><li>&lt;%! %&gt; 
    <ul><li>ç¿»è¯‘åˆ°serviceæ–¹æ³•ä¹‹å¤–ã€‚</li></ul> </li><li>&lt;%= %&gt; 
    <ul><li>ç¿»è¯‘åˆ°serviceæ–¹æ³•ä½“å†…éƒ¨ï¼Œç¿»è¯‘ä¸ºï¼šout.print();</li></ul> </li><li>&lt;%@page contentType=â€œtext/html;charset=UTF-8â€%&gt; 
    <ul><li>pageæŒ‡ä»¤ï¼Œé€šè¿‡contentTypeå±æ€§ç”¨æ¥è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹ã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="_Servlet__JSPoa_4364"></a>ğŸ¥½ ä½¿ç”¨Servlet + JSPå®Œæˆoaé¡¹ç›®çš„æ”¹é€ </h2> 
<ul><li> <p>ä½¿ç”¨Servletå¤„ç†ä¸šåŠ¡ï¼Œæ”¶é›†æ•°æ®ã€‚ ä½¿ç”¨JSPå±•ç¤ºæ•°æ®ã€‚</p> </li><li> <p>å°†ä¹‹å‰åŸå‹ä¸­çš„htmlæ–‡ä»¶ï¼Œå…¨éƒ¨ä¿®æ”¹ä¸ºjspï¼Œç„¶ååœ¨jspæ–‡ä»¶å¤´éƒ¨æ·»åŠ pageæŒ‡ä»¤ï¼ˆæŒ‡å®šcontentTypeé˜²æ­¢ä¸­æ–‡ä¹±ç ï¼‰ï¼Œå°†æ‰€æœ‰çš„JSPç›´æ¥æ‹·è´åˆ°webç›®å½•ä¸‹ã€‚</p> </li><li> <p>å®Œæˆæ‰€æœ‰é¡µé¢çš„æ­£å¸¸æµè½¬ã€‚ï¼ˆé¡µé¢ä»ç„¶èƒ½å¤Ÿæ­£å¸¸çš„è·³è½¬ã€‚ä¿®æ”¹è¶…é“¾æ¥çš„è¯·æ±‚è·¯å¾„ã€‚ï¼‰</p> 
  <ul><li>&lt;%=request.getContextPath() %&gt; åœ¨JSPä¸­åŠ¨æ€çš„è·å–åº”ç”¨çš„æ ¹è·¯å¾„ã€‚</li></ul> </li><li> <p>Servletä¸­è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨ï¼Œéå†ç»“æœé›†ã€‚</p> 
  <ul><li>éå†ç»“æœé›†çš„è¿‡ç¨‹ä¸­ï¼Œå–å‡ºéƒ¨é—¨ç¼–å·ã€éƒ¨é—¨åã€ä½ç½®ç­‰ä¿¡æ¯ï¼Œå°è£…æˆjavaå¯¹è±¡ã€‚</li><li>å°†javaå¯¹è±¡å­˜æ”¾åˆ°Listé›†åˆä¸­ã€‚</li><li>å°†Listé›†åˆå­˜å‚¨åˆ°requeståŸŸå½“ä¸­ã€‚</li><li>è½¬å‘forwardåˆ°jspã€‚</li></ul> </li><li> <p>åœ¨JSPä¸­ï¼š</p> 
  <ul><li>ä»requeståŸŸå½“ä¸­å–å‡ºListé›†åˆã€‚</li><li>éå†Listé›†åˆï¼Œå–å‡ºæ¯ä¸ªéƒ¨é—¨å¯¹è±¡ã€‚åŠ¨æ€ç”Ÿæˆtrã€‚</li></ul> </li><li> <p>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘åªç”¨JSPè¿™ä¸€ä¸ªæŠ€æœ¯ï¼Œèƒ½ä¸èƒ½å¼€å‘webåº”ç”¨ï¼Ÿ</p> 
  <ul><li>å½“ç„¶å¯ä»¥ä½¿ç”¨JSPæ¥å®Œæˆæ‰€æœ‰çš„åŠŸèƒ½ã€‚å› ä¸ºJSPå°±æ˜¯Servletï¼Œåœ¨JSPçš„&lt;%%&gt;é‡Œé¢å†™çš„ä»£ç å°±æ˜¯åœ¨serviceæ–¹æ³•å½“ä¸­çš„ï¼Œæ‰€ä»¥åœ¨&lt;%%&gt;å½“ä¸­å®Œå…¨å¯ä»¥ç¼–å†™JDBCä»£ç ï¼Œè¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ•°æ®ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•å½“ä¸­ç¼–å†™ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œå¤„ç†ä¸šåŠ¡ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å•ç‹¬çš„JSPå¼€å‘webåº”ç”¨å®Œå…¨æ²¡é—®é¢˜ã€‚</li><li>è™½ç„¶JSPä¸€ä¸ªæŠ€æœ¯å°±å¯ä»¥å®Œæˆwebåº”ç”¨ï¼Œä½†æ˜¯ä¸å»ºè®®ï¼Œè¿˜æ˜¯å»ºè®®é‡‡ç”¨servlet + jspçš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚è¿™æ ·éƒ½èƒ½å°†å„è‡ªçš„ä¼˜ç‚¹å‘æŒ¥å‡ºæ¥ã€‚JSPå°±æ˜¯åšæ•°æ®å±•ç¤ºã€‚Servletå°±æ˜¯åšæ•°æ®çš„æ”¶é›†ã€‚ï¼ˆJSPä¸­ç¼–å†™çš„Javaä»£ç è¶Šå°‘è¶Šå¥½ã€‚ï¼‰ä¸€å®šè¦èŒè´£åˆ†æ˜ã€‚</li></ul> </li><li> <p>JSPæ–‡ä»¶çš„æ‰©å±•åå¿…é¡»æ˜¯xxx.jspå—ï¼Ÿ</p> 
  <ul><li> <p>jspæ–‡ä»¶çš„æ‰©å±•åæ˜¯å¯ä»¥é…ç½®çš„ã€‚ä¸æ˜¯å›ºå®šçš„ã€‚</p> </li><li> <p>åœ¨CATALINA_HOME/conf/web.xmlï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å½“ä¸­é…ç½®jspæ–‡ä»¶çš„æ‰©å±•åã€‚</p> </li><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>*.jspx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>xxx.jspæ–‡ä»¶å¯¹äºå°çŒ«å’ªæ¥è¯´ï¼Œåªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œwebå®¹å™¨ä¼šå°†xxx.jspæ–‡ä»¶æœ€ç»ˆç”Ÿæˆjavaç¨‹åºï¼Œæœ€ç»ˆè°ƒç”¨çš„æ˜¯javaå¯¹è±¡ç›¸å…³çš„æ–¹æ³•ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œå’Œjspæ–‡ä»¶å°±æ²¡æœ‰å…³ç³»äº†ã€‚</p> </li><li> <p>å°çªé—¨ï¼šJSPå¦‚æœçœ‹ä¸æ‡‚ï¼Œå»ºè®®æŠŠjspç¿»è¯‘æˆjavaä»£ç ï¼Œå°±èƒ½çœ‹æ‡‚äº†ã€‚</p> </li></ul> </li><li> <p>åŒå­¦é—®ï¼šåŒ…åbeanæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p> 
  <ul><li>javabeanï¼ˆjavaçš„logoæ˜¯ä¸€æ¯å†’ç€çƒ­æ°”çš„å’–å•¡ã€‚javabeanè¢«ç¿»è¯‘ä¸ºï¼šå’–å•¡è±†ï¼‰</li><li>javaæ˜¯ä¸€æ¯å’–å•¡ï¼Œå’–å•¡åˆæ˜¯ç”±ä¸€ç²’ä¸€ç²’çš„å’–å•¡è±†ç ”ç£¨è€Œæˆã€‚</li><li>æ•´ä¸ªjavaç¨‹åºä¸­æœ‰å¾ˆå¤šbeançš„å­˜åœ¨ã€‚ç”±å¾ˆå¤šbeanç»„æˆã€‚</li><li>ä»€ä¹ˆæ˜¯javabeanï¼Ÿå®é™…ä¸Šjavabeanä½ å¯ä»¥ç†è§£ä¸ºç¬¦åˆæŸç§è§„èŒƒçš„javaç±»ï¼Œæ¯”å¦‚ï¼š 
    <ul><li>æœ‰æ— å‚æ•°æ„é€ æ–¹æ³•</li><li>å±æ€§ç§æœ‰åŒ–</li><li>å¯¹å¤–æä¾›å…¬å¼€çš„setå’Œgetæ–¹æ³•</li><li>å®ç°java.io.Serializableæ¥å£</li><li>é‡å†™toString</li><li>é‡å†™hashCode+equals</li><li>â€¦</li></ul> </li><li>javabeanå…¶å®å°±æ˜¯javaä¸­çš„å®ä½“ç±»ã€‚è´Ÿè´£æ•°æ®çš„å°è£…ã€‚</li><li>ç”±äºjavabeanç¬¦åˆjavabeanè§„èŒƒï¼Œå…·æœ‰æ›´å¼ºçš„é€šç”¨æ€§ã€‚</li></ul> </li><li> <p>å®Œæˆå‰©ä¸‹æ‰€æœ‰åŠŸèƒ½çš„æ”¹é€ ã€‚</p> </li></ul> 
<p>index.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨OAç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>list.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page import="java.util.ArrayList" %&gt;
&lt;%@ page import="cw.javaweb.bean.Dept" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;

&lt;%
    Object deptList =  request.getAttribute("deptList");
    ArrayList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Dept</span><span class="token punctuation">&gt;</span></span> depts = (ArrayList<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Dept</span><span class="token punctuation">&gt;</span></span>) deptList;
%&gt;

<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1px solid black<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>åºå·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>

    &lt;%
        for (int i=0; i<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>depts.size();</span> <span class="token attr-name">i++)</span> <span class="token attr-name">{<!-- --></span>
            <span class="token attr-name">Dept</span> <span class="token attr-name">dept</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span> depts.get(i);</span>
    <span class="token attr-name">%</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>&lt;%= (i+1) %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>&lt;%= dept.getDeptno()%&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>&lt;%= dept.getDname()%&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">del</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token operator">%=</span> dept<span class="token punctuation">.</span><span class="token function">getDeptno</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                &lt;%-- ç”±äºä¿®æ”¹å’Œè¯¦æƒ…é¡µé¢åªæ˜¯é¡µé¢æ˜¾ç¤ºä¸åŒï¼Œæ•°æ®çš„æŸ¥è¯¢é€»è¾‘ç±»ä¼¼ï¼Œæ‰€ä»¥æ•°æ®çš„æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„é€»è¾‘ --%&gt;
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/detail?f=m&amp;deptno=&lt;%= dept.getDeptno() %&gt;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/detail?f=d&amp;deptno=&lt;%= dept.getDeptno() %&gt;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    &lt;%
        }
    %&gt;



    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/add.jsp<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">dno</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"äº²ï¼Œåˆ äº†ä¸å¯æ¢å¤å“¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"/oa/dept/delete?deptno="</span> <span class="token operator">+</span> dno<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>


</code></pre> 
<p>add.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/add<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ç¼–å·ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ä½ç½®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ–°å¢<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>


</code></pre> 
<p>detail.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page import="cw.javaweb.bean.Dept" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;%
    Dept dept = (Dept) request.getAttribute("dept");
%&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·ï¼š&lt;%= dept.getDeptno() %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°ï¼š&lt;%= dept.getDname() %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ä½ç½®ï¼š&lt;%= dept.getLoc() %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åé€€<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>


</code></pre> 
<p>edit.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page import="cw.javaweb.bean.Dept" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;%
    Dept dept = (Dept) request.getAttribute("dept");
%&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/modify<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- éƒ¨é—¨ç¼–å·ä¸å…è®¸ä¿®æ”¹ --&gt;</span>
    éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= dept.getDeptno() %&gt;<span class="token punctuation">"</span></span> <span class="token attr-name">readonly</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= dept.getDname() %&gt;<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ä½ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= dept.getLoc() %&gt;<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ä¿®æ”¹<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>



</code></pre> 
<p>Dept.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>bean</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dept</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> deptno<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> dname<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> loc<span class="token punctuation">;</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span><span class="token class-name">String</span> deptno<span class="token punctuation">,</span> <span class="token class-name">String</span> dname<span class="token punctuation">,</span> <span class="token class-name">String</span> loc<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deptno <span class="token operator">=</span> deptno<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dname <span class="token operator">=</span> dname<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loc <span class="token operator">=</span> loc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDeptno</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> deptno<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDeptno</span><span class="token punctuation">(</span><span class="token class-name">String</span> deptno<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>deptno <span class="token operator">=</span> deptno<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> dname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDname</span><span class="token punctuation">(</span><span class="token class-name">String</span> dname<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dname <span class="token operator">=</span> dname<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getLoc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> loc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLoc</span><span class="token punctuation">(</span><span class="token class-name">String</span> loc<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loc <span class="token operator">=</span> loc<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Dept{"</span> <span class="token operator">+</span> <span class="token string">"deptno='"</span> <span class="token operator">+</span> deptno <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span> <span class="token string">", dname='"</span> <span class="token operator">+</span> dname <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span> <span class="token string">", loc='"</span> <span class="token operator">+</span> loc <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span> <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>DeptServlet.java</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>action</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">Dept</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/dept/list"</span><span class="token punctuation">,</span> <span class="token string">"/dept/detail"</span><span class="token punctuation">,</span> <span class="token string">"/dept/modify"</span><span class="token punctuation">,</span> <span class="token string">"/dept/delete"</span><span class="token punctuation">,</span> <span class="token string">"/dept/add"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–servletè·¯å¾„</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doList</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/detail"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doDetail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/modify"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doModify</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/delete"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doDel</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/add"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doAdd</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨çš„ä¿¡æ¯</span>
        <span class="token comment">// æ³¨æ„ä¹±ç é—®é¢˜ï¼ˆTomcat10ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼‰</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œinsertè¯­å¥</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"insert into dept(deptno, dname, loc) values(?,?,?)"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä¿å­˜æˆåŠŸè·³è½¬åˆ°åˆ—è¡¨é¡µé¢</span>
            <span class="token comment">// è½¬å‘æ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>
        
            <span class="token comment">// è¿™é‡Œæœ€å¥½ä½¿ç”¨é‡å®šå‘ï¼ˆæµè§ˆå™¨ä¼šå‘ä¸€æ¬¡å…¨æ–°çš„è¯·æ±‚ã€‚ï¼‰</span>
            <span class="token comment">// æµè§ˆå™¨åœ¨åœ°å€æ ä¸Šå‘é€è¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚æ˜¯getè¯·æ±‚ã€‚</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä¿å­˜å¤±è´¥è·³è½¬åˆ°é”™è¯¯é¡µé¢</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>
        
            <span class="token comment">// è¿™é‡Œä¹Ÿå»ºè®®ä½¿ç”¨é‡å®šå‘ã€‚</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doDel</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æ ¹æ®éƒ¨é—¨ç¼–å·ï¼Œåˆ é™¤éƒ¨é—¨ã€‚</span>
        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“åˆ é™¤æ•°æ®</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¼€å¯äº‹åŠ¡ï¼ˆè‡ªåŠ¨æäº¤æœºåˆ¶å…³é—­ï¼‰</span>
            conn<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"delete from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿”å›å€¼æ˜¯ï¼šå½±å“äº†æ•°æ®åº“è¡¨å½“ä¸­å¤šå°‘æ¡è®°å½•ã€‚</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// äº‹åŠ¡æäº¤</span>
            conn<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡åˆ°å¼‚å¸¸è¦å›æ»š</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>conn <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                    conn<span class="token punctuation">.</span><span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> ex<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    ex<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token comment">// åˆ¤æ–­åˆ é™¤æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ã€‚</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//åˆ é™¤æˆåŠŸ</span>
            <span class="token comment">//ä»ç„¶è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</span>
            <span class="token comment">//éƒ¨é—¨åˆ—è¡¨é¡µé¢çš„æ˜¾ç¤ºéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªServletã€‚æ€ä¹ˆåŠï¼Ÿè½¬å‘ã€‚</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// åˆ é™¤å¤±è´¥</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doModify</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è§£å†³è¯·æ±‚ä½“çš„ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token comment">// è·å–è¡¨å•ä¸­çš„æ•°æ®</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> dname <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> loc <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“æ‰§è¡Œæ›´æ–°è¯­å¥</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"update dept set dname = ?, loc = ? where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> dname<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            count <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ›´æ–°æˆåŠŸ</span>
            <span class="token comment">// è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢ï¼ˆéƒ¨é—¨åˆ—è¡¨é¡µé¢æ˜¯é€šè¿‡Javaç¨‹åºåŠ¨æ€ç”Ÿæˆçš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦å†æ¬¡æ‰§è¡Œå¦ä¸€ä¸ªServletï¼‰</span>
            <span class="token comment">//request.getRequestDispatcher("/dept/list").forward(request, response);</span>
        
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// æ›´æ–°å¤±è´¥</span>
            <span class="token comment">//request.getRequestDispatcher("/error.html").forward(request, response);</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doDetail</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–éƒ¨é—¨ç¼–å·</span>
        <span class="token class-name">String</span> deptno <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"deptno"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼Œæ ¹æ®éƒ¨é—¨ç¼–å·æŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯ã€‚</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select dname,loc from dept where deptno = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> deptno<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿™ä¸ªç»“æœé›†ä¸€å®šåªæœ‰ä¸€æ¡è®°å½•ã€‚</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Dept</span> dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
                request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"dept"</span><span class="token punctuation">,</span> dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// è·å–æ˜¯ä¿®æ”¹è¿˜æ˜¯æŸ¥çœ‹è¯¦æƒ…</span>
        <span class="token class-name">String</span> f <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"m"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/edit.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/detail.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doList</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„éƒ¨é—¨</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dept</span><span class="token punctuation">&gt;</span></span> depts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Dept</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–è¿æ¥</span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select deptno as a,dname,loc from dept"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡ŒSQLè¯­å¥</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¤„ç†ç»“æœé›†</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> deptno <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> dname <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"dname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> loc <span class="token operator">=</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"loc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Dept</span> dept <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span><span class="token punctuation">;</span>
                depts<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// é‡Šæ”¾èµ„æº</span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"deptList"</span><span class="token punctuation">,</span> depts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/list.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h2><a id="_oa_4895"></a>ğŸ¥½ oaç³»ç»Ÿå®ç°ç™»å½•åŠŸèƒ½</h2> 
<ul><li> <p>å½“å‰çš„oaåº”ç”¨å­˜åœ¨çš„é—®é¢˜ï¼š</p> 
  <ul><li>ä»»ä½•ä¸€ä¸ªç”¨æˆ·éƒ½å¯ä»¥è®¿é—®è¿™ä¸ªç³»ç»Ÿï¼Œéƒ½å¯ä»¥å¯¹è¿™ä¸ªç³»ç»Ÿå½“ä¸­çš„æ•°æ®è¿›è¡Œå¢åˆ æ”¹è¿™äº›å±é™©çš„æ“ä½œã€‚æˆ‘åªæƒ³è®©åˆæ³•çš„ç”¨æˆ·å»ä½¿ç”¨è¿™ä¸ªç³»ç»Ÿï¼Œä¸åˆæ³•çš„ç”¨æˆ·ä¸èƒ½è®¿é—®è¿™ä¸ªç³»ç»Ÿï¼Œæ€ä¹ˆåŠï¼Ÿ 
    <ul><li>åŠ ä¸€ä¸ªç™»å½•åŠŸèƒ½ã€‚ç™»å½•æˆåŠŸçš„å¯ä»¥è®¿é—®è¯¥ç³»ç»Ÿï¼Œç™»å½•å¤±è´¥ä¸èƒ½è®¿é—®ã€‚</li></ul> </li><li>å®ç°ç™»å½•åŠŸèƒ½ï¼š 
    <ul><li>æ­¥éª¤1ï¼šæ•°æ®åº“å½“ä¸­æ·»åŠ ä¸€ä¸ªç”¨æˆ·è¡¨ï¼št_user 
      <ul><li>t_userè¡¨å½“ä¸­å­˜å‚¨çš„æ˜¯ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œæœ€åŸºæœ¬çš„ä¹ŸåŒ…æ‹¬ï¼šç™»å½•çš„ç”¨æˆ·åå’Œç™»å½•çš„å¯†ç ã€‚</li><li>å¯†ç ä¸€èˆ¬åœ¨æ•°æ®åº“è¡¨å½“ä¸­å­˜å‚¨çš„æ˜¯å¯†æ–‡ã€‚ä¸€èˆ¬ä¸ä»¥æ˜æ–‡çš„å½¢å¼å­˜å‚¨ã€‚ï¼ˆè¿™é‡Œå…ˆä½¿ç”¨æ˜æ–‡æ–¹å¼ã€‚ï¼‰</li><li>å‘t_userè¡¨ä¸­æ’å…¥æ•°æ®ã€‚<pre><code class="prism language-sql"><span class="token keyword">USE</span> dbtest<span class="token punctuation">;</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> t_user<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> t_user <span class="token punctuation">(</span>
    username <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    password <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> t_user<span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">,</span> <span class="token string">'admin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ul> </li><li>æ­¥éª¤2ï¼šå†å®ç°ä¸€ä¸ªç™»å½•é¡µé¢ã€‚ 
      <ul><li>ç™»å½•é¡µé¢ä¸Šåº”è¯¥æœ‰ä¸€ä¸ªç™»å½•çš„è¡¨å•ã€‚æœ‰ç”¨æˆ·åå’Œå¯†ç è¾“å…¥çš„æ¡†ã€‚</li><li>ç”¨æˆ·ç‚¹å‡»ç™»å½•ï¼Œæäº¤è¡¨å•ï¼Œæäº¤ç”¨æˆ·åå’Œå¯†ç ã€‚formæ˜¯postæ–¹å¼æäº¤ã€‚<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨OAç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
&lt;%--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>--%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/user/login<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç™»å½•<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li><li>æ­¥éª¤3ï¼šåå°è¦æœ‰ä¸€ä¸ªå¯¹åº”çš„Servletæ¥å¤„ç†ç™»å½•çš„è¯·æ±‚ã€‚ 
      <ul><li>ç™»å½•æˆåŠŸï¼šè·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢ã€‚</li><li>ç™»å½•å¤±è´¥ï¼šè·³è½¬åˆ°å¤±è´¥çš„é¡µé¢ã€‚<pre><code class="prism language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/user/login"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–servletè·¯å¾„</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doLogin</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¾ç½®ç¼–ç </span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç”¨æˆ·åå¯†ç </span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“æŸ¥è¯¢æ¯”å¯¹</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">// æ ‡è®°æ˜¯å¦æˆåŠŸç™»å½•</span>
        <span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from t_user where username = ? and password = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                isSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li>æ­¥éª¤4ï¼šå†æä¾›ä¸€ä¸ªç™»å½•å¤±è´¥çš„é¡µé¢ã€‚<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ç™»å½•å¤±è´¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ç™»å½•å¤±è´¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/user/login<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¿”å›ç™»å½•é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li></ul> </li></ul> 
<h2><a id="_session_5004"></a>ğŸ¥½ session</h2> 
<ul><li> <p>ç™»å½•åŠŸèƒ½å®ç°äº†ï¼Œç›®å‰å­˜åœ¨çš„æœ€å¤§çš„é—®é¢˜ï¼š</p> 
  <ul><li>è¿™ä¸ªç™»å½•åŠŸèƒ½ç›®å‰åªæ˜¯ä¸€ä¸ªæ‘†è®¾ï¼Œæ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚åªè¦ç”¨æˆ·çŸ¥é“åç«¯çš„è¯·æ±‚è·¯å¾„ï¼Œç…§æ ·å¯ä»¥åœ¨ä¸ç™»å½•çš„æƒ…å†µä¸‹è®¿é—®ã€‚</li><li>è¿™ä¸ªç™»å½•æ²¡æœ‰çœŸæ­£èµ·åˆ°æ‹¦æˆªçš„ä½œç”¨ã€‚æ€ä¹ˆè§£å†³ï¼Ÿ</li></ul> </li></ul> 
<h3><a id="_websession_5010"></a>ğŸŒŠ webåº”ç”¨çš„sessionæœºåˆ¶</h3> 
<ul><li> <p>ä»€ä¹ˆæ˜¯ä¼šè¯ï¼Ÿ</p> 
  <ul><li>ä¼šè¯å¯¹åº”çš„è‹±è¯­å•è¯ï¼šsession</li><li>ç”¨æˆ·æ‰“å¼€æµè§ˆå™¨ï¼Œè¿›è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œç„¶åæœ€ç»ˆå°†æµè§ˆå™¨å…³é—­ï¼Œè¿™ä¸ªæ•´ä¸ªè¿‡ç¨‹å«åšï¼šä¸€æ¬¡ä¼šè¯ã€‚ä¼šè¯åœ¨æœåŠ¡å™¨ç«¯ä¹Ÿæœ‰ä¸€ä¸ªå¯¹åº”çš„javaå¯¹è±¡ï¼Œè¿™ä¸ªjavaå¯¹è±¡å«åšï¼šsessionã€‚</li><li>ä»€ä¹ˆæ˜¯ä¸€æ¬¡è¯·æ±‚ï¼šç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šç‚¹å‡»äº†ä¸€ä¸‹ï¼Œç„¶ååˆ°é¡µé¢åœä¸‹æ¥ï¼Œå¯ä»¥ç²—ç•¥è®¤ä¸ºæ˜¯ä¸€æ¬¡è¯·æ±‚ã€‚è¯·æ±‚å¯¹åº”çš„æœåŠ¡å™¨ç«¯çš„javaå¯¹è±¡æ˜¯ï¼šrequestã€‚</li><li>ä¸€ä¸ªä¼šè¯å½“ä¸­åŒ…å«å¤šæ¬¡è¯·æ±‚ã€‚ï¼ˆä¸€æ¬¡ä¼šè¯å¯¹åº”Næ¬¡è¯·æ±‚ã€‚ï¼‰</li></ul> </li><li> <p>åœ¨javaçš„servletè§„èŒƒå½“ä¸­ï¼Œsessionå¯¹åº”çš„ç±»åï¼šHttpSessionï¼ˆjarkata.servlet.http.HttpSessionï¼‰</p> </li><li> <p>sessionæœºåˆ¶å±äºB/Sç»“æ„çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœä½¿ç”¨phpè¯­è¨€å¼€å‘WEBé¡¹ç›®ï¼ŒåŒæ ·ä¹Ÿæ˜¯æœ‰sessionè¿™ç§æœºåˆ¶çš„ã€‚sessionæœºåˆ¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªè§„èŒƒã€‚ç„¶åä¸åŒçš„è¯­è¨€å¯¹è¿™ç§ä¼šè¯æœºåˆ¶éƒ½æœ‰å®ç°ã€‚</p> </li><li> <p>sessionå¯¹è±¡æœ€ä¸»è¦çš„ä½œç”¨æ˜¯ï¼šä¿å­˜ä¼šè¯çŠ¶æ€ã€‚ï¼ˆç”¨æˆ·ç™»å½•æˆåŠŸäº†ï¼Œè¿™æ˜¯ä¸€ç§ç™»å½•æˆåŠŸçš„çŠ¶æ€ï¼Œä½ æ€ä¹ˆæŠŠç™»å½•æˆåŠŸçš„çŠ¶æ€ä¸€ç›´ä¿å­˜ä¸‹æ¥å‘¢ï¼Ÿä½¿ç”¨sessionå¯¹è±¡å¯ä»¥ä¿ç•™ä¼šè¯çŠ¶æ€ã€‚ï¼‰</p> </li><li> <p>ä¸ºä»€ä¹ˆéœ€è¦sessionå¯¹è±¡æ¥ä¿å­˜ä¼šè¯çŠ¶æ€å‘¢ï¼Ÿ</p> 
  <ul><li>å› ä¸ºHTTPåè®®æ˜¯ä¸€ç§æ— çŠ¶æ€åè®®ã€‚</li><li>ä»€ä¹ˆæ˜¯æ— çŠ¶æ€ï¼šè¯·æ±‚çš„æ—¶å€™ï¼ŒBå’ŒSæ˜¯è¿æ¥çš„ï¼Œä½†æ˜¯è¯·æ±‚ç»“æŸä¹‹åï¼Œè¿æ¥å°±æ–­äº†ã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼ŸHTTPåè®®ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆè¿™æ ·ï¼Ÿå› ä¸ºè¿™æ ·çš„æ— çŠ¶æ€åè®®ï¼Œå¯ä»¥é™ä½æœåŠ¡å™¨çš„å‹åŠ›ã€‚è¯·æ±‚çš„ç¬é—´æ˜¯è¿æ¥çš„ï¼Œè¯·æ±‚ç»“æŸä¹‹åï¼Œè¿æ¥æ–­å¼€ï¼Œè¿™æ ·æœåŠ¡å™¨å‹åŠ›å°ã€‚</li><li>åªè¦Bå’ŒSæ–­å¼€äº†ï¼Œé‚£ä¹ˆå…³é—­æµè§ˆå™¨è¿™ä¸ªåŠ¨ä½œï¼ŒæœåŠ¡å™¨çŸ¥é“å—ï¼Ÿ 
    <ul><li>ä¸çŸ¥é“ã€‚æœåŠ¡å™¨æ˜¯ä¸çŸ¥é“æµè§ˆå™¨å…³é—­çš„ã€‚</li></ul> </li></ul> </li><li> <p>å¼ ä¸‰æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨Aï¼Œæå››æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨Bï¼Œè®¿é—®æœåŠ¡å™¨ä¹‹åï¼Œåœ¨æœåŠ¡å™¨ç«¯ä¼šç”Ÿæˆï¼š</p> 
  <ul><li>å¼ ä¸‰ä¸“å±çš„sessionå¯¹è±¡</li><li>æå››ä¸“å±çš„sessionå¯¹è±¡</li></ul> </li><li> <p>ä¸ºä»€ä¹ˆä¸ä½¿ç”¨requestå¯¹è±¡ä¿å­˜ä¼šè¯çŠ¶æ€ï¼Ÿä¸ºä»€ä¹ˆä¸ä½¿ç”¨ServletContextå¯¹è±¡ä¿å­˜ä¼šè¯çŠ¶æ€ï¼Ÿ</p> 
  <ul><li>request.setAttribute()å­˜ï¼Œrequest.getAttribute()å–ï¼ŒServletContextä¹Ÿæœ‰è¿™ä¸ªæ–¹æ³•ã€‚requestæ˜¯è¯·æ±‚åŸŸã€‚ServletContextæ˜¯åº”ç”¨åŸŸã€‚</li><li>requestæ˜¯ä¸€æ¬¡è¯·æ±‚ä¸€ä¸ªå¯¹è±¡ã€‚</li><li>ServletContextå¯¹è±¡æ˜¯æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºï¼ŒæœåŠ¡å™¨å…³é—­çš„æ—¶å€™é”€æ¯ï¼Œè¿™ä¸ªServletContextå¯¹è±¡åªæœ‰ä¸€ä¸ªã€‚</li><li>ServletContextå¯¹è±¡çš„åŸŸå¤ªå¤§ã€‚</li><li>requestè¯·æ±‚åŸŸï¼ˆHttpServletRequestï¼‰ã€sessionä¼šè¯åŸŸï¼ˆHttpSessionï¼‰ã€applicationåŸŸï¼ˆServletContextï¼‰</li><li>request &lt; session &lt; application</li></ul> </li></ul> 
<h3><a id="_session_5045"></a>ğŸŒŠ sessionçš„å®ç°åŸç†</h3> 
<ul><li> <p>æ€è€ƒä¸€ä¸‹ï¼šsessionå¯¹è±¡çš„å®ç°åŸç†ã€‚</p> 
  <ul><li>HttpSession session = request.getSession();</li><li>è¿™è¡Œä»£ç å¾ˆç¥å¥‡ã€‚å¼ ä¸‰è®¿é—®çš„æ—¶å€™è·å–çš„sessionå¯¹è±¡å°±æ˜¯å¼ ä¸‰çš„ã€‚æå››è®¿é—®çš„æ—¶å€™è·å–çš„sessionå¯¹è±¡å°±æ˜¯æå››çš„ã€‚</li></ul> </li><li> <p>sessionçš„å®ç°åŸç†ï¼š<br> <img src="https://images2.imgbox.com/71/dd/OuLmPeq7_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li></ul> 
<p><img src="https://images2.imgbox.com/bb/bc/WFSyneLO_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<ul><li> <p>æœåŠ¡å™¨çš„å“åº”ä¸­æœ‰JSESSIONID=xxxxxx è¿™ä¸ªæ˜¯ä»¥Cookieçš„å½¢å¼ä¿å­˜åœ¨æµè§ˆå™¨çš„å†…å­˜ä¸­çš„ã€‚æµè§ˆå™¨åªè¦å…³é—­ã€‚è¿™ä¸ªcookieå°±æ²¡æœ‰äº†ã€‚</p> </li><li> <p>sessionåˆ—è¡¨æ˜¯ä¸€ä¸ªMapï¼Œmapçš„keyæ˜¯sessionidï¼Œmapçš„valueæ˜¯sessionå¯¹è±¡ã€‚</p> </li><li> <p>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç”Ÿæˆsessionå¯¹è±¡ï¼ŒåŒæ—¶ç”Ÿæˆidï¼Œå°†idå‘é€ç»™æµè§ˆå™¨ã€‚</p> </li><li> <p>ç”¨æˆ·ç¬¬äºŒæ¬¡è¯·æ±‚ï¼Œè‡ªåŠ¨å°†æµè§ˆå™¨å†…å­˜ä¸­çš„idå‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ ¹æ®idæŸ¥æ‰¾sessionå¯¹è±¡ã€‚</p> </li><li> <p>å…³é—­æµè§ˆå™¨ï¼Œå†…å­˜æ¶ˆå¤±ï¼Œcookieæ¶ˆå¤±ï¼Œsessionidæ¶ˆå¤±ï¼Œä¼šè¯ç­‰åŒäºç»“æŸã€‚</p> </li><li> <p>è®¾ç½®sessionçš„è¶…æ—¶æ—¶é—´</p> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- sessionçš„è¶…æ—¶æ—¶é•¿ä¸º30åˆ†é’Ÿ --&gt;</span>
	<span class="token comment">&lt;!-- 30åˆ†é’Ÿè¿‡å»äº†ï¼Œsessionå¯¹è±¡ä»ç„¶æ²¡æœ‰è¢«è®¿é—®ï¼Œsessionå¯¹è±¡ä¼šè¢«é”€æ¯ --&gt;</span>
	<span class="token comment">&lt;!-- é»˜è®¤å€¼ä¸º30 --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-config</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>session-timeout</span><span class="token punctuation">&gt;</span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-timeout</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>session-config</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>Cookieç¦ç”¨äº†ï¼Œsessionè¿˜èƒ½æ‰¾åˆ°å—ï¼Ÿ</p> 
  <ul><li>cookieç¦ç”¨æ˜¯ä»€ä¹ˆæ„æ€ï¼ŸæœåŠ¡å™¨æ­£å¸¸å‘é€cookieç»™æµè§ˆå™¨ï¼Œä½†æ˜¯æµè§ˆå™¨ä¸è¦äº†ã€‚æ‹’æ”¶äº†ã€‚å¹¶ä¸æ˜¯æœåŠ¡å™¨ä¸å‘äº†ã€‚</li><li>æ‰¾ä¸åˆ°äº†ã€‚æ¯ä¸€æ¬¡è¯·æ±‚éƒ½ä¼šè·å–åˆ°æ–°çš„sessionå¯¹è±¡ã€‚æœåŠ¡å™¨æ²¡æœ‰æ”¶åˆ°æµè§ˆå™¨çš„sessionidï¼Œæ— æ³•æŸ¥æ‰¾ä¹‹å‰åˆ›å»ºçš„sessionå¯¹è±¡</li><li>cookieç¦ç”¨äº†ï¼Œsessionæœºåˆ¶è¿˜èƒ½å®ç°å—ï¼Ÿ 
    <ul><li>å¯ä»¥ã€‚éœ€è¦ä½¿ç”¨URLé‡å†™æœºåˆ¶ã€‚</li><li>http://localhost:8080/servlet12/test/session;jsessionid=19D1C99560DCBF84839FA43D58F56E16</li><li>URLé‡å†™æœºåˆ¶ä¼šæé«˜å¼€å‘è€…çš„æˆæœ¬ã€‚å¼€å‘äººå‘˜åœ¨ç¼–å†™ä»»ä½•è¯·æ±‚è·¯å¾„çš„æ—¶å€™ï¼Œåé¢éƒ½è¦æ·»åŠ ä¸€ä¸ªsessionidï¼Œç»™å¼€å‘å¸¦æ¥äº†å¾ˆå¤§çš„éš¾åº¦ï¼Œå¾ˆå¤§çš„æˆæœ¬ã€‚æ‰€ä»¥å¤§éƒ¨åˆ†çš„ç½‘ç«™éƒ½æ˜¯è¿™æ ·è®¾è®¡çš„ï¼šä½ è¦æ˜¯ç¦ç”¨cookieï¼Œä½ å°±åˆ«ç”¨äº†ã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="__5087"></a>ğŸ¥½ åŸŸå¯¹è±¡</h2> 
<ul><li> <p>æ€»ç»“ä¸€ä¸‹åˆ°ç›®å‰ä½ç½®æˆ‘ä»¬æ‰€äº†è§£çš„åŸŸå¯¹è±¡ï¼š</p> 
  <ul><li>requestï¼ˆå¯¹åº”çš„ç±»åï¼šHttpServletRequestï¼‰ 
    <ul><li>è¯·æ±‚åŸŸï¼ˆè¯·æ±‚çº§åˆ«çš„ï¼‰</li></ul> </li><li>sessionï¼ˆå¯¹åº”çš„ç±»åï¼šHttpSessionï¼‰ 
    <ul><li>ä¼šè¯åŸŸï¼ˆç”¨æˆ·çº§åˆ«çš„ï¼‰</li></ul> </li><li>applicationï¼ˆå¯¹åº”çš„ç±»åï¼šServletContextï¼‰ 
    <ul><li>åº”ç”¨åŸŸï¼ˆé¡¹ç›®çº§åˆ«çš„ï¼Œæ‰€æœ‰ç”¨æˆ·å…±äº«çš„ã€‚ï¼‰</li></ul> </li><li>è¿™ä¸‰ä¸ªåŸŸå¯¹è±¡çš„å¤§å°å…³ç³» 
    <ul><li>request &lt; session &lt; application</li></ul> </li><li>ä»–ä»¬ä¸‰ä¸ªåŸŸå¯¹è±¡éƒ½æœ‰ä»¥ä¸‹ä¸‰ä¸ªå…¬å…±çš„æ–¹æ³•ï¼š 
    <ul><li>setAttributeï¼ˆå‘åŸŸå½“ä¸­ç»‘å®šæ•°æ®ï¼‰</li><li>getAttributeï¼ˆä»åŸŸå½“ä¸­è·å–æ•°æ®ï¼‰</li><li>removeAttributeï¼ˆåˆ é™¤åŸŸå½“ä¸­çš„æ•°æ®ï¼‰</li></ul> </li><li>ä½¿ç”¨åŸåˆ™ï¼šå°½é‡ä½¿ç”¨å°çš„åŸŸã€‚</li></ul> </li></ul> 
<h2><a id="_sessionoa_5105"></a>ğŸ¥½ sessionæ”¹é€ oaé¡¹ç›®</h2> 
<ul><li> <p>sessionæŒæ¡ä¹‹åï¼Œæˆ‘ä»¬æ€ä¹ˆè§£å†³oaé¡¹ç›®ä¸­çš„ç™»å½•é—®é¢˜ï¼Œæ€ä¹ˆèƒ½è®©ç™»å½•èµ·ä½œç”¨ã€‚</p> 
  <ul><li>ç™»å½•æˆåŠŸä¹‹åï¼Œå¯ä»¥å°†ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯å­˜å‚¨åˆ°sessionå½“ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´sessionä¸­å¦‚æœæœ‰ç”¨æˆ·çš„ä¿¡æ¯å°±ä»£è¡¨ç”¨æˆ·ç™»å½•æˆåŠŸäº†ã€‚sessionä¸­æ²¡æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰ç™»å½•è¿‡ã€‚åˆ™è·³è½¬åˆ°ç™»å½•é¡µé¢ã€‚</li></ul> </li><li> <p>JSPä¸­çš„ä¹å¤§å†…ç½®å¯¹è±¡æœ‰sessionï¼Œæ‰€ä»¥ä¸€è®¿é—®JSPé¡µé¢å°±ä¼šåˆ›å»ºä¸€ä¸ªç›¸åº”çš„ä¼šè¯sessionå¯¹è±¡</p> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> è®¿é—®<span class="token constant">JSP</span>é¡µé¢æ—¶ä¸ç”Ÿæˆsessionå¯¹è±¡ï¼ŒåŒæ—¶åœ¨è¯¥<span class="token constant">JSP</span>é¡µé¢ä¸­ä¹Ÿä¸èƒ½ä½¿ç”¨sessionå†…ç½®å¯¹è±¡ <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> session <span class="token operator">=</span> <span class="token string">"false"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre> </li><li> <p>é”€æ¯sessionå¯¹è±¡ï¼š</p> 
  <ul><li> <pre><code class="prism language-java">session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> </li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/user/login"</span><span class="token punctuation">,</span> <span class="token string">"/user/logout"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–servletè·¯å¾„</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doLogin</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/user/logout"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doLogout</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doLogout</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä»sessionåŸŸä¸­åˆ é™¤æ•°æ®</span>
            session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰‹åŠ¨é”€æ¯sessionå¯¹è±¡ã€‚</span>
            session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·³è½¬åˆ°é¦–é¡µ</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¾ç½®ç¼–ç </span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç”¨æˆ·åå¯†ç </span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“æŸ¥è¯¢æ¯”å¯¹</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">// æ ‡è®°æ˜¯å¦æˆåŠŸç™»å½•</span>
        <span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from t_user where username = ? and password = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                isSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡å°±åˆ›å»ºä¸€ä¸ª</span>
            <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å‘sessionå¯¹è±¡å­˜æ”¾ç”¨æˆ·æ•°æ®ä½œä¸ºç™»å½•è¯æ˜</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è¿›è¡Œç™»å½•éªŒè¯</span>
        <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œè¿™é‡Œåªæ˜¯è¿›è¡ŒéªŒè¯ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡ä¸éœ€è¦åˆ›å»º</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç”¨æˆ·ç™»å½•è¯æ˜</span>
        <span class="token class-name">Object</span> username <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> username <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–servletè·¯å¾„</span>
            <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">doList</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/detail"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">doDetail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/modify"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">doModify</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/delete"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">doDel</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/add"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token function">doAdd</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·³è½¬åˆ°indexé¡µé¢</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ &lt;%= request.getSession().getAttribute("username") %&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%=request.getContextPath()%&gt;/user/logout<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>é€€å‡ºç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h2><a id="_Cookie_5233"></a>ğŸ¥½ Cookie</h2> 
<ul><li> <p>sessionçš„å®ç°åŸç†ä¸­ï¼Œæ¯ä¸€ä¸ªsessionå¯¹è±¡éƒ½ä¼šå…³è”ä¸€ä¸ªsessionidï¼Œä¾‹å¦‚ï¼š</p> 
  <ul><li>JSESSIONID=41C481F0224664BDB28E95081D23D5B8</li><li>ä»¥ä¸Šçš„è¿™ä¸ªé”®å€¼å¯¹æ•°æ®å…¶å®å°±æ˜¯cookieå¯¹è±¡ã€‚</li><li>å¯¹äºsessionå…³è”çš„cookieæ¥è¯´ï¼Œè¿™ä¸ªcookieæ˜¯è¢«ä¿å­˜åœ¨æµè§ˆå™¨çš„â€œè¿è¡Œå†…å­˜â€å½“ä¸­ã€‚</li><li>åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œç”¨æˆ·å†æ¬¡å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å°†è¿è¡Œå†…å­˜ä¸­çš„cookieå‘é€ç»™æœåŠ¡å™¨ã€‚</li><li>ä¾‹å¦‚ï¼Œè¿™ä¸ªCookie: JSESSIONID=41C481F0224664BDB28E95081D23D5B8å°±ä¼šå†æ¬¡å‘é€ç»™æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨å°±æ˜¯æ ¹æ®41C481F0224664BDB28E95081D23D5B8è¿™ä¸ªå€¼æ¥æ‰¾åˆ°å¯¹åº”çš„sessionå¯¹è±¡çš„ã€‚</li></ul> </li><li> <p>cookieæ€ä¹ˆç”Ÿæˆï¼Ÿcookieä¿å­˜åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿcookieæœ‰å•¥ç”¨ï¼Ÿæµè§ˆå™¨ä»€ä¹ˆæ—¶å€™ä¼šå‘é€cookieï¼Œå‘é€å“ªäº›cookieç»™æœåŠ¡å™¨ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p> </li><li> <p>cookieæœ€ç»ˆæ˜¯ä¿å­˜åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ä¸Šçš„ã€‚</p> 
  <ul><li>å¯ä»¥ä¿å­˜åœ¨è¿è¡Œå†…å­˜ä¸­ã€‚ï¼ˆæµè§ˆå™¨åªè¦å…³é—­cookieå°±æ¶ˆå¤±äº†ã€‚ï¼‰</li><li>ä¹Ÿå¯ä»¥ä¿å­˜åœ¨ç¡¬ç›˜æ–‡ä»¶ä¸­ã€‚ï¼ˆæ°¸ä¹…ä¿å­˜ã€‚ï¼‰</li></ul> </li><li> <p>cookieæœ‰å•¥ç”¨å‘¢ï¼Ÿ</p> 
  <ul><li>cookieå’Œsessionæœºåˆ¶å…¶å®éƒ½æ˜¯ä¸ºäº†ä¿å­˜ä¼šè¯çš„çŠ¶æ€ã€‚</li><li>cookieæ˜¯å°†ä¼šè¯çš„çŠ¶æ€ä¿å­˜åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ä¸Šã€‚ï¼ˆcookieæ•°æ®å­˜å‚¨åœ¨æµè§ˆå™¨å®¢æˆ·ç«¯ä¸Šçš„ã€‚ï¼‰</li><li>sessionæ˜¯å°†ä¼šè¯çš„çŠ¶æ€ä¿å­˜åœ¨æœåŠ¡å™¨ç«¯ä¸Šã€‚ï¼ˆsessionå¯¹è±¡æ˜¯å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šã€‚ï¼‰</li><li>ä¸ºä»€ä¹ˆè¦æœ‰cookieå’Œsessionæœºåˆ¶å‘¢ï¼Ÿå› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€ æ— è¿æ¥åè®®ã€‚</li></ul> </li><li> <p>cookieçš„ç»å…¸æ¡ˆä¾‹</p> 
  <ul><li>äº¬ä¸œå•†åŸï¼Œåœ¨æœªç™»å½•çš„æƒ…å†µä¸‹ï¼Œå‘è´­ç‰©è½¦ä¸­æ”¾å‡ ä»¶å•†å“ã€‚ç„¶åå…³é—­å•†åŸï¼Œå†æ¬¡æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®äº¬ä¸œå•†åŸçš„æ—¶å€™ï¼Œè´­ç‰©è½¦ä¸­çš„å•†å“è¿˜åœ¨ï¼Œè¿™æ˜¯æ€ä¹ˆåšçš„ï¼Ÿæˆ‘æ²¡æœ‰ç™»å½•ï¼Œä¸ºä»€ä¹ˆè´­ç‰©è½¦ä¸­è¿˜æœ‰å•†å“å‘¢ï¼Ÿ 
    <ul><li>å°†è´­ç‰©è½¦ä¸­çš„å•†å“ç¼–å·æ”¾åˆ°cookieå½“ä¸­ï¼Œcookieä¿å­˜åœ¨ç¡¬ç›˜æ–‡ä»¶å½“ä¸­ã€‚è¿™æ ·å³ä½¿å…³é—­æµè§ˆå™¨ã€‚ç¡¬ç›˜ä¸Šçš„cookieè¿˜åœ¨ã€‚ä¸‹ä¸€æ¬¡å†æ‰“å¼€äº¬ä¸œå•†åŸçš„æ—¶å€™ï¼ŒæŸ¥çœ‹è´­ç‰©è½¦çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è¯»å–æœ¬åœ°ç¡¬ç›˜ä¸­å­˜å‚¨çš„cookieï¼Œæ‹¿åˆ°å•†å“ç¼–å·ï¼ŒåŠ¨æ€å±•ç¤ºè´­ç‰©è½¦ä¸­çš„å•†å“ã€‚ 
      <ul><li>äº¬ä¸œå­˜å‚¨è´­ç‰©è½¦ä¸­å•†å“çš„cookieå¯èƒ½æ˜¯è¿™æ ·çš„ï¼šproductIds=xxxxx,yyyy,zzz,kkkk</li><li>æ³¨æ„ï¼šcookieå¦‚æœæ¸…é™¤æ‰ï¼Œè´­ç‰©è½¦ä¸­çš„å•†å“å°±æ¶ˆå¤±äº†ã€‚</li></ul> </li></ul> </li><li>126é‚®ç®±ä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼šåå¤©å†…å…ç™»å½• 
    <ul><li>è¿™ä¸ªåŠŸèƒ½ä¹Ÿæ˜¯éœ€è¦cookieæ¥å®ç°çš„ã€‚</li><li>æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ 
      <ul><li>ç”¨æˆ·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”åŒæ—¶é€‰æ‹©åå¤©å†…å…ç™»å½•ã€‚ç™»å½•æˆåŠŸåã€‚æµè§ˆå™¨å®¢æˆ·ç«¯ä¼šä¿å­˜ä¸€ä¸ªcookieï¼Œè¿™ä¸ªcookieä¸­ä¿å­˜äº†ç”¨æˆ·åå’Œå¯†ç ç­‰ä¿¡æ¯ï¼Œè¿™ä¸ªcookieæ˜¯ä¿å­˜åœ¨ç¡¬ç›˜æ–‡ä»¶å½“ä¸­çš„ï¼Œåå¤©æœ‰æ•ˆã€‚åœ¨åå¤©å†…ç”¨æˆ·å†æ¬¡è®¿é—®126çš„æ—¶å€™ï¼Œæµè§ˆå™¨è‡ªåŠ¨æäº¤126çš„å…³è”çš„cookieç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°cookieä¹‹åï¼Œè·å–ç”¨æˆ·åå’Œå¯†ç ï¼ŒéªŒè¯ï¼Œé€šè¿‡ä¹‹åï¼Œè‡ªåŠ¨ç™»å½•æˆåŠŸã€‚</li><li>æ€ä¹ˆè®©cookieå¤±æ•ˆï¼Ÿ 
        <ul><li>åå¤©è¿‡åè‡ªåŠ¨å¤±æ•ˆã€‚</li><li>æˆ–è€…æ”¹å¯†ç ã€‚</li><li>æˆ–è€…åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸Šæ¸…é™¤cookieã€‚</li></ul> </li></ul> </li></ul> </li></ul> </li><li> <p>cookieæœºåˆ¶å’Œsessionæœºåˆ¶å…¶å®éƒ½ä¸å±äºjavaä¸­çš„æœºåˆ¶ï¼Œå®é™…ä¸Šcookieæœºåˆ¶å’Œsessionæœºåˆ¶éƒ½æ˜¯HTTPåè®®çš„ä¸€éƒ¨åˆ†ã€‚phpå¼€å‘ä¸­ä¹Ÿæœ‰cookieå’Œsessionæœºåˆ¶ï¼Œåªè¦æ˜¯ä½ æ˜¯åšwebå¼€å‘ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Œcookieå’Œsessionæœºåˆ¶éƒ½æ˜¯éœ€è¦çš„ã€‚</p> </li><li> <p>HTTPåè®®ä¸­è§„å®šï¼šä»»ä½•ä¸€ä¸ªcookieéƒ½æ˜¯ç”±nameå’Œvalueç»„æˆçš„ã€‚nameå’Œvalueéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ã€‚</p> </li><li> <p>åœ¨javaçš„servletä¸­ï¼Œå¯¹cookieæä¾›äº†å“ªäº›æ”¯æŒå‘¢ï¼Ÿ</p> 
  <ul><li>æä¾›äº†ä¸€ä¸ªCookieç±»æ¥ä¸“é—¨è¡¨ç¤ºcookieæ•°æ®ã€‚jakarta.servlet.http.Cookie;</li><li>javaç¨‹åºæ€ä¹ˆæŠŠcookieæ•°æ®å‘é€ç»™æµè§ˆå™¨å‘¢ï¼Ÿresponse.addCookie(cookie);</li></ul> </li><li> <p>åœ¨HTTPåè®®ä¸­æ˜¯è¿™æ ·è§„å®šçš„ï¼šå½“æµè§ˆå™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æºå¸¦è¯¥pathä¸‹çš„cookieæ•°æ®ç»™æœåŠ¡å™¨ã€‚ï¼ˆURLã€‚ï¼‰</p> </li><li> <p>å…³äºcookieçš„æœ‰æ•ˆæ—¶é—´</p> 
  <ul><li>æ€ä¹ˆç”¨javaè®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ 
    <ul><li>cookie.setMaxAge(60 * 60); è®¾ç½®cookieåœ¨ä¸€å°æ—¶ä¹‹åå¤±æ•ˆã€‚</li></ul> </li><li>æ²¡æœ‰è®¾ç½®æœ‰æ•ˆæ—¶é—´ï¼šé»˜è®¤ä¿å­˜åœ¨æµè§ˆå™¨çš„è¿è¡Œå†…å­˜ä¸­ï¼Œæµè§ˆå™¨å…³é—­åˆ™cookieæ¶ˆå¤±ã€‚</li><li>åªè¦è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ &gt; 0ï¼Œè¿™ä¸ªcookieä¸€å®šä¼šå­˜å‚¨åˆ°ç¡¬ç›˜æ–‡ä»¶å½“ä¸­ã€‚</li><li>è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ = 0 å‘¢ï¼Ÿ 
    <ul><li>cookieè¢«åˆ é™¤ï¼ŒåŒåcookieè¢«åˆ é™¤ã€‚</li></ul> </li><li>è®¾ç½®cookieçš„æœ‰æ•ˆæ—¶é—´ &lt; 0 å‘¢ï¼Ÿ 
    <ul><li>ä¿å­˜åœ¨è¿è¡Œå†…å­˜ä¸­ã€‚å’Œä¸è®¾ç½®ä¸€æ ·ã€‚</li></ul> </li></ul> </li><li> <p>å…³äºcookieçš„pathï¼Œcookieå…³è”çš„è·¯å¾„ï¼š</p> 
  <ul><li>å‡è®¾ç°åœ¨å‘é€çš„è¯·æ±‚è·¯å¾„æ˜¯â€œhttp://localhost:8080/servlet13/cookie/generateâ€ç”Ÿæˆçš„cookieï¼Œå¦‚æœcookieæ²¡æœ‰è®¾ç½®pathï¼Œé»˜è®¤çš„pathæ˜¯ä»€ä¹ˆï¼Ÿ 
    <ul><li>é»˜è®¤çš„pathæ˜¯ï¼šhttp://localhost:8080/servlet13/cookie ä»¥åŠå®ƒçš„å­è·¯å¾„ã€‚(servletæ ¹è·¯å¾„åŠå…¶å­è·¯å¾„)</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥ååªè¦æµè§ˆå™¨çš„è¯·æ±‚è·¯å¾„æ˜¯http://localhost:8080/servlet13/cookie è¿™ä¸ªè·¯å¾„ä»¥åŠè¿™ä¸ªè·¯å¾„ä¸‹çš„å­è·¯å¾„ï¼Œcookieéƒ½ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ã€‚</li></ul> </li><li>æ‰‹åŠ¨è®¾ç½®cookieçš„path 
    <ul><li>cookie.setPath(â€œ/servlet13â€); è¡¨ç¤ºåªè¦æ˜¯è¿™ä¸ªservlet13é¡¹ç›®çš„è¯·æ±‚è·¯å¾„ï¼Œéƒ½ä¼šæäº¤è¿™ä¸ªcookieç»™æœåŠ¡å™¨ã€‚</li></ul> </li></ul> </li><li> <p>æµè§ˆå™¨å‘é€cookieç»™æœåŠ¡å™¨äº†ï¼ŒæœåŠ¡å™¨ä¸­çš„javaç¨‹åºæ€ä¹ˆæ¥æ”¶ï¼Ÿ</p> 
  <ul><li> <pre><code class="prism language-java"><span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿™ä¸ªæ–¹æ³•å¯èƒ½è¿”å›nullï¼Œæ²¡æœ‰æäº¤cookieçš„æ—¶å€™</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–cookieçš„name</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–cookieçš„value</span>
        <span class="token class-name">String</span> value <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li></ul> 
<h2><a id="_cookie_5317"></a>ğŸ¥½ cookieå®ç°ä¸€ä¸‹åå¤©å†…å…ç™»å½•åŠŸèƒ½</h2> 
<ul><li> <p>ä½¿ç”¨cookieå®ç°ä¸€ä¸‹åå¤©å†…å…ç™»å½•åŠŸèƒ½ã€‚</p> 
  <ul><li>å…ˆå®ç°ç™»å½•åŠŸèƒ½ 
    <ul><li>ç™»å½•æˆåŠŸ 
      <ul><li>è·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</li></ul> </li><li>ç™»å½•å¤±è´¥ 
      <ul><li>è·³è½¬åˆ°ç™»å½•å¤±è´¥é¡µé¢</li></ul> </li></ul> </li><li>ä¿®æ”¹å‰ç«¯é¡µé¢ 
    <ul><li>åœ¨ç™»å½•é¡µé¢ç»™ä¸€ä¸ªå¤é€‰æ¡†ï¼Œå¤é€‰æ¡†åé¢ç»™ä¸€å¥è¯ï¼šåå¤©å†…å…ç™»å½•ã€‚</li><li>ç”¨æˆ·é€‰æ‹©äº†å¤é€‰æ¡†ï¼šè¡¨ç¤ºè¦æ”¯æŒåå¤©å†…å…ç™»å½•ã€‚</li><li>ç”¨æˆ·æ²¡æœ‰é€‰æ‹©å¤é€‰æ¡†ï¼šè¡¨ç¤ºç”¨æˆ·ä¸æƒ³ä½¿ç”¨åå¤©å†…å…ç™»å½•åŠŸèƒ½ã€‚</li></ul> </li><li>ä¿®æ”¹Servletä¸­çš„loginæ–¹æ³• 
    <ul><li>å¦‚æœç”¨æˆ·ç™»å½•æˆåŠŸäº†ï¼Œå¹¶ä¸”ç”¨æˆ·ç™»å½•æ—¶é€‰æ‹©äº†åå¤©å†…å…ç™»å½•åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¶å€™åº”è¯¥åœ¨Servletçš„loginæ–¹æ³•ä¸­åˆ›å»ºcookieï¼Œç”¨æ¥å­˜å‚¨ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”è®¾ç½®è·¯å¾„ï¼Œè®¾ç½®æœ‰æ•ˆæœŸï¼Œå°†cookieå“åº”ç»™æµè§ˆå™¨ã€‚ï¼ˆæµè§ˆå™¨å°†å…¶è‡ªåŠ¨ä¿å­˜åœ¨ç¡¬ç›˜æ–‡ä»¶å½“ä¸­10å¤©ï¼‰</li></ul> </li><li>ç”¨æˆ·å†æ¬¡è®¿é—®è¯¥ç½‘ç«™çš„æ—¶å€™ï¼Œè®¿é—®è¿™ä¸ªç½‘ç«™çš„é¦–é¡µçš„æ—¶å€™ï¼Œæœ‰ä¸¤ä¸ªèµ°å‘: 
    <ul><li>è¦ä¹ˆè·³è½¬åˆ°éƒ¨é—¨åˆ—è¡¨é¡µé¢</li><li>è¦ä¹ˆè·³è½¬åˆ°ç™»å½•é¡µé¢</li><li>ä»¥ä¸Šåˆ†åˆ«æœ‰ä¸¤ä¸ªèµ°å‘ï¼Œè¿™æ˜¾ç„¶æ˜¯éœ€è¦ç¼–å†™javaç¨‹åºè¿›è¡Œæ§åˆ¶çš„ã€‚</li></ul> </li></ul> </li><li> <p>cookieç”¨äºä¿å­˜ç™»å½•çŠ¶æ€ï¼Œsessionç”¨äºä¿å­˜æ¯æ¬¡ä¼šè¯çš„ä¼šè¯çŠ¶æ€ï¼Œæ¯æ¬¡è®¿é—®æ ¹æ®cookieåˆ¤æ–­æ˜¯å¦éœ€è¦ç™»å½•ï¼Œå¦‚æœä¸éœ€è¦ç™»å½•åˆ™é€šè¿‡cookieä¿å­˜çš„ç™»å½•çŠ¶æ€ç”Ÿæˆæœ¬æ¬¡ä¼šè¯çš„sessionã€‚</p> </li></ul> 
<p>é…ç½®ç«™ç‚¹çš„æ¬¢è¿è·¯å¾„</p> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>ç™»å½•åç”Ÿæˆcookieä¿å­˜ç™»å½•çŠ¶æ€</p> 
<pre><code class="prism language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è®¾ç½®ç¼–ç </span>
        request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç”¨æˆ·åå¯†ç </span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿æ¥æ•°æ®åº“æŸ¥è¯¢æ¯”å¯¹</span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">// æ ‡è®°æ˜¯å¦æˆåŠŸç™»å½•</span>
        <span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from t_user where username = ? and password = ?"</span><span class="token punctuation">;</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                isSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡å°±åˆ›å»ºä¸€ä¸ª</span>
            <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å‘sessionå¯¹è±¡å­˜æ”¾ç”¨æˆ·æ•°æ®ä½œä¸ºç™»å½•è¯æ˜</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token comment">// è·å–å‚æ•°åˆ¤æ–­æ˜¯å¦éœ€è¦å…ç™»å½•</span>
            <span class="token class-name">String</span> f <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// åˆ›å»ºcookie</span>
                <span class="token class-name">Cookie</span> username1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Cookie</span> password1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// è®¾ç½®å¤±æ•ˆæ—¶é—´</span>
                username1<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                password1<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">60</span><span class="token operator">*</span><span class="token number">24</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// è®¾ç½®cookieå¯ä»¥ä½œç”¨çš„pathè·¯å¾„</span>
                <span class="token comment">// åœ¨æœ¬webé¡¹ç›®ä¸­æ‰€æœ‰è·¯å¾„ä¸‹æœ‰æ•ˆ</span>
                username1<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                password1<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// å°†cookieæ”¾å…¥å“åº”å¯¹è±¡ä¸­</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>username1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>password1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
    
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/welcome"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WelcomeServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// æµè§ˆå™¨è¯·æ±‚é»˜è®¤ä¸ºget</span>
        <span class="token comment">// è·å–cookie</span>
        <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// cookieä¸ä¸ºç©º,éå†cookieè·å–ç”¨æˆ·åä¸ç”¨æˆ·å¯†ç </span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span> cookieName <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookieName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    username <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>cookieName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    password <span class="token operator">=</span> cookie<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    
        <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ç”¨æˆ·åä¸å¯†ç ä¸ä¸ºç©ºåˆ¤æ–­æ˜¯å¦å¯ä»¥å…ç™»å½•</span>
            <span class="token comment">// è¿æ¥æ•°æ®åº“æŸ¥è¯¢</span>
            <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token comment">// æ ‡è®°æ˜¯å¦æˆåŠŸç™»å½•</span>
            <span class="token keyword">boolean</span> isSuccess <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from t_user where username = ? and password = ?"</span><span class="token punctuation">;</span>
                ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
                ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
                rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    isSuccess <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            
            <span class="token keyword">if</span> <span class="token punctuation">(</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// å¯ä»¥å…ç™»å½•</span>
                <span class="token comment">// ç”Ÿæˆæœ¬æ¬¡ä¼šè¯çš„session</span>
                <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡å°±åˆ›å»ºä¸€ä¸ª</span>
                <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// å‘sessionå¯¹è±¡å­˜æ”¾ç”¨æˆ·æ•°æ®ä½œä¸ºç™»å½•è¯æ˜</span>
                session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                
                response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
                response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// éœ€è¦è¿›è¡Œç™»å½•</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/index.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨OAç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
&lt;%--<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/dept/list<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æŸ¥çœ‹éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>--%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= request.getContextPath() %&gt;/user/login<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>f<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åå¤©å†…å…ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç™»å½•<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>

</code></pre> 
<h2><a id="_JSP_5502"></a>ğŸ¥½ JSPçš„æŒ‡ä»¤</h2> 
<ul><li> <p>æŒ‡ä»¤çš„ä½œç”¨ï¼šæŒ‡å¯¼JSPçš„ç¿»è¯‘å¼•æ“å¦‚ä½•å·¥ä½œï¼ˆæŒ‡å¯¼å½“å‰çš„JSPç¿»è¯‘å¼•æ“å¦‚ä½•ç¿»è¯‘JSPæ–‡ä»¶ã€‚ï¼‰</p> </li><li> <p>æŒ‡ä»¤åŒ…æ‹¬å“ªäº›å‘¢ï¼Ÿ</p> 
  <ul><li>includeæŒ‡ä»¤ï¼šåŒ…å«æŒ‡ä»¤ï¼Œåœ¨JSPä¸­å®Œæˆé™æ€åŒ…å«ï¼Œå¾ˆå°‘ç”¨äº†ã€‚ï¼ˆè¿™é‡Œä¸è®²ï¼‰</li><li>taglibæŒ‡ä»¤ï¼šå¼•å…¥æ ‡ç­¾åº“çš„æŒ‡ä»¤ã€‚è¿™ä¸ªåˆ°JJSTLæ ‡ç­¾åº“çš„æ—¶å€™å†å­¦ä¹ ã€‚ç°åœ¨å…ˆä¸ç®¡ã€‚</li><li>pageæŒ‡ä»¤ï¼šç›®å‰é‡ç‚¹å­¦ä¹ ä¸€ä¸ªpageæŒ‡ä»¤ã€‚</li></ul> </li><li> <p>æŒ‡ä»¤çš„ä½¿ç”¨è¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>&lt;%@æŒ‡ä»¤å å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼ å±æ€§å=å±æ€§å€¼â€¦%&gt;</li></ul> </li><li> <p>å…³äºpageæŒ‡ä»¤å½“ä¸­éƒ½æœ‰å“ªäº›å¸¸ç”¨çš„å±æ€§å‘¢ï¼Ÿ</p> 
  <ul><li> <pre><code class="prism language-jsp">&lt;%@page session="true|false" %&gt;
trueè¡¨ç¤ºå¯ç”¨JSPçš„å†…ç½®å¯¹è±¡sessionï¼Œè¡¨ç¤ºä¸€å®šå¯åŠ¨sessionå¯¹è±¡ã€‚æ²¡æœ‰sessionå¯¹è±¡ä¼šåˆ›å»ºã€‚
å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼å°±æ˜¯session="true"
session="false" è¡¨ç¤ºä¸å¯åŠ¨å†…ç½®å¯¹è±¡sessionã€‚å½“å‰JSPé¡µé¢ä¸­æ— æ³•ä½¿ç”¨å†…ç½®å¯¹è±¡sessionã€‚
</code></pre> </li><li> <pre><code class="prism language-jsp">&lt;%@page contentType="text/json" %&gt;
contentTypeå±æ€§ç”¨æ¥è®¾ç½®å“åº”çš„å†…å®¹ç±»å‹
ä½†åŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®å­—ç¬¦é›†ã€‚
é»˜è®¤ text/html
&lt;%@page contentType="text/json;charset=UTF-8" %&gt;
</code></pre> </li><li> <pre><code class="prism language-jsp">&lt;%@page pageEncoding="UTF-8" %&gt;
pageEncoding="UTF-8" è¡¨ç¤ºè®¾ç½®å“åº”æ—¶é‡‡ç”¨çš„å­—ç¬¦é›†ã€‚
è®¾ç½®äº†&lt;%@page contentType="text/json;charset=UTF-8" %&gt;ï¼Œåˆä½¿ç”¨pageEncodingï¼Œä»¥contentType="text/json;charset=UTF-8"ä¸ºå‡†
</code></pre> </li><li> <pre><code class="prism language-jsp">&lt;%@page import="java.util.List, java.util.Date, java.util.ArrayList" %&gt;
&lt;%@page import="java.util.*" %&gt;
importè¯­å¥ï¼Œå¯¼åŒ…ã€‚
</code></pre> </li><li> <pre><code class="prism language-jsp">&lt;%@page errorPage="/error.jsp" %&gt;
å½“å‰é¡µé¢å‡ºç°å¼‚å¸¸ä¹‹åï¼Œè·³è½¬åˆ°error.jspé¡µé¢ã€‚
errorPageå±æ€§ç”¨æ¥æŒ‡å®šå‡ºé”™ä¹‹åçš„è·³è½¬ä½ç½®ã€‚
</code></pre> </li><li> <pre><code class="prism language-jsp">&lt;%@page isErrorPage="true" %&gt;
è¡¨ç¤ºå¯ç”¨JSPä¹å¤§å†…ç½®å¯¹è±¡ä¹‹ä¸€ï¼šexception
é»˜è®¤å€¼æ˜¯falseã€‚
é…ç½®çš„é¡µé¢å¯ä»¥ä½¿ç”¨å¼‚å¸¸å¯¹è±¡exception
</code></pre> </li></ul> </li></ul> 
<h2><a id="_JSP_5558"></a>ğŸ¥½ JSPçš„ä¹å¤§å†…ç½®å¯¹è±¡</h2> 
<ul><li> <p>jakarta.servlet.jsp.PageContext pageContext é¡µé¢ä½œç”¨åŸŸ</p> </li><li> <p>jakarta.servlet.http.HttpServletRequest request è¯·æ±‚ä½œç”¨åŸŸï¼Œä¸€æ¬¡è¯·æ±‚å¯ä»¥è·¨å¤šé¡µé¡µé¢</p> </li><li> <p>jakarta.servlet.http.HttpSession session ä¼šè¯ä½œç”¨åŸŸ</p> </li><li> <p>jakarta.servlet.ServletContext application åº”ç”¨ä½œç”¨åŸŸ</p> 
  <ul><li>pageContext &lt; request &lt; session &lt; application</li><li>ä»¥ä¸Šå››ä¸ªä½œç”¨åŸŸéƒ½æœ‰ï¼šsetAttributeã€getAttributeã€removeAttributeæ–¹æ³•ã€‚</li><li>ä»¥ä¸Šä½œç”¨åŸŸçš„ä½¿ç”¨åŸåˆ™ï¼šå°½å¯èƒ½ä½¿ç”¨å°çš„åŸŸã€‚</li></ul> </li><li> <p>java.lang.Throwable exception</p> </li><li> <p>jakarta.servlet.ServletConfig config</p> </li><li> <p>java.lang.Object page ï¼ˆå…¶å®æ˜¯thisï¼Œå½“å‰çš„servletå¯¹è±¡ï¼‰</p> </li><li> <p>jakarta.servlet.jsp.JspWriter out ï¼ˆè´Ÿè´£è¾“å‡ºï¼‰</p> </li><li> <p>jakarta.servlet.http.HttpServletResponse response ï¼ˆè´Ÿè´£å“åº”ï¼‰</p> </li></ul> 
<h2><a id="_EL_5577"></a>ğŸ¥½ ELè¡¨è¾¾å¼</h2> 
<h3><a id="_EL_5578"></a>ğŸŒŠ ELè¡¨è¾¾å¼æ¦‚è¿°</h3> 
<ul><li> <p>ELè¡¨è¾¾å¼æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼Ÿ</p> 
  <ul><li>Expression Languageï¼ˆè¡¨è¾¾å¼è¯­è¨€ï¼‰</li><li>ELè¡¨è¾¾å¼å¯ä»¥ä»£æ›¿JSPä¸­çš„javaä»£ç ï¼Œè®©JSPæ–‡ä»¶ä¸­çš„ç¨‹åºçœ‹èµ·æ¥æ›´åŠ æ•´æ´ï¼Œç¾è§‚ã€‚</li><li>JSPä¸­å¤¹æ‚ç€å„ç§javaä»£ç ï¼Œä¾‹å¦‚&lt;% javaä»£ç  %&gt;ã€&lt;%=%&gt;ç­‰ï¼Œå¯¼è‡´JSPæ–‡ä»¶å¾ˆæ··ä¹±ï¼Œä¸å¥½çœ‹ï¼Œä¸å¥½ç»´æŠ¤ã€‚æ‰€ä»¥æ‰æœ‰äº†åæœŸçš„ELè¡¨è¾¾å¼ã€‚</li><li>ELè¡¨è¾¾å¼å¯ä»¥ç®—æ˜¯JSPè¯­æ³•çš„ä¸€éƒ¨åˆ†ã€‚ELè¡¨è¾¾å¼å½’å±äºJSPã€‚</li></ul> </li><li> <p>ELè¡¨è¾¾å¼å‡ºç°åœ¨JSPä¸­ä¸»è¦æ˜¯ï¼š</p> 
  <ul><li>ä»æŸä¸ªä½œç”¨åŸŸä¸­å–æ•°æ®ï¼Œç„¶åå°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åå°†å…¶è¾“å‡ºåˆ°æµè§ˆå™¨ã€‚è¿™å°±æ˜¯ELè¡¨è¾¾å¼çš„åŠŸæ•ˆã€‚ä¸‰å¤§åŠŸæ•ˆï¼š 
    <ul><li>ç¬¬ä¸€åŠŸæ•ˆï¼šä»æŸä¸ªåŸŸä¸­å–æ•°æ®ã€‚ 
      <ul><li>å››ä¸ªåŸŸï¼š 
        <ul><li>pageContext</li><li>request</li><li>session</li><li>application</li></ul> </li></ul> </li><li>ç¬¬äºŒåŠŸæ•ˆï¼šå°†å–å‡ºçš„æ•°æ®è½¬æˆå­—ç¬¦ä¸²ã€‚ 
      <ul><li>å¦‚æœæ˜¯ä¸€ä¸ªjavaå¯¹è±¡ï¼Œä¹Ÿä¼šè‡ªåŠ¨è°ƒç”¨javaå¯¹è±¡çš„toStringæ–¹æ³•å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚</li></ul> </li><li>ç¬¬ä¸‰åŠŸæ•ˆï¼šå°†å­—ç¬¦ä¸²è¾“å‡ºåˆ°æµè§ˆå™¨ã€‚ 
      <ul><li>å’Œè¿™ä¸ªä¸€æ ·ï¼š&lt;%= %&gt;ï¼Œå°†å…¶è¾“å‡ºåˆ°æµè§ˆå™¨ã€‚</li></ul> </li></ul> </li></ul> </li><li> <p>ELè¡¨è¾¾å¼ç”¨äºå–æ•°æ®ï¼Œåœ¨é¡µé¢è¿›è¡Œæ•°æ®çš„å±•ç¤º</p> </li></ul> 
<h3><a id="_EL_5600"></a>ğŸŒŠ ELè¡¨è¾¾å¼è¯­æ³•</h3> 
<ul><li> <p>ELè¡¨è¾¾å¼å¾ˆå¥½ç”¨ï¼ŒåŸºæœ¬çš„è¯­æ³•æ ¼å¼ï¼š</p> 
  <ul><li>${è¡¨è¾¾å¼}</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// å‘requestä½œç”¨åŸŸå½“ä¸­å­˜å‚¨usernameä¸ºzhangsan</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"obj"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å°†requeståŸŸå½“ä¸­çš„æ•°æ®å–å‡ºæ¥ï¼Œå¹¶ä¸”è¿˜è¦è¾“å‡ºåˆ°æµè§ˆå™¨ï¼Œä½¿ç”¨javaä»£ç æ€ä¹ˆåŠï¼Ÿ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"obj"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼å‘¢ï¼Ÿ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>username<span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span>obj<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_EL_5628"></a>ğŸŒŠ ELè¡¨è¾¾å¼çš„ä½¿ç”¨</h3> 
<pre><code class="prism language-java">  <span class="token operator">&lt;</span><span class="token operator">%</span>
  	<span class="token comment">// åˆ›å»ºUserå¯¹è±¡</span>
  	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"jackson"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"1234"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  	user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  	<span class="token comment">// å°†Userå¯¹è±¡å­˜å‚¨åˆ°æŸä¸ªåŸŸå½“ä¸­ã€‚ä¸€å®šè¦å­˜ï¼Œå› ä¸ºELè¡¨è¾¾å¼åªèƒ½ä»æŸä¸ªèŒƒå›´ä¸­å–æ•°æ®ã€‚</span>
  	<span class="token comment">// æ•°æ®æ˜¯å¿…é¡»å­˜å‚¨åˆ°å››å¤§èŒƒå›´ä¹‹ä¸€çš„ã€‚</span>
  	request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"userObj"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token operator">%</span><span class="token operator">&gt;</span>
  
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼å–<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
  $<span class="token punctuation">{<!-- --></span>è¿™ä¸ªä½ç½®å†™ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿï¼Ÿè¿™é‡Œå†™çš„ä¸€å®šæ˜¯å­˜å‚¨åˆ°åŸŸå¯¹è±¡å½“ä¸­æ—¶çš„name<span class="token punctuation">}</span>
  è¦è¿™æ ·å†™ï¼š
  $<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">}</span>
  ç­‰åŒäºjavaä»£ç ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"userObj"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span>
  ä½ ä¸è¦è¿™æ ·å†™ï¼š$<span class="token punctuation">{<!-- --></span><span class="token string">"userObj"</span><span class="token punctuation">}</span>
</code></pre> 
<p>é¢è¯•é¢˜ï¼š<br> ${abc} å’Œ ${â€œabcâ€}çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<br> ${abc}è¡¨ç¤ºä»æŸä¸ªåŸŸä¸­å–å‡ºæ•°æ®ï¼Œå¹¶ä¸”è¢«å–çš„è¿™ä¸ªæ•°æ®çš„nameæ˜¯"abc"ï¼Œä¹‹å‰ä¸€å®šæœ‰è¿™æ ·çš„ä»£ç : åŸŸ.setAttribute(â€œabcâ€, å¯¹è±¡);<br> ${â€œabcâ€} è¡¨ç¤ºç›´æ¥å°†"abc"å½“åšæ™®é€šå­—ç¬¦ä¸²è¾“å‡ºåˆ°æµè§ˆå™¨ã€‚ä¸ä¼šä»æŸä¸ªåŸŸä¸­å–æ•°æ®äº†ã€‚</p> 
<p>${userObj} åº•å±‚æ˜¯æ€ä¹ˆåšçš„ï¼Ÿä»åŸŸä¸­å–æ•°æ®ï¼Œå–å‡ºuserå¯¹è±¡ï¼Œç„¶åè°ƒç”¨userå¯¹è±¡çš„toStringæ–¹æ³•ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œè¾“å‡ºåˆ°æµè§ˆå™¨ã€‚</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å¦‚æœæƒ³è¾“å‡ºå¯¹è±¡çš„å±æ€§å€¼ï¼Œæ€ä¹ˆåŠï¼Ÿ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">.</span>username<span class="token punctuation">}</span> ä½¿ç”¨è¿™ä¸ªè¯­æ³•çš„å‰ææ˜¯ï¼š<span class="token class-name">User</span>å¯¹è±¡æœ‰<span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ã€‚
$<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">.</span>password<span class="token punctuation">}</span> ä½¿ç”¨è¿™ä¸ªè¯­æ³•çš„å‰ææ˜¯ï¼š<span class="token class-name">User</span>å¯¹è±¡æœ‰<span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ã€‚
$<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">.</span>age<span class="token punctuation">}</span> ä½¿ç”¨è¿™ä¸ªè¯­æ³•çš„å‰ææ˜¯ï¼š<span class="token class-name">User</span>å¯¹è±¡æœ‰<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ã€‚
$<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">.</span>email<span class="token punctuation">}</span> ä½¿ç”¨è¿™ä¸ªè¯­æ³•çš„å‰ææ˜¯ï¼š<span class="token class-name">User</span>å¯¹è±¡æœ‰<span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ã€‚
æ²¡æœ‰å¯¹åº”çš„å±æ€§ï¼Œæœ‰å¯¹åº”çš„getæ–¹æ³•ä¸ä¼šæŠ¥é”™
<span class="token constant">EL</span>è¡¨è¾¾å¼ä¸­çš„<span class="token punctuation">.</span> è¿™ä¸ªè¯­æ³•ï¼Œå®é™…ä¸Šè°ƒç”¨äº†åº•å±‚çš„<span class="token function">getXxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•ã€‚
æ³¨æ„ï¼šå¦‚æœæ²¡æœ‰å¯¹åº”çš„getæ–¹æ³•ï¼Œåˆ™å‡ºç°å¼‚å¸¸ã€‚æŠ¥<span class="token number">500</span>é”™è¯¯ã€‚

$<span class="token punctuation">{<!-- --></span>userObj<span class="token punctuation">.</span>addr222<span class="token punctuation">.</span>zipcode<span class="token punctuation">}</span>
ä»¥ä¸Š<span class="token constant">EL</span>è¡¨è¾¾å¼å¯¹åº”çš„javaä»£ç ï¼š
user<span class="token punctuation">.</span><span class="token function">getAddr222</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getZipcode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>åœ¨æ²¡æœ‰æŒ‡å®šèŒƒå›´çš„æƒ…å†µä¸‹ï¼ŒELè¡¨è¾¾å¼ä¼˜å…ˆä»å°èŒƒå›´ä¸­è¯»å–æ•°æ®ã€‚</p> 
  <ul><li>pageContext &lt; request &lt; session &lt; application</li></ul> </li><li> <p><mark>ELè¡¨è¾¾å¼ä¸­</mark>æœ‰å››ä¸ªéšå«çš„éšå¼çš„èŒƒå›´ï¼š</p> 
  <ul><li>pageScope å¯¹åº”çš„æ˜¯ pageContextèŒƒå›´ã€‚</li><li>requestScope å¯¹åº”çš„æ˜¯ requestèŒƒå›´ã€‚</li><li>sessionScope å¯¹åº”çš„æ˜¯ sessionèŒƒå›´ã€‚</li><li>applicationScope å¯¹åº”çš„æ˜¯ applicationèŒƒå›´ã€‚</li><li>ä»æŒ‡å®šçš„èŒƒå›´å–å‡ºæ•°æ®ï¼Œ<code>èŒƒå›´.æ•°æ®å</code>ï¼Œå¦‚<code>${pageScope.data}</code></li></ul> </li><li> <p>ELè¡¨è¾¾å¼å¯¹nullè¿›è¡Œäº†é¢„å¤„ç†ã€‚å¦‚æœæ˜¯nullï¼Œåˆ™å‘æµè§ˆå™¨è¾“å‡ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p> 
  <ul><li>${usernam} è¿™ä¸ªELè¡¨è¾¾å¼ç­‰åŒäºè¿™ä¸€æ®µjavaä»£ç ï¼š<code>&lt;%=request.getAttribute("usernam") == null ? "" : request.getAttribute("usernam")%&gt;</code></li></ul> </li><li> <p>ELè¡¨è¾¾å¼å–æ•°æ®çš„æ—¶å€™æœ‰ä¸¤ç§å½¢å¼ï¼š</p> 
  <ul><li>ç¬¬ä¸€ç§ï¼š. ï¼ˆå¤§éƒ¨åˆ†ä½¿ç”¨è¿™ç§æ–¹å¼ï¼‰</li><li>ç¬¬äºŒç§ï¼š[ ] ï¼ˆå¦‚æœå­˜å‚¨åˆ°åŸŸçš„æ—¶å€™ï¼Œè¿™ä¸ªnameä¸­å«æœ‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ [ ]ï¼‰ 
    <ul><li>request.setAttribute(â€œabc.defâ€, â€œzhangsanâ€);</li><li>${requestScope.abc.def} è¿™æ ·æ˜¯æ— æ³•å–å€¼çš„ã€‚</li><li>åº”è¯¥è¿™æ ·ï¼š${requestScope[â€œabc.defâ€]}</li></ul> </li></ul> </li><li> <p>æŒæ¡ä½¿ç”¨ELè¡¨è¾¾å¼ï¼Œæ€ä¹ˆä»Mapé›†åˆä¸­å–æ•°æ®ï¼š</p> 
  <ul><li>${map.key}</li></ul> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page <span class="token keyword">import</span><span class="token operator">=</span><span class="token string">"java.util.HashMap"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>@ page <span class="token keyword">import</span><span class="token operator">=</span><span class="token string">"java.util.Map"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>@ page <span class="token keyword">import</span><span class="token operator">=</span><span class="token string">"com.bjpowernode.javaweb.jsp.bean.User"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> contentType<span class="token operator">=</span><span class="token string">"text/html; charset=UTF-8"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// ä¸€ä¸ªMapé›†åˆ</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> <span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span> <span class="token string">"123"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†Mapé›†åˆå­˜å‚¨åˆ°requeståŸŸå½“ä¸­ã€‚</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"userMap"</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userMap2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"lisi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userMap2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"fdsafdsa"</span><span class="token punctuation">,</span> userMap2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼å°†<span class="token class-name">Map</span>é›†åˆä¸­çš„userå¯¹è±¡ä¸­çš„usernameå–å‡º<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>fdsafdsa<span class="token punctuation">.</span>user<span class="token punctuation">.</span>username<span class="token punctuation">}</span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼ï¼Œå°†mapä¸­çš„æ•°æ®å–å‡ºï¼Œå¹¶è¾“å‡ºåˆ°æµè§ˆå™¨<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>userMap<span class="token punctuation">.</span>username<span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span>userMap<span class="token punctuation">.</span>password<span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span>userMap<span class="token punctuation">[</span><span class="token string">"username"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span>userMap<span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> </li><li> <p>æŒæ¡ä½¿ç”¨ELè¡¨è¾¾å¼ï¼Œæ€ä¹ˆä»æ•°ç»„å’ŒListé›†åˆä¸­å–æ•°æ®ï¼š</p> 
  <ul><li>${æ•°ç»„[0]}</li><li>${æ•°ç»„[1]}</li><li>${list[0]}</li></ul> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// æ•°ç»„å¯¹è±¡</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> usernames <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token string">"wangwu"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// å‘åŸŸä¸­å­˜å‚¨æ•°ç»„</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"nameArray"</span><span class="token punctuation">,</span> usernames<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    u1<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> u2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    u2<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"lisi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span><span class="token punctuation">[</span><span class="token punctuation">]</span> users <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>u1<span class="token punctuation">,</span> u2<span class="token punctuation">}</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"userArray"</span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"def"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"myList"</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"set"</span><span class="token punctuation">,</span> set<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å–å‡ºseté›†åˆ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
seté›†åˆï¼š$<span class="token punctuation">{<!-- --></span>set<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ— æ³•è·å–ï¼š<span class="token class-name">PropertyNotFoundException</span><span class="token operator">:</span> ç±»å‹<span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>HashSet</span><span class="token punctuation">]</span>ä¸Šæ‰¾ä¸åˆ°å±æ€§<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> setæ— åºï¼Œæ²¡æœ‰ç´¢å¼• <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>$<span class="token punctuation">{<!-- --></span>set<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å–å‡º<span class="token class-name">List</span>é›†åˆ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>listé›†åˆä¹Ÿæ˜¯é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼å–æ•°æ®çš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>myList<span class="token punctuation">}</span>
$<span class="token punctuation">{<!-- --></span>myList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
$<span class="token punctuation">{<!-- --></span>myList<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å–å‡ºæ•°ç»„ä¸­ç¬¬äºŒä¸ªç”¨æˆ·çš„ç”¨æˆ·å<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>userArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">}</span>
<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼å–å‡ºæ•°ç»„ä¸­çš„å…ƒç´ <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>nameArray<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å°†æ•°ç»„å¯¹è±¡ç›´æ¥è¾“å‡º<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>nameArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å–å‡ºæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>nameArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
$<span class="token punctuation">{<!-- --></span>nameArray<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å–ä¸å‡ºæ•°æ®ï¼Œåœ¨æµè§ˆå™¨ä¸Šç›´æ¥æ˜¾ç¤ºçš„å°±æ˜¯ç©ºç™½ã€‚ä¸ä¼šå‡ºç°æ•°ç»„ä¸‹è¡¨è¶Šç•Œã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>nameArray<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> </li><li> <p>pageæŒ‡ä»¤å½“ä¸­ï¼Œæœ‰ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥å¿½ç•¥ELè¡¨è¾¾å¼</p> 
  <ul><li> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> isELIgnored<span class="token operator">=</span><span class="token string">"true"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
isELIgnored<span class="token operator">=</span><span class="token string">"true"</span> è¡¨ç¤ºå¿½ç•¥<span class="token constant">EL</span>è¡¨è¾¾å¼ï¼Œæ•´ä¸ª<span class="token constant">EL</span>è¡¨è¾¾å¼ä¼šè¢«å½“æˆä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºåœ¨æµè§ˆå™¨
isELIgnored<span class="token operator">=</span><span class="token string">"false"</span> è¡¨ç¤ºä¸å¿½ç•¥<span class="token constant">EL</span>è¡¨è¾¾å¼ã€‚ï¼ˆè¿™æ˜¯é»˜è®¤å€¼ï¼‰

isELIgnored<span class="token operator">=</span><span class="token string">"true"</span> è¿™ä¸ªæ˜¯å…¨å±€çš„æ§åˆ¶ã€‚æ•´ä¸ª<span class="token constant">JSP</span>é¡µé¢çš„<span class="token constant">EL</span>è¡¨è¾¾å¼

å¯ä»¥ä½¿ç”¨åæ–œæ è¿›è¡Œå±€éƒ¨æ§åˆ¶ï¼š\$<span class="token punctuation">{<!-- --></span>username<span class="token punctuation">}</span> è¿™æ ·ä¹Ÿå¯ä»¥å¿½ç•¥<span class="token constant">EL</span>è¡¨è¾¾å¼ã€‚
</code></pre> </li></ul> </li><li> <p>é€šè¿‡ELè¡¨è¾¾å¼è·å–åº”ç”¨çš„æ ¹ï¼š</p> 
  <ul><li>${pageContext.request.contextPath}</li><li>pageContext.getRequest å¯ä»¥è·å–requestå¯¹è±¡</li><li>åœ¨ELè¡¨è¾¾å¼å½“ä¸­æ²¡æœ‰requestè¿™ä¸ªéšå¼å¯¹è±¡ã€‚requestScope è¿™ä¸ªåªä»£è¡¨â€œè¯·æ±‚èŒƒå›´â€ã€‚ä¸ç­‰åŒäºrequestå¯¹è±¡ã€‚åœ¨ELè¡¨è¾¾å¼å½“ä¸­æœ‰ä¸€ä¸ªéšå¼çš„å¯¹è±¡ï¼špageContextã€‚ELè¡¨è¾¾å¼ä¸­çš„pageContextå’ŒJSPä¸­çš„ä¹å¤§å†…ç½®å¯¹è±¡pageContextæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚</li></ul> </li><li> <p>ELè¡¨è¾¾å¼ä¸­å…¶ä»–çš„éšå¼å¯¹è±¡ï¼š</p> 
  <ul><li>pageContext</li><li>paramï¼Œç”¨äºè·å–åªæœ‰ä¸€ä¸ªå€¼çš„è¯·æ±‚å‚æ•°</li><li>paramValuesï¼Œç”¨äºè·å–æœ‰å¤šä¸ªå€¼çš„è¯·æ±‚å‚æ•°</li><li>initParamï¼Œç”¨äºè·å–Servletä¸Šä¸‹æ–‡è¯·æ±‚å‚æ•°ï¼ŒServletContextä¸­</li><li>å…¶ä»–â€¦</li></ul> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token constant">JSP</span>ä¸­<span class="token constant">EL</span>è¡¨è¾¾å¼çš„éšå«å¯¹è±¡ï¼š
    <span class="token number">1.</span> pageContext
    <span class="token number">2.</span> param
    <span class="token number">3.</span> paramValues
    <span class="token number">4.</span> initParam
    <span class="token number">5.</span> å…¶ä»–ï¼ˆä¸æ˜¯é‡ç‚¹ï¼‰
<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
åº”ç”¨çš„æ ¹è·¯å¾„ï¼š$<span class="token punctuation">{<!-- --></span>pageContext<span class="token punctuation">.</span>request<span class="token punctuation">.</span>contextPath<span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>requestæ˜¯<span class="token constant">JSP</span>ä¹å¤§å†…ç½®å¯¹è±¡ä¹‹ä¸€ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span> è·å–è¯·æ±‚çš„å‚æ•°ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šæäº¤æ•°æ®ï¼šhttp<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>jsp<span class="token operator">/</span><span class="token number">15.</span>jsp<span class="token operator">?</span>username<span class="token operator">=</span>lisi <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
ç”¨æˆ·åï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
ç”¨æˆ·åï¼š$<span class="token punctuation">{<!-- --></span>param<span class="token punctuation">.</span>username<span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å‡è®¾ç”¨æˆ·æäº¤çš„æ•°æ®ï¼šhttp<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>jsp<span class="token operator">/</span><span class="token number">15.</span>jsp<span class="token operator">?</span>aihao<span class="token operator">=</span>smoke<span class="token operator">&amp;</span>aihao<span class="token operator">=</span>drink<span class="token operator">&amp;</span>aihao<span class="token operator">=</span>tangtou<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä»¥ä¸Šæäº¤çš„æ•°æ®æ˜¾ç„¶æ˜¯é‡‡ç”¨checkboxè¿›è¡Œæäº¤çš„ã€‚åŒä¸€ç»„çš„checkboxçš„nameæ˜¯ä¸€æ ·çš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>param è·å–çš„æ˜¯è¯·æ±‚å‚æ•°ä¸€ç»´æ•°ç»„å½“ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
çˆ±å¥½ï¼š$<span class="token punctuation">{<!-- --></span>param<span class="token punctuation">.</span>aihao<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
çˆ±å¥½ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"aihao"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

ä¸€ç»´æ•°ç»„ï¼š$<span class="token punctuation">{<!-- --></span>paramValues<span class="token punctuation">.</span>aihao<span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
ä¸€ç»´æ•°ç»„ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>request<span class="token punctuation">.</span><span class="token function">getParameterValues</span><span class="token punctuation">(</span><span class="token string">"aihao"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>è·å–æ•°ç»„å½“ä¸­çš„å…ƒç´ ï¼š<span class="token punctuation">[</span>ä¸‹æ ‡<span class="token punctuation">]</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
çˆ±å¥½ï¼š$<span class="token punctuation">{<!-- --></span>paramValues<span class="token punctuation">.</span>aihao<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span>ã€$<span class="token punctuation">{<!-- --></span>paramValues<span class="token punctuation">.</span>aihao<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span>ã€$<span class="token punctuation">{<!-- --></span>paramValues<span class="token punctuation">.</span>aihao<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token constant">EL</span>è¡¨è¾¾å¼ä¸­çš„éšå«å¯¹è±¡ï¼šinitParam<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token class-name">ServletContext</span>æ˜¯<span class="token class-name">Servlet</span>ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œå¯¹åº”çš„<span class="token constant">JSP</span>ä¹å¤§å†…ç½®å¯¹è±¡ä¹‹ä¸€æ˜¯ï¼šapplication <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">String</span> a <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"pageSize"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> b <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"pageNum"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ¡æ•°ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>a<span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
é¡µç ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>b<span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ¡æ•°ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>application<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"pageSize"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
é¡µç ï¼š<span class="token operator">&lt;</span><span class="token operator">%=</span>application<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"pageNum"</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>


æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ¡æ•°ï¼š$<span class="token punctuation">{<!-- --></span>initParam<span class="token punctuation">.</span>pageSize<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
é¡µç ï¼š$<span class="token punctuation">{<!-- --></span>initParam<span class="token punctuation">.</span>pageNum<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
</code></pre> <pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--Servletä¸Šä¸‹æ–‡åˆå§‹åŒ–å‚æ•°--&gt;</span>
    <span class="token comment">&lt;!--ä¸Šä¸‹æ–‡åˆå§‹åŒ–å‚æ•°è¢«å°è£…åˆ°ï¼šServletContextå¯¹è±¡å½“ä¸­äº†ã€‚--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>pageSize<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>pageNum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p>ELè¡¨è¾¾å¼çš„è¿ç®—ç¬¦</p> 
  <ul><li>ç®—æœ¯è¿ç®—ç¬¦ 
    <ul><li>+ã€-ã€*ã€/ã€%</li></ul> </li><li>å…³ç³»è¿ç®—ç¬¦ 
    <ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> == eq != &gt; &gt;= &lt; &lt;=</li></ul> </li><li>é€»è¾‘è¿ç®—ç¬¦ 
    <ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> ! &amp;&amp; || not and or</li></ul> </li><li>æ¡ä»¶è¿ç®—ç¬¦ 
    <ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> ? :</li></ul> </li><li>å–å€¼è¿ç®—ç¬¦ 
    <ul><li>[ ]å’Œ.</li></ul> </li><li>emptyè¿ç®—ç¬¦ 
    <ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> emptyè¿ç®—ç¬¦çš„ç»“æœæ˜¯booleanç±»å‹</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> ${empty param.username}</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> ${not empty param.username}</li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> ${!empty param.password}</li></ul> </li></ul> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page <span class="token keyword">import</span><span class="token operator">=</span><span class="token string">"com.bjpowernode.javaweb.jsp.bean.Student"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@page</span> contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>
    å…³äº<span class="token constant">EL</span>è¡¨è¾¾å¼ä¸­çš„è¿ç®—ç¬¦
        <span class="token number">1.</span> ç®—æœ¯è¿ç®—ç¬¦
            <span class="token operator">+</span> <span class="token operator">-</span> <span class="token operator">*</span> <span class="token operator">/</span> <span class="token operator">%</span>
        <span class="token number">2.</span> å…³ç³»è¿ç®—ç¬¦
            <span class="token operator">==</span> <span class="token operator">!=</span> <span class="token operator">&gt;</span> <span class="token operator">&gt;=</span> <span class="token operator">&lt;</span> <span class="token operator">&lt;=</span> eq
        <span class="token number">3.</span> é€»è¾‘è¿ç®—ç¬¦
            <span class="token operator">!</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">||</span> not and or ï¼ˆæ³¨æ„ï¼š<span class="token operator">!</span>å’Œnotéƒ½æ˜¯å–åï¼‰
        <span class="token number">4.</span> æ¡ä»¶è¿ç®—ç¬¦
            <span class="token operator">?</span> <span class="token operator">:</span>
        <span class="token number">5.</span> å–å€¼è¿ç®—ç¬¦ï¼š
            <span class="token punctuation">[</span><span class="token punctuation">]</span> å’Œ <span class="token punctuation">.</span>
        <span class="token number">6.</span> empty è¿ç®—ç¬¦
<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> åœ¨<span class="token constant">EL</span>è¡¨è¾¾å¼å½“ä¸­â€œ<span class="token operator">+</span>â€è¿ç®—ç¬¦åªèƒ½åšæ±‚å’Œè¿ç®—ã€‚ä¸ä¼šè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œã€‚ <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token string">"20"</span>ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆæ•°å­—<span class="token number">20</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span><span class="token number">10</span> <span class="token operator">+</span> <span class="token string">"20"</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>NumberFormatException</span><span class="token operator">:</span> <span class="token class-name">For</span> input string<span class="token operator">:</span> <span class="token string">"abc"</span> <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> <span class="token operator">+</span> ä¸¤è¾¹ä¸æ˜¯æ•°å­—çš„æ—¶å€™ï¼Œä¸€å®šä¼šè½¬æˆæ•°å­—ã€‚è½¬ä¸æˆæ•°å­—å°±æŠ¥é”™ï¼š<span class="token class-name">NumberFormatException</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
\$<span class="token punctuation">{<!-- --></span><span class="token number">10</span> <span class="token operator">+</span> <span class="token string">"abc"</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

\$<span class="token punctuation">{<!-- --></span><span class="token string">"king"</span> <span class="token operator">+</span> <span class="token string">"soft"</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> å…³ç³»è¿ç®—ç¬¦ <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span><span class="token string">"abc"</span> <span class="token operator">==</span> <span class="token string">"abc"</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span><span class="token string">"abc"</span><span class="token punctuation">}</span> <span class="token operator">==</span> $<span class="token punctuation">{<!-- --></span><span class="token string">"abc"</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"k1"</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"k2"</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>k1 <span class="token operator">==</span> k2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token boolean">true</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
å­—ç¬¦ä¸²<span class="token class-name">String</span>é‡å†™äº†equalsæ–¹æ³•
$<span class="token punctuation">{<!-- --></span>a <span class="token operator">==</span> b<span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token boolean">true</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">Object</span> o1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> o2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"o1"</span><span class="token punctuation">,</span> o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"o2"</span><span class="token punctuation">,</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>o1 <span class="token operator">==</span> o2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token boolean">false</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token class-name">Student</span> stu1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"110"</span><span class="token punctuation">,</span> <span class="token string">"è­¦å¯Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> stu2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"110"</span><span class="token punctuation">,</span> <span class="token string">"è­¦å¯Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"stu1"</span><span class="token punctuation">,</span> stu1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"stu2"</span><span class="token punctuation">,</span> stu2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token constant">EL</span>è¡¨è¾¾å¼å½“ä¸­çš„ <span class="token string">"=="</span> è°ƒç”¨äº†equalsæ–¹æ³•ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
\$<span class="token punctuation">{<!-- --></span>stu1 <span class="token operator">==</span> stu2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span> <span class="token boolean">true</span>
\$<span class="token punctuation">{<!-- --></span>stu1 eq stu2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span> <span class="token operator">!=</span> ä¹Ÿä¼šè°ƒç”¨å¯¹è±¡çš„equalsæ–¹æ³•ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>stu1 <span class="token operator">!=</span> stu2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span> <span class="token boolean">false</span>
$<span class="token punctuation">{<!-- --></span><span class="token number">200</span> <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä»¥ä¸‹è¯­æ³•é”™è¯¯ï¼Œæ²¡æœ‰åŠ å°æ‹¬å·<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
\$<span class="token punctuation">{<!-- --></span><span class="token operator">!</span>stu1 eq stu2<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ­£ç¡®çš„<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span><span class="token operator">!</span><span class="token punctuation">(</span>stu1 eq stu2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span><span class="token function">not</span><span class="token punctuation">(</span>stu1 eq stu2<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ¡ä»¶è¿ç®—ç¬¦<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>empty param<span class="token punctuation">.</span>username <span class="token operator">?</span> <span class="token string">"å¯¹ä¸èµ·ï¼Œç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼"</span> <span class="token operator">:</span> <span class="token string">"æ¬¢è¿è®¿é—®ï¼ï¼ï¼ï¼"</span> <span class="token punctuation">}</span>


<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>emptyè¿ç®—ç¬¦ï¼šè¿ç®—ç»“æœæ˜¯<span class="token keyword">boolean</span>ç±»å‹ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œç»“æœæ˜¯<span class="token boolean">true</span>ã€‚å¦‚æœä¸ä¸ºç©ºï¼Œç»“æœæ˜¯<span class="token boolean">false</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>empty param<span class="token punctuation">.</span>username<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span><span class="token operator">!</span>empty param<span class="token punctuation">.</span>username<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span>not empty param<span class="token punctuation">.</span>username<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ç»“æœ<span class="token boolean">false</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å‰åŠéƒ¨åˆ†æ˜¯<span class="token keyword">boolean</span>ç±»å‹ã€‚åé¢æ˜¯<span class="token keyword">null</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
$<span class="token punctuation">{<!-- --></span>empty param<span class="token punctuation">.</span>password <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
$<span class="token punctuation">{<!-- --></span><span class="token punctuation">(</span>empty param<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>

$<span class="token punctuation">{<!-- --></span>param<span class="token punctuation">.</span>password <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> 
<h2><a id="_JSTL_6012"></a>ğŸ¥½ JSTLæ ‡ç­¾åº“</h2> 
<h3><a id="_JSTL_6013"></a>ğŸŒŠ JSTLæ ‡ç­¾åº“æ¦‚è¿°</h3> 
<ul><li> <p>ä»€ä¹ˆæ˜¯JSTLæ ‡ç­¾åº“ï¼Ÿ</p> 
  <ul><li>Java Standard Tag Libï¼ˆJavaæ ‡å‡†çš„æ ‡ç­¾åº“ï¼‰</li><li>JSTLæ ‡ç­¾åº“é€šå¸¸ç»“åˆELè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ã€‚ç›®çš„æ˜¯è®©JSPä¸­çš„javaä»£ç æ¶ˆå¤±ã€‚</li><li>æ ‡ç­¾æ˜¯å†™åœ¨JSPå½“ä¸­çš„ï¼Œä½†å®é™…ä¸Šæœ€ç»ˆè¿˜æ˜¯è¦æ‰§è¡Œå¯¹åº”çš„javaç¨‹åºã€‚ï¼ˆjavaç¨‹åºåœ¨jaråŒ…å½“ä¸­ã€‚ï¼‰</li></ul> </li></ul> 
<h3><a id="_JSTL_6020"></a>ğŸŒŠ ä½¿ç”¨JSTLæ ‡ç­¾åº“çš„æ­¥éª¤</h3> 
<blockquote> 
 <p>tomcat10 JSTLä¸‹è½½åœ°å€ï¼š <a href="http://archive.apache.org/dist/jakarta/taglibs/standard/binaries/" rel="nofollow">http://archive.apache.org/dist/jakarta/taglibs/standard/binaries/</a><br> <a href="https://blog.csdn.net/qq_44826240/article/details/127708885?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167552251916800182784429%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=167552251916800182784429&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-3-127708885-null-null.142%5Ev73%5Econtrol_1,201%5Ev4%5Eadd_ask,239%5Ev1%5Econtrol&amp;utm_term=jstl%E4%B8%8B%E8%BD%BD&amp;spm=1018.2226.3001.4187">Tomcat8 jstlä¸‹è½½jstl-1.2.jar standard-1.1.2.jar</a></p> 
</blockquote> 
<ul><li> <p>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥JSTLæ ‡ç­¾åº“å¯¹åº”çš„jaråŒ…ã€‚</p> 
  <ul><li>tomcat10ä¹‹åå¼•å…¥çš„jaråŒ…æ˜¯ï¼š 
    <ul><li>jakarta.servlet.jsp.jstl-2.0.0.jar</li><li>jakarta.servlet.jsp.jstl-api-2.0.0.jar</li></ul> </li><li>åœ¨IDEAå½“ä¸­æ€ä¹ˆå¼•å…¥ï¼Ÿ 
    <ul><li>åœ¨WEB-INFä¸‹æ–°å»ºlibç›®å½•ï¼Œç„¶åå°†jaråŒ…æ‹·è´åˆ°libå½“ä¸­ã€‚ç„¶åå°†å…¶â€œAdd Libâ€¦â€</li><li>ä¸€å®šæ˜¯è¦å’Œmysqlçš„æ•°æ®åº“é©±åŠ¨ä¸€æ ·ï¼Œéƒ½æ˜¯æ”¾åœ¨WEB-INF/libç›®å½•ä¸‹çš„ã€‚</li><li>ä»€ä¹ˆæ—¶å€™éœ€è¦å°†jaråŒ…æ”¾åˆ°WEB-INF/libç›®å½•ä¸‹ï¼Ÿå¦‚æœè¿™ä¸ªjaræ˜¯tomcatæœåŠ¡å™¨æ²¡æœ‰çš„ã€‚</li></ul> </li></ul> </li><li> <p>ç¬¬äºŒæ­¥ï¼šåœ¨JSPä¸­å¼•å…¥è¦ä½¿ç”¨æ ‡ç­¾åº“ã€‚ï¼ˆä½¿ç”¨taglibæŒ‡ä»¤å¼•å…¥æ ‡ç­¾åº“ã€‚ï¼‰</p> 
  <ul><li> <p>JSTLæä¾›äº†å¾ˆå¤šç§æ ‡ç­¾ï¼Œä½ è¦å¼•å…¥å“ªä¸ªæ ‡ç­¾ï¼Ÿï¼Ÿï¼Ÿï¼Ÿé‡ç‚¹æŒæ¡æ ¸å¿ƒæ ‡ç­¾åº“ã€‚</p> </li><li> <pre><code class="prism language-java">  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@taglib</span> prefix<span class="token operator">=</span><span class="token string">"c"</span> uri<span class="token operator">=</span><span class="token string">"http://java.sun.com/jsp/jstl/core"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
  è¿™ä¸ªå°±æ˜¯æ ¸å¿ƒæ ‡ç­¾åº“ã€‚
  prefix<span class="token operator">=</span><span class="token string">"è¿™é‡Œéšä¾¿èµ·ä¸€ä¸ªåå­—å°±è¡Œäº†ï¼Œæ ¸å¿ƒæ ‡ç­¾åº“ï¼Œå¤§å®¶é»˜è®¤çš„å«åšcï¼Œä½ éšæ„ã€‚ä½¿ç”¨æ—¶æ ‡ç­¾åº“çš„åå­—"</span>
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ ¼å¼åŒ–æ ‡ç­¾åº“ï¼Œä¸“é—¨è´Ÿè´£æ ¼å¼åŒ–æ“ä½œçš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@taglib</span> prefix<span class="token operator">=</span><span class="token string">"fmt"</span> uri<span class="token operator">=</span><span class="token string">"http://java.sun.com/jsp/jstl/fmt"</span><span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
  
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>sqlæ ‡ç­¾åº“<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@taglib</span> prefix<span class="token operator">=</span><span class="token string">"sql"</span> uri<span class="token operator">=</span><span class="token string">"http://java.sun.com/jsp/jstl/sql"</span> <span class="token operator">%</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
</code></pre> </li></ul> </li><li> <p>ç¬¬ä¸‰æ­¥ï¼šåœ¨éœ€è¦ä½¿ç”¨æ ‡ç­¾çš„ä½ç½®ä½¿ç”¨å³å¯ã€‚è¡¨é¢ä½¿ç”¨çš„æ˜¯æ ‡ç­¾ï¼Œåº•å±‚å®é™…ä¸Šè¿˜æ˜¯javaç¨‹åºã€‚</p> </li></ul> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// åˆ›å»ºListé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> stuList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ›å»ºStudentå¯¹è±¡</span>
    <span class="token class-name">Student</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"110"</span><span class="token punctuation">,</span> <span class="token string">"ç»å¸¸"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"120"</span><span class="token punctuation">,</span> <span class="token string">"æ•‘æŠ¤è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"119"</span><span class="token punctuation">,</span> <span class="token string">"æ¶ˆé˜²è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ·»åŠ åˆ°Listé›†åˆä¸­</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†listé›†åˆå­˜å‚¨åˆ°requeståŸŸå½“ä¸­</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"stuList"</span><span class="token punctuation">,</span> stuList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>éœ€æ±‚ï¼šå°†<span class="token class-name">List</span>é›†åˆä¸­çš„å…ƒç´ éå†ã€‚è¾“å‡ºå­¦ç”Ÿä¿¡æ¯åˆ°æµè§ˆå™¨<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨javaä»£ç <span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// ä»åŸŸä¸­è·å–Listé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> stus <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>request<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"stuList"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç¼–å†™forå¾ªç¯éå†listé›†åˆ</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Student</span> stu <span class="token operator">:</span> stus<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token operator">%</span><span class="token operator">&gt;</span>
    id<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">%=</span>stu<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token operator">&lt;</span><span class="token operator">%=</span>stu<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token operator">&gt;</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token punctuation">}</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>

<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>ä½¿ç”¨coreæ ‡ç­¾åº“ä¸­forEachæ ‡ç­¾ã€‚å¯¹<span class="token class-name">List</span>é›†åˆè¿›è¡Œéå†<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token constant">EL</span>è¡¨è¾¾å¼åªèƒ½ä»åŸŸä¸­å–æ•°æ®ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>itemséœ€è¦è¿›è¡Œè¿­ä»£çš„é›†åˆï¼Œ<span class="token keyword">var</span>åé¢çš„åå­—æ˜¯éšæ„çš„ã€‚<span class="token keyword">var</span>å±æ€§ä»£è¡¨çš„æ˜¯é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">"${stuList}"</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">"s"</span><span class="token operator">&gt;</span>
    id<span class="token operator">:</span>$<span class="token punctuation">{<!-- --></span>s<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">,</span>name<span class="token operator">:</span>$<span class="token punctuation">{<!-- --></span>s<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_JSTL_6093"></a>ğŸŒŠ JSTLæ ‡ç­¾çš„åŸç†</h3> 
<ul><li> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token annotation punctuation">@taglib</span> prefix<span class="token operator">=</span><span class="token string">"c"</span> uri<span class="token operator">=</span><span class="token string">"http://java.sun.com/jsp/jstl/core"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
ä»¥ä¸Šuriåé¢çš„è·¯å¾„å®é™…ä¸ŠæŒ‡å‘äº†ä¸€ä¸ªxxx<span class="token punctuation">.</span>tldæ–‡ä»¶ã€‚
tldæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªxmlé…ç½®æ–‡ä»¶ã€‚
åœ¨tldæ–‡ä»¶ä¸­æè¿°äº†â€œæ ‡ç­¾â€å’Œâ€œjavaç±»â€ä¹‹é—´çš„å…³ç³»ã€‚
ä»¥ä¸Šæ ¸å¿ƒæ ‡ç­¾åº“å¯¹åº”çš„tldæ–‡ä»¶æ˜¯ï¼šc<span class="token punctuation">.</span>tldæ–‡ä»¶ã€‚å®ƒåœ¨å“ªé‡Œã€‚
åœ¨jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>jsp<span class="token punctuation">.</span>jstl<span class="token operator">-</span><span class="token number">2.0</span><span class="token number">.0</span><span class="token punctuation">.</span>jaré‡Œé¢<span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span>ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªc<span class="token punctuation">.</span>tldæ–‡ä»¶ã€‚
</code></pre> </li><li> <p>æºç è§£æï¼šé…ç½®æ–‡ä»¶tldè§£æ</p> 
  <ul><li> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>å¯¹è¯¥æ ‡ç­¾çš„æè¿°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>catch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> æ ‡ç­¾çš„åå­—
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tag-class</span><span class="token punctuation">&gt;</span></span>org.apache.taglibs.standard.tag.common.core.CatchTag<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag-class</span><span class="token punctuation">&gt;</span></span> æ ‡ç­¾å¯¹åº”çš„javaç±»ã€‚
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body-content</span><span class="token punctuation">&gt;</span></span>JSP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body-content</span><span class="token punctuation">&gt;</span></span> æ ‡ç­¾ä½“å½“ä¸­å¯ä»¥å‡ºç°çš„å†…å®¹ï¼Œå¦‚æœæ˜¯JSPï¼Œå°±è¡¨ç¤ºæ ‡ç­¾ä½“ä¸­å¯ä»¥å‡ºç°ç¬¦åˆJSPæ‰€æœ‰è¯­æ³•çš„ä»£ç ã€‚ä¾‹å¦‚ELè¡¨è¾¾å¼ã€‚
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>attribute</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>
        	å¯¹è¿™ä¸ªå±æ€§çš„æè¿°
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>var<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span> å±æ€§å
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>required</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>required</span><span class="token punctuation">&gt;</span></span> falseè¡¨ç¤ºè¯¥å±æ€§ä¸æ˜¯å¿…é¡»çš„ã€‚trueè¡¨ç¤ºè¯¥å±æ€§æ˜¯å¿…é¡»çš„ã€‚
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rtexprvalue</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rtexprvalue</span><span class="token punctuation">&gt;</span></span> è¿™ä¸ªæè¿°è¯´æ˜äº†è¯¥å±æ€§æ˜¯å¦æ”¯æŒELè¡¨è¾¾å¼ã€‚falseè¡¨ç¤ºä¸æ”¯æŒã€‚trueè¡¨ç¤ºæ”¯æŒELè¡¨è¾¾å¼ã€‚
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>attribute</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tag</span><span class="token punctuation">&gt;</span></span>

ç¤ºä¾‹ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>catch</span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	JSP....
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>catch</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> </li></ul> 
<h3><a id="_jstlcore_6127"></a>ğŸŒŠ jstlä¸­çš„æ ¸å¿ƒæ ‡ç­¾åº“coreå½“ä¸­å¸¸ç”¨çš„æ ‡ç­¾</h3> 
<ul><li> <p>c:if</p> 
  <ul><li> <p>&lt;c:if test=â€œbooleanç±»å‹ï¼Œæ”¯æŒELè¡¨è¾¾å¼â€&gt;&lt;/c: if&gt;</p> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ²¡æœ‰<span class="token keyword">else</span>æ ‡ç­¾çš„è¯ï¼Œå¯ä»¥æä¸¤ä¸ª<span class="token keyword">if</span>å‡ºæ¥ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">if</span>æ ‡ç­¾è¿˜æœ‰<span class="token keyword">var</span>å±æ€§ï¼Œä¸æ˜¯å¿…é¡»çš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">if</span>æ ‡ç­¾è¿˜æœ‰scopeå±æ€§ï¼Œç”¨æ¥æŒ‡å®š<span class="token keyword">var</span>çš„å­˜å‚¨åŸŸã€‚ä¹Ÿä¸æ˜¯å¿…é¡»çš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>scopeæœ‰å››ä¸ªå€¼å¯é€‰ï¼š<span class="token function">page</span><span class="token punctuation">(</span>pageContextåŸŸ<span class="token punctuation">)</span>ã€<span class="token function">request</span><span class="token punctuation">(</span>requeståŸŸ<span class="token punctuation">)</span>ã€<span class="token function">session</span><span class="token punctuation">(</span>sessionåŸŸ<span class="token punctuation">)</span>ã€<span class="token function">application</span><span class="token punctuation">(</span>applicationåŸŸ<span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>å°†<span class="token keyword">var</span>ä¸­çš„vå­˜å‚¨åˆ°requeståŸŸã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æŠŠtestçš„å€¼ä»¥<span class="token keyword">var</span>ä¸ºé”®åä¿å­˜åˆ°æŒ‡å®šçš„åŸŸä¸­<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>c<span class="token operator">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"${not empty param.username}"</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">"v"</span> scope<span class="token operator">=</span><span class="token string">"request"</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>h1<span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½ $<span class="token punctuation">{<!-- --></span>param<span class="token punctuation">.</span>username<span class="token punctuation">}</span>ã€‚<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
</code></pre> </li></ul> </li><li> <p>c:forEach</p> 
  <ul><li> <p>&lt;c:forEach items=â€œé›†åˆï¼Œæ”¯æŒELè¡¨è¾¾å¼â€ var=â€œé›†åˆä¸­çš„å…ƒç´ â€ varStatus=â€œå…ƒç´ çŠ¶æ€å¯¹è±¡â€&gt; ${å…ƒç´ çŠ¶æ€å¯¹è±¡.count} &lt;/c: forEach&gt;</p> </li><li> <p>&lt;c:forEach var=â€œiâ€ begin=â€œ1â€ end=â€œ10â€ step=â€œ2â€&gt; ${i} &lt;/c: forEach&gt;</p> <pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">var</span>ç”¨æ¥æŒ‡å®šå¾ªç¯ä¸­çš„å˜é‡<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>beginå¼€å§‹<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>endç»“æŸ<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>stepæ­¥é•¿<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>åº•å±‚å®é™…ä¸Šï¼šä¼šå°†iå­˜å‚¨åˆ°pageContextåŸŸå½“ä¸­ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">"i"</span> begin<span class="token operator">=</span><span class="token string">"1"</span> end<span class="token operator">=</span><span class="token string">"10"</span> step<span class="token operator">=</span><span class="token string">"1"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>æ‰€ä»¥è¿™é‡Œæ‰ä¼šä½¿ç”¨<span class="token constant">EL</span>è¡¨è¾¾å¼å°†å…¶å–å‡ºï¼Œä¸€å®šæ˜¯ä»æŸä¸ªåŸŸå½“ä¸­å–å‡ºçš„ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    $<span class="token punctuation">{<!-- --></span>i<span class="token punctuation">}</span><span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">%</span>
    <span class="token comment">// åˆ›å»ºListé›†åˆ</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> stuList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åˆ›å»ºStudentå¯¹è±¡</span>
    <span class="token class-name">Student</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"110"</span><span class="token punctuation">,</span> <span class="token string">"ç»å¸¸"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"120"</span><span class="token punctuation">,</span> <span class="token string">"æ•‘æŠ¤è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">"119"</span><span class="token punctuation">,</span> <span class="token string">"æ¶ˆé˜²è½¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ·»åŠ åˆ°Listé›†åˆä¸­</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    stuList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å°†listé›†åˆå­˜å‚¨åˆ°requeståŸŸå½“ä¸­</span>
    request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"stuList"</span><span class="token punctuation">,</span> stuList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">%</span><span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>hr<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span><span class="token keyword">var</span><span class="token operator">=</span><span class="token string">"s"</span>è¿™ä¸ªsä»£è¡¨çš„æ˜¯é›†åˆä¸­çš„æ¯ä¸ª<span class="token class-name">Student</span>å¯¹è±¡<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>varStatus<span class="token operator">=</span><span class="token string">"è¿™ä¸ªå±æ€§è¡¨ç¤ºvarçš„çŠ¶æ€å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªjavaå¯¹è±¡ï¼Œè¿™ä¸ªjavaå¯¹è±¡ä»£è¡¨äº†varçš„çŠ¶æ€"</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>varStatus<span class="token operator">=</span><span class="token string">"è¿™ä¸ªåå­—æ˜¯éšæ„çš„"</span><span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>varStatusè¿™ä¸ªçŠ¶æ€å¯¹è±¡æœ‰countå±æ€§ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">"${stuList}"</span> <span class="token keyword">var</span><span class="token operator">=</span><span class="token string">"s"</span> varStatus<span class="token operator">=</span><span class="token string">"stuStatus"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">--</span>varStatusçš„countå€¼ä»<span class="token number">1</span>å¼€å§‹ï¼Œä»¥<span class="token number">1</span>é€’å¢ï¼Œä¸»è¦æ˜¯ç”¨äºç¼–å·<span class="token operator">/</span>åºå·ã€‚<span class="token operator">--</span><span class="token operator">%</span><span class="token operator">&gt;</span>
    ç¼–å·ï¼š$<span class="token punctuation">{<!-- --></span>stuStatus<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token punctuation">,</span>id<span class="token operator">:</span>$<span class="token punctuation">{<!-- --></span>s<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">,</span>name<span class="token operator">:</span>$<span class="token punctuation">{<!-- --></span>s<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
</code></pre> </li></ul> </li><li> <p>c:choose c:when c:otherwise</p> <pre><code class="prism language-xml">&lt;%--
    if(){

    }else if(){

    }else if(){

    }else if(){

    }else{

    }
--%&gt;

&lt;%--æ³¨æ„ï¼šè¿™ä¸ªåµŒå¥—ç»“æ„ä¸èƒ½éšä¾¿æ”¹ï¼Œåªèƒ½è¿™æ ·åµŒå¥—ã€‚--%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>choose</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${param.age &lt; 18}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         é’å°‘å¹´
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>when</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${param.age &lt; 35}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         é’å¹´
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>when</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${param.age &lt; 55}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
         ä¸­å¹´
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>when</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>otherwise</span><span class="token punctuation">&gt;</span></span>
         è€å¹´
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>otherwise</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>choose</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ul> 
<h2><a id="_ELJSTLOA_6222"></a>ğŸ¥½ ä½¿ç”¨ELä¸JSTLæ”¹é€ OAé¡¹ç›®</h2> 
<ul><li> <p>ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ”¹é€ å‘¢ï¼Ÿ</p> 
  <ul><li>Servlet + JSP + ELè¡¨è¾¾å¼ + JSTLæ ‡ç­¾ã€‚è¿›è¡Œæ”¹é€ ã€‚</li></ul> </li><li> <p>åœ¨å‰ç«¯HTMLä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªæ ‡ç­¾ï¼Œå«åšbaseæ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾å¯ä»¥è®¾ç½®æ•´ä¸ªç½‘é¡µçš„åŸºç¡€è·¯å¾„ã€‚</p> 
  <ul><li> <p>è¿™æ˜¯Javaçš„è¯­æ³•ï¼Œä¹Ÿä¸æ˜¯JSPçš„è¯­æ³•ã€‚æ˜¯HTMLä¸­çš„ä¸€ä¸ªè¯­æ³•ã€‚HTMLä¸­çš„ä¸€ä¸ªæ ‡ç­¾ã€‚é€šå¸¸å‡ºç°åœ¨headæ ‡ç­¾ä¸­ã€‚</p> </li><li> <p>&lt; base href=â€œhttp://localhost:8080/oa/â€&gt;</p> </li><li> <p>åœ¨å½“å‰é¡µé¢ä¸­ï¼Œå‡¡æ˜¯è·¯å¾„æ²¡æœ‰ä»¥â€œ/â€å¼€å§‹çš„ï¼Œéƒ½ä¼šè‡ªåŠ¨å°†baseä¸­çš„è·¯å¾„æ·»åŠ åˆ°è¿™äº›è·¯å¾„ä¹‹å‰ã€‚</p> 
    <ul><li>&lt; a href=â€œab/defâ€&gt;&lt;/ a&gt;</li><li>ç­‰åŒäºï¼š&lt; a href=â€œhttp://localhost:8080/oa/ab/defâ€&gt;&lt;/ a&gt;</li></ul> </li><li> <p>éœ€è¦æ³¨æ„ï¼šåœ¨JSä»£ç ä¸­çš„è·¯å¾„ï¼Œä¿é™©èµ·è§ï¼Œæœ€å¥½ä¸è¦ä¾èµ–baseæ ‡ç­¾ã€‚JSä»£ç ä¸­çš„è·¯å¾„æœ€å¥½å†™ä¸Šå…¨è·¯å¾„ã€‚</p> </li><li> <pre><code>&lt;base href="${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/"&gt;
</code></pre> </li></ul> </li><li> <p>åˆ é™¤cookieæ—¶ï¼Œcookieçš„è·¯å¾„éœ€è¦ä¸åˆ›å»ºcookieæ—¶çš„ä¸€æ ·ï¼Œå¦åˆ™æ— æ³•åˆ é™¤ï¼Œåˆ é™¤çš„ä¸ä¸ºåŸå…ˆçš„cookie</p> </li></ul> 
<p>index.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ä½¿ç”¨OAç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${pageContext.request.contextPath}/user/login<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    å¯†ç ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>f<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>åå¤©å†…å…ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç™»å½•<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>list.jsp</p> 
<pre><code class="prism language-html">&lt;%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;

<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨é¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    &lt;%--scheme è·å– http--%&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>base</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>æ¬¢è¿ ${username}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user/logout<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>é€€å‡ºç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åˆ—è¡¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>center<span class="token punctuation">"</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1px solid black<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50%<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>åºå·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>æ“ä½œ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>forEach</span> <span class="token attr-name">items</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${deptList}<span class="token punctuation">"</span></span> <span class="token attr-name">varStatus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptStatus<span class="token punctuation">"</span></span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dept<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>${deptStatus.count}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>${dept.deptno}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>${dept.dname}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript:void(0)<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">del</span><span class="token punctuation">(</span>$<span class="token punctuation">{<!-- --></span>dept<span class="token punctuation">.</span>deptno<span class="token punctuation">}</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span> <span class="token punctuation">&gt;</span></span>åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                        &lt;%-- ç”±äºä¿®æ”¹å’Œè¯¦æƒ…é¡µé¢åªæ˜¯é¡µé¢æ˜¾ç¤ºä¸åŒï¼Œæ•°æ®çš„æŸ¥è¯¢é€»è¾‘ç±»ä¼¼ï¼Œæ‰€ä»¥æ•°æ®çš„æŸ¥è¯¢ä½¿ç”¨ç›¸åŒçš„é€»è¾‘ --%&gt;
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dept/detail?f=m&amp;deptno=${dept.deptno}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dept/detail?f=d&amp;deptno=${dept.deptno}<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>forEach</span><span class="token punctuation">&gt;</span></span>
        
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add.jsp<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token parameter">dno</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"äº²ï¼Œåˆ äº†ä¸å¯æ¢å¤å“¦ï¼"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            document<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"/oa/dept/delete?deptno="</span> <span class="token operator">+</span> dno<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>add.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æ–°å¢éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${pageContext.request.contextPath}/dept/add<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ç¼–å·ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨åç§°ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ä½ç½®ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æ–°å¢<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>detail.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page import="cw.javaweb.bean.Dept" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨è¯¦æƒ…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ç¼–å·ï¼š${dept.deptno}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨åç§°ï¼š${dept.dname}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>éƒ¨é—¨ä½ç½®ï¼š${dept.loc}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åé€€<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>edit.jsp</p> 
<pre><code class="prism language-html">&lt;%@ page import="cw.javaweb.bean.Dept" %&gt;
&lt;%@ page contentType="text/html;charset=UTF-8" language="java" %&gt;
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹éƒ¨é—¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${pageContext.request.contextPath}/dept/modify<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>get<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- éƒ¨é—¨ç¼–å·ä¸å…è®¸ä¿®æ”¹ --&gt;</span>
    éƒ¨é—¨ç¼–å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>deptno<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${dept.deptno}<span class="token punctuation">"</span></span> <span class="token attr-name">readonly</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨åç§°<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dname<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${dept.dname}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    éƒ¨é—¨ä½ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loc<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>${dept.loc}<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ä¿®æ”¹<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doLogout</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// ä»sessionåŸŸä¸­åˆ é™¤æ•°æ®</span>
            session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰‹åŠ¨é”€æ¯sessionå¯¹è±¡ã€‚</span>
            session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è·å–cookie</span>
            <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// è®¾ç½®è·¯å¾„</span>
                    cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// åˆ é™¤cookie</span>
                    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// å“åº”cookieç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ç«¯ä¼šå°†ä¹‹å‰çš„cookieè¦†ç›–ã€‚</span>
                    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// è·³è½¬åˆ°é¦–é¡µ</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/index.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_Filter_6424"></a>ğŸ¥½ Filterè¿‡æ»¤å™¨</h2> 
<ul><li> <p>å½“å‰çš„OAé¡¹ç›®å­˜åœ¨ä»€ä¹ˆç¼ºé™·ï¼Ÿ</p> 
  <ul><li>DeptServletã€EmpServletã€OrderServletã€‚æ¯ä¸€ä¸ªServletéƒ½æ˜¯å¤„ç†è‡ªå·±ç›¸å…³çš„ä¸šåŠ¡ã€‚åœ¨è¿™äº›Servletæ‰§è¡Œä¹‹å‰éƒ½æ˜¯éœ€è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•äº†ã€‚å¦‚æœç”¨æˆ·ç™»å½•äº†ï¼Œå¯ä»¥ç»§ç»­æ“ä½œï¼Œå¦‚æœæ²¡æœ‰ç™»å½•ï¼Œéœ€è¦ç”¨æˆ·ç™»å½•ã€‚è¿™æ®µåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•çš„ä»£ç æ˜¯å›ºå®šçš„ï¼Œå¹¶ä¸”åœ¨æ¯ä¸€ä¸ªServletç±»å½“ä¸­éƒ½éœ€è¦ç¼–å†™ï¼Œæ˜¾ç„¶ä»£ç æ²¡æœ‰å¾—åˆ°é‡å¤åˆ©ç”¨ã€‚åŒ…æ‹¬æ¯ä¸€ä¸ªServletéƒ½è¦è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œä¹Ÿæœ‰å…¬å…±çš„ä»£ç ã€‚è¿™äº›ä»£ç ç›®å‰éƒ½æ˜¯é‡å¤ç¼–å†™ï¼Œå¹¶æ²¡æœ‰è¾¾åˆ°å¤ç”¨ã€‚æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜? 
    <ul><li>å¯ä»¥ä½¿ç”¨Servletè§„èŒƒä¸­çš„Filterè¿‡æ»¤å™¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li></ul> </li></ul> </li><li> <p>Filterè¿‡æ»¤å™¨æ‰§è¡ŒåŸç†<br> <img src="https://images2.imgbox.com/e0/03/0LO2Txn6_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> </li><li> <p>Filteræ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Œæ‰§è¡ŒåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>Filteræ˜¯è¿‡æ»¤å™¨ã€‚</li><li>Filterå¯ä»¥åœ¨Servletè¿™ä¸ªç›®æ ‡ç¨‹åºæ‰§è¡Œä¹‹å‰æ·»åŠ ä»£ç ã€‚ä¹Ÿå¯ä»¥åœ¨ç›®æ ‡Servletæ‰§è¡Œä¹‹åæ·»åŠ ä»£ç ã€‚ä¹‹å‰ä¹‹åéƒ½å¯ä»¥æ·»åŠ è¿‡æ»¤è§„åˆ™ã€‚</li><li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯åœ¨è¿‡æ»¤å™¨å½“ä¸­ç¼–å†™å…¬å…±ä»£ç ã€‚</li></ul> </li><li> <p>ä¸€ä¸ªè¿‡æ»¤å™¨æ€ä¹ˆå†™å‘¢ï¼Ÿ</p> 
  <ul><li> <p>ç¬¬ä¸€æ­¥ï¼šç¼–å†™ä¸€ä¸ªJavaç±»å®ç°ä¸€ä¸ªæ¥å£ï¼šjarkata.servlet.Filterã€‚å¹¶ä¸”å®ç°è¿™ä¸ªæ¥å£å½“ä¸­æ‰€æœ‰çš„æ–¹æ³•ã€‚</p> 
    <ul><li>initæ–¹æ³•ï¼šåœ¨Filterå¯¹è±¡ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºä¹‹åè°ƒç”¨ï¼Œå¹¶ä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚</li><li>doFilteræ–¹æ³•ï¼šåªè¦ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ™æ‰§è¡Œä¸€æ¬¡ã€‚å‘é€Næ¬¡è¯·æ±‚ï¼Œåˆ™æ‰§è¡ŒNæ¬¡ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç¼–å†™è¿‡æ»¤è§„åˆ™ã€‚</li><li>destroyæ–¹æ³•ï¼šåœ¨Filterå¯¹è±¡è¢«é‡Šæ”¾/é”€æ¯ä¹‹å‰è°ƒç”¨ï¼Œå¹¶ä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚</li></ul> </li><li> <p>ç¬¬äºŒæ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­å¯¹Filterè¿›è¡Œé…ç½®ã€‚è¿™ä¸ªé…ç½®å’ŒServletå¾ˆåƒã€‚</p> 
    <ul><li> <pre><code>&lt;filter&gt;
    &lt;filter-name&gt;filter2&lt;/filter-name&gt;
    &lt;filter-class&gt;com.bjpowernode.javaweb.servlet.Filter2&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;filter2&lt;/filter-name&gt;
    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</code></pre> </li><li> <p>æˆ–è€…ä½¿ç”¨æ³¨è§£ï¼š@WebFilter({â€œ*.doâ€})</p> </li></ul> </li></ul> </li><li> <p>æ³¨æ„ï¼š</p> 
  <ul><li>Servletå¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™æ˜¯ä¸ä¼šæ–°å»ºå¯¹è±¡çš„ã€‚</li><li>Filterå¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ä¼šæ–°å»ºå¯¹è±¡ã€‚</li><li>Servletæ˜¯å•ä¾‹çš„ã€‚Filterä¹Ÿæ˜¯å•ä¾‹çš„ã€‚ï¼ˆå•å®ä¾‹ã€‚ï¼‰</li></ul> </li><li> <p>ç›®æ ‡Servletæ˜¯å¦æ‰§è¡Œï¼Œå–å†³äºä¸¤ä¸ªæ¡ä»¶ï¼š</p> 
  <ul><li> <p>ç¬¬ä¸€ï¼šåœ¨è¿‡æ»¤å™¨å½“ä¸­æ˜¯å¦ç¼–å†™äº†ï¼šchain.doFilter(request, response); ä»£ç ã€‚</p> <pre><code class="prism language-java">    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// åœ¨è¯·æ±‚çš„æ—¶å€™æ·»åŠ è¿‡æ»¤è§„åˆ™ã€‚</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Filter1 doFilteræ–¹æ³•å¼€å§‹æ‰§è¡Œã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä¸æ˜¯è¿‡æ»¤å™¨äº†ï¼Œåˆ™æ‰§è¡Œç›®æ ‡ç¨‹åºServletã€‚</span>
        <span class="token comment">// å‘ä¸‹èµ°ã€‚æ²¡æœ‰å®ƒæ˜¯ä¸è¡Œæ»´ã€‚</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åœ¨å“åº”çš„æ—¶å€™æ·»åŠ è¿‡æ»¤è§„åˆ™ã€‚</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Filter1 doFilteræ–¹æ³•æ‰§è¡Œç»“æŸã€‚"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> </li><li> <p>ç¬¬äºŒï¼šç”¨æˆ·å‘é€çš„è¯·æ±‚è·¯å¾„æ˜¯å¦å’ŒServletçš„è¯·æ±‚è·¯å¾„ä¸€è‡´ã€‚</p> </li></ul> </li><li> <p>chain.doFilter(request, response); è¿™è¡Œä»£ç çš„ä½œç”¨ï¼š</p> 
  <ul><li>æ‰§è¡Œä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦‚æœä¸‹é¢æ²¡æœ‰è¿‡æ»¤å™¨äº†ï¼Œæ‰§è¡Œæœ€ç»ˆçš„Servletã€‚</li></ul> </li><li> <p>æ³¨æ„ï¼šFilterçš„ä¼˜å…ˆçº§ï¼Œå¤©ç”Ÿçš„å°±æ¯”Servletä¼˜å…ˆçº§é«˜ã€‚</p> 
  <ul><li>/a.do å¯¹åº”ä¸€ä¸ªFilterï¼Œä¹Ÿå¯¹åº”ä¸€ä¸ªServletã€‚é‚£ä¹ˆä¸€å®šæ˜¯å…ˆæ‰§è¡ŒFilterï¼Œç„¶åå†æ‰§è¡ŒServletã€‚</li></ul> </li><li> <p>å…³äºFilterçš„é…ç½®è·¯å¾„ï¼š</p> 
  <ul><li>/a.doã€/b.doã€/dept/saveã€‚è¿™äº›é…ç½®æ–¹å¼éƒ½æ˜¯ç²¾ç¡®åŒ¹é…ã€‚</li><li>/* åŒ¹é…æ‰€æœ‰è·¯å¾„ã€‚</li><li>*.do åç¼€åŒ¹é…ã€‚ä¸è¦ä»¥ / å¼€å§‹</li><li>/dept/* å‰ç¼€åŒ¹é…ã€‚</li></ul> </li><li> <p>åœ¨web.xmlæ–‡ä»¶ä¸­è¿›è¡Œé…ç½®çš„æ—¶å€™ï¼ŒFilterçš„æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ</p> 
  <ul><li>ä¾é filter-mappingæ ‡ç­¾çš„é…ç½®ä½ç½®ï¼Œè¶Šé ä¸Šä¼˜å…ˆçº§è¶Šé«˜ã€‚</li></ul> </li><li> <p>è¿‡æ»¤å™¨çš„è°ƒç”¨é¡ºåºï¼Œéµå¾ªæ ˆæ•°æ®ç»“æ„ã€‚</p> </li><li> <p>ä½¿ç”¨@WebFilterçš„æ—¶å€™ï¼ŒFilterçš„æ‰§è¡Œé¡ºåºæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p> 
  <ul><li>æ‰§è¡Œé¡ºåºæ˜¯ï¼šæ¯”è¾ƒFilterè¿™ä¸ªç±»åã€‚</li><li>æ¯”å¦‚ï¼šFilterAå’ŒFilterBï¼Œåˆ™å…ˆæ‰§è¡ŒFilterAã€‚</li><li>æ¯”å¦‚ï¼šFilter1å’ŒFilter2ï¼Œåˆ™å…ˆæ‰§è¡ŒFilter1.</li></ul> </li><li> <p>Filterçš„ç”Ÿå‘½å‘¨æœŸï¼Ÿ</p> 
  <ul><li>å’ŒServletå¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¸€è‡´ã€‚</li><li>å”¯ä¸€çš„åŒºåˆ«ï¼šFilteré»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨é˜¶æ®µå°±å®ä¾‹åŒ–ã€‚Servletä¸ä¼šã€‚</li></ul> </li><li> <p>Filterè¿‡æ»¤å™¨è¿™é‡Œæœ‰ä¸€ä¸ªè®¾è®¡æ¨¡å¼ï¼š</p> 
  <ul><li>è´£ä»»é“¾è®¾è®¡æ¨¡å¼ã€‚</li><li>è¿‡æ»¤å™¨æœ€å¤§çš„ä¼˜ç‚¹ï¼š 
    <ul><li>åœ¨ç¨‹åºç¼–è¯‘é˜¶æ®µä¸ä¼šç¡®å®šè°ƒç”¨é¡ºåºã€‚å› ä¸ºFilterçš„è°ƒç”¨é¡ºåºæ˜¯é…ç½®åˆ°web.xmlæ–‡ä»¶ä¸­çš„ï¼Œåªè¦ä¿®æ”¹web.xmlé…ç½®æ–‡ä»¶ä¸­filter-mappingçš„é¡ºåºå°±å¯ä»¥è°ƒæ•´Filterçš„æ‰§è¡Œé¡ºåºã€‚æ˜¾ç„¶Filterçš„æ‰§è¡Œé¡ºåºæ˜¯åœ¨ç¨‹åºè¿è¡Œé˜¶æ®µåŠ¨æ€ç»„åˆçš„ã€‚é‚£ä¹ˆè¿™ç§è®¾è®¡æ¨¡å¼è¢«ç§°ä¸ºè´£ä»»é“¾è®¾è®¡æ¨¡å¼ã€‚</li></ul> </li><li>è´£ä»»é“¾è®¾è®¡æ¨¡å¼æœ€å¤§çš„æ ¸å¿ƒæ€æƒ³ï¼š 
    <ul><li>åœ¨ç¨‹åºè¿è¡Œé˜¶æ®µï¼ŒåŠ¨æ€çš„ç»„åˆç¨‹åºçš„è°ƒç”¨é¡ºåºã€‚</li></ul> </li><li>è¿‡æ»¤å™¨çš„é…ç½®ä¸€èˆ¬å†™åœ¨xmlæ–‡ä»¶ä¸­ï¼Œä¾¿äºæ§åˆ¶è¿‡æ»¤å™¨çš„æ‰§è¡Œé¡ºåº</li></ul> </li></ul> 
<h2><a id="_OA_6529"></a>ğŸ¥½ ä½¿ç”¨è¿‡æ»¤å™¨æ”¹é€ OAé¡¹ç›®ã€‚</h2> 
<pre><code class="prism language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">"</span></span>
         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>welcome-file</span><span class="token punctuation">&gt;</span></span>welcome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>welcome-file-list</span><span class="token punctuation">&gt;</span></span>
	
	<span class="token comment">&lt;!-- ç™»å½•éªŒè¯è¿‡æ»¤å™¨ --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>loginFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>cw.javaweb.oa.filter.LoginFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>loginFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!-- éƒ¨é—¨ç›¸å…³çš„æ“ä½œéœ€è¦è¿›è¡Œç™»å½•éªŒè¯ --&gt;</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/dept/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cw<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSession</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
    
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è¯·æ±‚ä¸å“åº”å¯¹è±¡è¿›è¡Œå¼ºè½¬</span>
        <span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span>
        <span class="token class-name">HttpServletResponse</span> response <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> servletResponse<span class="token punctuation">;</span>
        <span class="token comment">// è¿›è¡Œç™»å½•éªŒè¯</span>
        <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œè¿™é‡Œåªæ˜¯è¿›è¡ŒéªŒè¯ï¼Œå¦‚æœæ²¡æœ‰sessionå¯¹è±¡ä¸éœ€è¦åˆ›å»º</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–ç”¨æˆ·ç™»å½•è¯æ˜</span>
        <span class="token class-name">Object</span> username <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> username <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// éªŒè¯é€šè¿‡</span>
            filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·³è½¬åˆ°indexé¡µé¢</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/dept/list"</span><span class="token punctuation">,</span> <span class="token string">"/dept/detail"</span><span class="token punctuation">,</span> <span class="token string">"/dept/modify"</span><span class="token punctuation">,</span> <span class="token string">"/dept/delete"</span><span class="token punctuation">,</span> <span class="token string">"/dept/add"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeptServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–servletè·¯å¾„</span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/list"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doList</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/detail"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doDetail</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/modify"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doModify</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/delete"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doDel</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"/dept/add"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">doAdd</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_Listener_6622"></a>ğŸ¥½ Listenerç›‘å¬å™¨</h2> 
<ul><li> <p>ä»€ä¹ˆæ˜¯ç›‘å¬å™¨ï¼Ÿ</p> 
  <ul><li>ç›‘å¬å™¨æ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚å°±åƒFilterä¸€æ ·ã€‚Filterä¹Ÿæ˜¯Servletè§„èŒƒä¸­çš„ä¸€å‘˜ã€‚</li><li>åœ¨Servletä¸­ï¼Œæ‰€æœ‰çš„ç›‘å¬å™¨æ¥å£éƒ½æ˜¯ä»¥â€œListenerâ€ç»“å°¾ã€‚</li></ul> </li><li> <p>ç›‘å¬å™¨æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p> 
  <ul><li>ç›‘å¬å™¨å®é™…ä¸Šæ˜¯Servletè§„èŒƒç•™ç»™æˆ‘ä»¬javawebç¨‹åºå‘˜çš„ç‰¹æ®Šæ—¶æœºã€‚</li><li>ç‰¹æ®Šçš„æ—¶åˆ»å¦‚æœæƒ³æ‰§è¡Œè¿™æ®µä»£ç ï¼Œä½ éœ€è¦æƒ³åˆ°ä½¿ç”¨å¯¹åº”çš„ç›‘å¬å™¨ã€‚</li></ul> </li><li> <p>Servletè§„èŒƒä¸­æä¾›äº†å“ªäº›ç›‘å¬å™¨ï¼Ÿ</p> 
  <ul><li>jakarta.servletåŒ…ä¸‹ï¼š 
    <ul><li>ServletContextListener</li><li>ServletContextAttributeListener</li><li>ServletRequestListener</li><li>ServletRequestAttributeListener</li></ul> </li><li>jakarta.servlet.httpåŒ…ä¸‹ï¼š 
    <ul><li>HttpSessionListener</li><li>HttpSessionAttributeListener 
      <ul><li>è¯¥ç›‘å¬å™¨éœ€è¦ä½¿ç”¨@WebListeneræ³¨è§£è¿›è¡Œæ ‡æ³¨ã€‚</li><li>è¯¥ç›‘å¬å™¨ç›‘å¬çš„æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯sessionåŸŸä¸­æ•°æ®çš„å˜åŒ–ã€‚åªè¦æ•°æ®å˜åŒ–ï¼Œåˆ™æ‰§è¡Œç›¸åº”çš„æ–¹æ³•ã€‚ä¸»è¦ç›‘æµ‹ç‚¹åœ¨sessionåŸŸå¯¹è±¡ä¸Šã€‚<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>javaweb<span class="token punctuation">.</span>listener</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionAttributeListener</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionBindingEvent</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHttpSessionAttributeListener</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionAttributeListener</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">// å‘sessionåŸŸå½“ä¸­å­˜å‚¨æ•°æ®çš„æ—¶å€™ï¼Œä»¥ä¸‹æ–¹æ³•è¢«WEBæœåŠ¡å™¨è°ƒç”¨ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeAdded</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"session data add"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// å°†sessionåŸŸå½“ä¸­å­˜å‚¨çš„æ•°æ®åˆ é™¤çš„æ—¶å€™ï¼Œä»¥ä¸‹æ–¹æ³•è¢«WEBæœåŠ¡å™¨è°ƒç”¨ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeRemoved</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"session data remove"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// sessionåŸŸå½“ä¸­çš„æŸä¸ªæ•°æ®è¢«æ›¿æ¢çš„æ—¶å€™ï¼Œä»¥ä¸‹æ–¹æ³•è¢«WEBæœåŠ¡å™¨è°ƒç”¨ã€‚</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">attributeReplaced</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"session data replace"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> </li></ul> </li><li>HttpSessionBindingListener 
      <ul><li>è¯¥ç›‘å¬å™¨<mark>ä¸éœ€è¦</mark>ä½¿ç”¨@WebListenerè¿›è¡Œæ ‡æ³¨ã€‚</li><li>å‡è®¾Userç±»å®ç°äº†è¯¥ç›‘å¬å™¨ï¼Œé‚£ä¹ˆUserå¯¹è±¡åœ¨è¢«æ”¾å…¥sessionçš„æ—¶å€™è§¦å‘bindäº‹ä»¶ï¼ŒUserå¯¹è±¡ä»sessionä¸­åˆ é™¤çš„æ—¶å€™ï¼Œè§¦å‘unbindäº‹ä»¶ã€‚</li><li>å‡è®¾Customerç±»æ²¡æœ‰å®ç°è¯¥ç›‘å¬å™¨ï¼Œé‚£ä¹ˆCustomerå¯¹è±¡æ”¾å…¥sessionæˆ–è€…ä»sessionåˆ é™¤çš„æ—¶å€™ï¼Œä¸ä¼šè§¦å‘bindå’Œunbindäº‹ä»¶ã€‚<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionBindingEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionBindingListener</span></span><span class="token punctuation">;</span>

<span class="token comment">/**
 * æ™®é€šçš„javaç±»ã€‚ä½†æ˜¯å®ƒå®ç°äº†ï¼šHttpSessionBindingListener
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User1</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionBindingListener</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">valueBound</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç»‘å®šæ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">valueUnbound</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è§£ç»‘æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> usercode<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User1</span><span class="token punctuation">(</span><span class="token class-name">String</span> usercode<span class="token punctuation">,</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>usercode <span class="token operator">=</span> usercode<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsercode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> usercode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsercode</span><span class="token punctuation">(</span><span class="token class-name">String</span> usercode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>usercode <span class="token operator">=</span> usercode<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li>HttpSessionIdListener 
      <ul><li>sessionçš„idå‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œç›‘å¬å™¨ä¸­çš„å”¯ä¸€ä¸€ä¸ªæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚</li></ul> </li><li>HttpSessionActivationListener 
      <ul><li>ç›‘å¬sessionå¯¹è±¡çš„é’åŒ–å’Œæ´»åŒ–çš„ã€‚</li><li>é’åŒ–ï¼šsessionå¯¹è±¡ä»å†…å­˜å­˜å‚¨åˆ°ç¡¬ç›˜æ–‡ä»¶ã€‚</li><li>æ´»åŒ–ï¼šä»ç¡¬ç›˜æ–‡ä»¶æŠŠsessionæ¢å¤åˆ°å†…å­˜ã€‚</li></ul> </li></ul> </li></ul> </li><li> <p>å®ç°ä¸€ä¸ªç›‘å¬å™¨çš„æ­¥éª¤ï¼šä»¥ServletContextListenerä¸ºä¾‹ã€‚</p> 
  <ul><li> <p>ç¬¬ä¸€æ­¥ï¼šç¼–å†™ä¸€ä¸ªç±»å®ç°ServletContextListeneræ¥å£ã€‚å¹¶ä¸”å®ç°é‡Œé¢çš„æ–¹æ³•ã€‚</p> 
    <ul><li> <pre><code>åœ¨ServletContextå¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™è°ƒç”¨
void contextInitialized(ServletContextEvent event)
åœ¨ServletContextå¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™è°ƒç”¨
void contextDestroyed(ServletContextEvent event)
</code></pre> </li></ul> </li><li> <p>ç¬¬äºŒæ­¥ï¼šåœ¨web.xmlæ–‡ä»¶ä¸­å¯¹ServletContextListenerè¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹ï¼š</p> 
    <ul><li> <pre><code>&lt;listener&gt;
    &lt;listener-class&gt;com.bjpowernode.javaweb.listener.MyServletContextListener&lt;/listener-class&gt;
&lt;/listener&gt;
</code></pre> </li><li> <p>å½“ç„¶ï¼Œç¬¬äºŒæ­¥ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨æ³¨è§£ï¼Œä¾‹å¦‚ï¼š@WebListener</p> </li></ul> </li></ul> </li><li> <p>æ³¨æ„ï¼šæ‰€æœ‰ç›‘å¬å™¨ä¸­çš„æ–¹æ³•éƒ½æ˜¯ä¸éœ€è¦javawebç¨‹åºå‘˜è°ƒç”¨çš„ï¼Œç”±æœåŠ¡å™¨æ¥è´Ÿè´£è°ƒç”¨ï¼Ÿä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨å‘¢ï¼Ÿ</p> 
  <ul><li>å½“æŸä¸ªç‰¹æ®Šçš„äº‹ä»¶å‘ç”Ÿï¼ˆç‰¹æ®Šçš„äº‹ä»¶å‘ç”Ÿå…¶å®å°±æ˜¯æŸä¸ªæ—¶æœºåˆ°äº†ã€‚ï¼‰ä¹‹åï¼Œè¢«webæœåŠ¡å™¨è‡ªåŠ¨è°ƒç”¨ã€‚</li></ul> </li><li> <p>æ€è€ƒä¸€ä¸ªä¸šåŠ¡åœºæ™¯ï¼š</p> 
  <ul><li>è¯·ç¼–å†™ä¸€ä¸ªåŠŸèƒ½ï¼Œè®°å½•è¯¥ç½‘ç«™å®æ—¶çš„åœ¨çº¿ç”¨æˆ·çš„ä¸ªæ•°ã€‚</li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡æœåŠ¡å™¨ç«¯æœ‰æ²¡æœ‰åˆ†é…sessionå¯¹è±¡ï¼Œå› ä¸ºä¸€ä¸ªsessionä»£è¡¨äº†ä¸€ä¸ªç”¨æˆ·ã€‚æœ‰ä¸€ä¸ªsessionå°±ä»£è¡¨æœ‰ä¸€ä¸ªç”¨æˆ·ã€‚å¦‚æœä½ é‡‡ç”¨è¿™ç§é€»è¾‘å»å®ç°çš„è¯ï¼Œsessionæœ‰å¤šå°‘ä¸ªï¼Œåœ¨çº¿ç”¨æˆ·å°±æœ‰å¤šå°‘ä¸ªã€‚è¿™ç§æ–¹å¼çš„è¯ï¼šHttpSessionListenerå¤Ÿç”¨äº†ã€‚sessionå¯¹è±¡åªè¦æ–°å»ºï¼Œåˆ™count++ï¼Œç„¶åå°†countå­˜å‚¨åˆ°ServletContextåŸŸå½“ä¸­ï¼Œåœ¨é¡µé¢å±•ç¤ºåœ¨çº¿äººæ•°å³å¯ã€‚æœ‰ä¼šè¯ä½†æ˜¯ä¸ä¸€å®šç™»å½•åœ¨çº¿ã€‚</li><li>ä¸šåŠ¡å‘ç”Ÿæ”¹å˜äº†ï¼Œåªç»Ÿè®¡ç™»å½•çš„ç”¨æˆ·çš„åœ¨çº¿æ•°é‡ï¼Œè¿™ä¸ªè¯¥æ€ä¹ˆåŠï¼Ÿ 
    <ul><li>session.setAttribute(â€œuserâ€, userObj);</li><li>ç”¨æˆ·ç™»å½•çš„æ ‡å¿—æ˜¯ä»€ä¹ˆï¼Ÿsessionä¸­æ›¾ç»å­˜å‚¨è¿‡Userç±»å‹çš„å¯¹è±¡ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¯ä»¥è®©Userç±»å‹çš„å¯¹è±¡å®ç°HttpSessionBindingListenerç›‘å¬å™¨ï¼Œåªè¦Userç±»å‹å¯¹è±¡å­˜å‚¨åˆ°sessionåŸŸä¸­ï¼Œåˆ™count++ï¼Œç„¶åå°†count++å­˜å‚¨åˆ°ServletContextå¯¹è±¡ä¸­ã€‚é¡µé¢å±•ç¤ºåœ¨çº¿äººæ•°å³å¯ã€‚</li></ul> </li></ul> </li></ul> 
<h2><a id="_oa_6777"></a>ğŸ¥½ å®ç°oaé¡¹ç›®ä¸­å½“å‰ç™»å½•åœ¨çº¿çš„äººæ•°ã€‚</h2> 
<ul><li>ä»€ä¹ˆä»£è¡¨ç€ç”¨æˆ·ç™»å½•äº†ï¼Ÿ 
  <ul><li>session.setAttribute(â€œuserâ€, userObj); Userç±»å‹çš„å¯¹è±¡åªè¦å¾€sessionä¸­å­˜å‚¨è¿‡ï¼Œè¡¨ç¤ºæœ‰æ–°ç”¨æˆ·ç™»å½•ã€‚</li></ul> </li><li>ä»€ä¹ˆä»£è¡¨ç€ç”¨æˆ·é€€å‡ºäº†ï¼Ÿ 
  <ul><li>session.removeAttribute(â€œuserâ€); Userç±»å‹çš„å¯¹è±¡ä»sessionåŸŸä¸­ç§»é™¤äº†ã€‚</li><li>æˆ–è€…æœ‰å¯èƒ½æ˜¯sessioné”€æ¯äº†ã€‚ï¼ˆsessionè¶…æ—¶ï¼‰</li></ul> </li></ul> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>bean</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionBindingEvent</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionBindingListener</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionBindingListener</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">valueBound</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ç”¨æˆ·ç™»å½•äº†</span>
        <span class="token comment">// Userç±»å‹çš„å¯¹è±¡å‘sessionä¸­å­˜æ”¾äº†ã€‚</span>
        <span class="token comment">// è·å–ServletContextå¯¹è±¡</span>
        <span class="token class-name">ServletContext</span> application <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–åœ¨çº¿äººæ•°ã€‚</span>
        <span class="token class-name">Object</span> onlinecount <span class="token operator">=</span> application<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"onlinecount"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>onlinecount <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"onlinecount"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>onlinecount<span class="token punctuation">;</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
            application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"onlinecount"</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">valueUnbound</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionBindingEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ç”¨æˆ·é€€å‡ºäº†</span>
        <span class="token comment">// Userç±»å‹çš„å¯¹è±¡ä»sessionåŸŸä¸­åˆ é™¤äº†ã€‚</span>
        <span class="token class-name">ServletContext</span> application <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> onlinecount <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>application<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"onlinecount"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        onlinecount<span class="token operator">--</span><span class="token punctuation">;</span>
        application<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"onlinecount"</span><span class="token punctuation">,</span> onlinecount<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>web<span class="token punctuation">.</span>action</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>oa<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">DBUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">PreparedStatement</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">SQLException</span></span><span class="token punctuation">;</span>

<span class="token comment">// Servletè´Ÿè´£ä¸šåŠ¡çš„å¤„ç†</span>
<span class="token comment">// JSPè´Ÿè´£é¡µé¢çš„å±•ç¤ºã€‚</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"/user/login"</span><span class="token punctuation">,</span><span class="token string">"/user/exit"</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">String</span> servletPath <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getServletPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/user/login"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doLogin</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"/user/exit"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>servletPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">doExit</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doExit</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// è·å–sessionå¯¹è±¡ï¼Œé”€æ¯session</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>session <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

            <span class="token comment">// ä»sessionåŸŸä¸­åˆ é™¤userå¯¹è±¡</span>
            session<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// æ‰‹åŠ¨é”€æ¯sessionå¯¹è±¡ã€‚</span>
            session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// é”€æ¯cookieï¼ˆé€€å‡ºç³»ç»Ÿå°†æ‰€æœ‰çš„cookieå…¨éƒ¨é”€æ¯ï¼‰</span>
            <span class="token class-name">Cookie</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cookies <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Cookie</span> cookie <span class="token operator">:</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// è®¾ç½®cookieçš„æœ‰æ•ˆæœŸä¸º0ï¼Œè¡¨ç¤ºåˆ é™¤è¯¥cookie</span>
                    cookie<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// è®¾ç½®ä¸€ä¸ªä¸‹cookieçš„è·¯å¾„</span>
                    cookie<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ é™¤cookieçš„æ—¶å€™æ³¨æ„è·¯å¾„é—®é¢˜ã€‚</span>
                    <span class="token comment">// å“åº”cookieç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ç«¯ä¼šå°†ä¹‹å‰çš„cookieè¦†ç›–ã€‚</span>
                    response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// æ¢ä¸€ç§æ–¹æ¡ˆ</span>
            <span class="token comment">/*Cookie cookie1 = new Cookie("username","");
            cookie1.setMaxAge(0);
            cookie1.setPath(request.getContextPath());

            Cookie cookie2 = new Cookie("password", "");
            cookie2.setMaxAge(0);
            cookie2.setPath(request.getContextPath());

            response.addCookie(cookie1);
            response.addCookie(cookie2);*/</span>


            <span class="token comment">// è·³è½¬åˆ°ç™»å½•é¡µé¢</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doLogin</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">boolean</span> success <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">// ä½ è¦åšä¸€ä»¶ä»€ä¹ˆäº‹å„¿ï¼ŸéªŒè¯ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®ã€‚</span>
        <span class="token comment">// è·å–ç”¨æˆ·åå’Œå¯†ç </span>
        <span class="token comment">// å‰ç«¯ä½ æ˜¯è¿™æ ·æäº¤çš„ï¼šusername=admin&amp;password=123</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> password <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è¿æ¥æ•°æ®åº“éªŒè¯ç”¨æˆ·åå’Œå¯†ç </span>
        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            conn <span class="token operator">=</span> <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">"select * from t_user where username = ? and password = ?"</span><span class="token punctuation">;</span>
            <span class="token comment">// ç¼–è¯‘SQL</span>
            ps <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// ç»™?ä¼ å€¼</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
            ps<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡ŒSQL</span>
            rs <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// è¿™ä¸ªç»“æœé›†å½“ä¸­æœ€å¤šåªæœ‰ä¸€æ¡æ•°æ®ã€‚</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// ä¸éœ€è¦whileå¾ªç¯</span>
                <span class="token comment">// ç™»å½•æˆåŠŸ</span>
                success <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">DBUtil</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>conn<span class="token punctuation">,</span> ps<span class="token punctuation">,</span> rs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// ç™»å½•æˆåŠŸ/å¤±è´¥</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// è·å–sessionå¯¹è±¡(è¿™é‡Œçš„è¦æ±‚æ˜¯ï¼šå¿…é¡»è·å–åˆ°sessionï¼Œæ²¡æœ‰sessionä¹Ÿè¦æ–°å»ºä¸€ä¸ªsessionå¯¹è±¡ã€‚)</span>
            <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// sessionå¯¹è±¡ä¸€å®šä¸æ˜¯null</span>
            <span class="token comment">//session.setAttribute("username", username);</span>

            <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
            session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ç™»å½•æˆåŠŸäº†ï¼Œå¹¶ä¸”ç”¨æˆ·ç¡®å®é€‰æ‹©äº†â€œåå¤©å†…å…ç™»å½•â€åŠŸèƒ½ã€‚</span>
            <span class="token class-name">String</span> f <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token comment">// åˆ›å»ºCookieå¯¹è±¡å­˜å‚¨ç™»å½•å</span>
                <span class="token class-name">Cookie</span> cookie1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// åˆ›å»ºCookieå¯¹è±¡å­˜å‚¨å¯†ç </span>
                <span class="token class-name">Cookie</span> cookie2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// çœŸå®æƒ…å†µä¸‹æ˜¯åŠ å¯†çš„ã€‚</span>
                <span class="token comment">// è®¾ç½®cookieçš„æœ‰æ•ˆæœŸä¸ºåå¤©</span>
                cookie1<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                cookie2<span class="token punctuation">.</span><span class="token function">setMaxAge</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// è®¾ç½®cookieçš„pathï¼ˆåªè¦è®¿é—®è¿™ä¸ªåº”ç”¨ï¼Œæµè§ˆå™¨å°±ä¸€å®šè¦æºå¸¦è¿™ä¸¤ä¸ªcookieï¼‰</span>
                cookie1<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                cookie2<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// å“åº”cookieç»™æµè§ˆå™¨</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie1<span class="token punctuation">)</span><span class="token punctuation">;</span>
                response<span class="token punctuation">.</span><span class="token function">addCookie</span><span class="token punctuation">(</span>cookie2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// æˆåŠŸï¼Œè·³è½¬åˆ°ç”¨æˆ·åˆ—è¡¨é¡µé¢</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/dept/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// å¤±è´¥ï¼Œè·³è½¬åˆ°å¤±è´¥é¡µé¢</span>
            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/error.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_MVC_6998"></a>ğŸ¥½ MVCæ¶æ„æ¨¡å¼</h2> 
<p><a href="https://blog.csdn.net/m0_53022813/article/details/128892562">ã€[Java]MVCæ¶æ„æ¨¡å¼å­¦ä¹ ç¬”è®°(åŠ¨åŠ›èŠ‚ç‚¹è€æœ2022)ã€‘</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8ae9fac17918f3e95d174b154185f716/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">é€šä¿¡åŸç†ç¬”è®°â€”äºŒè¿›åˆ¶æ•°å­—è½½æ³¢è°ƒåˆ¶ä¼ è¾“ç³»ç»Ÿ2ASKï¼ˆOOKï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a0c590baaf1a280273ee476af113357/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">[Mysql] FIND_IN_SETå‡½æ•°</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 èœé¸Ÿç¨‹åºå‘˜åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>