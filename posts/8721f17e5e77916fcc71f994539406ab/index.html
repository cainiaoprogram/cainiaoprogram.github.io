<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SLAM学习快速入门---CMake简单、基础语法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SLAM学习快速入门---CMake简单、基础语法" />
<meta property="og:description" content="前言 研究生阶段开启SLAM的旅程，从此篇博文起会开启一个新的SLAM专题，用以记录入门过程中的问题解决以及笔记分享，内容大多会涉及应用，原理剖析有能力的话后续会添加进来。如有纰漏，敬请指正！
今天记录CMake的有关知识，这是读者在linux上运行cpp代码的必要一环。
一、几个最简单的案例入门 Hello Eigen教程
# 声明所需要的cmake的最低版本 cmake_minimum_required(VERSION 3.11) # 声明一个cmake工程 project(SLAMBook-Eigen) # 添加头文件库 include_directories(&#34;/usr/include/eigen3&#34;) # 添加一个可执行程序 add_executable(helloEigen eigenMatrix.cpp) Hello PCL教程
# 指定最小的版本 cmake_minimum_required(VERSION 3.14) # 指定项目名称 project(pcl_module) # 找到pcl的指定库和文件位置 find_package(PCL REQUIRED) # 生成可执行文件 add_executable(pcl_module src/pcl_module.cpp) # 添加头文件库 include_directories( ${PCL_LIBRARIES} /usr/include/eigen3 ) # 链接三方库 target_link_libraries(pcl_module ${PCL_LIBRARIES} ) # eigen仅由头文件构成，不需要库文件 Hello Cmake教程
# demostrate the minimum version of cmake cmake_minimum_required(VERSION 3.16) # define the project name project(HelloSLAM) # generate library file add_library(hello_shared SHARED libHelloSLAM." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8721f17e5e77916fcc71f994539406ab/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-18T09:58:37+08:00" />
<meta property="article:modified_time" content="2023-06-18T09:58:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SLAM学习快速入门---CMake简单、基础语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="_1"></a>前言</h4> 
<hr> 
<p>研究生阶段开启SLAM的旅程，从此篇博文起会开启一个新的SLAM专题，用以记录入门过程中的问题解决以及笔记分享，内容大多会涉及应用，原理剖析有能力的话后续会添加进来。如有纰漏，敬请指正！<br> 今天记录CMake的有关知识，这是读者在linux上运行cpp代码的必要一环。</p> 
<h4><a id="_7"></a>一、几个最简单的案例入门</h4> 
<ol><li> <p>Hello Eigen教程</p> <pre><code class="prism language-cmake"># 声明所需要的cmake的最低版本
cmake_minimum_required(VERSION 3.11)
# 声明一个cmake工程
project(SLAMBook-Eigen)
# 添加头文件库
include_directories("/usr/include/eigen3")
# 添加一个可执行程序
add_executable(helloEigen eigenMatrix.cpp)
</code></pre> </li><li> <p>Hello PCL教程</p> <pre><code class="prism language-cmake"># 指定最小的版本
cmake_minimum_required(VERSION 3.14)
# 指定项目名称
project(pcl_module)
# 找到pcl的指定库和文件位置
find_package(PCL REQUIRED)
# 生成可执行文件
add_executable(pcl_module src/pcl_module.cpp)
# 添加头文件库
include_directories(
    ${PCL_LIBRARIES}
    /usr/include/eigen3
)
# 链接三方库
target_link_libraries(pcl_module
    ${PCL_LIBRARIES}
)
# eigen仅由头文件构成，不需要库文件
</code></pre> </li><li> <p>Hello Cmake教程</p> </li></ol> 
<pre><code class="prism language-cmake"># demostrate the minimum version of cmake 
cmake_minimum_required(VERSION 3.16)
# define the project name
project(HelloSLAM)
# generate library file
add_library(hello_shared SHARED libHelloSLAM.cpp)
# generate executable file
add_executable(main helloSLAM.cpp)
# link to library
target_link_libraries(main hello_shared)
</code></pre> 
<h4><a id="Cmake_60"></a>二、Cmake书写语法</h4> 
<h5><a id="21__62"></a>2.1 必备语句</h5> 
<ul><li> <p><code>cmake_minimum_required(VRESION 3.14)</code></p> <p>用于指定cmake的版本，一般需要添加上</p> </li><li> <p><code>project(HelloSLAM)</code></p> <p>用于指定项目名称（好像不是必须的，但是建议添加上）</p> </li><li> <p><code>add_executable(main helloSLAM.cpp)</code></p> <p>用于生成可执行文件</p> 
  <blockquote> 
   <p>main -&gt; 所生成的可执行文件的名称 helloSLAM.cpp -&gt; 代码编写的源文件</p> 
  </blockquote> </li></ul> 
<h5><a id="22__78"></a>2.2 库包含、链接语句</h5> 
<ul><li> <p>三方module：</p> <p>三方模块一般由两部分组成：<strong>头文件</strong>和<strong>库文件</strong></p> 
  <ol><li>头文件需要包含，使用命令 <code>include_directories()</code></li><li>库文件需要链接，使用命令 <code>target_link_libraries()</code></li></ol> 
  <blockquote> 
   <p>需要注意的小问题：</p> 
   <ul><li> <p>有些module仅由头文件构成，没有库文件，因此仅需要包含头文件，不需要链接库文件，SLAM中最典型Eigen，具体请参照Hello Eigen教程</p> <p><code>include_directories("/usr/include/eigen3")</code></p> </li><li> <p>有时module的路径不容易寻找，或者每个使用者的安装位置不同，无法写死，于是出现<code>find_package</code>命令，具体参照Hello PCL教程</p> <p><code>find_package(PCL REQUIRED)</code>查找pcl模块路径，后续所有路径均使用<code>${PCL_LIBRARIES}</code>代替</p> <p>此处还有几点需要强调一下：</p> 
     <ol><li>PCL模块不仅需要<code>include_directories()</code>，还需要<code>target_link_libraries()</code></li><li><code>find_package()</code>命令查找模块时，名称暂时还不知道怎么确定，比如哪个大写，哪个小写等等(有知晓的同学可以告知一声)</li></ol> </li></ul> 
  </blockquote> </li><li> <p>自己写的module：</p> <p>自己写module需要包含若干个文件：<code>source.cpp module.h module.cpp</code></p> 
  <ol><li> <p>module.cpp 对应库文件，需要编译为库文件，供使用者调用</p> <p>CPP中的库文件分为静态库和共享库两类</p> 
    <blockquote> 
     <ol><li>静态库：.a 作为后缀名，静态库每次被调用都会生成一个副本，使用<code>add_library(hello libHelloSLAM.cpp)</code>生成</li><li>共享库：.so 作为后缀名，共享库只会有一个副本，使用<code>add_library(hello_shared SHARED libhelloSLAM.cpp)</code>生成</li></ol> 
    </blockquote> <p>库文件生成之后，需要使用<code>target_link_libraries()</code>将库文件连接至可执行文件上</p> </li><li> <p>module.h 对应头文件，指明库文件的用途</p> <p>头文件需要使用<code>include_directories()</code>命令包含头文件路径</p> 
    <blockquote> 
     <p>几点需要说明的：</p> 
     <ol><li>如果.h文件CMakeLists.txt同级目录，就可以不使用<code>include_directories()</code>命令进行包含</li><li>如果.h文件放置在当前目录下的include文件夹中，需要添加<code>include_directories(./include)</code>命令包含头文件</li></ol> 
    </blockquote> </li></ol> </li></ul> 
<h4><a id="Cmake_124"></a>三、有关于Cmake使用的几点说明：</h4> 
<ul><li> <p>CMakeLists.txt 书写路径以CMakeLists.txt 文件的<strong>同级目录</strong>为准</p> <p>上述关于自定义.h的说明就是这个意思，源文件和其他文件也类似，假设你源文件放置在src目录，对应需要更改</p> </li><li> <p>关于build文件夹的说明：</p> <p>利用cmake管理工程时，cmake会生成若干相关文件，发布代码时需要删除(与代码无法，使用者编译运行仅需txt文件即可)，因此使用build文件夹与源代码隔离开，便于操作</p> <pre><code class="prism language-bash"><span class="token function">mkdir</span> ./build
<span class="token builtin class-name">cd</span> ./build
cmake <span class="token punctuation">..</span> <span class="token comment"># ..进入上一级文件夹执行cmake命令</span>
<span class="token function">make</span>
./executableFile
</code></pre> </li></ul> 
<h4><a id="_142"></a>四、后记</h4> 
<p>此篇文章内容大多依赖于视觉SLAM14讲，介绍CMake的工程应用和简单语法，可以使读者在开始时能够成功调试自己编写的代码以及14讲中的代码，具有初步的开发能力，高阶的语法和使用后续会不断补充。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fbca56a17c4409b7fd1fc61440497e59/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Kubernetes(k8s)包管理工具Helm：Helm包管理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c9f351a8e5bda64224d4942d89b4e280/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【欧瑞博智能家居】ZigBee Mini网关、超静音智能开合帘电机 添加操作流程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>