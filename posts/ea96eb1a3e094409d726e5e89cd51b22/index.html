<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mysql003：基础查询 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mysql003：基础查询" />
<meta property="og:description" content="目录： 1. 基本查询
2. 条件查询（where）
3. 聚合函数（count、max、min、avg、sum）
4. 分组查询（group by）
5. 分组后查询（having）
6. 排序查询（order by）
7. 分页查询（limit）
1. 基本语法 SELECT
字段
FROM
表名
WHERE
条件
GROUP BY
分组
HAVING
分组后条件
ORDER BY
排序
LIMIT
分页参数
1.1. 查询多个字段 select 字段1,字段2,...from 表名;
1.2. 查询所有字段 select * from 表名;
1.3. 给字段设置别名 select 字段1 别名1, 字段2 别名2,... from 表名;
1.4. 去除重复记录 select distinct 字段 from 表名;
2. 条件查询（where） SELECT * FROM 表名 WHERE 条件" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ea96eb1a3e094409d726e5e89cd51b22/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-23T09:35:14+08:00" />
<meta property="article:modified_time" content="2023-09-23T09:35:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mysql003：基础查询</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>目录：</h2> 
<blockquote> 
 <p>1. 基本查询</p> 
 <p>2. 条件查询（where）</p> 
 <p>3. 聚合函数（count、max、min、avg、sum）</p> 
 <p>4. 分组查询（group by）</p> 
 <p>5. 分组后查询（having）</p> 
 <p>6. 排序查询（order by）</p> 
 <p>7. 分页查询（limit）</p> 
</blockquote> 
<h2>1. 基本语法</h2> 
<blockquote> 
 <p>SELECT<br>     字段<br> FROM<br>     表名<br> WHERE<br>     条件<br> GROUP BY<br>     分组<br> HAVING<br>     分组后条件<br> ORDER BY<br>     排序<br> LIMIT</p> 
 <p>    分页参数</p> 
</blockquote> 
<h4>1.1. 查询多个字段</h4> 
<blockquote> 
 <p>select 字段1,字段2,...from 表名;</p> 
</blockquote> 
<h4>1.2. 查询所有字段</h4> 
<blockquote> 
 <p>select * from 表名;</p> 
</blockquote> 
<h4>1.3. 给字段设置别名</h4> 
<blockquote> 
 <p>select 字段1 别名1, 字段2 别名2,... from 表名;</p> 
</blockquote> 
<h4>1.4. 去除重复记录</h4> 
<blockquote> 
 <p>select distinct 字段 from 表名;</p> 
</blockquote> 
<p></p> 
<h2>2. 条件查询（where）</h2> 
<blockquote> 
 <p>SELECT * FROM 表名 <span style="color:#fe2c24;">WHERE 条件</span></p> 
</blockquote> 
<table cellspacing="0"><tbody><tr><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:104.25pt;"><strong><span style="color:#000000;">比较运算符</span></strong></td><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:253.5pt;"><strong><span style="color:#000000;">功能</span></strong></td><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:65.25pt;"><strong><span style="color:#000000;">逻辑运算符</span></strong></td><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:165pt;"><strong><span style="color:#000000;">功能</span></strong></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">&gt;</span></td><td style="vertical-align:middle;"><span style="color:#000000;">大于</span></td><td style="vertical-align:middle;"><span style="color:#000000;">AND或&amp;&amp;</span></td><td style="vertical-align:middle;"><span style="color:#000000;">并且（多个条件需同时成立）</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">&gt;=</span></td><td style="vertical-align:middle;"><span style="color:#000000;">大于等于</span></td><td style="vertical-align:middle;"><span style="color:#000000;">OR或 ||</span></td><td style="vertical-align:middle;"><span style="color:#000000;">或者（某个条件成立即可）</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">&lt;</span></td><td style="vertical-align:middle;"><span style="color:#000000;">小于</span></td><td style="vertical-align:middle;"><span style="color:#000000;">NOT 或 !</span></td><td style="vertical-align:middle;"><span style="color:#000000;">非，取反</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">&lt;=</span></td><td style="vertical-align:middle;"><span style="color:#000000;">小于等于</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">=</span></td><td style="vertical-align:middle;"><span style="color:#000000;">等于</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">&lt;&gt;或!=</span></td><td style="vertical-align:middle;"><span style="color:#000000;">不等于</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">BETWEEN...AND...</span></td><td style="vertical-align:middle;"><span style="color:#000000;">在某个范围之内（最小值、最大值）</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">IN(...)</span></td><td style="vertical-align:middle;"><span style="color:#000000;">包含</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">LIKE 占位符</span></td><td style="vertical-align:middle;"><span style="color:#000000;">模糊查询（_匹配单个字符，%匹配多个字符）</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">is NULL</span></td><td style="vertical-align:middle;"><span style="color:#000000;">是NULL</span></td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr><tr><td style="vertical-align:middle;">=""</td><td style="vertical-align:middle;">等于空</td><td style="vertical-align:middle;"></td><td style="vertical-align:middle;"></td></tr></tbody></table> 
<h4>2.1 下面这几个简单的就不演示了</h4> 
<blockquote> 
 <p>select * from 表名 where 字段 &gt; 值; -- 大于</p> 
 <p>select * from 表名 where 字段 &gt;= 值; -- 大于等于</p> 
 <p>select * from 表名 where 字段 &lt; 值; -- 小于</p> 
 <p>select * from 表名 where 字段 &lt;= 值; -- 小于等于</p> 
 <p>select * from 表名 where 字段 = 值; -- 等于</p> 
 <p>select * from 表名 where 字段 &lt;&gt; 值  或  select * from 表名 where 字段 != 值; -- 不等于</p> 
</blockquote> 
<p></p> 
<h4><span style="color:#000000;">2.2 在某个范围之内：BETWEEN...AND...</span></h4> 
<p><img alt="" height="114" src="https://images2.imgbox.com/2a/36/fR7iL11r_o.png" width="437"></p> 
<p>如上学生表，假如让你查询成绩在80以上，90以下，你可以这样</p> 
<blockquote> 
 <p>select * from students where <span style="color:#fe2c24;">成绩 &gt;= 80 and 成绩 &lt;= 90;</span></p> 
</blockquote> 
<p>但是这样查有时候过于繁琐，如果查询的是一个范围， 且有最小值和最大值，你可用<span style="color:#000000;">BETWEEN...AND...，如下</span></p> 
<blockquote> 
 <p>select * from students where <span style="color:#fe2c24;">成绩 between 80 and 90;</span></p> 
</blockquote> 
<p></p> 
<h4>2.3 IN(...) 包含</h4> 
<p>查询包含（张三）和（李四）的记录</p> 
<blockquote> 
 <p>select * from students where 姓名 in ('张三','李四');</p> 
</blockquote> 
<p></p> 
<h4>2.4 <span style="color:#000000;">LIKE 模糊查询</span></h4> 
<p>查询性张的学生记录。_一个下划线的意思就是"张"后面只允许出现一个字，两个下划线允许出现两个字，而%号允许出现任何数字</p> 
<blockquote> 
 <p>select * from students where 姓名 like ('张_');</p> 
 <p>select * from students where 姓名 like ('张%');</p> 
</blockquote> 
<p></p> 
<h4>2.5 <span style="color:#000000;">is NULL 和 = "" （是NULL，等于空）</span></h4> 
<p><span style="color:#000000;">要注意这两个不是同一个东西，一般来说is null 是用于数字查询上， = "" 是用于字符串查询上，NULL和空的区别是，null是未知值；而空是已知值，值就是空</span></p> 
<p><img alt="" height="120" src="https://images2.imgbox.com/59/09/UALCvru5_o.png" width="438"></p> 
<blockquote> 
 <p>select * from students where 成绩 is null; -- 查询成绩为null的记录</p> 
 <p>select * from students where 姓名 = ''; -- 查询姓名为空的记录</p> 
</blockquote> 
<p></p> 
<h4>2.6 <span style="color:#000000;">AND或&amp;&amp; （并且）</span></h4> 
<p><span style="color:#000000;">查询姓名为（张三）并且年龄等于（20）的记录</span></p> 
<blockquote> 
 <p>select * from students where 姓名 = '张三' and 年龄 = 20;</p> 
 <p>select * from students where 姓名 = '张三' &amp;&amp; 年龄 = 20;</p> 
</blockquote> 
<p></p> 
<h4>2.7 <span style="color:#000000;">OR或 || （或者）</span></h4> 
<p><span style="color:#000000;">查询姓名为（张三）或者年龄等于（21）的记录</span></p> 
<blockquote> 
 <p>select * from students where 姓名 = '张三' or 年龄 = 20;</p> 
</blockquote> 
<p></p> 
<h4>2.8 <span style="color:#000000;">NOT 或 !（非、取反）</span></h4> 
<p><span style="color:#000000;">首先说一下&lt;&gt; != 和 not ! 的区别， &lt;&gt; != 用于比较两个值不相等的情况， 而not !是对于结果取反，其实他们的用意都是一样的， 只是写法不一样。</span></p> 
<p>查询姓名等于（张三）的反记录</p> 
<blockquote> 
 <p>select * from students s where not 姓名 = '张三';</p> 
</blockquote> 
<p></p> 
<h2>3. 聚合函数</h2> 
<p>聚合函数是将一列作为一个查询整体进行纵向计算的。通俗来说就是聚合函数通常是用来计算列的</p> 
<table cellspacing="0" style="width:344.27pt;"><tbody><tr><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:165.75pt;"><strong><span style="color:#000000;">函数</span></strong></td><td style="background-color:#ffff00;text-align:center;vertical-align:middle;width:178.5pt;"><strong><span style="color:#000000;">功能</span></strong></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">count</span></td><td style="vertical-align:middle;"><span style="color:#000000;">统计列行数</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">max</span></td><td style="vertical-align:middle;"><span style="color:#000000;">求列中最大值</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">min</span></td><td style="vertical-align:middle;"><span style="color:#000000;">求列中最小值</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">avg</span></td><td style="vertical-align:middle;"><span style="color:#000000;">求列中平均值</span></td></tr><tr><td style="vertical-align:middle;"><span style="color:#000000;">sum</span></td><td style="vertical-align:middle;"><span style="color:#000000;">对整列求和</span></td></tr></tbody></table> 
<p>语法：</p> 
<blockquote> 
 <p>select 聚合函数(字段) from 表名;</p> 
</blockquote> 
<h4>3.1 count</h4> 
<p>求表中的行数。注意：列中的null值是不纳入计算的</p> 
<blockquote> 
 <p>select count(*) from 表名;</p> 
 <p>select count(id) from 表名;</p> 
 <p>select count(1) from 表名;</p> 
</blockquote> 
<h4>3.2 max</h4> 
<p>求某列中的最大值</p> 
<blockquote> 
 <p>select max(成绩) from 表名;</p> 
</blockquote> 
<p></p> 
<h4>3.3 min</h4> 
<p>求某列中的最小值</p> 
<blockquote> 
 <p>select min(成绩) from 表名;</p> 
</blockquote> 
<p></p> 
<h4>3.4 avg</h4> 
<p>求某列中的平均值</p> 
<blockquote> 
 <p>select avg(成绩) from 表名;</p> 
</blockquote> 
<p></p> 
<h4>3.5 sum</h4> 
<p>对某列求和</p> 
<blockquote> 
 <p>select sum(成绩) from 表名;</p> 
</blockquote> 
<p></p> 
<h2>4. 分组查询（group by）</h2> 
<p>分组的意思就是想某列相同的数据分为一组，查询出来的结果和去重功能有点相似，但是分组不是去重，去重是将有重叠的部分删除掉，重叠的那部分数据我们无法再进行操作；而通过分组出来的数据，重叠的那部分数据并消失，只是隐藏起来了，我们还是可以对重叠部分的数据进行计算的，例如进行求和运算、取最大值运算等等。</p> 
<p>语法：where 条件可以不写</p> 
<blockquote> 
 <p>select 字段 from 表名 <span style="color:#38d8f0;">where 条件</span> <span style="color:#fe2c24;">group by 分组字段名 </span><span style="color:#4da8ee;">having 条件</span><span style="color:#fe2c24;">;</span></p> 
</blockquote> 
<p><img alt="" height="110" src="https://images2.imgbox.com/bb/f4/65RR96nr_o.png" width="435"></p> 
<p>还是上面这个表， 查询男生和女生的总成绩是多少</p> 
<blockquote> 
 <p>select sum(成绩) from students s group by 性别;</p> 
</blockquote> 
<p></p> 
<h2>5. 分组后查询条件（having）</h2> 
<p>having和where是区别的， where是在分组前使用的， having是在分组之后使用的。简单来说就是分组之后表可以作为一个整体，然后使用having对它进行条件查询。</p> 
<blockquote> 
 <p>select * from 表名 where 条件 group by 字段 <span style="color:#fe2c24;">having 条件</span>;</p> 
</blockquote> 
<p></p> 
<h2>6. 排序查询</h2> 
<blockquote> 
 <p>select 字段 from 表名 order by 字段1 排序方式1, 字段2 排序方式2...;</p> 
</blockquote> 
<p>排序方式只有两种，ASC升序，DESC降序。如果使用的升序，可以省略ASC不写。从语法可以看出来，排序是支持多字段排序的， 它的排序逻辑是先按照字段1进行排序， 如果有相同的，相同的数据在按字段2进行排序，以此类推</p> 
<p><img alt="" height="116" src="https://images2.imgbox.com/38/ac/niqbGi8A_o.png" width="433"></p> 
<p>按成绩进行升序排序</p> 
<blockquote> 
 <p>select * from students order by 成绩;</p> 
</blockquote> 
<p>按成绩进行降序排序</p> 
<blockquote> 
 <p>select * from students order by 成绩 desc;</p> 
</blockquote> 
<p>先按成绩进行升序排序， 在按年龄进行升序排序</p> 
<blockquote> 
 <p>select * from students order by 成绩, 年龄;</p> 
</blockquote> 
<p></p> 
<h2>7. 分页查询</h2> 
<blockquote> 
 <p>select * from 表名 limit 起始索引,查询记录数;</p> 
</blockquote> 
<p>注意1：起始索引 = （查询页数 - 1） * 查询记录数。</p> 
<p>怎么理解这句话呢？ 假如你想查询第2页， 每页显示10条数据，那么“起始索引”就等于（2-1）*10=1， 那么sql应该这么写：select * from 表名 limit 1,10;   或许你有疑惑，起始页为什么要按这个公式来呢？ 不用思考太多，规则就是这样的</p> 
<p>注意2：limit这个关键字是mysql专用的， 在oracle中是不适用的。</p> 
<p></p> 
<h2>补充：sql语句的执行顺序</h2> 
<p>sql的编写顺序：</p> 
<blockquote> 
 <p>SELECT<br>     字段<br> FROM<br>     表名<br> WHERE<br>     条件<br> GROUP BY<br>     分组<br> HAVING<br>     分组后条件<br> ORDER BY<br>     排序<br> LIMIT</p> 
 <p>    分页参数</p> 
</blockquote> 
<p>sql的执行顺序：</p> 
<p><img alt="" height="386" src="https://images2.imgbox.com/2b/f1/s610TYOj_o.png" width="257"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/59acb894eddb16c341d0943915fc60a5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">sns.load_dataset(“iris“)报错原因探究&#43;解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/13f532253a5616360a76b9a292fd4469/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">查看python pip安装的包存放路径（site-packages目录的位置）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>