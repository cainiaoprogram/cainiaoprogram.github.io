<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>npm 在安装的时候提示 没有权限操作的解决办法 Error: EACCES: permission denied - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="npm 在安装的时候提示 没有权限操作的解决办法 Error: EACCES: permission denied" />
<meta property="og:description" content="npm 在安装的时候提示 没有权限操作的解决办法 Error: EACCES: permission denied 在安装插件的时候出现这样的错误，权限不够，是因为之前用 root 用户进行了局部安装npm包的操作，留下所属权为 root 的文件，导致普通用户无法访问 root的文件内容。
报错日志如下： npm ERR! path /Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c npm ERR! code EACCES npm ERR! errno -13 npm ERR! syscall open npm ERR! Error: EACCES: permission denied, open &#39;/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c&#39; npm ERR! { [Error: EACCES: permission denied, open &#39;/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c&#39;] npm ERR! cause: npm ERR! { Error: EACCES: permission denied, open &#39;/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c&#39; npm ERR! errno: -13, npm ERR! code: &#39;EACCES&#39;, npm ERR! syscall: &#39;open&#39;, npm ERR!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/cd973fc9e04d727df7b1305550d4777f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-23T09:29:38+08:00" />
<meta property="article:modified_time" content="2022-05-23T09:29:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">npm 在安装的时候提示 没有权限操作的解决办法 Error: EACCES: permission denied</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="npm___Error_EACCES_permission_denied_1"></a>npm 在安装的时候提示 没有权限操作的解决办法 Error: EACCES: permission denied</h2> 
<p>在安装插件的时候出现这样的错误，权限不够，是因为之前用 <code>root</code> 用户进行了局部安装npm包的操作，留下所属权为 <code>root</code> 的文件，导致普通用户无法访问 <code>root</code>的文件内容。</p> 
<h3><a id="_5"></a>报错日志如下：</h3> 
<p><img src="https://images2.imgbox.com/69/55/nsUzHlej_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash"><span class="token function">npm</span> ERR<span class="token operator">!</span> path /Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c
<span class="token function">npm</span> ERR<span class="token operator">!</span> code EACCES
<span class="token function">npm</span> ERR<span class="token operator">!</span> errno -13
<span class="token function">npm</span> ERR<span class="token operator">!</span> syscall <span class="token function">open</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span> Error: EACCES: permission denied, <span class="token function">open</span> <span class="token string">'/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c'</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span>  <span class="token punctuation">{<!-- --></span> <span class="token punctuation">[</span>Error: EACCES: permission denied, <span class="token function">open</span> <span class="token string">'/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c'</span><span class="token punctuation">]</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span>   cause:
<span class="token function">npm</span> ERR<span class="token operator">!</span>    <span class="token punctuation">{<!-- --></span> Error: EACCES: permission denied, <span class="token function">open</span> <span class="token string">'/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c'</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span>      errno: -13,
<span class="token function">npm</span> ERR<span class="token operator">!</span>      code: <span class="token string">'EACCES'</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>      syscall: <span class="token string">'open'</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>      path:
<span class="token function">npm</span> ERR<span class="token operator">!</span>       <span class="token string">'/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c'</span> <span class="token punctuation">}</span>,
<span class="token function">npm</span> ERR<span class="token operator">!</span>   isOperational: true,
<span class="token function">npm</span> ERR<span class="token operator">!</span>   stack:
<span class="token function">npm</span> ERR<span class="token operator">!</span>    <span class="token string">'Error: EACCES: permission denied, open \'</span>/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c<span class="token punctuation">\</span>'<span class="token string">',
npm ERR!   errno: -13,
npm ERR!   code: '</span>EACCES<span class="token string">',
npm ERR!   syscall: '</span><span class="token function">open</span><span class="token string">',
npm ERR!   path:
npm ERR!    '</span>/Users/Kyle/.npm/_cacache/index-v5/d8/1f/98ab242d0cbad080828ef3e3f4b864c25e506a719121c293fec810b14b3c<span class="token string">',
npm ERR!   parent: '</span>findup-sync' <span class="token punctuation">}</span>
<span class="token function">npm</span> ERR<span class="token operator">!</span> 
<span class="token function">npm</span> ERR<span class="token operator">!</span> The operation was rejected by your operating system.
<span class="token function">npm</span> ERR<span class="token operator">!</span> It is likely you <span class="token keyword">do</span> not have the permissions to access this <span class="token function">file</span> as the current user
<span class="token function">npm</span> ERR<span class="token operator">!</span> 
<span class="token function">npm</span> ERR<span class="token operator">!</span> If you believe this might be a permissions issue, please double-check the
<span class="token function">npm</span> ERR<span class="token operator">!</span> permissions of the <span class="token function">file</span> and its containing directories, or try running
<span class="token function">npm</span> ERR<span class="token operator">!</span> the <span class="token builtin class-name">command</span> again as root/Administrator <span class="token punctuation">(</span>though this is not recommended<span class="token punctuation">)</span>.

<span class="token function">npm</span> ERR<span class="token operator">!</span> A complete log of this run can be found in:
<span class="token function">npm</span> ERR<span class="token operator">!</span>     /Users/Kyle/.npm/_logs/2019-03-26T07_00_54_812Z-debug.log
</code></pre> 
<h3><a id="_46"></a>错误原因：</h3> 
<p>找到报错的文件，会看到它的所有者是 <code>root</code>。<br> 之前用 <code>root</code> 进行了局部的安装操作，导致这个文件的所有者是 <code>root</code> ，还包括 <code>.npm</code> 文件夹下部分文件夹的所有权，也是 <code>root</code>，普通用户当然就无权访问了。就会报权限错误。</p> 
<p><img src="https://images2.imgbox.com/c4/a6/1m7kMqQK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_56"></a>解决办法</h3> 
<p>就是把用户目录下的 <code>.npm</code> 文件夹所有权都改成当前用户即可。</p> 
<blockquote> 
 <p>或者删除项目所有文件，重新导入项目，使用普通用户安装项目依赖。</p> 
</blockquote> 
<p>比如：当前用户名为 <code>Kyle</code></p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">chown</span> -R Kyle ~/.npm 
</code></pre> 
<p>执行后输入 root 密码，文件所属已改为当前用户了，再执行操作就不会出现了。</p> 
<p><img src="https://images2.imgbox.com/a1/d6/qPJK2Unx_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/83/39/zKor51MN_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="_77"></a>注意事项</h3> 
<p>初学者在用 terminal 操作 npm 的时候，经常会混用 <code>root</code> 和 普通用户。<br> 由于分不清全局安装和局部安装的区别，才会出现乱用 <code>root</code> 的问题。</p> 
<p>一般来说，全局安装就用 <code>root</code> 安装，它的 <code>node_modules</code> 目录是在系统层面的，比如一些需要在每个目录下都可以使用的工具：</p> 
<ul><li><code>nrm</code> npm 包源地址管理</li><li><code>n</code> macOS 升级 nodejs 用的</li></ul> 
<p>在某个项目中安装东西，用普通用户就可以，它的 <code>node_modules</code> 目录在项目目录下。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f00a39162db871ddc3a42d60130a02c6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【游戏开发答疑】马里奥派对选面积大作战玩法的功能实现（Unity | 算法 | 四邻域 | 连通块 | 面积比例分割）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/89063fd6d7a262079e4e4641a12c8e12/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决nacos启动闪退的问题（此时不应有 \nacos“\logs\java_heapdump.hprof -XX:-UseLargePages“）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>