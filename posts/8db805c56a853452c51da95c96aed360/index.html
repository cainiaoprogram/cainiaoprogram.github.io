<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何比较本地git分支与其远程分支？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何比较本地git分支与其远程分支？" />
<meta property="og:description" content="如何查看本地分支和远程分支之间的diff ？ #1楼 第一种 git branch -a 获取可用分支列表。 在输出上你可能会看到类似的东西 * master remotes/main/master remotes/origin/HEAD -&gt; origin/master remotes/origin/master remotes/origin/mt remotes/upstream/master remotes/upstream/mt 然后显示差异 git diff --stat --color remotes/main/master..origin/master git diff remotes/main/master..origin/master #2楼 要更新远程跟踪分支，您需要先键入git fetch然后： git diff &lt;masterbranch_path&gt; &lt;remotebranch_path&gt; 你可以git branch -a列出所有分支机构（本地和远程）然后选择分支的名字从名单（只是删除remotes/远程分支的名字。 示例： git diff master origin/master （其中“master”是本地主分支，“origin / master”是远程，即origin和master分支。） #3楼 git diff &lt;local branch&gt; &lt;remote&gt;/&lt;remote branch&gt; 例如git diff master origin/master ，或git diff featureA origin/next 当然， 曾经说过，你需要远程跟踪分支 git fetch第一; 并且您需要它以获得有关远程存储库中分支的最新信息。 #4楼 简单的方法： git fetch git log -p HEAD." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8db805c56a853452c51da95c96aed360/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-15T13:48:44+08:00" />
<meta property="article:modified_time" content="2019-12-15T13:48:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何比较本地git分支与其远程分支？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>如何查看本地分支和远程分支之间的<code>diff</code> ？ </p> 
<hr> 
<h4>#1楼</h4> 
<p> 第一种 </p> 
<pre><code><a href="http://www.javaxxz.com/thread-377026-1-1.html" rel="nofollow">git</a> branch -a
</code></pre> 
<p> 获取可用分支列表。 在输出上你可能会看到类似的东西 </p> 
<pre><code>* master
  remotes/main/master
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/master
  remotes/origin/mt
  remotes/upstream/master
  remotes/upstream/mt
</code></pre> 
<p> 然后显示差异 </p> 
<pre><code>git diff --stat --color remotes/main/master..origin/master
git diff remotes/main/master..origin/master
</code></pre> 
<hr> 
<h4>#2楼</h4> 
<p> 要更新远程跟踪分支，您需要先键入<code>git fetch</code>然后： </p> 
<pre><code>git diff &lt;masterbranch_path&gt; &lt;remotebranch_path&gt;
</code></pre> 
<p> 你可以<code>git branch -a</code>列出所有分支机构（本地和远程）然后选择分支的名字从名单（只是删除<code>remotes/</code>远程分支的名字。 </p> 
<p> 示例： <code>git diff master origin/master</code> （其中“master”是本地主分支，“origin / master”是远程，即origin和master分支。） </p> 
<hr> 
<h4>#3楼</h4> 
<pre><code>git diff &lt;local branch&gt; &lt;remote&gt;/&lt;remote branch&gt;
</code></pre> 
<p> 例如<code>git diff master origin/master</code> ，或<code>git diff featureA origin/next</code> </p> 
<p> 当然， <strong>曾经</strong>说过，你需要<em>远程跟踪分支</em> <code>git fetch</code>第一; 并且您需要它以获得有关远程存储库中分支的最新信息。 </p> 
<hr> 
<h4>#4楼</h4> 
<p> 简单的方法： </p> 
<pre><code>git fetch
git log -p HEAD..FETCH_HEAD
</code></pre> 
<p> 这将首先从默认远程（原点）获取更改。 克隆repo时会自动创建。 你也可以是显式的： <code>git fetch origin master</code> 。 </p> 
<p> 然后git log用于比较当前分支与刚刚获取的分支。 （ <code>-p</code> （生成补丁）选项显示了<em>差异</em> 。） </p> 
<hr> 
<h4>#5楼</h4> 
<p> 让你的工作分支开发，并希望区分本地开发分支和远程开发分支，那种情况下，语法应该像<code>git diff remotes/origin/development..development</code> <br> 要么 </p> 
<p> <code>git fetch origin git diff origin/development</code> </p> 
<hr> 
<h4>#6楼</h4> 
<p> 如果您在某个分支上，并且想要将其与您正在跟踪的上游分支进行比较，请使用 </p> 
<pre><code>git diff @{upstream}
</code></pre> 
<p> 由于<a href="https://stackoom.com/question/7YSt/%E5%A6%82%E4%BD%95%E6%AF%94%E8%BE%83%E6%9C%AC%E5%9C%B0git%E5%88%86%E6%94%AF%E4%B8%8E%E5%85%B6%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF" rel="nofollow">这个答案</a> ，用于<a href="https://stackoom.com/question/7YSt/%E5%A6%82%E4%BD%95%E6%AF%94%E8%BE%83%E6%9C%AC%E5%9C%B0git%E5%88%86%E6%94%AF%E4%B8%8E%E5%85%B6%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF" rel="nofollow">指定修订</a>的git文档具有： </p> 
<blockquote> 
 <p> <code>&lt;branchname&gt;@{upstream}</code> ，例如<code>master@{upstream}</code> ， <code>@{u}</code> <br> 对于branchname的后缀<code>@{upstream}</code> （简短形式<code>&lt;branchname&gt;@{u}</code> ）是指由<code>branchname</code>指定的分支设置为在其上构建的<code>branch.&lt;name&gt;.remote</code> （使用<code>branch.&lt;name&gt;.remote</code>和<code>branch.&lt;name&gt;.merge</code> ）。 缺少的<code>branchname</code>默认为当前的。 </p> 
</blockquote> 
<hr> 
<h4>#7楼</h4> 
<p> 如果你想看到区别只是改变了文件的名称，那么使用： <br><br><code>git diff --name-status &lt;remote-branch&gt; &lt;local-branch&gt;</code> ， <br><br> 否则这将显示两个分支之间的所有差异： <br><br><code>git diff &lt;remote-branch&gt; &lt;local-branch&gt;</code> </p> 
<hr> 
<h4>#8楼</h4> 
<p> 我就是这样做的。 </p> 
<pre><code>#To update your local.
git fetch --all
</code></pre> 
<p> 这将从远程获取所有内容，因此当您检查差异时，它将比较远程分支的差异。 </p> 
<pre><code>#to list all branches
git branch -a
</code></pre> 
<p> 上面的命令将显示所有分支。 </p> 
<pre><code>#to go to the branch you want to check difference
git checkout &lt;branch_name&gt;
#to check on which branch you are in, use
git branch
    (or)
git status
</code></pre> 
<p> 现在，您可以按如下方式检查差异。 </p> 
<pre><code>git diff origin/&lt;branch_name&gt;
</code></pre> 
<p> 这将比较您的本地分支与远程分支 </p> 
<hr> 
<h4>#9楼</h4> 
<p> 我知道这个问题已经有几个答案，但我在尝试大部分问题时遇到了一个奇怪的错误。 </p> 
<p> 在我的情况下，我有一个名为<code>heroku</code>的第二个遥控器，它<strong>不是</strong> <code>origin</code> ，因为它不同步我在尝试运行<code>git diff master heroku/master</code>时遇到了这个错误： </p> 
<p> <code>fatal: ambiguous argument 'heroku/master': unknown revision or path not in the working tree.</code> </p> 
<p> 或尝试其他方法<code>git diff master..heroku/master</code> ： </p> 
<p> <code>fatal: bad revision 'master..heroku/master'</code> </p> 
<p> 在我的情况下，解决方案在运行<code>git diff</code>之前明确提到了<code>git fetch</code>上的远程名称： </p> 
<pre><code>$ git fetch heroku
$ git diff master heroku/master
</code></pre> 
<p> 希望能帮助其他人解决同样的问题。 </p> 
<hr> 
<h4>#10楼</h4> 
<p> 例 </p> 
<pre><code>git diff 'master' 'testlocalBranch'
</code></pre> 
<p> 如果你使用像webstorm这样的编辑器，你可以右键单击文件选择与分支比较并输入/选择你的分支。 </p> 
<p> <a href="https://stackoom.com/question/7YSt/%E5%A6%82%E4%BD%95%E6%AF%94%E8%BE%83%E6%9C%AC%E5%9C%B0git%E5%88%86%E6%94%AF%E4%B8%8E%E5%85%B6%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF" rel="nofollow"><img src="https://images2.imgbox.com/db/db/FIU8NxNo_o.png" alt="在此输入图像描述"></a> </p> 
<p> <a href="https://i.stack.imgur.com/gKjV3.png" rel="nofollow"><img src="https://images2.imgbox.com/0a/93/P5ktySiw_o.png" alt="在此输入图像描述"></a> </p> 
<hr> 
<h4>#11楼</h4> 
<p> 如果您要比较当前分支和想要<code>git pull</code>这是一个速记答案。 </p> 
<pre><code>git fetch
git diff FETCH_HEAD
</code></pre> 
<p> 第一个命令将确定哪个远程分支对应于当前分支。 <code>FETCH_HEAD</code>参考中的计算工件。 然后第二个命令使用该引用比较与当前分支的比较。 </p> 
<hr> 
<h4>#12楼</h4> 
<pre><code>git difftool &lt;commit&gt; .
</code></pre> 
<p> 这将比较您想要的提交与本地文件。 不要忘记最后的点（对于本地）。 </p> 
<p> 例如，要将本地文件与某些提交进行比较： </p> 
<blockquote> 
 <p> git difftool 1db1ef2490733c1877ad0fb5e8536d2935566341。 </p> 
</blockquote> 
<p> （并且您不需要git fetch，除非需要与新提交进行比较） </p> 
<hr> 
<h4>#13楼</h4> 
<p> <strong>tl; dr</strong> ： <code>git diff &lt;local branch&gt; &lt;remote branch&gt;</code> </p> 
<p> 在shell上使用git时，我喜欢首先通过环顾四周定位自己。 这是<strong>显示所有分支</strong>的命令 </p> 
<pre><code>$ git branch -a  # (or git branch --all) 
* my-branch
  master
  remotes/origin/some-branch
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/my-branch
  remotes/origin/some-other-branch
  remotes/origin/master
</code></pre> 
<p> 这里我有两个本地分支（ <code>my-branch</code>和<code>master</code> ）和4个远程（ <code>some-branch</code> ， <code>some-other-branch</code> ， <code>master</code>和<code>my-branch</code> ）。 </p> 
<p> 此外， <code>my-branch</code>旁边的星号表示我当前正在该分支中（您还可以通过使用将输出的命令<code>git status</code>来知道： <code>On branch my-branch.</code> ）。 </p> 
<p> <em>注意：git bash shell中的远程分支显示为红色，而本地显示为绿色。</em> </p> 
<p> 如果您只想<strong>显示远程分支</strong> ： </p> 
<pre><code>$ git branch -r # (or git branch --remotes)
  origin/some-branch
  origin/HEAD -&gt; origin/master
  origin/my-branch
  origin/some-other-branch
  origin/master
</code></pre> 
<p> <em>要显示本地分支，您可能会尝试使用<code>git branch -l</code>但这是一个完全不同的命令。</em> 要<strong>显示本地分支，请</strong>使用没有选项的<code>git branch</code> </p> 
<pre><code>$ git branch
* my-branch 
  master
</code></pre> 
<p> 要完成的基本分支选项的审核还有的<code>--list</code>是违背你可能期望有什么好让<strong>过滤</strong> 。 使用这样的模式： </p> 
<pre><code>$ git branch --list 'my*'
* my-branch
</code></pre> 
<p> 您还可以将<code>--list</code>与选项<code>-a</code>和<code>-r</code>结合使用，但请确保相应地调整您的模式（ <em>请记住：远程分支以“遥控器”开头</em> ）。 例： </p> 
<pre><code># this will show all branches (local &amp; remote) that start with my
$ git branch --list 'my*' -a
* my-branch

# better: the pattern includes the remote
$ git branch --list '*my*' -a
* my-branch
  remotes/origin/my-branch
</code></pre> 
<p> 文档： <a href="https://git-scm.com/docs/git-branch" rel="nofollow">https</a> ： <a href="https://git-scm.com/docs/git-branch" rel="nofollow">//git-scm.com/docs/git-branch</a> </p> 
<p> 现在你可以<strong>比较</strong>所有可用的<strong>两个分支</strong> （你也可以比较两个本地或两个遥控器）。 </p> 
<p> 在这里我将本地与远程<code>my-branch</code>进行比较，它们是同步的，所以我没有得到任何输出： </p> 
<pre><code>$ git diff my-branch remotes/origin/my-branch
</code></pre> 
<p> <em>注意：您必须提供没有引号的分支的全名。</em> </p> 
<p> 我还可以比较本地<code>my-branch</code>和远程<code>master</code> 。 这里我得到一些输出，因为远程<code>my-branch</code>尚未合并到主分支中。 </p> 
<pre><code>$ git diff my-branch remotes/origin/master
diff --git a/src/controllers/call.controller.js b/src/controllers/call.controller.js
index fd79b98..df3d798 100644
--- a/src/controllers/call.controller.js
+++ b/src/controllers/call.controller.js
@@ -261,7 +261,7 @@ function callController() {
   /*
    *  Function: doCall
[ . . . ]
</code></pre> 
<hr> 
<h4>#14楼</h4> 
<h2> 建立 </h2> 
<p> <code>git config alias.udiff 'diff @{u}'</code> </p> 
<h2> 使用HEAD @ {upstream}扩散HEAD </h2> 
<pre><code>git fetch  # Do this if you want to compare with the network state of upstream; if the current local state is enough, you can skip this
git udiff
</code></pre> 
<h2> 与任意远程分支区分 </h2> 
<p> 这回答了你标题中的问题（“遥远的”）; 如果要对“远程”（未配置为分支的上游）进行区分，则需要直接对其进行定位。 您可以使用以下内容查看所有远程分支： </p> 
<p> <code>git branch -r</code> </p> 
<p> 您可以使用以下命令查看所有已配置的遥控器： </p> 
<p> <code>git remote show</code> </p> 
<p> 您可以看到单个遥控器（例如原点）的分支/跟踪配置，如下所示： </p> 
<p> <code>git remote show origin</code> </p> 
<p> 一旦确定了合适的原点分支，就做一个正常的差异:) </p> 
<p> <code>git diff [MY_LOCAL] MY_REMOTE_BRANCH</code> </p> 
<hr> 
<h4>#15楼</h4> 
<p> 我想知道我的<strong>主</strong>分支是否有任何变化...... </p> 
<ol><li> 首先，你需要改变你的分支（如果你已经在这个分支下，你不需要这样做！） </li></ol> 
<blockquote> 
 <p> git checkout master </p> 
</blockquote> 
<ol start="2"><li> 您可以通过此命令查看在主分支下已修改的文件 </li></ol> 
<blockquote> 
 <p> git状态 </p> 
</blockquote> 
<ol start="3"><li> 列出分支机构 </li></ol> 
<blockquote> 
 <p> git branch -a </p> 
 <ul><li> 主 <br> 遥控器/来源/主 </li></ul> 
</blockquote> 
<ol start="4"><li> 找出差异 </li></ol> 
<blockquote> 
 <p> git diff origin / master </p> 
</blockquote> 
<hr> 
<h4>#16楼</h4> 
<p> 这很简单。 您可以使用： <code>git diff remote/my_topic_branch my_topic_branch</code> </p> 
<p> <code>my_topic_branch</code>是您的主题分支。 </p> 
<hr> 
<h4>#17楼</h4> 
<p> 我更了解输出： </p> 
<p> <em><code>git diff &lt;remote-tracking branch&gt; &lt;local branch&gt;</code></em> </p> 
<p> 这告诉我什么将被删除，如果我推动本地分支将会添加什么。 当然它是相同的，只是反过来，但对我来说更具可读性，我更容易看到将要发生的事情。 </p> 
<hr> 
<h4>#18楼</h4> 
<p> 如果您使用<a href="https://tortoisegit.org/" rel="nofollow">TortoiseGit</a> （它为Git提供GUI），您可以右键单击您的Git repo文件夹，然后单击<code>Git Sync</code> 。 </p> 
<p> 如果未选择，您可以选择要比较的分支。 比你可以查看差异提交。 您也可以右键单击任何提交，然后<code>Compare with previous revision</code>进行<code>Compare with previous revision</code>并排查看差异。 <a href="https://i.stack.imgur.com/tpN6q.png" rel="nofollow"><img src="https://images2.imgbox.com/63/b8/TmV4CEXY_o.png" alt="togoise git sync来比较远程和本地分支"></a> </p> 
<hr> 
<h4>#19楼</h4> 
<p> 假设您已将<code>origin</code>设置为远程存储库。 然后， </p> 
<p> <code>git diff &lt;local branch&gt; &lt;origin&gt;/&lt;remote branch name&gt;</code> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/52c7a80a3d06e99795d870eb1fc984c8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何使用extern在源文件之间共享变量？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f3dc21c81ac8406fa7ebeca74ebf80ac/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">浏览器访问跨域问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>