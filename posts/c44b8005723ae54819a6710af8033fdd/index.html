<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux下Maven的安装与使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux下Maven的安装与使用" />
<meta property="og:description" content="Apache Maven，是一个软件（特别是Java软件）项目管理及自动构建工具，由Apache软件基金会所提供。基于项目对象模型（POM）概念，Maven利用一个中央信息片断能管理一个项目的构建、报告和文档等步骤。曾是Jakarta项目的子项目，现为独立Apache项目。
现在有很多Apache项目都已经开始采用Maven进行管理。
本篇文章简单介绍了Maven的相关知识，以及在Linux下的安装与使用方法。如果需要进一步了解Maven，请移步Maven官网。http://maven.apache.org
安装Maven Maven的下载地址：http://maven.apache.org/download.cgi
这里以最新的3.2.3版本为例进行安装，在这之前需要确保机器上已经安装了JDK。
首先下载Maven并解压，并移动到usr/local目录下
$ wget http://mirror.bit.edu.cn/apache/maven/maven-3/3.2.3/binaries/apache-maven-3.2.3-bin.tar.gz
$ tar vxf apache-maven-3.2.3-bin.tar.gz
$ mv apache-maven-3.2.3 /usr/local/maven3
修改环境变量，在/etc/profile中添加以下几行
MAVEN_HOME=/usr/local/maven3
export MAVEN_HOME
export PATH=${PATH}:${MAVEN_HOME}/bin
记得执行source /etc/profile使环境变量生效。
最后运行mvn -v验证maven是否安装成功，如果安装成功会打印如下内容
Apache Maven 3.2.3 (33f8c3e1027c3ddde99d3cdebad2656a31e8fdf4; 2014-08-12T04:58:10&#43;08:00)
Maven home: /usr/local/maven3
Java version: 1.7.0_65, vendor: Oracle Corporation
Java home: /usr/lib/jvm/java-7-openjdk-amd64/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &#34;linux&#34;, version: &#34;3.13.0-35-generic&#34;, arch: &#34;amd64&#34;, family: &#34;unix&#34;
使用Maven创建项目 无论是学习语言还是框架，先来一个Hello World基本上已经是套路了，我们也通过构建一个Hello World项目来了解如何使用Maven。
首先通过maven创建helloworld项目
$ mvn archetype:create -DgroupId=helloworld -DartifactId=helloworld" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c44b8005723ae54819a6710af8033fdd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-11T15:43:20+08:00" />
<meta property="article:modified_time" content="2018-08-11T15:43:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux下Maven的安装与使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Apache Maven，是一个软件（特别是Java软件）项目管理及自动构建工具，由Apache软件基金会所提供。基于项目对象模型（POM）概念，Maven利用一个中央信息片断能管理一个项目的构建、报告和文档等步骤。曾是Jakarta项目的子项目，现为独立Apache项目。</p> 
<p>现在有很多Apache项目都已经开始采用Maven进行管理。</p> 
<p>本篇文章简单介绍了Maven的相关知识，以及在Linux下的安装与使用方法。如果需要进一步了解Maven，请移步Maven官网。<a href="http://maven.apache.org/" rel="nofollow">http://maven.apache.org</a></p> 
<p> </p> 
<h4 id="安装Maven"><strong>安装Maven</strong></h4> 
<p>Maven的下载地址：<a href="http://maven.apache.org/download.cgi" rel="nofollow">http://maven.apache.org/download.cgi</a><br> 这里以最新的3.2.3版本为例进行安装，在这之前需要确保机器上已经安装了JDK。</p> 
<p>首先下载Maven并解压，并移动到usr/local目录下</p> 
<p>$ wget http://mirror.bit.edu.cn/apache/maven/maven-3/3.2.3/binaries/apache-maven-3.2.3-bin.tar.gz</p> 
<p>$ tar vxf apache-maven-3.2.3-bin.tar.gz</p> 
<p>$ mv apache-maven-3.2.3 /usr/local/maven3</p> 
<p>修改环境变量，在/etc/profile中添加以下几行</p> 
<p>MAVEN_HOME=/usr/local/maven3</p> 
<p>export MAVEN_HOME</p> 
<p>export PATH=${PATH}:${MAVEN_HOME}/bin</p> 
<p>记得执行<code>source /etc/profile</code>使环境变量生效。</p> 
<p>最后运行<code>mvn -v</code>验证maven是否安装成功，如果安装成功会打印如下内容</p> 
<p>Apache Maven 3.2.3 (33f8c3e1027c3ddde99d3cdebad2656a31e8fdf4; 2014-08-12T04:58:10+08:00)</p> 
<p>Maven home: /usr/local/maven3</p> 
<p>Java version: 1.7.0_65, vendor: <a href="http://www.linuxidc.com/topicnews.aspx?tid=12" rel="nofollow">Oracle</a> Corporation</p> 
<p>Java home: /usr/lib/jvm/java-7-openjdk-amd64/jre</p> 
<p>Default locale: en_US, platform encoding: UTF-8</p> 
<p>OS name: "linux", version: "3.13.0-35-generic", arch: "amd64", family: "unix"</p> 
<h4 id="使用Maven创建项目"><strong>使用Maven创建项目</strong></h4> 
<p>无论是学习语言还是框架，先来一个Hello World基本上已经是套路了，我们也通过构建一个Hello World项目来了解如何使用Maven。<br> 首先通过maven创建helloworld项目</p> 
<p>$ mvn archetype:create -DgroupId=helloworld -DartifactId=helloworld</p> 
<p>生成的项目目录如下，其中src/main/java是源码目录，src/test/java是测试文件目录。<br> 一共只有三个文件，打开这三个文件，可以看到App.java中已经写好了一个Hello World程序，而AppTest中是Junit单元测试的代码，至于pom.xml，则给出了项目的一些基本信息以及依赖关系。</p> 
<p>helloworld/</p> 
<p>├── pom.xml</p> 
<p>└── src</p> 
<p>├── main</p> 
<p>│  └── java</p> 
<p>│  └── helloworld</p> 
<p>│  └── App.java</p> 
<p>└── test</p> 
<p>└── java</p> 
<p>└── helloworld</p> 
<p>└── AppTest.java</p> 
<p>这里主要看一下pom.xml文件，内容如下</p> 
<p>&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p> 
<p>xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;</p> 
<p>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</p> 
<p> </p> 
<p>&lt;groupId&gt;helloworld&lt;/groupId&gt;</p> 
<p>&lt;artifactId&gt;helloworld&lt;/artifactId&gt;</p> 
<p>&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</p> 
<p>&lt;packaging&gt;jar&lt;/packaging&gt;</p> 
<p> </p> 
<p>&lt;name&gt;helloworld&lt;/name&gt;</p> 
<p>&lt;url&gt;http://maven.apache.org&lt;/url&gt;</p> 
<p> </p> 
<p>&lt;properties&gt;</p> 
<p>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</p> 
<p>&lt;/properties&gt;</p> 
<p> </p> 
<p>&lt;dependencies&gt;</p> 
<p>&lt;dependency&gt;</p> 
<p>&lt;groupId&gt;junit&lt;/groupId&gt;</p> 
<p>&lt;artifactId&gt;junit&lt;/artifactId&gt;</p> 
<p>&lt;version&gt;3.8.1&lt;/version&gt;</p> 
<p>&lt;scope&gt;test&lt;/scope&gt;</p> 
<p>&lt;/dependency&gt;</p> 
<p>&lt;/dependencies&gt;</p> 
<p>&lt;/project&gt;</p> 
<p>在pom.xml文件中，首先描述了项目的定义，groupId:artifactId:packaging:version这个四元组能够唯一标记一个项目。我们不仅可以用这个四元组来标记我们的项目，也可以用来标记其它的项目，比如用来描述项目依赖关系。perperties中定义了项目的属性，也可以在这里定义变量并在其它的地方引用。至于最后的dependencies，则是描述了项目的依赖关系，Maven会根据依赖关系自动下载相应的文件并在编译时使用。</p> 
<p>在大型项目开发中，往往会将其分成若干个子项目，每个子项目都有着自己的的pom.xml，它们与父pom.xml之间相当于继承的关系。</p> 
<p>可以说，pom.xml文件的配置是整个Maven的核心重点，也是学习Maven过程中需要详细了解的内容。这里只给出了最简单的配置样例，详细了解可以查看官方文档。</p> 
<p>接下来编译并运行Helloworld项目。</p> 
<p>如果是第一次编译的话，需要联网，因为Maven会自动下载依赖包。</p> 
<p>$ mvn package</p> 
<p>下载的依赖包会保存在~/.m2/repository文件夹中，打开这个文件夹，我们会发现里面的包正是按前面所说的四元组目录结构进行存储的。Maven在依赖一个jar包时会先去本地库查找，如果没找到就会从网上下载。当然，并不是所有的包都能从网上下载到，比如我们自己开发的jar包，这时，我们就可以用<code>mvn install</code>命令将一个项目安装到本地仓库。</p> 
<p>打包成功后我们会发现项目中多了一个target文件夹，目录结构如下</p> 
<p>target/</p> 
<p>├── classes</p> 
<p>│  └── helloworld</p> 
<p>│  └── App.class</p> 
<p>├── helloworld-1.0-SNAPSHOT.jar</p> 
<p>├── maven-archiver</p> 
<p>│  └── pom.properties</p> 
<p>├── maven-status</p> 
<p>│  └── maven-compiler-plugin</p> 
<p>│  ├── compile</p> 
<p>│  │  └── default-compile</p> 
<p>│  │  ├── createdFiles.lst</p> 
<p>│  │  └── inputFiles.lst</p> 
<p>│  └── testCompile</p> 
<p>│  └── default-testCompile</p> 
<p>│  ├── createdFiles.lst</p> 
<p>│  └── inputFiles.lst</p> 
<p>├── surefire-reports</p> 
<p>│  ├── helloworld.AppTest.txt</p> 
<p>│  └── TEST-helloworld.AppTest.xml</p> 
<p>└── test-classes</p> 
<p>└── helloworld</p> 
<p>└── AppTest.class</p> 
<p>可以看到，在package过程中，maven完成了编译、测试代码，生成测试报告，生成jar包等一系列工作。</p> 
<p>最后，我们也可以手动运行jar包查看结果。</p> 
<p>$ java -cp target/helloworld-1.0-SNAPSHOT.jar helloworld.App</p> 
<p>Hello World!</p> 
<h4 id="Maven常用命令"><strong>Maven常用命令</strong></h4> 
<p>Maven的命令非常多，学习命令首先要了解Maven的生命周期。</p> 
<p>Maven首先会验证并处理引用资源，之后进行项目编译，如果没有声明跳过测试，也会编译测试代码并进行测试、以成测试报告。最后，Maven会将编译好的内容进行打包，用于发布。</p> 
<p>Maven命令与Maven的生命周期有着对应的关系，一个命令也经常会包含多个生命周期，比如<code>mvn package</code>会完成以上所有步骤。</p> 
<p>这里列举几个常用的命令</p> 
<p>mvn compile 编译项目</p> 
<p>mvn test 编译运行单元测试</p> 
<p>mvn package 打包(jar or war)</p> 
<p>mvn install 将项目安装到本地仓库</p> 
<p>mvn clean 清空项目</p> 
<p>mvn eclipse:eclipse 生成eclipse工程</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dd71c6d7f89e0b6cecfea7a596a3ea2d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Oracle索引使用详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/adac3ba00bfd0c8f8a69bd352f9821ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQL server数据库迁移方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>