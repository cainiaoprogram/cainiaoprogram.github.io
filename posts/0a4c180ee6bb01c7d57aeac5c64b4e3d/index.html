<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell 获取主机IP 脚本中使用IP 打印出来IP - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell 获取主机IP 脚本中使用IP 打印出来IP" />
<meta property="og:description" content="目录 查看ip查看网关只查看ens33过滤ip拿到网卡名字对内容进行切片获取第一网卡IP （head -1 表示第一个网卡）脚本中打印IP 查看ip ip a 查看网关 ip r 只查看ens33 ip a show dev ens33 过滤ip ip a | grep -oE &#39;[0-9]&#43;\.[0-9]&#43;\.[0-9]&#43;\.[0-9]&#43;&#39; 拿到网卡名字 ip a |awk &#39;/^[0-9]&#43;:/{print $2}&#39;| awk &#39;BEGIN{FS=&#34;:&#34;}{print $1}&#39;| grep -v lo # 只要第一个网卡 ip a |awk &#39;/^[0-9]&#43;:/{print $2}&#39;| awk &#39;BEGIN{FS=&#34;:&#34;}{print $1}&#39;| grep -v lo | head -1 对内容进行切片 ip a show dev $(ip a |awk &#39;/^[0-9]&#43;:/{print $2}&#39;|awk &#39;BEGIN{FS=&#34;:&#34;}{print $1}&#39;| grep -v lo | head -1) ## 获取ens网卡 的ip ip a show dev ens33 | awk &#39;NR==3{print $2}&#39; | awk -F&#39;/&#39; &#39;{print $1}&#39; 获取第一网卡IP （head -1 表示第一个网卡） ip a show dev $(ip a |awk &#39;/^[0-9]&#43;:/{print $2}&#39;|awk &#39;BEGIN{FS=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0a4c180ee6bb01c7d57aeac5c64b4e3d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T21:44:07+08:00" />
<meta property="article:modified_time" content="2024-01-05T21:44:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell 获取主机IP 脚本中使用IP 打印出来IP</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#ip_1" rel="nofollow">查看ip</a></li><li><a href="#_7" rel="nofollow">查看网关</a></li><li><a href="#ens33_13" rel="nofollow">只查看ens33</a></li><li><a href="#ip_19" rel="nofollow">过滤ip</a></li><li><a href="#_25" rel="nofollow">拿到网卡名字</a></li><li><a href="#_33" rel="nofollow">对内容进行切片</a></li><li><a href="#IP_head_1__39" rel="nofollow">获取第一网卡IP （head -1 表示第一个网卡）</a></li><li><a href="#IP_45" rel="nofollow">脚本中打印IP</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="ip_1"></a>查看ip</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a 
</code></pre> 
<p><img src="https://images2.imgbox.com/3d/06/jg5DhIvk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_7"></a>查看网关</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> r
</code></pre> 
<p><img src="https://images2.imgbox.com/f2/f0/sEsjsK03_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ens33_13"></a>只查看ens33</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a show dev ens33
</code></pre> 
<p><img src="https://images2.imgbox.com/05/cf/QJjUSNaF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="ip_19"></a>过滤ip</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-oE</span> <span class="token string">'[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+'</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/b3/63/cJGFZ6A0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_25"></a>拿到网卡名字</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^[0-9]+:/{print $2}'</span><span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"}{print $1}'</span><span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo
		<span class="token comment"># 只要第一个网卡</span>
<span class="token function">ip</span> a <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^[0-9]+:/{print $2}'</span><span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"}{print $1}'</span><span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/f8/j0miWvuM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_33"></a>对内容进行切片</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a show dev <span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> a <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^[0-9]+:/{print $2}'</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"}{print $1}'</span><span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span>
		<span class="token comment">## 获取ens网卡 的ip</span>
<span class="token function">ip</span> a show dev ens33 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==3{print $2}'</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">'/'</span> <span class="token string">'{print $1}'</span>
</code></pre> 
<h3><a id="IP_head_1__39"></a>获取第一网卡IP （head -1 表示第一个网卡）</h3> 
<pre><code class="prism language-sh"><span class="token function">ip</span> a show dev <span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> a <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^[0-9]+:/{print $2}'</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"}{print $1}'</span><span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-1</span><span class="token variable">)</span></span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==3{print $2}'</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">'/'</span> <span class="token string">'{print $1}'</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/93/4e/GPSKPEWL_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="IP_45"></a>脚本中打印IP</h3> 
<pre><code class="prism language-sh"><span class="token assign-left variable">wangka</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ip</span> a <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'/^[0-9]+:/{print $2}'</span><span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{FS=":"}{print $1}'</span><span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo<span class="token variable">)</span></span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$wangka</span>
<span class="token keyword">do</span>
    <span class="token function">ip</span> a show dev <span class="token variable">$i</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'NR==3{print $2}'</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">'/'</span> <span class="token string">'{print $1}'</span>
<span class="token keyword">done</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/70/12/ym335m9u_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<p>完结撒花<br> 凤凰羽化之后是要腾空的， 是要翱翔九万里的。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bc4acaf7b9578d2e08121538c8b52c0b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">filecoin通过filutils 区块浏览器获取历史收益数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/42648f561235372d832284e4240821e8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">DETR纯代码分享（九）transformer.py</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>