<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>梯度下降法的理解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="梯度下降法的理解" />
<meta property="og:description" content="前些时间接触了机器学习，发现梯度下降法是机器学习里比较基础又比较重要的一个求最小值的算法。梯度下降算法过程如下：
1）随机初始值；
2）迭代，直至收敛。表示在处的负梯度方向，表示学习率。
在这里，简单谈一下自己对梯度下降法的理解。
首先，要明确梯度是一个向量，是一个n元函数f关于n个变量的偏导数，比如三元函数f的梯度为(fx,fy,fz)，二元函数f的梯度为(fx,fy），一元函数f的梯度为fx。然后要明白梯度的方向是函数f增长最快的方向，梯度的反方向是f降低最快的方向。
我们以一元函数为例，介绍一下梯度下降法。
设f(x) = (x-1)2&#43;1/2，
上图给出了函数f的图像和初始值x0，我们希望求得函数f的最小值，因为沿负梯度方向移动一小步后，f值降低，故只需x0沿着负梯度方向移动一小步即可。
而f在点x0的导数大于0，从而f在点x0的梯度方向为正，即梯度方向为f’(x0)，故由梯度下降法可知，下一个迭代值，也就是说x0向左移动一小步到了x1，同理在x1点的导数同样大于零，下一次迭代x1向左移动一小步到达x2，一直进行下去，只要每次移动的步数不是很大，我们就可以得到收敛1的解x。
上述证实了我们对分析（蓝色倾斜字体）的验证。
同样，如果处置选在了最小值的左边，即如图所示：
由于f’(x0)&lt;0，所以梯度方向为负，负梯度方向为正，故需将x0沿负梯度方向移动一小步，即向右移动一小步，这样使得f值更小一些。或用梯度下降法迭代公式，依次我们可以得到如图所示的x1,x2,...,xk,...，直到收敛至最小值。
对于二元函数，我们也可以通过实例验证梯度下降法的合理性：
在每次得到一个点(xk,yk)时，我们需要计算(fx(xk),fy(yk))，这个方向表示梯度f增长最快的方向，-(fx(xk),fy(yk))表示梯度下降最快的方向，故只需将(xk,yk)沿着-(fx(xk),fy(yk))这个方向移动一小步，就可以减少f的值，直至收敛到最小值，如上图所示。
谈几点梯度下降法需要注意的地方，也是自己对梯度下降法的理解：
1）梯度下降不一定可以收敛到最小值。
梯度下降法是收敛到局部最小值，不一定可以收敛到全局最小值。
比如：
我们初始值选择了如图的x0，由于f在点x0的导数大于0，梯度方向向右，负梯度方向向左，从而x0向左移动，逐渐收敛到了局部最小值，而不能收敛到全局最小值。
2）学习率的大小要适中。
学习率太小，每次移动步长太小，收敛太慢，这个比较容易理解。
学习率太大，每次移动步长大，可能导致不收敛，这里用一个图来表示一下：
由于距离最小值点越远，导数越大，从而导致步长越来越大，不会收敛。
3）不一定选择负梯度方向，只要是值下降的方向即可。
在每一次迭代选择方向时，我们只要选择与梯度方向夹角小于90度的向量的反方向就可，不一定要选择负梯度方向。但由于，满足这样条件的向量不太容易求出，我们就选择了与梯度方向0度的向量的反方向（负梯度方向），而且这个方向函数值减少的更快，更快的收敛，故是个不错的选择。
4）求最大值的梯度上升法。
f的梯度方向是f的值增长最快的方向。我们每次沿负梯度方向移动一小步可以逐步收敛到局部最大值，因此我们每次沿梯度方向也可以得到函数f的局部最大值。迭代公式为：
，
这里表示在处的梯度方向，与梯度下降法的含义不同。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a14d3d84245db485c782a68df239c28f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-01-02T16:14:12+08:00" />
<meta property="article:modified_time" content="2018-01-02T16:14:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">梯度下降法的理解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>前些时间接触了机器学习，发现梯度下降法是机器学习里比较基础又比较重要的一个求最小值的算法。梯度下降算法过程如下：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>1）随机初始值<img src="https://images2.imgbox.com/7b/0a/wTNgwSIC_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;">；</p> 
<p style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>2<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">）迭代<img src="https://images2.imgbox.com/d2/69/5nGKerVx_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></span>，直至收敛。<img src="https://images2.imgbox.com/03/27/EWtPig4d_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;">表示在<img src="https://images2.imgbox.com/e9/a5/HcLpAFWu_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;">处的负梯度方向，<img src="https://images2.imgbox.com/fa/03/tLNrqeE5_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;">表示学习率。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'><span style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-weight: 400; color: rgb(91, 155, 213);">在这里，简单谈一下自己对梯度下降法的理解。</span></span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>首先，要明确<span style="box-sizing: border-box;">梯度是一个向量</span>，是一个<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">n</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">元函数</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">关于</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">n</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">个变量的偏导数，比如三元函数</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的梯度为</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">(f</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span>,f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">y</span>,f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">z</span>)<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，二元函数</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的梯度为</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">(f</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span>,f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">y</span>），一元函数<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的梯度为</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">。</span>然后要明白<span style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-weight: 400; color: rgb(255, 0, 0);">梯度的方向是函数<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">增长最快的方向，梯度的反方向是</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">降低最快的方向</span></span></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>我们以<span style="box-sizing: border-box;">一元函数</span>为例，介绍一下梯度下降法。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>设<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f(x) = (x-1)</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; top: -0.5em;">2</span>+1/2<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> <img src="https://images2.imgbox.com/0f/23/4kgTGVQB_o.jpg" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'><span style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">上图给出了函数<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的图像和初始值</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span></span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">0</span></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">，</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">我们希望求得函数<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的最小值，因为沿负梯度方向移动一小步后，</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">值降低，故只需</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span></span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">0</span></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">沿着负梯度方向移动一小步即可。</span></span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>而f在点<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>的导数大于<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">0</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，从而</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">在点</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>的梯度方向为正，即梯度方向为<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span>’(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>)<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，故由梯度下降法可知，下一个迭代值<img src="https://images2.imgbox.com/d4/e1/1SC71M6T_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></span>，也就是说<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>向左移动一小步到了<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">1</span>，同理在<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">1</span>点的导数同样大于零，下一次迭代<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">1</span>向左移动一小步到达<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">2</span>，一直进行下去，只要每次移动的步数不是很大，我们就可以得到收敛<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">1</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">的解</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>上述证实了我们对分析（<span style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">蓝色倾斜字体</span></span>）的验证。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>同样，如果处置选在了最小值的左边，即如图所示：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> <img src="https://images2.imgbox.com/e2/e6/RXe7e87f_o.jpg" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>由于<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span>’(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>)&lt;0<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，所以梯度方向为负，负梯度方向为正，故需将</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>沿负梯度方向移动一小步，即向右移动一小步，这样使得<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">f</span><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">值更小一些。或用梯度下降法迭代公式<img src="https://images2.imgbox.com/97/23/aaEkHjl6_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></span>，依次我们可以得到如图所示的<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: Calibri;">x</span><span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">1</span>,x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">2</span>,...,x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>,...<span style="box-sizing: border-box; margin: 0px; padding: 0px; font-family: 宋体;">，直到收敛至最小值。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>对于<span style="box-sizing: border-box;">二元函数</span>，我们也可以通过实例验证梯度下降法的合理性：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> <img src="https://images2.imgbox.com/e8/08/pdQgqocK_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>在每次得到一个点(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>,y<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>)时，我们需要计算(f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span>(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>),f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">y</span>(y<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>))，这个方向表示梯度f增长最快的方向，-(f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span>(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>),f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">y</span>(y<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>))表示梯度下降最快的方向，故只需将(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>,y<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>)沿着-(f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">x</span>(x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>),f<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">y</span>(y<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">k</span>))这个方向移动一小步，就可以减少f的值，直至收敛到最小值，如上图所示。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> </p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(0, 0, 255);">谈几点梯度下降法需要注意的地方，也是自己对梯度下降法的理解：</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>1）<span style="box-sizing: border-box;">梯度下降不一定可以收敛到最小值。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>梯度下降法是收敛到局部最小值，不一定可以收敛到全局最小值。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>比如：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> <img src="https://images2.imgbox.com/fe/af/lX63udam_o.jpg" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>我们初始值选择了如图的x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>，由于f在点x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>的导数大于0，梯度方向向右，负梯度方向向左，从而x<span style="box-sizing: border-box; position: relative; font-size: 12px; line-height: 0; vertical-align: baseline; bottom: -0.25em;">0</span>向左移动，逐渐收敛到了局部最小值，而不能收敛到全局最小值。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>2）<span style="box-sizing: border-box;">学习率的大小要适中。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>学习率太小，每次移动步长太小，收敛太慢，这个比较容易理解。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>学习率太大，每次移动步长大，可能导致不收敛，这里用一个图来表示一下：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'> <img src="https://images2.imgbox.com/b7/84/BdEEYCYB_o.jpg" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>由于距离最小值点越远，导数越大，从而导致步长越来越大，不会收敛。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>3）<span style="box-sizing: border-box;">不一定选择负梯度方向，只要是值下降的方向即可。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>在每一次迭代选择方向时，我们只要选择<span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">与梯度方向夹角小于90度的向量</span>的反方向就可，不一定要选择负梯度方向。但由于，满足这样条件的向量不太容易求出，我们就选择了与梯度方向0度的向量的反方向（负梯度方向），而且这个方向函数值减少的更快，更快的收敛，故是个不错的选择。</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>4）<span style="box-sizing: border-box;">求最大值的梯度上升法。</span></p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'>f的梯度方向是f的值增长最快的方向。我们每次沿负梯度方向移动一小步可以逐步收敛到局部最大值，因此我们每次沿梯度方向也可以得到函数f的局部最大值。迭代公式为：</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'><img src="https://images2.imgbox.com/bd/17/xWzRRkvu_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;">，</p> 
<p align="justify" style='box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; padding-top: 0px; padding-bottom: 0px; word-wrap: break-word; word-break: normal; color: rgb(69, 69, 69); font-family: "PingFang SC", "Microsoft YaHei", SimHei, Arial, SimSun; font-size: 16px;'><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">这里<img src="https://images2.imgbox.com/77/e3/mcCV1qkB_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">表示在<img src="https://images2.imgbox.com/f6/fb/xCTKpWVM_o.png" alt="" style="box-sizing: border-box; border: 0px; vertical-align: middle; outline: 0px; max-width: 100%;"></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">处的</span><span style="box-sizing: border-box;"><span style="box-sizing: border-box; margin: 0px; padding: 0px; font-weight: 400; color: rgb(255, 0, 0);">梯度方向</span></span><span style="box-sizing: border-box; margin: 0px; padding: 0px; color: rgb(255, 0, 0);">，与梯度下降法的含义不同。</span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dcce5d9f5a07f39baa97e693597c578b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">登陆公司服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc7ed0f574360e1f6447d0f6825e701f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Highway Networks (Training Very Deep Networks, 2015 NIPS)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>