<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【java&#43;MySQL】调用方法对MySQL的表进行增删改查操作 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【java&#43;MySQL】调用方法对MySQL的表进行增删改查操作" />
<meta property="og:description" content="目录
一、java&#43;MySQL，java对数据库表进行增删改查任务前提：
要求一：创建lib文件夹
要求二：添加druid.properties
要求三：创建四个子文件夹
二、具体要求如下：
1、编写DbUtils类，连接数据库；
2、写一个实体类Product.java
3、写一个产品表数据访问类ProductDao.java
4、写一个测试类TestProDao.java
三、数据库表配置和java完整代码如下：
1、在MySQL数据库中，我创建的数据库，命名为mydata1
2、DbUtils.java连接数据库的类：
3、实体类Product.java
4、ProductDao.java包含增删改查的方法
5、TestProDao.java调用方法，对数据库表进行增删改查
四、运行结果
1、添加产品：
2、修改产品：
3、根据pro_Id查询一个产品：
4、查询所有产品，返回一个list列表：
5、删除产品
一、java&#43;MySQL，java对数据库表进行增删改查任务前提： 要求一：创建lib文件夹 已在项目路径下，创建了一个lib文件夹，粘贴两个jar包：duruid-1.0.9.jar和mysql-connector-java-5.1.37-bin.jar；
并分别鼠标右键，选中add as library,添加到环境配置中；
要求二：添加druid.properties 在本项目的src目录下，粘贴druid.properties;
要求三：创建四个子文件夹 在本项目的src目录下创建四个文件夹，分别命名为com.qingruan.dao、com.qingruan.entity、com.qingruan.test、com.qingruan.util（com后面的是公司名，可替换）：
文件夹下分别放相应功能的java文件，这样分工明确，不会混乱。
com.qingruan.dao：创建包含增删改查的方法的类，命名为：ProductDao.java
com.qingruan.entity：创建实体类，命名为：Product.java
com.qingruan.test：创建测试类，命名为：TestProDao.java
com.qingruan.util：创建java连接数据库的类，命名为：DbUtils.java
分割线————————————————————————————
二、具体要求如下： 1、编写DbUtils类，连接数据库； java连接MySQL的具体讲解在上一篇。
2、写一个实体类Product.java 同时在MySQL创建产品表product，注意数据类型和属性要一致；在实体类应有三个私有属性：
产品序号pro_Id、产品名称pro_name、产品价格pro_price，其中pro_Id要设置为主键，并自增；
最后创建get/set方法；
3、写一个产品表数据访问类ProductDao.java 包含增删改查的方法：
(在这个类中先抛出异常，在测试类调用方法时，再进行try..catch...)
提示如下：
增加产品的方法：public int addProd(Product p)throws Exception;
删除产品的方法：public int delProd(int pro_Id) throws Exception;
修改产品的方法：public int updateProd(Product p)throws Exception;
查询所有产品的方法，并返回产品集合：public List selectAll() throws Exception;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/04c2e5022c11d4ea69f41a009af39a8a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-16T22:08:35+08:00" />
<meta property="article:modified_time" content="2022-10-16T22:08:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【java&#43;MySQL】调用方法对MySQL的表进行增删改查操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%BB%BB%E5%8A%A1%E5%89%8D%E6%8F%90%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E4%BB%BB%E5%8A%A1%E5%89%8D%E6%8F%90%EF%BC%9A" rel="nofollow">一、java+MySQL，java对数据库表进行增删改查任务前提：</a></p> 
<p id="%E8%A6%81%E6%B1%82%E4%B8%80-toc" style="margin-left:40px;"><a href="#%E8%A6%81%E6%B1%82%E4%B8%80" rel="nofollow">要求一：创建lib文件夹</a></p> 
<p id="%E8%A6%81%E6%B1%82%E4%BA%8C-toc" style="margin-left:40px;"><a href="#%E8%A6%81%E6%B1%82%E4%BA%8C" rel="nofollow">要求二：添加druid.properties</a></p> 
<p id="%E8%A6%81%E6%B1%82%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E8%A6%81%E6%B1%82%EF%BC%9A" rel="nofollow">要求三：创建四个子文件夹</a></p> 
<p id="%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82%E5%A6%82%E4%B8%8B%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82%E5%A6%82%E4%B8%8B%EF%BC%9A" rel="nofollow">二、具体要求如下：</a></p> 
<p id="1%E3%80%81%E7%BC%96%E5%86%99DbUtils%E7%B1%BB%EF%BC%8C%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9B-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E7%BC%96%E5%86%99DbUtils%E7%B1%BB%EF%BC%8C%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9B" rel="nofollow">1、编写DbUtils类，连接数据库；</a></p> 
<p id="2%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java" rel="nofollow">2、写一个实体类Product.java</a></p> 
<p id="3%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E7%B1%BBProductDao.java-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E7%B1%BBProductDao.java" rel="nofollow">3、写一个产品表数据访问类ProductDao.java</a></p> 
<p id="4%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%B1%BBTestProDao.java-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%B1%BBTestProDao.java" rel="nofollow">4、写一个测试类TestProDao.java</a></p> 
<p id="%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E9%85%8D%E7%BD%AE%E5%92%8Cjava%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A-toc" style="margin-left:0px;"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E9%85%8D%E7%BD%AE%E5%92%8Cjava%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A" rel="nofollow">三、数据库表配置和java完整代码如下：</a></p> 
<p id="%E4%B8%80%E3%80%81%E5%9C%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%EF%BC%8C%E6%88%91%E5%88%9B%E5%BB%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%91%BD%E5%90%8D%E4%B8%BAmydata1%EF%BC%9B-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E5%9C%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%EF%BC%8C%E6%88%91%E5%88%9B%E5%BB%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%91%BD%E5%90%8D%E4%B8%BAmydata1%EF%BC%9B" rel="nofollow">1、在MySQL数据库中，我创建的数据库，命名为mydata1</a></p> 
<p id="%E4%BA%8C%E3%80%81DbUtils.java%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%B1%BB%EF%BC%9A-toc" style="margin-left:40px;"><a href="#%E4%BA%8C%E3%80%81DbUtils.java%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%B1%BB%EF%BC%9A" rel="nofollow">2、DbUtils.java连接数据库的类：</a></p> 
<p id="%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java" rel="nofollow">3、实体类Product.java</a></p> 
<p id="4%E3%80%81ProductDao.java%E5%8C%85%E5%90%AB%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E7%9A%84%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#4%E3%80%81ProductDao.java%E5%8C%85%E5%90%AB%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E7%9A%84%E6%96%B9%E6%B3%95" rel="nofollow">4、ProductDao.java包含增删改查的方法</a></p> 
<p id="5%E3%80%81TestProDao.java%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%8C%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5-toc" style="margin-left:40px;"><a href="#5%E3%80%81TestProDao.java%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%8C%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5" rel="nofollow">5、TestProDao.java调用方法，对数据库表进行增删改查</a></p> 
<p id="%E5%9B%9B%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C" rel="nofollow">四、运行结果</a></p> 
<p id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E4%BA%A7%E5%93%81%EF%BC%9A-toc" style="margin-left:40px;"><a href="#1%E3%80%81%E6%B7%BB%E5%8A%A0%E4%BA%A7%E5%93%81%EF%BC%9A" rel="nofollow">1、添加产品：</a></p> 
<p id="2%E3%80%81%E4%BF%AE%E6%94%B9%E4%BA%A7%E5%93%81%EF%BC%9A-toc" style="margin-left:40px;"><a href="#2%E3%80%81%E4%BF%AE%E6%94%B9%E4%BA%A7%E5%93%81%EF%BC%9A" rel="nofollow">2、修改产品：</a></p> 
<p id="3%E3%80%81%E6%A0%B9%E6%8D%AEpro_Id%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%EF%BC%9A-toc" style="margin-left:40px;"><a href="#3%E3%80%81%E6%A0%B9%E6%8D%AEpro_Id%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%EF%BC%9A" rel="nofollow">3、根据pro_Id查询一个产品：</a></p> 
<p id="4%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E4%BA%A7%E5%93%81%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAlist%E5%88%97%E8%A1%A8%EF%BC%9A-toc" style="margin-left:40px;"><a href="#4%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E4%BA%A7%E5%93%81%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAlist%E5%88%97%E8%A1%A8%EF%BC%9A" rel="nofollow">4、查询所有产品，返回一个list列表：</a></p> 
<p id="5%E3%80%81%E5%88%A0%E9%99%A4%E4%BA%A7%E5%93%81-toc" style="margin-left:40px;"><a href="#5%E3%80%81%E5%88%A0%E9%99%A4%E4%BA%A7%E5%93%81" rel="nofollow">5、删除产品</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h2 id="%E4%BB%BB%E5%8A%A1%E5%89%8D%E6%8F%90%EF%BC%9A">一、java+MySQL，java对数据库表进行增删改查任务前提：</h2> 
<h3 id="%E8%A6%81%E6%B1%82%E4%B8%80">要求一：创建lib文件夹</h3> 
<p>已在项目路径下，创建了一个lib文件夹，粘贴两个jar包：duruid-1.0.9.jar和mysql-connector-java-5.1.37-bin.jar；</p> 
<p>并分别鼠标右键，选中add as library,添加到环境配置中；</p> 
<h3 id="%E8%A6%81%E6%B1%82%E4%BA%8C">要求二：添加druid.properties</h3> 
<p>在本项目的src目录下，粘贴druid.properties;</p> 
<p><img alt="" height="331" src="https://images2.imgbox.com/c6/fe/mIVccqAs_o.png" width="250"></p> 
<h3 id="%E8%A6%81%E6%B1%82%EF%BC%9A">要求三：创建四个子文件夹</h3> 
<p>在本项目的src目录下创建四个文件夹，分别命名为com.qingruan.dao、com.qingruan.entity、com.qingruan.test、com.qingruan.util（com后面的是公司名，可替换）：</p> 
<p>文件夹下分别放相应功能的java文件，这样分工明确，不会混乱。</p> 
<p>com.qingruan.dao：创建包含增删改查的方法的类，命名为：ProductDao.java</p> 
<p>com.qingruan.entity：创建实体类，命名为：Product.java</p> 
<p>com.qingruan.test：创建测试类，命名为：TestProDao.java</p> 
<p>com.qingruan.util：创建java连接数据库的类，命名为：DbUtils.java</p> 
<p></p> 
<p>分割线————————————————————————————</p> 
<h2 id="%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82%E5%A6%82%E4%B8%8B%EF%BC%9A">二、具体要求如下：</h2> 
<p></p> 
<h3 id="1%E3%80%81%E7%BC%96%E5%86%99DbUtils%E7%B1%BB%EF%BC%8C%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%9B">1、编写DbUtils类，连接数据库；</h3> 
<p>java连接MySQL的具体讲解在上一篇。</p> 
<p></p> 
<h3 id="2%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java">2、写一个实体类Product.java</h3> 
<p>同时在MySQL创建产品表product，注意数据类型和属性要一致；在实体类应有三个私有属性：</p> 
<p>产品序号pro_Id、产品名称pro_name、产品价格pro_price，其中pro_Id要设置为主键，并自增；</p> 
<p>最后创建get/set方法；</p> 
<p></p> 
<h3 id="3%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%E8%A1%A8%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%E7%B1%BBProductDao.java">3、写一个产品表数据访问类ProductDao.java</h3> 
<p>包含增删改查的方法：</p> 
<p>(在这个类中先抛出异常，在测试类调用方法时，再进行try..catch...)</p> 
<p>提示如下：</p> 
<p>增加产品的方法：public int addProd(Product p)throws Exception;</p> 
<p>删除产品的方法：public int delProd(int pro_Id) throws Exception;</p> 
<p>修改产品的方法：public int updateProd(Product p)throws Exception;</p> 
<p>查询所有产品的方法，并返回产品集合：public List selectAll() throws Exception;</p> 
<p>根据pro_Id产品id查询单个产品的方法：public Product selectProdById(int id)throws Exception;</p> 
<p></p> 
<h3 id="4%E3%80%81%E5%86%99%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%B1%BBTestProDao.java">4、写一个测试类TestProDao.java</h3> 
<p>要求使用数据访问ProductDao.java中的增删改查方法，并测试打印结果。</p> 
<p>分割线——————————————————————————</p> 
<p></p> 
<h2 id="%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E9%85%8D%E7%BD%AE%E5%92%8Cjava%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A">三、数据库表配置和java完整代码如下：</h2> 
<h3 id="%E4%B8%80%E3%80%81%E5%9C%A8MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%EF%BC%8C%E6%88%91%E5%88%9B%E5%BB%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%91%BD%E5%90%8D%E4%B8%BAmydata1%EF%BC%9B">1、在MySQL数据库中，我创建的数据库，命名为mydata1</h3> 
<p>数据库下的表名为product;</p> 
<p>表的配置如下：</p> 
<p><img alt="" height="204" src="https://images2.imgbox.com/de/8c/uGNzp3Jb_o.png" width="400"></p> 
<h3></h3> 
<h3 id="%E4%BA%8C%E3%80%81DbUtils.java%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%B1%BB%EF%BC%9A">2、DbUtils.java连接数据库的类：</h3> 
<p>我的MySQL的账号名为:root,密码为1234;（请根据自身情况，对以下代码进行改动）</p> 
<blockquote> 
 <pre><code class="language-java">package com.qingruan.util;


import com.alibaba.druid.pool.DruidDataSourceFactory;
import javax.sql.DataSource;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.Properties;

// 针对数据库的连接作用
public class DbUtils {

	//定义私有成员
	private static  DataSource ds;

	//1.静态代码块 加载配置文件，初始化连接池对象
	static{     // 特点：用于给类进行初始化，只加载一次，随着类的加载而加载
		try {
			Properties pro =new Properties();
			//加载属性文件
			pro.load(DbUtils.class.getClassLoader().getResourceAsStream("druid.properties"));
			//获得连接池对象
			ds = DruidDataSourceFactory.createDataSource(pro);
		}catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}



	//2.定义一个方法：获取连接对象
	public static Connection getConnection(){
		try {
			return  ds.getConnection();
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return null;
	}

	//3.定义一个方法：用于释放资源
	public static void close(ResultSet rs,PreparedStatement ps,Connection cn){
		if(rs!=null){
			try {
				rs.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		if(ps!=null){
			try {
				ps.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		if(cn!=null){
			try {
				cn.close();  //  此时的关闭，是归还给连接池对象
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}

	/**
	 * 获得连接池的方法
	 * @return
	 */
	public static  DataSource getDataSource(){
		return ds;
	}

}
</code></pre> 
</blockquote> 
<h3></h3> 
<h3 id="%E4%B8%89%E3%80%81%E5%AE%9E%E4%BD%93%E7%B1%BBProduct.java">3、实体类Product.java</h3> 
<blockquote> 
 <pre><code class="language-java">package com.qingruan.entity;

// 产品类 与 数据库中的product产品表是与之对应的
// 将数据库的产品表 看作是 java中的一个产品类   数据库中产品表的字段可以看作是 java中产品类的属性
public class Product {
    private Integer pro_Id;  //产品编号(给程序使用)
    private String pro_name; // 产品名称
    private Integer pro_price; // 产品价格
    public Product() {
        // TODO Auto-generated constructor stub
    }
    public Product( String pro_name, Integer pro_price) {
        this.pro_name = pro_name;
        this.pro_price = pro_price;
    }
    public Product(Integer pro_Id, String pro_name, Integer pro_price) {
        this.pro_Id = pro_Id;
        this.pro_name = pro_name;
        this.pro_price = pro_price;
    }
    @Override
    public String toString() {
        return "Product [pro_Id=" + pro_Id +  ", pro_name=" + pro_name + ", pro_price="
                + pro_price + "]";
    }
    public Integer getPro_Id() {
        return pro_Id;
    }
    public void setPro_Id(Integer pro_id) {
        this.pro_Id = pro_id;
    }
    public String getPro_name() {
        return pro_name;
    }
    public void setPro_name(String pro_name) {
        this.pro_name = pro_name;
    }
    public Integer getPro_price() {
        return pro_price;
    }
    public void setPro_price(Integer pro_price) {
        this.pro_price= pro_price;
    }
}
</code></pre> 
</blockquote> 
<h3></h3> 
<h3 id="4%E3%80%81ProductDao.java%E5%8C%85%E5%90%AB%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E7%9A%84%E6%96%B9%E6%B3%95">4、ProductDao.java包含增删改查的方法</h3> 
<blockquote> 
 <pre><code class="language-java">package com.qingruan.test;

import com.qingruan.entity.Product;
import com.qingruan.util.DbUtils;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import java.util.List;

// dao  负责与数据库交互的，目前实现的技术是jdbc
public class ProductDao {
    private static PreparedStatement ps = null;
    private static Connection cn = null;
    private static ResultSet rs = null;

    /**
     * 添加产品
     *
     * @param p 需要传入的参数是产品对象
     * @return 返回受影响的行数
     */
    public int addProd(Product p) throws Exception { // 传入一个产品对象
        // 1.获得连接
        cn = DbUtils.getConnection();
        // 2.获得预处理对象
        String sql = "insert into product values(null,?,?)";
        ps = cn.prepareStatement(sql);
        // 3.赋予实际的参数
        ps.setString(1, p.getPro_name());
        ps.setInt(2, p.getPro_price());
        // 4.得到结果集
        int result1 =  ps.executeUpdate();
        DbUtils.close(null, ps, cn);// 5.释放资源
        return result1;
    }

    /**
     * 修改产品信息
     *
     * @param p 需要修改的产品信息
     * @return 返回受影响的行数
     */
    public int updateProd(Product p) throws Exception {
        cn = DbUtils.getConnection();
        String sql = "update product set pro_name=?,pro_price=?where pro_Id=?";
        ps = cn.prepareStatement(sql);
        ps.setString(1, p.getPro_name());
        ps.setInt(2, p.getPro_price());
        ps.setInt(3, p.getPro_Id());
        int result2 = ps.executeUpdate();
        DbUtils.close(null, ps, cn);
        return result2;
    }

    /**
     * 依据产品id删除产品信息
     *
     * @param pro_Id 需要删除的产品id
     * @return 返回受影响的行数
     */
    public int delProd(int pro_Id) throws Exception {
        cn = DbUtils.getConnection();
        String sql = "delete from product where pro_Id=?";
        ps = cn.prepareStatement(sql);
        ps.setInt(1, pro_Id);
        int result = ps.executeUpdate();
        return result;
    }

    /**
     * 依据产品id查询产品详细信息
     *
     * @param pro_Id 需要传入的产品编号
     * @return 返回产品信息
     */
    public Product selectProdById(int pro_Id) throws Exception {
        Product pro = null;
        cn = DbUtils.getConnection();
        String sql = "select * from product where pro_id=?";
        ps = cn.prepareStatement(sql);
        ps.setInt(1, pro_Id);
        rs = ps.executeQuery();
        if (rs.next()) {
            pro = new Product(rs.getInt(1), rs.getString(2),rs.getInt(3));
        }
        DbUtils.close(null, ps, cn);
        return pro;
    }

    /**
     * 查询产品列表
     *
     * @return 返回产品集合
     */
    public List selectAll() throws Exception{
        List&lt;Product&gt; list = new ArrayList&lt;Product&gt;();
        cn = DbUtils.getConnection();
        String sql = "select * from product";
        ps = cn.prepareStatement(sql);
        rs = ps.executeQuery();
        while (rs.next()) {
            list.add(new Product(rs.getInt(1), rs.getString(2),rs.getInt(3)));//放到集合中
        }
        return list;
    }
}



</code></pre> 
</blockquote> 
<h3></h3> 
<h3 id="5%E3%80%81TestProDao.java%E8%B0%83%E7%94%A8%E6%96%B9%E6%B3%95%EF%BC%8C%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5">5、TestProDao.java调用方法，对数据库表进行增删改查</h3> 
<blockquote> 
 <pre><code class="language-java">package com.qingruan.test;

import com.qingruan.entity.Product;
import org.junit.Test;

import java.util.List;

public class TestProDao {
    ProductDao dao =new ProductDao();
    //添加产品
    @Test
    public void save(){
        int result = 0;
        try {
            result = dao.addProd(new Product("苹果", 22));

        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println(result&gt;0?"添加成功":"添加失败");
    }

    //单个查询
    @Test
    public void findById() {
        Product pro = null;
        try {
            pro = dao.selectProdById(1);
        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println(pro);
    }

    //查询所有
    @Test
    public void findAll(){
        List&lt;Product&gt; list = null;
        try {
            list = dao.selectAll();

        } catch (Exception e) {
            e.printStackTrace();
        }
        for(Product  pro : list){
            System.out.println(pro);
        }
    }

    //删除
    @Test
    public void delete(){
        int result = 0;
        try {
            result = dao.delProd(5);
        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println(result &gt; 0 ? "删除成功" : "删除失败");
    }

    //修改
    @Test
    public void update() {
        Product pro = null;
        int result2 = 0;
        try {
            pro = dao.selectProdById(2);
            pro.setPro_name("哇塞");
            result2 = dao.updateProd(pro);
        } catch (Exception e) {
            e.printStackTrace();
        }
        System.out.println(result2 &gt; 0 ? "删除成功" : "删除失败");
    }


}
</code></pre> 
</blockquote> 
<h2 id="%E5%9B%9B%E3%80%81%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C">四、运行结果</h2> 
<h3 id="1%E3%80%81%E6%B7%BB%E5%8A%A0%E4%BA%A7%E5%93%81%EF%BC%9A">1、添加产品：</h3> 
<p><img alt="" height="189" src="https://images2.imgbox.com/28/f6/J4rCAoWX_o.png" width="400"></p> 
<h3 id="2%E3%80%81%E4%BF%AE%E6%94%B9%E4%BA%A7%E5%93%81%EF%BC%9A">2、修改产品：</h3> 
<p><img alt="" height="172" src="https://images2.imgbox.com/c8/68/yE7IQq8t_o.png" width="400"></p> 
<h3 id="3%E3%80%81%E6%A0%B9%E6%8D%AEpro_Id%E6%9F%A5%E8%AF%A2%E4%B8%80%E4%B8%AA%E4%BA%A7%E5%93%81%EF%BC%9A">3、根据pro_Id查询一个产品：</h3> 
<p><img alt="" height="216" src="https://images2.imgbox.com/1e/e9/gQCTKchg_o.png" width="400"></p> 
<h3 id="4%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E4%BA%A7%E5%93%81%EF%BC%8C%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AAlist%E5%88%97%E8%A1%A8%EF%BC%9A">4、查询所有产品，返回一个list列表：</h3> 
<p><img alt="" height="272" src="https://images2.imgbox.com/3c/da/dhgc9FuS_o.png" width="400"></p> 
<h3 id="5%E3%80%81%E5%88%A0%E9%99%A4%E4%BA%A7%E5%93%81">5、删除产品</h3> 
<p><img alt="" height="235" src="https://images2.imgbox.com/ae/8e/7fLshDm4_o.png" width="400"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76e194e6b7c6f2b190b03d48be84d8dc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Python的人脸互换系统设计与实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/968d71bedbb2ed128f0b4001c58a679c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IOU原理详解代码复现 python numpy/pytorch</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>