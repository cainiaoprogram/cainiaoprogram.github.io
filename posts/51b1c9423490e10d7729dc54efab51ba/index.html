<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>email 安装报错 No module named &#39;cStringIO&#39; - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="email 安装报错 No module named &#39;cStringIO&#39;" />
<meta property="og:description" content="python 自动发送邮件需要用到 email，但是python3 在安装email包的时候出现了难以解决的问题。
问题：
pip install email Collecting email Using cached https://files.pythonhosted.org/packages/71/e7/816030d3b0426c130040bd068be62b9213357ed02896f5d9badcf46d1b5f/email-4.0.2.tar.gz ERROR: Command errored out with exit status 1: command: &#39;D:\anaconda\python.exe&#39; -c &#39;import sys, setuptools, tokenize; sys.argv[0] = &#39;&#34;&#39;&#34;&#39;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-install-ucmeohfy\\email\\setup.py&#39;&#34;&#39;&#34;&#39;; __file__=&#39;&#34;&#39;&#34;&#39;C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-install-ucmeohfy\\email\\setup.py&#39;&#34;&#39;&#34;&#39;;f=getattr(tokenize, &#39;&#34;&#39;&#34;&#39;open&#39;&#34;&#39;&#34;&#39;, open)(__file__);code=f.read().replace(&#39;&#34;&#39;&#34;&#39;\r\n&#39;&#34;&#39;&#34;&#39;, &#39;&#34;&#39;&#34;&#39;\n&#39;&#34;&#39;&#34;&#39;);f.close();exec(compile(code, __file__, &#39;&#34;&#39;&#34;&#39;exec&#39;&#34;&#39;&#34;&#39;))&#39; egg_info --egg-base pip-egg-info cwd: C:\Users\Administrator\AppData\Local\Temp\pip-install-ucmeohfy\email\ Complete output (11 lines): Traceback (most recent call last): File &#34;&lt;string&gt;&#34;, line 1, in &lt;module&gt; File &#34;D:\anaconda\lib\site-packages\setuptools\__init__.py&#34;, line 18, in &lt;module&gt; import setuptools.version File &#34;D:\anaconda\lib\site-packages\setuptools\version.py&#34;, line 1, in &lt;module&gt; import pkg_resources File &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/51b1c9423490e10d7729dc54efab51ba/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-17T15:50:12+08:00" />
<meta property="article:modified_time" content="2020-04-17T15:50:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">email 安装报错 No module named &#39;cStringIO&#39;</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>python 自动发送邮件需要用到 email，但是python3 在安装email包的时候出现了难以解决的问题。</p> 
<p><strong>问题：</strong></p> 
<pre><code class="prism language-python">pip install email
</code></pre> 
<pre><code class="prism language-python">Collecting email
  Using cached https<span class="token punctuation">:</span><span class="token operator">//</span>files<span class="token punctuation">.</span>pythonhosted<span class="token punctuation">.</span>org<span class="token operator">/</span>packages<span class="token operator">/</span><span class="token number">71</span><span class="token operator">/</span>e7<span class="token operator">/</span><span class="token number">816030d3b0426c130040bd068be62b9213357ed02896f5d9badcf46d1b5f</span><span class="token operator">/</span>email<span class="token operator">-</span><span class="token number">4.0</span><span class="token number">.2</span><span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz
    ERROR<span class="token punctuation">:</span> Command errored out <span class="token keyword">with</span> exit status <span class="token number">1</span><span class="token punctuation">:</span>
     command<span class="token punctuation">:</span> <span class="token string">'D:\anaconda\python.exe'</span> <span class="token operator">-</span>c <span class="token string">'import sys, setuptools, tokenize; sys.argv[0] = '</span><span class="token string">"'"</span><span class="token string">'C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-install-ucmeohfy\\email\\setup.py'</span><span class="token string">"'"</span><span class="token string">'; __file__='</span><span class="token string">"'"</span><span class="token string">'C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-install-ucmeohfy\\email\\setup.py'</span><span class="token string">"'"</span><span class="token string">';f=getattr(tokenize, '</span><span class="token string">"'"</span><span class="token string">'open'</span><span class="token string">"'"</span><span class="token string">', open)(__file__);code=f.read().replace('</span><span class="token string">"'"</span><span class="token string">'\r\n'</span><span class="token string">"'"</span><span class="token string">', '</span><span class="token string">"'"</span><span class="token string">'\n'</span><span class="token string">"'"</span><span class="token string">');f.close();exec(compile(code, __file__, '</span><span class="token string">"'"</span><span class="token string">'exec'</span><span class="token string">"'"</span><span class="token string">'))'</span> egg_info <span class="token operator">-</span><span class="token operator">-</span>egg<span class="token operator">-</span>base pip<span class="token operator">-</span>egg<span class="token operator">-</span>info
         cwd<span class="token punctuation">:</span> C<span class="token punctuation">:</span>\Users\Administrator\AppData\Local\Temp\pip<span class="token operator">-</span>install<span class="token operator">-</span>ucmeohfy\email\
    Complete output <span class="token punctuation">(</span><span class="token number">11</span> lines<span class="token punctuation">)</span><span class="token punctuation">:</span>
    Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
      File <span class="token string">"&lt;string&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
      File <span class="token string">"D:\anaconda\lib\site-packages\setuptools\__init__.py"</span><span class="token punctuation">,</span> line <span class="token number">18</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
        <span class="token keyword">import</span> setuptools<span class="token punctuation">.</span>version
      File <span class="token string">"D:\anaconda\lib\site-packages\setuptools\version.py"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
        <span class="token keyword">import</span> pkg_resources
      File <span class="token string">"D:\anaconda\lib\site-packages\pkg_resources\__init__.py"</span><span class="token punctuation">,</span> line <span class="token number">36</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
        <span class="token keyword">import</span> email<span class="token punctuation">.</span>parser
      File <span class="token string">"C:\Users\Administrator\AppData\Local\Temp\pip-install-ucmeohfy\email\email\parser.py"</span><span class="token punctuation">,</span> line <span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
        <span class="token keyword">from</span> cStringIO <span class="token keyword">import</span> StringIO
    ModuleNotFoundError<span class="token punctuation">:</span> No module named <span class="token string">'cStringIO'</span>
    <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
ERROR<span class="token punctuation">:</span> Command errored out <span class="token keyword">with</span> exit status <span class="token number">1</span><span class="token punctuation">:</span> python setup<span class="token punctuation">.</span>py egg_info Check the logs <span class="token keyword">for</span> full command output<span class="token punctuation">.</span>
</code></pre> 
<p>搜寻了网上的答案，大致可以理解为python2可以这么安装，但是python3中没有 <strong>cStringIO</strong> 这个包，如果是单纯引用 <strong>StringIO</strong> 可以 使用 <code>from io import StringIO</code> 。<br> 但是这种方法没用，因为这是在安装的时候出现的，我试着修改<code>C:\Users\Administrator\AppData\Local\Temp\pip-install-ucmeohfy\email\email\parser.py</code>这一文件内容，但是由于是安装时出现的临时文件，所以并不能进行修改。</p> 
<p><strong>解决方法：</strong></p> 
<p>1.看到安装包的时候的第一行没有？<code>Using cached https://files.pythonhosted.org/packages/71/e7/816030d3b0426c130040bd068be62b9213357ed02896f5d9badcf46d1b5f/email-4.0.2.tar.gz</code>，把这里面的地址复制到浏览器中，直接将这个gz压缩包下载下来；<br> 2.将gz解压缩出来，这时候如果尝试使用<code>python setup.py install</code>会发现报错，并没有卵用，所以看第三部；<br> <strong>解压后的文件:</strong><br> <img src="https://images2.imgbox.com/1f/32/SPNegVNp_o.png" alt="解压后的文件"><br> 3.压缩包的文件名应该是 email-4.0.2（版本号不同数字不同），打开文件夹后里面会有doc、email等文件夹和setup.py、testall.py等文件，这时候把time这个文件夹复制到电脑中python的lib/site-packages 文件夹中，然后就可以正常使用email这个包了；<br> <strong>直接将里面的email文件贴过去：</strong><br> <img src="https://images2.imgbox.com/82/8f/MiXN2xo9_o.png" alt="直接将里面的email文件贴过去"></p> 
<blockquote> 
 <p>个人猜测是发包人目前只针对了python2，没有维护到python3的迁移，因为看安装文件里面的print还是python2的写法，如果有小伙伴知道其他原因或者有其他方法的请留言，一起探讨苦短的人生！</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/03f9d68a7dd5c4b13a88416f337d2d73/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ifstream的使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9c70bbbc16260a4ff838b6f3dcd140d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">React Native ------记录调起iOS支付宝的两种方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>