<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>unsigned/signed int/char类型表示的数值范围 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="unsigned/signed int/char类型表示的数值范围" />
<meta property="og:description" content="一个32位的signed int类型整数表示的范围：-2^31~2^31-1
一个32位的unsigned int类型整数表示的范围: 0~2^32-1
一个8位的signed char类型整数表示的范围：-2^7~2^7-1
一个8位的unsigned char类型整数表示的范围: 0~2^8-1
示例：
int main() { char a[1000]; int i = 0; for(i=0; i&lt;1000; i&#43;&#43;) { a[i] = -1 - i; } printf(&#34;%d\n&#34;, strlen(a)); return 0; } 答案：255
分析：
当i的值为0时，a[0]的值为-1，关键就是-1在内存是如何存储的。
我们知道，在计算机内部数值一律使用补码存储。正数的补码与原码一致，负数的补码是符号位为1，其余位是该负数的绝对值按位取反后加1得到。
按照负数的补码规则，可以知道-1的补码是0xff，-2的补码是0xfe。。。当i的值为127的时候，a[127]的值为-128，是char能表示的最小的数值。当i=129时，a[128]=-129，这时候发生溢出，-129需要9位才能保存下来，但是char的类型数据只有8位，所以最高位被丢弃，剩下的8位是原来9位补码的低8位，为1000 0000,当i增加到255时候，a[255]=-256,-256的补码的低8位是0000 0000，然后i=256时，a[256]=-257的补码低8位为1111 1111，由此开始新一轮的循环。。。。
按照上面的分析，a[0]---a[254]的值都不为0，而a[255]的值为0，strlen函数是计算字符串长度的，并不包含字符串最后的&#39;\0&#39;。所以strlen(a)=255.
那么，&#43;0和-0在内存是如何存储的呢？
十进制 原码 反码 补码
&#43;0 0000 0000 0000 0000 0000 0000
-0 10000 0000 1111 1111 0000 0000" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e4c9b8f619a9ad13dcf92cbdced55083/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-12-27T09:58:00+08:00" />
<meta property="article:modified_time" content="2016-12-27T09:58:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">unsigned/signed int/char类型表示的数值范围</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content-detail markdown-body"> 
 <p>一个32位的signed int类型整数表示的范围：-2^31~2^31-1</p> 
 <p>一个32位的unsigned int类型整数表示的范围: 0~2^32-1</p> 
 <p> </p> 
 <p>一个8位的signed char类型整数表示的范围：-2^7~2^7-1</p> 
 <p>一个8位的unsigned char类型整数表示的范围: 0~2^8-1</p> 
 <p> </p> 
 <p>示例：</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-cpp">int main()
{
    char a[1000];
    int i = 0;
    for(i=0; i&lt;1000; i++)
    {
         a[i] = -1 - i;
    }
    printf("%d\n", strlen(a));
    return 0;
}
</code></pre> 
 </div> 
 <p> </p> 
 <p><strong>答案：255</strong></p> 
 <p><span style="color:#0000ff;">分析：</span></p> 
 <p><span style="color:#0000ff;">当i的值为0时，a[0]的值为-1，关键就是-1在内存是如何存储的。</span></p> 
 <p><span style="color:#0000ff;">我们知道，在计算机内部数值一律使用补码存储。正数的补码与原码一致，负数的补码是符号位为1，其余位是该负数的绝对值按位取反后加1得到。</span></p> 
 <p><span style="color:#0000ff;">按照负数的补码规则，可以知道-1的补码是0xff，-2的补码是0xfe。。。当i的值为127的时候，a[127]的值为-128，是char能表示的最小的数值。当i=129时，a[128]=-129，这时候发生溢出，-129需要9位才能保存下来，但是char的类型数据只有8位，所以最高位被丢弃，剩下的8位是原来9位补码的低8位，为1000 0000,当i增加到255时候，a[255]=-256,-256的补码的低8位是0000 0000，然后i=256时，a[256]=-257的补码低8位为1111 1111，由此开始新一轮的循环。。。。</span></p> 
 <p><span style="color:#0000ff;">按照上面的分析，a[0]---a[254]的值都不为0，而a[255]的值为0，strlen函数是计算字符串长度的，并不包含字符串最后的'\0'。所以strlen(a)=255.</span></p> 
 <p><span style="color:#0000ff;"> </span></p> 
 <p><span style="color:#0000ff;"> </span></p> 
 <p><span style="color:#800080;"><strong>那么，+0和-0在内存是如何存储的呢？</strong></span></p> 
 <p><span style="color:#800080;">十进制          原码            反码          补码</span></p> 
 <p><span style="color:#800080;"> +0         0000 0000    0000 0000   0000 0000</span></p> 
 <p><span style="color:#800080;"> -0        10000 0000    1111 1111   0000 0000</span></p> 
 <p> </p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b7ab974112c215ea27a171d026b164e8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">jquery插入元素的几种方法 insertBefore()  insertAfter() prependTo() appendTo()</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5f31b1e9fe1753ec848898d564c1b088/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">OC代码规范总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>