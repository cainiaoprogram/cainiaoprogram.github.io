<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>一文详解VScode 的远程开发 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="一文详解VScode 的远程开发" />
<meta property="og:description" content="VS code登录服务器后进行编码和调试，VS code上的所有功能都可以使用，和在本地开发基本无区别。
一、配置免密远程登录 因为是要远程登录，那么需要通过使用ssh进行密钥对登录，这样每次登录服务器就可以不用输入密码了。
先来一句官方介绍： ssh 公钥认证是一种方便、高安全性的身份验证方法，它将本地“私有”密钥与远程主机上与用户关联的“公共”密钥进行匹配，从而实现免密登录。
接下来介绍如何生成密钥并将其添加到远程主机。 我是linux用户，就只介绍linux下的配置哈，mac和Windows用户可以查看 官方文档。
1、首先检查本地是否有已生成ssh密钥对，Linux用户查看是否存在公钥文件 ~/.ssh/id_rsa.pub和私钥文件~/.ssh/id_rsa。
如果没有，则用如下命令生成，一路回车即可： ssh-keygen -t rsa -b 4096
2、然后将本地公钥文件id_rsa.pub 的内容添加到远程主机用户目录下 .ssh 文件夹内名为 authorized_keys 的文件中。 不用去复制粘贴，使用命令ssh-copy-id来完成，输出结果如下
~$ ssh-copy-id remote_user@remote_id /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys remote_user@remote_id&#39;s password: Number of key(s) added: 1 Now try logging into the machine, with: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ea9ba3896530d296b3b253e8097629c2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T15:54:28+08:00" />
<meta property="article:modified_time" content="2024-01-08T15:54:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">一文详解VScode 的远程开发</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>VS code登录服务器后进行编码和调试，VS code上的所有功能都可以使用，和在本地开发基本无区别。</p> 
<p></p> 
<h2>一、配置免密远程登录</h2> 
<p></p> 
<p>因为是要远程登录，那么需要通过使用ssh进行密钥对登录，这样每次登录服务器就可以不用输入密码了。</p> 
<p>先来一句官方介绍： ssh 公钥认证是一种方便、高安全性的身份验证方法，它将本地“私有”密钥与远程主机上与用户关联的“公共”密钥进行匹配，从而实现免密登录。</p> 
<p></p> 
<p>接下来介绍如何生成密钥并将其添加到远程主机。 我是linux用户，就只介绍linux下的配置哈，mac和Windows用户可以查看 官方文档。</p> 
<p></p> 
<p>1、首先检查本地是否有已生成ssh密钥对，Linux用户查看是否存在公钥文件 ~/.ssh/id_rsa.pub和私钥文件~/.ssh/id_rsa。</p> 
<p></p> 
<p>如果没有，则用如下命令生成，一路回车即可： ssh-keygen -t rsa -b 4096</p> 
<p></p> 
<p>2、然后将本地公钥文件id_rsa.pub 的内容添加到远程主机用户目录下 .ssh 文件夹内名为 authorized_keys 的文件中。 不用去复制粘贴，使用命令ssh-copy-id来完成，输出结果如下</p> 
<p></p> 
<pre><code>~$ ssh-copy-id remote_user@remote_id
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
remote_user@remote_id's password: 
 
Number of key(s) added: 1
 
Now try logging into the machine, with:   "ssh 'remote_user@remote_id'"
and check to make sure that only the key(s) you wanted were added.</code></pre> 
<p></p> 
<h3>二、配置VS Code远程开发插件</h3> 
<p></p> 
<p>在VS code中，使用<code>ctrl+shift+x</code>快捷键打开插件搜索窗口，输入插件<code>Remote Development</code>，并点击安装。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="400" src="https://images2.imgbox.com/24/c2/z8qzkBo6_o.png" width="720"></p> 
<p></p> 
<p>使用<code>cmd+shift+p</code>快捷键打开命令输入窗口，输入<code>Remote-SSH:Connect to Host...</code>，第一次使用时需要选择<code>Add New SSH Host</code>配置一下，<code>myserver</code>是我自己配置的，选择这个就可以直接登录服务器了。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="132" src="https://images2.imgbox.com/40/9e/tBaJcg3u_o.png" width="592"></p> 
<p></p> 
<p>然后就照着如下格式输入登录服务器的命令：</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="81" src="https://images2.imgbox.com/a1/c9/S40zaV8t_o.png" width="598"></p> 
<p></p> 
<p><code>-A</code> 表示开启认证代理连接转发功能，其实我也不知道啥意思......</p> 
<p></p> 
<p>输入完成后选择第一个配置文件：</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="128" src="https://images2.imgbox.com/ec/ad/NgcLNpS4_o.png" width="592"></p> 
<p></p> 
<p>右下角出现如下提示表示成功：</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="77" src="https://images2.imgbox.com/9a/d1/BG3lJrHa_o.png" width="448"></p> 
<p></p> 
<p>这一步就算完成了，我再多说两句。</p> 
<p></p> 
<p>上一步是把登录服务器的信息添加到配置文件<code>.ssh/config</code>中的，该文件格式为：</p> 
<p></p> 
<pre><code>Host alias
  HostName host_id
  User user_name
  Port 22
  ForwardAgent yes</code></pre> 
<p></p> 
<ul><li> <p>HostName：远程主机的IP地址</p> </li></ul> 
<p></p> 
<ul><li> <p>User：远程主机的用户名</p> </li></ul> 
<p></p> 
<ul><li> <p>port：远程主机的端口号，不填写的话，ssh默认端口号为22，如果要用其他端口号，可以在这里更改</p> </li></ul> 
<p></p> 
<ul><li> <p>ForwardAgent：这个是VS code自己添加的，可以不用管</p> </li></ul> 
<p></p> 
<p>上面配置文件第一行<code>Host alias</code>，我们可以将<code>alias</code>更改为任何别名，因为我们平时登录服务器使用的命令为<code>ssh name@server_id</code>，如果记不住服务器IP地址，则可以设置别名来方便记忆。</p> 
<p></p> 
<p>比如我第一行为<code>Host myserver</code>，则登录服务器时使用命令<code>ssh myserver</code>即可。</p> 
<p></p> 
<p>最后再接着使用<code>cmd+shift+p</code>快捷键打开命令输入窗口，输入<code>Remote-SSH:Connect to Host...</code>，选择你配置的那个别名即可连接到服务器。</p> 
<p></p> 
<p>也可以通过如下方式连接服务器：</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="342" src="https://images2.imgbox.com/8a/86/6lxfRuaZ_o.png" width="361"></p> 
<p></p> 
<p>会新弹出VS code窗口，左下边多了一个远程图标，表示处于远程模式。</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="29" src="https://images2.imgbox.com/cb/c9/HhXAMqwg_o.png" width="1025"></p> 
<p></p> 
<p>连接成功后，通过<code>File-&gt;Open-&gt;File/Folder</code>打开文件或者文件夹，然后就可以像编辑本地文件一样编辑远程文件了。</p> 
<p></p> 
<p>最后啰嗦一句，当使用 <code>ssh name@server_id</code> 远程登录服务器时，出现错误提示：<code>Permission denied (publickey).</code></p> 
<p></p> 
<p>这是因为服务器默认禁用了ssh密码登录权限。修改方法如下：</p> 
<p></p> 
<ol><li> <p>在服务器上的终端输入：<code>sudo vim /etc/ssh/sshd_config</code>，打开该文件。</p> </li></ol> 
<p></p> 
<ol><li> <p>找到<code>PasswordAuthentication</code>，将其后的 <code>no</code> 改为 <code>yes</code>。</p> </li></ol> 
<p></p> 
<ol><li> <p>重启ssh服务：<code>sudo service sshd restart</code></p> </li></ol> 
<p></p> 
<blockquote> 
 <p><strong>文章转载自：</strong><u><a href="https://home.cnblogs.com/u/hongzhending/" rel="nofollow" title="丁一二">丁一二</a></u></p> 
 <p><strong>原文链接：</strong><a href="https://www.cnblogs.com/hongzhending/p/17057060.html" rel="nofollow" title="https://www.cnblogs.com/hongzhending/p/17057060.html">https://www.cnblogs.com/hongzhending/p/17057060.html</a></p> 
 <p><strong>体验地址：</strong><a href="http://www.jnpfsoft.com/?from=001" rel="nofollow" title="引迈 - JNPF快速开发平台_低代码开发平台_零代码开发平台_流程设计器_表单引擎_工作流引擎_软件架构">引迈 - JNPF快速开发平台_低代码开发平台_零代码开发平台_流程设计器_表单引擎_工作流引擎_软件架构</a></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/91c1790a02f98fa47f2eff6bb96964d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Open CV 图像处理基础：（一）Open CV 在windows环境初始化和 Java 动态库加载方式介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6586b275aeaf0c8f538843754f11a545/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python &#43;=和=&#43;的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>