<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt控件--QComboBox - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt控件--QComboBox" />
<meta property="og:description" content="Qt控件--QComboBox QComboBox属性editable : boolcurrentText : QStringcurrentIndexmaxVisibleItems : intmaxCount : intinsertPolicy : InsertPolicysizeAdjustPolicy : SizeAdjustPolicyminimumContentsLength : inticonSize : QSizeduplicatesEnabled : boolframe : boolmodelColumn : int 增加项ui界面增加代码增加 QComboBox列表项的访问int currentIndex()QString currentText()QVariant currentData(int role = Qt::UserRole)QString itemText(int index)QVariant itemData(int index, int role = Qt::UserRole)int count()在一个QComboBox组件上选择项发生变化时，会发射如下两个信号： QComboBox QComboBox主要的功能是提供一个下拉列表供选择输入。
属性 Properties：
count : const int
currentData : const QVariant
currentIndex : int
currentText : QString
duplicatesEnabled : bool
editable : bool
frame : bool
iconSize : QSize" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2d1f4603d670fbfe74d7f9a8e8aa8d90/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-06T14:24:20+08:00" />
<meta property="article:modified_time" content="2022-01-06T14:24:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt控件--QComboBox</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Qt控件--QComboBox</h4> 
 <ul><li><a href="#QComboBox_1" rel="nofollow">QComboBox</a></li><li><ul><li><a href="#_4" rel="nofollow">属性</a></li><li><ul><li><a href="#editable__bool_22" rel="nofollow">editable : bool</a></li><li><a href="#currentText__QString_24" rel="nofollow">currentText : QString</a></li><li><a href="#currentIndex_26" rel="nofollow">currentIndex</a></li><li><a href="#maxVisibleItems__int_28" rel="nofollow">maxVisibleItems : int</a></li><li><a href="#maxCount__int_30" rel="nofollow">maxCount : int</a></li><li><a href="#insertPolicy__InsertPolicy_32" rel="nofollow">insertPolicy : InsertPolicy</a></li><li><a href="#sizeAdjustPolicy__SizeAdjustPolicy_46" rel="nofollow">sizeAdjustPolicy : SizeAdjustPolicy</a></li><li><a href="#minimumContentsLength__int_56" rel="nofollow">minimumContentsLength : int</a></li><li><a href="#iconSize__QSize_59" rel="nofollow">iconSize : QSize</a></li><li><a href="#duplicatesEnabled__bool_61" rel="nofollow">duplicatesEnabled : bool</a></li><li><a href="#frame__bool_63" rel="nofollow">frame : bool</a></li><li><a href="#modelColumn__int_65" rel="nofollow">modelColumn : int</a></li></ul> 
   </li><li><a href="#_68" rel="nofollow">增加项</a></li><li><ul><li><a href="#ui_69" rel="nofollow">ui界面增加</a></li><li><a href="#_71" rel="nofollow">代码增加</a></li></ul> 
   </li><li><a href="#QComboBox_116" rel="nofollow">QComboBox列表项的访问</a></li><li><ul><li><a href="#int_currentIndex_120" rel="nofollow">int currentIndex()</a></li><li><a href="#QString_currentText_122" rel="nofollow">QString currentText()</a></li><li><a href="#QVariant_currentDataint_role__QtUserRole_124" rel="nofollow">QVariant currentData(int role = Qt::UserRole)</a></li><li><a href="#QString_itemTextint_index_126" rel="nofollow">QString itemText(int index)</a></li><li><a href="#QVariant_itemDataint_index_int_role__QtUserRole_128" rel="nofollow">QVariant itemData(int index, int role = Qt::UserRole)</a></li><li><a href="#int_count_130" rel="nofollow">int count()</a></li><li><a href="#QComboBox_133" rel="nofollow">在一个QComboBox组件上选择项发生变化时，会发射如下两个信号：</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="QComboBox_1"></a>QComboBox</h2> 
<p>QComboBox主要的功能是提供一个下拉列表供选择输入。</p> 
<h3><a id="_4"></a>属性</h3> 
<p><img src="https://images2.imgbox.com/6e/9e/oHbK9Eqz_o.png" alt="在这里插入图片描述"><br> <strong>Properties：</strong></p> 
<p>count : const int<br> currentData : const QVariant<br> currentIndex : int<br> currentText : QString<br> duplicatesEnabled : bool<br> editable : bool<br> frame : bool<br> iconSize : QSize<br> insertPolicy : InsertPolicy<br> maxVisibleItems : int<br> minimumContentsLength : int<br> modelColumn : int<br> sizeAdjustPolicy : SizeAdjustPolicy</p> 
<h4><a id="editable__bool_22"></a>editable : bool</h4> 
<p>是否可以编辑。</p> 
<h4><a id="currentText__QString_24"></a>currentText : QString</h4> 
<p>当前的文本信息。</p> 
<h4><a id="currentIndex_26"></a>currentIndex</h4> 
<p>当前显示的项目的序列号。</p> 
<h4><a id="maxVisibleItems__int_28"></a>maxVisibleItems : int</h4> 
<p>最大可以显示的项。</p> 
<h4><a id="maxCount__int_30"></a>maxCount : int</h4> 
<p>最大保存的数目。</p> 
<h4><a id="insertPolicy__InsertPolicy_32"></a>insertPolicy : InsertPolicy</h4> 
<p>此属性保存用于确定用户插入的项目应出现在组合框中的位置的策略。默认值为 InsertAtBottom，表示新项目将出现在项目列表的底部。</p> 
<p><strong>InsertPolicy值的描述:</strong></p> 
<table><thead><tr><th>Constant</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>QComboBox::NoInsert</td><td>0</td><td>该字符串不会插入到组合框中。</td></tr><tr><td>QComboBox::InsertAtTop</td><td>1</td><td>该字符串将作为组合框中的第一项插入。</td></tr><tr><td>QComboBox::InsertAtCurrent</td><td>2</td><td>当前项目将被字符串替换。</td></tr><tr><td>QComboBox::InsertAtBottom</td><td>3</td><td>字符串将插入到最后一项之后</td></tr><tr><td>QComboBox::InsertAfterCurrent</td><td>4</td><td>该字符串插入在组合框中的当前项目之后。</td></tr><tr><td>QComboBox::InsertBeforeCurrent</td><td>5</td><td>该字符串插入在组合框中的当前项目之前。</td></tr><tr><td>QComboBox::InsertAlphabetically</td><td>6</td><td>该字符串按字母顺序插入组合框中。</td></tr></tbody></table> 
<h4><a id="sizeAdjustPolicy__SizeAdjustPolicy_46"></a>sizeAdjustPolicy : SizeAdjustPolicy</h4> 
<p>此属性包含描述内容更改时组合框大小如何更改的策略。默认值为 AdjustToContentsOnFirstShow。</p> 
<table><thead><tr><th>Constant</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>QComboBox::AdjustToContents</td><td>0</td><td>组合框将始终根据内容进行调整</td></tr><tr><td>QComboBox::AdjustToContentsOnFirstShow</td><td>1</td><td>组合框将在第一次显示时调整其内容。</td></tr><tr><td>QComboBox::AdjustToMinimumContentsLength</td><td>2</td><td>改用 AdjustToContents 或 AdjustToContentsOnFirstShow。</td></tr><tr><td>QComboBox::AdjustToMinimumContentsLengthWithIcon</td><td>3</td><td>组合框将调整为 minimumContentsLength 加上图标的空间。</td></tr></tbody></table> 
<h4><a id="minimumContentsLength__int_56"></a>minimumContentsLength : int</h4> 
<p>此属性包含应适合组合框的最小字符数。默认值为 0。如果将此属性设置为正值，则 minimumSizeHint() 和 sizeHint() 会将其考虑在内。</p> 
<h4><a id="iconSize__QSize_59"></a>iconSize : QSize</h4> 
<p>此属性保存组合框中显示的图标的大小。除非明确设置，否则将返回当前样式的默认值。此大小是图标可以具有的最大大小；较小尺寸的图标不会放大。</p> 
<h4><a id="duplicatesEnabled__bool_61"></a>duplicatesEnabled : bool</h4> 
<p>此属性保存用户是否可以将重复项输入组合框 请注意，始终可以以编程方式将重复项插入组合框。默认情况下，此属性为 false（不允许重复）。</p> 
<h4><a id="frame__bool_63"></a>frame : bool</h4> 
<p>此属性保存组合框是否使用框架绘制自身 如果启用（默认）组合框在框架内绘制自身，否则组合框在没有任何框架的情况下绘制自身。</p> 
<h4><a id="modelColumn__int_65"></a>modelColumn : int</h4> 
<p>此属性保存模型中可见的列。如果在填充组合框之前设置，则弹出视图不会受到影响，将显示第一列（使用此属性的默认值）。默认情况下，此属性的值为 0。</p> 
<h3><a id="_68"></a>增加项</h3> 
<h4><a id="ui_69"></a>ui界面增加</h4> 
<p><img src="https://images2.imgbox.com/77/71/FyjJdLJk_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_71"></a>代码增加</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> addItem
<span class="token punctuation">{<!-- --></span> <span class="token comment">//"初始化列表"按钮</span>
   QIcon   icon<span class="token punctuation">;</span>
   icon<span class="token punctuation">.</span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string">":/images/icons/aim.ico"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   ui<span class="token operator">-&gt;</span>comboBox<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
      ui<span class="token operator">-&gt;</span>comboBox<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>icon<span class="token punctuation">,</span><span class="token class-name">QString</span><span class="token operator">::</span><span class="token function">asprintf</span><span class="token punctuation">(</span><span class="token string">"Item %d"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//带图标</span>
<span class="token comment">//    ui-&gt;comboBox-&gt;addItem(QString::asprintf("Item %d",i)); //不带图标</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>如果只是添加字符串列表项，而且数据来源于一个QStringList变量，可以使用addItems()函数，示例代码如下：</p> 
<pre><code class="prism language-cpp">ui<span class="token operator">-&gt;</span>comboBox<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
QStringList strList<span class="token punctuation">;</span>
strList<span class="token operator">&lt;&lt;</span><span class="token string">"北京"</span><span class="token operator">&lt;&lt;</span><span class="token string">"上海"</span><span class="token operator">&lt;&lt;</span><span class="token string">"天津"</span><span class="token operator">&lt;&lt;</span><span class="token string">"河北省"</span><span class="token operator">&lt;&lt;</span><span class="token string">"山东省"</span><span class="token operator">&lt;&lt;</span><span class="token string">"山西省"</span><span class="token punctuation">;</span>
ui<span class="token operator">-&gt;</span>comboBox<span class="token operator">-&gt;</span><span class="token function">addItems</span><span class="token punctuation">(</span>strList<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><strong>添加具有用户数据的项</strong>：<br> QComboBox::addItem()函数的两种参数的原型定义如下：</p> 
<p>void addItem (const QString &amp;text, const QVariant &amp;userData = QVariant())<br> void addItem (const QIcon &amp;icon, const QString &amp;text, const QVariant &amp;userData = QVariant())<br> 不管是哪一个addItem()函数，后面都有一个可选的QVariant类型的参数userData，可以利用这个变量存储用户定义数据。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Widget</span><span class="token operator">::</span><span class="token function">on_btnIni2_clicked</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token comment">//初始化具有自定义数据的ComboBox</span>
   QMap<span class="token operator">&lt;</span>QString<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> City_Zone<span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"北京"</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"上海"</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"天津"</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"大连"</span><span class="token punctuation">,</span><span class="token number">411</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"锦州"</span><span class="token punctuation">,</span><span class="token number">416</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"徐州"</span><span class="token punctuation">,</span><span class="token number">516</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"福州"</span><span class="token punctuation">,</span><span class="token number">591</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   City_Zone<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token string">"青岛"</span><span class="token punctuation">,</span><span class="token number">532</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   ui<span class="token operator">-&gt;</span>comboBox2<span class="token operator">-&gt;</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">foreach</span><span class="token punctuation">(</span><span class="token keyword">const</span> QString <span class="token operator">&amp;</span>str<span class="token punctuation">,</span>City_Zone<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      ui<span class="token operator">-&gt;</span>comboBox2<span class="token operator">-&gt;</span><span class="token function">addItem</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span>City_Zone<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="QComboBox_116"></a>QComboBox列表项的访问</h3> 
<p>QComboBox存储的项是一个列表，但是QComboBox不提供整个列表用于访问，可以通过索引访问某个项。访问项的一些函数主要有以下几种。</p> 
<h4><a id="int_currentIndex_120"></a>int currentIndex()</h4> 
<p>返回当前项的序号，第一个项的序号为0。</p> 
<h4><a id="QString_currentText_122"></a>QString currentText()</h4> 
<p>返回当前项的文字。</p> 
<h4><a id="QVariant_currentDataint_role__QtUserRole_124"></a>QVariant currentData(int role = Qt::UserRole)</h4> 
<p>返回当前项的关联数据，数据的缺省角色为role = Qt::UserRole，角色的意义在5.1节详细介绍。</p> 
<h4><a id="QString_itemTextint_index_126"></a>QString itemText(int index)</h4> 
<p>返回指定索引号的项的文字。</p> 
<h4><a id="QVariant_itemDataint_index_int_role__QtUserRole_128"></a>QVariant itemData(int index, int role = Qt::UserRole)</h4> 
<p>返回指定索引号的项的关联数据。</p> 
<h4><a id="int_count_130"></a>int count()</h4> 
<p>返回项的个数。</p> 
<h4><a id="QComboBox_133"></a>在一个QComboBox组件上选择项发生变化时，会发射如下两个信号：</h4> 
<p>void currentIndexChanged(int index)<br> void currentIndexChanged(const QString &amp;text)</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/203a49b8f34b57f4a844587679364e56/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python-pymysql-获取字段名称-获取内容</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7601440f4961fa743d80c4160ad5669b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">什么是RPN，ROIAlign？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>