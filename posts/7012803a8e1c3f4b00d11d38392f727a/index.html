<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 变量和作用域（八） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 变量和作用域（八）" />
<meta property="og:description" content="首先申明下，本文为笔者学习《Python学习手册》的笔记，并加入笔者自己的理解和归纳总结。
1. 变量 1.1 变量命名规则 变量名必须以下划线或字母开头，而后面接任意数目的字母、数字或下划线。区分大小写，&#34;Hello&#34;与&#34;hello&#34;是不同的。禁止使用保留字。 1.2 保留字 False class finally is return None continue for lambda try True def from nonlocal while and del global not with as elif if or yield assert else import pass break except in raise 1.3 变量赋值 基本形式
一个对象赋值给一个变量。
&gt;&gt;&gt; val = 12 # 整型 &gt;&gt;&gt; val = 1.23 # 浮点型 &gt;&gt;&gt; val = &#34;Hello World&#34; # 字符串 序列赋值
右侧可以是任何类型的序列，但左侧的变量数量必须与右侧一致。
&gt;&gt;&gt; a, b = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7012803a8e1c3f4b00d11d38392f727a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-27T09:34:08+08:00" />
<meta property="article:modified_time" content="2023-03-27T09:34:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 变量和作用域（八）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>首先申明下，本文为笔者学习《Python学习手册》的笔记，并加入笔者自己的理解和归纳总结。</p> 
<h2><a id="1__2"></a>1. 变量</h2> 
<h3><a id="11__3"></a>1.1 变量命名规则</h3> 
<ul><li>变量名必须以下划线或字母开头，而后面接任意数目的字母、数字或下划线。</li><li>区分大小写，<code>"Hello"</code>与<code>"hello"</code>是不同的。</li><li>禁止使用保留字。</li></ul> 
<h3><a id="12__8"></a>1.2 保留字</h3> 
<pre><code class="prism language-python"><span class="token boolean">False</span>       <span class="token keyword">class</span>       <span class="token class-name">finally</span>     <span class="token keyword">is</span>          <span class="token keyword">return</span>
<span class="token boolean">None</span>        <span class="token keyword">continue</span>    <span class="token keyword">for</span>         <span class="token keyword">lambda</span>      <span class="token keyword">try</span>
<span class="token boolean">True</span>        <span class="token keyword">def</span>         <span class="token keyword">from</span>        <span class="token keyword">nonlocal</span>    <span class="token keyword">while</span>
<span class="token keyword">and</span>         <span class="token keyword">del</span>         <span class="token keyword">global</span>      <span class="token keyword">not</span>         <span class="token keyword">with</span>
<span class="token keyword">as</span>          <span class="token keyword">elif</span>        <span class="token keyword">if</span>          <span class="token keyword">or</span>          <span class="token keyword">yield</span>
<span class="token keyword">assert</span>      <span class="token keyword">else</span>        <span class="token keyword">import</span>      <span class="token keyword">pass</span>
<span class="token keyword">break</span>       <span class="token keyword">except</span>      <span class="token keyword">in</span>          <span class="token keyword">raise</span>
</code></pre> 
<h3><a id="13__20"></a>1.3 变量赋值</h3> 
<p><strong>基本形式</strong><br> 一个对象赋值给一个变量。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token number">12</span>                       <span class="token comment"># 整型</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token number">1.23</span>                     <span class="token comment"># 浮点型</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token string">"Hello World"</span>            <span class="token comment"># 字符串</span>
</code></pre> 
<p><strong>序列赋值</strong><br> 右侧可以是任何类型的序列，但左侧的变量数量必须与右侧一致。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span> <span class="token string">"World"</span>        <span class="token comment"># 元组赋值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b
<span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"aa"</span><span class="token punctuation">,</span> <span class="token string">"bb"</span><span class="token punctuation">,</span> <span class="token string">"cc"</span><span class="token punctuation">]</span>   <span class="token comment"># 列表赋值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token string">'bb'</span><span class="token punctuation">,</span> <span class="token string">'cc'</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>          <span class="token comment"># 元组赋值给列表</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token string">"abc"</span>                <span class="token comment"># 字符串赋值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"ab"</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">]</span>  <span class="token comment"># 嵌套序列</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c
<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>多目标赋值</strong></p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token string">"Hello World"</span>          <span class="token comment"># 多目标赋值，等于b = "Hello World"，a = b</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b
<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">,</span> <span class="token string">'Hello World'</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>                    <span class="token comment"># 修改a的引用内容</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b                           <span class="token comment"># b的内容也被修改</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>自赋值语句</strong></p> 
<pre><code class="prism language-python">X <span class="token operator">+=</span> Y    X <span class="token operator">-=</span> Y    X <span class="token operator">/=</span> Y    X <span class="token operator">*=</span> Y
X <span class="token operator">%=</span> Y    X <span class="token operator">&amp;</span><span class="token operator">=</span> Y    X <span class="token operator">|</span><span class="token operator">=</span> Y    X <span class="token operator">^</span><span class="token operator">=</span> Y
X <span class="token operator">&lt;&lt;</span><span class="token operator">=</span> Y   X <span class="token operator">&gt;&gt;</span><span class="token operator">=</span> Y   X <span class="token operator">**=</span> Y   X <span class="token operator">//=</span> Y
</code></pre> 
<p><code>X += Y</code>等同于<code>X = X + Y</code></p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">+=</span> <span class="token number">10</span>                      <span class="token comment"># 自加赋值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val
<span class="token number">11</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>                    <span class="token comment"># 自加赋值，等同于extend方法</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b                           <span class="token comment"># a，b同时被修改</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="14__90"></a>1.4 变量是动态类型</h3> 
<p>变量的类型是动态的，只有当变量被赋值后，才能确定被定义成什么类型。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token number">12</span>                       <span class="token comment"># val是整型</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'int'</span><span class="token operator">&gt;</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> val <span class="token operator">=</span> <span class="token string">"Hello World"</span>            <span class="token comment"># val是字符串</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">type</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token builtin">type</span> <span class="token string">'str'</span><span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="15__103"></a>1.5 共享引用</h3> 
<p>共享引用是多个变量名引用了同一个对象。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">=</span> <span class="token number">123</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB <span class="token operator">=</span> valA                    <span class="token comment"># 变量valA与valB指向同一个对象</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA<span class="token punctuation">,</span> valB
<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB <span class="token operator">=</span> <span class="token string">"Hello World!"</span>          <span class="token comment"># 对变量valB重新赋值，不会影响变量valA</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA<span class="token punctuation">,</span> valB
<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">'Hello World!'</span><span class="token punctuation">)</span>
</code></pre> 
<p>在对象原处修改，会影响所有的引用</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>            <span class="token comment"># 变量valA引用了一个列表 </span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB <span class="token operator">=</span> valA                    <span class="token comment"># 变量valA与valB指向同一个对象</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA<span class="token punctuation">,</span> valB
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">34</span>                   <span class="token comment"># 变量valB在原处修改</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA<span class="token punctuation">,</span> valB                     <span class="token comment"># 变量valA也被修改</span>
<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="16__130"></a>1.6 共享引用和相等</h3> 
<p>对共享引用来说，相等并且是同一个对象。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB <span class="token operator">=</span> valA
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">==</span> valB                   <span class="token comment"># 变量valA和valB的值是否相同</span>
<span class="token boolean">True</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token keyword">is</span> valB                   <span class="token comment"># 变量valA和valB是否是同一对象</span>
<span class="token boolean">True</span>
</code></pre> 
<p>对变量B重新赋值，相等但并不是同一个对象。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valB <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token operator">==</span> valB                   <span class="token comment"># 变量valA和valB的值相同</span>
<span class="token boolean">True</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> valA <span class="token keyword">is</span> valB                   <span class="token comment"># 变量valA和valB不是同一对象</span>
<span class="token boolean">False</span>
</code></pre> 
<p>对整型或字符串来说，赋同一个值，相等并且是同一个对象，系统对值进行了缓存。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> int1 <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> int2 <span class="token operator">=</span> <span class="token number">12</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> int1 <span class="token operator">==</span> int2
<span class="token boolean">True</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> int1 <span class="token keyword">is</span> int2                   <span class="token comment"># 系统对整型进行了缓存</span>
<span class="token boolean">True</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> str1 <span class="token operator">=</span> <span class="token string">"HelloWorld!"</span><span class="token punctuation">;</span> str2 <span class="token operator">=</span> <span class="token string">"HelloWorld!"</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> str1 <span class="token operator">==</span> str2
<span class="token boolean">True</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> str1 <span class="token keyword">is</span> str2                   <span class="token comment"># 系统对字符串进行了缓存</span>
<span class="token boolean">True</span>
</code></pre> 
<h2><a id="2__173"></a>2. 变量作用域</h2> 
<h3><a id="21__174"></a>2.1 作用域基本规则</h3> 
<ul><li>变量名引用查找，首先是本地，其次是函数内，然后是全局，最后是内置。</li><li>所有<code>def</code>函数内赋值的变量名，默认均是本地变量，除非在之前声明为全局变量。</li><li>在<code>def</code>函数之外给一个变量名赋值时，本地作用域与全局作用域是相同的。</li></ul> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment"># 定义全局变量a, b, c</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    a <span class="token operator">=</span> <span class="token number">11</span>                    <span class="token comment"># a变量在方法fun1内定义，默认是本地变量</span>
    <span class="token keyword">def</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        b <span class="token operator">=</span> <span class="token number">21</span>                <span class="token comment"># b变量在方法fun2内定义，默认是本地变量</span>
        <span class="token keyword">print</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c         <span class="token comment"># a和b是本地变量，c是全局变量</span>
    fun2<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">11</span> <span class="token number">21</span> <span class="token number">3</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c                   <span class="token comment"># a和b没有被修改</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="22__196"></a>2.2 全局变量</h3> 
<p><strong>跨文件访问</strong><br> 在文件<code>mymod.py</code>中</p> 
<pre><code class="prism language-python">valA <span class="token operator">=</span> <span class="token string">"Hello World"</span>
valB <span class="token operator">=</span> <span class="token number">13</span>
</code></pre> 
<p>访问<code>mymod</code>模块。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">import</span> mymod              <span class="token comment"># import导入mymod</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span> mymod<span class="token punctuation">.</span>valA          <span class="token comment"># 访问mymod模块的变量valA</span>
Hello World

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> mymod<span class="token punctuation">.</span>valB <span class="token operator">+=</span> <span class="token number">3</span>           <span class="token comment"># 修改mymod模块的变量valB</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span> mymod<span class="token punctuation">.</span>valB
<span class="token number">16</span>
</code></pre> 
<p><strong>文件内函数访问</strong><br> 在函数中访问全局变量。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">=</span> <span class="token string">"Hello World!"</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> x                   <span class="token comment"># 直接访问变量x</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fun<span class="token punctuation">(</span><span class="token punctuation">)</span>
Hello World!
</code></pre> 
<p><strong>函数内修改全局变量</strong><br> 在函数内对任何一个变量的赋值，都会在本地变量上修改。除非调用<code>global</code>，声明该变量为全局变量。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">=</span> <span class="token string">"Hello World!"</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> x                  <span class="token comment"># 声明x是全局变量</span>
    x <span class="token operator">=</span> <span class="token string">"welcome"</span>             <span class="token comment"># 重新对x赋值</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fun<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x
<span class="token string">'welcome'</span>
</code></pre> 
<p><strong>global声明变量可以在全局没有声明过</strong></p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> b                  <span class="token comment"># 变量b没有在全局被定义过</span>
    b <span class="token operator">=</span> <span class="token number">17</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b                         <span class="token comment"># b没有被定义</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#5&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    b
NameError<span class="token punctuation">:</span> name <span class="token string">'b'</span> <span class="token keyword">is</span> <span class="token keyword">not</span> defined

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fun<span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comment"># 调用方法fun，b被定义为全局变量</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b
<span class="token number">17</span>
</code></pre> 
<h3><a id="23__260"></a>2.3 循环中访问变量</h3> 
<p>嵌套函数在调用时才会使用变量，这时候参数都是同一个值。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> actions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> L<span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token comment"># 定义方法fun</span>
        <span class="token keyword">print</span> x <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span>         <span class="token comment"># 使用循环中的变量x</span>
	actions<span class="token punctuation">.</span>append<span class="token punctuation">(</span>fun<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> ac <span class="token keyword">in</span> actions<span class="token punctuation">:</span>
	ac<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">25</span> <span class="token number">25</span> <span class="token number">25</span> <span class="token number">25</span> <span class="token number">25</span>
</code></pre> 
<p>在方法中添加参数记录值。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> actions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> L<span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">fun</span><span class="token punctuation">(</span>i <span class="token operator">=</span> x<span class="token punctuation">)</span><span class="token punctuation">:</span>           <span class="token comment"># 定义方法fun，设置参数i</span>
        <span class="token keyword">print</span> i <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">,</span>
    actions<span class="token punctuation">.</span>append<span class="token punctuation">(</span>fun<span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">for</span> ac <span class="token keyword">in</span> actions<span class="token punctuation">:</span>
	ac<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">1</span> <span class="token number">4</span> <span class="token number">9</span> <span class="token number">16</span> <span class="token number">25</span>
</code></pre> 
<h3><a id="24__288"></a>2.4 访问函数内的本地变量</h3> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">def</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    param <span class="token operator">=</span> <span class="token number">12</span>                <span class="token comment"># param是一个本地变量</span>
    <span class="token keyword">def</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span> param           <span class="token comment"># 可以访问变量param</span>
        param <span class="token operator">=</span> <span class="token number">13</span>            <span class="token comment"># 修改param的值，会引发异常</span>
	fun2<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"&lt;pyshell#132&gt;"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    fun1<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"&lt;pyshell#131&gt;"</span><span class="token punctuation">,</span> line <span class="token number">6</span><span class="token punctuation">,</span> <span class="token keyword">in</span> fun1
    fun2<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">"&lt;pyshell#131&gt;"</span><span class="token punctuation">,</span> line <span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">in</span> fun2
    <span class="token keyword">print</span> param
UnboundLocalError<span class="token punctuation">:</span> local variable <span class="token string">'param'</span> referenced before assignment
</code></pre> 
<p><strong>相关文章</strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120946886">Python 数字类型（一）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120947431">Python 布尔型（二）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120947764">Python 字符串（三）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120949761">Python 列表（四）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120949793">Python 字典（五）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120949860">Python 元组（六）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120967038">Python 集合（七）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120967155">Python 变量和作用域（八）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120968177">Python 语句（九）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120970253">Python 函数（十）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/120971088">Python 类（十一）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/121036540">Python 模块（十二）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/121074057">Python 文档（十三）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/121074436">Python 文件（十四）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/121074593">Python 异常（十五）</a></strong><br> <strong><a href="https://blog.csdn.net/chennai1101/article/details/121076347">Python 运算符重载（十六）</a></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/21a59a88205d0808ef7088e315e81fdf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">你了解Java应用开发中的注入攻击吗？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cfcf7112bfe0ad0b63be0c80749f34cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Wireshark对HTTPS数据的解密</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>