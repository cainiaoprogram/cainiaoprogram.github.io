<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>配置开启Hive远程连接 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="配置开启Hive远程连接" />
<meta property="og:description" content="配置开启Hive远程连接 Hive远程连接默认方式远程连接Hive自定义身份验证类远程连接Hive权限问题额外说明 Hive远程连接 要配置Hive远程连接，首先确保HiveServer2已启动并监听指定的端口
hive/bin/hiveserver2 检查 HiveServer2是否正在运行
# lsof -i:10000 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME java 660 root 565u IPv6 89917 0t0 TCP *:ndmp (LISTEN) 默认方式远程连接Hive 如果Hive 运行在与 Hadoop集成的环境中，HiveServer2可以与Hadoop中的用户验证机制集成，并且会使用已经验证的Hadoop用户凭据来进行身份验证和授权。
在IDEA的Database菜单栏如下操作，添加Hive连接
填写Hive地址，以及Hadoop中使用的用户名
注意：初次使用，配置过程会提示缺少JDBC驱动，按照提示下载即可。
点击Test Connection测试，发现连接Hive失败，同时hiveserver2后台日志提示：
WARN [HiveServer2-Handler-Pool: Thread-47] thrift.ThriftCLIService (ThriftCLIService.java:OpenSession(340)) - Error opening session: org.apache.hive.service.cli.HiveSQLException: Failed to open new session: java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.authorize.AuthorizationException): User: root is not allowed to impersonate root at org.apache.hive.service.cli.session.SessionManager.createSession(SessionManager.java:434) at org.apache.hive.service.cli.session.SessionManager.openSession(SessionManager.java:373) at org.apache.hive.service.cli.CLIService.openSessionWithImpersonation(CLIService.java:195) at org." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/cda92787c9a8fb7ee5f38a087b995c48/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-25T10:24:54+08:00" />
<meta property="article:modified_time" content="2023-08-25T10:24:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">配置开启Hive远程连接</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>配置开启Hive远程连接</h4> 
 <ul><li><a href="#Hive_1" rel="nofollow">Hive远程连接</a></li><li><ul><li><a href="#Hive_15" rel="nofollow">默认方式远程连接Hive</a></li><li><a href="#Hive_63" rel="nofollow">自定义身份验证类远程连接Hive</a></li><li><a href="#_147" rel="nofollow">权限问题</a></li><li><a href="#_189" rel="nofollow">额外说明</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Hive_1"></a>Hive远程连接</h2> 
<p>要配置Hive远程连接，首先确保HiveServer2已启动并监听指定的端口</p> 
<pre><code class="prism language-java">hive<span class="token operator">/</span>bin<span class="token operator">/</span>hiveserver2
</code></pre> 
<p>检查 HiveServer2是否正在运行</p> 
<pre><code class="prism language-java"># lsof <span class="token operator">-</span>i<span class="token operator">:</span><span class="token number">10000</span>
<span class="token constant">COMMAND</span> <span class="token constant">PID</span> <span class="token constant">USER</span>   <span class="token constant">FD</span>   <span class="token constant">TYPE</span> <span class="token constant">DEVICE</span> <span class="token constant">SIZE</span><span class="token operator">/</span><span class="token constant">OFF</span> <span class="token constant">NODE</span> <span class="token constant">NAME</span>
java    <span class="token number">660</span> root  <span class="token number">565</span>u  <span class="token class-name">IPv6</span>  <span class="token number">89917</span>      <span class="token number">0</span>t0  <span class="token constant">TCP</span> <span class="token operator">*</span><span class="token operator">:</span>ndmp <span class="token punctuation">(</span><span class="token constant">LISTEN</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="Hive_15"></a>默认方式远程连接Hive</h3> 
<blockquote> 
 <p>如果Hive 运行在与 Hadoop集成的环境中，HiveServer2可以与Hadoop中的用户验证机制集成，并且会使用已经验证的Hadoop用户凭据来进行身份验证和授权。</p> 
</blockquote> 
<p>在IDEA的Database菜单栏如下操作，添加Hive连接<br> <img src="https://images2.imgbox.com/61/e1/QTMN6YjB_o.png" alt="在这里插入图片描述"><br> 填写Hive地址，以及Hadoop中使用的用户名</p> 
<blockquote> 
 <p>注意：初次使用，配置过程会提示缺少JDBC驱动，按照提示下载即可。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/3a/bb/c4rcw4yk_o.png" alt="在这里插入图片描述"></p> 
<p>点击<code>Test Connection</code>测试，发现连接Hive失败，同时hiveserver2后台日志提示：</p> 
<pre><code class="prism language-java"> <span class="token constant">WARN</span>  <span class="token punctuation">[</span><span class="token class-name">HiveServer2</span><span class="token operator">-</span><span class="token class-name">Handler</span><span class="token operator">-</span><span class="token class-name">Pool</span><span class="token operator">:</span> <span class="token class-name">Thread</span><span class="token operator">-</span><span class="token number">47</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">thrift<span class="token punctuation">.</span></span>ThriftCLIService</span> <span class="token punctuation">(</span><span class="token class-name">ThriftCLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token class-name">OpenSession</span><span class="token punctuation">(</span><span class="token number">340</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token class-name">Error</span> opening session<span class="token operator">:</span>
<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span></span>HiveSQLException</span><span class="token operator">:</span> <span class="token class-name">Failed</span> <span class="token keyword">to</span> <span class="token keyword">open</span> <span class="token keyword">new</span> session<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>RuntimeException</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span></span>RemoteException</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>security<span class="token punctuation">.</span>authorize<span class="token punctuation">.</span></span>AuthorizationException</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token class-name">User</span><span class="token operator">:</span> root is not allowed <span class="token keyword">to</span> <span class="token namespace">impersonate</span> root
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span>SessionManager</span><span class="token punctuation">.</span><span class="token function">createSession</span><span class="token punctuation">(</span><span class="token class-name">SessionManager</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">434</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span>SessionManager</span><span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token class-name">SessionManager</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">373</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span></span>CLIService</span><span class="token punctuation">.</span><span class="token function">openSessionWithImpersonation</span><span class="token punctuation">(</span><span class="token class-name">CLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">195</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>ThriftCLIService</span><span class="token punctuation">.</span><span class="token function">getSessionHandle</span><span class="token punctuation">(</span><span class="token class-name">ThriftCLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">472</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cli<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>ThriftCLIService<span class="token punctuation">.</span>OpenSession</span><span class="token punctuation">(</span><span class="token class-name">ThriftCLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">322</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>rpc<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>TCLIService</span>$<span class="token class-name">Processor</span>$<span class="token class-name">OpenSession</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token class-name">TCLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1497</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>rpc<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>TCLIService</span>$<span class="token class-name">Processor</span>$<span class="token class-name">OpenSession</span><span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token class-name">TCLIService</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1482</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>ProcessFunction</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">ProcessFunction</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">39</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span></span>TBaseProcessor</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">TBaseProcessor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">39</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>auth<span class="token punctuation">.</span></span>TSetIpAddressProcessor</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">TSetIpAddressProcessor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">56</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span>TThreadPoolServer</span>$<span class="token class-name">WorkerProcess</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">TThreadPoolServer</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">286</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span><span class="token punctuation">.</span><span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1149</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span>ThreadPoolExecutor</span>$<span class="token class-name">Worker</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">624</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Thread</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">750</span><span class="token punctuation">)</span>
</code></pre> 
<p>解决方案：</p> 
<blockquote> 
 <p>在<code>Hadoop/etc/hadoop/core-site.xml</code>文件中添加如下配置，然后分发到各个节点</p> 
</blockquote> 
<p>注意：<code>root</code>：指Hadoop组件在运行时使用的用户名，根据自身配置修改</p> 
<pre><code class="prism language-java">    <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hadoop<span class="token punctuation">.</span>proxyuser<span class="token punctuation">.</span>root<span class="token punctuation">.</span>hosts<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hadoop<span class="token punctuation">.</span>proxyuser<span class="token punctuation">.</span>root<span class="token punctuation">.</span>groups<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token operator">*</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
</code></pre> 
<p>重启Hadoop、hiveserver2后再次连接测试</p> 
<p><img src="https://images2.imgbox.com/56/8a/ohQ97izf_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Hive_63"></a>自定义身份验证类远程连接Hive</h3> 
<blockquote> 
 <p>在Hive 中，默认情况下，没有启用用户验证机制，即hive默认的用户名和密码都是空。为了安全保证，可以开启用户、密码登录Hive，做法是自定义一个身份验证类</p> 
</blockquote> 
<p>创建一个Java项目，并确保项目中包含所需的依赖项，如Hive的JDBC驱动程序</p> 
<pre><code class="prism language-java">        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>hive<span class="token operator">-</span>jdbc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre> 
<blockquote> 
 <p>注意：应该使用与服务器使用的Hive JDBC版本保持一致。</p> 
</blockquote> 
<p>创建一个实现 PasswdAuthenticationProvider 接口的类。</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>ybzy<span class="token punctuation">.</span>demo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>conf<span class="token punctuation">.</span></span><span class="token class-name">HiveConf</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>service<span class="token punctuation">.</span>auth<span class="token punctuation">.</span></span><span class="token class-name">PasswdAuthenticationProvider</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>security<span class="token punctuation">.</span>sasl<span class="token punctuation">.</span></span><span class="token class-name">AuthenticationException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHiveCustomPasswdAuthenticator</span> <span class="token keyword">implements</span> <span class="token class-name">PasswdAuthenticationProvider</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> <span class="token constant">LOG</span> <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span>LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyHiveCustomPasswdAuthenticator</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">HIVE_JDBC_PASSWD_AUTH_PREFIX</span> <span class="token operator">=</span> <span class="token string">"hive.jdbc_passwd.auth.%s"</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Configuration</span> conf <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Authenticate</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">,</span> <span class="token class-name">String</span> passwd<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">AuthenticationException</span> <span class="token punctuation">{<!-- --></span>
        <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Hive 用户: "</span> <span class="token operator">+</span> userName <span class="token operator">+</span> <span class="token string">" 尝试登录"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> passwdConf <span class="token operator">=</span> <span class="token function">getConf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token constant">HIVE_JDBC_PASSWD_AUTH_PREFIX</span><span class="token punctuation">,</span> userName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>passwdConf <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">"找不到对应用户的密码配置, 用户:"</span> <span class="token operator">+</span> userName<span class="token punctuation">;</span>
            <span class="token constant">LOG</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AuthenticationException</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>passwd<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>passwdConf<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">"用户名和密码不匹配, 用户:"</span> <span class="token operator">+</span> userName<span class="token punctuation">;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">AuthenticationException</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Configuration</span> <span class="token function">getConf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conf <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HiveConf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> conf<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setConf</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span> conf<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>conf <span class="token operator">=</span> conf<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>将该Java项目打包，同时上传到Hive的lib目录</p> 
<pre><code class="prism language-java">mv hive<span class="token operator">/</span><span class="token class-name">MyHiveCustomPasswdAuthenticator</span><span class="token punctuation">.</span>jar hive<span class="token operator">/</span>lib<span class="token operator">/</span>
</code></pre> 
<p>修改hive-site.xml，进行配置</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 使用自定义远程连接用户名和密码 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>authentication<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token constant">CUSTOM</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>默认为none，修改成<span class="token constant">CUSTOM</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 指定解析类 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>ybzy<span class="token punctuation">.</span>demo<span class="token punctuation">.</span></span>MyHiveCustomPasswdAuthenticator</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>  
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>设置用户名和密码  name属性中root是用户名 value属性中时密码<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
	<span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>jdbc_passwd<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>hive<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
	<span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>hive123<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>  
</code></pre> 
<p><img src="https://images2.imgbox.com/31/80/QewJ98CU_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_147"></a>权限问题</h3> 
<p>在IDEA中远程连接Hive，并操作时，可能会出现如下异常：</p> 
<pre><code class="prism language-java"><span class="token constant">ERROR</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           <span class="token class-name">HiveServer2</span><span class="token operator">-</span><span class="token class-name">Background</span><span class="token operator">-</span><span class="token class-name">Pool</span><span class="token operator">:</span> <span class="token class-name">Thread</span><span class="token operator">-</span><span class="token number">440</span><span class="token punctuation">]</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hive<span class="token punctuation">.</span>metastore<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span>MetaStoreUtils</span>                           <span class="token punctuation">(</span>line<span class="token operator">:</span>  <span class="token number">166</span><span class="token punctuation">)</span>  <span class="token operator">:</span>  <span class="token class-name">Got</span> exception<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span>AccessControlException</span> <span class="token class-name">Permission</span> denied<span class="token operator">:</span> user<span class="token operator">=</span>hive<span class="token punctuation">,</span> access<span class="token operator">=</span><span class="token constant">WRITE</span><span class="token punctuation">,</span> inode<span class="token operator">=</span><span class="token string">"/hive/warehouse"</span><span class="token operator">:</span>root<span class="token operator">:</span>supergroup<span class="token operator">:</span>drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSPermissionChecker</span><span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token class-name">FSPermissionChecker</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">399</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSPermissionChecker</span><span class="token punctuation">.</span><span class="token function">checkPermission</span><span class="token punctuation">(</span><span class="token class-name">FSPermissionChecker</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">255</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSPermissionChecker</span><span class="token punctuation">.</span><span class="token function">checkPermission</span><span class="token punctuation">(</span><span class="token class-name">FSPermissionChecker</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">193</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSDirectory</span><span class="token punctuation">.</span><span class="token function">checkPermission</span><span class="token punctuation">(</span><span class="token class-name">FSDirectory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1855</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSDirectory</span><span class="token punctuation">.</span><span class="token function">checkPermission</span><span class="token punctuation">(</span><span class="token class-name">FSDirectory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1839</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSDirectory</span><span class="token punctuation">.</span><span class="token function">checkAncestorAccess</span><span class="token punctuation">(</span><span class="token class-name">FSDirectory</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1798</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSDirMkdirOp</span><span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token class-name">FSDirMkdirOp</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">59</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>FSNamesystem</span><span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token class-name">FSNamesystem</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">3175</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>server<span class="token punctuation">.</span>namenode<span class="token punctuation">.</span></span>NameNodeRpcServer</span><span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token class-name">NameNodeRpcServer</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1145</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>protocolPB<span class="token punctuation">.</span></span>ClientNamenodeProtocolServerSideTranslatorPB</span><span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token class-name">ClientNamenodeProtocolServerSideTranslatorPB</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">714</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>hdfs<span class="token punctuation">.</span>protocol<span class="token punctuation">.</span>proto<span class="token punctuation">.</span></span>ClientNamenodeProtocolProtos</span>$<span class="token class-name">ClientNamenodeProtocol</span>$<span class="token number">2.</span><span class="token function">callBlockingMethod</span><span class="token punctuation">(</span><span class="token class-name">ClientNamenodeProtocolProtos</span><span class="token punctuation">.</span>java<span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span></span>ProtobufRpcEngine</span>$<span class="token class-name">Server</span>$<span class="token class-name">ProtoBufRpcInvoker</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">ProtobufRpcEngine</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">527</span><span class="token punctuation">)</span>
        at org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span><span class="token constant">RPC</span>$<span class="token class-name">Server</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token constant">RPC</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1036</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span></span>Server</span>$<span class="token class-name">RpcCall</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Server</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1000</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span></span>Server</span>$<span class="token class-name">RpcCall</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Server</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">928</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span>AccessController</span><span class="token punctuation">.</span><span class="token function">doPrivileged</span><span class="token punctuation">(</span><span class="token class-name">Native</span> <span class="token class-name">Method</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>security<span class="token punctuation">.</span>auth<span class="token punctuation">.</span></span>Subject</span><span class="token punctuation">.</span><span class="token function">doAs</span><span class="token punctuation">(</span><span class="token class-name">Subject</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">422</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>security<span class="token punctuation">.</span></span>UserGroupInformation</span><span class="token punctuation">.</span><span class="token function">doAs</span><span class="token punctuation">(</span><span class="token class-name">UserGroupInformation</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1729</span><span class="token punctuation">)</span>
        at <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>ipc<span class="token punctuation">.</span></span>Server</span>$<span class="token class-name">Handler</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Server</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2916</span><span class="token punctuation">)</span>
</code></pre> 
<p>原因：</p> 
<blockquote> 
 <p>在操作Hive时，其会去操作HDFS，而登录Hive的用户没有权限操作</p> 
</blockquote> 
<p>解决方案：</p> 
<blockquote> 
 <p>要确保Hive用户（例如 hive）能够操作HDFS。</p> 
</blockquote> 
<p>由于Hive配置了metastore数据存储位置，例如<code>/hive/warehouse</code>，因此，需要对该目录授予相应权限</p> 
<pre><code class="prism language-java">hadoop fs <span class="token operator">-</span>chown hive<span class="token operator">:</span>hive <span class="token operator">/</span>hive<span class="token operator">/</span>warehouse
</code></pre> 
<p>在IDEA中创建一个数据库：</p> 
<pre><code class="prism language-java">create database demo<span class="token punctuation">;</span>
</code></pre> 
<p>查看HDFS：<br> <img src="https://images2.imgbox.com/22/81/a41kXEgP_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_189"></a>额外说明</h3> 
<p>除了上述方式外，Hive还提供了Kerberos 或 LDAP高级认证方式，有点复杂，暂且不讨论。</p> 
<p>另外，在较早版本的 Hive（2.x 及更早版本）中可以通过以下配置Hive远程连接的用户名与密码</p> 
<pre><code class="prism language-java"><span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>authentication<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token constant">PASSWORD</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>hive<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span>user<span class="token punctuation">.</span>password<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>hive123<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>cli<span class="token punctuation">.</span>print<span class="token punctuation">.</span>current<span class="token punctuation">.</span>db<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token boolean">true</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span>port<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span><span class="token number">10000</span><span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>property<span class="token punctuation">&gt;</span></span>
     <span class="token generics"><span class="token punctuation">&lt;</span>name<span class="token punctuation">&gt;</span></span>hive<span class="token punctuation">.</span>server2<span class="token punctuation">.</span>thrift<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>host<span class="token operator">&lt;</span><span class="token operator">/</span>name<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>value<span class="token punctuation">&gt;</span></span>node01<span class="token operator">&lt;</span><span class="token operator">/</span>value<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">&gt;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d9f8edd4e61c0beee998d15a588b73b3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cf Codeforces Round 888 E. Nastya and Potions</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/237bcfe06ff015a2d24a142180620ec5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Nginx的启动与关闭命令</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>