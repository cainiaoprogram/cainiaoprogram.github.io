<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Open Street Map介绍以及相关使用教程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Open Street Map介绍以及相关使用教程" />
<meta property="og:description" content="看不太懂，但感觉有用的东西。Openstreetmap 是什么？
用来入门（或者说先知道这是什么）简单的百度百科介绍
这个链接展示了如何下载一定格式的地图（shp、osm格式）。
OpenStreetMap开源地图数据下载方法（含shp格式）
那问题来了，shp和osm格式都是什么东西呀？
android中osm开发，也许没什么用的，但里边的链接还蛮多的OpenStreetMap初探（二）——osm的数据结构 用python解读osm数据：
xml方式 Python处理OpenStreetMap(OSM)数据似乎是什么提取交通网络，不是很需要。Python实现OSM地图数据解析——OSM2GMNSpython读取文件可视化,如何在Python中从OSM文件提取和可视化数据osm数据下载 python_用Python解锁处理OSM数据的全部姿势pyosmium doc 最后如何使用还是要看：
官方doc
osmium文档
先熟悉python的各个接口
osmium.osm.Node class示例：
osmium.osm.Way 示例：
In Osmium, ways can optionally also have a location for each node
reference. This will usually be empty but can be filled, for instance
using the NodeLocationsForWays handler (see below). This is very
convenient for many use cases.
看起来从way的WayNodeList找到的node 不太对，记录reference，再查下。直接拿会错。
目前只能通过ref，再次寻找地图点来确定位置。git源码就是这么做的。
但如果用了
h.apply_file(&#34;test.osm.pbf&#34;, locations=True, idx=&#39;dense_file_array,example.nodecache&#39;) 则也许location里是有内容的，待验证。
验证成功可以用。
osmium.osm.Relation 示例：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7b6242d5d97ab07a45c899b000ed920c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-20T17:26:41+08:00" />
<meta property="article:modified_time" content="2022-07-20T17:26:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Open Street Map介绍以及相关使用教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://loveyu.org/5344.html" rel="nofollow">看不太懂，但感觉有用的东西。Openstreetmap 是什么？</a></p> 
<ol><li> <p>用来入门（或者说先知道这是什么）<a href="https://baike.baidu.com/item/Open%20Street%20Map/11057294?fr=aladdin" rel="nofollow">简单的百度百科介绍</a></p> </li><li> <p>这个链接展示了如何下载一定格式的地图（shp、osm格式）。<br> <a href="https://zhuanlan.zhihu.com/p/150575860" rel="nofollow">OpenStreetMap开源地图数据下载方法（含shp格式）</a></p> </li><li> <p>那问题来了，shp和osm格式都是什么东西呀？</p> 
  <ul><li><a href="https://blog.csdn.net/sinat_41895958/article/details/81450813">android中osm开发，也许没什么用的，但里边的链接还蛮多的</a></li><li><a href="https://blog.csdn.net/scy411082514/article/details/7484497">OpenStreetMap初探（二）——osm的数据结构</a></li></ul> </li><li> <p>用python解读osm数据：</p> 
  <ul><li><a href="https://blog.csdn.net/qq_42219469/article/details/108625749">xml方式 Python处理OpenStreetMap(OSM)数据</a></li><li><a href="https://blog.csdn.net/qq_36744449/article/details/120045198?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-120045198-blog-108625749.pc_relevant_multi_platform_whitelistv1&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1-120045198-blog-108625749.pc_relevant_multi_platform_whitelistv1&amp;utm_relevant_index=1">似乎是什么提取交通网络，不是很需要。Python实现OSM地图数据解析——OSM2GMNS</a></li><li><a href="https://blog.csdn.net/weixin_33309848/article/details/118793592">python读取文件可视化,如何在Python中从OSM文件提取和可视化数据</a></li><li><a href="https://blog.csdn.net/weixin_31235909/article/details/112277604">osm数据下载 python_用Python解锁处理OSM数据的全部姿势</a></li><li><a href="https://docs.osmcode.org/pyosmium/latest/intro.html#reading-osm-data" rel="nofollow">pyosmium doc</a></li></ul> </li></ol> 
<p>最后如何使用还是要看：<br> <a href="https://docs.osmcode.org/pyosmium/latest/index.html" rel="nofollow">官方doc</a><br> <a href="https://osmcode.org/" rel="nofollow">osmium文档</a></p> 
<ol><li>先熟悉python的各个接口<br> osmium.osm.Node class示例：<br> <img src="https://images2.imgbox.com/45/4f/eb8jUkh4_o.png" alt="示例"><br> osmium.osm.Way 示例：<br> <img src="https://images2.imgbox.com/ed/e3/C28MT0g4_o.png" alt="在这里插入图片描述"></li></ol> 
<blockquote> 
 <p>In Osmium, ways can optionally also have a location for each node<br> reference. This will usually be empty but can be filled, for instance<br> using the NodeLocationsForWays handler (see below). This is very<br> convenient for many use cases.</p> 
</blockquote> 
<p>看起来从way的WayNodeList找到的node 不太对，记录reference，再查下。直接拿会错。</p> 
<p>目前只能通过ref，再次寻找地图点来确定位置。git源码就是这么做的。</p> 
<p>但如果用了</p> 
<pre><code class="prism language-python">h<span class="token punctuation">.</span>apply_file<span class="token punctuation">(</span><span class="token string">"test.osm.pbf"</span><span class="token punctuation">,</span> locations<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> idx<span class="token operator">=</span><span class="token string">'dense_file_array,example.nodecache'</span><span class="token punctuation">)</span>
</code></pre> 
<p>则也许location里是有内容的，待验证。</p> 
<p><strong>验证成功</strong>可以用。</p> 
<p>osmium.osm.Relation 示例：<br> <img src="https://images2.imgbox.com/08/7b/O1zMVDhb_o.png" alt="在这里插入图片描述"></p> 
<p>从官方文档看到了（https://github.com/osmcode/pyosmium/blob/master/examples/road_length.py）：<br> self.length += o.geom.haversine_distance(w.nodes)<br> 说明在地图领域，或者高精地图领域，还是有一些函数的，只是才入门，不太懂而已。问题是确实相关材料不多。</p> 
<ol start="3"><li>然后看osmium的各个定义，进行继续开发，后者接其他库，进行图像操作。</li></ol> 
<p>从git上看有用的代码：</p> 
<table><thead><tr><th>代码</th></tr></thead><tbody><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/amenity_list.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/convert.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/filter_coastlines.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/normalize_boolean.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/osm_file_stats.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/pub_names.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/road_length.py</td></tr><tr><td>https://github.com/osmcode/pyosmium/blob/master/examples/road_length.py</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b77641f47473138947b636ddb7dcf7a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python训练自定义损失函数与评价指标的XGBoost，并在Java环境调用模型</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5fbacf0228b1ad56b651843d2737ce5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【YOLOV5-5.x 源码讲解】整体项目文件导航</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>