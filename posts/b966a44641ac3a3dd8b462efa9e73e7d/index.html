<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【MySQL】MySQL数据类型 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【MySQL】MySQL数据类型" />
<meta property="og:description" content="文章目录 1.数据类型分类2.数值类型2.1tinyint类型2.2bit类型2.3小数类型2.3.1float2.3.2decimal 3.字符串类型3.1char3.2varchar3.3char和varchar比较 4.日期和时间类型5.enum和set 1.数据类型分类 在MySQL中数据分为一下几类：
2.数值类型 2.1tinyint类型 数值越界测试：
mysql&gt; create table tt1(num tinyint); Query OK, 0 rows affected (0.02 sec) mysql&gt; insert into tt1 values(1); Query OK, 1 row affected (0.00 sec) mysql&gt; insert into tt1 values(128); -- 越界插入，报错 ERROR 1264 (22003): Out of range value for column &#39;num&#39; at row 1 mysql&gt; select * from tt1; &#43;------&#43; | num | &#43;------&#43; | 1 | &#43;------&#43; 1 row in set (0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b966a44641ac3a3dd8b462efa9e73e7d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T16:56:47+08:00" />
<meta property="article:modified_time" content="2024-01-10T16:56:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【MySQL】MySQL数据类型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1_1" rel="nofollow">1.数据类型分类</a></li><li><a href="#2_8" rel="nofollow">2.数值类型</a></li><li><ul><li><a href="#21tinyint_13" rel="nofollow">2.1tinyint类型</a></li><li><a href="#22bit_64" rel="nofollow">2.2bit类型</a></li><li><a href="#23_119" rel="nofollow">2.3小数类型</a></li><li><ul><li><a href="#231float_121" rel="nofollow">2.3.1float</a></li><li><a href="#232decimal_180" rel="nofollow">2.3.2decimal</a></li></ul> 
   </li></ul> 
   </li><li><a href="#3_218" rel="nofollow">3.字符串类型</a></li><li><ul><li><a href="#31char_220" rel="nofollow">3.1char</a></li><li><a href="#32varchar_258" rel="nofollow">3.2varchar</a></li><li><a href="#33charvarchar_303" rel="nofollow">3.3char和varchar比较</a></li></ul> 
   </li><li><a href="#4_322" rel="nofollow">4.日期和时间类型</a></li><li><a href="#5enumset_366" rel="nofollow">5.enum和set</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1_1"></a>1.数据类型分类</h3> 
<p>在MySQL中数据分为一下几类：</p> 
<p><img src="https://images2.imgbox.com/e0/58/kiEKkc5n_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_8"></a>2.数值类型</h3> 
<p><img src="https://images2.imgbox.com/bb/33/X7LEkoHv_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="21tinyint_13"></a>2.1tinyint类型</h4> 
<p>数值越界测试：</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt1(num tinyint);
Query OK, 0 rows affected (0.02 sec)

mysql&gt; insert into tt1 values(1);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt1 values(128); -- 越界插入，报错
ERROR 1264 (22003): Out of range value for column 'num' at row 1

mysql&gt; select * from tt1;
+------+
| num |
+------+
| 1 |
+------+
1 row in set (0.00 sec)
</code></pre> 
<p>说明:</p> 
<p>在MySQL中，整型可以指定是有符号的和无符号的，默认是有符号的。</p> 
<p>可以通过UNSIGNED来说明某个字段是无符号的</p> 
<p>无符号案例</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt2(num tinyint unsigned);

mysql&gt; insert into tt2 values(-1); -- 无符号，范围是： 0 - 255
ERROR 1264 (22003): Out of range value for column 'num' at row 1

mysql&gt; insert into tt2 values(255);
Query OK, 1 row affected (0.02 sec)

mysql&gt; select * from tt2;
+------+
| num |
+------+
| 255 |
+------+
1 row in set (0.00 sec)
</code></pre> 
<p>注意：尽量不使用unsigned，对于int类型可能存放不下的数据，int unsigned同样可能存放不下，与其如此，还不如设计时，将int类型提升为bigint类型</p> 
<h4><a id="22bit_64"></a>2.2bit类型</h4> 
<p>基本语法：</p> 
<pre><code class="prism language-mysql">bit[(M)] : 位字段类型。M表示每个值的位数，范围从1到64。如果M被忽略，默认为1。
</code></pre> 
<pre><code class="prism language-mysql">mysql&gt; create table tt4 ( id int, a bit(8));
Query OK, 0 rows affected (0.01 sec)

mysql&gt; insert into tt4 values(10, 10);
Query OK, 1 row affected (0.01 sec)

mysql&gt; select * from tt4; 
+------+------+
| id | a |
+------+------+
| 10 | |
+------+------+
1 row in set (0.00 sec)
</code></pre> 
<p>发现很怪异的现象，a的数据10没有出现</p> 
<p>bit使用的注意事项：</p> 
<p>bit字段在显示时，是按照ASCII码对应的值显示。</p> 
<pre><code class="prism language-mysql">mysql&gt; select * from tt4;
+------+------+
| id | a |
+------+------+
| 10   |      |
| 65   |   A  |
+------+------+
</code></pre> 
<p>如果我们有这样的值，只存放0或1，这时可以定义bit(1)。这样可以节省空间。</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt5(gender bit(1));

mysql&gt; insert into tt5 values(0);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt5 values(1);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt5 values(2); -- 当插入2时，已经越界了
ERROR 1406 (22001): Data too long for column 'gender' at row 1
</code></pre> 
<h4><a id="23_119"></a>2.3小数类型</h4> 
<h5><a id="231float_121"></a>2.3.1float</h5> 
<p>语法：</p> 
<pre><code class="prism language-mysql">float[(m, d)] [unsigned] : M指定显示长度，d指定小数位数，占用空间4个字节
</code></pre> 
<p>案例：</p> 
<p>小数：float(4,2)表示的范围是-99.99 ~ 99.99，MySQL在保存值时会进行四舍五入。</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt6(id int, salary float(4,2));
Query OK, 0 rows affected (0.01 sec)

mysql&gt; insert into tt6 values(100, -99.99);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt6 values(101, -99.991); #多的这一点被拿掉了
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from tt6;
+------+--------+
| id | salary |
+------+--------+
| 100 | -99.99 |
| 101 | -99.99 |
+------+--------+
2 rows in set (0.00 sec)
</code></pre> 
<p>案例：</p> 
<p>如果定义的是float(4,2) unsigned 这时，因为把它指定为无符号的数，范围是 0 ~ 99.99</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt7(id int, salary float(4,2) unsigned);
Query OK, 0 rows affected (0.01 sec)

mysql&gt; insert into tt7 values(100, -0.1);
Query OK, 1 row affected, 1 warning (0.00 sec)

// 查看警告
mysql&gt; show warnings;
+---------+------+-------------------------------------------------+
| Level | Code | Message |
+---------+------+-------------------------------------------------+
| Warning | 1264 | Out of range value for column 'salary' at row 1 |
+---------+------+-------------------------------------------------+
1 row in set (0.00 sec)

mysql&gt; insert into tt7 values(100, -0);
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt7 values(100, 99.99);
Query OK, 1 row affected (0.00 sec)
</code></pre> 
<h5><a id="232decimal_180"></a>2.3.2decimal</h5> 
<p>语法：</p> 
<pre><code class="prism language-mysql">decimal(m, d) [unsigned] : 定点数m指定长度，d表示小数点的位数
</code></pre> 
<p>decimal(5,2) 表示的范围是 -999.99 ~ 999.99</p> 
<p>decimal(5,2) unsigned 表示的范围 0 ~ 999.99</p> 
<p>decimal和float很像，但是有区别:</p> 
<p>float和decimal表示的精度不一样</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt8 ( id int, salary float(10,8), salary2 decimal(10,8));

mysql&gt; insert into tt8 values(100,23.12345612, 23.12345612);
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from tt8;
+------+-------------+-------------+
| id | salary | salary2 |
+------+-------------+-------------+
| 100 | 23.12345695 | 23.12345612 |
+------+-------------+-------------+
</code></pre> 
<p>发现decimal的精度更准确，因此如果我们希望某个数据表示高精度，选择decimal</p> 
<p>说明：float表示的精度大约是7位。</p> 
<p>decimal整数最大位数m为65。支持小数最大位数d是30。如果d被省略，默认为0。如果m被省略，默认是10。</p> 
<p>建议：如果希望小数的精度高，推荐使用decimal。</p> 
<h3><a id="3_218"></a>3.字符串类型</h3> 
<h4><a id="31char_220"></a>3.1char</h4> 
<p>语法：</p> 
<pre><code class="prism language-mysql">char(L): 固定长度字符串，L是可以存储的长度，单位为字符，最大长度值可以为255
</code></pre> 
<p>案例（char）：</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt9(id int, name char(2));
Query OK, 0 rows affected (0.00 sec)

mysql&gt; insert into tt9 values(100, 'ab');
Query OK, 1 row affected (0.00 sec)

mysql&gt; insert into tt9 values(101, '中国');
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from tt9;
+------+--------+
| id | name |
+------+--------+
| 100 | ab |
| 101 | 中国 |
+------+--------+
</code></pre> 
<p>说明：</p> 
<p>char(2) 表示可以存放两个字符，可以是字母或汉字，但是不能超过2个， 最多只能是255</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt10(id int ,name char(256));
ERROR 1074 (42000): Column length too big for column 'name' (max = 255); use BLOB or TEXT instead
</code></pre> 
<h4><a id="32varchar_258"></a>3.2varchar</h4> 
<p>语法：</p> 
<pre><code class="prism language-mysql">varchar(L): 可变长度字符串，L表示字符长度，最大长度65535个字节
</code></pre> 
<p>案例：</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt10(id int ,name varchar(6)); --表示这里可以存放6个字符

mysql&gt; insert into tt10 values(100, 'hello');

mysql&gt; insert into tt10 values(100, '我爱你，中国');

mysql&gt; select * from tt10;
+------+--------------------+
| id | name |
+------+--------------------+
| 100 | hello |
| 100 | 我爱你，中国 |
+------+--------------------+
</code></pre> 
<p>说明：</p> 
<p>关于varchar(len),len到底是多大，这个len值，和表的编码密切相关：</p> 
<p>varchar长度可以指定为0到65535之间的值，但是有1 - 3 个字节用于记录数据大小，所以说有效字节数65532。</p> 
<p>当我们的表的编码是utf8时，varchar(n)的参数n最大值是65532/3=21844[因为utf中，一个字符占用3个字节]，如果编码是gbk，varchar(n)的参数n最大是65532/2=32766（因为gbk中，一个字符占用2字节）。</p> 
<p>验证utf8确实是不能超过21844</p> 
<pre><code class="prism language-mysql">mysql&gt; create table tt11(name varchar(21845))charset=utf8; 
ERROR 1118 (42000): Row size too large. The maximum row size for the used
table type, not counting BLOBs, is 65535. You have to change some columns to TEXT or BLOBs

mysql&gt; create table tt11(name varchar(21844)) charset=utf8;
Query OK, 0 rows affected (0.01 sec)
</code></pre> 
<h4><a id="33charvarchar_303"></a>3.3char和varchar比较</h4> 
<p><img src="https://images2.imgbox.com/af/fa/Ez7HB3do_o.png" alt="在这里插入图片描述"></p> 
<p><strong>如何选择定长或变长字符串？</strong></p> 
<blockquote> 
 <p>如果数据确定长度都一样，就使用定长（char），比如：身份证，手机号，md5</p> 
 <p>如果数据长度有变化,就使用变长(varchar), 比如：名字，地址，但是你要保证最长的能存的进去。</p> 
 <p>定长的磁盘空间比较浪费，但是效率高。</p> 
 <p>变长的磁盘空间比较节省，但是效率低。</p> 
 <p>定长的意义是，直接开辟好对应的空间</p> 
 <p>变长的意义是，在不超过自定义范围的情况下，用多少，开辟多少。</p> 
</blockquote> 
<h3><a id="4_322"></a>4.日期和时间类型</h3> 
<p>常用的日期有如下三个：</p> 
<p>date :日期 ‘yyyy-mm-dd’ ，占用三字节</p> 
<p>datetime 时间日期格式 ‘yyyy-mm-dd HH:ii:ss’ 表示范围从 1000 到 9999 ，占用八字节</p> 
<p>timestamp ：时间戳，从1970年开始的 yyyy-mm-dd HH:ii:ss 格式和 datetime 完全一致，占用四字节</p> 
<p>案例：</p> 
<pre><code class="prism language-mysql">//创建表
mysql&gt; create table birthday (t1 date, t2 datetime, t3 timestamp);
Query OK, 0 rows affected (0.01 sec)

//插入数据：
mysql&gt; insert into birthday(t1,t2) values('1997-7-1','2008-8-8 12:1:1'); --插入两种时间
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from birthday;
+------------+---------------------+---------------------+
| t1 | t2 | t3 |
+------------+---------------------+---------------------+
| 1997-07-01 | 2008-08-08 12:01:01 | 2017-11-12 18:28:55 | --添加数据时，时间戳自动补上当前时间
+------------+---------------------+---------------------+

//更新数据：
mysql&gt; update birthday set t1='2000-1-1';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1 Changed: 1 Warnings: 0

mysql&gt; select * from birthday;
+------------+---------------------+---------------------+
| t1 | t2 | t3 |
+------------+---------------------+---------------------+
| 2000-01-01 | 2008-08-08 12:01:01 | 2017-11-12 18:32:09 | -- 更新数据，时间戳会更新
成当前时间
+------------+---------------------+---------------------+
</code></pre> 
<p>添加数据时，时间戳自动补上当前时间</p> 
<h3><a id="5enumset_366"></a>5.enum和set</h3> 
<p>语法：</p> 
<p>enum：枚举，“单选”类型；</p> 
<p>enum(‘选项1’,‘选项2’,‘选项3’,…);</p> 
<p>该设定只是提供了若干个选项的值，最终一个单元格中，实际只存储了其中一个值；而且出于效率考虑，这些值实际存储的是“数字”，因为这些选项的每个选项值依次对应如下数字：1,2,3,…最多65535个；当我们添加枚举时，也可以添加对应的数字编号。</p> 
<p>set：集合，“多选”类型；</p> 
<p>set(‘选项值1’,‘选项值2’,‘选项值3’, …);</p> 
<p>该设定只是提供了若干个选项的值，最终一个单元格中，设计可存储了其中任意多个值；而且出于效率考虑，这些值实际存储的是“数字”，因为这些选项的每个选项值依次对应如下数字：1,2,4,8,16,32，…最多64个。</p> 
<p>说明：不建议在添加枚举值，集合值的时候采用数字的方式，因为不利于阅读。</p> 
<p>案例：</p> 
<p>有一个调查表votes，需要调查人的喜好， 比如（登山，游泳，篮球，武术）中去选择(可以多选),(男，女)[单选]</p> 
<pre><code class="prism language-mysql">mysql&gt; create table votes(
-&gt; username varchar(30),
-&gt; hobby set('登山','游泳','篮球','武术'),
-&gt; gender enum('男','女'));
Query OK, 0 rows affected (0.02 sec)
</code></pre> 
<p>插入数据：</p> 
<pre><code class="prism language-mysql">insert into votes values('雷锋', '登山,武术', '男');
insert into votes values('Juse','登山,武术',2);

select * from votes where gender=2;
+----------+---------------+--------+
| username | hobby | gender |
+----------+---------------+--------+
| Juse | 登山,武术 |女 |
+----------+---------------+--------+
</code></pre> 
<p>有如下数据，想查找所有喜欢登山的人：</p> 
<pre><code class="prism language-mysql">+-----------+---------------+--------+
| username | hobby | gender |
+-----------+---------------+--------+
| 雷锋 | 登山,武术 | 男 |
| Juse | 登山,武术 | 女 |
| LiLei | 登山 | 男 |
| LiLei | 篮球 | 男 |
| HanMeiMei | 游泳 | 女 |
+-----------+---------------+--------+
</code></pre> 
<p>使用如下查询语句：</p> 
<pre><code class="prism language-mysql">mysql&gt; select * from votes where hobby='登山';
+----------+--------+--------+
| username | hobby | gender |
+----------+--------+--------+
| LiLei | 登山 | 男 |
+----------+--------+--------+
</code></pre> 
<p>不能查询出所有，爱好为登山的人</p> 
<p>集合查询使用find_ in_ set函数：</p> 
<p>find_in_set(sub,str_list) :如果 sub 在 str_list 中，则返回下标；如果不在，返回0;str_list 用逗号分隔的字符串。</p> 
<pre><code class="prism language-mysql">mysql&gt; select find_in_set('a', 'a,b,c');
+---------------------------+
| find_in_set('a', 'a,b,c') |
+---------------------------+
| 1 |
+---------------------------+

mysql&gt; select find_in_set('d', 'a,b,c');
+---------------------------+
| find_in_set('d', 'a,b,c') |
+---------------------------+
| 0 |
+---------------------------+
</code></pre> 
<p>查询爱好登山的人：</p> 
<pre><code class="prism language-mysql">mysql&gt; select * from votes where find_in_set('登山', hobby);
+----------+---------------+--------+
| username | hobby | gender |
+----------+---------------+--------+
| 雷锋 | 登山,武术 | 男 |
| Juse | 登山,武术 | 女 |
| LiLei | 登山 | 男 |
+----------+---------------+--------+
</code></pre> 
<p>总结：如果我们向mysql特定类型中插入不合法的数据，mysql一般都是直接拦截我们，不让我们做对应的操作。</p> 
<p>反过来，如果我们已经有数据被成功插入到mysql中了，一定是插入的是合法的<br> 所以在mysql中，一般而言，数据类型本身也是一种约束。这样倒逼程序员尽可能的进行正确的插入，就能保证数据中的数据是可预期的，完整的。另外，如果你不是一个很好的使用者，mysql也能保证数据插入的合法性。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2d0b6b2e9e953a60446d5e74be2dd455/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cfa一级考生复习经验分享系列（十九）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4881cc31c3f2db829d116b6d2cd7bdb9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【办公技巧】Word中如何对齐选择题中的ABCD选项？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>