<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>react hooks的学习记录 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="react hooks的学习记录" />
<meta property="og:description" content="文章来源:https://www.bilibili.com/video/BV153411n7B5/?p=5&amp;spm_id_from=333.880.my_history.page.click
1.为什么要用hooks ,单纯的使用class组件不行吗? react是用于构建用户界面的JavaScript库,使用class组件有点大材小用,组件中很少用到class的继承,组件之间很少进行访问,但是使用函数式组件,他能更好的胜任根据状态来渲染UI的工作,hooks内部拥有了维护状态的能力,且hooks带来了逻辑复用的能力.
2.react模型的本质 react模型本质就是model-&gt;views的一个过程,给他数据,他将为你展示ui,即state&#43;props=组件
3.hooks是什么 hooks是函数,是一个提供了状态和生命周期等特性的函数
4.在什么时候使用setState使用回调函数作为参数 1.初始状态需要经过一些计算,localStorage中拿值
2.状态需要迭代累加,setXxx((上一次的值)=&gt;{return 新的值}),即多次调用setXxxx,页面显示的是多次调用setXxxx后的新值,而不是最后一个setXxx覆盖得到的新值.
function addClick(){ setCount(count &#43; 1) setCount(count &#43; 1) setCount(count &#43; 1) //最后一次的值覆盖上面的值 } function addClick(){ setCount((num)=&gt;{ return num &#43; 1 }) setCount((num)=&gt;{ return num &#43; 1 }) setCount((num)=&gt;{ //最后一次的调用,是基于上次是调用结束后的值 return num &#43; 1 }) } //这两种调用方式在页面展示的内容是不一样的 5.useState更新视图的过程 1.setState的每次调用,都会使函数式组件里面的代码重新走一遍
2.useState只会在组件初次渲染的时候使用初始值,之后都会使用更新后的值
3.一个函数式组件中的state是共享的,多次渲染会相互影响
6.副作用,useEffect 函数式组件除了渲染UI之外的操作都算是副作用操作
1.主要作用:函数式组件里面的return 的jsx ; 定义的state等
2.副作用:请求,修改dom,定时器的定义和清除,localStarage等
推荐将副作用的代码写在useEffect里面
7.useEffect的执行时机 1.页面挂载的时候执行一次(componentDidMount)
2.页面更新的时候触发,可能触发多次(componentDidUpdate)
3.在useEffect中发送ajax请求的小细节
//1.错误写法 useEffect(async ()=&gt;{ const res = await fetchGetApi(data) console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dd496b5948cbb48a3203bc22250986ea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-04T15:17:54+08:00" />
<meta property="article:modified_time" content="2023-04-04T15:17:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">react hooks的学习记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>文章来源:<a href="https://www.bilibili.com/video/BV153411n7B5/?p=5&amp;spm_id_from=333.880.my_history.page.click" rel="nofollow">https://www.bilibili.com/video/BV153411n7B5/?p=5&amp;spm_id_from=333.880.my_history.page.click</a></p> 
<h5><a id="1hooks_class_1"></a>1.为什么要用hooks ,单纯的使用class组件不行吗?</h5> 
<p>react是用于构建用户界面的JavaScript库,使用class组件有点大材小用,组件中很少用到class的继承,组件之间很少进行访问,但是使用函数式组件,他能更好的胜任根据状态来渲染UI的工作,hooks内部拥有了维护状态的能力,且hooks带来了逻辑复用的能力.</p> 
<h5><a id="2react_5"></a>2.react模型的本质</h5> 
<p>react模型本质就是model-&gt;views的一个过程,给他数据,他将为你展示ui,即state+props=组件</p> 
<h5><a id="3hooks_9"></a>3.hooks是什么</h5> 
<p>hooks是函数,是一个提供了状态和生命周期等特性的函数</p> 
<h5><a id="4setState_13"></a>4.在什么时候使用setState使用回调函数作为参数</h5> 
<p>1.初始状态需要经过一些计算,localStorage中拿值</p> 
<p>2.状态需要迭代累加,setXxx((上一次的值)=&gt;{return 新的值}),即多次调用setXxxx,页面显示的是多次调用setXxxx后的新值,而不是最后一个setXxx覆盖得到的新值.</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">addClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">//最后一次的值覆盖上面的值</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">addClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>   <span class="token comment">//最后一次的调用,是基于上次是调用结束后的值</span>
        <span class="token keyword">return</span> num <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//这两种调用方式在页面展示的内容是不一样的</span>
</code></pre> 
<h5><a id="5useState_40"></a>5.useState更新视图的过程</h5> 
<p>1.setState的每次调用,都会使函数式组件里面的代码重新走一遍</p> 
<p>2.useState只会在组件初次渲染的时候使用初始值,之后都会使用更新后的值</p> 
<p>3.一个函数式组件中的state是共享的,多次渲染会相互影响</p> 
<h5><a id="6useEffect_48"></a>6.副作用,useEffect</h5> 
<p>函数式组件除了渲染UI之外的操作都算是副作用操作</p> 
<p>1.主要作用:函数式组件里面的return 的jsx ; 定义的state等</p> 
<p>2.副作用:请求,修改dom,定时器的定义和清除,localStarage等</p> 
<p>推荐将副作用的代码写在useEffect里面</p> 
<h5><a id="7useEffect_58"></a>7.useEffect的执行时机</h5> 
<p>1.页面挂载的时候执行一次(componentDidMount)</p> 
<p>2.页面更新的时候触发,可能触发多次(componentDidUpdate)</p> 
<p>3.在useEffect中发送ajax请求的小细节</p> 
<pre><code class="prism language-js"><span class="token comment">//1.错误写法</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchGetApi</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">//2.正确写法</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token function-variable function">getData</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchGetApi</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>
    <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">//useEffect要求他的回调函数是同步的,加上了async会导致该回调函数成为异步函数</span>
</code></pre> 
<h5><a id="8useEffect_85"></a>8.useEffect的第二个参数</h5> 
<p>1.没有参数时:</p> 
<pre><code class="prism language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"useEffect"</span><span class="token punctuation">)</span>
    <span class="token comment">//1.页面初次挂载会执行,</span>
    <span class="token comment">//2.页面更新可能会多次执行</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>2.参数为[]</p> 
<pre><code class="prism language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"useEffect"</span><span class="token punctuation">)</span>
    <span class="token comment">//1.页面初次挂载时执行,类似vue的created和mounted,可以用来发送请求</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>3.参数为数组,里面有值</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>n<span class="token punctuation">,</span>setN<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>info<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">"ls"</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"useEffect"</span><span class="token punctuation">)</span>
    <span class="token comment">//1.页面初次挂载时执行,</span>
    <span class="token comment">//2.所依赖的项发生变化也会执行</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span>n<span class="token punctuation">,</span>info<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="9useEffect_119"></a>9.useEffect副作用函数的返回值,来清理副作用</h5> 
<p>1.useEffect副作用函数的返回值可省略,也可以返回一个清理函数,清理函数会在组件卸载时触发,也会在下一次副作用函数执行之前触发</p> 
<pre><code class="prism language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"副作用函数"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'清理函数'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"副作用函数"</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"清理函数"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>2.应用场景,例如移除window监听的事件</p> 
<pre><code class="prism language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span>e<span class="token punctuation">.</span>pageY<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>3.应用于类组件的componentWillUnmounted生命周期,即组件卸载时需要做的逻辑操作</p> 
<pre><code class="prism language-js"><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"组件卸载时要做的操作"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="10hooks_162"></a>10.自定义hooks,逻辑复用</h5> 
<p>自定义hooks提取公共逻辑,并且封装成一个函数,该函数以"use"开头,根据不用的参数可以有不同的返回值.自定义hooks只能用在函数式组件中或者其他自定义hooks中</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react"</span>

<span class="token keyword">function</span> <span class="token function">CountDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> 
  <span class="token keyword">const</span> timeId <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//页面加载时执行的动作</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token comment">// 1.开始倒计时</span>
    timeId<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">//倒计时结束需要清空定时器</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'倒计时结束执行的动作'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  
  <span class="token comment">//组件卸载时需要清空定时器</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> CountDown
</code></pre> 
<p>提取成自定义hook后的代码</p> 
<pre><code class="prism language-js"><span class="token comment">/**
 * 
 * @param {*} initCount 初始倒计时的值,有用户传递,默认10s
 * @param {*} callback 倒计时结束后需要执行的动作
 * @returns 倒计时的数字和什么时候开始倒计时的函数
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useCountDown</span><span class="token punctuation">(</span>initCount <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> 

  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span>setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initCount<span class="token punctuation">)</span>
  <span class="token keyword">const</span> timeId <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  
  <span class="token keyword">const</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token comment">// 1.开始倒计时</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>initCount<span class="token punctuation">)</span>
    timeId<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count<span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//需要将倒计时的数字返回回去</span>
    count<span class="token punctuation">,</span>
    <span class="token comment">//需要将什么时候开始执行倒计时返回</span>
    start
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="11useRef_243"></a>11.useRef</h5> 
<p>1.操作dom,获取组件</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cusComp <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span>input ref<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>inputRef<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>	
<span class="token operator">&lt;</span>CusComp ref<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>cusComp<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
inputRef<span class="token punctuation">.</span>current <span class="token comment">//就是获取到的dom或者组件</span>
</code></pre> 
<p>2.在多次渲染之间共享数据</p> 
<pre><code class="prism language-js"><span class="token comment">//错误示例,无法清除定时器</span>
<span class="token keyword">function</span> <span class="token function">CusComp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> timeId <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span>setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        timeId <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">cancle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>cancle<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token comment">//使用useRef实现多次渲染的数据共享</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>useState<span class="token punctuation">,</span>useEffect<span class="token punctuation">,</span>useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">function</span> <span class="token function">CusComp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> timeId <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
      timeId<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
          <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
    
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">cancle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">clearInterval</span><span class="token punctuation">(</span>timeId<span class="token punctuation">.</span>current<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
          <span class="token punctuation">{<!-- --></span>count<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>cancle<span class="token punctuation">}</span><span class="token operator">&gt;</span>清除<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> CusComp
</code></pre> 
<h5><a id="12useContext___302"></a>12.useContext - 全局状态</h5> 
<p>使用步骤:</p> 
<pre><code>//1.第一步 使用Context.provider包裹住根组件
import { createContext } from "react"
export const Context = createContext()

function App(){
	return &lt;Context.Provider value={需要传递的值}&gt;
		&lt;div&gt;根组件&lt;/div&gt;
	&lt;/Context.Provider&gt;
}	

//2.在其他组件中接收
import { useContext } from "react"
import { Context } from "根组件"
function Son(){
	const res = useContext(Context) //res 就是接收到的数据
	return &lt;div&gt;son&lt;/div&gt;
}
</code></pre> 
<h5><a id="13reduxjavaScript_326"></a>13.redux:javaScript应用的状态容器,提供可预测的状态管理</h5> 
<p>1.redex的核心概念:store ,action , reducer</p> 
<p>​ action : 一个js对象,包含两个属性:</p> 
<p>​ type:标识属性,值是字符串.多个type用action分开</p> 
<p>​ payload:数据属性,可选.表示本次动作携带的数据</p> 
<p>​ action只是描述了有事情发生这一事实,并没有描述应用如何更新state</p> 
<p>​ reducer: 一个函数,可以修改状态</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> reduer <span class="token operator">=</span> <span class="token punctuation">(</span>preState<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
</code></pre> 
<p>​ store:仓库,核心,整合action和reducer</p> 
<p>​ 1.一个应用只有一个store</p> 
<p>​ 2.获取状态: store.getState()</p> 
<p>​ 3.创建store时,接收reducer作为参数:</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>
</code></pre> 
<p>​ 4.发生状态更新时:需要分发action : store.dispatch(action)</p> 
<p>2.订阅及取消状态变化</p> 
<p>​ 1.订阅状态变化:</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> unSubscribe <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token comment">//  状态发生变化需要执行的逻辑</span>
</code></pre> 
<p>​ 2.取消订阅 : unSubscribe()</p> 
<p>3.先订阅,后执行action 会触发订阅的回掉函数</p> 
<p>4.示例代码</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redex"</span>
<span class="token keyword">const</span> initState <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">count</span> <span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">type</span><span class="token operator">:</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token punctuation">(</span>prestate <span class="token operator">=</span> initState<span class="token punctuation">,</span>action<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">case</span> <span class="token string">'add'</span><span class="token operator">:</span>
    		prestate<span class="token punctuation">.</span>count <span class="token operator">+=</span> <span class="token number">1</span>
			<span class="token keyword">return</span> prestate
    <span class="token keyword">default</span><span class="token operator">:</span>
    	<span class="token keyword">return</span> prestate
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>
<span class="token keyword">const</span> unSubscribe <span class="token operator">=</span> store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="14reactredux__396"></a>14.react-redux 工具优化代码</h5> 
<p>1.引入Provider 将根组件App 包裹</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-redux"</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>2.初始化store.js文件</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> legacy_createStore <span class="token keyword">as</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux"</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">"./reducers"</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<p>3.创建reducer.js文件,拆分模块</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"redux"</span>
<span class="token keyword">import</span> userInfo <span class="token keyword">from</span> <span class="token string">"./userInfo"</span>
<span class="token keyword">import</span> role <span class="token keyword">from</span> <span class="token string">"./role"</span>


<span class="token keyword">const</span> rootReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  userInfo<span class="token punctuation">,</span>
  role
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> rootReducer
</code></pre> 
<p>4.根据业务,分不同的reducer模块</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">userName</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">12</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">preState <span class="token operator">=</span> userInfo<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token string">'userInfo/changeName'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token operator">...</span>preState<span class="token punctuation">,</span><span class="token literal-property property">userName</span><span class="token operator">:</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> preState
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> reducer
</code></pre> 
<pre><code class="prism language-js"><span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">preState <span class="token operator">=</span> role<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span> 
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token string">'role/changeRole'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> action<span class="token punctuation">.</span>payload
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> preState
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> reducer
</code></pre> 
<h5><a id="15_473"></a>15.纯函数:相同的输入总是会得到想用的输出</h5> 
<h5><a id="16react_router_475"></a>16.react router</h5> 
<p>1.安装路由</p> 
<pre><code class="prism language-js">npm i react<span class="token operator">-</span>router<span class="token operator">-</span>dom
</code></pre> 
<p>2.引入路由</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> HashRouter<span class="token punctuation">,</span> BrowserRouter<span class="token punctuation">,</span> Link<span class="token punctuation">,</span> NavLink<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"react-router-dom"</span>
</code></pre> 
<p>3.编写路由规则</p> 
<pre><code class="prism language-html">//hash模式的路由
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{Home}</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Route</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HashRouter</span><span class="token punctuation">&gt;</span></span>

//history模式
//hash模式的路由
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>NavLink</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span></span> <span class="token attr-name">exact</span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>NavLink</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>/home<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>{Home}</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Route</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>BrowserRouter</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>link 和navLink的跳转基本一样,NavLink有一个activeClassName来指定高亮样式,默认active</p> 
<p>NavLink还能exact精准匹配,默认模糊匹配</p> 
<p>4.Switch匹配到就不会继续往下匹配了,404页面放下最下面</p> 
<pre><code>&lt;BrowserRouter&gt;
    &lt;NavLink to='/home' exact&gt;home&lt;/NavLink&gt;
    
    &lt;Switch&gt;
    	&lt;Route path='/home' component={Home}&gt;&lt;/Route&gt;
    	&lt;Route path='/home/detail' component={Home}&gt;&lt;/Route&gt;
    	&lt;Route path='/404' component={Page404}&gt;&lt;/Route&gt;
    &lt;/Switch&gt;	
&lt;/BrowserRouter&gt;
</code></pre> 
<p>exact&gt;home<br> <br> </p> 
<pre><code>
link 和navLink的跳转基本一样,NavLink有一个activeClassName来指定高亮样式,默认active

NavLink还能exact精准匹配,默认模糊匹配

4.Switch匹配到就不会继续往下匹配了,404页面放下最下面

</code></pre> home 
<pre><code>&lt;Switch&gt;
	&lt;Route path='/home' component={Home}&gt;&lt;/Route&gt;
	&lt;Route path='/home/detail' component={Home}&gt;&lt;/Route&gt;
	&lt;Route path='/404' component={Page404}&gt;&lt;/Route&gt;
&lt;/Switch&gt;	
</code></pre> ```
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/78aca646b3fe5bf7232b0bbe51228f09/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">什么是端到端测试？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/73a5c14b2d16d5d0e8965bed83e83a12/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue.config.js 配置 (代理、打包静态文件路径、文件大小配置)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>