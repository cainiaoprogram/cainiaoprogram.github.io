<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>dm8达梦数据库安装使用详细步骤 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="dm8达梦数据库安装使用详细步骤" />
<meta property="og:description" content="文章目录 前言一、达梦数据安装以及相关认证培训体系二、安装环境1.检查操作系统内核版本：2.检查操作系统版本：检查cpu版本信息:查看内存信息:Glibc版本信息检查： 三、安装dm8企业版:首先准备好dm8镜像包导入opt目录进入opt创建mnt目录挂载到mnt目录下：规划用户：创建安装路径以及权限分配：安装之前先配置配置图形化界面启动（用dmdba账号）：文件打开数配置：开始安装:调出图形化界面：点击下一步：勾选同意，进入下一步：key文件可以不用选直接下一步：典型安装，进入下一步：选择你创建的安装目录/dm8，点击确认进入下一步：点击安装：复制弹出框信息。以root用户执行，执行完点击确认关闭：选择初始化：选择创建实例：选择一般用途：安装路径用默认：端口用默认直接下一步：控制文件目录直接选择默认，进入下一步：大小写敏感勾去掉，其余默认:勾住所有用户使用同一个密码，密码为dameng123,方便后期维护：可以不选择创建实例库，也可以都勾上：点击完成：以root用户执行下面3条语句：关闭弹出框选择完成：查看实例信息进入/dm8/tool目录下：使用manager管理工具进行实例登录，输入dameng123：安装完成： 四、达梦的客户端工具DM 控制台工具（脱机工具、console）数据库备份和还原、参数配置修改：DTS 数据迁移工具（dts）支持 sql 文件、数据文件、oracle、mysql、DM 迁移 DM如下是 DM 数据库中的表数据迁移到文件：DM 性能监测工具DM 数据审计分析工具： 五、 DMSQL:sql分类：SQL：Group by 使用样例having 使用样例： 六、 DM 的体系结构：七、 表空间管理：设置文件路径以及大小，扩充，右击修改表空间，DDL查看生成的Sql语句：管理重做日志文件：归档管理: 八、用户管理：设置权限: 九 、模式对象管理：管理表：新建表设置约束创建引用约束后，数据要符合引用的表的数据，否则会报错：主键约束：外键的创建，注意：外键的引用一定要是另一张表的主键。 十、 备份还原：联机备份与还原数据库：联机全库备份：DM 管理工具联机全量备份：使用 DM 控制台工具还原：表空间的备份和恢复：逻辑备份： 十一、 ODBC 配置：总结 前言 因公司业务上需求需要接触达梦数据库，同时也不断开阔视野扩展知识层面，记录下学习过程，以便日后复盘加深印象。
一、达梦数据安装以及相关认证培训体系 二、安装环境 1.检查操作系统内核版本： 2.检查操作系统版本： 检查cpu版本信息: 查看内存信息: Glibc版本信息检查： 三、安装dm8企业版: 首先准备好dm8镜像包导入opt目录进入opt创建mnt目录挂载到mnt目录下： root@localhost dm]# mkdir mnt
[root@localhost mnt]# mount -o loop dm8_setup_rh7_64_ent_8.1.1.88_20200629.iso /mnt
mount: /dev/loop0 写保护，将以只读方式挂载
规划用户： 创建安装路径以及权限分配： 安装之前先配置配置图形化界面启动（用dmdba账号）： 文件打开数配置： dmdba soft nofile 10240
dmdba hard nofile 65563" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/63f4863efc19c28f1121d391522e3236/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-30T12:01:07+08:00" />
<meta property="article:modified_time" content="2020-12-30T12:01:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">dm8达梦数据库安装使用详细步骤</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_3" rel="nofollow">前言</a></li><li><a href="#_8" rel="nofollow">一、达梦数据安装以及相关认证培训体系</a></li><li><a href="#_14" rel="nofollow">二、安装环境</a></li><li><ul><li><a href="#1_15" rel="nofollow">1.检查操作系统内核版本：</a></li><li><a href="#2_18" rel="nofollow">2.检查操作系统版本：</a></li><li><a href="#cpu_20" rel="nofollow">检查cpu版本信息:</a></li><li><a href="#_22" rel="nofollow">查看内存信息:</a></li><li><a href="#Glibc_24" rel="nofollow">Glibc版本信息检查：</a></li></ul> 
  </li><li><a href="#dm8_26" rel="nofollow">三、安装dm8企业版:</a></li><li><ul><li><a href="#dm8optoptmntmnt_27" rel="nofollow">首先准备好dm8镜像包导入opt目录进入opt创建mnt目录挂载到mnt目录下：</a></li><li><a href="#_33" rel="nofollow">规划用户：</a></li><li><a href="#_36" rel="nofollow">创建安装路径以及权限分配：</a></li><li><a href="#dmdba_38" rel="nofollow">安装之前先配置配置图形化界面启动（用dmdba账号）：</a></li><li><a href="#_40" rel="nofollow">文件打开数配置：</a></li><li><a href="#_45" rel="nofollow">开始安装:</a></li><li><ul><li><a href="#_46" rel="nofollow">调出图形化界面：</a></li><li><a href="#_48" rel="nofollow">点击下一步：</a></li><li><a href="#_50" rel="nofollow">勾选同意，进入下一步：</a></li><li><a href="#key_52" rel="nofollow">key文件可以不用选直接下一步：</a></li><li><a href="#_54" rel="nofollow">典型安装，进入下一步：</a></li><li><a href="#dm8_57" rel="nofollow">选择你创建的安装目录/dm8，点击确认进入下一步：</a></li><li><a href="#_59" rel="nofollow">点击安装：</a></li><li><a href="#root_61" rel="nofollow">复制弹出框信息。以root用户执行，执行完点击确认关闭：</a></li><li><a href="#_70" rel="nofollow">选择初始化：</a></li><li><a href="#_72" rel="nofollow">选择创建实例：</a></li><li><a href="#_74" rel="nofollow">选择一般用途：</a></li><li><a href="#_76" rel="nofollow">安装路径用默认：</a></li><li><a href="#_78" rel="nofollow">端口用默认直接下一步：</a></li><li><a href="#_80" rel="nofollow">控制文件目录直接选择默认，进入下一步：</a></li><li><a href="#_82" rel="nofollow">大小写敏感勾去掉，其余默认:</a></li><li><a href="#dameng123_84" rel="nofollow">勾住所有用户使用同一个密码，密码为dameng123,方便后期维护：</a></li><li><a href="#_86" rel="nofollow">可以不选择创建实例库，也可以都勾上：</a></li><li><a href="#_88" rel="nofollow">点击完成：</a></li><li><a href="#root3_90" rel="nofollow">以root用户执行下面3条语句：</a></li><li><a href="#_92" rel="nofollow">关闭弹出框选择完成：</a></li><li><a href="#dm8tool_94" rel="nofollow">查看实例信息进入/dm8/tool目录下：</a></li><li><a href="#managerdameng123_97" rel="nofollow">使用manager管理工具进行实例登录，输入dameng123：</a></li><li><a href="#_100" rel="nofollow">安装完成：</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_102" rel="nofollow">四、达梦的客户端工具</a></li><li><ul><li><a href="#DM_console_106" rel="nofollow">DM 控制台工具（脱机工具、console）数据库备份和还原、参数配置修改：</a></li><li><a href="#DTS_dts_sql_oraclemysqlDM__DM_DM__110" rel="nofollow">DTS 数据迁移工具（dts）支持 sql 文件、数据文件、oracle、mysql、DM 迁移 DM如下是 DM 数据库中的表数据迁移到文件：</a></li><li><a href="#DM__112" rel="nofollow">DM 性能监测工具</a></li><li><a href="#DM__115" rel="nofollow">DM 数据审计分析工具：</a></li></ul> 
  </li><li><a href="#_DMSQL_118" rel="nofollow">五、 DMSQL:</a></li><li><ul><li><a href="#sql_119" rel="nofollow">sql分类：</a></li><li><a href="#SQL_124" rel="nofollow">SQL：</a></li><li><a href="#Group_by__128" rel="nofollow">Group by 使用样例</a></li><li><a href="#having__134" rel="nofollow">having 使用样例：</a></li></ul> 
  </li><li><a href="#_DM__141" rel="nofollow">六、 DM 的体系结构：</a></li><li><a href="#__143" rel="nofollow">七、 表空间管理：</a></li><li><ul><li><a href="#_144" rel="nofollow">设置文件路径以及大小，扩充，</a></li><li><a href="#DDLSql_146" rel="nofollow">右击修改表空间，DDL查看生成的Sql语句：</a></li><li><a href="#_149" rel="nofollow">管理重做日志文件：</a></li><li><a href="#_158" rel="nofollow">归档管理:</a></li></ul> 
  </li><li><a href="#_179" rel="nofollow">八、用户管理：</a></li><li><ul><li><a href="#_182" rel="nofollow">设置权限:</a></li></ul> 
  </li><li><a href="#__186" rel="nofollow">九 、模式对象管理：</a></li><li><ul><li><a href="#_188" rel="nofollow">管理表：</a></li><li><ul><li><a href="#_189" rel="nofollow">新建表设置约束</a></li><li><a href="#_191" rel="nofollow">创建引用约束后，数据要符合引用的表的数据，否则会报错：</a></li><li><a href="#_193" rel="nofollow">主键约束：</a></li><li><a href="#_195" rel="nofollow">外键的创建，注意：外键的引用一定要是另一张表的主键。</a></li></ul> 
  </li></ul> 
  </li><li><a href="#__198" rel="nofollow">十、 备份还原：</a></li><li><ul><li><a href="#_199" rel="nofollow">联机备份与还原数据库：</a></li><li><a href="#_203" rel="nofollow">联机全库备份：</a></li><li><a href="#DM__210" rel="nofollow">DM 管理工具联机全量备份：</a></li><li><a href="#_DM__212" rel="nofollow">使用 DM 控制台工具还原：</a></li><li><a href="#_218" rel="nofollow">表空间的备份和恢复：</a></li><li><a href="#_221" rel="nofollow">逻辑备份：</a></li></ul> 
  </li><li><a href="#__ODBC__225" rel="nofollow">十一、 ODBC 配置：</a></li><li><a href="#_247" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_3"></a>前言</h2> 
<p>因公司业务上需求需要接触达梦数据库，同时也不断开阔视野扩展知识层面，记录下学习过程，以便日后复盘加深印象。</p> 
<h2><a id="_8"></a>一、达梦数据安装以及相关认证培训体系</h2> 
<p><img src="https://images2.imgbox.com/1c/c4/AYjh8vTe_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_14"></a>二、安装环境</h2> 
<h3><a id="1_15"></a>1.检查操作系统内核版本：</h3> 
<p><img src="https://images2.imgbox.com/ab/59/06q4C53Z_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_18"></a>2.检查操作系统版本：</h3> 
<p><img src="https://images2.imgbox.com/07/da/2eEtzLbv_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="cpu_20"></a>检查cpu版本信息:</h3> 
<p><img src="https://images2.imgbox.com/bf/c8/LlOEVvJH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_22"></a>查看内存信息:</h3> 
<p><img src="https://images2.imgbox.com/1e/bb/PCrjfRYk_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Glibc_24"></a>Glibc版本信息检查：</h3> 
<p><img src="https://images2.imgbox.com/54/1b/yvjWAWM7_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="dm8_26"></a>三、安装dm8企业版:</h2> 
<h3><a id="dm8optoptmntmnt_27"></a>首先准备好dm8镜像包导入opt目录进入opt创建mnt目录挂载到mnt目录下：</h3> 
<p>root@localhost dm]# mkdir mnt<br> [root@localhost mnt]# mount -o loop dm8_setup_rh7_64_ent_8.1.1.88_20200629.iso /mnt<br> mount: /dev/loop0 写保护，将以只读方式挂载</p> 
<h3><a id="_33"></a>规划用户：</h3> 
<p><img src="https://images2.imgbox.com/40/8d/L7vCmdMM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_36"></a>创建安装路径以及权限分配：</h3> 
<p><img src="https://images2.imgbox.com/82/f8/GAgrFodc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="dmdba_38"></a>安装之前先配置配置图形化界面启动（用dmdba账号）：</h3> 
<p><img src="https://images2.imgbox.com/c1/c2/xTfpE4fs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_40"></a>文件打开数配置：</h3> 
<p><img src="https://images2.imgbox.com/20/0a/RVIfO4jQ_o.png" alt="在这里插入图片描述"><br> dmdba soft nofile 10240</p> 
<p>dmdba hard nofile 65563</p> 
<h3><a id="_45"></a>开始安装:</h3> 
<h4><a id="_46"></a>调出图形化界面：</h4> 
<p><img src="https://images2.imgbox.com/c6/bc/G1Foso1U_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_48"></a>点击下一步：</h4> 
<p><img src="https://images2.imgbox.com/38/f0/YRTE2GBM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_50"></a>勾选同意，进入下一步：</h4> 
<p><img src="https://images2.imgbox.com/39/7a/UzbcnxW4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="key_52"></a>key文件可以不用选直接下一步：</h4> 
<p><img src="https://images2.imgbox.com/23/ea/Rlk0Lgtf_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_54"></a>典型安装，进入下一步：</h4> 
<p><img src="https://images2.imgbox.com/58/0f/uTeJb0MW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="dm8_57"></a>选择你创建的安装目录/dm8，点击确认进入下一步：</h4> 
<p><img src="https://images2.imgbox.com/2d/09/gOcDRHQe_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_59"></a>点击安装：</h4> 
<p><img src="https://images2.imgbox.com/47/47/ZV0kF5iM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="root_61"></a>复制弹出框信息。以root用户执行，执行完点击确认关闭：</h4> 
<p>[root@localhost ~]# /dm8/script/root/root_installer.sh<br> 移动 /dm8/bin/dm_svc.conf 到/etc目录<br> 修改服务器权限<br> 创建DmAPService服务<br> Created symlink from /etc/systemd/system/multi-user.target.wants/DmAPService.service to /usr/lib/systemd/system/DmAPService.service.<br> 创建服务(DmAPService)完成<br> 启动DmAPService服务<br> <img src="https://images2.imgbox.com/82/af/xIQuszF3_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_70"></a>选择初始化：</h4> 
<p><img src="https://images2.imgbox.com/ac/eb/ytoTlBOY_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_72"></a>选择创建实例：</h4> 
<p><img src="https://images2.imgbox.com/f0/61/Z9JY8gc0_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_74"></a>选择一般用途：</h4> 
<p><img src="https://images2.imgbox.com/70/78/lvIbjOmn_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_76"></a>安装路径用默认：</h4> 
<p><img src="https://images2.imgbox.com/c5/c8/qRNDlRz5_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_78"></a>端口用默认直接下一步：</h4> 
<p><img src="https://images2.imgbox.com/32/c7/4aGuehg7_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_80"></a>控制文件目录直接选择默认，进入下一步：</h4> 
<p><img src="https://images2.imgbox.com/7c/49/th0s9r5p_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_82"></a>大小写敏感勾去掉，其余默认:</h4> 
<p><img src="https://images2.imgbox.com/99/5a/ZgfGYxGM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="dameng123_84"></a>勾住所有用户使用同一个密码，密码为dameng123,方便后期维护：</h4> 
<p><img src="https://images2.imgbox.com/6f/13/aojZbDiV_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_86"></a>可以不选择创建实例库，也可以都勾上：</h4> 
<p><img src="https://images2.imgbox.com/ed/6e/7V0xp3JQ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_88"></a>点击完成：</h4> 
<p><img src="https://images2.imgbox.com/41/f4/Gmy7hMz4_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="root3_90"></a>以root用户执行下面3条语句：</h4> 
<p><img src="https://images2.imgbox.com/f8/d4/OIaEhKix_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_92"></a>关闭弹出框选择完成：</h4> 
<p><img src="https://images2.imgbox.com/01/7b/LBj3goiA_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="dm8tool_94"></a>查看实例信息进入/dm8/tool目录下：</h4> 
<p>[dmdba@localhost tool]$ ./dmservice.sh<br> <img src="https://images2.imgbox.com/05/08/urrpKRfT_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="managerdameng123_97"></a>使用manager管理工具进行实例登录，输入dameng123：</h4> 
<p>[dmdba@localhost tool]$ ./manager<br> <img src="https://images2.imgbox.com/06/80/hnKdm3nj_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_100"></a>安装完成：</h4> 
<p><img src="https://images2.imgbox.com/60/47/OqVESadA_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_102"></a>四、达梦的客户端工具</h2> 
<p>DM 管理工具（联机工具，manager）可以执行 SQL、数据库界面操作数据的导入导出、联机物理备份和还原<br> [dmdba@localhost tool]$ ./manager<br> <img src="https://images2.imgbox.com/93/3c/C4OpttLT_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DM_console_106"></a>DM 控制台工具（脱机工具、console）数据库备份和还原、参数配置修改：</h3> 
<p>[dmdba@localhost tool]$ ./console</p> 
<p><img src="https://images2.imgbox.com/4f/fc/8SboucwN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DTS_dts_sql_oraclemysqlDM__DM_DM__110"></a>DTS 数据迁移工具（dts）支持 sql 文件、数据文件、oracle、mysql、DM 迁移 DM如下是 DM 数据库中的表数据迁移到文件：</h3> 
<p><img src="https://images2.imgbox.com/be/1b/FQvNTex4_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DM__112"></a>DM 性能监测工具</h3> 
<p>[dmdba@DCA01 tool]$ ./monitor<br> <img src="https://images2.imgbox.com/6d/67/u4qVCEJA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DM__115"></a>DM 数据审计分析工具：</h3> 
<p>[dmdba@DCA01 tool]$ ./analyzer<br> <img src="https://images2.imgbox.com/ba/bc/ThaSSQWt_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_DMSQL_118"></a>五、 DMSQL:</h2> 
<h3><a id="sql_119"></a>sql分类：</h3> 
<p>DML（数据操作语言）：SELECT、INSERT、DELETE、UPDATE<br> DDL（数据定义语言）：CREATE、ALTER、DROP、TRUNCATE<br> TCL（事务控制语言）：rollback、commit、savepoint<br> DCL（权限控制）：GRANT、REVOKE</p> 
<h3><a id="SQL_124"></a>SQL：</h3> 
<p>select * from dmhr.employee;<br> select * from dmhr.employee a where a.EMPLOYEE_ID = 1001;</p> 
<h3><a id="Group_by__128"></a>Group by 使用样例</h3> 
<p>select a.DEPARTMENT_ID, count(*), max(a.salary) max_salary,<br> min(salary) min_salary, avg(salary) avg_salary<br> from dmhr.employee a<br> group by a.department_id;</p> 
<h3><a id="having__134"></a>having 使用样例：</h3> 
<p>select a.DEPARTMENT_ID, count(<em>), max(a.salary) max_salary,<br> min(salary) min_salary, avg(salary) avg_salary<br> from dmhr.employee a<br> group by a.department_id<br> having count(</em>) &gt; 10;</p> 
<h2><a id="_DM__141"></a>六、 DM 的体系结构：</h2> 
<p><img src="https://images2.imgbox.com/2c/eb/p6zpqCdu_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__143"></a>七、 表空间管理：</h2> 
<h3><a id="_144"></a>设置文件路径以及大小，扩充，</h3> 
<p><img src="https://images2.imgbox.com/ff/cf/LSIWyXcO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DDLSql_146"></a>右击修改表空间，DDL查看生成的Sql语句：</h3> 
<p><img src="https://images2.imgbox.com/c2/2f/RjgJKETu_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/33/9c/DXomDDFF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_149"></a>管理重做日志文件：</h3> 
<p><img src="https://images2.imgbox.com/55/49/QyZwFEzB_o.png" alt="在这里插入图片描述">数据库状态：<br> Mount：配置状态，可以开启归档、设置主备模式；mount 状态下不能读数据文件中的数据。<br> 可以读内存中数据，v<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         d 
        
       
         a 
        
       
         t 
        
       
         a 
        
       
         f 
        
       
         i 
        
       
         l 
        
       
         e 
        
       
         , 
        
       
         v 
        
       
      
        datafile, v 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span></span></span></span></span>tablespace 可以读。<br> OPEN：数据库打开状态，可以正常操作/读写数据库，数据库对外提供正常服务。但是不能<br> 开启和配置归档等。<br> SUSPEND：挂起状态，只读模式，如果此时修改数据并提供，数据库就会挂起。<br> Mount 和 open 可以相互转换，open 和 suspend 可以相互转换，mount 和 suspend 直接不能直<br> 接转换</p> 
<h3><a id="_158"></a>归档管理:</h3> 
<p>归档分类：本地归档、即时归档、实时归档、异步归档、远程归档。<br> alter database mount;<br> alter database add ARCHIVELOG<br> ‘type=local,dest=/dm8/arch,file_size=64,space_limit=10240’;<br> alter database ARCHIVELOG ;<br> alter database open;<br> 最终配置 会写入 dmarch.ini 文件</p> 
<p><img src="https://images2.imgbox.com/d9/8d/Zx5u5Rbk_o.png" alt="在这里插入图片描述"><br> 归档的切换,支持手工切换，如下三个命令相同。<br> alter database archivelog current;<br> alter system archive log current;<br> alter system switch logfile;<br> 归档的日志文件查询：<br> select * from “V<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         R 
        
       
         C 
        
        
        
          H 
         
        
          F 
         
        
       
         I 
        
       
         L 
        
       
         E 
        
       
         " 
        
       
         ; 
        
       
         s 
        
       
         e 
        
       
         l 
        
       
         e 
        
       
         c 
        
       
         t 
        
       
         ∗ 
        
       
         f 
        
       
         r 
        
       
         o 
        
       
         m 
        
       
         " 
        
       
         V 
        
       
      
        ARCH_FILE"; select * from "V 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.07153em;">C</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.328331em;"><span class="" style="top: -2.55em; margin-left: -0.08125em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.13889em;">F</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord">"</span><span class="mpunct">;</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord">"</span><span class="mord mathdefault" style="margin-right: 0.22222em;">V</span></span></span></span></span>ARCHIVED_LOG”;<br> 归档的删除：<br> sf_archivelog_delete_before_lsn(57546);<br> sf_archivelog_delete_before_time(sysdate-1)</p> 
<h2><a id="_179"></a>八、用户管理：</h2> 
<p>DM 管理工具窗口新建用户：<br> <img src="https://images2.imgbox.com/3a/5c/im4cV1lX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_182"></a>设置权限:</h3> 
<p><img src="https://images2.imgbox.com/c0/da/dVtElAxU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9d/3c/VyrSi1Wx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/82/6f/QGmRdm1r_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__186"></a>九 、模式对象管理：</h2> 
<p><img src="https://images2.imgbox.com/b6/f5/AApvcK5B_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_188"></a>管理表：</h3> 
<h4><a id="_189"></a>新建表设置约束</h4> 
<p><img src="https://images2.imgbox.com/18/ed/KcZQX5XW_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_191"></a>创建引用约束后，数据要符合引用的表的数据，否则会报错：</h4> 
<p><img src="https://images2.imgbox.com/8a/84/n4GIozcN_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_193"></a>主键约束：</h4> 
<p><img src="https://images2.imgbox.com/03/6d/EpIUaWoO_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_195"></a>外键的创建，注意：外键的引用一定要是另一张表的主键。</h4> 
<p><img src="https://images2.imgbox.com/c4/27/Ku7JrgFW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9e/48/Z8ww9hOJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__198"></a>十、 备份还原：</h2> 
<h3><a id="_199"></a>联机备份与还原数据库：</h3> 
<p><img src="https://images2.imgbox.com/9a/45/RcXIQiYI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b2/63/fqOhsQNW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f7/07/lRrC2PY7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_203"></a>联机全库备份：</h3> 
<p>SQL&gt; backup database full backupset ‘/dm8/backup/online_20202023bak’;<br> 联机备份表空间（表空间只能联机备份、脱机还原恢复）：<br> SQL&gt; backup tablespace TEST backupset ‘/dm8/backup/test_20202023bak’;<br> 查看联机备份备份集<br> RMAN&gt; show backupset ‘/dm8/backup/online_20202023bak’;<br> <img src="https://images2.imgbox.com/a5/6a/mOYhfzwz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DM__210"></a>DM 管理工具联机全量备份：</h3> 
<p><img src="https://images2.imgbox.com/c9/a2/mvq6OnUF_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_DM__212"></a>使用 DM 控制台工具还原：</h3> 
<p><img src="https://images2.imgbox.com/99/69/jiyxh8Rz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6c/40/w0qW79kj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/74/e4/N05MykAS_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/30/db/niJtJniO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_218"></a>表空间的备份和恢复：</h3> 
<p><img src="https://images2.imgbox.com/46/9f/EzHOFDea_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a7/af/KwEoiF5T_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_221"></a>逻辑备份：</h3> 
<p>逻辑全库导出<br> <img src="https://images2.imgbox.com/07/b2/Rv6aEJdG_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c3/5d/NDvBUdkT_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__ODBC__225"></a>十一、 ODBC 配置：</h2> 
<p>解压<br> [root@DCA01 etc]# tar -xvf unixODBC-2.3.0.tar.gz<br> [root@DCA01 opt]# cd unixODBC-2.3.0/<br> [root@DCA01 unixODBC-2.3.0]# ./configure<br> [root@DCA01 unixODBC-2.3.0]# make &amp;&amp; make install<br> <img src="https://images2.imgbox.com/c2/8d/FJj9uCKQ_o.png" alt="在这里插入图片描述"><br> [root@DCA01 etc]# cat odbc.ini</p> 
<p>[DM8]<br> Description = DM ODBC DSN<br> Driver = DM8 ODBC DRIVER<br> SERVER = localhost<br> UID = SYSDBA<br> PWD = dameng123<br> TCP_PORT = 5236<br> [root@DCA01 etc]# cat odbcinst.ini<br> [DM8 ODBC DRIVER]<br> Description = ODBC DRIVER FOR DM8<br> Driver = /dm8/bin/libdodbc.so<br> <img src="https://images2.imgbox.com/d6/34/VR90zymc_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_247"></a>总结</h2> 
<p>以上材料全部来自达梦大学，有不对的地方还望大家指出来，加以更改，<br> 在此感谢达梦大学----青儿老师</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1d3fd36f9d9881b2f4e1c263d26908c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">rust怎么拆除墙壁指令_腐蚀有什么指令？基本指令及服务器指令汇总</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f68a84558a03c22e752e9d4890171155/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">百旺如何看是否清卡_百旺税控怎么看反写成功</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>