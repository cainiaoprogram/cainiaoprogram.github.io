<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FPGA——时序分析与约束 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FPGA——时序分析与约束" />
<meta property="og:description" content="FPGA时序分析与约束 FPGA结构基础数据传输模型Quartus II 时序报告Quartus II 中TimeQuest的操作实操 时序分析：通过分析FPGA内部各个存储器之间的数据和时钟传输路径，来分析数据延迟和时钟延迟的关系，保证所有寄存器都可以正确寄存数据。 数据和时钟传输路径是：由EDA软件，通过针对特定器件布局布线得到的。
时序约束：告知EDA软件，尽力达到约束指标。
FPGA结构基础 可编程逻辑功能结构
LUT 查找表的实现
fpga结构
内部连线：
采用行，列，局部的快速通道
数据传输模型 Tco :时钟上升沿到达D触发器 到 数据输出到Q端的延迟 。
Tsu: 建立时间，数据输入端D的数据必须提前 N ns 稳定下来，否则就没办法保存下来数据。
时钟偏斜原理：
在这个模型下：
Tclk1：时钟传到REG1有个延迟。
Tclk2：时钟传到REG2有个延迟。
Tco：触发器D 到Q输出的时间 。
Tdata：REG1的Q 传输到 REG2的D 的时间。
Tsu：建立时间。
Slack：余量时间。（下图是正的，说明可以正确读取到数据）
可以推导出公式，可以正确接收数据：
Tclk1&#43;Tco&#43;Tdata &lt;= Tclk(时钟周期) &#43; Tclk2 - Tsu
化简得： Tclk &#43;（Tclk2 - Tclk1 ）- Tco - Tdata - Tsu &gt;= 0
再得：Slack = Tclk &#43; Tsnew - Tco - Tdata - Tsu &gt;= 0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4e89adea7ff0a8d20d7c91fc37d2a1f0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T20:18:55+08:00" />
<meta property="article:modified_time" content="2024-01-08T20:18:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FPGA——时序分析与约束</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>FPGA时序分析与约束</h4> 
 <ul><li><a href="#FPGA_9" rel="nofollow">FPGA结构基础</a></li><li><a href="#_24" rel="nofollow">数据传输模型</a></li><li><a href="#Quartus_II__50" rel="nofollow">Quartus II 时序报告</a></li><li><a href="#Quartus_II_TimeQuest_57" rel="nofollow">Quartus II 中TimeQuest的操作</a></li><li><a href="#_82" rel="nofollow">实操</a></li></ul> 
</div> 
<br> 
<strong>时序分析</strong>：通过分析FPGA内部各个存储器之间的数据和时钟传输路径，来分析数据延迟和时钟延迟的关系，保证所有寄存器都可以正确寄存数据。 
<p></p> 
<p>数据和时钟传输路径是：由EDA软件，通过针对特定器件布局布线得到的。</p> 
<p><strong>时序约束</strong>：告知EDA软件，尽力达到约束指标。</p> 
<h2><a id="FPGA_9"></a>FPGA结构基础</h2> 
<p>可编程逻辑功能结构<br> <img src="https://images2.imgbox.com/07/d3/5qlLmjUr_o.png" alt="在这里插入图片描述"></p> 
<p>LUT 查找表的实现<br> <img src="https://images2.imgbox.com/d1/ab/6lE99Ien_o.png" alt="在这里插入图片描述"></p> 
<p>fpga结构<br> <img src="https://images2.imgbox.com/9e/0a/IFWTcuDf_o.png" alt="在这里插入图片描述"><br> 内部连线：<br> 采用行，列，局部的快速通道<br> <img src="https://images2.imgbox.com/84/d2/qd10s9kl_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_24"></a>数据传输模型</h2> 
<p>Tco :时钟上升沿到达D触发器 到 数据输出到Q端的延迟 。<br> Tsu: 建立时间，数据输入端D的数据必须提前 N ns 稳定下来，否则就没办法保存下来数据。</p> 
<p><img src="https://images2.imgbox.com/22/9d/E6ZFMbN8_o.png" alt="在这里插入图片描述"><br> 时钟偏斜原理：<br> <img src="https://images2.imgbox.com/d4/52/jeXNoe8P_o.png" alt="在这里插入图片描述"></p> 
<p>在这个模型下：<br> Tclk1：时钟传到REG1有个延迟。<br> Tclk2：时钟传到REG2有个延迟。<br> Tco：触发器D 到Q输出的时间 。<br> Tdata：REG1的Q 传输到 REG2的D 的时间。<br> Tsu：建立时间。<br> Slack：余量时间。（下图是正的，说明可以正确读取到数据）</p> 
<p>可以推导出公式，可以正确接收数据：<br> Tclk1+Tco+Tdata &lt;= Tclk(时钟周期) + Tclk2 - Tsu<br> 化简得： Tclk +（Tclk2 - Tclk1 ）- Tco - Tdata - Tsu &gt;= 0<br> 再得：Slack = Tclk + Tsnew - Tco - Tdata - Tsu &gt;= 0</p> 
<p><img src="https://images2.imgbox.com/b3/84/4QYP4FT7_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Quartus_II__50"></a>Quartus II 时序报告</h2> 
<p><img src="https://images2.imgbox.com/0c/57/WsHbXZUC_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/98/29/27QGKdzB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/89/e0/PpabkHju_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Quartus_II_TimeQuest_57"></a>Quartus II 中TimeQuest的操作</h2> 
<p>1.打开工具<br> <img src="https://images2.imgbox.com/ab/be/gRFfQfyi_o.png" alt="在这里插入图片描述"><br> 2.创建时序网表<br> 包含：该器件具体位置，什么资源上实现，每个节点到下个节点的延迟时间<br> <img src="https://images2.imgbox.com/66/77/10qrFXEL_o.png" alt="在这里插入图片描述"><br> 3.读取SDC文件<br> <img src="https://images2.imgbox.com/37/2e/rrvTTwqb_o.png" alt="在这里插入图片描述"><br> 4.看报告和加入约束</p> 
<p>看报告<br> <img src="https://images2.imgbox.com/3b/ff/Os5aQ79n_o.png" alt="在这里插入图片描述"><br> （1）加入约束，告诉软件外部时钟输入<br> <img src="https://images2.imgbox.com/e5/70/PyXUduBW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/86/7c/MsRY7Deh_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/41/16/2DEYPtDx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/df/af/UG5f1PHX_o.png" alt="在这里插入图片描述"><br> （2）编辑现有的约束<br> <img src="https://images2.imgbox.com/49/b1/36Fo3nnS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/95/da/mIAUHZYb_o.png" alt="在这里插入图片描述"><br> 5.生成SDC文件</p> 
<p><img src="https://images2.imgbox.com/d3/a8/WEgys1m6_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_82"></a>实操</h2> 
<p>查看时钟<br> <img src="https://images2.imgbox.com/15/82/naHnA9Y5_o.png" alt="在这里插入图片描述"></p> 
<p>查看最坏路径的余量<br> <img src="https://images2.imgbox.com/35/80/ryqgAbjs_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/53/97/3oONhxDn_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/49af6a0ac977f2df483c24bf979e95bf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Spring事务控制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7047fc57b78ea8c281d0b78960d23fe0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CSS全局样式中用了!important，如何修改局部样式（亲测有效）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>