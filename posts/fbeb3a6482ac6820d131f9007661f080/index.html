<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ST7735STFT屏幕的驱动 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ST7735STFT屏幕的驱动" />
<meta property="og:description" content="ST7735STFT屏幕的驱动 ST7735S简介TFT简介引脚说明程序驱动主要命令控制部分代码框架驱动展示总结 原文链接：https://www.yourcee.com/newsinfo/2928391.html
ST7735S简介 点击图片购买 ST7735S 是 262K 彩色图形型 TFT-LCD 的单芯片控制器/驱动程序。它由396条源线和162门线驱动电路组成。该芯片能够直接连接到外部微处理器，并接受串行外围接口 （SPI）、8 位/9 位/16 位/18 位并行接口。显示数据可以存储在 132 x 162 x 18 位的片上显示数据 RAM 中。它可以在没有外部操作时钟时执行显示数据 RAM 读写操作，以最大限度地降低功耗。此外，由于驱动液晶所需的集成电源电路，因此可以制造出组件较少的显示系统。
TFT简介 下方这款为 1.44寸 TFT彩屏，驱动IC使用ST7735S芯片，液晶驱动IC的SPI接口已经引出带板子外侧，以便使用杜邦线连接，为不想焊接的伙伴非常友好，此次驱动所使用的MCU为增强型51单片机STC12系列的MCU，如下图所示：
点击图片购买 引脚说明 PINParameterVCC5V/3.3V电源接入GND接地CS液晶屏片选信号，低电平使能RESET液晶屏复位信号，低电平复位A0液晶屏寄存器/数据选择信号，高电平：寄存器，低电平：数据SDASPI总线写数据信号SCKSPI总线时钟信号LED背光控制，高电平点亮，如无需控制则接3.3V常亮 程序驱动 流程框架如下
Created with Raphaël 2.3.0 初始化 编写显示函数 显示 结束 yes 主要命令控制 上图中我们可以看到如果想要软重启液晶屏的话，可以直接看我圈中的那一行，D/CX为0，意思就是需要选择写入命令，个人建议写SPI代码的时候传输数据代码选择高位在前，这样就可以直接使用HEX那一栏的数据，即直接使用MCU_write_TFT_Byte(0x01)即可，即可完成软重启。
上图中的三个命令2A,2B.2C，分别为配置地址选择区域和填色命令，在选择好地址写入对应的数据函数即可完成屏幕的取地址和填色处理。
部分代码框架 初始化代码，取自屏幕官方文档配置的驱动。
*配置好屏幕退出睡眠模式，配置帧速率等操作，如果有需求进行屏幕镜像的可以去参考文档中的36命令那里着重看下* void TFT_init() { TFT_BL=0;//背光关闭 TFT_RESET=0; TFT_delay500ms(); TFT_RESET=1; TFT_delay500ms(); MCU_write_TFT_Byte(0x11,TFT_COMMAND);//睡眠退出 TFT_delay500ms(); //ST7735R 帧速率 MCU_write_TFT_Byte(0xB1,TFT_COMMAND); MCU_write_TFT_Byte(0x01,TFT_DATA); MCU_write_TFT_Byte(0x2C,TFT_DATA); MCU_write_TFT_Byte(0x2D,TFT_DATA); MCU_write_TFT_Byte(0xB2,TFT_COMMAND); MCU_write_TFT_Byte(0x01,TFT_DATA); MCU_write_TFT_Byte(0x2C,TFT_DATA); MCU_write_TFT_Byte(0x2D,TFT_DATA); MCU_write_TFT_Byte(0xB3,TFT_COMMAND); MCU_write_TFT_Byte(0x01,TFT_DATA); MCU_write_TFT_Byte(0x2C,TFT_DATA); MCU_write_TFT_Byte(0x2D,TFT_DATA); MCU_write_TFT_Byte(0x01,TFT_DATA); MCU_write_TFT_Byte(0x2C,TFT_DATA); MCU_write_TFT_Byte(0x2D,TFT_DATA); MCU_write_TFT_Byte(0xB4,TFT_COMMAND);//列反转 MCU_write_TFT_Byte(0x07,TFT_DATA); //ST7735R Power Sequence MCU_write_TFT_Byte(0xC0,TFT_COMMAND); MCU_write_TFT_Byte(0xA2,TFT_DATA); MCU_write_TFT_Byte(0x02,TFT_DATA); MCU_write_TFT_Byte(0x84,TFT_DATA); MCU_write_TFT_Byte(0xC1,TFT_COMMAND); MCU_write_TFT_Byte(0xC5,TFT_DATA); MCU_write_TFT_Byte(0xC2,TFT_COMMAND); MCU_write_TFT_Byte(0x0A,TFT_DATA); MCU_write_TFT_Byte(0x00,TFT_DATA); MCU_write_TFT_Byte(0xC3,TFT_COMMAND); MCU_write_TFT_Byte(0x8A,TFT_DATA); MCU_write_TFT_Byte(0x2A,TFT_DATA); MCU_write_TFT_Byte(0xC4,TFT_COMMAND); MCU_write_TFT_Byte(0x8A,TFT_DATA); MCU_write_TFT_Byte(0xEE,TFT_DATA); MCU_write_TFT_Byte(0xC5,TFT_COMMAND);//VCOM MCU_write_TFT_Byte(0x0E,TFT_DATA); MCU_write_TFT_Byte(0x36,TFT_COMMAND);//MX,MY,RGB mode switch (DISPLAY_DIRECTION)//显示的方向(竖屏:0,横屏:1,竖屏旋转180度:2,横屏旋转180度:3) { case	0: MCU_write_TFT_Byte(0xC8,TFT_DATA);break;//竖屏 case	1: MCU_write_TFT_Byte(0xA8,TFT_DATA);break;//横屏 case 2: MCU_write_TFT_Byte(0x08,TFT_DATA);break;//竖屏翻转180度 default	: MCU_write_TFT_Byte(0x68,TFT_DATA);break;//横屏翻转180度 } //ST7735R Gamma Sequence MCU_write_TFT_Byte(0xE0,TFT_COMMAND); MCU_write_TFT_Byte(0x0F,TFT_DATA); MCU_write_TFT_Byte(0x1A,TFT_DATA); MCU_write_TFT_Byte(0x0F,TFT_DATA); MCU_write_TFT_Byte(0x18,TFT_DATA); MCU_write_TFT_Byte(0x2F,TFT_DATA); MCU_write_TFT_Byte(0x28,TFT_DATA); MCU_write_TFT_Byte(0x20,TFT_DATA); MCU_write_TFT_Byte(0x22,TFT_DATA); MCU_write_TFT_Byte(0x1F,TFT_DATA); MCU_write_TFT_Byte(0x1B,TFT_DATA); MCU_write_TFT_Byte(0x23,TFT_DATA); MCU_write_TFT_Byte(0x37,TFT_DATA); MCU_write_TFT_Byte(0x00,TFT_DATA); MCU_write_TFT_Byte(0x07,TFT_DATA); MCU_write_TFT_Byte(0x02,TFT_DATA); MCU_write_TFT_Byte(0x10,TFT_DATA); MCU_write_TFT_Byte(0xE1,TFT_COMMAND); MCU_write_TFT_Byte(0x0F,TFT_DATA); MCU_write_TFT_Byte(0x1B,TFT_DATA); MCU_write_TFT_Byte(0x0F,TFT_DATA); MCU_write_TFT_Byte(0x17,TFT_DATA); MCU_write_TFT_Byte(0x33,TFT_DATA); MCU_write_TFT_Byte(0x2C,TFT_DATA); MCU_write_TFT_Byte(0x29,TFT_DATA); MCU_write_TFT_Byte(0x2E,TFT_DATA); MCU_write_TFT_Byte(0x30,TFT_DATA); MCU_write_TFT_Byte(0x30,TFT_DATA); MCU_write_TFT_Byte(0x39,TFT_DATA); MCU_write_TFT_Byte(0x3F,TFT_DATA); MCU_write_TFT_Byte(0x00,TFT_DATA); MCU_write_TFT_Byte(0x07,TFT_DATA); MCU_write_TFT_Byte(0x03,TFT_DATA); MCU_write_TFT_Byte(0x10,TFT_DATA); MCU_write_TFT_Byte(0xF0,TFT_COMMAND);//启动测试命令 MCU_write_TFT_Byte(0x01,TFT_DATA); MCU_write_TFT_Byte(0xF6,TFT_COMMAND);//禁用ram省电模式 MCU_write_TFT_Byte(0x00,TFT_DATA); MCU_write_TFT_Byte(0x3A,TFT_COMMAND);//65k mode MCU_write_TFT_Byte(0x05,TFT_DATA); MCU_write_TFT_Byte(0x29,TFT_COMMAND);//开启显示 //设置显示区域(行起始,行终止,列起始,列终止) TFT_set_region(0,127,0,127); TFT_clear(BLACK);//清屏(屏幕为黑色) TFT_BL=1;//背光开启 } 驱动展示 总结 关键初始化框架给出，方便直接配置使用，部分功能函数可在下方留言邮箱获取，上线发送，长期发布类似文章，欢迎关注，欢迎随时留言。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fbeb3a6482ac6820d131f9007661f080/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-16T11:14:52+08:00" />
<meta property="article:modified_time" content="2022-06-16T11:14:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ST7735STFT屏幕的驱动</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>ST7735STFT屏幕的驱动</h4> 
 <ul><li><a href="#ST7735S_4" rel="nofollow">ST7735S简介</a></li><li><ul><li><a href="#TFT_11" rel="nofollow">TFT简介</a></li><li><a href="#_15" rel="nofollow">引脚说明</a></li><li><a href="#_26" rel="nofollow">程序驱动</a></li><li><a href="#_37" rel="nofollow">主要命令控制</a></li><li><a href="#_42" rel="nofollow">部分代码框架</a></li><li><a href="#_168" rel="nofollow">驱动展示</a></li><li><a href="#_171" rel="nofollow">总结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<p>原文链接：<a href="https://www.yourcee.com/newsinfo/2928391.html" rel="nofollow">https://www.yourcee.com/newsinfo/2928391.html</a></p> 
<h2><a id="ST7735S_4"></a>ST7735S简介</h2> 
<p><a href="https://item.taobao.com/item.htm?spm=a1z10.3-c-s.w4002-21223910208.12.5ccf6a4bT5Tr0l&amp;id=571409957622" rel="nofollow"><img src="https://images2.imgbox.com/6b/f7/EccBEufm_o.jpg" alt="请添加图片描述" width="400"></a></p> 
<center>
  点击图片购买 
</center> 
<p></p> 
<p>ST7735S 是 262K 彩色图形型 TFT-LCD 的单芯片控制器/驱动程序。它由396条源线和162门线驱动电路组成。该芯片能够直接连接到外部微处理器，并接受串行外围接口 （SPI）、8 位/9 位/16 位/18 位并行接口。显示数据可以存储在 132 x 162 x 18 位的片上显示数据 RAM 中。它可以在没有外部操作时钟时执行显示数据 RAM 读写操作，以最大限度地降低功耗。此外，由于驱动液晶所需的集成电源电路，因此可以制造出组件较少的显示系统。</p> 
<h3><a id="TFT_11"></a>TFT简介</h3> 
<p>下方这款为 1.44寸 TFT彩屏，驱动IC使用<strong>ST7735S</strong>芯片，液晶驱动IC的SPI接口已经引出带板子外侧，以便使用杜邦线连接，为不想焊接的伙伴非常友好，此次驱动所使用的MCU为增强型51单片机<strong>STC12</strong>系列的MCU，如下图所示：<br> <a href="https://item.taobao.com/item.htm?spm=a1z10.3-c-s.w4002-21223910208.15.5a256a4bAUg5HT&amp;id=536239655550" rel="nofollow"><img src="https://images2.imgbox.com/99/a6/1ybVU3W9_o.png" alt="在这里插入图片描述" width="400"></a></p> 
<center>
  点击图片购买 
</center> 
<p></p> 
<h3><a id="_15"></a>引脚说明</h3> 
<table><thead><tr><th>PIN</th><th>Parameter</th></tr></thead><tbody><tr><td>VCC</td><td>5V/3.3V电源接入</td></tr><tr><td>GND</td><td>接地</td></tr><tr><td>CS</td><td>液晶屏片选信号，低电平使能</td></tr><tr><td>RESET</td><td>液晶屏复位信号，低电平复位</td></tr><tr><td>A0</td><td>液晶屏寄存器/数据选择信号，高电平：寄存器，低电平：数据</td></tr><tr><td>SDA</td><td>SPI总线写数据信号</td></tr><tr><td>SCK</td><td>SPI总线时钟信号</td></tr><tr><td>LED</td><td>背光控制，高电平点亮，如无需控制则接3.3V常亮</td></tr></tbody></table> 
<h3><a id="_26"></a>程序驱动</h3> 
<p><strong>流程框架如下</strong></p> 
<div class="mermaid sequence-diagram flow-chart"> 
 <svg height="363.75" version="1.1" width="109" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; position: relative;" viewbox="0 0 109 363.75" preserveaspectratio="xMidYMid meet"> 
  <desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">
    Created with Raphaël 2.3.0 
  </desc> 
  <defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"> 
   <marker id="raphael-marker-endblock33-obj5b2jd" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"> 
    <use transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use> 
   </marker> 
   <marker id="raphael-marker-endblock33-objoxoe2" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"> 
    <use transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use> 
   </marker> 
   <marker id="raphael-marker-endblock33-objbm7l2" markerheight="3" markerwidth="3" orient="auto" refx="1.5" refy="1.5" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"> 
    <use transform="rotate(180 1.5 1.5) scale(0.6,0.6)" stroke-width="1.6667" fill="black" stroke="none" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></use> 
   </marker> 
  </defs> 
  <rect x="0" y="0" width="64" height="39" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="1" class="flowchart" id="st" transform="matrix(1,0,0,1,23,11.75)"></rect> 
  <text x="10" y="19.5" text-anchor="start" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="stt" class="flowchartt" transform="matrix(1,0,0,1,23,11.75)" stroke-width="1"> 
   <tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">
     初始化 
   </tspan> 
  </text> 
  <rect x="0" y="0" width="106" height="39" rx="0" ry="0" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="1" class="flowchart" id="op" transform="matrix(1,0,0,1,2,112.5)"></rect> 
  <text x="10" y="19.5" text-anchor="start" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="opt" class="flowchartt" transform="matrix(1,0,0,1,2,112.5)" stroke-width="1"> 
   <tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">
     编写显示函数 
   </tspan> 
  </text> 
  <path fill="#ffffff" stroke="#000000" d="M22.125,14.625L0,29.25L44.25,58.5L88.5,29.25L44.25,0L0,29.25" stroke-width="1" id="cond" class="flowchart" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;" transform="matrix(1,0,0,1,10.75,203.5)"></path> 
  <text x="27.125" y="29.25" text-anchor="start" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="condt" class="flowchartt" transform="matrix(1,0,0,1,10.75,203.5)" stroke-width="1"> 
   <tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">
     显示 
   </tspan> 
  </text> 
  <rect x="0" y="0" width="50" height="39" rx="20" ry="20" fill="#ffffff" stroke="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-width="1" class="flowchart" id="e" transform="matrix(1,0,0,1,30,323.75)"></rect> 
  <text x="10" y="19.5" text-anchor="start" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" id="et" class="flowchartt" transform="matrix(1,0,0,1,30,323.75)" stroke-width="1"> 
   <tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5.5">
     结束 
   </tspan> 
  </text> 
  <path fill="none" stroke="#000000" d="M55,50.75C55,50.75,55,101.57395720481873,55,111.00418363930658" stroke-width="1" marker-end="url(#raphael-marker-endblock33-obj5b2jd)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;"></path> 
  <path fill="none" stroke="#000000" d="M55,151.5C55,151.5,55,193.473876953125,55,201.99982070922852" stroke-width="1" marker-end="url(#raphael-marker-endblock33-objoxoe2)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;"></path> 
  <path fill="none" stroke="#000000" d="M55,262C55,262,55,312.8239572048187,55,322.2541836393066" stroke-width="1" marker-end="url(#raphael-marker-endblock33-objbm7l2)" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); font-family: sans-serif; font-weight: normal;"></path> 
  <text x="60" y="272" text-anchor="start" font-size="14px" stroke="none" fill="#000000" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: start; font-family: sans-serif; font-size: 14px; font-weight: normal;" stroke-width="1"> 
   <tspan style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" dy="5">
     yes 
   </tspan> 
  </text> 
 </svg> 
</div> 
<h3><a id="_37"></a>主要命令控制</h3> 
<p><img src="https://images2.imgbox.com/9a/75/ByQOXVe9_o.png" alt="在这里插入图片描述"><br> 上图中我们可以看到如果想要软重启液晶屏的话，可以直接看我圈中的那一行，<strong>D/CX</strong>为0，意思就是需要选择写入命令，个人建议写SPI代码的时候传输数据代码选择高位在前，这样就可以直接使用HEX那一栏的数据，即直接使用MCU_write_TFT_Byte(0x01)即可，即可完成软重启。<br> <img src="https://images2.imgbox.com/51/d7/YT0RH49z_o.png" alt="在这里插入图片描述"><br> 上图中的三个命令<strong>2A,2B.2C</strong>，分别为配置地址选择区域和填色命令，在选择好地址写入对应的数据函数即可完成屏幕的取地址和填色处理。</p> 
<h3><a id="_42"></a>部分代码框架</h3> 
<p>初始化代码，取自屏幕官方文档配置的驱动。</p> 
<pre><code>*配置好屏幕退出睡眠模式，配置帧速率等操作，如果有需求进行屏幕镜像的可以去参考文档中的36命令那里着重看下*
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">void</span> <span class="token function">TFT_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token constant">TFT_BL</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//背光关闭</span>
	
	<span class="token constant">TFT_RESET</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token function">TFT_delay500ms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token constant">TFT_RESET</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">TFT_delay500ms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x11</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//睡眠退出</span>
	<span class="token function">TFT_delay500ms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token comment">//ST7735R 帧速率</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xB1</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2C</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2D</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xB2</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2C</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2D</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xB3</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2C</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2D</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2C</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2D</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xB4</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//列反转</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x07</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token comment">//ST7735R Power Sequence</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC0</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xA2</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x02</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x84</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC1</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC5</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC2</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0A</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC3</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x8A</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2A</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC4</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x8A</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xEE</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC5</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//VCOM </span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0E</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x36</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//MX,MY,RGB mode </span>
	
	<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token constant">DISPLAY_DIRECTION</span><span class="token punctuation">)</span><span class="token comment">//显示的方向(竖屏:0,横屏:1,竖屏旋转180度:2,横屏旋转180度:3)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">case</span>	<span class="token number">0</span><span class="token operator">:</span> <span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xC8</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//竖屏</span>
		<span class="token keyword">case</span>	<span class="token number">1</span><span class="token operator">:</span> <span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xA8</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//横屏</span>
		<span class="token keyword">case</span>    <span class="token number">2</span><span class="token operator">:</span> <span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x08</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//竖屏翻转180度</span>
		<span class="token keyword">default</span>	 <span class="token operator">:</span> <span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x68</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment">//横屏翻转180度</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//ST7735R Gamma Sequence</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xE0</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x1A</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x18</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x28</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x20</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x22</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x1F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x1B</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x23</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x37</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x07</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x02</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xE1</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x1B</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x0F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x17</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x33</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2C</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x29</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x2E</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x30</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x39</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x3F</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x07</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x03</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x10</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xF0</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//启动测试命令</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x01</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0xF6</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//禁用ram省电模式</span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x00</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x3A</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//65k mode </span>
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x05</span><span class="token punctuation">,</span><span class="token constant">TFT_DATA</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token function">MCU_write_TFT_Byte</span><span class="token punctuation">(</span><span class="token number">0x29</span><span class="token punctuation">,</span><span class="token constant">TFT_COMMAND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//开启显示</span>
	
	<span class="token comment">//设置显示区域(行起始,行终止,列起始,列终止)</span>
	<span class="token function">TFT_set_region</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token function">TFT_clear</span><span class="token punctuation">(</span><span class="token constant">BLACK</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清屏(屏幕为黑色)</span>
	<span class="token constant">TFT_BL</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//背光开启</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_168"></a>驱动展示</h3> 
<p><img src="https://images2.imgbox.com/b1/d0/9QOzgBXS_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_171"></a>总结</h3> 
<p>关键初始化框架给出，方便直接配置使用，部分功能函数可在下方留言邮箱获取，上线发送，长期发布类似文章，欢迎关注，欢迎随时留言。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3922feeda1fd536bb2d346dd2540b7cb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TB6612FNG电机驱动模块纯硬件调试</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11a704fdc0b3113074c58493255a5ae5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">USB转TTL（CH340）模块使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>