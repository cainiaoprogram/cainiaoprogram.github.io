<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>华为HCIA课堂笔记第二章 网络参考模型 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="华为HCIA课堂笔记第二章 网络参考模型" />
<meta property="og:description" content="第二章 网络参考模型（12.13） 2.1 OSI七层模型 应用层：提供是应用的接口。产生数据。比如网页，QQ，微信
表示层：进行数据格式的转换，比如：加密和解密
会话层：应用在传输数据的，要实现建立应用的会话。建立、管理、拆除应用会话。
传输层：通过端口号来区分不同的应用，传输数据之前需要建立端口到端口的连接通道。封装传输层的头部形成数据段（源目端口号&#43;Data 数据段）
网络层：3层，提供一个逻辑的地址（IP地址），根据报文的目的地址寻址。IPv4、IPv6协议。封装网络层头部形成数据包（源目IP地址&#43;源目端口号&#43;Data 数据包）（路由器，3层交换机）。
数据链路层：对报文封装数据链路层头部形成数据帧，进行报错检查。点到点的通信。（源目MAC地址&#43;源目IP地址&#43;源目端口号&#43;Data 数据帧），只有形成完整的数据帧，数据报文才能够转发出去。（交换机）
物理层：定义了电气化标准，接口的电气化标准，将数据帧形成bit流在物理介质上转发。（包含：光纤，双绞线-网线，无线电波，hub集线器设备）
2.2 TCP/IP对等模型 5层：应用层、传输层、网络层、数据链路层，物理层。
2.2.1各层对应的协议 应用层： Telnet 协议：用于远程登录网络设备（路由器，交换机，服务器），进行网络设备管理。FTP协议：文件传输协议，用于传输文件的，基于TCP协议，端口号21用于传输控制报文（协议本身的消息）。端口20，用于数据传输的。TFTP协议：简单文件传输协议，基于UDP协议，端口69。SNMP协议：简单网络管理协议，用于网络设备的自动管理。HTTP协议：超文本传输协议，网页服务，服务器端口号默认80HTTPS协议：安全的超文本传输协议，网页服务。端口号默认是443SMTP协议：简单邮件传输协议，在个人电脑上进行邮件管理DNS协议：域名解析协议。 主机访问www.baidu.com，没有对应的百度服务器的IP地址，无法封装正常的网页的请求数据包。主机通过DNS协议向DNS服务器发送DNS请求，询问www.baidu.com的IP地址。DNS服务器存储了域名和IP地址的对应关系。DNS服务器收到请求后，回复响应报文，告知主机百度的IP地址。主机保存www.baidu.com域名与IP地址的映射关系，并且封装对应的HTTP报文（报文中包含了百度的IP地址）。常用的DNS服务器 114.114.114.114（DNS服务器的IP地址）DHCP协议：动态主机配置协议，用于主机的IP地址自动配置。传输层协议：TCP（传输控制协议）、UDP（用户数据报协议），都包端口号，用于区分不同应用。网络层协议：IP协议（IPv4协议）、IPv6协议，Internet Protocol（网际协议），IP地址以及寻址，头部字段中“协议Protocol”字段，如果取值为6，表示传输层协议是TCP，如果取值为17，表示传输层协议为UDP数据链路层协议： ARP协议：地址解析协议，用于解析IP地址对应的MAC地址。Ethernet II协议：以太网协议（携带MAC地址），通常使用以太网交换机，和以太网线802.3协议：以太网协议。PPP协议：点到点协议，没有MAC地址，通常采用串口线进行设备相连。PPPoE：以太网拨号协议，用于用户拨号上网。 2.3 传输层 2.3.1 单位换算 bit：一个0或者是1
8bit=1字节（Byte）
1024B=1KB
1024KB=1M
1024M=1G
2.3.2 TCP报文内容 源端口号：标识本端的应用程序
目的端口号：标识目的端的应用程序（服务）
序列号：TCP发送的报文都会添加一个序列号，用于标识报文的顺序
确认序列号：该字段用于确认已收到的报文，必须控制字段中的ACK比特位置位，该字段才有效。
头部长度：只TCP报文的头部总长度（包含了可变长的Option字段），如果不包含Option字段，头部长度为20B，也叫数据偏移。作用是用于标识TCP头部后的数据起点位置。
保留位：6bit填充0，用于以后的新增功能。
控制位：
SYN 比特位：如果该报文的SYN比特位置1，则该报文是一个请求建立连接的报文。ACK 比特位：如果该报文的ACK比特位置1，则表示该报文的确认序列号字段有效。FIN 比特位：如果该报文的FIN比特位置1，则表示该报文是一个请求断开连接的报文。RST：置1表示重置当前的连接PSH：置1表示报文需要紧急交给应用程序处理。URG：置1表示紧急指针字段有效 窗口字段：用于控制报文的发送速度（根据接收到的报文中的窗口字段大小，发送报文。）
校验和：用于校验TCP的头部和数据，接收方根据相同的算法计算出值，与报文中的携带的校验和比较，相同则接受。
紧急指针字段：该字段表示，缓存中需要紧急处理的数据的大小，URG置位该字段有效。
Option字段：功能字段
Padding字段：填充字段，将报文的头部填充到4B的整数倍长度。
2.3.3 UDP字段 源端口号、目的端口号、长度、校验和。
长度：该字段值表示UDP头部和数据总长度。
2.3.4 端口号 端口号存储空间16bit，端口号的范围0-65535；
其中0-1023是知名端口号：比如FTP的21号端口，HTTP的80号端口。
其中1024-65535是非知名端口：本地产生数据访问服务器，在该范围内随机产生一个端口号，作为源端口号，用于区分本设备上的不同应用。
收到报文的时候，根据目的TCP/UDP头部中的目的端口来确定TCP的数据部分应该交给本地哪个应用（程序）处理。
2.4 TCP的工作机制 2.4.1 TCP的三次握手 PC1向PC2发送TCP报文，其中序列号字段为a（己方），确认序列号字段为0，控制比特位中SYN比特置位1，表示该报文是一个请求建立连接的报文。PC2收到请求报文后，其中序列号是b（己方），确认序列号是a&#43;1，表示收到了a报文，请下次发送a&#43;1号报文。控制比特位SYN比特置位，表示该报文是一个请求报文，ACK比特位置位1，表示确认序列号a&#43;1是有效的。PC1收到PC2的报文，也需要对PC2的报文进行确认，发送的报文序列号是PC2希望发送的序列号a&#43;1，确认序列号是b&#43;1，表示已收到b报文，请PC2下次发送b&#43;1号报文，同时控制比特位ACK置位，表示确认序列号有效。 2.4.2 TCP的序列号和确认序列号（数据转发过程） PC1与PC2双向建立了TCP连接PC1向PC2发送带有载荷部分的TCP报文PC2的确认序列号是PC1发送给PC2报文中的序列号&#43;载荷长度（B字节）数据交互过程中的TCP报文的序列号沿用三次握手之后的序列号。 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/886378f38c6f0228b2bdb28d9a0b1e31/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T14:48:39+08:00" />
<meta property="article:modified_time" content="2023-12-28T14:48:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">华为HCIA课堂笔记第二章 网络参考模型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0;text-align:center;"><a name="_Toc154501988">第二章  </a>网络参考模型（12.13）</h2> 
<h3 style="margin-left:0;"><a name="_Toc154501989">2.1 OSI</a>七层模型</h3> 
<p style="margin-left:0;text-align:justify;">应用层：提供是应用的接口。产生数据。比如网页，QQ，微信</p> 
<p style="margin-left:0;text-align:justify;">表示层：进行数据格式的转换，比如：加密和解密</p> 
<p style="margin-left:0;text-align:justify;">会话层：应用在传输数据的，要实现建立应用的会话。建立、管理、拆除应用会话。</p> 
<p style="margin-left:0;text-align:justify;">传输层：通过端口号来区分不同的应用，传输数据之前需要建立端口到端口的连接通道。封装<span style="background-color:#ffff00;">传输层的头部</span>形成数据段（<span style="background-color:#ffff00;">源目端口号</span>+Data   数据段）</p> 
<p style="margin-left:0;text-align:justify;">网络层：3层，提供一个逻辑的地址（IP地址），根据报文的目的地址寻址。IPv4、IPv6协议。封装<span style="background-color:#ffff00;">网络层头部</span>形成数据包（<span style="background-color:#ffff00;">源目</span><span style="background-color:#ffff00;">IP</span><span style="background-color:#ffff00;">地址</span>+源目端口号+Data   数据包）（路由器，<span style="background-color:#ffff00;">3</span><span style="background-color:#ffff00;">层交换机</span>）。</p> 
<p style="margin-left:0;text-align:justify;">数据链路层：对报文封装数据链路层头部形成数据帧，进行报错检查。点到点的通信。（源目MAC地址+源目IP地址+源目端口号+Data     数据帧），<span style="background-color:#ffff00;">只有形成完整的数据帧，数据报文才能够转发出去。（交换机）</span></p> 
<p style="margin-left:0;text-align:justify;">物理层：定义了电气化标准，接口的电气化标准，将数据帧形成bit流在物理介质上转发。（包含：光纤，双绞线-网线，无线电波，hub集线器设备）</p> 
<h3 style="margin-left:0;"><a name="_Toc154501990">2.2 TCP/IP</a>对等模型</h3> 
<p style="margin-left:0;text-align:justify;">5层：应用层、传输层、网络层、数据链路层，物理层。</p> 
<h4 style="margin-left:0;">2.2.1各层对应的协议</h4> 
<ol><li>应用层： 
  <ol><li>Telnet 协议：用于远程登录网络设备（路由器，交换机，服务器），进行网络设备管理。</li><li>FTP协议：文件传输协议，用于传输文件的，基于<span style="background-color:#ffff00;">TCP</span><span style="background-color:#ffff00;">协议</span>，端口号21用于传输控制报文（协议本身的消息）。端口20，用于数据传输的。</li><li>TFTP协议：简单文件传输协议，基于<span style="background-color:#ffff00;">UDP</span><span style="background-color:#ffff00;">协议，端口</span>69。</li><li>SNMP协议：简单网络管理协议，用于网络设备的自动管理。</li><li>HTTP协议：超文本传输协议，网页服务，服务器端口号默认80</li><li>HTTPS协议：安全的超文本传输协议，网页服务。端口号默认是443</li><li>SMTP协议：简单邮件传输协议，在个人电脑上进行邮件管理</li><li>DNS协议：域名解析协议。 
    <ul><li>主机访问www.baidu.com，没有对应的百度服务器的IP地址，无法封装正常的网页的请求数据包。</li><li>主机通过DNS协议向DNS服务器发送DNS请求，询问www.baidu.com的IP地址。DNS服务器存储了域名和IP地址的对应关系。</li><li>DNS服务器收到请求后，回复响应报文，告知主机百度的IP地址。</li><li>主机保存www.baidu.com域名与IP地址的映射关系，并且封装对应的HTTP报文（报文中包含了百度的IP地址）。</li><li>常用的DNS服务器 114.114.114.114（DNS服务器的IP地址）</li></ul></li><li>DHCP协议：动态主机配置协议，用于主机的IP地址自动配置。</li></ol></li><li>传输层协议：TCP（传输控制协议）、UDP（用户数据报协议），都包端口号，用于区分不同应用。</li><li>网络层协议：IP协议（IPv4协议）、IPv6协议，Internet Protocol（网际协议），IP地址以及寻址，<span style="background-color:#ffff00;">头部字段中“协议</span><span style="background-color:#ffff00;">Protocol</span><span style="background-color:#ffff00;">”字段，如果取值为</span><span style="background-color:#ffff00;">6</span><span style="background-color:#ffff00;">，表示传输层协议是</span><span style="background-color:#ffff00;">TCP</span><span style="background-color:#ffff00;">，如果取值为</span><span style="background-color:#ffff00;">17</span><span style="background-color:#ffff00;">，表示传输层协议为</span><span style="background-color:#ffff00;">UDP</span></li><li>数据链路层协议： 
  <ol><li>ARP协议：地址解析协议，用于解析IP地址对应的MAC地址。</li><li>Ethernet II协议：以太网协议（携带MAC地址），通常使用以太网交换机，和以太网线</li><li>802.3协议：以太网协议。</li><li>PPP协议：点到点协议，没有MAC地址，通常采用串口线进行设备相连。</li><li>PPPoE：以太网拨号协议，用于用户拨号上网。</li></ol></li></ol> 
<h3 style="margin-left:0;"><a name="_Toc154501991">2.3 </a>传输层</h3> 
<h4 style="margin-left:0;">2.3.1 单位换算</h4> 
<p style="margin-left:0;text-align:justify;">bit：一个0或者是1</p> 
<p style="margin-left:0;text-align:justify;">8bit=1字节（Byte）</p> 
<p style="margin-left:0;text-align:justify;">1024B=1KB</p> 
<p style="margin-left:0;text-align:justify;">1024KB=1M</p> 
<p style="margin-left:0;text-align:justify;">1024M=1G</p> 
<h4 style="margin-left:0;">2.3.2 TCP报文内容</h4> 
<p style="margin-left:0;text-align:justify;">源端口号：标识本端的应用程序</p> 
<p style="margin-left:0;text-align:justify;">目的端口号：标识目的端的应用程序（服务）</p> 
<p style="margin-left:0;text-align:justify;">序列号：TCP发送的报文都会添加一个序列号，用于标识报文的顺序</p> 
<p style="margin-left:0;text-align:justify;">确认序列号：该字段用于确认已收到的报文，必须控制字段中的ACK比特位置位，该字段才有效。</p> 
<p style="margin-left:0;text-align:justify;">头部长度：只TCP报文的头部总长度（包含了可变长的Option字段），如果不包含Option字段，头部长度为20B，也叫数据偏移。作用是用于标识TCP头部后的数据起点位置。</p> 
<p style="margin-left:0;text-align:justify;">保留位：6bit填充0，用于以后的新增功能。</p> 
<p style="margin-left:0;text-align:justify;">控制位：</p> 
<ol><li><span style="background-color:#ffff00;">SYN </span><span style="background-color:#ffff00;">比特位：</span>如果该报文的SYN比特位置1，则该报文是一个请求建立连接的报文。</li><li><span style="background-color:#ffff00;">ACK </span><span style="background-color:#ffff00;">比特位：</span>如果该报文的ACK比特位置1，则表示该报文的确认序列号字段有效。</li><li><span style="background-color:#ffff00;">FIN </span><span style="background-color:#ffff00;">比特位：</span>如果该报文的FIN比特位置1，则表示该报文是一个请求断开连接的报文。</li><li>RST：置1表示重置当前的连接</li><li>PSH：置1表示报文需要紧急交给应用程序处理。</li><li>URG：置1表示紧<span style="background-color:#ffff00;">急指针字段</span>有效</li></ol> 
<p style="margin-left:0;text-align:justify;">窗口字段：用于控制报文的发送速度（根据接收到的报文中的窗口字段大小，发送报文。）</p> 
<p style="margin-left:0;text-align:justify;">校验和：用于校验TCP的头部和数据，接收方根据相同的算法计算出值，与报文中的携带的校验和比较，相同则接受。</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffff00;">紧急指针</span>字段：该字段表示，缓存中需要紧急处理的数据的大小，<span style="background-color:#ffff00;">URG</span><span style="background-color:#ffff00;">置位该字段有效。</span></p> 
<p style="margin-left:0;text-align:justify;">Option字段：功能字段</p> 
<p style="margin-left:0;text-align:justify;">Padding字段：填充字段，将报文的头部填充到4B的整数倍长度。</p> 
<h4 style="margin-left:0;">2.3.3 UDP字段</h4> 
<p style="margin-left:0;text-align:justify;">源端口号、目的端口号、长度、校验和。</p> 
<p style="margin-left:0;text-align:justify;">长度：该字段值表示UDP头部和数据总长度。</p> 
<h4 style="margin-left:0;">2.3.4 端口号</h4> 
<p style="margin-left:0;text-align:justify;">端口号存储空间16bit，端口号的范围0-65535；</p> 
<p style="margin-left:0;text-align:justify;">其中0-1023是知名端口号：比如FTP的21号端口，HTTP的80号端口。</p> 
<p style="margin-left:0;text-align:justify;">其中1024-65535是非知名端口：本地产生数据访问服务器，在该范围内随机产生一个端口号，作为源端口号，用于区分本设备上的不同应用。</p> 
<p style="margin-left:0;text-align:justify;">收到报文的时候，根据目的TCP/UDP头部中的目的端口来确定TCP的数据部分应该交给本地哪个应用（程序）处理。</p> 
<h3 style="margin-left:0;"><a name="_Toc154501992">2.4 TCP</a>的工作机制</h3> 
<h4 style="margin-left:0;">2.4.1 TCP的三次握手</h4> 
<ol><li>PC1向PC2发送TCP报文，其中序列号字段为a（己方），确认序列号字段为0，控制比特位中SYN比特置位1，表示该报文是一个请求建立连接的报文。</li><li>PC2收到请求报文后，其中序列号是b（己方），确认序列号是a+1，表示收到了a报文，请下次发送a+1号报文。控制比特位SYN比特置位，表示该报文是一个请求报文，ACK比特位置位1，表示确认序列号a+1是有效的。</li><li>PC1收到PC2的报文，也需要对PC2的报文进行确认，发送的报文序列号是PC2希望发送的序列号a+1，确认序列号是b+1，表示已收到b报文，请PC2下次发送b+1号报文，同时控制比特位ACK置位，表示确认序列号有效。</li></ol> 
<h4 style="margin-left:0;">2.4.2 TCP的序列号和确认序列号（数据转发过程）</h4> 
<ol><li>PC1与PC2双向建立了TCP连接</li><li>PC1向PC2发送带有载荷部分的TCP报文</li><li>PC2的确认序列号是PC1发送给PC2报文中的序列号+载荷长度（B字节）</li><li>数据交互过程中的TCP报文的序列号沿用三次握手之后的序列号。</li></ol> 
<h4 style="margin-left:0;">2.4.3 TCP的流控（流量控制）</h4> 
<p style="margin-left:0;text-align:justify;">通过TCP的头部字段中的窗口字段来告知建立连接的对端设备本端剩余的缓冲区大小，对端设备收到之后，按照缓冲区的大小发送报文，从而达到控制流量发送的速度。</p> 
<p style="margin-left:0;text-align:justify;">设备收到TCP的报文不需要逐条进行确认，仅需要对最后收到的报文进行确认，相当于对最后报文之前的报文进行了确认。</p> 
<h4 style="margin-left:0;">2.4.5 TCP的四次挥手机制</h4> 
<ol><li>四次挥手断开连接（确认和三次握手相同，不带载荷，序列号+1确认）</li></ol> 
<ol><li>PC1发送FIN比特位置位的报文请求断开与PC2的连接。Seq=a  ack=b</li><li>PC2收到后回复ACK置位的报文确认断开连接。Seq=b  ack=a+1</li><li>PC2再次发送FIN比特位置位的报文请求断开与PC1的连接。Seq=b ack=a+1</li><li>PC1回复ACK置位报文确认断开连接，释放系统资源。Seq=a+1 ack=b+1</li></ol> 
<ol><li>实际过程中通过RST置位对连接进行立即重置（断开），如果需要重新连接在重新连接。</li></ol> 
<h3 style="margin-left:0;"><a name="_Toc154501993">2.5 </a>网络层</h3> 
<p style="margin-left:0;text-align:justify;">作用：路由器工作在网络层（三层），<span style="background-color:#ffff00;">依据路由表进行转发。</span></p> 
<ol><li>提供一个逻辑的地址（IP地址，可以修改）</li><li>根据报文中的目的地址查找设备上的路由表进行数据转发，路由表指明了去往地址的方向。</li></ol> 
<p style="margin-left:0;text-align:justify;">封装：IP头部（包含源目IP地址）+TCP/UDP的头部+Data（比如：Telnet），叫做数据报</p> 
<h3 style="margin-left:0;"><a name="_Toc154501994">2.6 </a>数据链路层</h3> 
<p style="margin-left:0;text-align:justify;">作用：实现点到点之间的通信（<span style="background-color:#ffff00;">相邻的三层到三层设备</span>  <span style="background-color:#ffff00;">修改下</span>）</p> 
<p style="margin-left:0;text-align:justify;">封装：帧头（MAC地址）+IP头部（包含源目IP地址）+TCP/UDP的头部+Data（比如：Telnet）+帧尾（用于查错校验）。</p> 
<p style="margin-left:0;text-align:justify;">二层设备：依据帧头进行数据转发（<span style="background-color:#ffff00;">依据</span><span style="background-color:#ffff00;">MAC</span><span style="background-color:#ffff00;">地址表进行转发</span>），交换机工作在数据链路层上。</p> 
<h4 style="margin-left:0;">2.6.1 MAC地址</h4> 
<p style="margin-left:0;text-align:justify;">MAC地址唯一标识一个网卡。MAC地址的组成由48bit组成，分为两个部分，前24bit部分为OUI部分（厂商代码，由国际地址组织分配），后24bit位厂商自行分配。</p> 
<p style="margin-left:0;text-align:justify;">表示方式：冒号分16进制表示法</p> 
<p style="margin-left:0;text-align:justify;">例如：98:8D:46:FF:99:93    也有988D-46FF-99-93</p> 
<ol><li>十六进制 
  <ol><li>十进制：0-9，逢10进1，也就是9+1，进一成为1 0</li><li>二进制：0-1，逢2进1，也就是1+1，进一位成为1 0</li><li>十六进制：0-9，A-F，逢16进1，也就是F+1，进一位成为1 0</li></ol></li></ol> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">16进</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">0</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">3</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">4</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">5</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">6</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">7</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">8</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">9</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">A</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">B</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">C</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">D</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">E</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">F</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10进</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">0</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">3</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">4</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">5</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">6</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">7</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">8</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">9</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">11</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">12</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">13</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">14</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">15</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2进</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">0</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">11</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">100</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">101</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">110</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">111</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1000</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1001</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1010</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1011</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1100</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1101</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1110</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1111</p> </td></tr></tbody></table> 
<ol><li>二进制</li></ol> 
<table border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">科学计数</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^0</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^1</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^2</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^3</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^4</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^5</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^6</p> </td><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2^7</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">二进制</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">100</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1000</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10000</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">100000</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1000000</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10000000</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;"> <p style="margin-left:0;text-align:justify;">10进制</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">1</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">2</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">4</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">8</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">16</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">32</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">64</p> </td><td style="vertical-align:top;"> <p style="margin-left:0;text-align:justify;">128</p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">当由一个8位二进制数出现，从右向左第n，每一位表示的十进制值为x=2^（n-1）</p> 
<p style="margin-left:0;text-align:justify;">例如： 8bit数如下：</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffff00;">1      1    1    1    1    1    1     1</span></p> 
<p style="margin-left:0;text-align:justify;">2^7   2^6  2^5   2^4  2^3  2^2  2^1   2^0</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffff00;">128+  64+  32  + 16  +8+  4+   2 +    1</span>=255</p> 
<h4 style="margin-left:0;">2.6.2 MAC地址分类</h4> 
<p style="margin-left:0;text-align:justify;">1、单播MAC地址：从左向右第8bit位为0的是单播MAC地址</p> 
<p style="margin-left:0;text-align:justify;">2、组播MAC地址：从左向右第8bit位为1的时组播MAC地址</p> 
<p style="margin-left:0;text-align:justify;">3、广播MAC地址：48bit全为1的为广播地址。FFFF-FFFF-FFFF</p> 
<p style="margin-left:0;text-align:justify;">例如：</p> 
<ol><li>98:8D:46:FF:99:93 单播地址</li><li>0100-5e00-0001   组播地址</li><li>3315-0000-1111   组播地址</li><li>1111-1111-1111    组播地址</li><li>FFFF-FFFF-FFFF   广播地址</li></ol> 
<h4 style="margin-left:0;">2.6.3 数据帧的分类</h4> 
<ol><li>单播数据帧：数据帧的目的MAC地址是一个单播MAC地址。</li><li>组播数据帧：目的MAC地址是一个组播MAC地址。</li><li>广播数据帧：目的MAC地址是一个广播MAC地址。</li></ol> 
<p style="margin-left:0;text-align:justify;">交换机对不同的数据帧发送方式不一样：<span style="background-color:#ffff00;">转发、泛洪、丢弃</span></p> 
<ol><li>如果交换机收到一个单播数据帧，则根据数据帧的<span style="background-color:#ffff00;">目的</span><span style="background-color:#ffff00;">MAC</span><span style="background-color:#ffff00;">地址</span>，按照MAC地址表向表中指定的接口进行转发。（已知单播帧，转发动作） 
  <ol><li>已知单播帧：MAC地址表中存在对应的单播MAC表项</li></ol></li><li>如果MAC地址表中不存在该数据帧的目的MAC地址，则泛洪转发。（未知单播帧泛洪）。 
  <ol><li>未知单播帧：MAC地址表中不存在对应的单播MAC表项。</li></ol></li><li>如果交换机收到一个组播或者广播数据帧，则进行泛洪转发。 
  <ol><li>泛洪转发：向所有的接口转发。</li></ol></li></ol> 
<h4 style="margin-left:0;">2.6.4 ARP地址解析协议</h4> 
<p style="margin-left:0;text-align:justify;">背景：报文发送的过程中，报文本身必须是完整的数据帧，包含源目IP地址和源目MAC地址。因此设备需要提前获取对方的IP地址和MAC地址（本链路上）</p> 
<p style="margin-left:0;text-align:justify;">作用：根据已知的对端IP地址来获取对端的MAC地址</p> 
<p style="margin-left:0;text-align:justify;">工作过程：</p> 
<ol><li>PC1会封装ping报文（IP头部后面），由于没有对端MAC地址，无法封装完整的数据帧</li><li><span style="background-color:#ffff00;">PC1</span><span style="background-color:#ffff00;">发送</span><span style="background-color:#ffff00;">ARP</span><span style="background-color:#ffff00;">请求，广播请求对端的</span><span style="background-color:#ffff00;">MAC</span><span style="background-color:#ffff00;">地址</span>，在ARP数据帧中携带对应的PC2的IP地址，同时数据帧帧头目的MAC地址为广播地址。</li><li>PC2收到ARP请求，检查ARP的报文内容中的IP地址，并且缓存对应的ARP表项 
  <ol><li>如果报文中的IP地址是自己的就响应该ARP请求，<span style="background-color:#ffff00;">单播发送</span><span style="background-color:#ffff00;">ARP</span><span style="background-color:#ffff00;">响应报文携带</span><span style="background-color:#ffff00;">PC2</span><span style="background-color:#ffff00;">的</span><span style="background-color:#ffff00;">MAC</span><span style="background-color:#ffff00;">地址给到</span><span style="background-color:#ffff00;">PC1</span></li><li>如果报文中的IP地址不是自己的，不进行响应。</li></ol></li><li><span style="background-color:#ffff00;">PC1</span><span style="background-color:#ffff00;">收到对应的响应报文，保存</span><span style="background-color:#ffff00;">PC2</span><span style="background-color:#ffff00;">的</span><span style="background-color:#ffff00;">ARP</span><span style="background-color:#ffff00;">表项</span>（IP地址对应MAC地址映射关系）</li><li>之后的通信过程（如：发送ICMP报文）可以通过缓存表中的PC2的MAC地址进行通信</li></ol> 
<p style="margin-left:0;text-align:justify;">ARP表项老化时间：默认是1200s</p> 
<h3 style="margin-left:0;"><a name="_Toc154501995">2.7 </a>物理层</h3> 
<ol><li>物理层规范了线缆、针脚、电压、接口等物理特性规范。</li><li>双绞线：理论速度100m 
  <ol><li>双绞线（以太网线或者网线），8根线芯，两端RJ45水晶头，</li><li>两种制作方式：两种方式绿色和橙色对调 
    <ul><li>568A：白绿 绿 白橙  蓝  白蓝  橙  白棕  棕</li><li>568B：白橙 橙 白绿  蓝  白蓝  绿  白棕  棕</li></ul></li><li>两种模式： 
    <ul><li>直通线：两边线序相同568B，不同设备之间通信。</li><li>交叉线：一边568A一边是568B，相同设备之间通信。</li></ul></li><li>工作中就使用直通线就完了（设备会自动识别）。1,3,2,6是传输数据的，4,5传输语音数据，7,8保留的。</li><li>种类：5类(cat5)，超5类(cat5，6类cat6，7类</li><li>RJ11水晶头（用于电话线）</li></ol></li><li>光纤： 
  <ol><li>单模光纤：只能传递一种光波，传递距离一般20KM左右</li><li>多模光纤：可以传递多种光波信号，传输距离相比于单模要短。</li><li>光模块：用于交换机的光口，将光信号转化为电信号。</li></ol></li><li>串口线：同/异步串口线 V.24/v.25。</li><li>无线电波：2.4G Hz，5G Hz</li><li>同轴电缆（电视机）</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ca5e3ffad2e0bc93e1e2fdc001eec763/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">gnu工程的编译 - 以libiconv为例</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f0f58b43d4c47aa0766eb2fbf68d8897/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">9、ES高频面试题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>