<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>go语言gin框架的基本使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="go语言gin框架的基本使用" />
<meta property="og:description" content="1.首先在linux环境上安装go环境，这个网上搜搜就行
2.初始化一个go mod，网上搜搜怎么初始化
3.下面go代码的网址和端口绑定自己本机的就行
4.与另一篇CSDN一起食用，效果更好哟---&gt; libcurl的get、post的使用-CSDN博客
package main import ( &#34;github.com/gin-gonic/gin&#34; &#34;flag&#34; &#34;fmt&#34; ) func downFile(c *gin.Context, filePath string, filename string) { c.Writer.Header().Add(&#34;Content-Disposition&#34;, fmt.Sprintf(&#34;attachment; filename=%s&#34;, filename)) c.Writer.Header().Add(&#34;Content-Type&#34;, &#34;application/octet-stream&#34;) fmt.Println(filePath) c.File(filePath) } // go build -o go_gin main.go func main() { var downPath *string = flag.String(&#34;down&#34;, &#34;/tmp&#34;, &#34;the down dir&#34;) flag.Parse() fmt.Printf(&#34;downPath = %s\n&#34;, *downPath) r := gin.Default() r.GET(&#34;/&#34;, func(c *gin.Context) { c.JSON(200, gin.H{ &#34;message&#34;: &#34;Hello World!&#34;, }) }) r.GET(&#34;/ping&#34;, func(c *gin." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7c6b844c89b36db32a45b387fbeb40c4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T15:19:18+08:00" />
<meta property="article:modified_time" content="2024-01-05T15:19:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">go语言gin框架的基本使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1.首先在linux环境上安装go环境，这个网上搜搜就行</p> 
<p>2.初始化一个go mod，网上搜搜怎么初始化</p> 
<p>3.下面go代码的网址和端口绑定自己本机的就行</p> 
<p>4.与另一篇CSDN一起食用，效果更好哟---&gt; <a href="https://blog.csdn.net/hdsHDS6/article/details/135410225?csdn_share_tail=%7B%22type%22%3A%22blog%22%2C%22rType%22%3A%22article%22%2C%22rId%22%3A%22135410225%22%2C%22source%22%3A%22hdsHDS6%22%7D" title="libcurl的get、post的使用-CSDN博客">libcurl的get、post的使用-CSDN博客</a></p> 
<pre><code class="language-Go">package main

import (
    "github.com/gin-gonic/gin"
	"flag"
	"fmt"
)

func downFile(c *gin.Context, filePath string, filename string)  {

    c.Writer.Header().Add("Content-Disposition", fmt.Sprintf("attachment; filename=%s", filename))
    c.Writer.Header().Add("Content-Type", "application/octet-stream")
    fmt.Println(filePath)
    c.File(filePath)
}


// go build -o go_gin main.go
func main() {
	var downPath *string = flag.String("down", "/tmp", "the down dir")
	flag.Parse()
	fmt.Printf("downPath = %s\n", *downPath)
	r := gin.Default()
    r.GET("/", func(c *gin.Context) {
		c.JSON(200, gin.H{
			"message": "Hello World!",
		})
	})
    
    r.GET("/ping", func(c *gin.Context) {
        c.JSON(200, gin.H{
            "message": "pong",
        })
    })
    
    r.POST("/submit", func(c *gin.Context) {
		var json struct {
			Name string `json:"name"`
			Email string `json:"email"`
		}

		if err := c.Bind(&amp;json); err == nil {
            print("name = " + json.Name)
            print("email = " + json.Email)
			c.JSON(200, gin.H{
				"message": "JSON received",
				"name":    json.Name,
				"email":   json.Email,
			})
		} else {
			c.JSON(400, gin.H{"error": err.Error()})
		}
	})
	// 文件下载
	r.POST("/down_file", func(c *gin.Context) {
		var json struct {
			FileName string `json:"file_name"`
		}
		if err := c.Bind(&amp;json); err == nil {
			filePath := (*downPath) + "/" + json.FileName
			downFile(c, filePath, json.FileName)
		}
		
	})
    
    r.Run("10.74.37.146:9999") // listen and serve on 0.0.0.0:8080 (for windows "localhost:8080")
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4a719eab63542ed103c9d52b4f48021e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">etcd基本介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/91f8e3f661539fbe46c5b13210d6f68e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android.mk里的LOCAL_SRC_FILES</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>