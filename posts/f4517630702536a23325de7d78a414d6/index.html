<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于springboot在线考试系统源码和论文 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于springboot在线考试系统源码和论文" />
<meta property="og:description" content="网络的广泛应用给生活带来了十分的便利。所以把在线考试管理与现在网络相结合，利用java技术建设在线考试系统，实现在线考试的信息化。则对于进一步提高在线考试管理发展，丰富在线考试管理经验能起到不少的促进作用。
在线考试系统能够通过互联网得到广泛的、全面的宣传，让尽可能多的用户了解和熟知在线考试系统的便捷高效，不仅为群众提供了服务，而且也推广了自己，让更多的群众了解自己。对于在线考试而言，若拥有自己的系统，通过系统得到更好的管理，同时提升了形象。
本系统设计的现状和趋势，从需求、结构、数据库等方面的设计到系统的实现，分别为管理员和用户的实现。论文的内容从系统的设计、描述、实现、分析、测试方面来表明开发的过程。本系统根据现实情况来选择一种可行的开发方案，借助java编程语言和MySQL数据库等实现系统的全部功能，接下来对系统进行测试，测试系统是否有漏洞和测试用户权限来完善系统，最终系统完成达到相关标准。
关键字：在线考试系统 java MySQL数据库
基于springboot在线考试系统源码和论文306
Abstract
The wide application of network has brought great convenience to life. So the online examination management and the present network, using Java technology to build online examination system, to achieve online examination information. It can further improve the development of online examination management and enrich the experience of online examination management.
Online examination system can be widely and comprehensively publicized through the Internet, so that as many users as possible understand and be familiar with the convenience and efficiency of the online examination system, not only to provide services for the masses, but also to promote themselves, so that more people understand themselves." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f4517630702536a23325de7d78a414d6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T22:12:07+08:00" />
<meta property="article:modified_time" content="2024-01-09T22:12:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于springboot在线考试系统源码和论文</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p><span style="color:#000000;">网络的广泛应用给生活带来了十分的便利。所以把</span><span style="color:#000000;">在线考试管理</span><span style="color:#000000;">与现在网络相结合，利用java技术建设</span><span style="color:#000000;">在线考试系统</span><span style="color:#000000;">，实现</span><span style="color:#000000;">在线考试</span><span style="color:#000000;">的信息化。</span><span style="color:#000000;">则对于进一步提高</span><span style="color:#000000;">在线考试</span><span style="color:#000000;">管理</span><span style="color:#000000;">发展，丰富</span><span style="color:#000000;">在线考试</span><span style="color:#000000;">管理经验</span><span style="color:#000000;">能起到不少的促进作用。</span></p> 
<p><span style="color:#000000;">在线考试系统</span><span style="color:#000000;">能够通过互联网得到广泛的、全面的宣传，让尽可能多的</span><span style="color:#000000;">用户</span><span style="color:#000000;">了解和熟知</span><span style="color:#000000;">在线考试系统</span><span style="color:#000000;">的便捷高效</span><span style="color:#000000;">，不仅为</span><span style="color:#000000;">群众</span><span style="color:#000000;">提供了服务，而且也推广了自己，让更多的</span><span style="color:#000000;">群众</span><span style="color:#000000;">了解自己。对于</span><span style="color:#000000;">在线考试</span><span style="color:#000000;">而言，若拥有自己的</span><span style="color:#000000;">系统</span><span style="color:#000000;">，通过系统</span><span style="color:#000000;">得到更好的管理</span><span style="color:#000000;">，同时提升了形象。</span></p> 
<p><span style="color:#000000;">本</span><span style="color:#000000;">系统</span><span style="color:#000000;">设计的现状和趋势，从需求、结构、数据库等方面的设计到</span><span style="color:#000000;">系统</span><span style="color:#000000;">的实现，</span><span style="color:#000000;">分别</span>为管理员和用户<span style="color:#000000;">的</span><span style="color:#000000;">实现。论文的内容从系统的设计、描述、实现、分析、测试方面</span><span style="color:#000000;">来表明开发的过程</span><span style="color:#000000;">。本</span><span style="color:#000000;">系统根据现实情况来选择一种</span><span style="color:#000000;">可行的开发方案，借助</span><span style="color:#000000;">java</span><span style="color:#000000;">编程语言和</span><span style="color:#000000;">MySQL</span><span style="color:#000000;">数据库等实现</span><span style="color:#000000;">系统的</span><span style="color:#000000;">全部功能</span><span style="color:#000000;">，接下来对系统进行测试，测试系统是否有漏洞和测试用户权限来完善</span><span style="color:#000000;">系统</span><span style="color:#000000;">，</span><span style="color:#000000;">最终系统完成达到</span><span style="color:#000000;">相关标准。</span></p> 
<p></p> 
<p><strong><span style="color:#000000;"><strong>关键字：</strong></span></strong><span style="color:#000000;">在线考试系统</span><span style="color:#000000;"> java  MySQL</span><span style="color:#000000;">数据库</span></p> 
<p>基于springboot在线考试系统源码和论文306</p> 
<p><img alt="" height="507" src="https://images2.imgbox.com/75/28/6oftvFGQ_o.png" width="1063"></p> 
<p></p> 
<p style="text-align:center;"><strong><span style="color:#000000;">Abstract</span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">The wide application of network has brought great convenience to life. So the online examination management and the present network, using Java technology to build online examination system, to achieve online examination information. It can further improve the development of online examination management and enrich the experience of online examination management.</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">Online examination system can be widely and comprehensively publicized through the Internet, so that as many users as possible understand and be familiar with the convenience and efficiency of the online examination system, not only to provide services for the masses, but also to promote themselves, so that more people understand themselves. For online examination, if you have your own system, through the system to get better management, and enhance the image.</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">The present situation and trend of the system design, from the requirements, structure, database and other aspects of the design to the realization of the system, respectively for the realization of administrators and users. The content of the paper shows the development process from the aspects of system design, description, implementation, analysis and testing. The system according to the reality to choose a feasible development plan, with the help of Java programming language and MySQL database to achieve all the functions of the system, then the system is tested, test whether the system has vulnerabilities and test user permissions to improve the system, the final system to achieve relevant standards.</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong>Keywords: </strong>Online examination system Java MySQL database</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p><img alt="" height="936" src="https://images2.imgbox.com/9f/48/j6CzbQ75_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/5e/d1/Vy27opqH_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/30/47/vgF6NYo8_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/a2/40/ZFa2ddxC_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/c1/5e/mklhhJNQ_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/30/16/7eCpQL0E_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/1f/85/RwW74Mw0_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/d4/99/nKr7lsJg_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/28/fb/2sj9yZj7_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/da/9b/61jzqr1s_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/7c/a0/Zu7w5BHc_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/4f/cd/hpGTckGe_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/8a/6b/beI1xXmt_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/e9/03/KH3mxmdo_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/50/fc/LTTSG6Up_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/34/c5/nB0Zqwk5_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/67/96/T3QrDfrD_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/fb/bc/6sENooy0_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/36/54/YhnzwDlg_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/6f/6d/eypP3Pgg_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/51/4d/gNBujvCF_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/08/1f/NcfZzX7p_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/76/3d/bSsqQSDS_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/c9/cf/5awoVxc0_o.jpg" width="1200"></p> 
<p></p> 
<pre><code>package com.controller;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.Map;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Date;
import java.util.List;
import javax.servlet.http.HttpServletRequest;

import com.utils.ValidatorUtils;
import org.apache.commons.lang3.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.format.annotation.DateTimeFormat;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import com.baomidou.mybatisplus.mapper.EntityWrapper;
import com.baomidou.mybatisplus.mapper.Wrapper;
import com.annotation.IgnoreAuth;

import com.entity.ExamrecordEntity;
import com.entity.view.ExamrecordView;

import com.service.ExamrecordService;
import com.service.TokenService;
import com.utils.PageUtils;
import com.utils.R;
import com.utils.MD5Util;
import com.utils.MPUtil;
import com.utils.CommonUtil;
import java.io.IOException;

/**
 * 考试记录表
 * 后端接口
 * @author 
 * @email 
 * @date 2022-02-24 15:53:56
 */
@RestController
@RequestMapping("/examrecord")
public class ExamrecordController {
    @Autowired
    private ExamrecordService examrecordService;


    

   	    /**
     * 考试记录接口
     */
    @RequestMapping("/groupby")
    public R page2(@RequestParam Map&lt;String, Object&gt; params,ExamrecordEntity examrecord, HttpServletRequest request){
    	if(!request.getSession().getAttribute("role").toString().equals("管理员")) {
    		examrecord.setUserid((Long)request.getSession().getAttribute("userId"));
    	}

        EntityWrapper&lt;ExamrecordEntity&gt; ew = new EntityWrapper&lt;ExamrecordEntity&gt;();
		PageUtils page = examrecordService.queryPageGroupBy(params, MPUtil.sort(MPUtil.between(MPUtil.likeOrEq(ew, examrecord), params), params));
        return R.ok().put("data", page);
    }

    /**
     * 后端列表
     */
    @RequestMapping("/page")
    public R page(@RequestParam Map&lt;String, Object&gt; params,ExamrecordEntity examrecord,
		HttpServletRequest request){
    	if(!request.getSession().getAttribute("role").toString().equals("管理员")) {
    		examrecord.setUserid((Long)request.getSession().getAttribute("userId"));
    	}
        EntityWrapper&lt;ExamrecordEntity&gt; ew = new EntityWrapper&lt;ExamrecordEntity&gt;();
		PageUtils page = examrecordService.queryPage(params, MPUtil.sort(MPUtil.between(MPUtil.likeOrEq(ew, examrecord), params), params));

        return R.ok().put("data", page);
    }
    
    /**
     * 前端列表
     */
    @RequestMapping("/list")
    public R list(@RequestParam Map&lt;String, Object&gt; params,ExamrecordEntity examrecord, 
		HttpServletRequest request){
    	if(!request.getSession().getAttribute("role").toString().equals("管理员")) {
    		examrecord.setUserid((Long)request.getSession().getAttribute("userId"));
    	}
        EntityWrapper&lt;ExamrecordEntity&gt; ew = new EntityWrapper&lt;ExamrecordEntity&gt;();
		PageUtils page = examrecordService.queryPage(params, MPUtil.sort(MPUtil.between(MPUtil.likeOrEq(ew, examrecord), params), params));
        return R.ok().put("data", page);
    }

	/**
     * 列表
     */
    @RequestMapping("/lists")
    public R list( ExamrecordEntity examrecord){
       	EntityWrapper&lt;ExamrecordEntity&gt; ew = new EntityWrapper&lt;ExamrecordEntity&gt;();
      	ew.allEq(MPUtil.allEQMapPre( examrecord, "examrecord")); 
        return R.ok().put("data", examrecordService.selectListView(ew));
    }

	 /**
     * 查询
     */
    @RequestMapping("/query")
    public R query(ExamrecordEntity examrecord){
        EntityWrapper&lt; ExamrecordEntity&gt; ew = new EntityWrapper&lt; ExamrecordEntity&gt;();
 		ew.allEq(MPUtil.allEQMapPre( examrecord, "examrecord")); 
		ExamrecordView examrecordView =  examrecordService.selectView(ew);
		return R.ok("查询考试记录表成功").put("data", examrecordView);
    }
	
    /**
     * 后端详情
     */
    @RequestMapping("/info/{id}")
    public R info(@PathVariable("id") Long id){
        ExamrecordEntity examrecord = examrecordService.selectById(id);
        return R.ok().put("data", examrecord);
    }

    /**
     * 前端详情
     */
	@IgnoreAuth
    @RequestMapping("/detail/{id}")
    public R detail(@PathVariable("id") Long id){
        ExamrecordEntity examrecord = examrecordService.selectById(id);
        return R.ok().put("data", examrecord);
    }
    



    /**
     * 后端保存
     */
    @RequestMapping("/save")
    public R save(@RequestBody ExamrecordEntity examrecord, HttpServletRequest request){
    	examrecord.setId(new Date().getTime()+new Double(Math.floor(Math.random()*1000)).longValue());
    	//ValidatorUtils.validateEntity(examrecord);
    	examrecord.setUserid((Long)request.getSession().getAttribute("userId"));
        examrecordService.insert(examrecord);
        return R.ok();
    }
    
    /**
     * 前端保存
     */
    @RequestMapping("/add")
    public R add(@RequestBody ExamrecordEntity examrecord, HttpServletRequest request){
    	examrecord.setId(new Date().getTime()+new Double(Math.floor(Math.random()*1000)).longValue());
    	//ValidatorUtils.validateEntity(examrecord);
    	examrecord.setUserid((Long)request.getSession().getAttribute("userId"));
        examrecordService.insert(examrecord);
        return R.ok();
    }

    /**
     * 修改
     */
    @RequestMapping("/update")
    public R update(@RequestBody ExamrecordEntity examrecord, HttpServletRequest request){
        //ValidatorUtils.validateEntity(examrecord);
        examrecordService.updateById(examrecord);//全部更新
        return R.ok();
    }
    

    /**
     * 删除
     */
    @RequestMapping("/delete")
    public R delete(@RequestBody Long[] ids){
        examrecordService.deleteBatchIds(Arrays.asList(ids));
        return R.ok();
    }
    
    /**
     * 提醒接口
     */
	@RequestMapping("/remind/{columnName}/{type}")
	public R remindCount(@PathVariable("columnName") String columnName, HttpServletRequest request, 
						 @PathVariable("type") String type,@RequestParam Map&lt;String, Object&gt; map) {
		map.put("column", columnName);
		map.put("type", type);
		
		if(type.equals("2")) {
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
			Calendar c = Calendar.getInstance();
			Date remindStartDate = null;
			Date remindEndDate = null;
			if(map.get("remindstart")!=null) {
				Integer remindStart = Integer.parseInt(map.get("remindstart").toString());
				c.setTime(new Date()); 
				c.add(Calendar.DAY_OF_MONTH,remindStart);
				remindStartDate = c.getTime();
				map.put("remindstart", sdf.format(remindStartDate));
			}
			if(map.get("remindend")!=null) {
				Integer remindEnd = Integer.parseInt(map.get("remindend").toString());
				c.setTime(new Date());
				c.add(Calendar.DAY_OF_MONTH,remindEnd);
				remindEndDate = c.getTime();
				map.put("remindend", sdf.format(remindEndDate));
			}
		}
		
		Wrapper&lt;ExamrecordEntity&gt; wrapper = new EntityWrapper&lt;ExamrecordEntity&gt;();
		if(map.get("remindstart")!=null) {
			wrapper.ge(columnName, map.get("remindstart"));
		}
		if(map.get("remindend")!=null) {
			wrapper.le(columnName, map.get("remindend"));
		}
		if(!request.getSession().getAttribute("role").toString().equals("管理员")) {
    		wrapper.eq("userid", (Long)request.getSession().getAttribute("userId"));
    	}


		int count = examrecordService.selectCount(wrapper);
		return R.ok().put("count", count);
	}
	



    /**
     * 当重新考试时，删除考生的某个试卷的所有考试记录
     */
    @RequestMapping("/deleteRecords")
    public R deleteRecords(@RequestParam Long userid,@RequestParam Long paperid){
    	examrecordService.delete(new EntityWrapper&lt;ExamrecordEntity&gt;().eq("paperid", paperid).eq("userid", userid));
        return R.ok();
    }




}
</code></pre> 
<pre><code>package com.controller;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.apache.commons.lang3.StringUtils;
import org.json.JSONObject;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.util.ResourceUtils;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.annotation.IgnoreAuth;
import com.baidu.aip.face.AipFace;
import com.baidu.aip.face.MatchRequest;
import com.baidu.aip.util.Base64Util;
import com.baomidou.mybatisplus.mapper.EntityWrapper;
import com.entity.ConfigEntity;
import com.service.CommonService;
import com.service.ConfigService;
import com.utils.BaiduUtil;
import com.utils.FileUtil;
import com.utils.R;
/**
 * 通用接口
 */
@RestController
public class CommonController{
	@Autowired
	private CommonService commonService;

    private static AipFace client = null;
    
    @Autowired
    private ConfigService configService;    
	/**
	 * 获取table表中的column列表(联动接口)
	 * @param table
	 * @param column
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/option/{tableName}/{columnName}")
	public R getOption(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName,String level,String parent) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		if(StringUtils.isNotBlank(level)) {
			params.put("level", level);
		}
		if(StringUtils.isNotBlank(parent)) {
			params.put("parent", parent);
		}
		List&lt;String&gt; data = commonService.getOption(params);
		return R.ok().put("data", data);
	}
	
	/**
	 * 根据table中的column获取单条记录
	 * @param table
	 * @param column
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/follow/{tableName}/{columnName}")
	public R getFollowByOption(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName, @RequestParam String columnValue) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		params.put("columnValue", columnValue);
		Map&lt;String, Object&gt; result = commonService.getFollowByOption(params);
		return R.ok().put("data", result);
	}
	
	/**
	 * 修改table表的sfsh状态
	 * @param table
	 * @param map
	 * @return
	 */
	@RequestMapping("/sh/{tableName}")
	public R sh(@PathVariable("tableName") String tableName, @RequestBody Map&lt;String, Object&gt; map) {
		map.put("table", tableName);
		commonService.sh(map);
		return R.ok();
	}
	
	/**
	 * 获取需要提醒的记录数
	 * @param tableName
	 * @param columnName
	 * @param type 1:数字 2:日期
	 * @param map
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/remind/{tableName}/{columnName}/{type}")
	public R remindCount(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName, 
						 @PathVariable("type") String type,@RequestParam Map&lt;String, Object&gt; map) {
		map.put("table", tableName);
		map.put("column", columnName);
		map.put("type", type);
		
		if(type.equals("2")) {
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
			Calendar c = Calendar.getInstance();
			Date remindStartDate = null;
			Date remindEndDate = null;
			if(map.get("remindstart")!=null) {
				Integer remindStart = Integer.parseInt(map.get("remindstart").toString());
				c.setTime(new Date()); 
				c.add(Calendar.DAY_OF_MONTH,remindStart);
				remindStartDate = c.getTime();
				map.put("remindstart", sdf.format(remindStartDate));
			}
			if(map.get("remindend")!=null) {
				Integer remindEnd = Integer.parseInt(map.get("remindend").toString());
				c.setTime(new Date());
				c.add(Calendar.DAY_OF_MONTH,remindEnd);
				remindEndDate = c.getTime();
				map.put("remindend", sdf.format(remindEndDate));
			}
		}
		
		int count = commonService.remindCount(map);
		return R.ok().put("count", count);
	}
	
	/**
	 * 单列求和
	 */
	@IgnoreAuth
	@RequestMapping("/cal/{tableName}/{columnName}")
	public R cal(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		Map&lt;String, Object&gt; result = commonService.selectCal(params);
		return R.ok().put("data", result);
	}
	
	/**
	 * 分组统计
	 */
	@IgnoreAuth
	@RequestMapping("/group/{tableName}/{columnName}")
	public R group(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectGroup(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}
	
	/**
	 * （按值统计）
	 */
	@IgnoreAuth
	@RequestMapping("/value/{tableName}/{xColumnName}/{yColumnName}")
	public R value(@PathVariable("tableName") String tableName, @PathVariable("yColumnName") String yColumnName, @PathVariable("xColumnName") String xColumnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("xColumn", xColumnName);
		params.put("yColumn", yColumnName);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectValue(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}

	/**
 	 * （按值统计）时间统计类型
	 */
	@IgnoreAuth
	@RequestMapping("/value/{tableName}/{xColumnName}/{yColumnName}/{timeStatType}")
	public R valueDay(@PathVariable("tableName") String tableName, @PathVariable("yColumnName") String yColumnName, @PathVariable("xColumnName") String xColumnName, @PathVariable("timeStatType") String timeStatType) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("xColumn", xColumnName);
		params.put("yColumn", yColumnName);
		params.put("timeStatType", timeStatType);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectTimeStatValue(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}
	
    /**
     * 人脸比对
     * 
     * @param face1 人脸1
     * @param face2 人脸2
     * @return
     */
    @RequestMapping("/matchFace")
    @IgnoreAuth
    public R matchFace(String face1, String face2,HttpServletRequest request) {
        if(client==null) {
            /*String AppID = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "AppID")).getValue();*/
            String APIKey = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "APIKey")).getValue();
            String SecretKey = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "SecretKey")).getValue();
            String token = BaiduUtil.getAuth(APIKey, SecretKey);
            if(token==null) {
                return R.error("请在配置管理中正确配置APIKey和SecretKey");
            }
            client = new AipFace(null, APIKey, SecretKey);
            client.setConnectionTimeoutInMillis(2000);
            client.setSocketTimeoutInMillis(60000);
        }
        JSONObject res = null;
        try {
            File path = new File(ResourceUtils.getURL("classpath:static").getPath());
            if(!path.exists()) {
                path = new File("");
            }
            File upload = new File(path.getAbsolutePath(),"/upload/");
            File file1 = new File(upload.getAbsolutePath()+"/"+face1);
            File file2 = new File(upload.getAbsolutePath()+"/"+face2);
            String img1 = Base64Util.encode(FileUtil.FileToByte(file1));
            String img2 = Base64Util.encode(FileUtil.FileToByte(file2));
            MatchRequest req1 = new MatchRequest(img1, "BASE64");
            MatchRequest req2 = new MatchRequest(img2, "BASE64");
            ArrayList&lt;MatchRequest&gt; requests = new ArrayList&lt;MatchRequest&gt;();
            requests.add(req1);
            requests.add(req2);
            res = client.match(requests);
            System.out.println(res.get("result"));
        } catch (FileNotFoundException e) {
            e.printStackTrace();
            return R.error("文件不存在");
        } catch (IOException e) {
            e.printStackTrace();
        } 
        return R.ok().put("score", com.alibaba.fastjson.JSONObject.parse(res.getJSONObject("result").get("score").toString()));
    }
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/77103ee980c4a94e66545fa8b3900366/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue 学习路线图（待整理）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/97b6cc883f555b0fabace0c3e3b792ff/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JVM主要的几种垃圾回收算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>