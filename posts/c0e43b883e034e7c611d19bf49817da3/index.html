<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>第一次接触单片机ADC 都会有这些问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="第一次接触单片机ADC 都会有这些问题" />
<meta property="og:description" content=" 如何利用单片机的ADC模块（或者独立的ADC芯片）得到接入ADC管脚上的实际电压值？ 这个问题，是第一次接触ADC时候，大家都会遇到的问题。 会读到什么值 单片机会读到什么值？需要看一个特性，就是几位的ADC，在手册上就会给出，例如，STM32的ADC是12位的。另外，还有8位，10位，16位，24位等。 我先告诉你答案：STM32读到的ADC值，是从0到4095，当你把ADC引脚接了GND，读到的就是0，当你把ADC引脚接了VDD，读到的就是4095。 接下来告诉你为什么：前面提到，STM32的ADC是12位的，我们知道，8位的值是从0~255；16位的值，是从0~65535。这两个位的最大值，是我们最为熟悉的。 （怎么算出来的？这问题就又降低到另一个层面了，这里我们说的几位的值，每个位只能是0或者1，比如2位的值，可以表示为00 01 10 11四种不同的值，这是以2进制表示的，转换成十进制就是0 1 2 3，所以得出结论，2位的值可以表示从0~3。同理，3位的值，可以表示十进制的0~9，你可以展开计算一下。4位的值，可以表示0~16，5位的值，可以表示从0~31，同理，你可以得出任意位的值可以表示的范围。） 所以，12位的值，可以表示从0~4095，这就是先在感性上，认识了为什么12位的ADC的值，是从0~4095. 读到的值怎么换算成实际的电压值 前面提到了，我们输入GND，读到的值是0，输入VDD，得到的值是4095，那么，当你读到2035的时候，你知道输入电压多少V吗？这个问题，归根接地，就到了数学XY坐标，已知两点坐标值（0,0）（3.3,4095），给出任意X坐标值，求Y值的问题了吧？简单不简单？ 参考电压是什么 讨论这个问题之前，你先拿万用表量一下你的VDDA的实际电压是多大？是不是标准的3.300V？应该不是吧？或许是2.296V，或许是3.312V。然后你把VDD连接到ADC引脚之后，得到的是4095，也就是，实际上，当你读出4095这个数据的时候，实际的电压值不是你想象中的3.300V。有些初学者，觉得几毫伏的电压差无所谓，但实际应用中，几毫伏就可能代表很大的实际工况，例如，在一个量程为50克的电子称上。 所以，这时候，芯片厂商就想了一个办法，给ADC模块中引入参考电压，由非常标准的参考电压芯片来接入参考电压引脚。标准的电压芯片，我们一般叫做参考电压芯片，或者叫做基准电压芯片。例如REF3133（输出3.300V） REF3025（输出2.500V）等等。 注意：STM32 的100脚以上（含100脚）有参考电压引脚。在没有参考电压引脚的单片机上，可以把基准电压芯片接入VDDA，但是VDDA和VDD的电压差不能超过0.3V，例如，VDD是3.3V的话，可以给VDDA接入一个3.3V的参考电压芯片或者3.0V的参考电压芯片，但是不能接入2.5V的参考电压芯片，后果就是芯片不能工作。 ADC引脚的输入电压范围是多大 一般情况下，ADC引脚的输入电压，是从0~VDD，如果有REF引脚，一般是0~Vref，也有0~2Vref的情况。 如果被测的电压大于ADC的输入电压，例如，要用STM32测量0~5V的电压的话，可以在输入ADC引脚之前，加入电阻分压和放大器电路。 总结：看完这篇文章，你是否会觉的，一切都只是基础知识的融合 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c0e43b883e034e7c611d19bf49817da3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-22T08:45:59+08:00" />
<meta property="article:modified_time" content="2017-06-22T08:45:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">第一次接触单片机ADC 都会有这些问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    如何利用单片机的ADC模块（或者独立的ADC芯片）得到接入ADC管脚上的实际电压值？ 
<br> 
<br> 这个问题，是第一次接触ADC时候，大家都会遇到的问题。 
<br> 
<br> 
<span style="color:#7bc0"><strong>会读到什么值</strong></span> 
<br> 
<br> 单片机会读到什么值？需要看一个特性，就是几位的ADC，在手册上就会给出，例如，STM32的ADC是12位的。另外，还有8位，10位，16位，24位等。 
<br> 
<br> 
<strong>我先告诉你答案：</strong>STM32读到的ADC值，是从0到4095，当你把ADC引脚接了GND，读到的就是0，当你把ADC引脚接了VDD，读到的就是4095。 
<br> 
<br> 
<strong>接下来告诉你为什么：</strong>前面提到，STM32的ADC是12位的，我们知道，8位的值是从0~255；16位的值，是从0~65535。这两个位的最大值，是我们最为熟悉的。 
<br> 
<br> （怎么算出来的？这问题就又降低到另一个层面了，这里我们说的几位的值，每个位只能是0或者1，比如2位的值，可以表示为00 01 10 11四种不同的值，这是以2进制表示的，转换成十进制就是0 1 2 3，所以得出结论，2位的值可以表示从0~3。同理，3位的值，可以表示十进制的0~9，你可以展开计算一下。4位的值，可以表示0~16，5位的值，可以表示从0~31，同理，你可以得出任意位的值可以表示的范围。） 
<br> 
<br> 所以，12位的值，可以表示从0~4095，这就是先在感性上，认识了为什么12位的ADC的值，是从0~4095. 
<br> 
<br> 
<span style="color:#7bc0"><strong>读到的值怎么换算成实际的电压值</strong></span> 
<br> 
<br> 前面提到了，我们输入GND，读到的值是0，输入VDD，得到的值是4095，那么，当你读到2035的时候，你知道输入电压多少V吗？这个问题，归根接地，就到了数学XY坐标，已知两点坐标值（0,0）（3.3,4095），给出任意X坐标值，求Y值的问题了吧？简单不简单？ 
<br> 
<br> 
<img width="468" height="397" class="zoom" id="aimg_Z80fg" alt="" src="https://images2.imgbox.com/54/79/JBdYSOBm_o.jpg" border="0"> 
<br> 
<br> 
<br> 
<span style="color:#7bc0"><strong>参考电压是什么</strong></span> 
<br> 
<br> 讨论这个问题之前，你先拿万用表量一下你的VDDA的实际电压是多大？是不是标准的3.300V？应该不是吧？或许是2.296V，或许是3.312V。然后你把VDD连接到ADC引脚之后，得到的是4095，也就是，实际上，当你读出4095这个数据的时候，实际的电压值不是你想象中的3.300V。有些初学者，觉得几毫伏的电压差无所谓，但实际应用中，几毫伏就可能代表很大的实际工况，例如，在一个量程为50克的电子称上。 
<br> 
<br> 所以，这时候，芯片厂商就想了一个办法，给ADC模块中引入参考电压，由非常标准的参考电压芯片来接入参考电压引脚。标准的电压芯片，我们一般叫做参考电压芯片，或者叫做基准电压芯片。例如REF3133（输出3.300V） REF3025（输出2.500V）等等。 
<br> 
<br> 注意：STM32 的100脚以上（含100脚）有参考电压引脚。在没有参考电压引脚的单片机上，可以把基准电压芯片接入VDDA，但是VDDA和VDD的电压差不能超过0.3V，例如，VDD是3.3V的话，可以给VDDA接入一个3.3V的参考电压芯片或者3.0V的参考电压芯片，但是不能接入2.5V的参考电压芯片，后果就是芯片不能工作。 
<br> 
<br> 
<span style="color:#7bc0"><strong>ADC引脚的输入电压范围是多大</strong></span> 
<br> 
<br> 一般情况下，ADC引脚的输入电压，是从0~VDD，如果有REF引脚，一般是0~Vref，也有0~2Vref的情况。 
<br> 
<br> 如果被测的电压大于ADC的输入电压，例如，要用STM32测量0~5V的电压的话，可以在输入ADC引脚之前，加入电阻分压和放大器电路。 
<br> 
<br> 
<span style="color:#7bc0"><strong>总结：</strong></span>看完这篇文章，你是否会觉的，一切都只是基础知识的融合
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a5672f3e3edd9e3ea069cec4f87e6fe1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Shell编程-awk</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/51dfa65813268a81037fc1fb9040220b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">WebRTC的噪声抑制（noise suppression，NS）算法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>