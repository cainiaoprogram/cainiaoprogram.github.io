<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql alter decimal_MySQL数据类型DECIMAL用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql alter decimal_MySQL数据类型DECIMAL用法" />
<meta property="og:description" content="MySQL DECIMAL数据类型用于在数据库中存储精确的数值。我们经常将DECIMAL数据类型用于保留准确精确度的列，例如会计系统中的货币数据。
要定义数据类型为DECIMAL的列，请使用以下语法：
column_name DECIMAL(P,D);
在上面的语法中：
P是表示有效数字数的精度。 P范围为1〜65。
D是表示小数点后的位数。 D的范围是0~30。MySQL要求D小于或等于(&lt;=)P。
DECIMAL(P，D)表示列可以存储D位小数的P位数。十进制列的实际范围取决于精度和刻度。
与INT数据类型一样，DECIMAL类型也具有UNSIGNED和ZEROFILL属性。 如果使用UNSIGNED属性，则DECIMAL UNSIGNED的列将不接受负值。
如果使用ZEROFILL，MySQL将把显示值填充到0以显示由列定义指定的宽度。 另外，如果我们对DECIMAL列使用ZERO FILL，MySQL将自动将UNSIGNED属性添加到列。
以下示例使用DECIMAL数据类型定义的一个叫作amount的列。
amount DECIMAL(6,2);
在此示例中，amount列最多可以存储6位数字，小数位数为2位; 因此，amount列的范围是从-9999.99到9999.99。
MySQL允许使用以下语法：
column_name DECIMAL(P);
这相当于：
column_name DECIMAL(P,0);
在这种情况下，列不包含小数部分或小数点。
此外，我们甚至可以使用以下语法。
column_name DECIMAL;
在这种情况下，P的默认值为10。
MySQL DECIMAL存储
MySQL分别为整数和小数部分分配存储空间。 MySQL使用二进制格式存储DECIMAL值。它将9位数字包装成4个字节。
对于每个部分，需要4个字节来存储9位数的每个倍数。剩余数字所需的存储如下表所示：
剩余数字
位
0
0
1–2
1
3–4
2
5–6
3
7-9
4
例如，DECIMAL(19,9)对于小数部分具有9位数字，对于整数部分具有(19位-9位) = 10位数字，小数部分需要4个字节。 整数部分对于前9位数字需要4个字节，1个剩余字节需要1个字节。DECIMAL(19,9)列总共需要9个字节。
MySQL DECIMAL数据类型和货币数据
经常使用DECIMAL数据类型的货币数据，如价格，工资，账户余额等。如果要设计一个处理货币数据的数据库，则可参考以下语法：
amount DECIMAL(19,2);
但是，如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：
amount DECIMAL(19,4);
MySQL DECIMAL数据类型示例
首先，创建一个名为test_order的新表，其中包含三列：id，description和cost。
CREATE TABLE test_order (" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/cdf48e78d7d691f5c14ee44f1007cd8b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-26T17:56:14+08:00" />
<meta property="article:modified_time" content="2021-02-26T17:56:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql alter decimal_MySQL数据类型DECIMAL用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>MySQL DECIMAL数据类型用于在数据库中存储精确的数值。我们经常将DECIMAL数据类型用于保留准确精确度的列，例如会计系统中的货币数据。</p> 
 <p>要定义数据类型为DECIMAL的列，请使用以下语法：</p> 
 <p>column_name DECIMAL(P,D);</p> 
 <p>在上面的语法中：</p> 
 <p>P是表示有效数字数的精度。 P范围为1〜65。</p> 
 <p>D是表示小数点后的位数。 D的范围是0~30。MySQL要求D小于或等于(&lt;=)P。</p> 
 <p>DECIMAL(P，D)表示列可以存储D位小数的P位数。十进制列的实际范围取决于精度和刻度。</p> 
 <p>与INT数据类型一样，DECIMAL类型也具有UNSIGNED和ZEROFILL属性。 如果使用UNSIGNED属性，则DECIMAL UNSIGNED的列将不接受负值。</p> 
 <p>如果使用ZEROFILL，MySQL将把显示值填充到0以显示由列定义指定的宽度。 另外，如果我们对DECIMAL列使用ZERO FILL，MySQL将自动将UNSIGNED属性添加到列。</p> 
 <p>以下示例使用DECIMAL数据类型定义的一个叫作amount的列。</p> 
 <p>amount DECIMAL(6,2);</p> 
 <p>在此示例中，amount列最多可以存储6位数字，小数位数为2位; 因此，amount列的范围是从-9999.99到9999.99。</p> 
 <p>MySQL允许使用以下语法：</p> 
 <p>column_name DECIMAL(P);</p> 
 <p>这相当于：</p> 
 <p>column_name DECIMAL(P,0);</p> 
 <p>在这种情况下，列不包含小数部分或小数点。</p> 
 <p>此外，我们甚至可以使用以下语法。</p> 
 <p>column_name DECIMAL;</p> 
 <p>在这种情况下，P的默认值为10。</p> 
 <p>MySQL DECIMAL存储</p> 
 <p>MySQL分别为整数和小数部分分配存储空间。 MySQL使用二进制格式存储DECIMAL值。它将9位数字包装成4个字节。</p> 
 <p>对于每个部分，需要4个字节来存储9位数的每个倍数。剩余数字所需的存储如下表所示：</p> 
 <p>剩余数字</p> 
 <p>位</p> 
 <p>0</p> 
 <p>0</p> 
 <p>1–2</p> 
 <p>1</p> 
 <p>3–4</p> 
 <p>2</p> 
 <p>5–6</p> 
 <p>3</p> 
 <p>7-9</p> 
 <p>4</p> 
 <p>例如，DECIMAL(19,9)对于小数部分具有9位数字，对于整数部分具有(19位-9位) = 10位数字，小数部分需要4个字节。 整数部分对于前9位数字需要4个字节，1个剩余字节需要1个字节。DECIMAL(19,9)列总共需要9个字节。</p> 
 <p>MySQL DECIMAL数据类型和货币数据</p> 
 <p>经常使用DECIMAL数据类型的货币数据，如价格，工资，账户余额等。如果要设计一个处理货币数据的数据库，则可参考以下语法：</p> 
 <p>amount DECIMAL(19,2);</p> 
 <p>但是，如果您要遵守公认会计原则(GAAP)规则，则货币栏必须至少包含4位小数，以确保舍入值不超过$0.01。 在这种情况下，应该定义具有4位小数的列，如下所示：</p> 
 <p>amount DECIMAL(19,4);</p> 
 <p>MySQL DECIMAL数据类型示例</p> 
 <p>首先，创建一个名为test_order的新表，其中包含三列：id，description和cost。</p> 
 <p>CREATE TABLE test_order (</p> 
 <p>id INT AUTO_INCREMENT PRIMARY KEY,</p> 
 <p>description VARCHAR(255),</p> 
 <p>cost DECIMAL(19,4) NOT NULL</p> 
 <p>);</p> 
 <p>第二步，将资料插入test_order表。</p> 
 <p>INSERT INTO test_order(description,cost)</p> 
 <p>VALUES('Bicycle', 500.34),('Seat',10.23),('Break',5.21);</p> 
 <p>第三步，从test_order表查询数据。</p> 
 <p>SELECT * from test_order</p> 
 <p>查询结果：</p> 
 <p align="center"><img src="https://images2.imgbox.com/a4/e7/cNe17Bge_o.png" alt="1593e86f09f4f5ac1b89660c1e853c9e.png"></p> 
 <p>第四步，更改cost列以包含ZEROFILL属性。</p> 
 <p>ALTER TABLE test_order</p> 
 <p>MODIFY cost DECIMAL(19,4) zerofill;</p> 
 <p>第五步，再次查询test_order表。</p> 
 <p>SELECT * from test_order</p> 
 <p>查询结果：</p> 
 <p align="center"><img src="https://images2.imgbox.com/ba/d0/GQejb45T_o.png" alt="d8dbff9b3d0daa2c5caf733c49a506de.png"></p> 
 <p>如上所见，在输出值中填充了许多零。</p> 
 <p>因为zerofill，当我们插入负值会报错：</p> 
 <p>INSERT INTO test_order(description,cost)</p> 
 <p>VALUES('test', -100.11);</p> 
 <p>提示：</p> 
 <p>[SQL]INSERT INTO test_order(description,cost)</p> 
 <p>VALUES('test', -100.11)</p> 
 <p>[Err] 1264 - Out of range value for column 'cost' at row 1</p> 
 <p>其它插入测试结论：</p> 
 <p>当数值在其取值范围之内，小数位多了，则四舍五入后直接截断多出的小数位。</p> 
 <p>若数值在其取值范围之外，则直接报Out of range value错误。</p> 
 <p>摘自：</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3727f2a7f1fd8df06edca18aecd7d3e4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java beetl 视频_04.Beetl常用内置函数以及安全输出---《Beetl视频课程》</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f73389c85b895b4e0e0245e4688fce16/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oauth2.0与单点登录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>