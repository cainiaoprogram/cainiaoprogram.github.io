<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>毕业设计Day4--MyBatis数据库连接测试 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="毕业设计Day4--MyBatis数据库连接测试" />
<meta property="og:description" content="文章目录 测试数据库是否连接将application.properties后缀更改为yml，节省代码在数据库中创建表插入数据设置entity包并书写User实体类①使用alt&#43;insert快捷键迅速填充get/set方法②使用@Data注解，自动代替get/set方法 定义Mapper包，定义数据库的查询接口要想使用GetMapping注解，必须先添加@RestController注解！写任何注解前都要添加RestController注解！！ Controller包idea的Debugdebug过程debug后需要把断点去掉！ 测试数据库是否连接 将application.properties后缀更改为yml，节省代码 对比：
propeties：
**yml：**冒号后面要空一格！！！
在数据库中创建表 表名sys_user
插入数据 设置entity包并书写User实体类 ①使用alt&#43;insert快捷键迅速填充get/set方法 ②使用@Data注解，自动代替get/set方法 此时就无需书写get/set方法，但可以在其他地方直接使用get/set方法
类似还有
@NoArgsConstructor代替无参构造函数
@AllArgsConstructor代替有参构造函数
定义Mapper包，定义数据库的查询接口 与数据库进行交互
定义一个查询所有数据的函数
使用MyBatis提供的select注解
@Mapper可以把UserMapper这个bean注入到spring boot，即可以直接使用UserMapper类，如下图
要想使用GetMapping注解，必须先添加@RestController注解！ @AutoWired注解可以向spring中注入userMapper类，生成对应bean
此时，运行9090端口，即可出现数据库中对应数据
即表示数据库连接成功
写任何注解前都要添加RestController注解！！ Controller包 定义专门的controller包
如下将刚刚写的代码复制到UserController中
package com.ww.car.controller; import com.ww.car.entity.User; import com.ww.car.mapper.UserMapper; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RestController; import java.util.List; @RestController public class UserController { @Autowired private UserMapper userMapper; @GetMapping(&#34;/&#34;) public List&lt;User&gt; index(){ return userMapper.findAll(); } } 运行后与之前界面相同
idea的Debug debug过程 运行按钮旁边的小虫子即为debug按钮
在任意一行代码前标红（此行代码不能只有括号），即在此行代码处打断点" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/48d4947baed8fb9baaebbf385f597ce6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-26T15:33:37+08:00" />
<meta property="article:modified_time" content="2023-06-26T15:33:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">毕业设计Day4--MyBatis数据库连接测试</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_1" rel="nofollow">测试数据库是否连接</a></li><li><ul><li><a href="#applicationpropertiesyml_2" rel="nofollow">将application.properties后缀更改为yml，节省代码</a></li><li><a href="#_16" rel="nofollow">在数据库中创建表</a></li><li><a href="#_21" rel="nofollow">插入数据</a></li><li><a href="#entityUser_25" rel="nofollow">设置entity包并书写User实体类</a></li><li><ul><li><a href="#altinsertgetset_29" rel="nofollow">①使用alt+insert快捷键迅速填充get/set方法</a></li><li><a href="#Datagetset_33" rel="nofollow">②使用@Data注解，自动代替get/set方法</a></li></ul> 
    </li><li><a href="#Mapper_40" rel="nofollow">定义Mapper包，定义数据库的查询接口</a></li><li><ul><li><a href="#GetMappingRestController_52" rel="nofollow">要想使用GetMapping注解，必须先添加@RestController注解！</a></li><li><a href="#RestController_59" rel="nofollow">写任何注解前都要添加RestController注解！！</a></li></ul> 
   </li></ul> 
   </li><li><a href="#Controller_61" rel="nofollow">Controller包</a></li><li><a href="#ideaDebug_92" rel="nofollow">idea的Debug</a></li><li><ul><li><a href="#debug_94" rel="nofollow">debug过程</a></li><li><a href="#debug_121" rel="nofollow">debug后需要把断点去掉！</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_1"></a>测试数据库是否连接</h3> 
<h4><a id="applicationpropertiesyml_2"></a>将application.properties后缀更改为yml，节省代码</h4> 
<p>对比：<br> <strong>propeties：</strong></p> 
<p><img src="https://images2.imgbox.com/95/0b/mdK8dwkJ_o.png" alt="在这里插入图片描述"><br> **yml：**<strong>冒号后面要空一格！！！</strong></p> 
<p><img src="https://images2.imgbox.com/65/c7/CnVFoHRE_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_16"></a>在数据库中创建表</h4> 
<p>表名sys_user<br> <img src="https://images2.imgbox.com/53/0d/cLMaegno_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_21"></a>插入数据</h4> 
<p><img src="https://images2.imgbox.com/65/2d/OVZsSnGd_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="entityUser_25"></a>设置entity包并书写User实体类</h4> 
<p><img src="https://images2.imgbox.com/b2/69/1nyS46rn_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="altinsertgetset_29"></a>①使用alt+insert快捷键迅速填充get/set方法</h5> 
<p><img src="https://images2.imgbox.com/66/ec/7n7Oy3hW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="Datagetset_33"></a>②使用@Data注解，自动代替get/set方法</h5> 
<p><img src="https://images2.imgbox.com/c0/d8/SSXRGGk0_o.png" alt="在这里插入图片描述"><br> 此时就无需书写get/set方法，但可以在其他地方直接使用get/set方法<br> 类似还有<br> @NoArgsConstructor代替无参构造函数<br> @AllArgsConstructor代替有参构造函数</p> 
<h4><a id="Mapper_40"></a>定义Mapper包，定义数据库的查询接口</h4> 
<p>与数据库进行交互<br> <img src="https://images2.imgbox.com/6a/84/MdTvnupo_o.png" alt="在这里插入图片描述"><br> <strong>定义一个查询所有数据的函数</strong><br> 使用MyBatis提供的select注解</p> 
<p><img src="https://images2.imgbox.com/b8/48/k9uemslb_o.png" alt="在这里插入图片描述"></p> 
<p><strong>@Mapper可以把UserMapper这个bean注入到spring boot，即可以直接使用UserMapper类，如下图</strong></p> 
<p><img src="https://images2.imgbox.com/8b/f8/uAV7pczJ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="GetMappingRestController_52"></a>要想使用GetMapping注解，必须先添加@RestController注解！</h5> 
<p><strong>@AutoWired注解可以向spring中注入userMapper类，生成对应bean<br> 此时，运行9090端口，即可出现数据库中对应数据</strong></p> 
<p><img src="https://images2.imgbox.com/f7/eb/N800wsU0_o.png" alt="在这里插入图片描述"><br> 即表示数据库连接成功</p> 
<h5><a id="RestController_59"></a>写任何注解前都要添加RestController注解！！</h5> 
<h3><a id="Controller_61"></a>Controller包</h3> 
<p>定义专门的controller包<br> 如下将刚刚写的代码复制到UserController中</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ww<span class="token punctuation">.</span>car<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ww<span class="token punctuation">.</span>car<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ww<span class="token punctuation">.</span>car<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">UserMapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserMapper</span> userMapper<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

        <span class="token keyword">return</span> userMapper<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>运行后与之前界面相同</strong></p> 
<h3><a id="ideaDebug_92"></a>idea的Debug</h3> 
<h4><a id="debug_94"></a>debug过程</h4> 
<p>运行按钮旁边的小虫子即为debug按钮<br> <img src="https://images2.imgbox.com/c3/99/OyPe0xyA_o.png" alt="在这里插入图片描述"></p> 
<p><strong>在任意一行代码前标红（此行代码不能只有括号），即在此行代码处打断点</strong></p> 
<p><img src="https://images2.imgbox.com/34/36/SpCIHwdy_o.png" alt="在这里插入图片描述"></p> 
<p><strong>此时运行程序，程序会自动跳到该行代码上</strong></p> 
<p><img src="https://images2.imgbox.com/a2/15/Zahdx1Nl_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/6a/7c/7sMuPOH5_o.png" alt="在这里插入图片描述"></p> 
<p><strong>表明springboot中存在代理对象，userMapper对象真实存在于springboot</strong><br> 点击<strong>单步执行</strong>按钮</p> 
<p><img src="https://images2.imgbox.com/ea/e8/rloLOK6O_o.png" alt="在这里插入图片描述"></p> 
<p><strong>此时可以看到数据库中弹出的数据</strong></p> 
<p><img src="https://images2.imgbox.com/65/7c/V3RvTIrD_o.png" alt="在这里插入图片描述"></p> 
<p><strong>此过程即为debug</strong></p> 
<h4><a id="debug_121"></a>debug后需要把断点去掉！</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cee53642b3e8957e10cdf6b3fb1e3fdd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Jmeter教程】_事务控制器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6d0a8ec38beb2bcf160795e01555b1a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ESP32-S3 V5.0.2 flash 手动生成密钥加密 _By星年（已验证）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>