<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MindSpore1.10.1安装步骤详解（Ubuntu20.04&#43;3080Ti&#43;CUDA11.1&#43;Python3.8） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MindSpore1.10.1安装步骤详解（Ubuntu20.04&#43;3080Ti&#43;CUDA11.1&#43;Python3.8）" />
<meta property="og:description" content="MindSpore1.10.1安装步骤详解（Ubuntu20.04&#43;3080Ti） 背景说明安装Ubuntu20.04&#43;3080Ti驱动安装CUDA所需依赖下载并安装CUDA11.1（☆☆非常关键☆☆）下载并安装cuDNN安装Python3.8安装GCC安装MindSpore验证MindSpore安装成功 背景说明 我是一名高中信息技术教师，带来学生参加了第二届长三角人工智能挑战赛——主赛道算法擂台，很幸运获得了一等奖，比赛中使用到了华为旗下的MindSpore人工智能框架。
在AI全面普及的当下，为提升自己的能力水平，打算深入学习一下MindSpore相关的知识，第一步就是安装MindSpore了。
所使用的操作系统为Ubuntu20.04，显卡3080Ti，CUDA11.1，Python3.8，MindSpore1.10.1，手动安装。参照MindSpore官网的安装说明，有会一些坑，经常多次尝试，还是成功安装了，
在此把经验总结一下并分享给大家，供爱好者学习。若有不正之处，望予以指出，谢谢。
安装Ubuntu20.04&#43;3080Ti驱动 Ubuntu20.04的安装这里就不详细说，大家可以参考网上的相关文章。
接下去安装3080Ti驱动，建议通过Ubuntu20.04自带的“软件和更新”功能去安装，如下图。
我安装的是525的版本，是能够安装的最新版了。安装成功之后，可以在终端窗口中输入“nvidia-smi”来验证驱动的是否成功和CUDA版本，如下图。
可以看到525的驱动安装后，CUDA的版本是12.0，其实CUDA是可以向下兼容的。官网上说CUDA11.1，准确地说是CUDA的最低版本为11.1。若已安装了高版本的CUDA，则需要安装CUAD11.1中除驱动之外的其他东西（后续会有详细说明）
安装CUDA所需依赖 参照MindSpore官网安装CUDA所需依赖，使用命令如下：
sudo apt-get install linux-headers-$(uname -r) gcc-7
安装截图如下：
下载并安装CUDA11.1（☆☆非常关键☆☆） 参照MindSpore官网给出的命令下载CUDA11.1：
wget https://developer.download.nvidia.com/compute/cuda/11.1.1/local_installers/cuda_11.1.1_455.32.00_linux.run
下载成功后，如图：
参照MindSpore官网给出的命令安装CUDA11.1：
sudo sh cuda_11.1.1_455.32.00_linux.run，如图：
点击“Continue”继续，如图：
输入“accept”并回车，如图：
去掉驱动的安装，安装其他选项，如图：
CUDA11.1安装成功，如图：
根据MindSpore官网给出的命令，添加环境变量，如图：
echo -e &#34;export PATH=/usr/local/cuda-11.1/bin:\$PATH&#34; &gt;&gt; ~/.bashrc echo -e &#34;export LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:\$LD_LIBRARY_PATH&#34; &gt;&gt; ~/.bashrc source ~/.bashrc 下载并安装cuDNN 在cuDNN页面登录并下载对应的cuDNN安装包（需要NVIDIA账号），根据MindSpore官网的说明，下载cuDNN v8.0.x，如图：
官网上说下载的是一个tgz的包，但实际下载后是tar.xz的包，如图：
无所谓啦，反正都是压缩包，解压即可。为方便之后命令操作，把解压得到的文件夹重命名为cudnn，如图：
在文件夹cudnn里有一个include文件夹，一个lib文件夹，和一个LICENSE文件，如图：
根据MindSpore官网的说明，接下去就是复制文件了，具体命令如下：
最奇怪的是，文件夹明明是cudnn，怎么变成了cuda，也没有“lib64”文件夹啊，只有lib。因此修改了一下这两条命令，如下：
sudo cp cudnn/include/cudnn.h /usr/local/cuda-11.1/include sudo cp cudnn/lib/libcudnn* /usr/local/cuda-11.1/lib64 望MindSpore官网能修正一下。
再执行下一条命令
sudo chmod a&#43;r /usr/local/cuda-11." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/aecea91b903bffc9603f97e2fa2e2189/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-08T18:23:28+08:00" />
<meta property="article:modified_time" content="2023-03-08T18:23:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MindSpore1.10.1安装步骤详解（Ubuntu20.04&#43;3080Ti&#43;CUDA11.1&#43;Python3.8）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>MindSpore1.10.1安装步骤详解（Ubuntu20.04+3080Ti）</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">背景说明</a></li><li><a href="#Ubuntu20043080Ti_10" rel="nofollow">安装Ubuntu20.04+3080Ti驱动</a></li><li><a href="#CUDA_21" rel="nofollow">安装CUDA所需依赖</a></li><li><a href="#CUDA111_26" rel="nofollow">下载并安装CUDA11.1（☆☆非常关键☆☆）</a></li><li><a href="#cuDNN_48" rel="nofollow">下载并安装cuDNN</a></li><li><a href="#Python38_70" rel="nofollow">安装Python3.8</a></li><li><a href="#GCC_81" rel="nofollow">安装GCC</a></li><li><a href="#MindSpore_87" rel="nofollow">安装MindSpore</a></li><li><a href="#MindSpore_111" rel="nofollow">验证MindSpore安装成功</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>背景说明</h3> 
<p>我是一名高中信息技术教师，带来学生参加了第二届长三角人工智能挑战赛——主赛道算法擂台，很幸运获得了一等奖，比赛中使用到了华为旗下的MindSpore人工智能框架。<br> 在AI全面普及的当下，为提升自己的能力水平，打算深入学习一下MindSpore相关的知识，第一步就是安装MindSpore了。<br> <img src="https://images2.imgbox.com/ac/f8/WMylz6NP_o.png" alt="安装选项"><br> 所使用的操作系统为Ubuntu20.04，显卡3080Ti，CUDA11.1，Python3.8，MindSpore1.10.1，手动安装。参照MindSpore官网的安装说明，有会一些坑，经常多次尝试，还是成功安装了，<br> 在此把经验总结一下并分享给大家，供爱好者学习。若有不正之处，望予以指出，谢谢。</p> 
<h3><a id="Ubuntu20043080Ti_10"></a>安装Ubuntu20.04+3080Ti驱动</h3> 
<p>Ubuntu20.04的安装这里就不详细说，大家可以参考网上的相关文章。<br> <img src="https://images2.imgbox.com/07/b3/dPKOSnMN_o.png" alt="Ubuntu20.04安装成功"></p> 
<p>接下去安装3080Ti驱动，建议通过Ubuntu20.04自带的“软件和更新”功能去安装，如下图。<br> <img src="https://images2.imgbox.com/ef/0f/3ufWGhl3_o.png" alt="安装3080Ti驱动"><br> 我安装的是525的版本，是能够安装的最新版了。安装成功之后，可以在终端窗口中输入“nvidia-smi”来验证驱动的是否成功和CUDA版本，如下图。<br> <img src="https://images2.imgbox.com/65/16/ESpoLwBK_o.png" alt="驱动安装+CUDA版本"><br> 可以看到525的驱动安装后，CUDA的版本是12.0，其实CUDA是可以向下兼容的。官网上说CUDA11.1，准确地说是CUDA的最低版本为11.1。若已安装了高版本的CUDA，则需要安装CUAD11.1中除驱动之外的其他东西（后续会有详细说明）</p> 
<h3><a id="CUDA_21"></a>安装CUDA所需依赖</h3> 
<p>参照MindSpore官网安装CUDA所需依赖，使用命令如下：<br> <code>sudo apt-get install linux-headers-$(uname -r) gcc-7</code><br> 安装截图如下：<br> <img src="https://images2.imgbox.com/c6/1c/C1bqP7IJ_o.png" alt="成功安装CUDA所需依赖"></p> 
<h3><a id="CUDA111_26"></a>下载并安装CUDA11.1（☆☆非常关键☆☆）</h3> 
<p>参照MindSpore官网给出的命令下载CUDA11.1：<br> <code>wget https://developer.download.nvidia.com/compute/cuda/11.1.1/local_installers/cuda_11.1.1_455.32.00_linux.run</code><br> 下载成功后，如图：<img src="https://images2.imgbox.com/54/bf/kLwmr6sB_o.png" alt="成功下载CUDA11.1"><br> 参照MindSpore官网给出的命令安装CUDA11.1：<br> <code>sudo sh cuda_11.1.1_455.32.00_linux.run</code>，如图：<br> <img src="https://images2.imgbox.com/fe/ec/W3pDnEYP_o.png" alt="安装CUDA11.1-01"><br> 点击“Continue”继续，如图：<br> <img src="https://images2.imgbox.com/ad/7e/8YHDST3X_o.png" alt="安装CUDA11.1-02"><br> 输入“accept”并回车，如图：<br> <img src="https://images2.imgbox.com/aa/0f/RhGyMB2v_o.png" alt="安装CUDA11.1-03"><br> 去掉驱动的安装，安装其他选项，如图：<br> <img src="https://images2.imgbox.com/fc/23/bLgMwc7c_o.png" alt="安装CUDA11.1-04"><br> CUDA11.1安装成功，如图：<br> <img src="https://images2.imgbox.com/2e/36/Yod4DY0R_o.png" alt="CUDA11.1安装成功"><br> 根据MindSpore官网给出的命令，添加环境变量，如图：</p> 
<pre><code>echo -e "export PATH=/usr/local/cuda-11.1/bin:\$PATH" &gt;&gt; ~/.bashrc
echo -e "export LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:\$LD_LIBRARY_PATH" &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre> 
<p><img src="https://images2.imgbox.com/37/b3/VE3DdE6O_o.png" alt="CUDA11.1.1安装后添加环境变量"></p> 
<h3><a id="cuDNN_48"></a>下载并安装cuDNN</h3> 
<p>在cuDNN页面登录并下载对应的cuDNN安装包（需要NVIDIA账号），根据MindSpore官网的说明，下载cuDNN v8.0.x，如图：<br> <img src="https://images2.imgbox.com/19/d9/asBqfpZG_o.png" alt="下载cuDNN安装包"><br> 官网上说下载的是一个tgz的包，但实际下载后是tar.xz的包，如图：<br> <img src="https://images2.imgbox.com/bd/72/w2bcbaQE_o.png" alt="下载的cuDNN安装包文件名"><br> 无所谓啦，反正都是压缩包，解压即可。为方便之后命令操作，把解压得到的文件夹重命名为cudnn，如图：<br> <img src="https://images2.imgbox.com/d8/d6/X0l29oBp_o.png" alt="解压重命名cuDNN"><br> 在文件夹cudnn里有一个include文件夹，一个lib文件夹，和一个LICENSE文件，如图：<br> <img src="https://images2.imgbox.com/32/96/AUOQYAre_o.png" alt="文件夹cuDNN里的内容"><br> 根据MindSpore官网的说明，接下去就是复制文件了，具体命令如下：<br> <img src="https://images2.imgbox.com/6f/a1/0FNQzi4W_o.jpg" alt="16MindSpore官网命令"><br> 最奇怪的是，文件夹明明是cudnn，怎么变成了cuda，也没有“lib64”文件夹啊，只有lib。因此修改了一下这两条命令，如下：</p> 
<pre><code>sudo cp cudnn/include/cudnn.h /usr/local/cuda-11.1/include
sudo cp cudnn/lib/libcudnn* /usr/local/cuda-11.1/lib64
</code></pre> 
<p>望MindSpore官网能修正一下。<br> 再执行下一条命令</p> 
<pre><code>sudo chmod a+r /usr/local/cuda-11.1/include/cudnn.h /usr/local/cuda-11.1/lib64/libcudnn*
</code></pre> 
<h3><a id="Python38_70"></a>安装Python3.8</h3> 
<p>由于Ubuntu20.04自带Python3.8，因此这里就可以直接跳过。但需要安装一下pip，可以使用以下命令：</p> 
<pre><code>sudo apt install python3-pip
</code></pre> 
<p><img src="https://images2.imgbox.com/49/e2/1xMhjTBq_o.png" alt="安装python3-pip"></p> 
<p>可以通过如下命令在查看所安装的Python版本。</p> 
<pre><code>python3 --version
</code></pre> 
<h3><a id="GCC_81"></a>安装GCC</h3> 
<p>根据MindSpore官网的说明，使用如下命令安装GCC（其实在最前面已安装了）：</p> 
<pre><code>sudo apt-get install gcc -y
</code></pre> 
<h3><a id="MindSpore_87"></a>安装MindSpore</h3> 
<p>根据MindSpore官网的说明，使用如下命令安装MindSpore1.10.1：</p> 
<pre><code>export MS_VERSION=1.10.1
pip install https://ms-release.obs.cn-north-4.myhuaweicloud.com/${MS_VERSION}/MindSpore/gpu/x86_64/cuda-11.1/mindspore_gpu-${MS_VERSION/-/}-cp38-cp38-linux_x86_64.whl --trusted-host ms-release.obs.cn-north-4.myhuaweicloud.com -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre> 
<p><img src="https://images2.imgbox.com/b5/1a/0DMlrFMO_o.png" alt="安装MindSpore"><br> 安装成功后，如图：<br> <img src="https://images2.imgbox.com/a4/3f/lXZGrSAR_o.png" alt="MindSpore安装成功"><br> 运行MindSpore GPU版本前，请确保nvcc的安装路径已经添加到PATH与LD_LIBRARY_PATH环境变量中，如果没有添加，以安装在默认路径的CUDA11为例，可以执行如下操作：</p> 
<pre><code>export PATH=/usr/local/cuda-11.1/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda-11.1/lib64:$LD_LIBRARY_PATH
</code></pre> 
<p>如果安装了其他CUDA版本或者CUDA安装路径不同，只需替换上述命令中的/usr/local/cuda-11.1为当前安装的CUDA路径。</p> 
<p>另外，在MindSpore安装中，会有两句Warning，如图。<br> <img src="https://images2.imgbox.com/a9/8a/YEcveVmR_o.jpg" alt="安装MindSpore两句Warning"></p> 
<p>其实也是环境变量未添加的原因，只需运行如下命令即可，如图。</p> 
<pre><code>export PATH=/home/zzm/.local/bin:$PATH
</code></pre> 
<p><img src="https://images2.imgbox.com/0b/69/BAVOaS2g_o.png" alt="安装MindSpore警告修正"></p> 
<h3><a id="MindSpore_111"></a>验证MindSpore安装成功</h3> 
<p>验证方法一，输入命令</p> 
<pre><code>python3 -c "import mindspore;mindspore.run_check()"
</code></pre> 
<p>输出MindSpore的版本号，如图：<br> <img src="https://images2.imgbox.com/a1/83/7gMhklqc_o.png" alt="验证MindSpore安装成功方法一"><br> 验证方法二，先在文本编辑器内，输入以下内容</p> 
<pre><code>import numpy as np
import mindspore as ms
import mindspore.ops as ops

ms.set_context(device_target="GPU")
x = ms.Tensor(np.ones([1,3,3,4]).astype(np.float32))
y = ms.Tensor(np.ones([1,3,3,4]).astype(np.float32))
print(ops.add(x, y))
</code></pre> 
<p>保存为一个py文件（MindSporeTest.py），如图：<br> <img src="https://images2.imgbox.com/9c/ba/G9b2aq6R_o.png" alt="测试文件MindSporeTest">在终端中，输入如下命令，运行此py文件</p> 
<pre><code>python3 MindSporeTest.py
</code></pre> 
<p>得到如图结果，则说明安装成功：<br> <img src="https://images2.imgbox.com/3b/7b/0TKMeOY2_o.png" alt="验证MindSpore安装成功方法二"><br> 以上内容经过本人亲测，若有不对，敬请谅解，欢迎批评指正！！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/595e3f93c6b69b10a09b915f9eedf9b5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用ant-design组件FormModel双向绑定数据时数据字段未定义(对象有嵌套子类)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/81e77dcf8ac3cf4aa5edf050530fba3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SpringBoot 如何将配置文件挂到 jar 包外面？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>