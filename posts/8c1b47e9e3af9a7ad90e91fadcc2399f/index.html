<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序使用日历需要禁用某些日期需求的实现 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序使用日历需要禁用某些日期需求的实现" />
<meta property="og:description" content="需求描述：
日历组件，某些日期被人选了，就不能再选，用一个颜色标记。用户可以选择部分能选的。
类似这样的需求图片。
办法1是，vant-ui 微信小程序插件 本身的日期组件是可以实现的。
具体方法：
&lt;van-calendar title=&#34;日历&#34; :show=&#34;true&#34; :formatter=&#34;formatter1&#34; color=&#34;#07c160&#34; type=&#34;range&#34; :show-confirm=&#34;false&#34; /&gt; 我们可以通过`formatter`来自定义渲染内容。 formatter1(day){ // 周日全天不可选 let week = day.date.getDay() if(week == 0){ day.type = &#39;disabled_yes&#39; // 很牛笔 很关键 } const month = day.date.getMonth() &#43; 1; const date = day.date.getDate(); if (month === 5) { if (date === 1) { day.topInfo = &#39;劳动节&#39;; } else if (date === 4) { day.topInfo = &#39;五四青年节&#39;; } else if (date === 11) { day." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8c1b47e9e3af9a7ad90e91fadcc2399f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-07T14:07:15+08:00" />
<meta property="article:modified_time" content="2021-07-07T14:07:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序使用日历需要禁用某些日期需求的实现</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>需求描述：</p> 
<p>日历组件，某些日期被人选了，就不能再选，用一个颜色标记。用户可以选择部分能选的。</p> 
<p><img src="https://images2.imgbox.com/1e/21/wZj4Od68_o.png" alt="在这里插入图片描述"><br> 类似这样的需求图片。</p> 
<p>办法1是，vant-ui 微信小程序插件 本身的日期组件是可以实现的。</p> 
<p>具体方法：</p> 
<pre><code class="prism language-js">
    <span class="token operator">&lt;</span>van<span class="token operator">-</span>calendar
    title<span class="token operator">=</span><span class="token string">"日历"</span>
    <span class="token operator">:</span>show<span class="token operator">=</span><span class="token string">"true"</span>
    <span class="token operator">:</span>formatter<span class="token operator">=</span><span class="token string">"formatter1"</span>
    color<span class="token operator">=</span><span class="token string">"#07c160"</span>
    type<span class="token operator">=</span><span class="token string">"range"</span>
    <span class="token operator">:</span>show<span class="token operator">-</span>confirm<span class="token operator">=</span><span class="token string">"false"</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>

</code></pre> 
<pre><code class="prism language-js">我们可以通过<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">formatter</span><span class="token template-punctuation string">`</span></span>来自定义渲染内容。

      <span class="token function">formatter1</span><span class="token punctuation">(</span><span class="token parameter">day</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
         <span class="token comment">// 周日全天不可选</span>
        <span class="token keyword">let</span> week <span class="token operator">=</span> day<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>week <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            day<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'disabled_yes'</span> <span class="token comment">// 很牛笔 很关键</span>
        <span class="token punctuation">}</span>
          <span class="token keyword">const</span> month <span class="token operator">=</span> day<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> date <span class="token operator">=</span> day<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>month <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          day<span class="token punctuation">.</span>topInfo <span class="token operator">=</span> <span class="token string">'劳动节'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          day<span class="token punctuation">.</span>topInfo <span class="token operator">=</span> <span class="token string">'五四青年节'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>date <span class="token operator">===</span> <span class="token number">11</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          day<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">'今天'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>day<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'start'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        day<span class="token punctuation">.</span>bottomInfo <span class="token operator">=</span> <span class="token string">'入住'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>day<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'end'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        day<span class="token punctuation">.</span>bottomInfo <span class="token operator">=</span> <span class="token string">'离店'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

        <span class="token keyword">return</span> day
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>重点： 通过formate函数，我们可以指定日期day.type的类型为<code>disabled</code> 那么，禁用的样式就是官方自己的默认的日期禁用样式。</p> 
<p>但是我们需要自定义禁用样式， 那么 day.type = 'day–disabled_yes’设置为一个自定义的名称， vant的组件会自动生成一个 <code>van-calendar__day--disabled_yes</code>的类名，然后 我们通过这个类名 自己写样式就行了。</p> 
<pre><code class="prism language-css"><span class="token selector">&lt;style&gt;
.van-calendar__day--disabled_yes</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span>  red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre> 
<p>最后的效果就是这样子</p> 
<p><img src="https://images2.imgbox.com/ca/ec/zKmK0UmI_o.png" alt="在这里插入图片描述"><br> 但是这种方法有个坑，formate函数，只会在当月执行，其他月份，需要点击月份才能触发，并且担心性能问题。 没有继续研究下去。</p> 
<p>方法二：使用wx_calendar这个改写<br> 源码地址：https://github.com/treadpit/wx_calendar<br> 源码文档：https://treadpit.github.io/wx_calendar/v1/guide.html#%E5%BF%AB%E9%80%9F%E6%8E%A5%E5%85%A5</p> 
<p>注意： 他有v1 和v2两个版本，方式不一样。 我使用的是v1版本</p> 
<p>将src/component/calendar这个目录下的文件全部拷贝到自己的组件目录。</p> 
<p>我的是wepy2框架 都可以直接拷贝，原生小程序当然也可以直接用。</p> 
<p>文档可以传入我们需要禁用的日期</p> 
<p>使用示例demo</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container-wrap"</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>calendar calendarConfig<span class="token operator">=</span><span class="token string">"{<!-- -->{calendarConfig}}"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token keyword">import</span> wepy <span class="token keyword">from</span> <span class="token string">'@wepy/core'</span>

<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>

<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> disableDay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../components/calendar/main.js'</span>
wepy<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  store<span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    calendarConfig<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      multi<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      disableMode<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 禁用某一天之前/之后的所有日期</span>
        type<span class="token operator">:</span> <span class="token string">'before'</span>  <span class="token comment">// [‘before’, 'after']</span>
        <span class="token comment">// date: '2020-03-24', // 无该属性或该属性值为假，则默认为当天</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      onlyShowCurrentMonth<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token comment">// defaultDay: '2018-3-6'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// jump(2018, 6, 6)</span>
      <span class="token function">disableDay</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
          month<span class="token operator">:</span> <span class="token string">'06'</span><span class="token punctuation">,</span>
          day<span class="token operator">:</span> <span class="token string">'08'</span><span class="token punctuation">,</span>
          <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'lock'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
          month<span class="token operator">:</span> <span class="token string">'06'</span><span class="token punctuation">,</span>
          day<span class="token operator">:</span> <span class="token string">'27'</span><span class="token punctuation">,</span>
          <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'lock'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>config<span class="token operator">&gt;</span>
<span class="token punctuation">{<!-- --></span>
    navigationBarTitleText<span class="token operator">:</span> <span class="token string">'demo'</span><span class="token punctuation">,</span>
    usingComponents<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string">"calendar"</span><span class="token operator">:</span> <span class="token string">"../components/calendar/index"</span><span class="token punctuation">,</span>
      <span class="token string">'noData'</span><span class="token operator">:</span><span class="token string">'../components/noData'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>config<span class="token operator">&gt;</span>
</code></pre> 
<p>我们传入给组件的禁用日期数据多写了一个<code>class:'lock'</code> 属性，<br> 我们再需要改写一下组件的源码：<br> calendar/func/day.js</p> 
<pre><code class="prism language-js">  <span class="token comment">/**
   * 禁用指定日期
   * @param {array} dates  禁用
   */</span>
  <span class="token function">disableDays</span><span class="token punctuation">(</span><span class="token parameter">dates</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> disableDays <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> days <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'calendar'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>dates<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'disableDays 参数为数组'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> _disableDays <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dates<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      _disableDays <span class="token operator">=</span> <span class="token function">uniqueArrayByDate</span><span class="token punctuation">(</span>dates<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>disableDays<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> disableDaysCol <span class="token operator">=</span> _disableDays<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">// console.log('disableDaysCol', disableDaysCol)</span>
      <span class="token comment">// console.log('days', days)</span>
      days<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> cur <span class="token operator">=</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token comment">// if (disableDaysCol.includes(cur)) item.disable = true    // 原来的逻辑</span>
        <span class="token comment">// ++++++ 新增逻辑 sart +++++++</span>
        disableDaysCol<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            item<span class="token punctuation">.</span>disable <span class="token operator">=</span> <span class="token boolean">true</span>
            item<span class="token punctuation">.</span>class <span class="token operator">=</span> _disableDays<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>class <span class="token operator">?</span> _disableDays<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>class <span class="token operator">:</span> <span class="token string">''</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token comment">// ++++++ 新增逻辑 end +++++++</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      days<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        item<span class="token punctuation">.</span>disable <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token string">'calendar.days'</span><span class="token operator">:</span> days<span class="token punctuation">,</span>
      <span class="token string">'calendar.disableDays'</span><span class="token operator">:</span> _disableDays
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>我们把我们想出入的类名就传进去了。并且，会把这个类型渲染到日期上面。</p> 
<p>然后我们添加这个自定义样式：</p> 
<pre><code class="prism language-css"><span class="token selector">.default_date-disable.lock</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>calendar/func/runder.js</p> 
<pre><code class="prism language-js"><span class="token comment">/**
   * 设置日历面板数据
   * @param {number} year 年份
   * @param {number} month  月份
   * @param {number} curDate  日期
   * @param {boolean} disableSelect 是否禁用选中
   */</span>
  <span class="token function">calculateDays</span><span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> curDate<span class="token punctuation">,</span> disableSelect</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 避免切换日期时样式残影</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">resetDates</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> days <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
        disableDays <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        chooseAreaTimestamp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        selectedDay<span class="token operator">:</span> selectedDates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">'calendar'</span><span class="token punctuation">)</span>
      days <span class="token operator">=</span> <span class="token function">Day</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>Component<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">buildDate</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span>
      <span class="token keyword">let</span> selectedDay <span class="token operator">=</span> selectedDates
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>disableSelect<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        selectedDay <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setSelectedDay</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> curDate<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">const</span> selectedDayStr <span class="token operator">=</span> selectedDay<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> disableDaysStr <span class="token operator">=</span> disableDays<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'disableDaysStr'</span><span class="token punctuation">,</span> disableDaysStr<span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">[</span>areaStart<span class="token punctuation">,</span> areaEnd<span class="token punctuation">]</span> <span class="token operator">=</span> chooseAreaTimestamp
      days<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> cur <span class="token operator">=</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">const</span> timestamp <span class="token operator">=</span> <span class="token function">getDateTimeStamp</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>selectedDayStr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>disableSelect<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          item<span class="token punctuation">.</span>choosed <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>timestamp <span class="token operator">&gt;</span> areaEnd <span class="token operator">||</span> timestamp <span class="token operator">&lt;</span> areaStart<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">const</span> idx <span class="token operator">=</span> selectedDay<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>
              <span class="token parameter">selectedDate</span> <span class="token operator">=&gt;</span>
                getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>selectedDate<span class="token punctuation">)</span> <span class="token operator">===</span> getDate<span class="token punctuation">.</span><span class="token function">toTimeStr</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
            <span class="token punctuation">)</span>
            selectedDay<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>idx<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>
          areaStart <span class="token operator">&amp;&amp;</span>
          areaEnd <span class="token operator">&amp;&amp;</span>
          timestamp <span class="token operator">&gt;=</span> areaStart <span class="token operator">&amp;&amp;</span>
          timestamp <span class="token operator">&lt;=</span> areaEnd <span class="token operator">&amp;&amp;</span>
          <span class="token operator">!</span>disableSelect
        <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          item<span class="token punctuation">.</span>choosed <span class="token operator">=</span> <span class="token boolean">true</span>
          selectedDay<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// if (disableDaysStr.includes(cur)) item.disable = true  // 原来的逻辑</span>
        <span class="token comment">// ++++++ 新增逻辑 sart +++++++</span>
        disableDaysStr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">===</span> v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            item<span class="token punctuation">.</span>disable <span class="token operator">=</span> <span class="token boolean">true</span>
            item<span class="token punctuation">.</span>class <span class="token operator">=</span> disableDays<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>class <span class="token operator">?</span> disableDays<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>class <span class="token operator">:</span> <span class="token string">''</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
 		<span class="token comment">// ++++++ 新增逻辑 end +++++++</span>
        <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>
          disableDateTimestamp<span class="token punctuation">,</span>
          disableType
        <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__getDisableDateTimestamp</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">let</span> disabelByConfig <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>disableDateTimestamp<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>
            <span class="token punctuation">(</span>disableType <span class="token operator">===</span> <span class="token string">'before'</span> <span class="token operator">&amp;&amp;</span> timestamp <span class="token operator">&lt;</span> disableDateTimestamp<span class="token punctuation">)</span> <span class="token operator">||</span>
            <span class="token punctuation">(</span>disableType <span class="token operator">===</span> <span class="token string">'after'</span> <span class="token operator">&amp;&amp;</span> timestamp <span class="token operator">&gt;</span> disableDateTimestamp<span class="token punctuation">)</span>
          <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            disabelByConfig <span class="token operator">=</span> <span class="token boolean">true</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">const</span> isDisable <span class="token operator">=</span> disabelByConfig <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">__isDisable</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isDisable<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          item<span class="token punctuation">.</span>disable <span class="token operator">=</span> <span class="token boolean">true</span>
          item<span class="token punctuation">.</span>choosed <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token string">'calendar.days'</span><span class="token operator">:</span> days<span class="token punctuation">,</span>
          <span class="token string">'calendar.selectedDay'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>selectedDay<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

</code></pre> 
<p>最终的显示效果如下：<br> <img src="https://images2.imgbox.com/cc/a4/cyPJDS43_o.png" alt="在这里插入图片描述"><br> 红色就是我们传入的需要禁用的。灰色背景的，就是插件默认的禁用样式。</p> 
<p>整个组件的样式都是可以自定义修改的，具体就查看组件内的样式文件。</p> 
<h3><a id="calendar_v2_308"></a>使用calendar v2版本实现以上需求</h3> 
<p>第一步：把源码src/component/v2目录下的文件全部拷贝到自己的组件文件夹下，我的是<code>src/components/calendar2</code></p> 
<p>第二步：安装官方文档说的开干</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span><span class="token operator">&gt;</span>
<span class="token punctuation">.</span>default_date<span class="token operator">-</span>disable<span class="token punctuation">.</span>lock <span class="token punctuation">{<!-- --></span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 自定义样式</span>
<span class="token punctuation">.</span>orange<span class="token operator">-</span>date <span class="token punctuation">{<!-- --></span>
  background<span class="token operator">-</span>color<span class="token operator">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">248</span><span class="token punctuation">,</span> <span class="token number">238</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container-wrap"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>日历插件<span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>calendar calendarConfig<span class="token operator">=</span><span class="token string">"{<!-- -->{calendarConfig}}"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>日历插件<span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>calendar2 id<span class="token operator">=</span><span class="token string">"calendar"</span> config<span class="token operator">=</span><span class="token string">"{<!-- -->{calendarConfig2}}"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> wepy <span class="token keyword">from</span> <span class="token string">'@wepy/core'</span>

<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>

<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> disableDay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../components/calendar/main.js'</span>
<span class="token keyword">import</span> plugin <span class="token keyword">from</span> <span class="token string">'../components/calendar2/plugins/index.js'</span>
<span class="token keyword">import</span> selectable <span class="token keyword">from</span> <span class="token string">'../components/calendar2/plugins/selectable.js'</span>
plugin<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>selectable<span class="token punctuation">)</span> <span class="token comment">// 安装日期组件的插件</span>
wepy<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  store<span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    calendarConfig<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      multi<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      disableMode<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 禁用某一天之前/之后的所有日期</span>
        type<span class="token operator">:</span> <span class="token string">'before'</span>  <span class="token comment">// [‘before’, 'after']</span>
        <span class="token comment">// date: '2020-03-24', // 无该属性或该属性值为假，则默认为当天</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      onlyShowCurrentMonth<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token comment">// defaultDay: '2018-3-6'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    calendarConfig2<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      multi<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// theme: 'elegant',</span>
      <span class="token comment">// hideHeader: true,</span>
      emphasisWeek<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      chooseAreaMode<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      disableMode<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 禁用某一天之前/之后的所有日期</span>
        type<span class="token operator">:</span> <span class="token string">'before'</span>  <span class="token comment">// [‘before’, 'after']</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">)</span>
    <span class="token comment">// const calendar = this.$app.selectComponent('#calendar').calendar</span>
    <span class="token comment">// console.log('calendar', calendar)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token comment">// const pages = getCurrentPages()</span>
      <span class="token comment">// const currentPage = pages[pages.length - 1]</span>
      <span class="token comment">// console.log('this.calendar', currentPage)</span>
      <span class="token comment">// console.log('this.calendar', jump)</span>
      <span class="token comment">// jump(2018, 6, 6)</span>
      <span class="token function">disableDay</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
          month<span class="token operator">:</span> <span class="token string">'06'</span><span class="token punctuation">,</span>
          day<span class="token operator">:</span> <span class="token string">'08'</span><span class="token punctuation">,</span>
          lock<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'lock'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
          month<span class="token operator">:</span> <span class="token string">'06'</span><span class="token punctuation">,</span>
          day<span class="token operator">:</span> <span class="token string">'27'</span><span class="token punctuation">,</span>
          lock<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'lock'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onPullDownRefresh</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 调用刷新时将执行的方法</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'下拉刷新'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onReachBottom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// console.log('上拉加载')</span>

  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onPageScroll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'show'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> toSet <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        date<span class="token operator">:</span> <span class="token number">15</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        date<span class="token operator">:</span> <span class="token number">18</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
    <span class="token keyword">const</span> calendar <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$wx<span class="token punctuation">.</span><span class="token function">selectComponent</span><span class="token punctuation">(</span><span class="token string">'#calendar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>calendar
    calendar<span class="token punctuation">.</span><span class="token function">setSelectedDates</span><span class="token punctuation">(</span>toSet<span class="token punctuation">)</span>
    <span class="token keyword">const</span> toDis <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        date<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'orange-date'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        date<span class="token operator">:</span> <span class="token number">13</span><span class="token punctuation">,</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'orange-date'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        year<span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
        month<span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        date<span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'orange-date'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
    <span class="token comment">// 设置禁用日期</span>
    calendar<span class="token punctuation">.</span><span class="token function">disableDates</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2021-7-12'</span><span class="token punctuation">,</span> <span class="token string">'2021-7-13'</span><span class="token punctuation">,</span> <span class="token string">'2021-7-14'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment">// 设置自定义日期样式</span>
    calendar<span class="token punctuation">.</span><span class="token function">setDateStyle</span><span class="token punctuation">(</span>toDis<span class="token punctuation">)</span>
    <span class="token comment">// calendar.jump({year: 2018, month: 6, date: 6})</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onHide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>config<span class="token operator">&gt;</span>
<span class="token punctuation">{<!-- --></span>
    navigationBarTitleText<span class="token operator">:</span> <span class="token string">'demo'</span><span class="token punctuation">,</span>
    usingComponents<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token string">"calendar"</span><span class="token operator">:</span> <span class="token string">"../components/calendar/index"</span><span class="token punctuation">,</span>
       <span class="token string">"calendar2"</span><span class="token operator">:</span> <span class="token string">"../components/calendar2/index"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>config<span class="token operator">&gt;</span>

</code></pre> 
<p>v2版本的，我们就不需要手动去改源码了。因为，v2版本插件，提供了一个设置指定日期样式的方法<code>calendar.setDateStyle(toSet)</code><br> 所以，我们可以传入自定义的样式类名进去就行了。</p> 
<blockquote> 
 <p>注意：v2版本 官方有问题，有bug ，走不通。 最后方案还是用的v1实现的。</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d4cd8e092b5847cdaaa35501ef2c3033/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">el-tooltip不显示问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ae055090c9d4e6a105349db5ebc808f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python opencv 人脸检测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>