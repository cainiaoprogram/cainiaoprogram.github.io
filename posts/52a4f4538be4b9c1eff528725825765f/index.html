<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Air实现Go程序实时热加载 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Air实现Go程序实时热加载" />
<meta property="og:description" content="Air介绍 怎样才能在基于gin框架开发时实现实时加载功能呢？像这种烦恼肯定不会只是你一个人的烦恼，所以我报着肯定有现成轮子的心态开始了全网大搜索。果不其然就在Github上找到了一个工具：Air。它支持以下特性：
彩色日志输出自定义构建或二进制命令支持忽略子目录启动后支持监听新目录更好的构建过程 安装Air go get -u github.com/cosmtrek/air go install github.com/cosmtrek/air MacOS curl -fLo air https://git.io/darwin_air Linux curl -fLo air https://git.io/linux_air Windows curl -fLo air.exe https://git.io/windows_air Docker docker run -it --rm \ -w &#34;&lt;PROJECT&gt;&#34; \ -e &#34;air_wd=&lt;PROJECT&gt;&#34; \ -v $(pwd):&lt;PROJECT&gt; \ -p &lt;PORT&gt;:&lt;APP SERVER PORT&gt; \ cosmtrek/air -c &lt;CONF&gt; 然后按照下面的方式在docker中运行你的项目：
docker run -it --rm \ -w &#34;/go/src/github.com/cosmtrek/hub&#34; \ -v $(pwd):/go/src/github.com/cosmtrek/hub \ -p 9090:9090 \ cosmtrek/air 使用Air 首先进入你的项目目录：
cd /path/to/your_project 最简单的用法就是直接执行下面的命令：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/52a4f4538be4b9c1eff528725825765f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-11T20:46:23+08:00" />
<meta property="article:modified_time" content="2023-10-11T20:46:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Air实现Go程序实时热加载</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>Air介绍</h2> 
<p>怎样才能在基于gin框架开发时实现实时加载功能呢？像这种烦恼肯定不会只是你一个人的烦恼，所以我报着肯定有现成轮子的心态开始了全网大搜索。果不其然就在Github上找到了一个工具：<a href="https://github.com/cosmtrek/air" title="Air">Air</a>。它支持以下特性：</p> 
<ol><li>彩色日志输出</li><li>自定义构建或二进制命令</li><li>支持忽略子目录</li><li>启动后支持监听新目录</li><li>更好的构建过程</li></ol> 
<h2> 安装Air</h2> 
<pre><code class="hljs">go get -u github.com/cosmtrek/air
go install github.com/cosmtrek/air</code></pre> 
<h5 id="macos">MacOS</h5> 
<pre><code class="hljs">curl -fLo air https://git.io/darwin_air</code></pre> 
<h5 id="linux">Linux</h5> 
<pre><code class="hljs">curl -fLo air https://git.io/linux_air</code></pre> 
<h5 id="windows">Windows</h5> 
<pre><code class="hljs">curl -fLo air.exe https://git.io/windows_air</code></pre> 
<h5 id="docker">Docker</h5> 
<pre><code class="hljs">docker run -it --rm \
    -w "&lt;PROJECT&gt;" \
    -e "air_wd=&lt;PROJECT&gt;" \
    -v $(pwd):&lt;PROJECT&gt; \
    -p &lt;PORT&gt;:&lt;APP SERVER PORT&gt; \
    cosmtrek/air
    -c &lt;CONF&gt;</code></pre> 
<p>然后按照下面的方式在docker中运行你的项目：</p> 
<pre><code class="hljs">docker run -it --rm \
    -w "/go/src/github.com/cosmtrek/hub" \
    -v $(pwd):/go/src/github.com/cosmtrek/hub \
    -p 9090:9090 \
    cosmtrek/air</code></pre> 
<h2 id="autoid-0-2-1">使用Air</h2> 
<p>首先进入你的项目目录：</p> 
<pre><code class="hljs">cd /path/to/your_project</code></pre> 
<p>最简单的用法就是直接执行下面的命令：</p> 
<pre><code class="hljs"># 首先在当前目录下查找 `.air.conf`配置文件，如果找不到就使用默认的
air -c .air.conf</code></pre> 
<p>推荐的使用方法是：</p> 
<pre><code class="hljs"># 1. 在当前目录创建一个新的配置文件.air.conf
touch .air.conf

# 2. 复制 `air.conf.example` 中的内容到这个文件，然后根据你的需要去修改它

# 3. 使用你的配置运行 air, 如果文件名是 `.air.conf`，只需要执行 `air`。
air</code></pre> 
<p>.air.conf配置文件实例</p> 
<pre><code class="hljs"># [Air](https://github.com/cosmtrek/air) TOML 格式的配置文件

# 工作目录
# 使用 . 或绝对路径，请注意 `tmp_dir` 目录必须在 `root` 目录下
root = "."
tmp_dir = "tmp"

[build]
# 只需要写你平常编译使用的shell命令。你也可以使用 `make`
# Windows平台示例: cmd = "go build -o tmp\main.exe ."
cmd = "go build -o ./tmp/main ."
# 由`cmd`命令得到的二进制文件名
# Windows平台示例：bin = "tmp\main.exe"
bin = "tmp/main"
# 自定义执行程序的命令，可以添加额外的编译标识例如添加 GIN_MODE=release
# Windows平台示例：full_bin = "tmp\main.exe"
full_bin = "APP_ENV=dev APP_USER=air ./tmp/main"
# 监听以下文件扩展名的文件.
include_ext = ["go", "tpl", "tmpl", "html"]
# 忽略这些文件扩展名或目录
exclude_dir = ["assets", "tmp", "vendor", "frontend/node_modules"]
# 监听以下指定目录的文件
include_dir = []
# 排除以下文件
exclude_file = []
# 如果文件更改过于频繁，则没有必要在每次更改时都触发构建。可以设置触发构建的延迟时间
delay = 1000 # ms
# 发生构建错误时，停止运行旧的二进制文件。
stop_on_error = true
# air的日志文件名，该日志文件放置在你的`tmp_dir`中
log = "air_errors.log"

[log]
# 显示日志时间
time = true

[color]
# 自定义每个部分显示的颜色。如果找不到颜色，使用原始的应用程序日志。
main = "magenta"
watcher = "cyan"
build = "yellow"
runner = "green"

[misc]
# 退出时删除tmp目录
clean_on_exit = true</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dd30aa548d9f956e1cde180433a0fc64/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深度学习笔记之优化算法(八)Adam算法的简单认识</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11bf6a5cc87db544b39798ca46cb15f8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kubernetes使用OkHttp客户端进行网络负载均衡</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>