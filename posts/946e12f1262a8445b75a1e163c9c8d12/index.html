<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>编译mediastreamer2/ffmpeg/linphone(x86平台) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="编译mediastreamer2/ffmpeg/linphone(x86平台)" />
<meta property="og:description" content="--------------------------在x86环境下编译mediastreamer2的步骤-------------------------------------- 1）编译OGG库 音频编解码 http://www.xiph.org/downloads/ ./configure --prefix=/usr --disable-static 2）编译SPEEX 音频编解码 ./configure --prefix=/usr --disable-static --enable-fixed-point --disable-float-api --with-ogg=/usr 3）编译ORTP库 http://download.savannah.gnu.org/releases/linphone/ortp/sources/ ./configure --prefix=/usr --disable-static --------------------到此即可编译无视频支持mediastream------------------------- 编译mediastream： ./configure --prefix=/usr --disable-static --enable-macsnd=no --enable-video=no --enable-tests --disable-gsm PKG_CONFIG_PATH=/usr/lib/pkgconfig 4) 编译sdl Simple DirectMedia Layer多媒体开发包 ：http://www.libsdl.org/ ./configure --prefix=/usr --enable-shared 5) 编译lame MP3编码器 ：http://lame.sourceforge.net/download.php ./configure --prefix=/usr --enable-shared 6） 编译xvid MPEG-4视频编解码器：http://www.xvid.org/ cd xvidcore/build/generic ./configure --prefix=/usr --enable-shared make &amp; make install 7）编译yasm NASM assembler x264需要用到的汇编编译器：http://yasm.tortall.net/http://download.chinaunix.net/download/0013000/12166.shtml ./configure --prefix=/usr --enable-shared make &amp; make install 8）编译x264 http://download." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/946e12f1262a8445b75a1e163c9c8d12/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-03-13T14:06:42+08:00" />
<meta property="article:modified_time" content="2014-03-13T14:06:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">编译mediastreamer2/ffmpeg/linphone(x86平台)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    --------------------------在x86环境下编译mediastreamer2的步骤-------------------------------------- 
<br> 1）编译OGG库 音频编解码   http://www.xiph.org/downloads/  
<br> ./configure --prefix=/usr  --disable-static  
<br> 2）编译SPEEX  音频编解码 
<br> ./configure --prefix=/usr --disable-static --enable-fixed-point --disable-float-api  --with-ogg=/usr 
<br> 3）编译ORTP库   http://download.savannah.gnu.org/releases/linphone/ortp/sources/ 
<br> ./configure --prefix=/usr --disable-static  
<br> --------------------到此即可编译无视频支持mediastream------------------------- 
<br> 编译mediastream： 
<br> ./configure --prefix=/usr  --disable-static  --enable-macsnd=no --enable-video=no --enable-tests --disable-gsm PKG_CONFIG_PATH=/usr/lib/pkgconfig  
<br> 
<br> 
<br> 4) 编译sdl Simple DirectMedia Layer多媒体开发包 ：http://www.libsdl.org/ 
<br> ./configure --prefix=/usr --enable-shared  
<br> 
<br> 
<br> 5) 编译lame MP3编码器 ：http://lame.sourceforge.net/download.php 
<br> ./configure --prefix=/usr --enable-shared  
<br> 
<br> 
<br> 6） 编译xvid MPEG-4视频编解码器：http://www.xvid.org/ 
<br>   cd xvidcore/build/generic 
<br>  ./configure --prefix=/usr  --enable-shared 
<br>   make &amp; make install 
<br> 
<br> 
<br> 7）编译yasm   NASM assembler x264需要用到的汇编编译器：http://yasm.tortall.net/http://download.chinaunix.net/download/0013000/12166.shtml 
<br> ./configure --prefix=/usr  --enable-shared 
<br>   make &amp; make install 
<br> 
<br> 
<br> 8）编译x264 http://download.videolan.org/pub/videolan/x264/snapshots/ 
<br> ./configure --prefix=/usr  --enable-shared 
<br>   make &amp; make install 
<br> 
<br> 
<br> 9）编译apr    Apache可移植运行库，为上层的应用程序提供一个可以跨越多操作系统平台使用的底层支持接口库  http所需  http://apr.apache.org/download.cgi 
<br> ./configure --prefix=/usr  --enable-shared 
<br>   make &amp; make install 
<br> 
<br> 
<br> 10）编译 apr_util   http://apr.apache.org/download.cgi 
<br>  ./configure --prefix=/usr --with-apr=/usr --enable-shared 
<br> make &amp; install 
<br> 
<br> 
<br> 11）编译pcre  是一个Perl库，解决C语言中使用正则表达式的问题 ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/ 
<br>  ./configure --prefix=/usr --with-apr=/usr --enable-shared 
<br> make &amp; install 
<br> 
<br> 
<br> 12） 编译apache http  Web服务器端软件  http://www.apache.org http://mirror.bjtu.edu.cn/apache/httpd/ 
<br> ./configure --with-apr=/usr --with-apr-util=/usr --with-pcre=/usr --enable-shared --prefix=/usr 
<br> make &amp; install 
<br> 
<br> 
<br> 运行./http -k start 在浏览器输入http://192.168.1.XXX 测试是否安装成功，若成功则显示：It works! 
<br> 测试完后要关闭 ./http -k stop 
<br> 
<br> 
<br> 13) 编译 ffmpeg http://ffmpeg.org/download.html 
<br> ./configure --prefix=/usr --enable-shared --enable-libmp3lame --enable-shared --enable-libxvid --enable-gpl --enable-pthreads --enable-ffserver --enable-ffplay --enable-libx264 --enable-pthreads 
<br> 
<br> 
<p>--------------------------------至此 ffmpeg编译完成----------------------------------------------------------------------</p> 14）编译 mediastream http://mirror.yongbok.net/nongnu/linphone/mediastreamer/  
<br> ./configure --prefix=/usr  --disable-static   --enable-video=yes --enable-tests --disable-gsm  --enable-ffmpeg --enable-sdl 
<br> 
<br> 
<br> --------------------------如若要编linphone，需做如下步骤------------------------- 
<br> 
<br> 
<br> 15） 编译osip   libosip2-3.2.0.tar.gz（http://ftp.gnu.org/gnu/osip/） 
<br> 16) 编译 libeXosip2-3.3.0.tar.gz（http://ftp.twaren.net/Unix/NonGNU/exosip） 
<br> 
<br> 
<br> 17）编译linphone （http://www.linphone.org/index.php/eng/download） 
<br> 无视频 
<br>    ./configure --prefix=/home/ub/MyInstallProgram --disable-video --with-osip=/home/ub/Mylib 
<br> 有视频 
<br>    root@ubuntu:/usr/src/linphone-3.5.2# ./configure --prefix=/home/ubuntu/myinstallprogram/ --enable-video --enable-alsa --with-osip=/usr --with-readline=/usr --with-ffmpeg=/usr --with-sdl=/usr 
<br> 
<br> 
<br> -----------------------可能遇到的问题------------------------------------ 
<br>   
<br>  1、编译db 
<br>   cd ./db-4.5.20/build_unix 
<br>    ../dist/configure --prefix=/usr/local/db-4.5.20 
<br>    make &amp; make install 
<br> 
<br> 
<br> 
<br> 
<br> 2、 
<br> error: Package requirements (gtk+-2.0 &gt;= 2.18.0 gthread-2.0) were not met: 
<br> : 
<br> sudo apt-get install libperl-dev 
<br> sudo apt-get install libgtk2.0-dev 
<br> 
<br> 
<br> 3、没装g++ ，sudo apt-get install g++ 
<br> error 
<br> configure: error: C++ compiler cannot create executables 
<br> configure: error: GNU gettext tools not found; required for intltool 
<br> sudo apt-get install g++
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/365154aed6e65ca265eeeaf969af3357/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">几种常见的缺失数据插补方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/526b16fff5ab3a1a015d7fd14049edd0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">002_009 Python 从Zip中读取数据 直接检查一个zip格式的归档文件部分或所有文件而且不用解压</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>