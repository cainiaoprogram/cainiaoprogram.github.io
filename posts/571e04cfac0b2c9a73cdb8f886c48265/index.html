<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS7中安装搜狗输入法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS7中安装搜狗输入法" />
<meta property="og:description" content="centos 自带的输入法在很多软件中识别不了！
搞了两天，踩了很多坑！
搜狗和谷歌输入法等使用的是fcitx框架，需要安装fcitx!
不可直接卸载ibus ！！！ 不可直接卸载ibus！！！不可直接卸载ibus！！！
会造成删除Gnome依赖导致桌面无法启动，正确的卸载方式是只删除ibus而不删除依赖。
在安装之前先更新 yum update
不然失败的机率会大大增加！
单独卸载ibus软件，不卸载依赖包！
rpm -e --nodeps ibus
安装epel库源
yum -y install epel-release
安装fcitx
yum -y install fcitx fcitx-pinyin fcitx-configtool
设置fcitx为自启动项：
在Tweaks里-&gt;Startup Application添加fcitx为自启动项
在 /etc/profile.d 中增加一个配置脚本命名为 fcitx.sh
vi /etc/profile.d/fcitx.sh
内容如下：
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
(有的教程加上了双引号，我的是7.7 不带双引号才能识别）
如果遇到配置自启动后开关机时间过长：
修改重启或关机时 systemd 等待 fcitx 进程的时长，默认是 90 秒，我们可以把它改为最多只等待 10 秒，就会起到快速重启或关机不再长时间等待的效果了。
具体是修改 /etc/systemd/system.conf 文件，将其中的 #DefaultTimeoutStopSec=90s 这一行前面的 # 去掉，然后将其赋值改为 10s 保存即可。
三、安装搜狗输入法
安装依赖软件
yum install qtwebkit -y" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/571e04cfac0b2c9a73cdb8f886c48265/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-05T21:56:16+08:00" />
<meta property="article:modified_time" content="2020-04-05T21:56:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS7中安装搜狗输入法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>centos 自带的输入法在很多软件中识别不了！<br> 搞了两天，踩了很多坑！<br> 搜狗和谷歌输入法等使用的是fcitx框架，需要安装fcitx!<br> 不可直接卸载ibus ！！！ 不可直接卸载ibus！！！不可直接卸载ibus！！！<br> 会造成删除Gnome依赖导致桌面无法启动，正确的卸载方式是只删除ibus而不删除依赖。</p> 
<p>在安装之前先更新 yum update<br> 不然失败的机率会大大增加！</p> 
<p>单独卸载ibus软件，不卸载依赖包！</p> 
<p>rpm -e --nodeps ibus</p> 
<p>安装epel库源</p> 
<p>yum -y install epel-release</p> 
<p>安装fcitx</p> 
<p>yum -y install fcitx fcitx-pinyin fcitx-configtool</p> 
<p>设置fcitx为自启动项：</p> 
<p>在Tweaks里-&gt;Startup Application添加fcitx为自启动项</p> 
<p>在 /etc/profile.d 中增加一个配置脚本命名为 fcitx.sh</p> 
<p>vi /etc/profile.d/fcitx.sh</p> 
<p>内容如下：</p> 
<p>export GTK_IM_MODULE=fcitx</p> 
<p>export QT_IM_MODULE=fcitx</p> 
<p>export XMODIFIERS=@im=fcitx<br> (有的教程加上了双引号，我的是7.7 不带双引号才能识别）</p> 
<p>如果遇到配置自启动后开关机时间过长：</p> 
<p>修改重启或关机时 systemd 等待 fcitx 进程的时长，默认是 90 秒，我们可以把它改为最多只等待 10 秒，就会起到快速重启或关机不再长时间等待的效果了。</p> 
<p>具体是修改 /etc/systemd/system.conf 文件，将其中的 #DefaultTimeoutStopSec=90s 这一行前面的 # 去掉，然后将其赋值改为 10s 保存即可。</p> 
<p>三、安装搜狗输入法</p> 
<p>安装依赖软件</p> 
<p>yum install qtwebkit -y</p> 
<p>下载搜狗输入法deb包<br> 官网提供的时最新的版本，最新版会造成依赖包不兼容的问题，不能选最新的，选择稍微早期的版本！</p> 
<p>我是用的是这个版本：<br> cdn2.ime.sogou.com/dl/index/1524572264/sogoupinyin_2.2.0.0108_amd64.deb?st=jpTlz-vO-Of4mW1f10EBCg&amp;e=1570252581&amp;fn=sogoupinyin_2.2.0.0108_amd64.deb</p> 
<p>安装dpkg包：</p> 
<p>yum -y install dpkg</p> 
<p>安装alien包。</p> 
<p>yum -y install alien</p> 
<p>网上也有教程用tar解压包安装的，但是我用那种方法没有成功过！<br> 也有说用第三方库的，我找到了那个第三方源已经停止服务了！<br> 我下载了那里面的搜狗拼音输入法也安装成功配置好了，<br> 但是就是输入时不显示输入法候选框，根本没法用！无奈又卸载重新安装的！具体原因不清楚，个人怀疑是由于版本太旧造成的！是1.几的版本！</p> 
<p>deb -&gt; rpm包转换</p> 
<p>alien -r --scripts sogoupinyin_2.2.0.0108_amd64.deb</p> 
<p>命令执行会有以下提示：</p> 
<p>sogoupinyin-2.2.0.0108-2.x86_64.rpm generated</p> 
<p>rpm包安装</p> 
<p>rpm -ivh --force sogoupinyin-2.2.0.0108-2.x86_64.rpm</p> 
<p>搜狗拼音的库,创建软链接：</p> 
<p>ln -s /usr/lib/x86_64-linux-gnu/fcitx/fcitx-sogoupinyin.so /usr/lib64/fcitx/fcitx-sogoupinyin.so</p> 
<p>ln -s /usr/lib/x86_64-linux-gnu/fcitx/fcitx-punc-ng.so /usr/lib64/fcitx/fcitx-punc-ng.so</p> 
<p>重启系统。。。</p> 
<p>输入fcitx-configtool启动，添加键盘时取消勾选，输入sogou过滤，看到Sogou Pinyin输入法，点击添加进去，然后按SHIFT键切换输入法，测试中文输出即可。</p> 
<p>如有问题，欢迎留言，一起探讨！踩了诸多坑终于成功了！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/24027fcf760f271c18d01384cc9bcc83/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">面试官:用exists代替in真的好么？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/94d94f63a69d30cc50d57b05fe3ae9ea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">TCMalloc：线程缓存Malloc</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>