<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用 JavaScript 实现手势库 — 事件派发与 Flick 事件【前端组件化】 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用 JavaScript 实现手势库 — 事件派发与 Flick 事件【前端组件化】" />
<meta property="og:description" content="前端《组件化系列》目录 「一」用 JSX 建立组件 Parser（解析器）「二」使用 JSX 建立 Markup 组件风格「三」用 JSX 实现 Carousel 轮播组件「四」用 JavaScript 实现时间轴与动画「五」用 JavaScript 实现三次贝塞尔动画库 - 前端组件化「六」用 JavaScript 实现手势库 - 实现监听逻辑「七」用 JavaScript 实现手势库 — 手势逻辑「八」用 JavaScript 实现手势库 — 支持多键触发「九」用 JavaScript 实现手势库 — 事件派发与 Flick 事件 《 本期 》… 待续 … 我们上一期已经实现了所有的 gesture（手势），接下来我们需要实现的就是事件派发的功能。
事件派发 在 DOM 里面事件的派发是使用 new Event ， 然后在上面加一些属性，最后把这个事件给派发出去的。
所以我们这里也是一样，建立一个 dsipatch 的函数，并且加入 type、property 这些参数。这里的 property 含有 context 对象和 point 坐标两个属性。
在我们的 dispatch 函数中，首先我们需要做的就是创建一个 event 对象。在新的浏览器 API 中，我们可以直接使用 new Event 来创建。当然我们也可以使用自定义事件来创建 new CustomEvent。那么我们这里，就用普通的 new Event 就好了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/451c04979b1fc23aa8b88c313d947cb0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-21T17:47:55+08:00" />
<meta property="article:modified_time" content="2021-05-21T17:47:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用 JavaScript 实现手势库 — 事件派发与 Flick 事件【前端组件化】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/0d/20/uRthYrjd_o.png" alt="9WP9xeD3x5A"></p> 
<h2><a id="_1"></a>前端《组件化系列》目录</h2> 
<ul><li>「一」<a href="https://tridiamond.blog.csdn.net/article/details/112352745" rel="nofollow">用 JSX 建立组件 Parser（解析器）</a></li><li>「二」<a href="https://tridiamond.blog.csdn.net/article/details/112655866" rel="nofollow">使用 JSX 建立 Markup 组件风格</a></li><li>「三」<a href="https://tridiamond.blog.csdn.net/article/details/112656150" rel="nofollow">用 JSX 实现 Carousel 轮播组件</a></li><li>「四」<a href="https://tridiamond.blog.csdn.net/article/details/115437875" rel="nofollow">用 JavaScript 实现时间轴与动画</a></li><li>「五」<a href="https://tridiamond.blog.csdn.net/article/details/115438950" rel="nofollow">用 JavaScript 实现三次贝塞尔动画库 - 前端组件化</a></li><li>「六」<a href="https://tridiamond.blog.csdn.net/article/details/116136518" rel="nofollow">用 JavaScript 实现手势库 - 实现监听逻辑</a></li><li>「七」<a href="https://tridiamond.blog.csdn.net/article/details/116399017" rel="nofollow">用 JavaScript 实现手势库 — 手势逻辑</a></li><li>「八」<a href="https://tridiamond.blog.csdn.net/article/details/116633780" rel="nofollow">用 JavaScript 实现手势库 — 支持多键触发</a></li><li>「九」<a href="https://tridiamond.blog.csdn.net/article/details/117129384" rel="nofollow">用 JavaScript 实现手势库 — 事件派发与 Flick 事件</a> 《 本期 》</li><li>… 待续 …</li></ul> 
<p>我们上一期已经实现了所有的 gesture（手势），接下来我们需要实现的就是事件派发的功能。</p> 
<h3><a id="_15"></a>事件派发</h3> 
<p>在 DOM 里面事件的派发是使用 new Event ， 然后在上面加一些属性，最后把这个事件给派发出去的。</p> 
<p>所以我们这里也是一样，建立一个 <code>dsipatch</code> 的函数，并且加入 <code>type</code>、<code>property</code> 这些参数。这里的 property 含有 context 对象和 point 坐标两个属性。</p> 
<p>在我们的 <code>dispatch</code> 函数中，首先我们需要做的就是创建一个 event 对象。在新的浏览器 API 中，我们可以直接使用 <code>new Event</code> 来创建。当然我们也可以使用自定义事件来创建 <code>new CustomEvent</code>。那么我们这里，就用普通的 <code>new Event</code> 就好了。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>然后我们循环一下 <code>properties</code> 这个对象，把里面的属性都抄写一下。然后我们新创建的 event 是需要挂在一个元素上面，把它挂在到我们之前定义的 <code>element</code> 上即可。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">in</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    event<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> properties<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  element<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这里其实还有一个问题，就是我们之前写的监听都是挂载在 <code>element</code> 之上的。最后我们要把这些都换成挂载在 <code>document</code> 上。</p> 
<pre><code class="prism language-javascript">element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousedown'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> context <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  contexts<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">start</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> <span class="token function-variable function">mousemove</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> button <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>button <span class="token operator">&lt;=</span> event<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">&amp;</span> event<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> key<span class="token punctuation">;</span>
        <span class="token comment">// Order of buttons &amp; button is not the same</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> button<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'mouse'</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">move</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      button <span class="token operator">=</span> button <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> <span class="token function-variable function">mouseup</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">end</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    contexts<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>buttons <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mousemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> mouseup<span class="token punctuation">)</span><span class="token punctuation">;</span>
      isListeningMouse <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isListeningMouse<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mousemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> mouseup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    isListeningMouse <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>然后我们来把 end 函数中的 <code>tap</code> 事件 dipatch（派发）出来试试：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">end</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isTap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//console.log('tap');</span>
    <span class="token comment">// 把原先的 console.log 换成 dispatch 调用</span>
    <span class="token comment">// 这个事件不需要任何特殊属性，直接传`空对象`即可</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pan-end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPress<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>那么最后，我们可以尝试在 HTML 中加入一个脚本，在里面监听一下我们新创建的 <code>tap</code> 事件。</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gesture.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">oncontextmenu</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>event.preventDefault()<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Tapped!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这个时候，如果我们去浏览器上点击一下，就会触发我们的 <code>tap</code> 事件，并且输出我们的 <code>'Tapped'</code> 消息了！</p> 
<p><img src="https://images2.imgbox.com/ec/1f/Tllo7LQc_o.png" alt=""></p> 
<p>这样我们的派发事件就大功告成了。</p> 
<h3><a id="_flick__131"></a>实现一个 flick 事件</h3> 
<p>这里我们一起来<strong>完成最后一个</strong>最特别的 flick 事件。Flick 事件在我们所有的事件体系里是比较特殊的，因为它是一个需要判断数独的一个事件。</p> 
<p>根据我们前面讲到的，在 <code>pan start</code> 之后，如果我们在手指离开屏幕之前，我们执行了一个快速滑动手指的动作，到达一定的速度以上就会触发我们的 <code>flick</code> 事件，而不是原本的 <code>pan end</code> 的事件。</p> 
<p>那么需要如何判断这个速度的？其实可以在我们的 move 函数中，获得当前这一次移动时的速度。但是这个并不能帮助我们去处理，因为如果只按照两个点之间移动时的速度，根据浏览器实现的不同，它会有一个较大的误差。</p> 
<p>所以更加准确的方式就是，取数个点，然后用它们之间的平均值作为判定的值。那么要实现这个功能，我们就需要存储一段时间之内的这些点，然后使用这些点来计算出速度的平均值。</p> 
<p>有了实现的思路了，我们就来整理下，在代码中怎么去编写这一块的逻辑。</p> 
<p>首先我们需要在触发 start 的时候，就把第一个记录点加入到我们的全局 <code>context</code> 之中。而这里需要记录几个值：</p> 
<ul><li><code>t</code>：代表当前点触发/加入时的时间，这里我们使用 <code>Date.now()</code></li><li><code>x</code>：代表当前点 x 轴的坐标</li><li><code>y</code>：代表当前点 y 轴的坐标</li></ul> 
<blockquote> 
 <p>这些值到了后面都会用来计算移动速度的。</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">(</span>context<span class="token punctuation">.</span>startX <span class="token operator">=</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>startY <span class="token operator">=</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>points <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      t<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      x<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
      y<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>handler <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>handler <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>然后每一次触发 move 的时候，都给当前的 content 放入一个新的点。但是在加入新的点之前，需要过滤一次已经存储的点。我们只需要最近 500 毫秒内的点来计算速度即可，其余的点就可以过滤掉了。</p> 
<blockquote> 
 <p>在执行 flick 动作的时候，我们是不会滑动一个很长的距离和时间的，加上我们是需要捕捉一个快速的滑动动作，这个动作肯定是在 500 毫秒以内的动作，要不也不叫 “快” 了。所以这里就只需要 500 毫秒内的点即可。</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> dx <span class="token operator">=</span> point<span class="token punctuation">.</span>clientX <span class="token operator">-</span> context<span class="token punctuation">.</span>startX<span class="token punctuation">,</span>
    dy <span class="token operator">=</span> point<span class="token punctuation">.</span>clientY <span class="token operator">-</span> context<span class="token punctuation">.</span>startY<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">.</span>isPan <span class="token operator">&amp;&amp;</span> dx <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> dy <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pan-start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  context<span class="token punctuation">.</span>points <span class="token operator">=</span> context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>point <span class="token operator">=&gt;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>t <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    t<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    x<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>在 end 事件触发的时候，就可以来计算这次滑动的速度了。因为这里是计算用户滑动时的速度，如果用户是其他类型的手势动作，是不需要去计算速度的。所以这段计算逻辑就可以写在 <code>isPan</code> 成立的判断里面即可。</p> 
<p>首先给这个手势动作一个状态变量 <code>isFlick</code>，并且给予它一个默认值为 <code>false</code>。</p> 
<p>在计算速度之前，一样需要过滤一次我们 context 中储存的全部的点，把 500 毫秒之外的点过滤掉。</p> 
<p>在数学或者物理中，有一个计算速度的公式： <code>速度 = 距离 / 用时</code>。那么这里要去计算速度的话，首先需要计算的就是距离。而这里要计算的是直径距离，所以需要 x 轴和 y 轴的距离的二次幂相加，然后开根号获得的值就是我们要的直径距离。</p> 
<p>那么 x 轴距离为例，就是当前点的 x 轴坐标，减去记录中第一个点的 x 轴左边。y 轴的距离就同理可得了。那么有了距离，我们就可以直接从当前点和第一个点的时间差获得 <code>用时</code>。最后就可以运算出速度。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">end</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isTap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//console.log('tap');</span>
    <span class="token comment">// 把原先的 console.log 换成 dispatch 调用</span>
    <span class="token comment">// 这个事件不需要任何特殊属性，直接传`空对象`即可</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>points <span class="token operator">=</span> context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>point <span class="token operator">=&gt;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>t <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span>y <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> d <span class="token operator">/</span> <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPress<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>好样的，这样我们就有两个点之间的 <code>v</code> 速度。那么现在呢，我们需要知道多快的速度才能认为是一个 flick 动作呢？这里就用上帝视角直接得出 1.5 像素每毫秒的速度就是最合适的（这个怎么算出来的？其实我们可以直接 console.log(v)，把速度打印出啦，然后我们手动去测试，就会发现大概 v = 1.5 的时候差不多就是对的了）。</p> 
<p>所以我们这里直接就可以判断， 如果 v &gt; 1.5 的话，我们就认为用户的手势就是一个 flick，否则就是普通的 pan-end。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">end</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isTap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//console.log('tap');</span>
    <span class="token comment">// 把原先的 console.log 换成 dispatch 调用</span>
    <span class="token comment">// 这个事件不需要任何特殊属性，直接传`空对象`即可</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>points <span class="token operator">=</span> context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>point <span class="token operator">=&gt;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>t <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>x <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span>y <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> v <span class="token operator">=</span> d <span class="token operator">/</span> <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'flick'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'panend'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPress<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>这样 flick 事件的处理就完成了，其实这段代码中还有一些 console.log() 是没有被改为使用 dispatch 给派发出去的。但是接下来就要开始看看怎么重新封装这个手势库了，所以这里我们就不一一更改过来先了。</p> 
<p>如果想把这里的代码写完整的同学，可以自行把所有的 console.log(事件名) 部分的代码都改正过来哦～</p> 
<p>最后附上到此完整的代码。</p> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

<span class="token keyword">let</span> contexts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> isListeningMouse <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousedown'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> context <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  contexts<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">start</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> <span class="token function-variable function">mousemove</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> button <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>button <span class="token operator">&lt;=</span> event<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">&amp;</span> event<span class="token punctuation">.</span>buttons<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> key<span class="token punctuation">;</span>
        <span class="token comment">// Order of buttons &amp; button is not the same</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>button <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          key <span class="token operator">=</span> button<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'mouse'</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">move</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      button <span class="token operator">=</span> button <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> <span class="token function-variable function">mouseup</span> <span class="token operator">=</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">end</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    contexts<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`mouse</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> event<span class="token punctuation">.</span>button<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>buttons <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mousemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> mouseup<span class="token punctuation">)</span><span class="token punctuation">;</span>
      isListeningMouse <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isListeningMouse<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mousemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> mouseup<span class="token punctuation">)</span><span class="token punctuation">;</span>
    isListeningMouse <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchstart'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> touch <span class="token keyword">of</span> event<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    contexts<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>identifier<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">start</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchmove'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> touch <span class="token keyword">of</span> event<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>identifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">move</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'touchend'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> touch <span class="token keyword">of</span> event<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>identifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">end</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    contexts<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>identifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'cancel'</span><span class="token punctuation">,</span> event <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> touch <span class="token keyword">of</span> event<span class="token punctuation">.</span>changedTouches<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> contexts<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>identifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">cancel</span><span class="token punctuation">(</span>touch<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    contexts<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>touch<span class="token punctuation">.</span>identifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token punctuation">(</span>context<span class="token punctuation">.</span>startX <span class="token operator">=</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>startY <span class="token operator">=</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>points <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span>
      t<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      x<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
      y<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>handler <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>handler <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> dx <span class="token operator">=</span> point<span class="token punctuation">.</span>clientX <span class="token operator">-</span> context<span class="token punctuation">.</span>startX<span class="token punctuation">,</span>
    dy <span class="token operator">=</span> point<span class="token punctuation">.</span>clientY <span class="token operator">-</span> context<span class="token punctuation">.</span>startY<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">.</span>isPan <span class="token operator">&amp;&amp;</span> dx <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> dy <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>isPan <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isTap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>isPress <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pan-start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'pan'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  context<span class="token punctuation">.</span>points <span class="token operator">=</span> context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>point <span class="token operator">=&gt;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>t <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    t<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    x<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
    y<span class="token punctuation">:</span> point<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">end</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isTap<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//console.log('tap');</span>
    <span class="token comment">// 把原先的 console.log 换成 dispatch 调用</span>
    <span class="token comment">// 这个事件不需要任何特殊属性，直接传`空对象`即可</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'tap'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    context<span class="token punctuation">.</span>points <span class="token operator">=</span> context<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>point <span class="token operator">=&gt;</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> point<span class="token punctuation">.</span>t <span class="token operator">&lt;</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> d<span class="token punctuation">,</span> v<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>context<span class="token punctuation">.</span>points<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      d <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span>point<span class="token punctuation">.</span>clientX <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>point<span class="token punctuation">.</span>clientY <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token operator">**</span> <span class="token number">2</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      v <span class="token operator">=</span> d <span class="token operator">/</span> <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> context<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">1.5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'flick'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      context<span class="token punctuation">.</span>isFlick <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'panend'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span>isPress<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'press-end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> <span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span>point<span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">clearTimeout</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'cancel'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">in</span> properties<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    event<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> properties<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  element<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>下一期，我们就来做手势库的最后一步，封装！～</p> 
<blockquote> 
 <p>我是来自《<strong>技术银河</strong>》的<strong>三钻</strong>，一位正在重塑知识的技术人。下期再见。</p> 
</blockquote> 
<hr> 
<h3><a id="__480"></a>⭐️ 三哥推荐</h3> 
<h4><a id="_481"></a>开源项目推荐</h4> 
<h5><a id="Hexo_Theme_Aurora_482"></a>Hexo Theme Aurora</h5> 
<p><img src="https://images2.imgbox.com/61/39/8zqUdkuE_o.png" alt=""><br> <img src="https://images2.imgbox.com/80/91/Id6NdotP_o.png" alt=""></p> 
<blockquote> 
 <p>在最近在版本 1.5.0 更新了以下功能：</p> 
 <p>》<a href="https://tridiamond.tech" rel="nofollow">预览</a>《</p> 
</blockquote> 
<p>✨ 新增</p> 
<ul><li>自适应 “推荐文章” 布局 (增加了一个新的 “<code>置顶文章布局</code>” !!) 
  <ul><li>能够在“推荐文章”和“置顶文章”模式之间自由切换</li><li>如果总文章少于 3 篇，将自动切换到“置顶文章”模式</li><li>在文章卡上添加了“置顶”和“推荐”标签</li><li><a href="https://aurora.tridiamond.tech/zh/guide/theme.html#%E6%8E%A8%E8%8D%90%E5%B8%83%E5%B1%80%E6%A8%A1%E5%BC%8F" rel="nofollow">📖 文档</a></li></ul> </li><li>增加了与 VuePress 一样的自定义容器 <a href="https://github.com/auroral-ui/hexo-theme-aurora/issues/77">#77</a> 
  <ul><li><code>Info</code> 容器</li><li><code>Warning</code> 容器</li><li><code>Danger</code> 容器</li><li><code>Detail</code> 容器</li><li><a href="https://tridiamond.tech/post/aurora%2Fcustom-quotes" rel="nofollow">预览</a></li></ul> </li><li>支持了更多的 SEO meta 数据 <a href="https://github.com/auroral-ui/hexo-theme-aurora/issues/76">#76</a> 
  <ul><li>添加了 <code>description</code></li><li>添加了 <code>keywords</code></li><li>添加了 <code>author</code></li><li><a href="https://aurora.tridiamond.tech/zh/guide/site-meta.html#seo-meta" rel="nofollow">📖 文档</a></li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/8f/d5/0wtgc4Xn_o.png" alt=""></p> 
<p>最近博主在全面投入开发一个可以 “<strong>迈向未来的</strong>” Hexo 主题，以极光为主题的博客主题。</p> 
<p>如果你是一个开发者，做一个个人博客也是你简历上的一个亮光点。而如果你有一个超级炫酷的博客，那就更加是亮上加亮了，简直就闪闪发光。</p> 
<p>如果喜欢这个主题，可以在 Github 上给我点个 🌟 让彼此都发光吧～</p> 
<blockquote> 
 <p>主题 Github 地址：<a href="https://github.com/auroral-ui/hexo-theme-aurora">https://github.com/auroral-ui/hexo-theme-aurora</a><br> 主题使用文档：<a href="https://aurora.tridiamond.tech/zh/" rel="nofollow">https://aurora.tridiamond.tech/zh/</a></p> 
</blockquote> 
<hr> 
<h5><a id="VSCode_Aurora_Future_522"></a>VSCode Aurora Future</h5> 
<p><img src="https://images2.imgbox.com/2d/a4/M1qd2qAy_o.png" alt=""><br> 对，博主还做了一个 Aurora 的 VSCode 主题。用了Hexo Theme Aurora 相对应的颜色色系。这个主题的重点特性的就只用了 3 个颜色，减少在写代码的时候被多色多彩的颜色所转移了你的注意力，让你更集中在写代码之中。</p> 
<p>喜欢的大家可以支持一下哦！ <strong>直接在 VSCode 的插件搜索中输入 “Aurora Future” 即可找到这个主题哦！～</strong></p> 
<blockquote> 
 <p>主题 Github 地址：<a href="https://github.com/auroral-ui/aurora-future-vscode-theme">https://github.com/auroral-ui/aurora-future-vscode-theme</a><br> 主题插件地址：<a href="https://marketplace.visualstudio.com/items?itemName=auroral-ui.aurora-future" rel="nofollow">https://marketplace.visualstudio.com/items?itemName=auroral-ui.aurora-future</a></p> 
</blockquote> 
<hr> 
<h5><a id="Firefox_Aurora_Future_533"></a>Firefox Aurora Future</h5> 
<p><img src="https://images2.imgbox.com/bf/e4/l3paUeRJ_o.png" alt="">我不知道大家，但是最近我在用火狐浏览器来做开发了。个人觉得火狐还真的是不错的。推荐大家尝试一下。</p> 
<p>当然我这里想给大家介绍的是我在火狐也做了一个 Aurora 主题。对的！用的是同一套的颜色体系。喜欢的小伙伴可以试一下哦！</p> 
<blockquote> 
 <p>主题地址：<a href="https://addons.mozilla.org/en-US/firefox/addon/aurora-future/" rel="nofollow">https://addons.mozilla.org/en-US/firefox/addon/aurora-future/</a></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f1d514a504784f07868476a47d253391/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c语言 bmp转png,用c语言把bmp格式的彩色图片转换成黑白的</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f41ee6208e4ceb3a897630ba2e15f975/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Vue&#43;SpringCloudAlibaba微服务电商项目实战-构建会员服务-005：令牌登陆&amp;扫码关注&amp;细分接口安全领域</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>