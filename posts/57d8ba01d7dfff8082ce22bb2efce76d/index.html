<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL数据库中如何新建一个带参数的存储过程procedure - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL数据库中如何新建一个带参数的存储过程procedure" />
<meta property="og:description" content="我们都知道，现在MySQL的版本，可以支持存储过程了。我使用的是MySQL5.5的版本。
1，创建存储过程
delimiter $
create procedure in_out_procedure(in procedure_id int,out count_number int) begin select count(*) into count_number from temp_url where id=procedure_id;
end $
delimiter ;
注意：delimiter $ 改变分隔符，MySQL数据库中，使用delimiter 关键字来改变分隔符，当我们在创建触发器或者存储过程的时候，经常会用到。
2，执行存储过程：
call in_out_procedure(1,count_number);
MySQL如何调用带参数的存储过程？
call in_out_procedure(1,@param1);
select @param1;
注意，带有输出out的存储过程，我们在使用时，需要先获得输出结果，这里我们使用参数param1，相当于是接收返回结果，然后就可以使用这个返回结果了。
3，再来看下面的例子：
delimiter $
create procedure out_procedure(out count_number int) begin select count(*) into count_number from temp_url where id=1;
end $
delimiter ;
执行存储过程：
call out_procedure(@param1);
select @param1;
4，如何查询数据库中所有的存储过程？
第一种方式：show procedure status;
第二种方式：select name from mysql." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/57d8ba01d7dfff8082ce22bb2efce76d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-01-05T11:59:12+08:00" />
<meta property="article:modified_time" content="2016-01-05T11:59:12+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL数据库中如何新建一个带参数的存储过程procedure</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-size:14px">我们都知道，现在MySQL的版本，可以支持存储过程了。我使用的是MySQL5.5的版本。</span></p> 
<p><br> </p> 
<p><span style="font-size:14px">1，创建存储过程</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<p><span style="font-size:14px">delimiter $</span></p> 
<span style="font-size:14px">create procedure in_out_procedure(in procedure_id int,out count_number int) <br> begin <br> select count(*) into count_number from temp_url where id=procedure_id;<br> end $<br> </span> 
<p><span style="font-size:14px">delimiter ;</span></p> 
<p><span style="font-size:14px"><span style="font-size:14px">注意：delimiter $ 改变分隔符，MySQL数据库中，使用delimiter 关键字来改变分隔符，当我们在创建触发器或者存储过程的时候，经常会用到。</span><br> </span></p> 
<span style="font-size:14px"><br> </span> 
<p><span style="font-size:14px">2，执行存储过程：</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<span style="font-size:14px">call in_out_procedure(1,count_number);<br> MySQL如何调用带参数的存储过程？<br> call in_out_procedure(1,@param1);<br> </span> 
<p><span style="font-size:14px">select @param1;</span></p> 
<p><span style="font-size:14px">注意，带有输出out的存储过程，我们在使用时，需要先获得输出结果，这里我们使用参数param1，相当于是接收返回结果，然后就可以使用这个返回结果了。<br> </span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<p><span style="font-size:14px">3，再来看下面的例子：</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<span style="font-size:14px">delimiter $<br> create procedure out_procedure(out count_number int) <br> begin <br> select count(*) into count_number from temp_url where id=1;<br> end $<br> delimiter ;<br> <br> 执行存储过程：<br> call out_procedure(@param1);<br> select @param1;<br> <br> </span> 
<p><span style="font-size:14px">4，如何查询数据库中所有的存储过程？</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<p><span style="font-size:14px">第一种方式：show procedure status;</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<p><span style="font-size:14px">第二种方式：select name from mysql.proc where db="test" and type="procedure";</span></p> 
<p><span style="font-size:14px"><br> </span></p> 
<span style="font-size:14px">通过第一种方式，可以查询当前数据库中所有的存储过程的详细信息，但是不包含创建存储过程的语句；<br> 通过第二种方式，可以查询制定数据库中所有的存储过程的名称；<br> 然后根据存储过程的名称，我们就可以查询这个存储过程的创建语句了，用下面的语法：<br> show create procedure procedure_name;<br> 例如，我们要查询名称为：in_out_procedure的存储过程，就这样写：<br> </span> 
<p><span style="font-size:14px">show create procedure in_out_procedure;</span></p> 
<p><br> </p> 
<p><span style="font-size:14px"><br> </span></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8457ab4d4d70aa55a804f9030da87613/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决android.view.InflateException: Binary XML file line #8: Error inflating class</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8bfeea6ee6fb996c281f85141e441aed/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">libevent - 定时器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>