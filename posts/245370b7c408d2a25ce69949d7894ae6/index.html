<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AndroidStudio|左右滑动切换界面效果 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AndroidStudio|左右滑动切换界面效果" />
<meta property="og:description" content="通过Layout控件捕捉onTouch事件，所以要实现OnTouchListener接口；当用户触摸屏幕的时候，会产生许多手势，这里就包括滑动效果。通过GestureDetector类，我们可以识别很多的手势。所以要实现GestureDetector.OnGestureListener接口，将Touch事件传入GestureDetector对象进行处理。 实现两个接口 public class MyActivity extends Activity implements View.OnTouchListener,GestureDetector.OnGest- ureListener { private RelativeLayout mLinearLayout; private GestureDetector mGestureDetector; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_face_idcard_identify); findView(); } 给控件注册OnTouch事件，并且允许响应长点击事件 private void findView() { mLinearLayout = (RelativeLayout) findViewById(R.id.Face_IDCard_Layout); mLinearLayout.setOnTouchListener(this); mLinearLayout.setLongClickable(true); mGestureDetector = new GestureDetector(this, this); } 实现手势识别接口中的方法 //用户按下屏幕就会触发： @Override public boolean onDown(MotionEvent e) { return false; } //短按触摸屏 @Override public void onShowPress(MotionEvent e) { } //点击屏幕后抬起时触发该事件 @Override public boolean onSingleTapUp(MotionEvent e) { return false; } //在屏幕上拖动控件 @Override public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) { return false; } //长按触摸屏 @Override public void onLongPress(MotionEvent e) { } //滑屏，用户按下触摸屏、快速移动后松开，由1个MotionEvent ACTION_DOWN, 多个ACTION_MOVE, 1个 //ACTION_UP触发；参数分别表示：按下事件、抬起事件、x方向移动速度、y方向移动速度。 @Override public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) { final int FLING_MIN_DISTANCE = 100; final int FLING_MIN_VELOCITY = 200; if (Math." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/245370b7c408d2a25ce69949d7894ae6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-11T16:01:14+08:00" />
<meta property="article:modified_time" content="2018-09-11T16:01:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AndroidStudio|左右滑动切换界面效果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="sina_keyword_ad_area2" class="articalContent newfont_family"> 
 <ol><li><font face="楷体_GB2312, 楷体" style="font-size:18px;" color="#E58745">通过Layout控件捕捉onTouch事件，所以要实现OnTouchListener接口；</font></li><li><font face="楷体_GB2312, 楷体" style="font-size:18px;" color="#E58745">当用户触摸屏幕的时候，会产生许多手势，这里就包括滑动效果。通过GestureDetector类，我们可以识别很多的手势。所以要实现GestureDetector.OnGestureListener接口，将Touch事件传入GestureDetector对象进行处理。</font></li></ol> 
 <div> 
  <font face="楷体_GB2312, 楷体" style="font-size:18px;" color="#E58745"><br></font> 
 </div> 
 <div> 
  <ul><li><font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#D57D40">实现两个接口</font></li></ul> 
 </div> 
 <div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">public class MyActivity extends Activity implements View.OnTouchListener,GestureDetector.OnGest- ureListener {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    private RelativeLayout mLinearLayout;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    private GestureDetector mGestureDetector;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61"><br></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    protected void onCreate(Bundle savedInstanceState) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        super.onCreate(savedInstanceState);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        setContentView(R.layout.activity_face_idcard_identify);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        findView();</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <ul><li><font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#D57D40">给控件注册OnTouch事件，并且允许响应长点击事件</font></li></ul> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61">   </font> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">private void findView() {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        mLinearLayout = (RelativeLayout) findViewById(R.id.Face_IDCard_Layout);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        mLinearLayout.setOnTouchListener(this);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        mLinearLayout.setLongClickable(true);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        mGestureDetector = new GestureDetector(this, this);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <ul><li><font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#D57D40">实现手势识别接口中的方法</font></li></ul> 
   <div> 
    <font color="#9DBB61" face="楷体_GB2312, 楷体"><span style="font-size:16px;"><br></span></font> 
   </div> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';">     </span> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C"> //用户按下屏幕就会触发：</font></span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public boolean onDown(MotionEvent e) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        return false;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';">     </span> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C">//短按触摸屏</font></span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public void onShowPress(MotionEvent e) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61"><br></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';">     </span> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C">//点击屏幕后抬起时触发该事件</font></span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public boolean onSingleTapUp(MotionEvent e) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        return false;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';">     </span> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C">//在屏幕上拖动控件</font></span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        return false;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C">      //长按触摸屏</font></span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public void onLongPress(MotionEvent e) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61"><br></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';">   </span> 
   <span style="font-family:'楷体_GB2312', '楷体';"><font color="#22B14C">  //滑屏，用户按下触摸屏、快速移动后松开，由1个MotionEvent ACTION_DOWN, 多个ACTION_MOVE, 1个        //ACTION_UP触发；参数分别表示：按下事件、抬起事件、x方向移动速度、y方向移动速度。 </font></span> 
   <span style="color:rgb(157,187,97);font-family:'楷体_GB2312', '楷体';"> </span> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    @Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        final int FLING_MIN_DISTANCE = 100;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        final int FLING_MIN_VELOCITY = 200;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        if (Math.abs((int) (e1.getX() - e2.getX())) &gt; FLING_MIN_DISTANCE &amp;&amp; Math.abs(velocityX) &gt; FLING_MIN_VELOCITY) {<!-- --></font> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#22B14C">//左滑右滑皆可</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">            Intent intent = new Intent(this, VideoMatchIdentifyGlassesActivity.class);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">            startActivity(intent);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">            finish();</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        }</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        return false;</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <ul><li><font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#D57D40">实现OnTouchListener接口中的方法</font></li></ul> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61">   </font> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">@Override</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    public boolean onTouch(View v, MotionEvent event) {<!-- --></font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">        return mGestureDetector.onTouchEvent(event);</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:14px;" color="#9DBB61">    }</font> 
  </div> 
  <div> 
   <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61">}</font> 
  </div> 
 </div> 
 <div> 
  <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61"><br></font> 
 </div> 
 <div> 
  <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61"><br></font> 
 </div> 
 <div> 
  <font face="楷体_GB2312, 楷体" style="font-size:16px;" color="#9DBB61"><br></font> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fdfaf52f1d886d25c8687df493961a44/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">记录一次Ubuntu服务器MySql数据目录迁移操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/454fbb0a2b727de6a73c1f370b4ab9d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">软件测试学习教程（一）-学习路线图</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>