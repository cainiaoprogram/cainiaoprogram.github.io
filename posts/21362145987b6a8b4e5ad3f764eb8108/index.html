<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【安徽集训】字符串 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【安徽集训】字符串" />
<meta property="og:description" content="Description 给定小写字母串 \(s,t\)，你可以对 \(s\) 进行以下 \(4\) 种操作：
1. 在任意位置添加一个字符，代价为 \(a\)
2. 删除任一字符，代价为 \(b\)
3. 替换任一字符，代价为 \(c\)
4. 交换相邻两个字符，代价为 \(d\)
求将 \(s\) 变为 \(t\) 的最小代价。
\(|s|,|t|\le 4000,\space 0\lt a,b,c,d\le 10000,\space a&#43;b\le 2d\)
Solution 有一个不存在操作 4 的子任务……
只考虑前 3 个操作的话，由于要成为 \(t\) 串一部分的所有字符之间的相对顺序不会变，这就变成了一个普及组 dp 题。
设 \(f(i,j)\) 表示将 \(s\) 的前 \(i\) 个字符修改为 \(t\) 的前 \(j\) 个字符的代价。
操作1：\(f(i,j)=f(i,j-1)&#43;a\)
操作2：\(f(i,j)=f(i-1,j)&#43;b\)
操作3：\(f(i,j)=f(i-1,j-1)&#43;c\)
然后考虑丧心病狂的操作 \(4\)。
由于 \(a&#43;b\le 2\times d\)，因此每个数只会交换一次。（我之前不知道 constraint 里这条是干嘛的）
操作4：记 \(k\) 为 \(s\) 中上一个 \(t[j]\) 的位置，\(l\) 为 \(t\) 中上一个 \(s[i]\) 的位置，则 \(f(i,j)=f(k-1,l-1)&#43;d&#43;(i-k-1)*b&#43;(j-l-1)*a\)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/21362145987b6a8b4e5ad3f764eb8108/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-26T15:40:00+08:00" />
<meta property="article:modified_time" content="2019-09-26T15:40:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【安徽集训】字符串</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown"> 
 <h4 id="description">Description</h4> 
 <p>　　给定小写字母串 <span class="math inline">\(s,t\)</span>，你可以对 <span class="math inline">\(s\)</span> 进行以下 <span class="math inline">\(4\)</span> 种操作：<br> 　　　　1. 在任意位置添加一个字符，代价为 <span class="math inline">\(a\)</span><br> 　　　　2. 删除任一字符，代价为 <span class="math inline">\(b\)</span><br> 　　　　3. 替换任一字符，代价为 <span class="math inline">\(c\)</span><br> 　　　　4. 交换相邻两个字符，代价为 <span class="math inline">\(d\)</span><br> 　　求将 <span class="math inline">\(s\)</span> 变为 <span class="math inline">\(t\)</span> 的最小代价。</p> 
 <p>　　<span class="math inline">\(|s|,|t|\le 4000,\space 0\lt a,b,c,d\le 10000,\space a+b\le 2d\)</span></p> 
 <h4 id="solution">Solution</h4> 
 <p>　　有一个不存在操作 4 的子任务……<br> 　　只考虑前 3 个操作的话，由于<strong>要成为 <span class="math inline">\(t\)</span> 串一部分的所有字符</strong>之间的相对顺序不会变，这就变成了一个普及组 dp 题。<br> 　　设 <span class="math inline">\(f(i,j)\)</span> 表示将 <span class="math inline">\(s\)</span> 的前 <span class="math inline">\(i\)</span> 个字符修改为 <span class="math inline">\(t\)</span> 的前 <span class="math inline">\(j\)</span> 个字符的代价。<br> 　　操作1：<span class="math inline">\(f(i,j)=f(i,j-1)+a\)</span><br> 　　操作2：<span class="math inline">\(f(i,j)=f(i-1,j)+b\)</span><br> 　　操作3：<span class="math inline">\(f(i,j)=f(i-1,j-1)+c\)</span></p> 
 <p>　　然后考虑丧心病狂的操作 <span class="math inline">\(4\)</span>。<br> 　　由于 <span class="math inline">\(a+b\le 2\times d\)</span>，因此每个数只会交换一次。（我之前不知道 constraint 里这条是干嘛的）<br> 　　操作4：记 <span class="math inline">\(k\)</span> 为 <span class="math inline">\(s\)</span> 中上一个 <span class="math inline">\(t[j]\)</span> 的位置，<span class="math inline">\(l\)</span> 为 <span class="math inline">\(t\)</span> 中上一个 <span class="math inline">\(s[i]\)</span> 的位置，则 <span class="math inline">\(f(i,j)=f(k-1,l-1)+d+(i-k-1)*b+(j-l-1)*a\)</span></p> 
 <pre><code class="language-cpp"><code>#include&lt;bits/stdc++.h&gt;
#define N 4001
using namespace std;
inline int read(){
    int x=0; bool f=1; char c=getchar();
    for(;!isdigit(c); c=getchar()) if(c=='-') f=0;
    for(; isdigit(c); c=getchar()) x=(x&lt;&lt;3)+(x&lt;&lt;1)+(c^'0');
    if(f) return x;
    return 0-x;
}
int a,b,c,d,f[N][N],s_lst[27],t_lst[27];
char s[N],t[N]; int n,m;
int main(){
    a=read(), b=read(), c=read(), d=read();
    scanf("%s %s",s+1,t+1); n=strlen(s+1), m=strlen(t+1);
    for(int i=1; i&lt;=m; ++i) f[0][i]=f[0][i-1]+a;
    for(int i=1; i&lt;=n; ++i){
        f[i][0]=f[i-1][0]+b;
        memset(t_lst,0,sizeof t_lst);
        for(int j=1; j&lt;=m; ++j){
            f[i][j]=min(f[i][j-1]+a,min(f[i-1][j]+b,f[i-1][j-1]+(s[i]==t[j]?0:c)));
            int k=s_lst[t[j]-'a'], l=t_lst[s[i]-'a'];
            if(k&gt;0 &amp;&amp; l&gt;0) f[i][j]=min(f[i][j],f[k-1][l-1]+(i-k-1)*b+d+(j-l-1)*a);
            t_lst[t[j]-'a']=j;
        }
        s_lst[s[i]-'a']=i;
    }
    printf("%d\n",f[n][m]);
    return 0;
}</code></code></pre> 
</div> 
<p>转载于:https://www.cnblogs.com/scx2015noip-as-php/p/11592182.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/90fb841ab37be3f3380a2047258252b4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">被那个记过整的干什么都顾虑</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/82a91e3c81638029b457cef37c3c426a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安卓彻底退出程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>