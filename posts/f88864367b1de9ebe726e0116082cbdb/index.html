<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>YouTube热门视频的分析 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="YouTube热门视频的分析" />
<meta property="og:description" content="YouTube热门视频的分析 1 概述2 数据的预处理3. YouTube数据集的探索性分析3.1 简单的描述性分析3.2 相关性分析3.3 gropby分组函数3.3.1 gropby分组函数搜寻YouTube Top20的频道3.3.2 gropby分组函数 category类别出现的频率排序3.3.3 gropby分组函数 浏览量最多的Top20频道3.3.4 gropby分组函数 通关浏览量对类别进行排名 4 结论： 1 概述 Youtube视频网站是美国最大的视频分享平台,youtube官网在中国也有很多用户。数据来源于kaggle网站，本文主要选取CA国家，探究YouTube在CA国家Top20热门视频数据。
2 数据的预处理 1、导包
import numpy as np import pandas as pd import matplotlib.pyplot as plt` import seaborn as sns import json from datetime import datetime import pandas as pd data = pd.read_csv(&#34;3D Objects/CAvideos.csv&#34;,index_col=0) 2、查看数据集
data data[&#34;trending_date&#34;]`` 我们发现trending_date日期格式不一样，所以要对其进行日期格式的转化，这里我们用到datetime函数
data[&#34;trending_date&#34;] = pd.to_datetime(data[&#34;trending_date&#34;],format =&#34;%y.%d.%m&#34;) 同理pubulish_time也一样
data[&#34;publish_time&#34;] = pd.to_datetime(data[&#34;publish_time&#34;],format = &#34;%Y-%m-%dT%H:%M:%S.%fZ&#34;) data[&#34;category_id&#34;] = data[&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f88864367b1de9ebe726e0116082cbdb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-05T22:12:39+08:00" />
<meta property="article:modified_time" content="2020-08-05T22:12:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">YouTube热门视频的分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>YouTube热门视频的分析</h4> 
 <ul><li><a href="#1__2" rel="nofollow">1 概述</a></li><li><a href="#2__5" rel="nofollow">2 数据的预处理</a></li><li><a href="#3_YouTube_105" rel="nofollow">3. YouTube数据集的探索性分析</a></li><li><ul><li><a href="#31__107" rel="nofollow">3.1 简单的描述性分析</a></li><li><a href="#32__125" rel="nofollow">3.2 相关性分析</a></li><li><a href="#33_gropby_150" rel="nofollow">3.3 gropby分组函数</a></li><li><ul><li><a href="#331_gropbyYouTube_Top20_153" rel="nofollow">3.3.1 gropby分组函数搜寻YouTube Top20的频道</a></li><li><a href="#332_gropby_category_167" rel="nofollow">3.3.2 gropby分组函数 category类别出现的频率排序</a></li><li><a href="#333_gropby_Top20_178" rel="nofollow">3.3.3 gropby分组函数 浏览量最多的Top20频道</a></li><li><a href="#334_gropby__198" rel="nofollow">3.3.4 gropby分组函数 通关浏览量对类别进行排名</a></li></ul> 
  </li></ul> 
  </li><li><a href="#4__225" rel="nofollow">4 结论：</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1__2"></a>1 概述</h2> 
<p>Youtube视频网站是美国最大的视频分享平台,youtube官网在中国也有很多用户。数据来源于kaggle网站，本文主要选取CA国家，探究YouTube在CA国家Top20热门视频数据。</p> 
<h2><a id="2__5"></a>2 数据的预处理</h2> 
<p>1、导包</p> 
<pre><code class="prism language-bash"> <span class="token function">import</span> numpy as np
 <span class="token function">import</span> pandas as pd
 <span class="token function">import</span> matplotlib.pyplot as plt`
 <span class="token function">import</span> seaborn as sns
 <span class="token function">import</span> json
 from datetime <span class="token function">import</span> datetime
 <span class="token function">import</span> pandas as pd
 data <span class="token operator">=</span> pd.read_csv<span class="token punctuation">(</span><span class="token string">"3D Objects/CAvideos.csv"</span>,index_col<span class="token operator">=</span>0<span class="token punctuation">)</span>
</code></pre> 
<p>2、查看数据集</p> 
<pre><code class="prism language-bash">data
</code></pre> 
<p><img src="https://images2.imgbox.com/47/05/jI9wZNis_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-bash">data<span class="token punctuation">[</span><span class="token string">"trending_date"</span><span class="token punctuation">]</span>``
</code></pre> 
<p><img src="https://images2.imgbox.com/95/95/MRbllSGM_o.png" alt="在这里插入图片描述"><br> 我们发现trending_date日期格式不一样，所以要对其进行日期格式的转化，这里我们用到datetime函数</p> 
<pre><code class="prism language-bash">data<span class="token punctuation">[</span><span class="token string">"trending_date"</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd.to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"trending_date"</span><span class="token punctuation">]</span>,format <span class="token operator">=</span><span class="token string">"%y.%d.%m"</span><span class="token punctuation">)</span>
</code></pre> 
<p>同理pubulish_time也一样</p> 
<pre><code class="prism language-bash">data<span class="token punctuation">[</span><span class="token string">"publish_time"</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd.to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"publish_time"</span><span class="token punctuation">]</span>,format <span class="token operator">=</span> <span class="token string">"%Y-%m-%dT%H:%M:%S.%fZ"</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-bash">data<span class="token punctuation">[</span><span class="token string">"category_id"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"category_id"</span><span class="token punctuation">]</span>.astype<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token comment">#转换成字符型</span>
</code></pre> 
<p>处理后的data</p> 
<pre><code class="prism language-bash">data.head<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/11/63/lSd6ssbs_o.png" alt="在这里插入图片描述"><br> 对数据进行简单描述：<br> data.info()<br> <img src="https://images2.imgbox.com/b8/ce/Cl8mRdyy_o.png" alt="在这里插入图片描述"><br> 从数据的初始描述可以得出该数据总共有15个指标，共有40881行记录<br> ，且description有缺失值。<br> 由于数据原本量就很大，且缺失的数占少数，因此可以对数据有缺失的行进行删除。</p> 
<pre><code class="prism language-bash">data <span class="token operator">=</span> data.dropna<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#删除有缺失值的行</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/b3/C0ASXM4a_o.png" alt="在这里插入图片描述"><br> 通过对缺失值的处理，我们得到我们的完整的数据集。接下来我们对数据集中数值型变量做一个描述数据表，得到最初的对数据集的了解<br> <img src="https://images2.imgbox.com/e4/e8/oAG3QcLt_o.png" alt="在这里插入图片描述"></p> 
<p>接下来我们导入json文件，让其与category匹配</p> 
<pre><code class="prism language-bash">id_to_category <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
with <span class="token function">open</span> <span class="token punctuation">(</span>r<span class="token string">"C:\Users\Desktop\4549_466349_bundle_archive/CA_category_id.json"</span><span class="token punctuation">)</span> as f:
    js <span class="token operator">=</span> json.load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">for</span> category <span class="token keyword">in</span> js <span class="token punctuation">[</span><span class="token string">"items"</span><span class="token punctuation">]</span>:
        id_to_category<span class="token punctuation">[</span>category<span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> category<span class="token punctuation">[</span><span class="token string">"snippet"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"title"</span><span class="token punctuation">]</span>
data<span class="token punctuation">[</span><span class="token string">"category"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"category_id"</span><span class="token punctuation">]</span>.map<span class="token punctuation">(</span>id_to_category<span class="token punctuation">)</span>
</code></pre> 
<p>处理过后的data如下：<br> <img src="https://images2.imgbox.com/7d/f3/BuIWvCKp_o.png" alt="在这里插入图片描述"><br> 查看json文件category_id和category匹配</p> 
<pre><code class="prism language-bash">id_to_category
</code></pre> 
<p><img src="https://images2.imgbox.com/79/9c/hhXXyxGS_o.png" alt="在这里插入图片描述"><br> 利用已知的指标创建新变量。</p> 
<pre><code class="prism language-bash">1、“idrate”点赞量和不点赞量比例是一种用来衡量用户对某种类型视频的赞同与不赞同的重要指标
2、<span class="token string">"perc_comment"</span>,评论占比等于<span class="token string">"comment_count"</span>/views
3、<span class="token string">"perc_click"</span>,点击率等于<span class="token punctuation">(</span><span class="token string">"likes"</span>+<span class="token string">"dislikes"</span><span class="token punctuation">)</span>/<span class="token string">"views"</span>
data<span class="token punctuation">[</span><span class="token string">"idrate"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"likes"</span><span class="token punctuation">]</span>/data<span class="token punctuation">[</span><span class="token string">"dislikes"</span><span class="token punctuation">]</span>
data<span class="token punctuation">[</span><span class="token string">"per_comment"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"comment_count"</span><span class="token punctuation">]</span>/data<span class="token punctuation">[</span><span class="token string">"views"</span><span class="token punctuation">]</span>
data<span class="token punctuation">[</span><span class="token string">"perc_click"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"dislikes"</span><span class="token punctuation">]</span>+data<span class="token punctuation">[</span><span class="token string">"likes"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>/data<span class="token punctuation">[</span><span class="token string">"views"</span><span class="token punctuation">]</span>
data
</code></pre> 
<p>添加新变量之后的数据<img src="https://images2.imgbox.com/f3/0c/xbKLTaTD_o.png" alt="在这里插入图片描述"><br> 为了方便我们后期对YouTube在2017-2018年用户的浏览次数做分析，此时我们对发布时间进行提取。</p> 
<pre><code class="prism language-bash">data<span class="token punctuation">[</span><span class="token string">"publish_timi"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"publish_time"</span><span class="token punctuation">]</span>.dt.time
data<span class="token punctuation">[</span><span class="token string">"publish_ymd"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"publish_time"</span><span class="token punctuation">]</span>.dt.date
data
</code></pre> 
<p><img src="https://images2.imgbox.com/f7/9c/cF0CxDGd_o.png" alt="在这里插入图片描述"><br> 数据的预处理完成后，接下来我们对YouTube数据进行探索性分析</p> 
<h2><a id="3_YouTube_105"></a>3. YouTube数据集的探索性分析</h2> 
<h3><a id="31__107"></a>3.1 简单的描述性分析</h3> 
<pre><code class="prism language-bash">data.describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ba/33/MOQabDyv_o.png" alt="在这里插入图片描述"><br> 绘制箱线图</p> 
<pre><code class="prism language-bash">f <span class="token operator">=</span> scale<span class="token punctuation">(</span>rs<span class="token punctuation">)</span>
plt.boxplot<span class="token punctuation">(</span> x <span class="token operator">=</span> f,labels <span class="token operator">=</span> dt.columns,whis<span class="token operator">=</span>0.5,widths <span class="token operator">=</span> 0.5<span class="token punctuation">)</span>
plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/41/ac/XDcVVWzK_o.png" alt="在这里插入图片描述"></p> 
<p>可以看出各个指标的均值、标准差、最大值和分位数，其中views平均浏览量为1.17e+06次。</p> 
<h3><a id="32__125"></a>3.2 相关性分析</h3> 
<pre><code class="prism language-bash">rs <span class="token operator">=</span> pd.concat<span class="token punctuation">(</span><span class="token punctuation">[</span>pd.DataFrame<span class="token punctuation">(</span>data.views<span class="token punctuation">)</span>,pd.DataFrame<span class="token punctuation">(</span>data.likes<span class="token punctuation">)</span>,pd.DataFrame<span class="token punctuation">(</span>data.dislikes<span class="token punctuation">)</span>,pd.DataFrame<span class="token punctuation">(</span>data.comment_count<span class="token punctuation">)</span><span class="token punctuation">]</span>,axis<span class="token operator">=</span>1<span class="token punctuation">)</span><span class="token comment">#提取</span>
views,likes,dislikes,comment_count等四个指标做相关性分析。
rs
</code></pre> 
<p><img src="https://images2.imgbox.com/df/b3/vOHtvS52_o.png" alt="在这里插入图片描述"><br> rs.corr()<br> 相关性矩阵<br> <img src="https://images2.imgbox.com/1b/5f/YbF7O5Qd_o.png" alt="在这里插入图片描述"><br> 相关性散点矩阵图<br> sns.pairplot(rs,height= 3 )<br> <img src="https://images2.imgbox.com/28/c2/MPEp9ZJn_o.png" alt="在这里插入图片描述"><br> 热图1</p> 
<pre><code class="prism language-bash">mask <span class="token operator">=</span> np.zeros_like<span class="token punctuation">(</span>rs.corr<span class="token punctuation">(</span><span class="token punctuation">)</span>,dtype <span class="token operator">=</span> np.bool<span class="token punctuation">)</span><span class="token comment">#mask：用于突出显示某些数据</span>
mask<span class="token punctuation">[</span>np.tril_indices_from<span class="token punctuation">(</span>mask<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> True
sns.heatmap<span class="token punctuation">(</span>rs.corr<span class="token punctuation">(</span><span class="token punctuation">)</span>,mask <span class="token operator">=</span> mask ,vmax <span class="token operator">=</span> 0.3,center <span class="token operator">=</span> 0,square <span class="token operator">=</span> True , linewidths <span class="token operator">=</span> 0.5,cbar_kws<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"shrink"</span>:0.5<span class="token punctuation">}</span><span class="token punctuation">)</span>
plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/59/bd/5LJRhAf0_o.png" alt="在这里插入图片描述"><br> 热图2<img src="https://images2.imgbox.com/b8/4f/nRWnOZ2s_o.png" alt="在这里插入图片描述"><br> 相关性分析，从相关性散点矩阵图可以得出各变量间都存在着的正相关性，特别是likes与views，相关性系数达到了0.83，具有很强的正相关性。</p> 
<h3><a id="33_gropby_150"></a>3.3 gropby分组函数</h3> 
<h4><a id="331_gropbyYouTube_Top20_153"></a>3.3.1 gropby分组函数搜寻YouTube Top20的频道</h4> 
<pre><code class="prism language-bash">by_channel <span class="token operator">=</span> data.groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"channel_title"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.size<span class="token punctuation">(</span><span class="token punctuation">)</span>.sort_values<span class="token punctuation">(</span>ascending <span class="token operator">=</span> False<span class="token punctuation">)</span>.head<span class="token punctuation">(</span>20<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-bash">sns.barplot<span class="token punctuation">(</span> by_channel.values,by_channel.index.values,palette<span class="token operator">=</span><span class="token string">"rocket"</span><span class="token punctuation">)</span>
plt.title<span class="token punctuation">(</span><span class="token string">"Top 20 channels of YouTube"</span><span class="token punctuation">)</span>
plt.xlabel<span class="token punctuation">(</span><span class="token string">"video count"</span><span class="token punctuation">)</span>
plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/88/6f/7W9RwnJf_o.png" alt="在这里插入图片描述"><br> 从上图中可以看到排名前三的频道分别为SET India ，MSNBC，FBC。</p> 
<h4><a id="332_gropby_category_167"></a>3.3.2 gropby分组函数 category类别出现的频率排序</h4> 
<pre><code class="prism language-bash">y_cat <span class="token operator">=</span> data.groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"category"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.size<span class="token punctuation">(</span><span class="token punctuation">)</span>.sort_values<span class="token punctuation">(</span>ascending <span class="token operator">=</span> False<span class="token punctuation">)</span>
sns.barplot<span class="token punctuation">(</span>y_cat.values,y_cat.index.values,palette <span class="token operator">=</span> <span class="token string">"rocket"</span><span class="token punctuation">)</span>
plt.title<span class="token punctuation">(</span><span class="token string">"Most Frenquent Trending Youtube Categories"</span><span class="token punctuation">)</span>
plt.xlabel<span class="token punctuation">(</span><span class="token string">"video count"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d5/30/QSfCfcid_o.png" alt="在这里插入图片描述"><br> 从图中可以得到，出现次数最多的类别排名前三的分别为Entertainment，News&amp;Politics，People&amp;Blogs。</p> 
<h4><a id="333_gropby_Top20_178"></a>3.3.3 gropby分组函数 浏览量最多的Top20频道</h4> 
<pre><code class="prism language-bash">by_channels2  <span class="token operator">=</span> data.groupby<span class="token punctuation">(</span><span class="token string">"channel_title"</span><span class="token punctuation">)</span>.size<span class="token punctuation">(</span><span class="token punctuation">)</span>.sort_values<span class="token punctuation">(</span>ascending <span class="token operator">=</span> False<span class="token punctuation">)</span>
top_channels2 <span class="token operator">=</span> list<span class="token punctuation">(</span>by_channels2<span class="token punctuation">[</span>by_channels2.values<span class="token operator">&gt;=</span>20<span class="token punctuation">]</span>.index.values<span class="token punctuation">)</span>
only_top2 <span class="token operator">=</span> data
<span class="token keyword">for</span> i <span class="token keyword">in</span> list<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"channel_title"</span><span class="token punctuation">]</span>.unique<span class="token punctuation">(</span><span class="token punctuation">))</span>:
    <span class="token keyword">if</span> i  not <span class="token keyword">in</span> top_channels2:
        only_top2 <span class="token operator">=</span> only_top2<span class="token punctuation">[</span>only_top2<span class="token punctuation">[</span><span class="token string">"channel_title"</span><span class="token punctuation">]</span><span class="token operator">!=</span> i <span class="token punctuation">]</span>
 by_views <span class="token operator">=</span> only_top2.groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"channel_title"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.mean<span class="token punctuation">(</span><span class="token punctuation">)</span>.sort_values<span class="token punctuation">(</span>by <span class="token operator">=</span> <span class="token string">"views"</span>,ascending  <span class="token operator">=</span> False<span class="token punctuation">)</span>.head<span class="token punctuation">(</span>20<span class="token punctuation">)</span>
 sns.barplot<span class="token punctuation">(</span>by_views<span class="token punctuation">[</span><span class="token string">"views"</span><span class="token punctuation">]</span>,by_views.index.values,palette<span class="token operator">=</span><span class="token string">"rocket"</span><span class="token punctuation">)</span>
plt.title<span class="token punctuation">(</span><span class="token string">"Top 20 most viewed trending Youtube channels"</span><span class="token punctuation">)</span>
plt.xlabel<span class="token punctuation">(</span><span class="token string">"Average  Views"</span><span class="token punctuation">)</span>
plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
  
</code></pre> 
<p><img src="https://images2.imgbox.com/53/45/ZFe3ge6D_o.png" alt="在这里插入图片描述"><br> 从上图中我们能得出浏览量最多的频道排名前三的分别为Marvel Entertainment，Ed Sheeran ，Sony Pictures Entertainment 。</p> 
<h4><a id="334_gropby__198"></a>3.3.4 gropby分组函数 通关浏览量对类别进行排名</h4> 
<pre><code class="prism language-bash">  by_views_cat <span class="token operator">=</span> data.groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"category"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.mean<span class="token punctuation">(</span><span class="token punctuation">)</span>.sort_values<span class="token punctuation">(</span>by <span class="token operator">=</span> <span class="token string">"views"</span>,ascending <span class="token operator">=</span> False<span class="token punctuation">)</span>   
sns.barplot<span class="token punctuation">(</span>by_views_cat<span class="token punctuation">[</span><span class="token string">"views"</span><span class="token punctuation">]</span>,by_views_cat.index.values,palette<span class="token operator">=</span><span class="token string">"rocket"</span><span class="token punctuation">)</span>
plt.title<span class="token punctuation">(</span><span class="token string">" Category of Youtube viewed"</span><span class="token punctuation">)</span>
plt.xlabel<span class="token punctuation">(</span><span class="token string">"Average Views"</span><span class="token punctuation">)</span>
plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/35/aa/UzUa4cf9_o.png" alt="在这里插入图片描述"><br> 从图中可以看到浏览量排名前三的类别为Music,Movies,Film&amp;Animation,其中最不受欢迎的频道为Travel &amp; Events。<br> 绘制CA国家2017-11-14~2018-6-14，YouTube视频在CA国家受欢迎程度变化。</p> 
<pre><code class="prism language-bash">def show_time<span class="token punctuation">(</span>data, var<span class="token punctuation">)</span>:
    averages <span class="token operator">=</span> data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">"dislikes"</span><span class="token punctuation">]</span> <span class="token operator">!=</span> 0<span class="token punctuation">]</span>.groupby<span class="token punctuation">(</span><span class="token string">"trending_date"</span><span class="token punctuation">)</span>.mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
    plt.plot<span class="token punctuation">(</span>averages.index.values, averages<span class="token punctuation">[</span>var<span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt.xticks<span class="token punctuation">(</span>rotation <span class="token operator">=</span> 90<span class="token punctuation">)</span>
    plt.xlabel<span class="token punctuation">(</span><span class="token string">"Date"</span><span class="token punctuation">)</span>
    plt.ylabel<span class="token punctuation">(</span>f<span class="token string">"Average {var}"</span><span class="token punctuation">)</span>
    plt.title<span class="token punctuation">(</span>f<span class="token string">"Average {var} Over Time (11/14/17 - 6/14/18)"</span><span class="token punctuation">)</span>
    plt.show<span class="token punctuation">(</span><span class="token punctuation">)</span>
show_time<span class="token punctuation">(</span>data,<span class="token string">"idrate"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ff/bc/yL0Pvrpv_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="4__225"></a>4 结论：</h2> 
<p>正如您在上面的图表中看到的，CA国家的人对Music、Entertainment、,Movies关注程度很高。视频的评论越多，它的受欢迎程度就越高，视频的观看数与点赞数也是成很强的正相关性，浏览次数越多，点赞次数就越高。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/444cf00a5e940ab6fcd29813b834d0fc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何更改max_allowed_pa​​cket大小</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2e3e516b3ddce963806ddf0001c0b7f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">7. 主动信息收集-端口扫描</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>