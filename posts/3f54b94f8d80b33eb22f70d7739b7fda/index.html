<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Forge 极简入门 | ArcBlock 博客 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Forge 极简入门 | ArcBlock 博客" />
<meta property="og:description" content="作者： 王仕军（资深前端工程师）
相信你应该已经知道 ArcBlock[1] 是一家什么样的公司：我们坚信区块链会给人类组织和协作方式带来巨大的变革，我们致力于开发简单易用、灵活可扩展的 dApp 开发框架和工具。到目前为止我们已经发布了 Forge 框架[2] 及围绕 Forge 框架的一系列工具。
Forge 工具箱从开始的只包含 Forge 内核，到现在包含能覆盖 dApp 完整生命周期的如下组件：
•Forge 内核: 交易处理引擎、和共识引擎、数据存储层的交互，每周会有大小版本发布•核心智能合约: Forge 内置的交易合约，能够帮助开发者解决 99% 的账户、交易、跨链、链上治理等业务逻辑•Forge Desktop：桌面版链节点•Forge Web: Forge 链节点的 Web 管理界面和区块浏览器•Forge SDK: 各种语言的 SDK，目前支持的语言包括 Elixir、Javascript、Java、Python、Rust•Forge Simulator：流量模拟器•dApp Workshop：dApp 原型工坊•Forge Patron：集成测试工具•Forge Deploy：生产环境大规模部署的工具，目前只支持 AWS•Forge Compiler：智能合约编译工具，跟随 Forge 发版，在 Forge CLI 里面可用
而 Forge CLI 是开发者获取、使用这些工具的最佳路径：只需安装一条命令，就得到了整个区块链工具箱。
本文中我们会演示如何使用 Forge CLI 来完成下面几个事情：
•一键发链发币：创建和配置自己的链以及链上的通证•一键创建 dApp：基于基石程序快速常见能跑在链上的 dApp
安装 Forge CLI 因为 Forge CLI 使用 Node.js 开发，所以安装前需要确保你的电脑上有 Node.js v10.x 及以上的运行环境，检查是否存在 Node." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3f54b94f8d80b33eb22f70d7739b7fda/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-14T12:26:04+08:00" />
<meta property="article:modified_time" content="2019-10-14T12:26:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Forge 极简入门 | ArcBlock 博客</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p><br><img src="https://images2.imgbox.com/86/64/AkflM4kn_o.png"></p> 
 <p style="text-align: left"><strong>作者：</strong> 王仕军（资深前端工程师）</p> 
 <blockquote> 
  <p>相信你应该已经知道 ArcBlock<sup>[1]</sup> 是一家什么样的公司：我们坚信区块链会给人类组织和协作方式带来巨大的变革，我们致力于开发简单易用、灵活可扩展的 dApp 开发框架和工具。到目前为止我们已经发布了 Forge 框架<sup>[2]</sup> 及围绕 Forge 框架的一系列工具。</p> 
 </blockquote> 
 <p style="text-align: left">Forge 工具箱从开始的只包含 Forge 内核，到现在包含能覆盖 dApp 完整生命周期的如下组件：</p> 
 <p style="text-align: left">•Forge 内核: 交易处理引擎、和共识引擎、数据存储层的交互，每周会有大小版本发布•核心智能合约: Forge 内置的交易合约，能够帮助开发者解决 99% 的账户、交易、跨链、链上治理等业务逻辑•Forge Desktop：桌面版链节点•Forge Web: Forge 链节点的 Web 管理界面和区块浏览器•Forge SDK: 各种语言的 SDK，目前支持的语言包括 Elixir、Javascript、Java、Python、Rust•Forge Simulator：流量模拟器•dApp Workshop：dApp 原型工坊•Forge Patron：集成测试工具•Forge Deploy：生产环境大规模部署的工具，目前只支持 AWS•Forge Compiler：智能合约编译工具，跟随 Forge 发版，在 Forge CLI 里面可用</p> 
 <p style="text-align: left">而 Forge CLI 是开发者获取、使用这些工具的最佳路径：只需安装一条命令，就得到了整个区块链工具箱。</p> 
 <p style="text-align: left">本文中我们会演示如何使用 Forge CLI 来完成下面几个事情：</p> 
 <p style="text-align: left">•<strong>一键发链发币</strong>：创建和配置自己的链以及链上的通证•<strong>一键创建 dApp</strong>：基于基石程序快速常见能跑在链上的 dApp</p> 
 <h3>安装 Forge CLI</h3> 
 <p style="text-align: left">因为 Forge CLI 使用 Node.js 开发，所以安装前需要确保你的电脑上有 Node.js v10.x 及以上的运行环境，检查是否存在 Node.js 运行环境的最简单办法是：</p> 
 <pre class="has"><code class="language-bash">node --version
</code></pre> 
 <p style="text-align: left">然后，我们就可以开始安装 Forge CLI，执行：<code>npm install -g @arcblock/forge-cli</code>，等待安装完成，看到如下输出：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/b6/89/gPwD2oIf_o.png"></p> 
 <h3>安装 Forge 发行版本</h3> 
 <p style="text-align: left">接下来，执行 <code>forge install v0.38.4</code>，把 Forge 发行版本安装到本地，安装过程如下图：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/8e/b9/Ly9Nw1bG_o.png"></p> 
 <h3>一键发链和发币</h3> 
 <p style="text-align: left">接下来，我们就可以执行 <code>forge chain:create demo-chain</code> 来创建一条链，并且在链上定义名称为 DCT、总量为 1 亿的通证，配置过程如下图：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/36/c2/01bL1pcs_o.png"></p> 
 <p style="text-align: left">关于自定义配置的部分，我们逐行解释如下：</p> 
 <p style="text-align: left">1.Chain name: <strong>demo-chain</strong>：链的名称为 demo-chain，节点的名称也是这个2.Please input block time (in seconds): <strong>5</strong>：出块时间为 5 秒3.Do you want to customize token config for this chain? <strong>Yes</strong>：选择自定义链上的币4.What's the token name? <strong>Demo Chain Token</strong>：币的名称5.What's the token symbol? <strong>DCT</strong>：币的符号，至少 3 个字符6.What's the token icon? <strong>/Users/wangshijun/.forge_cli/tmp/token.png</strong>：币的图标文件路径，建议正方形的 PNG 图片7.What's the token description? <strong>Token on demo chain</strong>：币的描述8.Please input token total supply: <strong>100000000</strong>：币的总供应量是 1 个亿9.Please input token initial supply: <strong>100000000</strong>：币的初始供应量是 1 个亿10.Please input token decimal: <strong>18</strong>：币的精度是小数点后 18 位11.Do you want to enable "feel lucky" (poke) feature for this chain? <strong>Yes</strong>：允许用户签到领币12.Do you want to customize "feel lucky" (poke) config for this chain? <strong>Yes</strong>：需要自定义签到领币的参数13.How much token to give on a successful poke? <strong>10</strong>：每次签到领币 10 个14.How much token can be poked daily? <strong>1000</strong>：每天最多放出去 1000 个15.How much token can be poked in total? <strong>1460000</strong>：允许签到领币放出去的最多的币数量16.Do you want to include moderator config in the config? <strong>Yes</strong>：自动包含链管理员信息17.Set moderator as token owner of (98540000 DCT) on chain start? <strong>Yes</strong>：把剩余的币放到链管理员账户里面，可以用程序转走</p> 
 <p style="text-align: left">命令执行完毕之后，提示信息如下：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/84/5d/7Ees4BYk_o.png"></p> 
 <p style="text-align: left">根据提示，执行 <code>forge start demo-chain</code> 即可启动测试链，等待 15 秒左右，即可启动成功：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/1e/11/nK1OHHk6_o.png"></p> 
 <p style="text-align: left">刚刚启动的测试链其实是一条单节点的链，本地节点内置了节点的控制台和区块浏览器，执行 <code>forge web open</code> 即可打开控制台：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/35/fc/44tf56bW_o.png"></p> 
 <h3>一键创建 dApp</h3> 
 <p style="text-align: left">有了链之后，我们就可以创建运行在这条链上的去中心化 dApp 了。<strong>Blocklet（基石程序）</strong> 是简化开发者创建 dApp 的可重用构建模块。Blocklet 可以是任何现成的组件、模块、库、前端视图或其他简化构建 dApp（去中心化 dApp）过程的工具。选择一个 Blocklet 后，就可以安装、启动并运行该 Blocklet。除了使用单一的 Blocklet， 用户也可以将多个 Blocklet 组合在一起，用于构建更复杂的 dApp。</p> 
 <p style="text-align: left">基于 ArcBlock 官方提供的 Starter 类型基石程序，我们就可以快速创建一个包含如下功能的 dApp：</p> 
 <p style="text-align: left">•支持用户用 ABT 钱包<sup>[3]</sup> 登录•支持用户扫码签到领币•支持用户支付测试币来解锁加密的文档</p> 
 <p style="text-align: left">执行 <code>forge blocklet:use</code>，选择 <code>forge-react-starter</code>，然后指定 dApp 代码的存放目录为 <code>demo-dapp</code>，如下图：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/8c/15/jQbFXnGa_o.png"></p> 
 <p style="text-align: left">接下来根据提示，配置好 dApp 所必须的参数，配置完毕，<code>forge-react-starter</code> 会自动给 dApp 创建 DID 账户、并且去链上声明 dApp 的 DID（DID 是内置在 Forge 里面的身份解决方案）：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/15/b9/UeKVTv8c_o.png"></p> 
 <p style="text-align: left">关键配置项是测试链的 <code>GraphQL</code> 接口，这个接口在 <code>forge start demo-chain</code> 输出里面最后那列能找到：<code>http://localhost:8211/api</code>。</p> 
 <p style="text-align: left">dApp 创建结束后会有如下图的启动提示：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/b4/77/pjkihodn_o.png"></p> 
 <p style="text-align: left">按照提示进入 dApp 目录，启动 dApp，如果一切正常，你就能在浏览器里面看到 dApp 的首页：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/79/f2/1OJWDrPT_o.png"></p> 
 <p style="text-align: left">点击首页右上角的 "Login" 即可使用 ABT 钱包扫码登录，ABT 钱包的下载地址在这里<sup>[4]</sup>。</p> 
 <p style="text-align: left">整个扫码登录过程和微信扫码登录非常类似：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/f6/67/fdZy59hC_o.png"></p> 
 <p style="text-align: left">在 ABT 钱包上输入 dApp 请求的用户名、邮箱信息，滑动确认，完成登录之后，就跳转到档案页面：<br></p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/ee/9d/1FBpr7Fm_o.png"></p> 
 <p style="text-align: left">点击档案页面的 "GET 25 DCT" 按钮，然后钱包再次扫码，即可领取 10 个测试链上的通证，这里是 10 个而不是 25 个是因为我们签到的配置里面是 10 个，签到完之后，如果刷新用户档案页面，可以看到链上余额已经变成了 10，此时打开测试链的区块浏览器则能看到账户的链上注册和签到操作：<br></p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/fc/49/jICh5wuq_o.png"></p> 
 <p style="text-align: left">dApp 中的支付测试币解锁加密的功能则留给读者去探索，提示：只需要点击档案页面的 "MY PURCHASE" 按钮即可打开支付页面。<br></p> 
 <h3>总结</h3> 
 <p style="text-align: left">如果你对命令行有一定的使用经验，整个发链、发币、发应用的流程走下来会非常快，开发者真正所需要关心的就是自己 dApp 的业务逻辑，而不需要在 dApp 运行环境和底层设施上浪费时间，这就是 Forge 框架和工具箱的初衷和目标，也是 ArcBlock 的愿景：让区块链应用开发变得足够简单。</p> 
 <h4>References</h4> 
 <p style="text-align: left"><code>[1]</code> ArcBlock: <em>https://arcblockio.cn</em><br><code>[2]</code> Forge 框架: <em>https://arcblockio.cn/zh/forge-sdk</em><br><code>[3]</code> ABT 钱包: <em>https://abtwallet.io</em><br><code>[4]</code> 这里: <em>https://abtwallet.io</em></p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/12/ba/6gv94co2_o.png"></p> 
 <p style="text-align: left">更多ArcBlock区块基石信息，可<strong>关注以下渠道</strong>了解：</p> 
 <ul><li><p><strong>官网</strong> | https://www.arcblock.io</p></li><li><p><strong>ABT 链网</strong> | https://www.abtnetwork.io</p></li><li><p><strong>ABT 钱包</strong> | https://abtwallet.io</p></li><li><p><strong>开发者文档</strong> | https://docs.arcblock.io<br></p></li><li><p style="text-align: left"><strong>Twitter</strong> | https://twitter.com/ArcBlock_io</p></li><li><p style="text-align: left"><strong>Facebook</strong> | https://www.facebook.com/arcblock.io/</p></li><li><p style="text-align: left"><strong>LinkedIn</strong> | https://www.linkedin.com/company/18355951/</p></li><li><p style="text-align: left"><strong>Reddit</strong> | https://www.reddit.com/r/arcblock/</p></li><li><p style="text-align: left"><strong>Medium</strong> | https://medium.com/arcblock</p></li><li><p style="text-align: left"><strong>微博</strong> | https://weibo.com/realArcBlock</p></li><li><p style="text-align: left"><strong>微信群 </strong>| 加“ABT共识社区小助手（ID: L520abt1314）”好友入群</p></li><li><p style="text-align: left"><strong>电报群 | Telegram groups:</strong></p><p style="text-align: left"><strong>Telegram (English):</strong> https://t.me/ArcBlock</p><p style="text-align: left"><strong>Telegram (中文):</strong> https://t.me/ArcblockAsian</p></li></ul> 
 <p style="text-align: center">↙<strong><strong><strong><strong>ABT 博客 点击查看</strong></strong></strong></strong></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/312f12e5b4520c09c46b1db104806a03/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C语言】世界上不同国家有不同的写日期的习惯。比如美国人习惯写成“月-日-年”，而中国人习惯写成“年-月-日”。下面请你写个程序，自动把读入的美国格式的日期改写成中国习惯的日期。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48e516698696490f61dde439f573e646/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python tkinter（一） 按钮（Button）组件的属性说明及示例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>