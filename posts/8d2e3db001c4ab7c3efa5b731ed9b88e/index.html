<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql5.7 安装方法 (跟旧的不一样了) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql5.7 安装方法 (跟旧的不一样了)" />
<meta property="og:description" content="MySQL 5.7发布之后很多网友都在说，打开想安装文件夹.但是文件夹中没有DATA目录, 没有mysqly默认库.启动不了数据库，那是因为5.7的数据库的初始化方法和之前的初始化不一样了。 首先这里所描述的过程适用于所有平台的MySQL。5.7.6之前，使用mysql_install_db在UNIX和类UNIX系统。MySQL 5.7.7之前，Windows分布包括了在MySQL数据库建表的数据目录。 MySQL5.7数据库 64位 5.7.10 官方最新版 授权方式：免费软件软件类型：国外软件软件语言：英文软件大小：89.94 MB更新日期：2015-12-08运行环境：WinXP, Win2008, Win7, Win8 下载地址 MySQL5.7 32位 5.7.10 官网最新版 授权方式：免费软件软件类型：国外软件软件语言：英文软件大小：86.2 MB更新日期：2015-12-08运行环境：WinXP, Win2008, Win7, Win8 下载地址 以下说明假定您当前的位置是MySQL的安装目录，这里以BASEDIR为例 1 shell&gt; cd BASEDIR 要初始化数据目录，调用 mysqld的与 --initialize或 --initialize不安全的选项，这取决于你是否希望服务器生成的一个随机初始密码&#39;root&#39;@&#39;本地账号&#39;的账户。 在Windows环境下，使用这些命令： 1 2 C:\&gt; bin\mysqld --initialize C:\&gt; bin\mysqld --initialize-insecure 在Unix和类Unix系统，重要的是要确保数据库的目录和文件都是由拥有 MySQL的登录帐户，以便服务器具有读写访问它们，当你以后运行它。为了确保这一点，如果你运行的mysqld为root，包括 --user选项，如下所示： 1 2 shell&gt; bin/mysqld --initialize --user=mysql shell&gt; bin/mysqld --initialize-insecure --user=mysql 否则，执行程序，而身份登录mysql的，在这种情况下可以省略 --user从命令选项。 无论任何平台，使用 --initialize为“ 默认安全 ”的安装（即包括产生一个随机的初始根密码）。在这种情况下，密码被标记为过期，你需要选择一个新的密码。随着 --initialize-insecure 的选项，没有root口令生成; 假设你把服务器投入使用之前指定一个密码及时查询账户。 如果mysqld的没有标识的安装目录或数据目录的正确位置.它可能需要指定其他选项，如 --basedir或 --datadir.如果mysqld的没有标识的安装目录或数据目录的正确位置。例如（输入在一行上的命令）： 1 2 3 shell&gt; bin/mysqld --initialize --user=mysql --basedir=/opt/mysql/mysql --datadir=/opt/mysql/mysql/data 另外，对于Unix和类Unix系统，假设选择文件名是 /opt/mysql/mysql/etc/my." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8d2e3db001c4ab7c3efa5b731ed9b88e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-01-16T08:52:30+08:00" />
<meta property="article:modified_time" content="2016-01-16T08:52:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql5.7 安装方法 (跟旧的不一样了)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    MySQL 5.7发布之后很多网友都在说，打开想安装文件夹.但是文件夹中没有DATA目录, 没有mysqly默认库.启动不了数据库，那是因为5.7的数据库的初始化方法和之前的初始化不一样了。 
<br> 
<br>首先这里所描述的过程适用于所有平台的MySQL。5.7.6之前，使用mysql_install_db在UNIX和类UNIX系统。MySQL 5.7.7之前，Windows分布包括了在MySQL数据库建表的数据目录。 
<br> 
<br> MySQL5.7数据库 64位 5.7.10 官方最新版 
<br>授权方式：免费软件软件类型：国外软件软件语言：英文软件大小：89.94 MB更新日期：2015-12-08运行环境：WinXP, Win2008, Win7, Win8 
<br>下载地址 
<br> MySQL5.7 32位 5.7.10 官网最新版 
<br>授权方式：免费软件软件类型：国外软件软件语言：英文软件大小：86.2 MB更新日期：2015-12-08运行环境：WinXP, Win2008, Win7, Win8 
<br>下载地址 
<br>以下说明假定您当前的位置是MySQL的安装目录，这里以BASEDIR为例 
<br> 
<br>1 
<br>shell&gt; cd BASEDIR 
<br>要初始化数据目录，调用 mysqld的与 --initialize或 --initialize不安全的选项，这取决于你是否希望服务器生成的一个随机初始密码'root'@'本地账号'的账户。 
<br> 
<br>在Windows环境下，使用这些命令： 
<br> 
<br>1 
<br>2 
<br>C:\&gt; bin\mysqld --initialize 
<br>C:\&gt; bin\mysqld --initialize-insecure 
<br>在Unix和类Unix系统，重要的是要确保数据库的目录和文件都是由拥有 MySQL的登录帐户，以便服务器具有读写访问它们，当你以后运行它。为了确保这一点，如果你运行的mysqld为root，包括 --user选项，如下所示： 
<br> 
<br>1 
<br>2 
<br>shell&gt; bin/mysqld --initialize --user=mysql 
<br>shell&gt; bin/mysqld --initialize-insecure --user=mysql 
<br>否则，执行程序，而身份登录mysql的，在这种情况下可以省略 --user从命令选项。 
<br> 
<br>无论任何平台，使用 --initialize为“ 默认安全 ”的安装（即包括产生一个随机的初始根密码）。在这种情况下，密码被标记为过期，你需要选择一个新的密码。随着 --initialize-insecure 的选项，没有root口令生成; 假设你把服务器投入使用之前指定一个密码及时查询账户。 
<br> 
<br>如果mysqld的没有标识的安装目录或数据目录的正确位置.它可能需要指定其他选项，如 --basedir或 --datadir.如果mysqld的没有标识的安装目录或数据目录的正确位置。例如（输入在一行上的命令）： 
<br> 
<br>1 
<br>2 
<br>3 
<br>shell&gt; bin/mysqld --initialize --user=mysql 
<br> --basedir=/opt/mysql/mysql 
<br> --datadir=/opt/mysql/mysql/data 
<br>另外，对于Unix和类Unix系统，假设选择文件名是 /opt/mysql/mysql/etc/my.cnf。把相关的选项设置中的选项文件和传递文件命名为 mysqld的。把文件中的这几行： 
<br> 
<br>1 
<br>2 
<br>3 
<br>[mysqld] 
<br>basedir=/opt/mysql/mysql 
<br>datadir=/opt/mysql/mysql/data 
<br>然后调用mysqld，如下（输入上的一行命令 -- --defaults-file第一个选项）： 
<br> 
<br>1 
<br>2 
<br>shell&gt; bin/mysqld --defaults-file=/opt/mysql/mysql/etc/my.cnf 
<br> --initialize --user=mysql 
<br>在Windows中，假设C：\ my.ini中包含这些命令： 
<br> 
<br>1 
<br>2 
<br>3 
<br>[mysqld] 
<br>basedir=C:\\Program Files\\MySQL\\MySQL Server 5.7 
<br>datadir=D:\\MySQLdata 
<br>然后调用mysqld.如下（--defaults-file必须是第一个选项） 
<br> 
<br>1 
<br>C:\&gt; bin/mysqld --defaults-file=C:\my.ini --initialize 
<br>当调用的 --initialize或 --initialize-insecure选项 ，mysqld执行下面的初始化程序。 
<br> 
<br>注意 
<br> 
<br>服务器写入的任何消息，以它的标准错误输出。这可能会被重定向到错误日志. 
<br> 
<br>服务器会检查数据目录，如下所示的存在： 
<br> 
<br>如果没有数据目录存在，则服务器将创建它。 
<br> 
<br>如果数据目录存在并且不为空（即，它包含文件或子目录），产生一个错误消息后在服务器退出： 
<br> 
<br>1 
<br>[ERROR] --initialize specified but the data directory exists. Aborting. 
<br>1.在这种情况下，删除或重命名数据目录，然后重试。 
<br> 
<br>在MySQL 5.7.11中，现有的数据目录允许非空，如果每个条目或者具有开头一段的名称（.），请使用名为--ignore-db-dir 设置。 
<br> 
<br>2.在数据目录中，服务器创建 的mysql系统数据库及其表，其中包括授权表，服务器端帮助表，时区表。 
<br> 
<br>3.服务器初始化system tablespace 和管理所需的相关数据结构的InnoDB表。 
<br> 
<br>注意 
<br> 
<br>经过mysqld的设置了 InnoDB的system tablespace，改变一些表空间的特性需要建立一个全新的实例。这包括在system tablespace的第一个文件，撤销日志的数量的文件名 ​​。在配置文件运行前的mysqld。如果你不想使用默认值，请确保该设置innodb_data_file_path中 和innodb_log_file_size 参数配置到位.同时一定要指定影响的创建和位置需要其他参数 InnoDB的文件，如 innodb_data_home_dir和 innodb_log_group_home_dir。 
<br> 
<br>如果这些选项在您的配置文件中文，但该文件是不是在MySQL的读取默认的位置，使用指定文件位置 --defaults-extra-file设置. 
<br> 
<br>4.服务器创建一个'root'@'localhost'的超级用户帐户。对于该帐号的密码，服务器的操作取决于你如何调用它： 
<br> 
<br>-- 当用 --initialize账户而不用--initialize-insecure账户时。服务器生成一个随机的密码，将其标记为已过期，并写入显示密码的消息： 
<br> 
<br>1 
<br>2 
<br>[Warning] A temporary password is generated for root@localhost: 
<br>iTag*AfrH5ej 
<br>-- 当用 --initialize-insecure账户时候。服务器不会生成一个密码，会将其标记为过期，并写入一条警告消息： 
<br> 
<br>1 
<br>2 
<br>Warning] root@localhost is created with an empty password ! Please 
<br>consider switching off the --initialize-insecure option. 
<br>5.如果--init-file选项被给出以命名的SQL语句的文件时，服务器执行文件中的语句。可以进行自定义的引导序列。 
<br> 
<br>服务器工作在引导方式，一些功能是不可用，限制在文件中所允许的语句。这些措施包括，涉及到账户管理（如报表CREATE USER或 GRANT），复制和标识符。 
<br> 
<br>6.然后退出服务器 
<br> 
<br>当您通过启动服务器初始化数据目录--initialize或--initialize-insecure，正常启动的服务器（也就是没有任何的这些选项），并指定'root'@'localhost'的一个新密码： 
<br> 
<br>---启动服务器。 
<br> 
<br>---链接到服务器.. 
<br> 
<br>如果你使用--initialize 但不使用--initialize-insecure初始化数据目录，连接到服务器的 根目录使用的随机密码，服务器初始化过程中产生的： 
<br> 
<br>1 
<br>2 
<br>shell&gt; mysql -u root -p 
<br>Enter password: (enter the random root password here) 
<br>如果您不知道该密码，查看服务器错误日志。 
<br> 
<br>如果你使用--initialize-insecure初始化数据目录连接到服务器的root没有密码： 
<br> 
<br>1 
<br>shell&gt; mysql -u root --skip-password 
<br>---连接后，会分配一个新的root密码： 
<br> 
<br>1 
<br>mysql&gt; ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password'; 
<br>注意 
<br> 
<br>由服务器执行的数据目录初始化序列不能代替被执行的操作 mysql_secure_installation或 mysql_ssl_rsa_setup。 
<br> 
<br>本文地址：http://www.7down.net/article/81736.html 
<br>MySQL5.7数据库的初始化方法由第7下载整理并发布，欢迎转载！
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8a951a8653cd2589fd1a66c0688d3ee4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL存储过程的动态行转列</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf05b90cfabe90a06c03d29d20650b3b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java算法---华为oj矩阵乘法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>