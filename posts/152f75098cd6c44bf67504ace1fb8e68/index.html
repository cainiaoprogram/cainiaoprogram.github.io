<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Djangoæ¨¡ç‰ˆè¿‡æ»¤å™¨Markdown - èœé¸Ÿç¨‹åºå‘˜åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Djangoæ¨¡ç‰ˆè¿‡æ»¤å™¨Markdown" />
<meta property="og:description" content="Djangoæœ‰å¾ˆå¤šå†…ç½®çš„æ¨¡æ¿è¿‡æ»¤å™¨ï¼Œå…è®¸ä½ ä¿®æ”¹æ¨¡æ¿ä¸­çš„å˜é‡ã€‚è¿‡æ»¤å™¨çœ‹èµ·æ¥{{variable|my_filter}}ã€‚ å¸¦å‚æ•°çš„è¿‡æ»¤å™¨ç±»ä¼¼äº{{variable|my_filter:&#34;foo&#34;}}ã€‚æ‚¨å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡åº”ç”¨ä»»æ„å¤šçš„è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚ï¼Œ{{variable|filter1|filter2}}ï¼Œå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªéƒ½å°†åº”ç”¨äºå‰é¢ç”Ÿæˆçš„è¾“å‡ºã€‚
åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨åšå®¢æ–‡ç« ä¸­ä½¿ç”¨markdownè¯­æ³•ï¼Œç„¶ååœ¨æ¨¡æ¿ä¸­å°†æ–‡ç« å†…å®¹è½¬æ¢ä¸ºHTMLã€‚
ä½¿ç”¨pipå®‰è£…markdownæ¨¡å—
python -m pip install Markdown ç¼–è¾‘blog_tags.py
from django import template from django.utils.safestring import mark_safe import markdown register = template.Library() @register.filter(name=&#39;markdown&#39;) def markdown_format(text): return mark_safe(markdown.markdown(text)) blog_tagsçš„ä»£ç åœ¨è‡ªå®šä¹‰æ¨¡ç‰ˆæ ‡ç­¾æ—¶åˆ›å»ºï¼Œæ›´å¤šå†…å®¹è¯·çœ‹
Djangoè‡ªå®šä¹‰æ¨¡ç‰ˆæ ‡ç­¾-CSDNåšå®¢
ä¸ºäº†é¿å…å‡½æ•°åå’Œmarkdownæ¨¡å—ä¹‹é—´çš„å†²çªï¼Œæˆ‘ä»¬å°†å‡½æ•°åå‘½åä¸ºmarkdown_formatï¼Œå¹¶å°†è¿‡æ»¤å™¨åå‘½åä¸ºmarkdownï¼Œä»¥ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚{{variable|markdown}}ã€‚ Djangoä¼šè½¬ä¹‰è¿‡æ»¤å™¨ç”Ÿæˆçš„HTMLä»£ç ã€‚ä½¿ç”¨Djangoæä¾›çš„mark_safeå‡½æ•°å°†ç»“æœæ ‡è®°ä¸ºæ¨¡æ¿ä¸­å‘ˆç°çš„å®‰å…¨HTMLã€‚
ğŸ“Œté»˜è®¤æƒ…å†µä¸‹ï¼ŒDjangoä¸ä¼šä¿¡ä»»ä»»ä½•HTMLä»£ç ï¼Œå¹¶ä¸”ä¼šåœ¨å°†å…¶æ”¾å…¥è¾“å‡ºä¹‹å‰è¿›è¡Œè½¬ä¹‰ã€‚å”¯ä¸€çš„ä¾‹å¤–æ˜¯é‚£äº›è¢«æ ‡è®°ä¸ºå¯å®‰å…¨è½¬ä¹‰çš„å˜é‡ã€‚
ç°åœ¨ï¼Œåœ¨å¸–å­åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯æ¨¡æ¿ä¸­åŠ è½½æ¨¡æ¿æ ‡è®°æ¨¡å—ã€‚
åœ¨blog/post/list.htmlå’Œblog/post/detail.htmlæ¨¡æ¿çš„é¡¶éƒ¨{% extends %}æ ‡ç­¾ä¹‹åæ·»åŠ ä»¥ä¸‹ä¸€è¡Œ:
{% load blog_tags %}
ç¼–è¾‘ post/detail.htmlæ¨¡ç‰ˆ
{{ post.body|linebreaks }}
æ›¿æ¢ä¸º
{{ post.body|markdown }}
ç¼–è¾‘post/list.html æ¨¡ç‰ˆ
{{ post.body|truncatewords:30|linebreaks }}
æ›¿æ¢ä¸º
{{ post.body|markdown|truncatewords_html:30 }}
ğŸ“Œtruncatewords_htmlè¿‡æ»¤å™¨åœ¨ä¸€å®šæ•°é‡çš„å•è¯ä¹‹åæˆªæ–­å­—ç¬¦ä¸²ï¼Œé¿å…æœªå…³é—­çš„HTMLæ ‡è®°ã€‚
æœ‰å…³è‡ªå®šä¹‰è¿‡æ»¤å™¨æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹å¦‚ä½•ç¼–å†™è‡ªå®šä¹‰çš„æ¨¡æ¿æ ‡ç­¾å’Œè¿‡æ»¤å™¨ | Django æ–‡æ¡£ | Django (djangoproject.com)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/152f75098cd6c44bf67504ace1fb8e68/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-07T10:19:32+08:00" />
<meta property="article:modified_time" content="2024-01-07T10:19:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èœé¸Ÿç¨‹åºå‘˜åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èœé¸Ÿç¨‹åºå‘˜åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Djangoæ¨¡ç‰ˆè¿‡æ»¤å™¨Markdown</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#0d0016;">Djangoæœ‰å¾ˆå¤šå†…ç½®çš„æ¨¡æ¿è¿‡æ»¤å™¨ï¼Œå…è®¸ä½ ä¿®æ”¹æ¨¡æ¿ä¸­çš„å˜é‡ã€‚è¿‡æ»¤å™¨çœ‹èµ·æ¥{<!-- -->{variable|my_filter}}ã€‚ Â </span></p> 
<p><span style="color:#0d0016;">å¸¦å‚æ•°çš„è¿‡æ»¤å™¨ç±»ä¼¼äº{<!-- -->{variable|my_filter:"foo"}}ã€‚æ‚¨å¯ä»¥å¯¹ä¸€ä¸ªå˜é‡åº”ç”¨ä»»æ„å¤šçš„è¿‡æ»¤å™¨ï¼Œä¾‹å¦‚ï¼Œ{<!-- -->{variable|filter1|filter2}}ï¼Œå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªéƒ½å°†åº”ç”¨äºå‰é¢ç”Ÿæˆçš„è¾“å‡ºã€‚</span></p> 
<p><span style="color:#0d0016;">åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨åšå®¢æ–‡ç« ä¸­ä½¿ç”¨markdownè¯­æ³•ï¼Œç„¶ååœ¨æ¨¡æ¿ä¸­å°†æ–‡ç« å†…å®¹è½¬æ¢ä¸ºHTMLã€‚</span></p> 
<p><span style="color:#0d0016;">ä½¿ç”¨pipå®‰è£…markdownæ¨¡å—</span></p> 
<pre><code class="language-bash">python -m pip install Markdown</code></pre> 
<p><span style="color:#0d0016;">ç¼–è¾‘blog_tags.py</span></p> 
<pre><code class="language-python">from django import template
from django.utils.safestring import mark_safe
import markdown

register = template.Library()

@register.filter(name='markdown')
def markdown_format(text):
Â  Â  return mark_safe(markdown.markdown(text))</code></pre> 
<p>blog_tagsçš„ä»£ç åœ¨è‡ªå®šä¹‰æ¨¡ç‰ˆæ ‡ç­¾æ—¶åˆ›å»ºï¼Œæ›´å¤šå†…å®¹è¯·çœ‹</p> 
<p><a href="https://blog.csdn.net/Q1780020/article/details/135422504?spm=1001.2014.3001.5501" title="Djangoè‡ªå®šä¹‰æ¨¡ç‰ˆæ ‡ç­¾-CSDNåšå®¢">Djangoè‡ªå®šä¹‰æ¨¡ç‰ˆæ ‡ç­¾-CSDNåšå®¢</a></p> 
<p></p> 
<p><span style="color:#0d0016;">ä¸ºäº†é¿å…å‡½æ•°åå’Œmarkdownæ¨¡å—ä¹‹é—´çš„å†²çªï¼Œæˆ‘ä»¬å°†å‡½æ•°åå‘½åä¸ºmarkdown_formatï¼Œå¹¶å°†è¿‡æ»¤å™¨åå‘½åä¸ºmarkdownï¼Œä»¥ä¾¿åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚{<!-- -->{variable|markdown}}ã€‚ Â </span></p> 
<p><span style="color:#0d0016;">Djangoä¼šè½¬ä¹‰è¿‡æ»¤å™¨ç”Ÿæˆçš„HTMLä»£ç ã€‚ä½¿ç”¨Djangoæä¾›çš„mark_safeå‡½æ•°å°†ç»“æœæ ‡è®°ä¸ºæ¨¡æ¿ä¸­å‘ˆç°çš„å®‰å…¨HTMLã€‚</span></p> 
<blockquote> 
 <p><span style="color:#0d0016;">ğŸ“Œté»˜è®¤æƒ…å†µä¸‹ï¼ŒDjangoä¸ä¼šä¿¡ä»»ä»»ä½•HTMLä»£ç ï¼Œå¹¶ä¸”ä¼šåœ¨å°†å…¶æ”¾å…¥è¾“å‡ºä¹‹å‰è¿›è¡Œè½¬ä¹‰ã€‚å”¯ä¸€çš„ä¾‹å¤–æ˜¯é‚£äº›è¢«æ ‡è®°ä¸ºå¯å®‰å…¨è½¬ä¹‰çš„å˜é‡ã€‚</span></p> 
</blockquote> 
<p><span style="color:#0d0016;">ç°åœ¨ï¼Œåœ¨å¸–å­åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯æ¨¡æ¿ä¸­åŠ è½½æ¨¡æ¿æ ‡è®°æ¨¡å—ã€‚</span></p> 
<p><span style="color:#0d0016;">åœ¨blog/post/list.htmlå’Œblog/post/detail.htmlæ¨¡æ¿çš„é¡¶éƒ¨{% extends %}æ ‡ç­¾ä¹‹åæ·»åŠ ä»¥ä¸‹ä¸€è¡Œ:</span></p> 
<p><span style="color:#7b7f82;">{% load blog_tags %}</span></p> 
<p><span style="color:#0d0016;">ç¼–è¾‘ post/detail.htmlæ¨¡ç‰ˆ</span><br><s><span style="color:#7b7f82;">{<!-- -->{ post.body|linebreaks }}</span></s><br><span style="color:#0d0016;">æ›¿æ¢ä¸º</span><br><span style="color:#7b7f82;">{<!-- -->{ post.body|markdown }}</span></p> 
<p><span style="color:#0d0016;">ç¼–è¾‘post/list.html æ¨¡ç‰ˆ</span><br><s><span style="color:#7b7f82;">{<!-- -->{ post.body|truncatewords:30|linebreaks }}</span></s><br><span style="color:#0d0016;">æ›¿æ¢ä¸º</span><br><span style="color:#7b7f82;">{<!-- -->{ post.body|markdown|truncatewords_html:30 }}</span></p> 
<blockquote> 
 <p><span style="color:#0d0016;">ğŸ“Œtruncatewords_htmlè¿‡æ»¤å™¨åœ¨ä¸€å®šæ•°é‡çš„å•è¯ä¹‹åæˆªæ–­å­—ç¬¦ä¸²ï¼Œé¿å…æœªå…³é—­çš„HTMLæ ‡è®°ã€‚</span></p> 
</blockquote> 
<p><span style="color:#0d0016;">æœ‰å…³è‡ªå®šä¹‰è¿‡æ»¤å™¨æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹</span><a href="https://docs.djangoproject.com/zh-hans/5.0/howto/custom-template-tags/" rel="nofollow" title="å¦‚ä½•ç¼–å†™è‡ªå®šä¹‰çš„æ¨¡æ¿æ ‡ç­¾å’Œè¿‡æ»¤å™¨ | Django æ–‡æ¡£ | Django (djangoproject.com)">å¦‚ä½•ç¼–å†™è‡ªå®šä¹‰çš„æ¨¡æ¿æ ‡ç­¾å’Œè¿‡æ»¤å™¨ | Django æ–‡æ¡£ | Django (djangoproject.com)</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/37708951515f73bddd24294b5090ec7c/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">Kubernetes å­¦ä¹ æ€»ç»“ï¼ˆ45ï¼‰â€”â€” æ‡‚ Pod å°±æ‡‚äº† Kubernetes çš„ä¸€åŠ</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f3d545f5d587d67aab56dc29afee25df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">è°·æ­Œchromeæµè§ˆå™¨å‡çº§ 120.0 åä¹¦ç­¾æ˜¾ç¤ºå˜é»‘å˜ç²—çš„è§£å†³æ–¹å¼</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 èœé¸Ÿç¨‹åºå‘˜åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>