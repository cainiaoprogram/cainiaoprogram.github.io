<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>隔离模块介绍-隔离信号模块-光耦 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="隔离模块介绍-隔离信号模块-光耦" />
<meta property="og:description" content="最近项目中涉及到强电和弱电混合设计，所以相关的“隔离”就显得尤为重要，以下是一些自己收集到的资料，本人能力尚浅，说错的地方敬请见谅。 这里将隔离模块分为隔离电源模块和隔离信号模块部分，分别以隔离电源模块和光耦为目标进行介绍，大部分数据都来自相应的数据手册，侵删！
隔离模块介绍-隔离信号模块-光耦 光耦的内容可能比较多，可能会从以下几个方面进行介绍：
光耦电阻的选择光耦电路的真值表光耦电路的应用
1.介绍 1.1普通光耦 来源：网上收集 光电耦合器亦称光电隔离器，简称光耦。光电耦合器以光为媒介传输电信号。它对输入、输出电信号有良好的隔离作用，所以，它在各种电路中得到广泛的应用。目前它已成为种类最多、用途最广的光电器件之一。光耦合器一般由三部分组成：光的发射、光的接收及信号放大。输入的电信号驱动发光二极管（LED），使之发出一定波长的光，被光探测器接收而产生光电流，再经过进一步放大后输出。这就完成了电—光—电的转换，从而起到输入、输出、隔离的作用。由于光耦合器输入输出间互相隔离，电信号传输具有单向性等特点，因而具有良好的电绝缘能力和抗干扰能力。 常用光糯合器内电路如图1所示。分为四引脚和六引脚两种。
1）四引脚的光糊合器的输入端为个发光极管，般由砷化嫁发光一极、磷化馈或磷砷闸化嫁等发光二极担任，①脚为正极，②脚为负极。输出端为光敏晶体管，③脚为光敏晶体管的发射极，④脚为光敏晶体管的集电极。2）六引脚的光稠合器的输人端①脚仍为发光二极管的正极，②脚仍为发光二极管的负极。输出端的③脚为空脚，④脚为光敏晶体管的集电极，⑤脚为光敏晶体管的发射极，⑥脚为光敏晶体管的基极。
图1所示光藕合器的内部电内部电路图 1.1线性光耦 来自：http://www.elecfans.com/yuanqijian/guangou/20180409659103.html
光隔离是一种很常用的信号隔离形式。常用光耦器件及其外围电路组成。由于光耦电路简单，在数字隔离电路或数据传输电路中常常用到，如UART协议的20mA电流环。对于模拟信号，光耦因为输入输出的线形较差，并且随温度变化较大，限制了其在模拟信号隔离的应用。
对于高频交流模拟信号，变压器隔离是最常见的选择，但对于支流信号却不适用。一些厂家提供隔离放大器作为模拟信号隔离的解决方案，如ADI的AD202，能够提供从直流到几K的频率内提供0.025%的线性度，但这种隔离器件内部先进行电压- 频率转换，对产生的交流信号进行变压器隔离，然后进行频率-电压转换得到隔离效果。集成的隔离放大器内部电路复杂，体积大，成本高，不适合大规模应用。
模拟信号隔离的一个比较好的选择是使用线形光耦。线性光耦的隔离原理与普通光耦没有差别，只是将普通光耦的单发单收模式稍加改变，增加一个用于反馈的光接受电路用于反馈。这样，虽然两个光接受电路都是非线性的，但两个光接受电路的非线性特性都是一样的，这样，就可以通过反馈通路的非线性来抵消直通通路的非线性，从而达到实现线性隔离的目的。
市场上的线性光耦有几中可选择的芯片，如Agilent公司的HCNR200/201，TI子公司TOAS的TIL300，CLARE的LOC111等。这里以HCNR200/201为例介绍。
HCNR201的结构及工作原理 HCNR201光电耦合器是一种由三个光电元件组成的器件，主要技术指标如下：
具有±5％的传输增益误差和±0．05％的线性误差；具有DC～1MHz的带宽；绝缘电阻高达1013Ω，输入与输出回路之间的分布电容为0．4pF；耐压能力为一分钟5000V，最大绝缘工作电压为1414V；具有0～15V的输入／输出范围。 HCNR201光电耦合器的内部结构如图1所示，其中LED为铝砷化镓发光二极管，PD1、PD2是两个相邻匹配的光敏二极管，这种封装结构决定了每一个光敏二极管都能从LED得到近似的光照，因而消除了LED的非线性和偏差特性所带来的误差。当电流流过LED时，LED发出的光被耦合到PD1与PD2，从而在器件输出端产生与光强成正比的输出电流。 在使用时，可将第3、4输出端与第1、2输入端一起接入控制回路，其中第3、4端的光敏二极管起反馈作用，它可将产生的输出电流再反馈到第1、2端的LED上，以对输入信号进行反馈控制。 工作原理 hcnr201的led、pd1及运放a1等组成隔离电路的输入部分，pd2及运放a2等组成隔离电路的输出部分。设隔离电路输入电压为vin，输出电压为vout，led上电流为if，二极管pd1上产生的电流为ipd1，二极管pd2上产生的电流为ipd2，如图2所示。 图2 线性光耦hcnr201模拟电压隔离电路 隔离电路中pd1形成了负反馈，当有电压vin输入时，运放a1的输出使led上有电流if流过，且输入电压的变化体现在电流if上，并驱动led发光把电信号转变成光信号。led发出的光被pd1探测到并产生光电流ipd1。同时，输入电压vin也会产生电流流过r1。假定a1是理想运放，则没有电流流入a1的输入端，流过r1的电流将会流过pd1到地，因此，ipd1=vin/r1。注意，ipd1只取决于输入电压vin和r1的值，与led的光输出特性无关。又因led发出的光同时照射在两个光敏二极管上，且pd1和pd2完全相同的，理想情况下ipd2应该等于ipd1。定义一个系数k，有ipd1=kipd2，k约为1±5%（当芯片制作完成后随之确定）。运放a2和电阻r2把ipd2转变成输出电压vout，有vout=ipd2r2，组合上面的3个方程得到输出电压和输入电压关系：vout/vin=kr2/r1，因此，输出电压vout具有稳定性和线性，其增益可通过调整r2与r1的值来实现，通常取r1和r2的值相同。
隔离电路中电阻r1起限流作用。r3用于控制led的发光强度，从而对控制通道增益起一定作用。电容c1、c2为反馈电容，用于提高电路的稳定性。运算放大器a1的作用是把电压信号转变成电流信号，运算放大器a2的作用是把光耦输出的电流信号转变为电压信号，并增强负载驱动能力。
线性光耦的使用实例（一） 在某随动检测系统中，需要用检测板对系统中的各电路板的参数进行监测，以对工作不正常的电路板给出故障指示，并用单片机来处理检测结果。由于实际工作环境比较恶劣，为了防止干扰信号由采集信道进入检测板及保证单片机系统工作正常，笔者采用光电耦合器来实现信号的传输。由于光电耦合器的发光二极管为电流驱动器件，因而应以电流环路的形式进行传送，而且电流环路是低阻抗电路，它对噪声的敏感度较低，因此提高了电路的抗干扰能力。有时干扰噪声虽有较大的电压幅度，但其能量小，所以只能形成微弱的电流，而光电耦合器输入部分的发光二极管是在电流状态下工作的，只有在通过一定强度的电流时才能发光，因此，即使有很高电压幅值的干扰，也会因其所形成的电流大小而被抑制掉。
在实际检测电路的某一采集信道中，如需对一组差动输入信号进行检测，可将电路接成如图3所示的连接方式。图中，通过放大器N1可将输入的差动信号变为单边信号后输出。由于二极管V1和V2的作用，当输入信号为正时，V2导通，V1截止，放大器N2呈开环状态，光耦N5工作，N4关断；而当输入信号为负时，则正好相反。当HCNR201的第3、4端的光敏二极管受光后，其输出信号将反馈到放大器的输入端，以提高光耦的线性并减少温漂。第5、6端输出的信号经运放放大后输出。电位器RP1的作用是调节运放输入偏置电流的大小。电容C2、C3为反馈电容，可用于提高电路的稳定性，消除自激振荡，滤除电路中的毛刺信号，降低电路的输出噪声，其容值可根据电路的频率特性来选取。放大器N6的作用是把光耦输出的电流信号转变为电压信号以供后级电路使用，并增强负载驱动能力，降低输出阻抗。调整电阻RP2的值可以调整信道的增益。 线性光耦的使用实例（二） 设输入端电压为Vin，输出端电压为Vout，光耦保证的两个电流传递系数分别为K1、K2，显然，，和之间的关系取决于和之间的关系。
将前级运放的电路提出来看，如下图所示： 设运放负端的电压为，运放输出端的电压为，在运放不饱和的情况下二者满足下面的关系：
Vo=Voo-GVi （1）
其中是在运放输入差模为0时的输出电压，G为运放的增益，一般比较大。
忽略运放负端的输入电流，可以认为通过R1的电流为IP1，根据R1的欧姆定律得： 其中，为光耦2脚的电压，考虑到LED导通时的电压（）基本不变，这里的作为常数对待。
根据光耦的特性，即
K1=IP1/IF （4）
将和的表达式代入上式，可得： 辅助电路与参数确定
上面的推导都是假定所有电路都是工作在线性范围内的，要想做到这一点需要对运放进行合理选型，并且确定电阻的阻值。
运放选型
运放可以是单电源供电或正负电源供电，上面给出的是单电源供电的例子。为了能使输入范围能够从0到VCC，需要运放能够满摆幅工作，另外，运放的工作速度、压摆率不会影响整个电路的性能.TI公司的LMV321单运放电路能够满足以上要求，可以作为HCNR200/201的外围电路。
阻值确定
电阻的选型需要考虑运放的线性范围和线性光耦的最大工作电流IFmax.K1已知的情况下，IFmax又确定了IPD1的最大值IPD1max，这样，由于Vo的范围最小可以为0，由于考虑到IFmax大有利于能量的传输，这样，一般取另外，由于工作在深度负反馈状态的运放满足虚短特性，因此，考虑IPD1的限制，这样，R2的确定可以根据所需要的放大倍数确定，例如如果不需要方法，只需将R2=R1即可。
另外由于光耦会产生一些高频的噪声，通常在R2处并联电容，构成低通滤波器，具体电容的值由输入频率以及噪声频率确定。
参数确定实例
假设确定Vcc=5V，输入在0-4V之间，输出等于输入，采用LMV321运放芯片以及上面电路，下面给出参数确定的过程。
确定IFmax:HCNR200/201的手册上推荐器件工作的25mA左右;
确定R3:R3=5V/25mA=200;
确定R1：;
确定R2:R2=R1=32K.
2.光耦电阻的选择 来自：http://www.360doc.com/content/16/1222/22/18548705_616929449.shtml
上面两图是型号为PS2501-1的电路原理图，是最基本的也是最常用的光耦的原理图，光耦内部由发光二极管和光电三极管构成，当发光二极管发光时，如果光强达到要求，光电三极管就会导通。
其中，1脚就是发光二极管的阳极，2脚就是发光二极管的阴极，3脚是三极管的发射极，4脚是三极管的集电极。
2.1发光二极管电阻的选择 数据手册中，IF是发光二极管的允许最大正向电流，值是80mA。这是需要考虑的第一个条件。 再看第二张图，VF是二极管上的电压，图中给出，当IF是10mA的时候，VF的值最大是1.4V。这是需要考虑的第二个条件。
我们需要考虑的第三个条件就是，你使用3.3V的电压驱动？还是用5V的电压驱动？
确定最小初级电阻 在手册中找到前向电压和前向电流的关系曲线，用来确定初级最小限流电阻。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6cdabea289dbf7457503357e32736983/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-14T11:42:21+08:00" />
<meta property="article:modified_time" content="2018-09-14T11:42:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">隔离模块介绍-隔离信号模块-光耦</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>　　最近项目中涉及到强电和弱电混合设计，所以相关的“隔离”就显得尤为重要，以下是一些自己收集到的资料，本人能力尚浅，说错的地方敬请见谅。 <br> 　　这里将隔离模块分为隔离电源模块和隔离信号模块部分，分别以隔离电源模块和光耦为目标进行介绍，大部分数据都来自相应的数据手册，侵删！</p> 
<h2 id="隔离模块介绍-隔离信号模块-光耦">隔离模块介绍-隔离信号模块-光耦</h2> 
<p>光耦的内容可能比较多，可能会从以下几个方面进行介绍：</p> 
<ul><li>光耦电阻的选择</li><li>光耦电路的真值表</li><li><p>光耦电路的应用</p> <h3 id="1介绍">1.介绍</h3> <h5 id="11普通光耦">1.1普通光耦</h5> <p>来源：网上收集 <br> 　 <br> 　　光电耦合器亦称光电隔离器，简称光耦。光电耦合器以光为媒介传输电信号。它对输入、输出电信号有良好的隔离作用，所以，它在各种电路中得到广泛的应用。目前它已成为种类最多、用途最广的光电器件之一。光耦合器一般由三部分组成：光的发射、光的接收及信号放大。输入的电信号驱动发光二极管（LED），使之发出一定波长的光，被光探测器接收而产生光电流，再经过进一步放大后输出。这就完成了电—光—电的转换，从而起到输入、输出、隔离的作用。由于光耦合器输入输出间互相隔离，电信号传输具有单向性等特点，因而具有良好的电绝缘能力和抗干扰能力。 <br> 　　常用光糯合器内电路如图1所示。分为四引脚和六引脚两种。</p></li><li>1）四引脚的光糊合器的输入端为个发光极管，般由砷化嫁发光一极、磷化馈或磷砷闸化嫁等发光二极担任，①脚为正极，②脚为负极。输出端为光敏晶体管，③脚为光敏晶体管的发射极，④脚为光敏晶体管的集电极。</li><li><p>2）六引脚的光稠合器的输人端①脚仍为发光二极管的正极，②脚仍为发光二极管的负极。输出端的③脚为空脚，④脚为光敏晶体管的集电极，⑤脚为光敏晶体管的发射极，⑥脚为光敏晶体管的基极。</p> <p>　　图1所示光藕合器的内部电内部电路图 <br> <img src="https://images2.imgbox.com/c5/a2/xCFtUd3o_o.png" alt="这里写图片描述" title=""></p></li></ul> 
<h5 id="11线性光耦">1.1线性光耦</h5> 
<p>来自：<a href="http://www.elecfans.com/yuanqijian/guangou/20180409659103.html" rel="nofollow">http://www.elecfans.com/yuanqijian/guangou/20180409659103.html</a></p> 
<p>　　 光隔离是一种很常用的信号隔离形式。常用光耦器件及其外围电路组成。由于光耦电路简单，在数字隔离电路或数据传输电路中常常用到，如UART协议的20mA电流环。对于模拟信号，光耦因为输入输出的线形较差，并且随温度变化较大，限制了其在模拟信号隔离的应用。</p> 
<p>　　对于高频交流模拟信号，变压器隔离是最常见的选择，但对于支流信号却不适用。一些厂家提供隔离放大器作为模拟信号隔离的解决方案，如ADI的AD202，能够提供从直流到几K的频率内提供0.025%的线性度，但这种隔离器件内部先进行电压- 频率转换，对产生的交流信号进行变压器隔离，然后进行频率-电压转换得到隔离效果。集成的隔离放大器内部电路复杂，体积大，成本高，不适合大规模应用。</p> 
<p>　　模拟信号隔离的一个比较好的选择是使用线形光耦。线性光耦的隔离原理与普通光耦没有差别，只是将普通光耦的单发单收模式稍加改变，增加一个用于反馈的光接受电路用于反馈。这样，虽然两个光接受电路都是非线性的，但两个光接受电路的非线性特性都是一样的，这样，就可以通过反馈通路的非线性来抵消直通通路的非线性，从而达到实现线性隔离的目的。</p> 
<p>　　市场上的线性光耦有几中可选择的芯片，如Agilent公司的HCNR200/201，TI子公司TOAS的TIL300，CLARE的LOC111等。这里以HCNR200/201为例介绍。</p> 
<h5 id="hcnr201的结构及工作原理"><strong>HCNR201的结构及工作原理</strong></h5> 
<p>　　HCNR201光电耦合器是一种由三个光电元件组成的器件，主要技术指标如下：</p> 
<ul><li>具有±5％的传输增益误差和±0．05％的线性误差；</li><li>具有DC～1MHz的带宽；</li><li>绝缘电阻高达1013Ω，输入与输出回路之间的分布电容为0．4pF；</li><li>耐压能力为一分钟5000V，最大绝缘工作电压为1414V；</li><li><p>具有0～15V的输入／输出范围。 <br> 　　HCNR201光电耦合器的内部结构如图1所示，其中LED为铝砷化镓发光二极管，PD1、PD2是两个相邻匹配的光敏二极管，这种封装结构决定了每一个光敏二极管都能从LED得到近似的光照，因而消除了LED的非线性和偏差特性所带来的误差。当电流流过LED时，LED发出的光被耦合到PD1与PD2，从而在器件输出端产生与光强成正比的输出电流。 <br> 　　 <br> 　 <br> <img src="https://images2.imgbox.com/85/2c/GeoVRvpQ_o.png" alt="这里写图片描述" title=""></p> <p>　　在使用时，可将第3、4输出端与第1、2输入端一起接入控制回路，其中第3、4端的光敏二极管起反馈作用，它可将产生的输出电流再反馈到第1、2端的LED上，以对输入信号进行反馈控制。 <br> 　　 <br> 　　</p></li></ul> 
<h5 id="工作原理">工作原理</h5> 
<p>　　hcnr201的led、pd1及运放a1等组成隔离电路的输入部分，pd2及运放a2等组成隔离电路的输出部分。设隔离电路输入电压为vin，输出电压为vout，led上电流为if，二极管pd1上产生的电流为ipd1，二极管pd2上产生的电流为ipd2，如图2所示。 <br> </p> 
<div align="center"> 
 <br> 
 <img src="https://images2.imgbox.com/68/d6/dkpk2A4Y_o.jpg" alt="这里写图片描述" title=""> 
 <br> 图2 线性光耦hcnr201模拟电压隔离电路 
</div> 
<p></p> 
<p>　　隔离电路中pd1形成了负反馈，当有电压vin输入时，运放a1的输出使led上有电流if流过，且输入电压的变化体现在电流if上，并驱动led发光把电信号转变成光信号。led发出的光被pd1探测到并产生光电流ipd1。同时，输入电压vin也会产生电流流过r1。假定a1是理想运放，则没有电流流入a1的输入端，流过r1的电流将会流过pd1到地，因此，ipd1=vin/r1。注意，ipd1只取决于输入电压vin和r1的值，与led的光输出特性无关。又因led发出的光同时照射在两个光敏二极管上，且pd1和pd2完全相同的，理想情况下ipd2应该等于ipd1。定义一个系数k，有ipd1=kipd2，k约为1±5%（当芯片制作完成后随之确定）。运放a2和电阻r2把ipd2转变成输出电压vout，有vout=ipd2r2，组合上面的3个方程得到输出电压和输入电压关系：vout/vin=kr2/r1，因此，输出电压vout具有稳定性和线性，其增益可通过调整r2与r1的值来实现，通常取r1和r2的值相同。</p> 
<p>　　隔离电路中电阻r1起限流作用。r3用于控制led的发光强度，从而对控制通道增益起一定作用。电容c1、c2为反馈电容，用于提高电路的稳定性。运算放大器a1的作用是把电压信号转变成电流信号，运算放大器a2的作用是把光耦输出的电流信号转变为电压信号，并增强负载驱动能力。</p> 
<h5 id="线性光耦的使用实例一">线性光耦的使用实例（一）</h5> 
<p>　　在某随动检测系统中，需要用检测板对系统中的各电路板的参数进行监测，以对工作不正常的电路板给出故障指示，并用单片机来处理检测结果。由于实际工作环境比较恶劣，为了防止干扰信号由采集信道进入检测板及保证单片机系统工作正常，笔者采用光电耦合器来实现信号的传输。由于光电耦合器的发光二极管为电流驱动器件，因而应以电流环路的形式进行传送，而且电流环路是低阻抗电路，它对噪声的敏感度较低，因此提高了电路的抗干扰能力。有时干扰噪声虽有较大的电压幅度，但其能量小，所以只能形成微弱的电流，而光电耦合器输入部分的发光二极管是在电流状态下工作的，只有在通过一定强度的电流时才能发光，因此，即使有很高电压幅值的干扰，也会因其所形成的电流大小而被抑制掉。</p> 
<p>　　在实际检测电路的某一采集信道中，如需对一组差动输入信号进行检测，可将电路接成如图3所示的连接方式。图中，通过放大器N1可将输入的差动信号变为单边信号后输出。由于二极管V1和V2的作用，当输入信号为正时，V2导通，V1截止，放大器N2呈开环状态，光耦N5工作，N4关断；而当输入信号为负时，则正好相反。当HCNR201的第3、4端的光敏二极管受光后，其输出信号将反馈到放大器的输入端，以提高光耦的线性并减少温漂。第5、6端输出的信号经运放放大后输出。电位器RP1的作用是调节运放输入偏置电流的大小。电容C2、C3为反馈电容，可用于提高电路的稳定性，消除自激振荡，滤除电路中的毛刺信号，降低电路的输出噪声，其容值可根据电路的频率特性来选取。放大器N6的作用是把光耦输出的电流信号转变为电压信号以供后级电路使用，并增强负载驱动能力，降低输出阻抗。调整电阻RP2的值可以调整信道的增益。 <br> <img src="https://images2.imgbox.com/15/9e/2hJnsh7w_o.png" alt="这里写图片描述" title=""></p> 
<h5 id="线性光耦的使用实例二">线性光耦的使用实例（二）</h5> 
<p><img src="https://images2.imgbox.com/9d/86/k6o8JOZF_o.png" alt="这里写图片描述" title=""> <br> 　　设输入端电压为Vin，输出端电压为Vout，光耦保证的两个电流传递系数分别为K1、K2，显然，，和之间的关系取决于和之间的关系。</p> 
<p>　　将前级运放的电路提出来看，如下图所示： <br> <img src="https://images2.imgbox.com/14/69/b0ppTzuD_o.png" alt="这里写图片描述" title=""> <br> 　　设运放负端的电压为，运放输出端的电压为，在运放不饱和的情况下二者满足下面的关系：</p> 
<p>　　　　　　　　　　　　　　　　　　　　　Vo=Voo-GVi （1）</p> 
<p>　　其中是在运放输入差模为0时的输出电压，G为运放的增益，一般比较大。</p> 
<p>　　忽略运放负端的输入电流，可以认为通过R1的电流为IP1，根据R1的欧姆定律得： <br> <img src="https://images2.imgbox.com/75/a5/crxwQdfa_o.png" alt="这里写图片描述" title=""> <br> 　　其中，为光耦2脚的电压，考虑到LED导通时的电压（）基本不变，这里的作为常数对待。</p> 
<p>　　根据光耦的特性，即</p> 
<p>　　　　　　　　　　　　　　　　　　　　K1=IP1/IF （4）</p> 
<p>　　将和的表达式代入上式，可得： <br> <img src="https://images2.imgbox.com/5d/ae/Rqv10cVM_o.png" alt="这里写图片描述" title=""> <br> <img src="https://images2.imgbox.com/3a/3a/eFNs4ufh_o.png" alt="这里写图片描述" title=""></p> 
<ol><li><p>辅助电路与参数确定</p> <p>　　上面的推导都是假定所有电路都是工作在线性范围内的，要想做到这一点需要对运放进行合理选型，并且确定电阻的阻值。</p></li><li><p>运放选型</p> <p>　　运放可以是单电源供电或正负电源供电，上面给出的是单电源供电的例子。为了能使输入范围能够从0到VCC，需要运放能够满摆幅工作，另外，运放的工作速度、压摆率不会影响整个电路的性能.TI公司的LMV321单运放电路能够满足以上要求，可以作为HCNR200/201的外围电路。</p></li><li><p>阻值确定</p> <p>　　电阻的选型需要考虑运放的线性范围和线性光耦的最大工作电流IFmax.K1已知的情况下，IFmax又确定了IPD1的最大值IPD1max，这样，由于Vo的范围最小可以为0，由于考虑到IFmax大有利于能量的传输，这样，一般取另外，由于工作在深度负反馈状态的运放满足虚短特性，因此，考虑IPD1的限制，这样，R2的确定可以根据所需要的放大倍数确定，例如如果不需要方法，只需将R2=R1即可。</p> <p>　　另外由于光耦会产生一些高频的噪声，通常在R2处并联电容，构成低通滤波器，具体电容的值由输入频率以及噪声频率确定。</p></li><li><p>参数确定实例</p> <p>　　假设确定Vcc=5V，输入在0-4V之间，输出等于输入，采用LMV321运放芯片以及上面电路，下面给出参数确定的过程。</p> 
  <ul><li><p>确定IFmax:HCNR200/201的手册上推荐器件工作的25mA左右;</p></li><li><p>确定R3:R3=5V/25mA=200;</p></li><li><p>确定R1：;</p></li><li><p>确定R2:R2=R1=32K.</p></li></ul> <h3 id="2光耦电阻的选择">2.光耦电阻的选择</h3> <p>来自：<a href="http://www.360doc.com/content/16/1222/22/18548705_616929449.shtml" rel="nofollow">http://www.360doc.com/content/16/1222/22/18548705_616929449.shtml</a></p></li></ol> 
<p></p> 
<div align="center"> 
 <br> 
 <img src="https://images2.imgbox.com/a3/53/9tdoXInq_o.png" alt="这里写图片描述" title=""> 
 <br> 
 <img src="https://images2.imgbox.com/5c/c1/6ZlDHWp9_o.png" alt="这里写图片描述" title=""> 
</div> 
<p></p> 
<p>　　 <br> 　　上面两图是型号为PS2501-1的电路原理图，是最基本的也是最常用的光耦的原理图，光耦内部由发光二极管和光电三极管构成，当发光二极管发光时，如果光强达到要求，光电三极管就会导通。</p> 
<p>　　其中，1脚就是发光二极管的阳极，2脚就是发光二极管的阴极，3脚是三极管的发射极，4脚是三极管的集电极。</p> 
<h4 id="21发光二极管电阻的选择">2.1发光二极管电阻的选择</h4> 
<p><img src="https://images2.imgbox.com/08/3f/8VmtiJoc_o.png" alt="这里写图片描述" title=""> <br> 　　数据手册中，IF是发光二极管的允许最大正向电流，值是80mA。这是需要考虑的第一个条件。 <br> <img src="https://images2.imgbox.com/bd/5e/UZTdCkMK_o.png" alt="这里写图片描述" title=""> <br> 　　再看第二张图，VF是二极管上的电压，图中给出，当IF是10mA的时候，VF的值最大是1.4V。这是需要考虑的第二个条件。</p> 
<p>　　我们需要考虑的第三个条件就是，你使用3.3V的电压驱动？还是用5V的电压驱动？</p> 
<h5 id="确定最小初级电阻"><strong>确定最小初级电阻</strong></h5> 
<p>　　在手册中找到前向电压和前向电流的关系曲线，用来确定初级最小限流电阻。</p> 
<p>　　如下图所示，光耦在最大正向电流IF=60mA的时候，前向电压约为1.4V。 <br> <img src="https://images2.imgbox.com/ba/85/DYiOZOOT_o.png" alt="这里写图片描述" title=""> <br> 　　如果你用的是3.3V电压驱动的话，最小的限流电阻就是(3.3V-1.4V)/0.08A=23.75欧姆…..</p> 
<p>　　如果你用的是5V电压驱动的话，最小的限流电阻就是（5V-1.4V）/0.08A=45欧姆…..</p> 
<p>　　小于这个电阻值，光耦就死翘翘了…..</p> 
<p>　　所以我们这里的电阻选择，就要大于计算出的这些结果。这里，可以选择330欧姆，470欧姆，510欧姆，1K，都可以使得发光二极管发亮后驱动里面的三极管导通。但是，电阻值如果选的太大的话，会造成发光二极管不亮。</p> 
<h5 id="确定初级电阻rs"><strong>确定初级电阻Rs</strong></h5> 
<p>　　上一步计算的是最小初级电阻，实际应用的时候还需要考虑以下因素，下图为光耦ton和toff与IF的关系，如没有具体的ton和toff的要求，我们就取5mA。 <br> <img src="https://images2.imgbox.com/96/9f/gNpzdXnx_o.png" alt="这里写图片描述" title=""></p> 
<p>　　再根据图2得到IF=5mA下的VF约为1.1V。</p> 
<p>　　如果现在的初级工作电压为5V，则初级电阻为：</p> 
<p>　　Rs=(5-1.1)/0.005=780</p> 
<p>　　取一个标准值820Ω。</p> 
<h4 id="22三极管电阻的选择">2.2三极管电阻的选择</h4> 
<h5 id="确定最小次级电阻"><strong>确定最小次级电阻</strong></h5> 
<p>　　在第一张图中，我们找到OUTPUT中的Ic，这个就是三极管允许通过的最大电流，是50mA，我们在做电路的时候，就需要注意一下。</p> 
<p>　　例如，当三极管的负载电压是12V时，因为三极管当开关用，Vce会很小，所以这里我们忽略不计，那么R=12V/0.05A=240欧姆…..</p> 
<p>　　以上计算是在忽略VCE的情况下得到的。由于VCE一般比较小且非线性，所以在这里忽略。</p> 
<p>　　实际电阻取值必须大于这个电阻值，以保证光耦不损坏。</p> 
<p>　　这里我一般选择1K，2K，4.7K，10K的电阻。</p> 
<h5 id="确定实际次级电阻rl"><strong>确定实际次级电阻RL</strong></h5> 
<p>　　如下图所示，次级电流IC会影响次级的ton和toff，如没有具体的ton和toff的要求，我们就取5mA。 <br> <img src="https://images2.imgbox.com/a2/69/fqlaiOmV_o.png" alt="这里写图片描述" title=""> <br> 　　如果现在的初级工作电压为5V，则次级电阻为：</p> 
<p>　　RL=5/0.005=1kΩ</p> 
<h5 id="测试并调整实际电路可能还需要进行调整"><strong>测试并调整实际电路可能还需要进行调整</strong></h5> 
<p>　　如果想要提高上升时间的话，可以逐步降低初次级电阻，但是要注意功耗和最小电阻取值。如果电阻取值太大，前向电流太小，可能会出现无法导通的情况，此时应降低电阻值。 <br> 　　下面是基本的电路图： <br> <img src="https://images2.imgbox.com/20/95/V1Q4YPy7_o.png" alt="这里写图片描述" title=""></p> 
<h5 id="注意事项"><strong>注意事项</strong></h5> 
<ul><li>光耦存在固定的传输延迟，想要提高传输带宽，还是应选择高速光耦。</li><li>设计时应注意功耗和速度的平衡。</li></ul> 
<p>下面是应用到RS232中的光耦应用： <br> <img src="https://images2.imgbox.com/3d/46/n3tGBotY_o.jpg" alt="这里写图片描述" title=""></p> 
<h3 id="3光耦电路的真值表">3.光耦电路的真值表</h3> 
<p>在电阻确定之后，还需要考虑光耦的工作方式，比如高低点平的输出，上电初始化光耦的输出。。。</p> 
<p>针对以上问题，有以下几种光耦的连接方式：</p> 
<h5 id="31-输入高-输出高-输入低-输出低">3.1 输入高-输出高 输入低-输出低</h5> 
<p><img src="https://images2.imgbox.com/e4/93/JQbJJNHz_o.png" alt="这里写图片描述" title=""> <br> 　　真值表如下： <br> <img src="https://images2.imgbox.com/74/10/COJ8T8mY_o.png" alt="这里写图片描述" title=""> <br> 　　其中：</p> 
<ul><li><p>X-输入悬空或者高阻</p></li><li><p>H-高电平</p></li><li><p>L-低电平</p></li><li><p>下同</p></li></ul> 
<p><img src="https://images2.imgbox.com/1e/b2/JBBQPGDE_o.png" alt="这里写图片描述" title=""></p> 
<p>　　真值表如下： <br> <img src="https://images2.imgbox.com/09/94/FyZ1kjC9_o.png" alt="这里写图片描述" title=""></p> 
<h5 id="32-输入高-输出低-输入低-输出高">3.2 输入高-输出低 输入低-输出高</h5> 
<p><img src="https://images2.imgbox.com/6f/40/y92Onuku_o.png" alt="这里写图片描述" title=""> <br> 　　真值表如下： <br> <img src="https://images2.imgbox.com/d4/6a/QJc0qpSa_o.png" alt="这里写图片描述" title=""> <br> <img src="https://images2.imgbox.com/6c/01/FvRYyym3_o.png" alt="这里写图片描述" title=""> <br> 　　真值表如下： <br> <img src="https://images2.imgbox.com/00/5a/TVDkwxYP_o.png" alt="这里写图片描述" title=""></p> 
<p>　　这就是几个常见的应用电路，具体在实际应用的时候，两边的电源和地注意隔离，可以使用隔离电源模块进行设计，传送门：<a href="https://blog.csdn.net/Pieces_thinking/article/details/82698235">隔离模块介绍-隔离电源模块</a></p> 
<h3 id="4-光耦电路的其他应用">4. 光耦电路的其他应用</h3> 
<p>参考：<a href="http://www.elecfans.com/dianlutu/187/20180228640809.html" rel="nofollow">http://www.elecfans.com/dianlutu/187/20180228640809.html</a></p> 
<h5 id="一">(一)</h5> 
<p>　　利用光耦合器设计的可逆计数显示电路，该电路图的电路系统如下图图1所示。</p> 
<p><img src="https://images2.imgbox.com/dd/4b/vfE56o2J_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　在图1所展示的这种光耦合器可逆计数显示电路中，其系统主要利用光耦器件作为光传感器进行制作，完成后可对不同运行方向的物件进行自动加减计数，适用于自动流水生产物件进行计数统计。</p> 
<p>　　该电路系统的工作原理可以总结为：在这一可逆计数显示电路中，所选择的光耦器件为反射式光耦器件，红外发光二极管和光敏三极管里35°夹角封装为一体，其交点在距光耦合器5mm处。当该电路接通并进行工作时，红外发光二极管发出的红外光若被前方的物件遮挡，则红外光反射回来并被光敏三极管所接收使光敏三极管导通。若光耦器件前方没有物件，则光敏三极管处于截止状态。</p> 
<h5 id="二">(二)</h5> 
<p>　　利用光电耦合器组成的高压稳压电路系统，这一高压稳压电路系统设计如下图图2所示。</p> 
<p><img src="https://images2.imgbox.com/03/c4/muHmcsGS_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　　　　　　　　　　　　　　图2 光电耦合器组成的高压稳压电路</p> 
<p>　　在图2所展示的基于光耦合器的高压稳压电路系统中，通常驱动管需要采用耐压较高的晶体管（图中驱动管型号为9013）。这一电路系统的工作原理可以总结为：当稳压电路内的输出电压增大时，VT55的偏压增加，B5中发光二极管的正向电流增大，使光敏管极间电压减小，调整管be结偏压降低而内阻增大，使输出电压降低。反之，使输出电压升高，从而保持输出电压的稳定。</p> 
<h5 id="三">(三)</h5> 
<p>　　一款利用光电耦合器设计的光电效应电路图，如下图所示。</p> 
<p><img src="https://images2.imgbox.com/ab/3d/BKV4l4mF_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<h5 id="四">(四)</h5> 
<p>　　光耦组成的开关电路 <br> <img src="https://images2.imgbox.com/14/27/cWAy64qF_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　图1电路中，当输入信号ui为低电平时，晶体管V1处于截止状态，光电耦合器B1中发光二极管的电流近似为零，输出端Q11、Q12间的电阻很大，相当于开关“断开”；当ui为高电平时，v1导通，B1中发光二极管发光，Q11、Q12间的电阻变小，相当于开关“接通”．该电路因Ui为低电平时，开关不通，故为高电平导通状态．</p> 
<p>　　同理，图2电路中，因无信号（Ui为低电平）时，开关导通，故为低电平导通状态．</p> 
<p><img src="https://images2.imgbox.com/31/a5/MLs6v3Ga_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<h5 id="五">(五)</h5> 
<p>　　光耦组成隔离耦合电路 <br> <img src="https://images2.imgbox.com/4d/0e/1yk52BLp_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　电路如图4所示．这是一个典型的交流耦合放大电路．适当选取发光回路限流电阻Rl，使B4的电流传输比为一常数，即可保证该电路的线性放大作用。</p> 
<h5 id="六">(六)</h5> 
<p>　　光耦组成高压稳压电路 <br> <img src="https://images2.imgbox.com/3a/7f/TTgeDdlo_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　电略如图5所示．驱动管需采用耐压较高的晶体管（图中驱动管为3DG27）。当输出电压增大时，V55的偏压增加，B5中发光二极管的正向电流增大，使光敏管极间电压减小，调整管be结偏压降低而内阻增大，使输出电压降低，而保持输出电压的稳定．</p> 
<h5 id="七">(七)</h5> 
<p>　　光耦组成的门厅照明灯自动控制电路 <br> <img src="https://images2.imgbox.com/4b/ee/cZnuLDXw_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　电路如图6所示。A是四组模拟电子开关（S1~S4）：S1，S2，S3并联（可增加驱动功率及抗干扰能力）用于延时电路，当其接通电源后经R4，B6驱动双向可控硅VT，VT直接控制门厅照明灯H；S4与外接光敏电阻Rl等构成环境光线检测电路。当门关闭时，安装在门框上的常闭型干簧管KD受到门上磁铁作用，其触点断开，S1，S2，S3处于数据开状态。晚间主人回家打开门，磁铁远离KD，KD触点闭合。此时9V电源整流后经R1向C1充电，C1两端电压很快上升到9V，整流电压经S1，S2，S3和R4使B6内发光管发光从而触发双向可控硅导通，VT亦导通，H点亮，实现自动照明控制作用。房门关闭后，磁铁控制KD，触点断开，9V电源停止对C1充电，电路进入延时状态。C1开始对R3放电，经一段时间延迟后，C1两端电压逐渐下降到S1，S2，S3的开启电压（1.5v）以下，S1，S2，S3恢复断开状态，导致B6截止，VT亦截止，H熄来，实现延时关灯功能。</p> 
<h5 id="八">(八)</h5> 
<p>　　对于开关电路，往往要求控制电路和开关电路之间要有很好的电隔离，这对于一般的电子开关来说是很难做到的，但采用光电耦合器就很轻易实现了。图1中（a）所示电路就是用光电耦合器组成的简单开关电路。</p> 
<p>　　在图中，当无脉冲信号输进时，三极管BG处于截止状态，发光二极管无电流流过不发光，则a、b两端电阻非常大，相当于开关“断开”。当输进端加有脉冲信号时，BG导通，发光二极管发光，则a、b两端电阻变得很小，相当于开关“接通”。故称无信号时开关不通，为常开状态。</p> 
<p>　　图1中（b）所示电路则为“带闭”状态，由于无信号输进时，虽BG截止，但发光二极管有电流通过而发光，使a、b两端处于导通状态，相当于开关“接通”。当有信号输进时，BG导通，由于BG的集电结压降在0．3V以下，远小于发光二极管的正向导通电压，所以发光二极管无电流流过不发光，则a、b两端电阻极大，相当于开关“断开”，故称“常闭”式。</p> 
<p><img src="https://images2.imgbox.com/da/a0/PADxSPdZ_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　可见，开关a、b端在电路中不受电位高低的限制，但在使用中应满足a端电位为正，b端为负，并使U&amp;ab＞3V为好，同时还应留意Uab应小于光电三极管的BVceo。</p> 
<p>　　依据图1的原理，光电耦合器可以组成如图2中（a）、（b）等多种形式。</p> 
<p><img src="https://images2.imgbox.com/66/5a/7ja7mZXJ_o.png" alt="常见光电耦合电路图大全（八款常见光电耦合电路设计原理图详解）" title=""></p> 
<p>　　图中（a）为单刀双掷开关电路，其中外接二极管D的作用，是保证输进正脉冲信号时“od”组接通，“ob”组关断。图中（b）为双刀双掷开关电路，无输进信号时，BG截止，“ob”与“od”组断开，“oa”与“oc”组接通；BG导通（即有信号输进时），“ob”与“od”组接通，而“oa”与“oc”组断开。它们适于自动控制和远控设备中使用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/12adb879ba378c0d0c1b8ab25e3b3158/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">scala中reduce函数原理解析------------------------------reduceLeft和reduceRight</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3fe86b1628ca3a377fa88cd0a315d6db/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">hadoop鉴权</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>