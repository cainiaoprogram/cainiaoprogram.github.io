<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【YOLOV5-5.x 源码讲解】整体项目文件导航 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【YOLOV5-5.x 源码讲解】整体项目文件导航" />
<meta property="og:description" content="前言 这个项目是github的开源项目，YOLOV5：https://github.com/ultralytics/yolov5，目前已经有14.1k个Star 和 4.9k 个Folk了，非常的火。下面我会给大家逐个的文件介绍这个项目中的所有代码，希望能帮到大家。
原本我下的2021年4月12日更新的v5.0版本，整个项目我做了一点点的文件位置的改变，也加了点自己在其他论文中学到的tricks。不过由于yolov5这个版本迭代的速度非常快，我这个代码也并不是和官网下载v5.0的那个版本就一模一样，而且我也参考了一些后面的版本代码，还是稍微改动了一些的，不过总体来说还是差不了太多的。下面我会按文件逐个函数的进行攻破，因为我本人也还是研一，肯定会有很多的不足，希望大家指正！！！
现在是2021-07-23，目标是在一个月内写完，也就是最迟2021-8-23日更完整个项目的所有的代码。
拖几天，还有3个文件！！！
写完了，断断续续写了35天，主要是最近比较忙，好在没拖到开学。希望对大家有些帮助！
注释版全部项目文件已上传至GitHub: yolov5-5.x-annotations.
有几个想法（最近找工作中，所以需要搁浅一段时间，后面会补上这个坑）
想在yolov5的基础上加一个分支进行分割任务yolov5 &#43; Circular Smooth Label -&gt; 旋转目标检测yolov5剪枝轻量化 已实现：
YOLOv5 Head解耦： 【YOLOv5 Head解耦】yolov5&#43;shufflenetv2轻量化【项目二、蜂巢检测项目】二、模型改进：YOLOv5s-ShuffleNetV2 一、导航 YOLOV5-U
data
hyp.scratch.yamlcoco128.yaml models
activations.pycommon.pyexperimental.pyyolo.pyexport.pyyolov5s.yaml utils
autoanchor.pydatasets.pygeneral.pygoogle_utils.pyloss.pymetrics.pyplots.pytorch_utils.py train.py
val(test).py
detect.py
二、尚存在的问题 AWS Inferentia？
不是很清楚这其中的原理 AWS Inferentia 和 正常的推理公式有什么区别？
更新：亚马逊的一个部署推理使用, 和整体的模型算法关系不大，一般用不太到，不用太关注。
non_max_suppression中的autolabelling是什么？这样子作不就导致最终mAP过高了吗？为什么这么做？
更新：已解决，在general.py的non_max_suppression函数中有详细解释！！！
计算损失函数置信度损失这一步时为什么要对置信度进行排序？？？排不排序效果不是一样的吗？
更新：已解决，在loss.py的ComputeLoss类中已经解释清楚！
Reference Github: https://github.com/ultralytics/yolov5.Github: https://github.com/Laughing-q/yolov5_annotations.BiliBili: yolov5讲解.BiliBili 霹雳吧啦Wz: yolov3讲解.BiliBili 人工智能打游戏系列课程1：基于深度学习的目标检测算法: yolov3讲解.CSDN Laughing-q: YOLOV5讲解.CSDN 幻灵H_Ling: YOLOv5源代码导读.CSDN 昌山小屋: YOLOV5讲解.CSDN 恩泽君: (yolo v3)使用自己数据集k-means聚类产生的anchor效果反而变差解决方法.CSDN TheOldManAndTheSea: 目标检测 YOLOv5 - Sample Assignment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e5fbacf0228b1ad56b651843d2737ce5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-20T17:27:33+08:00" />
<meta property="article:modified_time" content="2022-07-20T17:27:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【YOLOV5-5.x 源码讲解】整体项目文件导航</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>前言</h2> 
<p>这个项目是github的开源项目，YOLOV5：<a href="https://github.com/ultralytics/yolov5">https://github.com/ultralytics/yolov5</a>，目前已经有14.1k个Star 和 4.9k 个Folk了，非常的火。下面我会给大家逐个的文件介绍这个项目中的所有代码，希望能帮到大家。</p> 
<p>原本我下的2021年4月12日更新的v5.0版本，整个项目我做了一点点的文件位置的改变，也加了点自己在其他论文中学到的tricks。不过由于yolov5这个版本迭代的速度非常快，我这个代码也并不是和官网下载v5.0的那个版本就一模一样，而且我也参考了一些后面的版本代码，还是稍微改动了一些的，不过总体来说还是差不了太多的。下面我会按文件逐个函数的进行攻破，因为我本人也还是研一，肯定会有很多的不足，希望大家指正！！！</p> 
<p>现在是2021-07-23，目标是在一个月内写完，也就是最迟2021-8-23日更完整个项目的所有的代码。</p> 
<p>拖几天，还有3个文件！！！</p> 
<p>写完了，断断续续写了35天，主要是最近比较忙，好在没拖到开学。希望对大家有些帮助！</p> 
<p>注释版全部项目文件已上传至GitHub: <a href="https://github.com/SCAU-HuKai/yolov5-5.x-annotations">yolov5-5.x-annotations</a>.</p> 
<hr> 
<p>有几个想法（最近找工作中，所以需要搁浅一段时间，后面会补上这个坑）</p> 
<ol><li>想在yolov5的基础上加一个分支进行分割任务</li><li>yolov5 + Circular Smooth Label -&gt; 旋转目标检测</li><li>yolov5剪枝轻量化</li></ol> 
<p>已实现：</p> 
<ol><li>YOLOv5 Head解耦： <a href="https://blog.csdn.net/qq_38253797/article/details/124848744">【YOLOv5 Head解耦】</a></li><li>yolov5+shufflenetv2轻量化<a href="https://blog.csdn.net/qq_38253797/article/details/124803531">【项目二、蜂巢检测项目】二、模型改进：YOLOv5s-ShuffleNetV2</a></li></ol> 
<hr> 
<h2><a id="_30"></a>一、导航</h2> 
<p>YOLOV5-U</p> 
<ul><li> <p>data</p> 
  <ul><li><a href="https://blog.csdn.net/qq_38253797/article/details/119759746">hyp.scratch.yaml</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119763327">coco128.yaml</a></li></ul> </li><li> <p>models</p> 
  <ul><li><a href="https://blog.csdn.net/qq_38253797/article/details/119030643">activations.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119684388">common.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119854460">experimental.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119869762">yolo.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119887013">export.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119754854">yolov5s.yaml</a></li></ul> </li><li> <p>utils</p> 
  <ul><li><a href="https://blog.csdn.net/qq_38253797/article/details/119713706">autoanchor.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119904518">datasets.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119348092">general.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119274587">google_utils.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119444854">loss.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119547084">metrics.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119324328">plots.py</a></li><li><a href="https://blog.csdn.net/qq_38253797/article/details/119214728">torch_utils.py</a></li></ul> </li><li> <p><a href="https://blog.csdn.net/qq_38253797/article/details/119733964">train.py</a></p> </li><li> <p><a href="https://blog.csdn.net/qq_38253797/article/details/119577291">val(test).py</a></p> </li><li> <p><a href="https://blog.csdn.net/qq_38253797/article/details/119382661">detect.py</a></p> </li></ul> 
<h2><a id="_59"></a>二、尚存在的问题</h2> 
<ol><li> <p>AWS Inferentia？</p> <p>不是很清楚这其中的原理 AWS Inferentia 和 正常的推理公式有什么区别？<br> <img src="https://images2.imgbox.com/22/12/ovUMEB5n_o.png" alt="在这里插入图片描述"><br> 更新：亚马逊的一个部署推理使用, 和整体的模型算法关系不大，一般用不太到，不用太关注。</p> </li><li> <p>non_max_suppression中的autolabelling是什么？这样子作不就导致最终mAP过高了吗？为什么这么做？<br> <img src="https://images2.imgbox.com/40/b4/QzTNAnP8_o.png" alt="在这里插入图片描述"><br> 更新：已解决，在general.py的non_max_suppression函数中有详细解释！！！</p> </li><li> <p>计算损失函数置信度损失这一步时为什么要对置信度进行排序？？？排不排序效果不是一样的吗？<br> <img src="https://images2.imgbox.com/eb/58/gwCjBS9V_o.png" alt="在这里插入图片描述"><br> 更新：已解决，在loss.py的ComputeLoss类中已经解释清楚！</p> </li></ol> 
<h2><a id="Reference_80"></a>Reference</h2> 
<ol><li>Github: <a href="https://github.com/ultralytics/yolov5">https://github.com/ultralytics/yolov5</a>.</li><li>Github: <a href="https://github.com/Laughing-q/yolov5_annotations">https://github.com/Laughing-q/yolov5_annotations</a>.</li><li>BiliBili: <a href="https://www.bilibili.com/video/BV19K4y197u8" rel="nofollow">yolov5讲解</a>.</li><li>BiliBili 霹雳吧啦Wz: <a href="https://www.bilibili.com/video/BV1t54y1C7ra" rel="nofollow">yolov3讲解</a>.</li><li>BiliBili 人工智能打游戏系列课程1：基于深度学习的目标检测算法: <a href="https://www.bilibili.com/video/BV14f4y1q7ms" rel="nofollow">yolov3讲解</a>.</li><li>CSDN Laughing-q: <a href="https://blog.csdn.net/q1u1ng/category_10215618.html">YOLOV5讲解</a>.</li><li>CSDN 幻灵H_Ling: <a href="https://blog.csdn.net/weixin_42716570/category_10746382.html">YOLOv5源代码导读</a>.</li><li>CSDN 昌山小屋: <a href="https://blog.csdn.net/chuigedaqiqiu/category_10763517.html">YOLOV5讲解</a>.</li><li>CSDN 恩泽君: <a href="https://blog.csdn.net/qq_42109740/article/details/105948768">(yolo v3)使用自己数据集k-means聚类产生的anchor效果反而变差解决方法</a>.</li><li>CSDN TheOldManAndTheSea: <a href="https://blog.csdn.net/flyfish1986/article/details/119332396">目标检测 YOLOv5 - Sample Assignment</a>.</li><li>CSDN 菊头蝙蝠: <a href="https://blog.csdn.net/qq_21539375/article/details/118345636">yolov5–loss.py --v5.0版本-最新代码详细解释-2021-7-1更新</a>.</li><li>CSDN 外交官的后花园: <a href="https://blog.csdn.net/qq_38109282/article/details/119411005">YOLO-V3-SPP 训练时正样本筛选源码解析之build_targets</a>.</li><li>CSDN guikunchen: <a href="https://blog.csdn.net/guikunchen/article/details/118452790">yolov5 代码解读 损失函数 loss.py</a>.</li><li>CSDN 迷途小书童的Note: <a href="https://xugaoxiang.blog.csdn.net/article/details/112793137" rel="nofollow">YOLOv5的flask部署</a>.</li><li>CSDN RainbowSun1102: <a href="https://blog.csdn.net/weixin_41153216/article/details/106924348">yolov5代码阅读笔记</a>.</li><li>CSDN Activewaste: <a href="https://blog.csdn.net/qq_41375609/article/details/110099409">【干货】用tensorRT加速yolov5全记录，包含加速前后的数据对比</a>.</li><li>CSDN DEEPFELLOW: <a href="https://blog.csdn.net/IEEE_FELLOW/article/details/117236025">YOLOv5模型剪枝压缩</a>.</li><li>CSDN cv君: <a href="https://blog.csdn.net/qq_46098574/article/details/109702222">【深入YoloV5（开源）】基于YoloV5的模型优化技术与使用OpenVINO推理实现</a>.</li><li>CSDN aabbcccddd01: <a href="https://blog.csdn.net/aabbcccddd01/article/details/109578614">YOLOv5模型网络结构简单理解及详解anchor设置</a>.</li><li>CSDN 技术挖掘者: <a href="https://blog.csdn.net/WZZ18191171661/article/details/113789486">YOLOv5算法详解</a>.</li><li>CSDN 那年当上博士前: <a href="https://blog.csdn.net/qq_39056987/article/details/112363022">细数YOLOv5在使用过程中自己改动的部分</a>.</li><li>CSDN 啥都会一点的老程: <a href="https://blog.csdn.net/weixin_44119362/article/details/114289607">一点就分享系列（实践篇3-上篇）— 修改YOLOV5 之”魔刀小试“+ Trick心得分享+V5精髓部分源码解读</a>.</li><li>CSDN 一只歪脖子程序猿: <a href="https://blog.csdn.net/rush9838465/article/details/113647107">YOLOv5 Android(完结)</a>.</li><li>CSDN 是否龙磊磊真的一无所有: <a href="https://blog.csdn.net/qq_32998593/article/details/88784243">目标检测计算mAP，AP，Recall，Precision的计算方式和代码(YOLO和FastRCNN等)</a>.</li><li>CSDN YY_172: <a href="https://blog.csdn.net/qq_39542170/article/details/112257609">pytorch中加入注意力机制（CBAM），以yolov5为例)</a>.</li><li>CSDN 菊头蝙蝠: <a href="https://blog.csdn.net/qq_21539375/article/details/118501448">yolov5–v5.0版本(最新)代码解析导航</a>.</li><li>CSDN 暮丶凉: <a href="https://blog.csdn.net/qq_19457459/article/details/113196420">YOLOV5源码解读（数据集加载和增强）</a>.</li><li>CSDN wa1tzy: <a href="https://blog.csdn.net/wa1tzy/article/details/114449238">YOLOv5系列（2）——YOLOv5导出jit，onnx，engine</a>.</li><li>CSDN DLANDML: <a href="https://blog.csdn.net/l641208111/article/details/109286497">yolo5的改进策略</a>.</li><li>CSDN 昌山小屋: <a href="https://blog.csdn.net/ChuiGeDaQiQiu/article/details/113487612">【玩转yolov5】请看代码之自动anchor计算</a>.</li><li>CSDN Liaojiajia-2020: <a href="https://blog.csdn.net/mary_0830/article/details/109044781">自用代码 | YOLOv5 特征图可视化代码</a>.</li><li>CSDN Liaojiajia-2020: <a href="https://blog.csdn.net/mary_0830/article/details/117557416">自用代码 | 用Python对视频进行帧切割和帧合并</a>.</li><li>CSDN Liaojiajia-2020: <a href="https://blog.csdn.net/mary_0830/article/details/107076617">YOLOv5代码详解（train.py部分）</a>.</li><li>CSDN TheOldManAndTheSea: <a href="https://flyfish.blog.csdn.net/article/details/117303291" rel="nofollow">目标检测 YOLOv5 自定义网络结构</a>.</li><li>CSDN 吸欧大王: <a href="https://blog.csdn.net/weixin_36714575/article/details/114238645">yolov5深度剖析+源码debug级讲解系列（三）yolov5 head源码解析</a>.</li><li>CSDN 昌山小屋: <a href="https://blog.csdn.net/ChuiGeDaQiQiu/article/details/116402281">【玩转yolov5】之anchor匹配策略(build_targets)分析(1)</a>.</li><li>CSDN BIT可达鸭: <a href="https://blog.csdn.net/weixin_44936889/article/details/113399280">在WEB端部署YOLOv5目标检测（Flask+VUE）</a>.</li><li>CSDN xingzeng307: <a href="https://blog.csdn.net/qq_35470686/article/details/116245197">YOLOv5结合BiFPN</a>.</li><li>CSDN DEEPFELLOW: <a href="https://blog.csdn.net/IEEE_FELLOW/article/details/117536808">YOLOv5模型剪枝压缩(2)-YOLOv5模型简介和剪枝层选择</a>.</li><li>CSDN Charles.zhang: <a href="https://wendao.blog.csdn.net/article/details/107590851" rel="nofollow">YOLOv5代码详解（common.py部分）</a>.</li><li>CSDN a_cheng_: <a href="https://blog.csdn.net/a_cheng_/article/details/111401500">YOLOV5训练自己的数据集（踩坑经验之谈）</a>.</li><li>CSDN Liaojiajia-2020: <a href="https://blog.csdn.net/mary_0830/article/details/107124459">YOLOv5代码详解（yolov5l.yaml部分）</a>.</li><li>CSDN \lambda: <a href="https://blog.csdn.net/Augurlee/article/details/108020933">YOLOv5s网络结构详解</a>.</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7b6242d5d97ab07a45c899b000ed920c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Open Street Map介绍以及相关使用教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/97cfb4172cb5c5d39807a82c8dd8115d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Win11 Windows聚焦不更新了怎么解决？聚焦锁屏图片不更换怎么办</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>