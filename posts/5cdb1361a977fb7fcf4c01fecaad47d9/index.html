<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>8086汇编程序：8254定时器/计数器实验 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="8086汇编程序：8254定时器/计数器实验" />
<meta property="og:description" content="实验目的 1.学会8254芯片和微机接口原理和方法
2.掌握8254定时器计数器的工作方式和编程原理
实验内容 1、在Proteus中设计一个简单计件系统，用一个脉冲信号代表一个事件，当计数到100时，通过扬声器发音,通知操作员。
2、计数器0用来统计事件数量，工作于方式0，计数初值是100，时钟信号CLKO接2Hz。
3、计数器 1用来驱动扬声器发生，产生500Hz的发音频率，工作于方式3。时钟信号 CLK1接1MHz，计数初值是:1000000/500=2000。
4、计数器0在开始执行程序时就开始工作，即门控信号GATEO一直有效。计数器1是计数器0结束计数后开始工作，因此刚好用CLKO产生的高电平接到计数器1的门控信号GATE1上。
8253控制字： D7
D6
D5
D4
D3
D2
D1
D0
SC1
SC0
RL1
RL0
M2
M1
M0
BCD
选择通道
读写操作
工作方式选择
十进制
实验步骤 1、硬件线路连接
在Proteus软件中绘制硬件电路图。8254A片上地址：计数器0地址为78H、计数器1地址为7AH、计数器2地址为7CH、控制端口地址为7EH。
2、软件程序编写
用emu8086软件编写汇编语言程序，保存成*.asm源程序，编译生成.exe可执行文件。
3、在Proteus中双击8086CPU，加载.exe可执行文件。
4、单步执行程序，查看每一条指令的运行结果。
程序代码 ASSUME CS:CODE PORT_Timer0 EQU 78H PORT_Timer1 EQU 7AH PORT_Timer2 EQU 7CH PORT_control EQU 7EH CODE SEGMENT START: ;Timer0 MOV AL, 00010000B	;10H OUT PORT_control, AL;定时器0控制字 MOV AL, 10 ;定时器0初值 OUT PORT_Timer0, AL ;Timer1 MOV AL, 01110110B	;76H OUT PORT_control, AL	;定时器1控制字 MOV AX, 2000;定时器1初值 OUT PORT_Timer1, AL	;写低8位 MOV AL, AH	;高字节赋值给低四位 OUT PORT_Timer1, AL	;写高8位 ;MOV CX, 70 T:	JMP T;循环 MOV AH, 4CH INT 21H CODE ENDS END START 运行结果：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5cdb1361a977fb7fcf4c01fecaad47d9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-22T14:14:59+08:00" />
<meta property="article:modified_time" content="2023-12-22T14:14:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">8086汇编程序：8254定时器/计数器实验</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0px;"><strong>实验目的</strong></h2> 
<blockquote> 
 <p style="margin-left:0;">1.学会8254芯片和微机接口原理和方法</p> 
 <p>2.掌握8254定时器计数器的工作方式和编程原理</p> 
</blockquote> 
<h2><strong>实验内容</strong></h2> 
<blockquote> 
 <p style="margin-left:0;">1、在Proteus中设计一个简单计件系统，用一个脉冲信号代表一个事件，当计数到100时，通过扬声器发音,通知操作员。</p> 
 <p style="margin-left:0;">2、计数器0用来统计事件数量，工作于方式0，计数初值是100，时钟信号CLKO接2Hz。</p> 
 <p style="margin-left:0;">3、计数器 1用来驱动扬声器发生，产生500Hz的发音频率，工作于方式3。时钟信号 CLK1接1MHz，计数初值是:1000000/500=2000。</p> 
 <p>4、计数器0在开始执行程序时就开始工作，即门控信号GATEO一直有效。计数器1是计数器0结束计数后开始工作，因此刚好用CLKO产生的高电平接到计数器1的门控信号GATE1上。</p> 
</blockquote> 
<p></p> 
<h3>8253控制字：</h3> 
<table align="left" border="1" cellspacing="0" style="margin-left:6.75pt;"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D7</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D6</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D5</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D4</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D3</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D2</p> </td><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">D1</p> </td><td style="border-color:#000000;vertical-align:top;width:43.9pt;"> <p style="margin-left:0;text-align:center;">D0</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">SC1</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">SC0</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">RL1</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">RL0</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">M2</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">M1</p> </td><td style="vertical-align:top;width:43.85pt;"> <p style="margin-left:0;text-align:center;">M0</p> </td><td style="vertical-align:top;width:43.9pt;"> <p style="margin-left:0;text-align:center;">BCD</p> </td></tr><tr><td colspan="2" style="border-color:#000000;vertical-align:top;width:87.7pt;"> <p style="margin-left:0;text-align:center;">选择通道</p> </td><td colspan="2" style="vertical-align:top;width:87.7pt;"> <p style="margin-left:0;text-align:center;">读写操作</p> </td><td colspan="3" style="vertical-align:top;width:131.55pt;"> <p style="margin-left:0;text-align:center;">工作方式选择</p> </td><td style="vertical-align:top;width:43.9pt;"> <p style="margin-left:0;text-align:center;">十进制</p> </td></tr></tbody></table> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<h2><strong><span style="color:#000000;">实验步骤</span></strong></h2> 
<blockquote> 
 <p style="margin-left:0;">1、硬件线路连接</p> 
 <p style="margin-left:0;">在Proteus软件中绘制硬件电路图。8254A片上地址：计数器0地址为78H、计数器1地址为7AH、计数器2地址为7CH、控制端口地址为7EH。</p> 
 <p style="margin-left:0;"><img alt="" height="536" src="https://images2.imgbox.com/72/24/LC8D6hto_o.png" width="1200"></p> 
 <p style="margin-left:0;">2、软件程序编写</p> 
 <p style="margin-left:0;">用emu8086软件编写汇编语言程序，保存成*.asm源程序，编译生成.exe可执行文件。</p> 
 <p style="margin-left:0;">3、在Proteus中双击8086CPU，加载.exe可执行文件。</p> 
 <p style="margin-left:0;">4、单步执行程序，查看每一条指令的运行结果。</p> 
</blockquote> 
<h2>程序代码</h2> 
<pre><code>ASSUME CS:CODE
PORT_Timer0  EQU 78H
PORT_Timer1  EQU 7AH
PORT_Timer2  EQU 7CH
PORT_control EQU 7EH

CODE SEGMENT
START:
	;Timer0
	MOV AL, 00010000B	;10H
	OUT PORT_control, AL;定时器0控制字 
	MOV AL, 10  		;定时器0初值
    OUT PORT_Timer0, AL
    ;Timer1
	MOV AL, 01110110B	;76H
	OUT PORT_control, AL	;定时器1控制字
	MOV AX, 2000;定时器1初值
	OUT PORT_Timer1, AL	;写低8位
	MOV AL, AH			;高字节赋值给低四位
	OUT PORT_Timer1, AL	;写高8位
	;MOV CX, 70
T:	JMP T;循环
	MOV AH, 4CH
	INT 21H
CODE ENDS
END START
</code></pre> 
<p>运行结果：</p> 
<p>示波器可以看到有脉冲，并且蜂鸣器也会鸣叫</p> 
<p><img alt="" height="384" src="https://images2.imgbox.com/48/81/B2JXwL11_o.png" width="582"></p> 
<p><img alt="" height="240" src="https://images2.imgbox.com/71/8d/leETpkrJ_o.jpg" width="240"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c8a5c5a2400dd508f320240eaa81426a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Centos下用nodejs实现一个简单的web服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9ff8060f6150b89cbd1ed37f6ce96785/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【IDEA】-CPU占用率过高的五种解决办法（VIP典藏版）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>