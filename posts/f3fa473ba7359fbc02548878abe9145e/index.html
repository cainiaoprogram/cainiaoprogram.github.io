<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript面试题：Array.prototype.reduce()的使用场景 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaScript面试题：Array.prototype.reduce()的使用场景" />
<meta property="og:description" content="reduce()方法的使用场景 1、语法 array.reduce((previousValue,currentValue,currentIndex,array)=&gt;{},initialValue)
对数组累计执行回调函数并返回最终结果
2、使用场景 2.1 数组元素累计求和 // 不设置初始值initialValue时 let result1 = arr.reduce((previousValue,currentValue,arr) =&gt; { console.log(previousValue,&#34;previousValue ============&#34;); console.log(currentValue,&#34;currentValue ============&#34;); return previousValue &#43; currentValue }) console.log(result1); // 15 // 设置初始值initialValue时 let initialValue = 0 let result2 = arr.reduce((previousValue,currentValue,arr) =&gt; { console.log(previousValue,&#34;previousValue ============&#34;); console.log(currentValue,&#34;currentValue ============&#34;); return previousValue &#43; currentValue },initialValue) console.log(result2); // 15 2.2 二维数组扁平化 let arr = [ [20,30,20,10,32], [21,20,24,19,92], [20,43,20,20,32], [70,30,29,10,12], ] let result = arr.reduce((previousValue,currentValue) =&gt; { return previousValue." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f3fa473ba7359fbc02548878abe9145e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-18T15:32:18+08:00" />
<meta property="article:modified_time" content="2023-06-18T15:32:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript面试题：Array.prototype.reduce()的使用场景</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="reduce_0"></a>reduce()方法的使用场景</h2> 
<h3><a id="1_1"></a>1、语法</h3> 
<p><code>array.reduce((previousValue,currentValue,currentIndex,array)=&gt;{},initialValue)</code><br> 对数组累计执行回调函数并返回最终结果<br> <img src="https://images2.imgbox.com/f3/11/oSwf0xPa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/40/92/dA1xcnRs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_6"></a>2、使用场景</h3> 
<h4><a id="21__7"></a>2.1 数组元素累计求和</h4> 
<pre><code class="prism language-javascript"><span class="token comment">// 不设置初始值initialValue时</span>
<span class="token keyword">let</span> result1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span>currentValue<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>previousValue<span class="token punctuation">,</span><span class="token string">"previousValue ============"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span><span class="token string">"currentValue ============"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> previousValue <span class="token operator">+</span> currentValue
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>

<span class="token comment">// 设置初始值initialValue时</span>
<span class="token keyword">let</span> initialValue <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">let</span> result2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span>currentValue<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>previousValue<span class="token punctuation">,</span><span class="token string">"previousValue ============"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">,</span><span class="token string">"currentValue ============"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> previousValue <span class="token operator">+</span> currentValue
<span class="token punctuation">}</span><span class="token punctuation">,</span>initialValue<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 15</span>
</code></pre> 
<h4><a id="22__27"></a>2.2 二维数组扁平化</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">92</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span>currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> previousValue<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="23__42"></a>2.3 统计数组中元素出现的频数</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span>
    <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"a"</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>currentValue <span class="token keyword">in</span> previousValue<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            previousValue<span class="token punctuation">[</span>currentValue<span class="token punctuation">]</span> <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            previousValue<span class="token punctuation">[</span>currentValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> previousValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="23__63"></a>2.3 对数组中的对象元素分组分类</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"计算机科学"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2018级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"计算机科学"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2018级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>


<span class="token comment">// 根据指定字段的指定值获取分组  </span>
<span class="token keyword">function</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> target<span class="token punctuation">,</span> targetValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果没有指定具体年级，例如： 按照年级分组 </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>targetValue<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 拿到当前要分组的条件</span>
                <span class="token comment">// 例如，currentValue是{ 年级: "2017级", 学院: "计算机学院", 专业: "物联网" }这样一个对象</span>
                <span class="token comment">// 那么，currentValue[target] 就是年级或者学院或者专业</span>
                <span class="token keyword">let</span> currentTargetValue <span class="token operator">=</span> currentValue<span class="token punctuation">[</span>target<span class="token punctuation">]</span>

                <span class="token comment">// 如果previousValue对象中没有值，则创建一个新数组</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 将符合条件的添加到previousValue[currentTargetValue]数组中</span>
                previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span>
                <span class="token keyword">return</span> previousValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 如果还指定了具体年级</span>
    <span class="token keyword">let</span> initObj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
    initObj<span class="token punctuation">[</span>targetValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>

            <span class="token comment">// 不是目标值直接跳过</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>currentValue<span class="token punctuation">[</span>target<span class="token punctuation">]</span> <span class="token operator">!==</span> targetValue<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">return</span> previousValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// 符合要求则加入</span>
            previousValue<span class="token punctuation">[</span>targetValue<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> previousValue<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        initObj
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


result05_01 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"专业"</span><span class="token punctuation">)</span>
result05_02 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"学院"</span><span class="token punctuation">)</span>
result05_03 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"年级"</span><span class="token punctuation">)</span>

<span class="token comment">// 这里是为了确保函数返回值是一个map而不是数组（统一返回格式） 重在思路</span>
result05_04 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"年级"</span><span class="token punctuation">,</span> <span class="token string">"2017级"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"2017级"</span><span class="token punctuation">]</span>
result05_05 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"学院"</span><span class="token punctuation">,</span> <span class="token string">"计算机学院"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"计算机学院"</span><span class="token punctuation">]</span>
result05_06 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"专业"</span><span class="token punctuation">,</span> <span class="token string">"自动化"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"自动化"</span><span class="token punctuation">]</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"按专业分类"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_01<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"按学院分类"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_02<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"按年级分类"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_03<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"取2017级"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_04<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"取计算机学院"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_05<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"取自动化专业"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_06<span class="token punctuation">)</span>
</code></pre> 
<p>结果：</p> 
<blockquote> 
 <p>按专业分类<br> {<!-- --><br> ‘物联网’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ }<br> ],<br> ‘计算机科学’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ }<br> ],<br> ‘软件工程’: [<br> { ‘年级’: ‘2018级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ }<br> ],<br> ‘自动化’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ]<br> }<br> 按学院分类<br> {<!-- --><br> ‘计算机学院’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ }<br> ],<br> ‘电气学院’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ]<br> }<br> 按年级分类<br> {<!-- --><br> ‘2017级’: [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ],<br> ‘2018级’: [<br> { ‘年级’: ‘2018级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ],<br> ‘2019级’: [<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ],<br> ‘2020级’: [<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ]<br> }<br> 取2017级<br> [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ]<br> 取计算机学院<br> [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2017级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘物联网’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘计算机科学’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘计算机学院’, ‘专业’: ‘软件工程’ }<br> ]<br> 取自动化专业<br> [<br> { ‘年级’: ‘2017级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2018级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2019级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ },<br> { ‘年级’: ‘2020级’, ‘学院’: ‘电气学院’, ‘专业’: ‘自动化’ }<br> ]</p> 
</blockquote> 
<hr> 
<blockquote> 
 <p>或者更简单点如下：</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"计算机科学"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2018级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"物联网"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"计算机科学"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"计算机学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"软件工程"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2017级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2018级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2019级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">年级</span><span class="token operator">:</span> <span class="token string">"2020级"</span><span class="token punctuation">,</span> <span class="token literal-property property">学院</span><span class="token operator">:</span> <span class="token string">"电气学院"</span><span class="token punctuation">,</span> <span class="token literal-property property">专业</span><span class="token operator">:</span> <span class="token string">"自动化"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>


<span class="token comment">// 根据指定字段的指定值获取分组  </span>
<span class="token keyword">function</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> target</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 如果没有指定具体年级，例如： 按照年级分组 </span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span> currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// 拿到当前要分组的条件</span>
                <span class="token comment">// 例如，currentValue是{ 年级: "2017级", 学院: "计算机学院", 专业: "物联网" }这样一个对象</span>
                <span class="token comment">// 那么，currentValue[target] 就是年级或者学院或者专业</span>
                <span class="token keyword">let</span> currentTargetValue <span class="token operator">=</span> currentValue<span class="token punctuation">[</span>target<span class="token punctuation">]</span>

                <span class="token comment">// 如果previousValue对象中没有值，则创建一个新数组</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>

                <span class="token comment">// 将符合条件的添加到previousValue[currentTargetValue]数组中</span>
                previousValue<span class="token punctuation">[</span>currentTargetValue<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span>
                <span class="token keyword">return</span> previousValue<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 先进行总体分组</span>
result05_01 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"专业"</span><span class="token punctuation">)</span>
result05_02 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"学院"</span><span class="token punctuation">)</span>
result05_03 <span class="token operator">=</span> <span class="token function">getByTarget</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token string">"年级"</span><span class="token punctuation">)</span>

<span class="token comment">// 再进行具体分组，例如取出物联网专业</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result05_01<span class="token punctuation">[</span><span class="token string">"物联网"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="24__298"></a>2.4 数组元素去重</h4> 
<pre><code class="prism language-javascript"><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">,</span><span class="token string">"c"</span><span class="token punctuation">,</span><span class="token string">"d"</span><span class="token punctuation">,</span><span class="token string">"a"</span><span class="token punctuation">,</span><span class="token string">"b"</span><span class="token punctuation">,</span><span class="token string">"e"</span><span class="token punctuation">,</span><span class="token string">"c"</span><span class="token punctuation">,</span><span class="token string">"d"</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">previousValue<span class="token punctuation">,</span>currentValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>previousValue<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        previousValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>currentValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> previousValue
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="25_map_311"></a>2.5 模拟实现map函数</h4> 
<pre><code class="prism language-javascript"><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myMap</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> callbackThis</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 最终返回新的数组</span>
    <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 定义回调函数的执行环境</span>
    <span class="token comment">// call 第2个参数传入null 则this指向全部对象</span>
    <span class="token keyword">let</span> cbThis <span class="token operator">=</span> callbackThis <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> next<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 传入map回调函数拥有的参数</span>
            <span class="token comment">// 把每一项的执行结果push进入res</span>
            res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>cbThis<span class="token punctuation">,</span> next<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
        <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> arr11<span class="token punctuation">.</span><span class="token function">myMap</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>sqrt<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3reduce_338"></a>3、自定义实现reduce函数</h3> 
<pre><code class="prism language-js"><span class="token comment">/**
 * @description: 自定义数组的reduce方法
 * @params callback 回调函数
 * @params initialValue 初始值
 * @return 返回处理结果
 */</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myReduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback<span class="token punctuation">,</span> initialValue</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'this is null or undefined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>callback<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> is not a function</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 传进来的数组对象</span>
    <span class="token keyword">const</span> array <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> accumulator <span class="token operator">=</span> initialValue<span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> array<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            accumulator <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> accumulator<span class="token punctuation">,</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> array<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> accumulator<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 使用</span>
<span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">myReduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span>cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    pre<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> pre
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2,3,4,5]</span>
</code></pre> 
<p>或者循环实现</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> <span class="token function-variable function">reduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">nums<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> init</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> init

    nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        init <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span>init<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> init
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 被处理的数组</span>
<span class="token keyword">let</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token comment">// 初始值</span>
<span class="token keyword">let</span> init <span class="token operator">=</span> <span class="token number">100</span>
<span class="token comment">// 回调函数</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">accum<span class="token punctuation">,</span> curr</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> accum <span class="token operator">+</span> curr <span class="token operator">*</span> curr<span class="token punctuation">;</span> <span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">reduce</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> init<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/88904ddd5d5e316fbb1939468076258a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTML中 meta的基本应用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/aa4e4a3f793ef14b8f5c7b716def92bd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flask问题解决：Cannot find reference ‘MigrateCommand‘ in ‘__init__.py‘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>