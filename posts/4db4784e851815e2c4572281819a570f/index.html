<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何搭建Pytorch环境（Windows版） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何搭建Pytorch环境（Windows版）" />
<meta property="og:description" content="由于CUDA Version更新到11.7了，因此，本教程也同步更新
1 安装Anaconda （1）首先打开Anaconda官网，下载对应平台的安装包
Anaconda官网
我们这里安装的包是Anaconda3-2022.10-Windows-x86_64.exe
然后，双击exe文件，开始安装
等待安装结束（这里选择Just me即可）
注：这里有一种方法可以自动添加环境变量，在安装的过程中，勾选自动添加到Path选项即可！这样做可跳过下面的步骤（2）
（2）安装完成后，点击系统属性设置——添加环境变量（安装时勾选自动添加到Path选项的可跳过此步骤）：
在系统Path路径下添加（高亮部分的两行内容，具体的安装路径以机器上为准）：
\Anaconda3\Scripts
\Anaconda3\Library\bin
（3）打开CMD命令，输入conda，能正常显示，说明已经安装成功了：
2 安装Pytorch （1）初始化.condarc文件
conda config --set show_channel_urls yes 这个时候，我们打开C盘用户下，可以看到多了一个.condarc文件
（2）打开这个文件，按照以下的方式进行编辑：
先设置虚拟环境的根目录
envs_dirs: - D:\software\Anaconda3\envs 然后添加channels：
清华大学镜像（安装速度快，但有时最新版不一定能安装成功）
channels: - defaults show_channel_urls: true channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda default_channels: - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2 custom_channels: conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud 阿里云镜像（安装速度慢，但package内容较全）
channels: - defaults show_channel_urls: true default_channels: - http://mirrors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4db4784e851815e2c4572281819a570f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-27T18:23:43+08:00" />
<meta property="article:modified_time" content="2023-01-27T18:23:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何搭建Pytorch环境（Windows版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong><font color="#ff0000">由于CUDA Version更新到11.7了，因此，本教程也同步更新</font></strong></p> 
<h3><a id="1_Anaconda_1"></a>1 安装Anaconda</h3> 
<p><strong>（1）首先打开Anaconda官网，下载对应平台的安装包</strong><br> <a href="https://www.anaconda.com/products/distribution" rel="nofollow">Anaconda官网</a><br> <img src="https://images2.imgbox.com/f1/cf/5M550vAj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fe/54/84TlZTDH_o.png" alt="在这里插入图片描述"><br> <strong>我们这里安装的包是Anaconda3-2022.10-Windows-x86_64.exe<br> 然后，双击exe文件，开始安装<br> 等待安装结束（这里选择Just me即可）</strong><br> <img src="https://images2.imgbox.com/8a/28/mnyOQ0BO_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ca/1d/KPnwjxuR_o.png" alt="在这里插入图片描述"><br> <strong><font color="#ff0000">注：这里有一种方法可以自动添加环境变量，在安装的过程中，勾选自动添加到Path选项即可！这样做可跳过下面的步骤（2）</font></strong><br> <img src="https://images2.imgbox.com/de/d5/Vw3Z6pjZ_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（2）安装完成后，点击系统属性设置——添加环境变量<font color="#ff0000">（安装时勾选自动添加到Path选项的可跳过此步骤）</font>：</strong><br> <img src="https://images2.imgbox.com/1f/07/oBIFjI7x_o.png" alt="在这里插入图片描述"></p> 
<p><strong>在系统Path路径下添加（高亮部分的两行内容，具体的安装路径以机器上为准）：<br> \Anaconda3\Scripts<br> \Anaconda3\Library\bin</strong><br> <img src="https://images2.imgbox.com/52/89/7iMUUFQ6_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（3）打开CMD命令，输入conda，能正常显示，说明已经安装成功了：</strong><br> <img src="https://images2.imgbox.com/a7/f8/EZLeeorK_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_Pytorch_25"></a>2 安装Pytorch</h3> 
<p><strong>（1）初始化.condarc文件</strong></p> 
<pre><code class="prism language-bash">conda config <span class="token parameter variable">--set</span> show_channel_urls <span class="token function">yes</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/24/b2/UYsFlJ5p_o.png" alt="在这里插入图片描述"><br> <strong>这个时候，我们打开C盘用户下，可以看到多了一个.condarc文件</strong><br> <img src="https://images2.imgbox.com/82/a4/58L8GhHX_o.png" alt="在这里插入图片描述"><br> <strong>（2）打开这个文件，按照以下的方式进行编辑：<br> 先设置虚拟环境的根目录</strong></p> 
<pre><code class="prism language-bash">envs_dirs:
  - D:<span class="token punctuation">\</span>software<span class="token punctuation">\</span>Anaconda3<span class="token punctuation">\</span>envs
</code></pre> 
<p><strong>然后添加channels：</strong><br> <strong>清华大学镜像（安装速度快，但有时最新版不一定能安装成功）</strong></p> 
<pre><code class="prism language-bash">channels:
  - defaults
show_channel_urls: <span class="token boolean">true</span>
channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
</code></pre> 
<p><strong>阿里云镜像（安装速度慢，但package内容较全）</strong></p> 
<pre><code class="prism language-bash">channels:
  - defaults
show_channel_urls: <span class="token boolean">true</span>
default_channels:
  - http://mirrors.aliyun.com/anaconda/pkgs/main
  - http://mirrors.aliyun.com/anaconda/pkgs/r
  - http://mirrors.aliyun.com/anaconda/pkgs/msys2
custom_channels:
  conda-forge: http://mirrors.aliyun.com/anaconda/cloud
  msys2: http://mirrors.aliyun.com/anaconda/cloud
  bioconda: http://mirrors.aliyun.com/anaconda/cloud
  menpo: http://mirrors.aliyun.com/anaconda/cloud
  pytorch: http://mirrors.aliyun.com/anaconda/cloud
  simpleitk: http://mirrors.aliyun.com/anaconda/cloud
</code></pre> 
<p><strong>二者结合版</strong></p> 
<pre><code class="prism language-bash">channels:
  - defaults
show_channel_urls: <span class="token boolean">true</span>
channel_alias: https://mirrors.tuna.tsinghua.edu.cn/anaconda
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
  - http://mirrors.aliyun.com/anaconda/pkgs/main
  - http://mirrors.aliyun.com/anaconda/pkgs/r
  - http://mirrors.aliyun.com/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  msys2: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  bioconda: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  menpo: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  pytorch: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
  simpleitk: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
</code></pre> 
<p><strong>（3）创建pytorch的虚拟python环境：（打开cmd命令行窗口，prefix后添加指定安装路径）</strong></p> 
<pre><code class="prism language-bash">conda create <span class="token parameter variable">-n</span> pytorch <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.9</span> 
</code></pre> 
<p><img src="https://images2.imgbox.com/fd/16/a1ejXgBp_o.png" alt="在这里插入图片描述"><br> <strong>输入y，开始创建虚拟环境<br> 创建完成后，激活虚拟环境，并安装pytorch：</strong></p> 
<pre><code class="prism language-bash">conda activate pytorch
conda <span class="token function">install</span> <span class="token assign-left variable">pytorch</span><span class="token operator">==</span><span class="token number">1.12</span>.1 <span class="token assign-left variable">torchvision</span><span class="token operator">==</span><span class="token number">0.13</span>.1 <span class="token assign-left variable">torchaudio</span><span class="token operator">==</span><span class="token number">0.12</span>.1 <span class="token assign-left variable">cudatoolkit</span><span class="token operator">=</span><span class="token number">11.3</span> <span class="token parameter variable">-c</span> pytorch
</code></pre> 
<p><strong>等待安装完成后，即可使用pytorch环境了</strong><br> <img src="https://images2.imgbox.com/e9/12/vVgAt7cI_o.png" alt="在这里插入图片描述"><br> <strong>（4）检测pytorch环境是否安装成功</strong></p> 
<pre><code class="prism language-bash"><span class="token function">import</span> torch
print<span class="token punctuation">(</span>torch.cuda.is_available<span class="token punctuation">(</span><span class="token punctuation">))</span>
True
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0db3c08e0b44390f6067e4c363e83173/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python 递归 - 汉诺塔 把我给整懵了</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bede0626389d78eebc5061187eb8fed1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言：从键盘任意输入a，b，c的值，编程计算并输出一元二次方程ax2&#43;bx&#43;c=0的根</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>