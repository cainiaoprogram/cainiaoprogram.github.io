<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>拉格朗日乘子法原理：等式约束和不等式约束KKT条件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="拉格朗日乘子法原理：等式约束和不等式约束KKT条件" />
<meta property="og:description" content="我的小程序： 待办计划：卷起来吧，少年！ 我们记账：年薪50w够花么？ 拉格朗日乘子法是寻找函数在一组约束下的极值方法。
1、等式约束
形式：(x是d维向量)
min f(x)
s.t. h(x) = 0.
写成如下形式：
min f(x)&#43;lambda*h(x)(lambda为参数)
s.t. h(x) = 0.
发现两者是等价的。
记：拉格朗日函数L(x,lambda) = f(x)&#43;lambda*h(x).
发现约束条件h(x)=0,其实就是对拉格朗日函数L(x,lambda)关于lambda求偏导等于0得到，略去该约束，继而原约束优化问题就转化成了对拉格朗日函数L(x,lambda)的无约束优化问题（即令L关于x和lambda的偏导等于0求解）。
几何解释：
原目标函数f(x)取得最小化点x*时，可以得到如下结论：
a.约束曲面上的任意点x,该点的梯度正交于约束曲面；
b.在最优点x*，目标函数在该点的梯度正交于约束曲面（可以反正：若目标函数梯度与约束曲面不正交，则总可以在约束曲面上移动该点使目标函数进一步减小）。
所以，在最优点x*，梯度▽f(x*)和▽h(x*)的方向相同或相反，即存在lambda!=0,使：
▽f(x*)&#43;lambda*▽h(x*)=0. （1式）
定义拉格朗日函数：L(x,lambda) = f(x)&#43;lambda*h(x).
令L(x,lambda)对x的偏导数等于0，得到1式；令L(x,lambda)对lambda的偏导数等于0，得到约束条件h(x)=0。于是，原约束优化问题转化为无约束优化问题。
2、不等式约束
形式：
min f(x)
s.t. g(x) &lt;= 0.
同样定义拉格朗日函数L(x,lambda) = f(x)&#43;lambda*g(x).
此时，首先看目标函数f(x)在无约束条件下的最优点，显然要么在g(x)&lt;=0的区域内，要么在g(x)&gt;0的区域内。
若f(x)在无约束条件下的最优点在g(x)&lt;=0区域内，则约束条件g(x)&lt;=0不起作用（即可直接求min f(x)，得到的结果必然满足g(x)&lt;=0），相当于lambda=0；
若f(x)在无约束条件下的最优点不在g(x)&lt;=0区域内，则f(x)在约束条件下的最优点必然在g(x)&lt;=0区域边界，即在边界g(x)=0上。此类情形类似于等式约束，但此时梯度▽f(x*)和▽g(x*)的方向相反（梯度方向是函数值增大最快的方向），即存在lambda&gt;0，使▽f(x*)&#43;lambda*▽g(x*)=0。
整合上述两种情形，必有lambda*g(x) = 0。所以原不等式约束问题就转化为：
min L(x,lambda)
s.t. g(x)&lt;=0,
lambda&gt;=0,
lambda*g(x)=0.
上面的约束条件即为KKT条件。
待办计划：卷起来吧，少年！ 我们记账：年薪50w够花么？ 参考资料：周志华《机器学习》
参考博文：拉格朗日乘子法及KKT条件证明" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/799b497d0e3266946ea45bb40dafc9ae/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-02T12:08:03+08:00" />
<meta property="article:modified_time" content="2023-02-02T12:08:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">拉格朗日乘子法原理：等式约束和不等式约束KKT条件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><span style="color:#fe2c24;"><strong>我的小程序：</strong></span></h4> 
<figure class="image left"> 
 <img alt="" height="200" src="https://images2.imgbox.com/de/c5/7EgxySTW_o.jpg" width="200"> 
 <figcaption> 
  <strong>待办计划：卷起来吧，少年！</strong> 
 </figcaption> 
</figure> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="200" src="https://images2.imgbox.com/18/93/uEElp0NF_o.jpg" width="200"> 
  <figcaption> 
   <strong>我们记账：年薪50w够花么？</strong> 
  </figcaption> 
 </figure> 
</div> 
<p> </p> 
<p>拉格朗日乘子法是寻找函数在一组约束下的极值方法。</p> 
<p>1、等式约束</p> 
<p>形式：<span style="color:#4f4f4f;">(x是d维向量)</span></p> 
<p>min f(x)</p> 
<p>s.t. h(x) = 0.</p> 
<p>写成如下形式：</p> 
<p>min <span style="color:#4f4f4f;">f(x)+lambda*h(x)</span>(lambda为参数)</p> 
<p>s.t. h(x) = 0.</p> 
<p>发现两者是等价的。</p> 
<p>记：拉格朗日函数L(x,lambda) = <span style="color:#4f4f4f;">f(x)+lambda*h(x).</span></p> 
<p><span style="color:#4f4f4f;">发现约束条件h(x)=0,其实就是对<span style="color:#4f4f4f;">拉格朗日函数</span>L(x,lambda)关于lambda求偏导等于0得到，略去该约束，继而原约束优化问题就转化成了对拉格朗日函数L(x,lambda)的无约束优化问题（即令L关于x和lambda的偏导等于0求解）。</span></p> 
<p>几何解释：</p> 
<p>原目标函数f(x)取得最小化点x*时，可以得到如下结论：</p> 
<p>a.约束曲面上的任意点x,该点的梯度正交于约束曲面；</p> 
<p>b.在最优点x*，目标函数在该点的梯度正交于约束曲面（可以反正：若目标函数梯度与约束曲面不正交，则总可以在约束曲面上移动该点使目标函数进一步减小）。</p> 
<p>所以，在最优点x*，<span style="color:#4f4f4f;">梯度<span style="color:#4f4f4f;">▽</span></span>f(x*)和<span style="color:#4f4f4f;">▽</span>h(x*)的方向相同或相反，即存在lambda!=0,使：</p> 
<p>▽f(x*)+lambda*▽h(x*)=0.        （1式）</p> 
<p>定义拉格朗日函数：L(x,lambda) = f(x)+lambda*h(x).</p> 
<p>令L(x,lambda)对x的偏导数等于0，得到1式；令<span style="color:#4f4f4f;">L(x,lambda)对<span style="color:#4f4f4f;">lambda</span>的偏导数等于0，得到约束条件h(x)=0。于是，原约束优化问题转化为无约束优化问题。</span></p> 
<p><span style="color:#4f4f4f;"><img alt="" class="has" src="https://images2.imgbox.com/e7/b5/lcjAGpUi_o.jpg"></span></p> 
<p></p> 
<p><span style="color:#4f4f4f;">2、不等式约束</span></p> 
<p>形式：</p> 
<p>min f(x)</p> 
<p>s.t. g(x) &lt;= 0.</p> 
<p>同样定义拉格朗日函数<span style="color:#4f4f4f;">L(x,lambda) = f(x)+lambda*g(x).</span></p> 
<p>此时，首先看目标函数f(x)在无约束条件下的最优点，显然要么在g(x)&lt;=0的区域内，要么在g(x)&gt;0的区域内。</p> 
<p>若<span style="color:#4f4f4f;">f(x)在无约束条件下的最优点</span>在<span style="color:#4f4f4f;">g(x)&lt;=0区域内，则约束条件<span style="color:#4f4f4f;">g(x)&lt;=0</span>不起作用（即可直接求<span style="color:#4f4f4f;">min f(x)</span>，得到的结果必然满足<span style="color:#4f4f4f;">g(x)&lt;=0</span>），相当于lambda=0；</span></p> 
<p><span style="color:#4f4f4f;">若<span style="color:#4f4f4f;">f(x)在无约束条件下的最优点不</span><span style="color:#4f4f4f;">在</span><span style="color:#4f4f4f;">g(x)&lt;=0区域内，则<span style="color:#4f4f4f;">f(x)在约束条件下的最优点必然在<span style="color:#4f4f4f;">g(x)&lt;=0区域</span>边界，即在边界<span style="color:#4f4f4f;">g(x)=0上。此类情形类似于等式约束，但此时<span style="color:#4f4f4f;">梯度<span style="color:#4f4f4f;">▽</span></span><span style="color:#4f4f4f;">f(x*)</span><span style="color:#4f4f4f;">和</span><span style="color:#4f4f4f;">▽g</span><span style="color:#4f4f4f;">(x*)的方向相反（梯度方向是函数值增大最快的方向），即存在lambda&gt;0，使<span style="color:#4f4f4f;">▽f(x*)+lambda*</span><span style="color:#4f4f4f;">▽g(x*)=0</span>。</span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><img alt="" class="has" src="https://images2.imgbox.com/bc/2b/kQGBpxNy_o.png"></span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">整合上述两种情形，必有lambda*g(x) = 0。所以原不等式约束问题就转化为：</span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">min <span style="color:#4f4f4f;">L(x,lambda)</span></span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">s.t. g(x)&lt;=0,</span></span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">lambda&gt;=0,</span></span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">lambda*g(x)=0.</span></span></span></span></span></span></p> 
<p><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;"><span style="color:#4f4f4f;">上面的约束条件即为KKT条件。</span></span></span></span></span></span></p> 
<figure class="image left"> 
 <img alt="" height="200" src="https://images2.imgbox.com/d4/56/u2jpz7CL_o.jpg" width="200"> 
 <figcaption> 
  <strong>待办计划：卷起来吧，少年！</strong> 
 </figcaption> 
</figure> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="200" src="https://images2.imgbox.com/fc/8c/N8pz2ubK_o.jpg" width="200"> 
  <figcaption> 
   <strong>我们记账：年薪50w够花么？</strong> 
  </figcaption> 
 </figure> 
</div> 
<p> </p> 
<p></p> 
<p>参考资料：<span style="color:#4f4f4f;">周志华《机器学习》</span></p> 
<p>参考博文：<a href="https://blog.csdn.net/tlzhatao/article/details/56839912" title="拉格朗日乘子法及KKT条件证明">拉格朗日乘子法及KKT条件证明</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6a2453de0fb5c4fc6ace47b98ac4b87f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网络类型、路由封装实验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/efecb458af9ec7df430cdd892ae046ee/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Druid（德鲁伊）数据库连接池</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>