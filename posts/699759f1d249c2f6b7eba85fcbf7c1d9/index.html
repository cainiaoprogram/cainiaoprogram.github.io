<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机体系结构量化研究方法学习笔记（一）——第一章 量化设计与分析基础 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机体系结构量化研究方法学习笔记（一）——第一章 量化设计与分析基础" />
<meta property="og:description" content="第一章 量化设计与分析基础 1、引言2、计算机的分类3、计算机体系结构的定义4、技术趋势5、集成电路中的功率和能耗6、成本趋势7、可信任度8、性能的测量、报告和汇总9、计算机设计的量化原理10、融会贯通：性能、价格和功耗 1、引言 发展过程：
20世纪80年代早期，开发出新体系结构——RISC（精简指令集计算机）。主要关注两点：指令级并行的开发、缓存的使用。
基于RISC的计算机抬高了性能指标。促使了1986-2003，计算机性能以超过50%的年增长率持续增长17年。
然而，由于风冷芯片最大功耗和无法有效地开发更多指令级并行这两大孪生瓶颈，单处理器性能受限了。
2004年，Intel取消了高性能单核处理器项目，这是标志着历史性转折的里程碑信号。处理器性能从单纯依赖指令级并行（ILP）转向了数据级并行（DLP）和线程级并行（TLP）。
2、计算机的分类 一、5种计算机分类
个人移动设备（PMD）、桌面计算、服务器、集群、仓库级计算机、嵌入式计算机
二、并行度与并行体系结构的分类
多级别的并行度是计算机设计的推动力量，能耗和成本是主要约束条件。
1、应用程序的两种并行方式：
数据级并行（DLP）： 可以同时操作许多数据项
任务级并行（TLP）： 创建了一些能够单独处理但大量采用并行方式执行的工作任务。
2、计算机硬件以4种方式实现这两种应用并行：
指令级并行
向量体系结构和图形处理器（GPU）
线程级并行
请求级并行
3、根据多处理器最受约束组件中指令流及数据流的并行，将所有计算机分为以下4类：
单指令流、单数据流（SISD）：单处理器，但是可以利用指令级并行。
单指令流、多数据流（SIMD）：同一指令由多个使用不同数据流的处理器执行。SIMD计算机开发数据及并行。
多指令流、单数据流（MISD）：还没有
多指令流、多数据流（MIMD）：每个处理器都提取自己的指令，对自己的数据进行操作，他针对的是任务机并行。
3、计算机体系结构的定义 一、指令集体系结构（ISA）
本书用ISA代指程序员可以看到的实际指令集。ISA的作用相当于区分软件和硬件的界限。
1、ISA分类
寄存器-存储器ISA：可以在许多指令中访问存储器。如80x86。
载入-存储ISA：只能用载入或存储指令来访问存储器。如ARM和MIPS。
补：
上述两个词没见过，但是学计组的时候，学过RISC和CISC的区别，其中之一就有：RISC只有load/store指令可以访存，CISC不加限制。想必是和这两类ISA是对应的。
2、存储器寻址
几乎所有计算机都用字节寻址来访问存储器操作数。ARM和MIPS要求对齐，80x86不用对齐。
二、真正的计算机体系结构：组成和硬件
组成：有时也称微体系结构。包含了计算机设计的高阶内容，如存储器系统、存储器互联等。
硬件：指的是具体实现。
本书中，体系结构 = 指令集体系结构、组成、硬件。
设计计算机必须要满足功能需求，同时达到价格、功耗、性能、可用性指标。
4、技术趋势 一、五大重要技术：
1、集成电路逻辑技术。即晶体管技术的进步，摩尔定律。
2、半导体DRAM。
3、半导体闪存。
4、磁盘技术。
5、网络技术。
二、晶体管性能与连线的发展
随着特征尺寸下降，晶体管性能线性提升，晶体管密度（数目）却以平方曲线提升，计算机架构就变得重要。
5、集成电路中的功率和能耗 一方面，必须将功率分配给芯片，另一方面功率以热的形式耗散，必须消除。
一、功率和能耗：系统观点
系统架构师要考虑三个方面：
1、处理器需要的最大功耗。保证性能。
2、持续功耗。普遍称为热设计功耗（TDP），决定了冷却需求。
3、能耗和能耗效率。
二、微处理器内部的能耗和功率
对CMOS芯片，一次（0-&gt;1或1-&gt;0）的能耗：
动态能耗 = 1/2 * 容性负载 * 电压² 每个晶体管的功率：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/699759f1d249c2f6b7eba85fcbf7c1d9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-19T16:17:37+08:00" />
<meta property="article:modified_time" content="2020-06-19T16:17:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机体系结构量化研究方法学习笔记（一）——第一章 量化设计与分析基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>第一章 量化设计与分析基础</h4> 
 <ul><li><a href="#1_1" rel="nofollow">1、引言</a></li><li><a href="#2_7" rel="nofollow">2、计算机的分类</a></li><li><a href="#3_26" rel="nofollow">3、计算机体系结构的定义</a></li><li><a href="#4_41" rel="nofollow">4、技术趋势</a></li><li><a href="#5_50" rel="nofollow">5、集成电路中的功率和能耗</a></li><li><a href="#6_70" rel="nofollow">6、成本趋势</a></li><li><a href="#7_83" rel="nofollow">7、可信任度</a></li><li><a href="#8_93" rel="nofollow">8、性能的测量、报告和汇总</a></li><li><a href="#9_99" rel="nofollow">9、计算机设计的量化原理</a></li><li><a href="#10_125" rel="nofollow">10、融会贯通：性能、价格和功耗</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_1"></a>1、引言</h2> 
<p>发展过程：<br> 20世纪80年代早期，开发出新体系结构——RISC（精简指令集计算机）。主要关注两点：指令级并行的开发、缓存的使用。<br> 基于RISC的计算机抬高了性能指标。促使了1986-2003，计算机性能以超过50%的年增长率持续增长17年。<br> 然而，由于风冷芯片最大功耗和无法有效地开发更多指令级并行这两大孪生瓶颈，单处理器性能受限了。<br> 2004年，Intel取消了高性能单核处理器项目，这是标志着历史性转折的里程碑信号。处理器性能从单纯依赖指令级并行（ILP）转向了数据级并行（DLP）和线程级并行（TLP）。</p> 
<h2><a id="2_7"></a>2、计算机的分类</h2> 
<p>一、5种计算机分类<br> 个人移动设备（PMD）、桌面计算、服务器、集群、仓库级计算机、嵌入式计算机</p> 
<p>二、并行度与并行体系结构的分类<br> 多级别的并行度是计算机设计的推动力量，能耗和成本是主要约束条件。<br> 1、应用程序的两种并行方式：<br> <strong>数据级并行（DLP）：</strong> 可以同时操作许多数据项<br> <strong>任务级并行（TLP）：</strong> 创建了一些能够单独处理但大量采用并行方式执行的工作任务。<br> 2、计算机硬件以4种方式实现这两种应用并行：<br> <strong>指令级并行</strong><br> <strong>向量体系结构和图形处理器（GPU）</strong><br> <strong>线程级并行</strong><br> <strong>请求级并行</strong><br> 3、根据多处理器最受约束组件中指令流及数据流的并行，将所有计算机分为以下4类：<br> 单指令流、单数据流（SISD）：单处理器，但是可以利用指令级并行。<br> 单指令流、多数据流（SIMD）：同一指令由多个使用不同数据流的处理器执行。SIMD计算机开发数据及并行。<br> 多指令流、单数据流（MISD）：还没有<br> 多指令流、多数据流（MIMD）：每个处理器都提取自己的指令，对自己的数据进行操作，他针对的是任务机并行。</p> 
<h2><a id="3_26"></a>3、计算机体系结构的定义</h2> 
<p>一、指令集体系结构（ISA）<br> 本书用ISA代指程序员可以看到的实际指令集。ISA的作用相当于区分软件和硬件的界限。<br> 1、ISA分类<br> 寄存器-存储器ISA：可以在许多指令中访问存储器。如80x86。<br> 载入-存储ISA：只能用载入或存储指令来访问存储器。如ARM和MIPS。<br> 补：<br> 上述两个词没见过，但是学计组的时候，学过RISC和CISC的区别，其中之一就有：RISC只有load/store指令可以访存，CISC不加限制。想必是和这两类ISA是对应的。<br> 2、存储器寻址<br> 几乎所有计算机都用字节寻址来访问存储器操作数。ARM和MIPS要求对齐，80x86不用对齐。<br> 二、真正的计算机体系结构：<strong>组成和硬件</strong><br> <strong>组成</strong>：有时也称微体系结构。包含了计算机设计的高阶内容，如存储器系统、存储器互联等。<br> <strong>硬件</strong>：指的是具体实现。<br> 本书中，<strong>体系结构 = 指令集体系结构、组成、硬件。</strong><br> 设计计算机必须要满足功能需求，同时达到价格、功耗、性能、可用性指标。</p> 
<h2><a id="4_41"></a>4、技术趋势</h2> 
<p>一、五大重要技术：<br> 1、集成电路逻辑技术。即晶体管技术的进步，摩尔定律。<br> 2、半导体DRAM。<br> 3、半导体闪存。<br> 4、磁盘技术。<br> 5、网络技术。<br> 二、晶体管性能与连线的发展<br> 随着特征尺寸下降，晶体管性能线性提升，晶体管密度（数目）却以平方曲线提升，计算机架构就变得重要。</p> 
<h2><a id="5_50"></a>5、集成电路中的功率和能耗</h2> 
<p>一方面，必须将功率分配给芯片，另一方面功率以热的形式耗散，必须消除。<br> 一、功率和能耗：系统观点<br> 系统架构师要考虑三个方面：<br> 1、处理器需要的最大功耗。保证性能。<br> 2、持续功耗。普遍称为热设计功耗（TDP），决定了冷却需求。<br> 3、能耗和能耗效率。<br> 二、微处理器内部的能耗和功率<br> 对CMOS芯片，一次（0-&gt;1或1-&gt;0）的能耗：</p> 
<pre><code>动态能耗 = 1/2 * 容性负载 * 电压²
</code></pre> 
<p>每个晶体管的功率：</p> 
<pre><code>动态功率 = 1/2 * 容性负载 * 电压² * 开关频率
</code></pre> 
<p>目前处理器已经达到了风冷散热极限。<br> 根据上述公式，如果不能降低电压或者提高每个芯片的功率，那就要减缓时钟频率的增长速度（从2003年起）。</p> 
<h2><a id="6_70"></a>6、成本趋势</h2> 
<p>集成电路的成本成为PMD成本的主体部分。<br> 基本的硅制造工艺没有变：对晶圆（wafer）进行测试，切割成晶片（die）进行封装。<br> 注：晶圆上面有几百个晶片。<br> 制造工艺决定了晶圆成本、晶圆成品率和单位面积上的缺陷数。设计人员唯一能控制的是晶片面积。</p> 
<pre><code>晶片成本 = 晶圆成本 / （每个晶圆上的晶片数 * 晶片成品率）
每个晶圆上的晶片数 ≈ 晶圆面积 / 晶片面积
				= （π *（晶圆直径/2）²）/ 晶圆面积 -（π *晶圆直径）/   √（2 *晶圆面积）
晶片正品率 = 晶圆正品率 * 1 / （1 + 单位面积上的缺陷 * 晶片面积）ⁿ
</code></pre> 
<h2><a id="7_83"></a>7、可信任度</h2> 
<p>供应商提供服务等级协议（SLA）或服务等级目标（SLO）保证他们的网络或者电源服务可靠。<br> SLA规定两种服务状态：<br> （1）服务实现<br> （2）服务中断<br> 模块可靠性：<br> 平均无故障时间（MTTF）是一种可靠性度量。MTTF的倒数就是故障率，成为FIT。<br> 服务中断以平均修复时间（MTTR）度量。<br> 模块可用性：<br> 模块可用性=MTTF/（MTTF+MTTR）</p> 
<h2><a id="8_93"></a>8、性能的测量、报告和汇总</h2> 
<p>基准测试<br> 1、桌面基准测试<br> 主要分为：处理器密集型基准测试和图形密集型基准测试。<br> 2、服务器基准测试<br> 最简单的是面向处理器吞吐量的肌醇测试</p> 
<h2><a id="9_99"></a>9、计算机设计的量化原理</h2> 
<p>一、充分利用并行<br> 三个简单例子：<br> 1、在系统级别开发并行。可以使用多个处理器和多个磁盘。随后在处理器和磁盘之间分散处理请求的工作负载，从而提高吞吐量。<br> 2、单独的处理器级别，充分利用指令间的并行实现高性能。最简单方法之一为流水线。<br> 3、在具体的数字设计级别也可以开发并行。例如组相连缓存使用多组存储器，通常可以对他们进行并行查询。<br> 总结：<br> 我理解的，上述三个，分别就是从组成、指令体系结构、硬件三个方面的体系结构的设计。<br> 二、局部性原理<br> 计算机中最重要的原理之一。<br> 三、重点关注常见情形<br> 这一原则适用于资源的分配方式。<br> 四、Amdahl定律<br> 根据Amdahl定律，可以计算出通过改进计算机某一部分而获得的性能增益。Amdahl定律表明：使用某种快速执行模式获得的性能改进受限于可使用此种快速执行方式的时间比例。<br> 五、处理器性能公式<br> 处理器性能取决于三个特性：<br> 时钟周期（或时钟频率）、每条指令的时钟周期、指令数。<br> CPU时间同等取决于这三个特性。任一特性改进10%，CPU时间改进10%。（因为乘法）</p> 
<pre><code>CPU时间 = 程序的CPU时钟周期数 * 时钟周期时间
CPU时间 = 程序的CPU时间周期 / 时间频率
指令数（IC）
每条指令时钟周期数（CPI）
CPI = 程序的CPU时钟周期数 / 指令数
CPU时间 = 指令数 * CPI * 时钟周期时间
</code></pre> 
<h2><a id="10_125"></a>10、融会贯通：性能、价格和功耗</h2> 
<p>在这一节对三个服务器进行了综合比较，我们除了性价比因素，还要考虑能耗，大多服务器实际上很少运行在峰值负载状态，最终ssj_ops和ssj_ops/$最低的PowerEdge R710荣获价格-功率-性能的奖杯。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/33c067fd3173cedc40fd580bed1c5fb3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Java学习-进阶】-java线程池ThreadPoolExecutor八种拒绝策略浅析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab9b03913fb986fc4157a9b739b1dafd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MIT软件构造Reading</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>