<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>关于string、char * 、scanf（）、sscanf（） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="关于string、char * 、scanf（）、sscanf（）" />
<meta property="og:description" content="这里写目录标题 1.char*、char[]及string的区别及相互转换1.1定义1.2区别1.3转换 2.关于scanf()、sscanf()的一些特殊用法 1.char*、char[]及string的区别及相互转换 参考：
https://www.jb51.net/article/41917.htm
https://www.cnblogs.com/fonddream/p/9806810.html
1.1定义 char *s1：s1是一个指向字符串的 指针;
char s2[]：s2是一个字符 数组;
string s3：s3是一个string类的 对象.
string：string是STL当中的一个容器，对其进行了封装，所以操作起来非常方便。
首先必须了解，string可以被看成是以字符为元素的一种容器。字符构成序列（字符串）。有时候在字符序列中进行遍历，标准的string类提供了STL容器接口。具有一些成员函数比如begin()、end()，迭代器可以根据他们进行定位。
注意：
1.与char不同的是，string不一定以NULL(’\0’)结束。string长度可以根据length()得到，string可以根据下标访问。所以，、不能将string直接赋值给char。
2.当我们定义了一个string，就不能用scanf(&#34;%s&#34;,s)和printf(&#34;%s&#34;,s)输入输出。主要是因为%s要求后面是对象的首地址。即char *
char* :char *是一个指针，可以指向一个字符串数组，至于这个数组可以在栈上分配，也可以在堆上分配，堆得话就要你手动释放了。
1.2区别 string的内存管理是由系统处理，除非系统内存池用完，不然不会出现这种内存问题。
char *的内存管理由用户自己处理，很容易出现内存不足的问题。
当我们要存一个串，但是不知道其他需要多少内存时， 用string来处理就最好不过了。
当你知道了存储的内存的时候，可以用char *，但是不如用string的好，用指针总会有
隐患。
用string还可以使用各种成员函数来处理串的每一个字符，方便处理。
用char *处理串，就不如string的方便了，没有相应的函数来直接调用，而是要自己编
写函数来完成串的处理，而且处理过程中用指针还很容易出现内存问题。
1.3转换 1、string 转换成 char *
如果要将string直接转换成const char *类型。string有2个函数可以运用。
一个是.c_str()，一个是data成员函数。
例子如下：
string s1 = &#34;abcdeg&#34;; const char *k = s1.c_str(); const char *t = s1.data(); printf(&#34;%s%s&#34;,k,t); cout&lt;&lt;k&lt;&lt;t&lt;&lt;endl; 如上，都可以输出。内容是一样的。但是只能转换成const char*，如果去掉const编译不能通过。
那么，如果要转换成char*，可以用string的一个成员函数copy实现。
string s1 = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f2c031f629be380347ba16ba8dabe024/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-30T15:33:43+08:00" />
<meta property="article:modified_time" content="2021-11-30T15:33:43+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">关于string、char * 、scanf（）、sscanf（）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>这里写目录标题</h4> 
 <ul><li><a href="#1charcharstring_1" rel="nofollow">1.char*、char[]及string的区别及相互转换</a></li><li><ul><li><a href="#11_5" rel="nofollow">1.1定义</a></li><li><a href="#12_19" rel="nofollow">1.2区别</a></li><li><a href="#13_31" rel="nofollow">1.3转换</a></li></ul> 
  </li><li><a href="#2scanfsscanf_108" rel="nofollow">2.关于scanf()、sscanf()的一些特殊用法</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1charcharstring_1"></a>1.char*、char[]及string的区别及相互转换</h2> 
<blockquote> 
 <p>参考：<br> https://www.jb51.net/article/41917.htm<br> https://www.cnblogs.com/fonddream/p/9806810.html</p> 
</blockquote> 
<h3><a id="11_5"></a>1.1定义</h3> 
<p>char *s1：s1是一个指向字符串的 指针;<br> char s2[]：s2是一个字符 数组;<br> string s3：s3是一个string类的 对象.</p> 
<blockquote> 
 <p><strong>string</strong>：string是STL当中的一个容器，对其进行了封装，所以操作起来非常方便。</p> 
</blockquote> 
<p>首先必须了解，string可以被看成是以字符为元素的一种容器。字符构成序列（字符串）。有时候在字符序列中进行遍历，标准的string类提供了STL容器接口。具有一些成员函数比如begin()、end()，迭代器可以根据他们进行定位。</p> 
<p><strong>注意</strong>：<br> 1.与char<em>不同的是，string不一定以NULL(’\0’)结束。string长度可以根据length()得到，string可以根据下标访问。所以，、不能将string直接赋值给char</em>。<br> <mark>2.当我们定义了一个string，就不能用scanf("%s",s)和printf("%s",s)输入输出。主要是因为%s要求后面是对象的首地址。即char *</mark></p> 
<blockquote> 
 <p><strong>char</strong>* :char *是一个指针，可以指向一个字符串数组，至于这个数组可以在栈上分配，也可以在堆上分配，堆得话就要你手动释放了。</p> 
</blockquote> 
<h3><a id="12_19"></a>1.2区别</h3> 
<p>string的内存管理是由系统处理，除非系统内存池用完，不然不会出现这种内存问题。<br> char *的内存管理由用户自己处理，很容易出现内存不足的问题。</p> 
<p>当我们要存一个串，但是不知道其他需要多少内存时， 用string来处理就最好不过了。<br> 当你知道了存储的内存的时候，可以用char *，但是不如用string的好，用指针总会有<br> 隐患。</p> 
<p>用string还可以使用各种成员函数来处理串的每一个字符，方便处理。<br> 用char *处理串，就不如string的方便了，没有相应的函数来直接调用，而是要自己编<br> 写函数来完成串的处理，而且处理过程中用指针还很容易出现内存问题。</p> 
<h3><a id="13_31"></a>1.3转换</h3> 
<blockquote> 
 <p>1、string 转换成 char *</p> 
</blockquote> 
<p>如果要将string直接转换成const char *类型。string有2个函数可以运用。</p> 
<p>一个是.c_str()，一个是data成员函数。</p> 
<p>例子如下：</p> 
<pre><code class="prism language-cpp">string s1 <span class="token operator">=</span> <span class="token string">"abcdeg"</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>k <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s%s"</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout<span class="token operator">&lt;&lt;</span>k<span class="token operator">&lt;&lt;</span>t<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
</code></pre> 
<p>如上，都可以输出。内容是一样的。但是只能转换成const char*，如果去掉const编译不能通过。</p> 
<p>那么，如果要转换成char*，可以用string的一个成员函数copy实现。</p> 
<pre><code class="prism language-cpp">string s1 <span class="token operator">=</span> <span class="token string">"abcdefg"</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>
<span class="token keyword">int</span> len <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s1<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>len<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout<span class="token operator">&lt;&lt;</span>data<span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>2、char *转换成string</p> 
</blockquote> 
<p>可以直接赋值。</p> 
<pre><code class="prism language-cpp">string s<span class="token punctuation">;</span>

<span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token string">"adghrtyh"</span><span class="token punctuation">;</span>

s <span class="token operator">=</span> p<span class="token punctuation">;</span>
</code></pre> 
<p><strong>不过这个是会出现问题的。</strong></p> 
<p>有一种情况我要说明一下。当我们定义了一个string类型之后，用printf("%s",s1);输出是会出问题的。这是因为“%s”要求后面的对象的首地址。但是string不是这样的一个类型。所以肯定出错。</p> 
<p>用cout输出是没有问题的，若一定要printf输出。那么可以这样：<br> printf("%s",s1.c_str())</p> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">char</span> <span class="token operator">*</span>a<span class="token operator">=</span><span class="token string">"xiaoming"</span><span class="token punctuation">;</span>
    string s<span class="token punctuation">;</span>
    s<span class="token operator">=</span>a<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>3、char[] 转换成string</p> 
</blockquote> 
<p>这个也可以直接赋值。但是也会出现上面的问题。需要同样的处理。</p> 
<blockquote> 
 <p>4、string转换成char[]</p> 
</blockquote> 
<p>这个由于我们知道string的长度，可以根据length()函数得到，又可以根据下标直接访问，所以用一个循环就可以赋值了。</p> 
<p>这样的转换不可直接赋值。</p> 
<pre><code class="prism language-cpp">    string pp <span class="token operator">=</span> <span class="token string">"dagah"</span><span class="token punctuation">;</span>
    <span class="token keyword">char</span> p<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>pp<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    p<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cout<span class="token operator">&lt;&lt;</span>p<span class="token punctuation">;</span>
</code></pre> 
<h2><a id="2scanfsscanf_108"></a>2.关于scanf()、sscanf()的一些特殊用法</h2> 
<blockquote> 
 <p>转载自：<br> https://www.cnblogs.com/huashiyiqike/archive/2013/01/23/2873480.html<br> https://blog.csdn.net/suxiang198/article/details/46836961<br> https://www.cnblogs.com/gmh915/archive/2009/09/30/1576995.html</p> 
</blockquote> 
<p>引入：</p> 
<pre><code class="prism language-cpp">输入zhang1<span class="token punctuation">,</span><span class="token number">90</span>
要求把zhang1赋给一个字符数组
把<span class="token number">90</span>付给一个INT的变量。
刚开始只想到如果用<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s,%d"</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>  这种方式肯定会出现问题，
输入的数据肯定都会被赋值给字符串，整形数据肯定会是个随机数，
因此给网友回答时说不要将字符串写在前面，来避免该问题。
后来网友说肯定能实现，因此在网上查了一些资料，终于将该问题解决，如下：
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%[^,],%d"</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token operator">&amp;</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<blockquote> 
 <p>1.scanf()函数<br> scanf()函数的一般格式为：scanf(“格式字符串”，输入项首地址表)</p> 
</blockquote> 
<p><code>scanf的格式控制的一般形式为：%[*][宽度][F|N][h|l]类型字符</code></p> 
<pre><code>[ ] 中的控制字符为可选项 
</code></pre> 
<p>"*"表示该输入项读入后不赋予任何变量，即跳过该输入值。<br> 这在减小内存开支上面还是有一点用处的，不需要的字符直接跳过，免得申请没用的变量空间。</p> 
<p>"宽度"表示输入读入字符的长度，对于整型表示截取相应宽度的数字赋给后面列表中的相应变量；<br> 对于字符型表示读入相应长度的字符后把第一个字符赋给相应的变量，其余的自动舍弃。<br> 例如</p> 
<pre><code class="prism language-cpp"><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%2d%3d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>如果输入为<span class="token number">12345</span>则将<span class="token number">12</span>赋给a，将<span class="token number">45</span>赋给b；
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%2c%3c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>如果输入为<span class="token number">12345</span>则将‘<span class="token number">1</span>‘赋给a，将‘<span class="token number">3</span>‘赋给b 
</code></pre> 
<pre><code>F 、N、h、l分别表示远指针、近指针、短整和长整型，
</code></pre> 
<p>对于_int64相应的控制字符为ll或I64 "类型字符"为 d – 输入十进制整数 、o – 输入八进制整数 、x – 输入十六进制整数 、u – 输入无符号十进制整数 f或e – 输入实型数(用小数形式或指数形式) 、c – 输入单个字符 、s – 输入字符串。</p> 
<blockquote> 
 <p>2.对于输入字符串还有一些比较有用的控制</p> 
</blockquote> 
<p>例如经常需要读入一行字符串，而这串字符里面可能有空格、制表符等空白字符，如果直接用%s是不可以的。<br> 于是有些人就想到用gets()，当然这也是一种选择，但是懂C的人基本上都知道gets()是一个很危险的函数，而且很难控制，特别是与scanf()交替使用时前者的劣势更是一览无余，所以gets()一般是不推荐用的。<br> <code>其实用% [^\n ]就可以很好的解决这个问题了</code>，^ 表示"非"，即读入其后面的字符就结束读入。<br> 这样想读入一行字符串直接用<code>scanf("%[^\n]%*c",str);</code>就可以了，<code>%*c的作用是读入\n,否则后面读入的将一直是\n。</code><br> <mark>所有对 %s起作用的控制都可以用 %[ ]</mark><br> 比如%[0-9]表示只读入‘0‘到‘9‘之间的字符，<br> %[a-zA-Z]表示只读入字母，<br> ‘-‘是范围连接符，当然也可以直接列出你需要读入的字符，<br> 上面读字母之所以用范围连接符是因为要输入52个字符太麻烦了，如果你只需要读"abc"里面的字符就可以用<code>%[abc] (或者%[cab]、%[acb]、%[a-c]、%[c-a].....),</code>如果想读入某个范围之外的字符串就在前面加一个<code>‘^‘,如：%[^a-z]</code>就表示读入小写字母之外的字符上面。<br> 这些用法其实可以有很多推广用法的，比如说你要处理下面的字符串 <code>23 44r f30 88888,3245;34:123.</code>让你输出里面所有的数字，就可以用下面的代码：</p> 
<pre><code class="prism language-cpp"><span class="token keyword">bool</span> <span class="token function">skip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*[^0-9]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> 
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
<span class="token keyword">int</span> n<span class="token punctuation">;</span> 
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>附录：%[ ] 的用法：</p> 
</blockquote> 
<p>%[ ]表示要读入一个字符集合, 如果[ 后面第一个字符是"^" ,<br> 则表示反意思。[ ]内的字符串可以是1或更多字符组成。空字符集（%[]）是违反规定的，可导致不可预知的结果。%[^]也是违反规定的。\</p> 
<pre><code class="prism language-cpp"><span class="token operator">%</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span> 读取在 a<span class="token operator">-</span>z 之间的字符串，如果不在此之前则停止，如
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span>"hello<span class="token punctuation">,</span> my <span class="token keyword">friend</span>” <span class="token punctuation">;</span> <span class="token comment">// 注意: ,逗号在不 a-z之间</span>
<span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> “<span class="token operator">%</span><span class="token punctuation">[</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span>”<span class="token punctuation">,</span> string <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// string=hello</span>

<span class="token operator">%</span><span class="token punctuation">[</span><span class="token operator">^</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span>读取不在 a<span class="token operator">-</span>z 之间的字符串，如果碰到a<span class="token operator">-</span>z之间的字符则停止，如
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span>"HELLOkitty” <span class="token punctuation">;</span> <span class="token comment">// 注意: ,逗号在不 a-z之间</span>
<span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> “<span class="token operator">%</span><span class="token punctuation">[</span><span class="token operator">^</span>a<span class="token operator">-</span>z<span class="token punctuation">]</span>”<span class="token punctuation">,</span> string <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// string=HELLO</span>

<span class="token operator">%</span><span class="token operator">*</span><span class="token punctuation">[</span><span class="token operator">^=</span><span class="token punctuation">]</span> 前面带<span class="token operator">*</span> 号表示不保存变量。跳过符合条件的字符串。
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"notepad=1.0.0.1001"</span> <span class="token punctuation">;</span>
<span class="token keyword">char</span> szfilename <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span> <span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> <span class="token string">"%*[^=]"</span><span class="token punctuation">,</span> szfilename <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// szfilename=NULL,因为没保存</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> <span class="token string">"%*[^=]=%s"</span><span class="token punctuation">,</span> szfilename <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// szfilename=1.0.0.1001</span>
<span class="token operator">%</span><span class="token number">40</span>c 读取<span class="token number">40</span>个字符

<span class="token operator">%</span><span class="token punctuation">[</span><span class="token operator">^=</span><span class="token punctuation">]</span> 读取字符串直到碰到’<span class="token operator">=</span>’号，’<span class="token operator">^</span>’后面可以带更多字符<span class="token punctuation">,</span>如：
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"notepad=1.0.0.1001"</span> <span class="token punctuation">;</span>
<span class="token keyword">char</span> szfilename <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span> <span class="token punctuation">;</span>
<span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> <span class="token string">"%[^=]"</span><span class="token punctuation">,</span> szfilename <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// szfilename=notepad </span>
如果参数格式是：<span class="token operator">%</span><span class="token punctuation">[</span><span class="token operator">^=</span><span class="token operator">:</span><span class="token punctuation">]</span> ，那么也可以从 notepad<span class="token operator">:</span><span class="token number">1.0</span><span class="token punctuation">.</span><span class="token number">0.1001</span>读取notepad

使用例子：
<span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token string">"notepad=1.0.0.1001"</span> <span class="token punctuation">;</span>
<span class="token keyword">char</span> szname <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">""</span> <span class="token punctuation">;</span>
<span class="token keyword">char</span> szver <span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token operator">=</span> “” <span class="token punctuation">;</span>
<span class="token function">sscanf</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> <span class="token string">"%[^=]=%s"</span><span class="token punctuation">,</span> szname <span class="token punctuation">,</span> szver <span class="token punctuation">)</span> <span class="token punctuation">;</span> <span class="token comment">// szname=notepad, szver=1.0.0.1001</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/170835e074afa5e3915be86073f62c66/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">机器学习数学学习笔记：Chapter 2. Linear Algebra</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d309584b4f631300c6b6f6abd27a5629/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【超详细】Linux内核树的构建</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>