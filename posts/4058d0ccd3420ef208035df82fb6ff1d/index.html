<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据结构入门到入土——ArrayList与顺序表 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据结构入门到入土——ArrayList与顺序表" />
<meta property="og:description" content="目录
一，线性表
二，顺序表
1.接口实现
三，ArrayList简介
四，ArrayList使用
1.ArrayList的构造
2.ArrayList常见操作
3.ArrayList的遍历
4.ArrayList的扩容机制
五，ArrayLisit的具体使用
杨辉三角
一，线性表 线性表 （ linear list ） 是 n 个具有相同特性的数据元素的有限序列。 线性表是一种在实际中广泛使用的数据结构，常见的线性表：顺序表、链表、栈、队列... 线性表在逻辑上是线性结构，也就说是连续的一条直线。但是在物理结构上并不一定是连续的，线性表在物理上存储时，通常以数组和链式结构的形式存储。 二，顺序表 顺序表是用一段物理地址连续的存储单元依次存储数据元素的线性结构，一般情况下采用数组存储。在数组上完成数据的增删查改。 1.接口实现 接口部分：
public interface IList { // 新增元素,默认在数组最后新增 public void add(int data); // 在 pos 位置新增元素 public void add(int pos, int data); // 判定是否包含某个元素 public boolean contains(int toFind); // 查找某个元素对应的位置 public int indexOf(int toFind); // 获取 pos 位置的元素 public int get(int pos); // 给 pos 位置的元素设为 value public void set(int pos, int value); //删除第一次出现的关键字key public void remove(int toRemove); // 获取顺序表长度 public int size(); // 清空顺序表 public void clear(); // 打印顺序表，注意：该方法并不是顺序表中的方法，为了方便看测试结果给出的 public void display(); //判断顺序表是否已满 public boolean isFull(); //判断顺序表是否为空 public boolean isEmpty(); } 接口实现：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4058d0ccd3420ef208035df82fb6ff1d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-07T22:08:17+08:00" />
<meta property="article:modified_time" content="2024-01-07T22:08:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据结构入门到入土——ArrayList与顺序表</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%EF%BC%8C%E7%BA%BF%E6%80%A7%E8%A1%A8-toc" style="margin-left:0px;"><a href="#%E4%B8%80%EF%BC%8C%E7%BA%BF%E6%80%A7%E8%A1%A8" rel="nofollow">一，线性表</a></p> 
<p id="%E4%BA%8C%EF%BC%8C%E9%A1%BA%E5%BA%8F%E8%A1%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%EF%BC%8C%E9%A1%BA%E5%BA%8F%E8%A1%A8" rel="nofollow">二，顺序表</a></p> 
<p id="1.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#1.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0" rel="nofollow">1.接口实现</a></p> 
<p id="%E4%B8%89%EF%BC%8CArrayList%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#%E4%B8%89%EF%BC%8CArrayList%E7%AE%80%E4%BB%8B" rel="nofollow">三，ArrayList简介</a></p> 
<p id="%E5%9B%9B%EF%BC%8CArrayList%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%EF%BC%8CArrayList%E4%BD%BF%E7%94%A8" rel="nofollow">四，ArrayList使用</a></p> 
<p id="1.ArrayList%E7%9A%84%E6%9E%84%E9%80%A0-toc" style="margin-left:40px;"><a href="#1.ArrayList%E7%9A%84%E6%9E%84%E9%80%A0" rel="nofollow">1.ArrayList的构造</a></p> 
<p id="2.ArrayList%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C-toc" style="margin-left:40px;"><a href="#2.ArrayList%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C" rel="nofollow">2.ArrayList常见操作</a></p> 
<p id="3.ArrayList%E7%9A%84%E9%81%8D%E5%8E%86-toc" style="margin-left:40px;"><a href="#3.ArrayList%E7%9A%84%E9%81%8D%E5%8E%86" rel="nofollow">3.ArrayList的遍历</a></p> 
<p id="4.ArrayList%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6-toc" style="margin-left:0px;"><a href="#4.ArrayList%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6" rel="nofollow">4.ArrayList的扩容机制</a></p> 
<p id="%E4%BA%94%EF%BC%8CArrayLisit%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%94%EF%BC%8CArrayLisit%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8" rel="nofollow">五，ArrayLisit的具体使用</a></p> 
<p id="%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92-toc" style="margin-left:40px;"><a href="#%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92" rel="nofollow">杨辉三角</a></p> 
<hr id="hr-toc"> 
<h2>一，线性表</h2> 
<blockquote> 
 <div> 
  <span style="color:#777777;">线性表</span> 
  <span style="color:#777777;">（</span> 
  <span style="color:#777777;"><em>linear list</em></span> 
  <span style="color:#777777;">）</span> 
  <span style="color:#777777;">是</span> 
  <span style="color:#777777;">n</span> 
  <span style="color:#777777;">个具有相同特性的数据元素的有限序列。 线性表是一种在实际中广泛使用的数据结构，常见的线性表：顺序表、链表、栈、队列... </span> 
 </div> 
 <div></div> 
 <div> 
  <span style="color:#777777;">线性表在逻辑上是线性结构，也就说是连续的一条直线。但是在物理结构上并不一定是连续的，线性表在物理上存储时，通常以数组和链式结构的形式存储。 </span> 
 </div> 
 <div></div> 
 <div> 
  <img alt="" height="557" src="https://images2.imgbox.com/ad/06/1WlfuytJ_o.png" width="1200"> 
 </div> 
</blockquote> 
<h2 id="%E4%BA%8C%EF%BC%8C%E9%A1%BA%E5%BA%8F%E8%A1%A8">二，顺序表</h2> 
<div> 
 <span style="color:#494949;">顺序表是用一段<strong>物理地址连续</strong>的存储单元依次存储数据元素的线性结构，一般情况下采用数组存储。在数组上完成数据的增删查改。</span> 
</div> 
<h3 id="1.%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0">1.接口实现</h3> 
<p>接口部分：</p> 
<pre><code class="language-java">public interface IList {
    // 新增元素,默认在数组最后新增
    public void add(int data);
    // 在 pos 位置新增元素
    public void add(int pos, int data);
    // 判定是否包含某个元素
    public boolean contains(int toFind);
    // 查找某个元素对应的位置
    public int indexOf(int toFind);
    // 获取 pos 位置的元素
    public int get(int pos);
    // 给 pos 位置的元素设为 value
    public void set(int pos, int value);
    //删除第一次出现的关键字key
    public void remove(int toRemove);
    // 获取顺序表长度
    public int size();
    // 清空顺序表
    public void clear();
    // 打印顺序表，注意：该方法并不是顺序表中的方法，为了方便看测试结果给出的
    public void display();
    //判断顺序表是否已满
    public boolean isFull();
    //判断顺序表是否为空
    public boolean isEmpty();
}
</code></pre> 
<p>接口实现：</p> 
<pre><code class="language-java">import java.util.Arrays;

public class MyArrayList implements IList{
    public int[] elem;
    public int usedSize;
    public static final int DEFINE_SIZE = 10;

    public MyArrayList() {
        this.elem = new int[DEFINE_SIZE];
    }

    public MyArrayList(int capacity) {
        this.usedSize = capacity;
    }

    @Override
    //新增元素,默认在数组最后新增
    //1.检查数组是否已满
    //2.满了扩容，未满新增
    //usedSize++
    public void add(int data) {
        if (isFull()) {
            elem = Arrays.copyOf(elem,2 * elem.length);
        }
        this.elem[this.usedSize] = data;
        this.usedSize++;
    }

    public boolean isFull() {
        return this.usedSize ==elem.length;
    }
    @Override
    //在 pos 位置新增元素
    //1.检查数组是否已满
    //2.满了扩容
    //3.未满：在指定位置新增，原位置有元素就向后挪
    //4.usedSize++
    public void add(int pos, int data) {
        if (isFull()) {
            elem = Arrays.copyOf(elem,2 * elem.length);
        }
        //新增
        int i = this.usedSize;
        while (i &gt; pos) {
            elem[i] = elem[i-1];
            i--;
        }
        this.elem[pos] = data;
        usedSize++;
    }

    @Override
    // 判定是否包含某个元素
    //1.顺序表是否为空
    //2.查找元素
    public boolean contains(int toFind) {
        if (isEmpty()) {
            return false;
        }
        //查找元素
        if (findVal(toFind) != 0) {
            return true;
        }
        return false;
    }

    public int findVal(int val) {
        for (int i = 0; i &lt; elem.length; i++) {
            if (elem[i] == val) {
                return i;
            }
        }
        return 0;
    }
    public boolean isEmpty() {
        return usedSize == 0;
    }

    @Override
    // 查找某个元素对应的位置
    // 1.判断是否为空
    // 2.为空抛空List异常
    // 3.查找元素
    // 4.获取下标
    public int indexOf(int toFind) throws EmptyListException{
        if (isEmpty()) {
            throw new EmptyListException("空List异常");
        }
        //查找
        if (findVal(toFind) == 0) {
            //查询不到异常
            throw new NotFindException("NotFindException");
        }
        return findVal(toFind);
    }

    @Override
    // 获取 pos 位置的元素
    // 1.判断是否为空
    // 2.判断pos位置是否合法
    // 3.获取
    public int get(int pos) {
        if (isEmpty()) {
            throw new EmptyListException("空List异常");
        }
        if (checkPos(pos)) {
            //pos位置不合法
            throw new PosException("pos位置不合法");
        }
        return this.elem[pos];
    }

    private boolean checkPos(int pos) {
        if (pos &lt; 0 || pos &gt;= this.usedSize) {
            return true;
        }
        return false;
    }
    @Override
    // 给 pos 位置的元素设为 value
    // 1.判断是否为空
    // 2.判断pos位置是否合法
    // 3.设置
    public void set(int pos, int value) {
        if (isEmpty()) {
            throw new EmptyListException("空List异常");
        }
        if (checkPos(pos)) {
            //pos位置不合法
            throw new PosException("pos位置不合法");
        }
        this.elem[pos] = value;
    }

    @Override
    // 删除第一次出现的关键字key
    // 是否为空？
    // 查找关键字
    public void remove(int toRemove) {
        if (isEmpty()) {
            throw new EmptyListException("空List异常");
        }
        for (int i = indexOf(toRemove);i &lt; this.usedSize - 1;i++) {
            elem[i] = elem[i+1];
        }
        usedSize--;
    }

    @Override
    // 获取顺序表长度
    public int size() {
        return this.usedSize;
    }

    @Override
    // 清空顺序表
    public void clear() {
        this.usedSize = 0;
    }

    @Override
    public void display() {
        System.out.print("[");
        if (this.usedSize == 0) {
            System.out.println("]");
        }
        for (int i = 0; i &lt; this.usedSize; i++) {
            if (i == this.usedSize - 1) {
                System.out.println(this.elem[i] + "]");
            } else {
                System.out.print(this.elem[i] + ",");
            }
        }
    }
}

</code></pre> 
<h2 id="%E4%B8%89%EF%BC%8CArrayList%E7%AE%80%E4%BB%8B">三，ArrayList简介</h2> 
<div> 
 <span style="color:#494949;">在集合框架中，ArrayList是一个普通的类，实现了List接口，具体框架图如下：</span> 
</div> 
<div></div> 
<div> 
 <img alt="" height="786" src="https://images2.imgbox.com/dd/09/0nWzO5UR_o.png" width="1200"> 
</div> 
<div> 
 <strong>【说明】</strong> 
</div> 
<div>
                 
 <div> 
  <span style="color:#333333;">1. ArrayList</span> 
  <span style="color:#333333;">是以泛型方式实现的，使用时必须要先实例化 </span> 
 </div> 
 <div> 
  <span style="color:#333333;">2. ArrayList</span> 
  <span style="color:#333333;">实现了</span> 
  <span style="color:#333333;">RandomAccess</span> 
  <span style="color:#333333;">接口，表明</span> 
  <span style="color:#333333;">ArrayList</span> 
  <span style="color:#333333;">支持随机访问</span> 
 </div> 
 <div> 
  <div> 
   <span style="color:#333333;">3. ArrayList</span> 
   <span style="color:#333333;">实现了</span> 
   <span style="color:#333333;">Cloneable</span> 
   <span style="color:#333333;">接口，表明</span> 
   <span style="color:#333333;">ArrayList</span> 
   <span style="color:#333333;">是可以</span> 
   <span style="color:#333333;">clone</span> 
   <span style="color:#333333;">的 </span> 
  </div> 
  <div> 
   <span style="color:#333333;">4. ArrayList</span> 
   <span style="color:#333333;">实现了</span> 
   <span style="color:#333333;">Serializable</span> 
   <span style="color:#333333;">接口，表明</span> 
   <span style="color:#333333;">ArrayList</span> 
   <span style="color:#333333;">是支持序列化的 </span> 
  </div> 
  <div> 
   <span style="color:#333333;">5. </span> 
   <span style="color:#333333;">和</span> 
   <span style="color:#333333;">Vector</span> 
   <span style="color:#333333;">不同，</span> 
   <span style="color:#333333;">ArrayList</span> 
   <span style="color:#333333;">不是线程安全的，在单线程下可以使用，在多线程中可以选择</span> 
   <span style="color:#333333;">Vector</span> 
   <span style="color:#333333;">或者CopyOnWriteArrayList </span> 
  </div> 
  <div> 
   <span style="color:#333333;">6. ArrayList</span> 
   <span style="color:#333333;">底层是一段连续的空间，并且可以动态扩容，是一个动态类型的顺序表</span> 
  </div> 
  <div></div> 
  <h2 id="%E5%9B%9B%EF%BC%8CArrayList%E4%BD%BF%E7%94%A8">四，ArrayList使用</h2> 
  <h3 id="1.ArrayList%E7%9A%84%E6%9E%84%E9%80%A0">1.ArrayList的构<strong>造</strong></h3> 
  <table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="text-align:center;"><strong>方法</strong></td><td style="text-align:center;"><strong>解释</strong></td></tr><tr><td> 
      <div> 
       <span style="color:#4183c4;">ArrayList</span> 
       <span style="color:#333333;">()</span> 
      </div> </td><td>无参构造</td></tr><tr><td> 
      <div> 
       <span style="color:#4183c4;">ArrayList</span> 
       <span style="color:#333333;">(Collection&lt;? extends E&gt; c)</span> 
      </div> </td><td>利用其它Collection构造ArrayList</td></tr><tr><td> 
      <div> 
       <span style="color:#4183c4;">ArrayList</span> 
       <span style="color:#333333;">(int initialCapacity)</span> 
      </div> </td><td>指定顺序表初始容量</td></tr></tbody></table> 
  <blockquote> 
   <p style="margin-left:0;text-align:left;"><span style="color:#770088;">public static </span><span style="color:#008855;">void </span><span style="color:#0000ff;">main</span><span style="color:#333333;">(</span><span style="color:#008855;">String</span><span style="color:#333333;">[] </span><span style="color:#000000;">args</span><span style="color:#333333;">) { </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// ArrayList</span><span style="color:#aa5500;">创建，推荐写法 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">构造一个空的列表 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">List</span><span style="color:#981a1a;">&lt;</span><span style="color:#008855;">Integer</span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">list1 </span><span style="color:#981a1a;">= </span><span style="color:#770088;">new </span><span style="color:#000000;">ArrayList</span><span style="color:#981a1a;">&lt;&gt;</span><span style="color:#333333;">(); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">构造一个具有</span><span style="color:#aa5500;">10</span><span style="color:#aa5500;">个容量的列表 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">List</span><span style="color:#981a1a;">&lt;</span><span style="color:#008855;">Integer</span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">list2 </span><span style="color:#981a1a;">= </span><span style="color:#770088;">new </span><span style="color:#000000;">ArrayList</span><span style="color:#981a1a;">&lt;&gt;</span><span style="color:#333333;">(</span><span style="color:#116644;">10</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list2</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#116644;">1</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list2</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#116644;">2</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list2</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#116644;">3</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// list2.add("hello"); // </span><span style="color:#aa5500;">编译失败，</span><span style="color:#aa5500;">List&lt;Integer&gt;</span><span style="color:#aa5500;">已经限定了，</span><span style="color:#aa5500;">list2</span><span style="color:#aa5500;">中只能存储整形元素 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// list3</span><span style="color:#aa5500;">构造好之后，与</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中的元素一致 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">ArrayList</span><span style="color:#981a1a;">&lt;</span><span style="color:#008855;">Integer</span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">list3 </span><span style="color:#981a1a;">= </span><span style="color:#770088;">new </span><span style="color:#000000;">ArrayList</span><span style="color:#981a1a;">&lt;&gt;</span><span style="color:#333333;">(</span><span style="color:#000000;">list2</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">避免省略类型，否则：任意类型的元素都可以存放，使用时将是一场灾难 </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">List list4 </span><span style="color:#981a1a;">= </span><span style="color:#770088;">new </span><span style="color:#000000;">ArrayList</span><span style="color:#333333;">(); </span></p> 
   <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list4</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"111"</span><span style="color:#333333;">); </span></p> 
   <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">list4</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#116644;">100</span><span style="color:#333333;">);</span></p> 
   <p style="margin-left:0;text-align:justify;"><span style="color:#333333;">}</span></p> 
  </blockquote> 
  <h3 id="2.ArrayList%E5%B8%B8%E8%A7%81%E6%93%8D%E4%BD%9C" style="margin-left:0px;text-align:justify;">2.ArrayList常见操作</h3> 
  <div> 
   <span style="color:#494949;">ArrayList虽然提供的方法比较多，但是常用方法如下所示，需要用到其他方法时，可行查阅使用。</span> 
  </div> 
  <div> 
   <table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td style="text-align:center;"><strong>方法</strong></td><td style="text-align:center;"><strong>解释</strong></td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">boolean</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">add</span> 
        <span style="color:#494949;">(E e)</span> 
       </div> </td><td>尾插e</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">void</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">add</span> 
        <span style="color:#494949;">(int index, E element)</span> 
       </div> </td><td>将e插入到index位置</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">boolean</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">addAll</span> 
        <span style="color:#494949;">(Collection&lt;? extends E&gt; c)</span> 
       </div> </td><td>尾插e中的元素</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">E</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">remove</span> 
        <span style="color:#494949;">(int index)</span> 
       </div> </td><td>删除index位置元素</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">boolean</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">remove</span> 
        <span style="color:#494949;">(Object o)</span> 
       </div> </td><td>删除遇到的第一个o</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">E</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">get</span> 
        <span style="color:#494949;">(int index)</span> 
       </div> </td><td>获取下标index位置元素</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">E</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">set</span> 
        <span style="color:#494949;">(int index, E element)</span> 
       </div> </td><td>将下标index位置元素设置成element</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">void</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">clear</span> 
        <span style="color:#333333;">()</span> 
       </div> </td><td>清空</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">boolean</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">contains</span> 
        <span style="color:#494949;">(Object o)</span> 
       </div> </td><td>判断o是否在线性表中</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">int</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">indexOf</span> 
        <span style="color:#494949;">(Object o)</span> 
       </div> </td><td>返回第一个o所在下标</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">int</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">lastIndexOf</span> 
        <span style="color:#494949;">(Object o)</span> 
       </div> </td><td>返回最后一个o的下标</td></tr><tr><td> 
       <div> 
        <span style="color:#494949;">List&lt;E&gt;</span> 
        <span style="color:#333333;"> </span> 
        <span style="color:#4183c4;">subList</span> 
        <span style="color:#494949;">(int fromIndex, int toIndex)</span> 
       </div> </td><td>截取部分List</td></tr></tbody></table> 
   <blockquote> 
    <p style="margin-left:0;text-align:left;"><span style="color:#770088;">public static </span><span style="color:#008855;">void </span><span style="color:#0000ff;">main</span><span style="color:#333333;">(</span><span style="color:#008855;">String</span><span style="color:#333333;">[] </span><span style="color:#000000;">args</span><span style="color:#333333;">) { </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">List</span><span style="color:#981a1a;">&lt;</span><span style="color:#008855;">String</span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">list </span><span style="color:#981a1a;">= </span><span style="color:#770088;">new </span><span style="color:#000000;">ArrayList</span><span style="color:#981a1a;">&lt;&gt;</span><span style="color:#333333;">(); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaSE"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaWeb"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaEE"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JVM"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"</span><span style="color:#aa1111;">测试课程</span><span style="color:#aa1111;">"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">获取</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中有效元素个数 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">size</span><span style="color:#333333;">()); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">获取和设置</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">位置上的元素，注意</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">必须介于</span><span style="color:#aa5500;">[0, size)</span><span style="color:#aa5500;">间 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">get</span><span style="color:#333333;">(</span><span style="color:#116644;">1</span><span style="color:#333333;">)); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">set</span><span style="color:#333333;">(</span><span style="color:#116644;">1</span><span style="color:#333333;">, </span><span style="color:#aa1111;">"JavaWEB"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">get</span><span style="color:#333333;">(</span><span style="color:#116644;">1</span><span style="color:#333333;">)); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">在</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">的</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">位置插入指定元素，</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">及后续的元素统一往后搬移一个位置 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#116644;">1</span><span style="color:#333333;">, </span><span style="color:#aa1111;">"Java</span><span style="color:#aa1111;">数据结构</span><span style="color:#aa1111;">"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">删除指定元素，找到了就删除，该元素之后的元素统一往前搬移一个位置 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">remove</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JVM"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">删除</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">位置上的元素，注意</span><span style="color:#aa5500;">index</span><span style="color:#aa5500;">不要超过</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中有效元素个数</span><span style="color:#aa5500;">,</span><span style="color:#aa5500;">否则会抛出下标越界异常 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">remove</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">size</span><span style="color:#333333;">()</span><span style="color:#981a1a;">-</span><span style="color:#116644;">1</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">);</span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">检测</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中是否包含指定元素，包含返回</span><span style="color:#aa5500;">true</span><span style="color:#aa5500;">，否则返回</span><span style="color:#aa5500;">false </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#770088;">if</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">contains</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"</span><span style="color:#aa1111;">测试课程</span><span style="color:#aa1111;">"</span><span style="color:#333333;">)){ </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"</span><span style="color:#aa1111;">测试课程</span><span style="color:#aa1111;">"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#333333;">}</span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">查找指定元素第一次出现的位置：</span><span style="color:#aa5500;">indexOf</span><span style="color:#aa5500;">从前往后找，</span><span style="color:#aa5500;">lastIndexOf</span><span style="color:#aa5500;">从后往前找 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">add</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaSE"</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">indexOf</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaSE"</span><span style="color:#333333;">)); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">lastIndexOf</span><span style="color:#333333;">(</span><span style="color:#aa1111;">"JavaSE"</span><span style="color:#333333;">)); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">使用</span><span style="color:#aa5500;">list</span><span style="color:#aa5500;">中</span><span style="color:#aa5500;">[0, 4)</span><span style="color:#aa5500;">之间的元素构成一个新的</span><span style="color:#aa5500;">SubList</span><span style="color:#aa5500;">返回</span><span style="color:#aa5500;">,</span><span style="color:#aa5500;">但是和</span><span style="color:#aa5500;">ArrayList</span><span style="color:#aa5500;">共用一个</span><span style="color:#aa5500;">elementData</span><span style="color:#aa5500;">数组 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">List</span><span style="color:#981a1a;">&lt;</span><span style="color:#008855;">String</span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">ret </span><span style="color:#981a1a;">= </span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">subList</span><span style="color:#333333;">(</span><span style="color:#116644;">0</span><span style="color:#333333;">, </span><span style="color:#116644;">4</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">ret</span><span style="color:#333333;">); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">clear</span><span style="color:#333333;">(); </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#000000;">System</span><span style="color:#333333;">.</span><span style="color:#000000;">out</span><span style="color:#333333;">.</span><span style="color:#000000;">println</span><span style="color:#333333;">(</span><span style="color:#000000;">list</span><span style="color:#333333;">.</span><span style="color:#000000;">size</span><span style="color:#333333;">()); </span></p> 
    <p style="margin-left:0;text-align:justify;"><span style="color:#333333;">}</span></p> 
   </blockquote> 
   <h3 id="3.ArrayList%E7%9A%84%E9%81%8D%E5%8E%86" style="margin-left:0px;text-align:justify;">3.ArrayList的遍历</h3> 
   <p>ArrayList的遍历有三种方式：for()+下标，for-each，使用迭代器</p> 
   <blockquote> 
    <p style="margin-left:0;text-align:left;"><span style="background-color:#ffffff;"><span style="color:#0033b3;">public static void </span><span style="color:#00627a;">main</span><span style="color:#080808;">(</span><span style="color:#000000;">String</span><span style="color:#080808;">[] args) {<!-- --><br>     </span><span style="color:#000000;">List</span><span style="color:#080808;">&lt;</span><span style="color:#000000;">Integer</span><span style="color:#080808;">&gt; </span><span style="color:#000000;">list1 </span><span style="color:#080808;">= </span><span style="color:#0033b3;">new </span><span style="color:#080808;">ArrayList&lt;&gt;();<br>     </span><span style="color:#000000;">list1</span><span style="color:#080808;">.add(</span><span style="color:#1750eb;">1</span><span style="color:#080808;">);<br>     </span><span style="color:#000000;">list1</span><span style="color:#080808;">.add(</span><span style="color:#1750eb;">2</span><span style="color:#080808;">);<br>     </span><span style="color:#000000;">list1</span><span style="color:#080808;">.add(</span><span style="color:#1750eb;">3</span><span style="color:#080808;">);<br>     </span><span style="color:#000000;">list1</span><span style="color:#080808;">.add(</span><span style="color:#1750eb;">4</span><span style="color:#080808;">);<br>     </span><span style="color:#000000;">list1</span><span style="color:#080808;">.add(</span><span style="color:#1750eb;">5</span><span style="color:#080808;">);<br>     </span><em><span style="color:#8c8c8c;">//</span></em><em><span style="color:#8c8c8c;">使用for()+下标遍历<br>     </span></em><span style="color:#0033b3;">for </span><span style="color:#080808;">(</span><span style="color:#0033b3;">int </span><span style="color:#000000;">i </span><span style="color:#080808;">= </span><span style="color:#1750eb;">0</span><span style="color:#080808;">; </span><span style="color:#000000;">i </span><span style="color:#080808;">&lt; </span><span style="color:#000000;">list1</span><span style="color:#080808;">.size(); </span><span style="color:#000000;">i</span><span style="color:#080808;">++) {<!-- --><br>         </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.print(</span><span style="color:#000000;">list1</span><span style="color:#080808;">.get(</span><span style="color:#000000;">i</span><span style="color:#080808;">) + </span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br>     }<br>     </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.println(</span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br>     </span><em><span style="color:#8c8c8c;">//</span></em><em><span style="color:#8c8c8c;">使用for-each遍历<br>     </span></em><span style="color:#0033b3;">for </span><span style="color:#080808;">(</span><span style="color:#000000;">Integer integer</span><span style="color:#080808;">:</span><span style="color:#000000;">list1</span><span style="color:#080808;">) {<!-- --><br>         </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.print(</span><span style="color:#000000;">integer </span><span style="color:#080808;">+ </span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br>     }<br>     </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.println(</span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br>     </span><em><span style="color:#8c8c8c;">//</span></em><em><span style="color:#8c8c8c;">使用迭代器遍历<br>     </span></em><span style="color:#000000;">Iterator</span><span style="color:#080808;">&lt;</span><span style="color:#000000;">Integer</span><span style="color:#080808;">&gt; </span><span style="color:#000000;">it </span><span style="color:#080808;">= </span><span style="color:#000000;">list1</span><span style="color:#080808;">.iterator();<br>     </span><span style="color:#0033b3;">while </span><span style="color:#080808;">(</span><span style="color:#000000;">it</span><span style="color:#080808;">.hasNext()) {<!-- --><br>         </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.print(</span><span style="color:#000000;">it</span><span style="color:#080808;">.next() + </span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br>     }<br>     </span><span style="color:#000000;">System</span><span style="color:#080808;">.</span><em><span style="color:#871094;">out</span></em><span style="color:#080808;">.println(</span><span style="color:#067d17;">" "</span><span style="color:#080808;">);<br> }</span></span></p> 
   </blockquote> 
   <div> 
    <span style="color:#333333;">注意： </span> 
   </div> 
   <div> 
    <span style="color:#333333;">        1. ArrayList</span> 
    <span style="color:#333333;">最长使用的遍历方式是：</span> 
    <span style="color:#333333;">for</span> 
    <span style="color:#333333;">循环</span> 
    <span style="color:#333333;">+</span> 
    <span style="color:#333333;">下标 以及</span> 
    <span style="color:#333333;"> foreach </span> 
   </div> 
   <div> 
    <span style="color:#333333;">        2. </span> 
    <span style="color:#333333;">迭代器是设计模式的一种，后序容器接触多了再给大家铺垫</span> 
   </div> 
   <div></div> 
   <h2 id="4.ArrayList%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6">4.ArrayList的扩容机制</h2> 
   <div> 
    <span style="color:#494949;">ArrayList是一个动态类型的顺序表，即：在插入元素的过程中会自动扩容。以下是ArrayList源码中扩容方式。</span> 
   </div> 
   <div></div> 
   <div> 
    <blockquote> 
     <p style="margin-left:0;text-align:left;"><span style="color:#008855;">Object</span><span style="color:#333333;">[] </span><span style="color:#000000;">elementData</span><span style="color:#333333;">; </span><span style="color:#aa5500;">// </span><span style="color:#aa5500;">存放元素的空间 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private static fifinal </span><span style="color:#008855;">Object</span><span style="color:#333333;">[] </span><span style="color:#000000;">DEFAULTCAPACITY_EMPTY_ELEMENTDATA </span><span style="color:#981a1a;">= </span><span style="color:#333333;">{}; </span><span style="color:#aa5500;">// </span><span style="color:#aa5500;">默认空间 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private static fifinal </span><span style="color:#008855;">int </span><span style="color:#000000;">DEFAULT_CAPACITY </span><span style="color:#981a1a;">= </span><span style="color:#116644;">10</span><span style="color:#333333;">; </span><span style="color:#aa5500;">// </span><span style="color:#aa5500;">默认容量大小</span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">public </span><span style="color:#008855;">boolean </span><span style="color:#0000ff;">add</span><span style="color:#333333;">(</span><span style="color:#000000;">E e</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">ensureCapacityInternal</span><span style="color:#333333;">(</span><span style="color:#000000;">size </span><span style="color:#981a1a;">+ </span><span style="color:#116644;">1</span><span style="color:#333333;">); </span><span style="color:#aa5500;">// Increments modCount!! </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">elementData</span><span style="color:#333333;">[</span><span style="color:#000000;">size</span><span style="color:#981a1a;">++</span><span style="color:#333333;">] </span><span style="color:#981a1a;">= </span><span style="color:#000000;">e</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">return </span><span style="color:#221199;">true</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">} </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private </span><span style="color:#008855;">void </span><span style="color:#0000ff;">ensureCapacityInternal</span><span style="color:#333333;">(</span><span style="color:#008855;">int </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">ensureExplicitCapacity</span><span style="color:#333333;">(</span><span style="color:#000000;">calculateCapacity</span><span style="color:#333333;">(</span><span style="color:#000000;">elementData</span><span style="color:#333333;">, </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">)); </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">} </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private static </span><span style="color:#008855;">int </span><span style="color:#0000ff;">calculateCapacity</span><span style="color:#333333;">(</span><span style="color:#008855;">Object</span><span style="color:#333333;">[] </span><span style="color:#000000;">elementData</span><span style="color:#333333;">, </span><span style="color:#008855;">int </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">if </span><span style="color:#333333;">(</span><span style="color:#000000;">elementData </span><span style="color:#981a1a;">== </span><span style="color:#000000;">DEFAULTCAPACITY_EMPTY_ELEMENTDATA</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">return </span><span style="color:#000000;">Math</span><span style="color:#333333;">.</span><span style="color:#000000;">max</span><span style="color:#333333;">(</span><span style="color:#000000;">DEFAULT_CAPACITY</span><span style="color:#333333;">, </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">); </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">}</span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">return </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">} </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private </span><span style="color:#008855;">void </span><span style="color:#0000ff;">ensureExplicitCapacity</span><span style="color:#333333;">(</span><span style="color:#008855;">int </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">modCount</span><span style="color:#981a1a;">++</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// overflflow-conscious code </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">if </span><span style="color:#333333;">(</span><span style="color:#000000;">minCapacity </span><span style="color:#981a1a;">- </span><span style="color:#000000;">elementData</span><span style="color:#333333;">.</span><span style="color:#000000;">length </span><span style="color:#981a1a;">&gt; </span><span style="color:#116644;">0</span><span style="color:#333333;">) </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">grow</span><span style="color:#333333;">(</span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">); </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">} </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private static fifinal </span><span style="color:#008855;">int </span><span style="color:#000000;">MAX_ARRAY_SIZE </span><span style="color:#981a1a;">= </span><span style="color:#008855;">Integer</span><span style="color:#333333;">.</span><span style="color:#000000;">MAX_VALUE </span><span style="color:#981a1a;">- </span><span style="color:#116644;">8</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private </span><span style="color:#008855;">void </span><span style="color:#0000ff;">grow</span><span style="color:#333333;">(</span><span style="color:#008855;">int </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">获取旧空间大小 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#008855;">int </span><span style="color:#000000;">oldCapacity </span><span style="color:#981a1a;">= </span><span style="color:#000000;">elementData</span><span style="color:#333333;">.</span><span style="color:#000000;">length</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">预计按照</span><span style="color:#aa5500;">1.5</span><span style="color:#aa5500;">倍方式扩容 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#008855;">int </span><span style="color:#000000;">newCapacity </span><span style="color:#981a1a;">= </span><span style="color:#000000;">oldCapacity </span><span style="color:#981a1a;">+ </span><span style="color:#333333;">(</span><span style="color:#000000;">oldCapacity </span><span style="color:#981a1a;">&gt;&gt; </span><span style="color:#116644;">1</span><span style="color:#333333;">); </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">如果用户需要扩容大小 超过 原空间</span><span style="color:#aa5500;">1.5</span><span style="color:#aa5500;">倍，按照用户所需大小扩容 </span></p> 
     <p style="margin-left:0;text-align:justify;"><span style="color:#770088;">if </span><span style="color:#333333;">(</span><span style="color:#000000;">newCapacity </span><span style="color:#981a1a;">- </span><span style="color:#000000;">minCapacity </span><span style="color:#981a1a;">&lt; </span><span style="color:#116644;">0</span><span style="color:#333333;">)</span></p> 
     <p style="margin-left:0;text-align:justify;"><span style="color:#000000;">newCapacity </span><span style="color:#981a1a;">= </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:justify;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">如果需要扩容大小超过</span><span style="color:#aa5500;">MAX_ARRAY_SIZE</span><span style="color:#aa5500;">，重新计算容量大小 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">if </span><span style="color:#333333;">(</span><span style="color:#000000;">newCapacity </span><span style="color:#981a1a;">- </span><span style="color:#000000;">MAX_ARRAY_SIZE </span><span style="color:#981a1a;">&gt; </span><span style="color:#116644;">0</span><span style="color:#333333;">) </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">newCapacity </span><span style="color:#981a1a;">= </span><span style="color:#000000;">hugeCapacity</span><span style="color:#333333;">(</span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">); </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">调用</span><span style="color:#aa5500;">copyOf</span><span style="color:#aa5500;">扩容 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#000000;">elementData </span><span style="color:#981a1a;">= </span><span style="color:#000000;">Arrays</span><span style="color:#333333;">.</span><span style="color:#000000;">copyOf</span><span style="color:#333333;">(</span><span style="color:#000000;">elementData</span><span style="color:#333333;">, </span><span style="color:#000000;">newCapacity</span><span style="color:#333333;">); </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#333333;">} </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">private static </span><span style="color:#008855;">int </span><span style="color:#0000ff;">hugeCapacity</span><span style="color:#333333;">(</span><span style="color:#008855;">int </span><span style="color:#000000;">minCapacity</span><span style="color:#333333;">) { </span></p> 
     <p style="margin-left:0;text-align:left;"></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#aa5500;">// </span><span style="color:#aa5500;">如果</span><span style="color:#aa5500;">minCapacity</span><span style="color:#aa5500;">小于</span><span style="color:#aa5500;">0</span><span style="color:#aa5500;">，抛出</span><span style="color:#aa5500;">OutOfMemoryError</span><span style="color:#aa5500;">异常 </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">if </span><span style="color:#333333;">(</span><span style="color:#000000;">minCapacity </span><span style="color:#981a1a;">&lt; </span><span style="color:#116644;">0</span><span style="color:#333333;">) </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">throw new </span><span style="color:#000000;">OutOfMemoryError</span><span style="color:#333333;">(); </span></p> 
     <p style="margin-left:0;text-align:left;"><span style="color:#770088;">return </span><span style="color:#333333;">(</span><span style="color:#000000;">minCapacity </span><span style="color:#981a1a;">&gt; </span><span style="color:#000000;">MAX_ARRAY_SIZE</span><span style="color:#333333;">) </span><span style="color:#981a1a;">? </span><span style="color:#008855;">Integer</span><span style="color:#333333;">.</span><span style="color:#000000;">MAX_VALUE </span><span style="color:#333333;">: </span><span style="color:#000000;">MAX_ARRAY_SIZE</span><span style="color:#333333;">; </span></p> 
     <p style="margin-left:0;text-align:justify;"><span style="color:#333333;">}</span></p> 
     <p style="margin-left:0;text-align:justify;"></p> 
    </blockquote> 
    <p style="margin-left:0;text-align:left;"><span style="color:#333333;">【<strong>总结</strong>】 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#333333;">1. </span><span style="color:#333333;">检测是否真正需要扩容，如果是调用</span><span style="color:#333333;">grow</span><span style="color:#333333;">准备扩容 </span></p> 
    <p style="margin-left:0;text-align:left;"><span style="color:#333333;">2. </span><span style="color:#333333;">预估需要库容的大小</span></p> 
    <p style="margin-left:0;text-align:left;">•   <span style="color:#333333;">初步预估按照1.5</span><span style="color:#333333;">倍大小扩容 </span></p> 
    <p style="margin-left:0;text-align:left;">•   <span style="color:#333333;">如果用户所需大小超过预估1.5</span><span style="color:#333333;">倍大小，则按照用户所需大小扩容 </span></p> 
    <p style="margin-left:0;text-align:justify;">•   <span style="color:#333333;">真正扩容之前检测是否能扩容成功，防止太大导致扩容失败</span></p> 
    <p style="margin-left:0;text-align:justify;"><span style="color:#333333;">3. </span><span style="color:#333333;">使用</span><span style="color:#333333;">copyOf</span><span style="color:#333333;">进行扩容</span></p> 
    <h2 id="%E4%BA%94%EF%BC%8CArrayLisit%E7%9A%84%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8" style="margin-left:0px;text-align:justify;">五，ArrayLisit的具体使用</h2> 
    <h3 id="%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92"><a class="link-info" href="https://leetcode.cn/problems/pascals-triangle/" rel="nofollow" title="杨辉三角">杨辉三角</a></h3> 
    <pre><code class="language-java">class Solution {
    //求杨辉三角方法
    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {
        List&lt;List&lt;Integer&gt;&gt; ret = new ArrayList&lt;&gt;();//二维数组
        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();
        list.add(1);
        ret.add(list);
        for (int i = 1; i &lt; numRows; i++) {
            List&lt;Integer&gt; curRow = new ArrayList&lt;&gt;();//当前行
            List&lt;Integer&gt; prevRow = ret.get(i-1);//上一行
            curRow.add(1);//当前行首个元素为1
            for (int j = 1; j &lt; i; j++) {
                int val = prevRow.get(j-1) + prevRow.get(j);
                curRow.add(val);
            }
            curRow.add(1);//当前行最后一个元素为1
            ret.add(curRow);
        }
        return ret;
    }
}
public class Test {
    //方法使用
    public static void main(String[] args) {
        Solution solution = new Solution();
        List&lt;List&lt;Integer&gt;&gt; mylist = new ArrayList&lt;&gt;();
        mylist = solution.generate(3);
        for (int i = 0; i &lt; 3; i++) {
            List&lt;Integer&gt; arr = mylist.get(i);
            System.out.println(arr);
        }
    }
}

</code></pre> 
    <p></p> 
    <h3>洗牌系统：</h3> 
    <p><img alt="" height="578" src="https://images2.imgbox.com/29/7f/1ogRY6dx_o.png" width="1138"></p> 
    <p>Card类：</p> 
    <pre><code class="language-java">public class Card implements Comparable{
    @Override
    public int compareTo(Object o) {
        return 0;
    }

    private String suit;//花色
    private String rank;//数字

    public Card(String suit, String rank) {
        this.suit = suit;
        this.rank = rank;
    }

    public Card(String rank) {
        this.rank = rank;
    }
    public String getSuit() {
        return suit;
    }

    public void setSuit(String suit) {
        this.suit = suit;
    }

    public String getRank() {
        return rank;
    }

    public void setRank(String rank) {
        this.rank = rank;
    }

    @Override
    public String toString() {
        return (suit == null) ? rank : suit + rank;
    }
}</code></pre> 
    <p>cardDemo类（各方法实现）</p> 
    <pre><code class="language-java">import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class CardDemo {
    public final String[] suits = {"♥", "♠", "♦", "♣"};
    public final String[] ranks = {"3", "4", "5",
            "6", "7", "8",
            "9", "10", "J",
            "Q", "K", "A", "2", "👸", "🤴"};

    public List&lt;Card&gt; buyCard() {
        List&lt;Card&gt; cardList = new ArrayList&lt;&gt;();
        for (int i = 0; i &lt; 13; i++) {
            for (int j = 0; j &lt; 4; j++) {
                Card card = new Card(suits[j], ranks[i]);
                cardList.add(card);
            }
        }
        for (int i = 13; i &lt; 15; i++) {
            Card card = new Card(ranks[i]);
            cardList.add(card);
        }
        return cardList;
    }

    public void shuffle(List&lt;Card&gt; cards) {
        Random random = new Random();
        for (int i = cards.size() - 1; i &gt; 0; i--) {
            int index = random.nextInt(i);
            //index i 交换
            swap(cards, i, index);
        }
    }

    private void swap(List&lt;Card&gt; cards, int a, int b) {
        Card tmp = cards.get(a);
        cards.set(a, cards.get(b));
        cards.set(b, tmp);
    }

    public List&lt;List&lt;Card&gt;&gt; getCard(List&lt;Card&gt; cardList) {
        List&lt;Card&gt; player1Cards = new ArrayList&lt;&gt;();
        List&lt;Card&gt; player2Cards = new ArrayList&lt;&gt;();
        List&lt;Card&gt; player3Cards = new ArrayList&lt;&gt;();
        List&lt;Card&gt; landlordCards = new ArrayList&lt;&gt;();
        List&lt;List&lt;Card&gt;&gt; cards = new ArrayList&lt;&gt;();
        cards.add(player1Cards);
        cards.add(player2Cards);
        cards.add(player3Cards);
        cards.add(landlordCards);
        Random random = new Random();
        int[] array = new int[]{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 17};
        //第一轮发flag张牌
        int flag = random.nextInt(14);
        //最后一轮发牌数
        int lastCards = (cardList.size() - flag * 3 - 3) / 3;
        //发第一轮玩家手牌
        for (int i = 0; i &lt; 3; i++) {
            for (int j = 0; j &lt; flag; j++) {
                cards.get(i).add(cardList.get(0));
                cardList.remove(0);
            }
        }
        //发底牌三张
        for (int i = 0; i &lt; 3; i++) {
            cards.get(3).add(cardList.get(0));
            cardList.remove(0);
        }
        //最后一轮发牌
        for (int i = 0; i &lt; 3; i++) {
            for (int j = 0; j &lt; lastCards; j++) {
                cards.get(i).add(cardList.get(0));
                cardList.remove(0);
            }
        }
        return cards;
    }

    //查看发的牌
    public void ViewCards(List&lt;List&lt;Card&gt;&gt; cards) {
        for (int i = 0; i &lt; 3; i++) {
            System.out.println("玩家" + (i + 1) + "手牌如下：");
            System.out.println(cards.get(i));
        }
        System.out.println("底牌如下：");
        System.out.println(cards.get(3));
    }

    //排序
    //使用compareTo比较，小为正，大为负
    public List&lt;List&lt;Card&gt;&gt; handSort(List&lt;List&lt;Card&gt;&gt; cards) {
        for (int i = 0; i &lt; 4; i++) {
            List&lt;Card&gt; tmp = bubbleSort(cards.get(i));
            cards.set(i,tmp);
        }
        return cards;
    }

    private List&lt;Card&gt; bubbleSort(List&lt;Card&gt; cards) {
        //为手牌排序
        for (int i = 0; i &lt; cards.size(); i++) {
            Card tmp = new Card("♠","3");
            for (int j = 0; j &lt; cards.size() - i- 1; j++) {
                Card card1 = cards.get(j);
                Card card2 = cards.get(j + 1);
                if (war(card1.getRank(),card2.getRank()) &lt; 0) {
                    tmp.setRank(card1.getRank());
                    tmp.setSuit(card1.getSuit());
                    card1.setRank(card2.getRank());
                    card1.setSuit(card2.getSuit());
                    card2.setRank(tmp.getRank());
                    card2.setSuit(tmp.getSuit());
                }
            }
        }
        return cards;
    }
    private int war(String num1,String num2) {
        String[] sortSamples = new String[]{"3","4","5","6","7","8","9","10","J","Q","K","A","2","👸","🤴"};
        int ret1 = 0;
        int ret2 = 0;
        for (int i = 0; i &lt; sortSamples.length; i++) {
            if (num1.equals(sortSamples[i])) {
                ret1 = i;
            }
            if (num2.equals(sortSamples[i])) {
                ret2 = i;
            }
        }
        return ret1 - ret2;//num1大则为正
    }
}</code></pre> 
    <p>Test类（运行测试）</p> 
    <pre><code class="language-java">import java.awt.*;
import java.util.List;

public class Test {
    static void display(List&lt;Card&gt; cardList) {
        for (int i = 0; i &lt; cardList.size(); i++) {
            System.out.print(cardList.get(i) + " ");
            if (i != 0 &amp;&amp; (i + 1)% 4 == 0) {
                System.out.println(" ");
            }
        }
        System.out.println(" ");
    }
    public static void main(String[] args) {
        CardDemo cardDemo = new CardDemo();
        List&lt;Card&gt; cardList= cardDemo.buyCard();
        System.out.println("买的牌如下：");
        display(cardList);
        System.out.println("==========");
        System.out.println("洗牌");
        cardDemo.shuffle(cardList);
        System.out.println("洗的牌如下：");
        display(cardList);
        System.out.println("==========");
        List&lt;List&lt;Card&gt;&gt; cards = cardDemo.getCard(cardList);
        cardDemo.ViewCards(cards);
        System.out.println("===========");
        System.out.println("整理过后的牌如下：");
        cardDemo.handSort(cards);
        cardDemo.ViewCards(cards);
    }
}</code></pre> 
    <p></p> 
    <p>测试结果：</p> 
    <p><img alt="" height="1200" src="https://images2.imgbox.com/da/1d/7Ujq2zOh_o.png" width="1200"></p> 
    <hr> 
    <p>完。</p> 
   </div> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/76f96e3b56bbd6eb6f8a86f0d30813dc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">zookeeper经典应用场景之分布式锁</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0fe5dfc2f274264948ddf00411b4dd17/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">嵌出式学习小结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>