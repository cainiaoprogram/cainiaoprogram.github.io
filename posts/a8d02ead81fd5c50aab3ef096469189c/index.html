<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java中读出xml中里面配置的属性 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java中读出xml中里面配置的属性" />
<meta property="og:description" content="一、xml属性文件书写
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;root&gt; &lt;mapping id=&#34;bpm&#34; label=&#34;&#34;&gt; &lt;!--bpm地址--&gt; &lt;item key=&#34;BMPURL&#34; value=&#34;http://127.0.0.1/BpmSite/&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a01&#34; value=&#34;3dac215391784225a29799cbb8db020b&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a02&#34; value=&#34;7e798bd9d5b24a619fd1a6a80eb4e10b&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a03&#34; value=&#34;a96d76616fc34202b53f623fc3a535d5&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a04&#34; value=&#34;df69b42b060c455baa96d39ac9fb0880&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a07&#34; value=&#34;0187dcf59cea43bfbcb135776106f571&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a05&#34; value=&#34;b641fca1cfde49eb824226b2fb979657&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a06&#34; value=&#34;7f9dfeb4de084003bff0f210326ad5d9&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a055&#34; value=&#34;a0ca4b6b23e44a20938c5251e0a47639&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a066&#34; value=&#34;5bbab17158fb40719aa66bd08dc84a8b&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a10&#34; value=&#34;7a6d0628c63148038549d8356e4614e4&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a14&#34; value=&#34;eca3c0cec4794d2ea232a8ba8d387e3a&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a15&#34; value=&#34;28b920cf65d44deb987ee13ee668ae6d&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a16&#34; value=&#34;877b70e978e641cbb209283dfadb9ee1&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;a17&#34; value=&#34;b6d7df2429fa4906bdf686cebecfa5c5&#34; desc_en=&#34;&#34;/&gt; &lt;item key=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a8d02ead81fd5c50aab3ef096469189c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-06T17:52:36+08:00" />
<meta property="article:modified_time" content="2018-09-06T17:52:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java中读出xml中里面配置的属性</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>一、xml属性文件书写</p> 
<pre class="has"><code class="language-html">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;root&gt;

	&lt;mapping id="bpm" label=""&gt;
		&lt;!--bpm地址--&gt;
		&lt;item key="BMPURL" value="http://127.0.0.1/BpmSite/" desc_en=""/&gt;
		&lt;item key="a01" value="3dac215391784225a29799cbb8db020b" desc_en=""/&gt;
		&lt;item key="a02" value="7e798bd9d5b24a619fd1a6a80eb4e10b" desc_en=""/&gt;
		&lt;item key="a03" value="a96d76616fc34202b53f623fc3a535d5" desc_en=""/&gt;
		&lt;item key="a04" value="df69b42b060c455baa96d39ac9fb0880" desc_en=""/&gt;
		&lt;item key="a07" value="0187dcf59cea43bfbcb135776106f571" desc_en=""/&gt;
		&lt;item key="a05" value="b641fca1cfde49eb824226b2fb979657" desc_en=""/&gt;
		&lt;item key="a06" value="7f9dfeb4de084003bff0f210326ad5d9" desc_en=""/&gt;
		&lt;item key="a055" value="a0ca4b6b23e44a20938c5251e0a47639" desc_en=""/&gt;
		&lt;item key="a066" value="5bbab17158fb40719aa66bd08dc84a8b" desc_en=""/&gt;
		&lt;item key="a10" value="7a6d0628c63148038549d8356e4614e4" desc_en=""/&gt;
		&lt;item key="a14" value="eca3c0cec4794d2ea232a8ba8d387e3a" desc_en=""/&gt;
		&lt;item key="a15" value="28b920cf65d44deb987ee13ee668ae6d" desc_en=""/&gt;
		&lt;item key="a16" value="877b70e978e641cbb209283dfadb9ee1" desc_en=""/&gt;
		&lt;item key="a17" value="b6d7df2429fa4906bdf686cebecfa5c5" desc_en=""/&gt;
		&lt;item key="a11" value="01606b136c8647eaa4db471a3931df7a" desc_en=""/&gt;
		&lt;item key="a12" value="a8a68193c2914bdaa7317d08e9c2d81d" desc_en=""/&gt;
		&lt;item key="a13" value="223de5facb07431e8bd7a54bfb457477" desc_en=""/&gt;

		&lt;item key="aid01" value="3de980dd998a4d83bc46bba56cd3875b" desc_en=""/&gt;
		&lt;item key="aid02" value="a6f4fd9399654cf3bb8244d1e78bf725" desc_en=""/&gt;
		&lt;item key="aid03" value="29598c48b5b5476696ddde99c4a3a207" desc_en=""/&gt;
		&lt;item key="aid04" value="db56475770e3442a8d6af6aa4b95645e" desc_en=""/&gt;
		&lt;item key="aid07" value="26d7e2eaf7b44a5fb28817f13dee7fe4" desc_en=""/&gt;
		&lt;item key="aid05" value="0d6e891fc70f4c91a164aad41dbce638" desc_en=""/&gt;
		&lt;item key="aid06" value="50217ea6f0144782be47dfc2feb7f5ee" desc_en=""/&gt;
		&lt;item key="aid055" value="2955628d94f547c0a58e20841f1eaa3c" desc_en=""/&gt;
		&lt;item key="aid066" value="6ae709a7f7a94410972fb7bb2c9b488c" desc_en=""/&gt;
		&lt;item key="aid10" value="1a1a12ee67e7441b9329e33295692245" desc_en=""/&gt;
		&lt;item key="aid14" value="66a9a0d13d0d4b74b57653303f9018a0" desc_en=""/&gt;
		&lt;item key="aid15" value="75093cf9a27a4440b6ef008bc61d3ea7" desc_en=""/&gt;
		&lt;item key="aid16" value="0757e2bed2eb47a9b42f606cae060d26" desc_en=""/&gt;
		&lt;item key="aid17" value="6d1365cf3f374c318dd1bd7e45ac82f5" desc_en=""/&gt;
		&lt;item key="aid11" value="1879f0dc673243b680aac64b54a59f1b" desc_en=""/&gt;
		&lt;item key="aid12" value="e748702bc1744f8cb370babf69cc645a" desc_en=""/&gt;
		&lt;item key="aid13" value="74f3c128523a4ad4af7dba9327f018ad" desc_en=""/&gt;
	&lt;/mapping&gt;

&lt;/root&gt;</code></pre> 
<pre><code class="language-html">我这就没写注释了，最好在开发的时候还是写上对应的注释，让别的开发能够明白字段含义</code></pre> 
<p><img alt="" class="has" height="232" src="https://images2.imgbox.com/8a/b8/7xEjIkd5_o.png" width="326"></p> 
<p>mapping文件放置在webapp/styles/config下，等下就要通过这个路径加载到xml文件并且读取</p> 
<p>二、编写xml读取工具类</p> 
<pre class="has"><code class="language-java">import org.w3c.dom.Document;
import org.xml.sax.SAXException;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;
import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathConstants;
import javax.xml.xpath.XPathFactory;
import java.io.IOException;

public class XmlUtils {

    /**
     * 根据xml解析属性
     * @param path xml路径
     * @param id mapping组id
     * @param key 键值对key标识
     * @return value key对应的value
     * @throws SAXException
     * @throws IOException
     * @throws Exception
     */
    public static String getMappingValue(String path, String id, String key)
            throws SAXException, IOException, Exception {
        if(id=="exchange_type"){
            System.out.println(key+"=================");
        }
        // 解析文件，生成document对象
        DocumentBuilder builder = DocumentBuilderFactory.newInstance()
                .newDocumentBuilder();
        Document document = builder.parse(Utils.getStringStream(Utils
                .captureHtml(path)));
        // 生成XPath对象
        XPath xpath = XPathFactory.newInstance().newXPath();

        String webTitleLang = (String) xpath.evaluate("/root/mapping[@id='"
                        + id + "']/item[@key='" + key + "']/@value", document,
                XPathConstants.STRING);
        return webTitleLang;
    }

    /**
     * 根据key取出bpm组value属性
     * @param key
     * @return
     * @throws SAXException
     * @throws IOException
     * @throws Exception
     */
    public static String getBpmMappingValue(String key)
            throws SAXException, IOException, Exception {
        key = key.trim();
        String webTitleLang = getMappingValue(Constants.PATH+"styles/config/mapping.xml","bpm",key);
        return webTitleLang;
    }

}</code></pre> 
<p>通过这几段代码可以获取到xml中item标签对应key的数据，这里我是获取value值，也可以对<img alt="" class="has" height="81" src="https://images2.imgbox.com/78/40/lMgx6bFS_o.png" width="595">这个匹配规则进行修改。</p> 
<p>三、测试</p> 
<p><img alt="" class="has" height="385" src="https://images2.imgbox.com/df/e0/bPS1CLym_o.png" width="690"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5fed5253dd47008c40625e85738c8626/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">h3c路由器查看在线用户数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2fa0fc6f45d60419e13de1bf147469b7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu 16.04安装docker详细步骤</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>