<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>android 源碼開發環境配置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="android 源碼開發環境配置" />
<meta property="og:description" content="一. 通用Android环境和工具配置
1. 系统更新升级
sudo apt-get update
sudo apt-get upgrade
2. 配置ntlmaps代理上网环境（本公司网络需要代理）
sudo apt-get update
sudo apt-get install ntlmaps
Parent proxy：cnkusisal
Parent proxy port：8080
NT Windows domain：xxxcn
以后如果需要重新配置ntlmaps可以用下面命令：
sudo dpkg-reconfigure ntlmaps
3. 安装搜狗输入法
下载Linux版搜狗输入法：http://pinyin.sogou.com/linux/
安装输入法：
sudo apt-get install -f
sudo dpkg -i sogoupinyin_2.0.0.0072_amd64.deb
打开语言设置
fcitx-config-gtk3
如果没有一个键盘，在Addon中全部勾选，重启
按&#43;，不要勾选“Only ... ...”，选择搜狗，重启
4. 安装VIM文本编辑器
sudo apt-get install vim
5. 安装其他工具
a. 安装系统状态监测Syspeek
sudo add-apt-repository ppa:nilarimogard/webupd8
sudo apt-get update
sudo apt-get install syspee" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c1d33d5a8126afdd3ab533b020948e47/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-18T11:18:13+08:00" />
<meta property="article:modified_time" content="2023-09-18T11:18:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">android 源碼開發環境配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>一</strong><strong>. </strong><strong>通用</strong><strong>Android</strong><strong>环境和工具配置</strong></p> 
<p>1. 系统更新升级</p> 
<p>sudo apt-get update</p> 
<p>sudo apt-get upgrade</p> 
<p>2. 配置ntlmaps代理上网环境（本公司网络需要代理）</p> 
<p>sudo apt-get update</p> 
<p>sudo apt-get install ntlmaps</p> 
<p>  Parent proxy：cnkusisal</p> 
<p>  Parent proxy port：8080</p> 
<p>  NT Windows domain：xxxcn</p> 
<p>  以后如果需要重新配置ntlmaps可以用下面命令：</p> 
<p>sudo dpkg-reconfigure ntlmaps</p> 
<p>3. 安装搜狗输入法</p> 
<p>  下载Linux版搜狗输入法：http://pinyin.sogou.com/linux/</p> 
<p>  安装输入法：</p> 
<p>sudo apt-get install -f</p> 
<p>sudo dpkg -i sogoupinyin_2.0.0.0072_amd64.deb</p> 
<p>  打开语言设置</p> 
<p><a name="__DdeLink__826_1913391019"></a><br> fcitx-config-gtk3</p> 
<p>  如果没有一个键盘，在Addon中全部勾选，重启</p> 
<p>  按+，不要勾选“Only ... ...”，选择搜狗，重启</p> 
<p>4. 安装VIM文本编辑器</p> 
<p>sudo apt-get install vim</p> 
<p>5. 安装其他工具</p> 
<p>  a. 安装系统状态监测Syspeek</p> 
<p>sudo add-apt-repository ppa:nilarimogard/webupd8</p> 
<p>sudo apt-get update</p> 
<p>sudo apt-get install syspee</p> 
<p>  b. 安装wget，unrar，git，gitk等一堆小工具</p> 
<p>sudo apt-get install -y wget schedtool pngcrush</p> 
<p>sudo apt-get install -y nautilus-open-terminal unrar meld ghex gtk-recordmydesktop gitk</p> 
<p>  c. 安装Google浏览器</p> 
<p>    不喜欢Firefox，可以安装Google浏览器。</p> 
<p>    在Software center里面搜不到Google Chrome，不过可以安装Chromium。</p> 
<p>6. 配置repo和git </p> 
<p>  配置repo</p> 
<p>    将保存的repo 文件放在~/bin/下面, bin 文件夹不存在,请先行创建,执行</p> 
<p>chmod a+x ~/bin/repo</p> 
<p>export PATH=$PATH:~/bin</p> 
<p>  配置git</p> 
<p>    以前电脑上配置过git的情况，把.ssh文件夹拷到本机Home下面，配置git config：</p> 
<p>    创建 ~/.ssh/config，打开输入下面内容并保存</p> 
<p>Host git-01.wxxx.com</p> 
<p>User XXXXX_XX</p> 
<p>Port 29418</p> 
<p>    配置git config信息：</p> 
<p>git config --global user.name "XXXX XX/xxx/Wxxx"</p> 
<p>git config --global user.email "XXXX_XX@xxxx.com"</p> 
<p>    上面配置的user.name是gerrit上面的full name，email是gerrit上注册的邮箱。</p> 
<p>    以前电脑上没有配置过git的情况</p> 
<p>    a. 创建SSH密钥</p> 
<p>ssh-keygen -t rsa -C "XXXX_XX@xxxx.com"</p> 
<p>      按回车保存到默认位置，再稍等出来提示输入密码短语，输完按回车要输两遍，它用来加密私钥，也就是以后使用私钥的时候要输这个密码</p> 
<p>      稍等出来提示成功，密钥存放在自己主文件夹的.ssh文件夹中</p> 
<p>      打开文件管理器，显示隐藏文件后，可以看到这个文件夹中有两个文件，一个私钥一个公钥，把这个文件夹备份一下.id_rsa 是密钥，id_rsa.pub是公钥。</p> 
<p>    b. 登录gerrit配置相关资料</p> 
<p>      登录gerrit后，点右上角设置，在设置页面右边找到SSH  Keys，点击ADD SSH key。</p> 
<p>      到刚才的.ssh文件夹中，双击打开自己的公钥文件id_rsa.pub，复制里面的所有内容，然后粘贴到SSH key设置框中，然后点下边的“Add Key”导入密钥；</p> 
<p>    c. 按照上面其他电脑配置过的步骤，设置git config</p> 
<p>7. 安装配置OpenJDK8</p> 
<p>sudo apt-get update</p> 
<p>sudo apt-get install openjdk-8-jdk</p> 
<p>BTW,repo init 的时候出现password的时候，可能是相关文件的权限不对.[.ssh目录下]</p> 
<p></p> 
<p><strong>二</strong><strong>. </strong><strong>配置</strong><strong>Android</strong><strong>源码编译环境</strong></p> 
<p>sudo apt-get update</p> 
<p>1. 安装Google官网提供的编译库</p> 
<p>sudo apt-get install bison g++-multilib git gperf libxml2-utils</p> 
<p>2. 安装其他编译需要的内容</p> 
<p>sudo apt-get install libx11-dev:i386 libreadline6-dev:i386 libgl1-mesa-dev g++-multilib</p> 
<p>sudo apt-get install -y git flex bison gperf build-essential libncurses5-dev:i386</p> 
<p>sudo apt-get install tofrodos python-markdown libxml2-utils xsltproc zlib1g-dev:i386</p> 
<p>sudo apt-get install dpkg-dev libsdl1.2-dev libesd0-dev</p> 
<p>sudo apt-get install git-core gnupg flex bison gperf build-essential</p> 
<p>sudo apt-get installzip curl zlib1g-dev gcc-multilib g++-multilib</p> 
<p>sudo apt-get install libc6-dev-i386</p> 
<p>sudo apt-get install lib32ncurses5-dev x11proto-core-dev libx11-dev</p> 
<p>sudo apt-get install libgl1-mesa-dev libxml2-utils xsltproc unzip m4</p> 
<p>sudo apt-get install lib32z-dev ccache<br> sudo apt-get install libssl-dev</p> 
<p><strong>三. </strong><strong>配置</strong><strong>Android app</strong><strong>开发环境</strong></p> 
<p>1. 安装配置Android Studio</p> 
<p>  拷贝保存的Android Studio软件包</p> 
<p>  或者下载Android Studio http://www.androiddevtools.cn/</p> 
<p>  具体Android Studio的配置和使用方法可以参考下面网址：</p> 
<p>  <a href="http://www.cnblogs.com/smyhvae/p/4390905.html" rel="nofollow" title="第一次使用">第一次使用</a><a href="http://www.cnblogs.com/smyhvae/p/4390905.html" rel="nofollow" title="Android Studio时你应该知道的一切配置">Android Studio时你应该知道的一切配置</a></p> 
<p><strong>四</strong><strong>. </strong><strong>adb</strong><strong>和</strong><strong>USB</strong><strong>设置</strong></p> 
<p>1. 设置adb环境变量</p> 
<p>  adb工具位于SDK目录下的platform-tools中</p> 
<p>  a.因为拷贝过来的，所以要设置下权限  </p> 
<p>sudochmod -R a+x Tools/AndroidStudio/android-studio-sdk/</p> 
<p>  b. 编辑profile文件设置环境变量</p> 
<p>sudo gedit /etc/profile</p> 
<p>  加上下面（可以用android studio也可以用eclipse）路径要用自己的路径</p> 
<p>export PATH=$PATH:/home/XX/Tools/AndroidStudio/android-studio-sdk/android-sdk-linux/tools:/home/xx/Tools/AndroidStudio/android-studio-sdk/android-sdk-linux/platform-tools</p> 
<p>  或者</p> 
<p>export PATH=$PATH:/home/XX/AndroidDeveloper/adt-bundle-linux-x86_64-20140321/sdk/platform-tools:/home/xx/AndroidDeveloper/adt-bundle-linux-x86_64-20140321/sdk/tools</p> 
<p>2. Android设备USB设置</p> 
<p>  如果识别不到android设备，需要设置一下USB配置</p> 
<p>    将保存的 51-android.rules 拷贝到 /etc/udev/rules.d/ 下面</p> 
<p>    将保存的adb_usb.ini 拷贝到 ~/.android/ 下面</p> 
<p>  对于新设备,如果 vid 没包含在上面的文件中,请做下面的操作。</p> 
<p>    a. 先通过 lsusb 命令得到新设备的 vendor id, ID 后面的前 4 位即是 vid.</p> 
<p>    b. 打开编辑51-android.rules</p> 
<p>sudo gedit /etc/udev/rules.d/51-android.rules</p> 
<p>    然后在文件末尾添加</p> 
<p>SUBSYSTEM=="usb", ATTRS{idVendor}=="05E0", MODE="0666"</p> 
<p>    红色字体即是第一步得到的 vid.</p> 
<p>    c. 执行</p> 
<p>sudo service udev restart</p> 
<p>    或</p> 
<p>sudo /etc/init.d/udev restart</p> 
<p>    d. 打开编辑adb_usb.ini</p> 
<p>sudo gedit ~/.android/adb_usb.ini</p> 
<p>    然后在文件末尾添加0x05E0，同样,红色字体即是第一步得到的 vid.</p> 
<p>    e. 执行</p> 
<p>adb kill-server</p> 
<p>    f. 执行</p> 
<p>adb devices</p> 
<p>  如果此时仍识别不到设备,请重启你电脑。</p> 
<p><strong>五． 源码下载与编译</strong></p> 
<p>1. 配置gitconfig</p> 
<p>由于項目是从XX mirror server上下载代码，所以需要配置下载代码的位置。</p> 
<p>打开~/.gitconfig文件，在最后添加下面的内容：</p> 
<p>[url "ssh://gitolite@xxx.xxx.xx.x:22"]</p> 
<p>insteadOf = ssh://xxxxxxxxxxxxxx</p> 
<p>2. 修改hosts文件来访问zebra的原路径</p> 
<p>使用sudo来编辑/etc/hosts文件，在文件末尾添加：</p> 
<p>xxx.xx.xxx.xx ny21gitapp01.am.xxxx.com</p> 
<p>xxx.xxx.xx.x git-mirror.xxxx.com</p> 
<p>3. 下载源码</p> 
<p>使用下面的命令来从mirror server上下载源码：</p> 
<p>mkdir beast</p> 
<p>cd beast</p> 
<p>repo init --reference=/build/mirror -u ssh://xxxxx.xx.xxxx:29418/ZEUS/manifest -b sdm660-android-o -m bigboard-bringup-o.xml</p> 
<p>repo sync</p> 
<p>***************************************************************************</p> 
<p>　当我们在自己的服务器上搭建Git远程仓库，并让本地关联到远程仓库的时候，我们需要写一个config来让本地可以关联到非80端口的远程仓库。 <br> 　　config文件如下：</p> 
<pre><code>Host "IP" </code>
<code>Port "port"</code>12</pre> 
<p>　　在执行git fetch的时候，出现以下错误：</p> 
<pre><code>Bad owner or permissions on /home/haowt/.ssh/config</code>1</pre> 
<p>　　这个时候，只需要在.ssh目录，执行以下命令行：</p> 
<pre><code>sudo chmod 600 config</code></pre> 
<p></p> 
<p><a name="_GoBack"></a><br> /*git push caf HEAD:refs/for/xxxxxxx*/</p> 
<p>4. 8G及以下内存的电脑编译问题</p> 
<p>在android/prebuilts/sdk/tools/jack-admin文件中，搜索到JACK_SERVER_VM_ARGUMENTS关键字的两个位置，只加上下面 -Xmx3g</p> 
<p>JACK_HOME="${JACK_HOME:=$HOME/.jack-server}"<br> CLIENT_SETTING="${CLIENT_SETTING:=$HOME/.jack-settings}"<br> TMPDIR=${TMPDIR:=/tmp}<br> JACK_SERVER_VM_ARGUMENTS="${JACK_SERVER_VM_ARGUMENTS:=-Dfile.encoding=UTF-8 -XX:+TieredCompilation <strong>-Xmx3g</strong>}"<br> JACK_EXTRA_CURL_OPTIONS=${JACK_EXTRA_CURL_OPTIONS:=}</p> 
<p>…….<br>     if [ "$RUNNING" = 0 ]; then<br>       echo "Server is already running"<br>     else<br>       JACK_SERVER_COMMAND="java -XX:MaxJavaStackTraceDepth=-1 -Djava.io.tmpdir=$TMPDIR $JACK_SERVER_VM_ARGUMENTS <strong>-Xmx3g</strong>-cp $LAUNCHER_JAR $LAUNCHER_NAME"</p> 
<p>5. 编译源码</p> 
<p>使用下面的命令来编译源码：</p> 
<p>cd LA.UM.6.2/LINUX/android/</p> 
<p>source build/envsetup.sh</p> 
<p>lunch sdm660_64-userdebug</p> 
<p>make -j4</p> 
<p></p> 
<h3>导入源码</h3> 
<h4><a name="%E4%BF%AE%E6%94%B9android-studio%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"></a><br><a name="t1"></a><br> 修改Android Studio的配置文件</h4> 
<p>由于导入源码时需要消耗大量内存，所以建议修改<code>studio64.vmoptions</code>文件：</p> 
<pre><code>-Xms1024m</code>
<code>-Xmx1024m</code>12</pre> 
<h4><a name="%E7%94%9F%E6%88%90%E5%AF%BC%E5%85%A5%E5%88%B0android-studio%E6%89%80%E9%9C%80%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"></a><br><a name="t2"></a><br> 生成导入到Android Studio所需的配置文件</h4> 
<p>首先要编译一次源码，然后看有没有<code>out/host/linux-x86/framework/idegen.jar</code> <br> 如果没有的话就执行一下下面的命令，生成<code>out/host/linux-x86/framework/idegen.jar</code>：</p> 
<pre><code>source build/envsetup.sh</code>
<code>lunch xxxxx</code>
<code>mmm development/tools/idegen/</code></pre> 
<p>然后执行一下下面的命令：</p> 
<pre><code>development/tools/idegen/idegen.sh</code></pre> 
<p>会在根目录下面生成<code>android.ipr</code>和<code>android.iml</code>。 <br><code>android.ipr</code> 一般保存了工程相关的设置，比如modules和modules libraries的路径，编译器配置，入口点等。 <br><code>android.iml</code> 用来描述modules。它包括modules路径、 依赖关系，顺序设置等。一个项目可以包含多个 *.iml 文件。 <br> 到这一步我们其实就可以导入到Android Studio里面去了。</p> 
<h4><a name="%E8%BF%87%E6%BB%A4%E4%B8%80%E4%BA%9B%E6%A8%A1%E5%9D%97"></a><br><a name="t3"></a><br> 过滤一些模块</h4> 
<p>如果把Android所有的源码全部导入到Android Studio里面去，工程将会非常大，而且会很耗时间，那么我们就可以把不需要的模块给过滤掉。</p> 
<p>1.导入制定代码</p> 
<p>这边导入速度会很慢，你可以根据自己需要，只导入需要的代码。</p> 
<p>打开android.iml，代码很多，几千行。直接删除，然后添加下面的代码。</p> 
<p>excludeFolder 是你不需要导入的代码目录</p> 
<p>sourceFolder 是你需要导入的</p> 
<p>Xml代码 </p> 
<ol><li>&lt;?xml version="1.0" encoding="UTF-8"?&gt;  </li><li>&lt;module version="4" relativePaths="true" type="JAVA_MODULE"&gt;  </li><li>  &lt;component name="FacetManager"&gt;  </li><li>    &lt;facet type="android" name="Android"&gt;  </li><li>      &lt;configuration /&gt;  </li><li>    &lt;/facet&gt;  </li><li>  &lt;/component&gt;  </li><li>  &lt;component name="ModuleRootManager" /&gt;  </li><li>  &lt;component name="NewModuleRootManager" inherit-compiler-output="true"&gt;  </li><li>    &lt;exclude-output /&gt;  </li><li>    &lt;content url="file://$MODULE_DIR$"&gt;  </li><li>  &lt;!--sourceFolder标签表示需要索引的代码目录--&gt;  </li><li>      &lt;sourceFolder url="file://$MODULE_DIR$/frameworks/base/core/java" isTestSource="false" /&gt;  </li><li>      &lt;sourceFolder url="file://$MODULE_DIR$/gen" isTestSource="false" generated="true" /&gt;  </li><li>      &lt;!--excludeFolder标签表示这个目录下所有内容都不索引--&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/.repo" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/abi" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/art" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/bionic" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/bootable" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/build" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/cts" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/dalvik" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/developers" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/development" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/device" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/docs" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/bluetooth" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/chromium" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/emma" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/icu4c" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/jdiff" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/external/webkit" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/frameworks/base/docs" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/frameworks/base/tests" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/frameworks/base/tools" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/hardware" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/libcore" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/libnativehelper" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/ndk" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/out" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/pdk" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/platform_testing" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/prebuilt" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/sdk" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/tools" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/vendor" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/toolchain" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/system" /&gt;  </li><li>      &lt;excludeFolder url="file://$MODULE_DIR$/prebuilts" /&gt;  </li><li>&lt;excludeFolder url="file://$MODULE_DIR$/disregard" /&gt;  </li><li>&lt;excludeFolder url="file://$MODULE_DIR$/kernel" /&gt;  </li><li>&lt;excludeFolder url="file://$MODULE_DIR$/shortcut-fe" /&gt;  </li><li>&lt;excludeFolder url="file://$MODULE_DIR$/test" /&gt;  </li><li>    &lt;/content&gt;  </li><li>    &lt;orderEntry type="sourceFolder" forTests="false" /&gt;  </li><li>    &lt;orderEntry type="inheritedJdk" /&gt;  </li><li>    &lt;orderEntryProperties /&gt;  </li><li>  &lt;/component&gt;  </li><li>&lt;/module&gt;  </li></ol> 
<p>这样我们就只导入了<code>frameworks</code>和<code>packages</code>的代码。</p> 
<p>導入源代碼後, 跳轉到一個類的定義時, 發現出來的是一個.class文件.</p> 
<p>A: 打開Project structure, Modules, android, 在Dependencies下面,將除了&lt;Module source&gt; 和 Android API xx Platform的其他項刪除掉, 然後點擊右上角的+號, 選擇JARs or directories, 然後 將你源碼中的frameworks , packages等你需要跳轉的目錄添加進來,然後點擊OK就可以</p> 
<p>7. 加載源碼後, 底部一直提示Scanning files to index: 按F4, 選擇Moduls -&gt; android -&gt; Android&gt;Generated Sources , 不勾選 Generate sources automatically, 這時點擊OK的時候會提示找不到AndroidManifest.xml, 切到Structure標籤, 將Manifest file 中選擇到一個項目下的Manifest.xml即可, 例如 Settings目錄下的文件.</p> 
<p>git一些指令:<br>  </p> 
<p>git log<br> git status<br> git am 0002-BSPA-57880-Beast.patch<br> git reset -q 1a585df6df0d634905f73e96b38279adb59d05d0 --hard 硬回滚，清楚修改内容<br> git reset -q 1a585df6df0d634905f73e96b38279adb59d05d0 -- soft 软回滚，保留修改数据内容<br> git format-patch -2<br> git commit --amend<br> git commit --amend --author="Leif Tian/XXX/XXX&lt;<a href="mailto:leif_tian@wistron.com" rel="nofollow">xxxx@xxxxx.com</a>&gt;"<br> git rebase -i 9d80c0977f629161b23d87ddacddcc1dde60166d</p> 
<p>git rebase --abort</p> 
<p>git am --abort<br> git am –skip</p> 
<p>git stash:清除增加的内容</p> 
<p>git clean -f -d:清除修改的内容 git checkout xx.java</p> 
<p>grep -R --include="*.java" "com.zebra.ethernet.intent.INTERFACE_UPDATED"</p> 
<p>repo forall -c git status 查看目录下修改更新内容</p> 
<p></p> 
<h2>6) <a href="https://wksowa.wistron.com/owa/redir.aspx?C=YCMLmWKz68sGb5oMF3dRbPcTyncky9LGX2yV1OflMQZGSX6I5VzXCA..&amp;URL=http%3A%2F%2Fwww.cnblogs.com%2Fflyme%2Farchive%2F2011%2F11%2F28%2F2265899.html" rel="nofollow" title="git查看某个文件的修改历史">git查看某个文件的修改历史</a></h2> 
<table border="1" cellpadding="0" cellspacing="0"><tbody><tr><td> <h2>git log --pretty=oneline 文件名   // 僅列出此次提交的ID和message.</h2>     <h2>或者</h2>   <h2>git log –p -- 文件名   // 顯示信息較全面</h2> </td></tr></tbody></table> 
<h2>這樣就可以列出此文件的所有更改歷史</h2> 
<p></p> 
<h2>然後根據前面的哈希ID就可以通過下面的命令查看某次提交</h2> 
<table border="1" cellpadding="0" cellspacing="0"><tbody><tr><td> <h2>git show 356f6def9d3fb7f3b9032ff5aa4b9110d4cca87e</h2> </td></tr></tbody></table> 
<p></p> 
<p>  在20.04上编译BSP时会报一些Error,解决方案如下：</p> 
<p>#### hidl-gen compilation failed, check above errors ####</p> 
<p>解决方法：</p> 
<p>sudo apt-get install bison</p> 
<p></p> 
<p>sudo apt-get install -y bison build-essential ccache curl dpkg-dev flex g++-multilib gcc-multilib</p> 
<p>sudo apt-get install -y gnupg gperf lib32ncurses5-dev lib32z-dev libc6-dev-i386 libesd0-dev libgl1-mesa-dev</p> 
<p>sudo apt-get install -y libncurses5-dev:i386 libreadline6-dev:i386 libsdl1.2-dev libx11-dev libx11-dev:i386</p> 
<p>sudo apt-get install -y libxml2-utils m4 tofrodos unzip x11proto-core-dev</p> 
<p>sudo apt-get install -y xsltproc zip zlib1g-dev zlib1g-dev:i386</p> 
<p></p> 
<p>一般安装libesd0-dev时会出现问题，其解决办法如下</p> 
<p></p> 
<p>解决办法:</p> 
<p>更新软件源并重新安装:</p> 
<p>sudo apt-get update &amp;&amp; sudo apt-get install libesd0-dev</p> 
<p></p> 
<p>error while loading shared libraries: libtinfo.so.5: cannot open shared object file: No such file or directory</p> 
<p>&gt;&gt;&gt;&gt;&gt;&gt;</p> 
<p>使用ubuntu19.04编译Android源码的时候，报缺少libtinfo.so.5</p> 
<p>解决方法</p> 
<p>通过find命令查看，发现确实没有这个文件，默认已经升级到libinfo.so.6版本了，搜索发现重装个包就可以了</p> 
<p></p> 
<p>sudo apt-get install libncurses5</p> 
<p></p> 
<p></p> 
<p>atal error: openssl/opensslv.h: No such file or directory</p> 
<p>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p> 
<p>sudo apt-get install openssl</p> 
<p>sudo apt-get install libssl-dev</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8f2e8a3756acdde3d7c9b64e7e93c683/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">EMQX的docker部署与使用(mqtt)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/55d976ebe08c02fee2e0714e59c7d981/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">How to make nand flash factory bin image?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>