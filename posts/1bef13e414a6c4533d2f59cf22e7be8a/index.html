<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ubuntu18.04安装openstack - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ubuntu18.04安装openstack" />
<meta property="og:description" content="ubuntu18.04安装openstack
https://blog.csdn.net/qq_43658650/article/details/106599225
游走在池边的小白 2020-06-07 12:18:44 2739 收藏 19
分类专栏： 应用类 文章标签： ubuntu openstack
版权
准备工作：
如果非第一次安装，需要将之前的devstack环境卸载掉，具体步骤如下：
sudo rm -rf /opt/stack
sudo apt autoremove
sudo apt autoclean
安装工作：
更换apt源为阿里源
cd ~
mv /etc/apt/sources.list /etc/apt/sources.list.bak
sudo gedit /etc/apt/sources.list
在上述命令后，会弹出一个文本填写界面，在界面内填入以下文本：
deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1bef13e414a6c4533d2f59cf22e7be8a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-09T16:06:13+08:00" />
<meta property="article:modified_time" content="2021-08-09T16:06:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ubuntu18.04安装openstack</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>ubuntu18.04安装openstack</p> 
<p></p> 
<p><a href="https://blog.csdn.net/qq_43658650/article/details/106599225">https://blog.csdn.net/qq_43658650/article/details/106599225</a></p> 
<p>游走在池边的小白 2020-06-07 12:18:44  2739  收藏 19<br> 分类专栏： 应用类 文章标签： ubuntu openstack<br> 版权<br> 准备工作：<br> 如果非第一次安装，需要将之前的devstack环境卸载掉，具体步骤如下：</p> 
<p>sudo rm -rf /opt/stack<br> sudo apt autoremove<br> sudo apt autoclean<br><br> 安装工作：<br> 更换apt源为阿里源<br> cd ~<br> mv /etc/apt/sources.list /etc/apt/sources.list.bak<br> sudo gedit /etc/apt/sources.list<br><br> 在上述命令后，会弹出一个文本填写界面，在界面内填入以下文本：</p> 
<p>deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse<br> deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse<br> deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse<br> deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse<br> deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse<br> deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse<br> deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse<br> deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse<br> deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse<br><br> 更新源：</p> 
<p>sudo apt-get update<br> sudo apt-get upgrade<br><br> 设置时区<br> 输入命令：sudo dpkg-reconfigure tzdata后，选择Asia，再选择Shanghai<br> 之后执行如下命令：<br> sudo apt-get install ntpdate<br> sudo ntpdate cn.pool.ntp.org<br> date<br><br> 更换pip源为豆瓣源<br> sudo apt-get install python-pip<br> sudo pip install --upgrade pip<br> sudo pip install -U os-testr<br> mkdir .pip<br> sudo gedit .pip/pip.conf<br><br> 在新弹出来的文本框中输入如下内容：</p> 
<p>[global]<br> index-url = http://pypi.douban.com/simple/<br> trusted-host = pypi.douban.com<br><br> 下载devstack<br> sudo apt-get install git<br> git clone https://github.com/openstack-dev/devstack<br><br> 创建stack用户<br> 执行命令：devstack/tools/create-stack-user.sh</p> 
<p>将devstack目录移动至/opt目录下并更名为stack</p> 
<p>sudo mv devstack /opt/stack<br> sudo chown -R stack:stack /opt/stack<br> sudo chmod -R 777 /opt/stack<br><br> 切换用户身份<br> sudo su - stack<br><br> 创建local.conf配置文件<br> 输入命令：vi local.conf<br> 在vi界面中按下i键<br> 将下面的内容复制进去（注意HOST_IP)为自己的vm ip：<br> [[local|localrc]]<br> # Define images to be automatically downloaded during the DevStack built process.<br> DOWNLOAD_DEFAULT_IMAGES=False<br> IMAGE_URLS="http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img"</p> 
<p># use TryStack git mirror<br> GIT_BASE=http://git.trystack.cn<br> NOVNC_REPO=http://git.trystack.cn/kanaka/noVNC.git<br> SPICE_REPO=http://git.trystack.cn/git/spice/sice-html5.git</p> 
<p><br> # Credentials<br> DATABASE_PASSWORD=admin<br> ADMIN_PASSWORD=admin<br> SERVICE_PASSWORD=admin<br> SERVICE_TOKEN=admin<br> RABBIT_PASSWORD=admin<br> #FLAT_INTERFACE=enp0s3</p> 
<p>HOST_IP="your vm ip"</p> 
<p><br> 进入files目录下载文件（如果不成功就多执行几次wget命令）<br> cd files/<br> wget -c https://github.com/coreos/etcd/releases/download/v3.1.10/etcd-v3.1.10-linux-amd64.tar.gz<br> wget -c https://github.com/coreos/etcd/releases/download/v3.1.7/etcd-v3.1.7-linux-amd64.tar.gz<br><br> 回退到上一级目录<br> cd ..<br><br> 运行stack.sh文件<br> ./stack.sh<br><br> 注意事项<br> 遇到超时错误<br> 重新运行./stack.sh<br> 遇到cannot uninstall 'simplejson’错误<br> 执行命令：sudo pip install simplejson --ignore-installed simplejson后再重新运行./stack<br> 其他错误<br> 其他错误都在重新执行./stack后自动解决了<br> 如果实在不行，一直停留在同一个错误，就先执行./unstack.sh和./clean.sh后再执行./stack.sh<br> 加油啊朋友们，胜利在望了～～～</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7e576b595c7e101edc7f0a6d127b008e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">服务器装系统无法创建系统分区,重装系统出现“安装程序无法创建新的系统分区”的处理方法...</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c7fa405a2e1d7aef6a670f6fea80a3ca/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">cati服务器授权信息无效,CATI简易操作.doc</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>