<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LVS、nginx、HAproxy区别和工作中选择 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LVS、nginx、HAproxy区别和工作中选择" />
<meta property="og:description" content=" LVS 的优点： 1 、抗负载能力强、工作在第 4 层仅作分发之用，没有流量的产生，这个特点也决定了它在负载均衡软件里的性 能最强的；无流量，同时保证了均衡器 IO 的性能不会受到大流量的影响； 2 、工作稳定，自身有完整的双机热备方案，如 LVS&#43;Keepalived 和 LVS&#43;Heartbeat ； 3 、应用范围比较广，可以对所有应用做负载均衡； 4 、配置性比较低，这是一个缺点也是一个优点，因为没有可太多配置的东西，所以并不需要太多接触，大大减 少了人为出错的几率； LVS 的缺点： 1 、软件本身不支持正则处理，不能做动静分离，这就凸显了 Nginx/HAProxy&#43;Keepalived 的优势。 2 、如果网站应用比较庞大， LVS/DR&#43;Keepalived 就比较复杂了，特别是后面有 Windows Server 应用的机 器，实施及配置还有维护过程就比较麻烦，相对而言， Nginx/HAProxy&#43;Keepalived 就简单多了。 Nginx 的优点： Git&#43;Jenkins 1 、简述集中式版本管理和分布式版本管理的优缺点。 1 、工作在 OSI 第 7 层，可以针对 http 应用做一些分流的策略。比如针对域名、目录结构。它的正则比 HAProxy 更为强大和灵活； 2 、 Nginx 对网络的依赖非常小，理论上能 ping 通就就能进行负载功能，这个也是它的优势所在； 3 、 Nginx 安装和配置比较简单，测试起来比较方便； 4 、可以承担高的负载压力且稳定，一般能支撑超过几万次的并发量； 5 、 Nginx 可以通过端口检测到服务器内部的故障，比如根据服务器处理网页返回的状态码、超时等等，并且会 把返回错误的请求重新提交到另一个节点； 6 、 Nginx 不仅仅是一款优秀的负载均衡器 / 反向代理软件，它同时也是功能强大的 Web 应用服务器。 LNMP 现在 也是非常流行的 web 环境，大有和 LAMP 环境分庭抗礼之势， Nginx 在处理静态页面、特别是抗高并发方面相对 apache 有优势； 7 、 Nginx 现在作为 Web 反向加速缓存越来越成熟了，速度比传统的 Squid 服务器更快，有需求的朋友可以考虑 用其作为反向代理加速器； Nginx 的缺点： 1 、 Nginx 不支持 url 来检测。 2 、 Nginx 仅能支持 http 和 Email ，这个它的弱势。 3 、 Nginx 的 Session 的保持， Cookie 的引导能力相对欠缺。 HAProxy 的优点： 1 、 HAProxy 是支持虚拟主机的，可以工作在 4 、 7 层 ( 支持多网段 ) ； 2 、能够补充 Nginx 的一些缺点比如 Session 的保持， Cookie 的引导等工作； 3 、支持 url 检测后端的服务器； 4 、它跟 LVS 一样，本身仅仅就只是一款负载均衡软件；单纯从效率上来讲 HAProxy 更会比 Nginx 有更出色的负 载均衡速度，在并发处理上也是优于 Nginx 的； 5 、 HAProxy 可以对 Mysql 读进行负载均衡，对后端的 MySQL 节点进行检测和负载均衡，不过在后端的 MySQL slaves 数量超过 10 台时性能不如 LVS ； 6 、 HAProxy 的算法较多，达到 8 种； LVS ： 是基于四层的转发 HAproxy ： 是基于四层和七层的转发，是专业的代理服务器 Nginx ： 是 WEB 服务器，缓存服务器，又是反向代理服务器，可以做七层的转发 区别： LVS 由于是基于四层的转发所以只能做端口的转发 而基于 URL 的、基于目录的这种转发 LVS 就做不了 工作选择： HAproxy 和 Nginx 由于可以做七层的转发，所以 URL 和目录的转发都可以做 在很大并发量的时候我们就要选择 LVS ，像中小型公司的话并发量没那么大 选择 HAproxy 或者 Nginx 足已，由于 HAproxy 由是专业的代理服务器 配置简单，所以中小型企业推荐使用 HAproxy " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/18b655186c8682389aba2688d308d85a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-26T19:50:32+08:00" />
<meta property="article:modified_time" content="2023-10-26T19:50:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LVS、nginx、HAproxy区别和工作中选择</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">的优点： </span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、抗负载能力强、工作在第</span> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">层仅作分发之用，没有流量的产生，这个特点也决定了它在负载均衡软件里的性 </span> 
</div> 
<div> 
 <span style="color:#333333;">能最强的；无流量，同时保证了均衡器</span> 
 <span style="color:#333333;">IO</span> 
 <span style="color:#333333;">的性能不会受到大流量的影响； </span> 
</div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、工作稳定，自身有完整的双机热备方案，如</span> 
 <span style="color:#333333;">LVS+Keepalived</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">LVS+Heartbeat</span> 
 <span style="color:#333333;">； </span> 
</div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、应用范围比较广，可以对所有应用做负载均衡； </span> 
</div> 
<div> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">、配置性比较低，这是一个缺点也是一个优点，因为没有可太多配置的东西，所以并不需要太多接触，大大减 </span> 
</div> 
<div> 
 <span style="color:#333333;">少了人为出错的几率； </span> 
</div> 
<div> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">的缺点： </span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、软件本身不支持正则处理，不能做动静分离，这就凸显了</span> 
 <span style="color:#333333;">Nginx/HAProxy+Keepalived</span> 
 <span style="color:#333333;">的优势。 </span> 
</div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、如果网站应用比较庞大，</span> 
 <span style="color:#333333;">LVS/DR+Keepalived</span> 
 <span style="color:#333333;">就比较复杂了，特别是后面有</span> 
 <span style="color:#333333;">Windows Server</span> 
 <span style="color:#333333;">应用的机 </span> 
</div> 
<div> 
 <span style="color:#333333;">器，实施及配置还有维护过程就比较麻烦，相对而言，</span> 
 <span style="color:#333333;">Nginx/HAProxy+Keepalived</span> 
 <span style="color:#333333;">就简单多了。 </span> 
</div> 
<div> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">的优点：</span> 
 <span style="color:#333333;"><strong>Git+Jenkins </strong></span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、简述集中式版本管理和分布式版本管理的优缺点。 </span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、工作在</span> 
 <span style="color:#333333;">OSI</span> 
 <span style="color:#333333;">第</span> 
 <span style="color:#333333;">7</span> 
 <span style="color:#333333;">层，可以针对</span> 
 <span style="color:#333333;">http</span> 
 <span style="color:#333333;">应用做一些分流的策略。比如针对域名、目录结构。它的正则比</span> 
 <span style="color:#333333;">HAProxy </span> 
</div> 
<div> 
 <span style="color:#333333;">更为强大和灵活； </span> 
</div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">对网络的依赖非常小，理论上能</span> 
 <span style="color:#333333;">ping</span> 
 <span style="color:#333333;">通就就能进行负载功能，这个也是它的优势所在； </span> 
</div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">安装和配置比较简单，测试起来比较方便； </span> 
</div> 
<div> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">、可以承担高的负载压力且稳定，一般能支撑超过几万次的并发量； </span> 
</div> 
<div> 
 <span style="color:#333333;">5</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">可以通过端口检测到服务器内部的故障，比如根据服务器处理网页返回的状态码、超时等等，并且会 </span> 
</div> 
<div> 
 <span style="color:#333333;">把返回错误的请求重新提交到另一个节点； </span> 
</div> 
<div> 
 <span style="color:#333333;">6</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">不仅仅是一款优秀的负载均衡器</span> 
 <span style="color:#333333;">/</span> 
 <span style="color:#333333;">反向代理软件，它同时也是功能强大的</span> 
 <span style="color:#333333;">Web</span> 
 <span style="color:#333333;">应用服务器。</span> 
 <span style="color:#333333;">LNMP</span> 
 <span style="color:#333333;">现在 </span> 
</div> 
<div> 
 <span style="color:#333333;">也是非常流行的</span> 
 <span style="color:#333333;">web</span> 
 <span style="color:#333333;">环境，大有和</span> 
 <span style="color:#333333;">LAMP</span> 
 <span style="color:#333333;">环境分庭抗礼之势，</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">在处理静态页面、特别是抗高并发方面相对 </span> 
</div> 
<div> 
 <span style="color:#333333;">apache</span> 
 <span style="color:#333333;">有优势； </span> 
</div> 
<div> 
 <span style="color:#333333;">7</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">现在作为</span> 
 <span style="color:#333333;">Web</span> 
 <span style="color:#333333;">反向加速缓存越来越成熟了，速度比传统的</span> 
 <span style="color:#333333;">Squid</span> 
 <span style="color:#333333;">服务器更快，有需求的朋友可以考虑 </span> 
</div> 
<div> 
 <span style="color:#333333;">用其作为反向代理加速器； </span> 
</div> 
<div> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">的缺点： </span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">不支持</span> 
 <span style="color:#333333;">url</span> 
 <span style="color:#333333;">来检测。 </span> 
</div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">仅能支持</span> 
 <span style="color:#333333;">http</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">Email</span> 
 <span style="color:#333333;">，这个它的弱势。 </span> 
</div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">的</span> 
 <span style="color:#333333;">Session</span> 
 <span style="color:#333333;">的保持，</span> 
 <span style="color:#333333;">Cookie</span> 
 <span style="color:#333333;">的引导能力相对欠缺。 </span> 
</div> 
<div> 
 <span style="color:#333333;">HAProxy</span> 
 <span style="color:#333333;">的优点： </span> 
</div> 
<div> 
 <span style="color:#333333;">1</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">HAProxy</span> 
 <span style="color:#333333;">是支持虚拟主机的，可以工作在</span> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">7</span> 
 <span style="color:#333333;">层</span> 
 <span style="color:#333333;">(</span> 
 <span style="color:#333333;">支持多网段</span> 
 <span style="color:#333333;">)</span> 
 <span style="color:#333333;">； </span> 
</div> 
<div> 
 <span style="color:#333333;">2</span> 
 <span style="color:#333333;">、能够补充</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">的一些缺点比如</span> 
 <span style="color:#333333;">Session</span> 
 <span style="color:#333333;">的保持，</span> 
 <span style="color:#333333;">Cookie</span> 
 <span style="color:#333333;">的引导等工作； </span> 
</div> 
<div> 
 <span style="color:#333333;">3</span> 
 <span style="color:#333333;">、支持</span> 
 <span style="color:#333333;">url</span> 
 <span style="color:#333333;">检测后端的服务器； </span> 
</div> 
<div> 
 <span style="color:#333333;">4</span> 
 <span style="color:#333333;">、它跟</span> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">一样，本身仅仅就只是一款负载均衡软件；单纯从效率上来讲</span> 
 <span style="color:#333333;">HAProxy</span> 
 <span style="color:#333333;">更会比</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">有更出色的负 </span> 
</div> 
<div> 
 <span style="color:#333333;">载均衡速度，在并发处理上也是优于</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">的； </span> 
</div> 
<div> 
 <span style="color:#333333;">5</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">HAProxy</span> 
 <span style="color:#333333;">可以对</span> 
 <span style="color:#333333;">Mysql</span> 
 <span style="color:#333333;">读进行负载均衡，对后端的</span> 
 <span style="color:#333333;">MySQL</span> 
 <span style="color:#333333;">节点进行检测和负载均衡，不过在后端的</span> 
 <span style="color:#333333;">MySQL </span> 
</div> 
<div> 
 <span style="color:#333333;">slaves</span> 
 <span style="color:#333333;">数量超过</span> 
 <span style="color:#333333;">10</span> 
 <span style="color:#333333;">台时性能不如</span> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">； </span> 
</div> 
<div> 
 <span style="color:#333333;">6</span> 
 <span style="color:#333333;">、</span> 
 <span style="color:#333333;">HAProxy</span> 
 <span style="color:#333333;">的算法较多，达到</span> 
 <span style="color:#333333;">8</span> 
 <span style="color:#333333;">种； </span> 
</div> 
<div> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">： 是基于四层的转发 </span> 
</div> 
<div> 
 <span style="color:#333333;">HAproxy</span> 
 <span style="color:#333333;">： 是基于四层和七层的转发，是专业的代理服务器 </span> 
</div> 
<div> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">： 是</span> 
 <span style="color:#333333;">WEB</span> 
 <span style="color:#333333;">服务器，缓存服务器，又是反向代理服务器，可以做七层的转发 </span> 
</div> 
<div> 
 <span style="color:#333333;">区别： </span> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">由于是基于四层的转发所以只能做端口的转发 </span> 
</div> 
<div> 
 <span style="color:#333333;">而基于</span> 
 <span style="color:#333333;">URL</span> 
 <span style="color:#333333;">的、基于目录的这种转发</span> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">就做不了 </span> 
</div> 
<div> 
 <span style="color:#333333;">工作选择： </span> 
</div> 
<div> 
 <span style="color:#333333;">HAproxy</span> 
 <span style="color:#333333;">和</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">由于可以做七层的转发，所以</span> 
 <span style="color:#333333;">URL</span> 
 <span style="color:#333333;">和目录的转发都可以做 </span> 
</div> 
<div> 
 <span style="color:#333333;">在很大并发量的时候我们就要选择</span> 
 <span style="color:#333333;">LVS</span> 
 <span style="color:#333333;">，像中小型公司的话并发量没那么大 </span> 
</div> 
<div> 
 <span style="color:#333333;">选择</span> 
 <span style="color:#333333;">HAproxy</span> 
 <span style="color:#333333;">或者</span> 
 <span style="color:#333333;">Nginx</span> 
 <span style="color:#333333;">足已，由于</span> 
 <span style="color:#333333;">HAproxy</span> 
 <span style="color:#333333;">由是专业的代理服务器 </span> 
</div> 
<div> 
 <span style="color:#333333;">配置简单，所以中小型企业推荐使用</span> 
 <span style="color:#333333;">HAproxy </span> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0af8bb25545b81fce9b79d8555adcacc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">竞赛选题 深度学习卷积神经网络垃圾分类系统 - 深度学习 神经网络 图像识别 垃圾分类 算法 小程序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48712b3313d735a00137f40b69a1bade/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python中strip()和split()的使用方法（学习笔记）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>