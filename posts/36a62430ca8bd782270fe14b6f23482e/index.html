<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>信息传播学习笔记（2）——SIS模型python代码实现（基于全局与基于节点） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="信息传播学习笔记（2）——SIS模型python代码实现（基于全局与基于节点）" />
<meta property="og:description" content="本文是讲解python代码实现SIS模型，共有两部分代码：
第一部分是传统的SIS模型，是获得全局感染者（I）和易感者（S）的比率。
第二部分是基于节点的SIS模型，是获得每个节点的受感染率。
对了宝贝儿们，卑微小李的公众号【野指针小李】已开通，期待与你一起探讨学术哟~摸摸大！
目录 1 传统SIS模型1.1 初始值设定1.2 微分方程1.2 微分方程调用与绘图1.3 结果展示1.4 完整代码 2. 基于节点的SIS模型2.1 微分方程2.2 另一条曲线2.3 结果展示2.4 完整代码 3 参考 1 传统SIS模型 传统的SIS模型如果不熟悉的同学，可以参考我的上一篇文章《信息传播学习笔记（1）——SIS模型原理与公式推导》。
1.1 初始值设定 本文设定的初始值如下：
nodes = np.arange(0, 5, 1) lamb = 0.5 # 传染率 mu = 0.2 # 治愈率 t_range = np.arange(0, 50, 0.1) # 时间步长 init_i = 2 # 初始感染者 即 λ = 0.5 , μ = 0.2 \lambda=0.5, \mu=0.2 λ=0.5,μ=0.2，迭代次数500次，共5个节点，2个感染者（I），3个易感者（S）。
1.2 微分方程 def sis_i(i, t): &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/36a62430ca8bd782270fe14b6f23482e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-23T20:51:08+08:00" />
<meta property="article:modified_time" content="2020-11-23T20:51:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">信息传播学习笔记（2）——SIS模型python代码实现（基于全局与基于节点）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>本文是讲解python代码实现SIS模型，共有两部分代码：<br> 第一部分是传统的SIS模型，是获得全局感染者（I）和易感者（S）的比率。<br> 第二部分是基于节点的SIS模型，是获得每个节点的受感染率。</p> 
</blockquote> 
<p><font color="gray">对了宝贝儿们，卑微小李的公众号【野指针小李】已开通，期待与你一起探讨学术哟~摸摸大！</font><br> </p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#1_SIS_6" rel="nofollow">1 传统SIS模型</a></li><li><ul><li><a href="#11__10" rel="nofollow">1.1 初始值设定</a></li><li><a href="#12__21" rel="nofollow">1.2 微分方程</a></li><li><a href="#12__63" rel="nofollow">1.2 微分方程调用与绘图</a></li><li><a href="#13__108" rel="nofollow">1.3 结果展示</a></li><li><a href="#14__112" rel="nofollow">1.4 完整代码</a></li></ul> 
  </li><li><a href="#2_SIS_193" rel="nofollow">2. 基于节点的SIS模型</a></li><li><ul><li><a href="#21__199" rel="nofollow">2.1 微分方程</a></li><li><a href="#22__249" rel="nofollow">2.2 另一条曲线</a></li><li><a href="#23__273" rel="nofollow">2.3 结果展示</a></li><li><a href="#24__277" rel="nofollow">2.4 完整代码</a></li></ul> 
  </li><li><a href="#3__392" rel="nofollow">3 参考</a></li></ul> 
</div> 
<p></p> 
<h2><a id="1_SIS_6"></a>1 传统SIS模型</h2> 
<p>传统的SIS模型如果不熟悉的同学，可以参考我的上一篇文章《<a href="https://blog.csdn.net/qq_35357274/article/details/109954063">信息传播学习笔记（1）——SIS模型原理与公式推导</a>》。</p> 
<h3><a id="11__10"></a>1.1 初始值设定</h3> 
<p>本文设定的初始值如下：</p> 
<pre><code class="prism language-python">nodes <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
lamb <span class="token operator">=</span> <span class="token number">0.5</span>  <span class="token comment"># 传染率</span>
mu <span class="token operator">=</span> <span class="token number">0.2</span>  <span class="token comment"># 治愈率</span>
t_range <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span>  <span class="token comment"># 时间步长</span>
init_i <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># 初始感染者</span>
</code></pre> 
<p>即<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         λ 
        
       
         = 
        
       
         0.5 
        
       
         , 
        
       
         μ 
        
       
         = 
        
       
         0.2 
        
       
      
        \lambda=0.5, \mu=0.2 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83888em; vertical-align: -0.19444em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">μ</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span></span></span></span></span>，迭代次数500次，共5个节点，2个感染者（I），3个易感者（S）。</p> 
<h3><a id="12__21"></a>1.2 微分方程</h3> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">sis_i</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    SIS模型
    di(t)/dt = lambda * i(t) * (1 - i(t)) - mu * i(t)

    :param i: 感染者
    :param t: 时间
    :return i: t时刻的i
    """</span>
    i <span class="token operator">=</span> lamb <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">-</span> mu <span class="token operator">*</span> i

    <span class="token keyword">return</span> i


<span class="token keyword">def</span> <span class="token function">sis_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    SIS模型
    ds(t)/dt = -lambda * s(t) * (1 - s(t)) - mu * (1 - s(t))

    :param s: 易感者
    :param t: 时间
    :return s: t时刻的s
    """</span>
    s <span class="token operator">=</span> lamb <span class="token operator">*</span> s <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">)</span> <span class="token operator">-</span> mu <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">)</span>

    <span class="token keyword">return</span> s
</code></pre> 
<p>sis_i是计算感染者比率的微分方程，其公式为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          N 
         
         
          
          
            d 
           
          
            i 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          N 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          λ 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          − 
         
        
          μ 
         
        
          N 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         N \frac{di(t)}{dt} = N i(t) \lambda s(t) - \mu Ni(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault">λ</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<p>sis_s是计算易感者比率的微分方程，其公式为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          N 
         
         
          
          
            d 
           
          
            s 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          − 
         
        
          N 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          λ 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          + 
         
        
          μ 
         
        
          N 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         N \frac{ds(t)}{dt} = - N i(t) \lambda s(t) + \mu Ni(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">−</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault">λ</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault" style="margin-right: 0.10903em;">N</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<p>由于<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
         + 
        
       
         i 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
         = 
        
       
         1 
        
       
      
        s(t)+i(t)=1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，所以上面的公式转换为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
          
          
            d 
           
          
            i 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          λ 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          ( 
         
        
          1 
         
        
          − 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          ) 
         
        
          − 
         
        
          μ 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         \frac{di(t)}{dt}=\lambda i(t)(1-i(t))-\mu i(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">λ</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
          
          
            d 
           
          
            s 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          − 
         
        
          λ 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          ( 
         
        
          1 
         
        
          − 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          ) 
         
        
          + 
         
        
          μ 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         \frac{ds(t)}{dt}=-\lambda s(t)(1-s(t))+\mu s(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">−</span><span class="mord mathdefault">λ</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<h3><a id="12__63"></a>1.2 微分方程调用与绘图</h3> 
<p>通过scipy计算微分方程：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> scipy<span class="token punctuation">.</span>integrate <span class="token keyword">as</span> spi

<span class="token keyword">def</span> <span class="token function">calc_ODE</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    计算常微分方程

    :param nodes: 节点
    """</span>
    i <span class="token operator">=</span> calc_init_ratio<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    result_i <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_i<span class="token punctuation">,</span> y0<span class="token operator">=</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    result_s <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_s<span class="token punctuation">,</span> y0<span class="token operator">=</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    draw_pic<span class="token punctuation">(</span>result_i<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span>
</code></pre> 
<p>其中calc_init_ratio(nodes)是计算<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
         ( 
        
       
         0 
        
       
         ) 
        
       
      
        t(0) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">t</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span>时刻感染率：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">calc_init_ratio</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    计算初始时刻的i(0)

    :param nodes: 节点
    :return: 第0时刻的感染率
    """</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    <span class="token keyword">return</span> init_i <span class="token operator">/</span> n
</code></pre> 
<p>其中通过draw_pic来绘图：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">draw_pic</span><span class="token punctuation">(</span>result_i<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    绘制感染情况图
    :param result_i: 感染者的比率构成的向量
    :param result_s: 易感者的比率构成的向量
    """</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_i<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"ratio"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="13__108"></a>1.3 结果展示</h3> 
<p><img src="https://images2.imgbox.com/4e/2d/16XAxsac_o.png" alt="比率图"><br> 其中蓝色的线是感染者I，橘色的线是易感者S。</p> 
<h3><a id="14__112"></a>1.4 完整代码</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> scipy<span class="token punctuation">.</span>integrate <span class="token keyword">as</span> spi
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

nodes <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
lamb <span class="token operator">=</span> <span class="token number">0.5</span>  <span class="token comment"># 传染率</span>
mu <span class="token operator">=</span> <span class="token number">0.2</span>  <span class="token comment"># 治愈率</span>
t_range <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">)</span>  <span class="token comment"># 时间步长</span>
init_i <span class="token operator">=</span> <span class="token number">2</span>  <span class="token comment"># 初始感染者</span>


<span class="token keyword">def</span> <span class="token function">sis_i</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    SIS模型
    di(t)/dt = lambda * i(t) * (1 - i(t)) - mu * i(t)

    :param i: 感染者
    :param t: 时间
    :return i: t时刻的i
    """</span>
    i <span class="token operator">=</span> lamb <span class="token operator">*</span> i <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token operator">-</span> mu <span class="token operator">*</span> i

    <span class="token keyword">return</span> i


<span class="token keyword">def</span> <span class="token function">sis_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    SIS模型
    ds(t)/dt = -lambda * s(t) * (1 - s(t)) - mu * (1 - s(t))

    :param s: 易感者
    :param t: 时间
    :return s: t时刻的s
    """</span>
    s <span class="token operator">=</span> lamb <span class="token operator">*</span> s <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">)</span> <span class="token operator">-</span> mu <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">)</span>

    <span class="token keyword">return</span> s


<span class="token keyword">def</span> <span class="token function">calc_init_ratio</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    计算初始时刻的i(0)

    :param nodes: 节点
    :return: 第0时刻的感染率
    """</span>
    n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    <span class="token keyword">return</span> init_i <span class="token operator">/</span> n


<span class="token keyword">def</span> <span class="token function">calc_ODE</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    计算常微分方程

    :param nodes: 节点
    """</span>
    i <span class="token operator">=</span> calc_init_ratio<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
    result_i <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_i<span class="token punctuation">,</span> y0<span class="token operator">=</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    result_s <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_s<span class="token punctuation">,</span> y0<span class="token operator">=</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    draw_pic<span class="token punctuation">(</span>result_i<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">draw_pic</span><span class="token punctuation">(</span>result_i<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    绘制感染情况图
    :param result_i: 感染者的比率构成的向量
    :param result_s: 易感者的比率构成的向量
    """</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_i<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_s<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"ratio"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    calc_ODE<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="2_SIS_193"></a>2. 基于节点的SIS模型</h2> 
<blockquote> 
 <p>以下内容参考的是《<a href="https://blog.csdn.net/timothytt/article/details/79718114">节点（个体）级SIS模型python代码</a>》</p> 
</blockquote> 
<p>代码和上文的基本一致，我这里只是讲解下这位大佬的代码的含义，再加上了一条曲线。</p> 
<h3><a id="21__199"></a>2.1 微分方程</h3> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">sis_i</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    节点级的计算sis
    这里计算了每一轮的i(t)值, 将i(t)代入到方程中计算出t这个时刻的值, 并赋值到I向量中,
    记录这一个时刻的节点情况
    di/dt = (1-i)λn - μi
    :param i: 感染者(向量)
    :param t: 迭代次数(时间)
    :return i: 每一时刻的节点的感染情况
    """</span>
    I <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 计算每个节点的邻居的感染情况</span>
        neighbor <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            neighbor <span class="token operator">+=</span> adj<span class="token punctuation">[</span>j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        I<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> lamb <span class="token operator">*</span> neighbor <span class="token operator">-</span> mu <span class="token operator">*</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span>

    <span class="token keyword">return</span> I
</code></pre> 
<p>这串代码最开始对于我这个没有接触过scipy的人来说有点头痛，但是我查了下资料后自我总结了一番，可能有问题，欢迎大家指正。</p> 
<p>首先我们要明确两点：</p> 
<ol><li>这个微分方程传入的参数<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          i 
         
        
       
         i 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span>是一个向量，该向量每一维代表的是整个网络中的某一个节点；</li><li>这个微分方程是针对节点的，那么说明该向量中每一维的值代表着这个节点受感染的概率。</li></ol> 
<p>整个微分方程我们就着重于一行代码：</p> 
<pre><code class="prism language-python">I<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> lamb <span class="token operator">*</span> neighbor <span class="token operator">-</span> mu <span class="token operator">*</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
</code></pre> 
<p>这个I和neighbor是什么我们一会说，等号后面这一坨就是微分方程，将其转换为公式为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
          
          
            d 
           
          
            i 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          ( 
         
        
          1 
         
        
          − 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          ) 
         
        
          λ 
         
        
          n 
         
        
          − 
         
        
          μ 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         \frac{di(t)}{dt}=(1-i(t))\lambda n - \mu i(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord mathdefault">λ</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<p>我们回忆下上面的公式：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
         = 
        
       
         1 
        
       
         − 
        
       
         i 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
      
        s(t)=1-i(t) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span>，那么公式可以改为：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
          
          
            d 
           
          
            i 
           
          
            ( 
           
          
            t 
           
          
            ) 
           
          
          
          
            d 
           
          
            t 
           
          
         
        
          = 
         
        
          λ 
         
        
          n 
         
        
          s 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
          − 
         
        
          μ 
         
        
          i 
         
        
          ( 
         
        
          t 
         
        
          ) 
         
        
       
         \frac{di(t)}{dt}=\lambda n s(t) - \mu i(t) 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 2.113em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.427em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">t</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">λ</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span></span></p> 
<p>那么再说neighbor，我们先不考虑neighbor具体代表什么，我们就当做是邻居节点，这里我们用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         s 
        
       
         ( 
        
       
         t 
        
        
        
          ) 
         
        
          j 
         
        
       
      
        s(t)_j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.03611em; vertical-align: -0.286108em;"></span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span></span></span></span></span>表示该事件该节点是易感者的概率，那么<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         λ 
        
       
         n 
        
       
         s 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
      
        \lambda ns(t) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">λ</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span>就代表着<strong>该节点是易感者且被邻居感染的概率</strong>。</p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         μ 
        
       
         i 
        
       
         ( 
        
       
         t 
        
       
         ) 
        
       
      
        \mu i(t) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span></span>就很好理解，就是<strong>该节点自行治愈的概率</strong>。</p> 
<p>那么整个微分方程代表的变化率就是说该节点被其他节点传染的概率，再减去自己治愈的概率，得到该节点最终的概率。</p> 
<p>接着我们再来说neighbor，neighbor可以看做是这个公式：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          ∑ 
         
         
         
           j 
          
         
           = 
          
         
           1 
          
         
        
          n 
         
        
        
        
          ∑ 
         
         
         
           k 
          
         
           = 
          
         
           1 
          
         
        
          n 
         
        
       
         a 
        
       
         d 
        
        
        
          j 
         
         
         
           j 
          
         
           k 
          
         
        
       
         ∗ 
        
       
         i 
        
       
         ( 
        
       
         t 
        
        
        
          ) 
         
        
          k 
         
        
       
      
        \sum_{j=1}^n\sum_{k=1}^nadj_{jk}*i(t)_k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.24011em; vertical-align: -0.435818em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.804292em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.2029em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.435818em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.804292em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.2029em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.29971em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.05724em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，这里<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
         d 
        
       
         j 
        
       
      
        adj 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span>指的是邻接矩阵，那么就是说求的是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         j 
        
       
      
        j 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span>节点在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
      
        t 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.61508em; vertical-align: 0em;"></span><span class="mord mathdefault">t</span></span></span></span></span>时刻的邻居的状态。</p> 
<p>而这里至于<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         I 
        
       
      
        I 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span></span></span></span></span>是什么，我查了很多资料，发现好像是只要返回向量等，都需要通过这种重新赋值的方式来进行操作。</p> 
<h3><a id="22__249"></a>2.2 另一条曲线</h3> 
<p>根据上面的代码，我重新构建了感染者情况的微分方程：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">sis_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    节点级的计算sis
    di/dt = -sλn - μ(1-s)
    :param s: 易感者(向量)
    :param t: 迭代次数(时间)
    :return i: 每一时刻的节点的易感情况
    """</span>
    S <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 计算每个节点的邻居的感染情况</span>
        neighbor <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            neighbor <span class="token operator">+=</span> adj<span class="token punctuation">[</span>j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> lamb <span class="token operator">*</span> neighbor <span class="token operator">+</span> mu <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> S
</code></pre> 
<p>这里为什么neighbor还是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          ∑ 
         
         
         
           j 
          
         
           = 
          
         
           1 
          
         
        
          n 
         
        
        
        
          ∑ 
         
         
         
           k 
          
         
           = 
          
         
           1 
          
         
        
          n 
         
        
       
         a 
        
       
         d 
        
        
        
          j 
         
         
         
           j 
          
         
           k 
          
         
        
       
         ∗ 
        
       
         i 
        
       
         ( 
        
       
         t 
        
        
        
          ) 
         
        
          k 
         
        
       
      
        \sum_{j=1}^n\sum_{k=1}^nadj_{jk}*i(t)_k 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.24011em; vertical-align: -0.435818em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.804292em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.2029em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.435818em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position: relative; top: -5e-06em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.804292em;"><span class="" style="top: -2.40029em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span class="" style="top: -3.2029em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.29971em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.05724em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right: 0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.286108em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">i</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>这个公式，是因为我们微分方程中前面这一坨始终是针对感染者的，所以这里也需要针对感染情况。</p> 
<h3><a id="23__273"></a>2.3 结果展示</h3> 
<p><img src="https://images2.imgbox.com/16/12/YUBV1hpP_o.png" alt="针对节点的收敛图"><br> 蓝色代表的是每个时刻每个节点被感染的平均概率，橘色代表的是每个时刻每个节点被治愈（变为易感者）的平均概率。</p> 
<h3><a id="24__277"></a>2.4 完整代码</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> scipy<span class="token punctuation">.</span>integrate <span class="token keyword">as</span> spi
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> random <span class="token keyword">as</span> rd
<span class="token keyword">from</span> data <span class="token keyword">import</span> static_para <span class="token keyword">as</span> ds
<span class="token keyword">import</span> networkx <span class="token keyword">as</span> nx
<span class="token keyword">import</span> itertools


<span class="token keyword">def</span> <span class="token function">create_direct_graph</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">:</span>
    dg <span class="token operator">=</span> nx<span class="token punctuation">.</span>DiGraph<span class="token punctuation">(</span><span class="token punctuation">)</span>
    edges <span class="token operator">=</span> itertools<span class="token punctuation">.</span>permutations<span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>

    dg<span class="token punctuation">.</span>add_edges_from<span class="token punctuation">(</span>edges<span class="token punctuation">)</span>

    <span class="token keyword">return</span> dg


<span class="token keyword">def</span> <span class="token function">create_matrix</span><span class="token punctuation">(</span>dg<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    生成邻接矩阵
    :param dg: 有向图
    :return: 邻接矩阵
    """</span>
    <span class="token keyword">return</span> nx<span class="token punctuation">.</span>to_numpy_matrix<span class="token punctuation">(</span>dg<span class="token punctuation">)</span>


nodes <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
lamb <span class="token operator">=</span> ds<span class="token punctuation">.</span>lamb
mu <span class="token operator">=</span> ds<span class="token punctuation">.</span>mu
t_range <span class="token operator">=</span> ds<span class="token punctuation">.</span>t_range
dg <span class="token operator">=</span> create_direct_graph<span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>
adj <span class="token operator">=</span> create_matrix<span class="token punctuation">(</span>dg<span class="token punctuation">)</span>
n <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span>

i <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n<span class="token punctuation">)</span>

i_1 <span class="token operator">=</span> rd<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
i_2 <span class="token operator">=</span> rd<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> i_1 <span class="token operator">==</span> i_2<span class="token punctuation">:</span>
    i_2 <span class="token operator">=</span> rd<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
i<span class="token punctuation">[</span>i_1<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
i<span class="token punctuation">[</span>i_2<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>


<span class="token keyword">def</span> <span class="token function">sis_i</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    节点级的计算sis
    这里计算了每一轮的i(t)值, 将i(t)代入到方程中计算出t这个时刻的值, 并赋值到I向量中,
    记录这一个时刻的节点情况
    di/dt = (1-i)λn - μi
    :param i: 感染者(向量)
    :param t: 迭代次数(时间)
    :return i: 每一时刻的节点的感染情况
    """</span>
    I <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 计算每个节点的邻居的感染情况</span>
        neighbor <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            neighbor <span class="token operator">+=</span> adj<span class="token punctuation">[</span>j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        I<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> lamb <span class="token operator">*</span> neighbor <span class="token operator">-</span> mu <span class="token operator">*</span> i<span class="token punctuation">[</span>j<span class="token punctuation">]</span>

    <span class="token keyword">return</span> I


<span class="token keyword">def</span> <span class="token function">sis_s</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    节点级的计算sis
    di/dt = -sλn - μ(1-s)
    :param s: 易感者(向量)
    :param t: 迭代次数(时间)
    :return i: 每一时刻的节点的易感情况
    """</span>
    S <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># 计算每个节点的邻居的感染情况</span>
        neighbor <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> k <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            neighbor <span class="token operator">+=</span> adj<span class="token punctuation">[</span>j<span class="token punctuation">,</span> k<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span>
        S<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">*</span> lamb <span class="token operator">*</span> neighbor <span class="token operator">+</span> mu <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> S


<span class="token keyword">def</span> <span class="token function">calc_ODE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    计算微分方程
    :return:
    """</span>
    result_1 <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_i<span class="token punctuation">,</span> y0<span class="token operator">=</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    result_1_mean <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>result_1<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    result_2 <span class="token operator">=</span> spi<span class="token punctuation">.</span>odeint<span class="token punctuation">(</span>func<span class="token operator">=</span>sis_s<span class="token punctuation">,</span> y0<span class="token operator">=</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">,</span> t<span class="token operator">=</span>t_range<span class="token punctuation">)</span>
    result_2_mean <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>result_2<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    draw_result<span class="token punctuation">(</span>result_1_mean<span class="token punctuation">,</span> result_2_mean<span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">draw_result</span><span class="token punctuation">(</span>result_1_mean<span class="token punctuation">,</span> result_2_mean<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    绘制SIS曲线
    :param result_mean: 结果向量
    """</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_1_mean<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>t_range<span class="token punctuation">,</span> result_2_mean<span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"time"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"ratio"</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    calc_ODE<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h2><a id="3__392"></a>3 参考</h2> 
<p>[1]7im0thyZhang.节点（个体）级SIS模型python代码[EB/OL].<a href="https://blog.csdn.net/timothytt/article/details/79718114">https://blog.csdn.net/timothytt/article/details/79718114</a>,2018-3-27.</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ef7299c45cb9ef8ee489cd8748ecf40/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[转载] Python中str跟int的转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b662ad1d09ee7ff700a7b0c1e613c99b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">sklearn逻辑回归参数设置_逻辑回归模型预测</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>