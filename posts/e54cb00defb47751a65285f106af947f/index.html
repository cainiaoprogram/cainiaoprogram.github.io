<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MyabtisPlus（高级查询） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MyabtisPlus（高级查询）" />
<meta property="og:description" content="Myabtis-Plus（高级查询） 一、列投影（select）： ​ 只想看到查询到的数据中部分字段数据。
例： 查询所有学生信息，返回name age 列。 QueryWrapper&lt;USer&gt; wrapper = new QueryWrapper&lt;&gt;(); 1.wrapper.select(&#34;name&#34;,&#34;age&#34;);//----------&gt;查询列集合，将查询数据作为两例。 2.wrapper.select(&#34;name,age&#34;);//----------&gt;查询列集合，将查询数据作为一例。 usermapper.selectlist(wrapper) 二、排序与分组： 1.1、排序（orderByAsc/orderByDesc）： orderByAsc： 正序排序 等价SQL: select ..from table ORDER BY 字段, ... ASC orderByDesc ：倒序排序 wrapper方法： orderByAsc(R... columns) orderByAsc(boolean condition, R... columns) 效果： orderByAsc(&#34;id&#34;, &#34;name&#34;)---&gt;order by id ASC,name ASC 列：查询所有员工信息按age正序排， 如果age一样， 按id正序排 @Test public void Test0(){ QueryWrapper&lt;Employee&gt; wrapper = new QueryWrapper&lt;&gt;(); wrapper.orderByAsc(&#34;age&#34;, &#34;id&#34;); employeeMapper.selectList(wrapper); } //对应sql语句： SELECT id,name,password,email,age,admin,dept_id FROM employee ORDER BY age ASC,id ASC orderByDesc 跟 orderByAsc用法一样， 不过是倒序排 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e54cb00defb47751a65285f106af947f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-12T22:41:53+08:00" />
<meta property="article:modified_time" content="2023-09-12T22:41:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MyabtisPlus（高级查询）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="MyabtisPlus_0"></a>Myabtis-Plus（高级查询）</h2> 
<p><img src="https://images2.imgbox.com/4d/25/LQS6K47H_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="select_3"></a>一、列投影（select）：</h3> 
<p>​ 只想看到查询到的数据中部分字段数据。</p> 
<pre><code class="prism language-java">例： 查询所有学生信息，返回name age 列。
    <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">USer</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token number">1.</span>wrapper<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//----------&gt;查询列集合，将查询数据作为两例。</span>
	
	<span class="token number">2.</span>wrapper<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"name,age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//----------&gt;查询列集合，将查询数据作为一例。</span>

    usermapper<span class="token punctuation">.</span><span class="token function">selectlist</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span>
          
</code></pre> 
<h3><a id="_21"></a>二、排序与分组：</h3> 
<h4><a id="11orderByAscorderByDesc_23"></a>1.1、排序（orderByAsc/orderByDesc）：</h4> 
<pre><code class="prism language-java">orderByAsc： 正序排序
   等价<span class="token constant">SQL</span><span class="token operator">:</span> select <span class="token punctuation">.</span><span class="token punctuation">.</span>from table   <span class="token constant">ORDER</span> <span class="token constant">BY</span> 字段<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token constant">ASC</span>

orderByDesc ：倒序排序
        
wrapper方法：
<span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
    
效果： 
<span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">-&gt;</span>order by id <span class="token constant">ASC</span><span class="token punctuation">,</span>name <span class="token constant">ASC</span>
       
列：查询所有员工信息按age正序排， 如果age一样， 按id正序排
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Test0</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employeeMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">//对应sql语句：</span>
    <span class="token class-name">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>password<span class="token punctuation">,</span>email<span class="token punctuation">,</span>age<span class="token punctuation">,</span>admin<span class="token punctuation">,</span>dept_id <span class="token constant">FROM</span> employee <span class="token constant">ORDER</span> <span class="token constant">BY</span> age <span class="token constant">ASC</span><span class="token punctuation">,</span>id <span class="token constant">ASC</span>
        orderByDesc 跟 orderByAsc用法一样， 不过是倒序排
</code></pre> 
<h4><a id="12orderBy_53"></a>1.2、定制排序（orderBy）：</h4> 
<pre><code class="prism language-java">orderBy：定制排序
等价<span class="token constant">SQL</span><span class="token operator">:</span> select <span class="token punctuation">.</span><span class="token punctuation">.</span>from table   <span class="token constant">ORDER</span> <span class="token constant">BY</span> 字段<span class="token punctuation">,</span>

<span class="token comment">//参数1：布尔表达式：控制是否进行排序操作</span>
<span class="token comment">//参数2：控制是不是正序</span>
<span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isAsc<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>

 排序：<span class="token constant">ORDER</span> <span class="token constant">BY</span> 字段<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
 <span class="token operator">&amp;</span>效果：  
 <span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">-&gt;</span>order by id <span class="token constant">ASC</span><span class="token punctuation">,</span>name <span class="token constant">ASC</span>
    
例<span class="token operator">:</span>查询所有员工信息按age正序排， 如果age一样， 按id正序排
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//apper.orderByAsc("age", "id");</span>
        <span class="token comment">//等价于：</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employeeMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//sql语句</span>
<span class="token class-name">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>password<span class="token punctuation">,</span>email<span class="token punctuation">,</span>age<span class="token punctuation">,</span>admin<span class="token punctuation">,</span>dept_id <span class="token constant">FROM</span> employee <span class="token constant">ORDER</span> <span class="token constant">BY</span> age <span class="token constant">ASC</span><span class="token punctuation">,</span>id <span class="token constant">ASC</span>

列：查询所有员工信息按age正序排， 如果age一样， 按id倒序排
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employeeMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">//对应sql语句</span>
<span class="token class-name">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>password<span class="token punctuation">,</span>email<span class="token punctuation">,</span>age<span class="token punctuation">,</span>admin<span class="token punctuation">,</span>dept_id <span class="token constant">FROM</span> employee <span class="token constant">ORDER</span> <span class="token constant">BY</span> age <span class="token constant">ASC</span><span class="token punctuation">,</span>id <span class="token constant">DESC</span>
</code></pre> 
<h3><a id="groupBy_94"></a>三、分组查询（groupBy）：</h3> 
<pre><code class="prism language-java">方法：
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>：groupBy ： 分组：<span class="token constant">GROUP</span> <span class="token constant">BY</span> 字段<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>：<span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>：<span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> columns<span class="token punctuation">)</span>
    
<span class="token operator">&amp;</span>效果：
 <span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">-&gt;</span>group by id<span class="token punctuation">,</span>name
 
例<span class="token operator">:</span> 以部门id进行分组查询，查每个部门员工个数
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">Test3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token string">"dept_id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wrapper<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"dept_id"</span><span class="token punctuation">,</span> <span class="token string">"count(id) count"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employeeMapper<span class="token punctuation">.</span><span class="token function">selectMaps</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//对应sql语句</span>
<span class="token class-name">SELECT</span> dept_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> count <span class="token constant">FROM</span> employee <span class="token constant">GROUP</span> <span class="token constant">BY</span> dept_id 
</code></pre> 
<h3><a id="having_119"></a>四、过滤条件（having）：</h3> 
<pre><code class="prism language-java">方法：
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span> having ： <span class="token constant">HAVING</span> <span class="token punctuation">(</span> sql语句 <span class="token punctuation">)</span> 
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">having</span><span class="token punctuation">(</span><span class="token class-name">String</span> sqlHaving<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
   
   <span class="token comment">//参数1：布尔表达式：控制是否进行过滤操作</span>
   <span class="token comment">//参数2：以哪个字段为过滤</span>
   <span class="token comment">//参数3：以哪个条件作为过滤条件</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token function">having</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> condition<span class="token punctuation">,</span> <span class="token class-name">String</span> sqlHaving<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> params<span class="token punctuation">)</span>
   
  例<span class="token operator">:</span> <span class="token function">having</span><span class="token punctuation">(</span><span class="token string">"sum(age) &gt; 10"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">-&gt;</span>having <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10</span>
  例<span class="token operator">:</span> <span class="token function">having</span><span class="token punctuation">(</span><span class="token string">"sum(age) &gt; {0}"</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">-&gt;</span>having <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">11</span>

   需求： 以部门id进行分组查询，查每个部门员工个数， 将大于<span class="token number">3</span>人的部门过滤出来
   <span class="token annotation punctuation">@Test</span>
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
       <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       wrapper<span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span><span class="token string">"dept_id"</span><span class="token punctuation">)</span>
               <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">"dept_id"</span><span class="token punctuation">,</span> <span class="token string">"count(id) count"</span><span class="token punctuation">)</span>
               <span class="token comment">//.having("count &gt; {0}", 3)</span>
               <span class="token punctuation">.</span><span class="token function">having</span><span class="token punctuation">(</span><span class="token string">"count &gt;3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       employeeMapper<span class="token punctuation">.</span><span class="token function">selectMaps</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token comment">//对应sql语句：</span>
 <span class="token class-name">SELECT</span> dept_id<span class="token punctuation">,</span><span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> count <span class="token constant">FROM</span> employee <span class="token constant">GROUP</span> <span class="token constant">BY</span> dept_id <span class="token constant">HAVING</span> count <span class="token operator">&gt;</span><span class="token number">3</span>
</code></pre> 
<h3><a id="_148"></a>五、比较运算符：</h3> 
<h4><a id="1___149"></a>1. 等于 不等于</h4> 
<pre><code class="prism language-javascript"><span class="token number">1</span><span class="token punctuation">)</span>：allEq<span class="token operator">:</span>全能匹配<span class="token punctuation">;</span>即：所有条件都得等；

  例 查询 name<span class="token operator">=</span>’张三‘ age<span class="token operator">=</span>’<span class="token number">18</span>‘的学生信息

	步骤：
  	（<span class="token number">1</span>）： Map（string ，object）mp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          		mp<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	      		mp<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token string">"18"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  	<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span>  QueryWrapper<span class="token operator">&lt;</span>Employee<span class="token operator">&gt;</span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 		wrapper<span class="token punctuation">.</span><span class="token function">allEq</span><span class="token punctuation">(</span>mp<span class="token punctuation">)</span><span class="token punctuation">;</span>

  	<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">:</span>userMapper<span class="token punctuation">.</span><span class="token function">selelist</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> eq<span class="token operator">:</span>当个参数判断是否相等。<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>对应<span class="token constant">SQL</span>中 “等于<span class="token operator">=</span>”

	<span class="token function">列：eq</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"zhnagsan"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>name<span class="token operator">=</span><span class="token string">"zhangsanE"</span>


<span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">:</span> ne<span class="token operator">:</span> 不等于<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span>对应<span class="token constant">SQL</span>中 “不等于<span class="token operator">&lt;</span> <span class="token operator">&gt;</span>”
      
   <span class="token function">列：ne</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>name<span class="token operator">&lt;</span> <span class="token operator">&gt;</span><span class="token string">'张三嗯'</span>

</code></pre> 
<h4><a id="2___178"></a>2.大于 等于 小于</h4> 
<pre><code class="prism language-javascript"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>get <span class="token operator">:</span>大于 <span class="token operator">&gt;</span>
    <span class="token function">列：get</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>age<span class="token operator">&gt;</span><span class="token number">18</span>  

<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span>ge <span class="token operator">:</span>大于等于 <span class="token operator">&gt;=</span>
    <span class="token function">列：ge</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>age<span class="token operator">&gt;=</span><span class="token number">18</span> 

<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">:</span>lt <span class="token operator">:</span>小于 <span class="token operator">&lt;</span>
    <span class="token function">列：lt</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>age<span class="token operator">&lt;</span><span class="token number">18</span> 

<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">:</span>le <span class="token operator">:</span>小于等于 <span class="token operator">&lt;=</span>
    <span class="token function">列：le</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>age<span class="token operator">&lt;=</span><span class="token number">18</span> 
    
</code></pre> 
<h3><a id="_195"></a>六、批量插入或更新数据</h3> 
<h4><a id="mybatisplus_saveOrUpdateBatch_196"></a>方式一：mybatis-plus 的saveOrUpdateBatch方法</h4> 
<h5><a id="BaseMapper_198"></a>继承BaseMapper即可，泛型使用当前要操作类</h5> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">HhChainCustomerInfoMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HhChainCustomerInfo</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    
 
    <span class="token comment">/**
    * 使用mybatis-plus方式调用saveOrUpdateBatch不需要写这个接口
    boolean saveOrUpdateBatch(@Param("entities") Collection&lt;HhChainCustomerInfo&gt; hhChainCustomerInfos);
    */</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="Service__IService_213"></a>Service 层继承 IService即可，泛型使用当前要操作类</h5> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 链路客户信息Service接口
 *
 * @author js
 * @date 2023-09-10
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IHhChainCustomerInfoService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HhChainCustomerInfo</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
    

<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="Service___ServiceImpl_228"></a>Service 实现类 层继承 ServiceImpl即可，泛型使用当前要操作类</h5> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HhChainCustomerInfoServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HhChainCustomerInfoMapper</span><span class="token punctuation">,</span> <span class="token class-name">HhChainCustomerInfo</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">IHhChainCustomerInfoService</span> <span class="token punctuation">{<!-- --></span>
 
 
    <span class="token comment">/*@Override
    public boolean saveOrUpdateBatch(Collection&lt;HhChainCustomerInfo&gt; entityList) {
        return hhChainCustomerInfoMapper.saveOrUpdateBatch(entityList);
    }*/</span>
 
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_248"></a>七、（单表）分页+高级查询：</h3> 
<h4><a id="_250"></a>步骤：</h4> 
<h5><a id="QueryObject_252"></a>第一步：定义一个QueryObject类：</h5> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueryObject</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">CurrentPage</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token class-name">PageSize</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="QueryObject_264"></a>第二步：定义一个QueryObject类：</h5> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Setter</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeQuery</span> <span class="token keyword">extends</span> <span class="token class-name">QueryObject</span><span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="_273"></a>第三步：在启动类中配置分页插件：</h5> 
<pre><code class="prism language-java">步骤：配置分页插件
<span class="token comment">//分页</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">MybatisPlusInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PaginationInnerInterceptor</span> paginationInnerInterceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaginationInnerInterceptor</span><span class="token punctuation">(</span><span class="token class-name">DbType</span><span class="token punctuation">.</span><span class="token constant">MYSQL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        paginationInnerInterceptor<span class="token punctuation">.</span><span class="token function">setOverflow</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//合理化</span>
        interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span>paginationInnerInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> interceptor<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="Service_288"></a>第四步:在Service接口层中定义分页方法：</h5> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span>  <span class="token class-name">IEmployeeService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{<!-- --></span><span class="token comment">//-----------&gt;泛型里为实体类</span>
    <span class="token comment">//-------&gt;必须继承 IService&lt;T&gt;</span>
	<span class="token comment">//分页方法：</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">EmployeeQuery</span> qo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre> 
<h5><a id="Service_298"></a>第五步：在Service接口实现类中实现分页方法：</h5> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">Service</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">,</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">IEmployeeService</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//------------&gt;Service&lt;EmployeeMapper,Employee&gt;:实体类Mapper接口；实体类</span>
    <span class="token comment">//-------&gt;必须继承 Service&lt;TMapper,T&gt;</span>
   <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">EmployeeQuery</span> qo<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>qo<span class="token punctuation">.</span><span class="token function">getCurrentPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> qo<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//设置分页信息</span>
        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> wrapper <span class="token operator">=</span> <span class="token class-name">Wrappers</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//拼接条件</span>
      
        <span class="token comment">//有条件约束写在这里：</span>
    	
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span>wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>


列：查询第<span class="token number">2</span>页员工信息， 每页显示<span class="token number">3</span>条， 按id排序
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">EmployeeQuery</span> qo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmployeeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qo<span class="token punctuation">.</span><span class="token function">setPageSize</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        qo<span class="token punctuation">.</span><span class="token function">setCurrentPage</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> employeeService<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>qo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"当前页："</span> <span class="token operator">+</span> page<span class="token punctuation">.</span><span class="token function">getCurrent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"总页数："</span> <span class="token operator">+</span> page<span class="token punctuation">.</span><span class="token function">getPages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"每页显示条数："</span> <span class="token operator">+</span> page<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"总记录数："</span> <span class="token operator">+</span> page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"当前页显示记录："</span> <span class="token operator">+</span> page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//sql语句</span>
<span class="token class-name">SELECT</span> id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>password<span class="token punctuation">,</span>email<span class="token punctuation">,</span>age<span class="token punctuation">,</span>admin<span class="token punctuation">,</span>dept_id <span class="token constant">FROM</span> employee where <span class="token punctuation">(</span>name like <span class="token operator">?</span><span class="token punctuation">)</span> <span class="token constant">LIMIT</span> <span class="token operator">?</span><span class="token punctuation">,</span><span class="token operator">?</span>
</code></pre> 
<h3><a id="_337"></a>八、联表分页查询+条件查询：</h3> 
<h4><a id="_339"></a>对于一对一，一对多，多对一，还是两表之间通过主外键关联查询，都可以；</h4> 
<h6><a id="_340"></a>总结：</h6> 
<pre><code>     第一步：不管是那种情况，首先将响应给前端的数据封装成一个类并继承（PageQuery）
     第二步：按以下步骤做
</code></pre> 
<p>​</p> 
<h5><a id="_345"></a>步骤：</h5> 
<h6><a id="1Dto_347"></a>1.编写：请求Dto层：</h6> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageQuery</span>  <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/**
     * 当前页
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> curPage<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 页大小
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> pageSize<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="2to_367"></a>2.编写封装响应给前端数据to</h6> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">TableId</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>model<span class="token punctuation">.</span>index<span class="token punctuation">.</span>request<span class="token punctuation">.</span></span><span class="token class-name">PageQuery</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span></span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompensateInfo</span> <span class="token keyword">extends</span> <span class="token class-name">PageQuery</span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">/**
     * 方案状态(1：未提交|2：已提交|3：已驳回|4：已审核)
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> status<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 方案编号
     */</span>
    <span class="token annotation punctuation">@TableId</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> caseid<span class="token punctuation">;</span>


    <span class="token comment">/**
     * 方案名称
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> casename<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 医院名称
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> hosname<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> casetype<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> remark<span class="token punctuation">;</span>
    
    <span class="token keyword">private</span> <span class="token class-name">Date</span> commitdate<span class="token punctuation">;</span>
    
    <span class="token keyword">private</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="3controller_414"></a>3.定义controller层：</h6> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span></span><span class="token class-name">IPage</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>model<span class="token punctuation">.</span>index<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">CompensateInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cases<span class="token punctuation">.</span></span><span class="token class-name">ICompensateInfoService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">RequiredArgsConstructor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>


<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequiredArgsConstructor</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/Compensation"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompensationSchemesController</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ICompensateInfoService</span> compensateInfoService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/index/query"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">CompensatePage</span><span class="token punctuation">(</span> <span class="token class-name">CompensateInfo</span> <span class="token class-name">Info</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        
		<span class="token comment">//调用service层</span>
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> query <span class="token operator">=</span> compensateInfoService<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">Info</span><span class="token punctuation">,</span><span class="token class-name">Info</span><span class="token punctuation">.</span><span class="token function">getCasename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">Info</span><span class="token punctuation">.</span><span class="token function">getCasetype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> query<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="4service__448"></a>4.编写service 层：</h6> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ICompensateInfoService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>

    <span class="token comment">//分页方法：</span>
    <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">CompensateInfo</span> info<span class="token punctuation">,</span> <span class="token class-name">String</span> casename<span class="token punctuation">,</span> <span class="token class-name">String</span> casetype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="5service_459"></a>5.实现service层：</h6> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>metadata<span class="token punctuation">.</span></span><span class="token class-name">IPage</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>pagination<span class="token punctuation">.</span></span><span class="token class-name">Page</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>cases<span class="token punctuation">.</span></span><span class="token class-name">CompensateInfoMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>model<span class="token punctuation">.</span>index<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">CompensateInfo</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>zhecre<span class="token punctuation">.</span>jx<span class="token punctuation">.</span>business<span class="token punctuation">.</span>service<span class="token punctuation">.</span>cases<span class="token punctuation">.</span></span><span class="token class-name">ICompensateInfoService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompensateInfoServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfoMapper</span><span class="token punctuation">,</span> <span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">ICompensateInfoService</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">CompensateInfoMapper</span> compensateInfoMapper<span class="token punctuation">;</span>
    
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token class-name">CompensateInfo</span> qo<span class="token punctuation">,</span> <span class="token class-name">String</span> casename<span class="token punctuation">,</span> <span class="token class-name">String</span> casetype<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        
        <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Page</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>qo<span class="token punctuation">.</span><span class="token function">getCurPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> qo<span class="token punctuation">.</span><span class="token function">getPageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用mybatisplus分页插件</span>
        
        <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> queryVoPage <span class="token operator">=</span> compensateInfoMapper<span class="token punctuation">.</span><span class="token function">findByPage</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token punctuation">,</span> qo<span class="token punctuation">,</span>casename<span class="token punctuation">,</span>casetype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//定义分页方法</span>

        <span class="token keyword">return</span> queryVoPage<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h6><a id="6Mapper_489"></a>6.定义Mapper层：</h6> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CompensateInfoMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//自定义分页方法</span>
    <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByPage</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CompensateInfo</span><span class="token punctuation">&gt;</span></span> page<span class="token punctuation">,</span> <span class="token class-name">CompensateInfo</span> qo<span class="token punctuation">,</span>
                                     <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"casename"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> casename<span class="token punctuation">,</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"casetype"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> casetype<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这是条件查询参数</span>
<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="7Mapperxml_503"></a>7.编写Mapper.xml:</h6> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> mapper
        <span class="token constant">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
        <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>mapper namespace<span class="token operator">=</span><span class="token string">"com.zhecre.jx.business.mapper.cases.CompensateInfoMapper"</span><span class="token operator">&gt;</span>
    
    
    <span class="token comment">//将查寻结果对象字段属性和数据库字段对应</span>
    <span class="token operator">&lt;</span>resultMap id<span class="token operator">=</span><span class="token string">"CompensateInfoMapper"</span> type<span class="token operator">=</span><span class="token string">"com.zhecre.jx.business.model.index.response.CompensateInfo"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>id property<span class="token operator">=</span><span class="token string">"caseid"</span> column<span class="token operator">=</span><span class="token string">"CASEID"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>id<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"status"</span> column<span class="token operator">=</span><span class="token string">"STATUS"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"casename"</span> column<span class="token operator">=</span><span class="token string">"CASENAME"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"casetype"</span> column<span class="token operator">=</span><span class="token string">"CASETYPE"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"remark"</span> column<span class="token operator">=</span><span class="token string">"REMARK"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"hosname"</span> column<span class="token operator">=</span><span class="token string">"HOSNAME"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"commitdate"</span> column<span class="token operator">=</span><span class="token string">"COMMITDATE"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>result property<span class="token operator">=</span><span class="token string">"type"</span> column<span class="token operator">=</span><span class="token string">"TYPE"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>result<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>resultMap<span class="token operator">&gt;</span>
    
    <span class="token comment">//查询语句:得到结果集</span>
    <span class="token operator">&lt;</span>select id<span class="token operator">=</span><span class="token string">"findByPage"</span> parameterType<span class="token operator">=</span><span class="token string">"com.zhecre.jx.business.model.index.response.CompensateInfo"</span> resultMap<span class="token operator">=</span><span class="token string">"CompensateInfoMapper"</span><span class="token operator">&gt;</span>
            <span class="token constant">SELECT</span>
            c<span class="token punctuation">.</span><span class="token constant">STATUS</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">CASEID</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">CASENAME</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">CASETYPE</span><span class="token punctuation">,</span>
            p<span class="token punctuation">.</span><span class="token constant">HOSNAME</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">REMARK</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">COMMITDATE</span><span class="token punctuation">,</span>
            c<span class="token punctuation">.</span><span class="token constant">TYPE</span>
            <span class="token constant">FROM</span>
            <span class="token class-name">PAS_CASE</span> c<span class="token punctuation">,</span>
            <span class="token constant">PAS_CASE_HOSPITAL</span> p

        <span class="token generics"><span class="token punctuation">&lt;</span>where<span class="token punctuation">&gt;</span></span>
         and c<span class="token punctuation">.</span><span class="token constant">CASEID</span> <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token constant">CASEID</span>
        <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"casename !=null and casename != ''"</span><span class="token operator">&gt;</span>
            and c<span class="token punctuation">.</span><span class="token constant">CASENAME</span> <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>casename<span class="token punctuation">}</span><span class="token comment">//传入的条件查数；如果传入的参数是对象的话要取对象中的某个属性,这个地方参数直接写成属性名即可，但是对象所属的类                                            必须提供getter方法；如果是普通变量字段，条件直接写成传入得字段</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"casetype !=null and casetype != ''"</span><span class="token operator">&gt;</span>
            and c<span class="token punctuation">.</span><span class="token constant">CASETYPE</span> <span class="token operator">=</span> #<span class="token punctuation">{<!-- --></span>casetype<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>where<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span><span class="token operator">/</span>mapper<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_566"></a>十四、事务操作：</h3> 
<h4><a id="serviceThansaction_568"></a>在service层实现类上面加一个@Thansaction注解。</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0dcf711a813fa46f7d07588a5a413b3c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CubeMx-freeRTOS智能门锁</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dce82fdf5719bc2b72eee9a1aa6f3e9c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QT QProgressBar控件 使用详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>