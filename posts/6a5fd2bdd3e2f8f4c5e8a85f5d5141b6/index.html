<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PDP协议简介 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PDP协议简介" />
<meta property="og:description" content="文章目录 PDP ContextPacket Data Protocol (PDP)PDP context procedures访问点（Access points） PDP Context 1)PDP(Packet Data Protocol) context
即PDP上下文，保存用户面进行隧道转发的所有信息，包括RNC/GGSN的用户面IP地址、隧道标识和QoS等。
2)SM通过PDP context的激活、修改、去激活信令流程实现会话管理。PDP context 激活流程用于建立用户面的分组传输路由；PDP context修改流程修改激活的PDP context的QoS（Quality of Service）和TFT（Traffic Flow Template），在发生RAU（Routing Area Update）时，也用于修改SGSN到GGSN之间的隧道路由；PDP context去激活则用于拆除激活的PDP。
3)激活一个PDP上下文意味着发起一个分组数据业务呼叫。PDP上下文激活包括MS发起的激活及二次激活、网络发起的PDP上下文激活。
4)当HLR向SGSN插入用户数据且PDP上下文处于激活状态，SGSN可以发起PDP上下文修改流程；RAB重建，发生QoS改变，SGSN可以发起PDP上下文修改流程；SGSN之间的路由区更新，如果PDP上下文处于激活状态，SGSN可以发起PDP上下文修改过程。
5)PDP上下文去激活流程包括MS发起的、SGSN发起的和GGSN发起的PDP上下文去激活流程。
Packet Data Protocol (PDP) 提供在UE和网络之间能够交换IP数据包的分组数据连接，通常分组数据被限制到特定的服务，这些服务能够被访问通过所谓的访问点
对于UMTS分组数据框架， 分组数据协议上下文(PDP Context)是重要的概念之一。PDP Context有一个参数集记录，它包含了建立端到端连接的所有需要的信息：
●　PDP类型
●　PDP 地址类型
●　QoS profile 请求
●　QoS profile 协商
●　认证类型 (PAP 或 CHAP)
●　DNS 类型(静态DNS或动态DNS)
对于终端，PDP Context主要被设计主要为了2个目的：
●　第一，PDP Context被设计为了分配一个PDP地址给移动终端，其类型为IPv4或IPv6
●　第二，用QoS profile建立一个逻辑上的连接，通过UMTS网络利用PDP Context进行一系列的QoS属性协商" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6a5fd2bdd3e2f8f4c5e8a85f5d5141b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-25T15:54:35+08:00" />
<meta property="article:modified_time" content="2021-03-25T15:54:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PDP协议简介</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#PDP_Context_1" rel="nofollow">PDP Context</a></li><li><a href="#Packet_Data_Protocol_PDP_10" rel="nofollow">Packet Data Protocol (PDP)</a></li><li><a href="#PDP_context_procedures_56" rel="nofollow">PDP context procedures</a></li><li><a href="#Access_points_67" rel="nofollow">访问点（Access points）</a></li></ul> 
</div> 
<p></p> 
<h2><a id="PDP_Context_1"></a>PDP Context</h2> 
<p>1)PDP(Packet Data Protocol) context<br> 　　即PDP上下文，保存用户面进行隧道转发的所有信息，包括RNC/GGSN的用户面IP地址、隧道标识和QoS等。<br> 　　2)SM通过PDP context的激活、修改、去激活信令流程实现会话管理。PDP context 激活流程用于建立用户面的分组传输路由；PDP context修改流程修改激活的PDP context的QoS（Quality of Service）和TFT（Traffic Flow Template），在发生RAU（Routing Area Update）时，也用于修改SGSN到GGSN之间的隧道路由；PDP context去激活则用于拆除激活的PDP。<br> 　　3)激活一个PDP上下文意味着发起一个分组数据业务呼叫。PDP上下文激活包括MS发起的激活及二次激活、网络发起的PDP上下文激活。<br> 　　4)当HLR向SGSN插入用户数据且PDP上下文处于激活状态，SGSN可以发起PDP上下文修改流程；RAB重建，发生QoS改变，SGSN可以发起PDP上下文修改流程；SGSN之间的路由区更新，如果PDP上下文处于激活状态，SGSN可以发起PDP上下文修改过程。<br> 　　5)PDP上下文去激活流程包括MS发起的、SGSN发起的和GGSN发起的PDP上下文去激活流程。</p> 
<h2><a id="Packet_Data_Protocol_PDP_10"></a>Packet Data Protocol (PDP)</h2> 
<p>提供在UE和网络之间能够交换IP数据包的分组数据连接，通常分组数据被限制到特定的服务，这些服务能够被访问通过所谓的访问点<br> 对于UMTS分组数据框架， 分组数据协议上下文(PDP Context)是重要的概念之一。PDP Context有一个参数集记录，它包含了建立端到端连接的所有需要的信息：<br> ●　PDP类型<br> ●　PDP 地址类型<br> ●　QoS profile 请求<br> ●　QoS profile 协商<br> ●　认证类型 (PAP 或 CHAP)<br> ●　DNS 类型(静态DNS或动态DNS)<br> 对于终端，PDP Context主要被设计主要为了2个目的：<br> ●　第一，PDP Context被设计为了分配一个PDP地址给移动终端，其类型为IPv4或IPv6<br> ●　第二，用QoS profile建立一个逻辑上的连接，通过UMTS网络利用PDP Context进行一系列的QoS属性协商<br> Multiple PDP Context<br> 移动手机开发时，需要多个应用程序并行运行，同时进行PS calls，这些PS calls区别于他们QoS参数以及能够提供连接的目标网络（PDN）<br> Multiple PDP Contexts意味着一个移动终端能够有多个PDP Context，每一个能够在同一时间有不同的QoS profile。主要的PDP是一个普通的PDP Context，其拥有默认的QoS profile，它总是被最先激活。对于这个主要的PDP Context，其它的Context用于不同的PDP地址和APN。<br> 当采用IMS，Multiple PDP Contexts将特别重要，所有的PS服务都是基于IP的。基于IMS网络，在不同的PDP Context里，MS被激活为不同SIP通信和不同的会话来进行并行服务。不同的QoS应用被用于每次连接。<br> 用户面的数据流的PDP Context能够在移动终端（MT）或者连接的终端装置（TE）里被终止，如下图所示。被提供的连接应用可以运行在MT，也可以运行在TE上。视频电话客户端和web浏览器同时运行在手机上的示例：</p> 
<p>在基于IMS系统，几个嵌入式应用能够同时运行在MT上，需要多个PDP Context，对于TE，一个额外的PDP Context将被激活。<br> Multiple PDP contexts have two sub-categories:<br> 1、多个基本的PDP Context：它们提供不同的PDN连接<br> 2、次要的PDP Context：它们提供相同的PDN连接，但是QoS不同<br> Multiple Primary PDP Contexts<br> 多个基本的PDP Context有2个或者多个PDP Context，它们彼此独立，每一个用一个唯一的PDP地址，它们提供了同时访问不同PDN的可能。除了唯一PDP地址，每一个PDP Context有它自己的上下QoS和NSAPI（Network Layer Service Access Point Identifier），有独立的RAB（Radio Access Bearer）和GTP通道来传输用户面的数据。<br> PDP Context通常终止在网络侧的不同访问点（虽然允许它们终止在同一访问点），这个终止的访问点能够被定位在相同或者不同的GGSNs。<br> 下面的示例表示3个基本的PDP Context提供了3个不同的PDN连接</p> 
<p>基本的PDP Context能够被独立的激活或失效，通过MS或者网络发起的PDP修改程序，能够修改任何激活的PDP Context的QoS。<br> Secondary PDP Contexts<br> 次要的PDP Context总是和主要的PDP Context相关联。从主要的PDP Context里，能够重用PDP地址（IP地址）和访问点（AP），因此基本的PDP Context和次要的PDP Context能够用不同QoS来提供相同的PDN连接。<br> 一个基本的PDP Context可能分配了多个次要的PDP Context，每一个（基本和次要的）有它自己的RAB和GTP通道来传输不同的用户面数据，它们被唯一的NSAPI (Network Layer Service Access Point Identifier)所标识。<br> 为了激活相关联的次要的PDP Context，必须优先激活基本的PDP Context。在激活的基本的PDP Context里，任何次要的PDP Context能够失效。如果基本的PDP Context被失效，那么所有相关联的次要的PDP Context也被失效。通过修改程序，基本和次要的PDP Context也能够被修改。<br> 对于基本的PDP Context和相关联的次要的PDP Context，IP地址是共用的，对于次要的PDP Context，TFT（Traffic Flow Template）被采用来路由用户的下行链路到正确的GTP通道。下面的示例显示了一个基本的PDP Context和2个相关联的次要的PDP Context：</p> 
<p>多个基本的PDP Context和次要的PDP Context的组合是可能的。例如：2个基本的PDP Context分别关联着一个次要的PDP Context，将导致4个PDP Context被激活。最大的PDP Context依赖于终端。<br> Traffic Flow Template (TFT)<br> TFT被GGSN用于区别不同用户载荷，TFT包含1个到8个包过滤，被唯一的包过滤标识符标识。包过滤基于下面的一个或多个过滤属性：<br> ●　源地址 (with subnet mask)<br> ●　IPv4 protocol number<br> ●　目标端口范围<br> ●　源端口范围<br> ●　IPSec Security Parameter Index（SPI）<br> ●　服务类型 (IPv4)<br> TFT被MS提供在激活的次要PDP Context请求消息里，它被GGSN保存，当路由用户下行链路数据时被验证。TFT能够被修改或删除通过MS发起的PDP Context 修改程序。TFT可以赋予一个基本的PDP Context通过MS发起的PDP Context修改程序。<br> 从包过滤上建立TFT来提供灵活的过滤机制，PDP Context之间的联系，TFTs 和包过滤说明如下：</p> 
<h2><a id="PDP_context_procedures_56"></a>PDP context procedures</h2> 
<p>基本PDP context激活<br> 这个过程被用于通过网络使用QoS来建立从GGSN到UE的逻辑连接，PDP Context的激活由UE发起，改变会话管理状态来激活，创建PDP Context，收到IP地址，预订无线资源。激活PDP Context之后，UE能够通过空中接口发送IP包。<br> 次要PDP context激活<br> 次要PDP context激活允许用户在基本的PDP context中使用相同的IP 地址建立次要的PDP Context，这个2个contexts有不同的QoS profile，满足不同的应用有不同的服务的需求，但是，AP名称是相同的。<br> PDP context变更<br> UE、SGSN和GGSN能够发起更新PDP Context，而且无线访问网络能够从SGSN请求PDP Context的变更。在一个激活的程序中，协商的方式修改一个或多个PDP Context的参数。<br> PDP context 失效<br> 这个过程被用来删除一个从UE到GGSN的逻辑连接，发起失效的申请可以来自UE、SGSN、Home Location Register (HLR) 和GGSN。</p> 
<h2><a id="Access_points_67"></a>访问点（Access points）</h2> 
<p>访问点被理解作为IP路由来提供UE到指定服务之间的连接，例如下面服务：<br> ●　Multimedia Messaging Service (MMS)<br> ●　Wireless Application Protocol (WAP)<br> ●　direct Internet access<br> ●　IP Multimedia Subsystem(IMS)<br> 取决于网络运营商，多个服务可能被提供通过相同的AP，UE需要知道APN和GGSN的地址。一个GGSN能够提供不同的服务，能够通过不同的APN来访问。<br> 本人补充：<br> 从上文可以了解UMTS 和GPRS网络下，以PDP的方式来创建和管理会话，但是在LTE网络（4G)，引入的EPS Bearer 的概念，UE开机完成Attach动作，将会在U面建立default bearer，其提供基本的QoS服务；如果要使用专门的服务，必须建立dedicated bearer。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a263a5be0cee5b3778516bd24055e22d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python 子线程阻塞主线程,Python多处理/线程阻塞主线程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c6bcfd0ade2503ae08770878583ee338/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">软考 - 高级信息系统项目管理师，考证好处、报考流程及知识体系</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>