<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32F103&#43;ESP8266建立室内温度监测，采用MQTT方式连接阿里云 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32F103&#43;ESP8266建立室内温度监测，采用MQTT方式连接阿里云" />
<meta property="og:description" content="STM32F103&#43;ESP8266建立室内温度监测，采用MQTT方式连接阿里云
一、开篇概述
闲来无事也想再市场正火的物联网方面做一个小东西，目的有两个。一是学习STM32F103的操作程序、二是做个物联网的小玩意，采用MQTT上传到云。
题外话，自己感觉还是有个项目驱动学习的才快，非常感谢被问到的老师们。相信大菜鸟有可能也能成为小菜鸟的。哈哈
二、所用材料
STM32F103开发板（随便一个都行，无论正点、野火、自己制作）ESP8266小模块DS18B20器件UART&lt;–&gt;USB串口小模块相关下载器KEIL5.25开发程序软件 三、程序移植
在网上找到一个程序，开始移植，主要是ESP8266的驱动编写，程序的框架基本已经写好，只要自己稍微改下GPIO、UART、iic 、timer、NAVC、IT中断函数编写等。
注意点：
由于ESP8266是UART控制，稍微注意下RX、TX的线序 四、测试步骤
DS18B20的测温驱动测试ESP8266连接模式入网测试全局MQTT上云测试
云操作需要建立自己的设备与产品，相关的操作阿里云都有介绍，可以自行查看很简单， 基本上到这里就算完成了，虽然写好写，但是做起来对我这样的新手来说，着实一件难事啊，做了几天才搞定。也算是没少走弯路，写下这篇文章，激励自己吧，慢慢的成长。
相关的代码我上传到网上，有需要的朋友可以做个参考
代码下载
阿里云监测的数据：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fcd976a5fa62a110311d55d39068061a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-11T16:52:39+08:00" />
<meta property="article:modified_time" content="2020-04-11T16:52:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32F103&#43;ESP8266建立室内温度监测，采用MQTT方式连接阿里云</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>STM32F103+ESP8266建立室内温度监测，采用MQTT方式连接阿里云<br> 一、开篇概述<br> 闲来无事也想再市场正火的物联网方面做一个小东西，目的有两个。一是学习STM32F103的操作程序、二是做个物联网的小玩意，采用MQTT上传到云。<br> 题外话，自己感觉还是有个项目驱动学习的才快，非常感谢被问到的老师们。相信大菜鸟有可能也能成为小菜鸟的。哈哈<br> 二、所用材料</p> 
<ol><li>STM32F103开发板（随便一个都行，无论正点、野火、自己制作）</li><li>ESP8266小模块</li><li>DS18B20器件</li><li>UART&lt;–&gt;USB串口小模块</li><li>相关下载器</li><li>KEIL5.25开发程序软件</li></ol> 
<p>三、程序移植</p> 
<ol><li>在网上找到一个程序，开始移植，主要是ESP8266的驱动编写，程序的框架基本已经写好，只要自己稍微改下GPIO、UART、iic 、timer、NAVC、IT中断函数编写等。<br> 注意点：<br> 由于ESP8266是UART控制，稍微注意下RX、TX的线序</li></ol> 
<p>四、测试步骤</p> 
<ol><li>DS18B20的测温驱动测试</li><li>ESP8266连接模式入网测试</li><li>全局MQTT上云测试<br> 云操作需要建立自己的设备与产品，相关的操作阿里云都有介绍，可以自行查看很简单，</li></ol> 
<p>基本上到这里就算完成了，虽然写好写，但是做起来对我这样的新手来说，着实一件难事啊，做了几天才搞定。也算是没少走弯路，写下这篇文章，激励自己吧，慢慢的成长。</p> 
<p>相关的代码我上传到网上，有需要的朋友可以做个参考<br> <a href="https://download.csdn.net/download/csdn_song123/12322023">代码下载</a></p> 
<p>阿里云监测的数据：<br> <img src="https://images2.imgbox.com/94/09/JehXnmWa_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/01/5b/QbUhDZCR_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/408fda14f6fa5ba8d912dfb57375c48c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[JavaScript] 用 jQuery 实现抽奖程序</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2cbcbb39e2a3f2b7b4b1aa873fd6334d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Artifact xxx:war exploded: Error during artifact deployment.See server log for details.</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>