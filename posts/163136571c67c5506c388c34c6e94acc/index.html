<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据）" />
<meta property="og:description" content="查看原文：【数据seminar】GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据）
目录
GeoJSON 的基础：JSON 格式
GeoJSON
GeoJSON 的区别
举个例子
获取地图信息
DataV
Geojson 是常见的一种地理信息的文件格式，基于JavaScript 对象表示法的地理空间信息数据交换格式。对于没有任何编程和基础的人来说，看到一串串的代码，就足够把人吓跑了。本文旨在通过浅显的语言，向大家介绍这种数据格式。相信大家在仔细阅读本文后，就能够自如的应付这种格式的文件。
GeoJSON 的基础：JSON 格式 JSON 格式是常见的用于数据传输的文件格式。语言描述容易显得太过复杂，我们举一个简单的例子（一看就会的那种）：
一份JSON格式文件是这样的1：
可以看到，这份文件有“两层”内容，标示出来如下：
这么看，大概有些人已经猜到了，其实这个数据列成表格就是这样的：
这就是JSON 格式文件所实现的功能。可以简单的理解为将“一个表格的数据，用文字表述”2。
顺着这个思路，我们再仔细看看，这个文件的结构：首先，所有的内容都被包围在一个 「 {} 」 中，最大的{} 包裹了 「“people”:[{…},{…}]」的内容，所以 people 对于这组数据来说，是最大的一个变量（暂且这么称呼）。里面包含了两个变量（即&#34;firstName”和&#34;lastName&#34;）为一组的两组数据（即 “王 小明” 和“ 陈 小红”）。其中两组并列的数据用「,」（注意，是英文输入法下的「,」）隔开；一个变量下含有多个元素的用[]括住。这就是 JSON 格式的基础了。
对于 JSON 格式来说，people、firstName、lastName 这些其实并不叫变量，而是叫做 “Object”（对象），而其中“王”“小明”这样的数据，被称为 “Value”（值）。总的来讲，JSON 就是每一个 「变量」 都有对应的 「数值」 或者「 数值组合」 的数据格式，其本质就是一段字符串。
GeoJSON GeoJSON 的区别 GeoJSON 出现的目的就是为了表示地理空间信息。其实 GeoJSON 是JSON的一个子集。基本的语法结构上，两者其实是一样的，都是一个 Object 对应一个 Value 。但是不同点在于，GeoJSON 通过特定的 Object 来确定特定类型、特点功能的 Value。这其实很好理解，因为这些字符，是要排布在地图上的，而非在excel上。所以，需要有一些“变量”来储存位置信息，还有一些变量来储存我们要用的数据信息，所以要区分这些不同“功能”的变量，就需要约定一定的格式，来储存这些信息。这就是GeoJSON 和 JSON 的区别。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/163136571c67c5506c388c34c6e94acc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-06T09:38:21+08:00" />
<meta property="article:modified_time" content="2023-04-06T09:38:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" src="https://images2.imgbox.com/d7/05/hiKK8Q4H_o.jpg"></p> 
<p>查看原文：【数据seminar】<a href="https://mp.weixin.qq.com/s/o7YeMzK1OCauOZih6sw8Pg" rel="nofollow" title="GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据）">GeoJSON 格式入门 —— 大数据处理地理信息的基础（内含中国省级数据）</a></p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="GeoJSON%20%E7%9A%84%E5%9F%BA%E7%A1%80%EF%BC%9AJSON%20%E6%A0%BC%E5%BC%8F-toc" style="margin-left:40px;"><a href="#GeoJSON%20%E7%9A%84%E5%9F%BA%E7%A1%80%EF%BC%9AJSON%20%E6%A0%BC%E5%BC%8F" rel="nofollow">GeoJSON 的基础：JSON 格式</a></p> 
<p id="GeoJSON-toc" style="margin-left:40px;"><a href="#GeoJSON" rel="nofollow">GeoJSON</a></p> 
<p id="GeoJSON%20%E7%9A%84%E5%8C%BA%E5%88%AB-toc" style="margin-left:80px;"><a href="#GeoJSON%20%E7%9A%84%E5%8C%BA%E5%88%AB" rel="nofollow">GeoJSON 的区别</a></p> 
<p id="%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90-toc" style="margin-left:80px;"><a href="#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90" rel="nofollow">举个例子</a></p> 
<p id="%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9B%BE%E4%BF%A1%E6%81%AF-toc" style="margin-left:40px;"><a href="#%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9B%BE%E4%BF%A1%E6%81%AF" rel="nofollow">获取地图信息</a></p> 
<p id="DataV-toc" style="margin-left:80px;"><a href="#DataV" rel="nofollow">DataV</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>Geojson 是常见的一种地理信息的文件格式，基于JavaScript 对象表示法的地理空间信息数据交换格式。对于没有任何编程和基础的人来说，看到一串串的代码，就足够把人吓跑了。本文旨在通过浅显的语言，向大家介绍这种数据格式。相信大家在仔细阅读本文后，就能够自如的应付这种格式的文件。</p> 
<p></p> 
<h3 id="GeoJSON%20%E7%9A%84%E5%9F%BA%E7%A1%80%EF%BC%9AJSON%20%E6%A0%BC%E5%BC%8F">GeoJSON 的基础：JSON 格式</h3> 
<p>JSON 格式是常见的用于数据传输的文件格式。语言描述容易显得太过复杂，我们举一个简单的例子（一看就会的那种）：</p> 
<blockquote> 
 <p>一份JSON格式文件是这样的1：</p> 
</blockquote> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/bf/db/PO7dkHXX_o.jpg"></p> 
<p>可以看到，这份文件有“两层”内容，标示出来如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/22/3d/oxm9z1oW_o.jpg"></p> 
<p>这么看，大概有些人已经猜到了，其实这个数据列成表格就是这样的：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/91/e1/3BNV7baz_o.jpg"></p> 
<p>这就是JSON 格式文件所实现的功能。可以简单的理解为将“一个表格的数据，用文字表述”2。</p> 
<p>顺着这个思路，我们再仔细看看，这个文件的结构：首先，所有的内容都被包围在一个 「 {} 」 中，最大的{} 包裹了 「“people”:[{…},{…}]」的内容，所以 people 对于这组数据来说，是最大的一个变量（暂且这么称呼）。里面包含了两个变量<strong>（即"firstName”和"lastName"）</strong>为一组的两组数据<strong>（即 “王 小明” 和“ 陈 小红”）</strong>。其中两组并列的数据用「,」（注意，是英文输入法下的「,」）隔开；一个变量下含有多个元素的用[]括住。这就是 JSON 格式的基础了。</p> 
<p>对于 JSON 格式来说，people、firstName、lastName 这些其实并不叫变量，而是叫做 “Object”（对象），而其中“王”“小明”这样的数据，被称为 “Value”（值）。总的来讲，JSON 就是每一个 「变量」 都有对应的 「数值」 或者「 数值组合」 的数据格式，其本质就是一段字符串。</p> 
<h3 id="GeoJSON">GeoJSON</h3> 
<h4 id="GeoJSON%20%E7%9A%84%E5%8C%BA%E5%88%AB">GeoJSON 的区别</h4> 
<p>GeoJSON 出现的目的就是为了表示地理空间信息。其实 GeoJSON 是JSON的一个子集。基本的语法结构上，两者其实是一样的，都是一个 Object 对应一个 Value 。但是不同点在于，<strong>GeoJSON 通过特定的 Object 来确定特定类型、特点功能的 Value。</strong>这其实很好理解，因为这些字符，是要排布在地图上的，而非在excel上。所以，需要有一些“变量”来储存位置信息，还有一些变量来储存我们要用的数据信息，所以要区分这些不同“功能”的变量，就需要约定一定的格式，来储存这些信息。这就是GeoJSON 和 JSON 的区别。</p> 
<p></p> 
<h4 id="%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90">举个例子</h4> 
<p>为了理解 GeoJSON ，我们来看一个实例：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0d/5d/66P8EvxT_o.jpg"></p> 
<p>这是一份记录北京市信息的GeoJSON文件。首先，我们能够看到，最外层是三个对象：“type”、“properties”、“geometry”。</p> 
<p><strong>“type”</strong> 确定的是其下对象的类型。 “type” 定义了这一整代码的类型为“Feature”， 表示为“特征对象”。“特征对象”必须包含 “properties”和“geometry”两个类型的成员，两者之间并没有顺序的差异。</p> 
<p><strong>“properties”</strong>里包含的各种「变量」和「值」。例如案例中：“adcode”，表示邮编，北京为110000；“na me”，表示名称，北京市；“center”为地理中心，经纬度坐标需用[]包裹住，这样才是完整的一组数据。其他信息也是类似的，这里不再赘述。<strong>如果我们需要添加变量信息，也同样在这个对象内添加值，遵照：“变量名称”：数值 或者 “名称” 的格式</strong></p> 
<p><strong>“geometry”</strong>则是表示几何信息。几何信息有多种类型，所以需要在“geometry”里的“type”来标注这些信息的种类，具体的主要有以下几种：</p> 
<ul><li> <p>Point 即点图。相当于在地图上画一个点。只能包含一个点也就是一组经纬度的数据。</p> </li><li> <p>Multipoint 即多点图，用于地图打点，可以包含多个点的集合。</p> </li><li> <p>LineString 即线。相当于在地图上画一条线。即包含起点到终点两组经纬度。</p> </li><li> <p>MultiLineString 同理，多条线。</p> </li><li> <p>Polygon 多边形。在地图上用一个多边形围住一个范围。</p> </li><li> <p>MultiPolygon 多组多边形。</p> </li><li> <p>GeometryCollection 几何集合。（相当于多层嵌套）</p> </li></ul> 
<p></p> 
<p>例子中是用了 MultiPolygon ，多组多边形组合，可以是一个也可以是多个。下面，我们将上例中省略的部分单独展开：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/b6/58/9MIV9mSX_o.jpg"></p> 
<p>geometry 下面 包含“type”和“coordinates”，type上面已经说明了，是关于数据类型的，而“coordinates”则是依据数据类型，存储地理信息的。上例中这么一长串的经纬度其实是一组首尾相接的地理信息，最终会组合成一个封闭的区间，而这个区间就是北京市所在的范围。</p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d4/70/0hz5gRCq_o.jpg"></p> 
<p></p> 
<p>.......</p> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/83/71/wHBih4V0_o.jpg"></p> 
<p>通过GeoDa3软件，最终显示的结果如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/4d/8f/id3977AE_o.jpg"></p> 
<p>当然，这样框定的范围是否精准，一定程度上取决于经纬度信息的准确程度，因为用多少条边描绘这个地理信息，直接决定了这张地图的准确程度。许多边缘较为细碎的地区划分，可能会需要成百上千个点来确定。</p> 
<p>上述例子是一个区域（省级单位）的信息，那么如果是多个省份，每个省份有多组变量怎么办呢4？</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/f0/88/8BVluEHL_o.jpg"></p> 
<p>可以用“FeatureCollection”来框住其他的 “feature”，每一个 “feature” 里包裹一个省份的数据，这样就能实现用 GeoJSON 储存一个空间序列的数据了。</p> 
<p>crs 添加坐标参考系</p> 
<p></p> 
<p>除此之外，GeoJSON格式文件还又一些可选对象可以用来添加其他信息。<strong>这些并不必须的，简单了解一下，有助于以后的深入学习。</strong>例如，可以记录坐标参考系统对象（Coordinate Reference System Objects）：crs；</p> 
<p>crs 对象，必须包含“type”和“properties”。“type” 可以选择 “name” 或者是 “link”，如下：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/18/fc/RDOSx0YC_o.png"></p> 
<p>或者：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/e9/25/XMzLiak3_o.png"></p> 
<p>编码信息可以参考：</p> 
<p>http://sis.apache.org/tables/CoordinateReferenceSystems.html</p> 
<p>bbox 设置边界</p> 
<p></p> 
<p>除了crx外，其实还可以设置边界框对象：bbox。</p> 
<p>边界框对象必须是2的倍数的数组。例如：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d0/37/3F9BqPGn_o.jpg"></p> 
<p></p> 
<p>“bbox” 是东、西经 180度，南、北纬90度的范围。需要注意的是，bbox应当在「最高层级」就声明。</p> 
<p>当然，crs 和 bbox 在使用许多软件时，可以不声明。许多软件都会提供放大缩小地图平面的功能。</p> 
<blockquote> 
 <p>更多具体内容可参考：http://geojson.org/geojson-spec.html#link-objects</p> 
</blockquote> 
<hr> 
<h3 id="%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%9B%BE%E4%BF%A1%E6%81%AF">获取地图信息</h3> 
<p>讲了那么多，我们要如何获取地图信息呢？</p> 
<p>这里小编给大家推荐一个网站：</p> 
<h4 id="DataV">DataV</h4> 
<p><img alt="" height="381" src="https://images2.imgbox.com/55/d4/drtMdyvv_o.png" width="608"></p> 
<p>网址：http://datav.aliyun.com/static/tools/atlas/#&amp;lat=33.54139466898275&amp;lng=104.32617187499999&amp;zoom=4</p> 
<p>网站的地图数据来自阿里云，支持到处最低县级层面的数据。</p> 
<p>我们也整理了中国省级数据，供大家下载⏬：</p> 
<p>https://www.jianguoyun.com/p/Dct5nfIQ7KmDBhiGiV4</p> 
<p></p> 
<hr> 
<p></p> 
<ol><li> <p>当然，网上下载的文件可能并不那么“清晰”，你可以搜索在线的json编辑器，将其格式化（就是按照规范换行）。本文提供一个简单的链接：http://tool.oschina.net/codeformat/json </p> </li><li> <p>这种说法是不够准确的，但对于上手使用GeoJSON 来说，影响不大。 </p> </li><li> <p>https://geodacenter.github.io/index-cn.html </p> </li><li> <p>JSON格式是不支持注释的，下文注释主要是为了方便大家理解。 </p> </li></ol> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fef67cd528498aca954a39ab32a88b2e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unix系统编程学习笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a4e4531e12e74aab808871493c0392bd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">instanceof用法详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>