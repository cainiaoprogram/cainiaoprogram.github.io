<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL集合操作符的用法（Oracle中） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL集合操作符的用法（Oracle中）" />
<meta property="og:description" content="集合操作符：将两个查询的结果组合成一个结果集。
在Oracle中有两张表
表A no 表B no 1 1 2 4 3 1. UNION(联合)
UNION操作符返回两个查询选定的所有不重复的行。
SQL&gt; SELECT no FROM A
UNION
SELECT no FROM B;
结果：
no
1
2
3
4
2. UNION ALL(联合所有)
合并两个查询选定的所有行，包括重复的行。
上面SQL语句，把 UNION 改为 UNION ALL
结果：
no
1
2
3
1
4
3. INTERSECT(交集)
返回两个查询都有的行。
上面SQL语句，把 UNION 改为 INTERSECT
结果：
no
1
4. MINUS(减集)
返回第一个查询选定但是没有被第二个查询选定的行。
上面SQL语句，把 UNION 改为 MINUS
结果：
no
2
3
======================================================
集合操作有　并，交，差　３种运算。 union :得到两个查询结果的并集，并且自动去掉重复行。不会排序 union all:得到两个查询结果的并集，不会去掉重复行。也不会排序 intersect:得到两个查询结果的交集，并且按照结果集的第一个列进行排序 minus:得到两个查询结果的减集，以第一列进行排序 例子： 下面是两个表：一个主修课程表，一个选修课程表。 这个是主修课程表：minors create table minors( minor_id number primary key, minor_name varchar2(30) not null, credit_hour number(2) ) 插入３条记录：　insert into minors values(10101,&#39;计算机原理&#39;,4) insert into minors values(10201,&#39;自动控制原理&#39;,3) insert into minors values(10301,&#39;工程制图原理&#39;,4) 下面创建选修课程表minors2 create table minors2( minor_id number primary key, minor_name varchar2(30) not null, credit_hour number(2) ) 插入两条记录： insert into minors2 values(10201,&#39;自动控制原理&#39;,3) insert into minors2 values(10301,&#39;工程制图原理&#39;,4) （1）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/114ea7e49e79d6ee748beba33f96f43c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-05-15T15:50:49+08:00" />
<meta property="article:modified_time" content="2013-05-15T15:50:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL集合操作符的用法（Oracle中）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="bct fc05 fc11 nbw-blog ztag js-fs2"> 
 <p><strong>集合操作符：</strong>将两个查询的结果组合成一个结果集。</p> 
 <p>在Oracle中有两张表</p> 
 <p>表A      no                                 表B           no          </p> 
 <p>            1                                                    1             </p> 
 <p>            2                                                    4           </p> 
 <p>            3                                                                                                                                    </p> 
 <p> </p> 
 <p><strong>1. UNION</strong>(联合)</p> 
 <p>    UNION操作符返回两个查询选定的所有不重复的行。</p> 
 <p>    SQL&gt;  SELECT no FROM A</p> 
 <p>                         UNION</p> 
 <p>               SELECT no FROM B;</p> 
 <p>    结果：</p> 
 <p>           no</p> 
 <p>             1</p> 
 <p>             2</p> 
 <p>             3</p> 
 <p>             4</p> 
 <p><strong>2. UNION ALL</strong>(联合所有)</p> 
 <p>    合并两个查询选定的所有行，包括重复的行。</p> 
 <p>    上面SQL语句，把 UNION 改为 UNION ALL</p> 
 <p>    结果：</p> 
 <p>           no</p> 
 <p>             1</p> 
 <p>             2</p> 
 <p>             3</p> 
 <p>             1</p> 
 <p>             4</p> 
 <p><strong>3. INTERSECT</strong>(交集)</p> 
 <p>    返回两个查询都有的行。</p> 
 <p>    上面SQL语句，把 UNION 改为 INTERSECT</p> 
 <p>    结果：</p> 
 <p>           no</p> 
 <p>             1</p> 
 <p><strong>4. MINUS</strong>(减集)</p> 
 <p>    返回第一个查询选定但是没有被第二个查询选定的行。</p> 
 <p>    上面SQL语句，把 UNION 改为 MINUS</p> 
 <p>    结果：</p> 
 <p>          no</p> 
 <p>            2</p> 
 <p>            3</p> 
</div> 
<p>======================================================</p> 
<p></p> 
<div id="cnblogs_post_body"> 
 <p class="p0">集合操作有　并，交，差　３种运算。 <br> <br> 　union :得到两个查询结果的并集，并且自动去掉重复行。不会排序 <br> <br> 　union all:得到两个查询结果的并集，不会去掉重复行。也不会排序 <br> <br> 　intersect:得到两个查询结果的交集，并且按照结果集的第一个列进行排序 <br> <br> 　minus:得到两个查询结果的减集，以第一列进行排序 <br> <br> 例子： <br> 　　下面是两个表：一个主修课程表，一个选修课程表。 <br> 这个是主修课程表：minors <br> 　　   create table minors( <br>         　minor_id number primary key, <br>       　  minor_name varchar2(30) not null, <br>        　 credit_hour number(2) <br>    　  ) <br> 插入３条记录：　　　　　　　　　　　　　　　 <br> 　　  insert into minors values(10101,'计算机原理',4) <br>     　 insert into minors values(10201,'自动控制原理',3) <br>     　 insert into minors values(10301,'工程制图原理',4) <br> 下面创建选修课程表minors2 <br> 　      create table minors2( <br>          minor_id number primary key, <br>          minor_name varchar2(30) not null, <br>          credit_hour number(2) <br>        ) <br> 插入两条记录： <br>         insert into minors2 values(10201,'自动控制原理',3) <br>        insert into minors2 values(10301,'工程制图原理',4)   </p> 
 <p class="p0">（1）<br> 两个表使用union all:得到如下结果 <br>         select minor_id,minor_name,credit_hour from minors union all <br>        select minor_id,minor_name,credit_hour from minors2 order by     credit_hour <br> 结果： <br> MINOR_ID MINOR_NAME                     CREDIT_HOUR <br> ---------- ------------------------------ ----------- <br>      10201 自动控制原理                             3 <br>      10201 自动控制原理                             3 <br>      10101 计算机原理                               4 <br>      10301 工程制图原理                             4 <br>      10301 工程制图原理                             4 </p> 
 <p class="p0">（2）<br> 两个表使用union　:得到如下结果 <br> select minor_id,minor_name,credit_hour from minors union <br>     select minor_id,minor_name,credit_hour from minors2 order by credit_hour <br> 结果： <br> MINOR_ID MINOR_NAME                     CREDIT_HOUR <br> ---------- ------------------------------ ----------- <br>      10201 自动控制原理                             3 <br>      10101 计算机原理                               4 <br>      10301 工程制图原理                             4 </p> 
 <p class="p0">（3）<br> 两个表使用intersect　:得到如下结果 <br>      select minor_id,minor_name,credit_hour from minors intersect <br>     select minor_id,minor_name,credit_hour from minors2 <br> 结果： <br> MINOR_ID MINOR_NAME                     CREDIT_HOUR <br> ---------- ------------------------------ ----------- <br>      10201 自动控制原理                             3 <br>      10301 工程制图原理                             4 </p> 
 <p class="p0">（4）</p> 
 <p class="p0">两个表使用minus　:得到如下结果 <br>     select minor_id,minor_name,credit_hour from minors minus <br>     select minor_id,minor_name,credit_hour from minors2 <br> 结果： <br> MINOR_ID MINOR_NAME                     CREDIT_HOUR <br> ---------- ------------------------------ ----------- <br>      10101 计算机原理                               4 <br> </p> 
</div> 
<br> 
<p></p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/74154474a1bd51fe05248253bd58710f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">lz4: 性能很好的压缩算法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9cb1bd97971faf1bab4f14e272510134/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">编译iOS上的libevent库</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>