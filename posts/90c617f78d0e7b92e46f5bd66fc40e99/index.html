<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pid调节的方法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pid调节的方法" />
<meta property="og:description" content="上一篇介绍了建立系统模型的三种方法，这一篇介绍如何调节pid，并用MATLAB仿真
调节pid的目标就是使得从模型中得到的增益能够使物理系统正常工作
调节pid的理论分析
pid的一般形式如下图
经过移动化简可以得到
现在我们的问题就简化成了在哪里放置这两个极点，和设置多大的增益？
在给微分器加上滤波器，相当于系统多了一个极点，滤波器的相关内容之后介绍
MATLAB仿真
仿真使用的模型还是我们上一篇使用的电机模型
随便取一个之前的模型进行pid控制仿真
先初始化电机模型的变量，再加上pid的必要模型，开始仿真
随便调了几下pid参数，得到下图的效果
调节零点位置和增益的方法
新名词介绍
根轨迹图(root locus)是控制理论及稳定性理论中，绘图分析的方式，可以看到在特定参数（一般会是反馈系统的环路增益）变化时，系统极点的变化。
说实话，这东西以前我听都没听过，在经过线上线下查找资料才算知道了这么个东西。
简单的说，这个图可以用来判断非时变系统系统的稳定性，以及计算系统增益并实现它的控制器
手画这个图是有许多规则的，不过我没有去了解，毕竟我时间也不多，只知道可以用MATLAB画
进入主题
有两种方法用于调节：Pole placement 和 Loop shaping
Pole placement
一个简单的开环系统，他的根轨迹图是这样的
在加入PID后，会引入新的零点和极点，就会变成这样
这种调节方法就是通过调节增益，从而得到希望的系统性能
Loop shaping
这个方法和上面的类似，换了种形式的图
据论文介绍，这两种方法的性能都是差不多的，loop-shaping多了两个优点，(i)不需要在FRF上拟合LTI模型来设计控制器，并且(ii)随着控制器系数的平滑变化，增益调度的实现更加缓慢。
对于我来说，暂时只管怎么用，好不好用，就没有深入学习了
MATLAB仿真
下图是我用之前的模型随意调的pid的阶跃响应，可以看出是不符合我们的期望的，下面我们就使用MATLAB进行pid调节
我们首先需要做的是打开analysis-&gt;control design-&gt;control system designer，然后按照下面三张图所示，添加需要调节的pid模块，添加需要的信号
在control system designer的菜单栏中点击tuning methods，在下拉框中选择root locus editor，就可以得到下图
在new plot下选择new step，在弹出窗口按下图配置
最终效果如下
手动pid调节
手动调节说实话我是不太懂，我这里只是随便乱调一下表示可以手动修整而已
这里使用的是pole placement的方法，loop shaping也是类似的
自整定pid
这里主要还是介绍自整定pid，毕竟方便，不需要懂太多相关知识
在tuning methods下选择pid tuning
可以在弹出窗口中选择pid控制器的类型、性能等等，最后附上调节效果图
最后弄完后要在菜单栏选择update blocks
结尾
调节好的模型已上传github的项目库
参考资料
Design Compensator Using Automated PID Tuning and Graphical Bode Design" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/90c617f78d0e7b92e46f5bd66fc40e99/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-13T15:34:16+08:00" />
<meta property="article:modified_time" content="2019-04-13T15:34:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pid调节的方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>上一篇介绍了建立系统模型的三种方法，这一篇介绍如何调节pid，并用MATLAB仿真</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/45/9a/WLtS28rT_o.png"></p> 
<p>调节pid的目标就是使得从模型中得到的增益能够使物理系统正常工作</p> 
<h3> </h3> 
<p>调节pid的理论分析</p> 
<p>pid的一般形式如下图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/5b/ef/SwQHWIBd_o.png"></p> 
<p>经过移动化简可以得到</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/36/b9/pITpRA8a_o.png"></p> 
<p>现在我们的问题就简化成了在哪里放置这两个极点，和设置多大的增益？</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/bd/fc/TaXBKeST_o.png"></p> 
<p>在给微分器加上滤波器，相当于系统多了一个极点，滤波器的相关内容之后介绍</p> 
<h3> </h3> 
<p>MATLAB仿真</p> 
<p>仿真使用的模型还是我们上一篇使用的电机模型</p> 
<p>随便取一个之前的模型进行pid控制仿真</p> 
<p>先初始化电机模型的变量，再加上pid的必要模型，开始仿真</p> 
<p>随便调了几下pid参数，得到下图的效果</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/04/5d/7fQmBjc2_o.png"></p> 
<h3> </h3> 
<p>调节零点位置和增益的方法</p> 
<h3> </h3> 
<p>新名词介绍</p> 
<p>根轨迹图(root locus)是控制理论及稳定性理论中，绘图分析的方式，可以看到在特定参数（一般会是反馈系统的环路增益）变化时，系统极点的变化。</p> 
<p>说实话，这东西以前我听都没听过，在经过线上线下查找资料才算知道了这么个东西。</p> 
<p>简单的说，这个图可以用来判断非时变系统系统的稳定性，以及计算系统增益并实现它的控制器</p> 
<p>手画这个图是有许多规则的，不过我没有去了解，毕竟我时间也不多，只知道可以用MATLAB画</p> 
<h3> </h3> 
<p>进入主题</p> 
<p>有两种方法用于调节：Pole placement 和 Loop shaping</p> 
<p>Pole placement</p> 
<p>一个简单的开环系统，他的根轨迹图是这样的</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/d2/87/aqf4Kybx_o.png"></p> 
<p>在加入PID后，会引入新的零点和极点，就会变成这样</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/6c/83/d6a9rDww_o.png"></p> 
<p>这种调节方法就是通过调节增益，从而得到希望的系统性能</p> 
<p>Loop shaping</p> 
<p>这个方法和上面的类似，换了种形式的图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/a7/7f/8FjTfjSB_o.png"></p> 
<p>据<a href="http://folk.ntnu.no/skoge/prost/proceedings/ecc03/pdfs/148.pdf" rel="nofollow">论文</a>介绍，这两种方法的性能都是差不多的，loop-shaping多了两个优点，(i)不需要在FRF上拟合LTI模型来设计控制器，并且(ii)随着控制器系数的平滑变化，增益调度的实现更加缓慢。</p> 
<p>对于我来说，暂时只管怎么用，好不好用，就没有深入学习了</p> 
<h3> </h3> 
<p>MATLAB仿真</p> 
<p>下图是我用之前的模型随意调的pid的阶跃响应，可以看出是不符合我们的期望的，下面我们就使用MATLAB进行pid调节</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/aa/9d/QUr0kN9X_o.png"></p> 
<p>我们首先需要做的是打开analysis-&gt;control design-&gt;control system designer，然后按照下面三张图所示，添加需要调节的pid模块，添加需要的信号</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/83/aa/wHIZdTNz_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/df/44/DOXkkOZh_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/bc/7d/fvsoEJ77_o.png"></p> 
<p>在control system designer的菜单栏中点击tuning methods，在下拉框中选择root locus editor，就可以得到下图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/3d/78/ukJ4AC3c_o.png"></p> 
<p>在new plot下选择new step，在弹出窗口按下图配置</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/a9/a9/2EQvQzCB_o.png"></p> 
<p>最终效果如下</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b1/47/rqc548Fm_o.png"></p> 
<p>手动pid调节</p> 
<p>手动调节说实话我是不太懂，我这里只是随便乱调一下表示可以手动修整而已</p> 
<p>这里使用的是pole placement的方法，loop shaping也是类似的</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c9/3b/35yzvc3n_o.gif"></p> 
<p>自整定pid</p> 
<p>这里主要还是介绍自整定pid，毕竟方便，不需要懂太多相关知识</p> 
<p>在tuning methods下选择pid tuning</p> 
<p>可以在弹出窗口中选择pid控制器的类型、性能等等，最后附上调节效果图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/1f/e0/YWbc6yIS_o.png"></p> 
<p>最后弄完后要在菜单栏选择update blocks</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/6e/82/P4kBBFWl_o.png"></p> 
<h3> </h3> 
<p>结尾</p> 
<p>调节好的模型已上传github的<a href="https://github.com/greedyhao/trembling-ball-pid/tree/master/software/matlab/motor_model_pid.slx">项目库</a></p> 
<h3> </h3> 
<p>参考资料</p> 
<ul><li> <p><a href="https://ww2.mathworks.cn/help/slcontrol/ug/design-compensator-in-simulink-using-automated-pid-tuning.html" rel="nofollow">Design Compensator Using Automated PID Tuning and Graphical Bode Design</a></p> </li><li> <p><a href="https://ww2.mathworks.cn/help/control/getstart/designing-pid-controllers-with-the-pid-tuner-gui.html" rel="nofollow">Designing PID Controllers with PID Tuner</a></p> </li></ul> 
<hr> 
<p><a href="http://greedyhao.cc/2019/04/12/%E8%87%AA%E5%8A%A8%E6%8E%A7%E5%88%B6-PID-2019-04-12-pid%E8%B0%83%E8%8A%82%E7%9A%84%E6%96%B9%E6%B3%95/" rel="nofollow">个人博客</a></p> 
<p><a href="http://link.zhihu.com/?target=https%3A//github.com/greedyhao/greedyhao.github.io/blob/master/img/wechat_official_accounts.jpg" rel="nofollow">公众号：greedyhao</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1937d407f5c66bef47902df7a87bd8b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">十进制与二进制之间转换详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/67e0b4ce0d57a3307bd20d49ac5c671e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ATCommand拨号</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>