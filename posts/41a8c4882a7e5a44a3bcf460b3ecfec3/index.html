<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>IoTDB下载安装 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="IoTDB下载安装" />
<meta property="og:description" content="IoTDB下载安装 环境准备 IoTDB 的理念就是系统运维要简单，要一键启动、开箱即用。先从安装环境开始说起
安装前需要保证设备上配有 JDK&gt;=1.8 的运行环境，并配置好 JAVA_HOME 环境变量；
如果希望能从源代码编译和安装IoTDB，需要maven版本 &gt;= 3.6；
将最大文件打开数(max open files)设置为 65535，以避免&#34;too many open files&#34;错误。
将 somaxconn 设置为 65535，以避免系统在高负载时出现&#34;connection reset&#34; 错误(可选)。
下载与安装 IoTDB 提供了两种安装方式：
第一种，从官网下载安装包。这是推荐的安装方式，通过该方式，可以得到一个可以立即使用的、打包好的二进制可执行文件。
第二种，使用源码编译。如果想自行修改代码，可以使用这种安装方式。
历史版本下载：https://archive.apache.org/dist/iotdb/
从官网下载二进制可执行文件 可以从 http://iotdb.apache.org/Download/ (opens new window)上下载已经编译好的可执行程序 iotdb-xxx.zip，该压缩包包含了 IoTDB 系统运行所需的所有必要组件。
下载后，可使用如下命令对 IoTDB 的压缩包进行解压：
uzip iotdb-&lt;version&gt;.zip 使用源码编译 可以获取已发布的源码 https://iotdb.apache.org/Download/，或者从 https://github.com/apache/iotdb/tree/master 仓库获取
克隆项目 git clone https://github.com/apache/iotdb.git 源码克隆后，进入到源码文件夹目录下。
如果想编译已经发布过的版本，可以先用git checkout -b my_{project.version} v{project.version}命令新建并切换分支。比如当要编译0.12.4这个版本的源码，可以用如下命令去切换分支：
git checkout -b my_0.12.4 v0.12.4 server编译 切换分支之后就可以使用以下命令进行编译：
mvn clean package -pl server -am -Dmaven." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/41a8c4882a7e5a44a3bcf460b3ecfec3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-07T13:53:52+08:00" />
<meta property="article:modified_time" content="2022-04-07T13:53:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">IoTDB下载安装</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="IoTDB_0"></a>IoTDB下载安装</h2> 
<h3><a id="_2"></a>环境准备</h3> 
<blockquote> 
 <p>IoTDB 的理念就是系统运维要简单，要一键启动、开箱即用。先从安装环境开始说起</p> 
</blockquote> 
<ol><li> <p>安装前需要保证设备上配有 JDK&gt;=1.8 的运行环境，并配置好 <code>JAVA_HOME</code> 环境变量；</p> </li><li> <p>如果希望能从源代码编译和安装IoTDB，需要maven版本 &gt;= 3.6；</p> </li><li> <p>将最大文件打开数(<code>max open files</code>)设置为 65535，以避免"too many open files"错误。</p> </li><li> <p>将 <code>somaxconn</code> 设置为 65535，以避免系统在高负载时出现"connection reset" 错误(可选)。</p> </li></ol> 
<h3><a id="_14"></a>下载与安装</h3> 
<p>IoTDB 提供了两种安装方式：</p> 
<p>第一种，从官网下载安装包。这是推荐的安装方式，通过该方式，可以得到一个可以立即使用的、打包好的二进制可执行文件。</p> 
<p>第二种，使用源码编译。如果想自行修改代码，可以使用这种安装方式。</p> 
<blockquote> 
 <p>历史版本下载：https://archive.apache.org/dist/iotdb/</p> 
</blockquote> 
<h4><a id="_24"></a>从官网下载二进制可执行文件</h4> 
<p>可以从 <a href="http://iotdb.apache.org/Download/" rel="nofollow">http://iotdb.apache.org/Download/ (opens new window)</a>上下载已经编译好的可执行程序 iotdb-xxx.zip，该压缩包包含了 IoTDB 系统运行所需的所有必要组件。</p> 
<p><img src="https://images2.imgbox.com/8b/b0/3G4GMRpr_o.png" alt="在这里插入图片描述"><br> 下载后，可使用如下命令对 IoTDB 的压缩包进行解压：</p> 
<pre><code class="prism language-bash">uzip iotdb-<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>.zip
</code></pre> 
<h4><a id="_34"></a>使用源码编译</h4> 
<p>可以获取已发布的源码 https://iotdb.apache.org/Download/，或者从 https://github.com/apache/iotdb/tree/master 仓库获取</p> 
<h5><a id="_38"></a>克隆项目</h5> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/apache/iotdb.git
</code></pre> 
<p><img src="https://images2.imgbox.com/a4/91/yLfAOIJ8_o.png" alt="git clone 命令克隆iotdb项目"><br> 源码克隆后，进入到源码文件夹目录下。<br> <img src="https://images2.imgbox.com/d4/35/v12qrsA0_o.png" alt="iotdb项目目录结构"><br> 如果想编译已经发布过的版本，可以先用<code>git checkout -b my_{project.version} v{project.version}</code>命令新建并切换分支。比如当要编译0.12.4这个版本的源码，可以用如下命令去切换分支：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> checkout -b my_0.12.4 v0.12.4
</code></pre> 
<h5><a id="server_52"></a>server编译</h5> 
<p>切换分支之后就可以使用以下命令进行编译：</p> 
<pre><code class="prism language-bash">mvn clean package -pl server -am -Dmaven.test.skip<span class="token operator">=</span>true <span class="token comment"># 跳过单测打包server</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ee/df/WNEExLi2_o.png" alt="跳过单测打包server"><br> 编译后，IoTDB 服务器会在 “server/target/iotdb-server-{project.version}” 文件夹下，包含以下内容：<br> <img src="https://images2.imgbox.com/26/ae/eHTs270T_o.png" alt="IoTDB 服务器server目录打包后"></p> 
<pre><code>+- conf/      	&lt;-- configuration files  # 配置文件目录
|
+- lib/       	&lt;-- project dependencies  # 系统工具目录
|
+- logs/      	&lt;-- project logs  #项目日志目录
|
+- sbin/       	&lt;-- script files  # 启动和停止脚本目录
|
+- tools/      	&lt;-- system tools  # 依赖包目录
</code></pre> 
<h5><a id="cli_74"></a>cli编译</h5> 
<pre><code class="prism language-bash">mvn clean package -pl cli -am -Dmaven.test.skip<span class="token operator">=</span>true <span class="token comment"># 跳过单测打包cli</span>
</code></pre> 
<p>编译后，IoTDB cli工具在"cli/target/iotdb-server-{project.version}"文件下，包含以下内容：<br> <img src="https://images2.imgbox.com/62/a6/PVLNlON0_o.png" alt="IoTDB cli工具目录打包后"></p> 
<pre><code>+- sbin/       	&lt;-- script files  # 启动和停止脚本目录
|
+- lib/       	&lt;-- project dependencies  # 系统工具目录
|
+- tools/      	&lt;-- system tools  # 依赖包目录
</code></pre> 
<p>如果想要编译项目中的某个模块，可以在源码文件夹中使用<code>mvn clean package -pl {module.name} -am -DskipTests</code>命令进行编译。如果需要的是带依赖的 jar 包，您可以在编译命令后面加上<code>-P get-jar-with-dependencies</code>参数。</p> 
<p>比如想编译带依赖的 jdbc jar 包，可以使用以下命令进行编译：</p> 
<pre><code class="prism language-bash">mvn clean package -pl jdbc -am -DskipTests -P get-jar-with-dependencies <span class="token comment"># 编译打包带依赖的 jar 包</span>
</code></pre> 
<p>编译完成后就可以在<code>{module.name}/target</code>目录中找到需要的包了。</p> 
<h4><a id="_Docker__Dockerfile_100"></a>通过 Docker 安装 (Dockerfile)</h4> 
<blockquote> 
 <p>dockerfile 文件位于 https://github.com/apache/iotdb/blob/master/docker/src/main</p> 
</blockquote> 
<blockquote> 
 <h5><a id="Docker_105"></a>Docker简介</h5> 
 <p><a href="http://c.biancheng.net/docker/" rel="nofollow">Docker</a> 是一种运行于 Linux 和 Windows 上的软件，用于创建、管理和编排容器。</p> 
 <blockquote> 
  <p>“Docker”一词来自英国口语，意为码头工人（Dock Worker），即从船上装卸货物的人。</p> 
 </blockquote> 
 <p><img src="https://images2.imgbox.com/70/f7/kBE3YUdz_o.gif" alt="Docker新旧logo图标"></p> 
 <h5><a id="_113"></a>安装</h5> 
 <h6><a id="_115"></a>添加源进行安装</h6> 
 <p>首先安装docker的仓库，你可以从这个仓库中安装或者升级docker。</p> 
 <h6><a id="_119"></a>设置仓库</h6> 
 <p>1、安装依赖包，<code>yum-utils</code>提供<code>yum-config-manager</code>工具，<code>devicemapper</code>存储驱动需要<code>device-mapper-persistent-data</code>和<code>lvm2</code></p> 
 <pre><code class="prism language-bash">$ <span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils <span class="token punctuation">\</span>
  device-mapper-persistent-data <span class="token punctuation">\</span>
  lvm2
</code></pre> 
 <p>2、使用下面的命令安装稳定版仓库，即使安装最新体验版或者是测试版也需要稳定版仓库。</p> 
 <pre><code class="prism language-bash">$ <span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre> 
 <p>3、<strong>可选</strong>：体验版和测试版默认是关闭的，你可以通过下面的命令打开，不打开也不影响稳定版的使用。</p> 
 <pre><code class="prism language-bash">$ <span class="token comment"># 打开体验版与测试版</span>
$ <span class="token function">sudo</span> yum-config-manager --enable docker-ce-edge
$ <span class="token function">sudo</span> yum-config-manager --enable docker-ce-test

$ <span class="token comment"># 关闭体验版与测试版</span>
$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-edge
$ <span class="token function">sudo</span> yum-config-manager --disable docker-ce-test
</code></pre> 
 <p>注意：从docker17.06开始，稳定版也同样会被推送到体验版和测试版的仓库里。</p> 
 <h6><a id="docker_CE_151"></a>安装docker CE</h6> 
 <p>1、安装最新版本的docker CE</p> 
 <pre><code class="prism language-bash">$ <span class="token function">sudo</span> yum <span class="token function">install</span> -y docker-ce
</code></pre> 
 <blockquote> 
  <p>以上命令始终安装docker CE最新版本，如果提示接受GPG key，官方说检查指纹是否是<br> <code>060A 61C5 1B55 8A7F 742B 77AA C52F EB6B 621E 9F35</code>，是的话，就接受，不过我在安装的过程中没有遇见。</p> 
 </blockquote> 
 <p>2、安装指定版本的docker CE</p> 
 <p>列出版本，版本号从高到低 <code>yum list docker-ce --showduplicates | sort -r</code></p> 
 <pre><code class="prism language-bash"><span class="token punctuation">[</span>root@leviyun ~<span class="token punctuation">]</span><span class="token comment"># yum list docker-ce --showduplicates | sort -r</span>
已加载插件：fastestmirror
已安装的软件包
可安装的软件包
Loading mirror speeds from cached hostfile
docker-ce.x86_64            <span class="token number">3</span>:20.10.9-3.el7                    docker-ce-stable
docker-ce.x86_64            <span class="token number">3</span>:20.10.8-3.el7                    docker-ce-stable
docker-ce.x86_64            <span class="token number">3</span>:20.10.7-3.el7                    docker-ce-stable
docker-ce.x86_64            <span class="token number">3</span>:20.10.6-3.el7                    docker-ce-stable
docker-ce.x86_64            <span class="token number">3</span>:20.10.5-3.el7                    docker-ce-stable
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre> 
 <p>安装指定版本的docker CE，需要指定完整的包名称，例如安装仓库中的这个版本 <code>18.03.0.ce-1.el7.centos</code> ，其命令为：</p> 
 <pre><code class="prism language-bash">$ <span class="token function">sudo</span> yum <span class="token function">install</span> -y docker-ce-18.03.0.ce
</code></pre> 
 <p>其他版本同理。</p> 
 <h6><a id="docker_CE_188"></a>启动docker CE</h6> 
 <p>启动其实是启动docker deamon，即docker守护进程/docker引擎</p> 
 <pre><code class="prism language-bash">$ <span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre> 
 <p>如果需要升级的话，移除之前的docker，再重复上面的过程即可。</p> 
</blockquote> 
<p>Apache IoTDB 的 Docker 镜像已经上传至<code>https://hub.docker.com/r/apache/iotdb</code></p> 
<h5><a id="1_IoTDB_docker__200"></a>1、获取 IoTDB docker 镜像</h5> 
<ul><li><strong>推荐</strong>：执行 <code>docker pull apache/iotdb:latest</code> 即可获取最新的 docker 镜像。</li></ul> 
<p><img src="https://images2.imgbox.com/ff/b1/TKFq3nuP_o.png" alt="获取 IoTDB docker 镜像"></p> 
<ul><li>用户也可以根据代码提供的 Dockerfile 文件来自己生成镜像。Dockerfile 存放在的 docker 工程下的 <code>src/main/Dockerfile</code> 中。</li></ul> 
<p><img src="https://images2.imgbox.com/51/db/BCcoaBXP_o.png" alt="根据代码提供的 Dockerfile 文件来自己生成镜像"></p> 
<p>方法 1：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> build -t iotdb:base git://github.com/apache/iotdb<span class="token comment">#master:docker</span>
</code></pre> 
<p>方法 2：</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/apache/iotdb
<span class="token builtin class-name">cd</span> iotdb
mvn package -DskipTests
<span class="token builtin class-name">cd</span> <span class="token function">docker</span>
<span class="token function">docker</span> build -t iotdb:base <span class="token builtin class-name">.</span>
</code></pre> 
<blockquote> 
 <p>当 docker image 在本地构建完成的时候 （示例中的 tag 为 iotdb:base)，已经距完成只有一步之遥了！</p> 
</blockquote> 
<h5><a id="2_docker__docker_volume_228"></a>2、创建数据文件和日志的 docker 挂载目录 (docker volume)</h5> 
<pre><code class="prism language-bash"><span class="token function">docker</span> volume create mydata
<span class="token function">docker</span> volume create mylogs
</code></pre> 
<h5><a id="3_docker__235"></a>3、运行 docker 容器</h5> 
<pre><code class="prism language-bash"><span class="token function">docker</span> run -p <span class="token number">6667</span>:6667 -v mydata:/iotdb/data -v mylogs:/iotdb/logs -d iotdb:base /iotdb/bin/start-server.sh
</code></pre> 
<p>您可以使用<code>docker ps</code>来检查是否运行成功，当成功时控制台会输出下面的日志：</p> 
<pre><code>CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES
2a68b6944cb5        iotdb:base          "/iotdb/bin/start-se…"   4 minutes ago       Up 5 minutes        0.0.0.0:6667-&gt;6667/tcp              laughing_meitner
</code></pre> 
<p>您可以使用下面的命令来获取 container 的 ID：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> container <span class="token function">ls</span>
</code></pre> 
<p>然后使用下面的命令获取这个 ID 对应的 IP 地址，假设获取的 IP 为 &lt;C_IP&gt;：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> inspect --format<span class="token operator">=</span><span class="token string">'{<!-- -->{.NetworkSettings.IPAddress}}'</span> <span class="token operator">&lt;</span>C_ID<span class="token operator">&gt;</span>
</code></pre> 
<p>现在 IoTDB 服务器已经启动成功了。</p> 
<h5><a id="4_iotdbcli__262"></a>4、使用 iotdb-cli 命令行</h5> 
<p>使用如下命令：</p> 
<pre><code class="prism language-bash"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token operator">&lt;</span>C_ID<span class="token operator">&gt;</span> /bin/bash
<span class="token punctuation">(</span>now you have enter the container<span class="token punctuation">)</span>: /iotdb/sbin/start-cli.sh -h localhost -p <span class="token number">6667</span> -u root -pw root
</code></pre> 
<p>还可以使用本地的 iotdb-cli，执行如下命令：</p> 
<pre><code class="prism language-bash">/%IOTDB_HOME%/sbin/start-cli.sh -h localhost -p <span class="token number">6667</span> -u root -pw root
</code></pre> 
<p>如果想写一些代码来插入或者查询数据，您可以在 pom.xml 文件中加入下面的依赖：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.iotdb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>iotdb-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.14.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="IoTDB__287"></a>IoTDB 试用</h3> 
<p>用户可以根据以下操作对 IoTDB 进行简单的试用，若以下操作均无误，则说明 IoTDB 安装成功。</p> 
<h4><a id="_IoTDB_291"></a>启动 IoTDB</h4> 
<p>用户可以使用 sbin 文件夹下的 start-server 脚本启动 IoTDB。</p> 
<p>Linux 系统与 MacOS 系统启动命令如下：</p> 
<pre><code class="prism language-bash">$ <span class="token function">nohup</span> sbin/start-server.sh <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
or
$ <span class="token function">nohup</span> sbin/start-server.sh -c <span class="token operator">&lt;</span>conf_path<span class="token operator">&gt;</span> -rpc_port <span class="token operator">&lt;</span>rpc_port<span class="token operator">&gt;</span> <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8f/9f/CKXY0Sre_o.png" alt="Linux 系统与 MacOS 系统启动IoTDB命令 挂载启动"></p> 
<blockquote> 
 <p><img src="https://images2.imgbox.com/c0/c8/VkCJjM5n_o.png" alt="kill -9 端口 取消挂载的iotdb服务"></p> 
</blockquote> 
<p>Windows 系统启动命令如下：</p> 
<pre><code class="prism language-bash">$ sbin<span class="token punctuation">\</span>start-server.bat -c <span class="token operator">&lt;</span>conf_path<span class="token operator">&gt;</span> -rpc_port <span class="token operator">&lt;</span>rpc_port<span class="token operator">&gt;</span>
</code></pre> 
<ul><li>“<code>-c</code>” and “<code>-rpc_port</code>” 都是可选的。</li><li>选项 “<code>-c</code>” 指定了配置文件所在的文件夹。</li><li>选项 “<code>-rpc_port</code>” 指定了启动的 <code>rpc port</code>。</li><li>如果两个选项同时指定，那么* rpc_port <em>将会覆盖</em> conf_path *下面的配置。</li></ul> 
<p>或者直接双击sbin文件夹下的start-server.bat启动脚本运行。</p> 
<p><img src="https://images2.imgbox.com/2f/c1/0rDqc2e1_o.png" alt="双击start-server.bat启动iotdb服务"></p> 
<p><img src="https://images2.imgbox.com/d5/e4/ExuNXbtR_o.png" alt="双击start-server.bat启动iotdb服务cmd"></p> 
<h4><a id="_Cli__324"></a>使用 Cli 工具</h4> 
<p>IoTDB 为用户提供多种与服务器交互的方式，在此我们介绍使用 Cli 工具进行写入、查询数据的基本步骤。</p> 
<blockquote> 
 <p>初始安装后的 IoTDB 中有一个默认用户：root，默认密码为 root。</p> 
 <p>用户可以使用该用户运行 Cli 工具操作 IoTDB。</p> 
 <p>Cli 工具启动脚本为 sbin 文件夹下的 start-cli 脚本。启动脚本时需要指定运行 ip、port、username 和 password。</p> 
 <p>若脚本未给定对应参数，则默认参数为"<code>-h 127.0.0.1 -p 6667 -u root -pw -root</code>"</p> 
</blockquote> 
<p>以下启动语句为服务器在本机运行，且用户未更改运行端口号的示例。</p> 
<p>Linux 系统与 MacOS 系统启动命令如下：</p> 
<pre><code class="prism language-BASH">$ sbin/start-cli.sh -h 127.0.0.1 -p 6667 -u root -pw root
</code></pre> 
<p>Windows 系统启动命令如下：</p> 
<pre><code class="prism language-BASH">sbin\start-cli.bat -h 127.0.0.1 -p 6667 -u root -pw root
</code></pre> 
<p>或者直接双击sbin文件夹下的start-cli.bat脚本运行。<br> <img src="https://images2.imgbox.com/65/18/mnQ1lIGZ_o.png" alt="iotdb cli工具启动脚本start-cli.bat，双击即可运行"><br> <img src="https://images2.imgbox.com/43/76/6pFc0D4W_o.png" alt="iotdb cli 启动后出现如图提示即为启动成功"></p> 
<h4><a id="IoTDB_354"></a>基本的IoTDB命令</h4> 
<p>使用Cli工具创建时间序列、插入数据并查看数据的方法：</p> 
<p>数据在 IoTDB 中的组织形式是以时间序列为单位，每一个时间序列中有若干个数据-时间点对，每一个时间序列属于一个存储组。</p> 
<p>在定义时间序列之前，要首先使用 <code>SET STORAGE GROUP</code> 语句定义存储组。</p> 
<p>SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SET</span> STORAGE <span class="token keyword">GROUP</span> <span class="token keyword">TO</span> root<span class="token punctuation">.</span>ln
</code></pre> 
<p>使用 <code>SHOW STORAGE GROUP</code> 语句来查看系统当前所有的存储组。</p> 
<p>SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> STORAGE <span class="token keyword">GROUP</span>
</code></pre> 
<p>执行结果为：<br> <img src="https://images2.imgbox.com/ff/a1/6ikzxqb7_o.png" alt="SHOW STORAGE GROUP 语句查看当前所有的存储组"><br> 存储组设定后，使用 <code>CREATE TIMESERIES</code> 语句可以创建新的时间序列，创建时间序列时需要定义数据的类型和编码方式。此处我们创建两个时间序列，SQL 语句如下：</p> 
<pre><code class="prism language-sql">IoTDB<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span><span class="token keyword">status</span> <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span><span class="token keyword">BOOLEAN</span><span class="token punctuation">,</span> ENCODING<span class="token operator">=</span>PLAIN
Msg: The statement <span class="token operator">is</span> executed successfully<span class="token punctuation">.</span>
IoTDB<span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> TIMESERIES root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span>temperature <span class="token keyword">WITH</span> DATATYPE<span class="token operator">=</span><span class="token keyword">FLOAT</span><span class="token punctuation">,</span> ENCODING<span class="token operator">=</span>RLE
Msg: The statement <span class="token operator">is</span> executed successfully<span class="token punctuation">.</span>
</code></pre> 
<p>为了查看指定的时间序列，我们可以使用 <code>SHOW TIMESERIES &lt;Path&gt;</code>语句，其中<code>&lt;Path&gt;</code>表示时间序列对应的路径，默认值为空，表示查看系统中所有的时间序列。</p> 
<p>使用 <code>SHOW TIMESERIES</code> 语句查看系统中存在的所有时间序列，SQL 语句如下：</p> 
<pre><code class="prism language-SQL">SHOW TIMESERIES
</code></pre> 
<p>执行结果为：<br> <img src="https://images2.imgbox.com/8b/3b/fLhGJsDe_o.png" alt="使用 SHOW TIMESERIES 语句查看系统中存在的所有时间序列"><br> 查看具体的时间序列 <code>root.ln.wf01.wt01.status</code> 的 SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> TIMESERIES root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">.</span><span class="token keyword">status</span>
</code></pre> 
<p>执行结果为：<br> <img src="https://images2.imgbox.com/83/4f/pUPr0H84_o.png" alt="查看具体的时间序列需要指定时间序列"><br> 使用 INSERT 语句向 <code>root.ln.wf01.wt01.status</code> 时间序列中插入数据，在插入数据时需要首先指定时间戳和路径后缀名称：</p> 
<pre><code class="prism language-SQL">INSERT INTO root.ln.wf01.wt01(timestamp,status) values(100,true);
</code></pre> 
<p>也可以向多个时间序列中同时插入数据，这些时间序列同属于一个时间戳：</p> 
<pre><code class="prism language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01<span class="token punctuation">(</span><span class="token keyword">timestamp</span><span class="token punctuation">,</span><span class="token keyword">status</span><span class="token punctuation">,</span>temperature<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token number">20.71</span><span class="token punctuation">)</span>
</code></pre> 
<p>使用 SELECT 语句可以查询指定的时间序列的数据结果，SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">status</span> <span class="token keyword">FROM</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01
</code></pre> 
<p>查询结果：<br> <img src="https://images2.imgbox.com/d6/ce/LLlbyfh9_o.png" alt="使用 SELECT 语句可以查询指定的时间序列的数据结果"><br> 查询多个时间序列的数据结果，SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01
</code></pre> 
<p>查询结果：<br> <img src="https://images2.imgbox.com/5a/4d/iI3Ahrrc_o.png" alt="SELECT 查询多个时间序列的数据结果"><br> 输入 <code>quit</code> 或 <code>exit</code> 可退出 Cli 结束本次会话。</p> 
<pre><code>
也可以向多个时间序列中同时插入数据，这些时间序列同属于一个时间戳：
```sql
INSERT INTO root.ln.wf01.wt01(timestamp,status,temperature) values(200,false,20.71)
</code></pre> 
<p>使用 SELECT 语句可以查询指定的时间序列的数据结果，SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token keyword">status</span> <span class="token keyword">FROM</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01
</code></pre> 
<p>查询结果：<br> <img src="https://images2.imgbox.com/90/87/BlIZaHRs_o.png" alt="[外链图片转存中...(img-SocGOJ5w-1649310380555)]"><br> 查询多个时间序列的数据结果，SQL 语句如下：</p> 
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> root<span class="token punctuation">.</span>ln<span class="token punctuation">.</span>wf01<span class="token punctuation">.</span>wt01
</code></pre> 
<p>查询结果：<br> <img src="https://images2.imgbox.com/f8/5c/nR2ra4i9_o.png" alt="在这里插入图片描述"><br> 输入 <code>quit</code> 或 <code>exit</code> 可退出 Cli 结束本次会话。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f1f4c12ff297e07e212774a22499cf6d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python读写csv常用方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/addce70606ce09835f32da8cab807131/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用docker部署一个简单的streamlit应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>