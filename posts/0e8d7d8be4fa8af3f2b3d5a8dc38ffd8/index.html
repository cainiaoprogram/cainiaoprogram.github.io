<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Kubernetes 入门实战（一） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Kubernetes 入门实战（一）" />
<meta property="og:description" content="Kubernetes 入门实战 Docker下载Docker命令创建自己的镜像文件 - - Dockerfile 目前使用 Docker 基本上有两个选择：Docker Desktop 和 Docker Engine。Desktop目前针对个人是免费的，大企业还是收费的，所以我不会用，也不想用；毕竟，下面一起学的是Engine。
Docker下载 Docker除了在Mac上的M1上兼容不好，其他都可以；我是在debian系统服务器中做的学习整理，大家可以先冲下浪，自我选择下：
首先我们尝试输入命令 docker，会发现
Command &#39;docker&#39; not found... 下载：
sudo apt install -y docker.io #安装Docker Engine 启动docker服务：
sudo service docker start 当前用户加入docker组（因为操作 Docker 必须要有 root 权限，而直接使用 root 用户不够安全，加入 Docker 用户组是一个比较好的选择，这也是 Docker 官方推荐的做法）
sudo usermod -aG docker ${USER} 检测是否安装成功
docker version 或者输入docker info，查看软硬件的信息。
Docker命令 除了上面的两条命令，主要还有以下命令：
刚刚安装好 Docker 环境，这个时候还没有运行任何容器，所以列表显然是空的
我们可以拉取现有的镜像
docker pull busybox 然后，我们可以看到已拉取的镜像
我们可以运行出我们的docker中的第一行代码：
docker run busybox echo hello world 我们下面从新拉取个ubuntu，并执行一些操作：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0e8d7d8be4fa8af3f2b3d5a8dc38ffd8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-26T13:00:24+08:00" />
<meta property="article:modified_time" content="2022-10-26T13:00:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Kubernetes 入门实战（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Kubernetes 入门实战</h4> 
 <ul><li><a href="#Docker_3" rel="nofollow">Docker下载</a></li><li><a href="#Docker_33" rel="nofollow">Docker命令</a></li><li><a href="#___Dockerfile_78" rel="nofollow">创建自己的镜像文件 - - Dockerfile</a></li></ul> 
</div> 
<p></p> 
<p>目前使用 Docker 基本上有两个选择：Docker Desktop 和 Docker Engine。Desktop目前针对个人是免费的，大企业还是收费的，所以我不会用，也不想用；毕竟，下面一起学的是Engine。</p> 
<h2><a id="Docker_3"></a>Docker下载</h2> 
<p>Docker除了在Mac上的M1上兼容不好，其他都可以；我是在debian系统服务器中做的学习整理，大家可以先冲下浪，自我选择下：<br> 首先我们尝试输入命令 docker，会发现</p> 
<pre><code>Command 'docker' not found...
</code></pre> 
<p>下载：</p> 
<pre><code>sudo apt install -y docker.io #安装Docker Engine
</code></pre> 
<p>启动docker服务：</p> 
<pre><code>sudo service docker start      
</code></pre> 
<p>当前用户加入docker组（因为操作 Docker 必须要有 root 权限，而直接使用 root 用户不够安全，加入 Docker 用户组是一个比较好的选择，这也是 Docker 官方推荐的做法）</p> 
<pre><code>sudo usermod -aG docker ${USER}  
</code></pre> 
<p>检测是否安装成功</p> 
<pre><code>docker version
</code></pre> 
<p><img src="https://images2.imgbox.com/80/66/vy68PNzU_o.png" alt="在这里插入图片描述"><br> 或者输入<strong>docker info</strong>，查看软硬件的信息。</p> 
<h2><a id="Docker_33"></a>Docker命令</h2> 
<p>除了上面的两条命令，主要还有以下命令：<br> 刚刚安装好 Docker 环境，这个时候还没有运行任何容器，所以列表显然是空的<br> <img src="https://images2.imgbox.com/f9/69/TsAfFr7T_o.png" alt=""></p> 
<p>我们可以拉取现有的镜像</p> 
<pre><code>docker pull busybox      
</code></pre> 
<p>然后，我们可以看到已拉取的镜像<br> <img src="https://images2.imgbox.com/39/8e/PJGPrZqv_o.png" alt="在这里插入图片描述"><br> 我们可以运行出我们的docker中的第一行代码：</p> 
<pre><code>docker run busybox echo hello world
</code></pre> 
<p><img src="https://images2.imgbox.com/90/1b/Y6yDeUMG_o.png" alt="在这里插入图片描述"><br> 我们下面从新拉取个ubuntu，并执行一些操作：</p> 
<pre><code>
docker pull ubuntu:18.04
docker run -it ubuntu:18.04 sh

# 下面的命令都是在容器内执行
cat /etc/os-release
apt update
apt install -y wget redis
redis-server &amp;
</code></pre> 
<p>在这里多加了一个 -it 参数，这样就会暂时离开当前的 操作系统，进入容器内部（进入了一个全新，啥也没有的ubuntu新系统）；sh为Shell；退出的话，直接输入exit，按enter就可以了<br> <img src="https://images2.imgbox.com/0f/22/X1sd5Vmz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/38/8c/9fklxGjb_o.png" alt="在这里插入图片描述"></p> 
<p>ps只会展示正在运行的镜像，而ps -a 能显示停止过的镜像<br> <img src="https://images2.imgbox.com/02/99/XF23xFah_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f5/ae/9foG2gIN_o.png" alt="在这里插入图片描述"></p> 
<pre><code>docker rm ed d6 45  #只删除容器不删除镜像
</code></pre> 
<h2><a id="___Dockerfile_78"></a>创建自己的镜像文件 - - Dockerfile</h2> 
<p>Dockerfile 它就是一个纯文本，里面记录了一系列的构建指令，比如选择基础镜像、拷贝文件、运行脚本等等，而 Docker 顺序执行这个文件里的所有步骤，最后就会创建出一个新的镜像出来。</p> 
<pre><code>
docker build -f Dockerfile.busybox .      

Sending build context to Docker daemon   7.68kB
Step 1/2 : FROM busybox                            #FROM，所有的 Dockerfile 都要从它开始
 ---&gt; d38589532d97
Step 2/2 : CMD echo "hello world"               #CMD，它指定 docker run 启动容器时默认运行的命令
 ---&gt; Running in c5a762edd1c8
Removing intermediate container c5a762edd1c8
 ---&gt; b61882f42db7
Successfully built b61882f42db7
</code></pre> 
<p>-f 参数指定 Dockerfile 文件名，后面必须跟一个文件路径，叫做“构建上下文”（build’s context），这里只是一个简单的点号，表示当前路径的意思。接下来，Docker 会逐行地读取并执行 Dockerfile 里的指令，依次创建镜像层，再生成完整的镜像。新的镜像暂时还没有名字（用 docker images ），但我们可以直接使用“IMAGE ID”来查看或者运行：</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6ad523dd43c5f951e2a01bd6b0bb5f84/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">kotlin中常用的高阶函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6629be45bfde4b2a99c5a08a21f4e108/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">EVE-NG模拟器安装教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>