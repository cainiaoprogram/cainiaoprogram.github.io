<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>视频码率,帧率和分辨率的联系与区别 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="视频码率,帧率和分辨率的联系与区别" />
<meta property="og:description" content="视频码率,帧率和分辨率到底哪一个影响电影的清晰度
码率：影响体积，与体积成正比：码率越大，体积越大；码率越小，体积越小。
码率就是数据传输时单位时间传送的数据位数,一般我们用的单位是kbps即千位每秒。也就是取样率（并不等同与采样率，采样率的单位是Hz，表示每秒采样的次数），单位时间内取样率越大，精度就越高，处理出来的文件就越接近原始文件，但是文件体积与取样率是成正比的，所以几乎所有的编码格式重视的都是如何用最低的码率达到最少的失真，围绕这个核心衍生出来cbr（固定码率）与vbr（可变码率）， “码率”就是失真度，码率越高越清晰，反之则画面粗糙而多马赛克。
下面是通过一个wav文件的采样率来计算码率和文件大小，通过MediaInfo工具显示的文件信息如下：
概要
完整名称 :audio\wav\adele-rolling_in_the_deep.wav
文件格式 : Wave
文件大小 : 38.3 MiB
长度 : 3分 47秒
平均混合码率 : 1 411 Kbps
音频
ID : 0
文件格式 : PCM
格式设置,Endianness : Little
编码设置ID : 1
编码设置ID/提示信息 : Microsoft
长度 : 3分 47秒
码率 : 1 411.2 Kbps
声道 : 2声道
采样率 : 44.1 KHz
位深度 : 16位
大小 : 38.3 MiB (100%)
1.码率计算公式：
码率=采样率 x 位深度 x 声道" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/607473a0cf89f5b51b2318c9301959c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-03-01T09:23:50+08:00" />
<meta property="article:modified_time" content="2012-03-01T09:23:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">视频码率,帧率和分辨率的联系与区别</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>视频码率,帧率和分辨率到底哪一个影响电影的清晰度</p> 
<p> </p> 
<p>码率：影响体积，与体积成正比：码率越大，体积越大；码率越小，体积越小。</p> 
<p>码率就是数据传输时单位时间传送的数据位数,一般我们用的单位是kbps即千位每秒。也就是取样率（并不等同与采样率，采样率的单位是Hz，表示每秒采样的次数），单位时间内取样率越大，精度就越高，处理出来的文件就越接近原始文件，但是文件体积与取样率是成正比的，所以几乎所有的编码格式重视的都是如何用最低的码率达到最少的失真，围绕这个核心衍生出来cbr（固定码率）与vbr（可变码率）， “码率”就是失真度，码率越高越清晰，反之则画面粗糙而多马赛克。</p> 
<p> </p> 
<p>下面是通过一个wav文件的采样率来计算码率和文件大小，通过MediaInfo工具显示的文件信息如下：</p> 
<p>概要</p> 
<p>完整名称                             :audio\wav\adele-rolling_in_the_deep.wav</p> 
<p>文件格式                             : Wave</p> 
<p>文件大小                             : 38.3 MiB</p> 
<p>长度                                    : 3分 47秒</p> 
<p>平均混合码率                     : 1 411 Kbps</p> 
<p> </p> 
<p>音频</p> 
<p>ID                                         : 0</p> 
<p>文件格式                             : PCM</p> 
<p>格式设置,Endianness      : Little</p> 
<p>编码设置ID                          : 1</p> 
<p>编码设置ID/提示信息         : Microsoft</p> 
<p>长度                                      : 3分 47秒</p> 
<p>码率                                      : 1 411.2 Kbps</p> 
<p>声道                                     : 2声道</p> 
<p>采样率                                 : 44.1 KHz</p> 
<p>位深度                                 : 16位</p> 
<p>大小                                     : 38.3 MiB (100%)</p> 
<p> </p> 
<p><strong>1.码率计算公式：</strong></p> 
<p><strong>码率=采样率 x 位深度 x 声道</strong></p> 
<p>44.1Khz 就是代表 1 秒会采样 44100 次</p> 
<p>所以，上面文件的码率 = 44100次 x 16位 x 2声道 =  1411200 bps</p> 
<p>1411200 bps / (1024b/k) = 1378.125 kbps</p> 
<p> </p> 
<p><strong>2.文件大小 = 码率 x 时长</strong> = 1378.125 Kbps x (3 x 60 + 47 )s = 1378.125 Kbps x 227 s</p> 
<p> = 312834.375 Kb</p> 
<p>312834.375 Kb / 8 bits/Byte= 39104.297 KB</p> 
<p>39104.297 KB/ 1024 KB/M = 38.188MB</p> 
<p>近似等于mediainfo工具显示的文件大小38.3M。从mediainfo中显示的“平均混合码率                     : 1 411 Kbps”可以看出，<span style="color:#f33b45;">mediainfo里的44.1K并不是按照44100来计算的，就真的当成了44.1K了。</span></p> 
<p><span style="color:#ff0000;">注：此计算公式对未压缩的wav格式（PCM数据）文件有效，不适用于mp3等被压缩的文件。</span></p> 
<p> </p> 
<p>帧率：影响画面流畅度，与画面流畅度成正比：帧率越大，画面越流畅；帧率越小，画面越有跳动感。如果码率为变量，则帧率也会影响体积，帧率越高，每秒钟经过的画面越多，需要的码率也越高，体积也越大。</p> 
<p>帧率就是在1秒钟时间里传输的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次，</p> 
<p> </p> 
<p>分辨率：影响图像大小，与图像大小成正比：分辨率越高，图像越大；分辨率越低，图像越小。</p> 
<p> </p> 
<p>清晰度</p> 
<p>在码率一定的情况下，分辨率与清晰度成反比关系：分辨率越高，图像越不清晰，分辨率越低，图像越清晰。<br> 在分辨率一定的情况下，码率与清晰度成正比关系，码率越高，图像越清晰；码率越低，图像越不清晰。</p> 
<p> </p> 
<p>带宽、帧率</p> 
<p>例如在ADSL线路上传输图像，上行带宽只有512Kbps，但要传输4路CIF分辨率的图像。按照常规，CIF分辨率建议码率是512Kbps，那么照此计算就只能传一路，降低码率势必会影响图像质量。那么为了确保图像质量，就必须降低帧率，这样一来，即便降低码率也不会影响图像质量，但在图像的连贯性上会有影响。</p> 
<p> </p> 
<p> </p> 
<h4>avi帧率 dwScale,dwRate</h4> 
<p>转自：<a href="http://yixiangongzhu.blog.163.com/blog/static/19736320320111123111753465/" rel="nofollow">http://yixiangongzhu.blog.163.com/blog/static/19736320320111123111753465/</a></p> 
<p> </p> 
<p>msdn上说dwRate/dwScale才是播放速率。  <br>   视频中每秒播放的帧数可能不是整数，比如可能是29.97等，  <br>   注意到在AVISTREAMINFO结构中，所以属性都是整型变量表示的，所以小数只能  <br>   用两个整数相除得到，这样就需要用两个整数（dwRate和dwScale）来得到播放速率。  <br>   比如速率是29.97，那么可以用dwRate=2997,dwScale=100得到  <br>   如果速率是29.9，那么可以用dwRate=299,dwScale=10得到<br>  </p> 
<div id="sina_keyword_ad_area2"> 
 <p>在avi文件中包含有AviMainHeader,AviStreamHeader等头部信息，其中有以下几个字段：Start、Length、Scale、Rate，有资料中介绍：</p> 
 <p><strong><u>In AviMainHeader：</u></strong></p> 
 <p>The <strong>dwStart</strong> and <strong>dwLength</strong> fields specify the starting time of the AVI file and the length of the file. The units are defined by<strong>dwRate</strong> and <strong>dwScale</strong>. The <strong>dwStart</strong> field is usually set to zero.</p> 
 <p>The <strong>dwScale</strong> and <strong>dwRate</strong> fields are used to specify the general time scale that the file will use. In addition to this time scale, each stream can have its own time scale. The time scale in samples per second is determined by dividing <strong>dwRate</strong> by <strong>dwScale</strong>.</p> 
 <p><strong><u>In AviStreamHeader：</u></strong></p> 
 <p><strong>dwScale</strong> is used together with <strong>dwRate</strong> to specify the time scale that this stream will use.</p> 
 <p>Dividing <strong>dwRate</strong> by <strong>dwScale</strong> gives the number of samples per second.</p> 
 <p>For video streams, this rate should be the frame rate.</p> 
 <p>For audio streams, this rate should correspond to the time needed for<strong>nBlockAlign</strong> bytes of audio, which for PCM audio simply reduces to the sample rate.</p> 
 <p> </p> 
 <p>为了理解，我们拿一个实际的avi文件来分析一下：</p> 
 <p>1.Video AviStreamHeader：Length=4500、Scale=1、Rate=25，因此此文件视频帧率为25/1=25，可得：视频时长：4500/25=180秒。这几个数字容易理解。</p> 
 <p>2.Audio AviStreamHeader：Length=2812、Scale=16000、Rate=2，初看一头雾水，反复读资料、仔细分析才明白：对于PCM audio，nBlockAlign与dwSampleSize相等，为2，及每个音频采样为两个字节，每个音频帧的大小为1024B，而dwRate/dwScale即为采样率：16000/2=8000，因此，音频时长：</p> 
 <p>(2812 * 1024 / 2) / (16000 / 2) = 179.968秒。</p> 
 <p> </p> 
</div> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/849447c082f50cac8e56f8d6c08ffed1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JSON(二)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/01a76a43070aaf649e246f181400f64c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">c&#43;&#43;位运算符 | &amp;  ^  ~ &amp;&amp; ||,补码，反码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>