<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Java】设计模式之单例模式与工厂模式 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Java】设计模式之单例模式与工厂模式" />
<meta property="og:description" content="✅作者简介：热爱后端语言的大学生，CSDN内容合伙人
✨精品专栏：C&#43;&#43;面向对象
🔥系列专栏：JavaSE精品总结
文章目录 前言1、设计模式概念及分类2、单例模式2.1、饿汉式2.2、懒汉式2.2.1、懒汉式进阶版2.2.2、懒汉式之懒加载 3、工厂模式3.1、书写实体类3.2、新建配置文件.properties3.3、书写工厂类并创建对象3.4、对工厂类测试 前言 国庆节快乐！今天家里的风很凉爽，就好像在为国庆而欢呼！与此同时我决定把Java的设计模式总结一番，为以后能够书写清晰的项目结构打下基础。
1、设计模式概念及分类 简单来说设计模式是被广大程序员们总结并认可的编码套路，其中最常用的莫过于单例模式与工厂模式，而单例模式也有更加细的分类，一起来学习一下这些模式的用法和特点吧。
2、单例模式 一个类只能被实例化出来一个对象 2.1、饿汉式 无论如何，都会创建出来一个对象思路：
在类中直接实例化一个用来返回的对象，再为外界提供一个获取该对象的方法缺点：有可能造成空间浪费 代码解释：
/** * 单例模式-饿汉式 */ public class ClassA { //唯一的、全局的、私有的、用来返回的对象实例 private static ClassA ca=new ClassA(); //方法：用来被外界调用，从而获取该类的唯一实例 //static：为了使外界直接通过类名调用该方法 public static ClassA getClassA(){ return ca; } //私有化构造：避免外界通过构造创建该类的对象 private ClassA(){} } public class Test { public static void main(String[] args) { ClassA ca1=ClassA.getClassA(); ClassA ca2=ClassA.getClassA(); System.out.println(ca1==ca2);//true } } 相当于类加载，ca1和ca2都是类对象，为同一个对象，要与类的对象有所区分。
2.2、懒汉式 思路：只有当需要创建唯一实例时，才会在对应方法中进行实例化 使用synchronized来同步方法 缺点：同步方法效率太慢，线程效率低 代码解释：
/** * 单例模式-懒汉式 */ public class ClassB { //声明用来返回的对象引用 private static ClassB cb=null; //synchronized:避免线程安全问题 public synchronized static ClassB getClassB(){ if (cb==null){//非空判断，避免重复创建 cb=new ClassB(); } return cb; } //私有化构造 private ClassB(){} } 这里利用了synchronized来防止重复创建实例化对象：如果事先没有创建，那就新创建，不会浪费空间。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/64ab27ec47fbb0252bd9973164b527a5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-01T11:55:00+08:00" />
<meta property="article:modified_time" content="2022-10-01T11:55:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Java】设计模式之单例模式与工厂模式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><strong>✅作者简介：热爱后端语言的大学生，CSDN内容合伙人</strong><br> <strong>✨精品专栏：<a href="https://blog.csdn.net/m0_58618795/category_11803944.html?spm=1001.2014.3001.5482">C++面向对象</a></strong><br> <strong>🔥系列专栏：<a href="https://blog.csdn.net/m0_58618795/category_11921771.html?spm=1001.2014.3001.5482">JavaSE精品总结</a></strong></p> 
</blockquote> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#emspemsp_9" rel="nofollow">  前言</a></li><li><a href="#1_13" rel="nofollow">1、设计模式概念及分类</a></li><li><a href="#2_15" rel="nofollow">2、单例模式</a></li><li><ul><li><a href="#21_18" rel="nofollow">2.1、饿汉式</a></li><li><a href="#22_54" rel="nofollow">2.2、懒汉式</a></li><li><ul><li><a href="#221_82" rel="nofollow">2.2.1、懒汉式进阶版</a></li><li><a href="#222_113" rel="nofollow">2.2.2、懒汉式之懒加载</a></li></ul> 
  </li></ul> 
  </li><li><a href="#3_146" rel="nofollow">3、工厂模式</a></li><li><ul><li><a href="#31_159" rel="nofollow">3.1、书写实体类</a></li><li><a href="#32properties_188" rel="nofollow">3.2、新建配置文件.properties</a></li><li><a href="#33_200" rel="nofollow">3.3、书写工厂类并创建对象</a></li><li><a href="#34_241" rel="nofollow">3.4、对工厂类测试</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="emspemsp_9"></a>  前言</h2> 
<blockquote> 
 <p>国庆节快乐！今天家里的风很凉爽，就好像在为国庆而欢呼！与此同时我决定把Java的设计模式总结一番，为以后能够书写清晰的项目结构打下基础。</p> 
</blockquote> 
<hr> 
<h2><a id="1_13"></a>1、设计模式概念及分类</h2> 
<p>简单来说设计模式是被广大程序员们总结并认可的编码套路，其中最常用的莫过于<strong>单例模式</strong>与<strong>工厂模式</strong>，而单例模式也有更加细的分类，一起来学习一下这些模式的用法和特点吧。</p> 
<h2><a id="2_15"></a>2、单例模式</h2> 
<ul><li><strong>一个类只能被实例化出来一个对象</strong></li></ul> 
<h3><a id="21_18"></a>2.1、饿汉式</h3> 
<ul><li>无论如何，都会创建出来一个对象</li><li><strong>思路：</strong><br> <strong>在类中直接实例化一个用来返回的对象，再为外界提供一个获取该对象的方法</strong></li><li>缺点：有可能造成空间浪费</li></ul> 
<p><em>代码解释：</em></p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 单例模式-饿汉式
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassA</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//唯一的、全局的、私有的、用来返回的对象实例</span>
   <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ClassA</span> ca<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//方法：用来被外界调用，从而获取该类的唯一实例</span>
    <span class="token comment">//static：为了使外界直接通过类名调用该方法</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ClassA</span> <span class="token function">getClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> ca<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

   <span class="token comment">//私有化构造：避免外界通过构造创建该类的对象</span>
   <span class="token keyword">private</span> <span class="token class-name">ClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ClassA</span> ca1<span class="token operator">=</span><span class="token class-name">ClassA</span><span class="token punctuation">.</span><span class="token function">getClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ClassA</span> ca2<span class="token operator">=</span><span class="token class-name">ClassA</span><span class="token punctuation">.</span><span class="token function">getClassA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ca1<span class="token operator">==</span>ca2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>相当于类加载，<code>ca1</code>和<code>ca2</code>都是类对象，为同一个对象，要与类的对象有所区分。</p> 
</blockquote> 
<h3><a id="22_54"></a>2.2、懒汉式</h3> 
<ul><li><strong>思路：只有当需要创建唯一实例时，才会在对应方法中进行实例化</strong> 
  <ul><li><strong>使用synchronized来同步方法</strong></li></ul> </li><li><strong>缺点：同步方法效率太慢，线程效率低</strong></li></ul> 
<p><em>代码解释：</em></p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 单例模式-懒汉式
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassB</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//声明用来返回的对象引用</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ClassB</span> cb<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">//synchronized:避免线程安全问题</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">static</span> <span class="token class-name">ClassB</span> <span class="token function">getClassB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//非空判断，避免重复创建</span>
            cb<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ClassB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> cb<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//私有化构造</span>
    <span class="token keyword">private</span> <span class="token class-name">ClassB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>这里利用了<code>synchronized</code>来防止重复创建实例化对象：如果事先没有创建，那就新创建，不会浪费空间。</p> 
</blockquote> 
<h4><a id="221_82"></a>2.2.1、懒汉式进阶版</h4> 
<ul><li><strong>思路：在保证线程安全的基础上，最大程度提高线程效率</strong></li><li><strong>使用synchronized来同步代码块</strong></li></ul> 
<p><em>代码演示：</em></p> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 单例模式-懒汉式进阶版
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassB2</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//声明用来返回的对象引用</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ClassB2</span> cb<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">//synchronized:避免线程安全问题</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ClassB2</span> <span class="token function">getClassB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//非空判断，避免重复创建</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">ClassB2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cb<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//二次校验，如果出现了线程安全问题，最大程度保证数据安全</span>
                    cb<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ClassB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> cb<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//私有化构造</span>
    <span class="token keyword">private</span> <span class="token class-name">ClassB2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>同步代码块会使程序运行效率提升，因为此时只需<strong>时间片</strong>就可以执行此线程。</p> 
</blockquote> 
<h4><a id="222_113"></a>2.2.2、懒汉式之懒加载</h4> 
<ul><li><strong>思路：在懒汉式的基础上，将获取自己类实例的任务交给静态内部类完成</strong></li></ul> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassC</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//声明用来返回的对象引用</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ClassC</span> cc<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">//静态内部类：获取ClassC的唯一实例</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ClassC2</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">//synchronized:避免线程安全问题</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ClassC</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cc<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//非空判断，避免重复创建</span>
                <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">ClassC</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>cc<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//二次校验，如果出现了线程安全问题，最大程度保证数据安全</span>
                        cc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ClassC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> cc<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ClassC</span> <span class="token function">getClassC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span>  <span class="token class-name">ClassC2</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//私有化构造</span>
    <span class="token keyword">private</span> <span class="token class-name">ClassC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>这种方式效果跟懒汉式的进阶类似，只不过是将加载交给了<strong>静态内部类</strong>，效率更高。</p> 
</blockquote> 
<h2><a id="3_146"></a>3、工厂模式</h2> 
<p><em>特点：</em></p> 
<ul><li>常用于框架</li><li>自身不再直接创建对象，交给 “工厂” 完成，需要对象时直接调用工厂的指定方法获取</li></ul> 
<p><em>步骤：</em></p> 
<ol><li>书写实体类，用来构建对象</li><li>书写<code>.properties</code>配置文件，存放工厂使用反射时需要的类信息</li><li>书写工厂类，创建对象</li><li>书写测试类</li></ol> 
<p><em><strong>用一个实例演示：</strong></em></p> 
<h3><a id="31_159"></a>3.1、书写实体类</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> score<span class="token punctuation">;</span>
    
    <span class="token comment">//此处省略getter与setter方法</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">double</span> score<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"Student{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token string">", age="</span> <span class="token operator">+</span> age <span class="token operator">+</span>
                <span class="token string">", score="</span> <span class="token operator">+</span> score <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="32properties_188"></a>3.2、新建配置文件.properties</h3> 
<ol><li>右键项目名创建一个后缀名为<code>.properties</code>的配置文件</li><li>文件内容： 
  <ul><li>键（自定义）=值（类的全限定名）</li><li>例如：<code>StudentClassName=com.bz.entity.Student</code></li></ul> </li><li>结构特点： 
  <ol><li>键不可重复</li><li>等号左右无双引号</li><li>整条语句不要存在多余空格</li><li>末尾无分号</li><li>一行只能有一个键值对</li></ol> </li></ol> 
<h3><a id="33_200"></a>3.3、书写工厂类并创建对象</h3> 
<pre><code class="prism language-java"><span class="token comment">/**
 * 工厂类
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//书写获取Student实例的方法</span>
    <span class="token comment">//static：方便直接通过类名调用</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Student</span> <span class="token function">getStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Student</span> stu<span class="token operator">=</span><span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">(</span>
                <span class="token comment">//创建字节输入流对象</span>
                <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"Factory.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//添加缓冲流</span>
                <span class="token class-name">BufferedInputStream</span> bis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedInputStream</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//创建用来接收配置文件信息的Properties集合</span>
            <span class="token class-name">Properties</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//通过load方法将配置文件读取值集合中</span>
            p<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>bis<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//获取全限定名</span>
            <span class="token class-name">String</span> str<span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"StudentClassName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//获取类对象</span>
            <span class="token class-name">Class</span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//利用无参构造构建类的对象</span>
            stu<span class="token operator">=</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"文件路径不正确"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"读取失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"未知异常！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> stu<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="34_241"></a>3.4、对工厂类测试</h3> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestMyFactory</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//利用工厂获取学生对象</span>
        <span class="token class-name">Student</span> stu <span class="token operator">=</span> <span class="token class-name">MyFactory</span><span class="token punctuation">.</span><span class="token function">getStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stu<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stu<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        stu<span class="token punctuation">.</span><span class="token function">setScore</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<hr> 
<p><code>到这里有关设计模式单例模式与工厂模式就分享结束了，最后祝大家国庆节high起来，心情愉快！</code></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d6bf1c7c9b72c592d406a91cfd98a235/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mac 如何使用外部存储设备，移动硬盘备份 iPhone 数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c4690d742ba375f3f435dab35a94722f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#面向对象程序设计课程实验二： 实验名称：Windows 窗体程序</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>