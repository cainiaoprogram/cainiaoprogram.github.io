<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于LQR的一阶倒立摆控制仿真 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于LQR的一阶倒立摆控制仿真" />
<meta property="og:description" content="(1)LQR简介 LQR(linear quadratic regulator)即线性二次型调节器，其对象是现代理论中以状态空间形式给出的线性系统。LQR最优设计是指设计出的状态反馈控制器 K要使二次型目标函数J 取最小值,而 K由权矩阵Q 与 R 唯一决定,故此 Q、 R 的选择尤为重要。
(2)LQR的特点 LQR理论是现代控制理论中发展最早也最为成熟的一种状态空间设计法。特别可贵的是 ,LQR可得到状态线性反馈的最优控制规律 ,易于构成闭环最优控制。而且 Matlab 的应用为LQR 理论仿真提供了条件 ,更为我们实现稳、准、快的控制目标提供了方便。
(3)LQR针对的问题 LQ问题的几种特殊情况
1、状态调节器问题：用不大的控制能量，使系统状态X(t)保持在零值附近
2、输出调节器问题：用不大的控制能量，使系统输出Y(t)保持在零值附近
3、跟踪问题：用不大的控制量，使系统输出Y(t)紧紧跟随Yr(t)的变化
(4)LQR应用原理 线性二次型是指系统的状态方程是线性的，指标函数是状态变量和控制变量的二次型。考虑线性系统的状态方程为：
找一状态反馈控制律：
使得二次型性能指标最小化：
其中，x(t)为系统的状态变量；t0,tf 为起始时间与终止时间；S为终态约束矩阵；Q(t)为运动约束矩阵；R(t)为约束控制矩阵。其中Q(t)、R(t)决定了系统误差与控制能量消耗之间的相对重要性。为使J最小，由最小值原理得到最优控制为：
则
式中，矩阵P(t)为微分Riccatti方程的解对于最优反馈系数矩阵，使用Matlab中专门的求解工具lqr()来求取。 [K,P]=lqr(A,B,Q,R).
以下是以一阶倒立摆为研究对象，使用LQR算法实现倒立摆的稳定。
步骤一：将倒立摆系统表达为状态间的形式，详细的推导可参考其他资料。
步骤二：利用matlab的lqr函数求解K。
步骤三：将输入u(t)=-K*x(t)带入系统中。
（下方第一幅图为输入力的大小，断点为添加的干扰，第二幅图的为位置x的变化，第三幅图为摆杆与垂直方向的夹角随时间的变化，初始倒立摆的角度为10°）
仿真源码" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/630fd614edd5901a5b12b1c4932e50e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-14T14:41:50+08:00" />
<meta property="article:modified_time" content="2019-08-14T14:41:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于LQR的一阶倒立摆控制仿真</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1LQR_0"></a>(1)LQR简介</h2> 
<p>LQR(linear quadratic regulator)即线性二次型调节器，其对象是现代理论中以状态空间形式给出的线性系统。LQR最优设计是指设计出的状态反馈控制器 K要使二次型目标函数J 取最小值,而 K由权矩阵Q 与 R 唯一决定,故此 Q、 R 的选择尤为重要。</p> 
<h2><a id="2LQR_2"></a>(2)LQR的特点</h2> 
<p>LQR理论是现代控制理论中发展最早也最为成熟的一种状态空间设计法。特别可贵的是 ,LQR可得到状态线性反馈的最优控制规律 ,易于构成闭环最优控制。而且 Matlab 的应用为LQR 理论仿真提供了条件 ,更为我们实现稳、准、快的控制目标提供了方便。</p> 
<h2><a id="3LQR_4"></a>(3)LQR针对的问题</h2> 
<p>LQ问题的几种特殊情况<br> 1、状态调节器问题：用不大的控制能量，使系统状态X(t)保持在零值附近<br> 2、输出调节器问题：用不大的控制能量，使系统输出Y(t)保持在零值附近<br> 3、跟踪问题：用不大的控制量，使系统输出Y(t)紧紧跟随Yr(t)的变化</p> 
<h2><a id="4LQR_9"></a>(4)LQR应用原理</h2> 
<p>线性二次型是指系统的状态方程是线性的，指标函数是状态变量和控制变量的二次型。考虑线性系统的状态方程为：<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/e8/ff/voNpuMAI_o.png"><br> 找一状态反馈控制律：<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/c3/7b/zf8jM6CU_o.png"><br> 使得二次型性能指标最小化：<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/0d/48/s2Ieg4tP_o.png"><br> 其中，x(t)为系统的状态变量；t0,tf 为起始时间与终止时间；S为终态约束矩阵；Q(t)为运动约束矩阵；R(t)为约束控制矩阵。其中Q(t)、R(t)决定了系统误差与控制能量消耗之间的相对重要性。为使J最小，由最小值原理得到最优控制为：<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/5e/37/jG6owXSM_o.png"><br> 则<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/7e/1a/14TUdmR5_o.png"><br> 式中，矩阵P(t)为微分Riccatti方程的解<img alt="在这里插入图片描述" src="https://images2.imgbox.com/4a/33/8ZzHnUo8_o.png">对于最优反馈系数矩阵，使用Matlab中专门的求解工具lqr()来求取。 [K,P]=lqr(A,B,Q,R).<br> 以下是以一阶倒立摆为研究对象，使用LQR算法实现倒立摆的稳定。<br> 步骤一：将倒立摆系统表达为状态间的形式，详细的推导可参考其他资料。<br> 步骤二：利用matlab的lqr函数求解K。<br> 步骤三：将输入u(t)=-K*x(t)带入系统中。<br> <img alt="在这里插入图片描述" src="https://images2.imgbox.com/01/97/C9Pu79PM_o.png"><br> （下方第一幅图为输入力的大小，断点为添加的干扰，第二幅图的为位置x的变化，第三幅图为摆杆与垂直方向的夹角随时间的变化，初始倒立摆的角度为10°）<br> <a href="https://download.csdn.net/download/weixin_38291293/11545618">仿真源码</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/134d71f6ee9188083be559174ca7594d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何遍历newtonsoft.json的JObject里的JSON数据</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1dafe2615374fe653a8531e5b966537c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux下编写C&#43;&#43;服务器(HTTP服务器)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>