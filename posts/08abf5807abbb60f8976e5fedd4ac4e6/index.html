<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux CentOS7 安装Docker - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux CentOS7 安装Docker" />
<meta property="og:description" content="CentOS7安装Docker： Docker简介 Docker是一个开源的容器化平台，可帮助开发者轻松地创建、部署和运行应用程序。Docker使开发人员能够在一个独立的容器中打包应用程序及其依赖项，这样他们就可以轻松地将应用程序移植到任何其他环境中。Docker中每个容器都可以看成是一个独立的Linux极简操作系统，容器之间相互独立，互不干扰。
使用Docker的主要优势 1、便于部署：由于Docker容器可以在任何支持Docker的平台上运行，因此应用程序可以轻松地在不同的环境中部署和运行。
2、隔离性：Docker容器提供了隔离的运行环境，使得应用程序可以在独立的环境中运行，从而避免了依赖冲突和其他问题。
3、可移植性：Docker容器可以轻松地从一个平台移植到另一个平台，从而使应用程序在不同的平台上运行变得更加容易。
4、安全性：Docker容器提供了安全性隔离，使得应用程序和它的依赖项可以在受保护的环境中运行，从而减少了潜在的安全风险。
一、安装前必读 在安装 Docker 之前，先说一下配置，我这里是Centos7 Linux 内核：官方建议 3.10 以上，3.8以上貌似也可。
注意：本文的命令使用的是 root 用户登录执行，不是 root 的话所有命令前面要加 sudo
例如：sudo yum -y update
1.查看当前的内核版本
命令：uname -r
2.使用 root 权限更新 yum 包（生产环境中此步操作需慎重，看自己情况，学习的话随便搞）
执行：yum -y update 命令后 得重启下云服务器，很有可能启动不起来。
报错iptables提示unable to initialize table ‘filter’ 解决办法：可以尝试重启服务器，正常启动了
这两个命令可以根据自己的情况来执行（不是必须执行的，如果出现不兼容的情况就必须update）
命令：yum -y update #升级所有包同时也升级软件和系统内核
命令：yum -y upgrade #只升级所有包，不升级软件和系统内核
3.卸载旧版本（如果之前安装过的话）
命令：yum remove docker docker-common docker-selinux docker-engine
二、安装Docker的详细步骤 1.安装需要的软件包， yum-util 提供yum-config-manager功能，另两个是devicemapper驱动依赖
命令：yum install -y yum-utils device-mapper-persistent-data lvm2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/08abf5807abbb60f8976e5fedd4ac4e6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-06T17:36:25+08:00" />
<meta property="article:modified_time" content="2023-12-06T17:36:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux CentOS7 安装Docker</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>CentOS7安装Docker：</h2> 
<h3>Docker简介</h3> 
<p>Docker是一个开源的容器化平台，可帮助开发者轻松地创建、部署和运行应用程序。Docker使开发人员能够在一个独立的容器中打包应用程序及其依赖项，这样他们就可以轻松地将应用程序移植到任何其他环境中。<span style="color:#be191c;">Docker中每个容器都可以看成是一个独立的Linux极简操作系统，容器之间相互独立，互不干扰。</span></p> 
<h3>使用Docker的主要优势</h3> 
<p>1、便于部署：由于Docker容器可以在任何支持Docker的平台上运行，因此应用程序可以轻松地在不同的环境中部署和运行。</p> 
<p>2、隔离性：Docker容器提供了隔离的运行环境，使得应用程序可以在独立的环境中运行，从而避免了依赖冲突和其他问题。</p> 
<p>3、可移植性：Docker容器可以轻松地从一个平台移植到另一个平台，从而使应用程序在不同的平台上运行变得更加容易。</p> 
<p>4、安全性：Docker容器提供了安全性隔离，使得应用程序和它的依赖项可以在受保护的环境中运行，从而减少了潜在的安全风险。<br>  </p> 
<h3 id="6qf6n">一、安装前必读</h3> 
<p>在安装 <a href="https://cloud.tencent.com/product/tke?from_column=20065&amp;from=20065" rel="nofollow" title="Docker">Docker</a> 之前，先说一下配置，我这里是Centos7 Linux 内核：官方建议 3.10 以上，3.8以上貌似也可。</p> 
<p>注意：本文的命令使用的是 root 用户登录执行，不是 root 的话所有命令前面要加 <strong><code>sudo</code></strong></p> 
<p><strong><code>例如：sudo </code></strong>yum -y update</p> 
<p><strong>1.查看当前的内核版本</strong></p> 
<blockquote> 
 <p>命令：uname -r</p> 
</blockquote> 
<p><img alt="" height="208" src="https://images2.imgbox.com/a2/3b/5z2mSOnx_o.png" width="739"></p> 
<p><strong>2.使用 root 权限更新 yum 包（生产环境中此步操作需慎重，看自己情况，学习的话随便搞）</strong></p> 
<p>执行：yum -y update 命令后 得重启下云服务器，很有可能启动不起来。</p> 
<p>报错iptables提示unable to initialize table ‘filter’    解决办法：可以尝试重启服务器，正常启动了</p> 
<p>这两个命令可以根据自己的情况来执行（不是必须执行的，如果出现不兼容的情况就必须update）</p> 
<blockquote> 
 <p>命令：yum -y update            #升级所有包同时也升级软件和系统内核</p> 
 <p>命令：yum -y upgrade          #只升级所有包，不升级软件和系统内核</p> 
</blockquote> 
<p><strong>3.卸载旧版本（如果之前安装过的话）</strong></p> 
<blockquote> 
 <p>命令：yum remove docker docker-common docker-selinux docker-engine</p> 
</blockquote> 
<h3>二、安装Docker的详细步骤</h3> 
<p><strong>1.安装需要的软件包， yum-util 提供yum-config-manager功能，另两个是devicemapper驱动依赖</strong></p> 
<blockquote> 
 <p>命令：yum install -y yum-utils device-mapper-persistent-data lvm2</p> 
</blockquote> 
<p> <strong>2.设置 yum 源</strong></p> 
<p>设置一个yum源，下面两个都可用，自己选择一个即可</p> 
<blockquote> 
 <p>#中央仓库</p> 
 <p>yum-config-manager --add-repo http://download.docker.com/linux/centos/docker-ce.repo</p> 
 <p></p> 
 <p>#阿里仓库</p> 
 <p>yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</p> 
</blockquote> 
<p><strong>3.</strong>查看仓库中的所有Docker版本，选择特定的版本安装</p> 
<blockquote> 
 <p>命令：yum list docker-ce --showduplicates | sort -r</p> 
</blockquote> 
<p> 因为我是CentOS系统，所以选择了后面带centos的版本</p> 
<p><img alt="" height="715" src="https://images2.imgbox.com/df/9a/qAStd1M4_o.png" width="984"><strong>4、选择一个Docker版本安装</strong>：<code>yum install docker-ce-版本号</code></p> 
<blockquote> 
 <p>命令：yum -y install docker-ce-18.03.1.ce</p> 
</blockquote> 
<p><strong>5、安装成功后启动Docker并设置开机自动启动</strong></p> 
<blockquote> 
 <p>命令：systemctl start docker</p> 
 <p>命令：systemctl enable docker</p> 
</blockquote> 
<p><strong>6、查看安装的Docker版本</strong></p> 
<blockquote> 
 <p>命令：docker version</p> 
</blockquote> 
<p><strong>7、查看安装的Docker系统信息：显示 docker 的系统级信息，比如内核，镜像数，容器数等</strong></p> 
<blockquote> 
 <p>docker info</p> 
</blockquote> 
<p>我们会看到两条警告</p> 
<p> <img alt="" height="70" src="https://images2.imgbox.com/d6/5e/yQJG0rc8_o.png" width="564"></p> 
<p>解决办法：打开etc下的sysctl.conf文件</p> 
<blockquote> 
 <p>命令：vim /etc/sysctl.conf</p> 
</blockquote> 
<p>在最下面追加这四段代码</p> 
<blockquote> 
 <p>net.ipv4.ip_forward=1 <br> net.bridge.bridge-nf-call-ip6tables = 1<br> net.bridge.bridge-nf-call-iptables = 1<br> net.bridge.bridge-nf-call-arptables = 1</p> 
</blockquote> 
<p>其中：net.ipv4.ip_forward=1 这段是解决构建镜像的时候会报错：Docker之WARNING: IPv4 forwarding is disabled. Networking will not work 的问题。表示开启 IP 转发功能。与当前两条警告无关。</p> 
<p><img alt="" height="459" src="https://images2.imgbox.com/25/0c/yUXmbFTn_o.png" width="808"></p> 
<p>后面3行是解决当前这两条警告的问题的。</p> 
<p>保存：</p> 
<p>按：按 i 进入编辑模式，Esc退出编辑, 然后按 ：（Shift+:） 然后输入 w !sudo tee % 进行强制保存并退出  ：（q!强制退出）</p> 
<p>然后执行命令：</p> 
<blockquote> 
 <p>sysctl -p<br> 或者<br> sysctl -p 2&gt;/dev/null| grep bridge</p> 
</blockquote> 
<p>现在，我们再执行命令：docker info，就看不到报错了。</p> 
<h3>Docker容器与容器之间互联</h3> 
<p>默认情况下容器与容器之间不能之间访问，需要通过–link进行设置连接。这样的操作比较麻烦，更推荐的方式是自定义网络，容器都使用该自定义网络，就可以实现通过容器名来互相访问了。</p> 
<p>容器网络设置请参考：<a href="https://blog.csdn.net/weixin_45729272/article/details/126631685" title="Docker 网络_hyper-v docker 桥接-CSDN博客">Docker 网络_hyper-v docker 桥接-CSDN博客</a></p> 
<p>1、先创建两个容器</p> 
<blockquote> 
 <p><span style="color:#7b7f82;"># mysql容器</span><br><span style="color:#be191c;">sudo docker</span> run --name test_mysql -itd -e <span style="color:#ff9900;">MYSQL_ROOT_PASSWORD</span><span style="color:#ad720d;">=123456</span> mysql:5.6.48 /bin/bash</p> 
 <p><span style="color:#7b7f82;"># python容器</span><br><span style="color:#be191c;">sudo docker</span> run --name test_python -itd -p <span style="color:#ad720d;">5000</span>:5000 python:3.6.5 /bin/bash</p> 
</blockquote> 
<p>2、创建web服务器，通过docker link命令链接两个容器</p> 
<blockquote> 
 <p><span style="color:#7b7f82;"># --link表示连接容器</span><br><span style="color:#7b7f82;"># name:alias（链接的容器名:别名,name和alias可以相同），也可仅仅跟要链接的容器名</span></p> 
 <p><span style="color:#7b7f82;"># 简单创建链接</span><br><span style="color:#be191c;">sudo docker</span> run -it --link test_mysql:mysql python:3.6.5 /bin/bash</p> 
 <p><span style="color:#7b7f82;"># 完整创建链接</span><br><span style="color:#be191c;">sudo docker</span> run --name test_python -itd -p <span style="color:#ad720d;">5000</span>:5000 --link test_mysql python:3.6.5</p> 
</blockquote> 
<p> 3、通过docker exec -it命令查看容器是否连通。命令形式：docker exec -it 容器名 ping 容器名<br> 示例如下：</p> 
<blockquote> 
 <p><span style="color:#be191c;">sudo docker</span> <span style="color:#1c7331;">exec</span> -it test_python <span style="color:#be191c;">ping</span> test_mysql</p> 
</blockquote> 
<h3>安装Docker Compose</h3> 
<h4>什么是Docker Compose</h4> 
<blockquote> 
 <p>Compose是Docker官方推出 的一个工具软件，可以管理多个Docker容器组成的一个应用</p> 
 <p></p> 
 <p>Compose是用来<strong>定义和运行<u>一个或多个</u></strong>容器应用的工具。使用compaose可以简化容器镜像的建立及容器的运行。<br> Compose使用python语言开发，非常<u>适合在单机环境里部署一个或多个容器，并自动把多个容器互相关联起来。</u></p> 
 <p></p> 
 <p>在实际生产环境中，一个应用往往由许多服务构成，而 <u>docker 的最佳实践是一个容器只运行一个进程，因此运行多个微服务就要运行多个容器</u>。多个容器协同工作需要一个有效的工具来管理他们，定义这些容器如何相互关联。compose 应运而生。</p> 
</blockquote> 
<h4>能干嘛：</h4> 
<p><strong>Docker建议我们每一个容器只运行一个服务，因为docker容器本身占用资源极少，所以最好是将每一个服务单独地分割，但是这样，我们面临了一个问题</strong>：</p> 
<p>如果我们需要同事部署好多个服务，难道每个服务单独写Docckerfile，然后再构建镜像，构建容器，这样累死了，所以docker官方给我们提供了docker-compose多服务部署工具</p> 
<p>例如：要实现一个Web微服务项目，除了Web服务容器本身，往往还需要加上后端的数据库mysql服务器，redis服务器，注册中心eureka,甚至还包括负载均衡Nginx容器等。。。</p> 
<p>Compose允许用户通过一个单独的docker-compose.yml模板文件（YAML格式）来定义一组相关联的音容容器为一个项目(project)</p> 
<p>可以很容易的用一个配置文件定义一个多容器的应用，然后<span style="color:#b95514;">使用一条指令安装这个应用需要的所有依赖</span>，完成构建。docker-compose解决了容器与容器之间如何挂你编排的问题。</p> 
<h4>Docker Compose的核心概念</h4> 
<blockquote> 
 <p>1、服务 (service)：一个应用的容器，实际上可以包括若干运行相同镜像的容器实例。</p> 
 <p>2、项目 (project)：由一组关联的应用容器组成的一个完整业务单元，在 docker-                 compose.yml 文件中定义。</p> 
</blockquote> 
<h4>Docker与Docker-Compose对比</h4> 
<table border="1" cellpadding="1" cellspacing="1"><tbody><tr><th style="text-align:center;"></th><th style="text-align:center;">Docker</th><th style="text-align:center;">Docker-Compose</th></tr><tr><td style="text-align:center;">概念</td><td style="text-align:center;">是一个供开发和运维人员开发、测试、部署和运行应用程序的容器平台（docker是一个容器平台）</td><td style="text-align:center;">是一个用于创建和管理多容器应用程序的工具</td></tr><tr><td style="text-align:center;">创建容器数量</td><td style="text-align:center;">每次1个</td><td style="text-align:center;">多个</td></tr><tr><td style="text-align:center;">是否容易编辑</td><td style="text-align:center;">每个容器需要单独去修改</td><td style="text-align:center;">直接修改一个yaml文件即可</td></tr><tr><td style="text-align:center;">是否是服务</td><td style="text-align:center;">否</td><td style="text-align:center;">一个由多个容器组成的服务，依赖于docker之上</td></tr></tbody></table> 
<h4>下载并安装 Compose 独立版</h4> 
<p>这个命令地址是Docker官方文档：<a href="https://docs.docker.com/compose/install/standalone/" rel="nofollow" title="安装 Compose 独立版 |Docker 文档">安装 Compose 独立版 |Docker 文档</a> 中拿到的<a href="https://docs.docker.com/compose/install/standalone/" rel="nofollow" title="安装 Compose 独立版 |Docker 文档">安装 Compose 独立版 |Docker 文档</a></p> 
<blockquote> 
 <p>命令：curl -SL https://github.com/docker/compose/releases/download/v2.23.3/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</p> 
</blockquote> 
<h4>给目录赋权限</h4> 
<blockquote> 
 <p>chmod +x /usr/local/bin/docker-compose</p> 
</blockquote> 
<h4>查看compose的版本号</h4> 
<blockquote> 
 <p>docker-compose --version</p> 
</blockquote> 
<h4>卸载compose</h4> 
<blockquote> 
 <p>rm /usr/local/bin/docker-compose</p> 
</blockquote> 
<h4>用法例子 ：<a class="link-info" href="https://blog.csdn.net/weixin_42521409/article/details/130638142" title="参考文档">参考文档</a> </h4> 
<h5>创建yaml文件</h5> 
<blockquote> 
 <p><span style="color:#7b7f82;">#用vim命令创建一个yaml文件</span></p> 
 <p><span style="color:#be191c;">vim</span> test_system.yaml</p> 
</blockquote> 
<h5>编写yaml文件内容</h5> 
<pre><code class="language-Kotlin"># 搭建测试系统环境

# yaml文件版本号
version: '3.7'

# yaml文件包含的容器
services:
  
  # python容器
  test-python:
    tty: true
    image: new-python:3.6.5
    container_name: test-python
    # 设置端口
    ports:
      - 5000:5000
    # 设置开机启动
    restart: always
    volumes:
      - /home/nikolas/webapp/my_python:/home/my_python
    logging:
      driver: "json-file"
      options:
        max-size: "5g"
  
  # java容器
  test-java:
    tty: true
    image: new-jdk:1.0.0
    container_name: test-java
    # 设置端口
    ports:
      - 8088:8088
    # 设置开机启动
    restart: always
    volumes:
      - /home/nikolas/webapp/my_java:/home/my_java
    logging:
      driver: "json-file"
      options:
        max-size: "5g"

  # mysql容器
  test-mysql:
    tty: true
    image: mysql:5.7.34
    container_name: test-mysql
    # 设置端口
    ports:
      - 3306:3306
    # 设置开机启动
    restart: always
    volumes:
      - /home/nikolas/db_data/mysql/data:/var/lib/mysql
    environment:
      MYSQL_ROOT_PASSWORD: 123456

  # redis容器
  test-redis:
    tty: true
    image: redis:6.2
    container_name: test-redis
    # 设置端口
    ports:
      - 6379:6379
    # 设置开机启动
    restart: always
    command: --requirepass 123456

  # nginx容器
  test-nginx:
    tty: true
    image: nginx:1.20.0
    container_name: test-nginx
    # 设置端口
    ports:
      - 81:81
      - 446:446
    # 设置开机启动
    restart: always
    volumes:
      - /var/log/nginx:/var/log/nginx

# yaml文件所用的网络
networks:
  default:
    external:
      name: my_net
</code></pre> 
<h5>使用docker-compose命令部署测试系统</h5> 
<p>一键创建yaml文件包含的所有容器</p> 
<blockquote> 
 <p><span style="color:#7b7f82;"># docker-compose -f yaml文件所在路径</span><br> sudo docker-compose -f /home/nikolas/yaml/test_system.yaml up -d</p> 
</blockquote> 
<p>一键删除yaml文件包含的所有容器</p> 
<blockquote> 
 <p><span style="color:#7b7f82;"> # docker-compose -f yaml文件所在路径</span><br> sudo docker-compose -f /home/nikolas/yaml/test_system.yaml down</p> 
</blockquote> 
<h2>Docker可视化管理工具——<strong>Docker UI</strong></h2> 
<h3><strong>简介</strong></h3> 
<p>Docker UI 是一款最简单的，单机环境中的管理 Docker 的图形工具，适合初学者和小型 Docker 管理。</p> 
<p><strong>优点：</strong><br> 1、支持容器管理<br> 2、稳定性高<br> 3、可动态显示容器间的关系图</p> 
<p><strong>缺点：</strong><br> 1、管理页面无账户体系，缺乏安全性<br> 2、对于容器的管理缺乏权限控制，任何人都可以对容器进行一些敏感操作<br> 3、不支持多主机和 Swarm 集群</p> 
<h3>下载原生Docker UI镜像     </h3> 
<blockquote> 
 <p>命令：docker pull uifd/ui-for-docker</p> 
</blockquote> 
<h3>启动Docker UI 容器   </h3> 
<p>docker ui端口地址默认是：9000</p> 
<p>name后面的docker-web是容器的名称，我们可以随便改查自己喜欢的名称</p> 
<blockquote> 
 <p>命令：docker run <span style="color:#ad720d;">-it -d --name</span> docker-web <span style="color:#ad720d;">-p</span> <span style="color:#be191c;">9000</span>:9000 <span style="color:#ad720d;">-v</span> /var/run/docker.sock:/var/run/docker.sock docker.io/uifd/ui-for-docker</p> 
 <p></p> 
 <p>#如果其他容器已经占用了9000端口，就改成 8089:9000试试   如下：</p> 
 <p></p> 
 <p>命令：docker run <span style="color:#ad720d;">-it -d --name</span> docker-web <span style="color:#ad720d;">-p</span> <span style="color:#be191c;">8089</span>:9000 <span style="color:#ad720d;">-v</span> /var/run/docker.sock:/var/run/docker.sock docker.io/uifd/ui-for-docker</p> 
</blockquote> 
<p>启动成功后，我们就可以通过 <span style="color:#b95514;"> IP:端口</span> 来访问Docker UI 界面了</p> 
<p>我的虚拟机的静态IP地址是192.168.132.10  Docker UI端口是默认的：9000。</p> 
<p>所以地址是192.168.132.10:9000</p> 
<p>如果你的端口设置的是8089：你的Docker UI地址是 192.168.132.10:8089</p> 
<p><img alt="" height="1123" src="https://images2.imgbox.com/f6/ae/bQPtNZen_o.png" width="1200"></p> 
<p><em>STATUS:UP代表容器正在运行，Exited代表容器关闭</em></p> 
<h2>Docker可视化管理工具——Portainer</h2> 
<h3>简介</h3> 
<p>Portainer 是一个轻量级的管理 UI ，可让你轻松管理不同的 Docker 环境（Docker 主机或 Swarm 群集）。它由可在任何 Docker 引擎上运行的单个容器组成，旨在使部署更简单 。<br> 提供状态显示面板、应用模板快速部署、容器镜像网络数据卷的基本操作（包括上传下载镜像，创建容器等操作）、事件日志显示、容器控制台操作、Swarm集群和服务等集中管理和操作、登录用户管理和控制等功能。</p> 
<p><strong>优点</strong><br> 既可以管理单机环境，也可以管理 Swarm 集群<br> 提供了用户的登录界面<br> 可以为用户分配某个容器</p> 
<p><strong>缺点</strong><br> 暂时没发现</p> 
<h3>搜索portainer镜像</h3> 
<blockquote> 
 <p>命令：docker search portainer</p> 
</blockquote> 
<h3>拉取portainer镜像</h3> 
<blockquote> 
 <p>命令：docker pull portainer/portainer</p> 
</blockquote> 
<h3>启动portainer容器</h3> 
<p>Portainer使用默认的9000端口进行访问，如果此端口被其他应用程序占用，Portainer将无法启动。</p> 
<p>因为我前面安装了Docker UI 使用的端口就是9000，所以，我这里就将9000端口改为8080 这样就可以通过192.168.132.10:8080来访问portainer的UI界面了</p> 
<p>myprtainer：我是自己定义的名称，表示容器名称</p> 
<blockquote> 
 <p>命令：docker run <span style="color:#ad720d;">-d -p</span> <span style="color:#be191c;">8080</span>:9000 <span style="color:#ad720d;">--restart=</span>always -v /var/run/docker.sock:/var/run/docker.sock <span style="color:#ad720d;">--name</span> <span style="color:#be191c;">myprtainer</span> portainer/portainer </p> 
</blockquote> 
<p> 这就是Portainer的管理界面：进入的时候需要设置用户名和密码<img alt="" height="1200" src="https://images2.imgbox.com/ec/96/A4Qp6Gsl_o.png" width="1200"></p> 
<p>如果Portainer使用的端口已被其他应用程序占用，可以通过更改Portainer的端口号来解决冲突。</p> 
<p>以下是通过Docker命令更改Portainer端口的示例：</p> 
<blockquote> 
 <p>命令：docker run -d -p 8080:9000 --name=myportainer portainer/portainer</p> 
</blockquote> 
<p>name=myportainer：表示我要将name为myportainer的容器的端口号改为8080</p> 
<h3>启用Portainer的远程访问</h3> 
<p>默认情况下，Portainer只允许在本地主机上访问。如果您想从其他计算机上访问Portainer，需要启用Portainer的远程访问。可以通过设置环境变量来实现。以下是启用远程访问的示例：</p> 
<blockquote> 
 <p>docker run <span style="color:#ad720d;">-d -p</span> <span style="color:#be191c;">8080</span>:9000 <span style="color:#ad720d;">-e</span> "<span style="color:#1c7331;">AGENT_CLUSTER_ADDR=agent:9001</span>" <span style="color:#ad720d;">--name=</span>myportainer <span style="color:#ad720d;">--restart=</span>always portainer/portainer</p> 
</blockquote> 
<p>在上述示例中，通过设置AGENT_CLUSTER_ADDR环境变量，将Portainer的访问限制解除，允许从其他计算机上访问。</p> 
<h2>常用的Docker命令：</h2> 
<blockquote> 
 <p>命令：docker version    显示docker版本信息</p> 
 <p>命令：docker info          显示docker系统系统信息，镜像以及容器数量等信息</p> 
 <p>命令：docker images     查看本地所有镜像</p> 
</blockquote> 
<h3>启动容器：</h3> 
<blockquote> 
 <p>命令：docker start 903c48353e37   启动容器ID为：903c48353e37这个容器</p> 
</blockquote> 
<h3>重启容器</h3> 
<blockquote> 
 <p> 命令：docker restart 903c48353e37   重启容器ID为：903c48353e37这个容器</p> 
</blockquote> 
<h3>停止容器</h3> 
<blockquote> 
 <p>命令：docker stop 903c48353e37   停止容器ID为：903c48353e37这个容器</p> 
</blockquote> 
<h3>删除容器：删除容器前需要先停止容器</h3> 
<blockquote> 
 <p>命令：docker rm -f 903c48353e37   删除容器ID为：903c48353e37这个容器</p> 
</blockquote> 
<h3>杀掉容器</h3> 
<blockquote> 
 <p>命令：docker kill 903c48353e37   杀掉容器ID为：903c48353e37这个容器</p> 
</blockquote> 
<h3> 其他常用命令</h3> 
<blockquote> 
 <p>命令：docker container ls  可以查看当前正在运行的容器</p> 
 <p>命令：docker container ls -a   可以列举出所有的容器，包括正在运行的和没有运行的容器 </p> 
 <p></p> 
 <p>命令：docker ps  查看所有正在运行的容器</p> 
 <p>命令：docker ps -a  查看所有的容器，包括已经停止的容器</p> 
 <p></p> 
 <p>命令：docker image ls       用于列出所有镜像</p> 
 <p>命令：docker rmi -f abc    强制删除 镜像id为 abc 的镜像</p> 
 <p>命令：docker rmi --no-prune  abc  不移除镜像id为 abc 的镜像的过程镜像，默认移除</p> 
 <p></p> 
 <p>命令：docker ps -a   显示所有容器，包括未运行的</p> 
 <p>命令：docker ps -l     显示最后一个运行的容器（无论该容器目前处于什么状态）</p> 
 <p>命令：docker ps -n 5  数量5：表示显示最后 5 个运行容器（无论该容器目前处于什么状态）</p> 
 <p>命令：docker ps -s  显示总的文件大小</p> 
</blockquote> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/15943455475e1fea578b26a68f357d9e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">R语言学习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8356ad4bd043463f265930de641bf698/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一文教你如何准确判断元素是否在可视区域！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>