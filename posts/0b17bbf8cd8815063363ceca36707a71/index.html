<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MVG（second）学习笔记- 摄像机模型 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MVG（second）学习笔记- 摄像机模型" />
<meta property="og:description" content=" 摄像机是3D世界到2D图像之间的一种映射。本部分总结一下单目摄像机基本针孔模型和理论推导，畸变：
目录
1.基本概念
2.相机模型
3. 畸变模型
4.摄像机矩阵P
注意：成像平面放于相机主平面前面主要是便于建立数学模型 1.基本概念 光心：投影中心O为摄像机中心，也成为了光心。
主轴：摄像机中心到图像平面的垂线称为摄像机的主轴或主射线。
主心：主轴和图像平面的交点为主心
主平面：过摄像机中心且平行于图像平面的平面称为摄像机的主平面
图像坐标系：如图（u-v）
世界坐标系：如图（o-x-y-z）
摄像机坐标系：如图 世界坐标系(Ow-x-y-z)
f为焦距
2.相机模型 坐标系量的标记：
1 世界坐标系：Pw(Xw,Yw,Zw) 2 2 摄像机坐标系：P(X,Y,Z) 3 . 图像坐标系 Puv(u,v) : 世界坐标系： 分为过程： 1.摄像机坐标系的透视变换 到图像坐标系的变化 2.摄像机坐标系到世界坐标系的变化 总的变换： 3. 畸变模型 图像畸变是由于透镜制造精度以及组装工艺的偏差会引入畸变，导致原始图像失真。镜头的畸变分为径向畸变和切向畸变两类。
主要分为径向和切向畸变 径向畸变是由于镜头自身凸透镜的固有特性造成的，产生原因是光线在远离透镜中心的地方比靠近中心的地方更加弯曲。
畸变沿着透镜半径方向分布，主要包括桶形畸变和枕形畸变两种，如下图所示：
畸变的数学模型可以用主点（principle point）周围的泰勒级数展开式的前几项进行描述，通常使用前两项，即k1和k2，对于畸变很大的镜头，可以增加使用第三项k3来进行描述：
切向畸变是由于透镜本身与相机传感器平面（成像平面）或图像平面不平行而产生的，这种情况多是由于透镜被粘贴到镜头模组上的安装偏差导致。
畸变模型可以用两个参数p1和p2来描述：
加畸变采用上面的公式即可 去畸变推荐opencv函数 https://blog.csdn.net/KYJL888/article/details/81043133 所以摄像机矩阵： 内参为11个：fx,fy,cx,cy,k1,k2,k3,p1p2 外参为6个： R(3),t(3) 4.摄像机矩阵P 参考：
1.视觉SLAM 14讲
2.MVG（计算机多视几何）第二版
X w Y w Z w , , X c Y c Z c , , [ u , v ] [ x , y ] " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0b17bbf8cd8815063363ceca36707a71/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-11T17:35:52+08:00" />
<meta property="article:modified_time" content="2019-12-11T17:35:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MVG（second）学习笔记- 摄像机模型</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>摄像机是3D世界到2D图像之间的一种映射。本部分总结一下单目摄像机基本针孔模型和理论推导，畸变：</p> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="1.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A" rel="nofollow">1.基本概念</a></p> 
<p id="2.%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B-toc" style="margin-left:80px;"><a href="#2.%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B" rel="nofollow">2.相机模型</a></p> 
<p id="3.%20%E7%95%B8%E5%8F%98%E6%A8%A1%E5%9E%8B%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3.%20%E7%95%B8%E5%8F%98%E6%A8%A1%E5%9E%8B%EF%BC%9A" rel="nofollow">3. 畸变模型</a></p> 
<p id="3.%E6%91%84%E5%83%8F%E6%9C%BA%E7%9F%A9%E9%98%B5P%EF%BC%9A-toc" style="margin-left:80px;"><a href="#3.%E6%91%84%E5%83%8F%E6%9C%BA%E7%9F%A9%E9%98%B5P%EF%BC%9A" rel="nofollow">4.摄像机矩阵P</a></p> 
<hr id="hr-toc"> 
<p style="text-align:center;"><img alt="" class="has" height="324" src="https://images2.imgbox.com/9a/33/007jhC3B_o.png" width="656"></p> 
<p>注意：成像平面放于相机主平面前面主要是便于建立数学模型 </p> 
<h4 id="1.%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%9A"><strong>1.基本概念</strong></h4> 
<p>光心：投影中心O为摄像机中心，也成为了光心。</p> 
<p>主轴：摄像机中心到图像平面的垂线称为摄像机的主轴或主射线。</p> 
<p>主心：主轴和图像平面的交点为主心</p> 
<p>主平面：过摄像机中心且平行于图像平面的平面称为摄像机的主平面</p> 
<p>图像坐标系：如图（u-v）</p> 
<p>世界坐标系：如图（o-x-y-z）</p> 
<p>摄像机坐标系：如图 世界坐标系(Ow-x-y-z)</p> 
<p>f为焦距</p> 
<h4 id="2.%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B"><strong>2.相机模型</strong></h4> 
<p><strong>坐标系量的标记：</strong></p> 
<div> 
 <span style="color:#000000;">1 世界坐标系：Pw(Xw,Yw,Zw)</span> 
</div> 
<div> 
 <span style="color:#ffffff;">2</span> 
</div> 
<div> 
 <span style="color:#000000;">2 摄像机坐标系：P(X,Y,Z) </span> 
</div> 
<div>
    
</div> 
<div> 
 <span style="color:#000000;">3</span> 
 <span style="color:#ffffff;">.</span> 
 <span style="color:#000000;">图像坐标系 Puv(u,v)</span> 
 <span style="color:#ffffff;">:</span> 
</div> 
<div> 
 <span style="color:#ffffff;"><strong>世界坐标系： </strong></span> 
</div> 
<div>
  分为过程： 
</div> 
<div>
  1.摄像机坐标系的透视变换 到图像坐标系的变化 
</div> 
<div>
    
</div> 
<div>
    
 <p style="text-align:center;"><img alt="" class="has" height="112" src="https://images2.imgbox.com/5d/b2/5F7AruyY_o.png" width="405"></p> 
</div> 
<div>
    
</div> 
<div>
   2.摄像机坐标系到世界坐标系的变化 
</div> 
<div>
    
</div> 
<div>
                                                                                   
 <img alt="\begin{bmatrix} X\\ Y\\ Z \end{bmatrix}=RP_{w}+tw" class="mathcode" src="https://images2.imgbox.com/69/51/ADRyTBtn_o.gif"> 
</div> 
<div>
    总的变换： 
</div> 
<div> 
 <p style="text-align:center;"><img alt="" class="has" height="118" src="https://images2.imgbox.com/12/4c/If3DS6jc_o.png" width="422"></p> 
</div> 
<h4 id="3.%20%E7%95%B8%E5%8F%98%E6%A8%A1%E5%9E%8B%EF%BC%9A"><strong>3. 畸变模型</strong></h4> 
<div> 
 <div> 
  <p>图像畸变是由于透镜制造精度以及组装工艺的偏差会引入畸变，导致原始图像失真。镜头的畸变分为径向畸变和切向畸变两类。</p> 
  <span style="color:#000000;">主要分为径向和切向畸变</span> 
 </div> 
 <div> 
  <p><strong>径向畸变</strong>是由于镜头自身凸透镜的固有特性造成的，产生原因是光线在远离透镜中心的地方比靠近中心的地方更加弯曲。</p> 
  <p>畸变沿着透镜半径方向分布，主要包括桶形畸变和枕形畸变两种，如下图所示：</p> 
  <p style="text-align:center;"><img alt="" class="has" height="189" src="https://images2.imgbox.com/ad/e1/yoMRkBqj_o.png" width="482"></p> 
 </div> 
 <div> 
  <p>畸变的数学模型可以用主点（principle point）周围的泰勒级数展开式的前几项进行描述，通常使用前两项，即k1和k2，对于畸变很大的镜头，可以增加使用第三项k3来进行描述：</p> 
  <p style="text-align:center;"><img alt="" class="has" height="101" src="https://images2.imgbox.com/7c/09/kadBIPdi_o.png" width="423"></p> 
  <p style="text-align:center;"><img alt="" class="has" height="46" src="https://images2.imgbox.com/08/c0/cANknQ47_o.png" width="576"></p> 
 </div> 
</div> 
<div> 
 <p><strong>切向畸变</strong>是由于透镜本身与相机传感器平面（成像平面）或图像平面不平行而产生的，这种情况多是由于透镜被粘贴到镜头模组上的安装偏差导致。</p> 
 <p style="text-align:center;"><img alt="" class="has" height="276" src="https://images2.imgbox.com/ae/15/lNFy2Fnw_o.png" width="454"></p> 
 <p>畸变模型可以用两个参数p1和p2来描述：</p> 
 <p style="text-align:center;"><img alt="" class="has" height="80" src="https://images2.imgbox.com/95/40/C13pTlmA_o.png" width="409"></p> 
</div> 
<div>
  加畸变采用上面的公式即可 
</div> 
<div>
  去畸变推荐opencv函数 
 <a href="https://blog.csdn.net/KYJL888/article/details/81043133">https://blog.csdn.net/KYJL888/article/details/81043133</a> 
</div> 
<div>
    
</div> 
<div> 
 <strong>所以摄像机矩阵：</strong> 
</div> 
<div>
  内参为11个：fx,fy,cx,cy,k1,k2,k3,p1p2 
</div> 
<div>
  外参为6个：  R(3),t(3) 
</div> 
<div>
    
</div> 
<h4 id="3.%E6%91%84%E5%83%8F%E6%9C%BA%E7%9F%A9%E9%98%B5P%EF%BC%9A"><strong>4.摄像机矩阵P</strong></h4> 
<h4 id="%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%20%C2%A0%C2%A0">                        <img alt="P=K[R,t]=[M,p4]" class="mathcode" src="https://images2.imgbox.com/e1/e8/6kbcCC2W_o.gif"></h4> 
<p><img alt="" class="has" src="https://images2.imgbox.com/2d/cd/ZnVxxaBC_o.jpg"> 参考：</p> 
<p>1.视觉SLAM 14讲</p> 
<p>2.MVG（计算机多视几何）第二版</p> 
<div> 
 <span style="color:#ffffff;"><em>X </em></span> 
 <span style="color:#ffffff;"><em>w </em></span> 
 <span style="color:#ffffff;"><em>Y</em></span> 
 <span style="color:#ffffff;"><em>w </em></span> 
 <span style="color:#ffffff;"><em>Z </em></span> 
 <span style="color:#ffffff;"><em>w </em></span> 
 <span style="color:#ffffff;">, , </span> 
</div> 
<div> 
 <span style="color:#ffffff;"><em>X </em></span> 
 <span style="color:#ffffff;"><em>c </em></span> 
 <span style="color:#ffffff;"><em>Y</em></span> 
 <span style="color:#ffffff;"><em>c </em></span> 
 <span style="color:#ffffff;"><em>Z </em></span> 
 <span style="color:#ffffff;"><em>c </em></span> 
 <span style="color:#ffffff;">, , </span> 
</div> 
<div> 
 <span style="color:#ffffff;">[</span> 
 <span style="color:#ffffff;"><em>u</em></span> 
 <span style="color:#ffffff;">, </span> 
 <span style="color:#ffffff;"><em>v</em></span> 
 <span style="color:#ffffff;">] </span> 
 <span style="color:#ffffff;">[</span> 
 <span style="color:#ffffff;"><em>x</em></span> 
 <span style="color:#ffffff;">, </span> 
 <span style="color:#ffffff;"><em>y</em></span> 
 <span style="color:#ffffff;">] </span> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/464c0bfb2575efdf45d8f76c89afd2ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">spring的面向切面编程AOP最强解释</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6eadba712a0f6afa9095a1bb617d511c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Prometheus源码系列：指标采集(scrapeManager)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>