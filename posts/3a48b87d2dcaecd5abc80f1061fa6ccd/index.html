<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据库（mysql） 选择语句（select）的应用（查找信息）（二） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据库（mysql） 选择语句（select）的应用（查找信息）（二）" />
<meta property="og:description" content="目录
前言 前面学习了数据单表的查询，接下来我要继续进行多表的查询了。
一、连接查询
1.等值与非等值连接查询
2.自身连接
3.外连接
4.多表连接
二.嵌套查询 1.带有in谓词的子查询
2.带有比较运算符的子查询
3.带有any 或 all 的谓词的子查询
4.带有exists谓词的子查询
三、集合查询
四.基于派生表的查询
总结
以上就是这次复习的了，继续加油。
前言 https://mp.csdn.net/mp_blog/creation/editor/124282946（单表查询链接）
前面学习了数据单表的查询，接下来我要继续进行多表的查询了。 包括：
1）连接查询
a.等值与非等值连接查询
b.自身连接
c.外连接
d.多表连接
2）嵌套查询
a.带有in谓词的子查询
b.带有比较运算符的子查询
c.带有any 或 all 的谓词的子查询
d.带有exists谓词的子查询
3）集合查询
4）基于派生表的查询
一、连接查询 1.等值与非等值连接查询 连接查询的where子句中用来连接两个表的条件称为连接条件或连接谓词，其一般格式为：
[&lt;表名1.&gt;] &lt;列名1&gt;&lt;比较运算符&gt;[&lt;表名2.&gt;] &lt;列名2&gt;
举个栗子：select student.sname,sc.sno from student,sc where student.sno=sc.sno;
使用连接谓词的格式：
[&lt;表名1.&gt;] &lt;列名1&gt; between [&lt;表名2.&gt;] &lt;列名2&gt; and [&lt;表名2.&gt;]&lt;列名3&gt;
举个栗子：select student.sname,sc.sno from student,sc where student.sno=sc.sno and sc.cno=&#34;22&#34; and sc.grade&gt;90;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3a48b87d2dcaecd5abc80f1061fa6ccd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-18T12:29:17+08:00" />
<meta property="article:modified_time" content="2022-10-18T12:29:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据库（mysql） 选择语句（select）的应用（查找信息）（二）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%C2%A0-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80%C2%A0" rel="nofollow">前言 </a></p> 
<p id="%E5%89%8D%E9%9D%A2%E5%AD%A6%E4%B9%A0%E4%BA%86%E6%95%B0%E6%8D%AE%E5%8D%95%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E8%A6%81%E7%BB%A7%E7%BB%AD%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%BA%86%E3%80%82-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E9%9D%A2%E5%AD%A6%E4%B9%A0%E4%BA%86%E6%95%B0%E6%8D%AE%E5%8D%95%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E8%A6%81%E7%BB%A7%E7%BB%AD%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%BA%86%E3%80%82" rel="nofollow">前面学习了数据单表的查询，接下来我要继续进行多表的查询了。</a></p> 
<p id="-toc" style="margin-left:40px;"></p> 
<p id="%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2" rel="nofollow">一、连接查询</a></p> 
<p id="1.%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#1.%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2" rel="nofollow">1.等值与非等值连接查询</a></p> 
<p id="2.%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5-toc" style="margin-left:40px;"><a href="#2.%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5" rel="nofollow">2.自身连接</a></p> 
<p id="%C2%A03.%E5%A4%96%E8%BF%9E%E6%8E%A5-toc" style="margin-left:40px;"><a href="#%C2%A03.%E5%A4%96%E8%BF%9E%E6%8E%A5" rel="nofollow"> 3.外连接</a></p> 
<p id="%C2%A04.%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5-toc" style="margin-left:40px;"><a href="#%C2%A04.%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5" rel="nofollow"> 4.多表连接</a></p> 
<p id="%E4%BA%8C.%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%C2%A0-toc" style="margin-left:40px;"><a href="#%E4%BA%8C.%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%C2%A0" rel="nofollow">二.嵌套查询 </a></p> 
<p id="1.%E5%B8%A6%E6%9C%89in%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#1.%E5%B8%A6%E6%9C%89in%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">1.带有in谓词的子查询</a></p> 
<p id="2.%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#2.%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">2.带有比较运算符的子查询</a></p> 
<p id="3.%E5%B8%A6%E6%9C%89any%20%E6%88%96%20all%20%E7%9A%84%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#3.%E5%B8%A6%E6%9C%89any%20%E6%88%96%20all%20%E7%9A%84%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">3.带有any 或 all 的谓词的子查询</a></p> 
<p id="4.%E5%B8%A6%E6%9C%89exists%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#4.%E5%B8%A6%E6%9C%89exists%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">4.带有exists谓词的子查询</a></p> 
<p id="%E4%B8%89%E3%80%81%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E3%80%81%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2" rel="nofollow">三、集合查询</a></p> 
<p id="%E5%9B%9B.%E5%9F%BA%E4%BA%8E%E6%B4%BE%E7%94%9F%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%9B%9B.%E5%9F%BA%E4%BA%8E%E6%B4%BE%E7%94%9F%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2" rel="nofollow">四.基于派生表的查询</a></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<p id="%E4%BB%A5%E4%B8%8A%E5%B0%B1%E6%98%AF%E8%BF%99%E6%AC%A1%E5%A4%8D%E4%B9%A0%E7%9A%84%E4%BA%86%EF%BC%8C%E7%BB%A7%E7%BB%AD%E5%8A%A0%E6%B2%B9%E3%80%82-toc" style="margin-left:0px;"><a href="#%E4%BB%A5%E4%B8%8A%E5%B0%B1%E6%98%AF%E8%BF%99%E6%AC%A1%E5%A4%8D%E4%B9%A0%E7%9A%84%E4%BA%86%EF%BC%8C%E7%BB%A7%E7%BB%AD%E5%8A%A0%E6%B2%B9%E3%80%82" rel="nofollow">以上就是这次复习的了，继续加油。</a></p> 
<h2 id="%E5%89%8D%E8%A8%80%C2%A0">前言 </h2> 
<p><a class="link-info" href="https://mp.csdn.net/mp_blog/creation/editor/124282946" title="https://mp.csdn.net/mp_blog/creation/editor/124282946（单表查询链接）">https://mp.csdn.net/mp_blog/creation/editor/124282946（单表查询链接）</a></p> 
<h2 id="%E5%89%8D%E9%9D%A2%E5%AD%A6%E4%B9%A0%E4%BA%86%E6%95%B0%E6%8D%AE%E5%8D%95%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E6%88%91%E8%A6%81%E7%BB%A7%E7%BB%AD%E8%BF%9B%E8%A1%8C%E5%A4%9A%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%BA%86%E3%80%82">前面学习了数据单表的查询，接下来我要继续进行多表的查询了。</h2> 
<p>包括：</p> 
<p><strong>1）连接查询</strong></p> 
<p>a.等值与非等值连接查询</p> 
<p>b.自身连接</p> 
<p>c.外连接</p> 
<p>d.多表连接</p> 
<p><strong>2）嵌套查询</strong></p> 
<p>a.带有in谓词的子查询</p> 
<p>b.带有比较运算符的子查询</p> 
<p>c.带有any 或 all 的谓词的子查询</p> 
<p>d.带有exists谓词的子查询</p> 
<p><strong>3）集合查询</strong></p> 
<p><strong>4）基于派生表的查询</strong></p> 
<h3 id="%E4%B8%80%E3%80%81%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><strong>一、连接查询</strong></h3> 
<h3 id="1.%E7%AD%89%E5%80%BC%E4%B8%8E%E9%9D%9E%E7%AD%89%E5%80%BC%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><strong>1.等值与非等值连接查询</strong></h3> 
<p>连接查询的where子句中用来连接两个表的条件称为连接条件或连接谓词，其一般格式为：</p> 
<p>[&lt;表名1.&gt;] &lt;列名1&gt;&lt;比较运算符&gt;[&lt;表名2.&gt;] &lt;列名2&gt;</p> 
<p>举个栗子：select student.sname,sc.sno from student,sc where student.sno=sc.sno;</p> 
<p>使用连接谓词的格式：</p> 
<p>[&lt;表名1.&gt;] &lt;列名1&gt; between [&lt;表名2.&gt;] &lt;列名2&gt; and [&lt;表名2.&gt;]&lt;列名3&gt;</p> 
<p>举个栗子：select student.sname,sc.sno from student,sc where student.sno=sc.sno and sc.cno="22" and sc.grade&gt;90;</p> 
<p>当连接符为"="时称为等值连接，使用其他运算符称为非等值连接。</p> 
<p>（注意：栗子中的属性（标明颜色）明前都加了表名前缀，这是为了避免混淆，如果属性名在表中唯一，则可以省略表名）</p> 
<p>   举栗子：我们可以在select 后加 distinct 去除重复学号</p> 
<p style="text-align:center;"><img alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aKo6KiANzc4,size_20,color_FFFFFF,t_70,g_se,x_16" src="https://images2.imgbox.com/b9/14/0JOQrSrm_o.png">​</p> 
<p></p> 
<h3 id="2.%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5">2.自身连接</h3> 
<p>一个表和自身进行连接，称为自身连接。</p> 
<p>操作：要为同一个表取两个别名，一个是first，另一个是second。</p> 
<p>举个栗子：select后包含student表和course表的属性</p> 
<p style="text-align:center;"><img alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aKo6KiANzc4,size_20,color_FFFFFF,t_70,g_se,x_16" src="https://images2.imgbox.com/5e/cd/w7jyWbRp_o.png"></p> 
<h3 id="%C2%A03.%E5%A4%96%E8%BF%9E%E6%8E%A5"> <strong>3.外连接</strong></h3> 
<p>舍弃的元组称为悬浮元组，把悬浮元组存储在结果关系中，而在其他属性上填空值，就叫做外连接；保留左边关系的悬浮元组叫左外连接（left outer join 或 left join），反之，保留在右边的元组就叫做右外连接（right outer join 或 right join）。</p> 
<p>举个栗子：查询 每个学生及其选修课程的情况</p> 
<p style="text-align:center;"><img alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aKo6KiANzc4,size_20,color_FFFFFF,t_70,g_se,x_16" src="https://images2.imgbox.com/c6/8f/5XmbFMnD_o.png"></p> 
<h3 id="%C2%A04.%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5"> 4.多表连接</h3> 
<p>多个表相互连接。</p> 
<p>举个栗子：select后包含student表和course表以及sc表的属性</p> 
<p style="text-align:center;"><img alt="watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aKo6KiANzc4,size_20,color_FFFFFF,t_70,g_se,x_16" src="https://images2.imgbox.com/15/c1/5voz4aC5_o.png"></p> 
<h3 id="%E4%BA%8C.%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2%C2%A0">二.嵌套查询 </h3> 
<p>在sql语言中，一个<strong> select-from-where </strong>语句称为一个查询块，将一个查询块嵌套在另一个查询块的  where 子句或 having 短语的条件中的查询称为嵌套查询。</p> 
<h3 id="1.%E5%B8%A6%E6%9C%89in%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">1.带有in谓词的子查询</h3> 
<p>子查询：第二个 <strong>select-from-where </strong>开始的查询块，第一个称为父查询，子查询条件不依赖父查询的称为不相关子查询，反之，称为相关子查询。</p> 
<p>（注：子查询的 select 语句不能使用 order by 子句， order by 子句只能对最终结果进行排序）</p> 
<p>步骤：先分布来完成各自的查询任务，然后再构造嵌套查询 </p> 
<p>举个带 in 谓词的子查询：（不相关子查询）查询没有选修 操作系统 课程的 cs 系的学生的姓名；</p> 
<p>（我们思考的顺序应该从后往前读:        1）学生姓名         2)是cs系          3)没选 操作系统）</p> 
<p style="text-align:center;"><img alt="b774df786d454d7eac2fe124302d60f0.png" src="https://images2.imgbox.com/79/ae/AEHOYkCP_o.png"></p> 
<h3 id="2.%E5%B8%A6%E6%9C%89%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">2.带有比较运算符的子查询</h3> 
<p>顾名思义，带比较运算的子查询就是含比较符号的查询。</p> 
<p>举个栗子：（相关子查询）找出每个学生超过他自身平均成绩的课程号</p> 
<p style="text-align:center;"><img alt="efe440c4e1424821b9b7ce1c5b6fb54e.png" src="https://images2.imgbox.com/c9/23/BBRiB4kI_o.png"></p> 
<p></p> 
<h3 id="3.%E5%B8%A6%E6%9C%89any%20%E6%88%96%20all%20%E7%9A%84%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">3.带有any 或 all 的谓词的子查询</h3> 
<p>子查询返回单值时可以用比较运算符，但返回多值时要用 any|all 谓词修饰符，使用时必须要搭配比较运算符使用。</p> 
<p>举个栗子：查询 非计算机科学系 中比 计算机科学系任意一个学生年龄小或者等于的学生姓名和年龄。</p> 
<p style="text-align:center;"><img alt="45de91cd21ee44448845d885eaafeb6e.png" src="https://images2.imgbox.com/05/5f/xNTwnHcJ_o.png"></p> 
<p> （通常使用聚集函数实现子查询比直接用any或all查询效率更高）</p> 
<p style="text-align:center;"><img alt="95e64df18786412b91c936ccf3dd3f55.png" src="https://images2.imgbox.com/ac/bb/UQPn4tUt_o.png"></p> 
<p></p> 
<h3 id="4.%E5%B8%A6%E6%9C%89exists%E8%B0%93%E8%AF%8D%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">4.带有exists谓词的子查询</h3> 
<p>带有exists谓词的子查询不返回任何数据，只产生逻辑真‘ture’ 和 逻辑假 ‘false’。</p> 
<p>exists与not exists的区别</p> 
<p>exists是查询的值非空，返回真值，否则返回假值</p> 
<p>not exists 是查询的值为空则返回真值，否则返回假值</p> 
<p>举栗子：查询所有选修了22号课程的学生姓名</p> 
<p style="text-align:center;"><img alt="265aae3ff93e420188aebf450bcd766d.png" src="https://images2.imgbox.com/67/cb/jNDBzUQu_o.png"></p> 
<hr> 
<h3 id="%E4%B8%89%E3%80%81%E9%9B%86%E5%90%88%E6%9F%A5%E8%AF%A2"><strong>三、集合查询</strong></h3> 
<p>        select   语句要查询的是元组的集合，所以多个select语句的结果可以进行集合操作。</p> 
<p>集合的操作主要包括并操作union、交操作intersect 和 差操作except.</p> 
<p>其中 并操作类似于 或 ，交操作类似于 和</p> 
<p>   举差操作的一个栗子： 查询计算机科学系的学生与年龄不大于19岁的学生的差集</p> 
<p>​​​select * from student where sdept="cs" except select * from student where sage&lt;=19</p> 
<p></p> 
<h3 id="%E5%9B%9B.%E5%9F%BA%E4%BA%8E%E6%B4%BE%E7%94%9F%E8%A1%A8%E7%9A%84%E6%9F%A5%E8%AF%A2">四.基于派生表的查询</h3> 
<p> 子查询不仅可以出现在where 子句中，还可以出现在from子句中，这是子查询生成的临时派生表成为主查询的查询对象。</p> 
<p> 举个栗子：查询所有选修了22号课程的学生</p> 
<p style="text-align:center;"><img alt="43392f4069184132a317f63c7b7b4e17.png" src="https://images2.imgbox.com/e1/6c/7a5oYWhg_o.png"></p> 
<hr> 
<p></p> 
<h2 id="%E6%80%BB%E7%BB%93">总结</h2> 
<h2 id="%E4%BB%A5%E4%B8%8A%E5%B0%B1%E6%98%AF%E8%BF%99%E6%AC%A1%E5%A4%8D%E4%B9%A0%E7%9A%84%E4%BA%86%EF%BC%8C%E7%BB%A7%E7%BB%AD%E5%8A%A0%E6%B2%B9%E3%80%82">以上就是这次复习的了，继续加油。</h2> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/78d9466c2d5344e03bafbc4ed775873e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">刷题LeetCode 第六天</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e0d49774c5b29c274800049a16d6b9e4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">数据库（mysql）数据记录的增，删，改，查操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>