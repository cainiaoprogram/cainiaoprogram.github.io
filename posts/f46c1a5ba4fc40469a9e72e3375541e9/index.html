<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>=&gt; 箭头函数 · 方便、快捷，也要小心坑 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="=&gt; 箭头函数 · 方便、快捷，也要小心坑" />
<meta property="og:description" content="箭头函数是必须要掌握的，今天我们一起来学习一下，它给开发者带来方便的同时，也要留意它的「无能」。先看一个例子：
const names = [ &#39;wsy&#39;, &#39;suyan&#39;, &#39;前端小课&#39; ]; let lengths = names.map(name =&gt; name.length); console.log(&#39;lengths = &#39;, lengths); 结过如图：
先看下它的语法：
1、无参数
function call(callback) { callback(); } call(() =&gt; { console.log(&#39;arrow void&#39;); }); // 箭头函数类似于下面这个函数 call(function () { console.log(&#39;void&#39;); }); 2、只有一个参数，无返回值
function call(callback) { callback(&#39;前端小课&#39;); } call(name =&gt; { console.log(&#39;arrow&#39;, name); }); // 箭头函数类似于下面这个函数 call(function (name) { console.log(name); }); 3、只有一个参数，有返回值
function call(callback) { // 返回值为 4 let len = callback(&#39;前端小课&#39;); console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f46c1a5ba4fc40469a9e72e3375541e9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-02-17T08:00:00+08:00" />
<meta property="article:modified_time" content="2020-02-17T08:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">=&gt; 箭头函数 · 方便、快捷，也要小心坑</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="js_content"> 
 <p style="text-align: justify">箭头函数是必须要掌握的，今天我们一起来学习一下，它给开发者带来方便的同时，也要留意它的「无能」。先看一个例子：<br></p> 
 <pre class="has"><code class="language-javascript">const names = [
    'wsy',
    'suyan',
    '前端小课'
];
let lengths = names.map(name =&gt; name.length);
console.log('lengths = ', lengths);
</code></pre> 
 <p style="text-align: justify">结过如图：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/ab/ef/lb020wCG_o.png"></p> 
 <p style="text-align: justify">先看下它的语法：<br></p> 
 <p style="text-align: justify">1、无参数<br></p> 
 <pre class="has"><code class="language-javascript">function call(callback) {
    callback();
}
call(() =&gt; {
    console.log('arrow void');
});
// 箭头函数类似于下面这个函数
call(function () {
    console.log('void');
});
</code></pre> 
 <p style="text-align: justify">2、只有一个参数，无返回值</p> 
 <pre class="has"><code class="language-javascript">function call(callback) {
    callback('前端小课');
}
call(name =&gt; {
    console.log('arrow', name);
});
// 箭头函数类似于下面这个函数
call(function (name) {
    console.log(name);
});
</code></pre> 
 <p style="text-align: justify">3、只有一个参数，有返回值<br></p> 
 <pre class="has"><code class="language-javascript">function call(callback) {
    // 返回值为 4
    let len = callback('前端小课');
    console.log(len);
}


// 只有一行表达式省略大括号
call(name =&gt; name.length);
// 类似于这个
call(name =&gt; {
    return name.length;
});
// 箭头函数类似于下面这个函数
call(function (name) {
    return name.length;
});
</code></pre> 
 <p style="text-align: justify">4.有多个参数，有返回值</p> 
 <pre class="has"><code class="language-javascript">function call(callback) {
    let len = callback(1, 2, 3);
    console.log(len); // 6
}


// 多个个参数，有返回值，只有一行表达式省略大括号
call((a, b, c) =&gt; a + b + c);
// 类似与这个
call((a, b, c) =&gt; {
    return a + b + c;
});
// 箭头函数类似于下面这个函数
call(function (a, b, c) {
    return a + b + c;
});


</code></pre> 
 <p style="text-align: justify">从上面这些例子可以知道，每个箭头函数都能写出一个与其功能相同的普通函数，那为什么还用箭头函数？<br></p> 
 <p style="text-align: justify">在 <a target="_blank" href="https://blog.csdn.net/lefex/article/details/104151726" rel="noopener noreferrer">连接你、我、他 —— this</a> 这节课程中使用箭头函数解决了 this 指向的问题。不知道你们有没有发现当写下面这两个函数的时候，VSCode 默认使用的是箭头函数：<br></p> 
 <pre class="has"><code class="language-javascript">setTimeout(() =&gt; {
    // 这里是箭头函数
}, 100);


setInterval(() =&gt; {
    // 这个是箭头函数
}, 200);
</code></pre> 
 <p style="text-align: justify">使用箭头函数有几点需要留意：</p> 
 <p style="text-align: justify">1、让函数更简短，上面例 3 就是一个很好的例子；</p> 
 <p style="text-align: justify">2、没有自己的 this 和 argument，比如有如下代码：<br></p> 
 <pre class="has"><code class="language-javascript">let person = {
    name: 'suyan',
    showName: function (age) {
        window.setTimeout(() =&gt; {
            console.log('this = ', this);
            console.log('arguments = ', arguments);
            console.log(this.name, age);
        }, 100);
    }
};
person.showName(20);
</code></pre> 
 <p style="text-align: justify">打印结果为：</p> 
 <p style="text-align: justify"><img src="https://images2.imgbox.com/24/4a/r9ddEICN_o.png"><br></p> 
 <p style="text-align: justify">3、不能作为构造函数；<br></p> 
 <pre class="has"><code class="language-javascript">let Dog = name =&gt; {
    this.name = name;
};
// 错误 Uncaught TypeError: Dog is not a constructor
let aDog = new Dog('fe');


let Dog2 = function (name) {
    this.name = name;
};
// 正确
let aDog2 = new Dog2('fe');
</code></pre> 
 <p style="text-align: justify">4.箭头函数没有 prototype 属性：</p> 
 <pre class="has"><code class="language-javascript">let Dog = name =&gt; {
    this.name = name;
};
Dog.prototype; // undefined
</code></pre> 
 <p style="text-align: justify">5.不能通过 call、apply 绑定 this<br></p> 
 <pre class="has"><code class="language-javascript">var name = 'I am widow';


let animal = {
    name: 'animal',
    showName: age =&gt; {
        console.log('this = ', this);
        console.log('name | age = ', this.name, age);
    }
};
let dog = {
    name: 'dog'
};


animal.showName.call(dog, 20);
animal.showName.apply(dog, [21]);
let bindName = animal.showName.bind(dog, 22);
bindName();


</code></pre> 
 <p style="text-align: justify">运行代码，结果如下：</p> 
 <p style="text-align: center"><img src="https://images2.imgbox.com/28/9f/IVW7yU09_o.png"></p> 
 <p style="text-align: justify">由于箭头函数没有 this 指针，不能通过 call、apply、bind 的方式来修改 this。只能传递参数，this 参数将被忽略。<br></p> 
 <p style="text-align: center"><strong>总结</strong></p> 
 <p style="text-align: left">本文主要说明了箭头函数的能与不能。关于 JavaScript 的内容已经快两个月了，不知道还有多少小伙伴还在坚持学习。打卡露个脸，我看看还有多少同学再坚持。大家加油！<br></p> 
 <hr> 
 <p style="text-align: left"><strong>推荐阅读：</strong></p> 
 <p style="text-align: left"><a target="_blank" href="https://blog.csdn.net/lefex/article/details/104218234" rel="noopener noreferrer">函数中的 this 不止有 72 变</a><br><a target="_blank" href="https://blog.csdn.net/lefex/article/details/104151726" rel="noopener noreferrer">连接你、我、他 —— this</a><br></p> 
 <p><img src="https://images2.imgbox.com/25/25/Wc2c0csH_o.png"><br></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26b849be181679320a4d6d69e3162e52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python 网易云音乐评论爬取4</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/492e3a3f484b3c67e4dd3972ae42f56f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">孤立森林算法思想及代码实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>