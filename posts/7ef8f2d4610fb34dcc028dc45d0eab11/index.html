<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL语句的用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL语句的用法" />
<meta property="og:description" content="目录
关系统型数据库相
联系类型
数据库的正规化分析
第一范式：1NF 范式主要就是减产冗余
第二范式：2NF
第三范式：3NF
字符串(char,varchar,text)
char和varchar的比较：
修饰符， 主键，唯一键
常见命令 创建表：
借鉴一个老表创建一个新表，的两种方式
​编辑
增删改查 （批量导入）
增 删
在name下面增加phone文件
在下面增加内容
改 查 select的用法 单
多
内连接 inner join
联合查询union
交叉连接等cross join
左外连接left outer join
右外连接right outer join
取没有交际的表
完全外连接 自连接, 即表自身连接自身 三个表内连接查询
别名
关系统型数据库相 关系Relational ：关系就是二维表，其中：表中的行、列次序并不重要行row：表中的每一行，又称为一条记录record列column：表中的每一列，称为属性，字段，域主键Primary key只能有一个，内容不能相同 复合主键： 多列表加起来生成的主键唯一键Unique key可以有多个 内容不能相同 空置可以null域domain ：男女 年龄 0-150等 联系类型 一对一联系(1:1): 在表A或表B中创建一个字段﹐存储另一个表的主键值 如: 一个人只有一个身份证一对多联系(1:n)：外键, 如: 部门和员工多对多联系(m:n)：增加第三张表, 如: 学生和课 数据库的正规化分析 目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴德斯科范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。
满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般数据库只需满足第三范式(3NF）即可" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7ef8f2d4610fb34dcc028dc45d0eab11/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-13T10:31:11+08:00" />
<meta property="article:modified_time" content="2023-12-13T10:31:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL语句的用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:80px;"><a href="#%E5%85%B3%E7%B3%BB%E7%BB%9F%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8" rel="nofollow">关系统型数据库相</a></p> 
<p id="%E8%81%94%E7%B3%BB%E7%B1%BB%E5%9E%8B-toc" style="margin-left:80px;"><a href="#%E8%81%94%E7%B3%BB%E7%B1%BB%E5%9E%8B" rel="nofollow">联系类型</a></p> 
<p id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%AD%A3%E8%A7%84%E5%8C%96%E5%88%86%E6%9E%90-toc" style="margin-left:80px;"><a href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%AD%A3%E8%A7%84%E5%8C%96%E5%88%86%E6%9E%90" rel="nofollow">数据库的正规化分析</a></p> 
<p id="%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%9A1NF%C2%A0%20%E8%8C%83%E5%BC%8F%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%AF%E5%87%8F%E4%BA%A7%E5%86%97%E4%BD%99-toc" style="margin-left:120px;"><a href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%9A1NF%C2%A0%20%E8%8C%83%E5%BC%8F%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%AF%E5%87%8F%E4%BA%A7%E5%86%97%E4%BD%99" rel="nofollow">第一范式：1NF  范式主要就是减产冗余</a></p> 
<p id="%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%9A2NF-toc" style="margin-left:120px;"><a href="#%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%9A2NF" rel="nofollow">第二范式：2NF</a></p> 
<p id="%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%9A3NF-toc" style="margin-left:120px;"><a href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%9A3NF" rel="nofollow">第三范式：3NF</a></p> 
<p id="%E6%B5%AE%E7%82%B9%E5%9E%8B(float%E5%92%8Cdouble)-toc" style="margin-left:80px;"><a href="#%E6%B5%AE%E7%82%B9%E5%9E%8B%28float%E5%92%8Cdouble%29" rel="nofollow"> 字符串(char,varchar,text)</a></p> 
<p id="char%E5%92%8Cvarchar%E7%9A%84%E6%AF%94%E8%BE%83%EF%BC%9A-toc" style="margin-left:120px;"><a href="#char%E5%92%8Cvarchar%E7%9A%84%E6%AF%94%E8%BE%83%EF%BC%9A" rel="nofollow">char和varchar的比较：</a></p> 
<p id="%E4%BF%AE%E9%A5%B0%E7%AC%A6-toc" style="margin-left:80px;"><a href="#%E4%BF%AE%E9%A5%B0%E7%AC%A6" rel="nofollow">修饰符， 主键，唯一键</a></p> 
<p id="%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4%C2%A0" rel="nofollow">常见命令 </a></p> 
<p id="%C2%A0%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%9A-toc" style="margin-left:80px;"><a href="#%C2%A0%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%9A" rel="nofollow"> 创建表：</a></p> 
<p id="%E5%80%9F%E9%89%B4%E4%B8%80%E4%B8%AA%E8%80%81%E8%A1%A8%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E8%A1%A8%EF%BC%8C%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%E5%80%9F%E9%89%B4%E4%B8%80%E4%B8%AA%E8%80%81%E8%A1%A8%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E8%A1%A8%EF%BC%8C%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F" rel="nofollow">借鉴一个老表创建一个新表，的两种方式</a></p> 
<p id="%E2%80%8B%E7%BC%96%E8%BE%91-toc" style="margin-left:120px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91" rel="nofollow">​编辑</a></p> 
<p id="%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8-toc" style="margin-left:0px;"><a href="#%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8" rel="nofollow">增删改查 （批量导入）</a></p> 
<p id="%E5%A2%9E%20%E5%88%A0-toc" style="margin-left:120px;"><a href="#%E5%A2%9E%20%E5%88%A0" rel="nofollow">增 删</a></p> 
<p id="%E5%9C%A8name%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0phone%E6%96%87%E4%BB%B6-toc" style="margin-left:160px;"><a href="#%E5%9C%A8name%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0phone%E6%96%87%E4%BB%B6" rel="nofollow">在name下面增加phone文件</a></p> 
<p id="%E5%9C%A8%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0%E5%86%85%E5%AE%B9-toc" style="margin-left:160px;"><a href="#%E5%9C%A8%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0%E5%86%85%E5%AE%B9" rel="nofollow">在下面增加内容</a></p> 
<p id="%E6%94%B9%C2%A0-toc" style="margin-left:160px;"><a href="#%E6%94%B9%C2%A0" rel="nofollow">改 </a></p> 
<p id="%E6%9F%A5%C2%A0-toc" style="margin-left:120px;"><a href="#%E6%9F%A5%C2%A0" rel="nofollow">查 </a></p> 
<p id="select%E7%9A%84%E7%94%A8%E6%B3%95%C2%A0%20%C2%A0%20%C2%A0%E5%8D%83%E4%B8%87%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%90%A6%E5%88%99%E7%B4%A2%E5%BC%95%E4%BC%9A%E5%A4%B1%E6%95%88-toc" style="margin-left:160px;"><a href="#select%E7%9A%84%E7%94%A8%E6%B3%95%C2%A0%20%C2%A0%20%C2%A0%E5%8D%83%E4%B8%87%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%90%A6%E5%88%99%E7%B4%A2%E5%BC%95%E4%BC%9A%E5%A4%B1%E6%95%88" rel="nofollow">select的用法     </a></p> 
<p id="%E5%8D%95-toc" style="margin-left:160px;"><a href="#%E5%8D%95" rel="nofollow">单</a></p> 
<p id="%C2%A0%E5%A4%9A-toc" style="margin-left:160px;"><a href="#%C2%A0%E5%A4%9A" rel="nofollow">多</a></p> 
<p id="%E5%86%85%E8%BF%9E%E6%8E%A5%20%C2%A0inner%20join-toc" style="margin-left:200px;"><a href="#%E5%86%85%E8%BF%9E%E6%8E%A5%20%C2%A0inner%20join" rel="nofollow">内连接  inner join</a></p> 
<p id="%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2union-toc" style="margin-left:200px;"><a href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2union" rel="nofollow">联合查询union</a></p> 
<p id="%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%E7%AD%89cross%20join-toc" style="margin-left:200px;"><a href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%E7%AD%89cross%20join" rel="nofollow">交叉连接等cross join</a></p> 
<p id="%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5left%20outer%20join-toc" style="margin-left:200px;"><a href="#%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5left%20outer%20join" rel="nofollow">左外连接left outer join</a></p> 
<p id="%C2%A0%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5right%20outer%20join-toc" style="margin-left:200px;"><a href="#%C2%A0%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5right%20outer%20join" rel="nofollow"> 右外连接right outer join</a></p> 
<p id="%E5%8F%96%E6%B2%A1%E6%9C%89%E4%BA%A4%E9%99%85%E7%9A%84%E8%A1%A8-toc" style="margin-left:200px;"><a href="#%E5%8F%96%E6%B2%A1%E6%9C%89%E4%BA%A4%E9%99%85%E7%9A%84%E8%A1%A8" rel="nofollow">取没有交际的表</a></p> 
<p id="%E5%AE%8C%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%C2%A0-toc" style="margin-left:200px;"><a href="#%E5%AE%8C%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%C2%A0" rel="nofollow">完全外连接 </a></p> 
<p id="%E8%87%AA%E8%BF%9E%E6%8E%A5%2C%20%E5%8D%B3%E8%A1%A8%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%E8%87%AA%E8%BA%AB%C2%A0-toc" style="margin-left:200px;"><a href="#%E8%87%AA%E8%BF%9E%E6%8E%A5%2C%20%E5%8D%B3%E8%A1%A8%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%E8%87%AA%E8%BA%AB%C2%A0" rel="nofollow">自连接, 即表自身连接自身 </a></p> 
<p id="%E4%B8%89%E4%B8%AA%E8%A1%A8%E5%86%85%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E4%B8%89%E4%B8%AA%E8%A1%A8%E5%86%85%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2" rel="nofollow">三个表内连接查询</a></p> 
<p id="%E5%88%AB%E5%90%8D-toc" style="margin-left:40px;"><a href="#%E5%88%AB%E5%90%8D" rel="nofollow">别名</a></p> 
<hr id="hr-toc"> 
<h4>关系统型数据库相</h4> 
<ul><li>关系Relational ：关系就是二维表，其中：表中的行、列次序并不重要</li><li>行row：表中的每一行，又称为一条记录record</li><li>列column：表中的每一列，称为属性，字段，域</li><li>主键Primary key只能有一个，内容不能相同</li><li>       复合主键： 多列表加起来生成的主键</li><li>唯一键Unique key可以有多个 内容不能相同 空置可以null</li><li>域domain ：男女 年龄 0-150等</li></ul> 
<h4 id="%E8%81%94%E7%B3%BB%E7%B1%BB%E5%9E%8B">联系类型</h4> 
<ul><li>一对一联系(1:1): 在表A或表B中创建一个字段﹐存储另一个表的主键值 如: 一个人只有一个身份证</li><li>一对多联系(1:n)：外键, 如: 部门和员工</li><li>多对多联系(m:n)：增加第三张表, 如: 学生和课</li></ul> 
<h4 id="%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%AD%A3%E8%A7%84%E5%8C%96%E5%88%86%E6%9E%90">数据库的正规化分析</h4> 
<p>目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴德斯科范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。</p> 
<p>满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般数据库只需满足第三范式(3NF）即可</p> 
<ul><li>规则是死的,人是活的,所以范式是否必须遵守,要看业务需要而定</li><li>掌握范式的目的是为了在合适的场景下违反范式</li></ul> 
<h5 id="%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%EF%BC%9A1NF%C2%A0%20%E8%8C%83%E5%BC%8F%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%AF%E5%87%8F%E4%BA%A7%E5%86%97%E4%BD%99">第一范式：1NF  范式主要就是减产冗余</h5> 
<ul><li>无重复的列，每一列都是不可分割的基本数据项，同一列中不能有多个值，即实体中的某个属性不能有多个值或者不能有重复的属性，确保每一列的原子性。除去同类型的字段，就是无重复的列</li><li>说明：第一范式（1NF）是对关系模式的基本要求，不满足第一范式（1NF）的数据库就不是关系数据库</li></ul> 
<h5 id="%E7%AC%AC%E4%BA%8C%E8%8C%83%E5%BC%8F%EF%BC%9A2NF">第二范式：2NF</h5> 
<ul><li>第二范式必须先满足第一范式，属性完全依赖于主键，要求表中的每个行必须可以被唯一地区分，通常为表加上每行的唯一标识主键PK，非PK的字段需要与整个PK有直接相关性,即非PK的字段不能依赖于部分主键</li></ul> 
<h5 id="%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F%EF%BC%9A3NF">第三范式：3NF</h5> 
<ul><li>满足第三范式必须先满足第二范式属性，非主键属性不依赖于其它非主键属性。第三范式要求一个数据表中不包含已在其它表中已包含的非主关键字信息，非PK的字段间不能有从属关系    （这主要是为了防止数据冗余，与其非主键依赖关系不如在创一个表）</li></ul> 
<h4 id="%E6%B5%AE%E7%82%B9%E5%9E%8B(float%E5%92%8Cdouble)"> 字符串(char,varchar,text)</h4> 
<ul><li>char(n) 固定长度，最多255个字符,注意不是字节</li><li>varchar(n) 可变长度，最多65535个字符</li><li>tinytext 可变长度，最多255个字符</li><li>text 可变长度，最多65535个字符</li><li>mediumtext 可变长度，最多2的24次方-1个字符</li><li>longtext 可变长度，最多2的32次方-1个字符</li><li>BINARY(M) 固定长度，可存二进制或字符，长度为0-M字节</li><li>VARBINARY(M) 可变长度，可存二进制或字符，允许长度为0-M字节</li><li>内建类型：ENUM枚举, SET集合</li></ul> 
<h5 id="char%E5%92%8Cvarchar%E7%9A%84%E6%AF%94%E8%BE%83%EF%BC%9A">char和varchar的比较：</h5> 
<p>char是指定大小，varchar是动态大小，char快，varchar节省空间，根据情况定义，如果字节大小类似可以varchat，</p> 
<p><img alt="" height="259" src="https://images2.imgbox.com/5e/b9/wdptpr9a_o.png" width="929"></p> 
<h4 id="%E4%BF%AE%E9%A5%B0%E7%AC%A6">修饰符， 主键，唯一键</h4> 
<p>适用所有类型的修饰符：</p> 
<p>NULL                       数据列可包含NULL值，默认值<br> NOT NULL              数据列不允许包含NULL值，相当于网站注册表中的 * 为必填选项<br> DEFAULT                默认值<br> PRIMARY KEY       主键，所有记录中此字段的值不能重复，且不能为NULL<br> UNIQUE KEY          唯一键，所有记录中此字段的值不能重复，但可以为NULL<br> CHARACTER SET name       指定一个字符集</p> 
<p id="%E9%80%82%E7%94%A8%E6%95%B0%E5%80%BC%E5%9E%8B%E7%9A%84%E4%BF%AE%E9%A5%B0%E7%AC%A6%EF%BC%9A%C2%A0%20%C2%A0%20auto_increment"><strong>适用数值型的修饰符：    auto_increment</strong></p> 
<p>AUTO_INCREMENT      自动递增，适用于整数类型, 必须作用于某个 key 的字段,比如primary key<br> UNSIGNED                   无符号</p> 
<h4 id="%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4%C2%A0" style="background-color:transparent;">常见命令 </h4> 
<ul><li> status;               \s;              查看线程版本之类的 </li><li>show databases                  查看数据库</li><li>show tables;                        查看库里几个表</li><li>desc xxx;                             查看表格创建信息</li><li> select * from students;       *代表着字段所有 查看所有表</li><li><li>select database();              查看当前数据库</li><li>select user();                      查看当前用户</li><li><li>show create table student;                            查看以前创建表用的命令</li><li>show table status like 'student'\G;                 查看表的详细信息存储过程，创建日期等</li><li>\G    竖过来显示</li></ul> 
<p></p> 
<ul><li>use mysql                        切换数据库</li><li>create database db1;       创建数据库</li><li> drop table &lt;表格名&gt;        删除表格</li><li>drop database &lt;数据库名&gt;;    删除库</li><li>select * from syudent;     </li></ul> 
<p></p> 
<p>set password for wordpress@'10.0.0.%'="654321";  修改密码<br>  </p> 
<h4 id="%C2%A0%E5%88%9B%E5%BB%BA%E8%A1%A8%EF%BC%9A"> 创建表：</h4> 
<blockquote> 
 <p><strong>列</strong>：  </p> 
 <p>CREATE TABLE student (                                            创建表，名字<br> id int UNSIGNED AUTO_INCREMENT PRIMARY KEY, 名字，4字，全整，自动增加，主键<br> name VARCHAR(20) NOT NULL,                                    名字，限长20，不能为空，<br> age tinyint UNSIGNED,                                                    年龄，1字节，取整（最大255）<br> #height DECIMAL(5,2),                     <br> gender ENUM('M','F') default 'M'         </p> 
 <p>enum 限定值的取值范围，比如（男，女，未知）等    ENUM('M','F') default 'M'    男或女，默认男<br> )AUTO_INCREMENT=10;                   自动增长默认10开始，</p> 
 <p></p> 
 <p>CREATE TABLE students (<br> id int UNSIGNED AUTO_INCREMENT PRIMARY KEY comment "学生编号",<br> name VARCHAR(20) NOT NULL,<br> age tinyint UNSIGNED,<br> #height DECIMAL(5,2),<br> gender ENUM('M','F') default 'M'<br> )AUTO_INCREMENT=10 ;</p> 
</blockquote> 
<p> insert student (name,age)values('xiaoming',20);      写入到student里数据，小明，20岁</p> 
<p>comment ‘描述干什么的’                                   描述干什么的可以加在最后</p> 
<p>列：   id int UNSIGNED AUTO_INCREMENT PRIMARY KEY comment "学生编号",</p> 
<h4 id="%E5%80%9F%E9%89%B4%E4%B8%80%E4%B8%AA%E8%80%81%E8%A1%A8%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%B0%E8%A1%A8%EF%BC%8C%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><strong>借鉴一个老表创建一个新表，的两种方式</strong></h4> 
<ul><li>create table custom like student;       </li><li>创建一个新表借鉴一个老表，表格内容不会集成下来，但是格式规则都会继承下来</li></ul> 
<p><img alt="" height="649" src="https://images2.imgbox.com/b6/b5/5ZGU57Qn_o.png" width="735"></p> 
<ul><li>create table xxx as select * from students;   </li><li>创建一个新表借鉴一个老表，内容都会继承下来，个别规则会丢掉，如自动递增，主键等</li></ul> 
<p></p> 
<h5 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="539" src="https://images2.imgbox.com/65/fb/LndS3idN_o.png" width="677"></h5> 
<h2 id="%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4%E8%A1%A8">增删改查 （批量导入）</h2> 
<h5 id="%E5%A2%9E%20%E5%88%A0">增 删</h5> 
<p>尽量不要跟更改表结构，容易出问题</p> 
<h6 id="%E5%9C%A8name%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0phone%E6%96%87%E4%BB%B6"><strong>在name下面增加phone文件</strong></h6> 
<ul><li>ALTER TABLE students ADD COLUMN phone varchar(11) AFTER name;</li><li>更改，表格，    x，       增加  列     （创建名字） 最多位  谁的下面（name下面phone文件）</li><li>ALTER TABLE s1 DROP COLUMN mobile;  更改，表格，x，删除，列，x</li></ul> 
<pre><code class="language-sql">#修改表名
ALTER TABLE students RENAME s1;
#添加字段
ALTER TABLE s1 ADD phone varchar(11) AFTER name;
#修改字段类型
ALTER TABLE s1 MODIFY phone int;
#修改字段名称和类型
ALTER TABLE s1 CHANGE COLUMN phone mobile char(11);
#删除字段
ALTER TABLE s1 DROP COLUMN mobile;
#修改字符集
ALTER TABLE s1 character set utf8;
#修改数据类型和字符集
ALTER TABLE s1 change name name varchar(20) character set utf8;
#添加字段
ALTER TABLE students ADD gender ENUM('m','f');
alter table student modify is_del bool default false;
#修改字段名和类型
ALETR TABLE students CHANGE id sid int UNSIGNED NOT NULL PRIMARY KEY;
#删除字段
ALTER TABLE students DROP age;
#查看表结构
DESC students;
#新建表无主键，添加和删除主键
CREATE TABLE t1 SELECT * FROM students
ALTER TABLE t1 add primary key (stuid);
ALTER TABLE t1 drop primary key ;
#添加外键
ALTER TABLE students add foreign key(TeacherID) references teachers(tid);
#删除外键
SHOW CREATE TABLE students #查看外键名
ALTER TABLE students drop foreign key &lt;外键名&gt;;</code></pre> 
<p>虽然有自动增长，但是如果不写的话，就需要，写清楚赋值对象  需要一一对应，一行也可以加多行记录</p> 
<h6 id="%E5%9C%A8%E4%B8%8B%E9%9D%A2%E5%A2%9E%E5%8A%A0%E5%86%85%E5%AE%B9">在下面增加内容</h6> 
<p>列：</p> 
<ul><li>insert into students value(26,'wei',18,'M',1,null);   </li><li>insert students set name='wsd',age=22,gender='M';   这样亦可以</li></ul> 
<p>​<img alt="" height="66" src="https://images2.imgbox.com/86/87/C9r6p26P_o.png" width="738">​</p> 
<p><img alt="" height="85" src="https://images2.imgbox.com/fa/15/lWKXFh9S_o.png" width="550"></p> 
<p>insert students (name, age, gender) select name, age, gender from teachers </p> 
<p>把teachers的 name, age, gender 插入到students的最后面   </p> 
<p><img alt="" height="163" src="https://images2.imgbox.com/aa/02/qtYfZLJV_o.png" width="742">​</p> 
<h6 id="%E6%94%B9%C2%A0">改 </h6> 
<p>update students set age=21,gender='F' where name='wei';</p> 
<ul><li>把wei的年龄改成21，性别女，指定修改name=wei的    where指定</li><li>也可以 where age &gt;20;   把20岁以上的都改了</li></ul> 
<p><img alt="" height="180" src="https://images2.imgbox.com/79/cd/7iy5CfJ2_o.png" width="725"></p> 
<p>改后</p> 
<p><img alt="" height="85" src="https://images2.imgbox.com/78/f6/4N5SLQre_o.png" width="711"></p> 
<p> update students set teacherid=1 where TeacherID is null;</p> 
<ul><li>把teacherid的空值（null）改为1 ，这里需要用is 不能用=；</li></ul> 
<p>delete from students where stuid=30;          删除指定行 </p> 
<p><img alt="" height="249" src="https://images2.imgbox.com/af/9a/IBeWjd96_o.png" width="631"></p> 
<h5 id="%E6%9F%A5%C2%A0">查 </h5> 
<h6 id="select%E7%9A%84%E7%94%A8%E6%B3%95%C2%A0%20%C2%A0%20%C2%A0%E5%8D%83%E4%B8%87%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%90%A6%E5%88%99%E7%B4%A2%E5%BC%95%E4%BC%9A%E5%A4%B1%E6%95%88">select的用法     </h6> 
<ul><li>不能使用正则表达式，否则有的索引会失效</li></ul> 
<p>select * from students;   *代表着字段所有（就是把字段的所有内容打印粗来）可以把*换成列名</p> 
<p>select 类似于echo有类似打印功能，如图；  如果后面跟文件名就是打印的行长</p> 
<p><img alt="" height="428" src="https://images2.imgbox.com/fb/3b/i4YJUVP8_o.png" width="506">​</p> 
<p>查看students表中年龄是10~20岁的stuid ,name,gender,age字段信息</p> 
<ul><li> select stuid ,name,gender,age from students where age between 18 and 20;</li><li>select stuid ,name,gender,age from students where age &gt;=18 and age &lt;= 20;</li></ul> 
<p><img alt="" height="282" src="https://images2.imgbox.com/6a/27/jYQFA6S1_o.png" width="781">​</p> 
<h6 id="%E5%8D%95">单</h6> 
<ul><li>order  by age;  从小到大排序</li><li>order  by age desc   排序从打到小</li><li>avg(age)  统计括号里的平均年龄</li><li>max(stuid)显示stuid最大值的编号</li><li>group by gender 分组</li></ul> 
<pre><code class="language-sql">mysql&gt; select stuid,name,gender,age from students;
+-------+---------------+--------+-----+
| stuid | name          | gender | age |
+-------+---------------+--------+-----+
|     1 | Shi Zhongyu   | M      |  22 |
|     2 | Shi Potian    | M      |  22 |
|     3 | Xie Yanke     | M      |  53 |
|     4 | Ding Dian     | M      |  32 |
|     5 | Yu Yutong     | M      |  26 |        查询students下的stuid,name,gender,age信息
|     6 | Shi Qing      | M      |  46 |
|     7 | Xi Ren        | F      |  19 |
|     8 | Lin Daiyu     | F      |  17 |
|     9 | Ren Yingying  | F      |  20 |
|    10 | Yue Lingshan  | F      |  19 |
|    11 | Yuan Chengzhi | M      |  23 |
|    12 | Wen Qingqing  | F      |  19 |
|    13 | Tian Boguang  | M      |  33 |
|    14 | Lu Wushuang   | F      |  17 |
|    15 | Duan Yu       | M      |  19 |
|    16 | Xu Zhu        | M      |  21 |
|    17 | Lin Chong     | M      |  25 |
|    18 | Hua Rong      | M      |  23 |
|    19 | Xue Baochai   | F      |  18 |
|    20 | Diao Chan     | F      |  19 |
|    21 | Huang Yueying | F      |  22 |
|    22 | Xiao Qiao     | F      |  20 |
|    23 | Ma Chao       | M      |  23 |

mysql&gt; select stuid ,name,gender,age from students where gender='F';
+-------+---------------+--------+-----+
| stuid | name          | gender | age |
+-------+---------------+--------+-----+
|     7 | Xi Ren        | F      |  19 |
|     8 | Lin Daiyu     | F      |  17 |
|     9 | Ren Yingying  | F      |  20 |         查询这里所有信息都是女的
|    10 | Yue Lingshan  | F      |  19 |
|    12 | Wen Qingqing  | F      |  19 |
|    14 | Lu Wushuang   | F      |  17 |
|    19 | Xue Baochai   | F      |  18 |
|    20 | Diao Chan     | F      |  19 |
|    21 | Huang Yueying | F      |  22 |
|    22 | Xiao Qiao     | F      |  20 |
|    26 | wei           | F      |  21 |
+-------+---------------+--------+-----+


(root@localhost) [hellodb]&gt; select stuid ,name,gender,age from students where name like '%x%';
+-------+-------------+--------+-----+
| stuid | name        | gender | age |
+-------+-------------+--------+-----+
|     3 | Xie Yanke   | M      |  53 |
|     7 | Xi Ren      | F      |  19 |     模糊查询
|    16 | Xu Zhu      | M      |  21 |     x%代表x开头的name模糊查询
|    19 | Xue Baochai | F      |  18 |     %x%  代表有x的模糊查询
|    22 | Xiao Qiao   | F      |  20 |
|    24 | Xu Xian     | M      |  27 |
+-------+-------------+--------+-----+


root@localhost) [hellodb]&gt; select distinct age from students;
+-----+
| age |
+-----+
|  22 |
|  53 |
|  32 |                 distinct   合并去重查询
|  26 |
|  46 |
|  19 |
|  17 |
|  20 |
|  23 |
|  33 |
|  21 |
|  25 |
|  18 |
|  27 |
| 100 |
|  45 |
|  94 |
|  77 |
+-----+

(root@localhost) [hellodb]&gt; select distinct age from students order  by age desc;
+-----+
| age |
+-----+
| 100 |
|  94 |
|  77 |
|  53 |            order  by age;  从小到大排序
|  46 |
|  45 |         order  by age desc   排序从打到小
|  33 |
|  32 |
|  27 |
|  26 |
|  25 |
|  23 |
|  22 |
|  21 |
|  20 |
|  19 |
|  18 |
|  17 |
+-----+
18 rows in set (0.00 sec)

(root@localhost) [hellodb]&gt; select distinct age from students order  by age;
+-----+
| age |
+-----+
|  17 |
|  18 |
|  19 |
|  20 |     order  by age;  从小到大排序
|  22 |
|  23 |
|  25 |
|  26 |
|  27 |
|  32 |
|  33 |
|  45 |
|  46 |
|  53 |
|  77 |
|  94 |
| 100 |
+-----+
18 rows in set (0.00 sec)
、root@localhost) [hellodb]&gt; select gender,avg(age) from students group by gender;
+--------+----------+
| gender | avg(age) |       avg(age)  统计括号里的平均年龄
+--------+----------+       gender 显示年龄大小
| F      |  19.1818 |
| M      |  32.3125 |
+--------+----------+

select gender,max(stuid),avg(age) from students grouproup by gender;
+--------+------------+----------+
| gender | max(stuid) | avg(age) |
+--------+------------+----------+     max(stuid)显示stuid最大值的编号
| M      |         28 |  37.2941 |    
| F      |         29 |  24.0000 |   
+--------+------------+----------+

(root@localhost) [hellodb]&gt; select gender,avg(age) from students group by gender having gender = 'M';
+--------+----------+
| gender | avg(age) |
+--------+----------+      group by gender 分组
| M      |  32.3125 |      having gender = 'M'; 分组后过滤，需要把他加在后面
+--------+----------+

mysql&gt; select gender,avg(age) from students where gender = 'M' group by gender;
+--------+----------+
| gender | avg(age) |        where gender = 'M'  分组前过滤，需要把他加在过滤前面
+--------+----------+        
| M      |  37.2941 |
+--------+----------+




(root@localhost) [hellodb]&gt; select classid,gender,max(age) from students group by classid,gender;
+---------+--------+----------+
| classid | gender | max(age) |
+---------+--------+----------+
|       2 | M      |       53 |
|       1 | M      |       22 |   order by classid 在后面加这个可以对于班级进行排序
|       4 | M      |       32 |   取每个班性别的最大值 
|       3 | M      |       26 |
|       5 | M      |       46 |
|       3 | F      |       19 |     
|       7 | F      |       19 |    
|       6 | F      |       22 |
|       6 | M      |       23 |
|       1 | F      |       21 |
|       7 | M      |       23 |
|    NULL | M      |      100 |
|    NULL | F      |       77 |
+---------+--------+----------+

mysql&gt; select * from students limit 3;
+-------+-------------+-----+--------+---------+-----------+
| StuID | Name        | Age | Gender | ClassID | TeacherID |
+-------+-------------+-----+--------+---------+-----------+
|     1 | Shi Zhongyu |  22 | M      |       2 |         3 |    取前三
|     2 | Shi Potian  |  22 | M      |       1 |         7 |
|     3 | Xie Yanke   |  53 | M      |       2 |        16 |
+-------+-------------+-----+--------+---------+-----------+

select * from students order by age desc limit 3; 
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng   | 100 | M      |    NULL |         1 |      排序取前三
|    28 | Zhang Sanfeng |  94 | M      |    NULL |         1 |
|    29 | Miejue Shitai |  77 | F      |    NULL |         1 |
+-------+---------------+-----+--------+---------+-----------+
select * from students order by age desc limit 3,4;
+-------+--------------+-----+--------+---------+-----------+
| StuID | Name         | Age | Gender | ClassID | TeacherID |
+-------+--------------+-----+--------+---------+-----------+
|     3 | Xie Yanke    |  53 | M      |       2 |        16 |
|     6 | Shi Qing     |  46 | M      |       5 |         1 |   跳过前三，显示后4
|    27 | Song Jiang   |  45 | M      |    NULL |         1 |
|    13 | Tian Boguang |  33 | M      |       2 |         1 |
+-------+--------------+-----+--------+---------+-----------+

</code></pre> 
<pre><code class="language-sql">select * from students where age &gt; (select avg(age) from teachers);
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng   | 100 | M      |    NULL |         1 |
|    28 | Zhang Sanfeng |  94 | M      |    NULL |         1 |
+-------+---------------+-----+--------+---------+-----------+
   学生表的年龄比老师平均年龄大的是

select stuid,name,age from students union select tid,name,age from teachers;
+-------+---------------+-----+
| stuid | name          | age |
+-------+---------------+-----+
|     1 | Shi Zhongyu   |  22 |
|     2 | Shi Potian    |  22 |
|     3 | Xie Yanke     |  53 |
|     4 | Ding Dian     |  32 |
|     5 | Yu Yutong     |  26 |
|     6 | Shi Qing      |  46 |
|     7 | Xi Ren        |  19 |
|     8 | Lin Daiyu     |  17 |
|     9 | Ren Yingying  |  20 |
|    10 | Yue Lingshan  |  19 |
|    11 | Yuan Chengzhi |  23 |
|    12 | Wen Qingqing  |  19 |
|    13 | Tian Boguang  |  33 |
|    14 | Lu Wushuang   |  17 |       合并学生表和老师表的指定列
|    15 | Duan Yu       |  19 |
|    16 | Xu Zhu        |  21 |
|    17 | Lin Chong     |  25 |
|    18 | Hua Rong      |  23 |
|    19 | Xue Baochai   |  18 |
|    20 | Diao Chan     |  19 |
|    21 | Huang Yueying |  22 |
|    22 | Xiao Qiao     |  20 |
|    23 | Ma Chao       |  23 |
|    24 | Xu Xian       |  27 |
|    25 | Sun Dasheng   | 100 |
|    26 | wei           |  21 |
|    27 | Song Jiang    |  45 |
|    28 | Zhang Sanfeng |  94 |
|    29 | Miejue Shitai |  77 |
|     1 | Song Jiang    |  45 |
|     2 | Zhang Sanfeng |  94 |
|     3 | Miejue Shitai |  77 |
|     4 | Lin Chaoying  |  93 |
+-------+---------------+-----+


mysql&gt; select * from students where age &gt; (select avg(age) from teachers);
#从名为students的表中选择所有年龄大于teachers表中年龄平均值的记录。
+-------+-------------+-----+--------+---------+-----------+
| StuID | Name        | Age | Gender | ClassID | TeacherID |
+-------+-------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng | 100 | M      |    NULL |      NULL |
+-------+-------------+-----+--------+---------+-----------+
mysql&gt; update students set age=(select avg(age)from teachers) where stuid=25;
Query OK, 1 row affected (0.00 sec)
#将teachers表中age字段的平均值更新到students表中stuid为25的记录的age字段。
mysql&gt; select * from students order by age desc;
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng   |  77 | M      |    NULL |      NULL |</code></pre> 
<h6 id="%C2%A0%E5%A4%9A">多</h6> 
<p>联合查询union<br> 交叉连接 cross join<br> 内连接  inner join <br> 外连接  left outer join  right outer join </p> 
<h6 id="%E5%86%85%E8%BF%9E%E6%8E%A5%20%C2%A0inner%20join">内连接  inner join</h6> 
<p>inner join 内连接取多个表的交集</p> 
<pre><code class="language-sql">mysql&gt; select * from students inner join teachers on students.gender=teachers.gender;
+-------+---------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
| StuID | Name          | Age | Gender | ClassID | TeacherID | TID | Name          | Age | Gender |
+-------+---------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   1 | Song Jiang    |  45 | M      |
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   2 | Zhang Sanfeng |  94 | M      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   1 | Song Jiang    |  45 | M      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   2 | Zhang Sanfeng |  94 | M      |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 |   1 | Song Jiang    |  45 | M      |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 |   2 | Zhang Sanfeng |  94 | M      |
|     4 | Ding Dian     |  32 | M      |       4 |         4 |   1 | Song Jiang    |  45 
</code></pre> 
<h6 id="%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2union">联合查询union</h6> 
<p>联合查询 Union 实现的条件,多个表的字段数量相同,字段名和数据类型可以不同,但一般数据类型是相同的.</p> 
<pre><code class="language-sql">mysql&gt; select stuid,name,age from students
    -&gt; union
    -&gt; select tid,name,age from teachers;
#取两个表的tid,name,age 合并在一起  ，这样搞容易错乱
mysql&gt; select stuid,name,age from students union select tid,name,age from teachers;
+-------+---------------+-----+
| stuid | name          | age |
+-------+---------------+-----+
|     1 | Shi Zhongyu   |  22 |
|     2 | Shi Potian    |  22 |
|     3 | Xie Yanke     |  53 |
|     4 | Ding Dian     |  32 |
|     5 | Yu Yutong     |  26 |
|     6 | Shi Qing      |  46 |
|     7 | Xi Ren        |  19 |
|     8 | Lin Daiyu     |  17 |
|     9 | Ren Yingying  |  20 |
|    10 | Yue Lingshan  |  19 |
|    11 | Yuan Chengzhi |  23 |
|    12 | Wen Qingqing  |  19 |
|    13 | Tian Boguang  |  33 |
|    14 | Lu Wushuang   |  17 |
|    15 | Duan Yu       |  19 |
|    16 | Xu Zhu        |  21 |
|    17 | Lin Chong     |  25 |
|    18 | Hua Rong      |  23 |
|    19 | Xue Baochai   |  18 |
|    20 | Diao Chan     |  19 |
|    21 | Huang Yueying |  22 |
|    22 | Xiao Qiao     |  20 |
|    23 | Ma Chao       |  23 |
|    24 | Xu Xian       |  27 |
|    25 | Sun Dasheng   |  77 |
|    26 | wei           |  21 |
|    27 | wsd           |  22 |
|     1 | Song Jiang    |  45 |
|     2 | Zhang Sanfeng |  94 |
|     3 | Miejue Shitai |  77 |
|     4 | Lin Chaoying  |  93 |
+-------+---------------+-----+

</code></pre> 
<pre><code class="language-sql">select * from students where age &gt; (select avg(age) from teachers);
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng   | 100 | M      |    NULL |         1 |
|    28 | Zhang Sanfeng |  94 | M      |    NULL |         1 |
+-------+---------------+-----+--------+---------+-----------+
   学生表的年龄比老师平均年龄大的是

select stuid,name,age from students union select tid,name,age from teachers;
+-------+---------------+-----+
| stuid | name          | age |
+-------+---------------+-----+
|     1 | Shi Zhongyu   |  22 |
|     2 | Shi Potian    |  22 |
|     3 | Xie Yanke     |  53 |
|     4 | Ding Dian     |  32 |
|     5 | Yu Yutong     |  26 |
|     6 | Shi Qing      |  46 |
|     7 | Xi Ren        |  19 |
|     8 | Lin Daiyu     |  17 |
|     9 | Ren Yingying  |  20 |
|    10 | Yue Lingshan  |  19 |
|    11 | Yuan Chengzhi |  23 |
|    12 | Wen Qingqing  |  19 |
|    13 | Tian Boguang  |  33 |
|    14 | Lu Wushuang   |  17 |       合并学生表和老师表的指定列
|    15 | Duan Yu       |  19 |
|    16 | Xu Zhu        |  21 |
|    17 | Lin Chong     |  25 |
|    18 | Hua Rong      |  23 |
|    19 | Xue Baochai   |  18 |
|    20 | Diao Chan     |  19 |
|    21 | Huang Yueying |  22 |
|    22 | Xiao Qiao     |  20 |
|    23 | Ma Chao       |  23 |
|    24 | Xu Xian       |  27 |
|    25 | Sun Dasheng   | 100 |
|    26 | wei           |  21 |
|    27 | Song Jiang    |  45 |
|    28 | Zhang Sanfeng |  94 |
|    29 | Miejue Shitai |  77 |
|     1 | Song Jiang    |  45 |
|     2 | Zhang Sanfeng |  94 |
|     3 | Miejue Shitai |  77 |
|     4 | Lin Chaoying  |  93 |
+-------+---------------+-----+


mysql&gt; select * from students where age &gt; (select avg(age) from teachers);
#从名为students的表中选择所有年龄大于teachers表中年龄平均值的记录。
+-------+-------------+-----+--------+---------+-----------+
| StuID | Name        | Age | Gender | ClassID | TeacherID |
+-------+-------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng | 100 | M      |    NULL |      NULL |
+-------+-------------+-----+--------+---------+-----------+
mysql&gt; update students set age=(select avg(age)from teachers) where stuid=25;
Query OK, 1 row affected (0.00 sec)
#将teachers表中age字段的平均值更新到students表中stuid为25的记录的age字段。
mysql&gt; select * from students order by age desc;
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|    25 | Sun Dasheng   |  77 | M      |    NULL |      NULL |
</code></pre> 
<h6 id="%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5%E7%AD%89cross%20join">交叉连接等cross join</h6> 
<p><br> cross join 即多表的记录之间做笛卡尔乘积组合，并且多个表的列横向合并相加, "雨露均沾"<br> 比如: 第一个表3行4列,第二个表5行6列,cross join后的结果为3*5=15行,4+6=10列<br> 交叉连接生成的记录可能会非常多,建议慎用</p> 
<pre><code class="language-sql">union 横行结合 #横向合并，交叉连接（横向笛卡尔）


交叉连接 100和100的数据 是100x100的合成数据 尽量千万别这样做
select * from students inner join teachers on students.gender=teachers.gender;

+-------+---------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
| StuID | Name          | Age | Gender | ClassID | TeacherID | TID | Name          | Age | Gender |
+-------+---------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   4 | Lin Chaoying  |  93 | F      |
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   3 | Miejue Shitai |  77 | F      |
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   2 | Zhang Sanfeng |  94 | M      |
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |   1 | Song Jiang    |  45 | M      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   4 | Lin Chaoying  |  93 | F      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   3 | Miejue Shitai |  77 | F      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   2 | Zhang Sanfeng |  94 | M      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |   1 | Song Jiang    |  45 | M      |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 |   4 | Lin Chaoying  |  93 | F      |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 |   3 | Miejue Shitai |  77 | F      |
           ``````````````````````````

#从students表和teachers表中选择所有的列，并且只返回那些在teacherid列和tid列上具有相同值的行。
SELECT 列名
FROM 表1
INNER JOIN 表2
ON 表1.列名 = 表2.列名;

mysql&gt; select *from students inner join teachers on students.teacherid=teachers.tid;
+-------+-------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
| StuID | Name        | Age | Gender | ClassID | TeacherID | TID | Name          | Age | Gender |
+-------+-------------+-----+--------+---------+-----------+-----+---------------+-----+--------+
|     5 | Yu Yutong   |  26 | M      |       3 |         1 |   1 | Song Jiang    |  45 | M      |
|     1 | Shi Zhongyu |  22 | M      |       2 |         3 |   3 | Miejue Shitai |  77 | F      |
|     4 | Ding Dian   |  32 | M      |       4 |         4 |   4 | Lin Chaoying  |  93 | F      |
+-------+-------------+-----+--------+---------+-----------+-----+---------------+-----+-</code></pre> 
<h6 id="%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5left%20outer%20join">左外连接left outer join</h6> 
<pre><code class="language-sql">学生表对应的老师表id
#获取所有学生的信息，并且将他们所属的教师信息也一并获取。如果某个学生没有对应的教师信息，则该学生的教师信息会显示为NULL。
mysql&gt; select * from students left outer join teachers on students.teacherid=teachers.tid;
+-------+---------------+-----+--------+---------+-----------+------+---------------+------+--------+
| StuID | Name          | Age | Gender | ClassID | TeacherID | TID  | Name          | Age  | Gender |
+-------+---------------+-----+--------+---------+-----------+------+---------------+------+--------+
|     5 | Yu Yutong     |  26 | M      |       3 |         1 |    1 | Song Jiang    |   45 | M      |
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |    3 | Miejue Shitai |   77 | F      |
|     4 | Ding Dian     |  32 | M      |       4 |         4 |    4 | Lin Chaoying  |   93 | F      |
|     2 | Shi Potian    |  22 | M      |       1 |         7 | NULL | NULL          | NULL | NULL   |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 | NULL | NULL          | NULL | NULL   |
|     6 | Shi Qing      |  46 | M      |       5 |      NULL | NULL | NULL          | NULL
                ···················· </code></pre> 
<h6 id="%C2%A0%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5right%20outer%20join"> 右外连接right outer join</h6> 
<ul><li>获取所有教师的信息，并且将他们所教授的学生信息也一并获取。如果某个教师没有对应的学生信息，则该教师的学生信息会显示为NULL。</li></ul> 
<pre><code class="language-sql">mysql&gt; select * from students right outer join teachers on students.teacherid=teachers.tid;
+-------+-------------+------+--------+---------+-----------+-----+---------------+-----+--------+
| StuID | Name        | Age  | Gender | ClassID | TeacherID | TID | Name          | Age | Gender |
+-------+-------------+------+--------+---------+-----------+-----+---------------+-----+--------+
|     1 | Shi Zhongyu |   22 | M      |       2 |         3 |   3 | Miejue Shitai |  77 | F      |
|     4 | Ding Dian   |   32 | M      |       4 |         4 |   4 | Lin Chaoying  |  93 | F      |
|     5 | Yu Yutong   |   26 | M      |       3 |         1 |   1 | Song Jiang    |  45 | M      |
|  NULL | NULL        | NULL | NULL   |    NULL |      NULL |   2 | Zhang Sanfeng |  94 | M      |
+-------+-------------+------+--------+---------+-----------+-----+---------------+-----+--------+
</code></pre> 
<h6 id="%E5%8F%96%E6%B2%A1%E6%9C%89%E4%BA%A4%E9%99%85%E7%9A%84%E8%A1%A8">取没有交际的表</h6> 
<pre><code class="language-sql">mysql&gt; select * from students left outer join teachers on students.teacherid=teachers.tid is null;
+-------+---------------+-----+--------+---------+-----------+------+---------------+------+--------+
| StuID | Name          | Age | Gender | ClassID | TeacherID | TID  | Name          | Age  | Gender |
+-------+---------------+-----+--------+---------+-----------+------+---------------+------+--------+
|     6 | Shi Qing      |  46 | M      |       5 |      NULL |    1 | Song Jiang    |   45 | M      |
|     7 | Xi Ren        |  19 | F      |       3 |      NULL |    1 | Song Jiang    |   45 | M      |
|     8 | Lin Daiyu     |  17 | F      |       7 |      NULL |    1 | Song Jiang    |   45 | M      |
|     9 | Ren Yingying  |  20 | F      |       6 |      NULL |    1 | Song Jiang    |   45 | M      |
|    10 | Yue Lingshan  |  19 | F      |       3 |      NULL |    1 | Song Jiang    |   45 | M      |
|    11 | Yuan Chengzhi |  23 | M      |       6 |      NULL |    1 | Song Jiang    |   45 | M      |
|    12 | Wen Qingqing  |  19 | F      |       1 |      NULL |    1 | Song Jiang    |   45 | M      |
|    13 | Tian Boguang  |  33 | M      |       2 |      NULL |    1 | Song Jiang    |   45 | M      |
</code></pre> 
<h6 id="%E5%AE%8C%E5%85%A8%E5%A4%96%E8%BF%9E%E6%8E%A5%C2%A0">完全外连接 </h6> 
<p>就是左连接加右链接组成的</p> 
<pre><code class="language-sql">ysql&gt; select * from students left outer join teachers on students.teacherid=teachers.tid
    -&gt; union
    -&gt; select * from students right join teachers on students.teacherid=teachers.tid
    -&gt; ;
+-------+---------------+------+--------+---------+-----------+------+---------------+------+--------+
| StuID | Name          | Age  | Gender | ClassID | TeacherID | TID  | Name          | Age  | Gender |
+-------+---------------+------+--------+---------+-----------+------+---------------+------+--------+
|     5 | Yu Yutong     |   26 | M      |       3 |         1 |    1 | Song Jiang    |   45 | M      |
|     1 | Shi Zhongyu   |   22 | M      |       2 |         3 |    3 | Miejue Shitai |   77 | F      |
|     4 | Ding Dian     |   32 | M      |       4 |         4 |    4 | Lin Chaoying  |   93 | F      |
|     2 | Shi Potian    |   22 | M      |       1 |         7 | NULL | NULL          | NULL | NULL   |
|     3 | Xie Yanke     |   53 | M      |       2 |        16 | NULL | NULL          | NULL | NULL   |
|     6 | Shi Qing      |   46 | M      |       5 |      NULL | NULL | NULL          | NULL | NULL   |
|     7 | Xi Ren        |   19 | F      |       3 |      NULL | NULL | NULL          | NULL | NULL   |
|     8 | Lin Daiyu     |   17 | F      |       7 |      NULL | NULL | NULL          | NULL | NULL   |
</code></pre> 
<h6 id="%E8%87%AA%E8%BF%9E%E6%8E%A5%2C%20%E5%8D%B3%E8%A1%A8%E8%87%AA%E8%BA%AB%E8%BF%9E%E6%8E%A5%E8%87%AA%E8%BA%AB%C2%A0">自连接, 即表自身连接自身 </h6> 
<p>创建</p> 
<p>写入</p> 
<p>合并 e.leader_id=l.emp_id的对比  一个表格取俩个代号；</p> 
<pre><code class="language-sql">mysql&gt; create table emp (emp_id int auto_increment primary key ,name varchar(10),leader_id int);
mysql&gt; insert emp(name,leader_id)value('mage',null),('zhangsir',1),('wang',1),('li',3),('zhao',2);
mysql&gt; select * from emp;
+--------+----------+-----------+
| emp_id | name     | leader_id |
+--------+----------+-----------+
|      1 | mage     |      NULL |
|      2 | zhangsir |         1 |
|      3 | wang     |         1 |
|      4 | li       |         3 |
|      5 | zhao     |         2 |
    ···········
合并
mysql&gt; select * from emp e inner join emp l on e.leader_id=l.emp_id;
+--------+----------+-----------+--------+----------+-----------+
| emp_id | name     | leader_id | emp_id | name     | leader_id |
+--------+----------+-----------+--------+----------+-----------+
|      2 | zhangsir |         1 |      1 | mage     |      NULL |
|      3 | wang     |         1 |      1 | mage     |      NULL |
|      4 | li       |         3 |      3 | wang     |         1 |
|      5 | zhao     |         2 |      2 | zhangsir |         1 |
</code></pre> 
<p> null换名（无上级）</p> 
<pre><code class="language-sql">mysql&gt; select e.name emp_name, l.name leader_name from emp e left join emp l on e.leader_id=l.emp_id;
+----------+-------------+
| emp_name | leader_name |
+----------+-------------+
| mage     | NULL        |
| zhangsir | mage        |
| wang     | mage        |
| li       | wang        |
| zhao     | zhangsir    |
| mage     | NULL        |
| zhangsir | mage        |
| wang     | mage        |
| li       | wang        |
| zhao     | zhangsir    |
+----------+-------------+
10 rows in set (0.00 sec)

mysql&gt; select e.name emp_name, IFNULL(l.name, '无上级' ) leader_name from emp e left join emp l on e.leader_id=l.emp_id;
+----------+-------------+
| emp_name | leader_name |
+----------+-------------+
| mage     | 无上级      |
| zhangsir | mage        |
| wang     | mage        |
| li       | wang        |
| zhao     | zhangsir    |
</code></pre> 
<h3 id="%E4%B8%89%E4%B8%AA%E8%A1%A8%E5%86%85%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2">三个表内连接查询</h3> 
<pre><code class="language-sql">mysql&gt; select * from scores;      #分数表                                                                                             
+----+-------+----------+-------+
| ID | StuID | CourseID | Score |
+----+-------+----------+-------+
|  1 |     1 |        2 |    77 |
|  2 |     1 |        6 |    93 |
|  3 |     2 |        2 |    47 |
|  4 |     2 |        5 |    97 |
|  5 |     3 |        2 |    88 |
|  6 |     3 |        6 |    75 |
|  7 |     4 |        5 |    71 |
|  8 |     4 |        2 |    89 |
|  9 |     5 |        1 |    39 |
| 10 |     5 |        7 |    63 |
| 11 |     6 |        1 |    96 |
| 12 |     7 |        1 |    86 |
| 13 |     7 |        7 |    83 |
| 14 |     8 |        4 |    57 |
| 15 |     8 |        3 |    93 |
+----+-------+----------+-------+

mysql&gt; select * from courses;  #课程表
+----------+----------------+
| CourseID | Course         |
+----------+----------------+
|        1 | Hamo Gong      |
|        2 | Kuihua Baodian |
|        3 | Jinshe Jianfa  |
|        4 | Taiji Quan     |
|        5 | Daiyu Zanghua  |
|        6 | Weituo Zhang   |
|        7 | Dagou Bangfa   |
+----------+----------------+

mysql&gt; select * from students;;    学生表
+-------+---------------+-----+--------+---------+-----------+
| StuID | Name          | Age | Gender | ClassID | TeacherID |
+-------+---------------+-----+--------+---------+-----------+
|     1 | Shi Zhongyu   |  22 | M      |       2 |         3 |
|     2 | Shi Potian    |  22 | M      |       1 |         7 |
|     3 | Xie Yanke     |  53 | M      |       2 |        16 |
|     4 | Ding Dian     |  32 | M      |       4 |         4 |
|     5 | Yu Yutong     |  26 | M      |       3 |         1 |
|     6 | Shi Qing      |  46 | M      |       5 |      NULL |
|     7 | Xi Ren        |  19 | F      |       3 |      NULL |
|     8 | Lin Daiyu     |  17 | F      |       7 |      NULL |
|     9 | Ren Yingying  |  20 | F      |       6 |      NULL |
|    10 | Yue Lingshan  |  19 | F      |       3 |      NULL |
|    11 | Yuan Chengzhi |  23 | M      |       6 |      NULL |
|    12 | Wen Qingqing  |  19 | F      |       1 |      NULL |
|    13 | Tian Boguang  |  33 | M      |       2 |      NULL |
|    14 | Lu Wushuang   |  17 | F      |       3 |      NULL |
|    15 | Duan Yu       |  19 | M      |       4 |      NULL |
|    16 | Xu Zhu        |  21 | M      |       1 |      NULL |
|    17 | Lin Chong     |  25 | M      |       4 |      NULL |
|    18 | Hua Rong      |  23 | M      |       7 |      NULL |
|    19 | Xue Baochai   |  18 | F      |       6 |      NULL |
|    20 | Diao Chan     |  19 | F      |       7 |      NULL |
|    21 | Huang Yueying |  22 | F      |       6 |      NULL |
|    22 | Xiao Qiao     |  20 | F      |       1 |      NULL |
|    23 | Ma Chao       |  23 | M      |       4 |      NULL |
|    24 | Xu Xian       |  27 | M      |    NULL |      NULL |
|    25 | Sun Dasheng   |  77 | M      |    NULL |      NULL |
|    26 | wei           |  21 | F      |       1 |      NULL |
|    27 | wsd           |  22 | M      |    NULL |      NULL |
+-------+---------------+-----+--------+---------+-----------+
27 rows in set (0.00 sec)

mysql&gt; select students.name, Course, Score from students inner join scores on students.stuid = scores.stuid inner join courses on scores.CourseID = courses.CourseID;
+-------------+----------------+-------+
| name        | Course         | Score |
+-------------+----------------+-------+
| Shi Zhongyu | Kuihua Baodian |    77 |
| Shi Zhongyu | Weituo Zhang   |    93 |
| Shi Potian  | Kuihua Baodian |    47 |
| Shi Potian  | Daiyu Zanghua  |    97 |
| Xie Yanke   | Kuihua Baodian |    88 |
| Xie Yanke   | Weituo Zhang   |    75 |
| Ding Dian   | Daiyu Zanghua  |    71 |
| Ding Dian   | Kuihua Baodian |    89 |
| Yu Yutong   | Hamo Gong      |    39 |
| Yu Yutong   | Dagou Bangfa   |    63 |
| Shi Qing    | Hamo Gong      |    96 |
| Xi Ren      | Hamo Gong      |    86 |
| Xi Ren      | Dagou Bangfa   |    83 |
| Lin Daiyu   | Taiji Quan     |    57 |
| Lin Daiyu   | Jinshe Jianfa  |    93 |
+-------------+----------------+-------+
</code></pre> 
<h4>FUNCTION 函数</h4> 
<p>count 统计多少行</p> 
<p> select count(*) from students;</p> 
<p><img alt="" height="260" src="https://images2.imgbox.com/8d/c8/3Msv3g4S_o.png" width="592"></p> 
<pre><code>mysql&gt; select count(TeacherID ) from students;    #TeacherID的是数值空不算
+-------------------+
| count(TeacherID ) |
+-------------------+
|                 5 |
+-------------------+
</code></pre> 
<h6> 定义别名，执行别名</h6> 
<p><strong>create view v_students_coures_scores as 定义view v_students_coures_scores为  别名</strong></p> 
<pre><code>mysql&gt; create view v_students_coures_scores as select students.name, Course, Score from students inner join scores on students.stuid = scores.stuid inner join courses on scores.CourseID = courses.CourseID;
Query OK, 0 rows affected (0.01 sec)
mysql&gt; show tables;
+--------------------------+
| Tables_in_hellodb        |
+--------------------------+
| classes                  |
| coc                      |
| courses                  |
| emp                      |
| scores                   |
| students                 |
| teachers                 |
| toc                      |
| v_students_coures_scores |
+--------------------------+

mysql&gt; select * from v_students_coures_scores;
+-------------+----------------+-------+
| name        | Course         | Score |
+-------------+----------------+-------+
| Shi Zhongyu | Kuihua Baodian |    77 |
| Shi Zhongyu | Weituo Zhang   |    93 |
| Shi Potian  | Kuihua Baodian |    47 |
| Shi Potian  | Daiyu Zanghua  |    97 |
| Xie Yanke   | Kuihua Baodian |    88 |
| Xie Yanke   | Weituo Zhang   |    75 |
| Ding Dian   | Daiyu Zanghua  |    71 |
| Ding Dian   | Kuihua Baodian |    89 |
| Yu Yutong   | Hamo Gong      |    39 |
| Yu Yutong   | Dagou Bangfa   |    63 |
| Shi Qing    | Hamo Gong      |    96 |
| Xi Ren      | Hamo Gong      |    86 |
| Xi Ren      | Dagou Bangfa   |    83 |
| Lin Daiyu   | Taiji Quan     |    57 |
| Lin Daiyu   | Jinshe Jianfa  |    93 |
+-------------+----------------+-------+
</code></pre> 
<p>VIEW视图查看 </p> 
<pre><code>mysql&gt; show table status like 'v_students_coures_scores'\G;
*************************** 1. row ***************************
           Name: v_students_coures_scores
         Engine: NULL
        Version: NULL
     Row_format: NULL
           Rows: NULL
 Avg_row_length: NULL
    Data_length: NULL
Max_data_length: NULL
   Index_length: NULL
      Data_free: NULL
 Auto_increment: NULL
    Create_time: NULL
    Update_time: NULL
     Check_time: NULL
      Collation: NULL
       Checksum: NULL
 Create_options: NULL
        Comment: VIEW
1 row in set (0.00 sec)

</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/21fcb827f6f03defb6aa57de10b3d142/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">树莓派新手装机指南</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9eacf788493ed8617f7b3cb9b99ebef2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">鸿蒙4.0应用开发——ArkUI基本布局</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>