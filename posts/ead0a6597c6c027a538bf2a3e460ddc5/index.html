<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>java解析yaml_YAML配置文件解析器：SnakeYAML - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="java解析yaml_YAML配置文件解析器：SnakeYAML" />
<meta property="og:description" content="本篇blog主要是讨论：
如何使用SnakeYAML来读取YAML(YML为其简写)配置文件；
读取后，装载成Map，而Map如何存储的配置文件的数据。
SnakeYAML的简介
SnakeYAML是针对java语言的YAML解析器。如果想更多的了解SnakeYAML和YMAL，请看blog：
如何读取YAML配置文件
请看代码：
FileInputStream fileInputStream = null;
try {
Yaml yaml = new Yaml();//实例化解析器
File file = new File(&#34;inscriber-s\\src\\main\\resources\\application.yml&#34;);//配置文件地址
fileInputStream = new FileInputStream(file);
Map map = yaml.loadAs(fileInputStream, Map.class);//装载的对象，这里使用Map, 当然也可使用自己写的对象
//printMap(map, 0);
}catch(FileNotFoundException e) {
log.error(&#34;文件地址错误&#34;);
e.printStackTrace();
}finally {
try {
if(fileInputStream!=null) fileInputStream.close();
}catch (IOException e){
e.printStackTrace();
}
}
Map是如何存储的配置文件数据
以下面的.yml配置文件为例：
# mybatis
mybatis:
type-aliases-package: info.ideatower.component.inscriber.entity
mapper-locations: classpath:mapping/*.xml
config-locations: classpath:mybatis-config.xml
# 应用组件通信等配置
component:
misso:
log:
addr: http://localhost:8009" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ead0a6597c6c027a538bf2a3e460ddc5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-02-12T18:11:42+08:00" />
<meta property="article:modified_time" content="2021-02-12T18:11:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">java解析yaml_YAML配置文件解析器：SnakeYAML</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>本篇blog主要是讨论：</p> 
 <p>如何使用SnakeYAML来读取YAML(YML为其简写)配置文件；</p> 
 <p>读取后，装载成Map，而Map如何存储的配置文件的数据。</p> 
 <p>SnakeYAML的简介</p> 
 <p>SnakeYAML是针对java语言的YAML解析器。如果想更多的了解SnakeYAML和YMAL，请看blog：</p> 
 <p>如何读取YAML配置文件</p> 
 <p>请看代码：</p> 
 <p>FileInputStream fileInputStream = null;</p> 
 <p>try {<!-- --></p> 
 <p>Yaml yaml = new Yaml();//实例化解析器</p> 
 <p>File file = new File("inscriber-s\\src\\main\\resources\\application.yml");//配置文件地址</p> 
 <p>fileInputStream = new FileInputStream(file);</p> 
 <p>Map map = yaml.loadAs(fileInputStream, Map.class);//装载的对象，这里使用Map, 当然也可使用自己写的对象</p> 
 <p>//printMap(map, 0);</p> 
 <p>}catch(FileNotFoundException e) {<!-- --></p> 
 <p>log.error("文件地址错误");</p> 
 <p>e.printStackTrace();</p> 
 <p>}finally {<!-- --></p> 
 <p>try {<!-- --></p> 
 <p>if(fileInputStream!=null) fileInputStream.close();</p> 
 <p>}catch (IOException e){<!-- --></p> 
 <p>e.printStackTrace();</p> 
 <p>}</p> 
 <p>}</p> 
 <p>Map是如何存储的配置文件数据</p> 
 <p>以下面的.yml配置文件为例：</p> 
 <p># mybatis</p> 
 <p>mybatis:</p> 
 <p>type-aliases-package: info.ideatower.component.inscriber.entity</p> 
 <p>mapper-locations: classpath:mapping/*.xml</p> 
 <p>config-locations: classpath:mybatis-config.xml</p> 
 <p># 应用组件通信等配置</p> 
 <p>component:</p> 
 <p>misso:</p> 
 <p>log:</p> 
 <p>addr: http://localhost:8009</p> 
 <p>error:</p> 
 <p>enable: on</p> 
 <p>Related:</p> 
 <p>Projects:</p> 
 <p>- Rx</p> 
 <p>- Kwalify</p> 
 <p>- yaml_vim</p> 
 <p>- yatools.net</p> 
 <p>- JSON</p> 
 <p>- Pygments</p> 
 <p>使用SnakeYAML进行装载，实例化成Map对象(确切的说，应该是Map的子类，LinkedHashMap)。值得注意的是，要装载如此复杂的配置文件的，必须使用Map的嵌套，即：Map嵌套Map。具体请看下图：</p> 
 <p align="center"><img src="https://images2.imgbox.com/0b/94/3wOMaDx5_o.png" alt="e35a0c6b94e81c5e0f9e9d45114a741d.png"></p> 
 <p>其中，椭圆圈为key, 矩形圈的为value, 嵌套结构显而易先。如下图：</p> 
 <p align="center"><img src="https://images2.imgbox.com/03/4a/vMdD6F2V_o.png" alt="fb4c0e35be76a26bc6a80b9b002a7e65.png"></p> 
 <p>一般的，key的类类型总是java.lang.Stirng, 而value的类类型是不尽相同的。请看下图：</p> 
 <p align="center"><img src="https://images2.imgbox.com/cc/92/Dr1gJaa4_o.png" alt="601f77da73729b80ab1d1a03b41c0c8d.png"></p> 
 <p>小小的拓展</p> 
 <p>一段打印Map的数据的函数，如果读懂的话，会更加理解本篇blog的内容：</p> 
 <p>private void printMap(Map map, int count){<!-- --></p> 
 <p>Set set = map.keySet();</p> 
 <p>for(Object key: set){<!-- --></p> 
 <p>Object value = map.get(key);</p> 
 <p>for(int i=0; i</p> 
 <p>System.out.print(" ");</p> 
 <p>}</p> 
 <p>if(value instanceof Map) {<!-- --></p> 
 <p>System.out.println(key+":");</p> 
 <p>printMap((Map)value, count+1);//嵌套</p> 
 <p>}else if(value instanceof List){<!-- --></p> 
 <p>System.out.println(key+":");</p> 
 <p>for(Object obj: (List)value){<!-- --></p> 
 <p>for(int i=0; i</p> 
 <p>System.out.print(" ");</p> 
 <p>}</p> 
 <p>System.out.println(" - "+obj.toString());</p> 
 <p>}</p> 
 <p>}else{<!-- --></p> 
 <p>System.out.println(key + ": " + value);</p> 
 <p>}</p> 
 <p>}</p> 
 <p>}</p> 
 <p>end</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f618d12febf9efc88ba0909c5f55ff46/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java解析yaml_Java解析Yaml格式数据工具类</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1658bd20792fb2480d0c764ae3bccbaa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">php代码转java代码_PHP代码转成java代码</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>