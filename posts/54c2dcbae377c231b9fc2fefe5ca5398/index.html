<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信小程序 接口wx.redirectto与wx.navigateTo备忘 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微信小程序 接口wx.redirectto与wx.navigateTo备忘" />
<meta property="og:description" content="使用文档查起来真是太不方便了，有时查下相关的内容，找其来难死了，不知大家有没有同感 接口wx.redirectto与wx.navigateTo的OBJECT 参数相同，如下表所示：
wx.navigateTo(Object object) 以 Promise 风格 调用：支持
需要页面权限：小程序不能在插件页面中调用该接口，插件也不能在小程序页面中调用该接口
小程序插件：支持，需要小程序基础库版本不低于 2.2.2
在小程序插件中使用时，只能在当前插件的页面中调用
微信 Windows 版：支持
微信 Mac 版：支持
保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。使用 wx.navigateBack 可以返回到原页面。小程序中页面栈最多十层。
参数 Object object 属性类型默认值必填说明urlstring是需要跳转的应用内非 tabBar 的页面的路径 (代码包路径), 路径后可以带参数。参数与路径之间使用 ? 分隔，参数键与参数值用 = 相连，不同参数用 &amp; 分隔；如 &#39;path?key=value&amp;key2=value2&#39;eventsObject否页面间通信接口，用于监听被打开页面发送到当前页面的数据。基础库 2.7.3 开始支持。successfunction否接口调用成功的回调函数failfunction否接口调用失败的回调函数completefunction否接口调用结束的回调函数（调用成功、失败都会执行） object.success 回调函数
参数
Object res
属性类型说明eventChannelEventChannel和被打开页面进行通信 示例代码 wx.navigateTo({ url: &#39;test?id=1&#39;, events: { // 为指定事件添加一个监听器，获取被打开页面传送到当前页面的数据 acceptDataFromOpenedPage: function(data) { console.log(data) }, someEvent: function(data) { console.log(data) } ... }, success: function(res) { // 通过eventChannel向被打开页面传送数据 res." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/54c2dcbae377c231b9fc2fefe5ca5398/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-03T20:13:17+08:00" />
<meta property="article:modified_time" content="2021-09-03T20:13:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微信小程序 接口wx.redirectto与wx.navigateTo备忘</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>使用文档查起来真是太不方便了，有时查下相关的内容，找其来难死了，不知大家有没有同感 </p> 
<p><strong>接口wx.redirectto与wx.navigateTo的OBJECT 参数相同，如下表所示：</strong><br>  </p> 
<h2 id="wx-navigateTo-Object-object">wx.navigateTo(Object object)</h2> 
<blockquote> 
 <p><strong>以 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html#%E5%BC%82%E6%AD%A5-API-%E8%BF%94%E5%9B%9E-Promise" rel="nofollow">Promise 风格</a> 调用</strong>：支持</p> 
 <p><strong>需要页面权限</strong>：小程序不能在插件页面中调用该接口，插件也不能在小程序页面中调用该接口</p> 
 <p><strong>小程序插件</strong>：支持，需要小程序基础库版本不低于 <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" rel="nofollow">2.2.2</a></p> 
 <p>在小程序插件中使用时，只能在当前插件的页面中调用</p> 
 <p><strong>微信 Windows 版</strong>：支持</p> 
 <p><strong>微信 Mac 版</strong>：支持</p> 
</blockquote> 
<p>保留当前页面，跳转到应用内的某个页面。但是不能跳到 tabbar 页面。使用 <a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html" rel="nofollow">wx.navigateBack</a> 可以返回到原页面。小程序中页面栈最多十层。</p> 
<h3 id="参数">参数</h3> 
<h4 id="Object-object">Object object</h4> 
<table><thead><tr><th>属性</th><th>类型</th><th>默认值</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td>url</td><td>string</td><td></td><td>是</td><td>需要跳转的应用内非 tabBar 的页面的路径 (代码包路径), 路径后可以带参数。参数与路径之间使用 <code>?</code> 分隔，参数键与参数值用 <code>=</code> 相连，不同参数用 <code>&amp;</code> 分隔；如 'path?key=value&amp;key2=value2'</td></tr><tr><td>events</td><td>Object</td><td></td><td>否</td><td>页面间通信接口，用于监听被打开页面发送到当前页面的数据。基础库 2.7.3 开始支持。</td></tr><tr><td>success</td><td>function</td><td></td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>function</td><td></td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>function</td><td></td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table> 
<p>object.success 回调函数</p> 
<p>参数</p> 
<p>Object res</p> 
<table><thead><tr><th>属性</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>eventChannel</td><td><a href="https://developers.weixin.qq.com/miniprogram/dev/api/route/EventChannel.html" rel="nofollow">EventChannel</a></td><td>和被打开页面进行通信</td></tr></tbody></table> 
<h3 id="示例代码">示例代码</h3> 
<pre><code>wx.navigateTo({
  url: 'test?id=1',
  events: {
    // 为指定事件添加一个监听器，获取被打开页面传送到当前页面的数据
    acceptDataFromOpenedPage: function(data) {
      console.log(data)
    },
    someEvent: function(data) {
      console.log(data)
    }
    ...
  },
  success: function(res) {
    // 通过eventChannel向被打开页面传送数据
    res.eventChannel.emit('acceptDataFromOpenerPage', { data: 'test' })
  }
})
</code></pre> 
<pre><code>//test.js
Page({
  onLoad: function(option){
    console.log(option.query)
    const eventChannel = this.getOpenerEventChannel()
    eventChannel.emit('acceptDataFromOpenedPage', {data: 'test'});
    eventChannel.emit('someEvent', {data: 'test'});
    // 监听acceptDataFromOpenerPage事件，获取上一页面通过eventChannel传送到当前页面的数据
    eventChannel.on('acceptDataFromOpenerPage', function(data) {
      console.log(data)
    })
  }
})</code></pre> 
<p></p> 
<p><strong>wx.switchTab(OBJECT)</strong></p> 
<p>跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面</p> 
<p><strong>OBJECT 参数说明：</strong></p> 
<table><tbody><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></tbody><tbody><tr><td>url</td><td>String</td><td>是</td><td>需要跳转的 tabBar 页面的路径（需在 app.json 的 tabBar 字段定义的页面），路径后不能带参数</td></tr><tr><td>success</td><td>Function</td><td>否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td>Function</td><td>否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>Function</td><td>否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/905be8f7c7d7c6e8f02e421883c01730/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">跳板(trampoline)实现原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/35ecc174aa086f0038e64121109cf700/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">目标检测之—非极大抑制(NMS)综述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>