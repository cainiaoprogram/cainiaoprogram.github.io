<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>leetcode中sql题目分类与总结 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="leetcode中sql题目分类与总结" />
<meta property="og:description" content="基础50题
聚合函数 项目员工，连接 &#43; avg &#43; group by各项函数用户的注册率：直接单表操作，count函数的使用，结合round进行保留小数。1211. 查询结果的质量和占比：简单的avg, sum(if(,,))的使用1193. 每月交易 I：年月日期函数的应用。data_format(date, &#39;%Y-%m&#39;)获取类似01 02的这种月份。550. 游戏玩法分析 IV：连接后where过滤，on其实也可以起到过滤的作用。不过最好用where进行过滤。1174. 即时食物配送 II：每一行加上一个最小值列，然后让配送时间等于最小值列的时间，选出这个的数量 / 不同用户的数量。 排序和分组 1045. 买下所有产品的客户:简单分组, having子句过滤
619. 只出现一次的最大数字：子查询 &#43; 分组 &#43; 过滤
1729. 求关注者的数量：排序
596. 超过5名学生的课：
1084. 销售分析III：distinct的使用，可以从数量上进行统计。在这个区间的数量等于总的数量。
having count(sale_date between &#39;&#39; and &#39;&#39; or null)：注意如果为空的情况 1141. 查询近30天活跃用户数：datadiff和&lt;=处理时间
2356. 每位教师所教授的科目种类的数量：分类计数，分类计数，分类计数。使用group by。
子查询 换座位：和最小的进行比较，然后使用case when进行选择部门排名前3的薪水 高级连接查询 1907. 按分类统计薪水：列转行1204. 最后一个能进入巴士的人：如果存在超重的人，第一个超重的人(超重的人中turn最小的那一个)它的前一个就是，如果没有，最大的turn对应的人。ifnull放的位置。1164. 指定日期的产品价格：找到小于规定日期的最大日期，然后进行连接，过滤可以得到有修改的。最后通过product_id临时表连接这个表，使用ifnull(price, 10)得到答案。180. 连续出现的数字：连接或者子查询都可以判断三角形：ABS(x - y)，保证任意两边之和大于第三边，任意两边只差小于第三边1731. 每位经理的下属员工数量：count(id)：如果id是null的情况下，会统计成0.1789. 员工的直属部门：union使用的范例。 子查询 585. 2016年的投资：不用连接可以直接子查询。1321. 餐馆营业额变化增长：distinct的使用 小结 行列转换：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/02a4c269630b85c2091288be7857eb86/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-31T23:42:37+08:00" />
<meta property="article:modified_time" content="2023-12-31T23:42:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">leetcode中sql题目分类与总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://leetcode.cn/studyplan/sql-free-50/" rel="nofollow">基础50题</a></p> 
<h2><a id="_2"></a>聚合函数</h2> 
<ul><li>项目员工，连接 + avg + group by</li><li>各项函数用户的注册率：直接单表操作，count函数的使用，结合round进行保留小数。</li><li><a href="https://leetcode.cn/problems/queries-quality-and-percentage/" rel="nofollow">1211. 查询结果的质量和占比</a>：简单的<code>avg</code>, <code>sum(if(,,))</code>的使用</li><li><a href="https://leetcode.cn/problems/monthly-transactions-i/" rel="nofollow">1193. 每月交易 I</a>：年月日期函数的应用。<code>data_format(date, '%Y-%m')</code>获取类似<code>01 02</code>的这种月份。</li><li><a href="https://leetcode.cn/problems/game-play-analysis-iv/" rel="nofollow">550. 游戏玩法分析 IV</a>：连接后where过滤，on其实也可以起到过滤的作用。不过最好用where进行过滤。</li><li><a href="https://leetcode.cn/problems/immediate-food-delivery-ii/" rel="nofollow">1174. 即时食物配送 II</a>：每一行加上一个最小值列，然后让配送时间等于最小值列的时间，选出这个的数量 / 不同用户的数量。</li></ul> 
<h2><a id="_13"></a>排序和分组</h2> 
<p><a href="https://leetcode.cn/problems/customers-who-bought-all-products/" rel="nofollow">1045. 买下所有产品的客户</a>:简单分组, having子句过滤</p> 
<p><a href="https://leetcode.cn/problems/biggest-single-number/" rel="nofollow">619. 只出现一次的最大数字</a>：子查询 + 分组 + 过滤</p> 
<p><a href="https://leetcode.cn/problems/find-followers-count/" rel="nofollow">1729. 求关注者的数量</a>：排序</p> 
<p><a href="https://leetcode.cn/problems/classes-more-than-5-students/" rel="nofollow">596. 超过5名学生的课</a>：</p> 
<p><a href="https://leetcode.cn/problems/sales-analysis-iii/" rel="nofollow">1084. 销售分析III</a>：distinct的使用，可以从数量上进行统计。在这个区间的数量等于总的数量。</p> 
<ul><li><code>having count(sale_date between '' and '' or null)</code>：<strong>注意如果为空的情况</strong></li></ul> 
<p><a href="https://leetcode.cn/problems/user-activity-for-the-past-30-days-i/" rel="nofollow">1141. 查询近30天活跃用户数</a>：datadiff和&lt;=处理时间</p> 
<p><a href="https://leetcode.cn/problems/number-of-unique-subjects-taught-by-each-teacher/" rel="nofollow">2356. 每位教师所教授的科目种类的数量</a>：分类计数，分类计数，分类计数。使用group by。</p> 
<h2><a id="_31"></a>子查询</h2> 
<ul><li>换座位：和最小的进行比较，然后使用case when进行选择</li><li>部门排名前3的薪水</li></ul> 
<h2><a id="_40"></a>高级连接查询</h2> 
<ul><li><a href="https://leetcode.cn/problems/count-salary-categories/" rel="nofollow">1907. 按分类统计薪水</a>：列转行</li><li><a href="https://leetcode.cn/problems/last-person-to-fit-in-the-bus/" rel="nofollow">1204. 最后一个能进入巴士的人</a>：如果存在超重的人，第一个超重的人(超重的人中turn最小的那一个)它的前一个就是，如果没有，最大的turn对应的人。ifnull放的位置。</li><li><a href="https://leetcode.cn/problems/product-price-at-a-given-date/" rel="nofollow">1164. 指定日期的产品价格</a>：找到小于规定日期的最大日期，然后进行连接，过滤可以得到有修改的。最后通过product_id临时表连接这个表，使用ifnull(price, 10)得到答案。</li><li><a href="https://leetcode.cn/problems/consecutive-numbers/" rel="nofollow">180. 连续出现的数字</a>：连接或者子查询都可以</li><li>判断三角形：ABS(x - y)，保证任意两边之和大于第三边，任意两边只差小于第三边</li><li><a href="https://leetcode.cn/problems/the-number-of-employees-which-report-to-each-employee/" rel="nofollow">1731. 每位经理的下属员工数量</a>：count(id)：如果id是null的情况下，会统计成0.</li><li><a href="https://leetcode.cn/problems/primary-department-for-each-employee/" rel="nofollow">1789. 员工的直属部门</a>：<strong>union使用的范例。</strong></li></ul> 
<h2><a id="_50"></a>子查询</h2> 
<ul><li><a href="https://leetcode.cn/problems/investments-in-2016/" rel="nofollow">585. 2016年的投资</a>：不用连接可以直接子查询。</li><li><a href="https://leetcode.cn/problems/restaurant-growth/" rel="nofollow">1321. 餐馆营业额变化增长</a>：distinct的使用</li></ul> 
<h2><a id="_57"></a>小结</h2> 
<p>行列转换：</p> 
<ul><li> <p>union :纵向，可以统计一行，然后union起来。</p> </li><li> <p>join: 横向，可以统计一列，然后通过rowId或者其他连接点，连接起来。</p> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f2818b6698da16d968b0f3cec250e4a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于数据库归档</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33c6d2f4b148226fef1cb456b07f96c6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于正态分布</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>