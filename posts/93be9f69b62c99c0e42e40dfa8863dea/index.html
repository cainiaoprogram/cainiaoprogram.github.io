<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ajax打开后回调事件,[AJAX系列]onreadystatechange事件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ajax打开后回调事件,[AJAX系列]onreadystatechange事件" />
<meta property="og:description" content="onreadystatechange事件：
当请求被发送到服务器时，我们需要执行一些基于响应的任务
每当readyState改变时，就会触发onreadystatechange事件
readyState属性存有XMLHttpRequest的状态信息
XMLHttpRequest对象的三个重要的属性：
属性
描述
onreadystatechange
存储函数(函数名)每次readystate改变时就会调用该函数
readyState
存有XMLHttpRequest的状态从0到4发生变化
0：请求未初始化
1：服务器连接已建立
2：请求已接收
3：请求处理中
4：请求已完成，且响应已就绪
status
200:&#34;ok&#34;
404:请求未找到
在onreadystatechange事件中，我们规定当服务器响应已做好被处理的准备时执行的任务
当readyState等于4且状态为200时，表示响应已就绪
xmlhttp.onreadystatechange=function()
{
if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)
{
document.getElementById(&#34;myDiv&#34;).innerHTML=xmlhttp.responseText;
}
}
onreadystatechange事件被触发5次，对应着readyState的每个变化
使用回调函数：
回调函数是一种以参数的形式传递给另一个函数的函数
如果页面存在多个AJAX任务，就应该为创建XMLHttpRequest对象编写一个标准的函数，并为每个AJAX任务调用该函数
该函数应该包含URL以及发生onreadystatechange事件执行时的任务
var xmlhttp;
function loadXMLDoc(url,cfunc)
{
if (window.XMLHttpRequest)
{// IE7&#43;, Firefox, Chrome, Opera, Safari 代码
xmlhttp=new XMLHttpRequest();
}
else
{// IE6, IE5 代码
xmlhttp=new ActiveXObject(&#34;Microsoft.XMLHTTP&#34;);
}
xmlhttp.onreadystatechange=cfunc;
xmlhttp.open(&#34;GET&#34;,url,true);
xmlhttp.send();
}
function myFunction()
{
loadXMLDoc(&#34;/try/ajax/ajax_info.txt&#34;,function()" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/93be9f69b62c99c0e42e40dfa8863dea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-06T17:40:20+08:00" />
<meta property="article:modified_time" content="2021-08-06T17:40:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ajax打开后回调事件,[AJAX系列]onreadystatechange事件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>onreadystatechange事件：</p> 
 <p>当请求被发送到服务器时，我们需要执行一些基于响应的任务</p> 
 <p>每当readyState改变时，就会触发onreadystatechange事件</p> 
 <p>readyState属性存有XMLHttpRequest的状态信息</p> 
 <p>XMLHttpRequest对象的三个重要的属性：</p> 
 <p>属性</p> 
 <p>描述</p> 
 <p>onreadystatechange</p> 
 <p>存储函数(函数名)每次readystate改变时就会调用该函数</p> 
 <p>readyState</p> 
 <p>存有XMLHttpRequest的状态从0到4发生变化</p> 
 <p>0：请求未初始化</p> 
 <p>1：服务器连接已建立</p> 
 <p>2：请求已接收</p> 
 <p>3：请求处理中</p> 
 <p>4：请求已完成，且响应已就绪</p> 
 <p>status</p> 
 <p>200:"ok"</p> 
 <p>404:请求未找到</p> 
 <p>在onreadystatechange事件中，我们规定当服务器响应已做好被处理的准备时执行的任务</p> 
 <p>当readyState等于4且状态为200时，表示响应已就绪</p> 
 <p>xmlhttp.onreadystatechange=function()</p> 
 <p>{<!-- --></p> 
 <p>if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</p> 
 <p>{<!-- --></p> 
 <p>document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</p> 
 <p>}</p> 
 <p>}</p> 
 <p>onreadystatechange事件被触发5次，对应着readyState的每个变化</p> 
 <p>使用回调函数：</p> 
 <p>回调函数是一种以参数的形式传递给另一个函数的函数</p> 
 <p>如果页面存在多个AJAX任务，就应该为创建XMLHttpRequest对象编写一个标准的函数，并为每个AJAX任务调用该函数</p> 
 <p>该函数应该包含URL以及发生onreadystatechange事件执行时的任务</p> 
 <p>var xmlhttp;</p> 
 <p>function loadXMLDoc(url,cfunc)</p> 
 <p>{<!-- --></p> 
 <p>if (window.XMLHttpRequest)</p> 
 <p>{// IE7+, Firefox, Chrome, Opera, Safari 代码</p> 
 <p>xmlhttp=new XMLHttpRequest();</p> 
 <p>}</p> 
 <p>else</p> 
 <p>{// IE6, IE5 代码</p> 
 <p>xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");</p> 
 <p>}</p> 
 <p>xmlhttp.onreadystatechange=cfunc;</p> 
 <p>xmlhttp.open("GET",url,true);</p> 
 <p>xmlhttp.send();</p> 
 <p>}</p> 
 <p>function myFunction()</p> 
 <p>{<!-- --></p> 
 <p>loadXMLDoc("/try/ajax/ajax_info.txt",function()</p> 
 <p>{<!-- --></p> 
 <p>if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)</p> 
 <p>{<!-- --></p> 
 <p>document.getElementById("myDiv").innerHTML=xmlhttp.responseText;</p> 
 <p>}</p> 
 <p>});</p> 
 <p>}</p> 
 <p>Ajax 的onreadystatechange事件注意事项&amp;period;</p> 
 <p></p> 
 <p>&amp;lbrack;转&amp;rsqb;深入理解ajax系列——进度事件</p> 
 <p>一般地,使用readystatechange事件探测HTTP请求的完成.XHR2规范草案定义了进度事件Progress Events规范,XMLHttpRequest对象在请求的不同阶段触发不同类型的 ...</p> 
 <p>深入理解ajax系列第一篇——XHR对象</p> 
 <p>× 目录 [1]创建对象 [2]发送请求 [3]接收响应[4]异步处理[5]实例演示 前面的话 ajax是asynchronous javascript and XML的简写,中文翻译是异步的java ...</p> 
 <p>&amp;lbrack;AJAX系列&amp;rsqb;XMLHttpRequest请求</p> 
 <p> </p> 
 <p>JQuery autocomplete获得焦点触发弹出下拉框</p> 
 <p>需求:autocomplete控件,当点击获得焦点的时候也要弹出下拉列表(autocomplete默认是输入之后才会跟随出下拉列表),下面直接贴代码. js代码: $("#customerN ...</p> 
 <p>CSS之checkbox&amp;amp&amp;semi;radio&amp;amp&amp;semi;textarea&amp;amp&amp;semi;select</p> 
 <p> </p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7ee4b39ce10845c2a287e3971140ec20/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">影之刃2服务器维护,影之刃2一个忠实玩家的心声和建议</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/68ee0edd9bba4e227c6ca30949cd3ad4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">获取mongodb服务器信息,如何获取MongoDB服务器上的数据库和集合列表？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>