<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux网络 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux网络" />
<meta property="og:description" content="查看linux基础的网络设置 网关
route -nip地址ifconfig或ip adns服务器cat /etc/resolv.conf主机名hostname路由 route -n
网络连接状态ss或netstatif域名解析nslookup或host 修改linux基础的网络设置
ifconfig命令 ifconfig默认显示活动的网卡ifconfig -a显示所有的网卡ifconfig 网卡名称只显示前面的网卡信息ifconfig 网卡 down关闭网卡ifconfig 网卡 up开启网卡ifconfig ens33:0 IP地址/子网掩码设置虚拟网卡 主机名 hostname 主机名文件在/etc/hostname
hostname查看主机名hostname 主机名临时修改主机名hostnamectl set-hostname 主机名永久修改主机名 vim /etc/hostname 将名字写入文件也是永久修改 （只有写在第一行有用）
网络连接状态 ss -natup 快 更靠近内核
n数字a详细ttcpuudpp相关程序及pid netstat 慢 它要去遍历文件查看状态
路由 route route -n显示路由表 -n数字形式显示路由表route add -net 10.0.0.0/8 gw 192.168.91.2添加一条去往10.0.0.0段的路由，通过网关192.168.91.2转发route del -net 10.0.0.0/8删除去往10.0.0.0段的路由route add -net 0.0.0.0(default) gw 192.168.91.2添加默认路由route del -net 0.0.0.0(default)删除默认路由 永久添加路由 vim /etc/sysconfig/network-scripts/route-ens33
10.0.0.0/24 via 192.168.91.100
systemctl restart network" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ada228af80169045fbb57d2d421ae49a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T15:25:17+08:00" />
<meta property="article:modified_time" content="2024-01-09T15:25:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux网络</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0px;text-align:justify;">查看linux基础的网络设置</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td> <p>网关</p> </td><td>route  -n</td></tr><tr><td>ip地址</td><td>ifconfig或ip  a</td></tr><tr><td>dns服务器</td><td>cat /etc/resolv.conf</td></tr><tr><td>主机名</td><td>hostname</td></tr><tr><td>路由</td><td> <p>route  -n</p> </td></tr><tr><td>网络连接状态</td><td>ss或netstatif</td></tr><tr><td>域名解析</td><td>nslookup或host</td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;">修改linux基础的网络设置</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">ifconfig命令</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td>ifconfig</td><td>默认显示活动的网卡</td></tr><tr><td>ifconfig  -a</td><td>显示所有的网卡</td></tr><tr><td>ifconfig  网卡名称</td><td>只显示前面的网卡信息</td></tr><tr><td>ifconfig  网卡  down</td><td>关闭网卡</td></tr><tr><td>ifconfig  网卡  up</td><td>开启网卡</td></tr><tr><td>ifconfig  ens33:0  IP地址/子网掩码</td><td>设置虚拟网卡</td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">主机名     hostname</h2> 
<p style="margin-left:0;text-align:justify;">主机名文件在/etc/hostname</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td>hostname</td><td>查看主机名</td></tr><tr><td>hostname  主机名</td><td>临时修改主机名</td></tr><tr><td>hostnamectl  set-hostname  主机名</td><td>永久修改主机名</td></tr></tbody></table> 
<p>vim  /etc/hostname 将名字写入文件也是永久修改 （只有写在第一行有用）</p> 
<p></p> 
<h2 style="margin-left:0px;text-align:justify;">网络连接状态</h2> 
<p style="margin-left:0;text-align:justify;">ss  -natup     快 更靠近内核</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td style="width:253px;">n</td><td style="width:396px;">数字</td></tr><tr><td style="width:253px;">a</td><td style="width:396px;">详细</td></tr><tr><td style="width:253px;">t</td><td style="width:396px;">tcp</td></tr><tr><td style="width:253px;">u</td><td style="width:396px;">udp</td></tr><tr><td style="width:253px;">p</td><td style="width:396px;">相关程序及pid</td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;">netstat     慢 它要去遍历文件查看状态</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">路由     route</h2> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td style="width:347px;">route  -n</td><td style="width:301px;">显示路由表 -n数字形式显示路由表</td></tr><tr><td style="width:347px;">route  add  -net  10.0.0.0/8  gw  192.168.91.2</td><td style="width:301px;">添加一条去往10.0.0.0段的路由，通过网关192.168.91.2转发</td></tr><tr><td style="width:347px;">route  del  -net  10.0.0.0/8</td><td style="width:301px;">删除去往10.0.0.0段的路由</td></tr><tr><td style="width:347px;">route  add  -net  0.0.0.0(default)  gw  192.168.91.2</td><td style="width:301px;">添加默认路由</td></tr><tr><td style="width:347px;">route  del  -net  0.0.0.0(default)</td><td style="width:301px;">删除默认路由</td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;">永久添加路由</h3> 
<p style="margin-left:0;text-align:justify;">vim  /etc/sysconfig/network-scripts/route-ens33</p> 
<p style="margin-left:0;text-align:justify;">10.0.0.0/24  via  192.168.91.100</p> 
<p style="margin-left:0;text-align:justify;">systemctl  restart  network</p> 
<h2 style="margin-left:0px;text-align:justify;"></h2> 
<h2 style="margin-left:0px;text-align:justify;">dns域名解析：将域名翻译成ip地址，然后封装数据表</h2> 
<h3 style="text-align:justify;">1.怎么验证dns服务器是否可以解析域名</h3> 
<p style="margin-left:0;text-align:justify;">nslookup</p> 
<p style="margin-left:0;text-align:justify;">dig</p> 
<p style="margin-left:0;text-align:justify;">host</p> 
<p style="margin-left:0;text-align:justify;">ping</p> 
<h3 style="text-align:justify;">2.域名解析文件</h3> 
<p style="margin-left:0;text-align:justify;">/etc/hosts     优先级大于域名服务器（你设置的dns1 8.8.8.8）</p> 
<h3 style="text-align:justify;">3.查看服务器上的域名是否生效</h3> 
<p style="margin-left:0;text-align:justify;">cat  /etc/resolv.conf</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">bond网卡绑定</h2> 
<p style="text-align:justify;">1主备模式，可以解决单点故障</p> 
<p style="text-align:justify;">2.双主模式，可以分摊流量</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;">#添加bonding接口</p> 
<p style="margin-left:0;text-align:justify;">nmcli con add type bond con-name mybond0 ifname bond0 mode active-backup ipv4.method manual ipv4.addresses 192.168.91.123/24</p> 
<p style="margin-left:0;text-align:justify;">#添加从属接口</p> 
<p style="margin-left:0;text-align:justify;">nmcli con add type bond-slave ifname ens33 master bond0</p> 
<p style="margin-left:0;text-align:justify;">nmcli con add type bond-slave ifname ens36 master bond0</p> 
<p style="margin-left:0;text-align:justify;">#注：如无为从属接口提供连接名，则该名称是接口名称加类型构成</p> 
<p style="margin-left:0;text-align:justify;">#要启动绑定，则必须首先启动从属接口</p> 
<p style="margin-left:0;text-align:justify;">nmcli con up bond-slave-ens33</p> 
<p style="margin-left:0;text-align:justify;">nmcli con up bond-slave-ens36</p> 
<p style="margin-left:0;text-align:justify;">#启动绑定</p> 
<p style="margin-left:0;text-align:justify;">nmcli con up mybond0</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">实验1：单个网卡修改</h2> 
<p style="margin-left:0;text-align:justify;">永久修改网卡，写入文件</p> 
<p style="margin-left:0;text-align:justify;">vim  /etc/sysconfig/network-scripts/ifcfg-ens33</p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:650px;"><tbody><tr><td>TYPE=Ethernet</td><td>网卡的类型 网口</td></tr><tr><td>BOOTPROTO=static</td><td>ip地址获取方式  dhcp  static（none）</td></tr><tr><td>NAME=ens33</td><td>网卡的描述一般和DEVICE一样</td></tr><tr><td>DEVICE=ens33</td><td>网卡的名称，必须和ifconfig中看到的一样</td></tr><tr><td>ONBOOT=yes</td><td>开机自启动</td></tr><tr><td>IPADDR=192.168.91.100</td><td>ip地址</td></tr><tr><td>NETMASK=255.2555.255.0</td><td>子网掩码  PREIX=24</td></tr><tr><td>GATEWAY=192.168.91.0</td><td>网关</td></tr><tr><td>DNS1=8.8.8.8</td><td>dns服务器1</td></tr><tr><td>DNS2=114.114.114.114</td><td>dns服务器2</td></tr></tbody></table> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">实验2：双网卡配置</h2> 
<p style="margin-left:0;text-align:justify;">cd  /etc/sysconfig/network-scripts/</p> 
<p style="margin-left:0;text-align:justify;">cp  ifcfg-ens33  ifcfg-ens36</p> 
<p style="margin-left:0;text-align:justify;">vim  ifcfg-ens36</p> 
<p style="margin-left:0;text-align:justify;">TYPE=Ethernet</p> 
<p style="margin-left:0;text-align:justify;">BOOTPROTO=static</p> 
<p style="margin-left:0;text-align:justify;">NAME=ens36</p> 
<p style="margin-left:0;text-align:justify;">DEVICE=ens36</p> 
<p style="margin-left:0;text-align:justify;">ONBOOT=yes</p> 
<p style="margin-left:0;text-align:justify;">IPADDR=192.168.91.110</p> 
<p style="margin-left:0;text-align:justify;">NETMASK=255.255.255.0</p> 
<p style="margin-left:0;text-align:justify;">GATEWAY=192.168.91.2</p> 
<p style="margin-left:0;text-align:justify;">systemctl  restart  network</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/14ad5a10f17dcafcbae79fdac642322f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Mysql判断一个表中的数据是否在另一个表存在</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1de6ad61856b582c267a93b89073e405/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java基础之Map集合</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>