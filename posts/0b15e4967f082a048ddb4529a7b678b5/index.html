<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu 16.04安装realsense D435i SDK以及realsense-ros - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu 16.04安装realsense D435i SDK以及realsense-ros" />
<meta property="og:description" content="先直接上一个报错信息，折腾了半天才解决 在使用catkin_make编译realsense-ros时，报错
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~ traversing 4 packages in topological order:
-- ~~ - realsense_camera_msgs (plain cmake)
-- ~~ - ddynamic_reconfigure
-- ~~ - realsense2_camera (plain cmake)
-- ~~ - realsense2_node (plain cmake)
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
CMake Error at /opt/ros/kinetic/share/catkin/cmake/catkin_workspace.cmake:95 (message):
This workspace contains non-catkin packages in it, and catkin cannot build
a non-homogeneous workspace without isolation. Try the
&#39;catkin_make_isolated&#39; command instead.
Call Stack (most recent call first):
CMakeLists.txt:67 (catkin_workspace)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0b15e4967f082a048ddb4529a7b678b5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-19T17:06:40+08:00" />
<meta property="article:modified_time" content="2020-10-19T17:06:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu 16.04安装realsense D435i SDK以及realsense-ros</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>先直接上一个报错信息，折腾了半天才解决</h4> 
<p>在使用catkin_make编译realsense-ros时，报错</p> 
<p>-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br> -- ~~  traversing 4 packages in topological order:<br> -- ~~  - realsense_camera_msgs (plain cmake)<br> -- ~~  - ddynamic_reconfigure<br> -- ~~  - realsense2_camera (plain cmake)<br> -- ~~  - realsense2_node (plain cmake)<br> -- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br><span style="color:#f33b45;">CMake Error at /opt/ros/kinetic/share/catkin/cmake/catkin_workspace.cmake:95 (message):<br>   This workspace contains non-catkin packages in it, and catkin cannot build<br>   a non-homogeneous workspace without isolation.  Try the<br>   'catkin_make_isolated' command instead.</span><br> Call Stack (most recent call first):<br>   CMakeLists.txt:67 (catkin_workspace)</p> 
<p><br> -- Configuring incomplete, errors occurred!</p> 
<h4><u>解决方案</u></h4> 
<p>在下载完realsense-ros源码后，<strong><span style="color:#f33b45;">不要运行</span></strong>以下两行指令</p> 
<pre><code>cd realsense-ros/realsense2_camera 

git checkout `git tag | sort -V | grep -P "^\d+\.\d+\.\d+" | tail -1`</code></pre> 
<p><span style="color:#f33b45;">直接进行后续的指令，问题解决。</span><br>  </p> 
<h3>下面就是正常安装realsense D435i SDK以及realsense-ros的步骤</h3> 
<h4>1. 安装librealsense</h4> 
<ul><li>下载源码（指定2.24.0版本，为了与realsense-ros版本匹配）</li></ul> 
<pre><code>git clone -b v2.24.0 https://github.com/IntelRealSense/librealsense.git</code></pre> 
<ul><li>安装依赖（拔掉realsense连接）</li></ul> 
<pre><code>sudo apt-get install git libssl-dev libusb-1.0-0-dev pkg-config libgtk-3-dev

sudo apt-get install libglfw3-dev</code></pre> 
<ul><li>安装realsense所需的内核模块</li></ul> 
<pre><code>cd librealsense

./scripts/setup_udev_rules.sh

./scripts/patch-realsense-ubuntu-lts.sh
#这一条命令执行会比较慢，我是配置了Ubuntu终端翻墙因此速度快一些</code></pre> 
<ul><li>编译安装</li></ul> 
<pre><code>mkdir build &amp;&amp; cd build

cmake ../ -DCMAKE_BUILD_TYPE=Release -DBUILD_EXAMPLES=true

sudo make uninstall &amp;&amp; make clean &amp;&amp; make -j8 &amp;&amp; sudo make install</code></pre> 
<ul><li> 测试</li></ul> 
<pre><code>#打开终端输入以下指令
realsense-viewer</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/5c/21/1uOWiSsn_o.png"></p> 
<p><strong><span style="color:#f33b45;">到此librealsense安装完成 </span></strong></p> 
<p> </p> 
<h4>2. 安装realsense-ros</h4> 
<ul><li>创建ros工作空间</li></ul> 
<pre><code>mkdir -p ~/realsense_ws/src &amp;&amp; cd ~/realsense_ws/src</code></pre> 
<ul><li>下载源码并检查依赖（指定2.2.7版本，与librealsense版本匹配）</li></ul> 
<pre><code>git clone -b 2.2.7 https://github.com/IntelRealSense/realsense-ros.git
 
cd realsense-ros/realsense2_camera 

git checkout `git tag | sort -V | grep -P "^\d+\.\d+\.\d+" | tail -1`

sudo apt-get install ros-kinetic-ddynamic-reconfigure</code></pre> 
<ul><li>编译</li></ul> 
<pre><code>cd ~/realsense_ws

catkin_make -DCATKIN_ENABLE_TESTING=False -DCMAKE_BUILD_TYPE=Release 

catkin_make install 

echo "source ~/realsense_ws/devel/setup.bash" &gt;&gt; ~/.bashrc 

source ~/.bashrc</code></pre> 
<ul><li>测试</li></ul> 
<pre><code>roslaunch realsense2_camera rs_camera.launch

rostopic list
#查看话题列表

rviz
#打开rviz订阅几个节点就可以看到效果</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/18/82/V8e6mXg1_o.png"></p> 
<p><strong><span style="color:#f33b45;">到此realsense-ros安装完成，所有关于realsense的驱动都已经安装完了</span></strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/246ea4252761a66f029a920f1c205a56/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">阿里云突发性能实例介绍 突发性能实例适合什么样的应用？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b94c779e27e35fb17e48b913cc1733cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">UE4 局域网联机开发历程 - （一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>