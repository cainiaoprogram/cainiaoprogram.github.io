<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>WebService中的WSDL详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="WebService中的WSDL详解" />
<meta property="og:description" content="WebService中的WSDL详解 有人在WebService开发的时候，特别是和第三方有接口的时候，走的是SOAP协议，然后用户（或后台）给你一个WSDL文件（或网址），说按照上面的进行适配， 这时就要对WebService的WSDL有一定的理解，本文将对WSDL（WebService描述语言）进行详细总结。 WSDL (Web Services Description Language,Web服务描述语言)是一种XML Application，他将Web服务描述定义为一组服务访问点，客户端可以通过这些服务访问点对包含面向文档信息或面向过程调用的服务进行访问(类似远程过程调用)。WSDL首先对访问的操作和访问时使用的请求/响应消息进行抽象描述，然后将其绑定到具体的传输协议和消息格式上以最终定义具体部署的服务访问点。相关的具体部署的服务访问点通过组合就成为抽象的Web服务。
一．WSDL的基本概念 WSDL是一个用于精确描述Web服务的文档，WSDL文档是一个遵循WSDL-XML模式的XML文档。WSDL 文档将Web服务定义为服务访问点或端口的集合。在 WSDL 中，由于服务访问点和消息的抽象定义已从具体的服务部署或数据格式绑定中分离出来，因此可以对抽象定义进行再次使用。消息，指对交换数据的抽象描述；而端口类型，指操作的抽象集合。用于特定端口类型的具体协议和数据格式规范构成了可以再次使用的绑定。将Web访问地址与可再次使用的绑定相关联，可以定义一个端口，而端口的集合则定义为服务。 一个WSDL文档通常包含8个重要的元素，即definitions、types、import、message、portType、operation、binding、service元素。这些元素嵌套在definitions元素中，definitions是WSDL文档的根元素。 WSDL文档外层结构图示： WSDL 服务进行交互的基本元素： Types（消息类型）：数据类型定义的容器，它使用某种类型系统（如 XSD）。 Message（消息）：通信数据的抽象类型化定义，它由一个或者多个 part 组成。 Part：消息参数 PortType（端口类型）：特定端口类型的具体协议和数据格式规范。，它由一个或者多个 Operation组成。 Operation（操作）：对服务所支持的操作进行抽象描述，WSDL定义了四种操作： 1.单向（one-way）：端点接受信息； 3.要求-响应（solicit-response）：端点发送消息，然后接受相关消息； 4.通知（notification[2] ）：端点发送消息。
Binding：特定端口类型的具体协议和数据格式规范。 Port：定义为绑定和网络地址组合的单个端点。 Service：相关端口的集合，包括其关联的接口、操作、消息等。 外层结构里面也可能有多层结构。
二．WSDL的基本结构详解 下面通过一份wsdl文档，来详细解读WSDL结构：
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; ?&gt; &lt;wsdl:definitions targetNamespace=&#34;http://com.liuxiang.xfireDemo/HelloService&#34; xmlns:tns=&#34;http://com.liuxiang.xfireDemo/HelloService&#34; xmlns:wsdlsoap=&#34;http://schemas.xmlsoap.org/wsdl/soap/&#34; xmlns:soap12=&#34;http://www.w3.org/2003/05/soap-envelope&#34; xmlns:xsd=&#34;http://www.w3.org/2001/XMLSchema&#34; xmlns:soapenc11=&#34;http://schemas.xmlsoap.org/soap/encoding/&#34; xmlns:soapenc12=&#34;http://www.w3.org/2003/05/soap-encoding&#34; xmlns:soap11=&#34;http://schemas.xmlsoap.org/soap/envelope/&#34; xmlns:wsdl=&#34;http://schemas.xmlsoap.org/wsdl/&#34;&gt; &lt;wsdl:types&gt; &lt;xsd:schema xmlns:xsd=&#34;http://www.w3.org/2001/XMLSchema&#34; attributeFormDefault=&#34;qualified&#34; elementFormDefault=&#34;qualified&#34; targetNamespace=&#34;http://com.liuxiang.xfireDemo/HelloService&#34;&gt; &lt;xsd:element name=&#34;sayHello&#34;&gt; &lt;xsd:complexType&gt; &lt;xsd:sequence&gt; &lt;xsd:element maxOccurs=&#34;1&#34; minOccurs=&#34;1&#34; name=&#34;name&#34; nillable=&#34;true&#34; type=&#34;xsd:string&#34; /&gt; &lt;/xsd:sequence&gt; &lt;/xsd:complexType&gt; &lt;/xsd:element&gt; &lt;xsd:element name=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/29d7455c95f3ce90531c96ce728901d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-03-30T14:23:33+08:00" />
<meta property="article:modified_time" content="2017-03-30T14:23:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">WebService中的WSDL详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2 id="webservice中的wsdl详解">WebService中的WSDL详解</h2> 
<p>       有人在WebService开发的时候，特别是和第三方有接口的时候，走的是SOAP协议，然后用户（或后台）给你一个WSDL文件（或网址），说按照上面的进行适配， 这时就要对WebService的WSDL有一定的理解，本文将对WSDL（WebService描述语言）进行详细总结。 <br>        WSDL (Web Services Description Language,Web服务描述语言)是一种XML Application，他将Web服务描述定义为一组服务访问点，客户端可以通过这些服务访问点对包含面向文档信息或面向过程调用的服务进行访问(类似远程过程调用)。WSDL首先对访问的操作和访问时使用的请求/响应消息进行抽象描述，然后将其绑定到具体的传输协议和消息格式上以最终定义具体部署的服务访问点。相关的具体部署的服务访问点通过组合就成为抽象的Web服务。</p> 
<h2 id="一wsdl的基本概念">一．WSDL的基本概念</h2> 
<p>       WSDL是一个用于精确描述Web服务的文档，WSDL文档是一个遵循WSDL-XML模式的XML文档。WSDL 文档将Web服务定义为服务访问点或端口的集合。在 WSDL 中，由于服务访问点和消息的抽象定义已从具体的服务部署或数据格式绑定中分离出来，因此可以对抽象定义进行再次使用。消息，指对交换数据的抽象描述；而端口类型，指操作的抽象集合。用于特定端口类型的具体协议和数据格式规范构成了可以再次使用的绑定。将Web访问地址与可再次使用的绑定相关联，可以定义一个端口，而端口的集合则定义为服务。 <br>        一个WSDL文档通常包含8个重要的元素，即definitions、types、import、message、portType、operation、binding、service元素。这些元素嵌套在definitions元素中，definitions是WSDL文档的根元素。 <br> WSDL文档外层结构图示： <br> <img src="https://images2.imgbox.com/e3/e9/wX7PgLAJ_o.png" alt="w" title=""></p> 
<blockquote> 
 <p>WSDL 服务进行交互的基本元素： <br> Types（消息类型）：数据类型定义的容器，它使用某种类型系统（如 XSD）。 <br> Message（消息）：通信数据的抽象类型化定义，它由一个或者多个 part 组成。 <br> Part：消息参数 <br> PortType（端口类型）：特定端口类型的具体协议和数据格式规范。，它由一个或者多个 Operation组成。 <br> Operation（操作）：对服务所支持的操作进行抽象描述，WSDL定义了四种操作： <br> 1.单向（one-way）：端点接受信息； <br> 3.要求-响应（solicit-response）：端点发送消息，然后接受相关消息； <br> 4.通知（notification[2] ）：端点发送消息。</p> 
</blockquote> 
<p>Binding：特定端口类型的具体协议和数据格式规范。 <br> Port：定义为绑定和网络地址组合的单个端点。 <br> Service：相关端口的集合，包括其关联的接口、操作、消息等。 <br> 外层结构里面也可能有多层结构。</p> 
<h2 id="二wsdl的基本结构详解">二．WSDL的基本结构详解</h2> 
<p>下面通过一份wsdl文档，来详细解读WSDL结构：</p> 
<pre class="prettyprint"><code class=" hljs xml"> <span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">wsdl:definitions
</span>    <span class="hljs-attribute">targetNamespace</span>=<span class="hljs-value">"http://com.liuxiang.xfireDemo/HelloService"</span>
    <span class="hljs-attribute">xmlns:tns</span>=<span class="hljs-value">"http://com.liuxiang.xfireDemo/HelloService"</span>
    <span class="hljs-attribute">xmlns:wsdlsoap</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/wsdl/soap/"</span>
    <span class="hljs-attribute">xmlns:soap12</span>=<span class="hljs-value">"http://www.w3.org/2003/05/soap-envelope"</span>
    <span class="hljs-attribute">xmlns:xsd</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema"</span>
    <span class="hljs-attribute">xmlns:soapenc11</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/soap/encoding/"</span>
    <span class="hljs-attribute">xmlns:soapenc12</span>=<span class="hljs-value">"http://www.w3.org/2003/05/soap-encoding"</span>
    <span class="hljs-attribute">xmlns:soap11</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/soap/envelope/"</span>
    <span class="hljs-attribute">xmlns:wsdl</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/wsdl/"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:types</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">xsd:schema</span> <span class="hljs-attribute">xmlns:xsd</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema"</span>
            <span class="hljs-attribute">attributeFormDefault</span>=<span class="hljs-value">"qualified"</span> <span class="hljs-attribute">elementFormDefault</span>=<span class="hljs-value">"qualified"</span>
            <span class="hljs-attribute">targetNamespace</span>=<span class="hljs-value">"http://com.liuxiang.xfireDemo/HelloService"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">xsd:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">xsd:sequence</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">maxOccurs</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">minOccurs</span>=<span class="hljs-value">"1"</span>
                            <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">nillable</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"xsd:string"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:element</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">xsd:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">xsd:sequence</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">maxOccurs</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">minOccurs</span>=<span class="hljs-value">"0"</span>
                            <span class="hljs-attribute">name</span>=<span class="hljs-value">"return"</span> <span class="hljs-attribute">nillable</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"xsd:string"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:schema</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:types</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:message</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:part</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"parameters"</span> <span class="hljs-attribute">element</span>=<span class="hljs-value">"tns:sayHelloResponse"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:message</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:message</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:part</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"parameters"</span> <span class="hljs-attribute">element</span>=<span class="hljs-value">"tns:sayHello"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:message</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:portType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServicePortType"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:operation</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>
                <span class="hljs-attribute">message</span>=<span class="hljs-value">"tns:sayHelloRequest"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:output</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>
                <span class="hljs-attribute">message</span>=<span class="hljs-value">"tns:sayHelloResponse"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:portType</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:binding</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServiceHttpBinding"</span>
        <span class="hljs-attribute">type</span>=<span class="hljs-value">"tns:HelloServicePortType"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:binding</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"document"</span>
            <span class="hljs-attribute">transport</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/soap/http"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:operation</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:operation</span> <span class="hljs-attribute">soapAction</span>=<span class="hljs-value">""</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:body</span> <span class="hljs-attribute">use</span>=<span class="hljs-value">"literal"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:input</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:output</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:body</span> <span class="hljs-attribute">use</span>=<span class="hljs-value">"literal"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:output</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:binding</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:service</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloService"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:port</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServiceHttpPort"</span>
            <span class="hljs-attribute">binding</span>=<span class="hljs-value">"tns:HelloServiceHttpBinding"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:address
</span>                <span class="hljs-attribute">location</span>=<span class="hljs-value">"http://localhost:8080/xfire/services/HelloService"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:port</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:service</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:definitions</span>&gt;</span></code></pre> 
<h3 id="一-definitions元素">（一） definitions元素</h3> 
<p>       所有的WSDL文档的根元素均是definitions元素。该元素封装了整个文档，同时通过其name提供了一个WSDL文档。除了提供一个命名空间（targetNamespace）外，该元素没有其他作用，故不作详细描述。</p> 
<h3 id="二types元素">（二）types元素</h3> 
<p>       WSDL采用了W3C XML模式内置类型作为其基本类型系统。types元素用作一个容器，用于定义XML模式内置类型中没有描述的各种数据类型（不太明白：XML模式内置类型中没有描述的各种数据类型）。当声明消息部分的有效时，消息定义使用了在types元素中定义的数据类型和元素。在本文的WSDL文档中的types定义：</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">wsdl:types</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">xsd:schema</span> <span class="hljs-attribute">xmlns:xsd</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema"</span>
            <span class="hljs-attribute">attributeFormDefault</span>=<span class="hljs-value">"qualified"</span> <span class="hljs-attribute">elementFormDefault</span>=<span class="hljs-value">"qualified"</span>
            <span class="hljs-attribute">targetNamespace</span>=<span class="hljs-value">"http://com.liuxiang.xfireDemo/HelloService"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">xsd:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">xsd:sequence</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">maxOccurs</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">minOccurs</span>=<span class="hljs-value">"1"</span>
                            <span class="hljs-attribute">name</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">nillable</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"xsd:string"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:element</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">xsd:complexType</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">xsd:sequence</span>&gt;</span>
                          <span class="hljs-tag">&lt;<span class="hljs-title">xsd:element</span> <span class="hljs-attribute">maxOccurs</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">minOccurs</span>=<span class="hljs-value">"0"</span>
                            <span class="hljs-attribute">name</span>=<span class="hljs-value">"return"</span> <span class="hljs-attribute">nillable</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"xsd:string"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:sequence</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:complexType</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:element</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">xsd:schema</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:types</span>&gt;</span></code></pre> 
<p>       上面是数据定义部分，该部分定义了两个元素，一个是sayHello，一个是sayHelloResponse： <br>        sayHello：定义了一个复杂类型，仅仅包含一个简单的字符串，将来用来描述操作的参入传入部分； <br>        sayHelloResponse：定义了一个复杂类型，仅仅包含一个简单的字符串，将来用来描述操作的返回值； <br>        这里sayHelloResponse是和sayHello相关的，sayHello相对于一个方法，里面的： type=”xsd:string”，name=”name”，是确定传入name的参数是String类型的，而sayHelloResponse中的 name=”return” type=”xsd:string” 是确定方法sayHello（String name）返回的类型是String类型的。</p> 
<h3 id="三import元素">（三）import元素</h3> 
<p>       import元素使得可以在当前的WSDL文档中使用其他WSDL文档中指定的命名空间中的定义元素。本例子中没有使用import元素。通常在用户希望模块化WSDL文档的时候，该功能是非常有效果的。 <br> import的格式如下：</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">wsdl:import</span> <span class="hljs-attribute">namespace</span>=<span class="hljs-value">"http://xxx.xxx.xxx/xxx/xxx"</span> <span class="hljs-attribute">location</span>=<span class="hljs-value">"http://xxx.xxx.xxx/xxx/xxx.wsdl"</span>/&gt;</span></code></pre> 
<p>必须有namespace属性和location属性： <br> 1.namespace属性：值必须与正导入的WSDL文档中声明的targetNamespace相匹配； <br> 2.location属性：必须指向一个实际的WSDL文档，并且该文档不能为空。</p> 
<h3 id="四message元素">（四）message元素</h3> 
<p>       message元素描述了Web服务使用消息的有效负载。message元素可以描述输出或者接受消息的有效负载；还可以描述SOAP文件头和错误detail元素的内容。定义message元素的方式取决于使用RPC样式还是文档样式的消息传递。在本文中的message元素的定义，本文档使用了采用文档样式的消息传递：</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">wsdl:message</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:part</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"parameters"</span> <span class="hljs-attribute">element</span>=<span class="hljs-value">"tns:sayHelloResponse"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:message</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:message</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:part</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"parameters"</span> <span class="hljs-attribute">element</span>=<span class="hljs-value">"tns:sayHello"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:message</span>&gt;</span></code></pre> 
<p>       该部分是消息格式的抽象定义：定义了两个消息sayHelloResponse和sayHelloRequest：</p> 
<h4 id="1sayhellorequest">1.sayHelloRequest：</h4> 
<p>sayHello操作的请求消息格式，由一个消息片断组成，名字为parameters,元素是我们前面定义的types中的元素；</p> 
<h4 id="2sayhelloresponse">2.sayHelloResponse：</h4> 
<p>sayHello操作的响应消息格式，由一个消息片断组成，名字为parameters,元素是我们前面定义的types中的元素； <br>         如果采用RPC样式的消息传递，只需要将文档中的element元素修改为type即可（？？）。</p> 
<h3 id="五porttype元素">（五）portType元素</h3> 
<p>       portType元素定义了Web服务的抽象接口。该接口有点类似Java的接口，都是定义了一个抽象类型和方法，没有定义实现。在WSDL中，portType元素是由binding和service元素来实现的，这两个元素用来说明Web服务实现使用的Internet协议、编码方案以及Internet地址。 <br> 一个portType中可以定义多个operation，一个operation可以看作是一个方法，本文中WSDL文档的定义：</p> 
<pre class="prettyprint"><code class=" hljs xml">  <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:portType</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServicePortType"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:operation</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>
                <span class="hljs-attribute">message</span>=<span class="hljs-value">"tns:sayHelloRequest"</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:output</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>
                <span class="hljs-attribute">message</span>=<span class="hljs-value">"tns:sayHelloResponse"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:portType</span>&gt;</span></code></pre> 
<p>       portType定义了服务的调用模式的类型，这里包含一个操作sayHello方法，同时包含input和output表明该操作是一个请求／响应模式，请求消息是前面定义的sayHelloRequest，响应消息是前面定义的sayHelloResponse。input表示传递到Web服务的有效负载，output消息表示传递给客户的有效负载。 <br>        这里相当于抽象类中定义了一个抽象方法sayHello，而方法参数的定义和返回值的定义都是在types中设置的，方法名又是在message中定义有的。</p> 
<h3 id="六binding">（六）binding</h3> 
<p>       binding元素将一个抽象portType映射到一组具体协议(SOAO和HTTP)、消息传递样式、编码样式。通常binding元素与协议专有的元素和在一起使用，本文中的例子：</p> 
<pre class="prettyprint"><code class=" hljs xml">   <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:binding</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServiceHttpBinding"</span>
        <span class="hljs-attribute">type</span>=<span class="hljs-value">"tns:HelloServicePortType"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:binding</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"document"</span>
            <span class="hljs-attribute">transport</span>=<span class="hljs-value">"http://schemas.xmlsoap.org/soap/http"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:operation</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHello"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:operation</span> <span class="hljs-attribute">soapAction</span>=<span class="hljs-value">""</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:input</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloRequest"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:body</span> <span class="hljs-attribute">use</span>=<span class="hljs-value">"literal"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:input</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:output</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"sayHelloResponse"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:body</span> <span class="hljs-attribute">use</span>=<span class="hljs-value">"literal"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:output</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:operation</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:binding</span>&gt;</span></code></pre> 
<p>       这部分将服务访问点的抽象定义与SOAP、HTTP绑定，描述如何通过SOAP/HTTP来访问按照前面描述的访问入口点类型部署的访问入口。 <br> 其中规定了在具体SOAP调用时，应当使用的soapAction是”xxx”，这个Action在WebService代码调用中是很重要的。具体的使用需要参考特定协议定义的元素。</p> 
<h3 id="七service元素和port元素">（七）service元素和port元素</h3> 
<p>       service元素包含一个或者多个port元素，其中每个port元素表示一个不同的Web服务。port元素将URL赋给一个特定的binding，甚至可以使两个或者多个port元素将不同的URL赋值给相同的binding。文档中的例子：</p> 
<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:service</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloService"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">wsdl:port</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"HelloServiceHttpPort"</span>
            <span class="hljs-attribute">binding</span>=<span class="hljs-value">"tns:HelloServiceHttpBinding"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">wsdlsoap:address
</span>                <span class="hljs-attribute">location</span>=<span class="hljs-value">"http://localhost:8080/xfire/services/HelloService"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:port</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">wsdl:service</span>&gt;</span></code></pre> 
<p>       对于这个WSDL文档的学习，第一次看是感觉非常陌生的，而且里面元素又多，学习的话先是要了解外层结构代表的意义和作用，然后理解里面的元素的意义和作用，有些元素作用不大，有些元素又是很关联的，有些元素是比较重要的。 <br> WSDL图解： <br> <img src="https://images2.imgbox.com/b2/ce/3lRij7Xq_o.png" alt="t1" title=""></p> 
<p><img src="https://images2.imgbox.com/a2/43/HbxJNFdC_o.png" alt="t2" title=""></p> 
<p>共勉：没有绝望的处境,只有对处境绝望的人。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/921c8452ba57ad980141ae006afc830b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用cmd根据WSDL网址生成java客户端代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bac7931c67cb1e93a2082ef177bf3026/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">几款移动跨平台App开发框架比较</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>