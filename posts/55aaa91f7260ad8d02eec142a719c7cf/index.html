<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux安装jdk，Tomcat，mysql - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux安装jdk，Tomcat，mysql" />
<meta property="og:description" content="一、新建虚拟机 1.创建虚拟机。 点击工具，选择新建虚拟机
名称可以随意取名，类型选择Linux，版本建议选择other Linux（64-bit），而后点击下一步。
若安装mysql5.7以上的建议设置为6G（4G内存会不够用，导致一些文件解压不出来）。
直接点击创建即可。
默认选择第一个，点击下一步即可。
默认选择第一个，点击下一步即可。
直接点击创建。 2.虚拟机初始化和配置网络环境 这里分俩种情况，一种为无线WiFi网络，一种是连接网线的
2.1连接网线的情况下。 点击：网络地址转换（NAT） ，选择桥接模式。
而后直接启动即可。
2.2连接无线WiFi的情况下。 3.虚拟机初始化 启动虚拟机之后，点击回车，而后显示这个界面。
往下滑找到中文，选择中文的简体中文 （中国）而后点击，继续。
而后进入该界面，点击安装位置。
点击方框内的下拉框，选择标准分区。
点击&#43;号
要添加的挂载点有： 第一个（/），第二个（/boot），第五个（swap）。这三个都是必须要添加的。第一个期望容量建议为6个G（主要是mysql5.7版本及以后的版本需要占用的内存较大） 其他俩个各位1G即可。
添加挂载点：/，期望容量为6GB
添加完三个之后点击完成。
点击接受更改
往下滑找到网络和主机名，点击网络和主机名。
点击关闭按钮左边的按钮，打开网络连接。主机名更改为localhost，点击应用。
若你连接的是网线且选择的网络连接方式为桥接方式，则会显示已连接和显示出ip地址和子网掩码等内容。
若你连接的是无线WiFi，但是连接方式为桥接方式，则会显示连接已断开
而后点击左上角的完成。
点击最小化安装，勾选图中内容。
最后点击开始安装。
设置root密码。
密码过于简单则需要点击俩次完成按钮。
而后等待安装完成点击重启。
二、设置共享文件夹 共享文件夹是用于在主机（Windows）与虚拟机（Linux）互传文件最简单的一种方式。
1.安装增强功能 点击虚拟机窗口上的设备，选择最后的安装增强功能，若没有任何反应则说明操作成功。
若出现如下错误。
则点击设备，选择第一个分配光驱中的移除虚拟盘。
2.挂载 因为是最小化安装的centos，光盘加载之后不会自动播放，所以需要手动挂载光盘 先建立挂载点：mkdir /mnt/cdrom，然后执行：mount /dev/sr0 /mnt/cdrom。而后进入cdrom文件夹：cd /mnt/cdrom/。 运行VboxLinuxAddtions.run：sudo /mnt/cdrom/VBoxLinuxAdditions.run，即可正确安装 virtualbox的增强功能了，整个安装过程需要1分钟左右 (如果提示缺少bzip，请自行安装)具体教程可以去百度。若是你在最小化安装的时候勾选了图中的内容（具体可以往上翻，找到最小化安装设置哪里），则不会出现这种报错。（我是没有遇到的，不清楚其他人的情况）。
3.设置共享文件夹
点击设备上的共享文件夹。点击方框内，添加共享文件夹
路文件夹路径为你主机（Windows系统）的文件夹。勾选自动挂载和固定分配。
进入挂载点： cd /tmp/tools,可以看到共享文件夹内的内容。
二、jdk 1.解压jdk安装包 查看是否安装了jdk：rpm -qa | grep jdk(若有则删除jdk：yum -y remove java，避免冲突）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/55aaa91f7260ad8d02eec142a719c7cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-23T13:35:08+08:00" />
<meta property="article:modified_time" content="2023-07-23T13:35:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux安装jdk，Tomcat，mysql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、新建虚拟机</h2> 
<h3>1.创建虚拟机。</h3> 
<p> 点击工具，选择新建虚拟机</p> 
<p><img alt="" height="255" src="https://images2.imgbox.com/71/27/YZUuyvlf_o.png" width="1121"></p> 
<p> 名称可以随意取名，类型选择Linux，版本建议选择other Linux（64-bit），而后点击下一步。</p> 
<p> <img alt="" height="406" src="https://images2.imgbox.com/02/f5/NDw26y32_o.png" width="454"></p> 
<p> 若安装mysql5.7以上的建议设置为6G（4G内存会不够用，导致一些文件解压不出来）。</p> 
<p> <img alt="" height="406" src="https://images2.imgbox.com/3d/2c/bVVgQLZu_o.png" width="454"></p> 
<p> 直接点击创建即可。</p> 
<p> <img alt="" height="406" src="https://images2.imgbox.com/c4/31/NEHQ9Qpu_o.png" width="454"></p> 
<p> 默认选择第一个，点击下一步即可。</p> 
<p><img alt="" height="464" src="https://images2.imgbox.com/36/9a/VhwmCxho_o.png" width="545"></p> 
<p>  默认选择第一个，点击下一步即可。</p> 
<p> <img alt="" height="464" src="https://images2.imgbox.com/90/0c/Dn4gvH54_o.png" width="545"></p> 
<p>直接点击创建。 </p> 
<p> <img alt="" height="464" src="https://images2.imgbox.com/44/b5/4uhoFm4g_o.png" width="545"></p> 
<h3> 2.虚拟机初始化和配置网络环境</h3> 
<p>这里分俩种情况，一种为无线WiFi网络，一种是连接网线的</p> 
<h4>2.1连接网线的情况下。</h4> 
<p>点击：网络地址转换（NAT） ，选择桥接模式。</p> 
<p><img alt="" height="741" src="https://images2.imgbox.com/ff/a0/OZ8zpn5f_o.png" width="1136"></p> 
<p>而后直接启动即可。</p> 
<h4>2.2连接无线WiFi的情况下。</h4> 
<p></p> 
<p></p> 
<p></p> 
<h4>3.虚拟机初始化</h4> 
<p>启动虚拟机之后，点击回车，而后显示这个界面。</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/4f/11/BBz7FoIh_o.png" width="816"></p> 
<p> 往下滑找到中文，选择中文的简体中文 （中国）而后点击，继续。<img alt="" height="684" src="https://images2.imgbox.com/f8/b8/yfYpja0t_o.png" width="816"></p> 
<p> 而后进入该界面，点击安装位置。<img alt="" height="684" src="https://images2.imgbox.com/22/40/YsZLFZCK_o.png" width="816"></p> 
<p> 点击方框内的下拉框，选择标准分区。<img alt="" height="684" src="https://images2.imgbox.com/1d/63/1yxIkdiA_o.png" width="816"></p> 
<p> 点击+号<img alt="" height="684" src="https://images2.imgbox.com/04/5c/HmI6peVM_o.png" width="816"></p> 
<p> 要添加的挂载点有： 第一个（/），第二个（/boot），第五个（swap）。这三个都是必须要添加的。第一个期望容量建议为6个G（主要是mysql5.7版本及以后的版本需要占用的内存较大） 其他俩个各位1G即可。<img alt="" height="684" src="https://images2.imgbox.com/d0/d2/hqOp9GXV_o.png" width="816"></p> 
<p> 添加挂载点：<span style="color:#fe2c24;">/</span><span style="color:#0d0016;">，期望容量为6GB</span></p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/ae/d3/KR9e0XRR_o.png" width="816"></p> 
<p> 添加完三个之后点击完成。<img alt="" height="684" src="https://images2.imgbox.com/09/df/nUPuixXA_o.png" width="816"></p> 
<p> 点击接受更改</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/8f/37/QVh52zl3_o.png" width="816"></p> 
<p> 往下滑找到网络和主机名，点击网络和主机名。</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/9e/74/juvTJID0_o.png" width="816"></p> 
<p> 点击关闭按钮左边的按钮，打开网络连接。主机名更改为localhost，点击应用。<img alt="" height="684" src="https://images2.imgbox.com/98/1c/pl3tbLPV_o.png" width="816"></p> 
<p> 若你连接的是网线且选择的网络连接方式为桥接方式，则会显示已连接和显示出ip地址和子网掩码等内容。</p> 
<p>若你连接的是无线WiFi，但是连接方式为桥接方式，则会显示连接已断开</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/12/bb/EKbbmRRk_o.png" width="813"></p> 
<p> 而后点击左上角的完成。</p> 
<p>点击最小化安装，勾选图中内容。</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/77/58/rRux8dMF_o.png" width="816"></p> 
<p>最后点击开始安装。</p> 
<p> 设置root密码。</p> 
<p><img alt="" height="684" src="https://images2.imgbox.com/e5/4b/WT5hkjNm_o.png" width="813"></p> 
<p> 密码过于简单则需要点击俩次完成按钮。<img alt="" height="684" src="https://images2.imgbox.com/86/d3/EkvC3Wjn_o.png" width="813"></p> 
<p> 而后等待安装完成点击重启。</p> 
<h3>二、设置共享文件夹</h3> 
<p>共享文件夹是用于在主机（Windows）与虚拟机（Linux）互传文件最简单的一种方式。</p> 
<h4>1.安装增强功能</h4> 
<p>点击虚拟机窗口上的设备，选择最后的安装增强功能，若没有任何反应则说明操作成功。</p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/51/78/PEQlvi9m_o.png" width="990"></p> 
<p></p> 
<p> 若出现如下错误。</p> 
<p> <img alt="" height="493" src="https://images2.imgbox.com/c2/f0/LKNrxPwQ_o.png" width="378"></p> 
<p> 则点击设备，选择第一个分配光驱中的移除虚拟盘。</p> 
<p><img alt="" height="371" src="https://images2.imgbox.com/93/5b/KPIIQyBN_o.png" width="911"></p> 
<p></p> 
<h4>2.挂载</h4> 
<p>因为是最小化安装的centos，光盘加载之后不会自动播放，所以需要手动挂载光盘 先建立挂载点：mkdir /mnt/cdrom，然后执行：mount /dev/sr0 /mnt/cdrom。而后进入cdrom文件夹：cd /mnt/cdrom/。 </p> 
<p><img alt="" height="168" src="https://images2.imgbox.com/71/e7/9qwTiT3z_o.png" width="702"></p> 
<p>运行VboxLinuxAddtions.run：sudo /mnt/cdrom/VBoxLinuxAdditions.run，即可正确安装 virtualbox的增强功能了，整个安装过程需要1分钟左右 </p> 
<p><img alt="" height="250" src="https://images2.imgbox.com/17/28/s1ufSJVf_o.png" width="764"></p> 
<p>(如果提示缺少bzip，请自行安装)具体教程可以去百度。若是你在最小化安装的时候勾选了图中的内容（具体可以往上翻，找到最小化安装设置哪里），则不会出现这种报错。（我是没有遇到的，不清楚其他人的情况）。</p> 
<p><img alt="" height="106" src="https://images2.imgbox.com/86/68/ZG1oQmhC_o.png" width="617"></p> 
<p> 3.设置共享文件夹</p> 
<p>点击设备上的共享文件夹。点击方框内，添加共享文件夹</p> 
<p><img alt="" height="549" src="https://images2.imgbox.com/f5/55/g0gNQfnc_o.png" width="837"></p> 
<p> 路文件夹路径为你主机（Windows系统）的文件夹。勾选自动挂载和固定分配。</p> 
<p><img alt="" height="549" src="https://images2.imgbox.com/e9/9c/YZFseGUd_o.png" width="837"></p> 
<p> 进入挂载点： cd /tmp/tools,可以看到共享文件夹内的内容。</p> 
<p><img alt="" height="199" src="https://images2.imgbox.com/16/af/va6Spn5C_o.png" width="797"></p> 
<p></p> 
<h2>二、jdk</h2> 
<h4>1.解压jdk安装包</h4> 
<p>查看是否安装了jdk：rpm -qa | grep jdk(若有则删除jdk：yum -y remove java，避免冲突）</p> 
<p><img alt="" height="45" src="https://images2.imgbox.com/ac/76/kX3EwnGY_o.png" width="536"></p> 
<p> 创建java文件夹：mkdir /usr/local/java</p> 
<p><img alt="" height="26" src="https://images2.imgbox.com/ef/62/1sWErF8p_o.png" width="424"></p> 
<p> 解压jdk安装包，-C 后面的路径为解压的路径。</p> 
<p><img alt="" height="25" src="https://images2.imgbox.com/9b/44/HDDfkGkC_o.png" width="803"></p> 
<h4> 2.配置环境变量</h4> 
<p>使用vi工具修改/etc/profile：vi etc/profile 按i进入编辑模式，在最后加入三行：(在编写路径时一定注意不要写错，多个环境变量分分隔符 是 : )</p> 
<blockquote> 
 <p>export JAVA_HOME=/usr/local/java/jdk1.8.0_172</p> 
 <p>export PATH=$PATH:$JAVA_HOME/bin</p> 
 <p>export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</p> 
</blockquote> 
<p>编辑后按esc进入命令模式，输入:wq保存退出</p> 
<p><img alt="" height="311" src="https://images2.imgbox.com/94/a5/yohStYIi_o.png" width="809"></p> 
<p> 输入命令使环境变量生效：source /ect/profile，然后输入java -version和javac命令验证环境配置 成功</p> 
<p><img alt="" height="102" src="https://images2.imgbox.com/8f/a2/3sAFZwWB_o.png" width="699"></p> 
<p></p> 
<h2>三、安装mysql</h2> 
<p>再此之前因当生成备份：点击控制&gt;生成备份。</p> 
<h4>1.查询并卸载centos自带数据库</h4> 
<p>查询自带的数据库：rpm -qa|grep mariadb</p> 
<p><img alt="" height="52" src="https://images2.imgbox.com/cd/4b/lTfEUfJe_o.png" width="541"></p> 
<p>卸载自带的数据库： yum remove mariadb-libs-5.5.60-el7_5.x86_64(注意的是：el7中的l是小写的L，不是1）</p> 
<p>创建用户组，在mysql用户组中添加mysql用户</p> 
<blockquote> 
 <p>groupadd mysql</p> 
 <p>useradd -g mysql mysql</p> 
</blockquote> 
<h4>2.安装mysql</h4> 
<p>        解压安装包：tar -xvf mysql -C /usr/local/</p> 
<p><img alt="" height="18" src="https://images2.imgbox.com/82/b3/xFGlnF3U_o.png" width="784"></p> 
<p> 重命名文件夹：mv mysql-5.6.42 mysql.</p> 
<p><img alt="" height="137" src="https://images2.imgbox.com/60/70/84cABmqg_o.png" width="714"></p> 
<p> 如果/etc/下没有这个mysql配置文件，就用命令从安装位置复制一个：cp mysql/supportfiles/my-default.cnf /etc/my.cnf</p> 
<p>修改/etc/my.cof：vi /etc/my.cnf</p> 
<p>改完之后:wq保存退出</p> 
<blockquote> 
 <p>[mysql]</p> 
 <p>default-character-set=utf8</p> 
 <p>socket=/var/lib/mysql/mysql.sock</p> 
 <p>[mysqld]</p> 
 <p>basedir=/usr/local/mysql</p> 
 <p>datadir=/usr/local/mysql/data</p> 
 <p>port = 3306</p> 
 <p>socket=/var/lib/mysql/mysql.sock</p> 
 <p>character-set-server=utf8</p> 
</blockquote> 
<p>        具体如下<img alt="" height="684" src="https://images2.imgbox.com/97/b8/BbUoC1aD_o.png" width="816"></p> 
<h4>3. 执行安装脚本</h4> 
<p>先修改文件拥有者：chown -R mysql:mysql /usr/local/mysql</p> 
<p>mysql5.7版本及以后：</p> 
<blockquote> 
 <p>./usr/local/mysql/bin/mysql –initialize -–user=mysql –-basedir=/usr/local/mysql –-datadir=/usr/local/mysql/data/（如果mysql提示错误 可尝试mysqld）</p> 
</blockquote> 
<p>此处需要注意记录生成的临时密码，在最后一行末尾：Qu/HXQK7pjzA(图片出自网络)</p> 
<blockquote> 
 <p> 有很多人在执行的过程中报错:<br> ./mysqld: error while loading shared libraries: libnuma.so.1: cannot open shared object file: No such file or directory<br> 是因为没有安装依赖  libaio:<br> yum install -y libaio-devel.x86_64</p> 
 <p>yum install -y numactl</p> 
</blockquote> 
<p>mysql5.6版本及以前：</p> 
<p>  /usr/local/mysql/scripts/mysql_install_db --user=mysql -- basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data/</p> 
<p><img alt="" height="62" src="https://images2.imgbox.com/8e/e9/r4FjeR7K_o.png" width="807"></p> 
<p>再次修改data文件的所有者: chown -R mysql:mysql data</p> 
<h3>4.配置开机启动</h3> 
<p>执行命令cp support-files/mysql.server /etc/init.d/mysqld，把启动脚本放到开机初始化目录</p> 
<p>新建/var/lib/mysql目录：mkdir /var/lib/mysql，并设置权限为777：chmod 777 /var/lib/mysql</p> 
<p>设置开机启动并检查：</p> 
<p><img alt="" height="236" src="https://images2.imgbox.com/95/78/UhXwYEE2_o.png" width="700"></p> 
<p>启动服务service mysqld start </p> 
<p><img alt="" height="87" src="https://images2.imgbox.com/6d/42/76sHGCu6_o.png" width="655"></p> 
<p>service mysqld stop可以停止服务</p> 
<h3>5.环境变量配置和mysql初始设置</h3> 
<p>1. 修改环境变量配置文件：vi /etc/profile</p> 
<p>最后追加一句：export PATH=$PATH:/usr/local/mysql/bin</p> 
<p>用source命令起效：source /etc/profile</p> 
<p>2.登录mysql</p> 
<p>输入mysql -uroot -p</p> 
<p>要注意的是：<span style="color:#fe2c24;">5.6以前的版本不用输入密码，直接回车</span></p> 
<p><span style="color:#fe2c24;">5.7及以后的版本都需要输入密码，密码为上面执行安装脚本时最后一行末尾。</span></p> 
<p>3. 重设root密码（有俩种方式）</p> 
<p>set password = password('要更改的密码');</p> 
<p>update user set password=password('123456') where user='root';（该方法适用与mysql5.6版本和以前的）</p> 
<p>update user set authentication_string=password('123456') where user='root';（该方法适用与mysql5.7版本和以后的）</p> 
<p><span style="color:#fe2c24;">原因是5.7版本下的mysql数据库下已经没有password这个字段了，password字段改成了authentication_string</span></p> 
<p>重设密码之后要刷新权限：flush privileges;</p> 
<h2 style="background-color:transparent;">四、安装Tomcat</h2> 
<p>1.解压：tar -xvf apa... -C /usr/local/</p> 
<p>2.重命名:mv /usr/local/apa-tomcat /usr/local/tomcat</p> 
<p>3.配置环境变量：vi /etc/profile</p> 
<p>末尾添加: export CATALINA_HOME=/usr/local/tomcat</p> 
<p>4.配置服务: cp /usr/local/tomcat/bin/catalina.sh /etc/init.d/tomcat9</p> 
<p>5:添加权限:chmod 755 /etc/init.d/tomcat9</p> 
<p>6.修改启动脚本:vi /etc/init.d/tomcat9</p> 
<p>开头添加:</p> 
<p>#chkconfig: 2345 10 90</p> 
<p>#description: tomcat9service</p> 
<p></p> 
<p>export JAVA_HOME=/usr/local/java/jdk1.8.0_271</p> 
<p>export CATALINA_HOME=/usr/local/tomcat</p> 
<p>7.添加服务:chkconfig --add tomcat9</p> 
<p>启动服务：service tomcat9 start</p> 
<p>配置防火墙并设置虚拟网络</p> 
<p>网络换成桥接网卡</p> 
<p>打开防火墙的8080端口</p> 
<p>firewall-cmd --zone=public --add-port=8080/tcp --permanent</p> 
<p>刷新:firewalll-cmd --reload</p> 
<p>打开防火墙的3306端口</p> 
<p>firewall-cmd --zone=public --add-port=3306/tcp --permanent</p> 
<p>刷新:firewalll-cmd --reload</p> 
<p></p> 
<p></p> 
<h2>五、常见问题</h2> 
<p>1.若在安装增强文件时出现缺少bzip2则建议在最小化安装哪里勾选全部</p> 
<p>2.若安装mysql时出现报错信息</p> 
<blockquote> 
 <p>One of the configured repositories failed (Unknown),<br> and yum doesn’t have enough cached data to continue. At this point the only<br> safe thing yum can do is fail. There are a few ways to work “fix” this:</p> 
</blockquote> 
<p>则极有可能是你的网络有问题，建议把网络改成网络地址转换（nat）模式 </p> 
<p>3.有时候桥接网络使用yum命令会报错，可以更改成网络地址转换（NAT）。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/69009789535e952c9f5367257a59a61e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一张图转3D质量起飞！GitHub刚建空仓就有300&#43;人赶来标星</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4b26d8c5fd736a6e757884ea1a735f80/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端大文件上传</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>