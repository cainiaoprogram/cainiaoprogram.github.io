<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用Python绘制各种方法的词云图 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用Python绘制各种方法的词云图" />
<meta property="og:description" content="import jieba from PIL import Image from wordcloud import WordCloud import numpy as np import matplotlib.pyplot as plt # 我们导入文本内容，并且去除掉一下换行符和空格，代码如下 text = open(r&#34;《冰与火之歌》第1卷权力的游戏.txt&#34;,encoding=&#39;gbk&#39;).read() text = text.replace(&#39;\n&#39;,&#34;&#34;).replace(&#34;\u3000&#34;,&#34;&#34;) # 我们需要将其分成一个个的词，这个时候就需要用到jieba模块了，代码如下 text_cut = jieba.lcut(text) # 将分好的词用某个符号分割开连成字符串 text_cut = &#39; &#39;.join(text_cut) # 结果当中或许存在着不少我们不需要看的、无关紧要的内容，这个时候就需要用到停用词 stop_words = open(r&#34;baidu_stopwords.txt&#34;,encoding=&#39;utf-8&#39;).read().split(&#34;\n&#34;) # # 绘制词云图的核心代码 word_cloud = WordCloud(font_path=&#34;simsun.ttc&#34;, # 设置词云字体 background_color=&#34;white&#34;,# 词云图的背景颜色 stopwords=stop_words) # 去掉的停词 word_cloud.generate(text_cut) image = word_cloud.to_image() image.show() word_cloud.to_file(&#34;1.png&#34;) 这样一张极其简单的词云图算是做好了，当然我们可以给它添加一个背景图片，例如下面这张图片，
主要需要添加的代码如下所示
background = Image.open(r&#34;5.png&#34;) graph = np.array(background) word_cloud = WordCloud(font_path=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/86a07d0e86ad808b4a8d646ebd908163/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-20T19:41:50+08:00" />
<meta property="article:modified_time" content="2023-02-20T19:41:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用Python绘制各种方法的词云图</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<pre><code class="language-python">import jieba
from PIL import Image
from wordcloud import WordCloud
import numpy as np
import matplotlib.pyplot as plt

# 我们导入文本内容，并且去除掉一下换行符和空格，代码如下
text = open(r"《冰与火之歌》第1卷权力的游戏.txt",encoding='gbk').read()
text = text.replace('\n',"").replace("\u3000","")

# 我们需要将其分成一个个的词，这个时候就需要用到jieba模块了，代码如下
text_cut = jieba.lcut(text)
# 将分好的词用某个符号分割开连成字符串
text_cut = ' '.join(text_cut)
# 结果当中或许存在着不少我们不需要看的、无关紧要的内容，这个时候就需要用到停用词
stop_words = open(r"baidu_stopwords.txt",encoding='utf-8').read().split("\n")

# # 绘制词云图的核心代码
word_cloud = WordCloud(font_path="simsun.ttc",  # 设置词云字体
                       background_color="white",# 词云图的背景颜色
                       stopwords=stop_words) # 去掉的停词
word_cloud.generate(text_cut)
image = word_cloud.to_image()
image.show()
word_cloud.to_file("1.png")</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/56/58/CH8NOdQR_o.png"></p> 
<p> 这样一张极其简单的词云图算是做好了，当然我们可以给它添加一个背景图片，例如下面这张图片，</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/b7/11/KcL40CnQ_o.png"></p> 
<p> 主要需要添加的代码如下所示</p> 
<pre><code class="language-python">background = Image.open(r"5.png")
graph = np.array(background)
word_cloud = WordCloud(font_path="simsun.ttc",  # 设置词云字体
                       background_color="white", # 词云图的背景颜色
                       stopwords=stop_words,
                       mask = graph) # 去掉的停词
word_cloud.generate(text_cut)
image = word_cloud.to_image()
image.show()
word_cloud.to_file("2.png")</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/90/d3/oyuTXh2O_o.png"></p> 
<p> 除此之外，还有另外一个模块<code>stylecloud</code>绘制出来的词云图也是非常酷炫的，其中我们主要是用到下面这个函数</p> 
<pre><code class="language-python">stylecloud.gen_stylecloud(text=text_cut,
                          palette='tableau.BlueRed_6', #调色板
                          icon_name='fas fa-apple-alt', #词云图的形状
                          font_path=r'田英章楷书3500字.ttf', #字体风格
                          background_color="white",
                          max_font_size=200, #最大的字号
                          max_words=2000, #可以容纳下的最大单词数量
                          stopwords=True,
                          custom_stopwords=stop_words,
                          output_name='3.png')
</code></pre> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/90/51/ZcVPb9t9_o.png"></p> 
<p> 最后我们来看一下如何用<code>Pyecharts</code>模块来进行词云图的绘制，代码如下</p> 
<pre><code class="language-python">from pyecharts import options as opts
from pyecharts.charts import Page, WordCloud
words = [
    ("爵士", 933),
    ("奈德", 784),
    ("国王", 666),
    ("琼恩", 629),
    ("提利昂", 595),
    ("布兰", 547),
    ("父亲", 527),
    ("凯特琳", 525),
    ("兰尼斯特", 510),
    ("史塔克", 480),
    ("艾丽娅", 416)
]
c = (WordCloud()
    .add("", words, word_size_range=[20, 100])
    .set_global_opts(title_opts=opts.TitleOpts(title="基本示例"))
     )
c.render("1.html")</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/13f747a0ea88954da0547f066e908f48/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">真的了解HashMap、HashSet吗？做一道测试题试试！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/96f157fce2c46038eba810d3a0df59d1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">react CodeMirror react-codemirror2 改变高度</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>