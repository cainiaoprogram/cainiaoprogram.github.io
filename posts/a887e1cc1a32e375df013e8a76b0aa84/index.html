<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>手撕迪杰斯特拉算法（Dijkstra）及代码（附图解） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="手撕迪杰斯特拉算法（Dijkstra）及代码（附图解）" />
<meta property="og:description" content="文章目录 迪杰斯特拉（Dijkstra）算法1.算法思想及其步骤2.代码2.1 相关声明2.2 有权图的建立函数定义2.3 核心算法：迪杰斯特拉 迪杰斯特拉（Dijkstra）算法 引言：我们常常纠结一个对路径选择的决策问题，假设我们要从北京到上海，那么如何才能走 花最少的钱，又最节省时间的线路呢？
​ 这时候，我们可以把从 北京 到 上海 间的路线站标记，那么 北京 到 各路线站 都会有相应的金钱和时间花费，我们只需要找出一条从北京到上海所经过的路线站的时间和金钱总值消耗最少的即可。
​ 显而易见，对应到图中，就是一张带权的图，即 一张 网。我们只需要找出 起点 到 终点 权值之和最少的路径即可。即
t a r g e t = M i n ( ∑ b e g i n e n d w e i g h t ) i target=Min{ (\sum_{begin}^{end}weight)_i } target=Min(begin∑end​weight)i​
​
1.算法思想及其步骤 算 法 核 心 \color{SpringGreen}算法核心 算法核心：基于已经求得最短路径的基础上，求得更远顶点的最短路径
​ 图结构 graphNet ： 带权的图 （网），用邻接矩阵表示" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a887e1cc1a32e375df013e8a76b0aa84/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-10T16:51:11+08:00" />
<meta property="article:modified_time" content="2022-06-10T16:51:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">手撕迪杰斯特拉算法（Dijkstra）及代码（附图解）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Dijkstra_1" rel="nofollow">迪杰斯特拉（Dijkstra）算法</a></li><li><ul><li><a href="#1_14" rel="nofollow">1.算法思想及其步骤</a></li><li><a href="#2_108" rel="nofollow">2.代码</a></li><li><ul><li><a href="#21__112" rel="nofollow">2.1 相关声明</a></li><li><a href="#22__137" rel="nofollow">2.2 有权图的建立函数定义</a></li><li><a href="#23__202" rel="nofollow">2.3 核心算法：迪杰斯特拉</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Dijkstra_1"></a>迪杰斯特拉（Dijkstra）算法</h2> 
<p><mark>引言</mark>：我们常常纠结一个对路径选择的决策问题，假设我们要从北京到上海，那么如何才能走 花最少的钱，又最节省时间的线路呢？</p> 
<p>​ 这时候，我们可以把从 北京 到 上海 间的路线站标记，那么 北京 到 各路线站 都会有相应的金钱和时间花费，我们只需要找出一条从北京到上海所经过的路线站的时间和金钱总值消耗最少的即可。</p> 
<p>​ 显而易见，对应到图中，就是一张带权的图，即 一张 网。我们只需要找出 起点 到 终点 权值之和最少的路径即可。即</p> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          t 
         
        
          a 
         
        
          r 
         
        
          g 
         
        
          e 
         
        
          t 
         
        
          = 
         
        
          M 
         
        
          i 
         
        
          n 
         
         
         
           ( 
          
          
          
            ∑ 
           
           
           
             b 
            
           
             e 
            
           
             g 
            
           
             i 
            
           
             n 
            
           
           
           
             e 
            
           
             n 
            
           
             d 
            
           
          
         
           w 
          
         
           e 
          
         
           i 
          
         
           g 
          
         
           h 
          
         
           t 
          
          
          
            ) 
           
          
            i 
           
          
         
        
       
         target=Min{ (\sum_{begin}^{end}weight)_i } 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.80952em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 3.27433em; vertical-align: -1.43822em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord"><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.83611em;"><span class="" style="top: -1.84789em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">b</span><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span></span></span></span><span class="" style="top: -3.05em;"><span class="pstrut" style="height: 3.05em;"></span><span class=""><span class="mop op-symbol large-op">∑</span></span></span><span class="" style="top: -4.3em; margin-left: 0em;"><span class="pstrut" style="height: 3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.43822em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathdefault" style="margin-right: 0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right: 0.03588em;">g</span><span class="mord mathdefault">h</span><span class="mord mathdefault">t</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span><br> ​</p> 
<h3><a id="1_14"></a>1.算法思想及其步骤</h3> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          算 
         
        
          法 
         
        
          核 
         
        
          心 
         
        
       
      
        \color{SpringGreen}算法核心 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord cjk_fallback" style="color: springgreen;">算</span><span class="mord cjk_fallback" style="color: springgreen;">法</span><span class="mord cjk_fallback" style="color: springgreen;">核</span><span class="mord cjk_fallback" style="color: springgreen;">心</span></span></span></span></span>：基于已经求得最短路径的基础上，求得更远顶点的最短路径</p> 
<p><br></p> 
<p>​ 图结构 graphNet ： 带权的图 （网），用邻接矩阵表示</p> 
<p>​ 路径前驱数组 path[ ] ：存储 从起点 V0 到 终点 Vm 的 当前 最短路径 终点 的前驱 ，即 V0-&gt;Vm的前驱-&gt;Vm（此步在接下来会充分解析）</p> 
<p>​ 最短路径数组 dist[ ] ：存储 从起点 V0 到 终点 Vm 的 当前 最短路径长度，即当前的权值之和</p> 
<p>​ 集合数组 S[ ] ：检查 从起点 V0 到 某顶点 是否已经求得最短路径</p> 
<p>​ 集合 V ： 图节点总数</p> 
<p><br></p> 
<table><thead><tr><th>Step1</th><th align="left">将与V0有连线的顶点之间 对应的最短路径长度 path[ ] 初始化为 权值</th></tr></thead><tbody><tr><td>Step2</td><td align="left">选择Vm，使dist[ Vm ]=Min{ dist[ Vi ]，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
        
         
          
           
           
             v 
            
           
             i 
            
           
          
         
           v_i 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.58056em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.311664em;"><span class="" style="top: -2.55em; margin-left: -0.03588em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>∈V-S}</td></tr><tr><td>Step3</td><td align="left">将Vm加入S中</td></tr><tr><td>Step4</td><td align="left">在求得 dist[ Vm ]的基础上，修正从起点 V0 到集合V-S 上任意顶点 Vi 的最短路径的长度</td></tr></tbody></table> 
<p>重复以上 2~4 步共 n-1 次即可求得 V0 到图中 其他每个顶点 对应的最短路径</p> 
<p><br></p> 
<p>接下来我们来对算法步骤进行剖析，下面是一张网 以及对应的邻接矩阵</p> 
<p>                 图 （Graph）                    邻接矩阵（Adjesent Matrix） <br> <img src="https://images2.imgbox.com/c8/2e/fkvJresg_o.png" alt="在这里插入图片描述"></p> 
<p><br></p> 
<p>执行Step1初始化后，我们将会得到以下结果，由于从 V0开始，从 V0 到 V0 最短路径为零，故V0 率先加入到 集合 S[ ]中，标明已经求得最短路径。数组path[ ] 置为 -1，表示目前还没求得 V0 到 连线的顶点 的 路径前驱</p> 
<p><img src="https://images2.imgbox.com/f2/ce/9Y16e0Vr_o.png" alt=""></p> 
<p><br></p> 
<p>执行Step2，找到距离 V0 最近的连线顶点 Vm，即 V1</p> 
<p><img src="https://images2.imgbox.com/b3/ab/zzbKXKfy_o.png" alt=""></p> 
<p><br></p> 
<p>将 V1 置入 集合 S[ ] 中，即 s[ V1]=1</p> 
<p><img src="https://images2.imgbox.com/b1/1f/n9EQ9reK_o.png" alt=""></p> 
<p><br></p> 
<p>相应地，我们可求得 V1 到 V2，V3，V4 路径长。在其基础上，更新修正 dist[ ] 中 V0 到 V2，V3，V4 的最短路径长，更新 path 中 相应的 当前 最短路径的前驱，例如 从 V0 到 V3 的当前最短路径前驱 是 V1，即 V0 -&gt; V1 -&gt; V3，故 path[ V3 ]=1</p> 
<p><img src="https://images2.imgbox.com/68/62/vvhO5Uut_o.png" alt="在这里插入图片描述"></p> 
<p><br></p> 
<p>对标 Step2，我们每次都使用，上次所求得的节点中 距离 相对起点( 这里为 V1) 最近的节点作为下一个程序开始的相对起点 （这里为 V2），同样依次求 V2 到它有连线的顶点的距离（这里为 V4 和 V5 ），进而求得 V0 到 V4，V5 的对应的 新的最短路径长， 更新 path 中 相应的路径前驱以及集合S，此时我们会发现 path[ V4 ]=2，这是什么意思呢？ 难道 是 从 V0 经过 V2 直接到达 V4 ，即（ V0 -&gt; V2 -&gt; V4 ）是当前最短路径吗？</p> 
<p>其实我们可以这样 理解，要想知道 起点 V0 到 V2 的最短路径 ，势必会有 一个节点 作为 V2 的前驱，这里 即是 V1。那么同样地，要想 知道 V0 到 V4 的最短路径，也势必有一个节点 作为 V4 的前驱，只不过这时会有 一个顶点作为相对起点 （V1）。故此 上式 （ V0 -&gt; V2 -&gt; V4 ）的完全体 应为 （V0 -&gt;V1-&gt; V2 -&gt; V4）</p> 
<p><img src="https://images2.imgbox.com/e5/b9/rnCq8ugp_o.png" alt=""></p> 
<p><br></p> 
<p>同样，我们将 上一步求得 距离 相对起点 V2 最近的 V4 ，作为下一个相对起点求取 其 和有连线顶点的距离，并更新 距离数组 dist 和 前驱数组 path 中相应的值</p> 
<p><img src="https://images2.imgbox.com/77/be/oiJbTDJX_o.png" alt=""></p> 
<p><br></p> 
<p>重复 Step2 ~ Step4共 n-1 次，我们即可求得 起点 V0 到 终点 V8 的最短路径 :</p> 
<p><img src="https://images2.imgbox.com/00/97/aBz1t5Ow_o.gif" alt="在这里插入图片描述"></p> 
<p><br></p> 
<h3><a id="2_108"></a>2.代码</h3> 
<h4><a id="21__112"></a>2.1 相关声明</h4> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GRAPH_INFINITY</span> <span class="token expression"><span class="token number">65535</span> </span><span class="token comment">/* 无穷大 */</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXVEX</span> <span class="token expression"><span class="token number">20</span> </span><span class="token comment">/*最大图顶点*/</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAXEDGE</span> <span class="token expression"><span class="token number">20</span> </span><span class="token comment">/*最大图边*/</span></span>

<span class="token keyword">typedef</span> <span class="token keyword">struct</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> vexs<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/* 顶点 */</span>
	<span class="token keyword">int</span> arc<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/* 邻接矩阵 */</span>
	<span class="token keyword">int</span> numVertexes<span class="token punctuation">;</span><span class="token comment">/* 顶点数 */</span>
    <span class="token keyword">int</span> numEdges<span class="token punctuation">;</span><span class="token comment">/* 边数 */</span>
    
<span class="token punctuation">}</span>graphNet<span class="token punctuation">;</span>

<span class="token keyword">typedef</span> <span class="token keyword">int</span> Dist<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/*存储从起点V0到终点Vm的当前最短路径长度，即当前的权值之和 */</span>
<span class="token keyword">typedef</span> <span class="token keyword">int</span> Path<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/*存储从起点V0到终点Vm的当前最短路径的前驱 */</span>

</code></pre> 
<h4><a id="22__137"></a>2.2 有权图的建立函数定义</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">creatGraphNet</span><span class="token punctuation">(</span>graphNet <span class="token operator">*</span>G<span class="token punctuation">)</span><span class="token comment">/* 构建图 */</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> ii<span class="token punctuation">,</span>jj<span class="token punctuation">;</span>
    
    
    <span class="token comment">/*输入 边数 和 顶点 数，这里 可用 printf()*/</span>
    G<span class="token operator">-&gt;</span>numVertexes<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">;</span>
    G<span class="token operator">-&gt;</span>numEdges<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">;</span>
    
    
    <span class="token comment">/*初始化 图*/</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>ii<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> ii<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>numsVertexes<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        G<span class="token operator">-&gt;</span>vexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>ii<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span><span class="token punctuation">(</span> ii<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>numVertexes<span class="token punctuation">;</span> ii<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>jj<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span>jj<span class="token operator">&lt;</span>G<span class="token operator">-&gt;</span>numVertexes<span class="token punctuation">;</span> jj<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ii<span class="token operator">==</span>jj<span class="token punctuation">)</span>
                G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>jj<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>jj<span class="token punctuation">]</span><span class="token operator">=</span>G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>jj<span class="token punctuation">]</span><span class="token operator">=</span>GRAPH_INFINITY<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">/*赋予 权值*/</span>
    G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>

	G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    
    <span class="token keyword">for</span> <span class="token punctuation">(</span>ii <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> ii <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numVertexes<span class="token punctuation">;</span> ii<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>jj <span class="token operator">=</span> ii<span class="token punctuation">;</span> jj <span class="token operator">&lt;</span> G<span class="token operator">-&gt;</span>numVertexes<span class="token punctuation">;</span> jj<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>
			G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>jj<span class="token punctuation">]</span><span class="token punctuation">[</span>ii<span class="token punctuation">]</span> <span class="token operator">=</span> G<span class="token operator">-&gt;</span>arc<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>jj<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="23__202"></a>2.3 核心算法：迪杰斯特拉</h4> 
<pre><code class="prism language-c"><span class="token keyword">void</span> <span class="token function">ShortestPath_Dijkstra</span><span class="token punctuation">(</span>graphNet G<span class="token punctuation">,</span> <span class="token keyword">int</span> v0<span class="token punctuation">,</span> Dist<span class="token operator">*</span> D<span class="token punctuation">,</span> Path<span class="token operator">*</span> P<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">int</span> v<span class="token punctuation">,</span> vm<span class="token punctuation">,</span> k<span class="token punctuation">,</span> min<span class="token punctuation">;</span>
	<span class="token keyword">int</span> S<span class="token punctuation">[</span>MAXVEX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/* S[vm]=1表示求得顶点v0至vm的最短路径 */</span>
    
	<span class="token keyword">for</span> <span class="token punctuation">(</span>v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> v <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token comment">/* 初始化数据 */</span>
	<span class="token punctuation">{<!-- --></span>
		S<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>			<span class="token comment">/* 全部顶点初始化为未知最短路径状态 */</span>
		<span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>v0<span class="token punctuation">]</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">/* 将与v0点有连线的顶点加上权值 */</span>
		<span class="token punctuation">(</span><span class="token operator">*</span>P<span class="token punctuation">)</span><span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>				<span class="token comment">/* 初始化路径数组P为-1  */</span>
	<span class="token punctuation">}</span>

	<span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>v0<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">/* v0至v0路径为0 */</span>
	S<span class="token punctuation">[</span>v0<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">/* v0至v0求路径的最短路径 0 */</span>
    
	<span class="token comment">/* 开始主循环，每次求得v0到某个v顶点的最短路径 */</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span>v <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> v <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		min <span class="token operator">=</span> GRAPH_INFINITY<span class="token punctuation">;</span>    <span class="token comment">/* 当前所知离v0顶点的最近距离 */</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>vm <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> vm <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> vm<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">/* 寻找离v0最近的顶点 */</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>S<span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min<span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span>
				k <span class="token operator">=</span> vm<span class="token punctuation">;</span>
				min <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">/* m顶点离v0顶点更近 */</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		S<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">/* 将目前找到的最近的顶点置入 集合 S */</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>vm <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> vm <span class="token operator">&lt;</span> G<span class="token punctuation">.</span>numVertexes<span class="token punctuation">;</span> vm<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">/* 修正当前最短路径及距离 */</span>
		<span class="token punctuation">{<!-- --></span>
			<span class="token comment">/* 如果经过v顶点的路径比现在这条路径的长度短的话 */</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>S<span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span><span class="token operator">&lt;</span>GRAPH_INFINITY <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>min <span class="token operator">+</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token punctuation">{<!-- --></span> 
                <span class="token comment">/*  说明找到了更短的路径，修改D[vm]和P[vm] */</span>
				<span class="token punctuation">(</span><span class="token operator">*</span>D<span class="token punctuation">)</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">=</span> min <span class="token operator">+</span> G<span class="token punctuation">.</span>arc<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">/* 修改当前路径长度 */</span>
				<span class="token punctuation">(</span><span class="token operator">*</span>P<span class="token punctuation">)</span><span class="token punctuation">[</span>vm<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>此算法讲解到这里就结束了，如有错误与不足之处，欢迎指出，大家共同进步！！</strong></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7d717820120c553b20f25754b3061492/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springboot&#43;lucene实现全文检索</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8940caafc28197fb2c8ce1cd942925b6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">原生微信小程序自定义组件以及组件间通讯</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>