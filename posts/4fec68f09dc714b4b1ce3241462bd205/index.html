<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>软件测试之数据库（MySQL）命令 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="软件测试之数据库（MySQL）命令" />
<meta property="og:description" content="前段时间写了一些测试相关的笔记，今天对于数据库命令做一些总结。
安装启动啥的就不讲了，主要说说基本的增删改查这些。
MySQL 数据库的基本操作 查询数据库 show databases; 连接数据库 use 数据库名； 新建（删除）数据库 cteate（drop） database 数据库名 表的基本操作 查询表 show tables; 新建（删除）表 create（drop）table 表名 增删改查——“增” 增加列 alter table 表名 add 列名 类型 约束 向表中插入数据 insert into 表名 列名 values 数据 增删改查——“删” 删除列 alter table 表名 drop 列名 类型 约束 删除行 delete from 表名 where 条件 增删改查——“改” 修改表 Alter table 表名 change 列名 新列名 类型; 修改列名 Alter table 表名 change 列名 列名 新类型; 修改列类型 Alter table 表名 modify 列名 新类型; 增删改查——“查” 基本查询（like 表示模糊查询） select * from 表名 where/having like 内（左右）链接查询 select * from 表名 as 别名 inner（left / right）join 表名 as 别名 on 条件 where 条件 子查询【也可以加在条件里】 select * from (select * from 表名) 其他关键字 补充union all ：不去重，两个sql语句链接使用" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4fec68f09dc714b4b1ce3241462bd205/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-22T14:02:17+08:00" />
<meta property="article:modified_time" content="2022-04-22T14:02:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">软件测试之数据库（MySQL）命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>前段时间写了一些测试相关的笔记，今天对于数据库命令做一些总结。<br> 安装启动啥的就不讲了，主要说说基本的增删改查这些。<br> <img src="https://images2.imgbox.com/09/04/z1Xo2UDa_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="MySQL_4"></a>MySQL</h3> 
<h4><a id="_5"></a>数据库的基本操作</h4> 
<pre><code>查询数据库
show databases;
连接数据库
use 数据库名；
新建（删除）数据库
cteate（drop） database 数据库名

</code></pre> 
<h4><a id="_15"></a>表的基本操作</h4> 
<pre><code>查询表
show tables;
新建（删除）表
create（drop）table 表名
</code></pre> 
<h4><a id="_22"></a>增删改查——“增”</h4> 
<pre><code>增加列
alter table 表名 add 列名 类型 约束
向表中插入数据
insert into 表名 列名 values 数据
</code></pre> 
<h4><a id="_30"></a>增删改查——“删”</h4> 
<pre><code>删除列
alter table 表名 drop 列名 类型 约束
删除行
delete from 表名 where 条件
</code></pre> 
<h4><a id="_38"></a>增删改查——“改”</h4> 
<pre><code>修改表
Alter table 表名  change  列名  新列名 类型;
修改列名
Alter table 表名  change 列名  列名  新类型;
修改列类型
Alter table 表名  modify  列名  新类型;
</code></pre> 
<h4><a id="_48"></a>增删改查——“查”</h4> 
<pre><code>基本查询（like 表示模糊查询）
select * from 表名 where/having like
内（左右）链接查询
select * from 表名 as 别名 inner（left / right）join 表名 as 别名 on 条件 where 条件
子查询【也可以加在条件里】
select  * from (select * from 表名) 
</code></pre> 
<h4><a id="_58"></a>其他关键字</h4> 
<p><strong>补充union all ：不去重，两个sql语句链接使用</strong><br> <img src="https://images2.imgbox.com/6a/1c/QQpHuxKM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_61"></a>聚合函数</h4> 
<p><img src="https://images2.imgbox.com/0c/f2/D54nlrsC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_63"></a>其他基本操作</h4> 
<pre><code>建立索引
create index 索引名 on 表名 列名
删除索引:
法一：
drop  index 索引名 on 表名 
法二:  
alter table 表名 drop  index 索引名
</code></pre> 
<p>光说不练假把式，还是得上手才知道。</p> 
<h4><a id="_74"></a>练习</h4> 
<p>这里分别有三个表：students 、scores 、 courses<br> <img src="https://images2.imgbox.com/55/73/82QoEaD4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/97/36/7jteW9Rm_o.png" alt="在这里插入图片描述"><br> 1、查询20岁以下 的学生</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age<span class="token operator">&lt;</span><span class="token number">20</span>
</code></pre> 
<p>2、查询年龄小于20的女同学</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age<span class="token operator">&lt;</span><span class="token number">20</span> <span class="token operator">and</span> sex<span class="token operator">=</span><span class="token string">'女'</span>
</code></pre> 
<p>3、查询姓名中带有乔的学生</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">'%乔'</span>
</code></pre> 
<p>4、查询年龄在18至20的学生</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">18</span> <span class="token operator">and</span> <span class="token number">20</span>
</code></pre> 
<p>5、查询所有学生信息，按年龄从大到小排序，年龄相同时，再按学号从小到大排序</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">desc</span><span class="token punctuation">,</span>studentNo
</code></pre> 
<p>6、查询前3行学生信息</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> students <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span>
</code></pre> 
<p>7、查询课程信息及课程的成绩</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>
    <span class="token operator">*</span>
<span class="token keyword">from</span>
    courses cs<span class="token punctuation">,</span>
    scores sc
<span class="token keyword">where</span>
    cs<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>courseNo

<span class="token comment">---------------------------------------</span>

<span class="token keyword">select</span>
    <span class="token operator">*</span>
<span class="token keyword">from</span>
    courses cs
<span class="token keyword">inner</span> <span class="token keyword">join</span> scores sc <span class="token keyword">on</span> cs<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>courseNo
</code></pre> 
<p>8、查询王昭君的数据库成绩，要求显示姓名、课程名、成绩</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>
    stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    cs<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    sc<span class="token punctuation">.</span>score
<span class="token keyword">from</span>
    students stu<span class="token punctuation">,</span>
    scores sc<span class="token punctuation">,</span>
    courses cs
<span class="token keyword">where</span>
    stu<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentNo
    <span class="token operator">and</span> sc<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> cs<span class="token punctuation">.</span>courseNo
    <span class="token operator">and</span> stu<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王昭君'</span>
    <span class="token operator">and</span> cs<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'数据库'</span>

<span class="token comment">---------------------------------------</span>

<span class="token keyword">select</span>
    stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    cs<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    sc<span class="token punctuation">.</span>score
<span class="token keyword">from</span>
    students stu
<span class="token keyword">inner</span> <span class="token keyword">join</span> scores sc <span class="token keyword">on</span> stu<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentNo
<span class="token keyword">inner</span> <span class="token keyword">join</span> courses cs <span class="token keyword">on</span> sc<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> cs<span class="token punctuation">.</span>courseNo
<span class="token keyword">where</span>
    stu<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'王昭君'</span> <span class="token operator">and</span> cs<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'数据库'</span>
</code></pre> 
<p>9、查询所有课程的成绩，包括没有成绩的课程</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>
    <span class="token operator">*</span>
<span class="token keyword">from</span>
    scores sc
<span class="token keyword">right</span> <span class="token keyword">join</span> courses cs <span class="token keyword">on</span> cs<span class="token punctuation">.</span>courseNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>courseNo
<span class="token keyword">left</span> <span class="token keyword">join</span> students stu <span class="token keyword">on</span> stu<span class="token punctuation">.</span>studentNo <span class="token operator">=</span> sc<span class="token punctuation">.</span>studentNo
</code></pre> 
<p>10、查询王昭君的成绩，要求显示成绩（在成绩表（scores）中查询）</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> studentNo <span class="token operator">=</span> 
<span class="token punctuation">(</span><span class="token keyword">select</span> studentNo <span class="token keyword">from</span> students <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">'王昭君'</span><span class="token punctuation">)</span>
</code></pre> 
<p>先写这些吧，都比较基础容易理解。</p> 
<h3><a id="_174"></a>更新</h3> 
<p>不去重 union all 在使用 or 时是自带了去重的功能 即相当于添加了distinct<br> 例如：在scores 表中查询course等于1 或 studentNo等于002的用户；在这个题目中会出现一个满足<code>course=1</code> 并且 <code>studentNo=oo2</code>的一列数据无法筛选</p> 
<pre><code class="prism language-sql"><span class="token comment"># 忘记建表时设置的格式类型了，知道union all 是表示不去重就行</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> course<span class="token operator">=</span><span class="token number">1</span> 
<span class="token keyword">union</span> <span class="token keyword">all</span> 
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> scores <span class="token keyword">where</span> studentNo<span class="token operator">=</span><span class="token number">002</span>
</code></pre> 
<p>if 函数的使用：<br> 例：查询students表中的card为空和非空的个数，输出格式：</p> 
<table><thead><tr><th>card_id</th><th>number</th></tr></thead><tbody><tr><td>card为3403221</td><td></td></tr><tr><td>其他</td><td></td></tr></tbody></table> 
<pre><code class="prism language-sql"><span class="token comment"># if的写法</span>
<span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span>card<span class="token operator">=</span><span class="token number">3403221</span><span class="token punctuation">,</span><span class="token string">"card为3403221"</span><span class="token punctuation">,</span> <span class="token string">"其他"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> card_id<span class="token punctuation">,</span>
<span class="token function">count</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span><span class="token keyword">as</span> number <span class="token keyword">from</span> students <span class="token keyword">group</span> <span class="token keyword">by</span> card_id

<span class="token comment"># case when 的用法</span>
<span class="token keyword">select</span> <span class="token keyword">case</span> <span class="token keyword">when</span> card<span class="token operator">=</span><span class="token number">3403221</span> <span class="token keyword">then</span> <span class="token string">'card为3403221'</span>
       <span class="token keyword">else</span> <span class="token string">"其他"</span> <span class="token keyword">end</span> <span class="token keyword">as</span> card_id <span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>card<span class="token punctuation">)</span> <span class="token keyword">as</span> number
<span class="token keyword">from</span> students
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ce7e0c6669cd253c35c3259a37a75b1e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网站被百度提示有风险，该如何解决？网站被黑怎么办？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ab324d7233f059e607fcb6a9e035b308/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记录poi与easypoi jar包冲突</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>