<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C3P0连接池参数详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C3P0连接池参数详解" />
<meta property="og:description" content="&lt;c3p0-config&gt; &lt;default-config&gt; &lt;!--当连接池中的连接耗尽的时候c3p0一次同时获取的连接数。Default: 3 --&gt; &lt;property name=&#34;acquireIncrement&#34;&gt;3&lt;/property&gt; &lt;!--定义在从数据库获取新连接失败后重复尝试的次数。Default: 30 --&gt; &lt;property name=&#34;acquireRetryAttempts&#34;&gt;30&lt;/property&gt; &lt;!--两次连接中间隔时间，单位毫秒。Default: 1000 --&gt; &lt;property name=&#34;acquireRetryDelay&#34;&gt;1000&lt;/property&gt; &lt;!--连接关闭时默认将所有未提交的操作回滚。Default: false --&gt; &lt;property name=&#34;autoCommitOnClose&#34;&gt;false&lt;/property&gt; &lt;!--c3p0将建一张名为Test的空表，并使用其自带的查询语句进行测试。如果定义了这个参数那么属性preferredTestQuery将被忽略。你不能在这张Test表上进行任何操作，它将只供c3p0测试使用。Default: null --&gt; &lt;property name=&#34;automaticTestTable&#34;&gt;Test&lt;/property&gt; &lt;!--获取连接失败将会引起所有等待连接池来获取连接的线程抛出异常。但是数据源仍有效保留，并在下次调用getConnection()的时候继续尝试获取连接。如果设为true，那么在尝试获取连接失败后该数据源将申明已断开并永久关闭。Default: false --&gt; &lt;property name=&#34;breakAfterAcquireFailure&#34;&gt;false&lt;/property&gt; &lt;!--当连接池用完时客户端调用getConnection()后等待获取新连接的时间，超时后将抛出SQLException,如设为0则无限期等待。单位毫秒。Default: 0 --&gt; &lt;property name=&#34;checkoutTimeout&#34;&gt;100&lt;/property&gt; &lt;!--通过实现ConnectionTester或QueryConnectionTester的类来测试连接。类名需制定全路径。Default: com.mchange.v2.c3p0.impl.DefaultConnectionTester --&gt; &lt;property name=&#34;connectionTesterClassName&#34;&gt;&lt;/property&gt; &lt;!--指定c3p0 libraries的路径，如果（通常都是这样）在本地即可获得那么无需设置，默认null即可Default: null --&gt; &lt;property name=&#34;factoryClassLocation&#34;&gt;null&lt;/property&gt; &lt;!--Strongly disrecommended. Setting this to true may lead to subtle and bizarre bugs. （文档原文）作者强烈建议不使用的一个属性 --&gt; &lt;property name=&#34;forceIgnoreUnresolvedTransactions&#34;&gt;false&lt;/property&gt; &lt;!--每60秒检查所有连接池中的空闲连接。Default: 0 --&gt; &lt;property name=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/bc845703e60a7e12aed0600c1feb6d7b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-12-28T17:28:54+08:00" />
<meta property="article:modified_time" content="2017-12-28T17:28:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C3P0连接池参数详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">c3p0-config</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-title">default-config</span>&gt;</span>
          <span class="hljs-comment">&lt;!--当连接池中的连接耗尽的时候c3p0一次同时获取的连接数。Default: 3 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"acquireIncrement"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--定义在从数据库获取新连接失败后重复尝试的次数。Default: 30 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"acquireRetryAttempts"</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--两次连接中间隔时间，单位毫秒。Default: 1000 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"acquireRetryDelay"</span>&gt;</span>1000<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--连接关闭时默认将所有未提交的操作回滚。Default: false --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"autoCommitOnClose"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--c3p0将建一张名为Test的空表，并使用其自带的查询语句进行测试。如果定义了这个参数那么属性preferredTestQuery将被忽略。你不能在这张Test表上进行任何操作，它将只供c3p0测试使用。Default:
              null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"automaticTestTable"</span>&gt;</span>Test<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--获取连接失败将会引起所有等待连接池来获取连接的线程抛出异常。但是数据源仍有效保留，并在下次调用getConnection()的时候继续尝试获取连接。如果设为true，那么在尝试获取连接失败后该数据源将申明已断开并永久关闭。Default: false --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"breakAfterAcquireFailure"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--当连接池用完时客户端调用getConnection()后等待获取新连接的时间，超时后将抛出SQLException,如设为0则无限期等待。单位毫秒。Default: 0 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"checkoutTimeout"</span>&gt;</span>100<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--通过实现ConnectionTester或QueryConnectionTester的类来测试连接。类名需制定全路径。Default: com.mchange.v2.c3p0.impl.DefaultConnectionTester --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"connectionTesterClassName"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--指定c3p0 libraries的路径，如果（通常都是这样）在本地即可获得那么无需设置，默认null即可Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"factoryClassLocation"</span>&gt;</span>null<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--Strongly disrecommended. Setting this to true may lead to subtle and bizarre bugs. （文档原文）作者强烈建议不使用的一个属性 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"forceIgnoreUnresolvedTransactions"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--每60秒检查所有连接池中的空闲连接。Default: 0 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"idleConnectionTestPeriod"</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--初始化时获取三个连接，取值应在minPoolSize与maxPoolSize之间。Default: 3 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"initialPoolSize"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--最大空闲时间,60秒内未使用则连接被丢弃。若为0则永不丢弃。Default: 0 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxIdleTime"</span>&gt;</span>60<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--连接池中保留的最大连接数。Default: 15 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxPoolSize"</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--JDBC的标准参数，用以控制数据源内加载的PreparedStatements数量。但由于预缓存的statements属于单个connection而不是整个连接池。所以设置这个参数需要考虑到多方面的因素。 如果maxStatements与maxStatementsPerConnection均为0，则缓存被关闭。Default: 0 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxStatements"</span>&gt;</span>100<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--maxStatementsPerConnection定义了连接池内单个连接所拥有的最大缓存statements数。Default: 0 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxStatementsPerConnection"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--c3p0是异步操作的，缓慢的JDBC操作通过帮助进程完成。扩展这些操作可以有效的提升性能通过多线程实现多个操作同时被执行。Default: 3 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"numHelperThreads"</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--当用户调用getConnection()时使root用户成为去获取连接的用户。主要用于连接池连接非c3p0的数据源时。Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"overrideDefaultUser"</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--与overrideDefaultUser参数对应使用的一个参数。Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"overrideDefaultPassword"</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--密码。Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"password"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--定义所有连接测试都执行的测试语句。在使用连接测试的情况下这个一显著提高测试速度。注意：测试的表必须在初始数据源的时候就存在。Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"preferredTestQuery"</span>&gt;</span>select id from test where id=1<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--用户修改系统配置参数执行前最多等待300秒。Default: 300 --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"propertyCycle"</span>&gt;</span>300<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--因性能消耗大请只在需要的时候使用它。如果设为true那么在每个connection提交的时候都将校验其有效性。建议使用idleConnectionTestPeriod或automaticTestTable等方法来提升连接测试的性能。Default: false --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"testConnectionOnCheckout"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--如果设为true那么在取得连接的同时将校验连接的有效性。Default: false --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"testConnectionOnCheckin"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--用户名。Default: null --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"user"</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-comment">&lt;!--早期的c3p0版本对JDBC接口采用动态反射代理。在早期版本用途广泛的情况下这个参数允许用户恢复到动态反射代理以解决不稳定的故障。最新的非反射代理更快并且已经开始广泛的被使用，所以这个参数未必有用。现在原先的动态反射与新的非反射代理同时受到支持，但今后可能的版本可能不支持动态反射代理。Default: false --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"usesTraditionalReflectiveProxies"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"automaticTestTable"</span>&gt;</span>con_test<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"checkoutTimeout"</span>&gt;</span>30000<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"idleConnectionTestPeriod"</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"initialPoolSize"</span>&gt;</span>10<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxIdleTime"</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxPoolSize"</span>&gt;</span>25<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"minPoolSize"</span>&gt;</span>10<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxStatements"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">user-overrides</span> <span class="hljs-attribute">user</span>=<span class="hljs-value">"swaldman"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">user-overrides</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-title">default-config</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-title">named-config</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"dumbTestConfig"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxStatements"</span>&gt;</span>200<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">user-overrides</span> <span class="hljs-attribute">user</span>=<span class="hljs-value">"poop"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"maxStatements"</span>&gt;</span>300<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-title">user-overrides</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-title">named-config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">c3p0-config</span>&gt;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d13f6646b8e6b33b3c03f0032cd231dc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">UE4 多人联机显示每个人的playid</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60252e86e50d4b16848f91a423a07287/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kinect V2.0得到RGB图像各个像素点对应的三维坐标（相机坐标系）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>