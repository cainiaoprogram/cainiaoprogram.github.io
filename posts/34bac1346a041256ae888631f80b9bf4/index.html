<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flex&#43;bison运行测试一个小例子 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flex&#43;bison运行测试一个小例子" />
<meta property="og:description" content="要测试运行实例的话，前提是保证配好环境变量。环境变量具体配置通过查阅其他博客完成了，接下来演示如何查看是否配置成功：
①进入cmd，输入flex --version
②输入bison --version
我使用codeblocks进行后面的编译，所以先对codeblocks进行一些配置。进入cb：设置-&gt;编译器
点击右边的小三角，拖到最右边：
进入高级选项，会弹出一个确认框，确认：
对.l进行配置：在Source ext.的下拉框中选择l,表示将针对flex文件进行配置，宏命令行下面的编辑框中会显示利用flex命令对.l文件进行处理的命令行（命令及命令参数）。由于CodeBlocks使用的是移植自Linux的MinGW，所以其缺省的命令还是Linux下使用flex的命令。现在我们需要更新为：win_flex -o$file_dir/$file_name.flex.cpp --wincompat $file，其中“$file_dir/$file_name.flex.cpp”是要生成的cpp文件的目录&#43;文件名称。你可以根据你的需要选择由flex生成的文件是什么名字。相应的在Generated files的编辑框中同样修改为“$file_dir/$file_name.flex.cpp”，和前面的生成一致，这样能够让CodeBlocks找到生成的文件进行编译处理。这样.l的配置就完成了:
对.y进行配置：同样在Source ext.的下拉菜单中选择y，进入.y文件的相关配置中，替换原来的配置项为：
win_bison --output=$file_dir/$file_name.tab.cpp --defines=$file_dir/$file_name.tab.h $file(具体可以参考win_bison的帮助，通过win_bison --help）。相应Generate files也修改为$file_dir/$file_name.tab.cpp 和$file_dir/$file_name.tab.h。点击OK即完成配置，这样就可以添加.y和.l到你的工程中了。要记得去重启cb！
接下来进入自己创建好的文件夹中，复制路径，cmd进入命令行，cd 自己的路径，输入type nul&gt;hello.l创建一个hello.l文件：
发现文件夹中生成了文件：
右击以记事本方式打开，然后把lex代码写进去，保存：（注意这里面有.l与.y文件，要分开创建）
hello.l %{ #include &lt;stdlib.h&gt; #include &#34;y.tab.h&#34; %} %% (&#34;hi&#34;|&#34;oi&#34;)&#34;\n&#34; { return HI; } (&#34;tchau&#34;|&#34;bye&#34;)&#34;\n&#34; { return BYE; } . { yyerror(); } %% int main(void) { yyparse(); return 0; } int yywrap(void) { return 0; } int yyerror(void) { printf(&#34;Error\n&#34;); exit(1); } hello." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/34bac1346a041256ae888631f80b9bf4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-06-09T01:07:20+08:00" />
<meta property="article:modified_time" content="2020-06-09T01:07:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flex&#43;bison运行测试一个小例子</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <ol><li> <p>要测试运行实例的话，前提是保证配好环境变量。环境变量具体配置通过查阅其他博客完成了，接下来演示如何查看是否配置成功：<br> ①进入cmd，输入flex --version<br> <img src="https://images2.imgbox.com/f4/88/SMwmlLvd_o.png" alt="说明flex环境变量配置好了"><br> ②输入bison --version<br> <img src="https://images2.imgbox.com/a1/30/FifMV5qH_o.png" alt="说明bison环境变量配好"></p> </li><li> <p>我使用codeblocks进行后面的编译，所以先对codeblocks进行一些配置。进入cb：设置-&gt;编译器<br> <img src="https://images2.imgbox.com/e9/a7/qVJIeLhL_o.png" alt="在这里插入图片描述"><br> 点击右边的小三角，拖到最右边：<br> <img src="https://images2.imgbox.com/af/fe/o8z01JKw_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/9a/f6/r7vQvZgj_o.png" alt="在这里插入图片描述"><br> 进入高级选项，会弹出一个确认框，确认：<br> <img src="https://images2.imgbox.com/c8/5b/TCKiQBbY_o.png" alt="在这里插入图片描述"><br> 对.l进行配置：在Source ext.的下拉框中选择l,表示将针对flex文件进行配置，宏命令行下面的编辑框中会显示利用flex命令对.l文件进行处理的命令行（命令及命令参数）。由于CodeBlocks使用的是移植自Linux的MinGW，所以其缺省的命令还是Linux下使用flex的命令。现在我们需要更新为：<code>win_flex -o$file_dir/$file_name.flex.cpp --wincompat $file</code>，其中<code>“$file_dir/$file_name.flex.cpp”</code>是要生成的cpp文件的目录+文件名称。你可以根据你的需要选择由flex生成的文件是什么名字。相应的在Generated files的编辑框中同样修改为<code>“$file_dir/$file_name.flex.cpp”</code>，和前面的生成一致，这样能够让CodeBlocks找到生成的文件进行编译处理。这样.l的配置就完成了:<br> <img src="https://images2.imgbox.com/f8/dc/Oqfd6lYJ_o.png" alt="在这里插入图片描述"><br> 对.y进行配置：同样在Source ext.的下拉菜单中选择y，进入.y文件的相关配置中，替换原来的配置项为：<br> <code>win_bison --output=$file_dir/$file_name.tab.cpp --defines=$file_dir/$file_name.tab.h $file</code>(具体可以参考win_bison的帮助，通过win_bison --help）。相应Generate files也修改为<code>$file_dir/$file_name.tab.cpp 和$file_dir/$file_name.tab.h</code>。点击OK即完成配置，这样就可以添加.y和.l到你的工程中了。要记得去重启cb！</p> </li><li> <p>接下来进入自己创建好的文件夹中，复制路径，cmd进入命令行，cd 自己的路径，输入type nul&gt;hello.l创建一个hello.l文件：<br> <img src="https://images2.imgbox.com/29/66/DdsSKjOX_o.png" alt="在这里插入图片描述"><br> 发现文件夹中生成了文件：<br> <img src="https://images2.imgbox.com/00/7b/g6yTswKj_o.png" alt="在这里插入图片描述"><br> 右击以记事本方式打开，然后把lex代码写进去，保存：（注意这里面有.l与.y文件，要分开创建）</p> </li></ol> 
<pre><code>hello.l

%{
#include &lt;stdlib.h&gt;
#include "y.tab.h"
%}
%%
("hi"|"oi")"\n" { return HI; }
("tchau"|"bye")"\n" { return BYE; }
. { yyerror(); }
%%

int main(void)
{
yyparse();
return 0;
}

int yywrap(void)
{
return 0;
}

int yyerror(void)
{
printf("Error\n");
exit(1);
}

hello.y

%token HI BYE
%%

program:
hi bye
;

hi:
HI { printf("Hello World\n"); }
;
bye:
BYE { printf("Bye World\n"); exit(0); }
;
</code></pre> 
<p><img src="https://images2.imgbox.com/c0/ee/KiqGBbi8_o.png" alt="在这里插入图片描述"><br> 在命令框输入命令：win_flex --nounistd hello.l<br> <img src="https://images2.imgbox.com/f8/45/IyEVmtjF_o.png" alt="在这里插入图片描述"><br> 将产生编译好的.c文件：<br> <img src="https://images2.imgbox.com/33/e2/zDQlRD4m_o.png" alt="在这里插入图片描述"><br> 输入：type nul&gt;hello.y，填入上面hello.y的代码保存，<br> 输入命令：win_bison -d -o y.tab.c hello.y<br> <img src="https://images2.imgbox.com/9a/5d/5Sc3SMVt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e8/d1/d7WHWXRw_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/1c/5a/Q1XUr8r8_o.png" alt="在这里插入图片描述"><br> 4. 接下来可以开始测试了：<br> ①在那个文件夹中新建test文件夹，用来存放cb新建的工程：<br> <img src="https://images2.imgbox.com/ec/30/53ORJ3Q9_o.png" alt="在这里插入图片描述"><br> ②进入cb，新建控制台工程：<br> <img src="https://images2.imgbox.com/dd/62/Ped999mu_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/46/44/sqH3iiW3_o.png" alt="在这里插入图片描述"><br> ③把以下3个文件拖进工程：<br> <img src="https://images2.imgbox.com/ac/39/B8G3E3Xu_o.png" alt="在这里插入图片描述"></p> 
<p>编译此工程，生成：<br> <img src="https://images2.imgbox.com/b3/5b/51aELwMx_o.png" alt="在这里插入图片描述"><br> 测试成功！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8e8c94357962b0ecff4d7380e7b9427/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NLP 中的Mask全解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3ac47834cde8e5b1e241d534a54729db/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">shell-if语句详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>