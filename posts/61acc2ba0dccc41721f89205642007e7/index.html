<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Verilog基本语法之模块以及模块调用详解（2） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Verilog基本语法之模块以及模块调用详解（2）" />
<meta property="og:description" content="模块结构 一、模块结构组成 模块由三个元素组成，分别是模块起始、接口说明、逻辑功能描述 1. 模块起始：每个模块都要进行端口定义，格式为：module 模块名(端口1, 端口2, 端口3)， 2. I/O接口说明：input输出，output输出，inoutput双向接口 3. 逻辑功能描述：always、assign等功能描述。 二、模块详解 组合成为完整程序如下： module &lt;模块名&gt; (&lt;端口列表&gt;) &lt;I/O接口说明&gt; &lt;内部信号声明&gt; &lt;逻辑功能定义&gt; Endmodule 拿与门、或门举例： module AndOR(a, b, c)//模块起 input a,b;//接口方向为输入 output c,d; assign c = a &amp; b;//组合逻辑-与 assign d = a | b;//组合逻辑-非 endmodule //模块终 注意：每条逻辑功能语句和数据定义的最后必须有分号。
程序模块----&gt;&gt;&gt;到电路模块
注意
Verilog模块中的过程块（initial/always）、模块调用、assign赋值间是并行的
连续赋值语句不能独立于always块存在；
能独立存在的只有assign赋值，以及模块调用；
**
二、模块调用 **
模块调用包括元件库的调用以及已设计模块的调用，设计模块调用如下
1.模块例化有两种方法：按位置顺序调用、按名词调用
1.位置相关：
1）例化时，例化的参数顺序必须和模块顺序一致 2）例化时，只要写端口名字 2.名称相关：
1）必须指定当前例化的端口名称 2）端口的顺序可以自由排序 位置相关举例：
wire [3:0] x1; wire [3:0] x2; wire [4:0] x3; add add_inst0 ( x1, //对应 模块本身的a，顺序必须一一对应 x2, //对应 模块本身的b x3 //对应 模块本身的c ); 名称相关举例：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/61acc2ba0dccc41721f89205642007e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-24T16:24:00+08:00" />
<meta property="article:modified_time" content="2022-10-24T16:24:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Verilog基本语法之模块以及模块调用详解（2）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>模块结构</h2> 
<h3><a id="_2"></a><strong>一、模块结构组成</strong></h3> 
<pre><code>	模块由三个元素组成，分别是模块起始、接口说明、逻辑功能描述

	 1. 模块起始：每个模块都要进行端口定义，格式为：module 模块名(端口1, 端口2, 端口3)，
	 2. I/O接口说明：input输出，output输出，inoutput双向接口
	 3.  逻辑功能描述：always、assign等功能描述。
</code></pre> 
<h3><a id="_11"></a><strong>二、模块详解</strong></h3> 
<pre><code>	组合成为完整程序如下：
</code></pre> 
<pre><code class="prism language-c">		module <span class="token operator">&lt;</span>模块名<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>端口列表<span class="token operator">&gt;</span><span class="token punctuation">)</span>
			<span class="token operator">&lt;</span>I<span class="token operator">/</span>O接口说明<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>内部信号声明<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>逻辑功能定义<span class="token operator">&gt;</span>
		Endmodule
</code></pre> 
<pre><code>	拿与门、或门举例：
</code></pre> 
<pre><code class="prism language-c">		module <span class="token function">AndOR</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token comment">//模块起</span>
		    input a<span class="token punctuation">,</span>b<span class="token punctuation">;</span><span class="token comment">//接口方向为输入</span>
		    output c<span class="token punctuation">,</span>d<span class="token punctuation">;</span>
		 
		    assign c <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span><span class="token comment">//组合逻辑-与</span>
		    assign d <span class="token operator">=</span> a <span class="token operator">|</span> b<span class="token punctuation">;</span><span class="token comment">//组合逻辑-非</span>
		 endmodule   <span class="token comment">//模块终</span>
</code></pre> 
<p>注意：每条逻辑功能语句和数据定义的最后必须有分号。</p> 
<p>程序模块----&gt;&gt;&gt;到电路模块<br> <img src="https://images2.imgbox.com/c3/89/eyRP2KXD_o.png" alt="代码描述对应的电路模块"><br> 注意<br> Verilog模块中的过程块（initial/always）、模块调用、assign赋值间是并行的<br> 连续赋值语句不能独立于always块存在；<br> 能独立存在的只有assign赋值，以及模块调用；</p> 
<p>**</p> 
<h3><a id="_45"></a>二、模块调用</h3> 
<p>**<br> 模块调用包括元件库的调用以及已设计模块的调用，设计模块调用如下</p> 
<p>1.模块例化有两种方法：按位置顺序调用、按名词调用</p> 
<ul><li> <p>1.位置相关：</p> <pre><code> 	1）例化时，例化的参数顺序必须和模块顺序一致
 	2）例化时，只要写端口名字
</code></pre> </li><li> <p>2.名称相关：</p> <pre><code>	1）必须指定当前例化的端口名称
	2）端口的顺序可以自由排序
</code></pre> </li></ul> 
<p>位置相关举例：</p> 
<pre><code class="prism language-c">wire <span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x1<span class="token punctuation">;</span>
wire <span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x2<span class="token punctuation">;</span>
wire <span class="token punctuation">[</span><span class="token number">4</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x3<span class="token punctuation">;</span>

add      <span class="token function">add_inst0</span>
<span class="token punctuation">(</span>
    x1<span class="token punctuation">,</span>    <span class="token comment">//对应 模块本身的a，顺序必须一一对应</span>
    x2<span class="token punctuation">,</span>    <span class="token comment">//对应 模块本身的b</span>
    x3     <span class="token comment">//对应 模块本身的c</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>名称相关举例：</p> 
<pre><code class="prism language-c">wire <span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x1<span class="token punctuation">;</span>
wire <span class="token punctuation">[</span><span class="token number">3</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x2<span class="token punctuation">;</span>
wire <span class="token punctuation">[</span><span class="token number">4</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> x3<span class="token punctuation">;</span>

add      <span class="token function">add_inst1</span>
<span class="token punctuation">(</span>
    <span class="token punctuation">.</span><span class="token function">a</span>  <span class="token punctuation">(</span>x1<span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token punctuation">.</span><span class="token function">c</span>  <span class="token punctuation">(</span>x3<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//用“.”指定例化端口名，例化顺序可打乱</span>
    <span class="token punctuation">.</span><span class="token function">b</span>  <span class="token punctuation">(</span>x2<span class="token punctuation">)</span> 
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_93"></a><strong>三、调用实例</strong></h3> 
<p>拿一个二选一多路选择器举例，二选一多路选择器代码如下：</p> 
<pre><code class="prism language-c">module mux21 （dataa，datab， outdata， sel）；
      input <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> dataa<span class="token punctuation">;</span>
      input <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> datab<span class="token punctuation">;</span>
      inpur sel<span class="token punctuation">;</span>
      outdata <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> outdata<span class="token punctuation">;</span>
      ········
      ········
endmodule
</code></pre> 
<p>那么我们应该怎么样去调用它呢？如下：</p> 
<pre><code class="prism language-c"><span class="token operator">&lt;</span>模块名<span class="token operator">&gt;</span><span class="token operator">&lt;</span>实例名<span class="token operator">&gt;</span><span class="token punctuation">(</span>

	<span class="token punctuation">.</span>端口（连线），
	
	<span class="token punctuation">.</span>端口（连线）

<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>下面是用结构建模的方式调用上述二选一模块，实现三选一：</p> 
<pre><code class="prism language-c">module mux31 （dataa<span class="token punctuation">,</span> datab<span class="token punctuation">,</span> datac<span class="token punctuation">,</span> sel1<span class="token punctuation">,</span> sel2<span class="token punctuation">,</span> outdata）；

  input<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> dataa<span class="token punctuation">;</span>
  input<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> datab<span class="token punctuation">;</span>
  input <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> datac<span class="token punctuation">;</span>
  input sel1<span class="token punctuation">;</span>
  input sel2<span class="token punctuation">;</span>
  output <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> outdata<span class="token punctuation">;</span>

  wire <span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span> data<span class="token punctuation">;</span>

  mux21  mux21_dut1（
                    <span class="token punctuation">.</span><span class="token function">dataa</span><span class="token punctuation">(</span>dataa<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">datab</span><span class="token punctuation">(</span>datab<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">outdata</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">sel</span><span class="token punctuation">(</span>sel1<span class="token punctuation">)</span>
                  ）；

  mux21  mux21_dut2（
                    <span class="token punctuation">.</span><span class="token function">dataa</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">datab</span><span class="token punctuation">(</span>datac<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">outdata</span><span class="token punctuation">(</span>outdata<span class="token punctuation">)</span>，
                    <span class="token punctuation">.</span><span class="token function">sel</span><span class="token punctuation">(</span>sel2<span class="token punctuation">)</span>
                  ）；
         
endmodule
</code></pre> 
<p>上述建模是利用了两个二选一多路选择器来构成了一个三选一多路选择器。<br> ​<br> -------&gt;下一章： <a href="https://blog.csdn.net/JY6669991010/article/details/127487349"><strong>Verilog语法之模块巩固（3）（实例练习篇)</strong></a></p> 
<p>章节进程条-STEP1<br> <img src="https://images2.imgbox.com/5a/94/fipv7X96_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e9c6e00d50eae8fc5b5b8dc603208bae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Maven 镜像设置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a26eb594362fa81d488c9d59856ed425/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Termux一些看起来很酷的事——无聊专区</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>