<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Atlas配置Hbase Hook - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Atlas配置Hbase Hook" />
<meta property="og:description" content=" Atlas配置Hbase Hook 配置hbase-site.xml
在主节点HBase客户端$Hbase_HOME/conf/hbase-site.xml中追加写入：
&lt;property&gt; &lt;name&gt;hbase.coprocessor.master.classes&lt;/name&gt; &lt;value&gt;org.apache.atlas.hbase.hook.HBaseAtlasCoprocessor&lt;/value&gt; &lt;/property&gt; 解压hbase-hook包
解压hook包(这里以hbase-hook为例)，并拷贝内容到atlas安装目录下
tar -zxvf apache-atlas-2.2.0-hbase-hook.tar.gz -C /opt/atlas/atlas 创建 Atlas hook jars在HBase classpath的连接
&#39;ln -s &lt;atlas package&gt;/hook/hbase/* &lt;hbase-home&gt;/lib/&#39; 举例：
ln -s /opt/atlas/atlas/hook/hbase/* /opt/hbase/hbase/lib/ 复制ATLAS_HOME/conf/atlas-application.properties到HBase_HOME/conf目录下
cp /opt/atlas/atlas/conf/atlas-application.properties /opt/hive/hive/conf/ 配置atlas-application.properties，增加以下属性
######### HBase Hook Configs ####### atlas.cluster.name=primary atlas.hook.hbase.synchronous=false atlas.hook.hbase.numRetries=3 atlas.hook.hbase.queueSize=10000 atlas.kafka.zookeeper.connect=172.36.97.151:2181,172.36.97.152:2181,172.36.97.153:2181 atlas.kafka.zookeeper.connection.timeout.ms=30000 atlas.kafka.zookeeper.session.timeout.ms=60000 atlas.kafka.zookeeper.sync.time.ms=20 执行同步HBase元数据脚本
# 这里同步的是HBase中已有数据的元数据，可以通过此脚本同步过来 [root@dc6-80-283 ]# cd /opt/atlas/atlas/hook-bin/ # 执行脚本导入元数据，期间需要输入atlas的用户名和密码：admin/admin [root@dc6-80-283 ]# sh import-hbase.sh " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1aa7a1eda792effd505969386c266138/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-08T01:36:05+08:00" />
<meta property="article:modified_time" content="2022-12-08T01:36:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Atlas配置Hbase Hook</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="AtlasHbase_Hook_0"></a>Atlas配置Hbase Hook</h3> 
<ol><li> <p>配置<code>hbase-site.xml</code></p> <p>在主节点<code>HBase</code>客户端<code>$Hbase_HOME/conf/hbase-site.xml</code>中追加写入：</p> <pre><code>&lt;property&gt;
    &lt;name&gt;hbase.coprocessor.master.classes&lt;/name&gt;
    &lt;value&gt;org.apache.atlas.hbase.hook.HBaseAtlasCoprocessor&lt;/value&gt;
&lt;/property&gt;
</code></pre> </li><li> <p>解压<code>hbase-hook</code>包</p> <p>解压<code>hook</code>包(这里以<code>hbase-hook</code>为例)，并拷贝内容到<code>atlas</code>安装目录下</p> <pre><code>tar -zxvf apache-atlas-2.2.0-hbase-hook.tar.gz -C /opt/atlas/atlas
</code></pre> </li><li> <p>创建 <code>Atlas hook jars</code>在<code>HBase classpath</code>的连接</p> <pre><code>'ln -s &lt;atlas package&gt;/hook/hbase/* &lt;hbase-home&gt;/lib/'
</code></pre> <p>举例：</p> <pre><code>ln -s /opt/atlas/atlas/hook/hbase/*  /opt/hbase/hbase/lib/
</code></pre> </li><li> <p>复制<code>ATLAS_HOME/conf/atlas-application.properties</code>到<code>HBase_HOME/conf</code>目录下</p> <pre><code>cp /opt/atlas/atlas/conf/atlas-application.properties /opt/hive/hive/conf/
</code></pre> </li><li> <p>配置<code>atlas-application.properties</code>，增加以下属性</p> <pre><code>######### HBase Hook Configs #######
atlas.cluster.name=primary
atlas.hook.hbase.synchronous=false
atlas.hook.hbase.numRetries=3     
atlas.hook.hbase.queueSize=10000   
atlas.kafka.zookeeper.connect=172.36.97.151:2181,172.36.97.152:2181,172.36.97.153:2181
atlas.kafka.zookeeper.connection.timeout.ms=30000
atlas.kafka.zookeeper.session.timeout.ms=60000
atlas.kafka.zookeeper.sync.time.ms=20  
</code></pre> </li><li> <p>执行同步<code>HBase</code>元数据脚本</p> <pre><code># 这里同步的是HBase中已有数据的元数据，可以通过此脚本同步过来
[root@dc6-80-283 ]# cd /opt/atlas/atlas/hook-bin/
# 执行脚本导入元数据，期间需要输入atlas的用户名和密码：admin/admin
[root@dc6-80-283 ]# sh import-hbase.sh 
</code></pre> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b196d2a6b271c74a6599f0a646eb9c17/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用PageMethod.startPage分页查询 返回总数对不上</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1842b01b5a7c90da9f848541fe12d321/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ChatGPT可以帮我们做哪些事？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>