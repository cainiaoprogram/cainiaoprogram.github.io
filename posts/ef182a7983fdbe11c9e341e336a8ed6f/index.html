<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>手把手教你实现：将后端SpringBoot项目部署到华为云服务器上 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="手把手教你实现：将后端SpringBoot项目部署到华为云服务器上" />
<meta property="og:description" content="前言 前提：有一个后端项目，项目能够运行在本地，可以通过本地访问（localhost）
如果没有可以看这篇：一个基于SpringBoot的后端项目
注册华为云账号 华为云官网
购买云服务器 产品 -&gt; 华为云耀云服务器L实例 或者 ESC弹性云服务器-&gt; 购买
有免费试用的，也有包年的，也有三个月的，具体容量、带宽参数根据自己的需求(挑最便宜的)来定。
配置服务器环境 其实所谓的服务器就是 一台 远程的电脑主机，当你购买后，会给你一个账号和密码，让你通过远程登录去操作这台主机。
我们需要在这台主机上配置好项目运行的基本环境，如 JDK、Mysql数据库等。
然后只需要将项目编译打包成jar文件，并上传布置到 这台主机，运行启动即可。
登录服务器 根据购买提供的账号远程登录云主机。
登录后，你就可以看到一个黑乎乎的屏幕：
注意了：
如果你购买的是《云耀云服务器实例L》，那么是没有左侧的文件目录管理的，以及FTP上传功能，那么你需要借助第三方的工具才能看到
这里我推荐如下：
你的电脑是Windows, 那么推荐你使用 Xshell
你的电脑是Mac，那么推荐你使用 FinalShell.
配置JAVA SDK 21 先查看云服务器的主机类型，一般来说是购买的云主机都是 Linux操作系统
入口为华为云官网： 控制台 -&gt; 我的资源 -&gt;云服务器
下载Java Sdk 21:
Java JDK 官网
找到和你云主机类型符合的包，比如这个：
下载后，在云主机上找到，opt文件夹，新建一个文件夹叫jdk, 然后将 下载的JDK上传到这个目录。
解压JDK 输入命令：
进入这个目录
# cd /opt/jdk 查看目录的文件
# ls 解压
# tar -zxvf jdk-21_linux-x64_bin.tar.gz 配置java home路径 # cd / # sudo vim /etc/profile 按下 键盘 “i” 键， 在后面新增以下内容：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ef182a7983fdbe11c9e341e336a8ed6f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T17:01:24+08:00" />
<meta property="article:modified_time" content="2024-01-04T17:01:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">手把手教你实现：将后端SpringBoot项目部署到华为云服务器上</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>前言</h3> 
<p>前提：有一个后端项目，项目能够运行在本地，可以通过本地访问（localhost）<br> 如果没有可以看这篇：<a href="https://blog.csdn.net/qq_41904106/article/details/131847915">一个基于SpringBoot的后端项目</a></p> 
<h3><a id="_3"></a>注册华为云账号</h3> 
<p><a href="https://www.huaweicloud.com/" rel="nofollow">华为云官网</a></p> 
<h3><a id="_5"></a>购买云服务器</h3> 
<p>产品 -&gt; 华为云耀云服务器L实例 或者 ESC弹性云服务器-&gt; 购买<br> 有免费试用的，也有包年的，也有三个月的，具体容量、带宽参数根据自己的需求(挑最便宜的)来定。</p> 
<h3><a id="_8"></a>配置服务器环境</h3> 
<p>其实所谓的服务器就是 一台 远程的电脑主机，当你购买后，会给你一个账号和密码，让你通过远程登录去操作这台主机。<br> 我们需要在这台主机上配置好项目运行的基本环境，如 JDK、Mysql数据库等。<br> 然后只需要将项目编译打包成jar文件，并上传布置到 这台主机，运行启动即可。</p> 
<h3><a id="_13"></a>登录服务器</h3> 
<p>根据购买提供的账号远程登录云主机。<br> <img src="https://images2.imgbox.com/32/0e/weU1byfi_o.png" width="50%"><br> 登录后，你就可以看到一个黑乎乎的屏幕：<br> <img src="https://images2.imgbox.com/6c/d4/e7dXzzK0_o.png" width="50%"></p> 
<blockquote> 
 <p>注意了：<br> 如果你购买的是《云耀云服务器实例L》，那么是没有左侧的文件目录管理的，以及FTP上传功能，那么你需要借助第三方的工具才能看到<br> 这里我推荐如下：<br> 你的电脑是Windows, 那么推荐你使用 Xshell<br> 你的电脑是Mac，那么推荐你使用 FinalShell.</p> 
</blockquote> 
<h3><a id="JAVA_SDK_21_25"></a>配置JAVA SDK 21</h3> 
<p>先查看云服务器的主机类型，一般来说是购买的云主机都是 Linux操作系统<br> 入口为华为云官网： 控制台 -&gt; 我的资源 -&gt;云服务器<br> <img src="https://images2.imgbox.com/b9/37/UDjjZ658_o.png" width="50%"></p> 
<p><strong>下载Java Sdk 21</strong>:<br> <a href="https://www.oracle.com/java/technologies/downloads/" rel="nofollow">Java JDK 官网</a><br> 找到和你云主机类型符合的包，比如这个：<br> <img src="https://images2.imgbox.com/94/8e/DauBl3UC_o.png" alt="在这里插入图片描述"><br> 下载后，在云主机上找到，opt文件夹，新建一个文件夹叫jdk, 然后将 下载的JDK上传到这个目录。</p> 
<h3><a id="JDK_35"></a>解压JDK</h3> 
<p>输入命令：<br> 进入这个目录</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">opt</span><span class="token operator">/</span><span class="token hvariable">jdk</span>
</code></pre> 
<p>查看目录的文件</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">ls</span>
</code></pre> 
<p>解压</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">tar</span> <span class="token operator">-</span><span class="token hvariable">zxvf</span> <span class="token hvariable">jdk</span><span class="token operator">-</span>21_linux<span class="token operator">-</span><span class="token hvariable">x64_bin</span><span class="token punctuation">.</span><span class="token hvariable">tar</span><span class="token punctuation">.</span><span class="token hvariable">gz</span>
</code></pre> 
<h3><a id="java_home_54"></a>配置java home路径</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span>
<span class="token operator">#</span> <span class="token hvariable">sudo</span> <span class="token hvariable">vim</span> <span class="token operator">/</span><span class="token hvariable">etc</span><span class="token operator">/</span><span class="token hvariable">profile</span>
</code></pre> 
<p>按下 键盘 “i” 键， 在后面新增以下内容：<br> (注意这个 JAVA_HOME是否和你JDK解压路径一致)</p> 
<pre><code class="prism language-haskell"><span class="token hvariable">export</span> <span class="token constant">JAVA_HOME</span><span class="token operator">=/</span><span class="token hvariable">opt</span><span class="token operator">/</span><span class="token hvariable">jdk</span><span class="token operator">/</span><span class="token hvariable">jdk</span><span class="token operator">-</span><span class="token number">21</span>

<span class="token hvariable">export</span> <span class="token constant">PATH</span><span class="token operator">=$</span><span class="token constant">JAVA_HOME</span><span class="token operator">/</span><span class="token hvariable">bin</span><span class="token operator">:$</span><span class="token constant">PATH</span>

<span class="token hvariable">export</span> <span class="token constant">CLASSPATH</span><span class="token operator">=.:$</span><span class="token constant">JAVAHOME</span><span class="token operator">/</span><span class="token hvariable">lib</span><span class="token operator">/</span><span class="token hvariable">dt</span><span class="token punctuation">.</span><span class="token hvariable">jar</span><span class="token operator">:$</span><span class="token constant">JAVA_HOME</span><span class="token operator">/</span><span class="token hvariable">lib</span><span class="token operator">/</span><span class="token hvariable">tools</span><span class="token punctuation">.</span><span class="token hvariable">jar</span>
</code></pre> 
<p>按下 键盘 “ESC” 键，然后输入 :wq 回车。</p> 
<pre><code class="prism language-haskell"><span class="token operator">:</span><span class="token hvariable">wq</span>
</code></pre> 
<p>输入 java -version 看是否配置成功</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">source</span> <span class="token operator">/</span><span class="token hvariable">etc</span><span class="token operator">/</span><span class="token hvariable">profile</span>
<span class="token operator">#</span> <span class="token hvariable">java</span> <span class="token operator">-</span><span class="token hvariable">version</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/51/72/L7m8wmEU_o.png" alt="在这里插入图片描述"><br> 如果看到上述输出了java版本，那么你的java就安装成功了，那你直接进入配置Mysql即可。</p> 
<p>如果没有，那么估计是你配置的路径名字和解压名字不一样。你去看一下/opt/jdk文件夹下面，解压的jdk名字叫啥。<br> 命令输入：</p> 
<pre><code class="prism language-bash"><span class="token comment"># cd /opt/jdk</span>
<span class="token comment"># ls</span>
</code></pre> 
<p>然后 复制解压的jdk名字，重复上面配置java home路径</p> 
<h3><a id="Mysql_90"></a>配置Mysql</h3> 
<p>配置mysql会遇到很多坑，先打个预防针，各种数据库问题都可能遇到，同时Mysql 8.0的sql语法也有所变化。</p> 
<h3><a id="Mysql_92"></a>下载Mysql</h3> 
<p><a href="https://dev.mysql.com/downloads/mysql/" rel="nofollow">Mysql 官网</a></p> 
<p>根据你所购买的云主机，选择合适的型号：<br> <img src="https://images2.imgbox.com/a9/59/Osx2nfEM_o.png" width="50%"></p> 
<h3><a id="_optmysql_97"></a>上传到指定目录 /opt/mysql</h3> 
<p>在opt文件夹中，单击右键新建文件夹 mysql, 然后上传刚下载的mysql包。</p> 
<h3><a id="_mysql_99"></a>解压 mysql</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">opt</span><span class="token operator">/</span><span class="token hvariable">mysql</span>
<span class="token operator">#</span> <span class="token hvariable">ls</span>
<span class="token operator">#</span> <span class="token hvariable">tar</span> <span class="token operator">-</span><span class="token hvariable">xf</span> <span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">server_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span><span class="token operator">-</span><span class="token hvariable">bundle</span><span class="token punctuation">.</span><span class="token hvariable">tar</span>
</code></pre> 
<h3><a id="libmecab2_106"></a>安装libmecab2包</h3> 
<p>这个包有些云主机会没有导致，mysql安装失败。</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span>
<span class="token operator">#</span> <span class="token hvariable">sudo</span> <span class="token hvariable">apt</span><span class="token operator">-</span><span class="token hvariable">get</span> <span class="token hvariable">update</span>
<span class="token operator">#</span> <span class="token hvariable">sudo</span> <span class="token hvariable">apt</span><span class="token operator">-</span><span class="token hvariable">get</span> <span class="token hvariable">install</span> <span class="token hvariable">libmecab2</span>
</code></pre> 
<h3><a id="_Mysql__113"></a>安装 Mysql 包</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">opt</span><span class="token operator">/</span><span class="token hvariable">mysql</span>
<span class="token operator">#</span> <span class="token hvariable">ls</span>
</code></pre> 
<p>你可以看到解压后的mysql有很多个 .deb类型的包。<br> 我们需要安装以下4个包：</p> 
<pre><code class="prism language-haskell"><span class="token hvariable">libmysqlclient22_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">common_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">server_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">client_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
</code></pre> 
<p>但是，由于这4个包还会有依赖包，所以安装上面几个包时，他会提示你要先安装<strong>依赖包</strong>。<br> 所以以下依赖包也是需要安装的。</p> 
<pre><code class="prism language-haskell"><span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">community</span><span class="token operator">-</span><span class="token hvariable">client_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">community</span><span class="token operator">-</span><span class="token hvariable">client</span><span class="token operator">-</span><span class="token hvariable">core_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">community</span><span class="token operator">-</span><span class="token hvariable">client</span><span class="token operator">-</span><span class="token hvariable">plugins_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>

<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">community</span><span class="token operator">-</span><span class="token hvariable">server_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
<span class="token hvariable">mysql</span><span class="token operator">-</span><span class="token hvariable">community</span><span class="token operator">-</span><span class="token hvariable">server</span><span class="token operator">-</span><span class="token hvariable">core_8</span><span class="token punctuation">.</span><span class="token number">1.0</span><span class="token operator">-</span>1ubuntu22<span class="token punctuation">.</span>04_amd64<span class="token punctuation">.</span><span class="token hvariable">deb</span>
</code></pre> 
<p>依赖关系为：</p> 
<pre><code class="prism language-bash">lib -<span class="token operator">&gt;</span> common
    -<span class="token operator">&gt;</span> community-client-plugins

server -<span class="token operator">&gt;</span> community-server -<span class="token operator">&gt;</span> community-server-core -<span class="token operator">&gt;</span> client -<span class="token operator">&gt;</span> community-client -<span class="token operator">&gt;</span> community-client-core
</code></pre> 
<p>安装命令</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">sudo</span> <span class="token hvariable">dpkg</span> <span class="token operator">-</span><span class="token hvariable">i</span> 文件名<span class="token punctuation">.</span><span class="token hvariable">deb</span>
</code></pre> 
<p>输入命令，回车后，它会有安装是否成功提示，如果出现依赖缺少，它是会提示你的，那你请先安装它所提示的包。</p> 
<blockquote> 
 <p>注意：当你安装 mysql-community-server_8.1.0-1ubuntu22.04_amd64.deb 包时，<br> 它会给你创建初始账号 root，建议你在输入密码那块直接 按回车（省得你设置了密码后面配置时又忘记了）</p> 
</blockquote> 
<p>所有包都安装成功后，查看是否可以工作。</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">mysql</span> <span class="token operator">-</span><span class="token constant">V</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b3/61/8DGTshVq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="mysql_165"></a>修改mysql端口号</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">etc</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token punctuation">.</span><span class="token hvariable">conf</span><span class="token punctuation">.</span><span class="token hvariable">d</span>
<span class="token operator">#</span> <span class="token hvariable">vim</span> <span class="token hvariable">mysqld</span><span class="token punctuation">.</span><span class="token hvariable">cnf</span>
</code></pre> 
<p>按下 键盘 “i” 键， 在[mysqld]标签下面新增以下内容：</p> 
<pre><code class="prism language-haskell"><span class="token hvariable">port</span> <span class="token operator">=</span> <span class="token number">3308</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/b2/83/l0MgDKX2_o.png" alt="在这里插入图片描述"></p> 
<p>按下 键盘“ESC” ，输入 :wq退出</p> 
<pre><code class="prism language-haskell"><span class="token operator">:</span><span class="token hvariable">wq</span>
</code></pre> 
<p>端口号未必就要3308，可以自己定义，主要目的是为了避免mysql默认端口号3306被占用导致mysql访问不了的问题。</p> 
<h3><a id="mysql_184"></a>启动mysql</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span>
<span class="token operator">#</span> <span class="token hvariable">service</span> <span class="token hvariable">mysql</span> <span class="token hvariable">start</span>
<span class="token operator">#</span> <span class="token hvariable">service</span> <span class="token hvariable">mysql</span> <span class="token hvariable">status</span>
</code></pre> 
<p>如果你看到这个，说明你的Mysql启动成功了，直接看下面的<strong>创建新用户</strong><br> <img src="https://images2.imgbox.com/1a/0b/ZDxNlhFI_o.png" alt="在这里插入图片描述"><br> 如果没有，出现了这个错误：<br> <img src="https://images2.imgbox.com/da/17/xJYHYePN_o.png" alt="在这里插入图片描述"><br> 这个可能和你电脑网络有关，暂时无法远程连接，可以尝试，在 /etc/mysql/mysql.conf.d/mysqld.cnf文件中加入以下内容，直接跳过远程连接：</p> 
<pre><code class="prism language-bash">skip-networking
</code></pre> 
<p>具体操作如下：</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">etc</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token punctuation">.</span><span class="token hvariable">conf</span><span class="token punctuation">.</span><span class="token hvariable">d</span>
<span class="token operator">#</span> <span class="token hvariable">vim</span> <span class="token hvariable">mysqld</span><span class="token punctuation">.</span><span class="token hvariable">cnf</span>
</code></pre> 
<p>按下 键盘 “i” 键， 在[mysqld]标签下面新增以下内容：</p> 
<pre><code class="prism language-bash">skip-networking
</code></pre> 
<p>按下 键盘“ESC” ，输入 :wq退出</p> 
<pre><code class="prism language-haskell"><span class="token operator">:</span><span class="token hvariable">wq</span>
</code></pre> 
<p>然后重新启动mysql即可，启动操作为：</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span>
<span class="token operator">#</span> <span class="token hvariable">service</span> <span class="token hvariable">mysql</span> <span class="token hvariable">start</span>
<span class="token operator">#</span> <span class="token hvariable">service</span> <span class="token hvariable">mysql</span> <span class="token hvariable">status</span>
</code></pre> 
<h3><a id="_219"></a>创建新用户</h3> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">mysql</span> <span class="token operator">-</span><span class="token hvariable">u</span> <span class="token hvariable">root</span> <span class="token operator">-</span><span class="token hvariable">p</span>
<span class="token operator">#</span> 在输入密码地方，直接回车
</code></pre> 
<p><img src="https://images2.imgbox.com/a6/38/1er0JQT5_o.png" alt="在这里插入图片描述"><br> sql语句不区分大小写，用大写还是小写看你个人习惯。</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token constant">CREATE</span> <span class="token constant">USER</span> '用户名<span class="token char string">'@'</span><span class="token operator">%</span>' <span class="token constant">IDENTIFIED</span> <span class="token constant">BY</span> '密码'<span class="token punctuation">;</span>
</code></pre> 
<p>查看目前所有的mysql用户账号</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token constant">SELECT</span> <span class="token hvariable">user</span><span class="token punctuation">,</span><span class="token hvariable">host</span> <span class="token constant">FROM</span> <span class="token hvariable">mysql</span><span class="token punctuation">.</span><span class="token hvariable">user</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ca/a2/X5UTDsQi_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_236"></a>授予新用户远程访问的权限</h3> 
<p>如果上面👆 root账号的 host 为 localhost, 你需要先执行</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token hvariable">update</span> <span class="token hvariable">mysql</span><span class="token punctuation">.</span><span class="token hvariable">user</span> <span class="token hvariable">set</span> <span class="token hvariable">host</span><span class="token operator">=</span><span class="token char string">'%'</span> <span class="token keyword">where</span> <span class="token hvariable">user</span><span class="token operator">=</span>'<span class="token hvariable">root'</span><span class="token punctuation">;</span>
</code></pre> 
<p>授予远程权限</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token constant">GRANT</span> <span class="token constant">ALL</span> <span class="token constant">PRIVILEGES</span> <span class="token constant">ON</span> <span class="token operator">*.*</span> <span class="token constant">TO</span> '新用户名<span class="token char string">'@'</span><span class="token operator">%</span>' <span class="token constant">WITH</span> <span class="token constant">GRANT</span> <span class="token constant">OPTION</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token hvariable">flush</span> <span class="token hvariable">privileges</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_247"></a>根据你的后端项目建立数据库、建立表、测试</h3> 
<p>建立数据库</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token hvariable">create</span> <span class="token constant">DATABASE</span> 数据库名<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token hvariable">use</span> 数据库名<span class="token punctuation">;</span>
</code></pre> 
<p>建立表<br> 【字段名 类型 不为空 默认值 】按照这个顺序<br> 【PRIVARY KEY】修饰的字段为key<br> 【UNIQUE KEY】修饰的字段为key且为唯一的key。</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token hvariable">create</span> <span class="token constant">TABLE</span> 表名<span class="token punctuation">(</span>
  <span class="token hvariable">uid</span> <span class="token constant">INT</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token hvariable">auto_increment</span><span class="token punctuation">,</span>
  字段名 <span class="token constant">CHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  字段名 <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  字段名 <span class="token constant">INT</span> <span class="token constant">DEFAULT</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token constant">UNIQUE</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span><span class="token hvariable">uid</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token constant">ENGINE</span> <span class="token operator">=</span> <span class="token constant">INNODB</span><span class="token punctuation">;</span>
</code></pre> 
<p>往表中添加数据以及查询数据：</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token hvariable">insert</span> <span class="token hvariable">into</span> 表名<span class="token punctuation">(</span>字段名，字段名<span class="token operator">....</span><span class="token punctuation">)</span> <span class="token hvariable">values</span><span class="token punctuation">(</span>字段值，字段值，字段值<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token hvariable">select</span> <span class="token operator">*</span> <span class="token hvariable">from</span> 表名<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="mysql_275"></a>远程连接mysql</h3> 
<p>退出数据库操作模式</p> 
<pre><code class="prism language-haskell"><span class="token operator">&gt;</span> <span class="token hvariable">exit</span><span class="token punctuation">;</span>
</code></pre> 
<p>修改mysql配置文件</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">etc</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token operator">/</span><span class="token hvariable">mysql</span><span class="token punctuation">.</span><span class="token hvariable">conf</span><span class="token punctuation">.</span><span class="token hvariable">d</span>
<span class="token operator">#</span> <span class="token hvariable">vim</span> <span class="token hvariable">mysqld</span><span class="token punctuation">.</span><span class="token hvariable">cnf</span>
</code></pre> 
<p>按下 键盘 “i” 键， 在[mysqld]标签下面新增以下内容：</p> 
<pre><code class="prism language-haskell"><span class="token hvariable">bind</span><span class="token operator">-</span><span class="token hvariable">address</span>    <span class="token operator">=</span> <span class="token hvariable">xx</span><span class="token punctuation">.</span><span class="token hvariable">xx</span><span class="token punctuation">.</span><span class="token hvariable">xx</span><span class="token punctuation">.</span><span class="token hvariable">xx</span><span class="token punctuation">(</span>华为云服务器分配的公网<span class="token constant">IP</span>地址<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/66/32/ZzQx9YO4_o.png" alt="在这里插入图片描述"><br> 输入完成后，按“ESC”键，输入 :wq 保存退出。</p> 
<p>华为云服务器分配的公网IP地址入口在：<br> 华为云控制台 -&gt; 我的资源 -&gt; 云服务器<br> <img src="https://images2.imgbox.com/0c/1e/2osbTQOU_o.png" width="50%"></p> 
<h3><a id="_298"></a>开放远程端口</h3> 
<p>华为云控制台 -&gt; 我的资源 -&gt; 云服务器 -&gt; 安全组 -&gt; 入方向规则 -&gt;添加规则</p> 
<ol><li>添加 8080端口（你Sprig Boot项目启动时的端口，如果Spring Boot项目没有设置，默认是8080）</li><li>添加 3308端口 （你Mysql 刚才设置的端口，默认是 3306）<br> <img src="https://images2.imgbox.com/e5/ff/t4E0eiNp_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="_303"></a>测试远程连接是否成功</h3> 
<p>下载 Mysql WorkBench, <a href="https://dev.mysql.com/downloads/workbench/" rel="nofollow">官网地址</a><br> 安装完成应用后，打开应用<br> 新建连接 -&gt; 输入Mysql数据库远程地址、端口号、用户名、密码<br> <img src="https://images2.imgbox.com/dd/47/0cfqviTa_o.png" width="65%/"><br> 如果连接成功，继续往下走，否则需要去看一下连接不上的原因，查看mysql配置文件是否开放了远程连接，远程连接地址是否正确，以及华为云安全组是否开放了 端口号。</p> 
<h3><a id="Spring_BootMysql_309"></a>修改Spring Boot项目关于Mysql的连接配置</h3> 
<p><img src="https://images2.imgbox.com/9b/11/NgWTSLaA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="jar_311"></a>编译后端项目为jar文件</h3> 
<p>如果你的后端项目使用Gradle管理的，编译方法如下：<br> <a href="https://blog.csdn.net/qq_42673067/article/details/130058845">gradle 打包 springboot项目</a><br> 如果你的后端项目使用maven管理的，编译方法如下：<br> <a href="https://blog.csdn.net/qq_44113347/article/details/132205302">maven 打包 springboot项目</a></p> 
<h3><a id="jar_317"></a>上传项目jar文件到云服务器</h3> 
<p>在根目录新建一个文件夹，命名为projects, 然后单击右键上传文件。<br> 上传成功后，运行项目。</p> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span>
<span class="token operator">#</span> <span class="token hvariable">cd</span> <span class="token operator">/</span><span class="token hvariable">projects</span>
<span class="token operator">#</span> <span class="token hvariable">nohup</span> <span class="token hvariable">java</span> <span class="token operator">-</span><span class="token hvariable">jar</span> 项目编译<span class="token punctuation">.</span><span class="token hvariable">jar</span> <span class="token operator">&gt;</span> <span class="token hvariable">spring</span><span class="token punctuation">.</span><span class="token builtin">log</span> <span class="token operator">&amp;</span>
</code></pre> 
<p>运行日志，你就可以在 /projects/spring.log 双击文件中看到了<br> <img src="https://images2.imgbox.com/72/2c/5ZKUzkfY_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_328"></a>最后</h3> 
<p>最后就是你正常访问你的后端项目API了。<br> 比如我的：</p> 
<pre><code class="prism language-haskell">接口域名：<span class="token hvariable">http</span><span class="token operator">://</span><span class="token number">124.71</span><span class="token punctuation">.</span><span class="token number">83.237</span><span class="token operator">:</span><span class="token number">8080</span>
接口路径：<span class="token operator">/</span><span class="token hvariable">register</span>
请求方式：<span class="token constant">POST</span>
请求体参数：
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"xxxxx"</span><span class="token punctuation">,</span>
  <span class="token string">"phoneNumber"</span><span class="token operator">:</span> <span class="token string">"1858346xxxx"</span>，
  <span class="token string">"password"</span><span class="token operator">:</span> <span class="token string">"xxxxxx"</span>
<span class="token punctuation">}</span>
返回结构：
<span class="token punctuation">{<!-- --></span>
  <span class="token string">"code"</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"操作成功"</span><span class="token punctuation">,</span>
  <span class="token string">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_349"></a>关停项目</h3> 
<p>如果你想修改后端项目的一些代码，然后重新运行。<br> 也可以理解为停服更新，那么你可以这么做：</p> 
<ol><li>找出所有在运行的java进程，找到你的那个后端项目，复制其ID</li></ol> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">ps</span> <span class="token hvariable">aux</span> <span class="token operator">|</span> <span class="token hvariable">grep</span> <span class="token hvariable">java</span>
</code></pre> 
<ol start="2"><li>关闭进程</li></ol> 
<pre><code class="prism language-haskell"><span class="token operator">#</span> <span class="token hvariable">kill</span> <span class="token operator">-</span><span class="token number">9</span> 进程<span class="token constant">ID</span>
</code></pre> 
<p>比如我的：<br> <img src="https://images2.imgbox.com/a4/fc/HjOgwuZ7_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/da4f2b01baf53a4777a76a9be97afe36/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">第三章——语言基础（下）操作符、语句、函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10f1f638e5095392ce235dee3fed9f51/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Nginx(一)概述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>