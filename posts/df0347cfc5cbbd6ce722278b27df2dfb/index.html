<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pandas series取值_数据分析pandas的简单操作 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="pandas series取值_数据分析pandas的简单操作" />
<meta property="og:description" content="为什么要用pandas呢？ numpy能够帮我们处理数值的数据，pandas除了处理数值以外还可以处理字符串，时间序列等数据类型；
正常我们还是主要用pandas来读取数据；以下是读取不同类型的文件：
pd.read_csv() pd.read_excel() pd.read_html() pd.read_hdf() 读取数据后，我们说一下pd对数据的一些处理；
1.pandas的常用数据类型
series 一维，带标签的数组；
dataframe 二维，seiries的容器；
2.series 我们用一个字典来作为series创建data对象的内容；字典的键就作为series的索引了；
import pandas as pd import string dic={string.ascii_uppercase[i]:i for i in range(1,10)}#创建一个字典字母对应数字 data=pd.Series(dic) print(data.shape) 查看一下data的维度：
(9,) series的切片和索引：和序列的切片和索引相同；
print(data[[0,1,2,3]]) print(data[2:3])#切片 print(data[data&lt;3])#布尔索引 结果：dtype就是数据的类型了；
B 1 C 2 D 3 E 4 dtype: int64 D 3 dtype: int64 B 1 C 2 dtype: int64 对于陌生的series对象
我们可以用index和values来查看他的索引和标签：
data.index data.values 结果：
Index([&#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;], dtype=&#39;object&#39;) [1 2 3 4 5 6 7 8 9] 查看一下series索引和标签的类型" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/df0347cfc5cbbd6ce722278b27df2dfb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-20T10:45:16+08:00" />
<meta property="article:modified_time" content="2020-12-20T10:45:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">pandas series取值_数据分析pandas的简单操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <h3>为什么要用pandas呢？</h3> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/f1/f5/k3OzNzBS_o.png" alt="166988c2ca29eaa8782d8a2728152940.png"> 
 </div> 
 <p>numpy能够帮我们处理数值的数据，pandas除了处理数值以外还可以处理字符串，时间序列等数据类型；</p> 
 <p>正常我们还是主要用pandas来读取数据；以下是读取不同类型的文件：</p> 
 <div class="has"> 
  <pre class="has"><code>pd.read_csv()
pd.read_excel()
pd.read_html()
pd.read_hdf()</code></pre> 
 </div> 
 <p>读取数据后，我们说一下pd对数据的一些处理；</p> 
 <p><b>1.pandas的常用数据类型</b></p> 
 <p><b>series </b> 一维，带标签的数组；</p> 
 <p><b>dataframe </b>二维，seiries的容器；</p> 
 <p><b>2.series </b></p> 
 <p>我们用一个字典来作为series创建data对象的内容；字典的键就作为series的索引了；</p> 
 <div class="has"> 
  <pre class="has"><code>import pandas as pd
import string
dic={string.ascii_uppercase[i]:i for i in range(1,10)}#创建一个字典字母对应数字
data=pd.Series(dic)
print(data.shape)
</code></pre> 
 </div> 
 <p>查看一下data的维度：</p> 
 <div class="has"> 
  <pre class="has"><code>(9,)</code></pre> 
 </div> 
 <p>series的切片和索引：和序列的切片和索引相同；</p> 
 <div class="has"> 
  <pre class="has"><code>print(data[[0,1,2,3]])
print(data[2:3])#切片
print(data[data&lt;3])#布尔索引</code></pre> 
 </div> 
 <p>结果：dtype就是数据的类型了；</p> 
 <div class="has"> 
  <pre class="has"><code>B    1
C    2
D    3
E    4
dtype: int64

D    3
dtype: int64

B    1
C    2
dtype: int64</code></pre> 
 </div> 
 <p>对于陌生的series对象</p> 
 <p>我们可以用index和values来查看他的索引和标签：</p> 
 <div class="has"> 
  <pre class="has"><code>data.index
data.values</code></pre> 
 </div> 
 <p>结果：</p> 
 <div class="has"> 
  <pre class="has"><code>Index(['B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'], dtype='object')

[1 2 3 4 5 6 7 8 9]</code></pre> 
 </div> 
 <p>查看一下series索引和标签的类型</p> 
 <div class="has"> 
  <pre class="has"><code>&lt;class 'pandas.core.indexes.base.Index'&gt;
&lt;class 'numpy.ndarray'&gt;</code></pre> 
 </div> 
 <p>可以看到标签是一个numpy的ndarray类型，其实series可以看作由两个数组构成，可以对他们进行数组的一些操作；</p> 
 <p><b>3.Dataframe的基本属性：</b></p> 
 <p>dataframe对象既有行索引，又有列索引；</p> 
 <p>行索引：表示不同行；横向索引（index），0轴，aixs=0</p> 
 <p>列索引：表示不同列；纵向索引（column），1轴，axis=1</p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/b4/a6/jBvEKg5u_o.png" alt="122a55ff5c36310d5f1b40b5875678bc.png"> 
 </div> 
 <hr> 
 <p>创建一个dataframe对象（用二维数组）：创建时注意必须以二维数组作为输入，否则会报错；</p> 
 <div class="has"> 
  <pre class="has"><code>data=pd.DataFrame(np.arange(1,21).reshape(4,5),index=list(range(2,6)),columns=['B','C','D','E','F'])
print(data.shape)
print(data)</code></pre> 
 </div> 
 <p>结果：<b>这里index=和columns=是对索引的自定义；</b></p> 
 <div class="has"> 
  <pre class="has"><code>(4, 5)
    B   C   D   E   F
2   1   2   3   4   5
3   6   7   8   9  10
4  11  12  13  14  15
5  16  17  18  19  20
</code></pre> 
 </div> 
 <p><b>4.pandas的iloc和loc（这里主要说对dataframe的操作）</b></p> 
 <p>对于dataframe的数据我们不能用data[index,column]的形式来取值或者去修改了，如果这么做，pandas会自动加上一个新的索引名为[index,column]，可以自己试一下！</p> 
 <p><b>对于dataframe形式的数据就要通过loc和iloc两种方法来用索引操作数据；</b></p> 
 <p>df.loc 通过标签索引行数据</p> 
 <p>df.iloc 通过位置获取行数据</p> 
 <div class="has"> 
  <pre class="has"><code>data=pd.DataFrame(np.arange(1,21).reshape(4,5),index=[1,2,3,4],columns=['A','B','C','D','E'])
print(data.iloc[1:3,2:3])
print(data.loc[1:3,'B':'D'])#按照我指定的字母标签
print(data.iloc[1,3])#取第二行第四列</code></pre> 
 </div> 
 <p>结果：</p> 
 <div class="has"> 
  <pre class="has"><code>    C
2   8
3  13

    B   C   D
1   2   3   4
2   7   8   9
3  12  13  14

9</code></pre> 
 </div> 
 <p><b>5.pandas对缺失值的处理：</b></p> 
 <p>pandas和numpy对缺失值的标志都是“NaN”：np.nan</p> 
 <p>判断数据是否为NaN:</p> 
 <div class="has"> 
  <pre class="has"><code>print(pd.isnull(data))
print(pd.notnull(data))</code></pre> 
 </div> 
 <p>对于没有任何一个元素是空的data，我们将得到如下的结果</p> 
 <div class="has"> 
  <pre class="has"><code>       A      B      C      D      E
1  False  False  False  False  False
2  False  False  False  False  False
3  False  False  False  False  False
4  False  False  False  False  False
      A     B     C     D     E
1  True  True  True  True  True
2  True  True  True  True  True
3  True  True  True  True  True
4  True  True  True  True  True</code></pre> 
 </div> 
 <p><b>对于缺失值的处理方式：（1）删除其所在的行或列（dropna）</b></p> 
 <p><b> （2) 用数据来填充空数据 (fillna)</b></p> 
 <p>删除所在行（列）：</p> 
 <div class="has"> 
  <pre class="has"><code>data=pd.DataFrame(np.arange(1,21).reshape(4,5),index=[1,2,3,4],columns=['A','B','C','D','E'])
data.iloc[1,3]=np.nan;#将该元素赋空值
print(data.dropna(axis=0,how='any',inplace=False))</code></pre> 
 </div> 
 <p>结果：我们可以看到缺失值所在行被删除（参数axis=0，即0轴数据被删除）</p> 
 <div class="has"> 
  <pre class="has"><code>    A   B   C     D   E
1   1   2   3   4.0   5
3  11  12  13  14.0  15
4  16  17  18  19.0  20</code></pre> 
 </div> 
 <p>填充缺失值：<b>这里我们例子用平均值来填充</b></p> 
 <div class="has"> 
  <pre class="has"><code>print(data.fillna(data.mean()))#mean时求数据的平均值</code></pre> 
 </div> 
 <p>结果</p> 
 <div class="has"> 
  <pre class="has"><code>    A   B   C          D   E
1   1   2   3   4.000000   5
2   6   7   8  12.333333  10
3  11  12  13  14.000000  15
4  16  17  18  19.000000  20</code></pre> 
 </div> 
 <p><b>6.pandas常用的统计方法：</b></p> 
 <p><b><i>mean 求数据平均值</i></b></p> 
 <p><b><i>join 合并数据</i></b></p> 
 <p><b><i>merge 合并数据</i></b></p> 
 <p><b><i>groupby 分组和聚合</i></b></p> 
 <hr> 
 <p><b>这个博客园的Mr-chen写的join和merge的区别用法；</b></p> 
  
 pandas.merge和DataFrame.join的用法区别 - Mr-chen - 博客园​www.cnblogs.com 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/de/e4/PXP40kfc_o.png" alt="e8979ce4dc4a8b70eae0547e311cb9bb.png"> 
 </div> 
 <p><b>7.pandas的一些字符串方法</b></p> 
 <p></p> 
 <div style="text-align:center;"> 
  <img src="https://images2.imgbox.com/8b/f8/JzCTfRNa_o.png" alt="d000db8fc5e72dc47ac7f188e8b7dbca.png"> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f7daa60e76b5819649385c3f2741cf22/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">android usb数据抓包_在Android平台，使用tcpdump构建USB抓包工具 (lembed.com)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/776be449357a7d5b7530505641814271/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">上传身份证照片js_html&#43;css&#43;js 实现拍照预览上传图片功能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>