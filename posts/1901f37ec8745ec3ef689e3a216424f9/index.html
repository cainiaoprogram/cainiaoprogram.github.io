<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>nginx 配置指令之server_name - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="nginx 配置指令之server_name" />
<meta property="og:description" content="前言 作为nginx的http模块中的重要指令，对于使用nginx的同学来说，有必要做深入的了解；
server_name指令 用于设置虚拟主机服务名称，如：127.0.0.1 、 localhost 、域名[www.baidu.com | www.jd.com] 关于 server_name 的配置方式有三种，分别是： 精确匹配通配符匹配正则表达式匹配 精确匹配配置 server { listen 80; server_name www.baidu.com www.localhost; } 如下：在windows本地的nginx.conf配置文件中配置了如下参数
需要注意的是，如果是在实际的生产服务器上面进行配置的话，域名一定是有效的，server_name可以配置多个，然后重启nginx服务，访问下试试，可以看到通过两种方式都可以访问到nginx；
通配符模式配置 server_name 中支持通配符 &#34;*&#34;, 但需要注意的是通配符不能出现在域名的中间，只能出现在首段或尾段 server_name localhost www.zcy.*; 如本地的nginx按照上面的配置，重启nginx服务之后，通过浏览器进行访问，可以看到均可以访问到；
正则表达式配置 server_name 中可以使用正则表达式，并且使用 ~ 作为正则表达式字符串的开始标记 常见的正则表达式 代码 说明 ^ 匹配搜索字符串开始位置 $ 匹配搜索字符串结束位置 . 匹配除换行符 \n 之外的任何单个字符 \ 转义字符，将下一个字符标记为特殊字符 [xyz] 字符集，与任意一个指定字符匹配 [a-z] 字符范围，匹配指定范围内的任何字符 \w 与以下任意字符匹配 A-Z a-z 0-9 和下划线 , 等效于 [A-Za-z0- 9_] \d 数字字符匹配，等效于 [0-9] {n} 正好匹配 n 次 {n,} 至少匹配 n 次 {n,m} 匹配至少 n 次至多 m 次 * 零次或多次，等效于 {0,} &#43; 一次或多次，等效于 {1,} ？ 零次或一次，等效于 {0,1} 实际配置案例" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1901f37ec8745ec3ef689e3a216424f9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-22T12:24:13+08:00" />
<meta property="article:modified_time" content="2022-05-22T12:24:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">nginx 配置指令之server_name</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>前言</h2> 
<p>作为nginx的http模块中的重要指令，对于使用nginx的同学来说，有必要做深入的了解；</p> 
<p></p> 
<h3><span style="color:#333333;"><strong>server_name</strong></span><span style="color:#333333;"><strong>指令</strong></span></h3> 
<blockquote> 
 <p>用于设置虚拟主机服务名称，如：<span style="color:#333333;">127.0.0.1 </span><span style="color:#333333;">、</span><span style="color:#333333;"> localhost </span><span style="color:#333333;">、域名</span><span style="color:#333333;">[</span><span style="color:#4183c4;">www.baidu.com</span><span style="color:#333333;"> | </span><span style="color:#4183c4;">www.jd.com</span><span style="color:#333333;">] </span></p> 
</blockquote> 
<p></p> 
<p><img alt="" height="169" src="https://images2.imgbox.com/a3/6a/WLQqzS6K_o.png" width="483"></p> 
<p></p> 
<div> 
 <span style="color:#333333;">关于</span> 
 <span style="color:#333333;">server_name</span> 
 <span style="color:#333333;">的配置方式有三种，分别是： </span> 
</div> 
<ul><li>精确匹配</li><li>通配符匹配</li><li>正则表达式匹配</li></ul> 
<p></p> 
<h2>精确匹配配置</h2> 
<p></p> 
<pre><code>server {
	listen 80;
	server_name www.baidu.com www.localhost;
}</code></pre> 
<p></p> 
<p>如下：在windows本地的nginx.conf配置文件中配置了如下参数</p> 
<p><img alt="" height="183" src="https://images2.imgbox.com/65/99/lN4LZf4K_o.png" width="465"> </p> 
<p> 需要注意的是，如果是在实际的生产服务器上面进行配置的话，域名一定是有效的，server_name可以配置多个，然后重启nginx服务，访问下试试，可以看到通过两种方式都可以访问到nginx；</p> 
<p></p> 
<p><img alt="" height="362" src="https://images2.imgbox.com/b5/11/xgo1J4uY_o.png" width="1200"></p> 
<p> </p> 
<p></p> 
<p><img alt="" height="356" src="https://images2.imgbox.com/c9/64/KJTzxpRr_o.png" width="1193"></p> 
<h3> 通配符模式配置</h3> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#333333;">server_name</span> 
  <span style="color:#333333;">中支持通配符</span> 
  <span style="color:#333333;">"*",</span> 
  <span style="color:#333333;">但需要注意的是通配符不能出现在域名的中间，只能出现在首段或尾段</span> 
 </div> 
</blockquote> 
<pre><code>server_name localhost  www.zcy.*;</code></pre> 
<p></p> 
<p>如本地的nginx按照上面的配置，重启nginx服务之后，通过浏览器进行访问，可以看到均可以访问到；</p> 
<p> </p> 
<p><img alt="" height="350" src="https://images2.imgbox.com/66/58/13vlNAHC_o.png" width="1068"></p> 
<p> </p> 
<p><img alt="" height="362" src="https://images2.imgbox.com/e4/c3/gSvCwc6R_o.png" width="1074"></p> 
<p><img alt="" height="370" src="https://images2.imgbox.com/88/77/o7zyZOes_o.png" width="965"> </p> 
<h3><span style="color:#333333;">正则表达式配置</span></h3> 
<p></p> 
<blockquote> 
 <div> 
  <span style="color:#333333;">server_name</span> 
  <span style="color:#333333;">中可以使用正则表达式，并且使用</span> 
  <span style="color:#333333;">~</span> 
  <span style="color:#333333;">作为正则表达式字符串的开始标记</span> 
 </div> 
</blockquote> 
<p></p> 
<div> 
 <span style="color:#333333;">常见的正则表达式</span> 
</div> 
<div></div> 
<div></div> 
<div> 
 <table border="1" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td> 
     <div> 
      <span style="color:#333333;"><strong>代码 </strong></span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;"><strong>说明</strong></span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">^</span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">匹配搜索字符串开始位置</span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">$</span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">匹配搜索字符串结束位置 </span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">. </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">匹配除换行符</span> 
      <span style="color:#333333;">\n</span> 
      <span style="color:#333333;">之外的任何单个字符</span> 
     </div> </td></tr><tr><td>\</td><td> 
     <div> 
      <span style="color:#333333;">转义字符，将下一个字符标记为特殊字符</span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">[xyz] </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">字符集，与任意一个指定字符匹配 </span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">[a-z] </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">字符范围，匹配指定范围内的任何字符</span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">\w</span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">与以下任意字符匹配</span> 
      <span style="color:#333333;"> A-Z a-z 0-9 </span> 
      <span style="color:#333333;">和下划线</span> 
      <span style="color:#333333;">,</span> 
      <span style="color:#333333;">等效于</span> 
      <span style="color:#333333;">[A-Za-z0- </span> 
     </div> 
     <div> 
      <span style="color:#333333;">9_] </span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">\d </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">数字字符匹配，等效于</span> 
      <span style="color:#333333;">[0-9] </span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">{n} </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">正好匹配</span> 
      <span style="color:#333333;">n</span> 
      <span style="color:#333333;">次</span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">{n,} </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">至少匹配</span> 
      <span style="color:#333333;">n</span> 
      <span style="color:#333333;">次</span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">{n,m} </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">匹配至少</span> 
      <span style="color:#333333;">n</span> 
      <span style="color:#333333;">次至多</span> 
      <span style="color:#333333;">m</span> 
      <span style="color:#333333;">次 </span> 
     </div> </td></tr><tr><td> 
     <div> 
      <span style="color:#333333;">* </span> 
     </div> </td><td> 
     <div> 
      <span style="color:#333333;">零次或多次，等效于</span> 
      <span style="color:#333333;">{0,} </span> 
     </div> </td></tr><tr><td>+</td><td> 
     <div> 
      <span style="color:#333333;">一次或多次，等效于</span> 
      <span style="color:#333333;">{1,}</span> 
     </div> </td></tr><tr><td>？</td><td> 
     <div> 
      <span style="color:#333333;">零次或一次，等效于</span> 
      <span style="color:#333333;">{0,1} </span> 
     </div> </td></tr></tbody></table> 
 <p></p> 
 <p><strong>实际配置案例</strong></p> 
 <pre><code>server_name ~^www\.(\w+)\.com$;</code></pre> 
 <p>重启nginx服务，浏览器访问上面的地址，可以看到仍然能正常访问</p> 
 <p><img alt="" height="372" src="https://images2.imgbox.com/e7/4e/fLJAP662_o.png" width="1028"></p> 
 <p> </p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
</div> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0a944b31713fa78996959578f86ea69e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux命令之日历cal</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/013515b32dbd6e7aae2b74731bb67c00/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【自然语言处理】【聚类】DCSC：利用基于对比学习的半监督聚类算法进行意图挖掘</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>