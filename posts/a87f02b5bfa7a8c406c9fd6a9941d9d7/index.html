<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>git命令使用记录 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="git命令使用记录" />
<meta property="og:description" content="1. $git branch 显示所有本地分支(初始化时只有一个master分支) $git init 初始化本地版本库(重新初始化一次，可以忽略)
$ls -a 找到目录下隐藏的 .git
$rm -rf .git 删除 .git(就会清除当前的git仓库, 可以再次执行 git clone...)
$ ls -a 可以看到master分支已经删除
2.
$git branch -a 列出所有分支名(查看所有分支)
$git checkout master 分支切换到 master $git checkout 检查属于哪个分支
$git checkout voxbranch_01 切换到指定分支voxbranch_01
3. $git checkout -b dev origin/dev checkout远程的dev分支，在本地起名为dev分支，并切换到本地的dev分支
$git checkout -b release origin/release 作用参见上一条说明
$git checkout dev 切换回dev分支，并开始开发
4.
$git branch devlyl 在当前分支下,新建一个名为devlyl的分支
$git push origin devlyl 将本地新建的分支(分支名为:devlyl)同步到远程服务器上，这样别人也能看到
$git checkout devlyl" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a87f02b5bfa7a8c406c9fd6a9941d9d7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-15T09:17:21+08:00" />
<meta property="article:modified_time" content="2023-12-15T09:17:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">git命令使用记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>1.  <br>     $git branch              显示所有本地分支(初始化时只有一个master分支)    <br>     $git init                    初始化本地版本库(重新初始化一次，可以忽略)<br>     $ls -a                       找到目录下隐藏的 .git<br>     $rm -rf .git               删除 .git(就会清除当前的git仓库, 可以再次执行 git clone...)<br>     $ ls -a                      可以看到master分支已经删除</p> 
<p>2.<br>     $git branch -a                        列出所有分支名(查看所有分支)<br>     $git checkout master             分支切换到 master    <br>     $git checkout                         检查属于哪个分支<br>     $git checkout voxbranch_01  切换到指定分支voxbranch_01</p> 
<p>3. <br>     $git checkout -b dev origin/dev                checkout远程的dev分支，在本地起名为dev分支，并切换到本地的dev分支<br>     $git checkout -b release origin/release     作用参见上一条说明<br>     $git checkout dev                                     切换回dev分支，并开始开发</p> 
<p>4.<br>     $git branch devlyl                           在当前分支下,新建一个名为devlyl的分支<br>     $git push origin devlyl                     将本地新建的分支(分支名为:devlyl)同步到远程服务器上，这样别人也能看到</p> 
<p>    $git checkout devlyl<br>     $git branch --set-upstream-to=origin/devlyl 或者git push --set-upstream origin devlyl</p> 
<p>    注:$git branch -vv 查看关联<br>         $git branch -u origin/devlyl 关联</p> 
<p>5.<br>     $git branch -r                                                命令查看远端库的分支情况<br>     $git branch --set-upstream-to=origin/dev     建立本地到上游(远端)仓库的链接,这样代码才能提交上去<br>     $git branch --unset-upstream master          取消对master的关联关系</p> 
<p>6.<br>     $git add readme.txt                                  提交新增文件之前先添加文件<br>     $git commit -am "add a readme file"          提交新增文件并附加描述信息<br>     $git add .                                                  添加全部新增<br>     注:在仓库的根目录下创建一个名为.gitignore的文件，然后编辑文件，把需要提交忽略掉的文件或文件夹包括进去</p> 
<p>    注:有文件内容更改，之后提交<br>     $git commit -a -m "made a change"          当前分支提交并添加提交信息描述</p> 
<p>    $git restore [--worktree或--staged或-s HEAD~1或-s v_001] [文件名(llv.c)或者其他参数(*.c)]   撤销修改<br>            --worktree:         撤销文件工作区的修改<br>               --staged:         撤销暂存区的修改，如撤销到add之前<br>          -s HEAD~1:         当前工作区切换到上个 commit 版本<br>              -s v_001:         当前工作区切换到commit id为v_001的 commit 版本</p> 
<p>7.<br>     $git status         查看修改内容<br>     $git diff              查看具体的更改差异，如果比较多按回车键往后看，按下Q键退回到命令行状态<br>     $git log              查看历史记录<br>     $git reset           用于将当前HEAD复位到指定状态<br>                               一般用于撤消之前的一些操作(如: git add,git commit,etc.)</p> 
<p>    $git reflog &lt;subcommand&gt; &lt;options&gt;  引用日志或“reflogs”记录分支的提示和其他引用在本地存储库中更新的时间<br>                                                                   可以很好地帮助你恢复你误操作的数据</p> 
<p>    $git rebase                         在另一个分支基础之上重新应用，用于把一个分支的修改合并到当前分支</p> 
<p>8.<br>     $git pull                              取回远程主机某个分支的更新，再与本地的指定分支合并<br>                                               在默认模式下，git pull是git fetch后跟git merge FETCH_HEAD的缩写</p> 
<p>    $git remote show origin     查看远程仓库信息(包括git clone url)</p> 
<p>9.<br>     $git push                            用于将本地分支的更新，推送到远程主机</p> 
<p>    注意: $git push origin与$git push -u origin master的区别<br>     $git push origin                将当前分支推送到origin主机的对应分支<br>                                             注:如果当前分支只有一个追踪分支，那么主机名都可以省略</p> 
<p>    $git push                         如果当前分支与多个主机存在追踪关系，<br>                                            那么这个时候-u选项会指定一个默认主机，<br>                                           这样后面就可以不加任何参数使用git push</p> 
<p>    $git push -u origin master      上面命令将本地的master分支推送到origin主机，<br>                                                    同时指定origin为默认主机，<br>                                                    后面就可以不加任何参数使用git push了<br>     $git push origin master<br>     $git push origin HEAD:refs/for/远端分支名<br>     $git push origin 本地分支名:refs/for/远端分支名<br>     例子:<br>     $git push origin test:refs/for/master #本地test分支代码提交到远端master<br> 8. <br>     HEAD是指当前的快照(版本)<br>     HEAD~1(或者HEAD~)回退一个快照(版本)<br>     HEAD~2回退两个快照(版本)<br>     HEAD^ 表示当前快照(版本)<br>     HEAD^^ 表示上一个快照(版本), 以此类推<br>     HEAD~10 表示往前退10个版本</p> 
<p>    </p> 
<p>9. $git fetch<br>     $git reset --hard origin/dev 强制用远程仓库的dev分支覆盖当前分支</p> 
<p>10. 用远程内容完全覆盖本地</p> 
<p>    $git fetch --all<br>     $git reset --hard origin/master</p> 
<p>11. 撤销 $git add .的操作 $git reset HEAD .</p> 
<p>12.直接clone和push的配置</p> 
<p>    $git config --global user.name "lt001"<br>     $git config --global user.password "123456"<br>     $git config --global user.email "lt001@ftgg.com"<br>     查看是否有.ssh目录<br>     cd ~/.ssh/<br>     如果有目录，会直接进入该目录，然后执行下面的命令一路回车，生成SSH key:<br>     ssh-keygen -t rsa -C "lt001@ftgg.com"<br>     如果是windows,则C:\Users\vily\.ssh\目录,copy文件id_rsa.pub中的文本，将其粘贴到gitlab(或者github)的 User Settings\SSH Keys\Add an SSH key中。<br>     至此OK了。</p> 
<p>13.重命名分支：<br>     对本地分支进行重命名：<br>     $git branch -m oldName newName<br>     删除远程对应的旧分支：<br>     $git push origin --delete oldName<br>     将本地的新分支同步到远程：<br>     $git push -u origin newName</p> 
<p>14.强制覆盖分支:<br>     切换到要覆盖的分支，这里我们用develop分支<br>     $git checkout develop<br>     执行覆盖的命令，这里是将master分支的内容覆盖到develop分支<br>     $git reset --hard origin/master<br>     覆盖成功之后，将本地分支强行推到远程分支<br>     $git push -f</p> 
<p>    强制覆盖master分支<br>     $git checkout develop<br>     $git pull --rebase<br>     $git push origin develop:master -f</p> 
<p>15.放弃本地修改，强制远程分支覆盖本地分支<br>     $git fetch --all<br>     $git reset --hard origin/master</p> 
<p></p> 
<p>16. 子模块的递归clone</p> 
<p>      $git clone -–recursive https://github.com/NVIDIAGameWorks/KickstartRT_Demo<br>       或者<br>       $git clone --recurse-submodules git@github.com:vilyLei/Vulkan-Samples.git</p> 
<p>      $git submodule update --init --recursive</p> 
<p>     $git submodule update --init --recursive --force --remote</p> 
<p>      如果还是下载不下来，那就需要设置用你自己的http与https的代理，例如：</p> 
<p>      git config --global http.proxy http://127.0.0.1:10080</p> 
<p>      git config --global https.proxy http://127.0.0.1:10080</p> 
<p>17. git 获取远程地址</p> 
<p>      $git remote -v</p> 
<p>18. 撤销 git add .操作:</p> 
<p>        $git reset --mixed</p> 
<p>        这个操作退出文件暂存区并保留修改提交</p> 
<p>19. git添加版本号: git tag -a 0.3.1 -m "0.3.1"</p> 
<p><strong>20. gitLabKey 生成和应用</strong><br>         <br>         step 1:     使用命令 ssh-keygen -t rsa -b 2048 -C "lvl@svtc.com"<br>         <br>         step 2:     出现这一句的时候 Enter file in which to save the key (/c/Users/lvl/.ssh/id_rsa):直接回车<br>                     然后输入gitLab密码        Enter passphrase (empty for no passphrase):<br>                     输入之后回车<br>                     再次出入相同的gitLab密码   Enter same passphrase again:<br>                     之后就回车，完成这一步。<br>         <br>         step 3:     执行 ssh-agent bash 命令 回车稍等一下就ok了。<br>         <br>         step 4:     接着执行 ssh-add ~/.ssh/id_rsa 命令。提示输入gitLab密码。输入结束，回车完成这一步。会生成对应的sshKey数据放到相应的目录下。这个命令执行之后会将目录显示出来。<br>         <br>         step 5:     找到对应目录下的 /ssh/id_rsa.pub文件，将里面的字符串 copy 到 gitLab setting 里面的 SSH Keys 对应的文本框内，点击Add就ok了。<br>         <br>         step 6:     注意，第一次 git clone的时候，需要输入 gitLab密码。</p> 
<p></p> 
<p>21. git 回滚到指定 hash key(SHA1 ID)的命令: git reset --hard 626b0f7df306aa120ae99c394</p> 
<p>     或者 git reset --hard origin/uired</p> 
<p>23. git remote prune origin 删除远程仓库中已经不存在的但是本地仓库还存在的旧分支。</p> 
<p>        以便解决如下这类 git fetch --all 命令执行中的错误：</p> 
<p>        error: some local refs could not be updated; try running<br>         'git remote prune origin' to remove any old, conflicting branches<br>         error: Could not fetch origin</p> 
<p>        调用git remote prune origin之后，再接着执行 git fetch --all 就ok了。</p> 
<p>24. 换行符自动转换的问题:</p> 
<p>        git config core.autocrlf false</p> 
<p>        git config --global core.autocrlf true</p> 
<p>        拉去代码不需要转换:</p> 
<p>        git config --global core.autocrlf input</p> 
<h4>一些错误:</h4> 
<p>        1. fatal: unable to access 'spdray.git/': OpenSSL SSL_connect: SSL_ERROR_SYSCALL in connection to 127.0.0.1:10080</p> 
<p>        使用代理的时候，如果只设置git config --global http.proxy <strong>https</strong>://127.0.0.1:10080</p> 
<p>而没有设置 git config --global <strong>http</strong>.proxy http://127.0.0.1:10080</p> 
<p>就会在git clone https...时候报上述错误。</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e68438b234af93ca969e3f6478a07f28/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">项目中使用临时文件夹或获取文件资源路径</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/256c25455970c52ebcf471d2cffe9c5a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Security onion 开源IDS入侵检测系统 2.3.220超详细保姆级部署教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>