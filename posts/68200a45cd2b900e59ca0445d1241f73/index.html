<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis笔记" />
<meta property="og:description" content="Redis 1、Redis介绍 1.1、什么是Redis 全称：：REmote DIctionary Server（远程字典服务器）。是完全开源免费的，用C语言编写的， 遵守BCD协议。是 一个高性能的(key/value)分布式内存数据库，
基于内存运行并支持持久化的NoSQL数据库，是当前最热门的NoSql数据库之一,也被人们称为数据结构服务器。 Redis 与其他 key - value 缓存产品有以下三个特点
(1) Redis支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用
(2) Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储 (3) Redis支持数据的备份，即master-slave(主从)模式的数据备份
1.2 Redis优势 (1) 性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。
(2) 丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。
(3) 原子 – Redis的所有操作都是原子性的，同时Redis还支持对几个操作全并后的原子性执行。
(4) 丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性
(5) 采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不 用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗； (6) 使用多路I/O复用模型，非阻塞IO；
1.3 Redis应用场景 (1) 缓存(数据查询，短连接，新闻内容，商品内容等)，使用最多
(2) 聊天室在线好友列表
(3) 任务队列(秒杀，抢购，12306等)
(4) 应用排行榜
(5) 网站访问统计" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/68200a45cd2b900e59ca0445d1241f73/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-25T19:13:25+08:00" />
<meta property="article:modified_time" content="2021-07-25T19:13:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Redis_0"></a>Redis</h2> 
<h3><a id="1Redis_2"></a>1、Redis介绍</h3> 
<h4><a id="11Redis_4"></a>1.1、什么是Redis</h4> 
<p>全称：：REmote DIctionary Server（远程字典服务器）。是完全开源免费的，用C语言编写的， 遵守BCD协议。是 一个高性能的(key/value)分布式内存数据库，</p> 
<p>基于内存运行并支持持久化的NoSQL数据库，是当前最热门的NoSql数据库之一,也被人们称为数据结构服务器。 Redis 与其他 key - value 缓存产品有以下三个特点</p> 
<p>(1) Redis支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用</p> 
<p>(2) Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储 (3) Redis支持数据的备份，即master-slave(主从)模式的数据备份</p> 
<h4><a id="12_Redis_14"></a>1.2 Redis优势</h4> 
<p>(1) 性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s 。</p> 
<p>(2) 丰富的数据类型 – Redis支持二进制案例的 Strings, Lists, Hashes, Sets 及 Ordered Sets 数据类型操作。</p> 
<p>(3) 原子 – Redis的所有操作都是原子性的，同时Redis还支持对几个操作全并后的原子性执行。</p> 
<p>(4) 丰富的特性 – Redis还支持 publish/subscribe, 通知, key 过期等等特性</p> 
<p>(5) 采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不 用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗； (6) 使用多路I/O复用模型，非阻塞IO；</p> 
<h4><a id="13_Redis_26"></a>1.3 Redis应用场景</h4> 
<p>(1) 缓存(数据查询，短连接，新闻内容，商品内容等)，使用最多</p> 
<p>(2) 聊天室在线好友列表</p> 
<p>(3) 任务队列(秒杀，抢购，12306等)</p> 
<p>(4) 应用排行榜</p> 
<p>(5) 网站访问统计</p> 
<p>(6) 数据过期处理(可以精确到毫秒)</p> 
<p>(7) 分布式集群架构中的session问题</p> 
<h4><a id="14_Redis_42"></a>1.4 Redis下载</h4> 
<p>（1）Http://redis.io/ 英文地址</p> 
<p>（2）Http://www.redis.cn/ 中文地址</p> 
<h3><a id="2LinuxRedis_48"></a>2、Linux下安装Redis</h3> 
<h4><a id="21__50"></a>2.1 环境准备</h4> 
<p>(1)虚拟机版本:VMware® Workstation 12 Pro</p> 
<p>(2) Linux系统:Centos Release 6.5</p> 
<p>(3) 远程命令端:xshell</p> 
<p>(4)文件传输工具:SecureFXPortable</p> 
<h4><a id="22_Redis_60"></a>2.2 、Redis的安装</h4> 
<h5><a id="221_Redis_62"></a>2.2.1 Redis的编译环境</h5> 
<p>Redis是C语言开发的，安装redis需要先去官网下载源码进行编译，编译需要依赖于GCC编译环境，如果CentOS上 没有安装gcc编译环境，需要提前安装，安装命令如下:（这里我们使用root用户处理这些操作）</p> 
<pre><code class="prism language-cmd">[root@localhost ~]# yum install gcc-c++
</code></pre> 
<p>如果提示是否下载，选择: y</p> 
<p><img src="https://images2.imgbox.com/43/e0/5JhpWSR2_o.png" alt="在这里插入图片描述"></p> 
<p>如果提示是否安装,选择: y</p> 
<p><img src="https://images2.imgbox.com/01/8f/LYHwuWPw_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="222_Redis_79"></a>2.2.2 Redis的安装</h5> 
<p>(1) 使用SecureFXPortable上传Redis安装文件到Linux目录</p> 
<p><img src="https://images2.imgbox.com/61/ac/LDSgxeQk_o.png" alt="在这里插入图片描述"></p> 
<p>(2)上传Redis安装文件,这里我上传自建文件夹: /home/yhp/local</p> 
<p><img src="https://images2.imgbox.com/79/62/jsVYdDDE_o.png" alt="在这里插入图片描述"></p> 
<p>(3)解压redis文件</p> 
<pre><code class="prism language-cmd">[root@localhost local]# tar -zxvf redis-5.0.5.tar.gz
</code></pre> 
<p>(4)编译Redis(编译,将.c文件编译为.o文件)</p> 
<p>进入解压文件夹,执行 make</p> 
<pre><code class="prism language-cmd">[root@localhost local]# cd redis-5.0.5
[root@localhost redis-5.0.5]# make
</code></pre> 
<p><img src="https://images2.imgbox.com/12/3e/t6t18r2S_o.png" alt="在这里插入图片描述"></p> 
<p>编译成功！如果编译过程中出错，先删除安装文件目录，后解压重新编译。</p> 
<p>(5) 安装</p> 
<pre><code class="prism language-cmd">[root@localhost redis-5.0.5]# make PREFIX=/home/admin/myapps/redis install
</code></pre> 
<p>说明:这里的/home/myapps/redis 是自定义的redis安装路径<br> <img src="https://images2.imgbox.com/e0/a7/9syCoDkR_o.png" alt="在这里插入图片描述"></p> 
<p>(6)安装之后的bin目录</p> 
<p><img src="https://images2.imgbox.com/93/49/XxdhV7sG_o.png" alt="在这里插入图片描述"></p> 
<p>bin文件夹下的命令:</p> 
<p><img src="https://images2.imgbox.com/9a/f3/YayZx66S_o.png" alt="在这里插入图片描述"></p> 
<p>安装完后，在/usr/local/redis/bin 下有几个可执行的文件</p> 
<p><img src="https://images2.imgbox.com/15/36/AFDxWb9K_o.png" alt="在这里插入图片描述"></p> 
<p>(7) Copy文件</p> 
<p>Redis启动需要一个配置文件，可以修改端口号信息。将redis解压的文件夹中的redis.conf文件复制到安装目录</p> 
<pre><code class="prism language-cmd">[root@localhost redis-5.0.5]# cp redis.conf /home/admin/myapps/redis
</code></pre> 
<h4><a id="23_Redis_141"></a>2.3 Redis的启动</h4> 
<h5><a id="231_Redis_143"></a>2.3.1 Redis的前端模式启动</h5> 
<p>直接运行bin/redis-server将使永前端模式启动，前端模式启动的缺点是启动完成后，不能再进行其他操作，如果 要操作必须使用ctrl+c，同时redis-server程序结束，不推荐此方法。</p> 
<pre><code class="prism language-cmd">[root@localhost bin]# ./redis-server
</code></pre> 
<p>下面是启动界面(这个界面只能启动，启动后不能进行其他操作)</p> 
<p><img src="https://images2.imgbox.com/af/75/r1WzAzDU_o.png" alt="在这里插入图片描述"></p> 
<p>使用ctrl+c退出前端启动。</p> 
<h5><a id="232_Redis_157"></a>2.3.2 Redis的后端启动</h5> 
<p>修改redis.conf配置文件，设置:daemonize yes,然后可以使用后端模式启动。</p> 
<pre><code class="prism language-cmd">[root@localhost redis]# vi redis.conf
</code></pre> 
<p><img src="https://images2.imgbox.com/43/0e/kTjOxzFg_o.png" alt="在这里插入图片描述"></p> 
<p>启动时，指定配置文件(这里所在文件夹是redis)</p> 
<pre><code class="prism language-cmd">[root@localhost redis]# ./bin/redis-server ./redis.conf
</code></pre> 
<p>Redis默认端口:6379,通过当前服务进行查看</p> 
<pre><code class="prism language-cmd">[root@localhost redis]# ps -ef | grep -i redis
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/54/kgbz0e5L_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="233_redis_181"></a>2.3.3 客户端访问redis</h5> 
<p>如果想要通过指令来操作redis，可以使用redis的客户端进行操作,在bin文件夹下运行redis-cli</p> 
<p>该指令默认连接的127.0.0.1 ，端口号是6379</p> 
<pre><code class="prism language-cmd">[root@localhost bin]# ./redis-cli
127.0.0.1:6379&gt;
</code></pre> 
<p>如果想要连接指定的ip地址以及端口号，则需要按照</p> 
<pre><code class="prism language-cmd">redis-cli -h ip地址 -p 端口号
</code></pre> 
<p>语法结构连接。</p> 
<h5><a id="234_Redis_200"></a>2.3.4 向Redis服务器发送命令</h5> 
<p>Ping，测试客户端与Redis的连接是否正常，如果连接正常，回收到pong</p> 
<pre><code class="prism language-cmd">127.0.0.1:6379&gt; ping
PONG
</code></pre> 
<h5><a id="235__209"></a>2.3.5 退出客户端</h5> 
<pre><code class="prism language-cmd">127.0.0.1:6379&gt; quit
</code></pre> 
<h5><a id="236_Redis_215"></a>2.3.6 Redis的停止</h5> 
<p>(1) 强制结束程序。强制终止Redis进程可能会导致redis持久化数据丢失。</p> 
<p>语法:kill -9 pid</p> 
<p><img src="https://images2.imgbox.com/0d/de/0K2TRHRP_o.png" alt="在这里插入图片描述"></p> 
<p>(2) 正确停止Redis的方式应该是向Redis发送SHUTDOWN命令，方法为（关闭默认的端口）</p> 
<pre><code class="prism language-cmd">[root@localhost redis]# ./bin/redis-cli shutdown
</code></pre> 
<p><img src="https://images2.imgbox.com/9b/ee/7QfqLp9Z_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="237_redisdesktopmanagerredis_233"></a>2.3.7 第三方工具(redis-desktop-manager)操作redis</h5> 
<p><img src="https://images2.imgbox.com/e5/b3/Kwir8sBq_o.png" alt="在这里插入图片描述"><br> 注意:需要关闭linux防火墙并且修改redis.conf文件中的bind参数</p> 
<pre><code class="prism language-cmd">bind linux的ip地址
</code></pre> 
<p>此时如果通过redis客户端访问的时候，代码如下:</p> 
<pre><code class="prism language-cmd">./redis-cli -h 192.168.197.132 -p 6379
</code></pre> 
<p>7 第三方工具(redis-desktop-manager)操作redis</p> 
<p>[外链图片转存中…(img-I2bBXz5F-1627211398719)]</p> 
<p>注意:需要关闭linux防火墙并且修改redis.conf文件中的bind参数</p> 
<pre><code class="prism language-cmd">bind linux的ip地址
</code></pre> 
<p>此时如果通过redis客户端访问的时候，代码如下:</p> 
<pre><code class="prism language-cmd">./redis-cli -h 192.168.197.132 -p 6379
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/701bfa877bced409f6391155942d4d5d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何在 JavaScript 中获取对象的长度</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/744db46930d55bb85708b988274b08dd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何查看计算机tcp ip协议,如何测试TCP/IP协议是否正常?</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>