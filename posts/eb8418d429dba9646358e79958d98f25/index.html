<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Typora&#43;PicGo&#43;Github&#43;CSDN梦幻联动 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Typora&#43;PicGo&#43;Github&#43;CSDN梦幻联动" />
<meta property="og:description" content="文章目录 一、快速搭建个人免费图床二、Typora图片实现自动上传三、Typora图片上传到CSDN出现错误 一、快速搭建个人免费图床 之前写过一篇 快速搭建个人免费图床 的文章，但是每次都要把图片拖到PicGo里面才能生成链接很麻烦，而且在本地用Typora写的文章发送给别人的时候还需要连同图片一起打包发送更麻烦，于是：
二、Typora图片实现自动上传 查找发现Typora可以和PicGo联动，只需要将复制的图片粘贴到文章中，图片会自动上传到并生成链接，步骤如下：
在Typora中依次点击文件-&gt;偏好设置-&gt;图像，然后进入此界面上传服务选择：PicGo(app)，路径选择软件的下载地址
验证图片上传是否成功
注意：两个软件的端口一定要一致，不然会出现验证失败的提示
三、Typora图片上传到CSDN出现错误 最近想把Typora整理的一个文档上传到CSDN，文字、表格部分都是正常显示，图片老是提示![外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传]，图片链接也被混淆成了其他的样子。 翻找了好多的博客，很多人都提到了是有中文符号的问题，但我的确确实实全是英文啊！不过也找到了解决方法，就是把图片格式由Makedown改为HTML的。但是一篇文章的图片好多啊，我要一个个变更图片格式，那大概是疯了吧！
废话不多说，python脚本解决！
import re # 读取Markdown文档 input_file = &#34;your_input_markdown.md&#34; output_file = &#34;output_markdown.md&#34; with open(input_file, &#34;r&#34;, encoding=&#34;utf-8&#34;) as file: markdown_text = file.read() # 使用正则表达式查找Markdown中的图片链接 img_pattern = r&#34;!\[(.*?)\]\((.*?)\)&#34; def replace_img(match): alt_text = match.group(1) img_url = match.group(2) return f&#39;&lt;img src=&#34;{img_url}&#34; alt=&#34;{alt_text}&#34;&gt;&#39; # 使用正则表达式替换为&lt;img&gt;标签 html_text = re.sub(img_pattern, replace_img, markdown_text) # 写入替换后的Markdown文本到新文件 with open(output_file, &#34;w&#34;, encoding=&#34;utf-8&#34;) as file: file.write(html_text) print(f&#34;Conversion completed. Output saved to {output_file}&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/eb8418d429dba9646358e79958d98f25/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-16T18:38:16+08:00" />
<meta property="article:modified_time" content="2023-10-16T18:38:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Typora&#43;PicGo&#43;Github&#43;CSDN梦幻联动</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、快速搭建个人免费图床</a></li><li><a href="#Typora_3" rel="nofollow">二、Typora图片实现自动上传</a></li><li><a href="#TyporaCSDN_14" rel="nofollow">三、Typora图片上传到CSDN出现错误</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、快速搭建个人免费图床</h2> 
<p>  之前写过一篇 <a href="https://blog.csdn.net/qq_43372862/article/details/107039693?spm=1001.2014.3001.5501">快速搭建个人免费图床</a> 的文章，但是每次都要把图片拖到PicGo里面才能生成链接很麻烦，而且在本地用Typora写的文章发送给别人的时候还需要连同图片一起打包发送更麻烦，于是：</p> 
<h2><a id="Typora_3"></a>二、Typora图片实现自动上传</h2> 
<p>  查找发现Typora可以和PicGo联动，只需要将复制的图片粘贴到文章中，图片会自动上传到并生成链接，步骤如下：</p> 
<ol><li>在Typora中依次点击文件-&gt;偏好设置-&gt;图像，然后进入此界面</li><li>上传服务选择：PicGo(app)，路径选择软件的下载地址<br> <img src="https://images2.imgbox.com/9d/0b/r8PJzfan_o.png" alt="在这里插入图片描述"></li><li>验证图片上传是否成功<br> <img src="https://images2.imgbox.com/db/20/dHAbF49x_o.png" alt="在这里插入图片描述"></li></ol> 
<p><strong>注意</strong>：两个软件的端口一定要一致，不然会出现验证失败的提示<br> <img src="https://images2.imgbox.com/27/da/nrsLpniK_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="TyporaCSDN_14"></a>三、Typora图片上传到CSDN出现错误</h2> 
<p>  最近想把Typora整理的一个文档上传到CSDN，文字、表格部分都是正常显示，图片老是提示<code>![外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传]</code>，图片链接也被混淆成了其他的样子。<img src="https://images2.imgbox.com/d0/98/FyyWrP3q_o.png" alt="外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传">  翻找了好多的博客，很多人都提到了是有中文符号的问题，但我的确确实实全是英文啊！不过也找到了解决方法，就是把图片格式由Makedown改为HTML的。但是一篇文章的图片好多啊，我要一个个变更图片格式，那大概是疯了吧！<br>   废话不多说，python脚本解决！</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re

<span class="token comment"># 读取Markdown文档</span>
input_file <span class="token operator">=</span> <span class="token string">"your_input_markdown.md"</span>
output_file <span class="token operator">=</span> <span class="token string">"output_markdown.md"</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>input_file<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    markdown_text <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 使用正则表达式查找Markdown中的图片链接</span>
img_pattern <span class="token operator">=</span> <span class="token string">r"!\[(.*?)\]\((.*?)\)"</span>

<span class="token keyword">def</span> <span class="token function">replace_img</span><span class="token punctuation">(</span><span class="token keyword">match</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    alt_text <span class="token operator">=</span> <span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    img_url <span class="token operator">=</span> <span class="token keyword">match</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f'&lt;img src="</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>img_url<span class="token punctuation">}</span></span><span class="token string">" alt="</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>alt_text<span class="token punctuation">}</span></span><span class="token string">"&gt;'</span></span>

<span class="token comment"># 使用正则表达式替换为&lt;img&gt;标签</span>
html_text <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span>img_pattern<span class="token punctuation">,</span> replace_img<span class="token punctuation">,</span> markdown_text<span class="token punctuation">)</span>

<span class="token comment"># 写入替换后的Markdown文本到新文件</span>
<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>output_file<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">file</span><span class="token punctuation">:</span>
    <span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span>html_text<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Conversion completed. Output saved to </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>output_file<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
</code></pre> 
<p>在这个脚本中，你需要</p> 
<ol><li>将 your_input_markdown.md 替换为你的输入Markdown文件的实际文件名；</li><li>将output_markdown.md替换为你希望输出的新Markdown文件的文件名；</li><li>脚本将读取输入Markdown文件，查找其中的图片链接，然后将其替换为HTML &lt;img&gt; 标签；</li><li>最后，替换后的Markdown文本将写入新的Markdown文件中。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/065a51ec00b5707f3626347e67de975f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vue.config.js配置proxy代理产生404错误的原因</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/48e41a62cc3fa0b61edf51e09af90401/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">机器学习之模型评估</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>