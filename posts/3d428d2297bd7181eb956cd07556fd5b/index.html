<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>bad interpreter:No such file or directory的原因 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="bad interpreter:No such file or directory的原因" />
<meta property="og:description" content="今天在编译完Fortran的一个程序之后，却用原来的调用脚本怎么也没法执行，问题如标题，最好找到这篇文章，恍然大悟。
Linux下面一个脚本死活也运行不了， 我检查了数遍，不可能有错。快Insane啦！提示：bad interpreter:No such file or directory！
上网上找了好久，总算发现原来是文件格式的问题。这个文件是我在Windows下编写的。换行的方式与Unix不一样，但是在VI下面如果不Set一下又完全看不出来。气晕过去了～～～希望不会有人跟我一样倒楣，花了好几个小时in vain!!
解决方法：
1、程序是在一个网站上看到的，我保存下来源码天空，大致修改了一下。
2、上传到linux主机运行
chmod &#43;x back
./back
错误提示如下：
bash: ./back : bad interpreter:No such file or directory
3、错误分析：
因为操作系统是windows，我在windows下编辑的脚本，所以有可能有不可见字符。从你的脚本及报告的错误看来, 很有可能是你的脚本文件是DOS格式的, 即每一行的行尾以\r\n来标识, 其ASCII码分别是0x0D, 0x0A.
可以有很多种办法看这个文件是DOS格式的还是UNIX格式的, 还是MAC格式的。
（1）vi filename
然后用命令
:set ff?
可以看到dos或unix的字样. 如果的确是dos格式的, 那么你可以用:set ff=unix把它强制为unix格式的, 然后存盘退出. 再运行一遍看.
（2）用joe filename
如果是DOS格式的, 那么行尾会有很多绿色的^M字样出现. 你也可以用上述办法把它转为UNIX格式的.
（3） 用od -t x1 filename
如果你看到有0d 0a 这样的字符, 那么它是dos格式的, 如果只有0a而没有0d, 那么它是UNIX格式的, 同样可以用上述方法把它转为UNIX格式的.
转换不同平台的文本文件格式可以用
1. unix2dos或dos2unix这两个小程序来做. 很简单. 在djgpp中这两个程序的名字叫dtou和utod, u代表unix, d代表dos" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3d428d2297bd7181eb956cd07556fd5b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-02-28T08:51:26+08:00" />
<meta property="article:modified_time" content="2018-02-28T08:51:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">bad interpreter:No such file or directory的原因</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">今天在编译完Fortran的一个程序之后，却用原来的调用脚本怎么也没法执行，问题如标题，最好找到这篇文章，恍然大悟。<br></span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">        Linux下面一个脚本死活也运行不了， 我检查了数遍，不可能有错。快Insane啦！</span><span style="font-size:18px;">提示：bad interpreter:No such file or directory！</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">        上网上找了好久，总算发现原来是文件格式的问题。这个文件是我在Windows下编写的。</span><span style="font-size:18px;">换行的方式与Unix不一样，但是在VI下面如果不Set一下又完全看不出来。</span><span style="font-size:18px;">气晕过去了～～～希望不会有人跟我一样倒楣，花了好几个小时in vain!!</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;"></span> </p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">解决方法：</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">1、程序是在一个网站上看到的，我保存下来源码天空，大致修改了一下。</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">2、上传到linux主机运行</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">     chmod +x back</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">     ./back</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">    错误提示如下：<br>    bash: ./back : bad interpreter:No such file or directory</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">3、错误分析：</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">        因为操作系统是windows，我在windows下编辑的脚本，所以有可能有不可见字符。</span><span style="font-size:18px;">从你的脚本及报告的错误看来, 很有可能是你的<span style="font-weight:700;"><span style="color:rgb(255,0,0);">脚本文件是DOS格式的, 即每一行的行尾以\r\n来标识</span></span>, 其ASCII码分别是0x0D, 0x0A.<br>可以有很多种办法看这个文件是DOS格式的还是UNIX格式的, 还是MAC格式的。<br>（1）vi filename<br>然后用命令<br>:set ff?<br>可以看到dos或unix的字样. 如果的确是dos格式的, 那么你可以用:set ff=unix把它强制为unix格式的, 然后存盘退出. 再运行一遍看.<br>（2）用joe filename<br>如果是DOS格式的, 那么行尾会有很多绿色的^M字样出现. 你也可以用上述办法把它转为UNIX格式的.<br>（3） 用od -t x1 filename<br>如果你看到有0d 0a 这样的字符, 那么它是dos格式的, 如果只有0a而没有0d, 那么它是UNIX格式的, 同样可以用上述方法把它转为UNIX格式的.</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;"></span> </p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">转换不同平台的文本文件格式可以用<br>1. <span style="font-weight:700;">unix2dos</span>或<span style="font-weight:700;">dos2unix</span>这两个小程序来做. 很简单. 在djgpp中这两个程序的名字叫dtou和utod, u代表unix, d代表dos<br>2. 也可以用sed 这样的工具来做:<br>sed  's/^M//' filename &gt; tmp_filename<br>mv  -f tmp_filename filename</span></p> 
<p style="background-color:rgb(255,255,255);"><br><span style="font-size:18px;"><span style="font-weight:700;">特别说明</span>:^M并不是按键shift + 6产生的^和字母M, 它是一个字符, 其ASCII是0x0D,<span style="font-weight:700;"> 生成它的办法</span>是先按CTRL+V, 然后再回车(或CTRL+M)</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">另外, 当SHELL程序报告command not found时, 总是去检查一下你的PATH里面有没有程序要用到的每一个命令(没指定绝对路径的那种). 你这么小的程序, 可以一行一行核对.</span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;"> </span></p> 
<p style="background-color:rgb(255,255,255);"><span style="font-size:18px;">简言之，用命令<span style="font-weight:700;"><span style="color:rgb(255,0,0);">:set ff?</span></span>查看是doc还是unix格式，如果是dos格式，用命令<span style="font-weight:700;"><span style="color:rgb(255,0,0);">:set ff=unix</span></span>转化为unix格式。</span></p> 
<p style="background-color:rgb(255,255,255);">详细请参考：<a href="http://www.codesky.net/article/200612/119693.html" rel="nofollow" style="color:rgb(12,137,207);">http://www.codesky.net/article/200612/119693.html</a></p> 
<p style="background-color:rgb(255,255,255);"> </p> 
<p style="background-color:rgb(255,255,255);">        <span style="font-size:18px;"> 如果你的工程很大，你不可能逐个文件去查看，这时候批量处理就显得很重要了，下面附上我写的的一个脚本，可以实现批量转换doc格式的文件为Unix格式的，脚本中用到的主要命令是dos2unix命令，该命令的功能就是将dos格式的文件转换为unix。</span></p> 
<p style="background-color:rgb(255,255,255);"> </p> 
<p style="background-color:rgb(255,255,255);">#!/bin/sh</p> 
<p style="background-color:rgb(255,255,255);"># Author (C) flyingbird<br># Date 5/5/2014</p> 
<p style="background-color:rgb(255,255,255);">if [ $# -ne 1 ]; then<br>    echo "Usage: $0 args(args maybe file or directory)"<br>    exit 1<br>fi</p> 
<p style="background-color:rgb(255,255,255);">if [ ! -f $1 ] &amp;&amp; [ ! -d $1 ]; then<br>    echo "Bad argument \"$1\""<br>    exit 1<br>fi</p> 
<p style="background-color:rgb(255,255,255);">if [ -f $1 ] &amp;&amp; `file $1 | grep -q CRLF`; then<br>    dos2unix $1<br>    exit 0<br>fi</p> 
<p style="background-color:rgb(255,255,255);">if [ ! -d $1 ]; then<br>    echo "\"$1\" is already unix format"<br>    exit 0<br>fi</p> 
<p style="background-color:rgb(255,255,255);">for file_name in `ls -R $1`<br>do</p> 
<p style="background-color:rgb(255,255,255);">echo "deal with \"$1/$file_name\""</p> 
<p style="background-color:rgb(255,255,255);">    if ! `file $1/$file_name | grep -q CRLF`; then<br>        echo "$1/$file_name not exist CRLF"<br>        continue<br>    fi</p> 
<p style="background-color:rgb(255,255,255);">    dos2unix $1/$file_name<br>done</p> 
<p style="background-color:rgb(255,255,255);"><br>exit 0</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1b6d91ba91c7d9b2e3c295daa0df335c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux修改TCP连接数（centos实测）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/21073d40ab56baaf8fba4c36cefb80e3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">EXCEL  VBA 之录制宏</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>