<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>接口测试实战，Jmeter正则提取响应数据-详细整理，一篇打通... - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="接口测试实战，Jmeter正则提取响应数据-详细整理，一篇打通..." />
<meta property="og:description" content="目录：导读 前言一、Python编程入门到精通二、接口自动化项目实战三、Web自动化项目实战四、App自动化项目实战五、一线大厂简历六、测试开发DevOps体系七、常用自动化测试工具八、JMeter性能测试九、总结（尾部小惊喜） 前言 在测试时，我们经常需处理请求返回的响应数据，比如很多时候 cookie 或 token 或 Authorization授权码 会返回在 Response headers（响应头）中，这时我们便需要从中进行提取，以供其他接口使用。
如何在Jmeter中通过正则提取响应数据中 Response headers 的数据？
总的设置界面如下：
发送请求，获取响应数据
首先，设置一个HTTP请求，如下：
接着，设置一个察看结果树，然后执行，得到响应数据，下图中的cookie即我们需要提取的数据：
正则提取响应数据
接下来，我们便设置一个正则提取器（用于提取出cookie），另外再设置一个调试后置处理程序（用于查看提取结果）
说明：
1、引用名称：即变量名，后续请求中可以通过 引用名称来调用 2 、正则表达式：按实际情况填写 3 、模板： {引用名称} 来调用 2、正则表达式：按实际情况填写 3、模板： 引用名称来调用2、正则表达式：按实际情况填写3、模板：$表示需要哪个正则表达式获取的值，1代表第一个，-1代表全部，0代表随机
4、匹配数字：1代表第一个，-1代表全部，0代表随机
5、缺省值：如果正则未匹配到，就会使用缺省值
正则说明：
.：表示除“\r\n”之外的任意字符 *：表示匹配前面的子表达式任意次 &#43;：表示匹配前面的子表达式1次或多次 ？：表示匹配前面的子表达式0次或1次 .*：贪婪匹配原则，即匹配到不能匹配为止 .*?：非贪婪匹配，即在匹配成功的情况下尽可能少的匹配 实例：
存在字符串 7adbcfgfbesw ，要匹配7和b之间的字符
匹配1：使用 .* ，7开始之后，遇到第一个b不结束，继续找下一个b，直到不能匹配，即匹配到 adbcfgf 匹配2：使用 .*? ，7开始之后，遇到第一个b就结束了，即匹配到 ad 查看提取结果提取结果
以上就是本次的提取结果，在这里，如果需在后续请求使用，可通过 ${response_data} 来关联调用。
可能遇到的问题
假如，我们需提取 Set-Cookie 里的所有内容。此时，如果依然使用 .*? ，就会发现提取是不成功的，如下：
要解决这个问题也很简单，我们修改正则表达式，使用 .* 贪婪匹配原则既可以。
以上就是通过Jmeter正则提取的内容，提取其他数据，如 token 、 Authorization 等的方法与上面类似。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/952535c6de30c1cd2884d300805ebf24/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-10T15:27:00+08:00" />
<meta property="article:modified_time" content="2023-08-10T15:27:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">接口测试实战，Jmeter正则提取响应数据-详细整理，一篇打通...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录：导读</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#Python_91" rel="nofollow">一、Python编程入门到精通</a></li><li><a href="#_94" rel="nofollow">二、接口自动化项目实战</a></li><li><a href="#Web_97" rel="nofollow">三、Web自动化项目实战</a></li><li><a href="#App_100" rel="nofollow">四、App自动化项目实战</a></li><li><a href="#_103" rel="nofollow">五、一线大厂简历</a></li><li><a href="#DevOps_106" rel="nofollow">六、测试开发DevOps体系</a></li><li><a href="#_109" rel="nofollow">七、常用自动化测试工具</a></li><li><a href="#JMeter_112" rel="nofollow">八、JMeter性能测试</a></li><li><a href="#_115" rel="nofollow">九、总结（尾部小惊喜）</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<h3><a id="_2"></a>前言</h3> 
<p>在测试时，我们经常需处理请求返回的响应数据，比如很多时候 cookie 或 token 或 Authorization授权码 会返回在 Response headers（响应头）中，这时我们便需要从中进行提取，以供其他接口使用。</p> 
<p>如何在Jmeter中通过正则提取响应数据中 Response headers 的数据？</p> 
<p>总的设置界面如下：</p> 
<p><img src="https://images2.imgbox.com/13/ce/q4ki97oG_o.png" alt="E1"></p> 
<p><strong>发送请求，获取响应数据</strong></p> 
<p>首先，设置一个HTTP请求，如下：</p> 
<p><img src="https://images2.imgbox.com/7d/8a/UxZHY01x_o.png" alt="E2"></p> 
<p>接着，设置一个察看结果树，然后执行，得到响应数据，下图中的cookie即我们需要提取的数据：</p> 
<p><img src="https://images2.imgbox.com/45/41/DU0qdsy1_o.png" alt="E3"></p> 
<p><strong>正则提取响应数据</strong></p> 
<p>接下来，我们便设置一个正则提取器（用于提取出cookie），另外再设置一个调试后置处理程序（用于查看提取结果）</p> 
<p><img src="https://images2.imgbox.com/91/aa/fQcybbI7_o.png" alt="E4"></p> 
<p>说明：<br> 1、引用名称：即变量名，后续请求中可以通过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         引用名称来调用 
        
       
         2 
        
       
         、正则表达式：按实际情况填写 
        
       
         3 
        
       
         、模板： 
        
       
      
        {引用名称} 来调用 2、正则表达式：按实际情况填写 3、模板： 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6833em;"></span><span class="mord"><span class="mord cjk_fallback">引用名称</span></span><span class="mord cjk_fallback">来调用</span><span class="mord">2</span><span class="mord cjk_fallback">、正则表达式：按实际情况填写</span><span class="mord">3</span><span class="mord cjk_fallback">、模板：</span></span></span></span></span>$表示需要哪个正则表达式获取的值，1代表第一个，-1代表全部，0代表随机<br> 4、匹配数字：1代表第一个，-1代表全部，0代表随机<br> 5、缺省值：如果正则未匹配到，就会使用缺省值</p> 
<p>正则说明：</p> 
<pre><code class="prism language-python"><span class="token punctuation">.</span>：表示除“\r\n”之外的任意字符
<span class="token operator">*</span>：表示匹配前面的子表达式任意次
<span class="token operator">+</span>：表示匹配前面的子表达式<span class="token number">1</span>次或多次
？：表示匹配前面的子表达式<span class="token number">0</span>次或<span class="token number">1</span>次
<span class="token punctuation">.</span><span class="token operator">*</span>：贪婪匹配原则，即匹配到不能匹配为止
<span class="token punctuation">.</span><span class="token operator">*</span>?：非贪婪匹配，即在匹配成功的情况下尽可能少的匹配
</code></pre> 
<p>实例：<br> 存在字符串 7adbcfgfbesw ，要匹配7和b之间的字符</p> 
<pre><code class="prism language-python">匹配<span class="token number">1</span>：使用 <span class="token punctuation">.</span><span class="token operator">*</span> ，<span class="token number">7</span>开始之后，遇到第一个b不结束，继续找下一个b，直到不能匹配，即匹配到 adbcfgf

匹配<span class="token number">2</span>：使用 <span class="token punctuation">.</span><span class="token operator">*</span>? ，<span class="token number">7</span>开始之后，遇到第一个b就结束了，即匹配到 ad
</code></pre> 
<p><img src="https://images2.imgbox.com/3c/93/9btF87ov_o.png" alt="E5"></p> 
<p><strong>查看提取结果提取结果</strong></p> 
<p><img src="https://images2.imgbox.com/97/b7/5uUUq1MD_o.png" alt="E6"></p> 
<p>以上就是本次的提取结果，在这里，如果需在后续请求使用，可通过 ${response_data} 来关联调用。</p> 
<p><strong>可能遇到的问题</strong></p> 
<p>假如，我们需提取 Set-Cookie 里的所有内容。此时，如果依然使用 .*? ，就会发现提取是不成功的，如下：</p> 
<p><img src="https://images2.imgbox.com/af/20/soN9g5nG_o.png" alt="E7"></p> 
<p><img src="https://images2.imgbox.com/a4/ba/rPbnm4ow_o.png" alt="E8"></p> 
<p><img src="https://images2.imgbox.com/88/7e/wu1pCfQ0_o.png" alt="E9"></p> 
<p>要解决这个问题也很简单，我们修改正则表达式，使用 .* 贪婪匹配原则既可以。</p> 
<p><img src="https://images2.imgbox.com/6b/bd/QvqDqGcN_o.png" alt="E10"></p> 
<p><img src="https://images2.imgbox.com/5b/16/7of9Trgv_o.png" alt="E11"></p> 
<p>以上就是通过Jmeter正则提取的内容，提取其他数据，如 token 、 Authorization 等的方法与上面类似。</p> 
<table><tbody><tr><td bgcolor="yellow"><font size="4"><b>下面是我整理的2023年最全的软件测试工程师学习知识架构体系图</b></font></td></tr></tbody></table> 
<h3><a id="Python_91"></a>一、Python编程入门到精通</h3> 
<p><img src="https://images2.imgbox.com/a3/4d/mLq1W0lo_o.png" alt="请添加图片描述"></p> 
<h3><a id="_94"></a>二、接口自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/30/c3/aoc0yzNL_o.png" alt="请添加图片描述"></p> 
<h3><a id="Web_97"></a>三、Web自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/20/55/wLLLmytZ_o.png" alt="请添加图片描述"></p> 
<h3><a id="App_100"></a>四、App自动化项目实战</h3> 
<p><img src="https://images2.imgbox.com/be/18/AOfcgTH4_o.png" alt="请添加图片描述"></p> 
<h3><a id="_103"></a>五、一线大厂简历</h3> 
<p><img src="https://images2.imgbox.com/80/21/fr8WHb0s_o.png" alt="请添加图片描述"></p> 
<h3><a id="DevOps_106"></a>六、测试开发DevOps体系</h3> 
<p><img src="https://images2.imgbox.com/ee/a1/1BqSVd2M_o.png" alt="请添加图片描述"></p> 
<h3><a id="_109"></a>七、常用自动化测试工具</h3> 
<p><img src="https://images2.imgbox.com/2e/df/HJ47fKxI_o.png" alt="请添加图片描述"></p> 
<h3><a id="JMeter_112"></a>八、JMeter性能测试</h3> 
<p><img src="https://images2.imgbox.com/cf/f3/5G3mtnDW_o.png" alt="请添加图片描述"></p> 
<h3><a id="_115"></a>九、总结（尾部小惊喜）</h3> 
<p>奋斗如彩虹般绚丽，需要经历风雨才能见其美丽。坚持不懈的努力将点亮前行的路，让梦想的火焰燃烧心间。相信自己的力量，勇往直前。</p> 
<p>在每一个拼搏的瞬间，都是重新定义自己的机会。不论前方有多少险阻，只要心怀勇气与决心，努力奋斗，终将超越自我，闪耀出属于自己的光芒。</p> 
<p>每一次的努力都是自己向前进的勇气，每一次的奋斗都是追寻梦想的脚步。不论遇到多少艰难险阻，坚持执着，秉持着信念与热情，你将以自己的汗水和智慧，创造出绚丽而辉煌的人生篇章！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/620fd1d3f9b6d0818313d1c55e25d808/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【求组合数】各种组合数 卡特兰数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/92a7344c792f7774b54f44c085b6f98c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">使用fabric.js&#43;pdf.js实现简易盖章</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>