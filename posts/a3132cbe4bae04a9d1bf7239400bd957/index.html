<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker使用非root用户 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker使用非root用户" />
<meta property="og:description" content="Docker使用非root用户 通常我们使用Docker的时候都是使用的root，官方说法如下：
The docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can access it with sudo. For this reason, docker daemon always runs as the root user. To avoid having to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a3132cbe4bae04a9d1bf7239400bd957/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-09-02T13:51:20+08:00" />
<meta property="article:modified_time" content="2016-09-02T13:51:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker使用非root用户</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2 id="docker使用非root用户">Docker使用非root用户</h2> 
<p>通常我们使用Docker的时候都是使用的root，官方说法如下：</p> 
<blockquote> 
 <p>The docker daemon binds to a Unix socket instead of a TCP port. By default that Unix socket is owned by the user root and other users can access it with sudo. For this reason, docker daemon always runs as the root user. <br> To avoid having to use sudo when you use the docker command, create a Unix group called docker and add users to it. When the docker daemon starts, it makes the ownership of the Unix socket read/writable by the docker group.</p> 
</blockquote> 
<p>下面是使用非root用户操作的步骤</p> 
<h4 id="创建docker组">创建docker组</h4> 
<pre class="prettyprint"><code class="language-shell hljs bash"><span class="hljs-built_in">sudo</span> groupadd docker</code></pre> 
<h4 id="将当前用户加入docker组">将当前用户加入docker组</h4> 
<pre class="prettyprint"><code class="language-shell hljs bash"><span class="hljs-built_in">sudo</span> gpasswd <span class="hljs-operator">-a</span> <span class="hljs-variable">${USER}</span> docker</code></pre> 
<h4 id="重新启动docker服务下面是centos7的命令">重新启动docker服务（下面是CentOS7的命令）</h4> 
<pre class="prettyprint"><code class="language-shell hljs bash"><span class="hljs-built_in">sudo</span> systemctl restart docker</code></pre> 
<h4 id="当前用户退出系统重新登陆">当前用户退出系统重新登陆</h4> 
<h4 id="运行docker命令">运行docker命令</h4> 
<pre class="prettyprint"><code class="language-shell hljs ">docker ps</code></pre> 
<hr> 
<blockquote> 
 <p>转载请以链接形式标明本文链接 <br> 本文链接：<a href="http://blog.csdn.net/kongxx/article/details/52413332">http://blog.csdn.net/kongxx/article/details/52413332</a></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5709128a7bd4cf6f490de4adf1a470be/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Fatal signal 11 (SIGSEGV) 错误</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f32edab18ce8d8fe76a9b640564ee71c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">获取手机通讯录联系人（包含模糊查询，dialog自定义，也有一个自定义通知栏）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>