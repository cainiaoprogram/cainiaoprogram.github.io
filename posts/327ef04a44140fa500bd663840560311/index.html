<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>arduino学习——WS2812灯带 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="arduino学习——WS2812灯带" />
<meta property="og:description" content="WS2812灯带程序 简介示例程序程序拓展（1）程序拓展（2）拓展程序（3）---fill_solid()函数灯带颜色的设置（1）CRGB RGBcolorName(rVal,gVal,bVal);CHSV颜色设置示例程序拓展（1）程序拓展（2）fill_rainbow()函数示例fill_gradient()函数示例palette色板示例自定义色板ColorFromPalette()函数fadeToBlacBy()函数FastLED.setBrightness()函数random8()函数beatsin8()函数EVERY_N_SECONDS()函数自定义addGlitter()函数LED灯带项目 简介 关于WS2812的简介看这里(https://blog.csdn.net/STCode_G/article/details/111652978?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162858277116780269855155%2522%252C%2522scm%2522%253A%252220140713.130102334…%2522%257D&amp;request_id=162858277116780269855155&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2alltop_positive~default-1-111652978.first_rank_v2_pc_rank_v29&amp;utm_term=ws2812%E7%81%AF%E5%B8%A6&amp;spm=1018.2226.3001.4187)
示例程序 #include &lt;FastLED.h&gt; #define DATA_PIN 3 //设置引脚 #define LED_TYPE WS2812 //灯带类型 #define NUM_LEDS 30 //灯珠数量 #define COLOR_ORDER GRB //灯珠顺序 #define BRIGHTNESS 128 uint8_t max_brightness=128; //最大亮度 CRGB leds[NUM_LEDS]; // 给灯带命名 void setup() { // put your setup code here, to run once: FastLED.addLeds&lt;LED_TYPE,DATA_PIN,COLOR_ORDER&gt;(leds,NUM_LEDS); //初始化灯带 FastLED.setBrightness(max_brightness); //设置灯带亮度 } void loop() { // put your main code here, to run repeatedly: for (int i=0;i&lt;=29;i&#43;&#43;){ leds[i]= CRGB::Red; FastLED.show(); delay(100); leds[i]=CRGB::Black; FastLED." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/327ef04a44140fa500bd663840560311/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-17T23:04:48+08:00" />
<meta property="article:modified_time" content="2021-09-17T23:04:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">arduino学习——WS2812灯带</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>WS2812灯带程序</h4> 
 <ul><li><ul><li><ul><li><a href="#_1" rel="nofollow">简介</a></li><li><a href="#_4" rel="nofollow">示例程序</a></li><li><a href="#1_36" rel="nofollow">程序拓展（1）</a></li><li><a href="#2_54" rel="nofollow">程序拓展（2）</a></li><li><a href="#3fill_solid_78" rel="nofollow">拓展程序（3）---fill_solid()函数</a></li><li><a href="#_203" rel="nofollow">灯带颜色的设置</a></li><li><a href="#1CRGB_RGBcolorNamerValgValbVal_204" rel="nofollow">（1）CRGB RGBcolorName(rVal,gVal,bVal);</a></li><li><a href="#CHSV_374" rel="nofollow">CHSV颜色设置示例</a></li><li><a href="#1_391" rel="nofollow">程序拓展（1）</a></li><li><a href="#2_413" rel="nofollow">程序拓展（2）</a></li><li><a href="#fill_rainbow_436" rel="nofollow">fill_rainbow()函数</a></li><li><a href="#_442" rel="nofollow">示例</a></li><li><a href="#fill_gradient_459" rel="nofollow">fill_gradient()函数</a></li><li><a href="#_468" rel="nofollow">示例</a></li><li><a href="#palette_480" rel="nofollow">palette色板</a></li><li><a href="#_497" rel="nofollow">示例</a></li><li><a href="#_514" rel="nofollow">自定义色板</a></li><li><a href="#ColorFromPalette_542" rel="nofollow">ColorFromPalette()函数</a></li><li><a href="#fadeToBlacBy_548" rel="nofollow">fadeToBlacBy()函数</a></li><li><a href="#FastLEDsetBrightness_551" rel="nofollow">FastLED.setBrightness()函数</a></li><li><a href="#random8_555" rel="nofollow">random8()函数</a></li><li><a href="#beatsin8_562" rel="nofollow">beatsin8()函数</a></li><li><a href="#EVERY_N_SECONDS_576" rel="nofollow">EVERY_N_SECONDS()函数</a></li><li><a href="#addGlitter_585" rel="nofollow">自定义addGlitter()函数</a></li><li><a href="#LED_612" rel="nofollow">LED灯带项目</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h4><a id="_1"></a>简介</h4> 
<p>关于WS2812的简介看这里(https://blog.csdn.net/STCode_G/article/details/111652978?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162858277116780269855155%2522%252C%2522scm%2522%253A%252220140713.130102334…%2522%257D&amp;request_id=162858277116780269855155&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2<sub>all</sub>top_positive~default-1-111652978.first_rank_v2_pc_rank_v29&amp;utm_term=ws2812%E7%81%AF%E5%B8%A6&amp;spm=1018.2226.3001.4187)</p> 
<h4><a id="_4"></a>示例程序</h4> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;FastLED.h&gt;</span>    </span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">DATA_PIN</span> <span class="token expression"><span class="token number">3</span>    </span><span class="token comment">//设置引脚</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">LED_TYPE</span> <span class="token expression">WS2812   </span><span class="token comment">//灯带类型</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">NUM_LEDS</span> <span class="token expression"><span class="token number">30</span>  </span><span class="token comment">//灯珠数量 </span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">COLOR_ORDER</span> <span class="token expression">GRB  </span><span class="token comment">//灯珠顺序</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BRIGHTNESS</span> <span class="token expression"><span class="token number">128</span></span></span>
<span class="token keyword">uint8_t</span> max_brightness<span class="token operator">=</span><span class="token number">128</span><span class="token punctuation">;</span>  <span class="token comment">//最大亮度</span>

CRGB leds<span class="token punctuation">[</span>NUM_LEDS<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// 给灯带命名</span>
<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your setup code here, to run once:</span>
    FastLED<span class="token punctuation">.</span>addLeds<span class="token operator">&lt;</span>LED_TYPE<span class="token punctuation">,</span>DATA_PIN<span class="token punctuation">,</span>COLOR_ORDER<span class="token operator">&gt;</span><span class="token punctuation">(</span>leds<span class="token punctuation">,</span>NUM_LEDS<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//初始化灯带</span>
    FastLED<span class="token punctuation">.</span><span class="token function">setBrightness</span><span class="token punctuation">(</span>max_brightness<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//设置灯带亮度</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">29</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  leds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span> CRGB<span class="token operator">::</span>Red<span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  leds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//实例从第一个灯带起亮红色然后熄灭</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="1_36"></a>程序拓展（1）</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">29</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">29</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">;</span>
    FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>程序会从第一个灯依次点亮直到最后一颗灯，然后又从第一颗灯熄灭</p> 
<h4><a id="2_54"></a>程序拓展（2）</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">28</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  myled<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">;</span>

  myled<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">;</span>

  myled<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">;</span>

  myled<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">;</span>
  myled<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>示例程序每三个依次闪烁红绿蓝</p> 
<h4><a id="3fill_solid_78"></a>拓展程序（3）—fill_solid()函数</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>让所有灯珠以红绿蓝顺序同步点亮闪烁</p> 
<pre><code class="prism language-cpp"><span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>该代码可使第四个灯珠以后的三个灯珠连续闪烁红绿蓝，同样的，我们可以加一个for循环让它动起来</p> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">26</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>NUM_LEDS<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>NUM_LEDS<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Green<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Red<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_203"></a>灯带颜色的设置</h4> 
<h4><a id="1CRGB_RGBcolorNamerValgValbVal_204"></a>（1）CRGB RGBcolorName(rVal,gVal,bVal);</h4> 
<p>此为RGB自定义颜色<br> FastLED颜色名称列表:<br> CRGB::AliceBlue<br> CRGB::Amethyst<br> CRGB::AntiqueWhite<br> CRGB::Aqua<br> CRGB::Aquamarine<br> CRGB::Azure<br> CRGB::Beige<br> CRGB::Bisque<br> CRGB::Black<br> CRGB::BlanchedAlmond<br> CRGB::Blue<br> CRGB::BlueViolet<br> CRGB::Brown<br> CRGB::BurlyWood<br> CRGB::CadetBlue<br> CRGB::Chartreuse<br> CRGB::Chocolate<br> CRGB::Coral<br> CRGB::CornflowerBlue<br> CRGB::Cornsilk<br> CRGB::Crimson<br> CRGB::Cyan<br> CRGB::DarkBlue<br> CRGB::DarkCyan<br> CRGB::DarkGoldenrod<br> CRGB::DarkGray<br> CRGB::DarkGreen<br> CRGB::DarkKhaki<br> CRGB::DarkMagenta<br> CRGB::DarkOliveGreen<br> CRGB::DarkOrange<br> CRGB::DarkOrchid<br> CRGB::DarkRed<br> CRGB::DarkSalmon<br> CRGB::DarkSeaGreen<br> CRGB::DarkSlateBlue<br> CRGB::DarkSlateGray<br> CRGB::DarkTurquoise<br> CRGB::DarkViolet<br> CRGB::DeepPink<br> CRGB::DeepSkyBlue<br> CRGB::DimGray<br> CRGB::DodgerBlue<br> CRGB::FireBrick<br> CRGB::FloralWhite<br> CRGB::ForestGreen<br> CRGB::Fuchsia<br> CRGB::Gainsboro<br> CRGB::GhostWhite<br> CRGB::Gold<br> CRGB::Goldenrod<br> CRGB::Gray<br> CRGB::Green<br> CRGB::GreenYellow<br> CRGB::Honeydew<br> CRGB::HotPink<br> CRGB::IndianRed<br> CRGB::Indigo<br> CRGB::Ivory<br> CRGB::Khaki<br> CRGB::Lavender<br> CRGB::LavenderBlush<br> CRGB::LawnGreen<br> CRGB::LemonChiffon<br> CRGB::LightBlue<br> CRGB::LightCoral<br> CRGB::LightCyan<br> CRGB::LightGoldenrodYellow<br> CRGB::LightGreen<br> CRGB::LightGrey<br> CRGB::LightPink<br> CRGB::LightSalmon<br> CRGB::LightSeaGreen<br> CRGB::LightSkyBlue<br> CRGB::LightSlateGray<br> CRGB::LightSteelBlue<br> CRGB::LightYellow<br> CRGB::Lime<br> CRGB::LimeGreen<br> CRGB::Linen<br> CRGB::Magenta<br> CRGB::Maroon<br> CRGB::MediumAquamarine<br> CRGB::MediumBlue<br> CRGB::MediumOrchid<br> CRGB::MediumPurple<br> CRGB::MediumSeaGreen<br> CRGB::MediumSlateBlue<br> CRGB::MediumSpringGreen<br> CRGB::MediumTurquoise<br> CRGB::MediumVioletRed<br> CRGB::MidnightBlue<br> CRGB::MintCream<br> CRGB::MistyRose<br> CRGB::Moccasin<br> CRGB::NavajoWhite<br> CRGB::Navy<br> CRGB::OldLace<br> CRGB::Olive<br> CRGB::OliveDrab<br> CRGB::Orange<br> CRGB::OrangeRed<br> CRGB::Orchid<br> CRGB::PaleGoldenrod<br> CRGB::PaleGreen<br> CRGB::PaleTurquoise<br> CRGB::PaleVioletRed<br> CRGB::PapayaWhip<br> CRGB::PeachPuff<br> CRGB::Peru<br> CRGB::Pink<br> CRGB::Plaid<br> CRGB::Plum<br> CRGB::PowderBlue<br> CRGB::Purple<br> CRGB::Red<br> CRGB::RosyBrown<br> CRGB::RoyalBlue<br> CRGB::SaddleBrown<br> CRGB::Salmon<br> CRGB::SandyBrown<br> CRGB::SeaGreen<br> CRGB::Seashell<br> CRGB::Sienna<br> CRGB::Silver<br> CRGB::SkyBlue<br> CRGB::SlateBlue<br> CRGB::SlateGray<br> CRGB::Snow<br> CRGB::SpringGreen<br> CRGB::SteelBlue<br> CRGB::Tan<br> CRGB::Teal<br> CRGB::Thistle<br> CRGB::Tomato<br> CRGB::Turquoise<br> CRGB::Violet<br> CRGB::Wheat<br> CRGB::White<br> CRGB::WhiteSmoke<br> CRGB::Yellow<br> CRGB::YellowGreen<br> (2)HSV颜色表达方法<br> HSV颜色简介<br> HSV(Hue, Saturation, Value)是根据颜色的直观特性由A. R. Smith在1978年创建的一种颜色表达方法。该方法中的三个参数分别是：色调（H），饱和度（S），明亮度（V）。</p> 
<p>HSV参数<br> 色调H<br> HSV颜色之色调(H)<br> HSV颜色之色调(H)</p> 
<p>色调参数取值范围为0～255。如上图所示，从红色开始按逆时针方向计算。红色为0，绿色为85,蓝色为170。<br> 饱和度S<br> 饱和度S表示颜色接近光谱色的程度。取值范围为0～255，值越大，颜色越饱和（越接近本色）。值越小，颜色越接近白色。当数值为零时，颜色为白色。</p> 
<p>明亮度V<br> 明亮度V表示颜色明亮的程度，取值范围为0~255。对于FastLED库来说，该数值越大，则控制光带的亮度越亮。反之数值越小，则控制光带的亮度越低。当数值为零时，光带完全熄灭。</p> 
<p>CHSV HSVcolorName(hVal, sVal, vVal)</p> 
<p>参数<br> hVal – 色调数值<br> sVal – 饱和度数值<br> vVal – 明亮度数值</p> 
<h4><a id="CHSV_374"></a>CHSV颜色设置示例</h4> 
<pre><code class="prism language-cpp">CHSV <span class="token function">myHSVcolor</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  myHSVcolor<span class="token punctuation">.</span>h<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>myHSVcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>将产生从0—255的渐变色</p> 
<h4><a id="1_391"></a>程序拓展（1）</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>NUM_LEDS<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>myHSVcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myHSVcolor<span class="token punctuation">.</span>h<span class="token operator">+=</span><span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>NUM_LEDS<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>myHSVcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myHSVcolor<span class="token punctuation">.</span>h<span class="token operator">+=</span><span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>这套代码可以使灯带产生依次渐变色，每种颜色从第一个灯珠开始从头到尾从未到头渐变，</p> 
<h4><a id="2_413"></a>程序拓展（2）</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  myHSVcolor<span class="token punctuation">.</span>h<span class="token operator">+=</span><span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>NUM_LEDS<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>myHSVcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  myHSVcolor<span class="token punctuation">.</span>h<span class="token operator">+=</span><span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span>NUM_LEDS<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>i<span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>myHSVcolor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill_solid</span><span class="token punctuation">(</span>myled<span class="token operator">+</span>i<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span>CRGB<span class="token operator">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>这套代码可使灯带每次亮三个灯珠，显示出弹簧灯的效果</p> 
<h4><a id="fill_rainbow_436"></a>fill_rainbow()函数</h4> 
<p>fill_rainbow(leds, 30, beginHue, deltaHue)<br> 以上语句将leds光带的从头数30个灯珠设置为渐变彩虹色。beginHue参数为起始色调数值。deltaHue为相邻LED灯珠色调差。</p> 
<p>fill_rainbow(leds+5, 30, 0, 1)<br> 以上语句将leds光带的从头数30个灯珠设置为渐变彩虹色。起始色调数值为0。相邻LED灯珠色调差为1。</p> 
<h4><a id="_442"></a>示例</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">uint8_t</span> beginHue<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  beginHue<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token function">fill_rainbow</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span>beginHue<span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>灯带会以渐变彩虹显示</p> 
<h4><a id="fill_gradient_459"></a>fill_gradient()函数</h4> 
<p>fill_gradient_RGB(leds, 0, CRGB::Red, 29, CRGB::Blue)<br> 以上语句将leds光带的从头数30个灯珠设置为渐变色。灯带头部起始颜色为红色。灯带尾部结束颜色为蓝色。灯带中间为由红色到蓝色的渐变色。</p> 
<p>fill_gradient(leds, 0, CHSV(50, 255,255) , 29, CHSV(150,255,255), SHORTEST_HUES)<br> 以上语句将leds光带的从头数30个灯珠设置为渐变色。灯带头部起始颜色为HSV(50, 255,255)色彩。灯带尾部结束颜色为CHSV(150,255,255)色彩。灯带颜色过度采用短色调过渡方式。</p> 
<p>fill_gradient(leds, 0, CHSV(50, 255,255) , 29, CHSV(150,255,255), LONGEST_HUES)<br> 以上语句将leds光带的从头数30个灯珠设置为渐变色。灯带头部起始颜色为HSV(50, 255,255)色彩。灯带尾部结束颜色为CHSV(150,255,255)色彩。灯带颜色过度采用长色调过渡方式。</p> 
<h4><a id="_468"></a>示例</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  <span class="token function">fill_gradient</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token function">CHSV</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token function">CHSV</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LONGEST_HUES<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="palette_480"></a>palette色板</h4> 
<p>(1)<strong>FastLED库函数</strong>fill_palette()函数<br> fill_palette (leds, 30, 0, 8, OceanColors_p, 255, LINEARBLEND )<br> 以上语句将leds光带的从头数30个灯珠设置为渐变色。渐变色的色彩全部来自FastLED预设色板OceanColors_p。灯带头部第一个灯珠的色板色彩序号为0，相邻的两个灯珠见色板色彩序列号差8。色彩过渡为线性过渡效果。</p> 
<p>fill_palette(leds+5, 15, 31, 5, ForestColors_p, 255, LINEARBLEND );<br> 以上语句将leds光带从头数的第6个灯带开始15个灯珠设置为渐变色。渐变色的色彩全部来自FastLED预设色板ForestColors_p。起始色板色彩序号为31，相邻的两个灯珠见色板色彩序列号差5。色彩过渡为线性过渡效果。<br> 系统预设色板列表<br> FastLED库配有8种预设色板。：<br> CloudColors_p<br> LavaColors_p<br> OceanColors_p<br> ForestColors_p<br> RainbowColors_p<br> RainbowStripeColors_p<br> PartyColors_p<br> HeatColors_p</p> 
<h4><a id="_497"></a>示例</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">uint8_t</span> startIndex<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// put your main code here, to run repeatedly:</span>
  startIndex<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token function">fill_palette</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span>NUM_LEDS<span class="token punctuation">,</span>startIndex<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span>ForestColors_p<span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span>LINEARBLEND<span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> 
<p>产生一个流动灯效果</p> 
<h4><a id="_514"></a>自定义色板</h4> 
<p>用户自定义色板<br> 用户自定义RGB色板<br> CRGBPalette16 myColorPalette = CRGBPalette16(<br> CRGB::Green, CRGB::Green, CRGB::Black, CRGB::Black,<br> CRGB::Purple, CRGB::Purple, CRGB::Black, CRGB::Black,<br> CRGB::Green, CRGB::Green, CRGB::Black, CRGB::Black,<br> CRGB::Purple, CRGB::Purple, CRGB::Black, CRGB::Black );</p> 
<p>用户自定义HSV色板<br> CHSVPalette16 myColorPalette = CHSVPalette16 myHSVColorPalette = CHSVPalette16 (<br> CHSV(0, 255, 200), CHSV(15, 255, 200), CHSV(31, 255, 200), CHSV(47, 255, 200),<br> CHSV(0, 255, 0), CHSV(15, 255, 0), CHSV(31, 255, 0), CHSV(47, 255, 0),<br> CHSV(0, 255, 200), CHSV(15, 255, 200), CHSV(31, 255, 200), CHSV(47, 255, 200),<br> CHSV(0, 0, 200), CHSV(15, 0, 200), CHSV(31, 0, 200), CHSV(47, 0, 200));</p> 
<p>用户自定义PROGMEM色板<br> const TProgmemPalette16 myProgmemPalette PROGMEM = {<!-- --><br> CRGB::Red, CRGB::Gray, CRGB::Blue, CRGB::Black,<br> CRGB::Red, CRGB::Gray, CRGB::Blue, CRGB::Black,<br> CRGB::Red, CRGB::Red, CRGB::Gray, CRGB::Gray,<br> CRGB::Blue, CRGB::Blue, CRGB::Black, CRGB::Black };</p> 
<h4><a id="ColorFromPalette_542"></a>ColorFromPalette()函数</h4> 
<p>leds[0] = ColorFromPalette( RainbowColors_p, 0, 128, LINEARBLEND);<br> 以上语句将leds光带的第一个灯珠设置为RainbowColors_p色板中颜色序号为0的颜色（红色）。LED亮度为128。色彩过渡为线性过渡效果（LINEARBLEND）。</p> 
<p>leds[9] = ColorFromPalette( OceanColors_p, 120, 255, LINEARBLEND);<br> 以上语句将leds光带的第十个灯珠设置为OceanColors_p色板中颜色序号为120的颜色。LED亮度为255。色彩过渡为线性过渡效果（LINEARBLEND）。</p> 
<h4><a id="fadeToBlacBy_548"></a>fadeToBlacBy()函数</h4> 
<p>fadeToBlackBy( leds, 30, 10);<br> 以上语句将leds光带的30个灯珠亮度调低10。（注：LED亮度值可选数值范围为0 – 255）</p> 
<h4><a id="FastLEDsetBrightness_551"></a>FastLED.setBrightness()函数</h4> 
<p>FastLED.setBrightness(128);<br> 以上语句将LED亮度设置为128。该亮度为最大亮度(255)的一半左右</p> 
<h4><a id="random8_555"></a>random8()函数</h4> 
<p>random8函数将返回0-255之间的随机数值。返回值最大值可以设置为自定义的0-255间数值<br> random8()<br> 以上语句将返回0-255之间的随机数值。</p> 
<p>random8(10)<br> 以上语句将返回0-9之间的随机数值。</p> 
<h4><a id="beatsin8_562"></a>beatsin8()函数</h4> 
<p>beatsin8可以视作一个信号发生器。它的返回值会沿着正弦曲线返回数值。<br> 参数<br> beats_per_minute： 每分钟产生循环次数<br> lowest： 最小值<br> lowest： 最大值</p> 
<p>示例语句<br> 以下图示为 beatsin8(10, 0, 255) 返回值示意图。↓<br> 这一示例语句中第一个参数为10。这说明此函数所产生的正弦曲线周期时间为6秒（1分钟有60秒，60除以参数10等于6秒钟）。第二个参数为0。这说明此函数所产生的正弦曲线最小返回值为0（如图中绿色数字所示）。第三个参数为255。这说明此函数所产生的正弦曲线最大返回值为255（如图中红色数字所示）。<br> <img src="https://images2.imgbox.com/2a/78/Upkbjp2H_o.png" alt="在这里插入图片描述"><br> 以下图示为 beatsin8(20, 90, 100) 返回值示意图。↓<br> 这一示例语句修改了上面的示例语句的第一个参数。因此示意图中正弦曲线周期时间由6秒变为3秒（如图中绿色蓝字所示）。<br> <img src="https://images2.imgbox.com/1f/4d/fVrXHgwr_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="EVERY_N_SECONDS_576"></a>EVERY_N_SECONDS()函数</h4> 
<p>EVERY_N_SECONDS函数所包含的程序内容将定时执行。执行时间间隔由函数参数决定。<br> 用法<br> EVERY_N_SECONDS（10）<br> 以上函数所包含的程序内容将定时执行，执行时间间隔为10秒钟。</p> 
<p>EVERY_N_SECONDS（1）<br> 以上函数所包含的程序内容将定时执行，执行时间间隔为1秒钟。</p> 
<h4><a id="addGlitter_585"></a>自定义addGlitter()函数</h4> 
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token function">fill_gradient</span><span class="token punctuation">(</span>myled<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token function">CHSV</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token function">CHSV</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>LONGEST_HUES<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">addGlitter</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  FastLED<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">addGlitter</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> chanceOfGlitter<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">random8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>chanceOfGlitter<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    myled<span class="token punctuation">[</span><span class="token function">random8</span><span class="token punctuation">(</span>NUM_LEDS<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span>CRGB<span class="token operator">::</span>White<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>/*<br> – addGlitter 函数说明(WWW.TAICHI-MAKER.COM) –<br> random8()的返回值是0-255之间的随机整数。当random8()返回值小于<br> 用户传递到addGlitter函数中的chanceOfGlitter参数时，Arduino将在任意<br> leds灯带上的任意序号灯珠（leds[ random8(NUM_LEDS) ] ）上<br> 显示白色（ CRGB::White）。否则addGlitter函数将不进行任何操作而返回。</p> 
<p>基于以上原因，如果用户传递到addGlitter函数中的chanceOfGlitter参数越大，<br> 则产生随机点亮闪烁效果的机会也就越大。</p> 
<p>通过以上操作，灯带将产生随机点亮LED为白色的效果，犹如星光闪烁。<br> */</p> 
<h4><a id="LED_612"></a>LED灯带项目</h4> 
<p>这一部分是将所学部分应用，并且还有我自己的一些体会和问题<br> 首先我参考了<strong>太极创客</strong>的方法，在项目下建立库文件，这些库文件可以存放我的函数，而实现这个库文件我是用<strong>Visuo Studio</strong>这个编译软件创建源文件“xxx.h”，然后将这个文件移动到和这个项目同一个目录下面，然后将函数写在库里面，这里说一说我遇到的问题，我将<code>#include “addglitter”</code>写入并验证时出现了一个错误““myled” was not clear in this scope”,熟悉C语言的人都知道，这是变量范围出现了问题，之后我回看太极创客的代码，发现他的全局变量定义为<code>struct myled[NUM_LEDS]</code>,可是还是不行，最终我一一对比我的代码和他的代码发现了一个十分细微的差别，他的代码中，<code>#include ”addglitter“</code>位于所有的变量之后，而我的则是写在代买开头，修改后也确实可行，但我不懂这个问题，网上也没查到，所以写在这里有机会请教大佬。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/233bc218d96b688c78a5232ab1047f7a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">华为云CPU架构鲲鹏计算ARM服务器架构详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1e7c87bff67da38acec188ece13de3e1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">7.数仓项目经验—基准测试</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>