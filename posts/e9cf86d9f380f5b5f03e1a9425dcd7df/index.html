<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>RFBNet 代码复现笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="RFBNet 代码复现笔记" />
<meta property="og:description" content="RFBNet 代码复现笔记 1.准备工作 （1）下载RFBNet
git clone https://github.com/ruinmessi/RFBNet 环境配置需要pytorch0.4.0和python3&#43;，网上有安装方式，不做赘述
（2）编译
cd RFBNet ./make.sh 编译时注意修改make.sh文件，cuda 的路径要与自己安装路径相同，python版本要对应python3以上。
作者提到在 utils/build.py 里面需要根据自己电脑的GPU算力修改对应的值，不知道具体算力值的可以百度，有详细的说明。
(4)准备数据集
代码复现支持两种数据集，分别是VOC和COCO，下载过程如下:
cd RFBNet sh data/scripts/VOC2007.sh #该文件将VOC2007数据集自动下载整理好，但下载速度慢，建议自行下载 sh data/scripts/VOC2012.sh #该文件将VOC2012数据集自动下载整理好，但下载速度慢，建议自行下载 COCO数据集较大，建议自行下载，可以使用迅雷之类的下载工具，速度比较快。
2.训练 （1）预训练模型下载
mkdir weights cd weights wget https://s3.amazonaws.com/amdegroot-models/vgg16_reducedfc.pth （2）训练
python train_RFB.py -d VOC -v RFB_vgg -s 300 -d 选择数据集，VOC，或者COCO
-v 选择主干网络的类型，RFB_VGG, RFB_E_VGG ，RFB_mobile
-s 输入图片的尺寸，300或512
在训练过程可以指定从断点继续训练，只要指定训练权重即可。
作者代码不提供可视化检测结果，这个有点伤。
3.评估 python test_RFB.py -d VOC -v RFB_vgg -s 300 --trained_model /path/to/model/weights 默认评估的是VOC2007或者COCOtminival2014 的测试集，想要评估其他的数据集，修改test_RFB.py
训练好的权重：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e9cf86d9f380f5b5f03e1a9425dcd7df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-10T23:16:34+08:00" />
<meta property="article:modified_time" content="2019-12-10T23:16:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">RFBNet 代码复现笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="RFBNet__0"></a>RFBNet 代码复现笔记</h3> 
<h4><a id="1_2"></a>1.准备工作</h4> 
<p>（1）下载RFBNet</p> 
<pre><code class="prism language-bash"><span class="token function">git</span> clone https://github.com/ruinmessi/RFBNet
</code></pre> 
<p>环境配置需要pytorch0.4.0和python3+，网上有安装方式，不做赘述</p> 
<p>（2）编译</p> 
<pre><code class="prism language-bash"><span class="token function">cd</span> RFBNet
./make.sh
</code></pre> 
<p>编译时注意修改make.sh文件，cuda 的路径要与自己安装路径相同，python版本要对应python3以上。<br> <img src="https://images2.imgbox.com/6c/44/frqkPojc_o.png" alt="在这里插入图片描述">作者提到在 utils/build.py 里面需要根据自己电脑的GPU算力修改对应的值，不知道具体算力值的可以百度，有详细的说明。<br> <img src="https://images2.imgbox.com/2d/a8/R2rmVL6b_o.png" alt="在这里插入图片描述">(4)准备数据集<br> 代码复现支持两种数据集，分别是VOC和COCO，下载过程如下:</p> 
<pre><code class="prism language-bash"><span class="token function">cd</span> RFBNet
sh data/scripts/VOC2007.sh    <span class="token comment">#该文件将VOC2007数据集自动下载整理好，但下载速度慢，建议自行下载</span>
sh data/scripts/VOC2012.sh    <span class="token comment">#该文件将VOC2012数据集自动下载整理好，但下载速度慢，建议自行下载</span>
</code></pre> 
<p>COCO数据集较大，建议自行下载，可以使用迅雷之类的下载工具，速度比较快。</p> 
<h4><a id="2_28"></a>2.训练</h4> 
<p>（1）预训练模型下载</p> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> weights
<span class="token function">cd</span> weights
<span class="token function">wget</span> https://s3.amazonaws.com/amdegroot-models/vgg16_reducedfc.pth
</code></pre> 
<p>（2）训练</p> 
<pre><code class="prism language-bash">python train_RFB.py -d VOC -v RFB_vgg -s 300 
</code></pre> 
<p>-d 选择数据集，VOC，或者COCO<br> -v 选择主干网络的类型，RFB_VGG, RFB_E_VGG ，RFB_mobile<br> -s 输入图片的尺寸，300或512<br> 在训练过程可以指定从断点继续训练，只要指定训练权重即可。</p> 
<p><img src="https://images2.imgbox.com/9c/48/6IqFXL1G_o.png" alt="在这里插入图片描述">作者代码不提供可视化检测结果，这个有点伤。</p> 
<h4><a id="3_47"></a>3.评估</h4> 
<pre><code class="prism language-bash">python test_RFB.py -d VOC -v RFB_vgg -s 300 --trained_model /path/to/model/weights
</code></pre> 
<p>默认评估的是VOC2007或者COCOtminival2014 的测试集，想要评估其他的数据集，修改test_RFB.py<br> <img src="https://images2.imgbox.com/e2/7b/FTIL97jU_o.png" alt="在这里插入图片描述"><br> 训练好的权重：<br> <a href="https://pan.baidu.com/s/1xOp3_FDk49YlJ-6C-xQfHw" rel="nofollow">VOC07+12</a><br> 其他的在github上有，自行下载</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/45322826b930f0bec250cab15ae5f220/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">22. flowable 驳回 回退 并行网关驳回  多实例驳回 子流程驳回</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/10c7daf2d8a7bdc2fd06c762fef4739b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java.lang.String 的 &#43; 号操作到底做了什么事情？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>