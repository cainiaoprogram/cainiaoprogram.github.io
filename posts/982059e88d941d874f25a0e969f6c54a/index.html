<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>前端面试——回调、Promise、Generator和async-await - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="前端面试——回调、Promise、Generator和async-await" />
<meta property="og:description" content="首先我们回顾一下javascript异步的发展历程。
ES6 以前：
回调函数（callback）：nodejs express 中常用，ajax中常用。
ES6：
promise对象：nodejs最早有bluebird promise的雏形，axios中常用。
generator函数：nodejs koa框架使用率很高。
ES7:
async/await语法：当前最常用的异步语法，nodejs koa2 完全使用该语法。
回调函数CALLBACK：
将一个函数当做参数传到另一个函数里，当那个函数执行完后，再执行传进去的这个函数；这个过程就叫做回调。
Promise对象：
promise 对象用于一个异步操作的最终完成（或最终失败）及其结果的表示。
简单地说就是处理一个异步请求。我们经常会做些断言，如果我赢了你就嫁给我，如果输了我就嫁给你之类的断言。
这就是promise的中文含义：断言，一个成功，一个失败。
举个例子，方便大家理解：
promise构造函数的参数是一个函数，我们把它称为处理器函数。
处理器函数接收两个函数reslove和reject作为其参数，当异步操作顺利执行则执行reslove函数, 当异步操作中发生异常时，则执行reject函数。
async-await
async函数返回一个promise对象，如果在async函数中返回一个直接量，async会通过Promise.resolve封装成Promise对象。
我们可以通过调用promise对象的then方法，获取这个直接量。
await会暂停当前async的执行，await会阻塞代码的执行，直到await后的表达式处理完成，代码才能继续往下执行。
await后的表达式既可以是一个Promise对象，也可以是任何要等待的值。
如果await等到的是一个 Promise 对象，await 就忙起来了，它会阻塞后面的代码，等着 Promise 对象 resolve，然后得到 resolve 的值，作为 await 表达式的运算结果。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/982059e88d941d874f25a0e969f6c54a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-19T21:34:26+08:00" />
<meta property="article:modified_time" content="2018-09-19T21:34:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">前端面试——回调、Promise、Generator和async-await</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>首先我们回顾一下javascript异步的发展历程。</p> 
<p>ES6 以前：</p> 
<p>　　回调函数（callback）：nodejs express 中常用，ajax中常用。</p> 
<p>ES6：</p> 
<p>　　promise对象：nodejs最早有bluebird promise的雏形，axios中常用。</p> 
<p>　　generator函数：nodejs koa框架使用率很高。</p> 
<p>ES7:</p> 
<p>　　async/await语法：当前最常用的异步语法，nodejs koa2 完全使用该语法。</p> 
<p> </p> 
<p><strong>回调函数CALLBACK：</strong></p> 
<p><strong>将一个函数当做参数传到另一个函数里，当那个函数执行完后，再执行传进去的这个函数</strong>；<strong>这个过程就叫做回调。</strong></p> 
<p><img alt="" class="has" height="231" src="https://images2.imgbox.com/b8/dc/Kgnbe7ka_o.png" width="487"></p> 
<p><img alt="" class="has" height="117" src="https://images2.imgbox.com/0c/a2/9LaLrr3V_o.png" width="406"></p> 
<p><strong>Promise对象：</strong></p> 
<p>promise 对象用于一个异步操作的最终完成（或最终失败）及其结果的表示。</p> 
<p>简单地说就是处理一个异步请求。我们经常会做些断言，如果我赢了你就嫁给我，如果输了我就嫁给你之类的断言。</p> 
<p>这就是promise的中文含义：断言，一个成功，一个失败。</p> 
<p>举个例子，方便大家理解：</p> 
<p>promise构造函数的参数是一个函数，我们把它称为处理器函数。</p> 
<p>处理器函数接收两个函数reslove和reject作为其参数，当异步操作顺利执行则执行reslove函数, 当异步操作中发生异常时，则执行reject函数。</p> 
<p><img alt="" class="has" height="203" src="https://images2.imgbox.com/ee/bf/N5y8dc0Z_o.png" width="640"></p> 
<p> </p> 
<p><img alt="" class="has" height="218" src="https://images2.imgbox.com/21/c3/fnJdFr14_o.png" width="506"></p> 
<p><img alt="" class="has" height="159" src="https://images2.imgbox.com/4f/26/43DRDPVf_o.png" width="442"></p> 
<p> </p> 
<p><strong>async-await</strong></p> 
<p>async函数返回一个promise对象，如果在async函数中返回一个直接量，async会通过Promise.resolve封装成Promise对象。<br> 我们可以通过调用promise对象的then方法，获取这个直接量。</p> 
<p><img alt="" class="has" height="151" src="https://images2.imgbox.com/de/ab/iIVzUjx4_o.png" width="455"></p> 
<p><img alt="" class="has" height="245" src="https://images2.imgbox.com/18/42/2X43TUfQ_o.png" width="410"></p> 
<p><strong>await</strong>会暂停当前async的执行，await会阻塞代码的执行，直到await后的表达式处理完成，代码才能继续往下执行。</p> 
<p>await后的表达式既可以是一个Promise对象，也可以是任何要等待的值。</p> 
<p>如果await等到的是一个 Promise 对象，await 就忙起来了，它会阻塞后面的代码，等着 Promise 对象 resolve，然后得到 resolve 的值，作为 await 表达式的运算结果。</p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/51e210ca19f1d79ae8329fe7a8cf357d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Conference Partner 会议</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e74c1fe8e8726007d6cd6f911909c7c3/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">你不知道的 Electron (二)：了解 Electron 打包</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>