<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>递归算法 —— Hanoi汉诺塔游戏 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="递归算法 —— Hanoi汉诺塔游戏" />
<meta property="og:description" content="前言 博客主页：干脆面la的主页
gitte链接：干脆面la的gitee仓库
刚学习完递归函数接触汉诺塔问题的时候，汉诺塔问题困扰了我很久。博主花了很长时间理解这道题目，因此整理出了用递归解决汉诺塔问题的思路，希望对大家有所帮助。
如果认为博主的文章对你有所帮助欢迎三连加关注你们的支持是我最大的动力！ 目录
前言
1 汉诺塔的由来
2 图解1~3个圆盘的汉诺塔
2.1 1个圆盘的移动
2.2 2个圆盘的移动 2.3 3个圆盘的移动
3 核心思路 4 代码实现
4.1 模拟移动的过程
4.2 Hanoi的递归代码
4.3 完整代码
4.4 运行结果
5 总结
正文开始... 1 汉诺塔的由来 汉诺塔：汉诺塔（又称河内塔）问题是源于印度一个古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着 64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。
2 图解1~3个圆盘的汉诺塔 2.1 1个圆盘的移动 移动1次：A-&gt;C
2.2 2个圆盘的移动 移动3次：A-&gt;B A-&gt;C B-&gt;C
2.3 3个圆盘的移动 移动7次：A-&gt;C A-&gt;B C-&gt;B A-&gt;C B-&gt;A B-&gt;C A-&gt;C
3 核心思路 对于三个圆盘以上的汉诺塔游戏便开始愈加困难，但是通过递归的思想我们可以将一个极其复杂的步骤简化为一个简单的步骤。
对比这三幅图，我们发现从2个圆盘开始，它们都必须经历的操作就是：(1)使n-1个圆盘整体移动到B柱（中转位置）上，(2)再使第n个圆盘移动到C柱（目的位置）上，(3)再将n-1个圆盘整体移动到C柱（目的位置）上。
上一操作中的第(1)步又可以细分到：将n-2个圆盘通过 (1)使n-2个圆盘整体移动到C柱（中转位置）上，(2)再使第n-1个圆盘移动到B柱（目的位置）上，(3)再将n-2个圆盘整体移动到B柱（目的位置）上。
上一操作中的第(3)步又可以细分到：将n-2个圆盘通过 (1)使n-2个圆盘整体移动到A柱（中转位置）上，(2)再使第n-1个圆盘移动到C柱（目的位置）上，(3)再将n-2个圆盘整体移动到C柱（目的位置）上。
以此类推......
综上所述：本题应该使用递归的方法，让题目化繁从简，使一个极其复杂的步骤简化为简单的步骤。
4 代码实现 4.1 模拟移动的过程 void move(char pos1, char pos2) { printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ca48ceadfc8b487fd420a81bdd38421a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-13T13:35:54+08:00" />
<meta property="article:modified_time" content="2022-01-13T13:35:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">递归算法 —— Hanoi汉诺塔游戏</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <h2 id="%E5%89%8D%E8%A8%80"><strong>前言</strong></h2> 
 <hr> 
 <p><strong>博客主页：</strong><a href="https://blog.csdn.net/m0_63303316?spm=1000.2115.3001.5343" title="干脆面la的主页">干脆面la的主页</a></p> 
 <p><strong>gitte链接：</strong><a class="link-info" href="https://gitee.com/sj135433/projects" rel="nofollow" title="干脆面la的gitee仓库">干脆面la的gitee仓库</a></p> 
 <p>      刚学习完递归函数接触汉诺塔问题的时候，汉诺塔问题困扰了我很久。博主花了很长时间理解这道题目，因此整理出了用递归解决汉诺塔问题的思路，希望对大家有所帮助。</p> 
 <ul><li>如果认为博主的文章对你有所帮助</li><li>欢迎三连加关注</li><li>你们的支持是我最大的动力！ </li></ul> 
</blockquote> 
<p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="1%C2%A0%E6%B1%89%E8%AF%BA%E5%A1%94%E7%9A%84%E7%94%B1%E6%9D%A5-toc" style="margin-left:40px;"><a href="#1%C2%A0%E6%B1%89%E8%AF%BA%E5%A1%94%E7%9A%84%E7%94%B1%E6%9D%A5" rel="nofollow">1 汉诺塔的由来</a></p> 
<p id="%C2%A02%20%E5%9B%BE%E8%A7%A31~3%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E6%B1%89%E8%AF%BA%E5%A1%94-toc" style="margin-left:40px;"><a href="#%C2%A02%20%E5%9B%BE%E8%A7%A31~3%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E6%B1%89%E8%AF%BA%E5%A1%94" rel="nofollow"> 2 图解1~3个圆盘的汉诺塔</a></p> 
<p id="2.1%201%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8-toc" style="margin-left:80px;"><a href="#2.1%201%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8" rel="nofollow">2.1 1个圆盘的移动</a></p> 
<p id="2.2%202%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8%C2%A0-toc" style="margin-left:80px;"><a href="#2.2%202%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8%C2%A0" rel="nofollow">2.2 2个圆盘的移动 </a></p> 
<p id="2.3%203%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8-toc" style="margin-left:80px;"><a href="#2.3%203%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8" rel="nofollow">2.3 3个圆盘的移动</a></p> 
<p id="3%20%E6%A0%B8%E5%BF%83%E6%80%9D%E8%B7%AF%C2%A0-toc" style="margin-left:40px;"><a href="#3%20%E6%A0%B8%E5%BF%83%E6%80%9D%E8%B7%AF%C2%A0" rel="nofollow">3 核心思路 </a></p> 
<p id="%C2%A04%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0-toc" style="margin-left:40px;"><a href="#%C2%A04%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" rel="nofollow"> 4 代码实现</a></p> 
<p id="4.1%20%E6%A8%A1%E6%8B%9F%E7%A7%BB%E5%8A%A8%E7%9A%84%E8%BF%87%E7%A8%8B-toc" style="margin-left:80px;"><a href="#4.1%20%E6%A8%A1%E6%8B%9F%E7%A7%BB%E5%8A%A8%E7%9A%84%E8%BF%87%E7%A8%8B" rel="nofollow">4.1 模拟移动的过程</a></p> 
<p id="4.2%20Hanoi%E7%9A%84%E9%80%92%E5%BD%92%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#4.2%20Hanoi%E7%9A%84%E9%80%92%E5%BD%92%E4%BB%A3%E7%A0%81" rel="nofollow">4.2 Hanoi的递归代码</a></p> 
<p id="4.3%20%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#4.3%20%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81" rel="nofollow">4.3 完整代码</a></p> 
<p id="4.4%20%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C-toc" style="margin-left:80px;"><a href="#4.4%20%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C" rel="nofollow">4.4 运行结果</a></p> 
<p id="%C2%A05%20%E6%80%BB%E7%BB%93-toc" style="margin-left:40px;"><a href="#%C2%A05%20%E6%80%BB%E7%BB%93" rel="nofollow"> 5 总结</a></p> 
<hr id="hr-toc"> 
<p>正文开始... </p> 
<h3 id="1%C2%A0%E6%B1%89%E8%AF%BA%E5%A1%94%E7%9A%84%E7%94%B1%E6%9D%A5"><span style="color:#4da8ee;">1 汉诺塔的由来</span></h3> 
<p>汉诺塔：汉诺塔（又称河内塔）问题是源于印度一个古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着 64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始<span style="color:#fe2c24;">按大小顺序</span>重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间<span style="color:#fe2c24;">一次只能移动一个圆盘</span>。<img alt="" height="357" src="https://images2.imgbox.com/37/b3/XKawrM0x_o.png" width="538"></p> 
<hr> 
<h3 id="%C2%A02%20%E5%9B%BE%E8%A7%A31~3%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E6%B1%89%E8%AF%BA%E5%A1%94"> <span style="color:#4da8ee;">2 图解1~3个圆盘的汉诺塔</span></h3> 
<blockquote> 
 <h4 id="2.1%201%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8"><span style="color:#956fe7;">2.1 1个圆盘的移动</span></h4> 
 <p><span style="color:#956fe7;">移动1次：A-&gt;C</span></p> 
 <p><img alt="" height="278" src="https://images2.imgbox.com/3b/3c/VR58Vdvg_o.png" width="476"></p> 
 <hr> 
 <h4 id="2.2%202%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8%C2%A0"><span style="color:#956fe7;">2.2 2个圆盘的移动 </span></h4> 
 <p><span style="color:#956fe7;">移动3次：A-&gt;B  A-&gt;C  B-&gt;C</span></p> 
 <p><img alt="" height="875" src="https://images2.imgbox.com/43/ae/9RH4BJf9_o.png" width="1200"></p> 
 <hr> 
 <h4 id="2.3%203%E4%B8%AA%E5%9C%86%E7%9B%98%E7%9A%84%E7%A7%BB%E5%8A%A8"><span style="color:#956fe7;">2.3 3个圆盘的移动</span></h4> 
 <p><span style="color:#956fe7;">移动7次：A-&gt;C  A-&gt;B  C-&gt;B  A-&gt;C  B-&gt;A  B-&gt;C  A-&gt;C</span></p> 
 <p><img alt="" height="821" src="https://images2.imgbox.com/26/64/IO5tFwuu_o.png" width="1200"></p> 
</blockquote> 
<hr> 
<h3 id="3%20%E6%A0%B8%E5%BF%83%E6%80%9D%E8%B7%AF%C2%A0"><span style="color:#4da8ee;">3 核心思路 </span></h3> 
<blockquote> 
 <p>对于三个圆盘以上的汉诺塔游戏便开始愈加困难，但是通过递归的思想我们可以将一个极其复杂的步骤简化为一个简单的步骤。</p> 
 <p>对比这三幅图，我们发现从2个圆盘开始，它们都必须经历的操作就是：(1)使n-1个圆盘整体移动到B柱<span style="color:#956fe7;">（中转位置）</span>上，(2)再使第n个圆盘移动到C柱<span style="color:#956fe7;">（目的位置）</span>上，(3)再将n-1个圆盘整体移动到C柱<span style="color:#956fe7;">（目的位置）</span>上。</p> 
 <p><img alt="" height="831" src="https://images2.imgbox.com/c3/b9/wqjAW0Lg_o.png" width="1200"></p> 
 <p>上一操作中的第(1)步又可以细分到：将n-2个圆盘通过 (1)使n-2个圆盘整体移动到C柱<span style="color:#956fe7;">（中转位置）</span>上，(2)再使第n-1个圆盘移动到B柱<span style="color:#956fe7;">（目的位置）</span>上，(3)再将n-2个圆盘整体移动到B柱<span style="color:#956fe7;">（目的位置）</span>上。</p> 
 <p>上一操作中的第(3)步又可以细分到：将n-2个圆盘通过 (1)使n-2个圆盘整体移动到A柱<span style="color:#956fe7;">（中转位置）</span>上，(2)再使第n-1个圆盘移动到C柱<span style="color:#956fe7;">（目的位置）</span>上，(3)再将n-2个圆盘整体移动到C柱<span style="color:#956fe7;">（目的位置）</span>上。</p> 
 <p>以此类推......</p> 
 <p>综上所述：本题应该使用递归的方法，让题目化繁从简，使一个极其复杂的步骤简化为简单的步骤。</p> 
</blockquote> 
<hr> 
<h3 id="%C2%A04%20%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span style="color:#4da8ee;"> 4 代码实现</span></h3> 
<blockquote> 
 <h4 id="4.1%20%E6%A8%A1%E6%8B%9F%E7%A7%BB%E5%8A%A8%E7%9A%84%E8%BF%87%E7%A8%8B"><span style="color:#956fe7;">4.1 模拟移动的过程</span></h4> 
 <pre><code class="language-cpp">void move(char pos1, char pos2)
{
	printf(" %c-&gt;%c ", pos1, pos2);
}</code></pre> 
 <hr> 
 <h4 id="4.2%20Hanoi%E7%9A%84%E9%80%92%E5%BD%92%E4%BB%A3%E7%A0%81"><span style="color:#956fe7;">4.2 Hanoi的递归代码</span></h4> 
 <p><span style="color:#1c7331;">n:盘子个数 pos1:起始位置 pos2:中转位置 pos3:最终位置</span></p> 
 <pre><code class="language-cpp">void Hanoi(int n, char pos1, char pos2, char pos3)
{
	//如果只有一个盘子，只需要将盘子从起始位置移动到目的位置上
	if (n == 1)
	{
		move(pos1, pos3);
	}
	//如果有n(n&gt;=2)个盘子，则需要将n个盘子通过中转位置移动到目的位置上
	else
	{
		//将n-1个盘子通过中转位置移动到目的位置上
		Hanoi(n - 1, pos1, pos3, pos2);
		//将第n个移动到目的位置上
		move(pos1, pos3);
		//将n-1个盘子通过中转位置移动到目的位置上
		Hanoi(n - 1, pos2, pos1, pos3);
	}
}
int main()
{
	Hanoi(1, 'A', 'B', 'C');
	printf("\n");
	Hanoi(2, 'A', 'B', 'C');
	printf("\n");
	Hanoi(3, 'A', 'B', 'C');
	printf("\n");
	return 0;
}</code></pre> 
 <hr> 
 <h4 id="4.3%20%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81"><span style="color:#956fe7;">4.3 完整代码</span></h4> 
 <pre><code class="language-cpp">void move(char pos1, char pos2)
{
	printf(" %c-&gt;%c ", pos1, pos2);
}
//     n:盘子个数 pos1:起始位置 pos2:中转位置 pos3:最终位置
void Hanoi(int n, char pos1, char pos2, char pos3)
{
	//如果只有一个盘子，只需要将盘子从起始位置移动到目的位置上
	if (n == 1)
	{
		move(pos1, pos3);
	}
	//如果有n(n&gt;=2)个盘子，则需要将n个盘子通过中转位置移动到目的位置上
	else
	{
		//将n-1个盘子通过中转位置移动到目的位置上
		Hanoi(n - 1, pos1, pos3, pos2);
		//将第n个移动到目的位置上
		move(pos1, pos3);
		//将n-1个盘子通过中转位置移动到目的位置上
		Hanoi(n - 1, pos2, pos1, pos3);
	}
}
int main()
{
	Hanoi(1, 'A', 'B', 'C');
	printf("\n");
	Hanoi(2, 'A', 'B', 'C');
	printf("\n");
	Hanoi(3, 'A', 'B', 'C');
	printf("\n");
	return 0;
}</code></pre> 
 <hr> 
 <h4 id="4.4%20%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C"><span style="color:#956fe7;">4.4 运行结果</span></h4> 
 <p><img alt="" height="1050" src="https://images2.imgbox.com/51/f7/ZNYFx6ds_o.png" width="1200"></p> 
 <p><img alt="" height="153" src="https://images2.imgbox.com/a7/59/mywlh4CH_o.png" width="1099"></p> 
 <p> 答案和我们预想的结果使相同的，通过这样简洁的代码，我们真的解决了汉诺塔问题。</p> 
</blockquote> 
<p></p> 
<h3 id="%C2%A05%20%E6%80%BB%E7%BB%93"><span style="color:#4da8ee;"> 5 总结</span></h3> 
<blockquote> 
 <p><span style="color:#0d0016;">问：当我们把盘子的个数改为64，会发生什么呢？</span></p> 
 <p><img alt="" height="1021" src="https://images2.imgbox.com/ab/3c/2a9HipwE_o.png" width="1200"></p> 
 <p>答： 结果是发现我们的程序一直在不停的运行，并打印出密密麻麻的移动过程，原因是64个圆盘的移动实在是太复杂了。</p> 
 <p>由上面分析我们得知</p> 
 <p>1个圆盘: A-&gt;C   1次：2^1-1<br> 2个圆盘: A-&gt;B A-&gt;C B-&gt;C   3次：2^2-1<br> 3个圆盘: A-&gt;C A-&gt;B C-&gt;B A-&gt;C B-&gt;A B-&gt;C A-&gt;C   7次：2^3-1</p> 
 <p>那么64个圆盘也就是：需要移动2^64-1次，如下图：</p> 
 <p><img alt="" height="285" src="https://images2.imgbox.com/df/70/oEqfqh8K_o.png" width="727"></p> 
 <p> 假设婆罗门一秒移动一次圆盘，并且在日夜不休的情况下，则需要移动583344215029年。预言说——当这些盘子移动完毕时，世界就将在一声霹雳中消灭，而梵塔、庙宇和众生也都将<strong>同归于尽，尘归尘，土归土</strong>。<img alt="" height="315" src="https://images2.imgbox.com/0b/2e/RtQnt51i_o.png" width="729"></p> 
 <p> 而对于一个普通的计算机来说，要解决64个圆盘的汉诺塔问题也需要耗费上百年的时间，因此才会出现这样的结果。</p> 
 <hr> 
 <p>本次的汉诺塔游戏就讲到这啦~</p> 
 <p>(完)</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3308b8ca384725580a4421422ba9421e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">常用公式latex记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ed481ae62de32b91004927f47aab3e85/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android版QQ的实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>