<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Dubbo入门实战最全攻略（基于 Spring Boot 实现） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Dubbo入门实战最全攻略（基于 Spring Boot 实现）" />
<meta property="og:description" content="Dubbo应用 RPC通信
Apache Dubbo 3构建在 HTTP/2 协议之上，具有更好的穿透性与通用性 ， 支持基于 IDL 的服务定义
集成了业界主流的大部分协议，使得用户可以在 Dubbo 框架范围内使用这些通信协议 ， 这些协议包括 rest、hessian2、jsonrpc、thrift 等
服务发现
即消费端自动发现服务地址列表的能力，是微服务框架需要具备的关键能力，借助于自动化的服务发现，微服务之间可以在无需感知对端部署位置与 IP 地址的情况下实现通信
Dubbo 提供的是一种 Client-Based 的服务发现机制，通常还需要部署额外的第三方注册中心组件来协调服务发现过程，如常用的 Nacos、Consul、Zookeeper 等，Dubbo 自身也提供了对多种注册中心组件的对接，用户可以灵活选择
Dubbo服务注册与发现过程如下图（图片来自官网）：
流量治理
Dubbo 提供了丰富服务治理规则，包括路由规则、动态配置等
部署架构
Dubbo 作为一个微服务框架，为在分布式环境下实现各个微服务组件间的协作，定义了一系列中心化组件，包括
注册中心：协调服务提供者（Provider）和服务消费者（Consumer）之间的地址注册与发现
配置中心：
存储 Dubbo 启动阶段的全局配置，保证配置的跨环境共享与全局一致性
负责服务治理规则（路由规则、动态配置等）的存储与推送
元数据中心：
接收 Provider 上报的服务接口元数据，为 Admin 等控制台提供运维能力（如服务测试、接口文档等）
作为服务发现机制的补充，提供额外的接口/方法级别配置信息的同步能力，相当于注册中心的额外扩展
下图描述了Dubbo各服务组件间协调的交互图（图片来自官网）：
其他内容
可以参考官网的”什么是Dubbo?”内容，
https://dubbo.incubator.apache.org/zh/overview/what/
Dubbo示例 需求
构建一个基于用户的CRUD服务
服务提供者（Provider）根据契约提供服务
服务消费者（Consumer）根据契约消费服务
服务消费者（Consumer）以泛化方式消费服务
实现逻辑
分别开发如下项目，实现需求（如上图）
服务接口项目：定义的服务规范IUserService、公共实体类UserEntity
服务提供者（Provider）项目：
引入Nacos注册依赖
添加注册到指定Nacos服务注册中心的配置
引入契约接口依赖
定义UserService服务实现，定义实际的业务逻辑，继承于IUserService，并使用公共实体类UserEntity
服务消费者（Consumer）项目：
引入Nacos注册依赖" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dbbcae23f9082358d71f1f610727d94a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-12T14:07:18+08:00" />
<meta property="article:modified_time" content="2022-08-12T14:07:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Dubbo入门实战最全攻略（基于 Spring Boot 实现）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="Dubbo_0"></a>Dubbo应用</h3> 
<p><strong>RPC通信</strong></p> 
<p>Apache Dubbo 3构建在 HTTP/2 协议之上，具有更好的穿透性与通用性 ， 支持基于 IDL 的服务定义</p> 
<p>集成了业界主流的大部分协议，使得用户可以在 Dubbo 框架范围内使用这些通信协议 ， 这些协议包括 rest、hessian2、jsonrpc、thrift 等</p> 
<p><strong>服务发现</strong></p> 
<p>即消费端自动发现服务地址列表的能力，是微服务框架需要具备的关键能力，借助于自动化的服务发现，微服务之间可以在无需感知对端部署位置与 IP 地址的情况下实现通信</p> 
<p>Dubbo 提供的是一种 Client-Based 的服务发现机制，通常还需要部署额外的第三方注册中心组件来协调服务发现过程，如常用的 Nacos、Consul、Zookeeper 等，Dubbo 自身也提供了对多种注册中心组件的对接，用户可以灵活选择</p> 
<p>Dubbo服务注册与发现过程如下图（图片来自官网）：<br> <img src="https://images2.imgbox.com/03/c5/f4tiviUJ_o.png" alt="在这里插入图片描述"><br> <strong>流量治理</strong></p> 
<p>Dubbo 提供了丰富服务治理规则，包括路由规则、动态配置等</p> 
<p>部署架构</p> 
<p>Dubbo 作为一个微服务框架，为在分布式环境下实现各个微服务组件间的协作，定义了一系列中心化组件，包括</p> 
<p>注册中心：协调服务提供者（Provider）和服务消费者（Consumer）之间的地址注册与发现</p> 
<p><strong>配置中心：</strong></p> 
<p>存储 Dubbo 启动阶段的全局配置，保证配置的跨环境共享与全局一致性</p> 
<p>负责服务治理规则（路由规则、动态配置等）的存储与推送</p> 
<p><strong>元数据中心：</strong></p> 
<p>接收 Provider 上报的服务接口元数据，为 Admin 等控制台提供运维能力（如服务测试、接口文档等）</p> 
<p>作为服务发现机制的补充，提供额外的接口/方法级别配置信息的同步能力，相当于注册中心的额外扩展</p> 
<p>下图描述了Dubbo各服务组件间协调的交互图（图片来自官网）：<br> <img src="https://images2.imgbox.com/76/86/IwF0ajHf_o.png" alt="在这里插入图片描述"></p> 
<p>其他内容</p> 
<p>可以参考官网的”什么是Dubbo?”内容，</p> 
<p>https://dubbo.incubator.apache.org/zh/overview/what/</p> 
<h3><a id="Dubbo_68"></a>Dubbo示例</h3> 
<p><strong>需求</strong></p> 
<p>构建一个基于用户的CRUD服务</p> 
<p>服务提供者（Provider）根据契约提供服务</p> 
<p>服务消费者（Consumer）根据契约消费服务</p> 
<p>服务消费者（Consumer）以泛化方式消费服务</p> 
<p><strong>实现逻辑</strong></p> 
<p><img src="https://images2.imgbox.com/8a/0a/07KP6NSB_o.png" alt="在这里插入图片描述"></p> 
<p>分别开发如下项目，实现需求（如上图）</p> 
<p>服务接口项目：定义的服务规范IUserService、公共实体类UserEntity</p> 
<p>服务提供者（Provider）项目：</p> 
<p>引入Nacos注册依赖</p> 
<p>添加注册到指定Nacos服务注册中心的配置</p> 
<p>引入契约接口依赖</p> 
<p>定义UserService服务实现，定义实际的业务逻辑，继承于IUserService，并使用公共实体类UserEntity</p> 
<p>服务消费者（Consumer）项目：</p> 
<p>引入Nacos注册依赖</p> 
<p>添加订阅指定Nacos服务注册中心的配置</p> 
<p>引入契约接口依赖</p> 
<p>定义自身业务，在需要时，按需自动装配IUserService接口实现，使用装配对象逻辑完成自身业务，就如调用本地实现一样，实际使用的是通过Nacos订阅服务提供者提供的服务逻辑</p> 
<p>Nacos注册中心：</p> 
<p>提供服务提供者（Provider）的注册</p> 
<p>提供服务消费者（Consumer）的订阅</p> 
<p>服务消费者（Consumer）–泛化消费</p> 
<p>引入Nacos注册依赖</p> 
<p>添加订阅指定Nacos服务注册中心的配置</p> 
<p>无需引入契约接口依赖</p> 
<p>定义自身业务，在需要时，使用Dubbo提供的泛化工具类，实现对IUserService服务接口的调用，也如调用本地实现一样，实际使用的是通过Nacos订阅服务提供者提供的逻辑</p> 
<p><strong>代码概览</strong></p> 
<p>服务接口项目</p> 
<p>定义普通Spring Boot类库项目，定义接口IUserService、实体类UserEntity、标准响应封装ResponseData</p> 
<p>具体见项目dubbo-interface，代码结构如下图<br> <img src="https://images2.imgbox.com/5f/36/Wd99f0wt_o.png" alt="在这里插入图片描述"><br> 服务提供者项目</p> 
<p>定义一个普通的Spring Boot项目，引入契约接口项目dubbo-interface，实现IUserService接口，实现业务逻辑</p> 
<p>实现步骤：</p> 
<p>1.在pom.xml中引入如下依赖</p> 
<p>dubbo依赖：org.apache.dubbo.dubbo:3.0.3</p> 
<p>nacos注册依赖：</p> 
<p>org.apache.dubbo.dubbo-registry-nacos:3.0.3、</p> 
<p>com.alibaba.spring.spring-context-support:1.0.11</p> 
<p>引入契约接口dubbo-interface依赖</p> 
<p>2.在application.properties中添加nacos配置，包括服务名称、协议、nacos服务器地址等</p> 
<p>3.启用Dubbo，在启动类上添加@EnableDubbo注解</p> 
<p>4.标识Dubbo服务，在继承于契约接口dubbo-interface中IUserService的服务类上进行标识，会注册到Nacos注册中心</p> 
<p>@DubboService(version = “$版本号”)<br> public class UserService implements IUserService{<!-- --><br> //实现契约接口逻辑<br> }</p> 
<p>5.定义Dubbo服务拦截器，通过实现Filter接口实现，可选</p> 
<p>具体见项目dubbo-provider，代码结构如下图<br> <img src="https://images2.imgbox.com/8f/c5/Ff7obb6Q_o.png" alt="在这里插入图片描述"><br> 服务消费者项目</p> 
<p>定义一个普通的Spring Boot项目，引入契约接口项目dubbo-interface，在自身的业务中，自动装配IUserService对象，调用服务提供者实现的业务逻辑</p> 
<p>实现步骤：</p> 
<p>1.在pom.xml中引入如下依赖</p> 
<p>dubbo依赖：org.apache.dubbo.dubbo:3.0.3</p> 
<p>nacos注册依赖：</p> 
<p>org.apache.dubbo.dubbo-registry-nacos:3.0.3、<br> com.alibaba.spring.spring-context-support:1.0.11<br> 引入契约接口dubbo-interface依赖</p> 
<p>2.在application.properties中添加nacos配置，包括服务名称、协议、nacos服务器地址等</p> 
<p>3.启用Dubbo，在启动类上添加@EnableDubbo注解</p> 
<p>4.使用Dubbo服务，在自身的业务代码中，按需自动装配服务接口IUserService来调用 ，注意版本号要与服务提供者中的服务想匹配</p> 
<p>public class UserController {<!-- --><br> @DubboReference(version = “版本号”)<br> IUserService userService;</p> 
<pre><code>//在方法中使用userService对象即可
</code></pre> 
<p>}</p> 
<p>具体见项目dubbo-consumer，代码结构如下图</p> 
<p><img src="https://images2.imgbox.com/36/65/gkSORn1s_o.png" alt="在这里插入图片描述"><br> 服务消费者项目-泛化消费</p> 
<p>定义一个普通的Spring Boot项目，引入契约接口项目dubbo-interface，在自身的业务中，通过Dubbo泛化工具类，使用IUserService规则，调用服务提供者实现的业务逻辑</p> 
<p>实现步骤：</p> 
<p>1.在pom.xml中引入如下依赖</p> 
<p>dubbo依赖：org.apache.dubbo.dubbo:3.0.3</p> 
<p>nacos注册依赖：</p> 
<p>org.apache.dubbo.dubbo-registry-nacos:3.0.3、<br> com.alibaba.spring.spring-context-support:1.0.11<br> 引入契约接口dubbo-interface依赖</p> 
<p>2.在application.properties中添加nacos配置，包括服务名称、协议、nacos服务器地址等</p> 
<p>3.启用Dubbo，在启动类上添加@EnableDubbo注解</p> 
<p>4.使用Dubbo工具进行泛化方式消费服务，代码稍复杂，具体见代码中的util工具包</p> 
<p>5.具体见项目dubbo-consumer-generic，代码结构如下图<br> <img src="https://images2.imgbox.com/e2/c9/fFdWr146_o.png" alt="在这里插入图片描述"><br> <strong>最后感谢每一个认真阅读我文章的人，下面这个网盘链接也是我费了几天时间整理的非常全面的，希望也能帮助到有需要的你！</strong></p> 
<p><img src="https://images2.imgbox.com/ca/81/LHlLBrJM_o.png" alt="在这里插入图片描述"></p> 
<p>这些资料，<strong>对于想转行做【软件测试】的朋友来说应该是最全面最完整的备战仓库</strong>，这个仓库也陪伴我走过了最艰难的路程，希望也能帮助到你！凡事要趁早，特别是技术行业，一定要提升技术功底。希望对大家有所帮助……</p> 
<p><strong>如果你不想一个人野蛮生长，找不到系统的资料，问题得不到帮助，坚持几天便放弃的感受的话，可以点击下方小卡片加入我们群，大家可以一起讨论交流，里面会有各种软件测试资料和技术交流。</strong></p> 
<p>敲字不易，如果此文章对你有帮助的话，点个赞收个藏来个关注，给作者一个鼓励。也方便你下次能够快速查找。</p> 
<h3><a id="B_296"></a>自学推荐B站视频：</h3> 
<p>零基础转行软件测试：<a href="https://www.bilibili.com/video/BV1rL4y1J7re?spm_id_from=333.999.0.0" rel="nofollow">38天自学完软件测试，拿到了字节的测试岗offer，堪称B站最好的视频！</a></p> 
<p>自动化测试进阶：<a href="https://www.bilibili.com/video/BV1cW4y1r7iR?spm_id_from=333.999.0.0" rel="nofollow">已上岸华为，涨薪20K，2022最适合自学的python自动化测试教程，自己花16800买的,无偿分享</a></p> 
<p><img src="https://images2.imgbox.com/76/d4/29OBKvma_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8911f501551d286b61e1781ae3c1508/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Comparison method violates its general contract解决办法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1361e15dedcd345f51bed6faa9722d28/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">QGraphicsItem图元旋转缩放和自定义图元（三）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>