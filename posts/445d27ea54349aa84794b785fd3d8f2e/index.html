<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>video(倍速播放，暂停，播放，逐帧播放，关闭音量，倒放，前进多少秒，进度条)功能 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="video(倍速播放，暂停，播放，逐帧播放，关闭音量，倒放，前进多少秒，进度条)功能" />
<meta property="og:description" content="&lt;template&gt; &lt;div style=&#34;height: 100vh;&#34;&gt; &lt;video ref=&#34;vid&#34; width=&#39;1000px&#39; height=&#39;560px&#39;&gt; &lt;source src=&#34;https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/97ac2dcc1367e03ac580204d6ca9a724.mp4&#34; /&gt; &lt;/video&gt; &lt;div class=&#34;jdt&#34;&gt; &lt;div class=&#34;jd&#34; ref=&#34;jdt&#34;&gt; &lt;div style=&#34;background-color: green;height: 100%;border-radius: 8px;&#34; :style=&#34;`width: ${currentTime / duration * 1000}px`&#34;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;vid&#34;&gt; &lt;i :class=&#34;play&#34; @click=&#34;changePlay&#34;&gt;&lt;/i&gt; &lt;svg @click=&#34;back&#34; t=&#34;1677726468265&#34; class=&#34;icon&#34; viewBox=&#34;0 0 1024 1024&#34; version=&#34;1.1&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34; p-id=&#34;2790&#34; width=&#34;36&#34; height=&#34;36&#34;&gt; &lt;path d=&#34;M0 512c0 282.8 229.2 512 512 512s512-229.2 512-512S794.8 0 512 0 0 229.2 0 512z m99.2 174.4C75.8 631.2 64 572." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/445d27ea54349aa84794b785fd3d8f2e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-03T12:23:23+08:00" />
<meta property="article:modified_time" content="2023-03-03T12:23:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">video(倍速播放，暂停，播放，逐帧播放，关闭音量，倒放，前进多少秒，进度条)功能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code class="language-html">&lt;template&gt;
    &lt;div style="height: 100vh;"&gt;
        &lt;video ref="vid" width='1000px' height='560px'&gt;
            &lt;source src="https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/97ac2dcc1367e03ac580204d6ca9a724.mp4" /&gt;
        &lt;/video&gt;
        &lt;div class="jdt"&gt;
            &lt;div class="jd" ref="jdt"&gt;
                &lt;div style="background-color: green;height: 100%;border-radius: 8px;"
                    :style="`width: ${currentTime / duration * 1000}px`"&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="vid"&gt;
            &lt;i :class="play" @click="changePlay"&gt;&lt;/i&gt;
            &lt;svg @click="back" t="1677726468265" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="2790" width="36" height="36"&gt;
                &lt;path
                    d="M0 512c0 282.8 229.2 512 512 512s512-229.2 512-512S794.8 0 512 0 0 229.2 0 512z m99.2 174.4C75.8 631.2 64 572.5 64 512s11.8-119.2 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4 41.2-41.2 89.1-73.5 142.4-96C392.8 75.8 451.5 64 512 64s119.2 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96 41.2 41.2 73.5 89.1 96 142.4C948.2 392.8 960 451.5 960 512s-11.8 119.2-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4-41.2 41.2-89.1 73.5-142.4 96C631.2 948.2 572.5 960 512 960s-119.2-11.8-174.4-35.2c-53.3-22.6-101.3-54.9-142.4-96-41.2-41.2-73.5-89.1-96-142.4z"
                    p-id="2791" fill="#ffffff"&gt;&lt;/path&gt;
                &lt;path
                    d="M256 305.3v413.3c0 6.8 8 10.5 13.2 6.1L473.1 551v167.7c0 6.8 8 10.5 13.2 6.1L720 525.6V704h64V320h-64v178.4L486.3 299.2c-5.2-4.4-13.2-0.7-13.2 6.1V473L269.2 299.2c-5.2-4.4-13.2-0.7-13.2 6.1z"
                    p-id="2792" fill="#ffffff"&gt;&lt;/path&gt;
            &lt;/svg&gt;
            &lt;svg @click="fast" t="1677726468265" class="icon" viewBox="0 0 1024 1024" version="1.1"
                xmlns="http://www.w3.org/2000/svg" p-id="2790" width="36" height="36"&gt;
                &lt;path
                    d="M0 512c0 282.8 229.2 512 512 512s512-229.2 512-512S794.8 0 512 0 0 229.2 0 512z m99.2 174.4C75.8 631.2 64 572.5 64 512s11.8-119.2 35.2-174.4c22.6-53.3 54.9-101.3 96-142.4 41.2-41.2 89.1-73.5 142.4-96C392.8 75.8 451.5 64 512 64s119.2 11.8 174.4 35.2c53.3 22.6 101.3 54.9 142.4 96 41.2 41.2 73.5 89.1 96 142.4C948.2 392.8 960 451.5 960 512s-11.8 119.2-35.2 174.4c-22.6 53.3-54.9 101.3-96 142.4-41.2 41.2-89.1 73.5-142.4 96C631.2 948.2 572.5 960 512 960s-119.2-11.8-174.4-35.2c-53.3-22.6-101.3-54.9-142.4-96-41.2-41.2-73.5-89.1-96-142.4z"
                    p-id="2791" fill="#ffffff"&gt;&lt;/path&gt;
                &lt;path
                    d="M256 305.3v413.3c0 6.8 8 10.5 13.2 6.1L473.1 551v167.7c0 6.8 8 10.5 13.2 6.1L720 525.6V704h64V320h-64v178.4L486.3 299.2c-5.2-4.4-13.2-0.7-13.2 6.1V473L269.2 299.2c-5.2-4.4-13.2-0.7-13.2 6.1z"
                    p-id="2792" fill="#ffffff"&gt;&lt;/path&gt;
            &lt;/svg&gt;
            &lt;el-select v-model="second" @change="changeSecond"&gt;
                &lt;el-option v-for="item in options" :key="item" :label="item" :value="item"&gt;
                &lt;/el-option&gt;
            &lt;/el-select&gt;
            &lt;i class="el-icon-caret-left" @click="zplay(1)"&gt;&lt;/i&gt;
            &lt;i class="el-icon-caret-right" @click="zplay(2)"&gt;&lt;/i&gt;
            &lt;i :class="volume" @click="changeVolume"&gt;&lt;/i&gt;
        &lt;/div&gt;

    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
var zzht, zzqj
export default {
    data() {
        return {
            vid: "",
            play: "el-icon-video-play",
            isPlay: false, // true播放 false 暂停
            duration: "", // 视频总时长
            second: 1, // 默认1秒
            options: [0.25, 0.5, 1, 1.5, 2, 3, 4, 5, 16, 32],
            currentTime: 0,
            volume: "el-icon-microphone",
            haveVoice: true, // 有声音
        }
    },
    mounted() {
        this.vid = this.$refs.vid // 获取video dom
        setTimeout(() =&gt; {
            this.duration = this.vid.duration
            setInterval(() =&gt; {
                this.currentTime = this.vid.currentTime
            }, 1000)
        }, 300)
    },
    methods: {
        // 调节音量  我的音量只有100跟0别问  问就是懒
        changeVolume(){
            this.haveVoice = !this.haveVoice
            if (this.haveVoice){ // 为true有声音  直接拉到100  别问 问就是懒
                this.volume = "el-icon-microphone"
                this.vid.volume = 100
            } else { // 为false就是声音  直接干到0
                this.volume = "el-icon-turn-off-microphone"
            }
        },
        // 逐帧倒放 / 前近
        zplay(val) {
            this.vid.pause()
            clearInterval(zzqj) // 清除倒放
            clearInterval(zzht) // 清除逐帧倒放
            zzht = setInterval(() =&gt; {
                if (val == 1) { // 倒放
                    this.vid.currentTime -= 1 / 12
                } else if (val == 2) { // 前近
                    this.vid.currentTime += 1 / 12
                }

            }, 1000)
        },
        // 变速
        changeSecond() {
            this.vid.playbackRate = this.second
        },
        // 倒放
        back() {
            clearInterval(zzqj) // 清除倒放
            clearInterval(zzht) // 清除逐帧倒放
            zzqj = setInterval(() =&gt; {
                this.vid.currentTime -= 1 / 12
            }, 100)
        },
        // 快进10秒
        fast() {
            this.vid.currentTime += 10
        },
        // 播放暂停
        changePlay() {
            this.isPlay = !this.isPlay
            if (this.isPlay) {
                // 如果为播放 将图标改为暂停 视频播放
                this.play = "el-icon-video-pause"
                this.vid.play()
            } else {
                // 如果为暂停 将图标改为播放 视频暂停
                this.play = "el-icon-video-play"
                this.vid.pause()
            }
        }
    }
}
&lt;/script&gt;

&lt;style scoped&gt;
.jd {
    width: 1000px;
    border-radius: 8px;
    background-color: #fff;
    height: 10px;
    cursor: pointer;
}

.jdt {
    background-color: black;
    width: 1000px;
    height: 30px;
    display: flex;
    align-items: center;
}

.vid {
    background-color: black;
    width: 1000px;
    height: 80px;
    display: flex;
    align-items: center;
}

.vid i,
.vid svg {
    font-size: 40px;
    cursor: pointer;
    color: #fff;
    margin-right: 10px;
}

.vid i:hover,
.vid svg:hover {
    color: #9bc9fd;
}
&lt;/style&gt;</code></pre> 
<p>这是我昨天研究写的一个demo，功能不完全，也不想加，大致都搞明白了，上面是全部代码</p> 
<p>样式如下</p> 
<p><img alt="" height="672" src="https://images2.imgbox.com/af/04/76gRvFCP_o.png" width="1000"></p> 
<p> UI 图懒得去找 大致讲解一下</p> 
<p>倒放 浏览器端是不支持的 但是用定时器一秒触发12每次到1帧 这样写法也很离谱了</p> 
<p>倍速播放  浏览器端 <strong>最大支持16倍 </strong>速播放  在大0.1都报错</p> 
<p>进度条 如果要做点击拖动的话 就绑定一个点击事件 跟滑动事件 得到e 然后算法：</p> 
<p><strong>当前点击的横坐标 / 外部进度条的宽 * 视频总时长 </strong> 就得到了当前点击或滑动的进度条width了</p> 
<p>其他的就没上么好注意的了</p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/99e8333f83c374f139b54749d233118b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">web前端学习-CSS</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b03916a8ae3afc155aac955ac5947c9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">从MIT协议谈契约精神</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>