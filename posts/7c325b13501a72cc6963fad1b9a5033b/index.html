<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何解决opencv-python，以及opencv-contrib-python包安装运行解决人脸识别问题等问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何解决opencv-python，以及opencv-contrib-python包安装运行解决人脸识别问题等问题" />
<meta property="og:description" content="痛苦 通过老师给的教程一直下载一直下载，下载不能通过而且把系统弄崩了只能重装系统，家人们谁能懂重装系统7、8次的痛苦啊最后我终于终于解决了
遇到的问题 下载的opencv-python慢，需要等待的时间长，浪费大量时间
opencv-python下载包解压不能完全解压，解压出问题
opencv-python的依赖项目没有下载全，不能很好的启动，并且报错
opencv-contrib-python库的安装慢
问题的原因 opencv-python在清华的库中没有，要从国外的库下载就很慢
可能跟TF卡内存以及树莓派内存大小有关
需要安装相关库
也要指定pip的库源，不然下载慢
问题的解决 我下载的版本是4.1.0.25
opencv-python国外下载地址
https://www.piwheels.org/simple/opencv-python/opencv_python-4.1.0.25-cp37-cp37m-linux_armv7l.whl
opencv-python安装 解决的关键是opencv-python这个包就不能通过pip3安装，所以我是怎么安装的呢
首先开启网络魔法，从国外网站下载whl安装包,从自己的电脑上传到树莓派自己指定的文件夹
下面是whl包解压办法：要在树莓派4WD小车上直接解压OpenCV的Python的.whl文件，你可以按照以下步骤进行操作：
首先，在你的树莓派上安装zip工具：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;sudo&lt;/span&gt; apt-get install zip&lt;/span&gt; 将OpenCV的.whl文件（例如，opencv_python-4.5.3.56-cp37-cp37m-linux_armv7l.whl）下载到树莓派的某个目录中。
进入保存了.whl文件的目录：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;cd&lt;/span&gt; /path/to/your/whl/file&lt;/span&gt; 创建一个临时目录来解压.whl文件：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;mkdir&lt;/span&gt; temp&lt;/span&gt; 使用zip工具解压.whl文件到临时目录：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;unzip opencv_python-4.5.3.56-cp37-cp37m-linux_armv7l.whl &lt;span style=&#34;color:#0000cc&#34;&gt;-d&lt;/span&gt; temp&lt;/span&gt; 进入临时目录：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;cd&lt;/span&gt; temp&lt;/span&gt; 在临时目录中你将找到解压后的OpenCV文件。你可以将它们复制到你希望存放OpenCV文件的目录中，例如Python的site-packages目录：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;sudo&lt;/span&gt; &lt;span style=&#34;color:#3300aa&#34;&gt;cp&lt;/span&gt; &lt;span style=&#34;color:#0000cc&#34;&gt;-r&lt;/span&gt; cv2 /usr/local/lib/python3.7/site-packages&lt;/span&gt; 请注意，上述路径/usr/local/lib/python3.7/site-packages适用于Python 3.7版本。如果你使用的是其他Python版本，请相应地修改路径。在我们的系统上，python3.7的包都安装在dist-packages里面（也许是其他自己看一下）
最后，删除临时目录：
&lt;span style=&#34;background-color:#f8f8f8&#34;&gt;&lt;span style=&#34;color:#3300aa&#34;&gt;cd&lt;/span&gt; .. &lt;span style=&#34;color:#3300aa&#34;&gt;rm&lt;/span&gt; &lt;span style=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7c325b13501a72cc6963fad1b9a5033b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-04T10:14:26+08:00" />
<meta property="article:modified_time" content="2023-07-04T10:14:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何解决opencv-python，以及opencv-contrib-python包安装运行解决人脸识别问题等问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3></h3> 
<h4><strong><span style="color:#333333;">痛苦</span></strong></h4> 
<p style="margin-left:.8em;"><span style="color:#333333;">通过老师给的教程一直下载一直下载，下载不能通过而且把系统弄崩了只能重装系统，家人们谁能懂重装系统7、8次的痛苦啊最后我终于终于解决了</span></p> 
<h4><strong><span style="color:#333333;">遇到的问题</span></strong></h4> 
<ol style="margin-left:.8em;"><li> <p>下载的opencv-python慢，需要等待的时间长，浪费大量时间</p> </li><li> <p>opencv-python下载包解压不能完全解压，解压出问题</p> </li><li> <p>opencv-python的依赖项目没有下载全，不能很好的启动，并且报错</p> </li><li> <p>opencv-contrib-python库的安装慢</p> </li></ol> 
<p style="margin-left:.8em;"></p> 
<h4><strong><span style="color:#333333;">问题的原因</span></strong></h4> 
<ol style="margin-left:.8em;"><li> <p>opencv-python在清华的库中没有，要从国外的库下载就很慢</p> </li><li> <p>可能跟TF卡内存以及树莓派内存大小有关</p> </li><li> <p>需要安装相关库</p> </li><li> <p>也要指定pip的库源，不然下载慢</p> </li></ol> 
<h4><strong><span style="color:#333333;">问题的解决</span></strong></h4> 
<p style="margin-left:.8em;"><span style="color:#333333;"><span style="color:#ff0000;"><strong><span style="color:inherit;">我下载的版本是4.1.0.25</span></strong></span></span></p> 
<p style="margin-left:.8em;"><span style="color:#333333;">opencv-python国外下载地址</span></p> 
<p style="margin-left:.8em;"><span style="color:#333333;"><a href="https://www.piwheels.org/simple/opencv-python/opencv_python-4.1.0.25-cp37-cp37m-linux_armv7l.whl" rel="nofollow" title="https://www.piwheels.org/simple/opencv-python/opencv_python-4.1.0.25-cp37-cp37m-linux_armv7l.whl">https://www.piwheels.org/simple/opencv-python/opencv_python-4.1.0.25-cp37-cp37m-linux_armv7l.whl</a></span></p> 
<h5><strong><span style="color:#333333;">opencv-python安装</span></strong></h5> 
<p style="margin-left:.8em;"><span style="color:#333333;">解决的关键是opencv-python这个包就不能通过pip3安装，所以我是怎么安装的呢</span></p> 
<ol style="margin-left:.8em;"><li> <p>首先开启网络魔法，从国外网站下载whl安装包,从自己的电脑上传到树莓派自己指定的文件夹</p> </li><li> <p>下面是whl包解压办法：要在树莓派4WD小车上直接解压OpenCV的Python的.whl文件，你可以按照以下步骤进行操作：</p> 
  <ol style="margin-left:0;"><li> <p>首先，在你的树莓派上安装zip工具：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install zip&lt;/span&gt;</code></pre> </li><li> <p>将OpenCV的.whl文件（例如，opencv_python-4.5.3.56-cp37-cp37m-linux_armv7l.whl）下载到树莓派的某个目录中。</p> </li><li> <p>进入保存了.whl文件的目录：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;cd&lt;/span&gt; /path/to/your/whl/file&lt;/span&gt;</code></pre> </li><li> <p>创建一个临时目录来解压.whl文件：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;mkdir&lt;/span&gt; temp&lt;/span&gt;</code></pre> </li><li> <p>使用zip工具解压.whl文件到临时目录：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;unzip opencv_python-4.5.3.56-cp37-cp37m-linux_armv7l.whl &lt;span style="color:#0000cc"&gt;-d&lt;/span&gt; temp&lt;/span&gt;</code></pre> </li><li> <p>进入临时目录：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;cd&lt;/span&gt; temp&lt;/span&gt;</code></pre> </li><li> <p>在临时目录中你将找到解压后的OpenCV文件。你可以将它们复制到你希望存放OpenCV文件的目录中，例如Python的site-packages目录：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; &lt;span style="color:#3300aa"&gt;cp&lt;/span&gt; &lt;span style="color:#0000cc"&gt;-r&lt;/span&gt; cv2 /usr/local/lib/python3.7/site-packages&lt;/span&gt;</code></pre> <p>请注意，上述路径<code>/usr/local/lib/python3.7/site-packages</code>适用于Python 3.7版本。如果你使用的是其他Python版本，请相应地修改路径。<span style="color:#ff0000;"><strong><span style="color:inherit;">在我们的系统上，python3.7的包都安装在dist-packages里面（也许是其他自己看一下）</span></strong></span></p> </li><li> <p>最后，删除临时目录：</p> <pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#3300aa"&gt;cd&lt;/span&gt; ..
&lt;span style="color:#3300aa"&gt;rm&lt;/span&gt; &lt;span style="color:#0000cc"&gt;-rf&lt;/span&gt; temp&lt;/span&gt;</code></pre> </li></ol><p>现在，你已经将OpenCV的文件解压并复制到你的树莓派上。你可以在Python代码中导入OpenCV并开始使用它。</p> </li><li> <p>这时可以通过pip list查看opencv-python是否安装好</p> </li><li> <p>安装可能会出现依赖不全的问题，这就是我们下面一个问题了。</p> <p></p> </li></ol> 
<h4><strong><span style="color:#333333;">安装依赖</span></strong></h4> 
<pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#333333"&gt;&lt;span style="color:#116644"&gt;1&lt;/span&gt;、更换树莓派源为清华镜像源。
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; nano /etc/apt/sources.list
清华镜像源: 
deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib
deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib
&lt;span style="color:#116644"&gt;2&lt;/span&gt;、按键盘上的ctrl&lt;span style="color:#981a1a"&gt;+&lt;/span&gt;o，再按回车保存，再按ctrl&lt;span style="color:#981a1a"&gt;+&lt;/span&gt;x退出nano编辑器回到命令行界面，输入：
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get update
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjpeg-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libatlas-base-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjpeg-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libtiff5-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install li.jpg12-dev  &lt;span style="color:#aa5500"&gt;#报错没关系，也可能用不着&lt;/span&gt;
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libqtgui4 libqt4-test
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjasper-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libhdf5-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjasper-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get update
安装完之后，进入python命令界面：
&lt;span style="color:#aa5500"&gt;# python&lt;/span&gt;
&gt;&gt; import cv2
结果报错，缺少依赖库，按照提示安装依赖库：（以下为可能缺少的依赖库，按照命令安装）
jpeg格式图像工具包：
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjpeg8-dev 
tif格式图像工具包:
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libtiff5-dev 
JPEG-2000图像工具包
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjasper-dev 
png图像工具包
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libpng12-dev 
常用的视频库
v4l中4后面的是 英文字母“l”
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev
安装GTK2.0
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libgtk2.0-dev
安装OpenCV数值优化函数包
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libatlas-base-dev gfortran
其它依赖库
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libatlas-base-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libjasper-dev
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libqtgui4
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libqt4-test
&lt;span style="color:#aa5500"&gt;# 可能还需要安装下面的依赖&lt;/span&gt;
&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; apt-get install libhdf5-dev
​&lt;/span&gt;&lt;/span&gt;</code></pre> 
<p style="margin-left:.8em;"></p> 
<h4><strong><span style="color:#333333;">下载opencv-contrib-python下载</span></strong></h4> 
<p style="margin-left:.8em;"><span style="color:#333333;">直接通过pip3下载，记住要加一个清华的源这里我就没加了</span></p> 
<pre class="has" style="text-align:left;"><code class="language-md-end-block">&lt;span style="background-color:#f8f8f8"&gt;&lt;span style="color:#333333"&gt;&lt;span style="color:#3300aa"&gt;sudo&lt;/span&gt; pip3 install opencv-contrib-python&lt;/span&gt;&lt;/span&gt;</code></pre> 
<p style="margin-left:.8em;"></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8ae75e0892c1c4531bffd278cadd6f16/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">边界值法和等价类方法的异同</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e5c71aa29c0d548062d8be39e3f01c69/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">速下载｜2023上半年网络与数据安全法规政策、国标、报告合集</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>