<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>从0开始python学习-31.selenium 文本输入框、下拉选择框、文件上传、时间插件选择元素定位 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="从0开始python学习-31.selenium 文本输入框、下拉选择框、文件上传、时间插件选择元素定位" />
<meta property="og:description" content="目录
1. 纯文本输入框
2. 存在默认值的文本输入
3. 下拉选择框
4. 输入后下拉选择框
5. 文件上传
6. 时间插件
1. 纯文本输入框 driver.find_element(By.XPATH,&#39;/html/body/div[2]/td[2]/input&#39;).send_keys(&#39;测试名称&#39;) 2. 存在默认值的文本输入 注意：
1. 这种存在默认值的情况在做自动化测试的时候可以选择不做处理，直接略过该元素，也可以先将默认值清除后再进行输入的方式进行测试
2.如果是下图这种需要具有唯一性的数据，可以使用随机数的方式进行写入，可以有效避免冲出ID出现
driver.find_element(By.XPATH,&#39;/html/body/div[2]/tr[3]/td[2]/input&#39;).clear() driver.find_element(By.XPATH,&#39;/html/body/div[2]/tr[3]/td[2]/input&#39;).send_keys(&#39;ID123&#39;&#43;str(randint(100,999))&#43;&#39;K&#39;) 3. 下拉选择框 Select(driver.find_element(By.XPATH,&#39;/html/body/div[2]/tr[8]/td[2]/select&#39;)).select_by_value(&#39;1&#39;) 4. 输入后下拉选择框 注意：下拉选择的元素为【&lt;strong&gt;baidu12 [null]&lt;/strong&gt;】，使用xpath的方式可能无法定位到，可以通过手写xpath来完成
# 先找到元素后输入关键词 driver.find_element(By.XPATH,&#39;/html/body/div[2]/tr[6]/td[2]/input[1]&#39;).send_keys(&#39;baidu12&#39;) sleep(2) # 等待2秒让下拉框能加载完成后选择需要的选择后点击 # 这种下拉选择元素的xpath不确定，所以可以根据标签来手动写xpath driver.find_element(By.XPATH,&#39;//strong[text()=&#34;baidu12&#34;]&#39;).click() 5. 文件上传 文件上传因为点击【浏览】选择的框非浏览器中的操作了，因为无法使用自动化脚本来进行选择，选择使用强制写入的方式将文件路径写入文件上传有个明显特征就是【type=&#34;file&#34;】，只要照导这个就能进行写入，如下 driver.find_element(By.XPATH,&#39;/html/body/div[2]/tr[14]/td[2]/span/div[1]/div/div/button&#39;).click() sleep(5) # 这里应该【本地上传】的xpath一直会变，所以使用文本的方式点击会更准确一点 //li[text()=&#39;本地上传&#39;] driver.find_element(By.XPATH,&#39;//li[text()=&#34;本地上传&#34;]&#39;).click() sleep(2) # 文件上传需要写入外部文件，自动化脚本无法点击浏览器外的内容，所以这里选择强制写入文件的方式，注意一点就是文件的type=file，所以这里一定要找type=file的元素对应xpath driver.find_element(By.XPATH,&#39;//input[@type=&#34;file&#34;]&#39;).send_keys(r&#39;D:\python\test\1.png&#39;) sleep(1) driver.find_element(By.XPATH,&#39;/html/body/div[6]/div[1]/div[3]/span[1]/input&#39;).click() 6. 时间插件 时间插件选择首先需要获取到输入框的xpath：e = driver.find_element(By.XPATH,&#39;//*[@id=&#34;start_time&#34;]&#39;)根据获取到的XPATH在js中可以调试：$x(&#39;//*[@id=&#34;start_time&#34;]&#39;)[0].value=&#39;2023-10-06 10:00:38&#39;然后进行强制写入的方式进行：driver.execute_script(&#39;arguments[0].value=&#34;2023-10-06 10:00:38&#34;&#39;,e) driver.implicitly_wait(3) e = driver.find_element(By.XPATH,&#39;//*[@id=&#34;start_time&#34;]&#39;) # 时间插件可以使用强制输入的形式写入时间，但是需要配合JS进行，方法如下 driver.execute_script(&#39;arguments[0].value=&#34;2023-10-06 10:00:00&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3f454f9976f683f267aa96b606ea549a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-07T18:13:34+08:00" />
<meta property="article:modified_time" content="2023-10-07T18:13:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">从0开始python学习-31.selenium 文本输入框、下拉选择框、文件上传、时间插件选择元素定位</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="1.%C2%A0%E7%BA%AF%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86-toc" style="margin-left:0px;"><a href="#1.%C2%A0%E7%BA%AF%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86" rel="nofollow">1. 纯文本输入框</a></p> 
<p id="2.%20%E5%AD%98%E5%9C%A8%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5-toc" style="margin-left:0px;"><a href="#2.%20%E5%AD%98%E5%9C%A8%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5" rel="nofollow">2. 存在默认值的文本输入</a></p> 
<p id="%C2%A03.%20%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86-toc" style="margin-left:0px;"><a href="#%C2%A03.%20%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86" rel="nofollow"> 3. 下拉选择框</a></p> 
<p id="4.%20%E8%BE%93%E5%85%A5%E5%90%8E%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86-toc" style="margin-left:0px;"><a href="#4.%20%E8%BE%93%E5%85%A5%E5%90%8E%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86" rel="nofollow">4. 输入后下拉选择框</a></p> 
<p id="5.%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0-toc" style="margin-left:0px;"><a href="#5.%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0" rel="nofollow">5. 文件上传</a></p> 
<p id="6.%20%E6%97%B6%E9%97%B4%E6%8F%92%E4%BB%B6-toc" style="margin-left:0px;"><a href="#6.%20%E6%97%B6%E9%97%B4%E6%8F%92%E4%BB%B6" rel="nofollow">6. 时间插件</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>1. 纯文本输入框</h2> 
<p><img alt="" height="68" src="https://images2.imgbox.com/91/3a/NAxpKDV3_o.png" width="1200"></p> 
<pre><code class="language-python">driver.find_element(By.XPATH,'/html/body/div[2]/td[2]/input').send_keys('测试名称')</code></pre> 
<h2 id="2.%20%E5%AD%98%E5%9C%A8%E9%BB%98%E8%AE%A4%E5%80%BC%E7%9A%84%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5">2. 存在默认值的文本输入</h2> 
<p><span style="color:#b95514;">注意：</span></p> 
<p><span style="color:#b95514;">1. 这种存在默认值的情况在做自动化测试的时候可以选择不做处理，直接略过该元素，也可以先将默认值清除后再进行输入的方式进行测试</span></p> 
<p><span style="color:#b95514;">2.如果是下图这种需要具有唯一性的数据，可以使用随机数的方式进行写入，可以有效避免冲出ID出现</span></p> 
<p><img alt="" height="113" src="https://images2.imgbox.com/a1/92/kJPIOGVA_o.png" width="1200"></p> 
<pre><code class="language-python">driver.find_element(By.XPATH,'/html/body/div[2]/tr[3]/td[2]/input').clear()
driver.find_element(By.XPATH,'/html/body/div[2]/tr[3]/td[2]/input').send_keys('ID123'+str(randint(100,999))+'K')
</code></pre> 
<h2 id="%C2%A03.%20%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86"> 3. 下拉选择框</h2> 
<p><img alt="" height="242" src="https://images2.imgbox.com/2c/4e/JxPmDHXq_o.png" width="1200"></p> 
<pre><code class="language-python">Select(driver.find_element(By.XPATH,'/html/body/div[2]/tr[8]/td[2]/select')).select_by_value('1')</code></pre> 
<h2 id="4.%20%E8%BE%93%E5%85%A5%E5%90%8E%E4%B8%8B%E6%8B%89%E9%80%89%E6%8B%A9%E6%A1%86">4. 输入后下拉选择框</h2> 
<p><span style="color:#b95514;">注意：下拉选择的元素为【&lt;strong&gt;baidu12 [null]&lt;/strong&gt;】，使用xpath的方式可能无法定位到，可以通过手写xpath来完成</span></p> 
<p><img alt="" height="279" src="https://images2.imgbox.com/3c/ba/uMcnrosz_o.png" width="1200"></p> 
<pre><code class="language-python"># 先找到元素后输入关键词
driver.find_element(By.XPATH,'/html/body/div[2]/tr[6]/td[2]/input[1]').send_keys('baidu12')
sleep(2)
# 等待2秒让下拉框能加载完成后选择需要的选择后点击
# 这种下拉选择元素的xpath不确定，所以可以根据标签来手动写xpath
driver.find_element(By.XPATH,'//strong[text()="baidu12"]').click()</code></pre> 
<h2 id="5.%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">5. 文件上传</h2> 
<ul><li>文件上传因为点击【浏览】选择的框非浏览器中的操作了，因为无法使用自动化脚本来进行选择，选择使用强制写入的方式将文件路径写入</li><li>文件上传有个明显特征就是【type="file"】，只要照导这个就能进行写入，如下</li></ul> 
<p><img alt="" height="324" src="https://images2.imgbox.com/d0/ef/8Y5YiM0x_o.png" width="1200"></p> 
<pre><code class="language-python">driver.find_element(By.XPATH,'/html/body/div[2]/tr[14]/td[2]/span/div[1]/div/div/button').click()
sleep(5)
# 这里应该【本地上传】的xpath一直会变，所以使用文本的方式点击会更准确一点 //li[text()='本地上传']
driver.find_element(By.XPATH,'//li[text()="本地上传"]').click()

sleep(2)
# 文件上传需要写入外部文件，自动化脚本无法点击浏览器外的内容，所以这里选择强制写入文件的方式，注意一点就是文件的type=file，所以这里一定要找type=file的元素对应xpath
driver.find_element(By.XPATH,'//input[@type="file"]').send_keys(r'D:\python\test\1.png')  
sleep(1)
driver.find_element(By.XPATH,'/html/body/div[6]/div[1]/div[3]/span[1]/input').click()</code></pre> 
<h2 id="6.%20%E6%97%B6%E9%97%B4%E6%8F%92%E4%BB%B6">6. 时间插件</h2> 
<ul><li>时间插件选择首先需要获取到输入框的xpath：e = driver.find_element(By.XPATH,'//*[@id="start_time"]')</li><li>根据获取到的XPATH在js中可以调试：$x('//*[@id="start_time"]')[0].value='2023-10-06 10:00:38'</li><li>然后进行强制写入的方式进行：driver.execute_script('arguments[0].value="2023-10-06 10:00:38"',e)</li></ul> 
<p><img alt="" height="243" src="https://images2.imgbox.com/80/63/mTdrsDrK_o.png" width="1200"><img alt="" height="244" src="https://images2.imgbox.com/90/bb/UI9THZr4_o.png" width="844"></p> 
<pre><code class="language-python">driver.implicitly_wait(3)
e = driver.find_element(By.XPATH,'//*[@id="start_time"]')
# 时间插件可以使用强制输入的形式写入时间，但是需要配合JS进行，方法如下
driver.execute_script('arguments[0].value="2023-10-06 10:00:00"',e)</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/51e70a7371d5388143e847d0baf27e0e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Channel 底层原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c0619c76d8c5f2db4d72589772e23859/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一个tomcat下如何部署多个项目？小编为你详细解答！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>