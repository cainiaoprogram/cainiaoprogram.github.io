<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>如何以编程方式退出android应用程序 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="如何以编程方式退出android应用程序" />
<meta property="og:description" content="本文翻译自：How to quit android application programmatically
I Found some codes for quit an Android application programatically. 我找到了一些以编程方式退出Android应用程序的代码。 By calling any one of the following code in onDestroy() will it quit application entirely? 通过在onDestroy（）中调用以下任何一个代码，它会完全退出应用程序吗？ System.runFinalizersOnExit(true) (OR) （要么） android.os.Process.killProcess(android.os.Process.myPid()); I dont want to run my application in background after clicking quit button. 我不想在单击退出按钮后在后台运行我的应用程序。 Pls suggest me can i use any one of these code to quit my app? 请问我可以使用这些代码中的任何一个来退出我的应用程序吗？ If so which code can i use?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/725ffe79c56e3cde55d8c1c6b288bbee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-20T15:03:07+08:00" />
<meta property="article:modified_time" content="2020-08-20T15:03:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">如何以编程方式退出android应用程序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本文翻译自：<a href="https://oldbug.net/q/qyM0/How-to-quit-android-application-programmatically" rel="nofollow">How to quit android application programmatically</a></p> 
<p> <i>I Found some codes for quit an Android application programatically.</i> <b>我找到了一些以编程方式退出Android应用程序的代码。</b> <i>By calling any one of the following code in onDestroy() will it quit application entirely?</i> <b>通过在onDestroy（）中调用以下任何一个代码，它会完全退出应用程序吗？</b> </p> 
<ol><li> <code>System.runFinalizersOnExit(true)</code> <br><i>(OR)</i> <b>（要么）</b> </li><li> <code>android.os.Process.killProcess(android.os.Process.myPid());</code> </li></ol> 
<p> <i>I dont want to run my application in background after clicking quit button.</i> <b>我不想在单击退出按钮后在后台运行我的应用程序。</b> <i>Pls suggest me can i use any one of these code to quit my app?</i> <b>请问我可以使用这些代码中的任何一个来退出我的应用程序吗？</b> <i>If so which code can i use?</i> <b>如果可以，我可以使用哪些代码？</b> <i>Is it good way to quit the app in Android?</i> <b>这是退出Android应用程序的好方法吗？</b> </p> 
<hr> 
<h4>#1楼</h4> 
<p>参考：<a href="https://stackoom.com/question/qyM0/%E5%A6%82%E4%BD%95%E4%BB%A5%E7%BC%96%E7%A8%8B%E6%96%B9%E5%BC%8F%E9%80%80%E5%87%BAandroid%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F" rel="nofollow">https://stackoom.com/question/qyM0/如何以编程方式退出android应用程序</a></p> 
<hr> 
<h4>#2楼</h4> 
<p> <i>I think that application should be kill in some case.</i> <b>我认为在某些情况下应用程序应该是kill。</b> <i>For example, there is an app can be used only after login.</i> <b>例如，有一个应用程序只能在登录后使用。</b> <i>The login activity has two buttons, 'login' and 'cancel'.</i> <b>登录活动有两个按钮，“登录”和“取消”。</b> <i>When you click 'cancel' button, it definitely means 'Terminate the app'.</i> <b>当您单击“取消”按钮时，它肯定意味着“终止应用程序”。</b> <i>Nobody wants the app alive in the background.</i> <b>没有人希望应用程序在后台运行。</b> <i>So I agree that some cases need to shut down the app.</i> <b>所以我同意某些情况需要关闭应用程序。</b> </p> 
<hr> 
<h4>#3楼</h4> 
<p> <i><strong>There is no application quitting in android</strong> , SampleActivity.this.finish();</i> <b><strong>Android中没有应用程序退出</strong> ，SampleActivity.this.finish（）;</b> <i>will finish the current activity.</i> <b>将完成当前的活动。</b> </p> 
<p> <i>When you switch from one activity to another keep finish the previous one</i> <b>当您从一个活动切换到另一个活动时，请完成前一个活动</b> </p> 
<pre><code>Intent homeintent = new Intent(SampleActivity.this,SecondActivity.class);
startActivity(homeintent);
SampleActivity.this.finish();
</code></pre> 
<hr> 
<h4>#4楼</h4> 
<p> <i><a href="https://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238#2034238" rel="nofollow">Is quitting an application frowned upon?</a></i> <b><a href="https://stackoverflow.com/questions/2033914/quitting-an-application-is-that-frowned-upon/2034238#2034238" rel="nofollow">退出申请不赞成？</a></b> <i>.</i> <b>。</b> <i>Go through this link.</i> <b>浏览此链接。</b> <i>It answers your question.</i> <b>它回答了你的问题。</b> <i>The system does the job of killing an application.</i> <b>系统完成了杀死应用程序的工作。</b> </p> 
<p> <i>Suppose you have two activities A an B. You navigate from A to B. When you click back button your activity B is popped form the backstack and destroyed.</i> <b>假设您有两个活动A和B.您从A导航到B.当您单击后退按钮时，您的活动B将从后台堆叠中弹出并销毁。</b> <i>Previous activity in back stack activity A takes focus.</i> <b>后堆栈活动A中的先前活动需要关注。</b> </p> 
<p> <i>You should leave it to the system to decide when to kill the application.</i> <b>您应该将其留给系统来决定何时终止该应用程序。</b> </p> 
<p> <i>public void <code>finish()</code></i> <b>public void <code>finish()</code></b> </p> 
<p> <i>Call this when your activity is done and should be closed.</i> <b>在您的活动完成后调用此选项并应关闭。</b> </p> 
<p> <i>Suppose you have many activities.</i> <b>假设你有很多活动。</b> <i>you can use Action bar.</i> <b>你可以使用动作栏。</b> <i>On click of home icon naviagate to MainActivity of your application.</i> <b>点击主页图标naviagate到你的应用程序的MainActivity。</b> <i>In MainActivity click back button to quit from the application.</i> <b>在MainActivity中单击后退按钮以退出应用程序。</b> </p> 
<hr> 
<h4>#5楼</h4> 
<p> <i>This may be very late and also as per the guidelines you're not supposed to handle the life cycle process by yourself(as the os does that for you).</i> <b>这可能是非常晚的，并且根据指导原则，您不应该自己处理生命周期过程（因为操作系统会为您执行此操作）。</b> <i>A suggestion would be that you register a broadcast receiver in all your activities with " <code>finish()</code> " in their <code>onReceive()</code> &amp; whenever you wish to quit you can simple pass an intent indicating that all activities must shut down..... Although make sure that you do "unregister" the receiver in your <code>onDestroy()</code> methods.</i> <b>建议您在所有活动中注册一个广播接收器，并在其<code>onReceive()</code>注册“ <code>finish()</code> ”。当您希望退出时，您可以简单地传递一个表明所有活动必须关闭的意图.....确保在<code>onDestroy()</code>方法中“取消注册”接收器。</b> </p> 
<hr> 
<h4>#6楼</h4> 
<p> <i>I'm not sure if this is frowned upon or not, but this is how I do it...</i> <b>我不确定这是不是不赞成，但这就是我这样做的方式......</b> </p> 
<p> <i><strong>Step 1 -</strong> I usually have a class that contains methods and variables that I want to access globally.</i> <b><strong>第1步 -</strong>我通常有一个包含我想要全局访问的方法和变量的类。</b> <i>In this example I'll call it the "App" class.</i> <b>在这个例子中，我将其称为“App”类。</b> <i>Create a static Activity variable inside the class for each activity that your app has.</i> <b>在应用程序具有的每个活动的类中创建一个静态Activity变量。</b> <i>Then create a static method called "close" that will run the <code>finish()</code> method on each of those Activity variables <i>if they are NOT null</i> .</i> <b>然后创建一个名为“close”的静态方法， <i>如果它们不为null</i> ，将对每个Activity变量运行<code>finish()</code>方法。</b> <i>If you have a main/parent activity, close it last:</i> <b>如果您有主/父活动，请将其关闭：</b> </p> 
<pre><code>public class App
{
    
    // INSTANTIATED ACTIVITY VARIABLES
    

        public static Activity activity1;
        public static Activity activity2;
        public static Activity activity3;

    
    // CLOSE APP METHOD
    

        public static void close()
        {
            if (App.activity3 != null) {App.activity3.finish();}
            if (App.activity2 != null) {App.activity2.finish();}
            if (App.activity1 != null) {App.activity1.finish();}
        }
}
</code></pre> 
<p> <i><strong>Step 2 -</strong> in each of your activities, override the <code>onStart()</code> and <code>onDestroy()</code> methods.</i> <b><strong>第2步 -</strong>在每个活动中，重写<code>onStart()</code>和<code>onDestroy()</code>方法。</b> <i>In <code>onStart()</code> , set the static variable in your App class equal to " <code>this</code> ".</i> <b>在<code>onStart()</code> ，将App类中的静态变量设置为“ <code>this</code> ”。</b> <i>In <code>onDestroy()</code> , set it equal to <code>null</code> .</i> <b>在<code>onDestroy()</code> ，将其设置为<code>null</code> 。</b> <i>For example, in the "Activity1" class:</i> <b>例如，在“Activity1”类中：</b> </p> 
<pre><code>@Override
public void onStart()
{
    // RUN SUPER | REGISTER ACTIVITY AS INSTANTIATED IN APP CLASS

        super.onStart();
        App.activity1 = this;
}

@Override
public void onDestroy()
{
    // RUN SUPER | REGISTER ACTIVITY AS NULL IN APP CLASS

        super.onDestroy();
        App.activity1 = null;
}
</code></pre> 
<p> <i><strong>Step 3 -</strong> When you want to close your app, simply call <code>App.close()</code> from anywhere.</i> <b><strong>第3步 -</strong>当您想关闭应用程序时，只需从任何地方调用<code>App.close()</code> 。</b> <i>All instantiated activities will close!</i> <b>所有实例化的活动都将关闭！</b> <i>Since you are only closing activities and not killing the app itself (as in your examples), Android is free to take over from there and do any necessary cleanup.</i> <b>由于您只是关闭活动而不是杀死应用程序本身（如您的示例中所示），因此Android可以从那里接管并进行任何必要的清理。</b> </p> 
<p> <i>Again, I don't know if this would be frowned upon for any reason.</i> <b>同样，我不知道这是否会因任何原因而不受欢迎。</b> <i>If so, I'd love to read comments on why it is and how it can be improved!</i> <b>如果是这样，我很乐意阅读有关它为什么以及如何改进的评论！</b> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b68a080cb05aebbe58bb2a53e7ab4da9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序二级联动</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/833435ddb11104515823b34b4cd72f9b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">是什么让Lisp宏如此特别？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>