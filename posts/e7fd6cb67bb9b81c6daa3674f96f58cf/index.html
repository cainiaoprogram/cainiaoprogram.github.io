<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript实例学习笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaScript实例学习笔记" />
<meta property="og:description" content="JavaScript实例学习笔记 JavaScript控制表单遍历表单访问表单元素动态修改表单控件的值获取表单文本框数量修改表单的提交方式动态设置/获取焦点控件初始化表单所有控件复选框全选、取消及判断是否选中简单的数字及字符操作高亮焦点控件动态添加、删除下拉菜单 JavaScript控制DOM遍历网页元素的全部属性动态创建网页新文本段落动态删除网页文本段落动态替换段落文本内容主动触发按钮单击事件动态修改元素属性值获取下拉列表的选项 按钮特效添加背景颜色不同按钮提交到不同的表单地址禁用回车键提交表单按钮单击后自动失效为删除功能按钮添加确认提醒根据状态显示不同样式按钮按钮倒计时阅读完协议才可单击的按钮 链接特效带下划线的链接改变链接的click事件关闭窗口用链接模拟一个按钮用链接替代表单提交按钮动态修改一个链接的地址让所有链接在新窗口打开让页面所有超链接失效为链接地址新增一个参数返回页面顶部的链接需要确认的超链接 图片特效图片比例缩放图片放大镜特效图片在层里居中图片自适应框的大小为图片加上边框显示局部图片延迟加载图片动态加载图片重新加载验证码图片 文本框和下拉列表特效只带下划线的文本框用正则表达式验证email格式首字母或全部字母大写只能输入数字的文本框判断字符的个数校验电话号码格式鼠标划过文本框改变其背景色设置下拉列表框的值动态添加下拉列表框选项动态删除下拉列表框选项二级联动下拉列表框 日期和时间特效在标题栏显示当前日期根据时间动态显示标题欢迎词根据月份动态显示背景判断今天是否为节假日每秒刷新的时间展示效果时间计时器时间倒计时器计算时间差计算日期间隔网页标题体现月进度显示网页登录时间 网页特效打开新页面打开指定大小的窗口获取打开子窗口的父窗口父子窗口之间数据交互刷新当前页面屏蔽鼠标右键屏蔽上下文菜单屏蔽复制功能屏蔽选择操作防止网页被“frame”隐藏页面滚动条最小化最大化和关闭窗口脚本永不出错获取浏览器信息获取浏览器窗口尺寸屏蔽键盘功能键定时关闭页面修改浏览器标题 Ajax应用Ajax解析文本Ajax解析XMLAjax解析JSON JavaScript控制表单 遍历表单 表单name.elements 返回一个包含表单对象的集合通过console.log方式输出到控制台 访问表单元素 document.getElementsByName() 返回一个包含所有符合该名称的集合 document.getElementById() 根据id获取表单对象 动态修改表单控件的值 文本框、按钮 获取对象后 .value = “” 下拉框 获取对象后 .options.length可以获得到下拉框选项的数量获取对象后 .options[i].innerText = “” 修改选项文字 获取表单文本框数量 document.getElementsByTagName(“input”)
返回一个集合，通过 .length可以获取对象数量
获取所有input标签对象
el.type
以字符串形式获得对象的type属性 修改表单的提交方式 先通过 var dom = document.formname 获取表单DOM
var method = dom.selectname.value 获取下拉框的值
令 dom.method = method 即可修改表单的提交方式
dom.submit() 提交表单
动态设置/获取焦点控件 获取对象后调用 .focus() 方法即可设置焦点控件
document.activeElement.id中保存在焦点控件的id
初始化表单所有控件 初始化下拉框选项：获取下拉框对象后 .selectedIndex = 0;
初始化日期" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e7fd6cb67bb9b81c6daa3674f96f58cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-29T23:00:51+08:00" />
<meta property="article:modified_time" content="2020-07-29T23:00:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript实例学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>JavaScript实例学习笔记</h4> 
 <ul><li><ul><li><a href="#JavaScript_1" rel="nofollow">JavaScript控制表单</a></li><li><ul><li><a href="#_3" rel="nofollow">遍历表单</a></li><li><a href="#_11" rel="nofollow">访问表单元素</a></li><li><a href="#_20" rel="nofollow">动态修改表单控件的值</a></li><li><a href="#_30" rel="nofollow">获取表单文本框数量</a></li><li><a href="#_44" rel="nofollow">修改表单的提交方式</a></li><li><a href="#_54" rel="nofollow">动态设置/获取焦点控件</a></li><li><a href="#_62" rel="nofollow">初始化表单所有控件</a></li><li><a href="#_90" rel="nofollow">复选框全选、取消及判断是否选中</a></li><li><a href="#_133" rel="nofollow">简单的数字及字符操作</a></li><li><a href="#_154" rel="nofollow">高亮焦点控件</a></li><li><a href="#_184" rel="nofollow">动态添加、删除下拉菜单</a></li></ul> 
   </li><li><a href="#JavaScriptDOM_204" rel="nofollow">JavaScript控制DOM</a></li><li><ul><li><a href="#_206" rel="nofollow">遍历网页元素的全部属性</a></li><li><a href="#_221" rel="nofollow">动态创建网页新文本段落</a></li><li><a href="#_255" rel="nofollow">动态删除网页文本段落</a></li><li><a href="#_276" rel="nofollow">动态替换段落文本内容</a></li><li><a href="#_283" rel="nofollow">主动触发按钮单击事件</a></li><li><a href="#_293" rel="nofollow">动态修改元素属性值</a></li><li><a href="#_313" rel="nofollow">获取下拉列表的选项</a></li></ul> 
   </li><li><a href="#_327" rel="nofollow">按钮特效</a></li><li><ul><li><a href="#_333" rel="nofollow">添加背景颜色</a></li><li><a href="#_345" rel="nofollow">不同按钮提交到不同的表单地址</a></li><li><a href="#_356" rel="nofollow">禁用回车键提交表单</a></li><li><a href="#_373" rel="nofollow">按钮单击后自动失效</a></li><li><a href="#_388" rel="nofollow">为删除功能按钮添加确认提醒</a></li><li><a href="#_401" rel="nofollow">根据状态显示不同样式按钮</a></li><li><a href="#_434" rel="nofollow">按钮倒计时</a></li><li><a href="#_463" rel="nofollow">阅读完协议才可单击的按钮</a></li></ul> 
   </li><li><a href="#_488" rel="nofollow">链接特效</a></li><li><ul><li><a href="#_490" rel="nofollow">带下划线的链接</a></li><li><a href="#click_507" rel="nofollow">改变链接的click事件</a></li><li><a href="#_523" rel="nofollow">关闭窗口</a></li><li><a href="#_537" rel="nofollow">用链接模拟一个按钮</a></li><li><a href="#_561" rel="nofollow">用链接替代表单提交按钮</a></li><li><a href="#_574" rel="nofollow">动态修改一个链接的地址</a></li><li><a href="#_587" rel="nofollow">让所有链接在新窗口打开</a></li><li><a href="#_604" rel="nofollow">让页面所有超链接失效</a></li><li><a href="#_622" rel="nofollow">为链接地址新增一个参数</a></li><li><a href="#_647" rel="nofollow">返回页面顶部的链接</a></li><li><a href="#_666" rel="nofollow">需要确认的超链接</a></li></ul> 
   </li><li><a href="#_680" rel="nofollow">图片特效</a></li><li><ul><li><a href="#_682" rel="nofollow">图片比例缩放</a></li><li><a href="#_708" rel="nofollow">图片放大镜特效</a></li><li><a href="#_758" rel="nofollow">图片在层里居中</a></li><li><a href="#_778" rel="nofollow">图片自适应框的大小</a></li><li><a href="#_804" rel="nofollow">为图片加上边框</a></li><li><a href="#_849" rel="nofollow">显示局部图片</a></li><li><a href="#_873" rel="nofollow">延迟加载图片</a></li><li><a href="#_898" rel="nofollow">动态加载图片</a></li><li><a href="#_911" rel="nofollow">重新加载验证码图片</a></li></ul> 
   </li><li><a href="#_937" rel="nofollow">文本框和下拉列表特效</a></li><li><ul><li><a href="#_939" rel="nofollow">只带下划线的文本框</a></li><li><a href="#email_954" rel="nofollow">用正则表达式验证email格式</a></li><li><a href="#_975" rel="nofollow">首字母或全部字母大写</a></li><li><a href="#_997" rel="nofollow">只能输入数字的文本框</a></li><li><a href="#_1017" rel="nofollow">判断字符的个数</a></li><li><a href="#_1049" rel="nofollow">校验电话号码格式</a></li><li><a href="#_1078" rel="nofollow">鼠标划过文本框改变其背景色</a></li><li><a href="#_1101" rel="nofollow">设置下拉列表框的值</a></li><li><a href="#_1123" rel="nofollow">动态添加下拉列表框选项</a></li><li><a href="#_1147" rel="nofollow">动态删除下拉列表框选项</a></li><li><a href="#_1162" rel="nofollow">二级联动下拉列表框</a></li></ul> 
   </li><li><a href="#_1192" rel="nofollow">日期和时间特效</a></li><li><ul><li><a href="#_1194" rel="nofollow">在标题栏显示当前日期</a></li><li><a href="#_1207" rel="nofollow">根据时间动态显示标题欢迎词</a></li><li><a href="#_1236" rel="nofollow">根据月份动态显示背景</a></li><li><a href="#_1253" rel="nofollow">判断今天是否为节假日</a></li><li><a href="#_1308" rel="nofollow">每秒刷新的时间展示效果</a></li><li><a href="#_1333" rel="nofollow">时间计时器</a></li><li><a href="#_1383" rel="nofollow">时间倒计时器</a></li><li><a href="#_1449" rel="nofollow">计算时间差</a></li><li><a href="#_1487" rel="nofollow">计算日期间隔</a></li><li><a href="#_1544" rel="nofollow">网页标题体现月进度</a></li><li><a href="#_1568" rel="nofollow">显示网页登录时间</a></li></ul> 
   </li><li><a href="#_1596" rel="nofollow">网页特效</a></li><li><ul><li><a href="#_1598" rel="nofollow">打开新页面</a></li><li><a href="#_1621" rel="nofollow">打开指定大小的窗口</a></li><li><a href="#_1638" rel="nofollow">获取打开子窗口的父窗口</a></li><li><a href="#_1653" rel="nofollow">父子窗口之间数据交互</a></li><li><a href="#_1706" rel="nofollow">刷新当前页面</a></li><li><a href="#_1746" rel="nofollow">屏蔽鼠标右键</a></li><li><a href="#_1759" rel="nofollow">屏蔽上下文菜单</a></li><li><a href="#_1771" rel="nofollow">屏蔽复制功能</a></li><li><a href="#_1781" rel="nofollow">屏蔽选择操作</a></li><li><a href="#frame_1793" rel="nofollow">防止网页被“frame”</a></li><li><a href="#_1811" rel="nofollow">隐藏页面滚动条</a></li><li><a href="#_1843" rel="nofollow">最小化最大化和关闭窗口</a></li><li><a href="#_1884" rel="nofollow">脚本永不出错</a></li><li><a href="#_1902" rel="nofollow">获取浏览器信息</a></li><li><a href="#_1926" rel="nofollow">获取浏览器窗口尺寸</a></li><li><a href="#_1963" rel="nofollow">屏蔽键盘功能键</a></li><li><a href="#_1986" rel="nofollow">定时关闭页面</a></li><li><a href="#_2006" rel="nofollow">修改浏览器标题</a></li></ul> 
   </li><li><a href="#Ajax_2016" rel="nofollow">Ajax应用</a></li><li><ul><li><a href="#Ajax_2061" rel="nofollow">Ajax解析文本</a></li><li><a href="#AjaxXML_2105" rel="nofollow">Ajax解析XML</a></li><li><a href="#AjaxJSON_2181" rel="nofollow">Ajax解析JSON</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="JavaScript_1"></a>JavaScript控制表单</h3> 
<h4><a id="_3"></a>遍历表单</h4> 
<ol><li>表单name.elements 
  <ul><li>返回一个包含表单对象的集合</li><li>通过console.log方式输出到控制台</li></ul> </li></ol> 
<h4><a id="_11"></a>访问表单元素</h4> 
<ol><li>document.getElementsByName() 
  <ul><li>返回一个包含所有符合该名称的<strong>集合</strong></li></ul> </li><li>document.getElementById() 
  <ul><li>根据id获取表单对象</li></ul> </li></ol> 
<h4><a id="_20"></a>动态修改表单控件的值</h4> 
<ol><li>文本框、按钮 
  <ul><li>获取对象后 .value = “”</li></ul> </li><li>下拉框 
  <ul><li>获取对象后 .options.length可以获得到下拉框选项的数量</li><li>获取对象后 .options[i].innerText = “” 修改选项文字</li></ul> </li></ol> 
<h4><a id="_30"></a>获取表单文本框数量</h4> 
<ol><li> <p>document.getElementsByTagName(“input”)</p> 
  <ul><li> <p>返回一个集合，通过 .length可以获取对象数量</p> </li><li> <p>获取所有input标签对象</p> </li></ul> </li><li> <p>el.type</p> 
  <ul><li>以字符串形式获得对象的type属性</li></ul> </li></ol> 
<h4><a id="_44"></a>修改表单的提交方式</h4> 
<ol><li> <p>先通过 var dom = document.formname 获取表单DOM</p> </li><li> <p>var method = dom.selectname.value 获取下拉框的值</p> </li><li> <p>令 dom.method = method 即可修改表单的提交方式</p> </li><li> <p>dom.submit() 提交表单</p> </li></ol> 
<h4><a id="_54"></a>动态设置/获取焦点控件</h4> 
<p>获取对象后调用 .focus() 方法即可设置焦点控件</p> 
<p>document.activeElement.id中保存在焦点控件的id</p> 
<h4><a id="_62"></a>初始化表单所有控件</h4> 
<ol><li> <p>初始化下拉框选项：获取下拉框对象后 .selectedIndex = 0;</p> </li><li> <p>初始化日期</p> <pre><code class="prism language-js"><span class="token comment">// 创建一个当前日期对象</span>
<span class="token keyword">var</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 初始化日，如果小于9，前面补0</span>
 <span class="token keyword">var</span> day <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> now<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TODO: 格式化月，如果小于9，前面补0</span>
<span class="token keyword">var</span> month <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"0"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>now<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// TODO: 完整日期格式</span>
<span class="token keyword">var</span> today <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>month<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-birth"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> today<span class="token punctuation">;</span>
</code></pre> </li><li> <p>初始化多选框：通过document.getElementsByName 获取多选框集合后遍历</p> <pre><code class="prism language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> checkHobby<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> </li></ol> 
<h4><a id="_90"></a>复选框全选、取消及判断是否选中</h4> 
<pre><code class="prism language-js"><span class="token comment">// 全选</span>
<span class="token keyword">function</span> <span class="token function">on_checkbox_all_click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: checkbox</span>
    <span class="token keyword">var</span> checkHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> checkHobby<span class="token punctuation">)</span>
        checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 取消全选</span>
<span class="token keyword">function</span> <span class="token function">on_checkbox_none_click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: checkbox</span>
    <span class="token keyword">var</span> checkHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> checkHobby<span class="token punctuation">)</span>
        checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 部分选择</span>
<span class="token keyword">function</span> <span class="token function">on_checkbox_sel_click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: checkbox</span>
    <span class="token keyword">var</span> bChecked <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> checkHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> checkHobby<span class="token punctuation">)</span>
        checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> bChecked<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 判断是否选中</span>
<span class="token keyword">function</span> <span class="token function">on_checkbox_checked_click</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: checkbox</span>
    <span class="token keyword">var</span> checkHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"hobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> checkHobby<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">" is checked."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>checkHobby<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token string">" is not checked."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_133"></a>简单的数字及字符操作</h4> 
<pre><code class="prism language-js"><span class="token function-variable function">getUpperCase</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>str<span class="token punctuation">,</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//小写转大写</span>
     type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">"locale"</span><span class="token punctuation">;</span><span class="token comment">//是否采取本地转换格式</span>
     <span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">"locale"</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">toLocaleUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回转换后的值</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function-variable function">getNumbers</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//字符型转换成数值型</span>
    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取转换值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//如果为NaN则转换结果为0</span>
    <span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function-variable function">getString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//数字转换成字符型</span>
    <span class="token keyword">return</span> n<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_154"></a>高亮焦点控件</h4> 
<p>通过activeElement属性获取当前焦点控件，然后为其添加高亮显示的CSS样式代码</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">highlight</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> frmEle <span class="token operator">=</span> formHighlight<span class="token punctuation">.</span>elements<span class="token punctuation">;</span>
    <span class="token keyword">var</span> eleFocus <span class="token operator">=</span> document<span class="token punctuation">.</span>activeElement<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>frmEle<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">==</span> eleFocus<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eleFocus<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">"2px solid #666"</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token string">"bold"</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">"#fff"</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">"#888"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>eleFocus<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>frmEle<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_184"></a>动态添加、删除下拉菜单</h4> 
<pre><code class="prism language-js"><span class="token comment">// 删除</span>
<span class="token keyword">function</span> <span class="token function">on_remove_opt_click</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> selHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-selHobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    selHobby<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>selHobby<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 添加</span>
<span class="token keyword">function</span> <span class="token function">on_add_opt_click</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> selHobby <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-selHobby"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"option"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    option<span class="token punctuation">.</span>value <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-optValue"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    option<span class="token punctuation">.</span>text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-optText"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    selHobby<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>option<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="JavaScriptDOM_204"></a>JavaScript控制DOM</h3> 
<h4><a id="_206"></a>遍历网页元素的全部属性</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">on_get_attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrs <span class="token operator">=</span> name<span class="token punctuation">.</span>attributes<span class="token punctuation">;</span><span class="token comment">// 获取所有属性</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"input name's all attributes --- "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> attrs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"attr name : "</span> <span class="token operator">+</span> attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">", value : "</span> <span class="token operator">+</span> attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_221"></a>动态创建网页新文本段落</h4> 
<pre><code class="prism language-js"><span class="token comment">// 动态创建文本段落</span>
<span class="token keyword">function</span> <span class="token function">on_createEle_p_new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> id_div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-div1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> p1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p1<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"动态创建的文本段落."</span><span class="token punctuation">;</span>
    id_div1<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 动态追加文本段落</span>
<span class="token keyword">function</span> <span class="token function">on_createEle_p_append</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> id_div2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-div2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> p2_2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p2_2<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"动态追加(appendChild)的文本段落."</span><span class="token punctuation">;</span>
    id_div2<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>p2_2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 动态插入文本段落</span>
 <span class="token keyword">function</span> <span class="token function">on_createEle_p_insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">var</span> id_div3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-div3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> child_p <span class="token operator">=</span> id_div3<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
     <span class="token keyword">var</span> p3_1 <span class="token operator">=</span> child_p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 第一个子元素</span>
     <span class="token keyword">var</span> p3_3 <span class="token operator">=</span> child_p<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 第二个子元素</span>
     <span class="token keyword">var</span> p3_2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     p3_2<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"动态插入(insertAfter)的文本段落."</span><span class="token punctuation">;</span>
     <span class="token comment">// 将p3_2插入到p3_3的前面</span>
     id_div3<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>p3_2<span class="token punctuation">,</span> p3_3<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_255"></a>动态删除网页文本段落</h4> 
<pre><code class="prism language-js"><span class="token comment">// 删除一段文本段落</span>
 <span class="token keyword">function</span> <span class="token function">on_removeChild_p</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
     <span class="token keyword">var</span> id_div1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-div1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">var</span> child_p <span class="token operator">=</span> id_div1<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
     id_div1<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child_p<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token comment">// 删除所有文本段落</span>
<span class="token keyword">function</span> <span class="token function">on_removeChild_all_p</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> id_div3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-div3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> child_p <span class="token operator">=</span> id_div3<span class="token punctuation">.</span>childNodes<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> child_p<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        id_div3<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child_p<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_276"></a>动态替换段落文本内容</h4> 
<ol><li>innerText可以替换其中的文本内容</li><li>innerHTML则可以引入一段HTML代码</li></ol> 
<h4><a id="_283"></a>主动触发按钮单击事件</h4> 
<p>获取到按钮对象后 .click();</p> 
<pre><code class="prism language-js"> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-btn-name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_293"></a>动态修改元素属性值</h4> 
<pre><code class="prism language-js"><span class="token comment">// 把属性对象从数组中获取出来后，调用其.value值更改属性值</span>
<span class="token keyword">function</span> <span class="token function">on_modify_attr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrs <span class="token operator">=</span> input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>attributes<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"modify input's all attributes --- "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> new_attrs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"password"</span><span class="token punctuation">,</span> <span class="token string">"newCSS"</span><span class="token punctuation">,</span> <span class="token string">"pwd"</span><span class="token punctuation">,</span> <span class="token string">"id-pwd"</span><span class="token punctuation">,</span> <span class="token string">"123456"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> attrs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> new_attrs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> attrs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"attr name : "</span> <span class="token operator">+</span> attrs<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">", value : "</span> <span class="token operator">+</span> attrs<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_313"></a>获取下拉列表的选项</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">on_get_selIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 获取当前选中的地址</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-select-lang"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token comment">// 获取下拉框当前的选中对象</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-select-lang"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"select index : "</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> <span class="token string">" select text : "</span> <span class="token operator">+</span> o<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_327"></a>按钮特效</h3> 
<p>&lt;input type=“button”/&gt;和&lt;button&gt;&lt;/button&gt;，前者浏览器兼容性更好（IE），后者在两个标签之间，设计人员可以防止文本、图像和多媒体等内容。</p> 
<h4><a id="_333"></a>添加背景颜色</h4> 
<ol><li>HTML DOM对象中，定义有一个Style对象，用于表示风格样式，绝大多数页面元素均可以通过该对象来定义风格样式。</li><li>Style对象中定义了一个backgroundColor属性，表示元素的背景颜色</li></ol> 
<pre><code class="prism language-js"><span class="token comment">// 将arrBtn的按钮背景颜色设置为红色</span>
arrBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> “red”<span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_345"></a>不同按钮提交到不同的表单地址</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">submit_ch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>formMulti<span class="token punctuation">.</span>action <span class="token operator">=</span> <span class="token string">"multiForm-ch.php"</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>formMulti<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_356"></a>禁用回车键提交表单</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>表单name<span class="token punctuation">.</span><span class="token function-variable function">onkeypress</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 浏览器兼容写法</span>
        <span class="token keyword">var</span> ev <span class="token operator">=</span> window<span class="token punctuation">.</span>event <span class="token operator">||</span> ev<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ev<span class="token punctuation">.</span>keyCode <span class="token operator">==</span> <span class="token number">13</span> <span class="token operator">||</span> ev<span class="token punctuation">.</span>which <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Info : press enter no submit."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_373"></a>按钮单击后自动失效</h4> 
<pre><code class="prism language-js"><span class="token comment">// 点击后失效</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-click-once"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 重新激活</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-re-active"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-click-once"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_388"></a>为删除功能按钮添加确认提醒</h4> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-btn-confirm"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">"Please confirm to del ?"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 将p标签中的内容置空</span>
        document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_401"></a>根据状态显示不同样式按钮</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> curStatus <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment">// 状态标记</span>
<span class="token comment">// 恢复正常状态</span>
<span class="token keyword">function</span> <span class="token function">on_normal_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> v_btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-btn-status'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment">//恢复可用状态</span>
    v_btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"正常状态"</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    curStatus <span class="token operator">=</span> <span class="token string">'正常状态'</span><span class="token punctuation">;</span>         <span class="token comment">//设置正常状态显示值</span>
    <span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'当前的状态：'</span> <span class="token operator">+</span> curStatus<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 恢复停止状态</span>
<span class="token keyword">function</span> <span class="token function">on_stop_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> v_btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-btn-status'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        v_btn<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment">//恢复可用状态</span>
        v_btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"停止状态"</span><span class="token punctuation">;</span>
        v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">"#888"</span><span class="token punctuation">;</span>
        v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontWeight <span class="token operator">=</span> <span class="token string">"bold"</span><span class="token punctuation">;</span>
        v_btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">"#ccc"</span><span class="token punctuation">;</span>
        curStatus <span class="token operator">=</span> <span class="token string">'停止状态'</span><span class="token punctuation">;</span>            <span class="token comment">//设置停止状态显示值</span>
        <span class="token keyword">var</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"p"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'当前的状态：'</span> <span class="token operator">+</span> curStatus<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_434"></a>按钮倒计时</h4> 
<p>DOM对象中定义的Window对象，该对象中拥有setInterval() 方法，可以按照指定的周期（以毫秒计）来调用函数或计算表达式。注意：setInterval方法会不断循环调用函数，直到使用clearInterval() 方法清除计时器或关闭当前窗口为止。</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> btnRegTimer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//定时器</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> v_btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-btn-reg-timer"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    v_btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"注册（剩余10秒）"</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>btnRegTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//取消定时器</span>
    <span class="token keyword">var</span> btnRegSec <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>     <span class="token comment">//开始10秒倒计时</span>
    btnRegTimer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnRegSec <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>       <span class="token comment">//如果倒计时完了，则恢复按钮状态</span>
            v_btn<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            v_btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"注册"</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>btnRegTimer<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//取消定时器</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            btnRegSec<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token comment">//让倒计时秒数自减</span>
            <span class="token comment">//设置倒计时状态显示值</span>
            v_btn<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"注册（剩余 "</span> <span class="token operator">+</span> btnRegSec <span class="token operator">+</span> <span class="token string">" 秒）"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_463"></a>阅读完协议才可单击的按钮</h4> 
<p>通过监听文本域的onscroll滚动事件，并借助滚动高度属性（scrollHeight）来判断用户是否阅读完文本域中的用户协议，然后激活注册按钮</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 添加文档主体内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span>150px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>120px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">readonly</span><span class="token attr-value"><span class="token punctuation">=</span>true</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-textarea-reg<span class="token punctuation">"</span></span> <span class="token attr-name">onscroll</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>on_scroll_reg(this.id)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
		阅读完协议才可以单击的注册按钮阅读完协议才可以单击的注册按钮阅读完协议才可以单击的注册按钮阅读完协议才可以单击的注册按钮阅读完协议才可以单击的注册按钮阅读完协议才可以单击的注册按钮
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-btn-reg<span class="token punctuation">"</span></span> <span class="token attr-name">disabled</span><span class="token punctuation">&gt;</span></span>用户注册<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">function</span> <span class="token function">on_scroll_reg</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        textareaReg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>textareaReg<span class="token punctuation">.</span>scrollTop <span class="token operator">+</span> textareaReg<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> textareaReg<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-btn-reg"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="_488"></a>链接特效</h3> 
<h4><a id="_490"></a>带下划线的链接</h4> 
<p>通过设置链接DOM的style属性中的textDecoration为underline即可</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">addLinkUnderline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 获取到所有的链接&lt;a&gt;</span>
    <span class="token keyword">var</span> aLinks <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> aLinks<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">//遍历</span>
        <span class="token keyword">var</span> link <span class="token operator">=</span> aLinks<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">//当前的链接DOM</span>
        link<span class="token punctuation">.</span>style<span class="token punctuation">.</span>textDecoration <span class="token operator">=</span> <span class="token string">'underline'</span><span class="token punctuation">;</span>    <span class="token comment">//设置下划线样式</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="click_507"></a>改变链接的click事件</h4> 
<p>在获取到DOM对象后，直接修改onclick属性指定一个方法 即可</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> mLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-m-link"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mLink<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'超链接被点击了!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//事件的内容逻辑</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>   <span class="token comment">//返回</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_523"></a>关闭窗口</h4> 
<p>在获取到DOM对象后，直接修改onclick属性指定一个方法，方法体为window.close()即可</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-x-link"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xLink<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    window<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//关闭窗口</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>       <span class="token comment">//返回</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_537"></a>用链接模拟一个按钮</h4> 
<p>在页面启动的时候将链接定义成按钮的样式，然后设定边框颜色来造成深浅效果用来模仿按钮</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> linkBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-link-btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 链接定义成按钮式样式</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token string">'16px'</span><span class="token punctuation">;</span>    <span class="token comment">//字体</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">;</span> <span class="token comment">//字符对齐</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'white'</span><span class="token punctuation">;</span>      <span class="token comment">//颜色</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>padding <span class="token operator">=</span> <span class="token string">'4px 10px'</span><span class="token punctuation">;</span> <span class="token comment">//内距离</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">'3px'</span><span class="token punctuation">;</span>       <span class="token comment">//外边框</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token string">'gray'</span><span class="token punctuation">;</span>  <span class="token comment">//背景色</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>textDecoration <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>  <span class="token comment">//文本样式</span>
    <span class="token comment">// TODO: 边框颜色, 造成深浅效果来模仿按钮</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> <span class="token string">'#EEEEEE #666 #666 #EEEEEE'</span><span class="token punctuation">;</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderStyle <span class="token operator">=</span> <span class="token string">'solid'</span><span class="token punctuation">;</span>    <span class="token comment">//边框样式为实线</span>
    linkBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderWidth <span class="token operator">=</span> <span class="token string">'1px'</span><span class="token punctuation">;</span>      <span class="token comment">//边框的粗细</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_561"></a>用链接替代表单提交按钮</h4> 
<p>模拟按钮样式后，设定点击提交方法</p> 
<pre><code class="prism language-js"><span class="token comment">// 通过链接提交表单</span>
<span class="token keyword">function</span> <span class="token function">on_link_submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>formLink<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//TODO: 提交表单</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_574"></a>动态修改一个链接的地址</h4> 
<p>获取DOM对象后修改href属性</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">on_modify_url</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> mLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-m-link"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mLink<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">"#second-anchor"</span><span class="token punctuation">;</span>	<span class="token comment">// TODO: 修改链接的地址</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_587"></a>让所有链接在新窗口打开</h4> 
<p>获取到DOM数组后遍历，设置链接的target属性</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">modifyLinkTarget</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//获取到所有链接的DOM</span>
    <span class="token keyword">var</span> linkDOMS <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> linkDOMS<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> link <span class="token operator">=</span> linkDOMS<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">//当前的链接DOM</span>
        link<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token string">"_blank"</span><span class="token punctuation">;</span>     <span class="token comment">//在新窗口中打开</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_604"></a>让页面所有超链接失效</h4> 
<p>设置点击事件为null，并把地址改为什么都不做</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">invaildLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//获取到所有的链接的DOM</span>
    <span class="token keyword">var</span> linkDOMS <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> linkDOMS<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> link <span class="token operator">=</span> linkDOMS<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token comment">//当前的链接DOM</span>
        link<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>		<span class="token comment">//把点击事件置空</span>
        link<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'javascript:void(0)'</span><span class="token punctuation">;</span>   <span class="token comment">//地址改成什么都不做</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_622"></a>为链接地址新增一个参数</h4> 
<p>得到当前链接的地址后，判断是否已经有 ‘?’，如果有则直接拼 ‘&amp;’，没有则拼 ‘?’</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">addUrlParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">//得到链接的DOM</span>
    <span class="token keyword">var</span> links <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//遍历所有的链接</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> links<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> aHref <span class="token operator">=</span> links<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//得到当前的链接地址</span>
        <span class="token comment">//如果链接地址包含了问号，说明已经带有参数了</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>aHref<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//使用&amp;符号串联更多的参数</span>
            links<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span> <span class="token operator">=</span> href <span class="token operator">+</span> <span class="token string">'&amp;tab=2'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//使用？来新加第一个参数</span>
            links<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span> <span class="token operator">=</span> href <span class="token operator">+</span> <span class="token string">'?page=1'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_647"></a>返回页面顶部的链接</h4> 
<p>通过设置scrollTop的值为0实现，需要注意的是，对于HTML文档而言，是否定义DTD类型对于scrollTop属性的使用方法是不同的，compatModel属性可以用于判断HTML文档是否定义了DTD类型</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">toPageTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 通过修改document的scrollTop属性值来返回到页面顶部</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">===</span> <span class="token string">"CSS1Compat"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">===</span> <span class="token string">"BackCompat"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_666"></a>需要确认的超链接</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">confirmOpen</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token string">'请您确认打开'</span> <span class="token operator">+</span> link <span class="token operator">+</span> <span class="token string">'网址吗?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>	<span class="token comment">// TODO: 返回true</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>	<span class="token comment">// TODO: 返回false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_680"></a>图片特效</h3> 
<h4><a id="_682"></a>图片比例缩放</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//当前的x</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//当前的y</span>
<span class="token keyword">function</span> <span class="token function">toScale</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">//改变尺寸的函数</span>
    <span class="token comment">//获取DOM</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img-scale'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">//向右</span>
        x <span class="token operator">+=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>	<span class="token comment">//x坐标自加0.1</span>
        y <span class="token operator">+=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>	<span class="token comment">//y坐标自加0.1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>		<span class="token comment">//向左</span>
        x <span class="token operator">-=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>	<span class="token comment">//x坐标自减0.1</span>
        y <span class="token operator">-=</span> <span class="token number">0.1</span><span class="token punctuation">;</span>	<span class="token comment">//y坐标自减0.1</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> browser <span class="token operator">=</span> <span class="token function">getBrowser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 通过userAgent判断使用的是何种浏览器，继而进行浏览器兼容</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>browser <span class="token operator">=</span> <span class="token string">"FF"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'scale('</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>WebkitTransform <span class="token operator">=</span> <span class="token string">'scale('</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_708"></a>图片放大镜特效</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> smallBox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"smallBox"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TODO：smallBox</span>
<span class="token keyword">var</span> tool <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"tool"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TODO: tool</span>
<span class="token keyword">var</span> bigBox <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"bigBox"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TODO: bigBox</span>
<span class="token keyword">var</span> bigImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"bigImg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TODO: bigImg</span>
<span class="token comment">/**
* 鼠标进入smallBox区域内，显示tool区域和bigBox区域
*/</span>
smallBox<span class="token punctuation">.</span><span class="token function-variable function">onmouseenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    tool<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"tool active"</span><span class="token punctuation">;</span>
    bigBox<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"big-box active"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
* 鼠标离开smallBox区域，不显示tool区域和bigBox区域
*/</span>
smallBox<span class="token punctuation">.</span><span class="token function-variable function">onmouseleave</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    tool<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"tool"</span><span class="token punctuation">;</span>
    bigBox<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">"big-box"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
* 鼠标在smallBox内移动
*/</span>
smallBox<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> _e <span class="token operator">=</span> window<span class="token punctuation">.</span>event <span class="token operator">||</span> e<span class="token punctuation">;</span><span class="token comment">//事件对象</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> _e<span class="token punctuation">.</span>clientX <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetWidth <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//事件对象在小盒子内的横向偏移量</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> _e<span class="token punctuation">.</span>clientY <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//竖向偏移量</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//当左偏移出小盒子时，设为0</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//当上偏移出小盒子时，设为0</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 通过窗口客户区坐标、相对偏移量和窗口客户区坐标计算出工具区相对小盒子的位置，并在大盒子中显示放大镜特效</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span><span class="token comment">//当右偏移出小盒子时，设为小盒子的宽度-黄色放大区域宽度</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> tool<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span><span class="token comment">//当下偏移出小盒子时，设为小盒子的高度-黄色放大区域高度</span>
    <span class="token punctuation">}</span>
    tool<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span><span class="token comment">//黄色放大区域距离小盒子左偏距</span>
    tool<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> y <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span><span class="token comment">//黄色放大区域距离小盒子上偏距</span>
    bigImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token operator">-</span>x <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span><span class="token comment">//放大图片移动方向相反，偏移距离加倍</span>
    bigImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token operator">-</span>y <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">"px"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_758"></a>图片在层里居中</h4> 
<p>获取图片尺寸并通过计算得出图片在父级层元素中的定位，实现图片在层里居中显示的效果</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> imgCenter <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> imgCenter<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    <span class="token keyword">var</span> height <span class="token operator">=</span> imgCenter<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    <span class="token keyword">var</span> divCenter <span class="token operator">=</span> imgCenter<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token keyword">var</span> widthOffset <span class="token operator">=</span> divCenter<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
    <span class="token keyword">var</span> heightOffset <span class="token operator">=</span> divCenter<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>
    imgCenter<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">'0 auto'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> padding <span class="token operator">=</span> <span class="token punctuation">(</span>heightOffset <span class="token operator">-</span> height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
    divCenter<span class="token punctuation">.</span>style<span class="token punctuation">.</span>paddingTop <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">32</span> <span class="token operator">+</span> padding<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_778"></a>图片自适应框的大小</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> img1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">adjsutImgFitDiv</span><span class="token punctuation">(</span>img1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> img2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">adjsutImgFitDiv</span><span class="token punctuation">(</span>img2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
     * Adjust img to fit div
     * @param img
     */</span>
<span class="token keyword">function</span> <span class="token function">adjsutImgFitDiv</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> img<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
    <span class="token keyword">var</span> w <span class="token operator">=</span> div<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">;</span>
    <span class="token keyword">var</span> h <span class="token operator">=</span> div<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">;</span>
    <span class="token comment">// 注意尺寸的小幅修正量</span>
    img<span class="token punctuation">.</span>width <span class="token operator">=</span> w <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>height <span class="token operator">=</span> h <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_804"></a>为图片加上边框</h4> 
<pre><code class="prism language-js"><span class="token comment">/**
* 选择边框颜色
* @param thisid
*/</span>
<span class="token keyword">function</span> <span class="token function">on_sel_color_changed</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> selColor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> color <span class="token operator">=</span> selColor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> selWidth <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-sel-width'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> selWidth<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token function">setImageBorder</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
* 选择边框宽度
* @param thisid
*/</span>
<span class="token keyword">function</span> <span class="token function">on_sel_width_changed</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> selWidth <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> width <span class="token operator">=</span> selWidth<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> selColor <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-sel-color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> color <span class="token operator">=</span> selColor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token function">setImageBorder</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
* 设置图片边框
* @param width
* @param color
*/</span>
<span class="token keyword">function</span> <span class="token function">setImageBorder</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 判断边框设置值是否有效</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>width <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token operator">||</span> color <span class="token operator">==</span> <span class="token string">"none"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> width <span class="token operator">+</span> <span class="token string">'px solid '</span> <span class="token operator">+</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_849"></a>显示局部图片</h4> 
<p>通过backgroundPosition属性修改定位点</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// 局部图片定位坐标</span>
<span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">/**
* show image part
*/</span>
<span class="token keyword">function</span> <span class="token function">showImagePart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-div-img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    index<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span>
        index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundPosition <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_873"></a>延迟加载图片</h4> 
<p>避免图片全部采用静态加载方式，通过自定义lazy_src属性暂存图片地址再赋值给src</p> 
<pre><code class="prism language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 添加文档主体内容 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"id-div-center"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img lazy_src<span class="token operator">=</span><span class="token string">"images/js-delay-load.jpg"</span> src<span class="token operator">=</span><span class="token string">""</span> alt<span class="token operator">=</span><span class="token string">"图片正在加载..."</span> id<span class="token operator">=</span><span class="token string">"id-img"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 计时器</span>
<span class="token comment">// 加载事件</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>image_delay_load<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 图片延迟加载</span>
<span class="token keyword">function</span> <span class="token function">image_delay_load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">'lazy_src'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_898"></a>动态加载图片</h4> 
<p>点击按钮加载图片</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">dynLoadImg</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">'lazy_src'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_911"></a>重新加载验证码图片</h4> 
<p>通过自定义属性保存验证码路径，在js里面切换路径</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>重新加载验证码图片<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reloadVerityCode(this.id);<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>images/verifycode.01.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>图片未加载<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-img<span class="token punctuation">"</span></span>
     <span class="token attr-name">lazy_src_1</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>images/verifycode.01.jpg<span class="token punctuation">"</span></span>
     <span class="token attr-name">lazy_src_2</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>images/verifycode.02.jpg<span class="token punctuation">"</span></span>
     <span class="token attr-name">lazy_src_3</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>images/verifycode.03.jpg<span class="token punctuation">"</span></span>
     <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">reloadVerityCode</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-img'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        index<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
            index <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        img<span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span><span class="token string">'lazy_src_'</span> <span class="token operator">+</span> index<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="_937"></a>文本框和下拉列表特效</h3> 
<h4><a id="_939"></a>只带下划线的文本框</h4> 
<p>通过设定style对象的border属性以实现</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> inputUnderline <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-underline"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    inputUnderline<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderColor <span class="token operator">=</span> <span class="token string">'black'</span><span class="token punctuation">;</span>     <span class="token comment">// TODO: 设置边框颜色</span>
    inputUnderline<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderStyle <span class="token operator">=</span> <span class="token string">'solid'</span><span class="token punctuation">;</span>     <span class="token comment">// TODO: 设置边框样式为实线</span>
    inputUnderline<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderWidth <span class="token operator">=</span> <span class="token string">'0 0 1px 0'</span><span class="token punctuation">;</span> <span class="token comment">// TODO: 设置边框大小，0代表无</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="email_954"></a>用正则表达式验证email格式</h4> 
<p>html5规范中只需设置input标签的type属性为email即可</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">validateEmail</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> inputResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 获得文本框的DOM</span>
    <span class="token keyword">var</span> inputEmail <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 获得文本框的DOM</span>
    <span class="token keyword">var</span> email <span class="token operator">=</span> inputEmail<span class="token punctuation">.</span>value<span class="token punctuation">;</span>   <span class="token comment">// TODO: 获得用户输入的Email</span>
    <span class="token comment">// TODO: 定义正则表达式</span>
    <span class="token keyword">var</span> regexEmail <span class="token operator">=</span> <span class="token regex">/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>regexEmail<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        inputResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"Email校验通过."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        inputResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"Email校验失败,请检查输入格式."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_975"></a>首字母或全部字母大写</h4> 
<pre><code class="prism language-js"><span class="token comment">// 把所有字母大写</span>
<span class="token keyword">function</span> <span class="token function">allAlphabetUpper</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> allAlpha <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> valAll <span class="token operator">=</span> allAlpha<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> valNewAll <span class="token operator">=</span> valAll<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    allAlpha<span class="token punctuation">.</span>value <span class="token operator">=</span> valNewAll<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 把首字母大写</span>
<span class="token keyword">function</span> <span class="token function">firstAlphabetUpper</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> firstAlpha <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> valFirst <span class="token operator">=</span> firstAlpha<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> firstUpper <span class="token operator">=</span> valFirst<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> valNewFirst <span class="token operator">=</span> firstUpper <span class="token operator">+</span> valFirst<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> valFirst<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    firstAlpha<span class="token punctuation">.</span>value <span class="token operator">=</span> valNewFirst<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_997"></a>只能输入数字的文本框</h4> 
<p>通过正则表达式实现对数字格式的验证</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">validateNumber</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> inputResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> inputNum <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> valNum <span class="token operator">=</span> inputNum<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexNum <span class="token operator">=</span> <span class="token regex">/\b[0-9]+\b/</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>regexNum<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>valNum<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        inputResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"数字格式验证通过."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        inputResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"数字格式验证未通过,只能输入数字."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1017"></a>判断字符的个数</h4> 
<p>用于“还可以输入xx字”的提示效果</p> 
<pre><code class="prism language-js"><span class="token comment">// 计算字符</span>
<span class="token keyword">function</span> <span class="token function">countChar</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> vResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//获得文本框的DOM</span>
    <span class="token keyword">var</span> vInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vText <span class="token operator">=</span> vInput<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> sumTotal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumEn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sumCh <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    sumTotal <span class="token operator">=</span> vText<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> sumTotal<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> vText<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isChineseChar</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            sumCh<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            sumEn<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    vResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"共计"</span> <span class="token operator">+</span> sumTotal <span class="token operator">+</span> <span class="token string">"个字符,汉字字符为"</span> <span class="token operator">+</span> sumCh <span class="token operator">+</span> <span class="token string">"个,非汉字字符为"</span> <span class="token operator">+</span> sumEn <span class="token operator">+</span> <span class="token string">"个."</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 判断是否是中文字符</span>
<span class="token keyword">function</span> <span class="token function">isChineseChar</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/[\u4E00-\u9FA5]/</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 定义正则表达式</span>
    <span class="token keyword">return</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1049"></a>校验电话号码格式</h4> 
<p>通过正则表达式校验</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">validateTel</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> vResult <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vTel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vTelVal <span class="token operator">=</span> vTel<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexTel <span class="token operator">=</span> <span class="token regex">/^[(0-9)-]+$/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexMobile <span class="token operator">=</span> <span class="token regex">/^1[3578]\d{9}$/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexTel1 <span class="token operator">=</span> <span class="token regex">/^0\d{2}-\d{8}$|^0\d{3}-\d{7}$/</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> regexTel2 <span class="token operator">=</span> <span class="token regex">/^\(0\d{2}\)\d{8}$|^\(0\d{3}\)\d{7}$/</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>regexTel<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>vTelVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>regexMobile<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>vTelVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"正确的手机号码格式."</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>regexTel1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>vTelVal<span class="token punctuation">)</span> <span class="token operator">||</span> regexTel2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>vTelVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"正确的固定电话号码格式."</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            vResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"电话号码格式不正确,请重新检查."</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        vResult<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">"电话号码格式不正确,请重新检查."</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1078"></a>鼠标划过文本框改变其背景色</h4> 
<p>为文本框的onmouseover/onmouseout属性指定方法</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 获取所有的文本框DOM</span>
    <span class="token keyword">var</span> inputs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 遍历所有文本框</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> inputs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> input <span class="token operator">=</span> inputs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 当前文本框</span>
        input<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span> <span class="token comment">// TODO: 修改背景色为红色</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        input<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 恢复背景色</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1101"></a>设置下拉列表框的值</h4> 
<pre><code class="prism language-js"><span class="token comment">// 初始化设置下拉列表框</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> idSel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idSelSetColor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> arrRadio <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">"radioColor"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrRadio<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>arrRadio<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            idSel<span class="token punctuation">.</span>value <span class="token operator">=</span> arrRadio<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 设置选择的值</span>
<span class="token keyword">function</span> <span class="token function">setSelValue</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> idSel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idSelSetColor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    idSel<span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1123"></a>动态添加下拉列表框选项</h4> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>selSetColor<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>idSelSetColor<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">&gt;</span></span>请选择...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>red<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Red<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>yellow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Yellow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>green<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Green<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token keyword">function</span> <span class="token function">addColor</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> idSel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idSelSetColor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> idSelVal <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-sel-val'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> idSelText <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-sel-text'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> val <span class="token operator">=</span> idSelVal<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">var</span> text <span class="token operator">=</span> idSelText<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        idSel<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_1147"></a>动态删除下拉列表框选项</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">removeColor</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> idSel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idSelSetColor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    idSel<span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>idSel<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">removeAllColors</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> idSel <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'idSelSetColor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    idSel<span class="token punctuation">.</span>options<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1162"></a>二级联动下拉列表框</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> country <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token string">"中国"</span><span class="token punctuation">,</span> <span class="token string">"日本"</span><span class="token punctuation">,</span> <span class="token string">"韩国"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">"英国"</span><span class="token punctuation">,</span> <span class="token string">"德国"</span><span class="token punctuation">,</span> <span class="token string">"法国"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string">"美国"</span><span class="token punctuation">,</span> <span class="token string">"巴西"</span><span class="token punctuation">,</span> <span class="token string">"阿根廷"</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">/**
* select country
*/</span>
<span class="token keyword">function</span> <span class="token function">sel_country</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 获得大洲下拉选择框对象</span>
    <span class="token keyword">var</span> selContinent <span class="token operator">=</span> document<span class="token punctuation">.</span>form2sel<span class="token punctuation">.</span>continent<span class="token punctuation">;</span>
    <span class="token comment">// TODO: 获得国家下拉选择框对象</span>
    <span class="token keyword">var</span> selCountry <span class="token operator">=</span> document<span class="token punctuation">.</span>form2sel<span class="token punctuation">.</span>country<span class="token punctuation">;</span>
    <span class="token comment">// TODO: 获得大洲所对应的国家数组</span>
    <span class="token keyword">var</span> arrContinentCountry <span class="token operator">=</span> country<span class="token punctuation">[</span>selContinent<span class="token punctuation">.</span>selectedIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 清空国家下拉列表框,仅保留第一个选项</span>
    selCountry<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 将国家数组中的值填充到国家下拉列表框中</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrContinentCountry<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        selCountry<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span>arrContinentCountry<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arrContinentCountry<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1192"></a>日期和时间特效</h3> 
<h4><a id="_1194"></a>在标题栏显示当前日期</h4> 
<p>通过document.title对象修改标题栏显示内容</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1207"></a>根据时间动态显示标题欢迎词</h4> 
<p>判断时间设置问候语句</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-span-date"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> hour <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"凌晨好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"早晨好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"上午好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"中午好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"下午好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hour <span class="token operator">&gt;=</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hour <span class="token operator">&lt;</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"晚上好!"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span>title <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1236"></a>根据月份动态显示背景</h4> 
<p>判断月份，注意js中的月份会比现实中少一月，修改图片src属性</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> bgImage <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-img-bg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> month <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>month <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>month <span class="token operator">&lt;=</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        bgImage<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"images/calendar-"</span> <span class="token operator">+</span> month <span class="token operator">+</span> <span class="token string">".jpg"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1253"></a>判断今天是否为节假日</h4> 
<pre><code class="prism language-js"><span class="token comment">/**
 * get Holiday &amp; Weekend
 * @param d
 * @returns {*}
 */</span>
<span class="token keyword">function</span> <span class="token function">getHolidayWeekend</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> vHolidayWeekend<span class="token punctuation">;</span>
    <span class="token keyword">var</span> hMonth <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> hDate <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> hDay <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>hDate <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vHolidayWeekend <span class="token operator">=</span> <span class="token string">"新年元旦"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vHolidayWeekend <span class="token operator">=</span> <span class="token string">"五一劳动节"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vHolidayWeekend <span class="token operator">=</span> <span class="token string">"十一国庆节"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hDate <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vHolidayWeekend <span class="token operator">=</span> <span class="token string">"三八妇女节"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hDate <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vHolidayWeekend <span class="token operator">=</span> <span class="token string">"清明节"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hMonth <span class="token operator">==</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>hDate <span class="token operator">==</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        vHolidayWeekend <span class="token operator">=</span> <span class="token string">"中秋节"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isWeekend</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            vHolidayWeekend <span class="token operator">=</span> <span class="token string">"周末(六日)"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            vHolidayWeekend <span class="token operator">=</span> <span class="token string">"工作日"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> vHolidayWeekend<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * get Weekend
 * @param d
 * @returns {boolean}
 */</span>
<span class="token keyword">function</span> <span class="token function">isWeekend</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> hDay <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hDay <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>hDay <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1308"></a>每秒刷新的时间展示效果</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 使用setInterval函数进行定时</span>
    window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// TODO: 得到当前的时间对象</span>
        <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>     <span class="token comment">// TODO: 定义拼接的字符变量</span>
        <span class="token comment">// TODO: 得到小时数</span>
        str <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">+=</span> <span class="token string">':'</span><span class="token punctuation">;</span>          <span class="token comment">// TODO: 拼接冒号</span>
        <span class="token comment">// TODO: 得到分钟数</span>
        str <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        str <span class="token operator">+=</span> <span class="token string">':'</span><span class="token punctuation">;</span>          <span class="token comment">// TODO: 拼接冒号</span>
        <span class="token comment">// TODO: 得到秒数</span>
        str <span class="token operator">+=</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// TODO: 把结果显示出来</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-timer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 间隔为1秒</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1333"></a>时间计时器</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> iHours <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment">// TODO: 定义小时的整数变量</span>
<span class="token keyword">var</span> iMinutes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 定义分钟的整数变量</span>
<span class="token keyword">var</span> iSeconds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 定义秒数的整数变量</span>
<span class="token keyword">var</span> strHours <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 定义小时的字符变量</span>
<span class="token keyword">var</span> strMinutes <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 定义分钟的字符变量</span>
<span class="token keyword">var</span> strSeconds <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 定义秒数的字符变量</span>
<span class="token keyword">var</span> strTimer<span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 定义计时器拼接的字符变量</span>
    strTimer <span class="token operator">=</span> strHours <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strMinutes <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-start-timer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> strTimer<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * start timer
 * @param thisid
 */</span>
<span class="token keyword">function</span> <span class="token function">start_timer</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 使用setInterval函数进行定时</span>
    window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        iSeconds<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>iSeconds<span class="token operator">==</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            iSeconds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            iMinutes<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>iMinutes<span class="token operator">==</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
                iMinutes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                iHours<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            strSeconds <span class="token operator">=</span> iSeconds<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>strSeconds<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                strSeconds <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
            strMinutes <span class="token operator">=</span> iMinutes<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>strMinutes<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                strMinutes <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strMinutes<span class="token punctuation">;</span>
            strHours <span class="token operator">=</span> iHours<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>strHours<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                strHours <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strHours<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        strTimer <span class="token operator">=</span> strHours <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strMinutes <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-start-timer'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> strTimer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 间隔为1秒</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1383"></a>时间倒计时器</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> iHours <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token comment">// TODO: 定义小时的整数变量</span>
<span class="token keyword">var</span> iMinutes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 定义分钟的整数变量</span>
<span class="token keyword">var</span> iSeconds <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 定义秒数的整数变量</span>
<span class="token keyword">var</span> strHours <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 定义小时的字符变量</span>
<span class="token keyword">var</span> strMinutes <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 定义分钟的字符变量</span>
<span class="token keyword">var</span> strSeconds <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 定义秒数的字符变量</span>
<span class="token keyword">var</span> strTimer<span class="token punctuation">;</span>

window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">init_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 定义计时器拼接的字符变量</span>
    strTimer <span class="token operator">=</span> strHours <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strMinutes <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-count-down'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> strTimer<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * init time
 */</span>
<span class="token keyword">function</span> <span class="token function">init_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    iMinutes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-input-init-time"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    strMinutes <span class="token operator">=</span> iMinutes<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>strMinutes<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
        strMinutes <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strMinutes<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * start timer
 * @param thisid
 */</span>
<span class="token keyword">function</span> <span class="token function">count_down</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">init_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 使用setInterval函数进行定时</span>
    window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>iSeconds <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>iMinutes <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                iMinutes<span class="token operator">--</span><span class="token punctuation">;</span>
                strMinutes <span class="token operator">=</span> iMinutes<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>strMinutes<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    strMinutes <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strMinutes<span class="token punctuation">;</span>
                iSeconds <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>
                iSeconds<span class="token operator">--</span><span class="token punctuation">;</span>
                strSeconds <span class="token operator">=</span> iSeconds<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>strSeconds<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                    strSeconds <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>iMinutes <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                strMinutes <span class="token operator">=</span> <span class="token string">"00"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>iSeconds <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            iSeconds<span class="token operator">--</span><span class="token punctuation">;</span>
            strSeconds <span class="token operator">=</span> iSeconds<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>strSeconds<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
                strSeconds <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token punctuation">}</span>
        strTimer <span class="token operator">=</span> strHours <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strMinutes <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> strSeconds<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-count-down'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> strTimer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// TODO: 间隔为1秒</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1449"></a>计算时间差</h4> 
<pre><code class="prism language-js"><span class="token comment">/**
 * calculate time interval
 */</span>
<span class="token keyword">function</span> <span class="token function">calTimeInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> time1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-time-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> time2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-time-2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> t1 <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> t2 <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> span <span class="token operator">=</span> t1<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t2<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>span <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-time-interval"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'两个时间相差 '</span> <span class="token operator">+</span> span <span class="token operator">+</span> <span class="token string">' 秒.'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * parse time
 * @param str
 * @returns {Date}
 */</span>
<span class="token keyword">function</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> darr <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> time <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tarr <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mm <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> d<span class="token punctuation">,</span> h<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1487"></a>计算日期间隔</h4> 
<pre><code class="prism language-js"><span class="token comment">/**
 * calculate date interval
 */</span>
<span class="token keyword">function</span> <span class="token function">calDateInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> time1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-time-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> time2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-time-2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> t1 <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> t2 <span class="token operator">=</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>time2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> span <span class="token operator">=</span> t1<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> t2<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>span <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d2d <span class="token operator">=</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-date-interval"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'两个日期间隔: '</span> <span class="token operator">+</span> d2d <span class="token operator">+</span> <span class="token string">' .'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * parse time
 * @param str
 * @returns {Date}
 */</span>
<span class="token keyword">function</span> <span class="token function">parseTime</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> darr <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> time <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tarr <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>darr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mm <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>tarr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> d<span class="token punctuation">,</span> h<span class="token punctuation">,</span> mm<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * parse date
 * @param sec
 * @returns {string}
 */</span>
<span class="token keyword">function</span> <span class="token function">parseDate</span><span class="token punctuation">(</span>sec<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> seconds <span class="token operator">=</span> sec <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> minutes <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>sec <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> hours <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>minutes <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> days <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>hours <span class="token operator">/</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> s <span class="token operator">=</span> seconds<span class="token punctuation">;</span>
    <span class="token keyword">var</span> m <span class="token operator">=</span> minutes <span class="token operator">-</span> hours <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> h <span class="token operator">=</span> hours <span class="token operator">-</span> days <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> days<span class="token punctuation">;</span>

    <span class="token keyword">return</span> days <span class="token operator">+</span> <span class="token string">"天 "</span> <span class="token operator">+</span> h <span class="token operator">+</span> <span class="token string">"小时"</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">"分钟"</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">"秒"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1544"></a>网页标题体现月进度</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> strTitle<span class="token punctuation">;</span>
    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> d <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        strTitle <span class="token operator">=</span> <span class="token string">'上旬，请安排好月计划'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> d <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        strTitle <span class="token operator">=</span> <span class="token string">'中旬，请合理安排时间'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>d <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        strTitle <span class="token operator">=</span> <span class="token string">'下旬，请抓紧完成月计划'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        strTitle <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> strTitle<span class="token punctuation">;</span>
    <span class="token keyword">var</span> today <span class="token operator">=</span> date<span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-date'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">"今天: "</span> <span class="token operator">+</span> today<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1568"></a>显示网页登录时间</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 秒</span>
<span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// TODO: 分钟</span>
<span class="token keyword">var</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// TODO: 小时</span>
<span class="token comment">/**
 * window onload - login time
 */</span>
window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        s<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 秒+1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// TODO: 如果秒为60</span>
            s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 秒置零</span>
            m <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// TODO: 分钟+1</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">==</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// TODO: 如果分钟为60</span>
            m <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 分钟置零</span>
            h <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// TODO: 小时+1</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> strLoginTime <span class="token operator">=</span> <span class="token string">"您已登录, 累计时间: "</span> <span class="token operator">+</span> h <span class="token operator">+</span> <span class="token string">" 时 "</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">" 分 "</span> <span class="token operator">+</span> s <span class="token operator">+</span> <span class="token string">" 秒."</span><span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-login-time'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> strLoginTime<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="_1596"></a>网页特效</h3> 
<h4><a id="_1598"></a>打开新页面</h4> 
<p>有三种方法实现</p> 
<ul><li>直接使用超链接&lt;a&gt;</li><li>使用window对象的open方法</li><li>使用"javascript:open"脚本语言的方式</li></ul> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>open.html<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>打开新页面<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>open.html<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>打开新页面(target="_blank")<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>window.open(<span class="token punctuation">'</span>open.html<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>打开新页面(window.open)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
       <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>打开一个新的窗口(window.open)<span class="token punctuation">"</span></span>
       <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>window.open(<span class="token punctuation">'</span>open.html<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span>
       <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>打开一个新的窗口(function)<span class="token punctuation">"</span></span>
       <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>openNewHtml(<span class="token punctuation">'</span>open.html<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>javascript:openNewHtml(<span class="token punctuation">'</span>open.html<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>打开新页面(javascript:function)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_1621"></a>打开指定大小的窗口</h4> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">openNewHtml</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> w<span class="token punctuation">,</span> h<span class="token punctuation">;</span>
    w <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-window-width'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>w <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        w <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    h <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-window-height'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        h <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'width='</span> <span class="token operator">+</span> w <span class="token operator">+</span> <span class="token string">',height='</span> <span class="token operator">+</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1638"></a>获取打开子窗口的父窗口</h4> 
<p>window对象中的opener属性表示创建当前子窗口的window对象引用</p> 
<pre><code class="prism language-js"><span class="token comment">// 当前页面url</span>
<span class="token keyword">var</span> curUrl <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-sub'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">"Current url: "</span> <span class="token operator">+</span> curUrl <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
<span class="token comment">// 父页面url</span>
<span class="token keyword">var</span> openerHref <span class="token operator">=</span> window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'?'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-sub'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">"opener url: "</span> <span class="token operator">+</span> openerHref <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1653"></a>父子窗口之间数据交互</h4> 
<p>父窗口：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-div-center<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-input-user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>用户数据:<span class="token entity" title=" ">&amp;nbsp;</span><span class="token entity" title=" ">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-input-user<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>打开子窗口<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>openSubWindow(<span class="token punctuation">'</span>ch09-js-html-sub-sdata.html<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-span-parent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token comment">/**
     * open sub window
     * @param url
     */</span>
    <span class="token keyword">function</span> <span class="token function">openSubWindow</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> subWin <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>子窗口：主要通过window.opener.document获取到父窗口的DOM对象后进行操作</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-div-center<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-span-sub<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-input-return<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>回传数据:<span class="token entity" title=" ">&amp;nbsp;</span><span class="token entity" title=" ">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-input-return<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>回传数据<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>returnData(<span class="token punctuation">'</span>id-input-return<span class="token punctuation">'</span>)<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    <span class="token comment">/**
     * window onload - set date on title bar
     */</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> openerVal <span class="token operator">=</span> window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-input-user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-sub'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">+=</span> <span class="token string">"opener value: "</span> <span class="token operator">+</span> openerVal <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * return data
     * @param id
     */</span>
    <span class="token keyword">function</span> <span class="token function">returnData</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> vReturnData <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        window<span class="token punctuation">.</span>opener<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-input-user'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> vReturnData<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_1706"></a>刷新当前页面</h4> 
<p>使用DOM中的Location对象定义的reload()方法实现页面刷新</p> 
<pre><code class="prism language-js"><span class="token comment">/**
 * 人工刷新页面
 */</span>
<span class="token keyword">function</span> <span class="token function">refreshManual</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> log <span class="token operator">=</span> <span class="token string">"manual refresh log : "</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mdate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log <span class="token operator">+=</span> mdate<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// TODO: define timer variables</span>
<span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 自动刷新页面
 */</span>
<span class="token keyword">function</span> <span class="token function">refreshAuto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> log <span class="token operator">=</span> <span class="token string">"init log : "</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> pdate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log <span class="token operator">+=</span> pdate<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
    timer <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>   <span class="token comment">// TODO: setTimeout</span>
        window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> adate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log <span class="token operator">+=</span> <span class="token string">"auto refresh log : "</span> <span class="token operator">+</span> adate<span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1746"></a>屏蔽鼠标右键</h4> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 判断事件的值是否为鼠标右键</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>button <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'禁用鼠标右键!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// TODO: 提示用户禁用鼠标右键</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1759"></a>屏蔽上下文菜单</h4> 
<p>与屏蔽鼠标右键实现的效果相同，通过监听oncontextmenu实现</p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1771"></a>屏蔽复制功能</h4> 
<p>在body标签通过监听oncopy事件来实现</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">oncopy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>alert(<span class="token punctuation">'</span>禁止复制网页内容!<span class="token punctuation">'</span>);return false;<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_1781"></a>屏蔽选择操作</h4> 
<p>通过js直接屏蔽通过拖动鼠标选择，无法选择也就无法复制了</p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span><span class="token function-variable function">onselectstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="frame_1793"></a>防止网页被“frame”</h4> 
<p>防止自己的网页被无良程序员直接嵌套到他们的网站中。在js中加入一段代码，用于检测当前页面是不是顶层窗口，如果检测出不是顶层窗口，就通过脚本语言修改过来</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO: 判断有没有frame</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>top<span class="token punctuation">.</span>location <span class="token operator">!=</span> self<span class="token punctuation">.</span>location<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"网页被‘frame’了!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        top<span class="token punctuation">.</span>location <span class="token operator">=</span> self<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"网页未被‘frame’!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1811"></a>隐藏页面滚动条</h4> 
<p>通过overflow属性来实现</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r-scrollbar<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-scrollbar-1<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sbCheck(this.id)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>允许页面滚动条<span class="token entity" title=" ">&amp;nbsp;</span><span class="token entity" title=" ">&amp;nbsp;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>r-scrollbar<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id-scrollbar-0<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>sbCheck(this.id)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>隐藏页面滚动条<span class="token entity" title=" ">&amp;nbsp;</span><span class="token entity" title=" ">&amp;nbsp;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-scrollbar-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">sbCheck</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> c <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>thisid<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token string">"0"</span><span class="token punctuation">:</span>
                <span class="token comment">// TODO: 隐藏且禁用横向纵向两个滚动条</span>
                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">"hidden"</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token string">"1"</span><span class="token punctuation">:</span>
                <span class="token comment">// TODO: 开启横向纵向两个滚动条</span>
                document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">"auto"</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token punctuation">:</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h4><a id="_1843"></a>最小化最大化和关闭窗口</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> win<span class="token punctuation">;</span>    <span class="token comment">// TODO: define global window obj</span>

<span class="token comment">/**
 * open min window
 */</span>
<span class="token keyword">function</span> <span class="token function">window_min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    win <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"open.html"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"_blank"</span><span class="token punctuation">,</span> <span class="token string">"width=350,height=300"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * open max window
 */</span>
<span class="token keyword">function</span> <span class="token function">window_max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    win <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"open.html"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"_blank"</span><span class="token punctuation">,</span> <span class="token string">"width=350,height=300"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    w <span class="token operator">=</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availWidth<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    h <span class="token operator">=</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availHeight<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">resizeTo</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * close window
 */</span>
<span class="token keyword">function</span> <span class="token function">window_close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    win<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    win<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1884"></a>脚本永不出错</h4> 
<p>若js脚本存在错误，那么页面在运行的时候可能会出现用户并不希望看到的提示脚本错误的弹出对话框，使用onerror事件来添加捕获错误的代码</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>msg<span class="token punctuation">,</span> url<span class="token punctuation">,</span> line<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// TODO: 屏蔽脚本错误提示</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1902"></a>获取浏览器信息</h4> 
<p>使用navigator对象即可实现</p> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> browser_info <span class="token operator">=</span> <span class="token string">"&lt;b&gt;浏览器主要信息:&lt;/b&gt;"</span> <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"浏览器代码名称: "</span> <span class="token operator">+</span> navigator<span class="token punctuation">.</span>appCodeName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"浏览器类型: "</span> <span class="token operator">+</span> navigator<span class="token punctuation">.</span>appName <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"浏览器内核: "</span> <span class="token operator">+</span> navigator<span class="token punctuation">.</span>userAgent <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"浏览器版本: "</span> <span class="token operator">+</span> navigator<span class="token punctuation">.</span>appVersion <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"浏览器语言: "</span> <span class="token operator">+</span> navigator<span class="token punctuation">.</span>language <span class="token operator">+</span> <span class="token string">"&lt;br&gt;&lt;br&gt;"</span><span class="token punctuation">;</span>
    browser_info <span class="token operator">+=</span> <span class="token string">"&lt;b&gt;浏览器全部信息:&lt;/b&gt;"</span> <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO: 遍历所有的navigator浏览器对象数据,选区其中提供基本字符数据的</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> n <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> navigator<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"string"</span><span class="token punctuation">)</span>
            browser_info <span class="token operator">+=</span> n <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> navigator<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-span-browser-info"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> browser_info<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1926"></a>获取浏览器窗口尺寸</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> s_info <span class="token operator">=</span> <span class="token string">"&lt;b&gt;浏览器窗口尺寸:&lt;/b&gt;"</span> <span class="token operator">+</span> <span class="token string">"&lt;br&gt;&lt;br&gt;"</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> w_outer_size <span class="token operator">=</span> <span class="token function">getWindowOuterSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s_info <span class="token operator">+=</span> <span class="token string">"window.outerWidth: "</span> <span class="token operator">+</span> w_outer_size<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">" / "</span> <span class="token operator">+</span> <span class="token string">"window.outerHeight: "</span> <span class="token operator">+</span> w_outer_size<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">"&lt;br&gt;"</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> w_inner_size <span class="token operator">=</span> <span class="token function">getWindowInnerSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s_info <span class="token operator">+=</span> <span class="token string">"window.innerWidth: "</span> <span class="token operator">+</span> w_inner_size<span class="token punctuation">.</span>width <span class="token operator">+</span> <span class="token string">" / "</span> <span class="token operator">+</span> <span class="token string">"window.innerHeight: "</span> <span class="token operator">+</span> w_inner_size<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token string">"&lt;br&gt;&lt;br&gt;"</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"id-span-window-size"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> s_info<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * get window outer size
 * @returns {<!-- -->{width: number, height: number}}
 */</span>
<span class="token keyword">function</span> <span class="token function">getWindowOuterSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        width<span class="token punctuation">:</span> window<span class="token punctuation">.</span>outerWidth<span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> window<span class="token punctuation">.</span>outerHeight
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * get window inner size
 * @returns {<!-- -->{width: number, height: number}}
 */</span>
<span class="token keyword">function</span> <span class="token function">getWindowInnerSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
        width<span class="token punctuation">:</span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">,</span>
        height<span class="token punctuation">:</span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1963"></a>屏蔽键盘功能键</h4> 
<pre><code class="prism language-js">window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>ev<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> event <span class="token operator">=</span> ev <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>shiftKey<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"禁止按Shift键!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"禁止按Ctrl键!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>altKey<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"禁止按Alt键!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_1986"></a>定时关闭页面</h4> 
<p>设定一个定时器，然后调用window对象的close方法</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">set_time_close</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> t <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">var</span> timeClose <span class="token operator">=</span> t <span class="token operator">||</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeClose <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            win <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'_self'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            win<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            timer<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> timeClose<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_2006"></a>修改浏览器标题</h4> 
<p>通过修改document的title属性实现</p> 
<pre><code class="prism language-js">document<span class="token punctuation">.</span>title <span class="token operator">=</span> new_title<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="Ajax_2016"></a>Ajax应用</h3> 
<p>创建XMLhttpRequest对象，首先需要检查浏览器兼容性，如果浏览器为ie7以下浏览器则需要创建ActiveXObject</p> 
<p>创建XMLhttpRequest对象的语法为</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>对于老版本的IE5和IE6则使用ActiveXObject对象来创建</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>编写浏览器兼容代码的格式为</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequrst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>xhr对象创建成功后就可以向服务器端发送异步请求并解析异步数据</p> 
<pre><code class="prism language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>xhr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 定义当异步请求发送到服务器后需要执行的响应任务</span>
    xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> on_state_change<span class="token punctuation">;</span>
    <span class="token comment">// 定义异步请求的参数，规定了请求的类型、链接地址、true表示为异步处理请求</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET|POST"</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// TODO:xhr对象为空</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="Ajax_2061"></a>Ajax解析文本</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// TODO: define XMLHttpRequest Object</span>

<span class="token comment">/**
 * load txt file by Ajax
 */</span>
<span class="token keyword">function</span> <span class="token function">ajax_load_txt_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// TODO: Chrome, Firefox, Opera, IE7+, Edge, etc.</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// TODO: IE5, IE6</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> on_state_change<span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"ajax.txt"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Your browser does not support XMLHTTP."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * callback func
 */</span>
<span class="token keyword">function</span> <span class="token function">on_state_change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// readyState属性为4表示响应内容解析完成</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// status属性值为200表示异步操作成功</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// responseText中的值为解析后获取的文本文件中的内容</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-span-ajax-txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Problem retrieving data:"</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="AjaxXML_2105"></a>Ajax解析XML</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// TODO: define XMLHttpRequest Object</span>

<span class="token comment">/**
 * load txt file by Ajax
 */</span>
<span class="token keyword">function</span> <span class="token function">ajax_load_xml_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// TODO: Chrome, Firefox, Opera, IE7+, Edge, etc.</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// TODO: IE5, IE6</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> on_state_change<span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"ajax.xml"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Your browser does not support XMLHTTP."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * callback func
 */</span>
<span class="token keyword">function</span> <span class="token function">on_state_change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// responseXML属性将解析XML文件的结果作为Document对象返回</span>
            <span class="token keyword">var</span> xmlDoc <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseXML<span class="token punctuation">;</span>
            <span class="token keyword">var</span> x <span class="token operator">=</span> xmlDoc<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"WEB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">"&lt;table border='1'&gt;&lt;tr&gt;&lt;th&gt;Title&lt;/th&gt;&lt;th&gt;Address&lt;/th&gt;&lt;th&gt;Info&lt;/th&gt;&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> len <span class="token operator">=</span> x<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            <span class="token keyword">var</span> xx <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                v <span class="token operator">+=</span> <span class="token string">"&lt;tr&gt;"</span><span class="token punctuation">;</span>
                xx <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'TITLE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> xx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">er</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                xx <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'ADDRESS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> xx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">er</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                xx <span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'INFO'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> xx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeValue <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">er</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                v <span class="token operator">+=</span> <span class="token string">"&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            v <span class="token operator">+=</span> <span class="token string">"&lt;/table&gt;"</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-div-ajax-xml'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Problem retrieving data:"</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="AjaxJSON_2181"></a>Ajax解析JSON</h4> 
<pre><code class="prism language-js"><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// TODO: define XMLHttpRequest Object</span>

<span class="token comment">/**
 * load txt file by Ajax
 */</span>
<span class="token keyword">function</span> <span class="token function">ajax_load_json_request</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>    <span class="token comment">// TODO: Chrome, Firefox, Opera, IE7+, Edge, etc.</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>ActiveXObject<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// TODO: IE5, IE6</span>
        xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">"Microsoft.XMLHTTP"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> on_state_change<span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"GET"</span><span class="token punctuation">,</span> <span class="token string">"ajax.json"</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Your browser does not support XMLHTTP."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * callback func
 */</span>
<span class="token keyword">function</span> <span class="token function">on_state_change</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// 获取解析内容，保存为文本形式</span>
            <span class="token keyword">var</span> jsonDoc <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
            <span class="token comment">// 将文本转化为JSON对象</span>
            <span class="token keyword">var</span> jsonObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonDoc<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 获取定义的web数组</span>
            <span class="token keyword">var</span> jsonWeb <span class="token operator">=</span> jsonObj<span class="token punctuation">.</span>web<span class="token punctuation">;</span>
            <span class="token keyword">var</span> len <span class="token operator">=</span> jsonWeb<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> v <span class="token operator">=</span> <span class="token string">"&lt;table border='1'&gt;&lt;tr&gt;&lt;th&gt;Title&lt;/th&gt;&lt;th&gt;Address&lt;/th&gt;&lt;th&gt;Info&lt;/th&gt;&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                v <span class="token operator">+=</span> <span class="token string">"&lt;tr&gt;"</span><span class="token punctuation">;</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> jsonWeb<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>title <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> jsonWeb<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>address <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt;"</span> <span class="token operator">+</span> jsonWeb<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>info <span class="token operator">+</span> <span class="token string">"&lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                        v <span class="token operator">+=</span> <span class="token string">"&lt;td&gt; &lt;/td&gt;"</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                v <span class="token operator">+=</span> <span class="token string">"&lt;/tr&gt;"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            v <span class="token operator">+=</span> <span class="token string">"&lt;/table&gt;"</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'id-div-ajax-json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Problem retrieving data:"</span> <span class="token operator">+</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/094c327145ef9c9ed4db7edc30f94795/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【C&#43;&#43;】日期格式化（PTA）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ca5b2af8d7b8df87269b1b1bddbb6ac5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mysql索引详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>