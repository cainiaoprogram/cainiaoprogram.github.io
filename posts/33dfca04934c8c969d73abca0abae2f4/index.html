<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>å¤§åˆ›é¡¹ç›®æ¨è æ·±åº¦å­¦ä¹ åŠ¨ç‰©è¯†åˆ« - å·ç§¯ç¥ç»ç½‘ç»œ æœºå™¨è§†è§‰ å›¾åƒè¯†åˆ« - èœé¸Ÿç¨‹åºå‘˜åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="å¤§åˆ›é¡¹ç›®æ¨è æ·±åº¦å­¦ä¹ åŠ¨ç‰©è¯†åˆ« - å·ç§¯ç¥ç»ç½‘ç»œ æœºå™¨è§†è§‰ å›¾åƒè¯†åˆ«" />
<meta property="og:description" content="æ–‡ç« ç›®å½• 0 å‰è¨€1 èƒŒæ™¯2 ç®—æ³•åŸç†2.1 åŠ¨ç‰©è¯†åˆ«æ–¹æ³•æ¦‚å†µ2.2 å¸¸ç”¨çš„ç½‘ç»œæ¨¡å‹2.2.1 B-CNN2.2.2 SSD 3 SSDåŠ¨ç‰©ç›®æ ‡æ£€æµ‹æµç¨‹4 å®ç°æ•ˆæœ5 éƒ¨åˆ†ç›¸å…³ä»£ç 5.1 æ•°æ®é¢„å¤„ç†5.2 æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ5.3 tensorflowè®¡ç®—å›¾å¯è§†åŒ–5.4 ç½‘ç»œæ¨¡å‹è®­ç»ƒ5.5 å¯¹çŒ«ç‹—å›¾åƒè¿›è¡Œ2åˆ†ç±» 6 æœ€å 0 å‰è¨€ ğŸ”¥ ä¼˜è´¨ç«èµ›é¡¹ç›®ç³»åˆ—ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯
ğŸš© æ·±åº¦å­¦ä¹ åŠ¨ç‰©è¯†åˆ« - å·ç§¯ç¥ç»ç½‘ç»œ æœºå™¨è§†è§‰ å›¾åƒè¯†åˆ«
è¯¥é¡¹ç›®è¾ƒä¸ºæ–°é¢–ï¼Œé€‚åˆä½œä¸ºç«èµ›è¯¾é¢˜æ–¹å‘ï¼Œå­¦é•¿éå¸¸æ¨èï¼
ğŸ¥‡å­¦é•¿è¿™é‡Œç»™ä¸€ä¸ªé¢˜ç›®ç»¼åˆè¯„åˆ†(æ¯é¡¹æ»¡åˆ†5åˆ†)
éš¾åº¦ç³»æ•°ï¼š3åˆ†å·¥ä½œé‡ï¼š3åˆ†åˆ›æ–°ç‚¹ï¼š4åˆ† ğŸ§¿ æ›´å¤šèµ„æ–™, é¡¹ç›®åˆ†äº«ï¼š
https://gitee.com/dancheng-senior/postgraduate
1 èƒŒæ™¯ ç›®å‰ï¼Œç”±äºè®¡ç®—æœºèƒ½åŠ›å’Œç›¸å…³ç†è®ºçš„å‘å±•è·å¾—äº†é‡å¤§çªç ´ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„å›¾åƒæ£€æµ‹ä¸è¯†åˆ«æŠ€æœ¯å·²ç»å¹¿æ³›åº”ç”¨åˆ°äººä»¬çš„ç”Ÿäº§ç”Ÿæ´»ä¸­ã€‚å­¦é•¿å°†æ·±åº¦å­¦ä¹ çš„æŠ€æœ¯åº”ç”¨åˆ°é‡ç”ŸåŠ¨ç‰©å›¾åƒè¯†åˆ«ä¸­ï¼Œä¼˜åŒ–äº†ä¼ ç»Ÿçš„è¯†åˆ«æ–¹æ³•ï¼Œå½¢æˆå¯¹é‡ç”ŸåŠ¨ç‰©å›¾åƒæ›´ä¸ºå‡†ç¡®çš„è¯†åˆ«ï¼Œä¸ºå®ç°é«˜æ•ˆçš„é‡ç”ŸåŠ¨ç‰©å›¾åƒè¯†åˆ«æä¾›äº†å¯èƒ½ã€‚ä¸åŒäºä¼ ç»Ÿçš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«æŠ€æœ¯å¯ä»¥æ•è·åˆ°é‡ç”ŸåŠ¨ç‰©æ›´åŠ ç»†è‡´çš„ä¿¡æ¯ï¼Œæœ‰åˆ©äºå¯¹é‡ç”ŸåŠ¨ç‰©è¿›è¡Œæ›´åŠ å‡†ç¡®çš„è¯†åˆ«å’Œç ”ç©¶ã€‚å› æ­¤ï¼Œå¯¹åŸºäºæ·±åº¦å­¦ä¹ çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«å’Œç ”ç©¶ï¼Œå¯ä»¥æ›´å¥½çš„å¸®åŠ©ç¤¾ä¼šç®¡ç†è€…å’Œæ”¿åºœå…¨é¢æœ‰æ•ˆçš„å¯¹é‡ç”ŸåŠ¨ç‰©è¿›è¡Œä¿æŠ¤å’Œç›‘ç®¡ï¼Œè¿™ä¹Ÿæ­£æ˜¯ä¿æŠ¤å’Œè¯†åˆ«é‡ç”ŸåŠ¨ç‰©çš„å…³é”®ï¼ŒåŒæ—¶è¿™å¯¹æ•´ä¸ªè‡ªç„¶å’Œç¤¾ä¼šçš„å’Œè°å‘å±•å…·æœ‰æå¤§çš„æ¨åŠ¨ä½œç”¨ã€‚
2 ç®—æ³•åŸç† 2.1 åŠ¨ç‰©è¯†åˆ«æ–¹æ³•æ¦‚å†µ åŸºäºäººå·¥ç‰¹å¾çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«æ–¹æ³•ä¸»è¦é€šè¿‡äººå·¥å¯¹é‡ç”ŸåŠ¨ç‰©å›¾åƒä¸­å…·æœ‰è¾¨è¯†åº¦çš„ç‰¹å¾ä¿¡æ¯è¿›è¡Œæå–ï¼Œå¹¶é€šè¿‡ç‰¹å¾æ¯”å¯¹çš„æ–¹å¼å°±å¯ä»¥å¯¹é‡ç”ŸåŠ¨ç‰©æ‰€å±çš„ç±»åˆ«è¿›è¡Œè¯†åˆ«åˆ¤æ–­ã€‚
åœ¨æ·±åº¦å­¦ä¹ æŠ€æœ¯æ™®åŠä¹‹å‰ï¼Œä¼ ç»Ÿçš„æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯ä¸ä¼ ç»Ÿæœºå™¨å­¦ä¹ æŠ€æœ¯ä¸€ç›´æ˜¯ç ”ç©¶çš„çƒ­ç‚¹ã€‚ä¼ ç»Ÿçš„æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯æœ‰æ¨¡å—åˆ†å‰²ã€é™ä½å™ªå£°ç‚¹ã€è¾¹ç¼˜æ£€æµ‹ç­‰æ–¹æ³•ã€‚ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æŠ€æœ¯æœ‰æ”¯æŒå‘é‡æœºã€éšæœºæ£®æ—ç®—æ³•ã€BP
ç¥ç»ç½‘ç»œç®—æ³•ç­‰ã€‚
æ·±åº¦å­¦ä¹ æŠ€æœ¯æ˜¯é€šè¿‡è®¡ç®—æœºæ¨¡æ‹Ÿäººç±»å¤§è„‘çš„åˆ†å±‚è¡¨è¾¾ç»“æ„æ¥å»ºç«‹ç½‘ç»œæ¨¡å‹ï¼Œä»åŸå§‹æ•°æ®é›†ä¸­å¯¹ç›¸å…³ä¿¡æ¯é€å±‚æå–ã€‚ä¹‹åé€šè¿‡å»ºç«‹ç›¸åº”çš„ç¥ç»ç½‘ç»œå¯¹æ•°æ®è¿›è¡Œå­¦ä¹ å’Œåˆ†æï¼Œä»è€Œæé«˜å¯¹ç›®æ ‡é¢„æµ‹å’Œè¯†åˆ«çš„å‡†ç¡®ç‡ã€‚å¦‚ä»Šï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯å·²ç»ç›¸å¯¹æˆç†Ÿï¼Œåœ¨å¯¹ç›®æ ‡è¿›è¡Œç‰¹å¾æå–æ–¹é¢ï¼Œå·ç§¯ç¥ç»ç½‘ç»œæŠ€æœ¯é€æ¸å–ä»£äº†ä¼ ç»Ÿçš„å›¾åƒå¤„ç†æŠ€æœ¯ï¼Œå¹¶ä¸”åœ¨äººç±»çš„ç”Ÿäº§ç”Ÿæ´»ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œè¿™ä¸ºç ”ç©¶é‡ç”ŸåŠ¨ç‰©æ›´é«˜æ•ˆçš„è¯†åˆ«æ–¹æ³•å¥ å®šäº†åŸºç¡€ã€‚
2.2 å¸¸ç”¨çš„ç½‘ç»œæ¨¡å‹ å›¾åƒè¯†åˆ«æ˜¯æŒ‡å¯¹åŸå§‹å›¾åƒè¿›è¡Œæ•´ä½“åˆ†ææ¥è¾¾åˆ°é¢„æµ‹åŸå§‹å›¾åƒæ‰€å±ç±»åˆ«çš„æŠ€æœ¯ã€‚è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­å¯¹å›¾åƒè¯†åˆ«æŠ€æœ¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¸æ­¤åŒæ—¶ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯ä¹Ÿå¯¹å›¾åƒè¯†åˆ«é¢†åŸŸå±•å¼€äº†çªç ´ã€‚ç›®å‰åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸä¸­ï¼Œç ”ç©¶äººå‘˜å¼€å§‹ä½¿ç”¨æ·±åº¦å­¦ä¹ çš„æŠ€æœ¯ï¼Œå¹¶é€šè¿‡åœ¨å®é™…åº”ç”¨ä¸­å‘ç°ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„è¯†åˆ«æŠ€æœ¯æ¯”ä¼ ç»Ÿçš„è¯†åˆ«æŠ€æœ¯æ•ˆæœæ›´å¥½ï¼Œä¸”æ›´å…·æœ‰ä¼˜åŠ¿ã€‚
2.2.1 B-CNN åŒçº¿æ€§å·ç§¯ç¥ç»ç½‘ç»œ(Bilinear
CNNï¼ŒB-CNN)[34]æ˜¯ç”¨ä¸¤ä¸ªå·ç§¯ç¥ç»ç½‘ç»œå¯¹å›¾åƒè¿›è¡Œç‰¹å¾æå–ï¼Œç„¶åä½¿ç”¨ç›¸åº”çš„å‡½æ•°å°†å¾—åˆ°æ‰€æœ‰ç‰¹å¾è¿›è¡Œç»„åˆï¼Œç»„åˆçš„æ•°æ®å¸¦å…¥åˆ°åˆ†ç±»å™¨ä¸­è¿›è¡Œåˆ†ç±»ã€‚
2.2.2 SSD ç»å…¸çš„ SSD æ¨¡å‹æ˜¯ç”±ç»å…¸ç½‘ç»œå’Œç‰¹å¾æå–ç½‘ç»œç»„æˆã€‚
é€šè¿‡å¼•å…¥æ€§èƒ½æ›´å¥½çš„ç‰¹å¾æå–ç½‘ç»œå¯¹ SSD
ç›®æ ‡æ£€æµ‹æ¨¡å‹è¿›è¡Œäº†ä¼˜åŒ–ã€‚Fu[49]ç­‰äººæå‡ºäº†å¢åŠ å·ç§¯ç¥ç»ç½‘ç»œå±‚æ•°å’Œæ·±åº¦çš„æ–¹æ³•ç”¨äºæé«˜è¯†åˆ«å‡†ç¡®ç‡ã€‚é€šè¿‡å®é™…åº”ç”¨ä¹‹åï¼Œå‘ç°è¯¥æ–¹æ³•è¯†åˆ«å‡†ç¡®ç‡ç¡®å®å¾—åˆ°äº†ä¸€å®šç¨‹åº¦çš„æé«˜ï¼Œä½†æ˜¯æ¨¡å‹ç»“æ„å´è¶Šæ¥è¶Šå¤æ‚ï¼ŒåŒæ—¶å¯¹æ·±å±‚æ¬¡çš„ç½‘ç»œè®­ç»ƒä¹Ÿè¶Šæ¥è¶Šå›°éš¾ã€‚
3 SSDåŠ¨ç‰©ç›®æ ‡æ£€æµ‹æµç¨‹ å­¦é•¿é¦–å…ˆå¯¹ DenseNet-169 ç½‘ç»œè¿›è¡Œåˆå§‹åŒ–ï¼Œä½¿ç”¨ DenseNet-169 ç½‘ç»œä½œä¸ºç›®æ ‡æ£€æµ‹çš„å‰ç½®ç½‘ç»œç»“æ„ï¼Œå¹¶è¿ç”¨è¿ç§»å­¦ä¹ çš„æ–¹æ³•å¯¹" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/33dfca04934c8c969d73abca0abae2f4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-03T18:00:52+08:00" />
<meta property="article:modified_time" content="2024-01-03T18:00:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èœé¸Ÿç¨‹åºå‘˜åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èœé¸Ÿç¨‹åºå‘˜åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">å¤§åˆ›é¡¹ç›®æ¨è æ·±åº¦å­¦ä¹ åŠ¨ç‰©è¯†åˆ« - å·ç§¯ç¥ç»ç½‘ç»œ æœºå™¨è§†è§‰ å›¾åƒè¯†åˆ«</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>æ–‡ç« ç›®å½•</h4> 
 <ul><li><a href="#0__2" rel="nofollow">0 å‰è¨€</a></li><li><a href="#1__20" rel="nofollow">1 èƒŒæ™¯</a></li><li><a href="#2__24" rel="nofollow">2 ç®—æ³•åŸç†</a></li><li><ul><li><a href="#21__26" rel="nofollow">2.1 åŠ¨ç‰©è¯†åˆ«æ–¹æ³•æ¦‚å†µ</a></li><li><a href="#22__35" rel="nofollow">2.2 å¸¸ç”¨çš„ç½‘ç»œæ¨¡å‹</a></li><li><ul><li><a href="#221_BCNN_39" rel="nofollow">2.2.1 B-CNN</a></li><li><a href="#222_SSD_46" rel="nofollow">2.2.2 SSD</a></li></ul> 
  </li></ul> 
  </li><li><a href="#3_SSD_55" rel="nofollow">3 SSDåŠ¨ç‰©ç›®æ ‡æ£€æµ‹æµç¨‹</a></li><li><a href="#4__63" rel="nofollow">4 å®ç°æ•ˆæœ</a></li><li><a href="#5__72" rel="nofollow">5 éƒ¨åˆ†ç›¸å…³ä»£ç </a></li><li><ul><li><a href="#51__74" rel="nofollow">5.1 æ•°æ®é¢„å¤„ç†</a></li><li><a href="#52__189" rel="nofollow">5.2 æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ</a></li><li><a href="#53_tensorflow_218" rel="nofollow">5.3 tensorflowè®¡ç®—å›¾å¯è§†åŒ–</a></li><li><a href="#54__240" rel="nofollow">5.4 ç½‘ç»œæ¨¡å‹è®­ç»ƒ</a></li><li><a href="#55_2_291" rel="nofollow">5.5 å¯¹çŒ«ç‹—å›¾åƒè¿›è¡Œ2åˆ†ç±»</a></li></ul> 
  </li><li><a href="#6__297" rel="nofollow">6 æœ€å</a></li></ul> 
</div> 
<p></p> 
<h2><a id="0__2"></a>0 å‰è¨€</h2> 
<p>ğŸ”¥ ä¼˜è´¨ç«èµ›é¡¹ç›®ç³»åˆ—ï¼Œä»Šå¤©è¦åˆ†äº«çš„æ˜¯</p> 
<p>ğŸš© <strong>æ·±åº¦å­¦ä¹ åŠ¨ç‰©è¯†åˆ« - å·ç§¯ç¥ç»ç½‘ç»œ æœºå™¨è§†è§‰ å›¾åƒè¯†åˆ«</strong></p> 
<p>è¯¥é¡¹ç›®è¾ƒä¸ºæ–°é¢–ï¼Œé€‚åˆä½œä¸ºç«èµ›è¯¾é¢˜æ–¹å‘ï¼Œå­¦é•¿éå¸¸æ¨èï¼</p> 
<p>ğŸ¥‡å­¦é•¿è¿™é‡Œç»™ä¸€ä¸ªé¢˜ç›®ç»¼åˆè¯„åˆ†(æ¯é¡¹æ»¡åˆ†5åˆ†)</p> 
<ul><li>éš¾åº¦ç³»æ•°ï¼š3åˆ†</li><li>å·¥ä½œé‡ï¼š3åˆ†</li><li>åˆ›æ–°ç‚¹ï¼š4åˆ†</li></ul> 
<p>ğŸ§¿ <strong>æ›´å¤šèµ„æ–™, é¡¹ç›®åˆ†äº«ï¼š</strong></p> 
<p><a href="https://gitee.com/dancheng-senior/postgraduate" rel="nofollow">https://gitee.com/dancheng-senior/postgraduate</a></p> 
<h2><a id="1__20"></a>1 èƒŒæ™¯</h2> 
<p>ç›®å‰ï¼Œç”±äºè®¡ç®—æœºèƒ½åŠ›å’Œç›¸å…³ç†è®ºçš„å‘å±•è·å¾—äº†é‡å¤§çªç ´ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„å›¾åƒæ£€æµ‹ä¸è¯†åˆ«æŠ€æœ¯å·²ç»å¹¿æ³›åº”ç”¨åˆ°äººä»¬çš„ç”Ÿäº§ç”Ÿæ´»ä¸­ã€‚å­¦é•¿å°†æ·±åº¦å­¦ä¹ çš„æŠ€æœ¯åº”ç”¨åˆ°é‡ç”ŸåŠ¨ç‰©å›¾åƒè¯†åˆ«ä¸­ï¼Œä¼˜åŒ–äº†ä¼ ç»Ÿçš„è¯†åˆ«æ–¹æ³•ï¼Œå½¢æˆå¯¹é‡ç”ŸåŠ¨ç‰©å›¾åƒæ›´ä¸ºå‡†ç¡®çš„è¯†åˆ«ï¼Œä¸ºå®ç°é«˜æ•ˆçš„é‡ç”ŸåŠ¨ç‰©å›¾åƒè¯†åˆ«æä¾›äº†å¯èƒ½ã€‚ä¸åŒäºä¼ ç»Ÿçš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«æŠ€æœ¯å¯ä»¥æ•è·åˆ°é‡ç”ŸåŠ¨ç‰©æ›´åŠ ç»†è‡´çš„ä¿¡æ¯ï¼Œæœ‰åˆ©äºå¯¹é‡ç”ŸåŠ¨ç‰©è¿›è¡Œæ›´åŠ å‡†ç¡®çš„è¯†åˆ«å’Œç ”ç©¶ã€‚å› æ­¤ï¼Œå¯¹åŸºäºæ·±åº¦å­¦ä¹ çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«å’Œç ”ç©¶ï¼Œå¯ä»¥æ›´å¥½çš„å¸®åŠ©ç¤¾ä¼šç®¡ç†è€…å’Œæ”¿åºœå…¨é¢æœ‰æ•ˆçš„å¯¹é‡ç”ŸåŠ¨ç‰©è¿›è¡Œä¿æŠ¤å’Œç›‘ç®¡ï¼Œè¿™ä¹Ÿæ­£æ˜¯ä¿æŠ¤å’Œè¯†åˆ«é‡ç”ŸåŠ¨ç‰©çš„å…³é”®ï¼ŒåŒæ—¶è¿™å¯¹æ•´ä¸ªè‡ªç„¶å’Œç¤¾ä¼šçš„å’Œè°å‘å±•å…·æœ‰æå¤§çš„æ¨åŠ¨ä½œç”¨ã€‚</p> 
<h2><a id="2__24"></a>2 ç®—æ³•åŸç†</h2> 
<h3><a id="21__26"></a>2.1 åŠ¨ç‰©è¯†åˆ«æ–¹æ³•æ¦‚å†µ</h3> 
<p>åŸºäºäººå·¥ç‰¹å¾çš„é‡ç”ŸåŠ¨ç‰©è¯†åˆ«æ–¹æ³•ä¸»è¦é€šè¿‡äººå·¥å¯¹é‡ç”ŸåŠ¨ç‰©å›¾åƒä¸­å…·æœ‰è¾¨è¯†åº¦çš„ç‰¹å¾ä¿¡æ¯è¿›è¡Œæå–ï¼Œå¹¶é€šè¿‡ç‰¹å¾æ¯”å¯¹çš„æ–¹å¼å°±å¯ä»¥å¯¹é‡ç”ŸåŠ¨ç‰©æ‰€å±çš„ç±»åˆ«è¿›è¡Œè¯†åˆ«åˆ¤æ–­ã€‚</p> 
<p>åœ¨æ·±åº¦å­¦ä¹ æŠ€æœ¯æ™®åŠä¹‹å‰ï¼Œä¼ ç»Ÿçš„æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯ä¸ä¼ ç»Ÿæœºå™¨å­¦ä¹ æŠ€æœ¯ä¸€ç›´æ˜¯ç ”ç©¶çš„çƒ­ç‚¹ã€‚ä¼ ç»Ÿçš„æ•°å­—å›¾åƒå¤„ç†æŠ€æœ¯æœ‰æ¨¡å—åˆ†å‰²ã€é™ä½å™ªå£°ç‚¹ã€è¾¹ç¼˜æ£€æµ‹ç­‰æ–¹æ³•ã€‚ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æŠ€æœ¯æœ‰æ”¯æŒå‘é‡æœºã€éšæœºæ£®æ—ç®—æ³•ã€BP<br> ç¥ç»ç½‘ç»œç®—æ³•ç­‰ã€‚</p> 
<p>æ·±åº¦å­¦ä¹ æŠ€æœ¯æ˜¯é€šè¿‡è®¡ç®—æœºæ¨¡æ‹Ÿäººç±»å¤§è„‘çš„åˆ†å±‚è¡¨è¾¾ç»“æ„æ¥å»ºç«‹ç½‘ç»œæ¨¡å‹ï¼Œä»åŸå§‹æ•°æ®é›†ä¸­å¯¹ç›¸å…³ä¿¡æ¯é€å±‚æå–ã€‚ä¹‹åé€šè¿‡å»ºç«‹ç›¸åº”çš„ç¥ç»ç½‘ç»œå¯¹æ•°æ®è¿›è¡Œå­¦ä¹ å’Œåˆ†æï¼Œä»è€Œæé«˜å¯¹ç›®æ ‡é¢„æµ‹å’Œè¯†åˆ«çš„å‡†ç¡®ç‡ã€‚å¦‚ä»Šï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯å·²ç»ç›¸å¯¹æˆç†Ÿï¼Œåœ¨å¯¹ç›®æ ‡è¿›è¡Œç‰¹å¾æå–æ–¹é¢ï¼Œå·ç§¯ç¥ç»ç½‘ç»œæŠ€æœ¯é€æ¸å–ä»£äº†ä¼ ç»Ÿçš„å›¾åƒå¤„ç†æŠ€æœ¯ï¼Œå¹¶ä¸”åœ¨äººç±»çš„ç”Ÿäº§ç”Ÿæ´»ä¸­å¾—åˆ°äº†å¹¿æ³›åº”ç”¨ï¼Œè¿™ä¸ºç ”ç©¶é‡ç”ŸåŠ¨ç‰©æ›´é«˜æ•ˆçš„è¯†åˆ«æ–¹æ³•å¥ å®šäº†åŸºç¡€ã€‚</p> 
<h3><a id="22__35"></a>2.2 å¸¸ç”¨çš„ç½‘ç»œæ¨¡å‹</h3> 
<p>å›¾åƒè¯†åˆ«æ˜¯æŒ‡å¯¹åŸå§‹å›¾åƒè¿›è¡Œæ•´ä½“åˆ†ææ¥è¾¾åˆ°é¢„æµ‹åŸå§‹å›¾åƒæ‰€å±ç±»åˆ«çš„æŠ€æœ¯ã€‚è®¡ç®—æœºè§†è§‰é¢†åŸŸä¸­å¯¹å›¾åƒè¯†åˆ«æŠ€æœ¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¸æ­¤åŒæ—¶ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯ä¹Ÿå¯¹å›¾åƒè¯†åˆ«é¢†åŸŸå±•å¼€äº†çªç ´ã€‚ç›®å‰åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸä¸­ï¼Œç ”ç©¶äººå‘˜å¼€å§‹ä½¿ç”¨æ·±åº¦å­¦ä¹ çš„æŠ€æœ¯ï¼Œå¹¶é€šè¿‡åœ¨å®é™…åº”ç”¨ä¸­å‘ç°ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„è¯†åˆ«æŠ€æœ¯æ¯”ä¼ ç»Ÿçš„è¯†åˆ«æŠ€æœ¯æ•ˆæœæ›´å¥½ï¼Œä¸”æ›´å…·æœ‰ä¼˜åŠ¿ã€‚</p> 
<h4><a id="221_BCNN_39"></a>2.2.1 B-CNN</h4> 
<p>åŒçº¿æ€§å·ç§¯ç¥ç»ç½‘ç»œ(Bilinear<br> CNNï¼ŒB-CNN)[34]æ˜¯ç”¨ä¸¤ä¸ªå·ç§¯ç¥ç»ç½‘ç»œå¯¹å›¾åƒè¿›è¡Œç‰¹å¾æå–ï¼Œç„¶åä½¿ç”¨ç›¸åº”çš„å‡½æ•°å°†å¾—åˆ°æ‰€æœ‰ç‰¹å¾è¿›è¡Œç»„åˆï¼Œç»„åˆçš„æ•°æ®å¸¦å…¥åˆ°åˆ†ç±»å™¨ä¸­è¿›è¡Œåˆ†ç±»ã€‚</p> 
<p><img src="https://images2.imgbox.com/13/d5/uEon7TCG_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h4><a id="222_SSD_46"></a>2.2.2 SSD</h4> 
<p>ç»å…¸çš„ SSD æ¨¡å‹æ˜¯ç”±ç»å…¸ç½‘ç»œå’Œç‰¹å¾æå–ç½‘ç»œç»„æˆã€‚</p> 
<p>é€šè¿‡å¼•å…¥æ€§èƒ½æ›´å¥½çš„ç‰¹å¾æå–ç½‘ç»œå¯¹ SSD<br> ç›®æ ‡æ£€æµ‹æ¨¡å‹è¿›è¡Œäº†ä¼˜åŒ–ã€‚Fu[49]ç­‰äººæå‡ºäº†å¢åŠ å·ç§¯ç¥ç»ç½‘ç»œå±‚æ•°å’Œæ·±åº¦çš„æ–¹æ³•ç”¨äºæé«˜è¯†åˆ«å‡†ç¡®ç‡ã€‚é€šè¿‡å®é™…åº”ç”¨ä¹‹åï¼Œå‘ç°è¯¥æ–¹æ³•è¯†åˆ«å‡†ç¡®ç‡ç¡®å®å¾—åˆ°äº†ä¸€å®šç¨‹åº¦çš„æé«˜ï¼Œä½†æ˜¯æ¨¡å‹ç»“æ„å´è¶Šæ¥è¶Šå¤æ‚ï¼ŒåŒæ—¶å¯¹æ·±å±‚æ¬¡çš„ç½‘ç»œè®­ç»ƒä¹Ÿè¶Šæ¥è¶Šå›°éš¾ã€‚</p> 
<p><img src="https://images2.imgbox.com/68/7a/e1ss4Y6L_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="3_SSD_55"></a>3 SSDåŠ¨ç‰©ç›®æ ‡æ£€æµ‹æµç¨‹</h2> 
<p><img src="https://images2.imgbox.com/c2/9b/wjjH7KBK_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p>å­¦é•¿é¦–å…ˆå¯¹ DenseNet-169 ç½‘ç»œè¿›è¡Œåˆå§‹åŒ–ï¼Œä½¿ç”¨ DenseNet-169 ç½‘ç»œä½œä¸ºç›®æ ‡æ£€æµ‹çš„å‰ç½®ç½‘ç»œç»“æ„ï¼Œå¹¶è¿ç”¨è¿ç§»å­¦ä¹ çš„æ–¹æ³•å¯¹<br> DenseNet-169 è¿›è¡Œé¢„è®­ç»ƒï¼Œå¹¶å°†Snapshot Serengetiæ•°æ®é›†ä¸‹çš„æƒé‡å€¼è¿ç§»åˆ°é‡ç”ŸåŠ¨ç‰©æ£€æµ‹ä»»åŠ¡ä¸­ï¼Œä½¿æ•°æ®é›†çš„è®­ç»ƒé€Ÿåº¦å¾—åˆ°æå‡ã€‚å°†<br> DenseNet-169 ä½œä¸ºå‰ç½®ç½‘ç»œç½®äº SSD ä¸­çš„ç›®æ ‡æå–æ£€æµ‹ç½‘ç»œä¹‹å‰ï¼Œæ›´æ¢å®Œå‰ç½®ç½‘ç»œçš„ SSD ç›®æ ‡æ£€æµ‹ç½‘ç»œä¾ç„¶å®Œæ•´ã€‚</p> 
<h2><a id="4__63"></a>4 å®ç°æ•ˆæœ</h2> 
<p><img src="https://images2.imgbox.com/f7/59/0yADXqdZ_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br> <img src="https://images2.imgbox.com/68/9d/fImT4ehv_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><strong>åšä¸€ä¸ªGUIäº¤äº’ç•Œé¢</strong></p> 
<p><img src="https://images2.imgbox.com/65/72/7wj6sSdn_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="5__72"></a>5 éƒ¨åˆ†ç›¸å…³ä»£ç </h2> 
<h3><a id="51__74"></a>5.1 æ•°æ®é¢„å¤„ç†</h3> 
<p>â€‹</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv
<span class="token keyword">import</span> os
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

<span class="token keyword">import</span> random
<span class="token keyword">import</span> pickle

<span class="token keyword">import</span> time

start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>

data_dir <span class="token operator">=</span> <span class="token string">'./data'</span>
batch_save_path <span class="token operator">=</span> <span class="token string">'./batch_files'</span>

<span class="token comment"># åˆ›å»ºbatchæ–‡ä»¶å­˜å‚¨çš„æ–‡ä»¶å¤¹</span>
os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>batch_save_path<span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># å›¾ç‰‡ç»Ÿä¸€å¤§å°ï¼š100 * 100</span>
<span class="token comment"># è®­ç»ƒé›† 20000ï¼š100ä¸ªbatchæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶200å¼ å›¾ç‰‡</span>
<span class="token comment"># éªŒè¯é›† 5000ï¼šä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œæµ‹è¯•æ—¶ 50å¼  x 100 æ‰¹æ¬¡</span>

<span class="token comment"># è¿›å…¥å›¾ç‰‡æ•°æ®çš„ç›®å½•ï¼Œè¯»å–å›¾ç‰‡ä¿¡æ¯</span>
all_data_files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>data_dir<span class="token punctuation">,</span> <span class="token string">'train/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># print(all_data_files)</span>

<span class="token comment"># æ‰“ç®—æ•°æ®çš„é¡ºåº</span>
random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>all_data_files<span class="token punctuation">)</span>

all_train_files <span class="token operator">=</span> all_data_files<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">20000</span><span class="token punctuation">]</span>
all_test_files <span class="token operator">=</span> all_data_files<span class="token punctuation">[</span><span class="token number">20000</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

train_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
train_label <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
train_filenames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

test_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
test_label <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
test_filenames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token comment"># è®­ç»ƒé›†</span>
<span class="token keyword">for</span> each <span class="token keyword">in</span> all_train_files<span class="token punctuation">:</span>
    img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>data_dir<span class="token punctuation">,</span><span class="token string">'train/'</span><span class="token punctuation">,</span>each<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
    resized_img <span class="token operator">=</span> cv<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    img_data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>resized_img<span class="token punctuation">)</span>
    train_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img_data<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token string">'cat'</span> <span class="token keyword">in</span> each<span class="token punctuation">:</span>
        train_label<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> <span class="token string">'dog'</span> <span class="token keyword">in</span> each<span class="token punctuation">:</span>
        train_label<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'%s is wrong train file'</span><span class="token operator">%</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span><span class="token punctuation">)</span>
    train_filenames<span class="token punctuation">.</span>append<span class="token punctuation">(</span>each<span class="token punctuation">)</span>

<span class="token comment"># æµ‹è¯•é›†</span>
<span class="token keyword">for</span> each <span class="token keyword">in</span> all_test_files<span class="token punctuation">:</span>
    img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>data_dir<span class="token punctuation">,</span><span class="token string">'train/'</span><span class="token punctuation">,</span>each<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    resized_img <span class="token operator">=</span> cv<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    img_data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>resized_img<span class="token punctuation">)</span>
    test_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>img_data<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token string">'cat'</span> <span class="token keyword">in</span> each<span class="token punctuation">:</span>
        test_label<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">elif</span> <span class="token string">'dog'</span> <span class="token keyword">in</span> each<span class="token punctuation">:</span>
        test_label<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'%s is wrong test file'</span><span class="token operator">%</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span><span class="token punctuation">)</span>
    test_filenames<span class="token punctuation">.</span>append<span class="token punctuation">(</span>each<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>train_data<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>test_data<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># åˆ¶ä½œ100ä¸ªbatchæ–‡ä»¶</span>
start <span class="token operator">=</span> <span class="token number">0</span>
end <span class="token operator">=</span> <span class="token number">200</span>
<span class="token keyword">for</span> num <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    batch_data <span class="token operator">=</span> train_data<span class="token punctuation">[</span>start<span class="token punctuation">:</span> end<span class="token punctuation">]</span>
    batch_label <span class="token operator">=</span> train_label<span class="token punctuation">[</span>start<span class="token punctuation">:</span> end<span class="token punctuation">]</span>
    batch_filenames <span class="token operator">=</span> train_filenames<span class="token punctuation">[</span>start<span class="token punctuation">:</span> end<span class="token punctuation">]</span>
    batch_name <span class="token operator">=</span> <span class="token string">'training batch {} of 15'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>

    all_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'data'</span><span class="token punctuation">:</span>batch_data<span class="token punctuation">,</span>
    <span class="token string">'label'</span><span class="token punctuation">:</span>batch_label<span class="token punctuation">,</span>
    <span class="token string">'filenames'</span><span class="token punctuation">:</span>batch_filenames<span class="token punctuation">,</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span>batch_name
    <span class="token punctuation">}</span>

    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>batch_save_path<span class="token punctuation">,</span> <span class="token string">'train_batch_{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>all_data<span class="token punctuation">,</span> f<span class="token punctuation">)</span>

    start <span class="token operator">+=</span> <span class="token number">200</span>
    end <span class="token operator">+=</span> <span class="token number">200</span>

<span class="token comment"># åˆ¶ä½œæµ‹è¯•æ–‡ä»¶</span>
all_test_data <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'data'</span><span class="token punctuation">:</span>test_data<span class="token punctuation">,</span>
    <span class="token string">'label'</span><span class="token punctuation">:</span>test_label<span class="token punctuation">,</span>
    <span class="token string">'filenames'</span><span class="token punctuation">:</span>test_filenames<span class="token punctuation">,</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token string">'test batch 1 of 1'</span>
    <span class="token punctuation">}</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>batch_save_path<span class="token punctuation">,</span> <span class="token string">'test_batch'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    pickle<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>all_test_data<span class="token punctuation">,</span> f<span class="token punctuation">)</span>

end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'åˆ¶ä½œç»“æŸ, ç”¨æ—¶{}ç§’'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>end_time <span class="token operator">-</span> start_time<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="52__189"></a>5.2 æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ</h3> 
<p><strong>cnnå·ç§¯ç¥ç»ç½‘ç»œçš„ç¼–å†™å¦‚ä¸‹ï¼Œç¼–å†™å·ç§¯å±‚ã€æ± åŒ–å±‚å’Œå…¨è¿æ¥å±‚çš„ä»£ç </strong></p> 
<p>â€‹</p> 
<pre><code class="prism language-python">conv1_1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv1_1'</span><span class="token punctuation">)</span>
conv1_2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>conv1_1<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv1_2'</span><span class="token punctuation">)</span>
pool1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>max_pooling2d<span class="token punctuation">(</span>conv1_2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'pool1'</span><span class="token punctuation">)</span>
conv2_1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>pool1<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv2_1'</span><span class="token punctuation">)</span>
conv2_2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>conv2_1<span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv2_2'</span><span class="token punctuation">)</span>
pool2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>max_pooling2d<span class="token punctuation">(</span>conv2_2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'pool2'</span><span class="token punctuation">)</span>
conv3_1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>pool2<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv3_1'</span><span class="token punctuation">)</span>
conv3_2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>conv3_1<span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv3_2'</span><span class="token punctuation">)</span>
pool3 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>max_pooling2d<span class="token punctuation">(</span>conv3_2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'pool3'</span><span class="token punctuation">)</span>
conv4_1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>pool3<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv4_1'</span><span class="token punctuation">)</span>
conv4_2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>conv4_1<span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> padding<span class="token operator">=</span><span class="token string">'same'</span><span class="token punctuation">,</span> activation<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'conv4_2'</span><span class="token punctuation">)</span>
pool4 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>max_pooling2d<span class="token punctuation">(</span>conv4_2<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'pool4'</span><span class="token punctuation">)</span>

flatten <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span>pool4<span class="token punctuation">)</span>
fc1 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>dense<span class="token punctuation">(</span>flatten<span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">,</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">)</span>
fc1_dropout <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>fc1<span class="token punctuation">,</span> keep_prob<span class="token operator">=</span>keep_prob<span class="token punctuation">)</span>
fc2 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>dense<span class="token punctuation">(</span>fc1<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">)</span>
fc2_dropout <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>dropout<span class="token punctuation">(</span>fc2<span class="token punctuation">,</span> keep_prob<span class="token operator">=</span>keep_prob<span class="token punctuation">)</span>
fc3 <span class="token operator">=</span> tf<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>dense<span class="token punctuation">(</span>fc2<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="53_tensorflow_218"></a>5.3 tensorflowè®¡ç®—å›¾å¯è§†åŒ–</h3> 
<p>â€‹</p> 
<pre><code class="prism language-python">self<span class="token punctuation">.</span>x <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>float32<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">,</span> IMAGE_SIZE<span class="token punctuation">,</span> IMAGE_SIZE<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'input_data'</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>y <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>int64<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token boolean">None</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'output_data'</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>keep_prob <span class="token operator">=</span> tf<span class="token punctuation">.</span>placeholder<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>

<span class="token comment"># å›¾ç‰‡è¾“å…¥ç½‘ç»œä¸­</span>
fc <span class="token operator">=</span> self<span class="token punctuation">.</span>conv_net<span class="token punctuation">(</span>self<span class="token punctuation">.</span>x<span class="token punctuation">,</span> self<span class="token punctuation">.</span>keep_prob<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>loss <span class="token operator">=</span> tf<span class="token punctuation">.</span>losses<span class="token punctuation">.</span>sparse_softmax_cross_entropy<span class="token punctuation">(</span>labels<span class="token operator">=</span>self<span class="token punctuation">.</span>y<span class="token punctuation">,</span> logits<span class="token operator">=</span>fc<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>y_ <span class="token operator">=</span> tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>softmax<span class="token punctuation">(</span>fc<span class="token punctuation">)</span> <span class="token comment"># è®¡ç®—æ¯ä¸€ç±»çš„æ¦‚ç‡</span>
self<span class="token punctuation">.</span>predict <span class="token operator">=</span> tf<span class="token punctuation">.</span>argmax<span class="token punctuation">(</span>fc<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>acc <span class="token operator">=</span> tf<span class="token punctuation">.</span>reduce_mean<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>cast<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>equal<span class="token punctuation">(</span>self<span class="token punctuation">.</span>predict<span class="token punctuation">,</span> self<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">,</span> tf<span class="token punctuation">.</span>float32<span class="token punctuation">)</span><span class="token punctuation">)</span>
self<span class="token punctuation">.</span>train_op <span class="token operator">=</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>AdamOptimizer<span class="token punctuation">(</span>LEARNING_RATE<span class="token punctuation">)</span><span class="token punctuation">.</span>minimize<span class="token punctuation">(</span>self<span class="token punctuation">.</span>loss<span class="token punctuation">)</span>
self<span class="token punctuation">.</span>saver <span class="token operator">=</span> tf<span class="token punctuation">.</span>train<span class="token punctuation">.</span>Saver<span class="token punctuation">(</span>max_to_keep<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> 
<p>æœ€åçš„saveræ˜¯è¦å°†è®­ç»ƒå¥½çš„æ¨¡å‹ä¿å­˜åˆ°æœ¬åœ°ã€‚</p> 
<h3><a id="54__240"></a>5.4 ç½‘ç»œæ¨¡å‹è®­ç»ƒ</h3> 
<p>ç„¶åç¼–å†™è®­ç»ƒéƒ¨åˆ†çš„ä»£ç ï¼Œè®­ç»ƒæ­¥éª¤ä¸º1ä¸‡æ­¥</p> 
<p>â€‹</p> 
<pre><code class="prism language-python">acc_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">with</span> tf<span class="token punctuation">.</span>Session<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> sess<span class="token punctuation">:</span>
    sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>global_variables_initializer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>TRAIN_STEP<span class="token punctuation">)</span><span class="token punctuation">:</span>
        train_data<span class="token punctuation">,</span> train_label<span class="token punctuation">,</span> _ <span class="token operator">=</span> self<span class="token punctuation">.</span>batch_train_data<span class="token punctuation">.</span>next_batch<span class="token punctuation">(</span>TRAIN_SIZE<span class="token punctuation">)</span>

        eval_ops <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>loss<span class="token punctuation">,</span> self<span class="token punctuation">.</span>acc<span class="token punctuation">,</span> self<span class="token punctuation">.</span>train_op<span class="token punctuation">]</span>
        eval_ops_results <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span>eval_ops<span class="token punctuation">,</span> feed_dict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
            self<span class="token punctuation">.</span>x<span class="token punctuation">:</span>train_data<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>y<span class="token punctuation">:</span>train_label<span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>keep_prob<span class="token punctuation">:</span><span class="token number">0.7</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        loss_val<span class="token punctuation">,</span> train_acc <span class="token operator">=</span> eval_ops_results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>

        acc_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>train_acc<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            acc_mean <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>acc_list<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'step:{0},loss:{1:.5},acc:{2:.5},acc_mean:{3:.5}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>
                i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>loss_val<span class="token punctuation">,</span>train_acc<span class="token punctuation">,</span>acc_mean
            <span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">1000</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            test_acc_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>TEST_STEP<span class="token punctuation">)</span><span class="token punctuation">:</span>
                test_data<span class="token punctuation">,</span> test_label<span class="token punctuation">,</span> _ <span class="token operator">=</span> self<span class="token punctuation">.</span>batch_test_data<span class="token punctuation">.</span>next_batch<span class="token punctuation">(</span>TRAIN_SIZE<span class="token punctuation">)</span>
                acc_val <span class="token operator">=</span> sess<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>acc<span class="token punctuation">]</span><span class="token punctuation">,</span>feed_dict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span>
                    self<span class="token punctuation">.</span>x<span class="token punctuation">:</span>test_data<span class="token punctuation">,</span>
                    self<span class="token punctuation">.</span>y<span class="token punctuation">:</span>test_label<span class="token punctuation">,</span>
                    self<span class="token punctuation">.</span>keep_prob<span class="token punctuation">:</span><span class="token number">1.0</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            test_acc_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>acc_val<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'[Test ] step:{0}, mean_acc:{1:.5}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>
                i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>test_acc_list<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># ä¿å­˜è®­ç»ƒåçš„æ¨¡å‹</span>
    os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span>SAVE_PATH<span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    self<span class="token punctuation">.</span>saver<span class="token punctuation">.</span>save<span class="token punctuation">(</span>sess<span class="token punctuation">,</span> SAVE_PATH <span class="token operator">+</span> <span class="token string">'my_model.ckpt'</span><span class="token punctuation">)</span>
</code></pre> 
<p>è®­ç»ƒç»“æœå¦‚ä¸‹ï¼š</p> 
<p><img src="https://images2.imgbox.com/a8/58/HqmiX6gg_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h3><a id="55_2_291"></a>5.5 å¯¹çŒ«ç‹—å›¾åƒè¿›è¡Œ2åˆ†ç±»</h3> 
<p><img src="https://images2.imgbox.com/10/98/l58pkdm9_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<p><img src="https://images2.imgbox.com/30/54/W3NpwaBN_o.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> 
<h2><a id="6__297"></a>6 æœ€å</h2> 
<p>ğŸ§¿ <strong>æ›´å¤šèµ„æ–™, é¡¹ç›®åˆ†äº«ï¼š</strong></p> 
<p><a href="https://gitee.com/dancheng-senior/postgraduate" rel="nofollow">https://gitee.com/dancheng-senior/postgraduate</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7ecb761c599052e9675597138ff2d253/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">å¤§åˆ›é¡¹ç›®æ¨è æ·±åº¦å­¦ä¹ äººè„¸è¡¨æƒ…è¯†åˆ«ç®—æ³• - opencv python æœºå™¨è§†è§‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/90023f040f7946607bc6cf92de8c7b4a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">golang å¦‚ä½•åˆ¤æ–­å˜é‡çš„ç±»å‹</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 èœé¸Ÿç¨‹åºå‘˜åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>