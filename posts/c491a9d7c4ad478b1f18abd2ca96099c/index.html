<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>IntentFilter详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="IntentFilter详解" />
<meta property="og:description" content="IntentFilter的意思就是意图过滤器，当我们隐式的启动系统组件的时候，就会根据IntentFilter来筛选出合适的进行启动。
如果组件的 IntentFilter 与 Intent 中的 IntentFilter 正好匹配，系统就会启动该组件，并把 Intent 传递给它。如果有多个组件同时匹配到了，系统则会弹出一个选择框，让用户选择使用哪个应用去处理这个 Intent，比如有时候点击一个网页链接，会弹出多个应用，让用户选择用哪个浏览器去打开该链接，就是这种情况。
我们都知道，Intent 可以分为两种类型，分别为显示和隐示。
显示的调用也就是常使用的：
Intent intent = new Intent(context，Activity.class); startActivity(intent); 相信这种用法我们并不陌生。
对于隐式的调用方式，我们在创建项目的时候也就自动添加了，如在AndroidManifest.xml文件中：
&lt;activity android:name=&#34;.TestActivity&#34;&gt; &lt;intent-filter&gt; &lt;action android:name=&#34;android.intent.action.MAIN&#34; /&gt; &lt;category android:name=&#34;android.intent.category.LAUNCHER&#34; /&gt; &lt;/intent-filter&gt; &lt;/activity&gt; 在intent-filter标签中，可配置的选项有三个，分别是：
action：用来表示意图的行动，这个可以自定义也可以使用系统中自带的 Action 值。上面的android.intent.action.MAIN，标识 该Activity 为这个APP的开始。category：声明接受的Intent类别。data：根据设置的数据匹配，通常为Uri类型。 在使用时候，通常为在配置文件AndroidManifest.xml中配置Activity的过滤规则，然后使用Intent在Activity中：
Intent intent = new Intent(); intent.setAction(Intent.ACTION_BATTERY_LOW); intent.addCategory(Intent.CATEGORY_APP_EMAIL); intent.setDataAndType(Uri.EMPTY, &#34;video/mpeg&#34;); startActivity(intent); 1. &lt;action/&gt; 首先IntentFilter中可以有多个action，Intent最多能有1个。
(1) 如果&lt;intent-filter&gt;标签中有多个&lt;action/&gt;，那么Intent请求的Action，只要匹配其中的一条&lt;action/&gt;就可以通过了这条&lt;intent-filter&gt;的动作测试。
(2) 如果&lt;intent-filter&gt;中没有&lt;action/&gt;，那么无论什么Intent请求都无法和这条&lt;intent-filter&gt;匹配。
(3) 如果&lt;intent-filter&gt;中有&lt;action/&gt;，若intent中不存在action，那么可以通过；如果intent中存在action，那么intent中的action必须是IntentFilter中的其中一个（区分大小写）。
2. &lt;category /&gt; 首先IntentFilter中可以有多个category，Intent也可以有多个。
（1）如果IntentFilter不存在category，那么所有的intent都无法通过。有一个例外，Android把所有传给startActivity()的隐式意图当作他们包含至少一个类别：&#34;android.intent.category.DEFAULT&#34; 。 因此，想要接收隐式意图的活动必须在它们的意图过滤器中包含&#34;android.intent.category.DEFAULT&#34;。
（2）如果IntentFilter存在category，如果intent中不存在存在category，可以通过。如果intent中存在，那么intent中的所有category都包含在IntentFilter中，才可以通过。
即：Intent中的类别必须全部匹配&lt;intent-filter&gt;中的&lt;category /&gt;，但是&lt;intent-filter&gt;中多余的&lt;category /&gt;将不会导致匹配失败。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c491a9d7c4ad478b1f18abd2ca96099c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-03T15:23:30+08:00" />
<meta property="article:modified_time" content="2021-07-03T15:23:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">IntentFilter详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><code>IntentFilter</code>的意思就是意图过滤器，当我们隐式的启动系统组件的时候，就会根据<code>IntentFilter</code>来筛选出合适的进行启动。</p> 
<blockquote> 
 <p>如果组件的 IntentFilter 与 Intent 中的 IntentFilter 正好匹配，系统就会启动该组件，并把 Intent 传递给它。如果有多个组件同时匹配到了，系统则会弹出一个选择框，让用户选择使用哪个应用去处理这个 Intent，比如有时候点击一个网页链接，会弹出多个应用，让用户选择用哪个浏览器去打开该链接，就是这种情况。</p> 
</blockquote> 
<hr> 
<p>我们都知道，<code>Intent</code> 可以分为两种类型，分别为显示和隐示。<br> 显示的调用也就是常使用的：</p> 
<pre><code class="prism language-java">Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span>context，Activity<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>相信这种用法我们并不陌生。<br> 对于隐式的调用方式，我们在创建项目的时候也就自动添加了，如在<code>AndroidManifest.xml</code>文件中：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>.TestActivity<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.action.MAIN<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>android.intent.category.LAUNCHER<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在<code>intent-filter</code>标签中，可配置的选项有三个，分别是：</p> 
<ul><li>action：用来表示意图的行动，这个可以自定义也可以使用系统中自带的 <code>Action</code> 值。上面的<code>android.intent.action.MAIN</code>，标识 该<code>Activity</code> 为这个<code>APP</code>的开始。</li><li>category：声明接受的<code>Intent</code>类别。</li><li>data：根据设置的数据匹配，通常为<code>Uri</code>类型。</li></ul> 
<p>在使用时候，通常为在配置文件<code>AndroidManifest.xml</code>中配置<code>Activity</code>的过滤规则，然后使用<code>Intent</code>在<code>Activity</code>中：</p> 
<pre><code class="prism language-java">Intent intent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Intent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">setAction</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>ACTION_BATTERY_LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">addCategory</span><span class="token punctuation">(</span>Intent<span class="token punctuation">.</span>CATEGORY_APP_EMAIL<span class="token punctuation">)</span><span class="token punctuation">;</span>
intent<span class="token punctuation">.</span><span class="token function">setDataAndType</span><span class="token punctuation">(</span>Uri<span class="token punctuation">.</span>EMPTY<span class="token punctuation">,</span> <span class="token string">"video/mpeg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">startActivity</span><span class="token punctuation">(</span>intent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="1_action_34"></a>1. &lt;action/&gt;</h3> 
<p><strong>首先<code>IntentFilter</code>中可以有多个<code>action</code>，<code>Intent</code>最多能有<code>1</code>个。</strong></p> 
<p>(1) 如果<code>&lt;intent-filter&gt;</code>标签中有多个<code>&lt;action/&gt;</code>，那么<code>Intent</code>请求的<code>Action</code>，只要匹配其中的一条<code>&lt;action/&gt;</code>就可以通过了这条<code>&lt;intent-filter&gt;</code>的动作测试。</p> 
<p>(2) <strong>如果<code>&lt;intent-filter&gt;</code>中没有<code>&lt;action/&gt;</code></strong>，那么无论什么<code>Intent</code>请求都无法和这条<code>&lt;intent-filter&gt;</code>匹配。</p> 
<p>(3) <strong>如果<code>&lt;intent-filter&gt;</code>中有<code>&lt;action/&gt;</code></strong>，若<code>intent</code>中不存在<code>action</code>，那么可以通过；如果<code>intent</code>中存在<code>action</code>，那么<code>intent</code>中的<code>action</code>必须是<code>IntentFilter</code>中的其中一个（区分大小写）。</p> 
<h3><a id="2_category__43"></a>2. &lt;category /&gt;</h3> 
<p><strong>首先<code>IntentFilter</code>中可以有多个<code>category</code>，<code>Intent</code>也可以有多个。</strong></p> 
<p>（1）如果<code>IntentFilter</code>不存在<code>category</code>，那么所有的<code>intent</code>都无法通过。有一个例外，<code>Android</code>把所有传给<code>startActivity()</code>的隐式意图当作他们包含至少一个类别：<code>"android.intent.category.DEFAULT"</code> 。 因此，想要接收隐式意图的活动必须在它们的意图过滤器中包含<code>"android.intent.category.DEFAULT"</code>。</p> 
<p>（2）如果<code>IntentFilter</code>存在<code>category</code>，如果<code>intent</code>中不存在存在<code>category</code>，可以通过。如果<code>intent</code>中存在，那么<code>intent</code>中的所有<code>category</code>都包含在<code>IntentFilter</code>中，才可以通过。<br> 即：<code>Intent</code>中的类别必须全部匹配<code>&lt;intent-filter&gt;</code>中的<code>&lt;category /&gt;</code>，但是<code>&lt;intent-filter&gt;</code>中多余的<code>&lt;category /&gt;</code>将不会导致匹配失败。</p> 
<p><img src="https://images2.imgbox.com/9b/03/96WEaflQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_data_54"></a>3. &lt;data&gt;</h3> 
<p><strong>首先<code>IntentFilter</code>可以有多个<code>data</code>，<code>Intent</code>最多能有<code>1</code>个。</strong></p> 
<p><code>&lt;data&gt;</code>元素指定了可以接受的<code>Intent</code>传过来的数据<code>URI</code>和<code>数据类型</code>，当一个意图对象中的<code>URI</code>被用来和一个过滤器中的<code>URI</code>比较时，比较的是<code>URI</code>的各个组成部分。举个例子：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>data</span> <span class="token attr-name"><span class="token namespace">android:</span>mimeType</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/plain<span class="token punctuation">"</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>host</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>www.mathiasluo.com<span class="token punctuation">"</span></span>      
   <span class="token attr-name"><span class="token namespace">android:</span>path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/myfolder/my.txt<span class="token punctuation">"</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>pathPattern</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/myfolder/*<span class="token punctuation">"</span></span> 
   <span class="token attr-name"><span class="token namespace">android:</span>port</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>80<span class="token punctuation">"</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>scheme</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> 
<p>一个<code>data</code>主要包括的就是<code>URI</code>和<code>mimeType</code>。<code>mimeType</code>表示媒体类型，其余都属于<code>URI</code>。在<code>Intent</code>中可以设置这两部分的数据，比如：</p> 
<pre><code class="prism language-java">intent<span class="token punctuation">.</span><span class="token function">setDataAndType</span><span class="token punctuation">(</span>Uri<span class="token punctuation">,</span> <span class="token string">"text/plain"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><code>IntentFilter</code>和<code>Intent</code>中的<code>data</code>必须完全匹配才能通过，也适用于通配符。</p> 
<hr> 
<ol><li><a href="https://www.cnblogs.com/Jeely/p/11046438.html" rel="nofollow">https://www.cnblogs.com/Jeely/p/11046438.html</a></li><li><a href="https://www.jianshu.com/p/a2f826064e29" rel="nofollow">https://www.jianshu.com/p/a2f826064e29</a></li><li><a href="https://blog.csdn.net/madreain/article/details/90730431">https://blog.csdn.net/madreain/article/details/90730431</a></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e755c43d08f3fe7a55eb6dc078974bce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">POWER PIVOT</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bf2c5ffb8332aab2f690047ad5eda8a7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">RocketMQ 入门全面教程 超详细</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>