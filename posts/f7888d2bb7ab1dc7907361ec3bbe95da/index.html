<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【flink番外篇】11、Flink 并行度设置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【flink番外篇】11、Flink 并行度设置" />
<meta property="og:description" content="Flink 系列文章 一、Flink 专栏
Flink 专栏系统介绍某一知识点，并辅以具体的示例进行说明。
1、Flink 部署系列
本部分介绍Flink的部署、配置相关基础内容。
2、Flink基础系列
本部分介绍Flink 的基础部分，比如术语、架构、编程模型、编程指南、基本的datastream api用法、四大基石等内容。
3、Flik Table API和SQL基础系列
本部分介绍Flink Table Api和SQL的基本用法，比如Table API和SQL创建库、表用法、查询、窗口函数、catalog等等内容。
4、Flik Table API和SQL提高与应用系列
本部分是table api 和sql的应用部分，和实际的生产应用联系更为密切，以及有一定开发难度的内容。
5、Flink 监控系列
本部分和实际的运维、监控工作相关。
二、Flink 示例专栏
Flink 示例专栏是 Flink 专栏的辅助说明，一般不会介绍知识点的信息，更多的是提供一个一个可以具体使用的示例。本专栏不再分目录，通过链接即可看出介绍的内容。
两专栏的所有文章入口点击：Flink 系列文章汇总索引
文章目录 Flink 系列文章一、并行执行1、设置并行度1）、算子层次2）、执行环境层次3）、客户端层次4）、系统层次 2、设置最大并行度 本文介绍了Flink的并行度设置的几种方式以及并行度最大的值。
如果需要了解更多内容，可以在本人Flink 专栏中了解更新系统的内容。
本文除了maven依赖外，没有其他依赖。
一、并行执行 一个 Flink 程序由多个任务 task 组成（转换/算子、数据源和数据接收器）。一个 task 包括多个并行执行的实例，且每一个实例都处理 task 输入数据的一个子集。一个 task 的并行实例数被称为该 task 的 并行度 (parallelism)。
使用 savepoints 时，应该考虑设置最大并行度。当作业从一个 savepoint 恢复时，你可以改变特定算子或着整个程序的并行度，并且此设置会限定整个程序的并行度的上限。由于在 Flink 内部将状态划分为了 key-groups，且性能所限不能无限制地增加 key-groups，因此设定最大并行度是有必要的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f7888d2bb7ab1dc7907361ec3bbe95da/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T14:15:00+08:00" />
<meta property="article:modified_time" content="2024-01-10T14:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【flink番外篇】11、Flink 并行度设置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Flink__0"></a>Flink 系列文章</h2> 
<p><strong>一、Flink 专栏</strong></p> 
<p><a href="https://blog.csdn.net/chenwewi520feng/category_12301202.html">Flink 专栏</a>系统介绍某一知识点，并辅以具体的示例进行说明。</p> 
<ul><li> <p>1、Flink 部署系列<br> 本部分介绍Flink的部署、配置相关基础内容。</p> </li><li> <p>2、Flink基础系列<br> 本部分介绍Flink 的基础部分，比如术语、架构、编程模型、编程指南、基本的datastream api用法、四大基石等内容。</p> </li><li> <p>3、Flik Table API和SQL基础系列<br> 本部分介绍Flink Table Api和SQL的基本用法，比如Table API和SQL创建库、表用法、查询、窗口函数、catalog等等内容。</p> </li><li> <p>4、Flik Table API和SQL提高与应用系列<br> 本部分是table api 和sql的应用部分，和实际的生产应用联系更为密切，以及有一定开发难度的内容。</p> </li><li> <p>5、Flink 监控系列<br> 本部分和实际的运维、监控工作相关。</p> </li></ul> 
<p><strong>二、Flink 示例专栏</strong></p> 
<p><a href="https://blog.csdn.net/chenwewi520feng/category_12514812.html">Flink 示例专栏</a>是 Flink 专栏的辅助说明，一般不会介绍知识点的信息，更多的是提供一个一个可以具体使用的示例。本专栏不再分目录，通过链接即可看出介绍的内容。</p> 
<p>两专栏的所有文章入口点击：<a href="https://blog.csdn.net/chenwewi520feng/article/details/134875714">Flink 系列文章汇总索引</a></p> 
<hr> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Flink__0" rel="nofollow">Flink 系列文章</a></li><li><a href="#_39" rel="nofollow">一、并行执行</a></li><li><ul><li><a href="#1_44" rel="nofollow">1、设置并行度</a></li><li><ul><li><a href="#1_47" rel="nofollow">1）、算子层次</a></li><li><a href="#2_66" rel="nofollow">2）、执行环境层次</a></li><li><a href="#3_87" rel="nofollow">3）、客户端层次</a></li><li><a href="#4_271" rel="nofollow">4）、系统层次</a></li></ul> 
   </li><li><a href="#2_276" rel="nofollow">2、设置最大并行度</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr> 
<p>本文介绍了Flink的并行度设置的几种方式以及并行度最大的值。</p> 
<p>如果需要了解更多内容，可以在本人<a href="https://blog.csdn.net/chenwewi520feng/article/details/131530503">Flink 专栏</a>中了解更新系统的内容。</p> 
<p>本文除了maven依赖外，没有其他依赖。</p> 
<h2><a id="_39"></a>一、并行执行</h2> 
<p>一个 Flink 程序由多个任务 task 组成（转换/算子、数据源和数据接收器）。一个 task 包括多个并行执行的实例，且每一个实例都处理 task 输入数据的一个子集。一个 task 的并行实例数被称为该 task 的 并行度 (parallelism)。</p> 
<p>使用 savepoints 时，应该考虑设置最大并行度。当作业从一个 savepoint 恢复时，你可以改变特定算子或着整个程序的并行度，并且此设置会限定整个程序的并行度的上限。由于在 Flink 内部将状态划分为了 key-groups，且性能所限不能无限制地增加 key-groups，因此设定最大并行度是有必要的。</p> 
<h3><a id="1_44"></a>1、设置并行度</h3> 
<p>一个 task 的并行度可以从多个层次指定：</p> 
<h4><a id="1_47"></a>1）、算子层次</h4> 
<p>单个算子、数据源和数据接收器的并行度可以通过调用 setParallelism()方法来指定。如下所示：</p> 
<pre><code class="prism language-java"> <span class="token comment">// 设置 算子 并行度</span>
 <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
     <span class="token class-name">StreamExecutionEnvironment</span> env <span class="token operator">=</span> <span class="token class-name">StreamExecutionEnvironment</span><span class="token punctuation">.</span><span class="token function">getExecutionEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token class-name">DataStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token function">socketTextStream</span><span class="token punctuation">(</span><span class="token string">"192.168.10.42"</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span>
             <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                 <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lines <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                 <span class="token keyword">return</span> <span class="token string">"name:"</span> <span class="token operator">+</span> lines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" age: "</span> <span class="token operator">+</span> lines<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setParallelism</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置map的并行度</span>

     source<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     env<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="2_66"></a>2）、执行环境层次</h4> 
<p>Flink 程序运行在执行环境的上下文中。执行环境为所有执行的算子、数据源、数据接收器 (data sink) 定义了一个默认的并行度。可以显式配置算子层次的并行度去覆盖执行环境的并行度。</p> 
<p>可以通过调用 setParallelism() 方法指定执行环境的默认并行度。如果想以并行度3来执行所有的算子、数据源和数据接收器。可以在执行环境上设置默认并行度，如下所示：</p> 
<pre><code class="prism language-java"><span class="token comment">// 设置 执行环境层次 并行度</span>
<span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">StreamExecutionEnvironment</span> env <span class="token operator">=</span> <span class="token class-name">StreamExecutionEnvironment</span><span class="token punctuation">.</span><span class="token function">getExecutionEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    env<span class="token punctuation">.</span><span class="token function">setParallelism</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">DataStream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token function">socketTextStream</span><span class="token punctuation">(</span><span class="token string">"192.168.10.42"</span><span class="token punctuation">,</span> <span class="token number">8888</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> lines <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token string">"name:"</span> <span class="token operator">+</span> lines<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" age: "</span> <span class="token operator">+</span> lines<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    source<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    env<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="3_87"></a>3）、客户端层次</h4> 
<p>将作业提交到 Flink 时可在客户端设定其并行度。客户端可以是 Java 或 Scala 程序，Flink 的命令行接口（CLI）就是一种典型的客户端。</p> 
<p>在 CLI 客户端中，可以通过 -p 参数指定并行度，例如：</p> 
<pre><code class="prism language-bash">./bin/flink run <span class="token parameter variable">-p</span> <span class="token number">10</span> <span class="token punctuation">..</span>/examples/*WordCount-java*.jar
</code></pre> 
<p>或者在 Java 程序中，可以通过如下方式指定并行度：<br> 说明：<br> 1、该种方法比较复杂，是不是相当于把Flink自身的客户端实现重新实现了一遍呢？大致逻辑如下，代码示例<br> 2、具体实现可以参考其客户端的实现以及测试用例中的实现。<br> 3、客户端的入口类为org.apache.flink.client.cli.CliFrontend；其测试用例类为org.apache.flink.client.program.ClientTest</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Preconditions</span><span class="token punctuation">.</span><span class="token static">checkNotNull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span><span class="token class-name">URL</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">CompletableFuture</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Stream</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Nonnull</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>api<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">JobID</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>api<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">Plan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>api<span class="token punctuation">.</span>java<span class="token punctuation">.</span></span><span class="token class-name">ExecutionEnvironment</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>api<span class="token punctuation">.</span>java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">DiscardingOutputFormat</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">ClientUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">FlinkPipelineTranslationUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span>cli<span class="token punctuation">.</span></span><span class="token class-name">ExecutionConfigAccessor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span>deployment<span class="token punctuation">.</span></span><span class="token class-name">ClusterClientJobClientAdapter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span>program<span class="token punctuation">.</span></span><span class="token class-name">ClusterClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span>program<span class="token punctuation">.</span></span><span class="token class-name">MiniClusterClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>client<span class="token punctuation">.</span>program<span class="token punctuation">.</span></span><span class="token class-name">PackagedProgram</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">AkkaOptions</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">CoreOptions</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">DeploymentOptions</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">JobManagerOptions</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>core<span class="token punctuation">.</span>execution<span class="token punctuation">.</span></span><span class="token class-name">DefaultExecutorServiceLoader</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>core<span class="token punctuation">.</span>execution<span class="token punctuation">.</span></span><span class="token class-name">JobClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>core<span class="token punctuation">.</span>execution<span class="token punctuation">.</span></span><span class="token class-name">PipelineExecutor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>core<span class="token punctuation">.</span>execution<span class="token punctuation">.</span></span><span class="token class-name">PipelineExecutorFactory</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>core<span class="token punctuation">.</span>execution<span class="token punctuation">.</span></span><span class="token class-name">PipelineExecutorServiceLoader</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>jobgraph<span class="token punctuation">.</span></span><span class="token class-name">JobGraph</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>jobgraph<span class="token punctuation">.</span></span><span class="token class-name">SavepointRestoreSettings</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>testutils<span class="token punctuation">.</span></span><span class="token class-name">InternalMiniClusterExtension</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>flink<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>testutils<span class="token punctuation">.</span></span><span class="token class-name">MiniClusterResourceConfiguration</span></span><span class="token punctuation">;</span>

<span class="token comment">/*
 * @Author: alanchan
 * @LastEditors: alanchan
 * @Description: 
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestParallelismByClientDemo</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">TEST_EXECUTOR_NAME</span> <span class="token operator">=</span> <span class="token string">"test_executor"</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Plan</span> plan<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Configuration</span> config<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">InternalMiniClusterExtension</span> <span class="token constant">MINI_CLUSTER_RESOURCE</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InternalMiniClusterExtension</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MiniClusterResourceConfiguration<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
		<span class="token class-name">ExecutionEnvironment</span> env <span class="token operator">=</span> <span class="token class-name">ExecutionEnvironment</span><span class="token punctuation">.</span><span class="token function">createLocalEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		env<span class="token punctuation">.</span><span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DiscardingOutputFormat</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		plan <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token function">createProgramPlan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		config<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token class-name">JobManagerOptions</span><span class="token punctuation">.</span><span class="token constant">ADDRESS</span><span class="token punctuation">,</span> <span class="token string">"localhost"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		config<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">AkkaOptions</span><span class="token punctuation">.</span><span class="token constant">ASK_TIMEOUT_DURATION</span><span class="token punctuation">,</span> <span class="token class-name">AkkaOptions</span><span class="token punctuation">.</span><span class="token constant">ASK_TIMEOUT_DURATION</span><span class="token punctuation">.</span><span class="token function">defaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 1、构造PackagedProgram</span>
        <span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		configuration<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token class-name">DeploymentOptions</span><span class="token punctuation">.</span><span class="token constant">TARGET</span><span class="token punctuation">,</span> <span class="token constant">TEST_EXECUTOR_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		configuration<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">CoreOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT_PARALLELISM</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// &lt;dependency&gt;</span>
		<span class="token comment">// &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;</span>
		<span class="token comment">// &lt;artifactId&gt;flink-runtime&lt;/artifactId&gt;</span>
		<span class="token comment">// &lt;version&gt;${flink.version}&lt;/version&gt;</span>
		<span class="token comment">// &lt;/dependency&gt;</span>

        <span class="token class-name">String</span> entryPointClass <span class="token operator">=</span> <span class="token class-name">TestExecute</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> jarFilePath <span class="token operator">=</span> <span class="token string">"../examples/flinktest.jar"</span><span class="token punctuation">;</span><span class="token comment">//打包jar文件的路径</span>
        <span class="token class-name">File</span> jarFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>jarFilePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>URL<span class="token punctuation">&gt;</span></span> classpaths <span class="token operator">=</span> <span class="token class-name">PackagedProgram</span><span class="token punctuation">.</span><span class="token function">getJobJarAndDependencies</span><span class="token punctuation">(</span>jarFile<span class="token punctuation">,</span>entryPointClass<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//    Creates an instance that wraps the plan defined in the jar file using the given arguments</span>
    <span class="token comment">//    For generating the plan the class defined in the className parameter is used.</span>
    <span class="token comment">//    private PackagedProgram(</span>
    <span class="token comment">//            @Nullable File jarFile, //jarFile The jar file which contains the plan.</span>
    <span class="token comment">//            List&lt;URL&gt; classpaths, //classpaths Additional classpath URLs needed by the Program.</span>
    <span class="token comment">//            @Nullable String entryPointClassName, //entryPointClassName Name of the class which generates the plan. Overrides the class defined in the jar file manifest.</span>
    <span class="token comment">//            Configuration configuration, //configuration Flink configuration which affects the classloading policy of the Program execution.</span>
    <span class="token comment">//            SavepointRestoreSettings savepointRestoreSettings,</span>
    <span class="token comment">//            String... args) //args Optional. The arguments used to create the pact plan, depend on implementation of the pact plan. See getDescription().</span>
        <span class="token class-name">PackagedProgram</span> program <span class="token operator">=</span> <span class="token class-name">PackagedProgram</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setJarFile</span><span class="token punctuation">(</span>jarFile<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setUserClassPaths</span><span class="token punctuation">(</span>classpaths<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setEntryPointClassName</span><span class="token punctuation">(</span>entryPointClass<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setConfiguration</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setSavepointRestoreSettings</span><span class="token punctuation">(</span><span class="token class-name">SavepointRestoreSettings</span><span class="token punctuation">.</span><span class="token function">fromConfiguration</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">setArguments</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2、构造客户端执行环境</span>
        <span class="token comment">// public static void executeProgram(</span>
        <span class="token comment">//     PipelineExecutorServiceLoader executorServiceLoader,</span>
        <span class="token comment">//     Configuration configuration,</span>
        <span class="token comment">//     PackagedProgram program,</span>
        <span class="token comment">//     boolean enforceSingleJobExecution,</span>
        <span class="token comment">//     boolean suppressSysout)</span>
        <span class="token comment">// ClientUtils.executeProgram(new DefaultExecutorServiceLoader(), configuration, program, false, false);</span>


        <span class="token class-name">ClusterClient</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clusterClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MiniClusterClient</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">MINI_CLUSTER_RESOURCE</span><span class="token punctuation">.</span><span class="token function">getMiniCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ClientUtils</span><span class="token punctuation">.</span><span class="token function">executeProgram</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestExecutorServiceLoader</span><span class="token punctuation">(</span>clusterClient<span class="token punctuation">,</span> plan<span class="token punctuation">)</span><span class="token punctuation">,</span> configuration<span class="token punctuation">,</span> program<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">TestExecute</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">final</span> <span class="token class-name">ExecutionEnvironment</span> env <span class="token operator">=</span> <span class="token class-name">ExecutionEnvironment</span><span class="token punctuation">.</span><span class="token function">getExecutionEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				env<span class="token punctuation">.</span><span class="token function">fromElements</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DiscardingOutputFormat</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token class-name">JobClient</span> jc <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token function">executeAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				jc<span class="token punctuation">.</span><span class="token function">getJobExecutionResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">TestExecutorServiceLoader</span> <span class="token keyword">implements</span> <span class="token class-name">PipelineExecutorServiceLoader</span> <span class="token punctuation">{<!-- --></span>

		<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">ClusterClient</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clusterClient<span class="token punctuation">;</span>

		<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Plan</span> plan<span class="token punctuation">;</span>

		<span class="token class-name">TestExecutorServiceLoader</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">ClusterClient</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clusterClient<span class="token punctuation">,</span> <span class="token keyword">final</span> <span class="token class-name">Plan</span> plan<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>clusterClient <span class="token operator">=</span> <span class="token function">checkNotNull</span><span class="token punctuation">(</span>clusterClient<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>plan <span class="token operator">=</span> <span class="token function">checkNotNull</span><span class="token punctuation">(</span>plan<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token class-name">PipelineExecutorFactory</span> <span class="token function">getExecutorFactory</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nonnull</span> <span class="token class-name">Configuration</span> configuration<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PipelineExecutorFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

				<span class="token annotation punctuation">@Override</span>
				<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">return</span> <span class="token string">"my-name"</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token annotation punctuation">@Override</span>
				<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isCompatibleWith</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nonnull</span> <span class="token class-name">Configuration</span> configuration<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">return</span> <span class="token constant">TEST_EXECUTOR_NAME</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>configuration<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token class-name">DeploymentOptions</span><span class="token punctuation">.</span><span class="token constant">TARGET</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token annotation punctuation">@Override</span>
				<span class="token keyword">public</span> <span class="token class-name">PipelineExecutor</span> <span class="token function">getExecutor</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nonnull</span> <span class="token class-name">Configuration</span> configuration<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
					<span class="token keyword">return</span> <span class="token punctuation">(</span>pipeline<span class="token punctuation">,</span> config<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{<!-- --></span>
						<span class="token keyword">final</span> <span class="token keyword">int</span> parallelism <span class="token operator">=</span> config<span class="token punctuation">.</span><span class="token function">getInteger</span><span class="token punctuation">(</span><span class="token class-name">CoreOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT_PARALLELISM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">final</span> <span class="token class-name">JobGraph</span> jobGraph <span class="token operator">=</span> <span class="token class-name">FlinkPipelineTranslationUtil</span><span class="token punctuation">.</span><span class="token function">getJobGraph</span><span class="token punctuation">(</span>classLoader<span class="token punctuation">,</span> plan<span class="token punctuation">,</span> config<span class="token punctuation">,</span> parallelism<span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token keyword">final</span> <span class="token class-name">ExecutionConfigAccessor</span> accessor <span class="token operator">=</span> <span class="token class-name">ExecutionConfigAccessor</span><span class="token punctuation">.</span><span class="token function">fromConfiguration</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
						jobGraph<span class="token punctuation">.</span><span class="token function">addJars</span><span class="token punctuation">(</span>accessor<span class="token punctuation">.</span><span class="token function">getJars</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						jobGraph<span class="token punctuation">.</span><span class="token function">setClasspaths</span><span class="token punctuation">(</span>accessor<span class="token punctuation">.</span><span class="token function">getClasspaths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token keyword">final</span> <span class="token class-name">JobID</span> jobID <span class="token operator">=</span> clusterClient<span class="token punctuation">.</span><span class="token function">submitJob</span><span class="token punctuation">(</span>jobGraph<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">return</span> <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">completedFuture</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClusterClientJobClientAdapter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> clusterClient<span class="token punctuation">,</span> jobID<span class="token punctuation">,</span> classLoader<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token annotation punctuation">@Override</span>
		<span class="token keyword">public</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getExecutorNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token string">"not implemented"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="4_271"></a>4）、系统层次</h4> 
<p>可以通过设置 ./conf/flink-conf.yaml 文件中的 parallelism.default 参数，在系统层次来指定所有执行环境的默认并行度。</p> 
<p>更多的信息参考下文链接：<br> <a href="https://blog.csdn.net/chenwewi520feng/article/details/131785080">11、Flink配置flink-conf.yaml详细说明（HA配置、checkpoint、web、安全、zookeeper、historyserver、workers、zoo.cfg）</a></p> 
<h3><a id="2_276"></a>2、设置最大并行度</h3> 
<p>最大并行度可以在所有设置并行度的地方进行设定（客户端和系统层次除外）。与调用 setParallelism() 方法修改并行度相似，你可以通过调用 setMaxParallelism() 方法来设定最大并行度。</p> 
<p>默认的最大并行度等于将 operatorParallelism + (operatorParallelism / 2) 值四舍五入到大于等于该值的一个整型值，并且这个整型值是 2 的幂次方，注意默认最大并行度下限为 128，上限为 32768。</p> 
<blockquote> 
 <p>为最大并行度设置一个非常大的值将会降低性能，因为一些 state backends 需要维持内部的数据结构，而这些数据结构将会随着 key-groups 的数目而扩张（key-group 是状态重新分配的最小单元）。</p> 
 <p>从之前的作业恢复时，改变该作业的最大并发度将会导致状态不兼容。</p> 
</blockquote> 
<p>以上，本文介绍了Flink的并行度设置的几种方式以及并行度最大的值。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9042a214d3168665fd34284a223cc2ce/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">语义解析：连接自然语言与机器智能的桥梁</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c727e890f0f3af39ed5798eab585a9ab/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C&#43;&#43; Qt开发：Charts与数据库组件联动</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>