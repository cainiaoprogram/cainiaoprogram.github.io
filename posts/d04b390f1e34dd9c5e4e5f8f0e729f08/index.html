<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>.NET Core 数据库DB First自动生成，Sqlite,sql server,Mysql - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content=".NET Core 数据库DB First自动生成，Sqlite,sql server,Mysql" />
<meta property="og:description" content="文章目录 前言数据库ORM代码自动添加前期准备安装Nuget Sql serverMysqlSqlite查询结果 前言 .NET Core是C# .NET 未来发展的必然趋势，C# 要像Java一样跨平台运行。这里解决一个.NET core 会遇到的问题，如何添加ORM框架。
ORM是数据库对象映射关系模型，简单来说满足一下两个重要特点：
数据表和代码实体对象完全一致用代码生成Sql语句 以前在.NET Framwork 上面的时候，我们可以通过添加 ADO.NET文件来自动生成。但是在.NET core 版本无法添加，因为其依赖于.NET Framework。而且默认只支持sql server。我们其它常用的数据库，例如Mysql，sqlite都不支持。
数据库ORM代码自动添加 前期准备 先新建.NET core控制台文件
安装Nuget Microsoft.EntityFrameworkCore EF基础框架 Microsoft.EntityFrameworkCore.Design EF生成器，用于生成代码 Microsoft.EntityFrameworkCore.Tools EF管理工具，用于管理数据库版本，例如Mysql,sql server Sql server 安装 Microsoft.EntityFrameworkCore.SqlServer
在控制台执行以下语句
Scaffold-DbContext &#39;Data Source=.;Initial Catalog=你的数据库;integrated security=True ;TrustServerCertificate=true; &#39; Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models -Context 你的数据库DbContext 解析该语句
Scaffold-DbContext ：EF.Core 自动脚本执行语句‘Data Source …’：数据库连接串，如果是非本机数据库要添加用户名和密码Microsoft.EntityFrameworkCore.SqlServer：数据库管理工具-OutputDir Models 输出文件Context:ORM的Context名称 Mysql 安装 MySql.EntityFrameworkCore，MySql.Data
Tips:Mysql包是由Oracle公司提供的
Scaffold-DbContext &#34;server=localhost;userid=用户名;pwd=密码;port=3306;database=数据表;sslmode=none;&#34; MySql.EntityFrameworkCore -OutputDir 文件夹路径 -Context 你的Context Sqlite 安装 Microsoft." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d04b390f1e34dd9c5e4e5f8f0e729f08/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-11T17:24:06+08:00" />
<meta property="article:modified_time" content="2023-07-11T17:24:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">.NET Core 数据库DB First自动生成，Sqlite,sql server,Mysql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#ORM_13" rel="nofollow">数据库ORM代码自动添加</a></li><li><ul><li><a href="#_15" rel="nofollow">前期准备</a></li><li><ul><li><a href="#Nuget_21" rel="nofollow">安装Nuget</a></li></ul> 
   </li><li><a href="#Sql_server_34" rel="nofollow">Sql server</a></li><li><a href="#Mysql_54" rel="nofollow">Mysql</a></li><li><a href="#Sqlite_64" rel="nofollow">Sqlite</a></li><li><a href="#_81" rel="nofollow">查询结果</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前言</h2> 
<p>.NET Core是C# .NET 未来发展的必然趋势，C# 要像Java一样跨平台运行。这里解决一个.NET core 会遇到的问题，如何添加ORM框架。</p> 
<p>ORM是数据库对象映射关系模型，简单来说满足一下两个重要特点：</p> 
<ul><li>数据表和代码实体对象完全一致</li><li>用代码生成Sql语句</li></ul> 
<p>以前在.NET Framwork 上面的时候，我们可以通过添加 ADO.NET文件来自动生成。但是在.NET core 版本无法添加，因为其依赖于.NET Framework。而且默认只支持sql server。我们其它常用的数据库，例如Mysql，sqlite都不支持。</p> 
<h2><a id="ORM_13"></a>数据库ORM代码自动添加</h2> 
<h3><a id="_15"></a>前期准备</h3> 
<p>先新建.NET core控制台文件</p> 
<p><img src="https://images2.imgbox.com/e1/c3/DPIU0RE5_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Nuget_21"></a>安装Nuget</h4> 
<ul><li>Microsoft.EntityFrameworkCore 
  <ul><li>EF基础框架</li></ul> </li><li>Microsoft.EntityFrameworkCore.Design 
  <ul><li>EF生成器，用于生成代码</li></ul> </li><li>Microsoft.EntityFrameworkCore.Tools 
  <ul><li>EF管理工具，用于管理数据库版本，例如Mysql,sql server</li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/b4/53/dsCGXYko_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Sql_server_34"></a>Sql server</h3> 
<p>安装 Microsoft.EntityFrameworkCore.SqlServer<br> <img src="https://images2.imgbox.com/69/7d/3d7NQKFh_o.png" alt="在这里插入图片描述"></p> 
<p>在控制台执行以下语句</p> 
<pre><code>Scaffold-DbContext 'Data Source=.;Initial Catalog=你的数据库;integrated security=True ;TrustServerCertificate=true; ' Microsoft.EntityFrameworkCore.SqlServer -OutputDir Models -Context 你的数据库DbContext
</code></pre> 
<p>解析该语句</p> 
<ul><li>Scaffold-DbContext ：EF.Core 自动脚本执行语句</li><li>‘Data Source …’：数据库连接串，如果是非本机数据库要添加用户名和密码</li><li>Microsoft.EntityFrameworkCore.SqlServer：数据库管理工具</li><li>-OutputDir Models 输出文件</li><li>Context:ORM的Context名称</li></ul> 
<p><img src="https://images2.imgbox.com/1d/99/UUFEgWQv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/43/c1/njhVDqrA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Mysql_54"></a>Mysql</h3> 
<p>安装 MySql.EntityFrameworkCore，MySql.Data</p> 
<p><img src="https://images2.imgbox.com/02/67/VevK0vuy_o.png" alt="在这里插入图片描述"><br> <mark>Tips:Mysql包是由Oracle公司提供的</mark></p> 
<pre><code class="prism language-java"><span class="token class-name">Scaffold</span><span class="token operator">-</span><span class="token class-name">DbContext</span> <span class="token string">"server=localhost;userid=用户名;pwd=密码;port=3306;database=数据表;sslmode=none;"</span> <span class="token class-name">MySql<span class="token punctuation">.</span>EntityFrameworkCore</span> <span class="token operator">-</span><span class="token class-name">OutputDir</span> 文件夹路径 <span class="token operator">-</span><span class="token class-name">Context</span> 你的<span class="token class-name">Context</span>
</code></pre> 
<h3><a id="Sqlite_64"></a>Sqlite</h3> 
<p>安装 Microsoft.EntityFrameworkCore.Sqlite</p> 
<p><img src="https://images2.imgbox.com/37/d6/SBHEmca1_o.png" alt="在这里插入图片描述"></p> 
<p>生成指令</p> 
<pre><code class="prism language-java"><span class="token class-name">Scaffold</span><span class="token operator">-</span><span class="token class-name">DbContext</span> <span class="token string">"Data Source=文件位置"</span> <span class="token class-name">Microsoft<span class="token punctuation">.</span>EntityFrameworkCore<span class="token punctuation">.</span>Sqlite</span> <span class="token operator">-</span><span class="token class-name">OutputDir</span> <span class="token constant">DB</span><span class="token operator">/</span><span class="token class-name">Sqlite</span> <span class="token operator">-</span><span class="token class-name">Context</span> <span class="token class-name">SqliteDbContext</span>
</code></pre> 
<p><mark>Tips:这里的连接地址是文件地址，因为Sqlite是本地数据库，不是网络数据库</mark></p> 
<h3><a id="_81"></a>查询结果</h3> 
<p>因为截图按钮会隐藏Debug信息，所以这里就拍照片了</p> 
<p><img src="https://images2.imgbox.com/13/e6/L6FFxKre_o.jpg" alt="在这里插入图片描述"><br> 这样我们就大大减轻了我们代码的工作量。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/74e3c493caee2b3ab1e0d2f3c46a8e1e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">国际化实现思路</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fbbb14cab2a511142943a04c213859b4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue2配合element 上下滚动文本组件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>