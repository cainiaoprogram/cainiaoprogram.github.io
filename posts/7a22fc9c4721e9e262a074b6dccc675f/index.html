<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>通过cookie保存并读取用户登录信息实例 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="通过cookie保存并读取用户登录信息实例" />
<meta property="og:description" content="通过cookie的getCookies()方法可获取所有cookie对象的集合；通过getName()方法可以获取指定的名称的cookie；通过getValue()方法获取到cookie对象的值。另外，将一个cookie对象发送到客户端，使用response对象的addCookie()方法。 下面通过cookie保存并读取用户登录信息的例子加深一下理解。 （1）创建index.jsp文件。在改文件中，首先获取cookie对象的集合，如果集合不为空，就通过for循环遍历cookie集合，从中找出设置的cookie（这里设置为lee）,并从该cookie中提取出用户名和注册时间，再根据获取的结果显示不同的提示信息。 Java代码 &lt;%@ page language=&#34;java&#34; contentType=&#34;text/html; charset=utf-8&#34; pageEncoding=&#34;utf-8&#34;%&gt; &lt;%@page import=&#34;java.net.URLDecoder&#34; %&gt; &lt;!DOCTYPE html PUBLIC &#34;-//W3C//DTD HTML 4.01 Transitional//EN&#34; &#34;http://www.w3.org/TR/html4/loose.dtd&#34;&gt; &lt;html&gt; &lt;head&gt; &lt;meta http-equiv=&#34;Content-Type&#34; content=&#34;text/html; charset=utf-8&#34;&gt; &lt;title&gt;通过cookie保存并读取用户登陆信息&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;% Cookie[] cookies=request.getCookies();//从request中获得cookie对象的集合 String user=&#34;&#34;;//登录用户 String date=&#34;&#34;;//注册时间 if(cookies!=null){ for(int i=0;i&lt;cookies.length;i&#43;&#43;){ if(cookies[i].getName().equals(&#34;lee&#34;)){ user=URLDecoder.decode(cookies[i].getValue().split(&#34;#&#34;)[0]);//获取用户名 date=cookies[i].getValue().split(&#34;#&#34;)[1];//获取注册时间 } } } if(&#34;&#34;.equals(user)&amp;&amp;&#34;&#34;.equals(date)){ //如果没有注册 %&gt; 游客你好，欢迎你初次光临！ &lt;form action=&#34;deal.jsp&#34;method=&#34;post&#34;&gt; 请输入姓名：&lt;input name=&#34;user&#34;type=&#34;text&#34;value=&#34;&#34;&gt; &lt;input type=&#34;submit&#34;value=&#34;确定&#34;&gt; &lt;/form&gt; &lt;% }else{ //已经注册 %&gt; 欢迎[&lt;b&gt;&lt;%=user %&gt;&lt;b&gt;]再次光临&lt;br&gt; 你注册的时间是：&lt;%=date %&gt; &lt;% } %&gt; &lt;/body&gt; &lt;/html&gt; Java代码 &lt;%@ page language=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7a22fc9c4721e9e262a074b6dccc675f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-03-24T20:42:08+08:00" />
<meta property="article:modified_time" content="2016-03-24T20:42:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">通过cookie保存并读取用户登录信息实例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">通过cookie的getCookies()方法可获取所有cookie对象的集合；通过getName()方法可以获取指定的名称的cookie；通过getValue()方法获取到cookie对象的值。另外，将一个cookie对象发送到客户端，使用response对象的addCookie()方法。 </span> 
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px"> 
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">下面通过cookie保存并读取用户登录信息的例子加深一下理解。 </span> 
<br style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px"> 
<span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">（1）创建index.jsp文件。在改文件中，首先获取cookie对象的集合，如果集合不为空，就通过for循环遍历cookie集合，从中找出设置的cookie（这里设置为lee）,并从该cookie中提取出用户名和注册时间，再根据获取的结果显示不同的提示信息。</span> 
<div class="dp-highlighter" id="" style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace; background-color:transparent; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word"> 
 <div class="bar"> 
  <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
    Java代码   
   <a target="_blank" title="收藏这段代码" style="color:rgb(16,138,198); text-decoration:underline"><img class="star" src="https://images2.imgbox.com/51/e9/HVZaFqQw_o.png" alt="收藏代码" style="border:0px"></a> 
  </div> 
 </div> 
 <ol start="1" class="dp-j" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); list-style-position:initial; color:rgb(43,145,175)"><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%@ page language=<span class="string" style="color:blue">"java"</span> contentType=<span class="string" style="color:blue">"text/html; charset=utf-8"</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    pageEncoding=<span class="string" style="color:blue">"utf-8"</span>%&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    &lt;%<span class="annotation" style="color:rgb(100,100,100)">@page</span> <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">import</span>=<span class="string" style="color:blue">"java.net.URLDecoder"</span> %&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;!DOCTYPE html PUBLIC <span class="string" style="color:blue">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string" style="color:blue">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;html&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;head&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;meta http-equiv=<span class="string" style="color:blue">"Content-Type"</span> content=<span class="string" style="color:blue">"text/html; charset=utf-8"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;title&gt;通过cookie保存并读取用户登陆信息&lt;/title&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/head&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;body&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">Cookie[] cookies=request.getCookies();<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//从request中获得cookie对象的集合</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">String user=<span class="string" style="color:blue">""</span>;<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//登录用户</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">String date=<span class="string" style="color:blue">""</span>;<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//注册时间</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black"><span class="keyword" style="color:rgb(127,0,85); font-weight:bold">if</span>(cookies!=<span class="keyword" style="color:rgb(127,0,85); font-weight:bold">null</span>){  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">for</span>(<span class="keyword" style="color:rgb(127,0,85); font-weight:bold">int</span> i=<span class="number" style="color:rgb(192,0,0)">0</span>;i&lt;cookies.length;i++){  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">        <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">if</span>(cookies[i].getName().equals(<span class="string" style="color:blue">"lee"</span>)){  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">            user=URLDecoder.decode(cookies[i].getValue().split(<span class="string" style="color:blue">"#"</span>)[<span class="number" style="color:rgb(192,0,0)">0</span>]);<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//获取用户名</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">            date=cookies[i].getValue().split(<span class="string" style="color:blue">"#"</span>)[<span class="number" style="color:rgb(192,0,0)">1</span>];<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//获取注册时间</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">                                                                             </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">        }  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    }  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">                                                                     </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">}  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black"><span class="keyword" style="color:rgb(127,0,85); font-weight:bold">if</span>(<span class="string" style="color:blue">""</span>.equals(user)&amp;&amp;<span class="string" style="color:blue">""</span>.equals(date)){ <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//如果没有注册</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">%&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">游客你好，欢迎你初次光临！  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;form action=<span class="string" style="color:blue">"deal.jsp"</span>method=<span class="string" style="color:blue">"post"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">请输入姓名：&lt;input name=<span class="string" style="color:blue">"user"</span>type=<span class="string" style="color:blue">"text"</span>value=<span class="string" style="color:blue">""</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;input type=<span class="string" style="color:blue">"submit"</span>value=<span class="string" style="color:blue">"确定"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/form&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">}<span class="keyword" style="color:rgb(127,0,85); font-weight:bold">else</span>{ <span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//已经注册</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    %&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    欢迎[&lt;b&gt;&lt;%=user %&gt;&lt;b&gt;]再次光临&lt;br&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    你注册的时间是：&lt;%=date %&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">}  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">%&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/body&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/html&gt;  </span></li></ol> 
</div> 
<div class="dp-highlighter" id="" style="font-family:Monaco,'DejaVu Sans Mono','Bitstream Vera Sans Mono',Consolas,'Courier New',monospace; background-color:transparent; width:679px; overflow:auto; margin-left:9px; padding:1px; word-break:break-all; word-wrap:break-word"> 
 <div class="bar"> 
  <div class="tools" style="padding:3px; margin:0px; font-weight:bold">
    Java代码   
   <a target="_blank" title="收藏这段代码" style="color:rgb(16,138,198); text-decoration:underline"><img class="star" src="https://images2.imgbox.com/a7/37/YRJBzSk4_o.png" alt="收藏代码" style="border:0px"></a> 
  </div> 
 </div> 
 <ol start="1" class="dp-j" style="font-size:1em; line-height:1.4em; margin:0px 0px 1px; padding:2px 0px; border:1px solid rgb(209,215,220); list-style-position:initial; color:rgb(43,145,175)"><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%@ page language=<span class="string" style="color:blue">"java"</span> contentType=<span class="string" style="color:blue">"text/html; charset=utf-8"</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    pageEncoding=<span class="string" style="color:blue">"utf-8"</span>%&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">    &lt;%<span class="annotation" style="color:rgb(100,100,100)">@page</span> <span class="keyword" style="color:rgb(127,0,85); font-weight:bold">import</span>=<span class="string" style="color:blue">"java.net.URLEncoder"</span> %&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;!DOCTYPE html PUBLIC <span class="string" style="color:blue">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string" style="color:blue">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;html&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;head&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;meta http-equiv=<span class="string" style="color:blue">"Content-Type"</span> content=<span class="string" style="color:blue">"text/html; charset=utf-8"</span>&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;title&gt;写入cookie&lt;/title&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/head&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;body&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;%  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">request.setCharacterEncoding(<span class="string" style="color:blue">"utf-8"</span>);<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//设置请求的编译为utf-8</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">String user=URLEncoder.encode(request.getParameter(<span class="string" style="color:blue">"user"</span>),<span class="string" style="color:blue">"utf-8"</span>);<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//获取用户名</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">Cookie cookie=<span class="keyword" style="color:rgb(127,0,85); font-weight:bold">new</span> Cookie(<span class="string" style="color:blue">"lee"</span>,user+<span class="string" style="color:blue">"#"</span>+<span class="keyword" style="color:rgb(127,0,85); font-weight:bold">new</span> java.util.Date().toLocaleString());<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//创建并实例化cookie对象</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">cookie.setMaxAge(<span class="number" style="color:rgb(192,0,0)">60</span>*<span class="number" style="color:rgb(192,0,0)">60</span>*<span class="number" style="color:rgb(192,0,0)">24</span>*<span class="number" style="color:rgb(192,0,0)">30</span>);<span class="comment" style="color:rgb(0,130,0); padding:0px; margin:0px; width:auto; border:0px">//设置cookie有效期为30天</span>  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">response.addCookie(cookie);  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">%&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;script type=<span class="string" style="color:blue">"text/javascript"</span>&gt;window.location.href=\<span class="string" style="color:blue">'#\'</span>" /script&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/body&gt;  </span></li><li style="font-size:1em; margin:0px 0px 0px 38px; padding:0px 0px 0px 10px; border-left-width:1px; border-left-style:solid; border-left-color:rgb(209,215,220); background-color:rgb(250,250,250); line-height:18px"> <span style="color:black">&lt;/html&gt;  </span></li></ol> 
 <div> 
  <span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px">技巧：在向cookie中保存的信息中如果包括中文，需要调用java.net.URLEncoder类的encode()方法保存到cookie中的信息进行编码；在读取内容时，需要应用到java.net.URLDecoder类的decode()方法进行解码。这样就可</span> 
 </div> 
 <div> 
  <span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; background-color:transparent">以成功地向cookie中写入中文</span> 
 </div> 
 <div> 
  <span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; background-color:transparent"><br> </span> 
 </div> 
 <div> 
  <span style="font-family:Helvetica,Tahoma,Arial,sans-serif; font-size:14px; background-color:transparent">转：http://840327220.iteye.com/blog/2020296</span> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a96fc394e63675be8e6901ece4cf88f8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用libevent和多线程构建高性能服务器（客户端）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b1856b9469ba5a512bc45ec20d56a8fe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">3.24 58 数据挖掘intern</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>