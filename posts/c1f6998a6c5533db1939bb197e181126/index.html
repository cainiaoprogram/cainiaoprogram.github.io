<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>learnopengl-cn中，glfwtemplate/container.jpg路径问题的解决 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="learnopengl-cn中，glfwtemplate/container.jpg路径问题的解决" />
<meta property="og:description" content="首先，要把所有文件（包括.cpp,.h,.fs,.vs）都放到当前文档目录下，不能放在各个src文件夹里，不然会加载着色器错误，可能跟路径有关。
在learnopengl-cn的6.1章纹理映射中，网站原本的源码并不好，会出现filesystem.h的相关错误，而filesystem.h的作用仅仅是用来加载图片文件（例如container.jpg），并没有其他的作用。
打开filesystem.h后，发现有一行
#include &#34;root_directory.h&#34; // This is a configuration file generated by CMake. 这说明有个root_directory.h文件需要我们自己去编译，但是在OPENGL学习中，我们并不必使用filesystem.h来读取文件.
解决方法：
注释掉 filesystem.h 所在行，并在 stbi_load() 函数中将 getPath 函数替换为目标文件的目录，并把读取图片container.jpg的路径设置为自己的绝对路径：
//修改后的代码，使用绝对路径 unsigned char *data = stbi_load(&#34;D:/Template/glfwtemplate/glfwtemplate/container.jpg&#34;, &amp;width, &amp;height, &amp;nrChannels, 0); //原本的代码： //unsigned char *data = stbi_load(FileSystem::getPath(&#34;resources/textures/container.jpg&#34;).c_str(), &amp;width, &amp;height, &amp;nrChannels, 0); 此外，还可以将VS平台换成VS 16 2019可以解决此问题。
（但是2019会将顶点着色器和片段着色器里的空格识别为整数文本，很头疼。）
或许可以下载存储库的新副本。解压到对应目录/文件夹中，然后不要更改或重命名该目录/文件夹，运行 cmake 并构建。但我没试了。
除此之外，首先在VS2013中搭建opengl环境，配置VS2013中各个库的信息，在这里记录一下备查。
C&#43;&#43;命令行：
/GS /analyze- /W3 /Zc:wchar_t /I&#34;D:\Template\glfwtemplate\glfwtemplate\glm&#34; /I&#34;D:\Template\glfwtemplate\glfwtemplate\LearnOpenGL\includes\learnopengl&#34; /I&#34;D:\Template\glfwtemplate\glfwtemplate\stb-master&#34; /ZI /Gm /Od /sdl /Fd&#34;Debug\vc120.pdb&#34; /fp:precise /D &#34;_MBCS&#34; /errorReport:prompt /WX- /Zc:forScope /RTC1 /Gd /Oy- /MDd /Fa&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c1f6998a6c5533db1939bb197e181126/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-21T11:54:59+08:00" />
<meta property="article:modified_time" content="2022-08-21T11:54:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">learnopengl-cn中，glfwtemplate/container.jpg路径问题的解决</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>首先，要把所有文件（包括.cpp,.h,.fs,.vs）都放到当前文档目录下，不能放在各个src文件夹里，不然会加载着色器错误，可能跟路径有关。</p> 
<p></p> 
<p>在learnopengl-cn的6.1章纹理映射中，网站原本的源码并不好，会出现filesystem.h的相关错误，而filesystem.h的作用仅仅是用来加载图片文件（例如container.jpg），并没有其他的作用。</p> 
<p><img alt="" src="https://images2.imgbox.com/5e/e3/Cmririg8_o.png"></p> 
<p>打开filesystem.h后，发现有一行</p> 
<p><img alt="" src="https://images2.imgbox.com/da/49/Hc31hAec_o.png"></p> 
<p></p> 
<pre><code>#include "root_directory.h" // This is a configuration file generated by CMake.</code></pre> 
<p>这说明有个root_directory.h文件需要我们自己去编译，但是在OPENGL学习中，我们并不必使用filesystem.h来读取文件.</p> 
<p>解决方法：</p> 
<p>  注释掉 filesystem.h 所在行，并在 stbi_load() 函数中将 getPath 函数替换为目标文件的目录，并把读取图片container.jpg的路径设置为自己的绝对路径：</p> 
<pre><code>//修改后的代码，使用绝对路径    
    unsigned char *data = stbi_load("D:/Template/glfwtemplate/glfwtemplate/container.jpg", &amp;width, &amp;height, &amp;nrChannels, 0);

//原本的代码：
    //unsigned char *data = stbi_load(FileSystem::getPath("resources/textures/container.jpg").c_str(), &amp;width, &amp;height, &amp;nrChannels, 0);</code></pre> 
<p></p> 
<p>此外，还可以将VS平台换成VS 16 2019可以解决此问题。</p> 
<p>（但是2019会将顶点着色器和片段着色器里的空格识别为整数文本，很头疼。）</p> 
<p>或许可以下载存储库的新副本。解压到对应目录/文件夹中，然后不要更改或重命名该目录/文件夹，运行 cmake 并构建。但我没试了。<br>  </p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p>除此之外，首先在VS2013中搭建opengl环境，配置VS2013中各个库的信息，在这里记录一下备查。</p> 
<p>C++命令行：</p> 
<p>/GS /analyze- /W3 /Zc:wchar_t /I"D:\Template\glfwtemplate\glfwtemplate\glm" /I"D:\Template\glfwtemplate\glfwtemplate\LearnOpenGL\includes\learnopengl" /I"D:\Template\glfwtemplate\glfwtemplate\stb-master" /ZI /Gm /Od /sdl /Fd"Debug\vc120.pdb" /fp:precise /D "_MBCS" /errorReport:prompt /WX- /Zc:forScope /RTC1 /Gd /Oy- /MDd /Fa"Debug\" /EHsc /nologo /Fo"Debug\" /Fp"Debug\glfwtemplate.pch" </p> 
<p></p> 
<p>链接器命令行：</p> 
<p>/OUT:"D:\Template\glfwtemplate\Debug\glfwtemplate.exe" /MANIFEST /NXCOMPAT /PDB:"D:\Template\glfwtemplate\Debug\glfwtemplate.pdb" /DYNAMICBASE "glfw3.lib" "opencv_ml2413d.lib" "opencv_calib3d2413d.lib" "opencv_contrib2413d.lib" "opencv_core2413d.lib" "opencv_features2d2413d.lib" "opencv_flann2413d.lib" "opencv_gpu2413d.lib" "opencv_highgui2413d.lib" "opencv_imgproc2413d.lib" "opencv_legacy2413d.lib" "opencv_objdetect2413d.lib" "opencv_ts2413d.lib" "opencv_video2413d.lib" "opencv_nonfree2413d.lib" "opencv_ocl2413d.lib" "opencv_photo2413d.lib" "opencv_stitching2413d.lib" "opencv_superres2413d.lib" "opencv_videostab2413d.lib" "opencv_objdetect2413.lib" "opencv_ts2413.lib" "opencv_video2413.lib" "opencv_nonfree2413.lib" "opencv_ocl2413.lib" "opencv_photo2413.lib" "opencv_stitching2413.lib" "opencv_superres2413.lib" "opencv_videostab2413.lib" "opencv_calib3d2413.lib" "opencv_contrib2413.lib" "opencv_core2413.lib" "opencv_features2d2413.lib" "opencv_flann2413.lib" "opencv_gpu2413.lib" "opencv_highgui2413.lib" "opencv_imgproc2413.lib" "opencv_legacy2413.lib" "opencv_ml2413.lib" "kernel32.lib" "user32.lib" "gdi32.lib" "winspool.lib" "comdlg32.lib" "advapi32.lib" "shell32.lib" "ole32.lib" "oleaut32.lib" "uuid.lib" "odbc32.lib" "odbccp32.lib" /DEBUG /MACHINE:X86 /INCREMENTAL /PGD:"D:\Template\glfwtemplate\Debug\glfwtemplate.pgd" /MANIFESTUAC:"level='asInvoker' uiAccess='false'" /ManifestFile:"Debug\glfwtemplate.exe.intermediate.manifest" /ERRORREPORT:PROMPT /NOLOGO /TLBID:1 </p> 
<p>清单列表命令行：/verbose /out:"Debug\glfwtemplate.exe.embed.manifest" /nologo "Debug\glfwtemplate.exe.embed.manifest.res" </p> 
<p></p> 
<p><img alt="" height="343" src="https://images2.imgbox.com/8c/8f/VWfRNcv1_o.png" width="1200"></p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/ae/b7/WbzBIjOc_o.png" width="1200"></p> 
<p><img alt="" height="433" src="https://images2.imgbox.com/4c/b6/PeWKGYp9_o.png" width="1200"></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/addf2b3ee683c05d7fad63b37d0a54ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">老macbook升级新版本（Big sur、Monterey）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7266e688a8ffe5282568d6b27b1d2d0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">XML语言简介</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>