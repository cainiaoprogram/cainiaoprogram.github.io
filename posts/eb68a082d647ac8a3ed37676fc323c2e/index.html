<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>scp 命令使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="scp 命令使用" />
<meta property="og:description" content="scp 命令使用 本文记录 scp 命令相关知识
Scp(Secure Copy) 是一个在各个主机之间进行复制或者文件传输的一个命令行工具。它在后台使用 ssh 连接来进行文件的传输。scp 既指一种定义安全复制应该如何工作的协议，也指一种可以被安装的作为 OpenSSH 工具套的一部分的软件或是指令。
命令格式 scp [参数] [原路径] [目标路径] 命令参数 -1 强制 scp 命令使用协议 ssh1 -2 强制 scp 命令使用协议 ssh2 -4 强制 scp 命令只使用 IPv4 寻址 -6 强制 scp 命令只使用 IPv6 寻址 -B 使用批处理模式（传输过程中不询问传输口令或短语） -C （大写）启用压缩功能，文件在传输过程中被压缩，节省时间和带宽； -p （小写）保留原文件的修改时间，访问时间和访问权限； -q 不显示传输进度条、诊断和警告信息； -r 递归复制整个目录 -v 详细显示复制过程的信息，会显示出整个过程有关连接如何建立，正在使用什么配置和认证文件等等的详细信息，当程序失败或无法完成请求时非常有用； -c cipher 以 cipher 将数据传输进行加密，此参数直接传递给 ssh，默认采用 AES 算法，其它的有：blowfish 等； -F ssh_config 指定一个替代的 ssh 配置文件，此参数直接传递给 ssh； -i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给 ssh； -l limit 限定 scp 使用的带宽，以 Kbit/s 为单位； -o ssh_option 如果习惯于使用 ssh_config 中的参数传递方式； -P port 注意 P 是大写, port 是指定数据传输用到的端口号； -S program 指定加密传输时所使用的程序，此程序必须能够理解 ssh 的选项； 使用说明 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/eb68a082d647ac8a3ed37676fc323c2e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-19T16:37:20+08:00" />
<meta property="article:modified_time" content="2022-09-19T16:37:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">scp 命令使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="scp__0"></a>scp 命令使用</h2> 
<p>本文记录 scp 命令相关知识<br> <strong>Scp(Secure Copy)</strong> 是一个在各个主机之间进行复制或者文件传输的一个命令行工具。它在后台使用 ssh 连接来进行文件的传输。scp 既指一种定义安全复制应该如何工作的协议，也指一种可以被安装的作为 OpenSSH 工具套的一部分的软件或是指令。</p> 
<h3><a id="_5"></a>命令格式</h3> 
<pre><code>scp [参数] [原路径] [目标路径]
</code></pre> 
<h4><a id="_9"></a>命令参数</h4> 
<pre><code>-1 强制 scp 命令使用协议 ssh1
-2 强制 scp 命令使用协议 ssh2
-4 强制 scp 命令只使用 IPv4 寻址
-6 强制 scp 命令只使用 IPv6 寻址
-B 使用批处理模式（传输过程中不询问传输口令或短语）
-C （大写）启用压缩功能，文件在传输过程中被压缩，节省时间和带宽；
-p （小写）保留原文件的修改时间，访问时间和访问权限；
-q 不显示传输进度条、诊断和警告信息；
-r 递归复制整个目录
-v 详细显示复制过程的信息，会显示出整个过程有关连接如何建立，正在使用什么配置和认证文件等等的详细信息，当程序失败或无法完成请求时非常有用；
-c cipher 以 cipher 将数据传输进行加密，此参数直接传递给 ssh，默认采用 AES 算法，其它的有：blowfish 等；
-F ssh_config 指定一个替代的 ssh 配置文件，此参数直接传递给 ssh；
-i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给 ssh；
-l limit 限定 scp 使用的带宽，以 Kbit/s 为单位；
-o ssh_option 如果习惯于使用 ssh_config 中的参数传递方式；
-P port 注意 P 是大写, port 是指定数据传输用到的端口号；
-S program 指定加密传输时所使用的程序，此程序必须能够理解 ssh 的选项；
</code></pre> 
<h3><a id="_29"></a>使用说明</h3> 
<h4><a id="1__31"></a>1. 复制本地文件到远程主机</h4> 
<pre><code>scp local_file remote_username@remote_ip:remote_folder
scp local_file remote_username@remote_ip:remote_file
scp local_file remote_ip:remote_folder
scp local_file remote_ip:remote_file
</code></pre> 
<p>指定了用户名，命令执行后需要输入用户密码；如果不指定用户名，命令执行后需要输入用户名和密码；如果已经将本地公钥拷贝到远程服务器，双方基于密钥验证身份，就不需要输入密码。</p> 
<ul><li>注意远程主机 ip 地址和目录之间用冒号分隔</li><li>默认情况下，scp 总是覆盖目标地址的文件</li></ul> 
<p>从远程主机复制文件到本地，格式与上面一样，只需要将后面两个参数对换。</p> 
<h4><a id="2__r__45"></a>2. 复制目录时要加 -r 参数</h4> 
<pre><code>scp -r local_folder remote_username@remote_ip:remote_folder # 从本地复制到远程
scp -r remote_username@remote_ip:remote_folder local_folder # 从远程复制到本地
</code></pre> 
<h4><a id="3__50"></a>3. 多文件传输</h4> 
<p>从本地复制多个文件到远程：</p> 
<pre><code>scp test1.txt test2.txt remote_username@remote_ip:remote_folder
</code></pre> 
<p>从远程复制多个文件到本地：</p> 
<pre><code>scp remote_username@remote_ip:~/test/\{test1.txt,test2.txt\} local_folder
</code></pre> 
<ul><li>从远程复制多个文件到本地时要用 {}（大括号）将文件名括起来，大括号本身要进行转义，多个文件之间用 ,（逗号）分隔。</li></ul> 
<h4><a id="4__62"></a>4. 在两个远程主机之间复制文件</h4> 
<pre><code>scp remote1_username@remote1_ip:remote_file remote2_username@remote2_ip:remote_folder
</code></pre> 
<p><a href="https://www.cnblogs.com/voidy/p/4215891.html" rel="nofollow">参考</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/496fa792c095102655cb94c1d8b4794b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件测试最全面试题及答案整理（2022最新版）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/13b8663676182210b8f3e646f22092c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于WPF的Image控件图片显示问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>