<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vm虚拟机安装ubuntu 安装ssh 安装vim以及连接ssm密码一致连不上问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vm虚拟机安装ubuntu 安装ssh 安装vim以及连接ssm密码一致连不上问题" />
<meta property="og:description" content="Vm虚拟机安装ubuntu 1.准备工作： 这里虚拟机版本我用的是VMware-workstation-full-15.5.2-15785246.exe
ubuntu镜像ubuntu-16.04.3-desktop-amd64.iso 自己根据需要安装
2.安装完成Vm后
新建虚拟机 选择经典， 然后选择ios镜像那个 选中到前面准备的镜像文件，然后全名随便起
用户名随便起（Ubantu的一个用户，不能写root） 密码要能记住的 然后虚拟机名称起的让你知道这个虚拟机主要干什么的 ，位置尽量别放到C盘 自己定义非C盘路径 ，然后磁盘大小选择40GB就够了 然后拆分单多个文件（他会用多少占单个文件的话 会一次性干掉40GB） 下一步后点开自定义硬件 主要改内存跟处理器 内存2G至少（不然卡死 根据自己电脑 处理器 2 2）确保网络适配器为NAT 关闭后 点击完成不用管了 然后等个半个多小时
3安装后有两种登录 记得千万选择你刚才定义的用户名 并且输入密码登录进来的（不然修改密码啥的 他说你没有sudo）
登录进来后第一步不多说设置网络
打开虚拟机 选择上面的编辑 选择 虚拟网络编辑器 进来后点击Vmnet8
DHCP设置前3位不能变
NAT设置 前三位不能变 最后写成2
然后
现在需要重启网络 点击下面
测试这阶段成果 3步
在重新打开上面 然后再打开终端 1、 输入ifconfig
2、打开虚拟机的火狐 输入www.baidu.com 看是否成功
3、在win&#43;r输入cmd ping 192.168.230.129 看是否成功 到此以上都成功后 下面开始其他操作
第一件事修改root密码 sudo passwd root 回车输入当前用户密码 然后再输入两次新密码 此时修改成功 如果修改密码出现卡死情况 建议注销当前用户并且重新登录" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/09a4f77f9567e059f4d5b191d8bb86e2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-22T15:09:08+08:00" />
<meta property="article:modified_time" content="2020-12-22T15:09:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vm虚拟机安装ubuntu 安装ssh 安装vim以及连接ssm密码一致连不上问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Vmubuntu_0"></a>Vm虚拟机安装ubuntu</h2> 
<p>1.准备工作： 这里虚拟机版本我用的是VMware-workstation-full-15.5.2-15785246.exe<br> ubuntu镜像ubuntu-16.04.3-desktop-amd64.iso 自己根据需要安装</p> 
<p>2.安装完成Vm后</p> 
<p>新建虚拟机 选择经典， 然后选择ios镜像那个 选中到前面准备的镜像文件，然后全名随便起<br> 用户名随便起（Ubantu的一个用户，不能写root） 密码要能记住的 然后虚拟机名称起的让你知道这个虚拟机主要干什么的 ，位置尽量别放到C盘 自己定义非C盘路径 ，然后磁盘大小选择40GB就够了 然后拆分单多个文件（他会用多少占单个文件的话 会一次性干掉40GB） 下一步后点开自定义硬件 主要改内存跟处理器 内存2G至少（不然卡死 根据自己电脑 处理器 2 2）确保网络适配器为NAT 关闭后 点击完成不用管了 然后等个半个多小时<br> <img src="https://images2.imgbox.com/16/fe/VOYNt12L_o.png" alt="在这里插入图片描述"></p> 
<p>3安装后有两种登录 <mark>记得千万选择你刚才定义的用户名 并且输入密码登录进来的（不然修改密码啥的 他说你没有sudo）</mark><br> <img src="https://images2.imgbox.com/78/03/n0prN9lP_o.png" alt="在这里插入图片描述"></p> 
<p>登录进来后第一步不多说设置网络</p> 
<p>打开虚拟机 选择上面的编辑 选择 虚拟网络编辑器 进来后点击Vmnet8</p> 
<p><img src="https://images2.imgbox.com/10/18/SM53kwzk_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ZOy2U9yT-1608620379927)(C:\Users\雷神\AppData\Roaming\Typora\typora-user-images\1608617179838.png)]"></p> 
<p>DHCP设置前3位不能变</p> 
<p><img src="https://images2.imgbox.com/7b/fb/9V20CHsF_o.png" alt="在这里插入图片描述"></p> 
<p>NAT设置 前三位不能变 最后写成2</p> 
<p><img src="https://images2.imgbox.com/ee/7d/s6CJKU6o_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2nn4x3XD-1608620379932)(C:\Users\雷神\AppData\Roaming\Typora\typora-user-images\1608617355495.png)]"></p> 
<p>然后<br> <img src="https://images2.imgbox.com/eb/26/4Kgi3pGF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/50/28/2nKBWKHm_o.png" alt="在这里插入图片描述"></p> 
<p>现在需要重启网络 点击下面</p> 
<p><img src="https://images2.imgbox.com/6e/f0/7qZmiMha_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-m6IMr134-1608620379938)(C:\Users\雷神\AppData\Roaming\Typora\typora-user-images\1608619716650.png)]"></p> 
<p>测试这阶段成果 3步<br> 在重新打开上面 然后再打开终端 1、 输入ifconfig</p> 
<p><img src="https://images2.imgbox.com/4d/71/DHa43qnz_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-12jB8EFQ-1608620379939)(C:\Users\雷神\AppData\Roaming\Typora\typora-user-images\1608619804449.png)]"></p> 
<p>2、打开虚拟机的火狐 输入www.baidu.com 看是否成功<br> 3、在win+r输入cmd ping 192.168.230.129 看是否成功 到此以上都成功后 下面开始其他操作</p> 
<h2><a id="root_47"></a>第一件事修改root密码</h2> 
<p>sudo passwd root 回车输入当前用户密码 然后再输入两次新密码 此时修改成功 如果修改密码出现卡死情况 建议注销当前用户并且重新登录<br> <img src="https://images2.imgbox.com/d8/92/GLPduJHJ_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="____vim____ssh_53"></a>修改成功后 接下来安装 vim 以及 ssh</h2> 
<p>安装vim 需要先进入root用户 获取必要的权限<br> su root 输入root密码 然后开始安装 vim 命令为<br> sudo apt-get install -y vim<br> <img src="https://images2.imgbox.com/e9/bf/IstvHWU5_o.png" alt="在这里插入图片描述"><br> 如果出现报错 E:什么什么的就执行下面两行代码<br> sudo rm /var/cache/apt/archives/lock<br> sudo rm /var/lib/dpkg/lock<br> 如果是E: Some packages could not be authenticated错误：<br> 执行sudo apt-get update 即可<br> <strong>我这里执行了上面是不好使得还不行的话 建议注销重新登录 再次执行</strong><br> <img src="https://images2.imgbox.com/d0/48/KR8lZbuL_o.png" alt="在这里插入图片描述"></p> 
<p>接下来安装ssh<br> 安装ssh服务器</p> 
<pre><code>sudo apt install openssh-server
紧接着 输入Y  会开始安装
</code></pre> 
<p>安装ssh客户端</p> 
<pre><code>sudo apt install openssh-client
#这个很快

</code></pre> 
<p>sudo vi /etc/ssh/ssh_config<br> 配置ssh客户端，去掉PasswordAuthentication yes前面的#号，保存退出快捷键（shift+zz）</p> 
<p>重启ssh服务</p> 
<pre><code>sudo /etc/init.d/ssh restart
</code></pre> 
<p>然后用连接工具连接即可 正常来说 大部分人都是可以成功的 下面分析我失败的场景</p> 
<h2><a id="ssm_87"></a>连接ssm密码一致却连不上问题</h2> 
<p>就是密码输入命名没有问题 但就是连接不上<br> 修改 vim /etc/ssh/sshd_config<br> 有人说这个配置文件被修改或优化了，找到里边的 PermitRootLogin 选项，将 no(也许不是no) 改为 yes<br> 去尝试仍然不成功 还是回到这个文件 找到 UsePAM yes 改为 UsePAM no<br> 2、重启ssh（弹出框输入密码建议执行两个） systemctl restart sshd<br> 3.重启ssh服务： sudo /etc/init.d/ssh restart<br> 到此 去尝试 应该成功</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fa0d9840c78296f581bc7e37e8f97998/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">炒菜机器人的弊端_炒菜机缺点有哪些</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8f0a84eb26b85e7bb064222c46ddc38b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">&amp;times被转义成x的解决方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>