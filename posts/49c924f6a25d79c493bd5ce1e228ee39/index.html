<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>FPGA\CPLD 设计学习笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="FPGA\CPLD 设计学习笔记" />
<meta property="og:description" content="题记：这个笔记不是特权同学自己整理的，特权同学只是对这个笔记做了一下完善，也忘了是从那 DOWNLOAD 来的，首先对整理者表示感谢。 这些知识点确实都很实用，这些设计思想或者也可以说是经验吧，是很值得每一个有志于 FPGA/CPLD 方面发展的工程师学习的。 1 、硬件设计基本原则 (1) 、速度与面积平衡和互换原则 ：一个设计如果时序余量较大，所能跑的频率远高于设计要求，能可以通过模块复用来减少整个设计消耗的芯片 面积，这就是用速度优势换面积的节约；反之，如果一个设计的时序要求很高，普通方法达不到设计频率，那么可以通过数据流串并转换，并行 复制多个操作模块，对整个设计采用 “ 乒乓操作 ” 和 “ 串并转换 ” 的思想进行处理，在芯片输出模块处再对数据进行 “ 并串转换 ” 。从而实现了用面积复 制换取速度的提高。 (2) 、硬件原则 ：理解 HDL 本质 (3) 、系统原则 ：整体把握 (4) 、同步设计原则 ：设计时序稳定的基本原则 2 、 Verilog 作为一种 HDL 语言，对系统行为的建模方式是分层次的。比较重要的层次有 系统级（ system ）、算法级（ Algorithm ）、寄存器传输 级（ RTL ）、逻辑级（ Logic ）、门级（ Gate ）、电路开关级（ Switch ）。 3 、实际工作中， 除了描述仿真测试激励（ Testbench ）时使用 for 循环语句外，极少在 RTL 级编码中使用 for 循环 ，这是因为 for 循环会被综合器 展开为所有变量情况的执行语句，每个变量独立占用寄存器资源，不能有效的复用硬件逻辑资源，造成巨大的浪费。 一般常用 case 语句代替 。 4 、 if…else… 和 case 在嵌套描述时是有很大区别的， if…else… 是有优先级的 ，一般来说，第一个 if 的优先级最高，最后一个 else 的优先级最低。 而 case 语句是平行语句，它是没有优先级的，而建立优先级结构需要耗费大量的逻辑资源，所以能用 case 的地方就不要用 if…else… 语句。 补充： 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/49c924f6a25d79c493bd5ce1e228ee39/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-14T08:52:49+08:00" />
<meta property="article:modified_time" content="2023-11-14T08:52:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">FPGA\CPLD 设计学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <span style="color:#000000;">题记：这个笔记不是特权同学自己整理的，特权同学只是对这个笔记做了一下完善，也忘了是从那 </span> 
 <span style="color:#000000;">DOWNLOAD </span> 
 <span style="color:#000000;">来的，首先对整理者表示感谢。 </span> 
</div> 
<div> 
 <span style="color:#000000;">这些知识点确实都很实用，这些设计思想或者也可以说是经验吧，是很值得每一个有志于 </span> 
 <span style="color:#000000;">FPGA/CPLD </span> 
 <span style="color:#000000;">方面发展的工程师学习的。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;"><strong>1</strong></span> 
 <span style="color:#ff0000;"><strong>、硬件设计基本原则 </strong></span> 
</div> 
<div> 
 <span style="color:#ff0000;">(1)</span> 
 <span style="color:#ff0000;">、速度与面积平衡和互换原则</span> 
 <span style="color:#000000;">：一个设计如果时序余量较大，所能跑的频率远高于设计要求，能可以通过模块复用来减少整个设计消耗的芯片 </span> 
</div> 
<div> 
 <span style="color:#000000;">面积，这就是用速度优势换面积的节约；反之，如果一个设计的时序要求很高，普通方法达不到设计频率，那么可以通过数据流串并转换，并行 </span> 
</div> 
<div> 
 <span style="color:#000000;">复制多个操作模块，对整个设计采用</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">乒乓操作</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">和</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">串并转换</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">的思想进行处理，在芯片输出模块处再对数据进行</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">并串转换</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">。从而实现了用面积复 </span> 
</div> 
<div> 
 <span style="color:#000000;">制换取速度的提高。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(2)</span> 
 <span style="color:#ff0000;">、硬件原则</span> 
 <span style="color:#000000;">：理解 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">本质 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(3)</span> 
 <span style="color:#ff0000;">、系统原则</span> 
 <span style="color:#000000;">：整体把握 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(4)</span> 
 <span style="color:#ff0000;">、同步设计原则</span> 
 <span style="color:#000000;">：设计时序稳定的基本原则 </span> 
</div> 
<div> 
 <span style="color:#000000;">2</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">作为一种 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">语言，对系统行为的建模方式是分层次的。比较重要的层次有</span> 
 <span style="color:#ff0000;">系统级（</span> 
 <span style="color:#ff0000;">system</span> 
 <span style="color:#ff0000;">）、算法级（</span> 
 <span style="color:#ff0000;">Algorithm</span> 
 <span style="color:#ff0000;">）、寄存器传输 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">级（</span> 
 <span style="color:#ff0000;">RTL</span> 
 <span style="color:#ff0000;">）、逻辑级（</span> 
 <span style="color:#ff0000;">Logic</span> 
 <span style="color:#ff0000;">）、门级（</span> 
 <span style="color:#ff0000;">Gate</span> 
 <span style="color:#ff0000;">）、电路开关级（</span> 
 <span style="color:#ff0000;">Switch</span> 
 <span style="color:#ff0000;">）。 </span> 
</div> 
<div> 
 <span style="color:#000000;">3</span> 
 <span style="color:#000000;">、实际工作中，</span> 
 <span style="color:#ff0000;">除了描述仿真测试激励（</span> 
 <span style="color:#ff0000;">Testbench</span> 
 <span style="color:#ff0000;">）时使用 </span> 
 <span style="color:#ff0000;">for </span> 
 <span style="color:#ff0000;">循环语句外，极少在 </span> 
 <span style="color:#ff0000;">RTL </span> 
 <span style="color:#ff0000;">级编码中使用 </span> 
 <span style="color:#ff0000;">for </span> 
 <span style="color:#ff0000;">循环</span> 
 <span style="color:#000000;">，这是因为 </span> 
 <span style="color:#000000;">for </span> 
 <span style="color:#000000;">循环会被综合器 </span> 
</div> 
<div> 
 <span style="color:#000000;">展开为所有变量情况的执行语句，每个变量独立占用寄存器资源，不能有效的复用硬件逻辑资源，造成巨大的浪费。</span> 
 <span style="color:#ff0000;">一般常用 </span> 
 <span style="color:#ff0000;">case </span> 
 <span style="color:#ff0000;">语句代替</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">4</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">if…else…</span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">case </span> 
 <span style="color:#000000;">在嵌套描述时是有很大区别的，</span> 
 <span style="color:#ff0000;">if…else…</span> 
 <span style="color:#ff0000;">是有优先级的</span> 
 <span style="color:#000000;">，一般来说，第一个 </span> 
 <span style="color:#000000;">if </span> 
 <span style="color:#000000;">的优先级最高，最后一个 </span> 
 <span style="color:#000000;">else </span> 
 <span style="color:#000000;">的优先级最低。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">而 </span> 
 <span style="color:#ff0000;">case </span> 
 <span style="color:#ff0000;">语句是平行语句，它是没有优先级的，而建立优先级结构需要耗费大量的逻辑资源，所以能用 </span> 
 <span style="color:#ff0000;">case </span> 
 <span style="color:#ff0000;">的地方就不要用 </span> 
 <span style="color:#ff0000;">if…else…</span> 
 <span style="color:#ff0000;">语句。 </span> 
</div> 
<div> 
 <span style="color:#000000;">补充：</span> 
 <span style="color:#000000;">1.</span> 
 <span style="color:#000000;">也可以用 </span> 
 <span style="color:#000000;">if…; if…; if…;</span> 
 <span style="color:#000000;">描述不带优先级的</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">平行</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">语句。（但是这样容易引入锁存器） </span> 
</div> 
<div> 
 <span style="color:#000000;">5</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">一般触发器资源比较丰富，而 </span> 
 <span style="color:#ff0000;">CPLD </span> 
 <span style="color:#ff0000;">组合逻辑资源更丰富</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">6</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">CPLD </span> 
 <span style="color:#000000;">的组成： </span> 
</div> 
<div> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">基本有可编程 </span> 
 <span style="color:#ff0000;">I/O </span> 
 <span style="color:#ff0000;">单元、基本可编程逻辑单元、嵌入式块 </span> 
 <span style="color:#ff0000;">RAM</span> 
 <span style="color:#ff0000;">、丰富的布线资源、底层嵌入功能单元和内嵌专用硬核等 </span> 
 <span style="color:#ff0000;">6 </span> 
 <span style="color:#ff0000;">部分组成。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">CPLD </span> 
 <span style="color:#ff0000;">的结构相对比较简单，主要由可编程 </span> 
 <span style="color:#ff0000;">I/O </span> 
 <span style="color:#ff0000;">单元、基本逻辑单元、布线池和其他辅助功能模块组成。 </span> 
</div> 
<div> 
 <span style="color:#000000;">7</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">Block RAM: </span> 
</div> 
<div> 
 <span style="color:#ff0000;">3 </span> 
 <span style="color:#ff0000;">种块 </span> 
 <span style="color:#ff0000;">RAM </span> 
 <span style="color:#ff0000;">结构，</span> 
 <span style="color:#ff0000;">M512 RAM</span> 
 <span style="color:#ff0000;">（</span> 
 <span style="color:#ff0000;">512bit</span> 
 <span style="color:#ff0000;">）、</span> 
 <span style="color:#ff0000;">M4K RAM</span> 
 <span style="color:#ff0000;">（</span> 
 <span style="color:#ff0000;">4Kbit</span> 
 <span style="color:#ff0000;">）、</span> 
 <span style="color:#ff0000;">M-RAM(64Kbit). </span> 
</div> 
<div> 
 <span style="color:#000000;">M512 RAM:</span> 
 <span style="color:#000000;">适合做一些小的 </span> 
 <span style="color:#000000;">Buffer</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">FIFO</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">DPRAM</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">SPRAM</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">ROM </span> 
 <span style="color:#000000;">等； </span> 
</div> 
<div> 
 <span style="color:#000000;">M4K RAM: </span> 
 <span style="color:#000000;">适用于一般的需求 </span> 
</div> 
<div> 
 <span style="color:#000000;">M-RAM: </span> 
 <span style="color:#000000;">适合做大块数据的缓冲区。 </span> 
</div> 
<div> 
 <span style="color:#000000;">Xlinx </span> 
 <span style="color:#000000;">和</span> 
 <span style="color:#000000;"> Lattice FPGA </span> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">LUT </span> 
 <span style="color:#000000;">可以灵活配置成小的 </span> 
 <span style="color:#000000;">RAM</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">ROM</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">FIFO </span> 
 <span style="color:#000000;">等存储结构，这种技术被称为</span> 
 <span style="color:#ff0000;">分布式 </span> 
 <span style="color:#ff0000;">RAM</span> 
 <span style="color:#ff0000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">补充：但是在一般的设计中，不提倡用 </span> 
 <span style="color:#000000;">FPGA/CPLD </span> 
 <span style="color:#000000;">的片内资源配置成大量的存储器，这是处于成本的考虑。所以</span> 
 <span style="color:#ff0000;">尽量采用外接存储器</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">8</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#ff0000;">善用芯片内部的 </span> 
 <span style="color:#ff0000;">PLL</span> 
 <span style="color:#ff0000;">（</span> 
 <span style="color:#ff0000;">Phase Locked Loop </span> 
 <span style="color:#ff0000;">模拟锁相环）或 </span> 
 <span style="color:#ff0000;">DLL</span> 
 <span style="color:#ff0000;">（</span> 
 <span style="color:#ff0000;">Delay Locked Loop </span> 
 <span style="color:#ff0000;">数字锁相环）资源完成时钟的分频、倍频率、移相等 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">操作</span> 
 <span style="color:#000000;">，不仅简化了设计，并且能有效地提高系统的精度和工作稳定性。 </span> 
</div> 
<div> 
 <span style="color:#000000;">DLL </span> 
 <span style="color:#000000;">是基于数字抽样方式，在输入时钟和反馈时钟之间插入延迟，使输入时钟和反馈时钟的上升沿一致来实现的。又称数字锁相环。</span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">使用了电压控 </span> 
</div> 
<div> 
 <span style="color:#000000;">制延迟，用 </span> 
 <span style="color:#000000;">VCO </span> 
 <span style="color:#000000;">来实现和 </span> 
 <span style="color:#000000;">DLL </span> 
 <span style="color:#000000;">中类试的延迟功能。又称模拟锁相环。功能上都可以实现倍频、分频、占空比调整，但是 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">调节范围更大，比如说：</span> 
 <span style="color:#000000;">XILINX </span> 
</div> 
<div> 
 <span style="color:#000000;">使用 </span> 
 <span style="color:#000000;">DLL</span> 
 <span style="color:#000000;">，只能够 </span> 
 <span style="color:#000000;">2</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">4 </span> 
 <span style="color:#000000;">倍频；</span> 
 <span style="color:#000000;">ALTERA </span> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">可以实现的倍频范围就更大毕竟一个是模拟的、一个是数字的。两者之间的对比：对于 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">，用的晶振存在不稳 </span> 
</div> 
<div> 
 <span style="color:#000000;">定性，而且会累加相位错误，而 </span> 
 <span style="color:#000000;">DLL </span> 
 <span style="color:#000000;">在这点上做的好一些，抗噪声的能力强些；但 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">在时钟的综合方面做得更好些。总的来说 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">的应用多</span> 
 <span style="color:#000000;">,DLL </span> 
 <span style="color:#000000;">则在 </span> 
 <span style="color:#000000;">jitter power </span> 
</div> 
<div> 
 <span style="color:#000000;">precision </span> 
 <span style="color:#000000;">等方面优于 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">。</span> 
</div> 
<div> 
 <span style="color:#000000;">目前大多数 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">厂商都在 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">内部集成了硬的 </span> 
 <span style="color:#000000;">DLL</span> 
 <span style="color:#000000;">（</span> 
 <span style="color:#000000;">Delay-Locked Loop</span> 
 <span style="color:#000000;">）或者 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">（</span> 
 <span style="color:#000000;">Phase-Locked Loop</span> 
 <span style="color:#000000;">），用以完成时钟的高精度、低抖动的倍 </span> 
</div> 
<div> 
 <span style="color:#000000;">频、分频、占空比调整移相等。目前高端 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">产品集成的 </span> 
 <span style="color:#000000;">DLL </span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">资源越来越丰富，功能越来越复杂，精度越来越高（一般在 </span> 
 <span style="color:#000000;">ps </span> 
 <span style="color:#000000;">的数量级）。</span> 
 <span style="color:#000000;">Xilinx </span> 
 <span style="color:#000000;">芯片 </span> 
</div> 
<div> 
 <span style="color:#000000;">主要集成的是 </span> 
 <span style="color:#000000;">DLL</span> 
 <span style="color:#000000;">，而 </span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">芯片集成的是 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">。</span> 
 <span style="color:#000000;">Xilinx </span> 
 <span style="color:#000000;">芯片 </span> 
 <span style="color:#000000;">DLL </span> 
 <span style="color:#000000;">的模块名称为 </span> 
 <span style="color:#000000;">CLKDLL</span> 
 <span style="color:#000000;">，在高端 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">中，</span> 
 <span style="color:#000000;">CLKDLL </span> 
 <span style="color:#000000;">的增强型模块为 </span> 
 <span style="color:#000000;">DCM</span> 
 <span style="color:#000000;">（</span> 
 <span style="color:#000000;">Digital Clock </span> 
</div> 
<div> 
 <span style="color:#000000;">Manager</span> 
 <span style="color:#000000;">）。</span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">芯片的 </span> 
 <span style="color:#000000;">PLL </span> 
 <span style="color:#000000;">模块也分为增强型 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">（</span> 
 <span style="color:#000000;">Enhanced PLL</span> 
 <span style="color:#000000;">）和高速（</span> 
 <span style="color:#000000;">Fast PLL</span> 
 <span style="color:#000000;">）等。这些时钟模块的生成和配置方法一般分为两种，一种是在 </span> 
 <span style="color:#000000;">HDL </span> 
</div> 
<div> 
 <span style="color:#000000;">代码和原理图中直接实例化，另一种方法是在 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">核生成器中配置相关参数，自动生成 </span> 
 <span style="color:#000000;">IP</span> 
 <span style="color:#000000;">。</span> 
 <span style="color:#000000;">Xilinx </span> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">核生成器叫 </span> 
 <span style="color:#000000;">Core Generator</span> 
 <span style="color:#000000;">，另外在 </span> 
 <span style="color:#000000;">Xilinx ISE 5.x </span> 
 <span style="color:#000000;">版本 </span> 
</div> 
<div> 
 <span style="color:#000000;">中通过 </span> 
 <span style="color:#000000;">Archetecture Wizard </span> 
 <span style="color:#000000;">生成 </span> 
 <span style="color:#000000;">DCM </span> 
 <span style="color:#000000;">模块。</span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">核生成器叫做 </span> 
 <span style="color:#000000;">MegaWizard</span> 
 <span style="color:#000000;">。另外可以通过在综合、实现步骤的约束文件中编写约束属性完成时钟模 </span> 
</div> 
<div> 
 <span style="color:#000000;">块的约束。 </span> 
</div> 
<div> 
 <span style="color:#000000;">9</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#ff0000;">异步电路和同步时序电路的区别 </span> 
</div> 
<div> 
 <span style="color:#000000;">异步电路</span> 
 <span style="color:#000000;">: </span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>1</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;">电路核心逻辑有用组合电路实现； </span> 
</div> 
<div> 
 <span style="color:#000000;">异步时序电路的最大缺点是容易产生毛刺； </span> 
</div> 
<div> 
 <span style="color:#000000;">不利于器件移植； </span> 
</div> 
<div> 
 <span style="color:#000000;">不利于静态时序分析（</span> 
 <span style="color:#000000;">STA</span> 
 <span style="color:#000000;">）、验证设计时序性能。 </span> 
</div> 
<div> 
 <span style="color:#000000;">同步时序电路</span> 
 <span style="color:#000000;">: </span> 
</div> 
<div> 
 <span style="color:#000000;">电路核心逻辑是用各种触发器实现； </span> 
</div> 
<div> 
 <span style="color:#000000;">电路主要信号、输出信号等都是在某个时钟沿驱动触发器产生的； </span> 
</div> 
<div> 
 <span style="color:#000000;">同步时序电路可以很好的避免毛刺； </span> 
</div> 
<div> 
 <span style="color:#000000;">利于器件移植； </span> 
</div> 
<div> 
 <span style="color:#000000;">利于静态时序分析（</span> 
 <span style="color:#000000;">STA</span> 
 <span style="color:#000000;">）、验证设计时序性能。 </span> 
</div> 
<div> 
 <span style="color:#000000;">10</span> 
 <span style="color:#000000;">、同步设计中，稳定可靠的数据采样必须遵从以下两个基本原则：</span> 
 <span style="color:#ff0000;">（寄存器的建立和保持时间） </span> 
</div> 
<div> 
 <span style="color:#000000;">(1)</span> 
 <span style="color:#000000;">、在有效时钟沿到达前，数据输入至少已经稳定了采样寄存器的 </span> 
 <span style="color:#000000;">Setup </span> 
 <span style="color:#000000;">时间之久，这条原则简称满足 </span> 
 <span style="color:#000000;">Setup </span> 
 <span style="color:#000000;">时间原则； </span> 
</div> 
<div> 
 <span style="color:#000000;">(2)</span> 
 <span style="color:#000000;">、在有效时钟沿到达后，数据输入至少还将稳定保持采样寄存器的 </span> 
 <span style="color:#000000;">Hold </span> 
 <span style="color:#000000;">时钟之久，这条原则简称满足 </span> 
 <span style="color:#000000;">Hold </span> 
 <span style="color:#000000;">时间原则。 </span> 
</div> 
<div> 
 <span style="color:#000000;">11</span> 
 <span style="color:#000000;">、同步时序设计注意事项： </span> 
</div> 
<div> 
 <span style="color:#000000;">异步时钟域的数据转换。 </span> 
</div> 
<div> 
 <span style="color:#000000;">组合逻辑电路的设计方法。 </span> 
</div> 
<div> 
 <span style="color:#000000;">同步时序电路的时钟设计。 </span> 
</div> 
<div> 
 <span style="color:#000000;">同步时序电路的延迟。</span> 
 <span style="color:#ff0000;">同步时序电路的延迟最常用的设计方法是用分频或者倍频的时钟或者同步计数器完成所需的延迟</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#ff0000;">对比较大的和特殊定时要求 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">的延时，一般用高速时钟产生一个计数器，根据计数产生延迟；对于比较小的延迟，可以用 </span> 
 <span style="color:#ff0000;">D </span> 
 <span style="color:#ff0000;">触发器打一下，这样不仅可以使信号延时了一个时钟周 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">期，而且完成了信号与时钟的初次同步。</span> 
 <span style="color:#000000;">在输入信号采样和增加时序约束余量中使用。</span> 
 <span style="color:#ff0000;">另外，还有用行为级方法描述延迟，如</span> 
 <span style="color:#ff0000;">“#5 a&lt;=4’0101;”</span> 
 <span style="color:#ff0000;">这种常 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">用于仿真测试激励，但是在电路综合时会被忽略，并不能起到延迟作用。 </span> 
</div> 
<div> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">定义的 </span> 
 <span style="color:#000000;">reg </span> 
 <span style="color:#000000;">型，不一定综合成寄存器。在 </span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">代码中最常用的两种数据类型是 </span> 
 <span style="color:#000000;">wire </span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">reg </span> 
 <span style="color:#000000;">型，一般来说，</span> 
 <span style="color:#ff0000;">wire </span> 
 <span style="color:#ff0000;">型指定的数据和网线通过组 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">合逻辑实现，而 </span> 
 <span style="color:#ff0000;">reg </span> 
 <span style="color:#ff0000;">型指定的数据不一定就是用寄存器实现。 </span> 
</div> 
<div> 
 <span style="color:#000000;">12</span> 
 <span style="color:#000000;">、常用设计思想与技巧 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(1)</span> 
 <span style="color:#ff0000;">、乒乓操作； </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(2)</span> 
 <span style="color:#ff0000;">、串并转换； </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(3)</span> 
 <span style="color:#ff0000;">、流水线操作； </span> 
</div> 
<div> 
 <span style="color:#ff0000;">(4)</span> 
 <span style="color:#ff0000;">、异步时钟域数据同步</span> 
 <span style="color:#000000;">。</span> 
 <span style="color:#ff0000;">是指如何在两个时钟不同步的数据域之间可靠地进行数据交换的问题。</span> 
 <span style="color:#000000;">数据时钟域不同步主要有两种情况： </span> 
</div> 
<div> 
 <span style="color:#000000;">两个域的时钟频率相同，但是相差不固定，或者相差固定但是不可测，简称为</span> 
 <span style="color:#ff0000;">同频异相问题</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">两个时钟频率根本不同，简称</span> 
 <span style="color:#ff0000;">异频问题</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">两种不推荐的异步时钟域操作方法：一种是通过增加 </span> 
 <span style="color:#000000;">Buffer </span> 
 <span style="color:#000000;">或者其他门延时来调整采样；另一种是盲目使用时钟正负沿调整数据采样。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;"><strong>13</strong></span> 
 <span style="color:#ff0000;"><strong>、模块划分基本原则： </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">(1)</span> 
 <span style="color:#000000;">、对每个同步时序设计的子模块的输出使用寄存器（用寄存器分割同步时序模块原则）。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(2)</span> 
 <span style="color:#000000;">、将相关逻辑和可以复用的逻辑划分在同一模块内（呼应系统原则）。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(3)</span> 
 <span style="color:#000000;">、将不同优化目标的逻辑分开。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(4)</span> 
 <span style="color:#000000;">、将送约束的逻辑归到同一模块。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(5)</span> 
 <span style="color:#000000;">、将存储逻辑独立划分成模块。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(6)</span> 
 <span style="color:#000000;">、合适的模块规模。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(7)</span> 
 <span style="color:#000000;">、顶层模块最好不进行逻辑设计。 </span> 
</div> 
<div> 
 <span style="color:#000000;">14</span> 
 <span style="color:#000000;">、组合逻辑的注意事项 </span> 
</div> 
<div> 
 <span style="color:#000000;">(1)</span> 
 <span style="color:#000000;">、避免组合逻辑反馈环路（容易毛刺、振荡、时序违规等）。 </span> 
</div> 
<div> 
 <span style="color:#000000;">解决： </span> 
</div> 
<div> 
 <span style="color:#000000;">A</span> 
 <span style="color:#000000;">、牢记</span> 
 <span style="color:#ff0000;">任何反馈回路必须包含寄存器</span> 
 <span style="color:#000000;">； </span> 
</div> 
<div> 
 <span style="color:#000000;">B</span> 
 <span style="color:#000000;">、检查综合、实现报告的 </span> 
 <span style="color:#000000;">warning </span> 
 <span style="color:#000000;">信息，发现反馈回路（</span> 
 <span style="color:#000000;">combinational loops</span> 
 <span style="color:#000000;">）后进行相应修改。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(2)</span> 
 <span style="color:#000000;">、替换延迟链。 </span> 
</div> 
<div> 
 <span style="color:#000000;">解决：用倍频、分频或者同步计数器完成。 </span> 
</div> 
<div> 
 <span style="color:#000000;">(3)</span> 
 <span style="color:#000000;">、替换异步脉冲产生单元（毛刺生成器）。 </span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>2</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;"><strong>3</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8 </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">解决：用同步时序设计脉冲电路。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;"><strong>(4)</strong></span> 
 <span style="color:#ff0000;"><strong>、慎用锁存器。 </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">解决： </span> 
</div> 
<div> 
 <span style="color:#000000;">A</span> 
 <span style="color:#000000;">、使用完备的 </span> 
 <span style="color:#000000;">if…else </span> 
 <span style="color:#000000;">语句； </span> 
</div> 
<div> 
 <span style="color:#000000;">B</span> 
 <span style="color:#000000;">、检查设计中是否含有组合逻辑反馈环路； </span> 
</div> 
<div> 
 <span style="color:#000000;">C</span> 
 <span style="color:#000000;">、对每个输入条件，设计输出操作，对 </span> 
 <span style="color:#000000;">case </span> 
 <span style="color:#000000;">语句设置 </span> 
 <span style="color:#000000;">default </span> 
 <span style="color:#000000;">操作。特别是在状态机设计中，最好有一个 </span> 
 <span style="color:#000000;">default </span> 
 <span style="color:#000000;">的状态转移，而且每个状态最好也 </span> 
</div> 
<div> 
 <span style="color:#000000;">有一个 </span> 
 <span style="color:#000000;">default </span> 
 <span style="color:#000000;">的操作。 </span> 
</div> 
<div> 
 <span style="color:#000000;">D</span> 
 <span style="color:#000000;">、如果使用 </span> 
 <span style="color:#000000;">case </span> 
 <span style="color:#000000;">语句时，特别是在设计状态机时，尽量附加综合约束属性，综合为完全条件 </span> 
 <span style="color:#000000;">case </span> 
 <span style="color:#000000;">语句。 </span> 
</div> 
<div> 
 <span style="color:#000000;">小技巧：仔细检查综合器的综合报告，目前大多数的综合器对所综合出的 </span> 
 <span style="color:#000000;">latch </span> 
 <span style="color:#000000;">都会报</span> 
 <span style="color:#000000;">“warning”</span> 
 <span style="color:#000000;">，通过综合报告可以较为方便地找出无意中生成的 </span> 
 <span style="color:#000000;">latch</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;"><strong>15</strong></span> 
 <span style="color:#ff0000;"><strong>、时钟设计的注意事项 </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">(1)</span> 
 <span style="color:#000000;">、同步时序电路推荐的时钟设计方法： </span> 
</div> 
<div> 
 <span style="color:#ff0000;">时钟经全局时钟输入引脚输入，通过 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">内部专用的 </span> 
 <span style="color:#ff0000;">PLL </span> 
 <span style="color:#ff0000;">或 </span> 
 <span style="color:#ff0000;">DLL </span> 
 <span style="color:#ff0000;">进行分频</span> 
 <span style="color:#ff0000;">/</span> 
 <span style="color:#ff0000;">倍频、移相等调整与运算，然后经 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">内部全局时钟布线资源驱动到 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">达芯片内所有寄存器和其他模块的时钟输入端。 </span> 
</div> 
<div> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计者的 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功 </span> 
</div> 
<div> 
 <span style="color:#000000;">《佟林传》里，佟林练的基本功是</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">绕大树、解皮绳</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">，然后才练成了什么</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">鬼影随行、柳叶绵丝掌</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">。 </span> 
</div> 
<div> 
 <span style="color:#000000;">在我看来，成为一名说得过去的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计者，需要练好 </span> 
 <span style="color:#ff0000;"><strong>5 </strong></span> 
 <span style="color:#ff0000;"><strong>项基本功：仿真、综合、时序分析、调试、验证。 </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">对于 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计者来说，练好这 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功，与用好相应的 </span> 
 <span style="color:#000000;">EDA </span> 
 <span style="color:#000000;">工具是同一过程，对应关系如下：</span> 
</div> 
<div> 
 <span style="color:#000000;">1. </span> 
 <span style="color:#000000;">仿真：</span> 
 <span style="color:#000000;">Modelsim, Quartus II(Simulator Tool) </span> 
</div> 
<div> 
 <span style="color:#000000;">2. </span> 
 <span style="color:#000000;">综合：</span> 
 <span style="color:#000000;">Quartus II (Compiler Tool, RTL Viewer, Technology Map Viewer, Chip Planner) </span> 
</div> 
<div> 
 <span style="color:#000000;">3. </span> 
 <span style="color:#000000;">时序：</span> 
 <span style="color:#000000;">Quartus II (TimeQuest Timing Analyzer, Technology Map Viewer, Chip Planner) </span> 
</div> 
<div> 
 <span style="color:#000000;">4. </span> 
 <span style="color:#000000;">调试：</span> 
 <span style="color:#000000;">Quartus II (SignalTap II Logic Analyzer, Virtual JTAG, Assignment Editor) </span> 
</div> 
<div> 
 <span style="color:#000000;">5. </span> 
 <span style="color:#000000;">验证：</span> 
 <span style="color:#000000;">Modelsim, Quartus II(Test Bench Template Writer) </span> 
</div> 
<div> 
 <span style="color:#000000;">掌握 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">语言虽然不是 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的全部，但是 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">语言对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的影响贯穿于整个 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计流程中，与 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功是相 </span> 
</div> 
<div> 
 <span style="color:#000000;">辅相成的。</span> 
</div> 
<div> 
 <span style="color:#000000;">对于 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计者来说，用好</span> 
 <span style="color:#000000;">“HDL </span> 
 <span style="color:#000000;">语言的可综合子集</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">可以完成 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计 </span> 
 <span style="color:#000000;">50%</span> 
 <span style="color:#000000;">的工作</span> 
 <span style="color:#000000;">——</span> 
 <span style="color:#000000;">设计编码。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">练好仿真、综合、时序分析这 </span> 
 <span style="color:#ff0000;">3 </span> 
 <span style="color:#ff0000;">项基本功，对于学习</span> 
 <span style="color:#ff0000;">“HDL </span> 
 <span style="color:#ff0000;">语言的可综合子集</span> 
 <span style="color:#ff0000;">”</span> 
 <span style="color:#ff0000;">有如下帮助： </span> 
</div> 
<div> 
 <span style="color:#ff0000;">1. </span> 
 <span style="color:#ff0000;">通过仿真，可以观察 </span> 
 <span style="color:#ff0000;">HDL </span> 
 <span style="color:#ff0000;">语言在 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">中的逻辑行为。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">2. </span> 
 <span style="color:#ff0000;">通过综合，可以观察 </span> 
 <span style="color:#ff0000;">HDL </span> 
 <span style="color:#ff0000;">语言在 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">中的物理实现形式。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">3. </span> 
 <span style="color:#ff0000;">通过时序分析，可以分析 </span> 
 <span style="color:#ff0000;">HDL </span> 
 <span style="color:#ff0000;">语言在 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">中的物理实现特性。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">对于 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">设计者来说，用好</span> 
 <span style="color:#ff0000;">“HDL </span> 
 <span style="color:#ff0000;">语言的验证子集</span> 
 <span style="color:#ff0000;">”</span> 
 <span style="color:#ff0000;">，可以完成 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">设计另外 </span> 
 <span style="color:#ff0000;">50%</span> 
 <span style="color:#ff0000;">的工作</span> 
 <span style="color:#ff0000;">——</span> 
 <span style="color:#ff0000;">调试验证。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">1. </span> 
 <span style="color:#ff0000;">搭建验证环境，通过仿真的手段可以检验 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">设计的正确性。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">2. </span> 
 <span style="color:#ff0000;">全面的仿真验证可以减少 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">硬件调试的工作量。 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">3. </span> 
 <span style="color:#ff0000;">把硬件调试与仿真验证方法结合起来，用调试解决仿真未验证的问题，用仿真保证已经解决的问题不在调试中再现，可以建立一个回归验证流程， </span> 
</div> 
<div> 
 <span style="color:#ff0000;">有助于 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">设计项目的维护。</span> 
</div> 
<div> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计者的这 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功不是孤立的，必须结合使用，才能完成一个完整的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计流程。反过来说，通过完成一个完整的设计流程，才能 </span> 
</div> 
<div> 
 <span style="color:#000000;">最有效地练习这 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功。对这 </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功有了初步认识，就可以逐个深入学习一些，然后把学到的知识再次用于完整的设计流程。如此反复，就 </span> 
</div> 
<div> 
 <span style="color:#000000;">可以逐步提高设计水平。采用这样的循序渐进、螺旋式上升的方法，只要通过培训入了门，就可以自学自练，自我提高。</span> 
</div> 
<div> 
 <span style="color:#000000;">市面上出售的有关 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的书籍为了保证结构的完整性，对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的每一个方面分开介绍，每一方面虽然深入，但是由于缺少其他相关方面 </span> 
</div> 
<div> 
 <span style="color:#000000;">的支持，读者很难付诸实践，只有通读完全书才能对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计获得一个整体的认识。这样的书籍，作为工程培训指导书不行，可以作为某一个方面 </span> 
</div> 
<div> 
 <span style="color:#000000;">进阶的参考书。 </span> 
</div> 
<div> 
 <span style="color:#000000;">对于新入职的员工来说，他们往往对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">的整体设计流程有了初步认识，</span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">项基本功的某几个方面可能很扎实。但是由于某个或某几个方面能力的 </span> 
</div> 
<div> 
 <span style="color:#000000;">欠缺，限制了他们独自完成整个设计流程的能力。入职培训的目的就是帮助他们掌握整体设计流程，培养自我获取信息的能力，通过几个设计流程来 </span> 
</div> 
<div> 
 <span style="color:#000000;">回的训练，形成自我促进、自我发展的良性循环。在这一过程中，随着对工作涉及的知识的广度和深度的认识逐步清晰，新员工的自信心也会逐步增 </span> 
</div> 
<div> 
 <span style="color:#000000;">强，对个人的发展方向也会逐步明确，才能积极主动地参与到工程项目中来。</span> 
 <span style="color:#0000ff;"><strong>2</strong></span> 
 <span style="color:#0000ff;"><strong>、</strong></span> 
 <span style="color:#0000ff;"><strong>FPGA </strong></span> 
 <span style="color:#0000ff;"><strong>芯片速度等级认识（分享） </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">最初接触 </span> 
 <span style="color:#000000;">speed grade </span> 
 <span style="color:#000000;">这个概念时，很是为 </span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">的</span> 
 <span style="color:#000000;">-6</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">-7</span> 
 <span style="color:#000000;">、</span> 
 <span style="color:#000000;">-8 </span> 
 <span style="color:#000000;">速度等级逆向排序的方法困惑过一段时间。不很严密地说，</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">序号越低，速度等级越高</span> 
 <span style="color:#000000;">” </span> 
</div> 
<div> 
 <span style="color:#000000;">这是 </span> 
 <span style="color:#000000;">Altera FPGA </span> 
 <span style="color:#000000;">的排序方法，</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">序号越高，速度等级也越高</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">这是 </span> 
 <span style="color:#000000;">Xilinx FPGA </span> 
 <span style="color:#000000;">的排序方法。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">从那时起，就一直没搞明白 </span> 
 <span style="color:#000000;">speed grade </span> 
 <span style="color:#000000;">是怎么来的，唯一的概念是：同一款芯片可以有多个速度等级，不同的速度等级代表着不同的性能，不同的 </span> 
</div> 
<div> 
 <span style="color:#000000;">性能又导致芯片价格的巨大差异。脑子里总有一个模模糊糊的推测：</span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">厂家为了提高利润，专门给同一款芯片生产了不同的速度等级。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">直到一年前和一位学过 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计的同事 </span> 
 <span style="color:#000000;">hammer </span> 
 <span style="color:#000000;">讨论这一问题时，才有了新的认识：对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">厂家来说，为了得到同一款芯片的不同速度等级而专门设 </span> 
</div> 
<div> 
 <span style="color:#000000;">计不同的芯片版图是不划算的；</span> 
 <span style="color:#ff0000;"><strong>所以芯片的速度等级不应该是专门设计出来的，而应该是在芯片生产出来之后，实际测试标定出来的；速度快的芯片 </strong></span> 
</div> 
<div> 
 <span style="color:#ff0000;"><strong>在总产量中的比率低，价格也就相应地高。</strong></span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">这一解答很是合理，纠正了我的一个错误认识。但是我仍然有两点困惑： </span> 
</div> 
<div> 
 <span style="color:#000000;">1. </span> 
 <span style="color:#000000;">是什么因素导致了同一批芯片的性能差异；</span> 
 <span style="color:#000000;">2. </span> 
 <span style="color:#000000;">如果因素已知，为什么不人为控制这些因素，提高高速芯片的产率，达到既增加芯片厂商的利润又降 </span> 
</div> 
<div> 
 <span style="color:#000000;">低高速芯片价格的目的呢。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">前些天在博客里看到 </span> 
 <span style="color:#000000;">huge </span> 
 <span style="color:#000000;">朋友的一篇 </span> 
 <span style="color:#000000;">FPGA speed grade</span> 
 <span style="color:#000000;">，激发了我进一步探索上述问题的动力。通过在网络上搜索，逐步得到了以下一些认识： </span> 
</div> 
<div> 
 <span style="color:#000000;">riple </span> 
</div> 
<div> 
 <span style="color:#ff0000;">1. </span> 
 <span style="color:#ff0000;">芯片的速度等级决定于芯片内部的门延时和线延时，这两个因素又决定于晶体管的长度 </span> 
 <span style="color:#ff0000;">L </span> 
 <span style="color:#ff0000;">和容值 </span> 
 <span style="color:#ff0000;">C</span> 
 <span style="color:#ff0000;">，这两个数值的差异最终决定于芯片的生产工艺。 </span> 
</div> 
<div> 
 <span style="color:#000000;">怎样的工艺导致了这一差异，我还没找到答案。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#ff0000;">2. </span> 
 <span style="color:#ff0000;">在芯片生产过程中，有一个阶段叫做 </span> 
 <span style="color:#ff0000;">speed binning</span> 
 <span style="color:#ff0000;">。就是采用一定的方法、按照一组标准对生产出来的芯片进行筛选和分类，进而划分不同的速 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">度等级。</span> 
 <span style="color:#ff0000;">“</span> 
 <span style="color:#ff0000;">测试和封装</span> 
 <span style="color:#ff0000;">”</span> 
 <span style="color:#ff0000;">应该就包含这一过程。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">关于 </span> 
 <span style="color:#000000;">speed binning </span> 
 <span style="color:#000000;">的技术有很多专利：</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">Integrated circuit with adaptive speed binning </span> 
</div> 
<div> 
 <span style="color:#000000;">Semiconductor device with speed binning test circuit and test method thereof </span> 
</div> 
<div> 
 <span style="color:#000000;">Binning for semi-custom ASICs </span> 
</div> 
<div> 
 <span style="color:#000000;">Method and apparatus for determining wafer quality profiles </span> 
</div> 
<div> 
 <span style="color:#000000;">Method of sorting dice by speed during die bond assembly and packaging to customer order </span> 
</div> 
<div> 
 <span style="color:#000000;">Method for prioritizing production lots based on grade estimates and output requirements </span> 
</div> 
<div> 
 <span style="color:#000000;">3. </span> 
 <span style="color:#000000;">速度等级的标定不仅仅取决于芯片本身的品质，还与芯片的市场定位有很大关系，返修概率和成本也是因素之一。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">4. </span> 
 <span style="color:#000000;">芯片的等级可以在测试后加以具体调整和改善，在存储器芯片的生产中这一技术应用很广泛。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">5. </span> 
 <span style="color:#000000;">芯片生产的过程是充满各种变数的，生产过程可以得到控制，但是控制不可能精确到一个分子、一个原子，产品质量只能是一个统计目标。同一个 </span> 
</div> 
<div> 
 <span style="color:#000000;">wafer </span> 
 <span style="color:#000000;">上的芯片会有差异，即使是同一芯片的不同部分也是有差异的。</span> 
 <span style="color:#ff0000;">速度等级是一个统计数字，反映了一批芯片的某些共同特性，</span> 
 <span style="color:#000000;">不代表个别芯片的 </span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>4</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;">质量。而且由于某些芯片的测试是抽样进行的，也不排除个别芯片的个别性能会低于标定的速度等级。不过，据说 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">的测试是极严格的，很可能 </span> 
</div> 
<div> 
 <span style="color:#000000;">我们拿到手的芯片个个都经过了详尽的测试。这也是 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">芯片价格高于普通芯片的原因。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">6. </span> 
 <span style="color:#000000;">同一等级的芯片中的绝大多数，其性能应该高于该速度等级的划分标准。这也是为什么在 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计中，有少许时序分析违规的设计下载到芯片中 </span> 
</div> 
<div> 
 <span style="color:#000000;">仍然能够正常运行的原因（时序分析采用的模型参数是芯片的统计参数，是最保守也是最安全的）。不过，由于同一等级的芯片仍然存在性能差异， </span> 
</div> 
<div> 
 <span style="color:#000000;">存在时序违规但是单次测试成功的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计不能确保在量产时不在个别芯片上出现问题（出了问题就要返修或现场调查，成本一下子就上去了）。 </span> 
</div> 
<div> 
 <span style="color:#000000;">所以，还是要把时序收敛了才能放心量产，这就是工程标准对产品质量的保证。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">7. </span> 
 <span style="color:#000000;">概率和统计学源于工程实践，对工程实践又起到了巨大的指导作用。工程实践中的标准都是前人经验教训的积累，是人类社会的宝贵精神财富。</span> 
 <span style="color:#000000;"> ri </span> 
</div> 
<div> 
 <span style="color:#000000;">ple </span> 
</div> 
<div> 
 <span style="color:#000000;">8. </span> 
 <span style="color:#000000;">现实世界是模拟的，不是数字的。在考察现实问题时，我们这些数字工程师和软件工程师应该抛弃</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">一是一、〇是〇</span> 
 <span style="color:#000000;">”</span> 
 <span style="color:#000000;">的观念，用连续的眼光看待这 </span> 
</div> 
<div> 
 <span style="color:#000000;">个连续变化的真实世界。</span> 
 <span style="color:#000000;"> riple </span> 
</div> 
<div> 
 <span style="color:#000000;">9. </span> 
 <span style="color:#000000;">芯片生产过程中的不确定性导致了芯片的性能差异，这一差异影响了芯片的价格，价格和性能的折中又影响了我们这些 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计工程师在器件选 </span> 
</div> 
<div> 
 <span style="color:#000000;">型、设计方法上的决策，我们生产的产品的性价比决定了产品的销售，产品的销量又决定了芯片的采购量，采购量又影响了芯片的采购价格</span> 
 <span style="color:#000000;">...</span> 
 <span style="color:#000000;">。原子、 </span> 
</div> 
<div> 
 <span style="color:#000000;">分子级别上的差异，就这样一级一级地传递和放大。人类社会就是这样环环相扣，互相制约的。嘿，真是神奇！ </span> 
</div> 
<div> 
 <span style="color:#0000ff;"><strong>3</strong></span> 
 <span style="color:#0000ff;"><strong>、转 </strong></span> 
 <span style="color:#0000ff;"><strong>FPGA </strong></span> 
 <span style="color:#0000ff;"><strong>学习 </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">学习 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">我主要经历了这么几个阶段： </span> 
</div> 
<div> 
 <span style="color:#000000;">①、</span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">语言的学习，熟悉 </span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">语言的各种语法。 </span> 
</div> 
<div> 
 <span style="color:#000000;">②、</span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">的学习，熟悉 </span> 
 <span style="color:#000000;">QuartusII </span> 
 <span style="color:#000000;">软件的各种功能，各种逻辑算法设计，接口模块</span> 
 <span style="color:#000000;">(RS232,LCD,VGA,SPI,I2c </span> 
 <span style="color:#000000;">等</span> 
 <span style="color:#000000;">)</span> 
 <span style="color:#000000;">的设计，时序分析，硬件优化等， </span> 
</div> 
<div> 
 <span style="color:#000000;">自己开始设计简单的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">板子。 </span> 
</div> 
<div> 
 <span style="color:#000000;">③、</span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">的学习，熟悉 </span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">的开发流程，熟悉开发软件</span> 
 <span style="color:#000000;">(SOPC,NiosII IDE),</span> 
 <span style="color:#000000;">了解 </span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">的基本结构，设计 </span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">开发板，编写 </span> 
 <span style="color:#000000;">NiosII C </span> 
 <span style="color:#000000;">语言程 </span> 
</div> 
<div> 
 <span style="color:#000000;">序，调试板子各模块功能。</span> 
</div> 
<div> 
 <span style="color:#000000;">其实有 </span> 
 <span style="color:#000000;">C </span> 
 <span style="color:#000000;">语言的基础，学起 </span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">的语言很简单，关键要有并行的概念，所有的 </span> 
 <span style="color:#000000;">module</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">assign</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">always </span> 
 <span style="color:#000000;">都是并行的，这一点与软件语言有 </span> 
</div> 
<div> 
 <span style="color:#000000;">明显不同。这里推荐几本评价比较好的学习 </span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">的书籍： </span> 
</div> 
<div> 
 <span style="color:#000000;">①、</span> 
 <span style="color:#ff0000;">《</span> 
 <span style="color:#ff0000;">verilog </span> 
 <span style="color:#ff0000;">数字系统设计教程》</span> 
 <span style="color:#000000;">，这本书对于入门是一本很好的书，通俗易懂，让人很快上手，它里面的例子也不错。但本书对于资源优化方面 </span> 
</div> 
<div> 
 <span style="color:#000000;">的编程没有多少涉及到。 </span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>5</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;">②、</span> 
 <span style="color:#ff0000;">《设计与验证 </span> 
 <span style="color:#ff0000;">Verilog HDL</span> 
 <span style="color:#ff0000;">》</span> 
 <span style="color:#000000;">，这本书虽然比较薄，但是相当精辟，讲解的也很深入，很多概念看了这本书有种豁然开朗的感觉，呵呵。 </span> 
</div> 
<div> 
 <span style="color:#000000;">学习 </span> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">其实不用看很多书，基本的语法部分大家都一样，关键是要自己会灵活应用，多做练习。 </span> 
</div> 
<div> 
 <span style="color:#000000;">Verilog </span> 
 <span style="color:#000000;">语言学了一段时间，感觉自己可以编点东西，希望自己编的程序在板子上运行看看结果，下面就介绍我学习的第二个阶段。 </span> 
</div> 
<div> 
 <span style="color:#000000;">刚开始我拿了实验室一块 </span> 
 <span style="color:#000000;">CPLD </span> 
 <span style="color:#000000;">的开发板做练习，熟悉 </span> 
 <span style="color:#000000;">QuartusII </span> 
 <span style="color:#000000;">的各种功能，比如 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">的调用，各种约束设置，时序分析，</span> 
 <span style="color:#000000;">Logiclock </span> 
 <span style="color:#000000;">设计方法 </span> 
</div> 
<div> 
 <span style="color:#000000;">等，不过做到后面发现 </span> 
 <span style="color:#000000;">CPLD </span> 
 <span style="color:#000000;">的资源不太够</span> 
 <span style="color:#000000;">(</span> 
 <span style="color:#000000;">没有内嵌的 </span> 
 <span style="color:#000000;">RAM</span> 
 <span style="color:#000000;">、不能用 </span> 
 <span style="color:#000000;">SignalTapII</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">LE </span> 
 <span style="color:#000000;">太少等</span> 
 <span style="color:#000000;">)</span> 
 <span style="color:#000000;">，而实验室没有 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">开发板，所以就萌生了自己做 </span> 
</div> 
<div> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">开发板的意图，刚好 </span> 
 <span style="color:#000000;">Cadence </span> 
 <span style="color:#000000;">我也学的差不多了，就花了几天时间主要研究了 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">配置电路的设计，在板子上做了 </span> 
 <span style="color:#000000;">Jtag </span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">AS </span> 
 <span style="color:#000000;">下载口，在 </span> 
</div> 
<div> 
 <span style="color:#000000;">做了几个用户按键和 </span> 
 <span style="color:#000000;">LED</span> 
 <span style="color:#000000;">，其他的口全部引出作为 </span> 
 <span style="color:#000000;">IO </span> 
 <span style="color:#000000;">口，电路比较简单，板子焊好后一调就通了</span> 
 <span style="color:#000000;">(</span> 
 <span style="color:#000000;">心里那个爽啊</span> 
 <span style="color:#000000;">...)</span> 
 <span style="color:#000000;">。我选的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">是</span> 
 <span style="color:#000000;"> cycloneII </span> 
 <span style="color:#000000;">系列 </span> 
</div> 
<div> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">EP2C5</span> 
 <span style="color:#000000;">，资源比以前的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">多了好几倍，还有 </span> 
 <span style="color:#000000;">PLL</span> 
 <span style="color:#000000;">，内嵌的 </span> 
 <span style="color:#000000;">RAM</span> 
 <span style="color:#000000;">，可以试试 </span> 
 <span style="color:#000000;">SignalTapII</span> 
 <span style="color:#000000;">，用内嵌的逻辑分析仪测试引脚波形，</span> 
 <span style="color:#ff0000;">对于 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">的调 </span> 
</div> 
<div> 
 <span style="color:#ff0000;">试，逻辑分析仪是至关重要的。</span> 
 <span style="color:#000000;">利用这块板子我完成了项目中的几个主要功能：</span> 
 <span style="color:#000000;">RS232 </span> 
 <span style="color:#000000;">通信，指令译码，配置 </span> 
 <span style="color:#000000;">DDS</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">AD </span> 
 <span style="color:#000000;">数据高速缓存，电子开关状 </span> 
</div> 
<div> 
 <span style="color:#000000;">态设置等，在实践中学习起来真的比平时快很多，用到什么学什么动力更大。这个时候我主要看的数据有这几本感觉比较好： </span> 
</div> 
<div> 
 <span style="color:#000000;">①、</span> 
 <span style="color:#ff0000;">《</span> 
 <span style="color:#ff0000;">Altera FPGA/CPLD </span> 
 <span style="color:#ff0000;">设计（基础篇）》</span> 
 <span style="color:#000000;">：讲解一些基本的 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计技术，以及 </span> 
 <span style="color:#000000;">QuartusII </span> 
 <span style="color:#000000;">中各个工具的用法（</span> 
 <span style="color:#000000;">IP</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">RTL</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">SignalProbe</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">Si </span> 
</div> 
<div> 
 <span style="color:#000000;">gnalTapII</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">Timing Closure Floorplan</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">chip Editor </span> 
 <span style="color:#000000;">等），对于入门非常好。 </span> 
</div> 
<div> 
 <span style="color:#000000;">②、</span> 
 <span style="color:#ff0000;">《</span> 
 <span style="color:#ff0000;">Altera FPGA/CPLD </span> 
 <span style="color:#ff0000;">设计（高级篇）》</span> 
 <span style="color:#000000;">：讲解了一些高级工具的应用，</span> 
 <span style="color:#000000;">LogicLock</span> 
 <span style="color:#000000;">，时序约束很分析，设计优化，也讲述了一些硬件编程的 </span> 
</div> 
<div> 
 <span style="color:#000000;">思想，作为提高用。 </span> 
</div> 
<div> 
 <span style="color:#000000;">③、</span> 
 <span style="color:#ff0000;">《</span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">设计指南</span> 
 <span style="color:#ff0000;">--</span> 
 <span style="color:#ff0000;">器件，工具和流程》</span> 
 <span style="color:#000000;">：这本书看了他的目录忍不住就买了，这本书讲述了 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">设计的各个方面，虽然每个方面都是点到 </span> 
</div> 
<div> 
 <span style="color:#000000;">为止，但能让你有个整体的概念，了解 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">的所有设计功能，了解 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">开发的整个流程。 </span> 
</div> 
<div> 
 <span style="color:#000000;">④、在这里也推荐几个学习 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">比较好的论坛 </span> 
</div> 
<div> 
 <span style="color:#000000;">http://www.edacn.net/bbs </span> 
</div> 
<div> 
 <span style="color:#000000;">http://www.eetop.cn/ </span> 
</div> 
<div> 
 <span style="color:#000000;">⑤、其实最好的学习网站莫过于 </span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">的官方网站 </span> 
 <span style="color:#000000;">www.altera.com</span> 
 <span style="color:#000000;">，不过很多人一看到英语就不想看，其实上面的英文很简单，很多时候不敢看是 </span> 
</div> 
<div> 
 <span style="color:#000000;">因为对自己没信心或心静不下来看。不过官方网站上资料很多，刚开始可能会觉得资料安排的有点乱，不方便查找，以后有时间我列个资料的链接目 </span> 
</div> 
<div> 
 <span style="color:#000000;">录，整理一下，方便大家查找。 </span> 
</div> 
<div></div> 
<div> 
 <span style="color:#000000;">到这里，自己最 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">的学习有一段时间了，练习了很多实例，自己也编写了不少程序，也有了一些项目经验，算是对 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">有些了解了。在不 </span> 
</div> 
<div> 
 <span style="color:#000000;">断的学习中发现</span> 
 <span style="color:#000000;"> FPGA </span> 
 <span style="color:#000000;">不仅可以做逻辑设计，算法设计等，还能做嵌入式开发，</span> 
 <span style="color:#ff0000;">altera </span> 
 <span style="color:#ff0000;">先后开发了 </span> 
 <span style="color:#ff0000;">Nios</span> 
 <span style="color:#ff0000;">，</span> 
 <span style="color:#ff0000;">NiosII </span> 
 <span style="color:#ff0000;">两款 </span> 
 <span style="color:#ff0000;">FPGA </span> 
 <span style="color:#ff0000;">的嵌入式软核</span> 
 <span style="color:#000000;">，并有配套 </span> 
</div> 
<div> 
 <span style="color:#000000;">的软件，刚开始看到这些我真是心中突然豁然开朗，学习真的是无止境，又一个全新的领域摆在我面前，我决定学习 </span> 
 <span style="color:#000000;">NiosII</span> 
 <span style="color:#000000;">，要学就要学最好。 </span> 
</div> 
<div> 
 <span style="color:#000000;">刚开始入门是很痛苦的，</span> 
 <span style="color:#ff0000;">嵌入式设计需要从硬件到驱动到软件全部熟悉</span> 
 <span style="color:#000000;">，硬件系统问题还不是很大</span> 
 <span style="color:#000000;">(</span> 
 <span style="color:#000000;">以前做过单片机，</span> 
 <span style="color:#000000;">DSP </span> 
 <span style="color:#000000;">等 </span> 
 <span style="color:#000000;">MCU),</span> 
 <span style="color:#000000;">处理器的架 </span> 
</div> 
<div> 
 <span style="color:#000000;">构心里还有点数，对于驱动和软件工程，刚开始学习真的很头痛。</span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">应该还算比较新的内容</span> 
 <span style="color:#000000;">(</span> 
 <span style="color:#000000;">应该是 </span> 
 <span style="color:#000000;">2004 </span> 
 <span style="color:#000000;">年出的</span> 
 <span style="color:#000000;">)</span> 
 <span style="color:#000000;">，国内的书籍不算很多，网上这 </span> 
</div> 
<div> 
 <span style="color:#000000;">方面的资料也比较零碎，所以我就开始将 </span> 
 <span style="color:#000000;">Altera </span> 
 <span style="color:#000000;">网站上这方面的资料系统的看一边，这里推荐几本网站上的 </span> 
 <span style="color:#000000;">handbook</span> 
 <span style="color:#000000;">： </span> 
</div> 
<div> 
 <span style="color:#000000;">①、</span> 
 <span style="color:#000000;">Embedded Design Handbook </span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>6</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;">②、</span> 
 <span style="color:#000000;">Nios II Processor Reference Handbook </span> 
</div> 
<div> 
 <span style="color:#000000;">③、</span> 
 <span style="color:#000000;">Nios II Software Developer's Handbook </span> 
</div> 
<div> 
 <span style="color:#000000;">④、</span> 
 <span style="color:#000000;">Quartus II Handbook, Volume 4: SOPC Builder </span> 
</div> 
<div> 
 <span style="color:#000000;">⑤、</span> 
 <span style="color:#000000;">Quartus II Handbook, Volume 5: Embedded Peripherals </span> 
</div> 
<div> 
 <span style="color:#000000;">看完这些 </span> 
 <span style="color:#000000;">handbook</span> 
 <span style="color:#000000;">，总算基本明白整个架构，软硬件设计方法，驱动的编写等，感觉自己可以编一些嵌入式的程序了，不过虽然前面做的那块 </span> 
 <span style="color:#000000;">e </span> 
</div> 
<div> 
 <span style="color:#000000;">p2c5 </span> 
 <span style="color:#000000;">的板子支持 </span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">系统，不过对于嵌入式设计来说还是显得单薄了一点，没有 </span> 
 <span style="color:#000000;">SDRAM</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">Flash </span> 
 <span style="color:#000000;">这两个比较基本的模块，</span> 
 <span style="color:#000000;">Ep2C5 </span> 
 <span style="color:#000000;">内嵌的 </span> 
 <span style="color:#000000;">RAM </span> 
 <span style="color:#000000;">太 </span> 
</div> 
<div> 
 <span style="color:#000000;">小，程序写不大，而且每次总要绞尽脑汁优化程序代码大小，很多时候优化了后函数功能会受到限制，不利于初学者，也不利于调试。所以到这里我 </span> 
</div> 
<div> 
 <span style="color:#000000;">有产生了自己做一块</span> 
 <span style="color:#000000;"> Nios </span> 
 <span style="color:#000000;">开发板的想法</span> 
 <span style="color:#000000;">(</span> 
 <span style="color:#000000;">直接买比较贵，自己做便宜，而且还能锻炼自己，一举两得</span> 
 <span style="color:#000000;">)</span> 
 <span style="color:#000000;">，通过借鉴其他开发板，选择自己开发板上需要 </span> 
</div> 
<div> 
 <span style="color:#000000;">包含什么模块，确定各个模块使用什么芯片，阅读各个芯片的 </span> 
 <span style="color:#000000;">datasheet</span> 
 <span style="color:#000000;">，画出原理图并做出 </span> 
 <span style="color:#000000;">PCB </span> 
 <span style="color:#000000;">图，这块板子我选的是 </span> 
 <span style="color:#000000;">Ep2c8Q208</span> 
 <span style="color:#000000;">，比上一块资源 </span> 
</div> 
<div> 
 <span style="color:#000000;">又将近多了一倍，板子上还有以下模块：</span> 
 <span style="color:#000000;">SDRAM</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">Flash</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">EPCS4</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">RS232</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">USB,VGA,PS2,AD,DA,LCD </span> 
 <span style="color:#000000;">等，满足了一般开发板的配置要求。板子回 </span> 
</div> 
<div> 
 <span style="color:#000000;">来以后调试了四五天，</span> 
 <span style="color:#000000;">(flash </span> 
 <span style="color:#000000;">工作了，</span> 
 <span style="color:#000000;">LCD </span> 
 <span style="color:#000000;">显示了，</span> 
 <span style="color:#000000;">RS232 </span> 
 <span style="color:#000000;">通了，</span> 
 <span style="color:#000000;">USB </span> 
 <span style="color:#000000;">通了，</span> 
 <span style="color:#000000;">AD</span> 
 <span style="color:#000000;">，</span> 
 <span style="color:#000000;">DA </span> 
 <span style="color:#000000;">工作了，</span> 
 <span style="color:#000000;">SDRAM </span> 
 <span style="color:#000000;">正常了</span> 
 <span style="color:#000000;">...)</span> 
 <span style="color:#000000;">，真是每天都有惊喜，每个模块都 </span> 
</div> 
<div> 
 <span style="color:#000000;">编写了 </span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">软件测试程序，调试硬件的时候对软件的运行也更熟悉了。在这次调试的过程中真的学到了很多，为此专门写了好几页调试笔记，下次 </span> 
</div> 
<div> 
 <span style="color:#000000;">拿出来和大家一起分享。现在硬件平台有了，</span> 
 <span style="color:#000000;">NiosII </span> 
 <span style="color:#000000;">也了解的差不多了，终于可以自己编写一些规模大一点的程序了。 </span> 
</div> 
<div> 
 <span style="color:#000000;">以后的路还很长，不过也有很多惊喜在等着我们 </span> 
</div> 
<div> 
 <span style="color:#0000ff;"><strong>4</strong></span> 
 <span style="color:#0000ff;"><strong>、</strong></span> 
 <span style="color:#0000ff;"><strong>FPGA </strong></span> 
 <span style="color:#0000ff;"><strong>牛人的经验谈（转） </strong></span> 
</div> 
<div> 
 <span style="color:#000000;">这里我谈谈我的一些经验和大家分享，希望能对 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计的新手有一定的帮助，能使得他们能少走一些弯路，欢迎讨论！</span> 
</div> 
<div> 
 <span style="color:#000000;">我相信</span> 
 <span style="color:#000000;">“</span> 
 <span style="color:#000000;">如果有梦想，就会实现！</span> 
 <span style="color:#000000;">” </span> 
</div> 
<div> 
 <span style="color:#000000;">在 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">工业中有许多不同的领域，</span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计者的特征也会有些不同。在 </span> 
 <span style="color:#000000;">A </span> 
 <span style="color:#000000;">领域的一个好的 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计者也许会花很长时间去熟悉 </span> 
 <span style="color:#000000;">B </span> 
 <span style="color:#000000;">领域的知识。在我们职业 </span> 
</div> 
<div> 
 <span style="color:#000000;">生涯的开始，我们应该问我们自己一些问题，我们想要成为怎样的 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计者？消费？</span> 
 <span style="color:#000000;">PC </span> 
 <span style="color:#000000;">外围？通信？微处理器或 </span> 
 <span style="color:#000000;">DSP</span> 
 <span style="color:#000000;">？等等？</span> 
</div> 
<div> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">设计的基本规则和流程是一样的，无论啥样的都会加到其中。</span> 
 <span style="color:#000000;">HDL,FPGA </span> 
 <span style="color:#000000;">和软件等是帮助我们理解芯片的最好工具。</span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">的灵魂是知识。因此我们遇 </span> 
</div> 
<div> 
 <span style="color:#000000;">到的第一个挑战将是获得设计的相关信息，然后理解信息并应用它。</span> 
</div> 
<div> 
 <span style="color:#000000;">但是有些信息不是免费的，我们需要加入一些协会或从如 </span> 
 <span style="color:#000000;">IEEE/ISO </span> 
 <span style="color:#000000;">等那些组织购买一些文档。设计者应该有很强的背景知识来很快的理解他们，甚至 </span> 
</div> 
<div> 
 <span style="color:#000000;">能改进存在的标准或。一个好的设计者应该有足够的设计技能和工具应用知识并且不断的积累他们。</span> 
</div> 
<div> 
 <span style="color:#000000;">HDL</span> 
 <span style="color:#000000;">，计算机仿真和只能解决 </span> 
 <span style="color:#000000;">ASIC </span> 
 <span style="color:#000000;">设计流程的数字部分。如果在 </span> 
 <span style="color:#000000;">IC </span> 
 <span style="color:#000000;">中有任何模拟部分，他将依赖模拟设计者或从另外的厂家购买。甚至一些纯数字 </span> 
</div> 
<div> 
 <span style="color:#000000;">部分也能从另外一些厂家购买以加速上市时间。</span> 
 <span style="color:#ff0000;">那些不是被我们设计的部分称为 </span> 
 <span style="color:#ff0000;">IP</span> 
 <span style="color:#ff0000;">，包括 </span> 
 <span style="color:#ff0000;">HDL </span> 
 <span style="color:#ff0000;">代码，网表，硬核。</span> 
 <span style="color:#000000;">对于我们设计的技术取决于硬核。 </span> 
</div> 
<div> 
 <span style="color:#000000;">一些 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">是非常贵的，如在 </span> 
 <span style="color:#000000;">USB2.0 </span> 
 <span style="color:#000000;">中的</span> 
 <span style="color:#000000;"> PHY</span> 
 <span style="color:#000000;">。一些小的公司没有足够的人力和软件资源来完成有些工作，甚至他们不能在缺货期预定足够的晶原，因 </span> 
</div> 
<div> 
 <span style="color:#000000;">此涉及服务公司取代了他们的工作。但并不是每个 </span> 
 <span style="color:#000000;">IP </span> 
 <span style="color:#000000;">都满足我们的需要，有时我们需要在购买后作一些修改。我们要在设计前决定所要用到的 </span> 
 <span style="color:#000000;">IPs</span> 
 <span style="color:#000000;">。</span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>7</strong></span> 
 <span style="color:#000000;"> / </span> 
 <span style="color:#000000;"><strong>8</strong></span> 
 <span style="color:#000000;">在设计开始，设计者必须理解所有相关的标准、规范和算法。但是有许多方法来应用这些规范和算法。最好的结构是快速和最小芯片尺寸的结合。不 </span> 
</div> 
<div> 
 <span style="color:#000000;">幸的是，快速的需求常常和最小芯片尺寸的需求是对立的。因此，在 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">编码工作前规划一个最优的结构也是一个重要的问题。</span> 
</div> 
<div> 
 <span style="color:#000000;">以下条款是一些对一个稳步的和成功的设计的建议：（可能有些朋友也指出了其中的部分，我这里只作简要说明，可能稍有不同）</span> 
</div> 
<div> 
 <span style="color:#000000;">命名风格：</span> 
</div> 
<div> 
 <span style="color:#000000;">1 </span> 
 <span style="color:#000000;">不要用关键字做信号名；</span> 
 <span style="color:#000000;"> 2 </span> 
 <span style="color:#000000;">不要在中用 </span> 
 <span style="color:#000000;">VERILOG </span> 
 <span style="color:#000000;">关键字做信号名；</span> 
 <span style="color:#000000;"> 3 </span> 
 <span style="color:#000000;">命名信号用含义；</span> 
 <span style="color:#000000;"> 4 </span> 
 <span style="color:#000000;">命名 </span> 
 <span style="color:#000000;">I/O </span> 
 <span style="color:#000000;">口用尽量短的名字；</span> 
 <span style="color:#000000;"> 5 </span> 
 <span style="color:#000000;">不要把信号用高和低的 </span> 
</div> 
<div> 
 <span style="color:#000000;">情况混合命名；</span> 
 <span style="color:#000000;"> 6 </span> 
 <span style="color:#000000;">信号的第一个字母必须是 </span> 
 <span style="color:#000000;">A-Z </span> 
 <span style="color:#000000;">是一个规则；</span> 
 <span style="color:#000000;"> 7 </span> 
 <span style="color:#000000;">使模块名、实例名和文件名相同；</span> 
</div> 
<div> 
 <span style="color:#000000;">编码风格：记住，一个好的代码是其他人可以很容易阅读和理解的。</span> 
</div> 
<div> 
 <span style="color:#000000;">1 </span> 
 <span style="color:#000000;">尽可能多的增加说明语句；</span> 
 <span style="color:#000000;"> 2 </span> 
 <span style="color:#000000;">在一个设计中固定编码格式和统一所有的模块，根从项目领导者定义的格式；</span> 
 <span style="color:#000000;"> 3 </span> 
 <span style="color:#000000;">把全部设计分成适合数量的不同的模 </span> 
</div> 
<div> 
 <span style="color:#000000;">块或实体； </span> 
 <span style="color:#000000;">4 </span> 
 <span style="color:#000000;">在一个 </span> 
 <span style="color:#000000;">always/process </span> 
 <span style="color:#000000;">中的所有信号必须相关； </span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">不要用关键字或一些经常被用来安全综合的语法； </span> 
 <span style="color:#000000;">6 </span> 
 <span style="color:#000000;">不要用复杂逻辑； </span> 
 <span style="color:#000000;">7 </span> 
 <span style="color:#000000;">在一个 </span> 
 <span style="color:#000000;">if </span> 
 <span style="color:#000000;">语 </span> 
</div> 
<div> 
 <span style="color:#000000;">句中的所有条件必须相关；</span> 
</div> 
<div> 
 <span style="color:#000000;">设计风格</span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>1 </strong></span> 
 <span style="color:#000000;">强烈建议用同步设计； </span> 
 <span style="color:#000000;"><strong>2 </strong></span> 
 <span style="color:#000000;">在设计时总是记住时序问题； </span> 
 <span style="color:#000000;"><strong>3 </strong></span> 
 <span style="color:#000000;">在一个设计开始就要考虑到地电平或高电平复位、同步或异步复位、上升沿或下降沿触发 </span> 
</div> 
<div> 
 <span style="color:#000000;">等问题，在所有模块中都要遵守它； </span> 
 <span style="color:#000000;"><strong>4 </strong></span> 
 <span style="color:#000000;">在不同的情况下用 </span> 
 <span style="color:#000000;">if </span> 
 <span style="color:#000000;">和 </span> 
 <span style="color:#000000;">case</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>5 </strong></span> 
 <span style="color:#000000;">在锁存一个信号或总线时要小心； </span> 
 <span style="color:#000000;"><strong>6 </strong></span> 
 <span style="color:#000000;">确信所有寄存器的输出信号能够被复位</span> 
 <span style="color:#000000;">/ </span> 
</div> 
<div> 
 <span style="color:#000000;">置位； </span> 
 <span style="color:#000000;"><strong>7 </strong></span> 
 <span style="color:#000000;">永远不要再写入之前读取任何内部存储器（如 </span> 
 <span style="color:#000000;">SRAM</span> 
 <span style="color:#000000;">） </span> 
 <span style="color:#000000;"><strong>8 </strong></span> 
 <span style="color:#000000;">从一个时钟到另一个不同的时钟传输数据时用数据缓冲，他工作像一个双时钟 </span> 
 <span style="color:#000000;">FIF </span> 
</div> 
<div> 
 <span style="color:#000000;">O</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>9 </strong></span> 
 <span style="color:#000000;">在 </span> 
 <span style="color:#000000;">VHDL </span> 
 <span style="color:#000000;">中二维数组可以使用，它是非常有用的。在 </span> 
 <span style="color:#000000;">VERILOG </span> 
 <span style="color:#000000;">中他仅仅可以使用在测试模块中，不能被综合； </span> 
 <span style="color:#000000;"><strong>10 </strong></span> 
 <span style="color:#000000;">遵守 </span> 
 <span style="color:#000000;">register-in register-out </span> 
</div> 
<div> 
 <span style="color:#000000;">规则； </span> 
 <span style="color:#000000;"><strong>11 </strong></span> 
 <span style="color:#000000;">像 </span> 
 <span style="color:#000000;">synopsys </span> 
 <span style="color:#000000;">的 </span> 
 <span style="color:#000000;">DC </span> 
 <span style="color:#000000;">的综合工具是非常稳定的，任何 </span> 
 <span style="color:#000000;">bugs </span> 
 <span style="color:#000000;">都不会从综合工具中产生； </span> 
 <span style="color:#000000;"><strong>12 </strong></span> 
 <span style="color:#000000;">确保 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">版本与 </span> 
 <span style="color:#000000;">ASIC </span> 
 <span style="color:#000000;">的版本尽可能的相似，特别 </span> 
</div> 
<div> 
 <span style="color:#000000;">是 </span> 
 <span style="color:#000000;">SRAM </span> 
 <span style="color:#000000;">类型，若版本一致是最理想的； </span> 
 <span style="color:#000000;"><strong>13 </strong></span> 
 <span style="color:#000000;">在嵌入式存储器中使用 </span> 
 <span style="color:#000000;">BIST</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>14 </strong></span> 
 <span style="color:#000000;">虚单元和一些修正电路是必需的； </span> 
 <span style="color:#000000;"><strong>15 </strong></span> 
 <span style="color:#000000;">一些简单的测试电路也是需要 </span> 
</div> 
<div> 
 <span style="color:#000000;">的，经常在一个芯片中有许多测试模块； </span> 
 <span style="color:#000000;"><strong>16 </strong></span> 
 <span style="color:#000000;">除非低功耗不要用门控时钟； </span> 
 <span style="color:#000000;"><strong>17 </strong></span> 
 <span style="color:#000000;">不要依靠脚本来保证设计。但是在脚本中的一些好的约束能够起到更好 </span> 
</div> 
<div> 
 <span style="color:#000000;">的性能（例如前向加法器）； </span> 
 <span style="color:#000000;"><strong>18 </strong></span> 
 <span style="color:#000000;">如果时间充裕，通过时钟做一个多锁存器来取代用 </span> 
 <span style="color:#000000;">MUX</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>19 </strong></span> 
 <span style="color:#000000;">不要用内部 </span> 
 <span style="color:#000000;">tri-state, ASIC </span> 
 <span style="color:#000000;">需要总线保持器来处理内部 </span> 
</div> 
<div> 
 <span style="color:#000000;">tri-state</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>20 </strong></span> 
 <span style="color:#000000;">在 </span> 
 <span style="color:#000000;">top level </span> 
 <span style="color:#000000;">中作 </span> 
 <span style="color:#000000;">pad insertion</span> 
 <span style="color:#000000;">； </span> 
 <span style="color:#000000;"><strong>21 </strong></span> 
 <span style="color:#000000;">选择 </span> 
 <span style="color:#000000;">pad </span> 
 <span style="color:#000000;">时要小心（如上拉能力，施密特触发器，</span> 
 <span style="color:#000000;">5 </span> 
 <span style="color:#000000;">伏耐压等）； </span> 
 <span style="color:#000000;"><strong>22 </strong></span> 
 <span style="color:#000000;">小心由时钟偏差引起的问题；</span> 
</div> 
<div> 
 <span style="color:#000000;"><strong>23 </strong></span> 
 <span style="color:#000000;">不要试着产生半周期信号； </span> 
 <span style="color:#000000;"><strong>24 </strong></span> 
 <span style="color:#000000;">如果有很多函数要修正，请一个一个地作，修正一个函数检查一个函数； </span> 
 <span style="color:#000000;"><strong>25 </strong></span> 
 <span style="color:#000000;">在一个计算等式中排列每个信号的位数 </span> 
</div> 
<div> 
 <span style="color:#000000;">是一个好习惯，即使综合工具能做； </span> 
 <span style="color:#000000;"><strong>26 </strong></span> 
 <span style="color:#000000;">不要使用 </span> 
 <span style="color:#000000;">HDL </span> 
 <span style="color:#000000;">提供的除法器； </span> 
 <span style="color:#000000;"><strong>27 </strong></span> 
 <span style="color:#000000;">削减不必要的时钟。它会在设计和布局中引起很多麻烦，大多数 </span> 
 <span style="color:#000000;">FPGA </span> 
 <span style="color:#000000;">有 </span> 
 <span style="color:#000000;">1 </span> 
</div> 
<div> 
 <span style="color:#000000;">－</span> 
 <span style="color:#000000;">4 </span> 
 <span style="color:#000000;">个专门的时钟通道；</span> 
</div> 
<div> 
 <span style="color:#000000;">以上是大家在设计中最好遵守的要点，它可以使你的设计更好。</span> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/58851d967ebb90133755bfdf92866a31/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">零基础独立开发QT上位机项目指北</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b4e4431b2b0cde9ab38ba2c606a5534d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">青龙脚本分享（不断更新完善）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>