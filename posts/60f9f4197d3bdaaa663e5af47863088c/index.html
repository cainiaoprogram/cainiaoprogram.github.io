<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LTE中的算术题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LTE中的算术题" />
<meta property="og:description" content="1. RSRP及RSRQ计算
RSRP=-140&#43;RsrpResult（dBm）；
-44&lt;=RSRP&lt;-140dbm
0&lt;= RsrpResult&lt;=97
下行解调门限：18.2dBm来计算的话，下行支持的最小RSRP为18.2-130.8= -112.6
下行解调门限：上行支持的最小RSRP为23-126.44= -103.44dBm
RSRQ=-20&#43;1/2RsrqResult（dB）
RSRQ=N×RSRP/(E-UTRA carrier RSSI)，即RSRQ =10log10(N) &#43; UE所处位置接收到主服务小区的RSRP – RSSI。
RSRQ=20&#43;RSRP – RSSI
-3&lt;=RSRQ&lt;=-19.5 2. W及dBm换算
“1个基准”：30dBm=1W
“2个原则”：
a:&#43;3dBm，功率乘2倍；-3dBm，功率乘1/2 33dBm=30dBm&#43;3dBm=1W×2=2W
27dBm=30dBm-3dBm=1W×1/2=0.5W b:&#43;10dBm，功率乘10倍；-10dBm，功率乘1/10 40dBm=30dBm&#43;10dBm=1W×10=10W 20dBm=30dBm-10dBm=1W×0.1=0.1W 3. 功率计算
其中max transmissionpower = 43dBm 等效于20W Partofsectorpower=100(%) ;confOutputpower=20(W)
Sectorpower=20(W)
需确保 Sectorpower=confOutputpower*Partofsectorpower*% 如Partofsectorpower=50(%) ; confOutputpower=40(W) Sectorpower(20W)=confOutputpower(40W)*Partofsectorpower(50%)
4.参考信号接收功率计算
RSRP功率=RU输出总功率-10lg(12*RB个数) , 如果是单端口20W的RU,那么可以推算出,RSRP功率为43-10lg1200=12.2dBm.
a:A类符号指整个OFDM符号子载波上没有RS符号，位于时隙的索引为1、2、3、5、6（常规CP、2端口），2、3、5、6（常规CP、 4端口）。
b:B类符号指整个OFDM符号子载波上有RS符号，位于时隙索引0、4（常规CP、2端口），0、1、4（常规CP、 4端口）。
c:βA表征没有导频的OFDM symbol（A类符号）的数据子载波功率（和导频子载波功率的比值）。
d:βB表征有导频的OFDM symbol （B类符号）的数据子载波功率（和导频子载波功率的比值）。
5. 上下行频率计算
下行频点：FDL = FDL_low &#43; 0.1(NDL – NOffs-DL)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/60f9f4197d3bdaaa663e5af47863088c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-13T14:08:54+08:00" />
<meta property="article:modified_time" content="2020-01-13T14:08:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LTE中的算术题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#f33b45;"><strong>1. RSRP及RSRQ计算</strong></span></p> 
<p> </p> 
<p>RSRP=-140+RsrpResult（dBm）；</p> 
<p><strong>-44&lt;=RSRP&lt;-</strong><strong>140dbm</strong></p> 
<p><strong><strong>0&lt;= RsrpResult&lt;=97</strong></strong></p> 
<p>下行解调门限：18.2dBm来计算的话，下行支持的最小RSRP为18.2-130.8= -112.6</p> 
<p>下行解调门限：上行支持的最小RSRP为23-126.44= -103.44dBm</p> 
<p>RSRQ=-20+1/2RsrqResult（dB）</p> 
<p>RSRQ=N×RSRP/(E-UTRA carrier RSSI)，即RSRQ =10log10(N) + UE所处位置接收到主服务小区的RSRP – RSSI。</p> 
<p>RSRQ=20+RSRP – RSSI</p> 
<p><strong>-</strong><strong>3&lt;=RSRQ&lt;=</strong><strong>-19.5 </strong></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c1/e4/WMZGRuRd_o.png"></p> 
<p> </p> 
<p><span style="color:#f33b45;">2. W及dBm换算</span></p> 
<p> </p> 
<p><strong>“1</strong><strong>个基准</strong><strong>”</strong><strong>：</strong><strong>30dBm=1W</strong></p> 
<p><strong>“2个原则”：</strong></p> 
<p><strong>a:+3dBm</strong><strong>，功率乘</strong><strong>2</strong><strong>倍；</strong><strong>-3dBm</strong><strong>，功率乘</strong><strong>1/2 </strong></p> 
<p>33dBm=30dBm+3dBm=1W×2=2W</p> 
<p>27dBm=30dBm-3dBm=1W×1/2=0.5W </p> 
<p><strong>b:+10dBm</strong><strong>，功率乘</strong><strong>10</strong><strong>倍；</strong><strong>-10dBm</strong><strong>，功率乘</strong><strong>1/10 </strong></p> 
<p>40dBm=30dBm+10dBm=1W×10=10W </p> 
<p>20dBm=30dBm-10dBm=1W×0.1=0.1W </p> 
<p> </p> 
<p><span style="color:#f33b45;">3. 功率计算</span></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/57/0c/CJ4EApSK_o.png"></p> 
<p>其中max transmissionpower = 43dBm 等效于20W </p> 
<p>Partofsectorpower=100(%) ;confOutputpower=20(W)</p> 
<p>Sectorpower=20(W)</p> 
<p><strong>需确保 </strong><strong>Sectorpower=confOutputpower*Partofsectorpower*% </strong></p> 
<p>如Partofsectorpower=50(%) ; confOutputpower=40(W) </p> 
<p>Sectorpower(20W)=confOutputpower(40W)*Partofsectorpower(50%)</p> 
<p> </p> 
<p><strong><span style="color:#f33b45;">4.参考信号接收功率计算</span></strong></p> 
<p> </p> 
<p><strong>RSRP</strong><strong>功率</strong><strong>=RU</strong><strong>输出总功率</strong><strong>-10lg(12*RB</strong><strong>个数</strong><strong>) , </strong></p> 
<p>如果是单端口20W的RU,那么可以推算出,RSRP功率为43-10lg1200=12.2dBm.</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c7/1c/IlV8SRnk_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/9c/7e/cEeK7JtK_o.png"></p> 
<p> </p> 
<p>a:A类符号指整个OFDM符号子载波上没有RS符号，位于时隙的索引为1、2、3、5、6（常规CP、2端口），2、3、5、6（常规CP、 4端口）。</p> 
<p>b:B类符号指整个OFDM符号子载波上有RS符号，位于时隙索引0、4（常规CP、2端口），0、1、4（常规CP、 4端口）。</p> 
<p>c:βA表征没有导频的OFDM symbol（A类符号）的数据子载波功率（和导频子载波功率的比值）。</p> 
<p>d:βB表征有导频的OFDM symbol （B类符号）的数据子载波功率（和导频子载波功率的比值）。</p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/88/5d/hf1QYE0k_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/be/86/oBvC7Mf5_o.png"></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>5.  上下行频率计算</strong></span></p> 
<p> </p> 
<p>下行频点：FDL = FDL_low + 0.1(NDL – NOffs-DL)</p> 
<p>上行频点：FUL = FUL_low + 0.1(NUL – NOffs-UL)</p> 
<p>部分对照频点：</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/5a/18/Bv9GY2J8_o.png"></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/fb/b6/AnftxDH6_o.png"></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>6. PCI计算</strong></span></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/e6/bb/wieeotQr_o.png"></p> 
<p><strong>Physical Cell Identity =Cell-Identity groups *3 + Cell Identity</strong></p> 
<p><strong>Cell-Identity groups(0-167) ,Cell Identity(0,1,2)</strong></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>7.CellID计算出ENBID和sectorID（ECI）</strong></span></p> 
<p> </p> 
<p>ECGI=PLMN+ECI=MNC+MCC+ENBID+LOCALCELLID</p> 
<p>ECI= ENBID+LOCALCELLID(5位+2位的十进制)</p> 
<p>计算过程：</p> 
<p>1：先将ENBID、LOCALCELLID转化为16进制</p> 
<p>2：将ENBID+LOCALCELLID</p> 
<p>3：再将16进制转化为10进制</p> 
<p>也可以表达为：</p> 
<p>ECI=eNodeBid*256+Localcellid</p> 
<p><strong>CellID = eNBid*256 +sectorID </strong></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>8.PDCCHDL Grant Count计算</strong></span></p> 
<p> </p> 
<p>上下行比为1:3，特殊子帧配比是3:9:2的话，相当于1个帧结构中有2个上行子帧，2个特殊子帧，6个下行子帧。所以下行调度满调度的话就是6*100=600；如果特殊子帧配比中DwPTS大于3，则下行满调度为(6+2)*100=800。</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>9.  PDCCH最少占用的bit数</strong></span></p> 
<p> </p> 
<p>PDCCH至少占用1CCE，包含9个REG,1个REG包含4个RE,所以,此时,PDCCH含符号数为:4*9=36个，PDCCH采用QPSK，所以PDCCH最少占用的bit数为:36*2=72bits</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>10.PBCH占用的RE个数</strong></span></p> 
<p> </p> 
<p>A:频域上PBCH是占用6个PRB，即72个子载波；</p> 
<p>B:时域上占用子帧0的第2个时隙的前四个OFDM符号；</p> 
<p>C:1个PRB是12个子载波，PBCH进行的是盲检，不知道天线端口是以4天线口进行盲检，这样才对应RS是8；</p> 
<p>D:一个PRB中有多少个RE给PBCH=12*4 - 8 =40个RE；</p> 
<p>E:6个PRB多少个RE给PBCH=6*40 =240 RE。</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>11.子帧0可用的PDSCH的RE数</strong></span></p> 
<p> </p> 
<p> </p> 
<p>设：20M带宽，PDCCH占3个符号</p> 
<p>总RE数：7*2*12*100=16800</p> 
<p>PDCCH占用RE数：3*1200=3600</p> 
<p>PBCH占用RE数：4*6*12=288</p> 
<p>SSS占用RE数：1*6*12=72</p> 
<p>RS占用RE数：8*2*100=1600</p> 
<p>PDCCH、PBCH和RE公共部分：4*100+4*6=424</p> 
<p>PDSCH可用的RE数：16800-3600-288-72-1600+424=11664</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>12.20MHz带宽、CFI=1、两天线端口，0号子帧PDSCH可用的RE</strong></span></p> 
<p> </p> 
<p><strong>请计算</strong><strong>20MHz</strong><strong>带宽、</strong><strong>CFI=1</strong><strong>、两天线端口情况下，</strong><strong>0</strong><strong>号子帧内</strong><strong>PDSCH</strong><strong>可用的</strong><strong>RE</strong><strong>最多有多少个？</strong></p> 
<p><strong>0</strong><strong>号子帧占用的总</strong><strong>RE</strong><strong>数：</strong><strong>7*2*12*100=16800</strong></p> 
<p><strong>PDCCH</strong><strong>占用的</strong><strong>RE</strong><strong>数：</strong><strong>1*100*12=1200</strong></p> 
<p><strong>PBCH</strong><strong>占用的</strong><strong>RE</strong><strong>数：</strong><strong>4*6*12=288</strong></p> 
<p><strong>SSS</strong><strong>占用的</strong><strong>RE</strong><strong>数：</strong><strong>1*6*12=72</strong></p> 
<p><strong>RS</strong><strong>占用的</strong><strong>RE</strong><strong>数：</strong><strong>8*100*2=1600</strong></p> 
<p><strong>PDCCH</strong><strong>、</strong><strong>PBCH</strong><strong>和</strong><strong>RS</strong><strong>公共部分：</strong><strong>4*100+4*6=424</strong></p> 
<p><strong>0</strong><strong>号子帧内</strong><strong>PDSCH</strong><strong>可用的</strong><strong>RE</strong><strong>数：</strong><strong>16800-1200-288-72-1600+424=14064</strong></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>13.最大调度用户数</strong></span></p> 
<p> </p> 
<p> </p> 
<p><strong>设：一个带宽为</strong><strong>20M</strong><strong>，其天线端口数为</strong><strong>2</strong><strong>的</strong><strong>TD LTE</strong><strong>系统，其参数配置如下所示：</strong></p> 
<p><strong>cycPrefix= normal (0)</strong><strong>；</strong><strong>tddSpecSubfConf=7;tddFrameConf=1</strong><strong>；</strong><strong>MaxNrSymPdcch=3</strong><strong>；假设在该小区内用户每</strong><strong>10ms</strong><strong>内被调度一次，而被调度的用户分布如下：</strong><strong>10%</strong><strong>用户采用</strong><strong>1CCE;  20%</strong><strong>用户采用</strong><strong>2CCE;  30%</strong><strong>用户采用</strong><strong>4CCE;  40%</strong><strong>用户采用</strong><strong>8CCE, </strong><strong>计算在</strong><strong>10ms</strong><strong>内可被调度的最大用户数？</strong></p> 
<p> </p> 
<p>分析：有题意可得上下行时隙配比为2:2，特殊时隙配比10:2:2,常规子帧PDCCH占用符号数为3。</p> 
<p><strong>常规子帧</strong></p> 
<p>PDCCH占用RE数：3*12*100=3600</p> 
<p>最小PHICH占用RE数：1/6*100/8=3组PHICH；3*3*4=36</p> 
<p>PCFICH占用RE数：4*4=16</p> 
<p>RS占用RE数：4*100=400</p> 
<p>可用于调度的RE数：3600-36-16-400=3148</p> 
<p>可用于调度的CCE数： 3148/16=87</p> 
<p> </p> 
<p><strong>特殊子帧</strong></p> 
<p>由于特殊子帧的第三个符号用于PSS，故PDCCH占用RE数为：2*12*100=2400</p> 
<p>最小PHICH占用RE数：1/6*100/8=3组PHICH；3*3*4=36</p> 
<p>PCFICH占用RE数：4*4=16</p> 
<p>RS占用RE数：4*100=400</p> 
<p>可用于调度的RE数：2400-36-16-400=1948</p> 
<p>可用于调度的CCE数：1948/16=54</p> 
<p> </p> 
<p>10ms可用于调度的CCE数：87*6+54*2=456</p> 
<p>10ms内可调度的最大用户数：456/（0.1+0.2*2+0.3*4+0.4*8）=93个</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>14.上/下行速率计算</strong></span></p> 
<p> </p> 
<p> </p> 
<p>Downlink physical layer parameter values set by the field <em>ue-Category</em></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/f4/92/FWjNB03D_o.png"></p> 
<p>Maximum number of <strong>DL-SCH</strong>transport block bits received within a TTI：<strong>双码字最大传输快大小</strong></p> 
<p>Maximum number of bits of a <strong>DL-SCH </strong>transportblock received within a TTI：<strong>单码字最大传输快大小</strong></p> 
<p><strong>列如：</strong></p> 
<p>设定TD-LTE带宽为20MHz；上下行子帧配置为2：DSUDDDSUDD；特殊子帧配置为5: 3/9/2; TM3模式。</p> 
<p>Category3的上行理论峰值速率为：</p> 
<p>51024(每TTI的传输块大小)*2(1帧里有两个上行子帧)/10(一帧10ms)*1000（1秒内有1000ms）=10204800bit/s=10.2048Mbit/</p> 
<p>Category3的下行理论峰值速率为：</p> 
<p>102048（每TTI内Cat3双码字最大传输快大小）*6（1帧里有6个下行子帧）/10(一帧10ms)*1000（1秒内有1000ms）=61228800bit/s=61.2288Mbit/s</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/1f/c2/muoZY1MK_o.png"></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>15.重选计算</strong></span></p> 
<p> </p> 
<p>1、高优先级总是测量。Snonservingcell&gt;ThreshXHigh，且持续时间超过Treselection。</p> 
<p>2、同优先级Srxlev&lt;Sintrasearch（Snonintrasearch）启动测量。Rs &gt;Rn至少持续Treselection时间。</p> 
<p>3、低优先级Srxlev&lt;ThreshServingLow启动测量。Snonserv&gt;ThreshXLow，且持续时间超过Treselection。</p> 
<p> </p> 
<p>高优先级：Srxlev= Qmeas,n- QRxLevMin&gt;threshXHigh</p> 
<p>同优先级：服务小区 Rs = Qmeas,s + QHyst ；邻小区Rn = Qmeas,n –Qoffset</p> 
<p>低优先级：服务小区 Srxlev= Qmeas,s-QRxLevMin&lt; threshServingLow</p> 
<p>邻小区   Srxlev=Qmeas,n-QRxLevMin&gt; threshXLow</p> 
<p> </p> 
<p> </p> 
<p><strong>例如：</strong></p> 
<p>"某TDLTE R8处于小区B1超过20秒，邻区有A（高优先级）、B2（同优先级）及C（低优先级）。</p> 
<p>参数设置如下：</p> 
<p>threshXHigh= threshXLow = threshServingLow=20dB；qOffsetCell=0dB；qHyst=6dB。tReselection=1秒；qRxLevMin=-115dBm；offsetFreq=0所有小区的RSRP测量值（连续一秒）如下：</p> 
<p>A： -97dBm   B1：-96dBm B2：-92dBm  C：-94dBm</p> 
<p>请用R8的重选规则评估所有小区，然后找出最终重选目标小区?</p> 
<p>高优先级：A小区：Srxlev= -97-（-115）=18&lt; threshXHigh(20)，不合格</p> 
<p>同级别：B1小区：Rs =-96+6=-90 &gt; B2小区：Rn=-92</p> 
<p>低级别：B1小区：Srxlev =-97-（-115）=19&lt; threshServingLow (20),C小区 Srxlev=-94-(-115)=21&gt; threshXLow（20）   满足</p> 
<p> </p> 
<p> </p> 
<p><strong>移动性策略：</strong></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/09/35/jG8TnPn0_o.png"></p> 
<p><strong>重选优化策略：</strong></p> 
<p>问题1：室分外泄，重选到E。提高D到E的ThreshXHigh最高-95；提高E的Snonintrasearch最高-104。</p> 
<p>问题2：道路重选到F。降低D的Snonintrasearch；降低F的ThreshXHigh。</p> 
<p>问题3：同频重选过快/慢。修改Qhyst。</p> 
<p><strong>切换优化策略：</strong></p> 
<p>问题1：室分外泄，切换到E。降低A2起测门限最低-110，提高A4判决门限最高-95；切换出提高A2起测门限最高-86。</p> 
<p>问题2：切换难。个性偏移调正值调大，迟滞减小。</p> 
<p><strong>注：</strong></p> 
<p>基于覆盖的异频测量A5事件门限1—服务小区</p> 
<p>基于覆盖的异频测量A5事件门限2—邻小区</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>16. PRACH计算</strong></span></p> 
<p> </p> 
<p><strong>规划的详细方法：</strong></p> 
<p>1、根据小区半径决定Ncs取值；按小区接入半径10km来考虑，Ncs取值为78；其中Ncs与小区半径r的约束关系为：<strong>Ncs&gt;1.04875*(6.67r+Tmd)</strong>其中Tmd为最大时延扩展，取值单位为微秒，目前经验取值为6us</p> 
<p>2、839/78结果向下取整结果为10，这意味着每个索引可产生10个前导序列，64个前导序列就需要7个根序列索引；</p> 
<p>3、这意味着可供的根序列索引为0,7,14…833共119个可用根序列索引；</p> 
<p>4、根据可用的根序列索引，在所有小区之间进行分配，原理类似于PCI分配方法。</p> 
<p><strong>Preamble</strong><strong>序列的长度为</strong><strong>839</strong><strong>，持续</strong><strong>800us</strong><strong>。</strong></p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/8b/a6/kFXQ0MZ0_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/fd/44/gFPq32HB_o.png"></p> 
<p> </p> 
<p>假设一个覆盖半径为30KM的小区，请配置PrachCS，并计算出一个根序列能产生多少个Preamble？共需要多少个根序列？</p> 
<p><strong>1)     </strong><strong>根据</strong><strong>30KM</strong><strong>的覆盖半径，根据上表可确定</strong><strong>PrachCS </strong><strong>需配置为</strong><strong>14</strong><strong>；</strong></p> 
<p><strong>2)     PrachCS </strong><strong>为</strong><strong>14</strong><strong>时，一个跟序列产生</strong><strong>Preamble</strong><strong>的间隔</strong><strong>279</strong><strong>，</strong><strong>839</strong><strong>除以</strong><strong>279</strong><strong>向下取整，计算出一个根序列能产生</strong><strong>3</strong><strong>个</strong><strong>Preamble </strong><strong>码；</strong></p> 
<p><strong>3)     </strong><strong>一个小区需要</strong><strong>64</strong><strong>个</strong><strong>Preamble </strong><strong>码，</strong><strong>64</strong><strong>除以</strong><strong>3</strong><strong>向上取整，计算出需要</strong><strong>22</strong><strong>个根序列。</strong></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>17. </strong><strong>PRACH</strong><strong>的发射功率计算</strong></span></p> 
<p> </p> 
<p>PRACH的发射功率计算公式如下：                                </p> 
<p>P<em>PRACH</em> =<em> min</em>{P<em>CMAX ,</em> P<em>_pre</em> + PL + D<em> preamble</em> +<em> (</em>N pre -<em> 1)</em> × D step}</p> 
<p>P<em>CMAX</em>：UE最大发射功率</p> 
<p>Px<em>_pre</em>: 表示当PRACH 前导格式为x时，在满足前导检测性能时，eNodeB 所期 望的目标功率水平。</p> 
<p>PL ：UE 估计的下行路径损耗，通过RSRP 测量值和Cell-specificRS 发射功率获得。</p> 
<p>D<em> preamble</em>:表示当前配置的前导格式基于前导格式之间的功率偏置值</p> 
<p>Npre:表示UE在随机接入过程成功结束之前发送前导的总次数，不能超过最大前导发送次数</p> 
<p>D step:表示前导功率攀升步长。</p> 
<p>基本过程：</p> 
<p>eNodeB 设置初始值前导的期望接收功率，UE根据RS功率计算路损 PL ，eNodeB 通过系统消息将P<em>_pre,</em> D step下发到UE，UE根据这信息以及 PL 计算得到随机接入前导发射功率， 如果前一个RA过程，UE没有获得RA响应，则增加一个步长，抬升PRACH功率。</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>18.prachConfigurationIndex计算</strong></span></p> 
<p> </p> 
<p>TDLTE的PRACH采用格式0，循环周期为10ms，请问</p> 
<p>1）子帧配比为配置1的基站的3扇区的prachConfigurationIndex分别是多少及对应的帧内子帧位置(从0开始)？</p> 
<p>2）子帧配比为配置2的基站的3扇区的prachConfigurationIndex分别是多少及对应的帧内子帧位置？(从0开始)</p> 
<p>答案：</p> 
<p>TDD配置1的3扇区的prachConfigurationIndex分别为3/4/5，分别对应3、8、2三个子帧</p> 
<p>TDD配置2的3扇区的prachConfigurationIndex分别为3/4/4，分别对应2、7、7三个子帧</p> 
<p>过程：</p> 
<p>通过你的描述可以看到Preamble Format=0，DRA=1（循环周期10ms)，那么对应的PRACH configuration Index只有3,4,5这3种情况。再参照5.7.1-4可以看到PRACHconfiguration Index=5，UL/DL配置是2个情况是不使用的，所以只能选择3/4/4这种情况。</p> 
<p>每一个四元符号组<img alt="" class="has" src="https://images2.imgbox.com/54/b8/qyGLGHOW_o.png"> 用来指示一个特定随机接入资源的时频位置</p> 
<p>fra=频率偏移，题目中给的就是从0开始<br> tra(0)=0,1,2表明prach是在全帧；奇数帧；偶数帧<br> tra(1)=0,1 表明是在前半子帧上有，还是后半子帧上有<br> tra(2)表明prach上行子帧的序号（第一个从0开始）</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/21/5c/iQuwKotm_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/6b/1d/JeJY9MEQ_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/6c/06/tZEbMZ00_o.png"></p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>19.TA计算</strong></span></p> 
<p> </p> 
<p>eNodeB 根据UE 上报的信令计算出TA，只有在需要调整TA 时下指令给UE 调整，已知需要调整的时间粒度为16Ts，计算这个时间对应的空间距离变化是多少？（注意此时间包含了UE 上报/ENodeB 指配双程的时间）。</p> 
<p><strong>答：</strong></p> 
<p>Ts=1/(15000·2048)=1/3072000，约为0.0326μs。则16Ts约为0.52μs。单程的时间为0.26μs。此时间段内对应无线电波的速率，UE 的空间距离变化约为0.26*3*100=78 米。</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>20.寻呼帧计算</strong></span></p> 
<p> </p> 
<p><strong>PF(</strong><strong>寻呼帧)</strong><strong>：SFN mod T =(T div N)*(UE_ID mod N )</strong></p> 
<p><strong>PO(</strong><strong>寻呼时机)</strong><strong>：i_s =floor(UE_ID/N ) mod Ns</strong></p> 
<p>PO即寻呼帧所在位置对应的子帧号，该时刻不是通过计算得到，而是通过NS与I_s对应关系获取。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b5/80/IFy9q0o8_o.png"></p> 
<p> </p> 
<p>T ：UE的非连续接收周期，取值范围是32、64、128和256，单位是无线帧。该值越大，则RRC_IDLE状态下UE的电力消耗越少，但是寻呼消息在无线信道上的平均延迟越大。（T=min（Tc，Tue），其中Tc，Tue 分别表示核心网和无线侧设置的寻呼周期，一般情况无线侧的寻呼周期小于核心网周期，默认等于无线侧寻呼周期DefaultPagingCycle，该参数从SIB2中读取。而Tc从S1的寻呼消息中获取。）</p> 
<p> </p> 
<p>nB ：取值范围是4T 、2T 、T 、T /2、T /4、T /8、T /16、T /32，该参数主要表征了寻呼的密度，4T表示每个无线帧有4个子帧用于寻呼，T /4表示每4个无线帧有1个子帧用于寻呼，该值决定了系统的寻呼容量。（nB从SIB2中读取）</p> 
<p><strong>N =min(T,nB )</strong><strong>：表示DRX</strong><strong>周期内有N</strong><strong>个无线帧用于传输寻呼消息</strong></p> 
<p><strong>Ns =max(1,nB/T )</strong><strong>：每个无线帧中有NS</strong><strong>个子帧发起寻呼</strong><strong>UE_ID =IMSI mod 1024</strong></p> 
<p> </p> 
<p> </p> 
<p><strong>例如：</strong>如下表，现网中DefaultPagingCycle设置为128，则T=128; nB设置为T，即128，那么N=128；Ns=1.</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/08/c4/cHdaL3yv_o.png"></p> 
<p><strong>第一步，算寻呼帧位置：</strong></p> 
<p>假设用户的IMSI= 448835805669362，则根据公式求得。</p> 
<p>寻呼帧位置：= (T div N)*(UE_ID mod N) =（128/128）*((448835805669362mod 1024) mod 128) = 114</p> 
<p>则寻呼帧的位置可能出现在SFN =(128*i) + 114，（其中i = 0 到 N ，但是SFN &lt;= 1024）。如，寻呼帧的位置可能为128、242、498、626、754、868、982。</p> 
<p><strong>第二步，寻呼时刻确认：求</strong><strong>Ns</strong><strong>和</strong><strong>i_s</strong><strong>，根据公式求得。</strong></p> 
<p>Ns：Ns =max(1,nB/T)=1；</p> 
<p>i_s= floor(UE_ID/N) mod Ns=floor（（448835805669362 mod 1024）/128）= 0</p> 
<p>按照表1、2对应关系，Ns=1&amp;i_s=0=&gt; PO=9, 即当NB=T时，PO在寻呼帧的9子帧位置。</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/f4/e4/reBYVd6Y_o.png"></p> 
<p> </p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>21. </strong><strong>寻呼次数计算</strong></span></p> 
<p> </p> 
<p><strong>nB</strong><strong>表示表示在一个寻呼周期内包含的寻呼时刻（子帧）的数量，取值nB=4T, 2T, T, 1/2T, 1/4T, 1/8T, 1/16T, 1/32T</strong><strong>。请计算出对应的寻呼次数</strong></p> 
<p>答案：</p> 
<p>①当nB=T时，表示DRX周期内每个无线帧都可以传输寻呼消息，每个无线帧中有1个子帧发起寻呼，因此1s内的寻呼次数=1s/10ms=100。</p> 
<p>②当nB=4T时，N=min(T,nB)=min(T,4T)=T，Ns=max(1,nB/T)=max(1,4)=4，表示DRX周期内每个无线帧都可以传输寻呼消息，每个无线帧中有4个子帧发起寻呼，因此1s内的寻呼次数=1s/10ms*4=400</p> 
<p>③当nB=1/2T时，N=min(T,nB)=min(T,1/2T)=1/2T（一半的无线帧），Ns=max(1,nB/T)=max(1,1/2)=1，表示DRX周期内一半的无线帧可以传输寻呼消息，每个寻呼帧中有1个子帧发起寻呼，因此1s内的寻呼次数 =1s/10ms/2=50</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>22.VOLTE业务理论容量</strong></span></p> 
<p> </p> 
<p><strong>单载波理论最大支持高清语音用户数计算：</strong></p> 
<p>a:VoLTE上下行对称，以高清语音（编码速率23.85kbps）为例，开启RoHC关闭SPS时，高清业务上行，好点一个语音帧需2个RB，一个SID帧需1个RB，在中差点占用PRB会增加</p> 
<p>b:静默因子为0.4时，单用户每秒需要的PUSCH PRB资源为1000/20*(1-0.4) *2+1000/160*0.4*1=30*2+2.5*1=62.5个</p> 
<p>c:在1：3配置下，每秒共有PRB数目90PRB*1000ms/5ms=18000个，VoLTE理论容量为18000/[1000/20*(1-0.4) *2+ 1000/20*0.4*1]=288个。</p> 
<p> </p> 
<p><span style="color:#f33b45;"><strong>23. PUCCH资源计算</strong></span></p> 
<p> </p> 
<p>MaxPucchResourceSize = nCqiRb +    </p> 
<p>roundup{[((maxNumOfCce) + n1PucchAn -pucchNAnCs * 3 / deltaPucchShift ) * deltaPucchShift] / (3*12)} + roundup(pucchNAnCs / 8)</p> 
<p> </p> 
<p>nCqiRb：PUCCH bandwidth for CQI</p> 
<p>为PUCCH Format 2/2A/2B保留的PRB数目，取值1~98，默认2</p> 
<p> </p> 
<p>maxNumOfCce：maxNumOfCce depends ondlChBw parameter</p> 
<p>- if dlChBw is 5MHz then maxNumOfCce is 21<br> - if dlChBw is 10MHz then maxNumOfCce is 43<br> - if dlChBw is 15MHz then maxNumOfCce is 65<br> - if dlChBw is 20MHz then maxNumOfCce is 87</p> 
<p> </p> 
<p>n1PucchAn：ACK/NACK offset</p> 
<p>This is the AckNack index offset relative tothe lowest CCE index of the associated DL scheduling PDCCH.<br> if n1PucchAn is set to 10, than deltaPucchShiftmust be set to 1<br> if n1PucchAn is not set to 10, the relult of</p> 
<p>( n1PucchAn MODULO (36/deltaPucchShift) ) mustbe 0</p> 
<p>取值10～2047，默认36<br> 此参数定义预留给SR和半静态调度ACK/NACK的PUCCH资源，目前RL05不支持半静态调度，此资源全部用于SR，此参数设置为36，表示一个TTI支持36个用户，对于时隙比2：2配置，10ms帧支持4×36=144个用户</p> 
<p> </p> 
<p>pucchNAnCs：PUCCH cyclic shift formixed formats</p> 
<p>用于PUCCH传输的物理资源取决于高层配置的2个参数 和 。 表示每个时隙中可用于PUCCH格式2/2a/2b 传输的物理资源块数。 表示的是PUCCH格式1/1a/1b和格式2/2a/2b在一个物理资源块中混合传输时格式1/1a/1b可用的循环移位数。 是 的整数倍， 由高层配置， 取值范围为{0, 1, …, 7}。 表示没有物理资源块用于PUCCH格式1/1a/1b和格式2/2a/2b混合传输。一个时隙中最多一个物理资源块支持PUCCH格式1/1a/1b和格式2/2a/2b混合传输。<br> 在混合区域这连个format之间需要固定空闲2个循环移位作为保护间隔，以保证它们间的正交性</p> 
<p> </p> 
<p>deltaPucchShift：Delta cyclicshift for PUCCH</p> 
<p>每个PUCCH在一个频域上占用一个RB，通过频域扩频处理PUCCH同时为多个用户提供多个正交的信道，达到码分复用PUCCH资源的目的<br> 此参数为高层配置参数，表示两个相邻上行控制信道资源对应的循环位移间隔。虽然对于长度为12的CAZAC序列，理论上存在12个可用的循环位移，但考虑到信道的频率选择性，保持良好的正交特性，选择循环位移间相隔Delta cyclic shift for PUCCH，Delta cyclicshift for PUCCH=1，2，3对应12，6，4个cyclic shift<br> 当Delta cyclic shift for PUCCH=1，2，3时，可以复用36，18，12个用户</p> 
<p><strong>举例：</strong></p> 
<p>请根据给出的参数设置，指出不合理的地方，会造成怎样的后果，并给出修改建议（不考虑具体应用场景）</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/01/aa/XJARMAU4_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ed/96/5KjCFDR7_o.png"></p> 
<p>解析：</p> 
<p>maxNumUeDl：每TTI 里下行能够调度的最大用户数</p> 
<p>maxNumUeDlDwPTS：在一个周期里的下行导频时隙能够调度的最大用户数（maxNumUeDlDwPTS 必须小于maxNumUeDl）</p> 
<p>1.    maxNumUeDlDwPTS=0表示特殊子帧不能调度下行用户；造成资源浪费，单用户峰值或小区吞吐量下降；可以改为4或其他比maxNumUeDl略小的值。</p> 
<p>2.    prachConfIndex=3表示使用format0的preamble，这时preamble长度为839，prachCS表示preamble间的循环位移为119，因此一个root sequence能产生839/119=7个preamble序列，那么每个小区需要64/7=10个根序列，而rootSeqIndex的设置表明3个小区所能使用的根序列有重叠，即可能产生相同的preamble序列；可能会造成接入失败或切换失败等和preamble有关的功能；可以把每个小区的root sequence增加到10个，即小区间rootSeqIndex配置相差10，或者将prachCS改为8以下，这时一个root sequence能产生839/46=18个preamble序列，那么每个小区需要64/18=4个根序列.</p> 
<p>3.    PUCCH资源需求为MaxPucchResourceSize =nCqiRb +roundup{[((maxNumOfCce) + n1PucchAn - pucchNAnCs * 3 / deltaPucchShift) * deltaPucchShift] / (3*12)} + roundup (pucchNAnCs / 8)=4+roundup{[((87) + 36 - 0 * 3 / 1 ) * 1] / (3*12)} + roundup (0 / 8)=8 PRB（频带两边各4个）</p> 
<p>prachFreqOff=2使得prach信道和PUCCH信道重叠；会造成掉线、接入困难、下行Bler增大等问题；建议prachFreqOff=4以上。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fcaa5c82bbee1003130d2e2873348012/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">PTA 日期格式化   (天梯赛真题集)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d509b58f4e47c9094c0df4326512f251/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">xen虚拟机的启动（引导）方式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>