<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vite 如何设置 pwa，让网页类似 app 那样运行，使用插件 vite-plugin-pwa - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vite 如何设置 pwa，让网页类似 app 那样运行，使用插件 vite-plugin-pwa" />
<meta property="og:description" content="vite 如何设置 pwa，让网页类似 app 那样运行，使用插件 vite-plugin-pwa 一、概述 情况还是那么个情况，还是原来的项目 vue2 改为 vite&#43;ts&#43;vue3 遇到的问题，今天这个问题是如何 在 Vite 环境下设置 PWA。
PWA 就是网页应用可以像 app 那样不显示上下边栏在手机中使用，也可以从 PC 端脱离浏览器而显示为一个独立程序的样子使用。
vue-cli 环境时是这样实现的： Vue3 PWA 如何配置
今天就来说说如何在 vite 环境下实现上面的操作
二、实现 要实现 PWA 需要满足两个条件：
index.html 中需要添加指定的属性vite.config.ts 中需要添加指定的配置 1. 安装插件 vite-plugin-pwa vite 中要想实现 pwa 配置，需要在项目环境中安装一个插件 vite-plugin-pwa，它有 ServiceWorker 也 PWA
vite-plugin-pwa 官方 pwa 说明： https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html
yarn、npm 两种安装环境自行选择
yarn add -D vite-plugin-pwa # 或 npm i -D vite-plugin-pwa 2. 在 vite.config.ts 中添加对应配置 一般插件都配在非常健全文档，只需要访问它的官网就可以，找到 github 找到 npm 中的包页面。根据文档设置就可以了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a11be91e6521bc82d4a6f534c845dba2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T14:26:06+08:00" />
<meta property="article:modified_time" content="2024-01-05T14:26:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vite 如何设置 pwa，让网页类似 app 那样运行，使用插件 vite-plugin-pwa</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="vite__pwa_app__vitepluginpwa_1"></a>vite 如何设置 pwa，让网页类似 app 那样运行，使用插件 vite-plugin-pwa</h2> 
<h3><a id="_3"></a>一、概述</h3> 
<p>情况还是那么个情况，还是原来的项目 <code>vue2</code> 改为 <code>vite+ts+vue3</code> 遇到的问题，今天这个问题是如何 在 <code>Vite</code> 环境下设置 PWA。<br> PWA 就是网页应用可以像 app 那样不显示上下边栏在手机中使用，也可以从 PC 端脱离浏览器而显示为一个独立程序的样子使用。</p> 
<p><code>vue-cli</code> 环境时是这样实现的： <a href="https://blog.csdn.net/KimBing/article/details/126750683">Vue3 PWA 如何配置</a></p> 
<p>今天就来说说如何在 <code>vite</code> 环境下实现上面的操作</p> 
<h3><a id="_11"></a>二、实现</h3> 
<p>要实现 PWA 需要满足两个条件：</p> 
<ol><li>index.html 中需要添加指定的属性</li><li>vite.config.ts 中需要添加指定的配置</li></ol> 
<h4><a id="1__vitepluginpwa_17"></a>1. 安装插件 <code>vite-plugin-pwa</code></h4> 
<p><code>vite</code> 中要想实现 pwa 配置，需要在项目环境中安装一个插件 <code>vite-plugin-pwa</code>，它有 <code>ServiceWorker</code> 也 <code>PWA</code></p> 
<blockquote> 
 <p>vite-plugin-pwa 官方 pwa 说明： <a href="https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html" rel="nofollow">https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html</a></p> 
</blockquote> 
<p>yarn、npm 两种安装环境自行选择</p> 
<pre><code class="prism language-bash"><span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> vite-plugin-pwa
<span class="token comment"># 或</span>
<span class="token function">npm</span> i <span class="token parameter variable">-D</span> vite-plugin-pwa
</code></pre> 
<h4><a id="2__viteconfigts__29"></a>2. 在 vite.config.ts 中添加对应配置</h4> 
<blockquote> 
 <p>一般插件都配在非常健全文档，只需要访问它的官网就可以，找到 github 找到 npm 中的包页面。根据文档设置就可以了。</p> 
</blockquote> 
<p>添加 <code>VitePWA</code> 插件</p> 
<pre><code class="prism language-ts"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> VitePWA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite-plugin-pwa'</span>
</code></pre> 
<p>在 <code>defineConfig()</code> 中的 <code>plugins</code> 字段中添加这个插件。<br> 这个地方关于 manifest 的配置是跟 <code>vue-cli</code> 时的配置一样的，我是直接拿过来用的，可用。</p> 
<pre><code class="prism language-ts"><span class="token function">VitePWA</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    injectRegister<span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
    registerType<span class="token operator">:</span> <span class="token string">'autoUpdate'</span><span class="token punctuation">,</span>
    devOptions<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        enabled<span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">// 是否支持开发模式下也使 pwa 生效</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// MANIFEST PWA https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html</span>
    includeAssets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'logo.svg'</span><span class="token punctuation">,</span> <span class="token string">'apple-touch-icon.png'</span><span class="token punctuation">,</span> <span class="token string">'mask-icon.svg'</span><span class="token punctuation">,</span> <span class="token string">'favicon.png'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 应该是下面 manifest 中可能用到的文件名字吧</span>
    manifest<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        name<span class="token operator">:</span> <span class="token string">'标题日记'</span><span class="token punctuation">,</span>
        short_name<span class="token operator">:</span> <span class="token string">"日记"</span><span class="token punctuation">,</span>
        theme_color<span class="token operator">:</span> <span class="token string">"#373737"</span><span class="token punctuation">,</span>
        start_url<span class="token operator">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>
        display<span class="token operator">:</span> <span class="token string">"standalone"</span><span class="token punctuation">,</span>
        background_color<span class="token operator">:</span> <span class="token string">"#373737"</span><span class="token punctuation">,</span>
        icons<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span>
                src<span class="token operator">:</span> <span class="token string">"logo.svg"</span><span class="token punctuation">,</span>
                sizes<span class="token operator">:</span> <span class="token string">"512x512"</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">"image/svg+xml"</span><span class="token punctuation">,</span>
                purpose<span class="token operator">:</span> <span class="token string">"any"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
                src<span class="token operator">:</span> <span class="token string">"appicon-apple.png"</span><span class="token punctuation">,</span>
                sizes<span class="token operator">:</span> <span class="token string">"512x512"</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span>
                purpose<span class="token operator">:</span> <span class="token string">"any"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p>为了让你能看清它是在哪个位置，我的 <strong><em>vite.config.ts</em></strong> 完整的配置文件内容是这样的：</p> 
<pre><code class="prism language-ts"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span>defineConfig<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-vue'</span>
<span class="token keyword">import</span> svgLoader <span class="token keyword">from</span> <span class="token string">"vite-svg-loader"</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> VitePWA <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite-plugin-pwa'</span>

<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'path'</span>


<span class="token comment">// https://vitejs.dev/config/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">svgLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">VitePWA</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            injectRegister<span class="token operator">:</span> <span class="token string">'auto'</span><span class="token punctuation">,</span>
            registerType<span class="token operator">:</span> <span class="token string">'autoUpdate'</span><span class="token punctuation">,</span>
            devOptions<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                enabled<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>

            <span class="token comment">// MANIFEST PWA https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html</span>
            includeAssets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'logo.svg'</span><span class="token punctuation">,</span> <span class="token string">'apple-touch-icon.png'</span><span class="token punctuation">,</span> <span class="token string">'mask-icon.svg'</span><span class="token punctuation">,</span> <span class="token string">'favicon.png'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            manifest<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                name<span class="token operator">:</span> <span class="token string">'标题日记'</span><span class="token punctuation">,</span>
                short_name<span class="token operator">:</span> <span class="token string">"日记"</span><span class="token punctuation">,</span>
                theme_color<span class="token operator">:</span> <span class="token string">"#373737"</span><span class="token punctuation">,</span>
                start_url<span class="token operator">:</span> <span class="token string">"./"</span><span class="token punctuation">,</span>
                display<span class="token operator">:</span> <span class="token string">"standalone"</span><span class="token punctuation">,</span>
                background_color<span class="token operator">:</span> <span class="token string">"#373737"</span><span class="token punctuation">,</span>
                icons<span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{<!-- --></span>
                        src<span class="token operator">:</span> <span class="token string">"logo.svg"</span><span class="token punctuation">,</span>
                        sizes<span class="token operator">:</span> <span class="token string">"512x512"</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">"image/svg+xml"</span><span class="token punctuation">,</span>
                        purpose<span class="token operator">:</span> <span class="token string">"any"</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{<!-- --></span>
                        src<span class="token operator">:</span> <span class="token string">"appicon-apple.png"</span><span class="token punctuation">,</span>
                        sizes<span class="token operator">:</span> <span class="token string">"512x512"</span><span class="token punctuation">,</span>
                        type<span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span>
                        purpose<span class="token operator">:</span> <span class="token string">"any"</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    resolve<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        alias<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    server<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        host<span class="token operator">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span><span class="token comment">// 自定义主机名</span>
        port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span><span class="token comment">// 自定义端口</span>
        https<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        proxy<span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token string-property property">'/dev'</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">// target: 'http://localhost:3000',</span>
                target<span class="token operator">:</span> <span class="token string">'http://kylebing.cn:3000'</span><span class="token punctuation">,</span>
                changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/dev</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> 
<p>在编辑器中因为有 ts 的加持，能看到里面的属性一个萝卜一个坑，很舒服。</p> 
<p><img src="https://images2.imgbox.com/82/d3/DJfagt2x_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_indexhtml__150"></a>3. index.html 配置</h4> 
<blockquote> 
 <p>关于 <code>index.html</code> 需要添加的东西，官方说明：<br> <a href="https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html#entry-point" rel="nofollow">https://vite-pwa-org.netlify.app/guide/pwa-minimal-requirements.html#entry-point</a></p> 
</blockquote> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>zh-CN<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width,initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 搜索 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>description<span class="token punctuation">'</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>日记,标题日记,headline diary,人生日志,life log,日记应用,日记app,web版日记,diary web,纯文本日记,免费日记<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>keywords<span class="token punctuation">'</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>日记,标题日记,headline diary,人生日志,life log,日记应用,日记app,web版日记,diary web,纯文本日记,免费日记<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- web app --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>apple-mobile-web-app-capable<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>apple-mobile-web-app-status-bar-style<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>black-translucent<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- theme color--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#373737<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(prefers-color-scheme: light)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>theme-color<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#1a1a1a<span class="token punctuation">"</span></span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(prefers-color-scheme: dark)<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- fav icon --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shortcut icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./favicon.png<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/png<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- apple-touch-icon --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>apple-touch-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./appicon-apple.png<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- mask-icon 目前非必须 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mask-icon<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./appicon-apple.png<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>日记<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h3><a id="_187"></a>三、结果</h3> 
<p>可以安装这个 web 到系统中了。<br> 这样加完再运行的时候就会是这样，能看到在浏览器的右上角多出一个下载的按钮，就是表明这个网站这个应用是 PWA 页面。</p> 
<p><img src="https://images2.imgbox.com/eb/9c/Ghvk9vjJ_o.png" alt="在这里插入图片描述"><br> 当打开「下载」好的应用时，能看到它不会显示浏览器的地址栏，并且在系统独占一个程序图标，这个图标就是你在 <code>PWA</code> 中设置的图标，名字也是你设置的名字，完完全全是一个程序的样子。</p> 
<p><img src="https://images2.imgbox.com/e5/90/FSkOKFvP_o.png" alt="在这里插入图片描述"></p> 
<p>类似的程序有：</p> 
<ul><li>v2ex <a href="https://www.v2ex.com/" rel="nofollow">https://www.v2ex.com/</a> 需要外网</li><li>音乐解码 <a href="https://kylebing.cn/tools/unlock-music/" rel="nofollow">https://kylebing.cn/tools/unlock-music/</a></li><li>标题日记 <a href="https://kylebing.cn/diary" rel="nofollow">https://kylebing.cn/diary</a></li></ul> 
<p>可以试试看</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d2e90cf8156d5c57a0b696912c162c4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一分钟看懂Python中的//, /, %的作用和区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/37a76d174fe37b0072a8efd54d763a6b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">存储过程从表中获取数据库名称</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>