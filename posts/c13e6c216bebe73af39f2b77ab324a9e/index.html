<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【C&#43;&#43;】成员函数重载二元和一元运算符 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【C&#43;&#43;】成员函数重载二元和一元运算符" />
<meta property="og:description" content="重载双目运算符时，运算符函数中应该具有两个参数，若运算符函数作为类的成员函数(当运算符重载函数作为类的成员函数时，要求操作数左边必须是一个对象，而函数的参数可以是同类的对象也可以是普通的变量)，则只需要一个参数。 双目运算符 双目运算符就是具有两个操作数的运算符。如 &#43;、-、==等。
对双目运算符而言，成员函数重载运算符的函数参数表中只有一个参数，而用友元函数重载运算符函数参数表中含有两个参数。 成员函数重载 == 、&gt;运算符: bool operator==(CTime&amp; time); bool operator&gt;(CTime&amp; time); //判断对象的每个成员变量是否相等 bool CTime::operator==(CTime&amp; time) { if (m_nHour == time.m_nHour&amp;&amp;m_nMinute == time.m_nMinute&amp;&amp;m_nSecond == time.m_nSecond) { return true; } return false; } bool CTime::operator&gt;(CTime&amp; time) { if (m_nHour &gt; time.m_nHour) //先判断两个对象的小时数的大小 { return true; } else if (m_nHour &lt; time.m_nHour) { return false; } else //这是两个对象小时数相等的情况，接下来就判断分钟数 { if (m_nMinute&gt; time.m_nMinute) //再判断两个对象的分钟数的大小 { return true; } else if (m_nMinute &lt; time." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c13e6c216bebe73af39f2b77ab324a9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-09-22T09:37:00+08:00" />
<meta property="article:modified_time" content="2017-09-22T09:37:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【C&#43;&#43;】成员函数重载二元和一元运算符</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="content-detail markdown-body"> 
 <div class="markdown_views"> 
  <p>重载双目运算符时，运算符函数中应该具有两个参数，若运算符函数作为类的成员函数(当运算符重载函数作为类的成员函数时，要求操作数左边必须是一个对象，而函数的参数可以是同类的对象也可以是普通的变量)，则只需要一个参数。 </p> 
  <h3></h3> 
  <h2>双目运算符</h2> 
  <p>双目运算符就是具有两个操作数的运算符。如 +、-、==等。</p> 
  <p>对双目运算符而言，成员函数重载运算符的函数参数表中只有一个参数，而用友元函数重载运算符函数参数表中含有两个参数。 </p> 
  <h3>成员函数重载 == 、&gt;运算符:</h3> 
  <pre class="prettyprint"><code class="language-C++ 声明 hljs cs">    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(CTime&amp; time);
    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&gt;(CTime&amp; time);</code></pre> 
  <pre class="prettyprint"><code class="language-C++ 实现 hljs cs"><span class="hljs-comment">//判断对象的每个成员变量是否相等</span>
<span class="hljs-keyword">bool</span> CTime::<span class="hljs-keyword">operator</span>==(CTime&amp; time)
{
    <span class="hljs-keyword">if</span> (m_nHour == time.m_nHour&amp;&amp;m_nMinute == time.m_nMinute&amp;&amp;m_nSecond == time.m_nSecond)
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
}

<span class="hljs-keyword">bool</span> CTime::<span class="hljs-keyword">operator</span>&gt;(CTime&amp; time)
{
    <span class="hljs-keyword">if</span> (m_nHour &gt; time.m_nHour) <span class="hljs-comment">//先判断两个对象的小时数的大小</span>
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m_nHour &lt; time.m_nHour)
    {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-comment">//这是两个对象小时数相等的情况，接下来就判断分钟数</span>
    {
        <span class="hljs-keyword">if</span> (m_nMinute&gt; time.m_nMinute) <span class="hljs-comment">//再判断两个对象的分钟数的大小</span>
        {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (m_nMinute &lt; time.m_nMinute)
        {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-comment">//这是两个对象的时钟和分钟相等的情况下</span>
        {
            <span class="hljs-keyword">if</span> (m_nSecond&gt;time.m_nSecond) <span class="hljs-comment">//最后比较秒钟</span>
            {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            }
        }

    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;  <span class="hljs-comment">//最后就是两个对象相等，也不满足一个对象大于另外一个对象的情况，返回false</span>
}</code></pre> 
  <h3>成员函数重载++运算符</h3> 
  <pre class="prettyprint"><code class="language-C++ hljs cs">    CTime <span class="hljs-keyword">operator</span>++();<span class="hljs-comment">//前置的++</span>
    CTime <span class="hljs-keyword">operator</span>++(<span class="hljs-keyword">int</span>);<span class="hljs-comment">//后置++，这个int类型的参数只是为了区分，我们并不会使用这个参数，所以我们不需要形参的名字</span></code></pre> 
  <pre class="prettyprint"><code class="language-C++ hljs cs"><span class="hljs-comment">//前置的++</span>
CTime CTime::<span class="hljs-keyword">operator</span>++() <span class="hljs-comment">//重载++(前置)运算符</span>
{
    CTime time(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>); <span class="hljs-comment">//定义了一个秒数为1的对象</span>
    *<span class="hljs-keyword">this</span> = *<span class="hljs-keyword">this</span> + time;<span class="hljs-comment">//由于前面的函数已经重载了加号运算符，里面已经定义好了相关的操作，所以这句代码调用了加号运算符的重载函数，并将对象的秒数加一</span>
    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; <span class="hljs-comment">//前置++的操作顺序就是先加再返回它的值</span>
}

CTime CTime::<span class="hljs-keyword">operator</span>++(<span class="hljs-keyword">int</span>) <span class="hljs-comment">//重载++(后置)运算符</span>
{
    CTime time = *<span class="hljs-keyword">this</span>;<span class="hljs-comment">//后置++的操作规则是先返回再加，所以需要创建一个临时变量保存好这个对象的值</span>
    CTime time2(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<span class="hljs-comment">//定义了一个秒数为1的对象</span>
    *<span class="hljs-keyword">this</span> = *<span class="hljs-keyword">this</span> + time2;<span class="hljs-comment">//同上调用了加法运算符的重载函数</span>
    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<span class="hljs-comment">//返回加法操作之前的对象的值</span>
}</code></pre> 
  <pre class="prettyprint"><code class="language-C++ 测试 hljs perl">    CTime <span class="hljs-keyword">time</span>(<span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">20</span>);

    ++<span class="hljs-keyword">time</span>;
    std::cout &lt;&lt; <span class="hljs-keyword">time</span>.getHour() &lt;&lt; <span class="hljs-string">":"</span> &lt;&lt; <span class="hljs-keyword">time</span>.getMinute() &lt;&lt; <span class="hljs-string">":"</span> &lt;&lt; <span class="hljs-keyword">time</span>.getSecond() &lt;&lt; endl;

    <span class="hljs-keyword">time</span>++;
    std::cout &lt;&lt; <span class="hljs-keyword">time</span>.getHour() &lt;&lt; <span class="hljs-string">":"</span> &lt;&lt; <span class="hljs-keyword">time</span>.getMinute() &lt;&lt; <span class="hljs-string">":"</span> &lt;&lt; <span class="hljs-keyword">time</span>.getSecond() &lt;&lt; endl;
</code></pre> 
  <h4>结果</h4> 
  <p><img src="https://images2.imgbox.com/9c/83/4FZRaM2q_o.png" alt="" title=""></p> 
  <h2>源代码下载地址：</h2> 
  <blockquote>
    GITHUB源码下载地址: 
   <strong>【<a href="https://github.com/chenhaoxiang/C-Study/tree/master/20170904/code/OverloadOperator">点我进行下载</a>】</strong> 
  </blockquote> 
  <p>本文章由<a href="http://chenhaoxiang.cn/" rel="nofollow">[谙忆]</a>编写， 所有权利保留。 <br> 欢迎转载，分享是进步的源泉。</p> 
  <blockquote> 
   <p>转载请注明出处：<a href="http://chenhaoxiang.cn" rel="nofollow"><font color="#008000">http://chenhaoxiang.cn</font></a><br><br> 本文源自<strong>【<a href="http://chenhaoxiang.cn" rel="nofollow">人生之旅_谙忆的博客</a>】</strong></p> 
  </blockquote> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1ad0aaaf3a9c80227c1d15bad2e81eb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">项目管理的“三边六拍”</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3dbf7a09e63a3f294dab0a408e6b7877/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Excel（XLS，XLSX）和CSV相互转换 - C#简单实现方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>