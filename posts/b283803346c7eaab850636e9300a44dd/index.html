<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸‹ï¼‰ - èœé¸Ÿç¨‹åºå‘˜åšå®¢</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸‹ï¼‰" />
<meta property="og:description" content="å‰è¨€ ä½œä¸ºä¸€ä¸ªå‰ç«¯åˆ‡å›¾ä»”ï¼Œå°‘æœ‰å’Œå„ç±»è®¾è®¡æ¨¡å¼æ‰“äº¤é“ã€‚ä½†è¿™ä¸å½±å“æˆ‘ä»¬å­¦ä¹ è®¾è®¡æ¨¡å¼çš„æ€ç»´ï¼Œæ¥æå‡æˆ‘ä»¬çš„ä»£ç æ°´å¹³ã€‚
æœ¬ç« é€šè¿‡è®²è§£èŒè´£é“¾æ¨¡å¼ï¼Œå¸Œæœ›èƒ½å¤Ÿè®©ä½ å¯¹è®¾è®¡æ¨¡å¼æ›´ä¸€æ­¥çš„å­¦ä¹ ã€‚
æœ¬ç« å­¦ä¹ å†…å®¹ğŸ‘‡
çµæ´»å¯æ‹†åˆ†çš„èŒè´£é“¾æ¨¡å¼ çµæ´»å¯æ‹†åˆ†çš„èŒè´£é“¾æ¨¡å¼ åœ¨ä¸Šä¸€ç« ï¼Œã€ŠJavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸­ï¼‰ã€‹
æˆ‘ä»¬å°†å¤§æ®µçš„æ¡ä»¶åˆ¤æ–­å‡½æ•°æ‹†åˆ†ä¸ºäº†ä¸‰ä¸ªå°å‡½æ•°ï¼Œå¹¶ç”¨èŒè´£é“¾æ¨¡å¼æ¨¡å¼ä¸²è”èµ·æ¥äº†è¿™äº›æ¨¡å—ã€‚è™½ç„¶è§£å†³äº†å¤§é‡ä½¿ç”¨æ¡ä»¶åˆ†æ”¯çš„è¯­å¥ï¼Œä½†è¿™ä¾ç„¶è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š
function orderMember(seniorMember, price) { if (seniorMember) { return orderSeniorMember(price) } else { return price * 0.95 } } å¯ä»¥çœ‹åˆ°ï¼Œåœ¨èŒè´£é“¾çš„ä¼ é€’ä¸Šéå¸¸åƒµç¡¬ï¼Œé“¾ä¸Šçš„ä¸‹ä¸€æ®µå‡½æ•°ç›´æ¥è¢«è€¦åˆåœ¨äº†ä¸šåŠ¡å‡½æ•°ä¹‹ä¸­ã€‚è¿™æ˜¯è¿åå¼€æ”¾-å°é—­åŸåˆ™ï¼ˆOCPï¼ŒOpen Closed Principleï¼‰æ˜¯æ‰€æœ‰é¢å‘å¯¹è±¡åŸåˆ™çš„æ ¸å¿ƒã€‚å¦‚æœä»¥åæˆ‘ä»¬çš„ä¼šå‘˜è¿˜è¦å†åˆ†é’»çŸ³ä¼šå‘˜ä»¥åŠå¤§ä¼šå‘˜ç­‰ç­‰å°±æ„å‘³ç€å¿…é¡»æ”¹åŠ¨è¿™äº›ä¸šåŠ¡å‡½æ•°å†…éƒ¨ã€‚è¿™ä¼šæ‰°ä¹±æˆ‘ä»¬ä¹‹å‰æ‰€æ„å»ºçš„é“¾æ¡ï¼Œå°±åƒåœ¨å·²ç»åˆ›å»ºå¥½çš„æ•°ç»„æˆ‘ä»¬å»æ”¹å˜å…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„é¡ºåºè€Œå¯¼è‡´æ•´ä¸ªæ•°ç»„åç§»çš„åæœã€‚
æ¥ä¸‹æ¥ï¼Œ æˆ‘ä»¬é€šè¿‡å¯¹èŒè´£é“¾èŠ‚ç‚¹è¿›è¡Œä¸€å±‚å·¥å‚åŒ–åŒ…è£…æ¥è§£å†³è¿™ä¸ªé—®é¢˜ğŸ‘‡
é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè§£é™¤ä¹‹å‰ä¸‰ä¸ªå‡½æ•°èŠ‚ç‚¹çš„è€¦åˆã€‚å¹¶åœ¨éœ€è¦ä¼ é€’ç»™ä¸‹ä¸€å±‚è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²nextSuccessorè¡¨ç¤ºã€‚
â€‹ function orderNormal(userType, seniorMember, stock, price) { if (userType === 0) { if (stock &gt; 0) { console.log(price * 0.99) } else { console.log(false) } } else { return &#39;nextSuccessor&#39;; //å‘èŒè´£é“¾åç»§èŠ‚ç‚¹ä¼ é€’è¯·æ±‚ } } â€‹ function orderMember(userType, seniorMember, stock, price) { if (seniorMember == 0) { return &#39;nextSuccessor&#39;; //å‘èŒè´£é“¾åç»§èŠ‚ç‚¹ä¼ é€’è¯·æ±‚ } else { console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b283803346c7eaab850636e9300a44dd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-11T16:38:18+08:00" />
<meta property="article:modified_time" content="2023-01-11T16:38:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="èœé¸Ÿç¨‹åºå‘˜åšå®¢" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">èœé¸Ÿç¨‹åºå‘˜åšå®¢</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸‹ï¼‰</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>å‰è¨€</h3> 
<p>ä½œä¸ºä¸€ä¸ª<code>å‰ç«¯åˆ‡å›¾ä»”</code>ï¼Œå°‘æœ‰å’Œå„ç±»è®¾è®¡æ¨¡å¼æ‰“äº¤é“ã€‚ä½†è¿™ä¸å½±å“æˆ‘ä»¬å­¦ä¹ è®¾è®¡æ¨¡å¼çš„æ€ç»´ï¼Œæ¥æå‡æˆ‘ä»¬çš„ä»£ç æ°´å¹³ã€‚</p> 
<p>æœ¬ç« é€šè¿‡è®²è§£<code>èŒè´£é“¾æ¨¡å¼</code>ï¼Œå¸Œæœ›èƒ½å¤Ÿè®©ä½ å¯¹è®¾è®¡æ¨¡å¼æ›´ä¸€æ­¥çš„å­¦ä¹ ã€‚</p> 
<p>æœ¬ç« å­¦ä¹ å†…å®¹ğŸ‘‡</p> 
<ul><li>çµæ´»å¯æ‹†åˆ†çš„èŒè´£é“¾æ¨¡å¼</li></ul> 
<h3><a id="_10"></a>çµæ´»å¯æ‹†åˆ†çš„èŒè´£é“¾æ¨¡å¼</h3> 
<blockquote> 
 <p>åœ¨ä¸Šä¸€ç« ï¼Œ<a href="https://juejin.cn/post/7135287380377862157" rel="nofollow">ã€ŠJavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸­ï¼‰ã€‹</a></p> 
</blockquote> 
<p>æˆ‘ä»¬å°†å¤§æ®µçš„æ¡ä»¶åˆ¤æ–­å‡½æ•°æ‹†åˆ†ä¸ºäº†ä¸‰ä¸ªå°å‡½æ•°ï¼Œå¹¶ç”¨<code>èŒè´£é“¾æ¨¡å¼</code>æ¨¡å¼ä¸²è”èµ·æ¥äº†è¿™äº›æ¨¡å—ã€‚è™½ç„¶è§£å†³äº†å¤§é‡ä½¿ç”¨æ¡ä»¶åˆ†æ”¯çš„è¯­å¥ï¼Œä½†è¿™ä¾ç„¶è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p> 
<pre><code>function orderMember(seniorMember, price) {
    if (seniorMember) {
       return orderSeniorMember(price)
    } else {
        return price * 0.95
    }
}
</code></pre> 
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨<code>èŒè´£é“¾</code>çš„ä¼ é€’ä¸Šéå¸¸åƒµç¡¬ï¼Œé“¾ä¸Šçš„ä¸‹ä¸€æ®µå‡½æ•°ç›´æ¥è¢«è€¦åˆåœ¨äº†ä¸šåŠ¡å‡½æ•°ä¹‹ä¸­ã€‚è¿™æ˜¯è¿å<strong>å¼€æ”¾-å°é—­åŸåˆ™</strong>ï¼ˆ<code>OCP</code>ï¼ŒOpen Closed Principleï¼‰æ˜¯æ‰€æœ‰é¢å‘å¯¹è±¡åŸåˆ™çš„æ ¸å¿ƒã€‚å¦‚æœä»¥åæˆ‘ä»¬çš„ä¼šå‘˜è¿˜è¦å†åˆ†<code>é’»çŸ³ä¼šå‘˜</code>ä»¥åŠ<code>å¤§ä¼šå‘˜</code>ç­‰ç­‰å°±æ„å‘³ç€å¿…é¡»æ”¹åŠ¨è¿™äº›ä¸šåŠ¡å‡½æ•°å†…éƒ¨ã€‚è¿™ä¼šæ‰°ä¹±æˆ‘ä»¬ä¹‹å‰æ‰€æ„å»ºçš„<code>é“¾æ¡</code>ï¼Œå°±åƒåœ¨å·²ç»åˆ›å»ºå¥½çš„æ•°ç»„æˆ‘ä»¬å»æ”¹å˜å…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„é¡ºåºè€Œå¯¼è‡´æ•´ä¸ªæ•°ç»„åç§»çš„åæœã€‚</p> 
<p><strong>æ¥ä¸‹æ¥ï¼Œ</strong> æˆ‘ä»¬é€šè¿‡å¯¹<code>èŒè´£é“¾</code>èŠ‚ç‚¹è¿›è¡Œä¸€å±‚å·¥å‚åŒ–åŒ…è£…æ¥è§£å†³è¿™ä¸ªé—®é¢˜ğŸ‘‡</p> 
<p><strong>é¦–å…ˆ</strong>ï¼Œæˆ‘ä»¬å…ˆè§£é™¤ä¹‹å‰ä¸‰ä¸ª<code>å‡½æ•°èŠ‚ç‚¹</code>çš„è€¦åˆã€‚å¹¶åœ¨éœ€è¦ä¼ é€’ç»™ä¸‹ä¸€å±‚è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²<code>nextSuccessor</code>è¡¨ç¤ºã€‚</p> 
<pre><code>â€‹
function orderNormal(userType, seniorMember, stock, price) {
    if (userType === 0) {
        if (stock &gt; 0) {
            console.log(price * 0.99)
        } else {
            console.log(false)
        }
    } else {
        return 'nextSuccessor'; //å‘èŒè´£é“¾åç»§èŠ‚ç‚¹ä¼ é€’è¯·æ±‚
    }
}
â€‹
function orderMember(userType, seniorMember, stock, price) {
    if (seniorMember == 0) {
        return 'nextSuccessor'; //å‘èŒè´£é“¾åç»§èŠ‚ç‚¹ä¼ é€’è¯·æ±‚
    } else {
        console.log(price * 0.95)
    }
}
â€‹
function orderSeniorMember(userType, seniorMember, stock, price) {
    if (userType === 1 &amp;&amp; seniorMember == 1) {
         console.log(price * 0.91)
    }
}
â€‹
</code></pre> 
<p><strong>æ¥ç€ï¼Œ</strong> æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•°<code>Chain</code>ï¼Œä½¿å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºè¯¥èŠ‚ç‚¹è¿è¡Œçš„å‡½æ•°ï¼ŒåŒæ—¶ä»–è¿˜æ‹¥æœ‰ä¿©ä¸ª<strong>å±æ€§å’Œæ–¹æ³•</strong>:</p> 
<ul><li><code>fn</code>å½“å‰çš„è¿è¡ŒèŠ‚ç‚¹å‡½æ•°</li><li><code>successor</code>ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li></ul> 
 
<ul><li><code>Chain.prototype.setNextSuccessor</code>æŒ‡å®šåœ¨é“¾ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</li><li><code>Chain.prototype.passRequest</code>ä¼ é€’è¯·æ±‚ç»™æŸä¸ªèŠ‚ç‚¹</li></ul> 
<pre><code>let Chain = function (fn) {
    this.fn = fn;
    this.successor = null;
};
Chain.prototype.setNextSuccessor = function (successor) {
    return this.successor = successor;
};
Chain.prototype.passRequest = function () {
    var ret = this.fn.apply(this, arguments);
    if (ret === 'nextSuccessor') {
        return this.successor &amp;&amp; this.successor.passRequest.apply(this.successor, arguments);
    }
    return ret;
};
</code></pre> 
<p><strong>ç„¶åï¼Œ</strong> æˆ‘ä»¬é€šè¿‡è¿™ä¸ªå·¥å‚å®ä¾‹åŒ–åŒ…è£…ä¸‹æˆ‘ä»¬çš„èŠ‚ç‚¹ï¼Œå¹¶æµ‹è¯•è¿è¡Œã€‚</p> 
<pre><code>var chainOrderSenior = new Chain(orderSeniorMember);
var chainOrderMember = new Chain(orderMember);
var chainOrderNormal = new Chain(orderNormal);
â€‹
chainOrderMember.setNextSuccessor(chainOrderSenior);
chainOrderNormal.setNextSuccessor(chainOrderMember);
â€‹
chainOrderNormal.passRequest(1, false, 1, 100)
</code></pre> 
<p><strong>æ§åˆ¶å°è¾“å‡º</strong></p> 
<pre><code>95
</code></pre> 
<p>å®ŒæˆğŸ¤©ã€‚è¿™æ ·ä¸‹æ¬¡æˆ‘ä»¬éœ€è¦è¿½åŠ æ–°çš„ä¼šå‘˜ç­‰çº§æˆ–è€…å…¶ä»–æ¡ä»¶æ—¶ï¼Œåªéœ€è¦è®¾ç½®åœ¨å¯¹åº”èŠ‚ç‚¹è®¾ç½®åç»§èŠ‚ç‚¹å³å¯ã€‚</p> 
<p>\</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a52233ec94a619a4de2df3134216fd76/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">JavaScriptèŒè´£é“¾æ¨¡å¼ä¸å¼€å‘å®è·µï¼ˆä¸­ï¼‰</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e4d91d8aff3ee2bcdc37d44fb68709b1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">è§£å†³â€œImportError: Missing optional dependency â€˜pytablesâ€˜. Use pip or conda to install pytables.â€</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 èœé¸Ÿç¨‹åºå‘˜åšå®¢.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>