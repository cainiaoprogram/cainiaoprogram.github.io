<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python重温笔记番外篇 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python重温笔记番外篇" />
<meta property="og:description" content="1. 写在前面 今天这篇文章是python重温笔记的番外，整理一些面试中的问题以及遇到过的一些坑， 正好借着这个机会把前面的知识进行一个串联， 要不然这些知识很容易就会遗忘， 毕竟知识多而又不太容易常用到。 涉及到的知识包括列表推导式， 高阶函数的使用， 字典排序， 字符串， 日期， 文件遍历， 生成器， 正则， 线程等， 所以还是比较全面的， 以后如果再遇到python方面的练习题的话， 也可以再进行相应的补充。
2. python基础篇 2.1 一行代码生成奇数列表 一行代码生成[1, 2, 5, 7, 9, 11, 13, 15, 17, 19]， 这个考察的是列表推导式， 比较简单
[i for i in range(1, 20) if i % 2 !=0] # [1, 3, 5, 7, 9, 11, 13, 15, 17, 19] 2.2 等差数列 产生一个首项为 10，公差为 12，末项不大于 100 的列表， 这个是列表生成式
# 写一个等差数列 list(range(10, 100, 12)) # [10, 22, 34, 46, 58, 70, 82, 94] 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/db34cc41a896bcaec32f4580daf71b94/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T14:53:04+08:00" />
<meta property="article:modified_time" content="2024-01-04T14:53:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python重温笔记番外篇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1__0"></a>1. 写在前面</h3> 
<p>今天这篇文章是python重温笔记的番外，整理一些面试中的问题以及遇到过的一些坑， 正好借着这个机会把前面的知识进行一个串联， 要不然这些知识很容易就会遗忘， 毕竟知识多而又不太容易常用到。 涉及到的知识包括列表推导式， 高阶函数的使用， 字典排序， 字符串， 日期， 文件遍历， 生成器， 正则， 线程等， 所以还是比较全面的， 以后如果再遇到python方面的练习题的话， 也可以再进行相应的补充。</p> 
<h3><a id="2_python_3"></a>2. python基础篇</h3> 
<h4><a id="21__4"></a>2.1 一行代码生成奇数列表</h4> 
<p>一行代码生成[1, 2, 5, 7, 9, 11, 13, 15, 17, 19]， 这个考察的是列表推导式， 比较简单</p> 
<pre><code class="prism language-python"><span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">]</span>   <span class="token comment"># [1, 3, 5, 7, 9, 11, 13, 15, 17, 19]</span>
</code></pre> 
<h4><a id="22___13"></a>2.2 等差数列</h4> 
<p>产生一个首项为 10，公差为 12，末项不大于 100 的列表， 这个是列表生成式</p> 
<pre><code class="prism language-python"><span class="token comment"># 写一个等差数列</span>
<span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#     [10, 22, 34, 46, 58, 70, 82, 94]</span>
</code></pre> 
<h4><a id="23_110000_20"></a>2.3 一行代码求1到10000内整数和</h4> 
<p>考察了高阶函数reduce的使用</p> 
<pre><code class="prism language-python"><span class="token comment"># 一行代码求1到10000内整数和</span>
<span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
<span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x<span class="token operator">+</span>y<span class="token punctuation">,</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#     49995000</span>

</code></pre> 
<h4><a id="24__31"></a>2.4 打乱一个列表</h4> 
<p>使用 random 模块，shuffle 函数打乱原来列表，值得注意是 in-place 打乱。</p> 
<pre><code class="prism language-python"><span class="token comment"># 打乱一个列表</span>
<span class="token keyword">import</span> random
a <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
a   <span class="token comment">#   [2, 4, 5, 7, 9, 8, 0, 3, 6, 1]</span>
</code></pre> 
<h4><a id="25__value_41"></a>2.5 字典按照value排序返回新字典</h4> 
<p>考察的字典的排序， <code>sorted</code>的<code>key</code>方法</p> 
<pre><code class="prism language-python"><span class="token comment"># 字典按照value排序并且返回新字典</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>

<span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#{'c': 1, 'a': 12, 'd': 20, 'b': 50}</span>
</code></pre> 
<h4><a id="26_list__51"></a>2.6 删除list的重复元素， 保证顺序不变</h4> 
<p>如果只是删除重复元素，直接使用内置 set 函数，去重，但是不能保证原来元素顺序。</p> 
<pre><code class="prism language-python"><span class="token comment"># 如何删除list里面重复元素， 并且保证顺序不变</span>
b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span>
    <span class="token keyword">if</span> i <span class="token keyword">not</span> <span class="token keyword">in</span> b<span class="token punctuation">:</span>
        b<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
b   <span class="token comment">#     [3, 2, 1]</span>
</code></pre> 
<h4><a id="27__63"></a>2.7 找出两个列表中的相同和不同元素</h4> 
<p>这个考察的是集合的交， 并运算， 给定列表 a = [3,2,2,2,1,3]，列表 b = [1,4,3,4,5]，使用集合，找出相同元素：</p> 
<pre><code class="prism language-python"><span class="token comment"># 怎么找到两个列表的相同元素和不同元素</span>
a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>

<span class="token comment"># 集合的交</span>
<span class="token keyword">def</span> <span class="token function">ana</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    aset<span class="token punctuation">,</span> bset <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">set</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
    same <span class="token operator">=</span> aset<span class="token punctuation">.</span>intersection<span class="token punctuation">(</span>bset<span class="token punctuation">)</span>
    differ <span class="token operator">=</span> aset<span class="token punctuation">.</span>difference<span class="token punctuation">(</span>bset<span class="token punctuation">)</span><span class="token punctuation">.</span>union<span class="token punctuation">(</span>bset<span class="token punctuation">.</span>difference<span class="token punctuation">(</span>aset<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> same<span class="token punctuation">,</span> differ
ana<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>  <span class="token comment">#     ({1, 3}, {2, 4, 5})</span>
</code></pre> 
<h4><a id="28__78"></a>2.8 把字符串处理成字典</h4> 
<p>输入串 <code>"k0:10|k1:2|k2:11|k3:5"</code>，输出字典 <code>{k0:10,k1:2,...}</code>。</p> 
<ul><li>第一层 split，根据分隔符 <code>|</code>，分割出 k0:10,k1:2,k2:11,k3:5</li><li>第二层 split，根据分隔符 <code>:</code>，分割出新字典的键值对</li></ul> 
<p>这个可以使用<code>map</code>函数。</p> 
<pre><code class="prism language-python"><span class="token comment"># 字符串处理成字典   </span>
s <span class="token operator">=</span> <span class="token string">"k0:10|k1:2|k2:11|k3:5"</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>mi<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>mi<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> mi <span class="token keyword">in</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
d  <span class="token comment">#   {'k0': '10', 'k1': '2', 'k2': '11', 'k3': '5'}</span>
</code></pre> 
<h4><a id="29___90"></a>2.9 输入日期， 判断是一年的第几天</h4> 
<p>这个考察datetime模块， 使用 datetime 模块，提取日期 date 对象，调用 timetuple() 方法，返回一个 struct_time 对象，属性 tm_yday 便是这一年的第几天：</p> 
<pre><code class="prism language-python"><span class="token comment"># 输入日期， 判断这一天是这一年的第几天</span>
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token keyword">def</span> <span class="token function">get_day_of_year</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> datetime<span class="token punctuation">(</span>y<span class="token punctuation">,</span> m<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timetuple<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tm_yday

get_day_of_year<span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>     <span class="token comment">#     32</span>
</code></pre> 
<h4><a id="210___102"></a>2.10 遍历目录和子目录， 抓取某个特定后缀名的文件</h4> 
<p>os 模块<code>walk</code> 方法实现递归遍历所有文件，<code>os.path.splitext</code> 返回文件的名字和扩展名，如果扩展名匹配到 ext，则添加到 res 中。</p> 
<pre><code class="prism language-python"><span class="token comment"># 遍历目录与子目录， 抓取.py文件</span>
<span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">get_files</span><span class="token punctuation">(</span>directory<span class="token punctuation">,</span> ext<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> root<span class="token punctuation">,</span> dirs<span class="token punctuation">,</span> files <span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> dirs<span class="token punctuation">,</span> files<span class="token punctuation">)</span>   <span class="token comment"># root是遍历目录的当前路径， dirs是该路径下的目录， files是该路径下的文件</span>
        <span class="token keyword">for</span> filename <span class="token keyword">in</span> files<span class="token punctuation">:</span>
            name<span class="token punctuation">,</span> suf <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
            <span class="token keyword">if</span> suf <span class="token operator">==</span> ext<span class="token punctuation">:</span>
                res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span> filename<span class="token punctuation">)</span><span class="token punctuation">)</span>  
    <span class="token keyword">return</span> res

<span class="token comment">## 上面函数的执行过程就是从传入的目录开始， 得到传入的目录， 该目录下的子目录和该目录下的文件， 对于该目录下文件再次进行遍历， 查找相应后缀名</span>
<span class="token comment">## 的目录， 然后再遍历传入目录的子目录， 依然是上面的那种套路进行查找</span>
get_files<span class="token punctuation">(</span><span class="token string">'E:/Jupyter Notebook/Python全栈60天'</span><span class="token punctuation">,</span> <span class="token string">'.png'</span><span class="token punctuation">)</span>

</code></pre> 
<p>结果如下：</p> 
<pre><code>E:/Jupyter Notebook/Python全栈60天 ['.ipynb_checkpoints', 'img', 'Python60天专栏录制短动画'] ['Day1-Day2.ipynb', 'Day10_python文件操作案例.ipynb', 'Day11_python时间模块的使用总结.ipynb', 'Day17_Python列表生成式高效使用的案例.ipynb', 'Day18_Python对象间的相等性比较等使用总结.ipynb', 'Day19_yield关键字和生成器， nonlocal关键字和global关键字总结.ipynb', 'Day20_Python函数的5类参数.ipynb', 'Day21_迭代器和生成器.ipynb', 'Day22_多线程和协程.ipynb', 'Day24—Python.ipynb', 'Day3-Day4.ipynb', 'Day5-Day6.ipynb', 'Day7-Day8.ipynb', 'Day9_字符串操作与正则.ipynb', 'Day_23_python的Collections.ipynb', 'test.py']
E:/Jupyter Notebook/Python全栈60天\.ipynb_checkpoints [] ['Day1-Day2-checkpoint.ipynb', 'Day10_python文件操作案例-checkpoint.ipynb', 'Day11_python时间模块的使用总结-checkpoint.ipynb', 'Day17_Python列表生成式高效使用的案例-checkpoint.ipynb', 'Day18_Python对象间的相等性比较等使用总结-checkpoint.ipynb', 'Day19_yield关键字和生成器， nonlocal关键字和global关键字总结-checkpoint.ipynb', 'Day20_Python函数的5类参数-checkpoint.ipynb', 'Day21_迭代器和生成器-checkpoint.ipynb', 'Day22_多线程和协程-checkpoint.ipynb', 'Day24—Python-checkpoint.ipynb', 'Day3-Day4-checkpoint.ipynb', 'Day5-Day6-checkpoint.ipynb', 'Day7-Day8-checkpoint.ipynb', 'Day9_字符串操作与正则-checkpoint.ipynb', 'Day_23_python的Collections-checkpoint.ipynb']
E:/Jupyter Notebook/Python全栈60天\img ['.ipynb_checkpoints', '1_2', '3_4', '4_5', '9_10'] ['1.png']
E:/Jupyter Notebook/Python全栈60天\img\.ipynb_checkpoints [] []
E:/Jupyter Notebook/Python全栈60天\img\1_2 [] ['1.gif', '1.png', '2.png', '3.gif', '3.png', '4.png', '5.png', '6.png', '7.png']
E:/Jupyter Notebook/Python全栈60天\img\3_4 [] ['1.gif', '1.png', '10png.png', '11.png', '12.png', '2.png', '3.png', '4.png', '5.png', '6.png', '7.png', '8png.png', '9.png']
E:/Jupyter Notebook/Python全栈60天\img\4_5 [] ['1.png']
E:/Jupyter Notebook/Python全栈60天\img\9_10 [] ['1.png', '2.png', '3.png', '4.png', '5.png', '6.png']
E:/Jupyter Notebook/Python全栈60天\Python60天专栏录制短动画 [] ['Day19-2.mp4', 'Day19-3.mp4', 'Day19.mp4', 'Day2.mp4', 'Day21-2.mp4', 'Day21.mp4', 'Day4.mp4', 'Day6.mp4', 'Day7.mp4']


['E:/Jupyter Notebook/Python全栈60天\\img\\1.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\1.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\2.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\3.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\4.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\5.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\6.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\1_2\\7.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\3_4\\1.png',
 'E:/Jupyter Notebook/Python全栈60天\\img\\3_4\\10png.png']
</code></pre> 
<h3><a id="3_Pyhon__147"></a>3. Pyhon 进阶篇</h3> 
<h4><a id="31_4G_10G_148"></a>3.1 单机4G内存， 处理10G文件的方法</h4> 
<pre><code class="prism language-python"><span class="token comment"># 单机4G内存， 处理10G文件的方法</span>
<span class="token keyword">def</span> <span class="token function">python_read</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
            <span class="token keyword">yield</span> line

<span class="token comment"># pandas的read_csv, 这个方法更加的灵活</span>
<span class="token keyword">def</span> <span class="token function">pandas_read</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">','</span><span class="token punctuation">,</span> chunksize<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    reader <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span>filename<span class="token punctuation">,</span> sep<span class="token operator">=</span>sep<span class="token punctuation">,</span> chunksize<span class="token operator">=</span>chunksize<span class="token punctuation">)</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> reader<span class="token punctuation">.</span>get_chunk<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'---Done---'</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
</code></pre> 
<h4><a id="32_10_167"></a>3.2 统计一个文本单词频次最高的10个单词</h4> 
<p>使用 yield 解耦数据读取 python_read 和数据处理 process</p> 
<ul><li>python_read：逐行读入</li><li>process：正则替换掉空字符，并使用空格，分隔字符串，保存到 defaultdict 对象中。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 统计一个文本单词频次最高的10个单词</span>
<span class="token keyword">def</span> <span class="token function">python_read</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
            <span class="token keyword">yield</span> line

d <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">process</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> word <span class="token keyword">in</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">'\W'</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">,</span> line<span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        d<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token comment"># 使用两个函数，最后，使用 Counter 类统计出频次最高的 10 个单词：</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> python_read<span class="token punctuation">(</span><span class="token string">'write_file.py'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    process<span class="token punctuation">(</span>line<span class="token punctuation">)</span>

most10 <span class="token operator">=</span> Counter<span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>most10<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="33__193"></a>3.3 反转一个整数</h4> 
<p>这个得考虑的全面一些。 主要逻辑如下：</p> 
<ul><li>如果 x 位于 (-10,10) 间，直接返回；</li><li>然后，将 x 转换为字符串对象 sx；</li><li>如果 x 是负数，截取 sx[1:]，并反转字符串；</li><li>如果 x 是正数，直接反转字符串；</li><li>最后使用内置函数 int() 转化为整数。</li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 反转一个整数  </span>
<span class="token keyword">def</span> <span class="token function">reverse_str</span><span class="token punctuation">(</span>sx<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> sx<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">reverse_int</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 如果在-10-10之间， 直接返回</span>
    <span class="token keyword">if</span> <span class="token operator">-</span><span class="token number">10</span> <span class="token operator">&lt;</span> x <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x
    
    sx <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
    
    <span class="token comment"># 如果x是负数， 那么就反转后面的</span>
    <span class="token keyword">if</span> sx<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">:</span>
        sx <span class="token operator">=</span> reverse_str<span class="token punctuation">(</span>sx<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        x <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>sx<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">-</span>x
    
    sx <span class="token operator">=</span> reverse_str<span class="token punctuation">(</span>sx<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>sx<span class="token punctuation">)</span>

reverse_int<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>   <span class="token comment"># -1</span>
    
</code></pre> 
<h4><a id="34__227"></a>3.4 判断输出结果</h4> 
<pre><code class="prism language-python"><span class="token comment"># 看下面函数的执行结果</span>
<span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> i<span class="token operator">*</span>x
    rtn <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">:</span>
        rtn<span class="token punctuation">.</span>append<span class="token punctuation">(</span>foo<span class="token punctuation">)</span>   <span class="token comment"># rtn 添加三个函数 foo，但是并未发生调用。</span>
        i <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> rtn

<span class="token keyword">for</span> fs <span class="token keyword">in</span> f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>fs<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
<span class="token comment"># 直到执行 fs(10) 时，内嵌函数 foo 才被调用，但是此时的 enclosing 变量 i 取值为 3：</span>
</code></pre> 
<pre><code>30
30
30

这个要注意， 内嵌函数 foo 使用的两个变量 i 和 x，其中 x 为其形参，i 为 enclosing 域内定义的变量。rtn 添加三个函数 foo，但是并未发生调用。
</code></pre> 
<h4><a id="35__253"></a>3.5 判断函数的形参调用</h4> 
<p>已知 filename 为 ‘.’，c 为 10，正确为 foo 函数传参的方法，以下哪些是对的，哪些是错误的？</p> 
<pre><code class="prism language-python"><span class="token comment"># 如下函数foo的调用哪些是正确的？</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'filename: %s \n c:%d'</span> <span class="token operator">%</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">)</span>

foo<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>     <span class="token comment"># 错误，a 被赋值为 10</span>
</code></pre> 
<pre><code>filename: . 
 c:2
</code></pre> 
<pre><code class="prism language-python">foo<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># 正确，c 是位置参数</span>
</code></pre> 
<pre><code>filename: . 
 c:10
</code></pre> 
<pre><code class="prism language-python">foo<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment"># 正确，c 是关键字参数</span>
</code></pre> 
<pre><code>filename: . 
 c:10
</code></pre> 
<pre><code class="prism language-python">foo<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment"># 错误，位置参数不能位于关键字参数后面</span>
</code></pre> 
<pre><code>  File "&lt;ipython-input-5-c704ccbf612c&gt;", line 1
    foo('.', a=0, 1, 10)
                 ^
SyntaxError: positional argument follows keyword argument
</code></pre> 
<pre><code class="prism language-python">foo<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">'.'</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>   <span class="token comment"># 正确，filename 和 c 都是关键字参数</span>
foo<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token comment"># 正确，filename 位置参数，c 是关键字参数</span>
</code></pre> 
<pre><code>filename: . 
 c:10
filename: . 
 c:10
</code></pre> 
<h4><a id="36_lambda_311"></a>3.6 lambda函数的形参和返回值</h4> 
<p>key值为lambda函数， 说说lambda函数的形参和返回值</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">longer</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token operator">*</span>s<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
longer<span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token comment">#     {2, 4, 6, 7, 8}</span>
</code></pre> 
<ul><li>lambda 函数的形参：s 解包后的元素值，可能取值为：{1,3,5,7}、{1,5,7}、{2,4,6,7,8} 三种。</li><li>lambda 函数的返回值为：元素的长度，可能取值为：{1,3,5,7}、{1,5,7}、{2,4,6,7,8} 的长度 4,3,5。</li></ul> 
<h4><a id="37__321"></a>3.7 正则匹配负整数</h4> 
<p>匹配所有负整数， 不包括0. 正则表达式: <code>^-[1-9]\d*$</code></p> 
<ul><li><code>^-</code>表示字符串以<code>-</code>开头</li><li><code>[1-9]</code>表示数字1到9， 注意不要写成<code>\d</code>, 因为负整数没有-0开头的</li><li><code>\d*</code>表示数字0到9出现0次， 1次或者多次</li><li>$ 表示字符串以数字截尾</li></ul> 
<p><img src="https://images2.imgbox.com/b3/e2/CzY0vZEG_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re
s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'-1'</span><span class="token punctuation">,</span> <span class="token string">'-15768'</span><span class="token punctuation">,</span> <span class="token string">'9'</span><span class="token punctuation">,</span> <span class="token string">'-01'</span><span class="token punctuation">,</span> <span class="token string">'10'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">]</span>
pat <span class="token operator">=</span> <span class="token string">r'^-[1-9]\d*$'</span>
rec <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>pat<span class="token punctuation">)</span>
rs <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> s <span class="token keyword">if</span> rec<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">]</span>
rs  <span class="token comment">#   ['-1', '-15768']</span>
</code></pre> 
<h4><a id="38__339"></a>3.8 正则匹配负浮点数</h4> 
<p>正确写出匹配负浮点数的正则表达式，要先思考分析。<br></p> 
<p>考虑到两个实例：-0.12、-111.234，就必须要分为两种情况。<br></p> 
<ul><li>适应实例-0.12的正则表达式， <code>^-0.\d*[1-9]\d*$</code>, 注意要考虑到 -0.0000 这种非浮点数，因此正则表达式必须这样写。不要想当然的写<code>^-0.\d*$</code>, <code>^-0.\d*[1-9]*$</code>, 或者<code>^-0.\d*[0-9]$</code>， 因为这几个都会匹配-0.</li><li>适应实例-111.234的正则， <code>^-[1-9]\d*.\d*$</code></li></ul> 
<p>使用<code>|</code>， 综合两种情况即可： <code>^-0.\d*[1-9]\d*$|^-[1-9]\d*.\d*$</code><br> <img src="https://images2.imgbox.com/7b/3c/Xx7G7948_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> re
s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'-1'</span><span class="token punctuation">,</span> <span class="token string">'-1.5756'</span><span class="token punctuation">,</span> <span class="token string">'-0.00'</span><span class="token punctuation">,</span> <span class="token string">'-000.1'</span><span class="token punctuation">,</span> <span class="token string">'-1000.10'</span><span class="token punctuation">]</span>
pat <span class="token operator">=</span> <span class="token string">r'^-0.\d*[1-9]\d*|^-[1-9]\d*.\d*$'</span>
rec <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span>pat<span class="token punctuation">)</span>
rs <span class="token operator">=</span> <span class="token punctuation">[</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> s <span class="token keyword">if</span> rec<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">]</span>
rs   <span class="token comment">#    ['-1.5756', '-1000.10']</span>
</code></pre> 
<h4><a id="39_filter10_358"></a>3.9 使用filter()求出列表中大于10的元素</h4> 
<p>filter 函数使用 lambda 函数，找出满足大于 10 的元素。</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">]</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">[</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment">#  [15, 20, 400, 107]</span>
</code></pre> 
<h4><a id="310_map_369"></a>3.10 说说下面map函数的输出结果</h4> 
<pre><code class="prism language-python">m <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token builtin">list</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span>  <span class="token comment"># [3, 1, 3, 2]</span>

<span class="token comment"># map 函数当含有多个列表时，返回长度为最短列表的长度；</span>
</code></pre> 
<h4><a id="311_reduce_377"></a>3.11 说说reduce函数的输出结果</h4> 
<pre><code class="prism language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
<span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x<span class="token operator">*</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># 206</span>
</code></pre> 
<h4><a id="312_xi_for_i_in_range5_x_385"></a>3.12 x=(i for i in range(5)), x是什么类型？</h4> 
<p>x是生成器类型， 与for等迭代</p> 
<pre><code class="prism language-python">x <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">next</span><span class="token punctuation">(</span><span class="token builtin">iter</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment"># 0</span>
</code></pre> 
<h4><a id="313__394"></a>3.13 可变类型和不可变类型分别列举三个：</h4> 
<ul><li>可变类型： 列表， 字典， 集合， deque</li><li>不可变类型： 字符串， 整型， 浮点， 元组等</li></ul> 
<p>只有不可变类型才能作为字典等的键</p> 
<h4><a id="314_is__400"></a>3.14 is 和==有什么区别？</h4> 
<ul><li>is: 用来判断两个对象的标识号是否相等</li><li>==： 用来判断值或者内容是否相等， 默认是基于两个对象的标识号比较</li></ul> 
<p>也就是说，如果 <code>a is b</code> 为 True 且如果按照默认行为，意味着 <code>a==b</code> 也为 True。</p> 
<h4><a id="315_Student_406"></a>3.15 写一个学生类Student</h4> 
<p>添加一个属性id, 并实现id相等， 则认为是同一位学生的功能</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> <span class="token builtin">id</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">==</span> student<span class="token punctuation">.</span><span class="token builtin">id</span>
</code></pre> 
<pre><code class="prism language-python">s1 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'xiaoming'</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'xiaohong'</span><span class="token punctuation">)</span>
s3 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'xiaoming2'</span><span class="token punctuation">)</span>

s1<span class="token operator">==</span>s2  <span class="token comment"># False</span>
s1<span class="token operator">==</span>s3 <span class="token comment"># True</span>
</code></pre> 
<h4><a id="316__429"></a>3.16 有什么方法获取类的所有属性和方法？</h4> 
<p>获取下面类 Student 的所有属性和方法，使用 dir() 内置函数。</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> <span class="token builtin">id</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>student<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">==</span> student<span class="token punctuation">.</span><span class="token builtin">id</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">dir</span><span class="token punctuation">(</span>Student<span class="token punctuation">)</span>
</code></pre> 
<pre><code>['__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__']
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">dir</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</code></pre> 
<pre><code>['__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__',
 'id',
 'name']
</code></pre> 
<h4><a id="317_python_518"></a>3.17 python如何动态或者和设置对象的属性</h4> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span><span class="token builtin">id</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">=</span> <span class="token builtin">id</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">def</span> <span class="token function">__eq__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>student<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">==</span> student<span class="token punctuation">.</span><span class="token builtin">id</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># Python 使用 hasattr 方法，判断实例是否有属性 x：</span>
<span class="token builtin">hasattr</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">)</span>
<span class="token builtin">hasattr</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">)</span>

<span class="token comment">#使用 setattr 动态添加对象的属性，函数原型：</span>
<span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">setattr</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">,</span> <span class="token string">'beijing'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hasattr</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> <span class="token string">'address'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">#  True</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">dir</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</code></pre> 
<pre><code>['__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__',
 'address',
 'id',
 'name']
</code></pre> 
<pre><code class="prism language-python">s4 <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">'wu'</span><span class="token punctuation">)</span>
<span class="token builtin">dir</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span>
</code></pre> 
<pre><code>['__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__',
 'address',
 'id',
 'name']
</code></pre> 
<h4><a id="318_2_i1_623"></a>3.18 实现一个按照2* i+1自增的迭代器</h4> 
<p>实现类AutoIncrease, 继承于Iterator对象， 然后从写两个方法：</p> 
<ul><li><strong>iter</strong></li><li><strong>next</strong></li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections<span class="token punctuation">.</span>abc <span class="token keyword">import</span> Iterator

<span class="token keyword">class</span> <span class="token class-name">AutoIncrease</span><span class="token punctuation">(</span>Iterator<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> init<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>init <span class="token operator">=</span> init
        self<span class="token punctuation">.</span>n <span class="token operator">=</span> n
        self<span class="token punctuation">.</span>__cal <span class="token operator">=</span> <span class="token number">0</span>
    
    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self
    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>__cal <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>__cal <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>init
        <span class="token keyword">while</span> self<span class="token punctuation">.</span>__cal <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>n<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>init <span class="token operator">*=</span> <span class="token number">2</span>
            self<span class="token punctuation">.</span>init <span class="token operator">+=</span> <span class="token number">1</span>
            self<span class="token punctuation">.</span>__cal <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>init
        <span class="token keyword">raise</span> StopIteration
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">iter</span> <span class="token operator">=</span> AutoIncrease<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">iter</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre> 
<pre><code>1
3
7
15
31
63
127
255
511
1023
</code></pre> 
<h4><a id="319__671"></a>3.19 实现文件按行读取和操作数据分离</h4> 
<p>使用 yield 解耦按行读取和操作数据的两步操作：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">read_line</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>
            <span class="token keyword">yield</span> line

<span class="token keyword">def</span> <span class="token function">process_line</span><span class="token punctuation">(</span>line<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">for</span> line <span class="token keyword">in</span> read_line<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    process_line<span class="token punctuation">(</span>line<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="320_python_688"></a>3.20 使用python锁避免脏数据出现的例子</h4> 
<p>使用多线程编程，会出现同时修改一个全局变量的情况，创建一把锁 locka：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> threading
<span class="token keyword">import</span> time

locka <span class="token operator">=</span> threading<span class="token punctuation">.</span>Lock<span class="token punctuation">(</span><span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">def</span> <span class="token function">add1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> a
    <span class="token keyword">try</span><span class="token punctuation">:</span> 
        locka<span class="token punctuation">.</span>acquire<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 获得锁</span>
        tmp <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token number">1</span>
        time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span>   <span class="token comment">#  模拟IO操作</span>
        a <span class="token operator">=</span> tmp
    <span class="token keyword">finally</span><span class="token punctuation">:</span>
        locka<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 释放锁</span>

threads <span class="token operator">=</span> <span class="token punctuation">[</span>threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'t%d'</span><span class="token operator">%</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>target<span class="token operator">=</span>add1<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> t <span class="token keyword">in</span> threads<span class="token punctuation">]</span>

<span class="token comment"># 多线程的代码，由于避免脏数据的出现，基本退化为单线程代码，执行效率被拖累。</span>
</code></pre> 
<h4><a id="321__GIL_713"></a>3.21 说说死锁， GIL锁和协程</h4> 
<p>多个子线程在系统资源竞争时，都在等待对方解除占用状态。<br><br>比如，线程 A 等待着线程 B 释放锁 b，同时，线程 B 等待着线程 A 释放锁 a。在这种局面下，线程 A 和线程 B 都相互等待着，无法执行下去，这就是死锁。<br><br>为了避免死锁发生，Cython 使用 GIL 锁，确保同一时刻只有一个线程在执行，所以其实是伪多线程。<br><br>所以，Python 里常常使用协程技术来代替多线程。多进程、多线程的切换是由系统决定，而协程由我们自己决定。协程无需使用锁，也就不会发生死锁。同时，利用协程的协作特点，高效的完成了原编程模型只能通过多个线程才能完成的任务。</p> 
<h3><a id="4_python_716"></a>4. python中容易忽略的坑点整理</h3> 
<p>这个模块整理下之前在python里面遇到的一些容易出错且忽略的一些点：</p> 
<ol><li> <p>删除列表元素<br> 这个是一个比较简单的问题， 可以越简单，我们往往就会越忽略一些东西， 删除列表元素， 就是给定一个列表， 要求删除指定元素， 比如<code>[1,3,5,3,2],</code> 要求删除里面的<code>3</code>， 我们可能会写出这样的代码：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">del_item</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> lst<span class="token punctuation">:</span>
        <span class="token comment">#print(item)</span>
        <span class="token keyword">if</span> item <span class="token operator">==</span> e<span class="token punctuation">:</span>
            lst<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    <span class="token keyword">return</span> lst
</code></pre> <p>我们的思路就是遍历一遍列表， 如果元素等于指定的元素， 我们就执行删除（注如果单纯的用remove或者pop只会删除某一个元素）， 这样的思路确实是没有问题， 但是内部真的是按照我们想的执行吗？ 其实不是的， <strong>边遍历边删除是一个危险的思想</strong>， 这时候每删除一个元素， 移掉位置 i 后的所有元素索引都要减一， 这时候其实就会跳过一些元素没有被检查， 可以打印一下item试试。 正确的做法：找到被删除元素后，删除，同时下次遍历索引不加一；若未找到，遍历索引加一</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">del_item2</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">:</span>
    i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> i <span class="token operator">&lt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> lst<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> e<span class="token punctuation">:</span>
            lst<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>lst<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            i <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> lst
</code></pre> <p>当然， 也有一个简单的方式， 如果会filter这个函数的话， 一行代码就可以搞定：</p> <pre><code class="prism language-python"><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">!=</span>e<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>函数默认参数为空<br> Python 函数的参数可设为默认值。如果一个默认参数类型为 list，默认值为设置为 []。这时候会有问题吗？ 比如下面这个例子：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">delta_val</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> volume<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> volume <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        volume <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    size <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>volume<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">:</span>
        volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> val
    <span class="token keyword">return</span> volume
</code></pre> <p>面试的时候经常会问到的一个题目， 有问题吗？ 肯定是有的， 我们可以进行一个测试：</p> <pre><code class="prism language-python">lst1 <span class="token operator">=</span> delta_val<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
lst1   <span class="token comment"># []    这是个空</span>

lst1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
lst1<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>   
lst1   <span class="token comment"># [1, 2] </span>

<span class="token comment">#  貌似没有发现任何问题， 可是我们再重新建立一个新的列表</span>
lst2 <span class="token operator">=</span> delta_val<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
lst2   <span class="token comment"># [10, 11]  会发现lst2的初始值直接变成了[10, 11]  而我们想要的是[]， 所以问题出现在了这里</span>
</code></pre> <p>原来调用函数 delta_val 时，默认参数 volume 取值为默认值时，并且 volume 作为函数的返回值。再在函数外面做一些操作，再次按照默认值调用，并返回。整个过程，默认参数volume 的 id 始终未变。</p> </li><li> <p>解包<br> Python 中，支持多值赋值给多变量的操作。最常见的用法，一行代码交换两个变量：</p> <pre><code class="prism language-python">In <span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
In <span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a
</code></pre> <p>但是，面对稍微复杂点的类似操作，如果不搞懂多值赋值的执行顺序，就会掉入陷阱。如下例子，如果心算出的结果等于 <code>a = 3, b = 5</code>，那么就说明没弄明白执行顺序。</p> <pre><code class="prism language-python">In <span class="token punctuation">[</span><span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>
In <span class="token punctuation">[</span><span class="token number">39</span><span class="token punctuation">]</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token operator">+</span>b
</code></pre> <p>记住一点：<strong>多值赋值是先计算出等号右侧的所有变量值后，再赋值给等号左侧变量</strong>。所以，答案应该是：<code>a = 3, b = 3</code>。</p> <p>这种多值赋值，是一种解包（unpack）操作。</p> <p>既然是解包，那么就得先有打包。的确，等号右侧的多个变量，会被打包（pack）为一个可迭代对象。</p> <p>赋值操作，就相当于解包。这种解包操作，有时非常有用。比如，foo 函数返回一个 list，如下：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'xiaoming'</span><span class="token punctuation">,</span><span class="token string">'address'</span><span class="token punctuation">,</span><span class="token string">'telephone'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'...'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> result 
</code></pre> <p>但是，我们只需要列表中的前两项。更为简洁、紧凑的做法：等号左侧定义两个我们想要的变量，其他不想要的项放到 others 变量中，并在前加一个 <code>*</code>，如下所示：</p> <pre><code class="prism language-python">sid<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token operator">*</span>others <span class="token operator">=</span> foo<span class="token punctuation">(</span><span class="token punctuation">)</span>

In <span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">:</span> sid
Out<span class="token punctuation">[</span><span class="token number">64</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token number">1</span>

In <span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">]</span><span class="token punctuation">:</span> name
Out<span class="token punctuation">[</span><span class="token number">65</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token string">'xiaoming'</span>
</code></pre> <p><code>*others</code> 会被单独解析为一个 list：</p> <pre><code class="prism language-python">In <span class="token punctuation">[</span><span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">:</span> others
Out<span class="token punctuation">[</span><span class="token number">66</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'address'</span><span class="token punctuation">,</span> <span class="token string">'telephone'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'...'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> </li></ol> 
<p>目前先整理这么多，python语言也是博大精深，后面遇到新内容会随时补充。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d392882919ad1548542a5bac8d68e17/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ReactNative Hooks写法抽离子view</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/08556554a2cae62ffbc169aa82268f49/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue前端表单常用的邮箱、电话、身份证、url、Ip等正则式多语言版校验</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>