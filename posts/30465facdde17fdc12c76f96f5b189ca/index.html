<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>浅谈常用ADC的工作原理与选型！ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="浅谈常用ADC的工作原理与选型！" />
<meta property="og:description" content="现在的软件、无线电、数字图像采集都需要有高速的A/D采样保证有效性和精度，一般的测控系统也希望在精度上有所突破，人类数字化的浪潮推动了A/D转换器不断变革，而A/D转换器是人类实现数字化的先锋。A/D转换器发展了30多年，经历了多次的技术革新，从Flash、SAR、积分型ADC，到近年来新发展起来的 ∑-Δ型 和 Pipeline ADC，它们各有其优缺点，能满足不同的应用场合的使用。
ADC的工作原理 模拟信号转换为数字信号,一般分为4个步骤进行,即采样、保持、量化和编码。前2个步骤在采样-保持电路中完成,后两步骤则在ADC中完成。ADC是把经过与标准量比较处理后的模拟量转换成以二进制数值表示的离散信号的转换器。故任何一个模数转换器都需要一个参考模拟量作为转换的标准，比较常见的参考标准为最大的可转换信号大小。而输出的数字量则表示输入信号相对于参考信号的大小。
ADC的分类 1、Σ-Δ ADC
越来越多的应用，诸如过程控制、称重等，都需要高分辨率、高集成度和价格低廉的ADC。新型Σ-Δ转换技术恰好可以满足上述需求。然而，很多设计者并不十分了解这种AD转换技术，因而更愿意选用传统的逐次比较（SAR）型ADC。Σ-Δ转换器的模拟部分非常简单（类似于一个1位ADC），而数字部分要复杂得多，按照功能可划分为数字滤波和抽取单元。由于Σ-Δ型ADC更接近于数字器件，因而其制造成本非常低廉。
Σ-Δ ADC的工作原理
要理解Σ-Δ型ADC的工作原理，首先应对以下概念有所了解：过采样、噪声成形、数字滤波和抽取。1. 过采样 首先，考虑一个传统ADC的频域传输特性。输入一个正弦信号，然后以频率Sf采样，按照Nyquist定理，采样频率至少倍于输入信号。从FFT分析结果可以看到，一个单音和一系列频率分布于DC到S2f间的随机噪声，如图1所示，这就是所谓的量化噪声，主要是由于有限的ADC分辨率而造成的
图1
单音（基频）信号的功率与所有频率的噪声的RMS功率之和的比值就是信号噪声比（SNR）。对于一个N位ADC，SNR可由公式：SNR=6.02N&#43;1.76dB得到。为了改善SNR和更为精确地再现输入信号，对于传统ADC来讲，必须增加位数。
如果将采样频率提高一个过采样系数k，即采样频率为Skf，再来讨论同样的问题，如图2所示，FFT分析显示噪声基线降低了，SNR值虽未改变，但噪声能量却分散到更宽的频率范围。Σ-Δ转换器正是利用了这一原理，具体方法就是在1位ADC之后进行数字滤波。如图3所示，由于大部分噪声位于数字滤波器带宽之外而被滤除，这样，RMS噪声就降低了，使得Σ-Δ转换器能够从一个低分辨率ADC获得宽动态范围
图2
图3
那么，简单的过采样和滤波能否改善SNR呢？一个1位 ADC的SNR为7.78dB（6.02&#43;1.76），每4倍过采样可以使SNR增加6dB，SNR每增加6dB等效于分辨率增加1-bit。这样，采用1位 ADC进行64倍（即34倍）过采样可以获得4位分辨率，而要获得16位分辨率就必须进行154倍过采样，这是不切实际的。Σ-Δ转换器采用噪声成形技术消除了这种局限，使得每4倍过采样可增加高于6dB的SNR.
2、SAR型ADC(又名逐次比较型)
数年以来，逐次逼近型ADC一直是数据采集系统的主要依靠。近期设计改良使这类ADC的采样频率扩展至兆赫领域且分辨率为18位。ADI公司的PulSAR®系列SAR ADC采用内部开关电容技术和自动校准，以CMOS工艺实现18位、2 MSPS性能(AD7641)，而无需进行昂贵的薄膜激光调整。在16位级别，AD7625(6 MSPS)和AD7626(10 MSPS)还代表着突破性的技术。
图4
逐次比较型ADC
1.转换方式直接转换ADC
2.电路结构逐次逼近ADC包括n位逐次比较型A/D转换器如图4所示。它由控制逻辑电路、时序产生器、移位寄存器、D/A转换器及电压比较器组成。图4逐次比较型A/D转换器框图
3.工作原理逐次逼近转换过程和用天平称物重非常相似。天平称重物过程是，从最重的砝码开始试放，与被称物体行进比较，若物体重于砝码，则该砝码保留，否则移去。再加上第二个次重砝码，由物体的重量是否大于砝码的重量决定第二个砝码是留下还是移去。照此一直加到最小一个砝码为止。将所有留下的砝码重量相加，就得此物体的重量。仿照这一思路，逐次比较型A/D转换器，就是将输入模拟信号与不同的参考电压作多次比较，使转换所得的数字量在数值上逐次逼近输入模拟量对应值。
对图4的电路，它由启动脉冲启动后，在第一个时钟脉冲作用下，控制电路使时序产生器的最高位置1，其他位置0，其输出经数据寄存器将1000……0，送入D/A转换器。输入电压首先与D/A器输出电压（VREF/2）相比较，如v1≥VREF/2，比较器输出为1，若vI&lt; VREF/2，则为0。比较结果存于数据寄存器的Dn-1位。然后在第二个CP作用下，移位寄存器的次高位置1，其他低位置0。如最高位已存1，则此时vO=（3/4）VREF。于是v1再与（3/4）VREF相比较，如v1≥（3/4）VREF，则次高位Dn-2存1，否则Dn-2=0；如最高位为0，则vO=VREF/4，与vO比较，如v1≥VREF/4，则Dn-2位存1，否则存0……。以此类推，逐次比较得到输出数字量
总结
SAR ADC架构是一种完善、有效且易于理解的架构，非常适合现代细线CMOS工艺。该架构没有“流水线”延迟，因此非常适合单发和多路复用数据采集应用。CMOS工艺允许添加各种各样的数字功能，如自动通道时序控制和自动校准等。此外，许多SAR ADC拥有片上温度传感器和基准电压源。虽然SAR ADC源自16世纪的数学谜团，但是其仍然是现代多通道数据采集系统所青睐的转换器。
3.flash型ADC
早在上世纪60、70年代，商用_ash转换器就开始出现在仪器仪表和模块中，并在80年代期间快速进军集成电路。单芯片8位_ash ADC成为上世纪80年代数字视频应用的行业标准。如今，_ash转换器主要用作分级“流水线式”ADC中的构建模块。流水线架构的功耗和成本更低，并且能够以数百MHz的采样速率实现8至10位分辨率。因此，功耗较高的独立flash转换器主要用于采样速率超过1 GHz的6位或8位ADC。这些转换器通常采用砷化镓工艺设计。
图5 Flash型ADC原理框图
鉴于其作为高分辨率流水线ADC中构建模式的重要性，还需要了解基础flash转换的基本原理。Flash ADC（有时称为“并行”ADC）是速度最快的ADC，其中使用数个比较器。一个N位flash ADC包括2N个电阻和2N – 1个比较器，具体排列方式如图4所示。每个比较器均从电阻串获得基准电压，且每个基准电压要比链中的下一个基准电压大1 LSB。对于给定输入电压，低于某个点的所有比较器都将出现输入电压高于基准电压且逻辑输出为&#34;1&#34;，而高于该点的所有比较器则都将出现基准电压高于输入电压且逻辑输出为&#34;0&#34;。因此，2N – 1个比较器输出在行为上类似于水银温度计，而该点的输出码有时称为“温度计”码。由于2N – 1个数据输出并不便于实际应用，因此需要经过解码器处理来产生N位二进制输出。
由于flash转换器采用了大量电阻和比较器且限制在低分辨率，因此如果达到较高速度，每个比较器就必须以相对较高的功耗水平运行。因此flash ADC的问题包括分辨率有限、因使用大量高速比较器(尤其是采样速率超过50 MSPS时)而导致功耗较高和相对较大(因此成本较高)的芯片尺寸。此外，基准电阻链的电阻必须保持在较低水平，以便向快速比较器提供足够的偏置电流，因此基准电压源必须提供较大的源电流(通常大于10 mA)。
4、计数ADC
计数ADC虽然不太适合高速应用，但却是高分辨率低频应用的理想之选，特别是结合使用双斜式积分、三斜式积分、四斜式积分等技术时。
图6
计数ADC技术的基本原理是利用一个采样脉冲对模拟信号进行采样，然后设置一个R/S触发器，同时启动一个受控斜坡电压。该斜坡电压与输入进行比较，当二者相等时，就会产生一个脉冲以复位R/S触发器。触发器的输出是一个脉冲，其宽度与采样时刻的模拟信号成正比。该脉宽调制(PWM)脉冲控制一个选通振荡器，选通振荡器输出的脉冲数量代表模拟信号的量化值，通过一个计数器很容易将该脉冲串转换成一个二进制字。Reeves的系统使用600 kHz的主时钟，100:1分频器产生6 kHz的采样脉冲。该系统采用5位计数器，因而采样脉冲之间的100个脉冲中的31个脉冲代表一个满量程信号。显然，可以将该计数扩展到更高的分辨率。
ADC的重要参数及选型" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/30465facdde17fdc12c76f96f5b189ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-09T13:07:50+08:00" />
<meta property="article:modified_time" content="2018-09-09T13:07:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">浅谈常用ADC的工作原理与选型！</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="color:#4f4f4f;">    现在的软件、无线电、数字图像采集都需要有高速的A/D采样保证有效性和精度，一般的测控系统也希望在精度上有所突破，人类数字化的浪潮推动了A/D转换器不断变革，而A/D转换器是人类实现数字化的先锋。A/D转换器发展了30多年，经历了多次的技术革新，从</span><span style="color:#0000ff;">Flash</span><span style="color:#4f4f4f;">、</span><span style="color:#0000ff;">SAR</span><span style="color:#4f4f4f;">、</span><span style="color:#0000ff;">积分型ADC</span><span style="color:#4f4f4f;">，到近年来新发展起来的 </span><span style="color:#0000ff;">∑-Δ型</span><span style="color:#4f4f4f;"> 和 </span><span style="color:#0000ff;">Pipeline ADC</span><span style="color:#4f4f4f;">，它们各有其优缺点，能满足不同的应用场合的使用。</span></p> 
<p>    </p> 
<h2 id="adc的工作原理">ADC的工作原理</h2> 
<p>    模拟信号转换为数字信号,一般分为4个步骤进行,即采样、保持、量化和编码。前2个步骤在采样-保持电路中完成,后两步骤则在ADC中完成。ADC是把经过与标准量比较处理后的模拟量转换成以二进制数值表示的离散信号的转换器。故任何一个模数转换器都需要一个参考模拟量作为转换的标准，比较常见的参考标准为最大的可转换信号大小。而输出的数字量则表示输入信号相对于参考信号的大小。</p> 
<h2 id="adc的分类">ADC的分类</h2> 
<p><strong>1、Σ-Δ ADC</strong></p> 
<p>越来越多的应用，诸如过程控制、称重等，都需要高分辨率、高集成度和价格低廉的ADC。新型Σ-Δ转换技术恰好可以满足上述需求。然而，很多设计者并不十分了解这种AD转换技术，因而更愿意选用传统的逐次比较（SAR）型ADC。Σ-Δ转换器的模拟部分非常简单（类似于一个1位ADC），而数字部分要复杂得多，按照功能可划分为数字滤波和抽取单元。由于Σ-Δ型ADC更接近于数字器件，因而其制造成本非常低廉。</p> 
<p>Σ-Δ ADC的工作原理</p> 
<p>要理解Σ-Δ型ADC的工作原理，首先应对以下概念有所了解：过采样、噪声成形、数字滤波和抽取。1. 过采样 首先，考虑一个传统ADC的频域传输特性。输入一个正弦信号，然后以频率Sf采样，按照Nyquist定理，采样频率至少倍于输入信号。从FFT分析结果可以看到，一个单音和一系列频率分布于DC到S2f间的随机噪声，如图1所示，这就是所谓的量化噪声，主要是由于有限的ADC分辨率而造成的</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/d7/1e/IMUUBiEu_o.png"></p> 
<p><strong>图1</strong></p> 
<p>单音（基频）信号的功率与所有频率的噪声的RMS功率之和的比值就是信号噪声比（SNR）。对于一个N位ADC，SNR可由公式：SNR=6.02N+1.76dB得到。为了改善SNR和更为精确地再现输入信号，对于传统ADC来讲，必须增加位数。</p> 
<p>如果将采样频率提高一个过采样系数k，即采样频率为Skf，再来讨论同样的问题，如图2所示，FFT分析显示噪声基线降低了，SNR值虽未改变，但噪声能量却分散到更宽的频率范围。Σ-Δ转换器正是利用了这一原理，具体方法就是在1位ADC之后进行数字滤波。如图3所示，由于大部分噪声位于数字滤波器带宽之外而被滤除，这样，RMS噪声就降低了，使得Σ-Δ转换器能够从一个低分辨率ADC获得宽动态范围</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ff/a9/0lT2gTw6_o.jpg"></p> 
<p><strong>图2</strong></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/c2/69/DPYv1xfS_o.png"></p> 
<p><strong>图3</strong></p> 
<p>那么，简单的过采样和滤波能否改善SNR呢？一个1位 ADC的SNR为7.78dB（6.02+1.76），每4倍过采样可以使SNR增加6dB，SNR每增加6dB等效于分辨率增加1-bit。这样，采用1位 ADC进行64倍（即34倍）过采样可以获得4位分辨率，而要获得16位分辨率就必须进行154倍过采样，这是不切实际的。Σ-Δ转换器采用噪声成形技术消除了这种局限，使得每4倍过采样可增加高于6dB的SNR.</p> 
<p><strong>2、SAR型ADC(又名逐次比较型)</strong></p> 
<p>数年以来，逐次逼近型ADC一直是数据采集系统的主要依靠。近期设计改良使这类ADC的采样频率扩展至兆赫领域且分辨率为18位。ADI公司的PulSAR®系列SAR ADC采用内部开关电容技术和自动校准，以CMOS工艺实现18位、2 MSPS性能(AD7641)，而无需进行昂贵的薄膜激光调整。在16位级别，AD7625(6 MSPS)和AD7626(10 MSPS)还代表着突破性的技术。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ab/b5/vGFZZx6T_o.jpg"></p> 
<p><strong>图4</strong></p> 
<p>逐次比较型ADC</p> 
<p>1.转换方式直接转换ADC</p> 
<p>2.电路结构逐次逼近ADC包括n位逐次比较型A/D转换器如图4所示。它由控制逻辑电路、时序产生器、移位寄存器、D/A转换器及电压比较器组成。图4逐次比较型A/D转换器框图</p> 
<p>3.工作原理逐次逼近转换过程和用天平称物重非常相似。天平称重物过程是，从最重的砝码开始试放，与被称物体行进比较，若物体重于砝码，则该砝码保留，否则移去。再加上第二个次重砝码，由物体的重量是否大于砝码的重量决定第二个砝码是留下还是移去。照此一直加到最小一个砝码为止。将所有留下的砝码重量相加，就得此物体的重量。仿照这一思路，逐次比较型A/D转换器，就是将输入模拟信号与不同的参考电压作多次比较，使转换所得的数字量在数值上逐次逼近输入模拟量对应值。</p> 
<p>对图4的电路，它由启动脉冲启动后，在第一个时钟脉冲作用下，控制电路使时序产生器的最高位置1，其他位置0，其输出经数据寄存器将1000……0，送入D/A转换器。输入电压首先与D/A器输出电压（VREF/2）相比较，如v1≥VREF/2，比较器输出为1，若vI&lt; VREF/2，则为0。比较结果存于数据寄存器的Dn-1位。然后在第二个CP作用下，移位寄存器的次高位置1，其他低位置0。如最高位已存1，则此时vO=（3/4）VREF。于是v1再与（3/4）VREF相比较，如v1≥（3/4）VREF，则次高位Dn-2存1，否则Dn-2=0；如最高位为0，则vO=VREF/4，与vO比较，如v1≥VREF/4，则Dn-2位存1，否则存0……。以此类推，逐次比较得到输出数字量</p> 
<p>总结</p> 
<p>SAR ADC架构是一种完善、有效且易于理解的架构，非常适合现代细线CMOS工艺。该架构没有“流水线”延迟，因此非常适合单发和多路复用数据采集应用。CMOS工艺允许添加各种各样的数字功能，如自动通道时序控制和自动校准等。此外，许多SAR ADC拥有片上温度传感器和基准电压源。虽然SAR ADC源自16世纪的数学谜团，但是其仍然是现代多通道数据采集系统所青睐的转换器。</p> 
<p><strong>3.flash型ADC</strong></p> 
<p>早在上世纪60、70年代，商用_ash转换器就开始出现在仪器仪表和模块中，并在80年代期间快速进军集成电路。单芯片8位_ash ADC成为上世纪80年代数字视频应用的行业标准。如今，_ash转换器主要用作分级“流水线式”ADC中的构建模块。流水线架构的功耗和成本更低，并且能够以数百MHz的采样速率实现8至10位分辨率。因此，功耗较高的独立flash转换器主要用于采样速率超过1 GHz的6位或8位ADC。这些转换器通常采用砷化镓工艺设计。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b4/59/VCGhugQ4_o.jpg"></p> 
<p><strong>图5 Flash型ADC原理框图</strong></p> 
<p>鉴于其作为高分辨率流水线ADC中构建模式的重要性，还需要了解基础flash转换的基本原理。Flash ADC（有时称为“并行”ADC）是速度最快的ADC，其中使用数个比较器。一个N位flash ADC包括2N个电阻和2N – 1个比较器，具体排列方式如图4所示。每个比较器均从电阻串获得基准电压，且每个基准电压要比链中的下一个基准电压大1 LSB。对于给定输入电压，低于某个点的所有比较器都将出现输入电压高于基准电压且逻辑输出为"1"，而高于该点的所有比较器则都将出现基准电压高于输入电压且逻辑输出为"0"。因此，2N – 1个比较器输出在行为上类似于水银温度计，而该点的输出码有时称为“温度计”码。由于2N – 1个数据输出并不便于实际应用，因此需要经过解码器处理来产生N位二进制输出。</p> 
<p>由于flash转换器采用了大量电阻和比较器且限制在低分辨率，因此如果达到较高速度，每个比较器就必须以相对较高的功耗水平运行。因此flash ADC的问题包括分辨率有限、因使用大量高速比较器(尤其是采样速率超过50 MSPS时)而导致功耗较高和相对较大(因此成本较高)的芯片尺寸。此外，基准电阻链的电阻必须保持在较低水平，以便向快速比较器提供足够的偏置电流，因此基准电压源必须提供较大的源电流(通常大于10 mA)。</p> 
<p><strong>4、计数ADC</strong></p> 
<p>计数ADC虽然不太适合高速应用，但却是高分辨率低频应用的理想之选，特别是结合使用双斜式积分、三斜式积分、四斜式积分等技术时。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/23/63/GeZLqLZw_o.png"></p> 
<p><strong>图6</strong></p> 
<p>计数ADC技术的基本原理是利用一个采样脉冲对模拟信号进行采样，然后设置一个R/S触发器，同时启动一个受控斜坡电压。该斜坡电压与输入进行比较，当二者相等时，就会产生一个脉冲以复位R/S触发器。触发器的输出是一个脉冲，其宽度与采样时刻的模拟信号成正比。该脉宽调制(PWM)脉冲控制一个选通振荡器，选通振荡器输出的脉冲数量代表模拟信号的量化值，通过一个计数器很容易将该脉冲串转换成一个二进制字。Reeves的系统使用600 kHz的主时钟，100:1分频器产生6 kHz的采样脉冲。该系统采用5位计数器，因而采样脉冲之间的100个脉冲中的31个脉冲代表一个满量程信号。显然，可以将该计数扩展到更高的分辨率。</p> 
<p>ADC的重要参数及选型</p> 
<p>关键词：分辨率、精度、采样率、功耗、价格</p> 
<p>如图6所示为TI官方的一张ADC指标图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/15/d9/NRkcM3Zf_o.jpg"></p> 
<p><strong>图7</strong></p> 
<p><strong>小结</strong></p> 
<p><strong>简单的对各类ADC做一个概括</strong></p> 
<p><strong>SAR：分辨率中等(&lt;18)、采样速率中等、功耗低、精度高、价格贵</strong></p> 
<p>Σ-Δ：<strong>分辨率中等(&lt;24)、采样速率低、功耗高、精度低、价格低</strong></p> 
<p><strong>F</strong><strong>lash：分辨率低(8位为主) 、采样速率高、功耗高、精度高、价格高</strong></p> 
<p><strong>P</strong><strong>ipeline(管道型)：分辨率中等(&lt;16位为主) 、采样速率高、功耗高、精度高、价格高</strong></p> 
<p> </p> 
<p style="margin-left:0cm;"><strong>ADC</strong><strong>的选型（技术指标）</strong></p> 
<p style="margin-left:0cm;">首先看精度和速度，然后看输入通道数，输出的接口如 SPI 或者并行的，差分还是单端输入的，输入范围是多少。如何选择你所需要的器件呢？要综合设计的诸项因素，</p> 
<p style="margin-left:0cm;">•       采样精度 —— 即分辨率，一般有10位、12位、16位等；</p> 
<p style="margin-left:0cm;">•       转换时间 —— 即每次采样所需的时间，表征 ADC 的转换速度，与 ADC 的时钟频率、采样周期、转换周期有关；</p> 
<p style="margin-left:0cm;">•       数据输出方式 —— 如并口输出、串口输出；</p> 
<p style="margin-left:0cm;">•       ADC类型 —— 上面所提到的，不同类型的 ADC 有不同的性能极限；</p> 
<p style="margin-left:0cm;">•       工作电压 —— 需要注意 ADC 的工作电压范围、能否直接测量负电压等；</p> 
<p style="margin-left:0cm;">•       芯片封装 —— 芯片封装是否符合产品设计要求；</p> 
<p style="margin-left:0cm;">•       性价比 —— 控制成本。</p> 
<p style="margin-left:0cm;">最主要的依据还是<strong>速度和精度</strong>。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">（一）动态指标定义</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">1.<strong>分辩率</strong>(Resolution)又称采样精度: 通常以数字信号的位数N来表示，一般有10位、12位、16位等。表征数字量变化一个最小量时模拟信号的变化量，ADC的分辨率位数N可决定ADC的动态范围DR，其代表ADC可测量的输入信号等级范围，通常以[dB]为单位。DR定义为：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="53" src="https://images2.imgbox.com/7a/13/GCOSJ8MH_o.png" width="413"></p> 
<p style="margin-left:0cm;">注意，由于信号在给定时间视窗内的RMS幅值取决于信号幅值在该时间视窗内如何变化，因此<strong>ADC</strong><strong>的DR</strong><strong>变化取决于输入信号特征</strong>。对于其满量程范围(FSR)内的恒定DC输入而言，理想的N位ADC可分别测量FSR和FSR/2N的最大及最小RMS幅值。因此，ADC的DR为：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="93" src="https://images2.imgbox.com/98/24/ooUleGCu_o.png" width="479"></p> 
<p style="margin-left:0cm;">同理，对于幅值随ADC的FSR变化而变化的正弦波信号输入而言，理想的N位ADC可测量(FSR/2)/√2的最大RMS幅值。正弦波输入信号的最小可测量RMS幅值受量化误差的限制，其近似于幅值为半个LSB或FSR/2N+1的锯齿波。幅值A的锯齿波RMS幅值为A/√3。因此，正弦波输入信号的理想ADC的DR是：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="79" src="https://images2.imgbox.com/b0/23/CBvRlt6M_o.png" width="459"></p> 
<p style="margin-left:0cm;">真正的ADC具有可降低DR的误差。事实上，根据输入信号特征的不同，在输入信号接近其最小值时，ADC输出有不同类型的误差占主导地位。</p> 
<p style="margin-left:0cm;">对于恒定DC输入而言，ADC的输出误差主要取决于所谓的“过渡”噪声，其包含ADC、ADC驱动器以及电源等组件的固有宽带散热噪声。如果ADC不存在较大的线性(DNL)问题，过渡噪声可在ADC输出端产生一个近似高斯代码分布。</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="338" src="https://images2.imgbox.com/34/8b/F4RwxRaK_o.png" width="493"></p> 
<p style="margin-left:0cm;">图1：恒定DC输入的ADC输出代码直方图</p> 
<p style="margin-left:0cm;">同理，对于时间变化的输入而言，ADC的输出包含动态误差（即量化噪声与失真）以及可降低DR的过渡噪声。改变后的DR通常被称为SINAD，重新计算的ADC分辨率被称为ENOB。因此：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="54" src="https://images2.imgbox.com/1f/ea/OqsZ8zLn_o.png" width="376"></p> 
<p style="margin-left:0cm;">总之，给定ADC可能具有不同的DR和分辨率，主要取决于输入是AC还是DC信号。因此，ADC分辨率有单独的衡量指标，其对应于不同的输入条件，即ENOB对应于AC，有效分辨率对应于DC输入，确定哪种更适合取决于你的应用。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;">2. <strong>转换速率</strong>(Conversion Rate):是指完成一次从模拟转换到数字的 AD 转换所需的时间的倒数。为了保证转换的正确完成，采样速率(Sample Rate)必须小于或等于转换速率。因此有人习惯上将转换速率在数值上等同于采样速率也是可以接受的。常用单位是ksps 和Msps，表示每秒采样千/百万次（kilo / Million Samples per Second）。</p> 
<p style="margin-left:0cm;">转换时间表示即每次采样所需的时间，表征 ADC 的转换速度，与 ADC 的时钟频率、采样周期、转换周期有关；</p> 
<p style="margin-left:0cm;"><strong>3</strong><strong>、均方根(RMS)</strong>：表示交流信号的有效值或有效直流值。对于正弦波，RMS是峰值的0.707倍，或者是峰-峰值的0.354倍。</p> 
<p style="margin-left:0cm;"><strong>4</strong><strong>、无杂散动态范围(SFDR)</strong>：正弦波fIN (对于ADC指的是输入正弦波，对于ADC/DAC指的是重建的输出正弦波)的RMS值与在频域观察到的杂散信号的RMS值之比，典型值以分贝表示。SFDR在一些需要最大转换器动态范围的通信系统中非常重要。</p> 
<p style="margin-left:0cm;">无杂散动态范围表明模数转换器在输入大信号的同时所能检测到的最小信号的能力，这也是实际应用中的一个非常重要的性能参数。当转换器用在过采样率很高或者转换器的频谱性能很重要的情况下，无杂散动态范围的指标是标志系统性能的一个很重要的参数。</p> 
<p style="margin-left:0cm;">SFDR衡量的只是相对于转换器满量程范围(dBFS)或输入信号电平(dBc)的最差频谱伪像。比较ADC时，请务必确定两种基准电平以及工作和信号条件。在数据手册规格间直接进行比较需要基准和信号相匹配。</p> 
<p style="margin-left:0cm;">虽然SFDR 表现为转换器规格表内的数值，该测量值本身只是采样速率、信号幅度、信号频率和共模工作点的参数。只有考察候选转换器的特性曲线，才能深入了解转换器在近似于目标应用的工作和信号条件下的性能。</p> 
<p style="margin-left:0cm;"><strong>5.SNR</strong></p> 
<p style="margin-left:0cm;">分贝来表示=20log10（信号的均方根/噪声的均方根）。推导出理想的信噪比公式时，首先定义信号的电压均方根。对于正弦信号计算，从数学角度上来说，功率等价于电压信号的均方根，如果把信号的峰峰值转换为均方根，则除以2√2即可。ADC的均方根信号用位数表示等于，这里q是LSB（最低有效位）。</p> 
<p style="margin-left:0cm;">所有ADC产生量化噪声是把输入信号抽样成离散“桶”的后果。这些桶的理想宽度等于转换器LSB的大小。任何ADC位的不确定值是±½LSB。如果假定对应每个位误差的响应是三角形的话，则其均方根等于LSB信号的幅值除以，均方根的噪声则。</p> 
<p style="margin-left:0cm;">综合均方根和均方根噪声条件，理想ADC的SNR用分贝表示为：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="86" src="https://images2.imgbox.com/45/48/HXkOokGX_o.png" width="187"></p> 
<p style="margin-left:0cm;">一个16位转换器的信噪比应该是98.08dB，而ADC数据手册上16位的SAR ADC指标的典型值通常可低至84dB高达95Db，这种失位现象从根本上说是电阻和晶体管的噪声导致，供应商测试其ADC的SNR是通过将数据带入下面的公式：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="45" src="https://images2.imgbox.com/3e/55/e9XQ6Eqw_o.png" width="165"></p> 
<p style="margin-left:0cm;"><strong>6.SINAD</strong>：SINAD=(S+N+D)/(N+D).S是信号功率 N是噪声功率 D是失真功率。</p> 
<p style="margin-left:0cm;">定义为信号基波输入的RMS值与在半采样频率之下其它谐波成分RMS值之和的比值，但不包括直流信号。一般失真功率取2到5次谐波的功率和。只是为了强调ADC中的谐波失真。</p> 
<p style="margin-left:0cm;">需要注意的是，SINAD不会小于1。</p> 
<p style="margin-left:0cm;"><strong>7.ENOB</strong></p> 
<p style="margin-left:0cm;">ENOB = (SINAD-1.76)/6.02</p> 
<p style="margin-left:0cm;">1.76为理想ADC的量化噪声</p> 
<p style="margin-left:0cm;">6.02为将log2转化为log10的系数比。</p> 
<p style="margin-left:0cm;"><strong>8. </strong><strong>总谐波失真（THD</strong><strong>）</strong>：</p> 
<p style="margin-left:0cm;">谐波成分的均方根和或者是输入信号功率的比值：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="84" src="https://images2.imgbox.com/06/f2/aahQFown_o.png" width="393"></p> 
<p style="margin-left:0cm;">这里HDx是x次谐波失真谐波的幅值，PS是一次谐波的信号功率，Po是二次到八次谐波的功率。ADC的重要指标，INL（积分非线性）误差清晰地出现在THD结果中。</p> 
<p style="margin-left:0cm;"><strong>9</strong><strong>、dBFS(dB Full Scale)</strong> ：是数字信号电平单位，简称满度相对电平。Full Scale 指0 dBFS 的位置, 0 dBFS就是最大编码电平，不同ADC的0 dBFS 实际对应值不同，它也是数字峰值表满度的参考电平。数字信号以ADC能处理的最大模拟信号的编码为最大值，即0 dBFS, 实际数字信号的幅度的编码相对于这个最大值的信号编码所代表的幅度之比，即为满度相对电平（dBFS）。因为规定最大值为0 的位置，所以，一片ADC实际处理的信号的满度相对电平都是负值。 一个12位的ADC芯片的dBFS的求法：</p> 
<p style="margin-left:0cm;">      dBFS = 20 * log10(采样信号 / 1111 1111 1111)。</p> 
<p style="margin-left:0cm;">      所以在ADC数据文档中经常看到fin = -1dBFS；这样通过上面公式可以计算得到，这里的-1dBFS的fin的幅度相当于满刻度输入幅度的0.8913。</p> 
<p style="margin-left:0cm;"><strong>10</strong><strong>、TWO-TONE IMD(two-tone intermodulation distortion):</strong><strong>双阶互调失真</strong></p> 
<p style="margin-left:0cm;">     TWO-TONE IMD是ADC处理两个正弦波的混合信号时，在2个输入信号fin1和 fin2的（fin1 -fin2）和（fin1 + fin2）频点处产生的谐波失真。如下图所示:</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="400" src="https://images2.imgbox.com/6d/d2/jTofxXKp_o.png" width="481"></p> 
<p style="margin-left:0cm;">（二）静态指标定义</p> 
<p style="margin-left:0cm;">1. 量化误差(Quantizing Error) :由于AD的有限分辩率而引起的误差，即有限分辩率AD的阶梯状转移特性曲线与无限分辩率AD（理想 AD）的转移特性曲线（直线）之间的最大偏差。 通常是1个或半个最小数字量的模拟变化量，表示为1LSB、½LSB。</p> 
<p style="margin-left:0cm;">2. 偏移增益误差(Offset/Gain Error) 通常计算偏移误差方法是测量第一个数字代码转换或“零”转换的电压，并将它与理论零点电压相比较。增益误差是预估传递函数和实际斜率的差别，增益误差通常在模数转换器最末或最后一个传输代码转换点计算。</p> 
<p style="margin-left:0cm;">3. 满刻度误差(Full Scale Error) 满度输出时对应的输入信号与理想输入信号值之差。</p> 
<p style="margin-left:0cm;">4. 微分非线性（Differential nonlinearity，DNL）ADC 相邻两刻度之间最大的差异。</p> 
<p style="margin-left:0cm;">5. 积分非线性（Integral nonlinearity，INL）表示了 ADC 器件在所有的数值点上对应的模拟值 和真实值之间误差最大的那一点的误差值，也就是输出数值偏离线性最大的距离。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6cf46deca6b81fe21988474b973ca05/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">推荐一款实时翻译软件，通过鼠标进行翻译，小巧实用。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ceb4fc2730010f2f39711f7da6d2f60/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CentOS 7网卡配置详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>