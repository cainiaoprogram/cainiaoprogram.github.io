<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 2D游戏项目开发日记——像素世界（一） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 2D游戏项目开发日记——像素世界（一）" />
<meta property="og:description" content="2020/2/19
前言 接下来我会在这个号持续更新我的游戏开发日记——这是一款RPG类游戏名为“像素世界”，游戏主体由Python的Pygame库实现，登录系统可能会以Tkinter或Easygui实现。主要是记录我的游戏开发的过程，希望我能坚持下去吧！
实现目标 本期的实现目标：
整理游戏素材搭建游戏窗口载入背景图载入背景音乐 正文 1.先将图片素材和背景音乐素材分类整理 图片素材：背景音乐素材 2.搭建游戏窗口 第一部分（基本结构）
import pygame class Main(object): def __init__(self, title, height, width, Fps=60): self.title = title self.height = height self.width = width self.Fps = Fps self.main() self.events() def main(self): pygame.init() # Pygame初始化 pygame.display.set_caption(self.title) # 设置窗口标题 # 设置窗口尺寸 self.screen = pygame.display.set_mode([self.height, self.width]) # 将屏幕赋值为全局变量方便之后的调用 def events(self): while True: # 持续侦测事件 （循环使窗口一直显示 否则窗口会一闪而过） for event in pygame.event.get(): if event.type == pygame.QUIT: # 侦测窗口右上角的x是否被按下 # 如果x被按下 则关闭窗口 pygame." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/026ea6719d5854246d400e0238b4c301/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-19T23:19:52+08:00" />
<meta property="article:modified_time" content="2022-02-19T23:19:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 2D游戏项目开发日记——像素世界（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>2020/2/19</p> 
<h2>前言</h2> 
<p>接下来我会在这个号持续更新我的游戏开发日记——这是一款RPG类游戏名为“<strong>像素世界</strong>”，游戏主体由Python的Pygame库实现，登录系统可能会以Tkinter或Easygui实现。主要是记录我的游戏开发的过程，希望我能坚持下去吧！</p> 
<hr> 
<h2>实现目标</h2> 
<p>本期的实现目标：</p> 
<ol><li>整理游戏素材</li><li>搭建游戏窗口</li><li>载入背景图</li><li>载入背景音乐</li></ol> 
<hr> 
<h2>正文</h2> 
<h4>1.先将图片素材和背景音乐素材分类整理</h4> 
<ol><li>图片素材：<img alt="" height="783" src="https://images2.imgbox.com/88/d1/IhYhbkRh_o.png" width="1200"></li><li>背景音乐素材<img alt="" height="783" src="https://images2.imgbox.com/73/ec/8w1ksRvf_o.png" width="1200"></li></ol> 
<h4><strong>2.</strong>搭建游戏窗口</h4> 
<p><strong>第一部分（基本结构）</strong></p> 
<pre><code class="language-python">import pygame

class Main(object):
    def __init__(self, title, height, width, Fps=60):
        self.title = title
        self.height = height
        self.width = width
        self.Fps = Fps
        self.main()
        self.events()

    def main(self):
        pygame.init() # Pygame初始化
        pygame.display.set_caption(self.title) # 设置窗口标题
        # 设置窗口尺寸
        self.screen = pygame.display.set_mode([self.height, self.width]) # 将屏幕赋值为全局变量方便之后的调用

    def events(self):
        while True: # 持续侦测事件 （循环使窗口一直显示 否则窗口会一闪而过）
            for event in pygame.event.get():
                if event.type == pygame.QUIT: # 侦测窗口右上角的x是否被按下
                    # 如果x被按下 则关闭窗口
                    pygame.quit() 

if __name__ == "__main__":
    Main("Pixel World", 1280, 768)</code></pre> 
<p>运行结果：<img alt="" height="1031" src="https://images2.imgbox.com/ee/0f/ywDv9YZP_o.png" width="1200"></p> 
<p><span style="color:#fe2c24;"><strong><span style="background-color:#ffd900;">如上图，现在我们已经成功搭建了一个窗口，且这个窗口可以正常的关闭！</span></strong></span><strong><span style="color:#fe2c24;"><span style="background-color:#ffd900;">但是现在窗口中什么都没有显示，所以接下来要做的就是让窗口中载入游戏背景</span></span></strong></p> 
<p></p> 
<p><strong>第二部分（载入背景图片）</strong></p> 
<pre><code class="language-python">import pygame

class Main(object):
    def __init__(self, title, height, width, Fps=60):
        self.title = title
        self.height = height
        self.width = width
        self.Fps = Fps
        self.main()
        self.vars() 
        self.events()

    def main(self):
        pygame.init() 
        pygame.display.set_caption(self.title) 
        self.screen = pygame.display.set_mode([self.height, self.width])

   def vars(self): # 用来存放全局变量
        # 导入图片
        self.Old_Default_Background_Pic = pygame.image.load("img/map/Default_Background_Pic.png") # 载入背景图片
        # 将图片缩放到与窗口一样大
        self.New_Default_Background_Pic = pygame.transform.scale(self.Old_Default_Background_Pic, (self.height, self.width))pygame.image.load("img/map/Default_Background_Pic.png") 

    def events(self):
        while True: 
            for event in pygame.event.get():
                if event.type == pygame.QUIT: 
                    pygame.quit()

            # 将背景图片载入到窗口0,0的位置
             self.screen.blit(self.New_Default_Background_Pic, (0,0))
            pygame.display.update() # 刷新背景 （如果不刷新背景屏幕就不会更新）

if __name__ == "__main__":
    Main("Pixel World", 1280, 768)</code></pre> 
<p><strong> 将所以变量都放在同一个函数下，避免变量乱七八糟的局面出现</strong></p> 
<p><span style="color:#fe2c24;"> <strong>之所以缩放图片是为了让背景图片能自适应屏幕尺寸</strong></span></p> 
<p><img alt="" height="1031" src="https://images2.imgbox.com/17/04/AdmMbQRi_o.png" width="1200"><strong><span style="color:#fe2c24;"><span style="background-color:#ffd900;">可以看到现在已经可以正常的显示出背景图片了！美中不足的是一个休闲类RPG游戏竟然没有背景音乐，所以接下来让我们为游戏添加上背景音乐</span></span></strong></p> 
<h4><strong>第三部分（载入背景音乐）</strong></h4> 
<pre><code class="language-python">import pygame

class Main(object):
    def __init__(self, title, height, width, Fps=60):
        self.title = title
        self.height = height
        self.width = width
        self.Fps = Fps
        self.main()
        self.vars()
        self.events()

    def main(self):
        pygame.init() #
        pygame.mixer.init() # pygame播放背景音乐初始化
        pygame.display.set_caption(self.title) 
        self.screen = pygame.display.set_mode([self.height, self.width])

    def vars(self): 
        self.Default_Background_Pic = pygame.image.load("img/map/Default_Background_Pic.png") 
        self.Default_Background_Music = pygame.mixer.music.load("sound/Default_Background_Music.mp3") # 载入背景音乐

    def events(self):
        pygame.mixer.music.play(-1,0) # 播放背景音乐 (-1表示循环播放，0表示从头0秒开始播放)
        while True: 
            for event in pygame.event.get():
                if event.type == pygame.QUIT: 
                    pygame.quit()

            self.screen.blit(self.Default_Background_Pic, (0,0))
            pygame.display.update() 
if __name__ == "__main__":
    Main("Pixel World", 1280, 768)</code></pre> 
<p>运行结果：</p> 
<p>播放了一段治愈的BGM，可惜你们听不见那么好听BGM（bushi  </p> 
<p>（CSDN上传不了视频</p> 
<hr> 
<h2>本节实现的功能</h2> 
<ol><li>整理好了图片素材及音频素材</li><li>成功搭建了一个1280x768的游戏窗口</li><li>成功将背景图片添加到窗口且让其自适应屏幕大小</li><li>成功将背景音乐添加到窗口</li></ol> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/74253fd101f03b4b6cf8dcf911e62ea7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">实现 App 自动检测更新（Vue3 &#43; Ionic &#43; Cordova &#43; Capacitor）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fb830b0f39d194f8c31dad2e9dc9305e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">netcat使用及反弹shell</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>