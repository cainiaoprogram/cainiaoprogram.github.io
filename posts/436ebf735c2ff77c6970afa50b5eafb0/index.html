<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Redis 常用操作 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Redis 常用操作" />
<meta property="og:description" content="一、Redis常用的5种数据类型 字符串（String）：最基本的数据类型，可以存储字符串、整数或浮点数。哈希（Hash）：键值对的集合，可以在一个哈希数据结构中存储多个字段和值。列表（List）：按照插入顺序存储一组有序的值，可以在列表的两端执行插入、删除和访问操作。集合（Set）：无序的唯一值的集合，支持对集合执行添加、删除和集合间的交集、并集、差集等操作。有序集合（Sorted Set）：也叫Zset，类似于集合，但每个成员都关联着一个分数（score），可以根据分数对成员进行排序，同时保持唯一性。 二、String类型 常用操作
SET key value：设置指定 key 的值为给定的 value。GET key：获取指定 key 的值。DEL key：删除指定的 key。MSET key value [key value ...]：批量设置key value。MGET key [key ...]：批量获得key value。SETEX key seconds value：设置指定 key 的值，并指定过期时间（以秒为单位）。SETNX key value：设置 key 不存在的key value，如果key存在，那么当前value不会覆盖已存在key的value。STRLEN key：返回指定 key 的值的长度。 原子加减操作：
INCR key：将指定 key 的值加 1。DECR key：将指定 key 的值减 1。INCRBY key increment：将指定key的value与increment相加，只针对数字类型。DECEBY key decrement：将指定key的value减去decrement，只针对数字类型。APPEND key value：将指定 value 追加到指定 key 的值末尾。GETSET key value：设置指定 key 的新值，并返回旧值。 单值缓存操作：
SET key valueGET key 对象缓存操作：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/436ebf735c2ff77c6970afa50b5eafb0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T16:28:58+08:00" />
<meta property="article:modified_time" content="2024-01-09T16:28:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Redis 常用操作</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一、Redis常用的5种数据类型</h3> 
<ol><li>字符串（String）：最基本的数据类型，可以存储字符串、整数或浮点数。</li><li>哈希（Hash）：键值对的集合，可以在一个哈希数据结构中存储多个字段和值。</li><li>列表（List）：按照插入顺序存储一组有序的值，可以在列表的两端执行插入、删除和访问操作。</li><li>集合（Set）：无序的唯一值的集合，支持对集合执行添加、删除和集合间的交集、并集、差集等操作。</li><li>有序集合（Sorted Set）：也叫Zset，类似于集合，但每个成员都关联着一个分数（score），可以根据分数对成员进行排序，同时保持唯一性。</li></ol> 
<h3>二、String类型</h3> 
<p>常用操作</p> 
<ol><li>SET key value：设置指定 key 的值为给定的 value。</li><li>GET key：获取指定 key 的值。</li><li>DEL key：删除指定的 key。</li><li>MSET key value [key value ...]：批量设置key value。</li><li>MGET key [key ...]：批量获得key value。</li><li>SETEX key seconds value：设置指定 key 的值，并指定过期时间（以秒为单位）。</li><li>SETNX key value：设置 key 不存在的key value，如果key存在，那么当前value不会覆盖已存在key的value。</li><li>STRLEN key：返回指定 key 的值的长度。</li></ol> 
<p>原子加减操作：</p> 
<ol><li>INCR key：将指定 key 的值加 1。</li><li>DECR key：将指定 key 的值减 1。</li><li>INCRBY key increment：将指定key的value与increment相加，只针对数字类型。</li><li>DECEBY key decrement：将指定key的value减去decrement，只针对数字类型。</li><li>APPEND key value：将指定 value 追加到指定 key 的值末尾。</li><li>GETSET key value：设置指定 key 的新值，并返回旧值。</li></ol> 
<p>单值缓存操作：</p> 
<ol><li>SET key value</li><li>GET key</li></ol> 
<p>对象缓存操作：</p> 
<ol><li>SET user:1 value(value是一个JSON字符串)</li><li>MSET user:1:name zhangsan user:1:age 18</li></ol> 
<p>分布式锁操作：</p> 
<ol><li>SETNX lock_key 1 (lock_key：要锁的键， 1： 可以是任意非空的值，用于表示锁的存在。结果返回0表示false，1表示true)</li><li>DEL lock_key //执行完业务逻辑释放锁</li><li>SETEX lock_key expiration_time 1(设置有时效的锁)</li></ol> 
<p>Sting类型适用场景</p> 
<ol><li>例如统计一篇文章的阅读量，在业务场景上来说用户打开一篇文章则+1，那么可以使用redis的计数器。使用incr article:readcount:1000，每执行一次表示文章ID为1000的累加一次。article:readcount是我们自定义的前缀，为了更好的见名识义</li><li>Web集群session共享，spring session + redis实现session共享</li><li>分布式全局序列号，使用redis批量生成序列号提升性能，INCRBY orderId 1</li></ol> 
<h3>三、Hash类型</h3> 
<p>常用操作</p> 
<ol><li>HSET key field value：设置 Hash 中指定键的字段和值。</li><li>HGET key field：获取 Hash 中指定键的字段的值。</li><li>HDEL key field1 [field2 ...]：删除 Hash 中指定键的一个或多个字段。</li><li>HEXISTS key field：检查 Hash 中指定键是否存在指定字段。</li><li>HKEYS key：获取 Hash 中指定键的所有字段名。</li><li>HVALS key：获取 Hash 中指定键的所有字段值。</li><li>HGETALL key：获取 Hash 中指定键的所有字段和值。</li><li>HINCRBY key field increment：将 Hash 中指定键的字段值按给定增量递增。</li><li>HLEN key：获取 Hash 中指定键的字段数量。</li></ol> 
<p>对象缓存操作</p> 
<ol><li>HMSET key field1 value1 [field2 value2 ...]：同时设置 Hash 中指定键的多个字段和值。</li><li>HMGET key field1：获取 Hash 中指定键的字段值。</li></ol> 
<h3>四、List类型</h3> 
<p>常用操作</p> 
<ol><li>LPUSH key element1 [element2 ...]：将一个或多个元素从左侧插入到列表中。</li><li>RPUSH key element1 [element2 ...]：将一个或多个元素从右侧插入到列表中。</li><li>LPOP key：从左侧移除并返回列表中的第一个元素。</li><li>RPOP key：从右侧移除并返回列表中的最后一个元素。</li><li>BRPOP key [key ...] timeout：从右侧移除一个元素，如果没有则等待，timeout是等待时长(秒)，0则一直等待</li><li>LINDEX key index：获取列表中指定索引位置的元素值。</li><li>LRANGE key start stop：获取列表中指定范围内的元素列表。</li><li>LLEN key：获取列表的长度（即列表中元素的数量）。</li><li>LREM key count element：从列表中移除指定数量的匹配元素。</li><li>LINSERT key BEFORE|AFTER pivot element：在列表中指定元素的前面或后面插入一个元素。</li><li>LSET key index element：将列表中指定索引位置的元素替换为新的值。</li></ol> 
<h3>五、Set类型</h3> 
<p>常用操作</p> 
<ol><li>SADD key member1 [member2 ...]：将一个或多个成员添加到集合中，成员存在则忽略，不存在则新建。</li><li>SREM key member1 [member2 ...]：从集合中移除一个或多个成员。</li><li>SISMEMBER key member：检查指定成员是否存在于集合中。</li><li>SMEMBERS key：获取集合中的所有成员。</li><li>SCARD key：获取集合中的成员数量。</li><li>SPOP key [count]：从集合中随机移除并返回一个或多个成员。</li><li>SRANDMEMBER key [count]：从集合中随机获取一个或多个成员，但不移除。</li><li>SDIFF key1 [key2 ...]：获取多个集合的差集。（计算公式为：list1-(list2、list2、...的并集)，第一个集合减去其他几个集合的并集。排除相同的元素，第一个集合剩下的就是并集）</li><li>SINTER key1 [key2 ...]：获取多个集合的交集。</li><li>SUNION key1 [key2 ...]：获取多个集合的并集。</li></ol> 
<h3>六、Sorted Set(Zset)</h3> 
<ol><li>ZADD key score1 member1 [score2 member2 ...]：将一个或多个成员及其分数添加到有序集合中。各参数的具体含义：key为键，score为member的分数，用于排序，member是key的值，可以批量添加。</li><li>ZREM key member1 [member2 ...]：从有序集合中移除一个或多个成员。</li><li>ZSCORE key member：获取有序集合中指定成员的分数。</li><li>ZRANGE key start stop [WITHSCORES]：按照分数从小到大的顺序，获取有序集合中指定索引范围内的成员。</li><li>ZREVRANGE key start stop [WITHSCORES]：按照分数从大到小的顺序，获取有序集合中指定索引范围内的成员。</li><li>ZCARD key：获取有序集合中的成员数量。</li><li>ZCOUNT key min max：计算有序集合中分数在给定范围内的成员数量。</li><li>ZRANK key member：获取有序集合中指定成员的排名，排名从0开始。（按照分数从小到大的顺序）。</li><li>ZREVRANK key member：获取有序集合中指定成员的排名（按照分数从大到小的顺序）。</li><li>ZINCRBY key increment member：将有序集合中指定成员的分数增加给定的增量值。</li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e8b2ecb0f4f0f0ea87d4410f9c07abc3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">模型评估：评估指标的局限性</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/caff3e03089e88274ebc574ff265df05/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">LeetCode 36 有效的数独</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>