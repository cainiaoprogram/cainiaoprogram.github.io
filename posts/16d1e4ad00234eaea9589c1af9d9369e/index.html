<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32F103标准库 Keil 工程模板创建 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32F103标准库 Keil 工程模板创建" />
<meta property="og:description" content="STM32F103C8T6 标准库工程模板创建
下载库 可以根据自己 MCU 的型号去 STM32 官网下载相应的库，网址：STM32 官网标准库下载地址
STM32F103 库的下载地址如下：STM32F10x标准外设库
我使用最新版本 3.6.0，下载下来解压后是：STM32F10x_StdPeriph_Lib_V3.6.0
建立 Keil-MDK 模板工程 创建文件夹 创建一个模板工程的文件夹，如图：
App: app 文件。主要的编程工作在这里展开。
Core: 存放 ARM 内核代码
Doc: 存放文档
Peripheral: 存放标准外设库源码
Project: 存放 Keil 工程文件
Start: 存放启动文件
User: 存放用户文件。main.c 文件在这里。
其中，Core、Peripheral、Start 文件夹下的文件全部从下载的标准库中复制，User 文件夹下处 main.c 外皆复制自下载的标准库。
复制标准库 复制内核源文件：
复制启动文件：
复制器件支持文件：
创建工程 打开Keil-MDK，在刚刚创建的 Project 文件夹下建立一个新的工程:
设计如下分组：
工程设置 从官网下载的标准外设库不支持armcc6编译器，所以设置为默认的armcc5编译器：
Output 勾选 Hex:
添加预处理宏定义：USE_STDPERIPH_DRIVER STM32F10X_MD, 添加头文件路径
设置烧录工具：
编写 main.c #include &lt;stm32f10x.h&gt; /*默认系统时钟，可以大致精确到ms级延时*/ void delay_ms(uint16_t time) { u16 i=0; while (time--) { i=8000; while(i--) ; } } void LED_Init(void) { GPIO_InitTypeDef GPIO_InitStructure; RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC, ENABLE);	//启动GPIO的时钟 GPIO_InitStructure." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/16d1e4ad00234eaea9589c1af9d9369e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-24T14:43:46+08:00" />
<meta property="article:modified_time" content="2023-10-24T14:43:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32F103标准库 Keil 工程模板创建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>STM32F103C8T6 标准库工程模板创建</p> 
<h3>下载库</h3> 
<p>可以根据自己 MCU 的型号去 STM32 官网下载相应的库，网址：<a href="https://www.st.com/zh/embedded-software/stm32-standard-peripheral-libraries.html" rel="nofollow" title="STM32 官网标准库下载地址">STM32 官网标准库下载地址</a></p> 
<p> STM32F103 库的下载地址如下：<a href="https://www.st.com/zh/embedded-software/stsw-stm32054.html" rel="nofollow" title="STM32F10x标准外设库">STM32F10x标准外设库</a></p> 
<p> 我使用最新版本 3.6.0，下载下来解压后是：STM32F10x_StdPeriph_Lib_V3.6.0</p> 
<h3><img alt="" height="290" src="https://images2.imgbox.com/24/e9/XYjIQhRD_o.png" width="824"></h3> 
<h3>建立 Keil-MDK 模板工程</h3> 
<h4>创建文件夹</h4> 
<p>创建一个模板工程的文件夹，如图：</p> 
<p><img alt="" height="268" src="https://images2.imgbox.com/c5/19/L8rri5zX_o.png" width="542"></p> 
<p>App: app 文件。主要的编程工作在这里展开。</p> 
<p>Core: 存放 ARM 内核代码</p> 
<p>Doc: 存放文档</p> 
<p>Peripheral: 存放标准外设库源码</p> 
<p>Project: 存放 Keil 工程文件</p> 
<p>Start: 存放启动文件</p> 
<p>User: 存放用户文件。main.c 文件在这里。</p> 
<p>其中，Core、Peripheral、Start 文件夹下的文件全部从下载的标准库中复制，User 文件夹下处 main.c 外皆复制自下载的标准库。</p> 
<h4>复制标准库</h4> 
<p>复制内核源文件：</p> 
<p><img alt="" height="521" src="https://images2.imgbox.com/8a/d3/DmQwLtP1_o.png" width="1007"></p> 
<p> 复制启动文件：</p> 
<p><img alt="" height="562" src="https://images2.imgbox.com/06/80/yXA3wZCJ_o.png" width="1194"></p> 
<p>复制器件支持文件：</p> 
<p><img alt="" height="661" src="https://images2.imgbox.com/45/83/OVS8D7Lw_o.png" width="1033"></p> 
<h4>创建工程</h4> 
<p> 打开Keil-MDK，在刚刚创建的 Project 文件夹下建立一个新的工程:</p> 
<p><img alt="" height="469" src="https://images2.imgbox.com/41/a3/SPCOLWSi_o.png" width="627"></p> 
<p>设计如下分组：</p> 
<p><img alt="" height="823" src="https://images2.imgbox.com/64/72/lj6s5gRP_o.png" width="267"></p> 
<h4>工程设置</h4> 
<p>从官网下载的标准外设库不支持armcc6编译器，所以设置为默认的armcc5编译器：</p> 
<p><img alt="" height="467" src="https://images2.imgbox.com/45/2f/cQlIEKpW_o.png" width="618"></p> 
<p>Output 勾选 Hex:</p> 
<p><img alt="" height="325" src="https://images2.imgbox.com/81/2d/FBt7XiC4_o.png" width="388"></p> 
<p>添加预处理宏定义：USE_STDPERIPH_DRIVER  STM32F10X_MD, 添加头文件路径</p> 
<p><img alt="" height="465" src="https://images2.imgbox.com/66/61/MKiAuJfL_o.png" width="625"></p> 
<h4><img alt="" height="130" src="https://images2.imgbox.com/3a/c6/agg8SEVn_o.png" width="184"></h4> 
<p>设置烧录工具：</p> 
<p><img alt="" height="460" src="https://images2.imgbox.com/f7/49/En4tNmvA_o.png" width="611"></p> 
<p><img alt="" height="277" src="https://images2.imgbox.com/4f/22/TAhSQi1h_o.png" width="609"></p> 
<h4>编写 main.c</h4> 
<pre><code class="language-cpp">#include &lt;stm32f10x.h&gt;

/*默认系统时钟，可以大致精确到ms级延时*/
void delay_ms(uint16_t time)
{
  u16 i=0;
  while (time--) {
    i=8000; 
    while(i--) ;
  }
}

void LED_Init(void)
{
   GPIO_InitTypeDef GPIO_InitStructure; 
   RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOC, ENABLE);	//启动GPIO的时钟
 
   GPIO_InitStructure.GPIO_Mode=GPIO_Mode_Out_PP;					//选模式推挽输出
   GPIO_InitStructure.GPIO_Pin=GPIO_Pin_13;								//哪个引脚
   GPIO_InitStructure.GPIO_Speed=GPIO_Speed_50MHz;				//引脚反应速度
   GPIO_Init(GPIOC, &amp;GPIO_InitStructure);									//完成初始化    
 }


int main()
{
	LED_Init();
	
	while(1) {
		delay_ms(100); //delay_ms(100);
    GPIO_SetBits(GPIOC, GPIO_Pin_13);
    delay_ms(100); //delay_ms(100);
    GPIO_ResetBits(GPIOC, GPIO_Pin_13);
  }
}
</code></pre> 
<h4>验证</h4> 
<p>按键盘上的 F7 快捷键进行编译：</p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/28/53/fTKro6kN_o.png" width="785">按键盘上的 F8 键下载：</p> 
<p><img alt="" height="327" src="https://images2.imgbox.com/cb/8d/KvaOfj70_o.png" width="607"></p> 
<p>加作者薇信：jiyuyun18 交流电子技术，留言：CSDN 嵌入式，加入嵌入式技术交流群 </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/224cd2862c34b520089d449715101ec4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JS中数组的reduce方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c9f5629c248e97e7857ea3cd780e5497/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">简单粗暴处理IDEA项目提示 Cannot resolve symbol ‘String‘错误</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>