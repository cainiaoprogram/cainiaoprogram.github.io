<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R语言(12)：绘图 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="R语言(12)：绘图" />
<meta property="og:description" content="12.1 创建图形 12.1.1 plot函数 plot(c(1,2,3),c(1,2,4)) plot(c(1,2,3),c(1,2,4),&#34;b&#34;) plot(c(-3,3),c(-1,5),&#34;n&#34;,xlab = &#34;x&#34;,ylab = &#34;y&#34;) 12.1.2 添加线条：abline()函数 x &lt;- c(1,2,3) y &lt;- c(1,3,8) plot(x,y) lmout &lt;- lm(y~x) abline(lmout) #添加一条直线 abline(lmout$coefficients) abline(2,1) lines(c(1.5,2.5),c(3,3)) #添加一条线段，端点为(1.5,3),(2.5,3) lines(c(1.5,2.5),c(3,4),&#34;l&#34;,lty = &#34;dotted&#34;)#设定线条的类型 ?par 12.1.3 设备窗口（掌握） 新建窗口和新建图形不是一个东西，新建的窗口只有一个
主要的步骤（1）新建设备窗口（2）切换设备窗口
windows() #在保持原有图形的基础上新建图形窗口 X11() dev.new() plot(x,y,&#34;n&#34;) lines(c(1.5,2.5),c(3,3),&#34;l&#34;,lty = &#34;dotted&#34;) lines(c(1.5,2.5),c(3,4),&#34;l&#34;,lty = &#34;dashed&#34;) dev.set(3) #切换图形窗口 12.1.4 在一张图中绘制两条密度曲线 一定要先新建再添加
e1 &lt;- rbinom(100,120,0.55) d1 &lt;- density(e1,from= 0,to =100) plot(d1,main= &#34;&#34;,xlab = &#34;&#34;) e2 &lt;- rnorm(100,60,10) d2 &lt;- density(e2,from= 0,to =100) lines(d2,lty = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6abf762ba7d53939c4179a4704d8a9f5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T21:43:42+08:00" />
<meta property="article:modified_time" content="2024-01-08T21:43:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R语言(12)：绘图</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>12.1 创建图形</h2> 
<h3>12.1.1 plot函数</h3> 
<pre><code class="language-R">plot(c(1,2,3),c(1,2,4))
plot(c(1,2,3),c(1,2,4),"b")
plot(c(-3,3),c(-1,5),"n",xlab = "x",ylab = "y")
</code></pre> 
<p><img alt="" height="172" src="https://images2.imgbox.com/01/e2/2za7pImn_o.png" width="161"><img alt="" height="150" src="https://images2.imgbox.com/81/1a/Jg6GgoNg_o.png" width="151"><img alt="" height="149" src="https://images2.imgbox.com/f0/b6/NBvHpyu7_o.png" width="149"></p> 
<h3></h3> 
<h3>12.1.2 添加线条：abline()函数</h3> 
<pre><code class="language-R">x &lt;- c(1,2,3)
y &lt;- c(1,3,8)
plot(x,y)
lmout &lt;- lm(y~x)
abline(lmout) #添加一条直线
abline(lmout$coefficients)
abline(2,1)
lines(c(1.5,2.5),c(3,3)) #添加一条线段，端点为(1.5,3),(2.5,3)
lines(c(1.5,2.5),c(3,4),"l",lty = "dotted")#设定线条的类型
?par

</code></pre> 
<h4>12.1.3 设备窗口（掌握）</h4> 
<p>新建窗口和新建图形不是一个东西，新建的窗口只有一个</p> 
<p>主要的步骤（1）新建设备窗口（2）切换设备窗口</p> 
<pre><code class="language-R">windows() #在保持原有图形的基础上新建图形窗口
X11()
dev.new()
plot(x,y,"n")
lines(c(1.5,2.5),c(3,3),"l",lty = "dotted")
lines(c(1.5,2.5),c(3,4),"l",lty = "dashed")
dev.set(3) #切换图形窗口</code></pre> 
<h3>12.1.4 在一张图中绘制两条密度曲线</h3> 
<p>一定要先新建再添加</p> 
<pre><code class="language-R">e1 &lt;- rbinom(100,120,0.55)
d1 &lt;- density(e1,from= 0,to =100)
plot(d1,main= "",xlab = "")
e2 &lt;- rnorm(100,60,10)
d2 &lt;- density(e2,from= 0,to =100)
lines(d2,lty = "dashed")
</code></pre> 
<p class="img-center"><img alt="" height="180" src="https://images2.imgbox.com/37/2e/vI6MwuKv_o.png" width="444"></p> 
<p>坐标轴的范围是根据第一个来画的</p> 
<h3>12.1.6 添加点</h3> 
<pre><code class="language-R">e1 &lt;- rbinom(100,120,0.55)
d1 &lt;- density(e1,from= 0,to =100)
plot(d1,main= "",xlab = "")
e2 &lt;- rnorm(100,60,10)
d2 &lt;- density(e2,from= 0,to =100)
lines(d2,lty = "dashed")
</code></pre> 
<h3>12.1.8 添加文字：text()函数</h3> 
<pre><code class="language-R">text(2.5,4,"abc") #字符中心位于输入的坐标参数上
text(40,.02,"Exam1")
text(56,.05,"Exam2")
</code></pre> 
<p><img alt="" height="422" src="https://images2.imgbox.com/d1/48/HMEaq8rc_o.png" width="355"></p> 
<h3>12.1.9 精确定位：locator()函数</h3> 
<pre><code class="language-R">hist(c(12,5,13,25,16))
locator(1)
text(locator(1),"nv= 75")
</code></pre> 
<p><img alt="" height="428" src="https://images2.imgbox.com/e5/58/GepUtEhL_o.png" width="360"></p> 
<h3>12.1.10 保存图形</h3> 
<pre><code class="language-R">#R语言中没有“撤销命令”！只能通过先保存再读取的方式恢复图形。

img1 &lt;- recordPlot()
text(locator(1),"nv= 74")
replayPlot(img1)
</code></pre> 
<h2>12.2 定制图形</h2> 
<h3>12.2.3 添加多边形：polygon()</h3> 
<pre><code class="language-R">f &lt;- function(x) return(1-exp(-x))
curve(f,0,2)
polygon(c(1.2,1.4,1.4,1.2),c(0,0,f(1.3),f(1.3)),col = "gray")
polygon(c(1,1.2,1.2,1),c(0,0,f(1.3),f(1.3)),density= 10)

</code></pre> 
<h3>12.2.5 绘制具有显示表达式的函数</h3> 
<pre><code class="language-R">g &lt;- function(t){return((t^2 + 1)^0.5)}
x &lt;- seq(0,5,length=5000)
y &lt;- g(x)
plot(x,y,type= "l")
或
curve( (x^2 +1)^0.5+.5, 0, 5 , add=T) #如果add为真，则将曲线添加到当前工作图形设备中，若为假则新建一个图形设备
或
plot(g,0,5)
</code></pre> 
<h3>12.2.6 放大曲线的一部分</h3> 
<pre><code class="language-R">将曲线的一部分截取后进行放大绘制，并将其放在与原曲线的同一个图形中。

#savexy : 包含了由crv()函数返回的x和y向量的列表
#x1, y1, x2, y2: 要放大的曲线的区域
#x3, y3, x4, y4: 要添加的矩形的坐标
inset &lt;- function(savexy, x1,y1,x2,y2,x3,y3,x4,y4){
rect(x1,y1,x2,y2) #画矩形
rect(x3,y3,x4,y4) #画矩形
savex &lt;- savexy$x; savey &lt;- savexy$y
n &lt;- length(savex)
xvalsinrange &lt;- which(savex &gt;= x1 &amp; savex &lt;= x2)
yvalsforthosex &lt;- savey[xvalsinrange]
if (any(yvalsforthosex &lt; y1|yvalsforthosex &gt;y2)){
print("Y value outside first box"); return()}
x2mnx1 &lt;- x2- x1; x4mnx3 &lt;- x4- x3; y2mny1 &lt;- y2- y1; y4mny3 &lt;- y4- y3
plotpt &lt;- function(i){ #进行坐标转换
newx &lt;- x3 + ((savex[i]-x1)/x2mnx1)*x4mnx3; newy &lt;- y3 + ((savey[i]-y1)/y2mny1)*y4mny3
return(c(newx,newy))}
newxy &lt;- sapply(xvalsinrange,plotpt)
lines(newxy[1,],newxy[2,])}


xyout &lt;- crv(exp(-x)*sin(1/(x-1.5)),0.1,4,n=5001)
inset(xyout,1.3,-0.3,1.47,0.3,   2.5,-0.3,4,-0.1)


</code></pre> 
<h2>12.3 将图形保存到文件</h2> 
<pre><code class="language-R">dev.new()
pdf("d12.pdf") #创建并打开一个pdf文件
dev.list() #查询图形设备列表
dev.cur() #查询当前工作图形设备的编号</code></pre> 
<h3>12.3.2 保存已显示的图形</h3> 
<pre><code class="language-R">dev.set(2)
xyout &lt;- crv(exp(-x)*sin(1/(x-1.5)),0.1,4,n=5001)
inset(xyout,1.3,-0.3,1.47,0.3,   2.5,-0.3,4,-0.1)
dev.copy(which=3)#将当前设备中的图形复制到3号设备中
dev.set(3)
dev.off()#关闭图形设备以便查看

</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a26517dfafdd7753ef709cc37078ad47/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【K8S 云原生】Kurbernets集群的调度策略</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/85464eb5cfeb1efe88377136f02bb993/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">20240108移远的4G模块EC20在Firefly的AIO-3399J开发板的Android11下调通的步骤</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>