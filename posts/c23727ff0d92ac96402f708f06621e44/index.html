<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Lux 安装以及使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Lux 安装以及使用" />
<meta property="og:description" content="Lux 的安装： Github地址：UGitHub - iawia002/lux: 👾 Fast and simple vLideo download library and CLI tool written in Go
具体的安装步骤在github中已经讲述。
Windows安装
这里为了方便操作就不使用CMD了，直接使用PowerShell，需要的条件PowerShell 5&#43;和.NET Framework 4.5&#43;。
先在电脑左下角程序搜索框输入PowerShell，然后双击Windows PowerShell工具，再输入以下命令查看版本：
$PSVersionTable.PSVersion Major为版本号，一般目前常用电脑Windows 10符合条件，Windiows 7还需要升级，大致步骤如下：
1、安装.Net 4.5.2全量包 下载地址：https://www.moerats.com/usr/down/powershell/NDP452-KB2901907-x86-x64-AllOS-ENU.exe 2、升级PowerShell的补丁包 32位下载地址：https://www.moerats.com/usr/down/powershell/Win7-KB3191566-x86.zip 64位下载地址：https://www.moerats.com/usr/down/powershell/Win7-KB3191566-x64.zip 接下来安装一个命令行安装工具Scoop，使用命令：
iex (new-object net.webclient).downloadstring(&#39;https://get.scoop.sh&#39;) 再安装lux：
scoop install lux 该命令会给你把ffmpeg也一起安装好。
使用 使用命令：
lux [OPTIONS] URL [URL...] #可选参数如下 Options -i Information only -F string URLs file path -d Debug mode -j Print extracted data -v Show version Download: -f string Select specific stream to download -p Download playlist -n int The number of download thread (only works for multiple-parts video) (default 10) -c string Cookie -r string Use specified Referrer -cs int HTTP chunk size for downloading (in MB) (default 0) Network: -s string SOCKS5 proxy -x string HTTP proxy -retry int How many times to retry when the download failed (default 10) Playlist: -start int Playlist video to start at (default 1) -end int Playlist video to end at -items string Playlist video items to download." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c23727ff0d92ac96402f708f06621e44/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-08T08:43:24+08:00" />
<meta property="article:modified_time" content="2022-08-08T08:43:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Lux 安装以及使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3><strong>Lux 的安装：</strong></h3> 
<p><strong>Github地址：</strong><a href="https://github.com/iawia002/annie" title="UGitHub - iawia002/lux: 👾 Fast and simple vLideo download library and CLI tool written in Go">UGitHub - iawia002/lux: 👾 Fast and simple vLideo download library and CLI tool written in Go</a></p> 
<p>具体的安装步骤在github中已经讲述。</p> 
<p><strong>Windows安装</strong><br> 这里为了方便操作就不使用<code>CMD</code>了，直接使用<code>PowerShell</code>，需要的条件<code>PowerShell 5+</code>和<code>.NET Framework 4.5+</code>。</p> 
<p>先在电脑左下角程序搜索框输入<code>PowerShell</code>，然后双击<code>Windows PowerShell</code>工具，再输入以下命令查看版本：</p> 
<pre><code>$PSVersionTable.PSVersion</code></pre> 
<p><code>Major</code>为版本号，一般目前常用电脑<code>Windows 10</code>符合条件，<code>Windiows 7</code>还需要升级，大致步骤如下：</p> 
<pre><code>1、安装.Net 4.5.2全量包
下载地址：https://www.moerats.com/usr/down/powershell/NDP452-KB2901907-x86-x64-AllOS-ENU.exe

2、升级PowerShell的补丁包
32位下载地址：https://www.moerats.com/usr/down/powershell/Win7-KB3191566-x86.zip
64位下载地址：https://www.moerats.com/usr/down/powershell/Win7-KB3191566-x64.zip
</code></pre> 
<p>接下来安装一个命令行安装工具<code>Scoop</code>，使用命令：</p> 
<pre><code>iex (new-object net.webclient).downloadstring('https://get.scoop.sh')</code></pre> 
<p>再安装<code>lux</code>：</p> 
<pre><code>scoop install lux</code></pre> 
<p>该命令会给你把<code>ffmpeg</code>也一起安装好。</p> 
<p></p> 
<h3>使用</h3> 
<p>使用命令：</p> 
<pre><code>lux [OPTIONS] URL [URL...]    
#可选参数如下
Options
  -i    Information only
  -F string
        URLs file path
  -d    Debug mode
  -j    Print extracted data
  -v    Show version

Download:
  -f string
        Select specific stream to download
  -p    Download playlist
  -n int
        The number of download thread (only works for multiple-parts video) (default 10)
  -c string
        Cookie
  -r string
        Use specified Referrer
  -cs int
        HTTP chunk size for downloading (in MB) (default 0)

Network:
  -s string
        SOCKS5 proxy
  -x string
        HTTP proxy
  -retry int
        How many times to retry when the download failed (default 10)

Playlist:
  -start int
        Playlist video to start at (default 1)
  -end int
        Playlist video to end at
  -items string
        Playlist video items to download. Separated by commas like: 1,5,6

Filesystem:
  -o string
        Specify the output path
  -O string
        Specify the output file name

Subtitle:
  -C    Download captions

Youku:
  -ccode string
        Youku ccode (default "0590")
  -ckey string
        Youku ckey (default "7B19C0AB12633B22E7FE81271162026020570708D6CC189E4924503C49D243A0DE6CD84A766832C2C99898FC5ED31F3709BB3CDD82C96492E721BDD381735026")
  -password string
        Youku password

YouTube
  -ytb-stream2
        Use data in url_encoded_fmt_stream_map

Aria2:
  -aria2
        Use Aria2 RPC to download
  -aria2addr string
        Aria2 Address (default "localhost:6800")
  -aria2method string
        Aria2 Method (default "http")
  -aria2token string
        Aria2 RPC Token
</code></pre> 
<p>我用的腾讯视频会员进行的cookie下载。</p> 
<p>直接下载一个视频：</p> 
<blockquote> 
 <p>lux https://v.qq.com/x/page/e3007rfgmpg.html</p> 
</blockquote> 
<p><img alt="" height="194" src="https://images2.imgbox.com/f1/6c/dLYmz5dv_o.png" width="1127"></p> 
<blockquote> 
 <p>lux -i -c cookie.txt https://v.qq.com/x/cover/m441e3rjq9kwpsc/f0035kaoj14.html    </p> 
 <p>其中 -i  ——&gt; 列举可以下载的视频的清晰度列表</p> 
 <p>-c ——&gt; cookie 值</p> 
 <p>cookie 可以通过浏览器进行查看：按  F12 调出开发者模式</p> 
 <p><img alt="" height="626" src="https://images2.imgbox.com/1c/e0/0t9xjXAk_o.png" width="1200"></p> 
 <p>然后创建一个 cookie.txt  将cookie中需要的字符串全部放在这个文件中就可以了。</p> 
</blockquote> 
<p></p> 
<p>一般视频都默认下载到当前目录，如果你想下载到其它目录，需要在下载时候，加一个<code>-o</code>参数，后面带上文件夹路径即可。</p> 
<pre><code>#比如下载到桌面C:\Users\Rats\Desktop文件夹，Linux路径写法为/root/Rats
lux -o C:\Users\Rats\Desktop -f 80 https://v.qq.com/x/page/e3007rfgmpg.html
</code></pre> 
<p>如果是下载<code>bilibili</code>电视剧，可以在后面加一个<code>-p</code>参数，然后可以将所有集数一起下载。</p> 
<pre><code>#列出该集数的电视剧所有集数清晰度等信息
lux -i -p https://www.bilibili.com/bangumi/play/ep133269
#下载1到20集1080P视频
lux -f 80 -p -start 1 -end 20 https://www.bilibili.com/bangumi/play/ep133269</code></pre> 
<p>目前播放列表暂时只支持<code>B</code>站和<code>youtube</code>。</p> 
<p>你也可以将你需要下载的链接存放到<code>bz.txt</code>文件里，然后使用命令一起下载：</p> 
<pre><code>#列出所有链接信息
lux -F /root/bz.txt -i
#下载1080p视频
lux -f 80 -F /root/bz.txt</code></pre> 
<p></p> 
<p>本次分享到此结束，谢谢。</p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/65971db75eaed208237677367f555474/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入浅出Spring源码（一）构建Spring源码阅读环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1ad281fc6a3f5f36ac1ff6d30160881f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vscode Remote SSH Unexpected line break at... 相关问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>