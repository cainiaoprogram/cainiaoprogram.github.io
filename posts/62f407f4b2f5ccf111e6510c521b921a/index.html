<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C&#43;&#43;引用篇 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C&#43;&#43;引用篇" />
<meta property="og:description" content="文章目录 一、引用概念及示例二、引用做函数参数二、引用做函数的返回值四、常引用五、引用和指针的区别 一、引用概念及示例 c语言指针存变量地址，然后通过解引用可以访问或者改变变量，且也可以改变指针变量里面存的地址
修改变量这样还需要对指针变量解引用，这样较为麻烦，且修改地址还有些不安全，所以c&#43;&#43;中有了同样能修改变量且可以访问变量的名词
这被成为引用引用 引用：引用不是新定义的变量，而是给已存在的变量取一个别名，
不过编译器不会为引用变量开辟内存空间，它和它引用的变量共用同一块内存空间
引用操作符&amp;它这与取地址操作符一样，不过引用在使用时引用是双目，&amp;左边数据类型，右边为引用变量名，
而取地址操作符是单目操作符，右边为取地址变量名
引用就相当于给别人起外号，虽然一个人可能有很多外号，但是这些外号对应的还是那个人 而对其中一个外号进行改动，其它外号都是在变化的
如有一个人叫张三，别人又叫他法外狂徒，如今我们将法外狂徒判刑十年，是不是张三被判刑了10年
虽然一个变量可能有不同的别名但是这些别名它的空间都为同一个空间，其中一个别名改变 也会影响到其它的别名甚至他本身。
#include&lt;iostream&gt; //在引用时要初始化，要说明是谁的引用 using namespace std; int main() { int a = 0; int&amp; b = a;//对a起别名 int&amp; c = b;//对b起别名 c&#43;&#43;;//b的别名改变 cout &lt;&lt; a &lt;&lt; endl; cout &lt;&lt; b &lt;&lt; endl; cout &lt;&lt; c &lt;&lt; endl; b&#43;&#43;;//a的别名改变 cout &lt;&lt; a &lt;&lt; endl; cout &lt;&lt; b &lt;&lt; endl; cout &lt;&lt; c &lt;&lt; endl; //b是a的引用，c是b的引用，它们和它所引用的对象共用同一块空间，所以它们地址都相同 cout &lt;&lt; &amp;a &lt;&lt; endl; cout &lt;&lt; &amp;b &lt;&lt; endl; cout &lt;&lt; &amp;c &lt;&lt; endl; return 0; } 二、引用做函数参数 引用作为函数参数的形参，在函数调用时，相当于形参是对实参的引用，所以在函数内部对实参的操作也就是对实参的操作。引用做参数，形参和实参共同有一块内存空间，没有为形参开辟新的内存空间，减少了调用时因为形参开辟内存的损耗，提高了效率" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/62f407f4b2f5ccf111e6510c521b921a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-19T17:36:47+08:00" />
<meta property="article:modified_time" content="2023-04-19T17:36:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C&#43;&#43;引用篇</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_6" rel="nofollow">一、引用概念及示例</a></li><li><a href="#_67" rel="nofollow">二、引用做函数参数</a></li><li><a href="#_209" rel="nofollow">二、引用做函数的返回值</a></li><li><a href="#_430" rel="nofollow">四、常引用</a></li><li><a href="#_482" rel="nofollow">五、引用和指针的区别</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_6"></a>一、引用概念及示例</h2> 
<blockquote> 
 <p>c语言指针存变量地址，然后通过解引用可以访问或者改变变量，且也可以改变指针变量里面存的地址<br> <img src="https://images2.imgbox.com/2a/27/Wn1G84DV_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote> 
 <p>修改变量这样还需要对指针变量解引用，这样较为麻烦，且修改地址还有些不安全，所以c++中有了同样能修改变量且可以访问变量的名词<br> 这被成为引用引用 引用：引用不是新定义的变量，而是给已存在的变量取一个别名，<br> 不过编译器不会为引用变量开辟内存空间，它和它引用的变量共用同一块内存空间<br> <img src="https://images2.imgbox.com/c0/e4/1vQFqTt0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/24/54/ELeh7SPW_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote> 
 <p>引用操作符&amp;它这与取地址操作符一样，不过引用在使用时引用是双目，&amp;左边数据类型，右边为引用变量名，<br> <img src="https://images2.imgbox.com/e5/c8/0Bmipi3G_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote> 
 <p>而取地址操作符是单目操作符，右边为取地址变量名<br> <img src="https://images2.imgbox.com/df/3c/OjnPJW49_o.png" alt="在这里插入图片描述"></p> 
 <p>引用就相当于给别人起外号，虽然一个人可能有很多外号，但是这些外号对应的还是那个人 而对其中一个外号进行改动，其它外号都是在变化的<br> 如有一个人叫张三，别人又叫他法外狂徒，如今我们将法外狂徒判刑十年，是不是张三被判刑了10年</p> 
 <p>虽然一个变量可能有不同的别名但是这些别名它的空间都为同一个空间，其中一个别名改变 也会影响到其它的别名甚至他本身。<br> <img src="https://images2.imgbox.com/d6/6f/OiqPDMKC_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote></blockquote> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>

<span class="token comment">//在引用时要初始化，要说明是谁的引用</span>
using namespace std<span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span><span class="token comment">//对a起别名</span>
	<span class="token keyword">int</span><span class="token operator">&amp;</span> c <span class="token operator">=</span> b<span class="token punctuation">;</span><span class="token comment">//对b起别名</span>

	c<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//b的别名改变</span>
	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	b<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">//a的别名改变</span>
	cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token comment">//b是a的引用，c是b的引用，它们和它所引用的对象共用同一块空间，所以它们地址都相同</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6a/9f/FPVu116J_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_67"></a>二、引用做函数参数</h2> 
<blockquote> 
 <p>引用作为函数参数的形参，在函数调用时，相当于形参是对实参的引用，所以在函数内部对实参的操作也就是对实参的操作。引用做参数，形参和实参共同有一块内存空间，没有为形参开辟新的内存空间，减少了调用时因为形参开辟内存的损耗，提高了效率</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream&gt;</span></span>
using namespace std<span class="token punctuation">;</span>
<span class="token comment">//交换函数</span>
<span class="token comment">//形参x是实参a的引用</span>
<span class="token comment">//形参y是实参b的引用</span>
<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//交换变量x和y的值就是交换变量a和b的值</span>
	<span class="token keyword">int</span> temp <span class="token operator">=</span> x<span class="token punctuation">;</span>
	x <span class="token operator">=</span> y<span class="token punctuation">;</span>
	y <span class="token operator">=</span> temp<span class="token punctuation">;</span>
	<span class="token comment">//x与a的地址相同</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参x地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//y与b的地址相同</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参y地址:"</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token comment">//编译器并没有为它们开辟临时空间</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"交换前:"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a:"</span><span class="token operator">&lt;&lt;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"b:"</span><span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token function">Swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"交换后:"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"a:"</span><span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"b:"</span><span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d5/7a/LzGOwFXf_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>而不是引用做参数的，要达到交换函数的话，在调用函数时，就需要传实参地址，形参为指针，且还要为这形参（指针变量）开辟临时空间。</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token comment">//传址</span>
<span class="token keyword">void</span> <span class="token function">Swap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token operator">*</span>x<span class="token punctuation">;</span>
	<span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>y<span class="token punctuation">;</span>
	<span class="token operator">*</span>y <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参x地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//x与a的地址并不相同，即使x指向a的地址，但是只要它创建了一个变量，那么编译器就会为起分配内存空间</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参y地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>y <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">//y与b的地址并不相同</span>
<span class="token punctuation">}</span>

<span class="token comment">//传值</span>
<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参a地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"形参b地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"交换前:"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a:"</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b:"</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span><span class="token string">"实参a地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"实参b地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">Swap</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"交换后:"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a:"</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b:"</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"实参x地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span><span class="token string">"实参y地址:"</span><span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/eb/24/C0fCSNdi_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>不是引用型做参数的，在函数调用时实参无论是传值还是传址，形参变量在定义时编译器都会为其开辟一个临时内存空间，形参都有自己的地址，在调用时会为形参开临时空间有一定的损耗，降低效率，引用做参数时，没有为形参开临时空间，减少了因开临时空间的损耗，提高了效率。当参数是一个很大时，效率比引用做参数低很多</p> 
</blockquote> 
<p>以形参为一个很大的结构体为例</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">A</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>A c<span class="token punctuation">)</span><span class="token comment">//c++可以直接用结构体名</span>
<span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>

<span class="token comment">//引用没有开临时空间，没有那些消耗</span>
<span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">TestValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	A a<span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">f</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token class-name">size_t</span> end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token class-name">size_t</span> begin2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		<span class="token function">f1</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token class-name">size_t</span> end2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f_time:"</span> <span class="token operator">&lt;&lt;</span> end1 <span class="token operator">-</span> begin1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"f1_time:"</span> <span class="token operator">&lt;&lt;</span> end2 <span class="token operator">-</span> begin2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">TestValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre> 
<p><img src="https://images2.imgbox.com/d8/b4/lxRUcJ2n_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>引用做参数极大的提高了效率</p> 
</blockquote> 
<h2><a id="_209"></a>二、引用做函数的返回值</h2> 
<blockquote> 
 <p>值返回和引用返回，引用返回时，返回的对象具有左值特性，可以被修改</p> 
</blockquote> 
<p><code>值返回</code></p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/94/d7/03GEzeGn_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>n并不是直接返回给ret,它中间会生成一个临时变量，一般是寄存器，然后作为返回值给ret,但是不一定是寄存器，寄存器只有四个字节或者8个字节，数据量大就放不下，因此有时候生成的临时变量不一定是寄存器<br> 返回值拷贝给临时变量，临时变量拷贝给接收变量，两次拷贝</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/98/66/xUNqrBun_o.png" alt="在这里插入图片描述"></p> 
<p><strong>为什么会生成临时变量空间？</strong></p> 
<blockquote> 
 <p>函数调用为函数开辟空间，在main函数中为变量ret申请了一块空间，存放ret的值，main函数调用了fun1函数，fun1函数中为n申请了一块空间。当fun1函数调用结束时，fun1空间销毁，但是需要将fun1函数中的n的值返回，n在局部域里面，不能用n作为返回值，fun1函数都已经调用结束如何能返回，通过将n的值放入寄存器中，通过寄存器将值带回给调用它的那个函数，而将值带回这个过程生成了临时变量，然后将值拷贝给这个临时变量，将返回值带回，同样有因开辟临时空间带来的消耗。</p> 
</blockquote> 
<p><code>引用返回</code><br> <strong>如何避免因生成临时变量带来的消耗？</strong></p> 
<blockquote> 
 <p>引用返回，不生成临时变量减少了拷贝带来的消耗，提高了效率，小对象影响不大，但是大对象时就极大的提高了效率<br> <img src="https://images2.imgbox.com/02/09/uPWvx8qj_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>当大对象做返回时，引用和值返回效率有很大差异</p> 
<pre><code class="prism language-c"><span class="token keyword">struct</span> <span class="token class-name">A</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

A a<span class="token punctuation">;</span>
<span class="token comment">// 值返回</span>
A <span class="token function">TestFunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token comment">// 引用返回</span>
A<span class="token operator">&amp;</span> <span class="token function">TestFunc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">TestReturnByRefOrValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 以值作为函数的返回值类型</span>
	<span class="token class-name">size_t</span> begin1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token function">TestFunc1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 以引用作为函数的返回值类型</span>
	<span class="token class-name">size_t</span> begin2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">size_t</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
		<span class="token function">TestFunc2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> end2 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// 计算两个函数运算完成之后的时间</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc1 time:"</span> <span class="token operator">&lt;&lt;</span> end1 <span class="token operator">-</span> begin1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token string">"TestFunc2 time:"</span> <span class="token operator">&lt;&lt;</span> end2 <span class="token operator">-</span> begin2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">TestReturnByRefOrValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/91/e7/VoQXGtz4_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>引用做返回能极大的提高效率</p> 
</blockquote> 
<p>但是不是每个场景都能用引用返回<br> <img src="https://images2.imgbox.com/89/5d/YqgT1fb0_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>fun1函数结束，栈帧销毁，如果没有清理栈帧，那么ret的结果就会是正确的，<br> fun1函数结束，栈帧销毁，如果清理栈帧，那么ret的结果就会是随机值，他这块栈帧空间里面的内容都被清理了，此时再访问时就会出现随机值。</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//static int n = 0;</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	n<span class="token operator">++</span><span class="token punctuation">;</span>

	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>n <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	
	<span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> ret <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//由于这个常量返回是通过寄存器保存，然后回来时再将寄存器里面的值赋值给ret,</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/01/36/gw5zyMTM_o.png" alt="在这里插入图片描述"><br> 它两个地址是相同的<br> <img src="https://images2.imgbox.com/86/a6/OZ64FHkv_o.png" alt="在这里插入图片描述"></p> 
<p>fun函数栈帧没有清理，编译器一般是不会清理栈帧空间的内容，但是这个空间里的内容有可能为随机值，将这块空间重新赋值。<br> <img src="https://images2.imgbox.com/1a/5d/mMNXh75z_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>ret是n的别名，再调用fun函数，也就将上一个函数的栈帧空间覆盖了给新调用的fun分配栈帧空间，此时再访问ret,ret的值可能为随机值，访问销毁空间上的变量，像数组那样越界访问了。<br> 函数栈帧没有清理，再调用另外一个函数，而这个函数又要建立栈帧，初始化，然后这个栈帧将上一个函数的栈帧空间覆盖了，此时再访问ret，就会是随机值<br> <img src="https://images2.imgbox.com/6d/73/uHtYfvXy_o.png" alt="在这里插入图片描述"><br> 后面栈帧覆盖前一个栈帧，此时再访问就是一个随机值</p> 
</blockquote> 
<blockquote> 
 <p>用引用返回出了函数作用域再访问这样的操作就相当于野指针访问十分危险。所以要返回的值只能作用在该函数中，不可用引用返回，当函数栈帧销毁不会影响返回的值，可以用引用返回的，引用返回<code>适用于全局变量，静态变量(static)，由malloc出来的</code><br> 返回值出了作用域引用对象不在的不适用引用返回。</p> 
</blockquote> 
<blockquote> 
 <p>对顺序表赋某个位置的值赋值+修改<br> 将pos位置值改为10,一般的话需要获得pos位置的值，然后再对这个位置的值修改为10再将10赋值给顺序表pos位置赋值</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">SeqList</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//将pos位置的值修改为x</span>
<span class="token keyword">void</span> <span class="token function">SLModify</span><span class="token punctuation">(</span>SeqList<span class="token operator">*</span> ps<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//获取pos位置的值</span>
<span class="token keyword">int</span> <span class="token function">Get</span><span class="token punctuation">(</span>SeqList<span class="token operator">*</span> ps<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ps<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	SeqList s<span class="token punctuation">;</span>
	<span class="token function">SLModify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">int</span> ret <span class="token operator">=</span> <span class="token function">Get</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	ret <span class="token operator">+=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//只是得到pos位置的值修改并没有做到对顺序表进行修改</span>
	cout <span class="token operator">&lt;&lt;</span> ret <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token function">SLModify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//要修改还需要重新调用修改顺序表的接口</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/02/4d/d7GiecUm_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>这样很麻烦，明明都将值修改了结果还要再调用修改顺序表接口函数，因此用引用返回可以做到获取pos位置值时就将其修改</p> 
 <p>而引用做函数的返回值，它返回的对象具有左值的特性，可以被修改，一般函数的返回值对象是不可被修改的，所以可以直接获取pos位置的值的别名，然后对其修改其实也就是对顺序表修改</p> 
</blockquote> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;assert.h&gt;</span></span>
<span class="token keyword">struct</span> <span class="token class-name">SeqList</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token class-name">size_t</span> size<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">void</span> <span class="token function">SLModify</span><span class="token punctuation">(</span>SeqList<span class="token operator">*</span> ps<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ps<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span><span class="token operator">&amp;</span> <span class="token function">SLAt</span><span class="token punctuation">(</span>SeqList<span class="token operator">*</span> ps<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">assert</span><span class="token punctuation">(</span>pos <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> pos <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> ps<span class="token operator">-&gt;</span>a<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	SeqList s<span class="token punctuation">;</span>
	<span class="token function">SLModify</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">SLAt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token comment">//引用返回的具有左值特性，可修改</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">SLAt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	cout <span class="token operator">&lt;&lt;</span> <span class="token function">SLAt</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">5</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/50/d3/VWc3RDiq_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>引用做返回值</p> 
 <ol><li>减少拷贝提高效率</li><li>修改返回值和获取返回值</li></ol> 
</blockquote> 
<h2><a id="_430"></a>四、常引用</h2> 
<blockquote> 
 <p>在定义引用变量时用const修饰，被定义的引用变量也就是常引用<br> 一般引用<br> <img src="https://images2.imgbox.com/34/d8/P5SyvKmz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3b/b4/fxTJyB3Y_o.png" alt="在这里插入图片描述"><br> a可修改可读，可以对a引用，b对a的引用过程中为权限的平移</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/25/9d/yN2zWsPg_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>这里引用时，a变量被const修饰不可修改，只读，而如果对其引用就会变为可修改，修改了它的权限，是错误的。<code>在引用过程中权限不能放大</code>。<br> 那么如何将其变为正确的，在</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/c3/80/VKTZTbdh_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>加const修饰，成为常引用</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/06/e2/bW694AHF_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/89/35/OIj8JLlP_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>z为x的别名，但是现在它只有可读属性，不可被修改，原本变量的可改属性没有了，所以在引用过程中，权限可以缩小。以z访问时，不可以修改它也就不可以修改x,但是以x访问时，x改变，此时z也会改变，z和x共用空间，只是不能通过z改变，但可以通过x改变z<br> <img src="https://images2.imgbox.com/db/0c/E7sYoXZQ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/0e/3a/FspTUlqp_o.png" alt="在这里插入图片描述"><br> 为何不可？<br> 由于<br> <img src="https://images2.imgbox.com/21/5e/OmPS5Xsr_o.png" alt="在这里插入图片描述"><br> 不同类型转换才会产生临时变量，临时变量为右值，具有常性，相当于加了const修饰，不可被修改，因此可以常引用<br> <img src="https://images2.imgbox.com/f0/d9/HVjQO7CN_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/aa/f9/TmhJi3vk_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>引用时权限不可放大，需要加const修饰使其成为常引用</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2c/ee/WQ60ihZy_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/1e/57/bg3YAmaO_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>这是可以的，权限平移</p> 
</blockquote> 
<blockquote> 
 <p>常引用<br> <img src="https://images2.imgbox.com/bd/4c/wHRjaqR3_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h2><a id="_482"></a>五、引用和指针的区别</h2> 
<blockquote> 
 <p>引用在定义时必须初始化，指针没有要求<br> 引用是已知变量的别名，指针是地址<br> 引用在引用一个实体后不能再引用其它实体，但是指针可以指向其它实体<br> 没有NULL引用，但是有NULL指针<br> 计算大小字节时，引用的大小为引用类型的大小，指针始终时地址空间所占字节个数4或者8字节<br> 引用自增就是引用的实体加一，而指针自增是向后偏移一个类型的大小<br> 引用比指针使用起来更安全（指针空指针，野指针）<br> 语法上引用没有开空间，指针开空间</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4c/2f/QudQP88Q_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>但是从底层汇编指令角度看，引用类似指针的方式实现的<br> 指针汇编<br> <img src="https://images2.imgbox.com/e0/25/2d5FSqKs_o.png" alt="在这里插入图片描述"><br> 引用汇编<br> <img src="https://images2.imgbox.com/42/d2/hOzRshbU_o.png" alt="在这里插入图片描述"></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8b75f95839f3b3dd98602490ed97d43c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决node每次修改内容都需要关闭并重启服务器问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f5903bb15e7f926a895fdb112bb8ccb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">链表基本函数操作（带头结点的单链表）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>