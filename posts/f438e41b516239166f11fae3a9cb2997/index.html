<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springmvc处理ajax请求 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="springmvc处理ajax请求" />
<meta property="og:description" content="springmvc与ajax的交互在实际开发中十分常见，以下是对springmvc与ajax交互时参数的传递与接收做的一些整理
jsp页面：
&lt;form id=&#34;login&#34; style=&#34;width:600px; border:1px solid #000;border-left:none;border-right:none&#34;&gt; &lt;p align=&#34;center&#34;&gt;账号：&lt;input type=&#34;text&#34; id=&#34;username&#34; /&gt;&lt;/p&gt; &lt;p align=&#34;center&#34;&gt;密码：&lt;input type=&#34;password&#34; id=&#34;password&#34; /&gt;&lt;/p&gt; &lt;p align=&#34;center&#34;&gt;&lt;input type=&#34;submit&#34; id=&#34;submit&#34; value=&#34;登录&#34; /&gt;&lt;/p&gt; &lt;/form&gt;在这里插入代码片 一、ajax请求如下：contentType：application/x-www-form-urlencoded
发送的数据格式为“A=xxx&amp;B=xxx”data数据不是json对象
$(function(){ $(&#34;#submit&#34;).click(function(){ $.ajax({ type: &#34;POST&#34;, //contentType : &#39;application/x-www-form-urlencoded&#39;,//默认类型 url: &#39;${pageContext.request.contextPath}/databind/json&#39;, dataType: &#34;json&#34;, data: {username:$(&#39;#username&#39;).val(), password:$(&#39;#password&#39;).val()}, success: function(data){ alert(&#39;username : &#39;&#43;data.username&#43;&#39;\npassword : &#39;&#43;data.password); } }); }); }); 由于contentType : ‘application/x-www-form-urlencoded’，最终参数是以username=admin&amp;password=123456这个格式传至后台，当然你也可以利用占位符直接传字符串过去（后台使用@PathVariable注解逐个接收），但是，如果项目中字段还是特别多的，这样拼接会相当繁琐，然而我们知道还有个方法供我们使用，jQuery给我们提供的**$(“#login”).serialize()序列化表单**。
$(function(){ $(&#34;#submit&#34;).click(function(){ var params = $(&#34;#login&#34;).serialize();//序列化表单 alert(params); $.ajax({ type: &#34;POST&#34;, url: &#39;${pageContext.request.contextPath}/databind/json&#39;, dataType: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f438e41b516239166f11fae3a9cb2997/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-24T23:40:55+08:00" />
<meta property="article:modified_time" content="2018-10-24T23:40:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springmvc处理ajax请求</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>springmvc与ajax的交互在实际开发中十分常见，以下是对springmvc与ajax交互时参数的传递与接收做的一些整理</p> 
<p>jsp页面：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>form id<span class="token operator">=</span><span class="token string">"login"</span> style<span class="token operator">=</span><span class="token string">"width:600px; border:1px solid #000;border-left:none;border-right:none"</span><span class="token operator">&gt;</span>   
	<span class="token operator">&lt;</span>p align<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">&gt;</span>账号：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> id<span class="token operator">=</span><span class="token string">"username"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>   
	<span class="token operator">&lt;</span>p align<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">&gt;</span>密码：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"password"</span> id<span class="token operator">=</span><span class="token string">"password"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>   
	<span class="token operator">&lt;</span>p align<span class="token operator">=</span><span class="token string">"center"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> id<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"登录"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>在这里插入代码片
</code></pre> 
<p>一、ajax请求如下：<strong>contentType：application/x-www-form-urlencoded</strong><br> 发送的数据格式为“A=xxx&amp;B=xxx”data数据不是json对象</p> 
<pre><code class="prism language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#submit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			type<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
			<span class="token comment">//contentType : 'application/x-www-form-urlencoded',//默认类型</span>
			url<span class="token punctuation">:</span> <span class="token string">'${pageContext.request.contextPath}/databind/json'</span><span class="token punctuation">,</span>
			dataType<span class="token punctuation">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
			data<span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>username<span class="token punctuation">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#username'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				  password<span class="token punctuation">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'username : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>username<span class="token operator">+</span><span class="token string">'\npassword : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>由于contentType : ‘application/x-www-form-urlencoded’，最终参数是以username=admin&amp;password=123456这个格式传至后台，当然你也可以利用占位符直接传字符串过去（后台使用@PathVariable注解逐个接收），但是，如果项目中字段还是特别多的，这样拼接会相当繁琐，然而我们知道还有个方法供我们使用，jQuery给我们提供的**$(“#login”).serialize()序列化表单**。</p> 
<pre><code class="prism language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#submit"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> params <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#login"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//序列化表单</span>
		<span class="token function">alert</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
		$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			type<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>
			url<span class="token punctuation">:</span>  <span class="token string">'${pageContext.request.contextPath}/databind/json'</span><span class="token punctuation">,</span>
			dataType<span class="token punctuation">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
			data<span class="token punctuation">:</span> params<span class="token punctuation">,</span>
			success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'username : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>username<span class="token operator">+</span><span class="token string">'\npassword : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>后台springmvc接收参数方式如下：<br> <strong>1.直接使用参数名接收：无需注解</strong><br> 参数较少的情况可以使用</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"json"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> Account <span class="token function">json</span><span class="token punctuation">(</span>String username<span class="token punctuation">,</span>String password<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    Account account <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    account<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    account<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> account<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>2.使用pojo对象接收：无需注解</strong><br> 参数较多的情况下，使用对象一次性接收多个参数，简单快捷；<br> 使用pojo对象接受参数不需要@RequestParam注解前缀，只需将实体中的属性名与参数名一一对应即可，因为该注解是通过指定的参数名获取请求中的参数，而pojo对象并不是请求中的参数名，只是用来封装参数的容器；</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/json"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> Account <span class="token function">json</span><span class="token punctuation">(</span>Account account<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> account<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>3.使用@RequestParam注解接收：</strong><br> 每个@RequestParam注解只能获取对应的一个参数，请求的参数和接受参数必须同名，否则无法接受；<br> 前面我们已经看到了，接受单个基本类型值的参数，只要在方法中分别写下对应的参数名，并不需要使用什么注解就能拿到传过来的值，那为什么还有@RequestParam这个注解呢，并且看到很多地方都在用。<br> 其实呢这个注解，有它的用处，并不是一无是处，首先作为基本类型的参数，如果不使用注解，是可传可不传的，如果为null并不会报错，但当你使用了@RequestParam注解，那么此时该参数就是必传的了，如果不传就会报错，然而还是可以通过配置来让其可不必传，如@RequestParam(value=”username”, required=false)，此外，该注解还可以设置如果前台没有传值过来，会给一个默认值，如@RequestParam(value=”username”, defaultValue=”ruo”)。<br> 我对该注解做的总结是：<font color="#0099ff" size="3" face="黑体">如果你某个参数不是必传的，就别用它了，如果是必传的，请一定用上它，如果必传参数可以有默认值的话，还请加上defaultValue默认值；</font></p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"json"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> Account <span class="token function">json</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"username"</span><span class="token punctuation">)</span>String username<span class="token punctuation">,</span> 
	<span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"password"</span><span class="token punctuation">)</span>String password<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	Account account <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	account<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
	account<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> account<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>二、ajax请求如下：<strong>contentType : 'application/json’</strong><br> 注意<font color="#0099ff" size="3" face="黑体">：若设置contentType : ‘application/json’发起请求，data必须将JavaScript对象转换成json字符串，否则后台接收不到参数，导致报错。</font></p> 
<pre><code class="prism language-javascript"><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#submit1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">var</span> json <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
			<span class="token string">'username'</span><span class="token punctuation">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">':input[name=username]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">'password'</span><span class="token punctuation">:</span><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">':input[name=password]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">var</span> postdata <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//JavaScript对象转换json字符串</span>
		<span class="token function">alert</span><span class="token punctuation">(</span>postdata<span class="token punctuation">)</span><span class="token punctuation">;</span>
		$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
			type <span class="token punctuation">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
			contentType <span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span><span class="token comment">//json类型</span>
			<span class="token comment">/**
			  *(默认: true) 默认情况下，通过data选项传递进来的数据，如果是一个对象(技术上讲只要不是字符串)，
			  * 都会处理转化成一个查询字符串，以配合默认内容类型 "application/x-www-form-urlencoded"。
			  * 如果要发送 DOM 树信息或其它不希望转换的信息，请设置为 false。
			 */</span>
			processData <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
			url <span class="token punctuation">:</span> <span class="token string">'${pageContext.request.contextPath}/databind/json'</span><span class="token punctuation">,</span>
			dataType <span class="token punctuation">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
			data <span class="token punctuation">:</span> postdata<span class="token punctuation">,</span>
			success <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'username : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>username<span class="token operator">+</span><span class="token string">'\npassword : '</span><span class="token operator">+</span>data<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			error <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'error...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>后台springmvc接收参数方式如下：<br> <strong>1.使用@RequestBody接收：</strong><br> @RequestBody用于把接收到的JSON、xml数据转化为Pojo对象接收</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"json"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> Account <span class="token function">requestBodyBind</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> Account account<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"requestbodybind:"</span> <span class="token operator">+</span> account<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> account<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>反例：contentType : ‘application/json’发起的请求，我们能不能用如下的方式接收值呢</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"json"</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>RequestMethod<span class="token punctuation">.</span>POST<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token keyword">public</span> Account <span class="token function">json</span><span class="token punctuation">(</span>String username<span class="token punctuation">,</span> String password<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	Account account <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	account<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
	account<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> account<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>答案是不可以的，会抛异常，400 Bad Request<br> 究其原因是：contentType : ‘application/json’数据发送后台接收必须是Modle，不能是单个属性，且必须加上@RequestBody注解。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/467b252d5287d0b0b79c9f59cd7b9c94/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">使用beyond compare4作为Git的比较工具</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c93ee436b261bf96ced4f146a2263193/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">If this view is optional add &#39;@Nullable&#39; (fields) or &#39;@Optional&#39; (methods) annotation</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>