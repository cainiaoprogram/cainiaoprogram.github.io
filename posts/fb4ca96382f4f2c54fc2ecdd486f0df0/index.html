<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据Hadoop(一)：集群搭建--Hadoop3.3.1、CentOS8、HDFS集群、YARN集群最新保姆级教程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="大数据Hadoop(一)：集群搭建--Hadoop3.3.1、CentOS8、HDFS集群、YARN集群最新保姆级教程" />
<meta property="og:description" content="目录 一、安装CentOS8虚拟机二、克隆虚拟机三、修改VMnet8的ip四、修改虚拟机ip（三台机器都做）五、设置主机名 （三台机器都做）六、使用Xshell连接虚拟机七、ssh免密登录（node1做即可）八、时间同步（三台机器都做）九、上传并解压安装包（node1做即可）十、安装JDK（node1做即可）十一、编辑Hadoop配置文件（node1做即可）十二、分发配置十三、启动Hadoop集群十四、访问Hadoop Web UI页面 前言：本教程仅演示快速搭建Hdoop集群，并不对相关知识点与背景进行详细说明，电脑建议16G及以上内存，需要同时开启3台虚拟机，8G内存有点不够使用。
所需工具（提取码：0620 ）：VMware Workstation 16、Centos stream 8、Xshell、nodepad&#43;&#43;（尽管运营者很恶心）、jdk8、hadoop3.3.1。
一、安装CentOS8虚拟机 安装好VMware Workstation 16 后运行并新建虚拟机。选择典型，下一步。选择“安装程序光盘镜像文件”，选择CentOS8镜像文件（iso）所在路径，下一步。设置虚拟机名称为node1，自己设置安装路径，下一步。最大磁盘大小60G，选择虚拟磁盘拆分成多个文件，下一步。自定义硬件，内存设置2G，点击完成。选择第一个，Enter键确认，此时我们在虚拟机内，鼠标无法使用，ctrl&#43;alt返回你的计算机。
设置root密码123456，可以理解为管理员密码，点击2次完成。点击安装目的地，直接点击完成。
开始安装，过程有点漫长。接受许可信息，安装完成后设置自己的用户名和密码。
二、克隆虚拟机 关闭虚拟机，鼠标移动到node1标签，右键&gt;管理&gt;克隆
选择“克隆虚拟机的当前状态”，“创建完整克隆”。克隆两台，分别命名node2、node3。
现在已有三台虚拟机
三、修改VMnet8的ip 确认好vmnet8生成的网关地址。在VMware Workstation顶部菜单栏点击编辑&gt;虚拟网络编辑器&gt;VMnet8&gt;NAT设置。获取网关ip：192.168.179.2，每个人都不同，记住自己的。点击DHCP设置，获取起始ip与结束ip。
2. 在windows任务栏搜索“网络连接”并打开，选择VMnet8，右击&gt;属性&gt;双击Internet协议版本4（tcp/ipv4），IP和DNS都改为手动，默认网关就填上面显示的网关，ip地址前三段与默认网关保持一致，后一段设置为1。DNS填写如图（为了方便）
四、修改虚拟机ip（三台机器都做） IP规划，IP前三段与你自己的网关前三段相同，最后一段分别为10、20、30，后面所有的IP操作都要根据你自己的实际情况设置。
主机名IPnode1192.168.179.10node2192.168.179.20node3192.168.179.30 方式一：命令修改（不太建议）
以虚拟机node1为例，启动虚拟机，点击左上角活动，然后选择终端，在终端输以下命令，获取mac地址，按右键可以在终端粘贴命令。
ifconfig 输入下列命令，并输入密码,ens160是网卡名称，有的是ens33有的是eth0
sudo vim /etc/sysconfig/network-scripts/ifcfg-ens160 按i键进入编辑模式，修改或增加以下内容。此时只能用方向键移动光标。
修改 BOOTPROTO=none ONBOOT=yes 增加 HWADDR=你的mac地址 IPADDR=你想设置的IP地址 PREFIX=24 GATEWAY=你的网关 DNS1=114.114.114.114 DNS2=8.8.8.8 如图所示
修改完毕后先按Esc键，再按英文冒号，输入wq!（英文叹号），强制写入并保存，然后输入reboot重启。
对另外两台虚拟机进行相同操作。
测试是否设置成功：
输入ifconfig查看IP是否和自己设置的一样。
查看火狐浏览器是否能正常上网或终端输入sudo ping www.baidu.com,ctrl&#43;c停止ping，丢包率为0%.
方式二：图形化界面修改
点击活动，进入设置
找到网络，选择有线
点击身份，下拉菜单选择MAC地址
点击IPV4，选择手动，地址填：192.168.179.10，子网掩码：255.255.255.0，网关：192.168.179.2，DNS填114.114.114.114,8.8.8.8。地址、网关根据你自己的进行设置，最后点击应用。
测试是否成功方法与上述相同
五、设置主机名 （三台机器都做） 主机名设置
以node1为例，查看当前主机名，在终端输入hostname
终端输入sudo vim /etc/hostname，按i键进行编辑，删除原内容，添加node1，按Esc键，再按英文冒号，输入wq!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fb4ca96382f4f2c54fc2ecdd486f0df0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-25T09:06:56+08:00" />
<meta property="article:modified_time" content="2022-06-25T09:06:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大数据Hadoop(一)：集群搭建--Hadoop3.3.1、CentOS8、HDFS集群、YARN集群最新保姆级教程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#CentOS8_4" rel="nofollow">一、安装CentOS8虚拟机</a></li><li><a href="#_19" rel="nofollow">二、克隆虚拟机</a></li><li><a href="#VMnet8ip_28" rel="nofollow">三、修改VMnet8的ip</a></li><li><a href="#ip_39" rel="nofollow">四、修改虚拟机ip（三台机器都做）</a></li><li><a href="#__100" rel="nofollow">五、设置主机名 （三台机器都做）</a></li><li><a href="#Xshell_134" rel="nofollow">六、使用Xshell连接虚拟机</a></li><li><a href="#sshnode1_145" rel="nofollow">七、ssh免密登录（node1做即可）</a></li><li><a href="#_153" rel="nofollow">八、时间同步（三台机器都做）</a></li><li><a href="#node1_179" rel="nofollow">九、上传并解压安装包（node1做即可）</a></li><li><a href="#JDKnode1_213" rel="nofollow">十、安装JDK（node1做即可）</a></li><li><a href="#Hadoopnode1_243" rel="nofollow">十一、编辑Hadoop配置文件（node1做即可）</a></li><li><a href="#_384" rel="nofollow">十二、分发配置</a></li><li><a href="#Hadoop_393" rel="nofollow">十三、启动Hadoop集群</a></li><li><a href="#Hadoop_Web_UI_415" rel="nofollow">十四、访问Hadoop Web UI页面</a></li></ul> 
</div> 
<p></p> 
<blockquote> 
 <p>前言：本教程仅演示快速搭建Hdoop集群，并不对相关知识点与背景进行详细说明，电脑建议16G及以上内存，需要同时开启3台虚拟机，8G内存有点不够使用。<br> <a href="https://pan.baidu.com/s/1JtYbNmpL6i-P8BWV_3LEGw" rel="nofollow">所需工具（提取码：0620 ）</a>：VMware Workstation 16、Centos stream 8、Xshell、nodepad++（尽管运营者很恶心）、jdk8、hadoop3.3.1。</p> 
</blockquote> 
<h2><a id="CentOS8_4"></a>一、安装CentOS8虚拟机</h2> 
<ol><li>安装好VMware Workstation 16 后运行并新建虚拟机。</li><li>选择典型，下一步。</li><li>选择“安装程序光盘镜像文件”，选择CentOS8镜像文件（iso）所在路径，下一步。</li><li>设置虚拟机名称为node1，自己设置安装路径，下一步。</li><li>最大磁盘大小60G，选择虚拟磁盘拆分成多个文件，下一步。</li><li>自定义硬件，内存设置2G，点击完成。</li><li>选择第一个，Enter键确认，此时我们在虚拟机内，鼠标无法使用，ctrl+alt返回你的计算机。<br> <img src="https://images2.imgbox.com/aa/78/SBAPCmzJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f8/aa/sQBj336T_o.png" alt="在这里插入图片描述"></li><li>设置root密码123456，可以理解为管理员密码，点击2次完成。点击安装目的地，直接点击完成。<br> <img src="https://images2.imgbox.com/7e/e7/ROzFoZD3_o.png" alt="设置前"><br> <img src="https://images2.imgbox.com/29/f7/nEuZa7zA_o.png" alt="设置后"></li><li>开始安装，过程有点漫长。接受许可信息，安装完成后设置自己的用户名和密码。<br> <img src="https://images2.imgbox.com/e4/e8/5Aqhku1y_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="_19"></a>二、克隆虚拟机</h2> 
<ol><li>关闭虚拟机，鼠标移动到node1标签，右键&gt;管理&gt;克隆<br> <img src="https://images2.imgbox.com/f6/f2/YcT9Ca7a_o.png" alt="在这里插入图片描述"></li><li>选择“克隆虚拟机的当前状态”，“创建完整克隆”。克隆两台，分别命名node2、node3。<br> <img src="https://images2.imgbox.com/5b/f9/4AB6jJsb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3a/05/U9PYLqOY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d5/b0/TevbEvRA_o.png" alt="在这里插入图片描述"></li><li>现在已有三台虚拟机<br> <img src="https://images2.imgbox.com/77/33/aWSU6xlo_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="VMnet8ip_28"></a>三、修改VMnet8的ip</h2> 
<ol><li>确认好vmnet8生成的网关地址。在VMware Workstation顶部菜单栏点击编辑&gt;虚拟网络编辑器&gt;VMnet8&gt;NAT设置。<strong>获取网关ip：192.168.179.2</strong>，每个人都不同，记住自己的。点击DHCP设置，获取起始ip与结束ip。<br> <img src="https://images2.imgbox.com/67/73/ICMn8NHu_o.png" alt="在这里插入图片描述"></li></ol> 
<p><img src="https://images2.imgbox.com/3e/b7/a0H3jusN_o.png" alt="在这里插入图片描述"><br> 2. 在windows任务栏搜索“网络连接”并打开，选择VMnet8，右击&gt;属性&gt;双击Internet协议版本4（tcp/ipv4），<strong>IP和DNS都改为手动，默认网关就填上面显示的网关，ip地址前三段与默认网关保持一致，后一段设置为1。DNS填写如图</strong>（为了方便）<br> <img src="https://images2.imgbox.com/65/af/sAKZm099_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7d/42/aiLOaaas_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/52/67/CkBkdE2m_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="ip_39"></a>四、修改虚拟机ip（三台机器都做）</h2> 
<p><strong>IP规划，IP前三段与你自己的网关前三段相同，最后一段分别为10、20、30</strong>，<code>后面所有的IP操作都要根据你自己的实际情况设置。</code></p> 
<table><thead><tr><th>主机名</th><th>IP</th></tr></thead><tbody><tr><td>node1</td><td>192.168.179.10</td></tr><tr><td>node2</td><td>192.168.179.20</td></tr><tr><td>node3</td><td>192.168.179.30</td></tr></tbody></table> 
<p><strong>方式一：命令修改（不太建议）</strong></p> 
<ol><li> <p>以虚拟机<code>node1</code>为例，启动虚拟机，点击左上角活动，然后选择终端，在终端输以下命令，获取mac地址，按右键可以在终端粘贴命令。</p> <pre><code class="prism language-shell"><span class="token function">ifconfig</span>
</code></pre> <p><img src="https://images2.imgbox.com/9e/ee/I0N6XMFj_o.png" alt="在这里插入图片描述"></p> </li><li> <p>输入下列命令，并输入密码,ens160是网卡名称，有的是ens33有的是eth0</p> <pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/sysconfig/network-scripts/ifcfg-ens160
</code></pre> </li><li> <p>按<code>i</code>键进入<strong>编辑模式</strong>，修改或增加以下内容。此时只能用方向键移动光标。</p> <pre><code class="prism language-shell">修改
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>none
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>yes

增加
<span class="token assign-left variable">HWADDR</span><span class="token operator">=</span>你的mac地址
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span>你想设置的IP地址
<span class="token assign-left variable">PREFIX</span><span class="token operator">=</span><span class="token number">24</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span>你的网关
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">114.114</span>.114.114
<span class="token assign-left variable">DNS2</span><span class="token operator">=</span><span class="token number">8.8</span>.8.8
</code></pre> </li><li> <p>如图所示<br> <img src="https://images2.imgbox.com/cf/d6/Szk5uMoj_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改完毕后先按Esc键，再按英文冒号，输入<code>wq!</code>（英文叹号），强制写入并保存，<code>然后输入reboot重启</code>。</p> </li><li> <p>对另外两台虚拟机进行相同操作。</p> </li></ol> 
<p><strong>测试是否设置成功：</strong></p> 
<ol><li>输入<code>ifconfig</code>查看IP是否和自己设置的一样。<br> <img src="https://images2.imgbox.com/fe/b7/bmgRCJio_o.png" alt="在这里插入图片描述"></li><li>查看火狐浏览器是否能正常上网或终端输入<code>sudo ping www.baidu.com</code>,ctrl+c停止ping，丢包率为0%.<br> <img src="https://images2.imgbox.com/2a/f8/SjREhs2e_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3f/97/yLsRLor7_o.png" alt="在这里插入图片描述"></li></ol> 
<p><strong>方式二：图形化界面修改</strong></p> 
<ol><li>点击活动，进入设置<br> <img src="https://images2.imgbox.com/18/1d/ZT58IVe1_o.png" alt="在这里插入图片描述"></li><li>找到网络，选择有线<br> <img src="https://images2.imgbox.com/9e/f4/xBCUgyGY_o.png" alt="在这里插入图片描述"></li><li>点击身份，下拉菜单选择MAC地址<br> <img src="https://images2.imgbox.com/06/26/3FTMLVOq_o.png" alt="在这里插入图片描述"></li><li>点击IPV4，选择手动，地址填：192.168.179.10，子网掩码：255.255.255.0，网关：192.168.179.2，DNS填<code>114.114.114.114,8.8.8.8</code>。<code>地址、网关</code>根据你自己的进行设置，最后点击应用。<br> <img src="https://images2.imgbox.com/89/65/uRiMPR96_o.png" alt="在这里插入图片描述"></li></ol> 
<p><strong>测试是否成功方法与上述相同</strong></p> 
<h2><a id="__100"></a>五、设置主机名 （三台机器都做）</h2> 
<ul><li> <p><strong>主机名设置</strong></p> 
  <ol><li>以<code>node1</code>为例，查看当前主机名，在终端输入<code>hostname</code><br> <img src="https://images2.imgbox.com/96/11/u8TEIB67_o.png" alt="在这里插入图片描述"></li><li>终端输入<code>sudo vim /etc/hostname</code>，按<code>i</code>键进行编辑，删除原内容，添加<code>node1</code>，按<code>Esc</code>键，再按英文冒号，输入<code>wq!</code>，最后按<code>Enter</code>键，<code>重启生效</code>。<br> <img src="https://images2.imgbox.com/90/59/lcmV7aDI_o.png" alt="在这里插入图片描述"></li><li>输入<code>hostname</code>检测<br> <img src="https://images2.imgbox.com/8e/ca/lBqQsbfW_o.png" alt="在这里插入图片描述"></li></ol> </li><li> <p><strong>hosts映射</strong></p> 
  <ol><li>以<code>node1</code>为例，终端输入命令<code>sudo vim /etc/hosts</code><br> <img src="https://images2.imgbox.com/40/c5/m7HWcf7u_o.png" alt="在这里插入图片描述"></li><li>添加三台机器IP与主机名，保存退出，<code>重启虚拟机使配置生效</code>。（参照下图）<br> <img src="https://images2.imgbox.com/7b/e7/cM5xIXpK_o.png" alt="在这里插入图片描述"></li><li>输入<code>sudo ping node1</code>、<code>sudo ping node2</code>、<code>sudo ping node3</code>均能pign通。CTRL+C结束。丢包率0%。<br> <img src="https://images2.imgbox.com/b5/8a/Co464Rt8_o.png" alt="在这里插入图片描述"></li></ol> </li><li> <p><strong>关闭防火墙</strong></p> 
  <ol><li>关闭防火墙<pre><code class="prism language-shell">systemctl stop firewalld.service   
</code></pre> </li><li>禁止防火墙开启自启<pre><code class="prism language-shell">systemctl disable firewalld.service 
</code></pre> </li><li>查看防火墙状态<pre><code class="prism language-shell">systemctl status firewalld
</code></pre> <img src="https://images2.imgbox.com/b8/c9/TofSPMdL_o.png" alt="在这里插入图片描述"></li></ol> </li></ul> 
<h2><a id="Xshell_134"></a>六、使用Xshell连接虚拟机</h2> 
<ol><li>安装好Xshell过后，打开Xshell，选择新建会话。注意此时确保三台虚拟机都处于开启状态。<br> <img src="https://images2.imgbox.com/af/b4/q5lYlOla_o.png" alt="在这里插入图片描述"></li><li>名称输入node1,主机输入node1或者192.168.179.10（你的第一台主机ip），点击用户身份验证，<code>用户名输入root（方便后面操作,学习用无所谓，真实场景慎用），密码123456</code>，并点击连接。接受并保存主机密钥。<br> <img src="https://images2.imgbox.com/14/44/loFEy1CU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/38/bb/s9z1EMLD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f7/b4/cfQeQMf1_o.png" alt="在这里插入图片描述"></li><li>连接成功样图，<code>将三台虚拟机都连接上</code>。<br> <img src="https://images2.imgbox.com/27/48/qOs1KVEz_o.png" alt="在这里插入图片描述"></li><li>有时会出现找不到刚才配置的会话，点击这里就OK了，完成过后我们的VMware Workstation就可以最小化了，之后的操作都在Xshell上进行。<br> <img src="https://images2.imgbox.com/79/0d/TYm97zY3_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="sshnode1_145"></a>七、ssh免密登录（node1做即可）</h2> 
<ol><li>以<code>node1</code>为例，在Xshell的node1会话中输入<code>ssh-keygen</code>,敲击四个回车<br> <img src="https://images2.imgbox.com/6b/33/JFyd4ydO_o.png" alt="在这里插入图片描述"></li><li>在终端输入<code>ssh-copy-id node1</code>确认，输入yes，第二次输入密码。接着输入<code>ssh-copy-id node2</code>，<code>ssh-copy-id node3</code><br> <img src="https://images2.imgbox.com/cf/af/siKJpC2Z_o.png" alt="在这里插入图片描述"></li><li>在终端分别输入<code>ssh node1</code>、<code>ssh node2</code>、<code>ssh node3</code>，能登录则成功。<code>exit</code>退出登录。<br> <img src="https://images2.imgbox.com/f9/a2/gKd4BCdl_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="_153"></a>八、时间同步（三台机器都做）</h2> 
<ol><li>以<code>node1</code>为例，在<code>node1</code>会话里先后输入以下命令<pre><code class="prism language-shell">yum <span class="token function">install</span> chrony -y   <span class="token comment">#安装chrony</span>
timedatectl set-timezone Asia/Shanghai   <span class="token comment">#修改时区</span>
<span class="token function">vim</span> /etc/chrony.conf   <span class="token comment">#修改chrony.conf文件</span>
pool ntp.aliyun.com iburst   <span class="token comment">#注释第三行，在第四行添加,保存并退出</span>
</code></pre> <img src="https://images2.imgbox.com/99/46/iHR0ez7K_o.png" alt="在这里插入图片描述"></li><li>重启chrony服务<pre><code class="prism language-shell">systemctl restart chronyd
</code></pre> </li><li>时间同步<pre><code class="prism language-shell">chronyc sources -v
</code></pre> <img src="https://images2.imgbox.com/1d/9f/7MNJkq1w_o.png" alt="在这里插入图片描述"></li><li>查看本机时间<pre><code class="prism language-shell">timedatectl
</code></pre> <img src="https://images2.imgbox.com/b2/8f/O6fBOhYR_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="node1_179"></a>九、上传并解压安装包（node1做即可）</h2> 
<ol><li>集群规划。</li></ol> 
<table><thead><tr><th>主机</th><th>IP</th><th>运行角色</th></tr></thead><tbody><tr><td>node1</td><td>192.168.179.10</td><td>namenode、datanode、resourcemanager 、nodemanager</td></tr><tr><td>node2</td><td>192.168.179.20</td><td>secondarynamenode、datanode、nodemanager</td></tr><tr><td>node3</td><td>192.168.179.30</td><td>datanode、nodemanager</td></tr></tbody></table> 
<ol start="2"><li>在Xshell的node1会话里面先后输入以下命令,创建相应文件夹。<pre><code class="prism language-shell"><span class="token function">mkdir</span> -p /export/server/    <span class="token comment">#软件安装路径</span>
<span class="token function">mkdir</span> -p /export/software/  <span class="token comment">#安装包存放路径</span>
</code></pre> </li><li>进入到<code>/export/software/</code>目录下，将下载好的<code> hadoop-3.3.1.tar.gz</code>和<code>jdk-8u321-linux-x64.tar.gz</code>上传。输入<code>ll</code>查看是否上传成功，命令如下<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /export/software   <span class="token comment">#进入该目录</span>
yum -y <span class="token function">install</span> lrzsz   <span class="token comment">#安装lrzsz</span>
rz -E   <span class="token comment">#上传安装包</span>
ll   <span class="token comment">#查看当前文件夹所包含的文件夹及文件</span>
</code></pre> <img src="https://images2.imgbox.com/a6/5d/Gb9anBF8_o.png" alt="在这里插入图片描述"></li><li>输入下列命令，对包进行解压。<pre><code class="prism language-shell"><span class="token function">tar</span> zxvf jdk-8u321-linux-x64.tar.gz -C /export/server/
<span class="token function">tar</span> zxvf hadoop-3.3.1.tar.gz -C /export/server/
</code></pre> </li><li>输入下列命令，前往目录<code>/export/server/</code>，查看是否解压成功<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /export/server
ll
</code></pre> <img src="https://images2.imgbox.com/9e/13/bgrnm3hB_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="JDKnode1_213"></a>十、安装JDK（node1做即可）</h2> 
<ol><li>删除原装jdk，如果没有则跳过。<pre><code class="prism language-shell"><span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">grep</span> java  
</code></pre> <img src="https://images2.imgbox.com/c1/3e/4HwiIFSs_o.png" alt="在这里插入图片描述"><pre><code class="prism language-shell"><span class="token function">rpm</span> -e tzdata-java-2021e-1.el9.noarch javapackages-filesystem-6.0.0-3.el9.noarch java-11-openjdk-headless-11.0.12.0.7-3.el9.x86_64 java-11-openjdk-11.0.12.0.7-3.el9.x86_64 java-11-openjdk-devel-11.0.12.0.7-3.el9.x86_64
</code></pre> </li><li>配置环境变量<pre><code class="prism language-shell"><span class="token function">vim</span> /etc/profile

在最末尾添加
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/export/server/jdk1.8.0_321
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>:<span class="token variable">$JAVA_HOME</span>/bin:<span class="token environment constant">$PATH</span>

</code></pre> <img src="https://images2.imgbox.com/3d/44/AWm9TdWE_o.png" alt="在这里插入图片描述"></li><li>更新profile，使配置生效<pre><code class="prism language-shell"><span class="token builtin class-name">source</span> /etc/profile
</code></pre> </li><li>验证。<pre><code class="prism language-shell">java -version
javac
</code></pre> <img src="https://images2.imgbox.com/98/7d/9G6JQGeU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/40/fc/kI3A7rsG_o.png" alt="在这里插入图片描述"></li></ol> 
<h2><a id="Hadoopnode1_243"></a>十一、编辑Hadoop配置文件（node1做即可）</h2> 
<ol><li> <p>Hadoop安装包目录结构<br> <img src="https://images2.imgbox.com/85/d3/tOV885yp_o.png" alt="在这里插入图片描述"></p> </li><li> <p>在node1中创建用于存放数据的data目录</p> <pre><code class="prism language-shell"><span class="token function">mkdir</span> -p /export/server/hadoop-3.3.1/data/namenode   <span class="token comment">#NameNode数据</span>
<span class="token function">mkdir</span> -p /export/server/hadoop-3.3.1/data/datanode   <span class="token comment">#DataNode数据</span>
</code></pre> </li><li> <p>安装好notepad++后打开，在顶部菜单栏点击插件&gt;插件管理&gt;搜索NppFTP并安装,安装好后点击Show NppFTP window，选择小齿轮，点击第二个，添加新连接。连接成功后双击根目录。在里面前往此目录<code>/export/server/hadoop-3.3.1/etc/hadoop </code><br> <img src="https://images2.imgbox.com/fe/b1/NDaQo4h3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b1/9c/ArBANYT6_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/78/eb/ihrGkcK1_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1a/5d/Bra3jbzz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1f/79/TFXeb7JJ_o.png" alt="在这里插入图片描述"></p> </li><li> <p>修改hadoop-env.sh文件,在第55行添加下列代码并保存。</p> <pre><code class="prism language-shell"><span class="token comment">#配置JAVA_HOME</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">JAVA_HOME</span><span class="token operator">=</span>/export/server/jdk1.8.0_321
<span class="token comment">#设置用户以执行对应角色shell命令</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HDFS_NAMENODE_USER</span><span class="token operator">=</span>root
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HDFS_DATANODE_USER</span><span class="token operator">=</span>root
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HDFS_SECONDARYNAMENODE_USER</span><span class="token operator">=</span>root
<span class="token builtin class-name">export</span> <span class="token assign-left variable">YARN_RESOURCEMANAGER_USER</span><span class="token operator">=</span>root
<span class="token builtin class-name">export</span> <span class="token assign-left variable">YARN_NODEMANAGER_USER</span><span class="token operator">=</span>root 
</code></pre> <p><img src="https://images2.imgbox.com/c6/92/ML1G6o8u_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>修改core-site.xml（配置NameNode），第19行及后面所有代码替换为下列代码并保存。</strong></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 默认文件系统的名称。通过URI中schema区分不同文件系统。--&gt;</span>
	<span class="token comment">&lt;!-- file:///本地文件系统 hdfs:// hadoop分布式文件系统 gfs://。--&gt;</span>
	<span class="token comment">&lt;!-- hdfs文件系统访问地址：http://nn_host:8020。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://node1:8020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	 <span class="token comment">&lt;!-- 在Web UI访问HDFS使用的用户名。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.http.staticuser.user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><img src="https://images2.imgbox.com/e1/58/AlyM8E3d_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>修改hdfs-site.xml文件（配置HDFS路径），第19行及后面所有代码替换为下列代码并保存。</strong></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>node2:9868<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.name.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/export/server/hadoop-3.3.1/data/namenode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>NameNode存储名称空间和事务日志的本地文件系统上的路径<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.datanode.data.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/export/server/hadoop-3.3.1/data/datanode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>DataNode存储名称空间和事务日志的本地文件系统上的路径<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><img src="https://images2.imgbox.com/28/2e/Xzto06E3_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>修改mapred-site.xml文件（配置MapReduce），第19行及后面所有代码替换为下列代码并保存。</strong></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- mr程序默认运行方式。yarn集群模式 local本地模式--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- MR App Master环境变量。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.app.mapreduce.am.env<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>HADOOP_MAPRED_HOME=${HADOOP_HOME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- MR MapTask环境变量。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.map.env<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>HADOOP_MAPRED_HOME=${HADOOP_HOME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- MR ReduceTask环境变量。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.reduce.env<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>HADOOP_MAPRED_HOME=${HADOOP_HOME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><img src="https://images2.imgbox.com/8e/1d/32L7frBf_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>修改yarn-site.xml文件（配置YARN），第15行及后面所有代码替换为下列代码并保存。</strong></p> <pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- yarn集群主角色RM运行机器。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>node1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- NodeManager上运行的附属服务。需配置成mapreduce_shuffle,才可运行MR程序。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 每个容器请求的最小内存资源（以MB为单位）。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.minimum-allocation-mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>512<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 每个容器请求的最大内存资源（以MB为单位）。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.scheduler.maximum-allocation-mb<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>2048<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 容器虚拟内存与物理内存之间的比率。--&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.vmem-pmem-ratio<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p><img src="https://images2.imgbox.com/84/03/SZ4sCiOL_o.png" alt="在这里插入图片描述"></p> </li><li> <p><strong>修改workers文件，删除第一行localhost，然后添加以下三行。</strong></p> <pre><code class="prism language-shell">node1
node2
node3
</code></pre> <p><img src="https://images2.imgbox.com/8a/e9/PrfnJ5SR_o.png" alt="在这里插入图片描述"></p> </li><li> <p>关闭notepad++，进入Xshell的node1会话，在node1上配置Hadoop环境变量。</p> <pre><code class="prism language-shell"><span class="token function">vim</span> /etc/profile
在末尾添加以下内容
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HADOOP_HOME</span><span class="token operator">=</span>/export/server/hadoop-3.3.1
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$HADOOP_HOME</span>/bin:<span class="token variable">$HADOOP_HOME</span>/sbin
</code></pre> <p><img src="https://images2.imgbox.com/a4/10/XytHu5H2_o.png" alt="在这里插入图片描述"></p> </li><li> <p>输入<code>source /etc/profile</code>使配置生效，输入<code>hadoop</code>检验环境变量是否生效。<br> <img src="https://images2.imgbox.com/80/54/6mxk9PuT_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h2><a id="_384"></a>十二、分发配置</h2> 
<ol><li>在<code>node1</code>会话上面输入下列命令，将所有配置复制给node2和node3。<pre><code class="prism language-shell"><span class="token function">scp</span> -r /export node2:/
<span class="token function">scp</span> -r /export node3:/
<span class="token function">scp</span> -r /etc/profile node2:/etc/
<span class="token function">scp</span> -r /etc/profile node3:/etc/
</code></pre> </li><li>在node2和node3上分别执行<code>source /etc/profile</code>，使配置生效。并输入<code>hadoop</code>检验环境变量是否生效。</li></ol> 
<h2><a id="Hadoop_393"></a>十三、启动Hadoop集群</h2> 
<ol><li> <p>格式化HDFS，<code>首次启动HDFS时，必须对其进行格式化操作</code>。本质上是一些清理和准备工作，因为此时的HDFS在物理上还是不存在的。</p> <pre><code class="prism language-shell">hdfs namenode -format itcast-hadoop
</code></pre> <p><img src="https://images2.imgbox.com/c4/9b/OzXhvHyB_o.png" alt="在这里插入图片描述"></p> </li><li> <p>在<code>node1</code>中输入命令<code>ll /export/server/hadoop-3.3.1/data/namenode/current</code>，查看是否格式化成功。<br> <img src="https://images2.imgbox.com/39/72/65aIOVI1_o.png" alt="在这里插入图片描述"></p> </li><li> <p>一键启动Hadoop集群</p> <pre><code class="prism language-shell">start-all.sh   <span class="token comment">#启动</span>
stop-all.sh   <span class="token comment">#停止</span>
</code></pre> <p><img src="https://images2.imgbox.com/38/b3/GUpBbCa1_o.png" alt="在这里插入图片描述"></p> </li><li> <p>检测是否启动成功，在三个节点分别输入命令<code>jps</code>。与下图相同则启动成功，进程分别是5个、4个、3个。<br> <img src="https://images2.imgbox.com/ad/b7/7BlL8NYz_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/97/ea/rwOP8zeZ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d6/8f/tsiqXdQ0_o.png" alt="在这里插入图片描述"></p> </li><li> <p>输入<code>ll /export/server/hadoop-3.3.1/logs/</code>查看启动日志。<br> <img src="https://images2.imgbox.com/b1/87/j8SFUQoO_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h2><a id="Hadoop_Web_UI_415"></a>十四、访问Hadoop Web UI页面</h2> 
<ol><li>在浏览器访问<a href="http://node1:9870" rel="nofollow">http://node1:9870</a>，访问Hadoop Web UI页面-HDFS集群，点击顶部菜单栏的Datanodes，会看到三个节点均已启动。<br> <img src="https://images2.imgbox.com/32/8a/ZSGC0b10_o.png" alt="在这里插入图片描述"></li><li>在浏览器访问<a href="http://node1:8088" rel="nofollow">http://node1:8088</a>，访问Hadoop Web UI页面-YARN集群<br> <img src="https://images2.imgbox.com/9e/a7/u0X3Kf1y_o.png" alt="在这里插入图片描述"></li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/310e9265e03646a8203a03d1fc9abfae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">贝叶斯网络详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/69f7c3ca19b87167a5b9813acff6bc71/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一、python基础入门4-简单数据类型转换</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>