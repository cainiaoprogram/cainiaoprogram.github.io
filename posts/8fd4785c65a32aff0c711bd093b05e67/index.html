<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue 自定义仿word表单录入之日期输入组件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue 自定义仿word表单录入之日期输入组件" />
<meta property="og:description" content="因项目需要，要实现仿word方式录入数据，要实现鼠标经过时才显示编辑组件，预览及离开后则显示具体的文字。
鼠标经过时显示
正常显示及离开时显示
组件代码
&lt;template &gt; &lt;div class=&#34;paper-input flex flex-col border-box &#34; &gt; &lt;div class=&#34;font-l border-box text margin-left-m text&#34; style=&#34;font-family: FangSong;&#34;&gt;{{text}}&lt;/div&gt; &lt;div class=&#34;flex flex-col input hidden&#34;&gt; &lt;input type=&#34;text&#34; v-model=&#34;value1&#34; maxlength=&#34;4&#34; ref=&#34;date1&#34; @input=&#34;changeToNext1(value1)&#34;/&gt; 年 &lt;input type=&#34;text&#34; v-model=&#34;value2&#34; maxlength=&#34;2&#34; ref=&#34;date2&#34; @input=&#34;changeToNext2(value2)&#34;/&gt; 月 &lt;input type=&#34;text&#34; v-model=&#34;value3&#34; maxlength=&#34;2&#34; ref=&#34;date3&#34; @input=&#34;changeToNext3(value3)&#34;/&gt; 日 &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default{ name:&#39;PagerInput&#39;, data() { return { val:&#34;&#34;, text:&#34;年 月 日&#34;, value1:&#34;&#34;, value2:&#34;&#34;, value3:&#34;&#34;, } }, props: { value:{} }, model: { prop: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8fd4785c65a32aff0c711bd093b05e67/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T22:06:09+08:00" />
<meta property="article:modified_time" content="2024-01-10T22:06:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue 自定义仿word表单录入之日期输入组件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>因项目需要，要实现仿word方式录入数据，要实现鼠标经过时才显示编辑组件，预览及离开后则显示具体的文字。</p> 
<p>鼠标经过时显示</p> 
<p><img alt="" height="428" src="https://images2.imgbox.com/50/c1/wsrA3qWc_o.png" width="1200"></p> 
<p>正常显示及离开时显示</p> 
<p><img alt="" height="428" src="https://images2.imgbox.com/63/57/q9bMFTza_o.png" width="1200"> 组件代码</p> 
<pre><code class="language-javascript">&lt;template &gt;
    &lt;div class="paper-input flex flex-col border-box "   &gt;
        &lt;div  class="font-l border-box text margin-left-m text" style="font-family: FangSong;"&gt;{<!-- -->{text}}&lt;/div&gt;
        &lt;div class="flex flex-col  input hidden"&gt;
            &lt;input type="text" v-model="value1" maxlength="4" ref="date1"   @input="changeToNext1(value1)"/&gt;
            年
            &lt;input type="text" v-model="value2" maxlength="2" ref="date2"  @input="changeToNext2(value2)"/&gt;
            月
            &lt;input type="text" v-model="value3" maxlength="2" ref="date3"  @input="changeToNext3(value3)"/&gt;
            日
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    export default{
        name:'PagerInput',
        data() {
            return {
                val:"",
                text:"年  月  日",
                value1:"",
                value2:"",
                value3:"",
            }
        },
        props: {
            value:{}
        },
        model: {
            prop: "value",
            event: "change"
        },
        watch:{
            value:{
                handler(newValue) {
                    if (newValue != null &amp;&amp; newValue.length &gt;0) {
                        let arr = newValue.split("-")
                        if ( arr.length === 3 ) {
                            this.value1 = arr[0]
                            this.value2 = arr[1]
                            this.value3 = arr[2]
                            this.setText();
                        }
                    }

                    this.val =  newValue;
                    
                },
                immediate: true,
                deep: true   //深度监听                
            },
        },
        methods:{
            changeToNext1(v) {
                if (v.toString().length === 4) {
                    this.$nextTick(() =&gt; {
                    this.$refs.date2.focus();
                    });
                }
                this.setText();
                this.setValue();
            },
            changeToNext2(v) {
                if (v.toString().length === 2) {
                    this.$nextTick(() =&gt; {
                    this.$refs.date3.focus();
                    });
                }
                this.setText();
                this.setValue();
            },
            changeToNext3(v) {
                this.setText();
                this.setValue();
            },
            setValue() {
                this.$emit("change", this.value1 + "-" + this.value2 + "-" + this.value3 );
            },
            setText() {
                this.text = this.value1 + "年" + this.value2 + "月" + this.value3 + "日"
            }

        }
    }
&lt;/script&gt;

&lt;style scoped&gt;

    .paper-input:hover .text   {
        display: none;
    }
 
    .paper-input:hover .textplus   {
        display: none;
    }
    .paper-input:hover .input   {
        display: block;
    }
    .paper-input input {
        width: 50px;
    }

    


&lt;/style&gt;</code></pre> 
<p>引用组件，支持数据双向绑定</p> 
<pre><code class="language-javascript"> &lt;PaperDateInput v-model="paperData.protocolTime" &gt;&lt;/PaperDateInput&gt;</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8d37991161ccd7e6a786344ecc5ce2f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于java的企业快信系统设计与实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/23bd1642f2d0ec5225279ec0d34d7deb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">我的 AI 成长星球，邀请你加入</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>