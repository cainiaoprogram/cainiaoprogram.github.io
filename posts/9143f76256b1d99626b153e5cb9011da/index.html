<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VMware虚拟机如何设置CentOS 7 磁盘扩容？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="VMware虚拟机如何设置CentOS 7 磁盘扩容？" />
<meta property="og:description" content="转载自：https://www.cnblogs.com/friendwang1001/p/15725732.html
步骤一：虚拟机扩展磁盘容量 1、首先，打开已经安装好的虚拟机，选择需要扩展磁盘的虚拟机，点击设备中的“硬盘”。如图： 2、接着，进入虚拟机设置界面，在界面的右侧选择“扩展”。如图： 3、接着，在弹出的扩展磁盘容量中，输入需要扩展磁盘的大小，完成后点击“确定”。如图： 4、接着，等待系统自动扩展完成，在弹出的对话框中选择“确定”，这样虚拟机的磁盘就扩展完成了。如图： 5、接着，回到虚拟机设置界面，点击下方的“确定”保存刚设置的参数。如图： 6、这样，虚拟机扩展磁盘容量步骤就完成了，接下来进入centos扩展磁盘容量。 步骤二：在centos 7 系统中挂载磁盘 1、首先，开机启动虚拟机，进入centos 7系统中，打开终端，在终端界面中输入“# df -h”命令，并回车，在终端界面中可以看到原本30G的磁盘，并未扩容。如图： 2、接着，在终端界面中输入“# fdisk -l”命令，查看新磁盘的分区信息。如![在这里插入图片描述] 3、接着，在终端界面中输入“# fdisk /dev/sda”命令，对新加的磁盘进行分区操作（选择新增的磁盘），并回车。如图： 4、接着，在终端命令中，输入“p”命令，回车，查看已分区的数量。如图： 5、接着，在终端命令中，输入“n”命令，回车，新增一个分区。如图： 6、接着，在终端命令窗口中输入“p”命令,回车，在打开的分区号命中使用默认的分区号，并回车。如图： 7、接着，在显示的起始扇区直接敲回车键，在弹出的Last后面中，直接敲回车键即可进入下一步（在如图画框位置直接使用回车即可进入下一步）。如图： 8、接着，继续在终端命令窗口中输入“p”回车，查看当前分区的信息，在显示的信息中就可以看到已经多了一个新的分区了，大小就是刚设置的大小。如图： 9、接着，在终端命令中输入“w”命令，回车，写入磁盘信息并保存。如图： 10、接着，在终端命令窗口中，输入“# reboot”回车，重启虚拟机格式化新建分区。如图： 11、接着，等待系统自动重启完成后，打开终端命令，在命令窗口中输入“# vgdisplay”，查看磁盘卷组名。如图： 12、接着，在终端命令窗口中输入“# pvcreate /dev/sda3”命令并回车，初始化刚建立的分区。如图： 13、接着，在终端命令窗口中输入“# vgextend centos /dev/sda3”命令并回车，把刚初始化的分区加入到虚拟卷组名中（命令：# vgextend 虚拟卷组名 新增的分区）。如图： 14、接着，继续在终端命令窗口中输入“# vgdisplay”命令，查看卷组的详细信息，在详细信息中可以看到刚增加的10G空间还是处于空闲的状态。如图： 15、接着，继续在终端命令窗口中输入“# df -h”命令并回车，查看并记下需要扩展的文件系统名（小编这边查看到的系统名是：/dev/mapper/centos-root，不同版本查看到的应该有所区别，大家应该注意区分）。如图： 16、接着，继续在终端命令窗口中输入“# lvextend -L &#43;9G /dev/mapper/centos-root”命令并回车，扩容已有的卷组容量（注意：如果您扩容的是10G，这里10G就不能全部扩展，只能扩展比10G小的容量，不然系统会报错导致扩容失败，小编这里只扩容9G。命令：# lvextend -L &#43;需要扩展的容量 需要扩展的文件系统名，需要注意命令中区分字母的大小写）。如图： 17、接着，继续在终端命令窗口中输入“# pvdisplay”命令并回车，查看当前的卷组，在显示的信息中卷组已经扩容成功了，接下来需要将文件系统也扩容。如图： 18、接着，继续在终端命令窗口中输入“# cat /etc/fstab | grep centos-root”命令并回车，查看文件系统的格式。如图： 19、接着，在上一步已经看到了文件系统的格式了，就需要使用相应的命令来扩展磁盘空间，在终端命令中输入“# xfs_growfs /dev/mapper/centos-root”命令并回车（命令：# xfs_growfs 文件系统名，不同的文件系统要用不同的命令，不然会导致报错）。如图： 20、接着，等待系统自动扩容完成，完成后，在终端命令窗口中输入“# df -h”命令并回车，查看磁盘大小是否扩容成功，在显示的磁盘信息中，可以看到磁盘扩容成功了。如图： 21、至此，VMware虚拟机如何设置CentOS 7 磁盘扩容教程分享结束。 转载自：https://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9143f76256b1d99626b153e5cb9011da/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-07T11:05:46+08:00" />
<meta property="article:modified_time" content="2023-04-07T11:05:46+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">VMware虚拟机如何设置CentOS 7 磁盘扩容？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>转载自：<a href="https://www.cnblogs.com/friendwang1001/p/15725732.html" rel="nofollow">https://www.cnblogs.com/friendwang1001/p/15725732.html</a></p> 
<h2><a id="_2"></a>步骤一：虚拟机扩展磁盘容量</h2> 
<h3><a id="1_3"></a>1、首先，打开已经安装好的虚拟机，选择需要扩展磁盘的虚拟机，点击设备中的“硬盘”。如图：</h3> 
<p><img src="https://images2.imgbox.com/a9/80/a68aUs2F_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_5"></a>2、接着，进入虚拟机设置界面，在界面的右侧选择“扩展”。如图：</h3> 
<p><img src="https://images2.imgbox.com/cb/5e/Ka6y30IO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_7"></a>3、接着，在弹出的扩展磁盘容量中，输入需要扩展磁盘的大小，完成后点击“确定”。如图：</h3> 
<p><img src="https://images2.imgbox.com/e2/40/DlNZoIIC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_9"></a>4、接着，等待系统自动扩展完成，在弹出的对话框中选择“确定”，这样虚拟机的磁盘就扩展完成了。如图：</h3> 
<p><img src="https://images2.imgbox.com/0d/83/ebLZFr1u_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_12"></a>5、接着，回到虚拟机设置界面，点击下方的“确定”保存刚设置的参数。如图：</h3> 
<p><img src="https://images2.imgbox.com/06/fd/AGbE4aOI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6centos_15"></a>6、这样，虚拟机扩展磁盘容量步骤就完成了，接下来进入centos扩展磁盘容量。</h3> 
<h2><a id="centos_7__16"></a>步骤二：在centos 7 系统中挂载磁盘</h2> 
<h3><a id="1centos_7_df_h30G_17"></a>1、首先，开机启动虚拟机，进入centos 7系统中，打开终端，在终端界面中输入“# df -h”命令，并回车，在终端界面中可以看到原本30G的磁盘，并未扩容。如图：</h3> 
<h3><a id="2_fdisk_l_18"></a>2、接着，在终端界面中输入“# fdisk -l”命令，查看新磁盘的分区信息。如![在这里插入图片描述]</h3> 
<p><img src="https://images2.imgbox.com/07/fc/kCCoSM2I_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1b/0d/QN6K8CFS_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_fdisk__devsda_23"></a>3、接着，在终端界面中输入“# fdisk /dev/sda”命令，对新加的磁盘进行分区操作（选择新增的磁盘），并回车。如图：</h3> 
<p><img src="https://images2.imgbox.com/f4/87/E9hR2LGb_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4p_25"></a>4、接着，在终端命令中，输入“p”命令，回车，查看已分区的数量。如图：</h3> 
<p><img src="https://images2.imgbox.com/fe/4e/IYnRWgJG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5n_27"></a>5、接着，在终端命令中，输入“n”命令，回车，新增一个分区。如图：</h3> 
<p><img src="https://images2.imgbox.com/5f/46/EZuqHie7_o.png" alt="VMware虚拟机如何设置CentOS 7 磁盘扩容？"></p> 
<h3><a id="6p_31"></a>6、接着，在终端命令窗口中输入“p”命令,回车，在打开的分区号命中使用默认的分区号，并回车。如图：</h3> 
<p><img src="https://images2.imgbox.com/86/ad/eArSGhW5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7Last_33"></a>7、接着，在显示的起始扇区直接敲回车键，在弹出的Last后面中，直接敲回车键即可进入下一步（在如图画框位置直接使用回车即可进入下一步）。如图：</h3> 
<p><img src="https://images2.imgbox.com/92/cb/Kbk9zt5e_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8p_35"></a>8、接着，继续在终端命令窗口中输入“p”回车，查看当前分区的信息，在显示的信息中就可以看到已经多了一个新的分区了，大小就是刚设置的大小。如图：</h3> 
<p><img src="https://images2.imgbox.com/6b/52/vspOfkxC_o.png" alt=""><br> <img src="https://images2.imgbox.com/5a/34/eAtpufmA_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="9w_40"></a>9、接着，在终端命令中输入“w”命令，回车，写入磁盘信息并保存。如图：</h3> 
<p><img src="https://images2.imgbox.com/f6/40/zd9qdeeD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/11/e0/bzu5A2GI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="10_reboot_45"></a>10、接着，在终端命令窗口中，输入“# reboot”回车，重启虚拟机格式化新建分区。如图：</h3> 
<p><img src="https://images2.imgbox.com/7d/e3/2vggqG96_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="11_vgdisplay_48"></a>11、接着，等待系统自动重启完成后，打开终端命令，在命令窗口中输入“# vgdisplay”，查看磁盘卷组名。如图：</h3> 
<p><img src="https://images2.imgbox.com/ba/ee/WuNO2mkS_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ef/10/lPrSpTE1_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12_pvcreate__devsda3_53"></a>12、接着，在终端命令窗口中输入“# pvcreate /dev/sda3”命令并回车，初始化刚建立的分区。如图：</h3> 
<p><img src="https://images2.imgbox.com/13/00/EbLcyR9m_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="13_vgextend_centos_devsda3_vgextend___56"></a>13、接着，在终端命令窗口中输入“# vgextend centos /dev/sda3”命令并回车，把刚初始化的分区加入到虚拟卷组名中（命令：# vgextend 虚拟卷组名 新增的分区）。如图：</h3> 
<p><img src="https://images2.imgbox.com/59/52/pMMLplGz_o.png" alt=""><br> <img src="https://images2.imgbox.com/a1/58/BV0WMOg0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="14_vgdisplay10G_63"></a>14、接着，继续在终端命令窗口中输入“# vgdisplay”命令，查看卷组的详细信息，在详细信息中可以看到刚增加的10G空间还是处于空闲的状态。如图：</h3> 
<p><img src="https://images2.imgbox.com/a0/75/thRpOdem_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e8/4a/QS9NlrXH_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="15_df_hfont_colorreddevmappercentosrootfont_66"></a>15、接着，继续在终端命令窗口中输入“# df -h”命令并回车，<font color="red">查看并记下需要扩展的文件系统名（小编这边查看到的系统名是：/dev/mapper/centos-root，不同版本查看到的应该有所区别，大家应该注意区分）</font>。如图：</h3> 
<p><img src="https://images2.imgbox.com/69/5b/bMWvt4KW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="16_lvextend_L_9G_devmappercentosroot10G10G10G9G_lvextend_L___68"></a>16、接着，继续在终端命令窗口中输入“# lvextend -L +9G /dev/mapper/centos-root”命令并回车，扩容已有的卷组容量（注意：如果您扩容的是10G，这里10G就不能全部扩展，只能扩展比10G小的容量，不然系统会报错导致扩容失败，小编这里只扩容9G。命令：# lvextend -L +需要扩展的容量 需要扩展的文件系统名，需要注意命令中区分字母的大小写）。如图：</h3> 
<p><img src="https://images2.imgbox.com/fd/89/eL7h2sZ7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ce/23/0NQISQx9_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="17_pvdisplay_72"></a>17、接着，继续在终端命令窗口中输入“# pvdisplay”命令并回车，查看当前的卷组，在显示的信息中卷组已经扩容成功了，接下来需要将文件系统也扩容。如图：</h3> 
<p><img src="https://images2.imgbox.com/cf/e3/MOkzPk8i_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="18_cat_etcfstab__grep_centosroot_77"></a>18、接着，继续在终端命令窗口中输入“# cat /etc/fstab | grep centos-root”命令并回车，查看文件系统的格式。如图：</h3> 
<p><img src="https://images2.imgbox.com/43/e8/1ZX9eKqO_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="19_xfs_growfs_devmappercentosroot_xfs_growfs__80"></a>19、接着，在上一步已经看到了文件系统的格式了，就需要使用相应的命令来扩展磁盘空间，在终端命令中输入“# xfs_growfs /dev/mapper/centos-root”命令并回车（命令：# xfs_growfs 文件系统名，不同的文件系统要用不同的命令，不然会导致报错）。如图：</h3> 
<p><img src="https://images2.imgbox.com/3f/61/QWcRZ58U_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="20_df_h_84"></a>20、接着，等待系统自动扩容完成，完成后，在终端命令窗口中输入“# df -h”命令并回车，查看磁盘大小是否扩容成功，在显示的磁盘信息中，可以看到磁盘扩容成功了。如图：</h3> 
<p><img src="https://images2.imgbox.com/65/69/7Vq3XaJD_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="21VMwareCentOS_7__86"></a>21、至此，VMware虚拟机如何设置CentOS 7 磁盘扩容教程分享结束。</h3> 
<p><font color="red">转载自：https://www.cnblogs.com/friendwang1001/p/15725732.html</font></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/64295461a958de5416d9c7f8778c2248/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【汇总版】计算机组成原理思维导图</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a7b621ebd9ecd8726bdaa77f9dead52b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装Docker</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>