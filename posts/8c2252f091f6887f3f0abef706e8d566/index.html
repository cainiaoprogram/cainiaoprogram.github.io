<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript 读取Cookie - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaScript 读取Cookie" />
<meta property="og:description" content="读取Cookie 可以通过document.cookie直接读取cookie的内容：
var strCookie = document.cookie; 此时，strCookie是一个由该域名下的所有cookie的名/值对所组成的字符串，名/值对间以“分号加空格”分隔。为了方便查看，可以使用split()方法将cookie中的名/值对解析出来，得到一个cookie的列表。然后，再使用相应的解码方式，把cookie的值还原出来。
cookie值的解码方式，取决于之前存储cookie时所采用的编码方式。比如使用encodeComponent()函数对值进行编码，则要使用decodeComponent()函数对其值进行解码。代码如下：
function getCookie(name) { var cookies = document.cookie; var list = cookies.split(&#34;; &#34;); // 解析出名/值对列表 for(var i = 0; i &lt; list.length; i&#43;&#43;) { var arr = list[i].split(&#34;=&#34;); // 解析出名和值 if(arr[0] == name) return decodeURIComponent(arr[1]); // 对cookie值解码 } return &#34;&#34;;} 说明：
许多浏览器（如Google Chrome）不支持在本地文件中直接访问cookie，所以，要确保是在Web服务器中打开文件，否则可能无法进行cookie的读写操作。虽然IE允许对本地文件的cookie的读写操作，但cookie始终是会话级别的，即使通过max-age属性延长了cookie的生存期。
从客户端读取cookie时，name与value之外的其他属性都是不可读的，也不会被提交，浏览器只会提交name与value属性。
关于作者
歪脖先生，十五年以上软件开发经验，酷爱Web开发，精通 HTML、CSS、JavaScript、jQuery、JSON、Python、Less、Bootstrap等，著有《HTML宝典》、《揭秘CSS》、《Less简明教程》、《JSON教程》、《Bootstrap2用户指南》，并全部在 GitHub 上开源。
版权声明：本文出自 歪脖网 的《HTML宝典》，欢迎在线阅读，并提出宝贵意见。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8c2252f091f6887f3f0abef706e8d566/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-04-26T22:18:04+08:00" />
<meta property="article:modified_time" content="2018-04-26T22:18:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript 读取Cookie</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 style="margin-top:0px;margin-bottom:0px;font-family:Helvetica, Arial, SimSun, sans-serif;line-height:1;color:rgb(76,76,76);font-size:1.2em;padding:0px;letter-spacing:1px;background-color:rgb(255,255,255);">读取Cookie</h4> 
<p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;color:rgb(76,76,76);font-family:Helvetica, Arial, SimSun, sans-serif;font-size:15px;letter-spacing:1.39999997615814px;background-color:rgb(255,255,255);">可以通过document.cookie直接读取cookie的内容：</p> 
<pre class="prettyprint linenums" style="padding-right:8px;padding-bottom:8px;padding-left:8px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;color:rgb(51,51,51);margin-bottom:20px;white-space:pre-wrap;border:1px solid rgb(245,245,245);letter-spacing:1.39999997615814px;background:rgb(255,255,255);"></pre> 
<ol class="linenums" style="margin-bottom:0px;margin-left:41px;"><li class="L0" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="kwd" style="color:rgb(30,52,123);">var</span><span class="pln" style="color:rgb(72,72,76);"> strCookie </span><span class="pun" style="color:rgb(147,161,161);">=</span><span class="pln" style="color:rgb(72,72,76);"> document</span><span class="pun" style="color:rgb(147,161,161);">.</span><span class="pln" style="color:rgb(72,72,76);">cookie</span><span class="pun" style="color:rgb(147,161,161);">;</span><span class="pln" style="color:rgb(72,72,76);"> </span></code></li></ol> 
<p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;color:rgb(76,76,76);font-family:Helvetica, Arial, SimSun, sans-serif;font-size:15px;letter-spacing:1.39999997615814px;background-color:rgb(255,255,255);">此时，strCookie是一个由该域名下的所有cookie的名/值对所组成的字符串，名/值对间以“分号加空格”分隔。为了方便查看，可以使用split()方法将cookie中的名/值对解析出来，得到一个cookie的列表。然后，再使用相应的解码方式，把cookie的值还原出来。</p> 
<p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;color:rgb(76,76,76);font-family:Helvetica, Arial, SimSun, sans-serif;font-size:15px;letter-spacing:1.39999997615814px;background-color:rgb(255,255,255);">cookie值的解码方式，取决于之前存储cookie时所采用的编码方式。比如使用encodeComponent()函数对值进行编码，则要使用decodeComponent()函数对其值进行解码。代码如下：</p> 
<pre class="prettyprint linenums" style="padding-right:8px;padding-bottom:8px;padding-left:8px;font-family:Monaco, Menlo, Consolas, 'Courier New', monospace;font-size:13px;color:rgb(51,51,51);margin-bottom:20px;white-space:pre-wrap;border:1px solid rgb(245,245,245);letter-spacing:1.39999997615814px;background:rgb(255,255,255);"></pre> 
<ol class="linenums" style="margin-bottom:0px;margin-left:41px;"><li class="L0" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="kwd" style="color:rgb(30,52,123);">function</span><span class="pln" style="color:rgb(72,72,76);"> getCookie</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="pln" style="color:rgb(72,72,76);">name</span><span class="pun" style="color:rgb(147,161,161);">)</span><span class="pln" style="color:rgb(72,72,76);"> </span><span class="pun" style="color:rgb(147,161,161);">{<!-- --></span></code></li><li class="L1" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">var</span><span class="pln" style="color:rgb(72,72,76);"> cookies </span><span class="pun" style="color:rgb(147,161,161);">=</span><span class="pln" style="color:rgb(72,72,76);"> document</span><span class="pun" style="color:rgb(147,161,161);">.</span><span class="pln" style="color:rgb(72,72,76);">cookie</span><span class="pun" style="color:rgb(147,161,161);">;</span></code></li><li class="L2" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">var</span><span class="pln" style="color:rgb(72,72,76);"> list </span><span class="pun" style="color:rgb(147,161,161);">=</span><span class="pln" style="color:rgb(72,72,76);"> cookies</span><span class="pun" style="color:rgb(147,161,161);">.</span><span class="pln" style="color:rgb(72,72,76);">split</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="str" style="color:rgb(221,17,68);">"; "</span><span class="pun" style="color:rgb(147,161,161);">);</span><span class="pln" style="color:rgb(72,72,76);">     </span><span class="com" style="color:rgb(147,161,161);">// 解析出名/值对列表</span></code></li><li class="L3" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);">      </span></code></li><li class="L4" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">for</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="kwd" style="color:rgb(30,52,123);">var</span><span class="pln" style="color:rgb(72,72,76);"> i </span><span class="pun" style="color:rgb(147,161,161);">=</span><span class="pln" style="color:rgb(72,72,76);"> </span><span class="lit" style="color:rgb(25,95,145);">0</span><span class="pun" style="color:rgb(147,161,161);">;</span><span class="pln" style="color:rgb(72,72,76);"> i </span><span class="pun" style="color:rgb(147,161,161);">&lt;</span><span class="pln" style="color:rgb(72,72,76);"> list</span><span class="pun" style="color:rgb(147,161,161);">.</span><span class="pln" style="color:rgb(72,72,76);">length</span><span class="pun" style="color:rgb(147,161,161);">;</span><span class="pln" style="color:rgb(72,72,76);"> i</span><span class="pun" style="color:rgb(147,161,161);">++)</span><span class="pln" style="color:rgb(72,72,76);"> </span><span class="pun" style="color:rgb(147,161,161);">{<!-- --></span></code></li><li class="L5" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">var</span><span class="pln" style="color:rgb(72,72,76);"> arr </span><span class="pun" style="color:rgb(147,161,161);">=</span><span class="pln" style="color:rgb(72,72,76);"> list</span><span class="pun" style="color:rgb(147,161,161);">[</span><span class="pln" style="color:rgb(72,72,76);">i</span><span class="pun" style="color:rgb(147,161,161);">].</span><span class="pln" style="color:rgb(72,72,76);">split</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="str" style="color:rgb(221,17,68);">"="</span><span class="pun" style="color:rgb(147,161,161);">);</span><span class="pln" style="color:rgb(72,72,76);">   </span><span class="com" style="color:rgb(147,161,161);">// 解析出名和值</span></code></li><li class="L6" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">if</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="pln" style="color:rgb(72,72,76);">arr</span><span class="pun" style="color:rgb(147,161,161);">[</span><span class="lit" style="color:rgb(25,95,145);">0</span><span class="pun" style="color:rgb(147,161,161);">]</span><span class="pln" style="color:rgb(72,72,76);"> </span><span class="pun" style="color:rgb(147,161,161);">==</span><span class="pln" style="color:rgb(72,72,76);"> name</span><span class="pun" style="color:rgb(147,161,161);">)</span></code></li><li class="L7" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">return</span><span class="pln" style="color:rgb(72,72,76);"> decodeURIComponent</span><span class="pun" style="color:rgb(147,161,161);">(</span><span class="pln" style="color:rgb(72,72,76);">arr</span><span class="pun" style="color:rgb(147,161,161);">[</span><span class="lit" style="color:rgb(25,95,145);">1</span><span class="pun" style="color:rgb(147,161,161);">]);</span><span class="pln" style="color:rgb(72,72,76);">   </span><span class="com" style="color:rgb(147,161,161);">// 对cookie值解码</span></code></li><li class="L8" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="pun" style="color:rgb(147,161,161);">}</span><span class="pln" style="color:rgb(72,72,76);"> </span></code></li><li class="L9" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pln" style="color:rgb(72,72,76);"> </span><span class="kwd" style="color:rgb(30,52,123);">return</span><span class="pln" style="color:rgb(72,72,76);"> </span><span class="str" style="color:rgb(221,17,68);">""</span><span class="pun" style="color:rgb(147,161,161);">;</span></code></li><li class="L0" style="color:rgb(190,190,197);margin:3px 0px;padding-left:12px;"><code style="padding:3px 5px;font-family:'Roboto Mono', Monaco, courier, monospace;font-size:1.06em;color:rgb(233,105,0);white-space:pre-wrap;border:none;margin:0px 2px;background-color:transparent;"><span class="pun" style="color:rgb(147,161,161);">}</span></code></li></ol> 
<p class="note" style='margin:6px 2em -12px;padding-left:.5em;line-height:2em;white-space:pre-wrap;text-indent:28px;font-family:Verdana, SimHei;font-size:18px;font-weight:800;background:url("http://www.waibo.wang/img/note.png") no-repeat 0% 6px;'>说明：</p> 
<p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;font-family:Arial, 'KaiTi_GB2312', STKaiti;">许多浏览器（如Google Chrome）不支持在本地文件中直接访问cookie，所以，要确保是在Web服务器中打开文件，否则可能无法进行cookie的读写操作。虽然IE允许对本地文件的cookie的读写操作，但cookie始终是会话级别的，即使通过max-age属性延长了cookie的生存期。</p> 
<p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;font-family:Arial, 'KaiTi_GB2312', STKaiti;">从客户端读取cookie时，name与value之外的其他属性都是不可读的，也不会被提交，浏览器只会提交name与value属性。</p> 
<div class="author" style="margin:30px auto;color:rgb(76,76,76);font-family:Helvetica, Arial, SimSun, sans-serif;font-size:15px;letter-spacing:1.39999997615814px;line-height:15px;background-color:rgb(255,255,255);"> 
 <p class="about" style="margin-top:1em;margin-bottom:1em;line-height:1;white-space:pre-wrap;color:rgb(85,85,85);font-family:'Microsoft YaHei';font-weight:700;">关于作者</p> 
 <p style="margin-top:1em;margin-bottom:1em;line-height:2em;white-space:pre-wrap;text-indent:28px;color:rgb(85,85,85);font-size:13px;font-family:'Microsoft YaHei';"><a href="https://weibo.com/leiqikui" rel="nofollow" style="color:#800080;">歪脖先生</a>，十五年以上软件开发经验，酷爱Web开发，精通 HTML、CSS、JavaScript、jQuery、JSON、Python、Less、Bootstrap等，著有《<a href="http://www.waibo.wang/bible/html5/" rel="nofollow" style="color:#800080;">HTML宝典</a>》、《<a href="http://www.waibo.wang/bible/css3/" rel="nofollow" style="color:#800080;">揭秘CSS</a>》、《<a href="http://www.waibo.wang/bible/less/" rel="nofollow" style="color:#800080;">Less简明教程</a>》、《<a href="http://www.waibo.wang/bible/json/" rel="nofollow" style="color:#800080;">JSON教程</a>》、《<a href="http://www.waibo.wang/bible/bootstrap2/" rel="nofollow" style="color:#800080;">Bootstrap2用户指南</a>》，并全部在 <a href="https://github.com/leiqikui" style="color:#800080;">GitHub</a> 上开源。</p> 
 <p><strong>版权声明</strong>：本文出自<strong><span style="color:#FF0000;"> </span></strong><a href="http://www.waibo.wang/" rel="nofollow"><strong><span style="color:#FF0000;">歪脖网</span></strong></a> 的《<a href="http://www.waibo.wang/bible/html5/" rel="nofollow">HTML宝典</a>》，欢迎在线阅读，并提出宝贵意见。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43c0d826e89024254c86fbf6b602a75a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">bat添加到windows服务</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/60bb7ee22b974402ab3f32ddc1bbf058/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">利用SMTP头注入劫持找回密码邮件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>