<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>利用决策树模型分析电信客户流失预测项目 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="利用决策树模型分析电信客户流失预测项目" />
<meta property="og:description" content="首先这是一个比较经典的项目了，自己先拿到数据源是一个csv格式的时候，想清楚出发点是什么，项目背景是怎样的，以哪个为切入点。
1. Tableau做猜想预测 分成两大块，从人口特征和消费服务特征来做分析
利用Tableau做项目预测猜想，因为这个项目是一个简单的二分类，分类标准是Churn是否会流失，所以Churn是标签类别
得出结论：
1、没有子女、没有伴侣的老年用户流失率比较高
2、老年用户中流失用户的月度平均消费均比未流失用户要高17%的总价
3、从流失的人群中发现平均使用的时间占比少、月度花费比较高
4、流失的客户中大多数都是使用Fiber optic的网络服务、DSL的电话服务，进一步推断Fiber optic的网络服务的故障率比较高，加强客户售后意识，定期查询网络故障并及时修复。
5、流失的客户里面大部分都不使用OnlineBackup、DeviceProtection、OnlineSecurtiy、TechSupport服务
6、流失的人群里面大多数都是用月度支付的无纸化电子支票的支付方式，进一步推断由于支付方式比较繁琐，导致客户支付不便利。
对于上述观点，我采用了以下的数学模型来做分析依据：
其中由于决策树更加直观可以看到客户流失与哪些相关因素有关，下面是对上述分析的佐证。
2、代码实现 数据集分类：
数据划分处理：将数据分为3类
1、二分类数据：Yes/No转换为1/0，Yes=1/No、No services=0
2、离散型标签分类：将标签重新开设一列，作为0/1分类的标准
3、数值型分类，其数据内容具备顺序以及加减运算的数值意义。目前属于这类特征的变量有：已使用年限，月消费。我打算采用连续特征离散化的处理方式。原因是离散化后的特征对异常数据有更强的鲁棒性，降低过拟合的风险，模型会更稳定，预测的效果也会更好。
数据离散化也称为分箱操作，其方法分为有监督分箱（卡方分箱、最小熵法分箱）和无监督分箱（等频分箱、等距分箱）。本次为采用无监督分箱中的等频分箱进行操作。下图以Tenure为例
#将CSV数据集导入 from sklearn import datasets import pandas as pd import matplotlib.pyplot as plt import numpy as np #整理数据 TargetData=pd.read_csv(&#39;telecom_churn.csv&#39;) #数据集大小 print(TargetData.shape) #数据集是否有缺失值 print(TargetData.isnull().sum()) #检查数据类型 print(TargetData.dtypes) #检查数据是否包含空字符 print(TargetData[TargetData[&#39;TotalCharges&#39;].isin([&#39; &#39;])]) #修复错误输入的数据集： TargetData.replace(to_replace=r&#39;^\s*$&#39;,value=np.nan,regex=True,inplace=True) TargetData.dropna(axis=0, how=&#39;any&#39;, inplace=True) TargetData[&#39;TotalCharges&#39;]=pd.to_numeric(TargetData[&#39;TotalCharges&#39;]) TargetData.describe(include=&#39;all&#39;) #将PaymentMethod ，OnlineSecurity，OnlineBackup，DeviceProtection ，TechSupport 转化为0-1编码 from sklearn.preprocessing import LabelEncoder encoder=LabelEncoder() colLabel=[&#39;gender&#39;,&#39;Partner&#39;, &#39;Dependents&#39;, &#39;PhoneService&#39;,&#39;PaperlessBilling&#39;,&#39;Churn&#39;] for i in colLabel: TargetData[i]=encoder." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/bb3dda38ede4bb1de8eb680d71f2b62f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-07T12:02:52+08:00" />
<meta property="article:modified_time" content="2020-08-07T12:02:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">利用决策树模型分析电信客户流失预测项目</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>首先这是一个比较经典的项目了，自己先拿到数据源是一个csv格式的时候，想清楚出发点是什么，项目背景是怎样的，以哪个为切入点。</p> 
<h3><a id="1_Tableau_2"></a>1. Tableau做猜想预测</h3> 
<p>分成两大块，从人口特征和消费服务特征来做分析<br> 利用Tableau做项目预测猜想，因为这个项目是一个简单的二分类，分类标准是Churn是否会流失，所以Churn是标签类别<br> <img src="https://images2.imgbox.com/7c/5a/o7OVmCzK_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/ef/8d/cHoYwRNa_o.png" alt="在这里插入图片描述">得出结论：<br> 1、没有子女、没有伴侣的老年用户流失率比较高<br> 2、老年用户中流失用户的月度平均消费均比未流失用户要高17%的总价<br> 3、从流失的人群中发现平均使用的时间占比少、月度花费比较高<br> 4、流失的客户中大多数都是使用Fiber optic的网络服务、DSL的电话服务，进一步推断Fiber optic的网络服务的故障率比较高，加强客户售后意识，定期查询网络故障并及时修复。<br> 5、流失的客户里面大部分都不使用OnlineBackup、DeviceProtection、OnlineSecurtiy、TechSupport服务<br> 6、流失的人群里面大多数都是用月度支付的无纸化电子支票的支付方式，进一步推断由于支付方式比较繁琐，导致客户支付不便利。</p> 
<p>对于上述观点，我采用了以下的数学模型来做分析依据：</p> 
<p>其中由于决策树更加直观可以看到客户流失与哪些相关因素有关，下面是对上述分析的佐证。</p> 
<h3><a id="2_17"></a>2、代码实现</h3> 
<p>数据集分类：<br> 数据划分处理：将数据分为3类<br> 1、二分类数据：Yes/No转换为1/0，Yes=1/No、No services=0<br> <img src="https://images2.imgbox.com/2f/8c/gcJD0ugB_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/10/a2/ipxT972K_o.png" alt="在这里插入图片描述">2、离散型标签分类：将标签重新开设一列，作为0/1分类的标准<br> <img src="https://images2.imgbox.com/20/ed/pRp8P77k_o.png" alt="在这里插入图片描述"><br> 3、数值型分类，其数据内容具备顺序以及加减运算的数值意义。目前属于这类特征的变量有：已使用年限，月消费。我打算采用连续特征离散化的处理方式。原因是离散化后的特征对异常数据有更强的鲁棒性，降低过拟合的风险，模型会更稳定，预测的效果也会更好。</p> 
<p>数据离散化也称为分箱操作，其方法分为有监督分箱（卡方分箱、最小熵法分箱）和无监督分箱（等频分箱、等距分箱）。本次为采用无监督分箱中的等频分箱进行操作。下图以Tenure为例<br> <img src="https://images2.imgbox.com/1f/0f/YhIGT7j2_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token comment">#将CSV数据集导入</span>
<span class="token keyword">from</span> sklearn <span class="token keyword">import</span> datasets
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment">#整理数据</span>

TargetData<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'telecom_churn.csv'</span><span class="token punctuation">)</span>
<span class="token comment">#数据集大小</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token comment">#数据集是否有缺失值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#检查数据类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>dtypes<span class="token punctuation">)</span>
<span class="token comment">#检查数据是否包含空字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span>TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">' '</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#修复错误输入的数据集：</span>
TargetData<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span>r<span class="token string">'^\s*$'</span><span class="token punctuation">,</span>value<span class="token operator">=</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span>regex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'any'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token operator">=</span>pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">.</span>describe<span class="token punctuation">(</span>include<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>

<span class="token comment">#将PaymentMethod ，OnlineSecurity，OnlineBackup，DeviceProtection ，TechSupport 转化为0-1编码</span>
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>preprocessing <span class="token keyword">import</span> LabelEncoder
encoder<span class="token operator">=</span>LabelEncoder<span class="token punctuation">(</span><span class="token punctuation">)</span>
colLabel<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'gender'</span><span class="token punctuation">,</span><span class="token string">'Partner'</span><span class="token punctuation">,</span> <span class="token string">'Dependents'</span><span class="token punctuation">,</span> <span class="token string">'PhoneService'</span><span class="token punctuation">,</span><span class="token string">'PaperlessBilling'</span><span class="token punctuation">,</span><span class="token string">'Churn'</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> colLabel<span class="token punctuation">:</span>
    TargetData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>encoder<span class="token punctuation">.</span>fit_transform<span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#设定规则将3个不同类的设置为0-1数据</span>
Dependents_mapDict<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">'Yes'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'No'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'No internet service'</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'OnlineSecurity'</span><span class="token punctuation">,</span> <span class="token string">'OnlineBackup'</span><span class="token punctuation">,</span> <span class="token string">'DeviceProtection'</span><span class="token punctuation">,</span> <span class="token string">'TechSupport'</span><span class="token punctuation">,</span> <span class="token string">'StreamingTV'</span><span class="token punctuation">,</span> <span class="token string">'StreamingMovies'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
    TargetData<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>TargetData<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>Dependents_mapDict<span class="token punctuation">)</span>
TargetData<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

OneHotLabel<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'MultipleLines'</span><span class="token punctuation">,</span> <span class="token string">'InternetService'</span><span class="token punctuation">,</span> <span class="token string">'Contract'</span><span class="token punctuation">,</span><span class="token string">'PaymentMethod'</span><span class="token punctuation">]</span>
<span class="token comment">#对客户的合同期进行One-Hot编码</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> OneHotLabel<span class="token punctuation">:</span>
    ContractDF<span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ContractDF<span class="token operator">=</span>pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>prefix<span class="token operator">=</span><span class="token string">'Contract'</span><span class="token punctuation">)</span>
    ContractDF<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#添加虚拟变量至原数据集并删除原有数据列</span>
    TargetData<span class="token operator">=</span>pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>TargetData<span class="token punctuation">,</span>ContractDF<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
    TargetData<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
TargetData
TargetData<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'ChurnLabel_A.xls'</span><span class="token punctuation">)</span>

<span class="token comment">#  模型构建</span>
<span class="token comment">## 尝试采用决策树这种经典的二分类模型作为咱们的机器学习模型。决策树的优点在于模型容易理解以及能够可视化，更能了解哪些特征对输出结果影响较大。但是缺点也十分明显，就是容易过拟合，泛化性能差。</span>

<span class="token comment"># def plot_feature_importance(model):</span>
n_features <span class="token operator">=</span> data_frame<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    plt<span class="token punctuation">.</span>barh<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n_features<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>model<span class="token punctuation">.</span>feature_importances_<span class="token punctuation">,</span>align<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n_features<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>data_frame<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Features importance'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'feature'</span><span class="token punctuation">)</span>
plot_feature_importance<span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment">#数据集大小</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token comment">#数据集是否有缺失值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#检查数据类型</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">.</span>dtypes<span class="token punctuation">)</span>
<span class="token comment">#检查数据是否包含空字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span>TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">' '</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#修复错误输入的数据集</span>
TargetData<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span>r<span class="token string">'^\s*$'</span><span class="token punctuation">,</span>value<span class="token operator">=</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span>regex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'any'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token operator">=</span>pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>TargetData<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
TargetData<span class="token punctuation">.</span>describe<span class="token punctuation">(</span>include<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">)</span>
</code></pre> 
<p>利用pandas库导入数据python的时候发现有异常，再回到数据源，发现TotalCharges其中有5空字符，因为缺失的数据无法根据其他数据源可以补全数据，直接在导入python后删除</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
Te_data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'telecom_churn.csv'</span><span class="token punctuation">)</span>
Te_data<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span>r<span class="token string">'^\s*$'</span><span class="token punctuation">,</span>value<span class="token operator">=</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">,</span>regex<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
Te_data<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'any'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
Te_data<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_numeric<span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'TotalCharges'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

SeniorCitizen<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'SeniorCitizen'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Churn<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'Churn'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#将Churn转化为0-1变量</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> Churn<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Yes'</span><span class="token punctuation">:</span>
        Churn<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        Churn<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
Contract<span class="token operator">=</span>Te_data<span class="token punctuation">[</span><span class="token string">'Contract'</span><span class="token punctuation">]</span>
Contract_dummies<span class="token operator">=</span>pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>Contract<span class="token punctuation">)</span>
InternetService<span class="token operator">=</span>Te_data<span class="token punctuation">[</span><span class="token string">'InternetService'</span><span class="token punctuation">]</span>
InternetService_dummies<span class="token operator">=</span>pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>InternetService<span class="token punctuation">)</span>

<span class="token comment">#将PaymentMethod ，OnlineSecurity，OnlineBackup，DeviceProtection ，TechSupport 转化为0-1编码</span>
PaymentMethod<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'PaymentMethod'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
OnlineSecurity<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'OnlineSecurity'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
OnlineBackup<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'OnlineBackup'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
DeviceProtection<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'DeviceProtection'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
TechSupport<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'TechSupport'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> PaymentMethod<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Electronic check'</span><span class="token punctuation">:</span>
        PaymentMethod<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        PaymentMethod<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        
    <span class="token keyword">if</span> OnlineSecurity<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Yes'</span><span class="token punctuation">:</span>
        OnlineSecurity<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        OnlineSecurity<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">if</span> OnlineBackup<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Yes'</span><span class="token punctuation">:</span>
        OnlineBackup<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        OnlineBackup<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">if</span> DeviceProtection<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Yes'</span><span class="token punctuation">:</span>
        DeviceProtection<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        DeviceProtection<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">if</span> TechSupport<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">'Yes'</span><span class="token punctuation">:</span>
        TechSupport<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">else</span> <span class="token punctuation">:</span>
        TechSupport<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>

tenure<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'tenure'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
tenure_cats<span class="token operator">=</span>pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>tenure<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
tenure_dummies<span class="token operator">=</span>pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>tenure_cats<span class="token punctuation">)</span>

MonthlyCharges<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>Te_data<span class="token punctuation">[</span><span class="token string">'MonthlyCharges'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
MonthlyCharges_cats<span class="token operator">=</span>pd<span class="token punctuation">.</span>qcut<span class="token punctuation">(</span>MonthlyCharges<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
MonthlyCharges_dummies<span class="token operator">=</span>pd<span class="token punctuation">.</span>get_dummies<span class="token punctuation">(</span>MonthlyCharges_cats<span class="token punctuation">)</span>
<span class="token comment">#模型输出y</span>
Churn_y<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>Churn<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
dataY<span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>Churn_y<span class="token punctuation">)</span>
dataY<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'Save_y.csv'</span><span class="token punctuation">)</span>

<span class="token comment">#模型输入x</span>
SeniorCitizen_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>SeniorCitizen<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
Contract_x<span class="token operator">=</span>Contract_dummies<span class="token punctuation">.</span>values
InternetService_x<span class="token operator">=</span>InternetService_dummies<span class="token punctuation">.</span>values
PaymentMethod_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>PaymentMethod<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
OnlineSecurity_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>OnlineSecurity<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
OnlineBackup_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>OnlineBackup<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
DeviceProtection_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>DeviceProtection<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
TechSupport_x<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>TechSupport<span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span>
tenure_x<span class="token operator">=</span>tenure_dummies<span class="token punctuation">.</span>values
MonthlyCharges_x<span class="token operator">=</span>MonthlyCharges_dummies<span class="token punctuation">.</span>values

X<span class="token operator">=</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">[</span>SeniorCitizen_x<span class="token punctuation">,</span>Contract_x<span class="token punctuation">,</span>InternetService_x<span class="token punctuation">,</span>PaymentMethod_x<span class="token punctuation">,</span>OnlineSecurity_x<span class="token punctuation">,</span>OnlineBackup_x<span class="token punctuation">,</span>DeviceProtection_x<span class="token punctuation">,</span>TechSupport_x<span class="token punctuation">,</span>tenure_x<span class="token punctuation">,</span>MonthlyCharges_x<span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">#模型输出，整理数据集</span>
dataX<span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>X<span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'SeniorCitizen'</span><span class="token punctuation">,</span><span class="token string">'Contract_Month-to-Month'</span><span class="token punctuation">,</span><span class="token string">'Contract_oneYear'</span><span class="token punctuation">,</span><span class="token string">'Contract_twoYear'</span><span class="token punctuation">,</span><span class="token string">'InternetService_no'</span><span class="token punctuation">,</span><span class="token string">'InternetService_opti'</span><span class="token punctuation">,</span><span class="token string">'InternetService_DSL'</span><span class="token punctuation">,</span><span class="token string">'PaymentMethod'</span><span class="token punctuation">,</span><span class="token string">'OnlineSecurity'</span><span class="token punctuation">,</span><span class="token string">'OnlineBackup'</span><span class="token punctuation">,</span><span class="token string">'DeviceProtection'</span><span class="token punctuation">,</span><span class="token string">'TechSupport'</span><span class="token punctuation">,</span><span class="token string">'tenure_0.999, 4.0'</span><span class="token punctuation">,</span><span class="token string">'tenure_4.0, 14.0'</span><span class="token punctuation">,</span><span class="token string">'tenure_14.0, 29.0'</span><span class="token punctuation">,</span><span class="token string">'tenure_29.0, 47.0'</span><span class="token punctuation">,</span><span class="token string">'tenure_47.0, 64.0'</span><span class="token punctuation">,</span><span class="token string">'tenure_64.0, 72.0'</span><span class="token punctuation">,</span><span class="token string">'MonthlyCharges_18.249, 25.05'</span><span class="token punctuation">,</span><span class="token string">'MonthlyCharges_25.05, 58.92'</span><span class="token punctuation">,</span><span class="token string">'MonthlyCharges_58.92, 79.15'</span><span class="token punctuation">,</span><span class="token string">'MonthlyCharges_79.15, 94.3'</span><span class="token punctuation">,</span><span class="token string">'MonthlyCharges_94.3, 118.75'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
dataX<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'Save_X.csv'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d6/62/9VP1pysc_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="21_190"></a>2.1模型设计</h4> 
<pre><code class="prism language-python"><span class="token comment">#数据导入</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
data_frame<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"Save_X.csv"</span><span class="token punctuation">)</span>
X<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data_frame<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
data_frame2<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"Save_y.csv"</span><span class="token punctuation">)</span>
y<span class="token operator">=</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data_frame2<span class="token punctuation">.</span>values<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">#模型训练</span>
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>model_selection <span class="token keyword">import</span> train_test_split
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>tree <span class="token keyword">import</span> DecisionTreeClassifier
x_train<span class="token punctuation">,</span> x_test<span class="token punctuation">,</span> y_train<span class="token punctuation">,</span> y_test <span class="token operator">=</span> train_test_split<span class="token punctuation">(</span>X<span class="token punctuation">,</span> y<span class="token punctuation">,</span> stratify<span class="token operator">=</span>y<span class="token punctuation">,</span> random_state<span class="token operator">=</span><span class="token number">42</span><span class="token punctuation">)</span>
tree <span class="token operator">=</span> DecisionTreeClassifier<span class="token punctuation">(</span>max_depth<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>random_state<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
tree<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span>y_train<span class="token punctuation">)</span>
clf<span class="token operator">=</span>tree<span class="token punctuation">.</span>fit<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span>y_train<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"training set score:{:.3f}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span>score<span class="token punctuation">(</span>x_train<span class="token punctuation">,</span> y_train<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"test set score:{:.3f}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span>score<span class="token punctuation">(</span>x_test<span class="token punctuation">,</span> y_test<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Feature importances : \n{}"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>tree<span class="token punctuation">.</span>feature_importances_<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">#特征重要性可视化</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">def</span> <span class="token function">plot_feature_importance</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    n_features <span class="token operator">=</span> data_frame<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    plt<span class="token punctuation">.</span>barh<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n_features<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>model<span class="token punctuation">.</span>feature_importances_<span class="token punctuation">,</span>align<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span>n_features<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>data_frame<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'Features importance'</span><span class="token punctuation">)</span>
    plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'feature'</span><span class="token punctuation">)</span>
plot_feature_importance<span class="token punctuation">(</span>tree<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">#决策树可视化</span>
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>tree <span class="token keyword">import</span> export_graphviz

<span class="token keyword">import</span> pydot
<span class="token keyword">import</span> graphviz
<span class="token keyword">from</span> sklearn<span class="token punctuation">.</span>externals<span class="token punctuation">.</span>six <span class="token keyword">import</span> StringIO
dot_data<span class="token operator">=</span>StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span>
export_graphviz<span class="token punctuation">(</span>clf<span class="token punctuation">,</span>out_file<span class="token operator">=</span>dot_data<span class="token punctuation">,</span>class_names<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'Churn_no'</span><span class="token punctuation">,</span><span class="token string">'Churn_yes'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>feature_names<span class="token operator">=</span>data_frame<span class="token punctuation">.</span>columns<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span>filled<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> rounded<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>special_characters<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment">#with open("te_tree.dot") as f:</span>
<span class="token comment">#    dot_graph=f.read()</span>
graph<span class="token operator">=</span>pydot<span class="token punctuation">.</span>graph_from_dot_data<span class="token punctuation">(</span>dot_data<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
graph<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>write_pdf<span class="token punctuation">(</span><span class="token string">"tree.pdf"</span><span class="token punctuation">)</span>
</code></pre> 
<p>决策树最终效果：<br> <img src="https://images2.imgbox.com/60/05/mQrnr7P4_o.png" alt="在这里插入图片描述">决策树解释：<br> gini基尼系数：数值越小，分类均分越平均<br> samples：样本数<br> class：分类：是否流失——yes表示流失<br> <img src="https://images2.imgbox.com/25/e2/tLwNqTzW_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/6f/a9/JKrlkUxc_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/6d/c8/ClQl9qCH_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/ee/86/ukgmiGTd_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/c5/af/cVdTSpl4_o.png" alt="在这里插入图片描述"><br> 最终被划分为客户流失的因素标签是tenure、TechSupport、SeniorCitizen、OnlineSecurity、PaymentMethod、MonthlyCharges、TechSupport、OnlineBackup、DeviceProtection<br> 与上面用Tebleau分析的项目是一致的。</p> 
<h3><a id="3_245"></a>3、预防措施及建议</h3> 
<p><img src="https://images2.imgbox.com/46/69/lOvM51tR_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_249"></a>遇到问题：附有相关博客链接</h3> 
<p>1、graphviz无法启动，转换dot格式无法转换为pdf：<a href="https://blog.csdn.net/jingsiyu6588/article/details/88966820">https://blog.csdn.net/jingsiyu6588/article/details/88966820</a></p> 
<p>2、思路及代码参考的博客：<a href="https://blog.csdn.net/gdben_user/article/details/105653763">https://blog.csdn.net/gdben_user/article/details/105653763</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f8076736add277e06213f62d6e235723/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">论文解读：Graph Convolutional Networks for Text Classifification</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f9aaf2ac35ed7015ba90ccf62d30ceea/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">tf.repeat</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>