<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ftp服务器文件关联设置,H3C 01-基础配置指导_FTP和TFTP配置-新华三集团-H3C - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="ftp服务器文件关联设置,H3C 01-基础配置指导_FTP和TFTP配置-新华三集团-H3C" />
<meta property="og:description" content="1.1 FTP简介
FTP(File Transfer Protocol，文件传输协议)用于在FTP服务器和FTP客户端之间传输文件，是IP网络上传输文件的通用协议。
FTP协议使用TCP端口20和21进行传输。端口20用于传输数据，端口21用于传输控制消息。
设备既可以作为FTP服务器，也可以作为FTP客户端。
FTP有两种文件传输模式：
· 二进制模式，用于传输非文本文件(比如后缀名为.app、.bin和.btm的文件)；
· ASCII码模式，用于传输文本格式的文件(比如后缀名为.txt、.bat和.cfg的文件)。
当设备作为FTP客户端时，用户可通过命令行指定使用的传输模式，缺省为二进制模式；当设备作为FTP服务器时，使用的传输模式由FTP客户端决定。
FTP有两种工作方式：
· 主动方式(PORT)：建立数据连接时由FTP服务器发起连接请求，当FTP客户端处于防火墙后时不适用(如FTP客户端处于私网内)。
· 被动方式(PASV)：建立数据连接时由FTP客户端发起连接请求，当FTP服务器限制客户端连接其高位端口(一般情况下大于1024)时不适用。
是否使用被动方式由FTP客户端程序决定，不同FTP客户端软件对FTP工作方式的支持情况可能不同，请在使用时以软件的实际情况为准。
设备运行于FIPS模式时，本特性部分配置相对于非FIPS模式有所变化，具体差异请见本文相关描述。有关FIPS模式的详细介绍请参见“安全配置指导”中的“FIPS”。
1.3 配置FTP服务器
FTP服务器配置任务如下：
(3) (可选)
(7) (可选)
1.3.2 启动FTP服务器功能
(1) 进入系统视图。
system-view
(2) 启动FTP服务器功能。
ftp server enable
缺省情况下，FTP服务器功能处于关闭状态。
1.3.3 配置FTP服务器的认证和授权
只有认证通过并授权成功的用户，才能通过FTP访问设备上的指定路径。
设备对FTP客户端的认证，有以下两种方式：
· 本地认证：设备作为认证服务器，在本设备上验证FTP客户端的用户名和密码是否合法。
· 远程认证：远程认证是指设备将用户输入的用户名/密码发送给远端的认证服务器，由认证服务器来验证用户名/密码是否匹配。
设备对FTP客户端的授权，有以下两种方式：
· 本地授权：设备给FTP客户端授权，指定FTP客户端可以使用设备上的某个路径。
· 远程授权：远程服务器给FTP客户端授权，指定FTP客户端可以使用设备上的某个路径。
关于认证和授权的详细配置请参见“安全配置指导”中的“AAA”。
1. 功能简介
通过将FTP服务与ACL关联，可以过滤掉来自某些FTP客户端的FTP请求报文，只允许符合ACL过滤规则的FTP客户端访问设备。
2. 配置限制和指导
该配置只过滤新建立的FTP连接，不会对已建立的FTP连接和操作造成影响。如果多次使用该命令配置FTP服务与ACL关联，FTP服务将只与最后一次配置的ACL关联。
3. 配置步骤
(1) 进入系统视图。
system-view
(2) 配置FTP服务器访问限制。
ftp server acl { advanced-acl-number | basic-acl-number | ipv6 { advanced-acl-number | basic-acl-number } }" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5cd2071856610cdaf47f4eb0b1374849/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-13T14:11:25+08:00" />
<meta property="article:modified_time" content="2021-08-13T14:11:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">ftp服务器文件关联设置,H3C 01-基础配置指导_FTP和TFTP配置-新华三集团-H3C</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>1.1  FTP简介</p> 
 <p>FTP(File Transfer Protocol，文件传输协议)用于在FTP服务器和FTP客户端之间传输文件，是IP网络上传输文件的通用协议。</p> 
 <p>FTP协议使用TCP端口20和21进行传输。端口20用于传输数据，端口21用于传输控制消息。</p> 
 <p>设备既可以作为FTP服务器，也可以作为FTP客户端。</p> 
 <p>FTP有两种文件传输模式：</p> 
 <p>·     二进制模式，用于传输非文本文件(比如后缀名为.app、.bin和.btm的文件)；</p> 
 <p>·     ASCII码模式，用于传输文本格式的文件(比如后缀名为.txt、.bat和.cfg的文件)。</p> 
 <p>当设备作为FTP客户端时，用户可通过命令行指定使用的传输模式，缺省为二进制模式；当设备作为FTP服务器时，使用的传输模式由FTP客户端决定。</p> 
 <p>FTP有两种工作方式：</p> 
 <p>·     主动方式(PORT)：建立数据连接时由FTP服务器发起连接请求，当FTP客户端处于防火墙后时不适用(如FTP客户端处于私网内)。</p> 
 <p>·     被动方式(PASV)：建立数据连接时由FTP客户端发起连接请求，当FTP服务器限制客户端连接其高位端口(一般情况下大于1024)时不适用。</p> 
 <p>是否使用被动方式由FTP客户端程序决定，不同FTP客户端软件对FTP工作方式的支持情况可能不同，请在使用时以软件的实际情况为准。</p> 
 <p>设备运行于FIPS模式时，本特性部分配置相对于非FIPS模式有所变化，具体差异请见本文相关描述。有关FIPS模式的详细介绍请参见“安全配置指导”中的“FIPS”。</p> 
 <p>1.3  配置FTP服务器</p> 
 <p>FTP服务器配置任务如下：</p> 
 <p>(3)     (可选)</p> 
 <p>(7)     (可选)</p> 
 <p>1.3.2  启动FTP服务器功能</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     启动FTP服务器功能。</p> 
 <p>ftp server enable</p> 
 <p>缺省情况下，FTP服务器功能处于关闭状态。</p> 
 <p>1.3.3  配置FTP服务器的认证和授权</p> 
 <p>只有认证通过并授权成功的用户，才能通过FTP访问设备上的指定路径。</p> 
 <p>设备对FTP客户端的认证，有以下两种方式：</p> 
 <p>·     本地认证：设备作为认证服务器，在本设备上验证FTP客户端的用户名和密码是否合法。</p> 
 <p>·     远程认证：远程认证是指设备将用户输入的用户名/密码发送给远端的认证服务器，由认证服务器来验证用户名/密码是否匹配。</p> 
 <p>设备对FTP客户端的授权，有以下两种方式：</p> 
 <p>·     本地授权：设备给FTP客户端授权，指定FTP客户端可以使用设备上的某个路径。</p> 
 <p>·     远程授权：远程服务器给FTP客户端授权，指定FTP客户端可以使用设备上的某个路径。</p> 
 <p>关于认证和授权的详细配置请参见“安全配置指导”中的“AAA”。</p> 
 <p>1. 功能简介</p> 
 <p>通过将FTP服务与ACL关联，可以过滤掉来自某些FTP客户端的FTP请求报文，只允许符合ACL过滤规则的FTP客户端访问设备。</p> 
 <p>2. 配置限制和指导</p> 
 <p>该配置只过滤新建立的FTP连接，不会对已建立的FTP连接和操作造成影响。如果多次使用该命令配置FTP服务与ACL关联，FTP服务将只与最后一次配置的ACL关联。</p> 
 <p>3. 配置步骤</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     配置FTP服务器访问限制。</p> 
 <p>ftp server acl { advanced-acl-number | basic-acl-number | ipv6 { advanced-acl-number | basic-acl-number } }</p> 
 <p>缺省情况下，FTP服务器的访问不受ACL限制。</p> 
 <p>(3)     开启匹配ACL deny规则后打印日志信息功能.</p> 
 <p>ftp server acl-deny-log enable</p> 
 <p>缺省情况下，匹配ACL deny规则后打印日志信息功能处于关闭状态.</p> 
 <p>1.3.5  配置FTP服务器连接管理参数</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     配置FTP服务器的连接空闲时间。</p> 
 <p>ftp timeout minutes</p> 
 <p>缺省情况下，连接空闲时间为30分钟。</p> 
 <p>如果在设置的连接空闲时间到期时，FTP服务器和客户端一直没有信息交互，则断开它们之间的连接。</p> 
 <p>(3)     配置使用FTP方式同时登录设备的在线的最大用户连接数。</p> 
 <p>aaa session-limit ftp max-sessions</p> 
 <p>缺省的最大用户连接数为32。</p> 
 <p>配置本命令后，已经在线的用户连接不会受到影响，只对新的用户连接生效。如果当前在线的用户连接数已经达到最大值，则新的连接请求会被拒绝，登录会失败。</p> 
 <p>关于该命令的详细描述请参见“安全 命令参考”中的“AAA”。</p> 
 <p>1.3.6  配置FTP服务器引用SSL</p> 
 <p>1. 功能简介</p> 
 <p>当支持FTP安全扩展协议的两台设备建立FTP连接时，通过将FTP服务与SSL服务器端策略关联，可以建立一条安全的SSL连接来传输数据，保证FTP传输的安全性。</p> 
 <p>2. 配置步骤</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     配置FTP服务器引用SSL。</p> 
 <p>ftp server ssl-server-policy policy-name</p> 
 <p>缺省情况下，FTP服务器未引用SSL服务器端策略。</p> 
 <p>1.3.7  配置FTP服务器发送报文的DSCP优先级</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     配置FTP服务器发送的FTP报文的DSCP优先级。</p> 
 <p>(IPv4网络)</p> 
 <p>ftp server dscpdscp-value</p> 
 <p>(IPv6网络)</p> 
 <p>ftp server ipv6 dscpdscp-value</p> 
 <p>缺省情况下，FTP服务器发送的FTP报文的DSCP优先级为0。</p> 
 <p>1.3.8  释放已建立的FTP连接</p> 
 <p>请在用户视图下执行本命令，释放已建立的FTP连接。请选择其中一项进行配置。</p> 
 <p>·     强制释放与指定用户之间的FTP连接。</p> 
 <p>free ftp user username</p> 
 <p>·     强制释放与指定IP地址的主机之间的FTP连接。</p> 
 <p>free ftp user-ip [ ipv6 ] ip-address [ port port ]</p> 
 <p>1.3.9  FTP服务器显示和维护</p> 
 <p>完成上述配置后，在任意视图下执行display命令可以显示FTP服务器的配置和运行情况，通过查看显示信息验证配置的效果。</p> 
 <p>表1-1 FTP服务器显示和维护</p> 
 <p>操作</p> 
 <p>命令</p> 
 <p>查看当前FTP服务器的配置和运行情况</p> 
 <p>display ftp-server</p> 
 <p>查看当前FTP登录用户的详细情况</p> 
 <p>display ftp-user</p> 
 <p>1.3.10  FTP服务器典型配置举例</p> 
 <p>1. 组网需求</p> 
 <p>·     主设备和从设备共同组成IRF。主设备的成员编号为1，从设备的成员编号为2。</p> 
 <p>·     IRF作为FTP服务器，PC作为FTP客户端。</p> 
 <p>·     将存储在PC上的文件temp.bin上传到FTP服务器，并使用FTP功能备份IRF的配置文件。</p> 
 <p>·     FTP客户端登录FTP服务器的用户名为abc，密码为123456。</p> 
 <p>2. 组网图</p> 
 <p>图1-1 FTP服务器典型配置组网图</p> 
 <p align="center"><img src="https://images2.imgbox.com/bd/bd/Fzuq9FP1_o.png" alt="75fb78a3f5f4336d4831be6df0b04b1f.png"></p> 
 <p>3. 配置步骤</p> 
 <p align="center"><img src="https://images2.imgbox.com/fd/19/4616xrTi_o.png" alt="2b453f127c025f6cf7d43d95f344da97.png"></p> 
 <p>·     缺省情况下，本设备的接口处于ADM(Administratively Down)状态，请根据实际需要在对应接口视图下使用undo shutdown命令开启接口。</p> 
 <p>·     如果主设备和从设备剩余的内存空间不够，请使用delete /unreserved file-url命令删除部分暂时不用的文件后再执行以下操作。</p> 
 <p>配置前请确保Device和PC之间路由可达，IP地址如图1-1所示，具体配置步骤略。</p> 
 <p>(1)     IRF(FTP server)上的配置</p> 
 <p># 在IRF上添加一个本地用户abc，并设置其认证密码为123456，访问时使用的用户角色为network-admin，授权访问目录为Flash的根目录，abc可以使用的服务类型为FTP。</p> 
 <p> system-view</p> 
 <p>[Sysname] local-user abc class manage</p> 
 <p>[Sysname-luser-abc] password simple 123456</p> 
 <p>[Sysname-luser-abc] authorization-attribute user-role network-admin work-directory flash:/</p> 
 <p align="center"><img src="https://images2.imgbox.com/fb/79/QeAYpK01_o.png" alt="196f95d72c9cc7de373c730b1971ef7e.png"></p> 
 <p>如果要直接访问从设备Flash的根目录，需要将“authorization-attribute work-directory flash:/”配置中的“flash:/”替换成“slot2#flash:/”。</p> 
 <p>[Sysname-luser-abc] service-type ftp</p> 
 <p>[Sysname-luser-abc] quit</p> 
 <p># 启动IRF的FTP服务功能。</p> 
 <p>[Sysname] ftp server enable</p> 
 <p>[Sysname] quit</p> 
 <p>(2)     PC(FTP client)的配置</p> 
 <p># 以用户名abc、密码123456登录FTP服务器。</p> 
 <p>c:\&gt; ftp 1.1.1.1</p> 
 <p>Connected to 1.1.1.1.</p> 
 <p>220 FTP service ready.</p> 
 <p>User(1.1.1.1:(none)):abc</p> 
 <p>331 Password required for abc.</p> 
 <p>Password:</p> 
 <p>230 User logged in.</p> 
 <p># 将传输模式设置为ascii，并将IRF的配置文件config.cfg下载到PC本地进行备份。</p> 
 <p>ftp&gt; ascii</p> 
 <p>200 TYPE is now ASCII</p> 
 <p>ftp&gt; get config.cfg back-config.cfg</p> 
 <p># 将传输模式设置为binary，并上传文件temp.bin到主设备存储介质的根目录下。</p> 
 <p>ftp&gt; binary</p> 
 <p>200 TYPE is now 8-bit binary</p> 
 <p>ftp&gt; put temp.bin</p> 
 <p># 退出FTP。</p> 
 <p>ftp&gt; bye</p> 
 <p>FTP客户端配置任务如下：</p> 
 <p>(2)     (可选)</p> 
 <p>(4)     (可选)</p> 
 <p>(5)     (可选)</p> 
 <p>(6)     (可选)</p> 
 <p>(7)     (可选)</p> 
 <p>(8)     (可选)</p> 
 <p>1.4.2  建立FTP连接</p> 
 <p>1. 建立FTP连接配置任务简介</p> 
 <p>建立FTP连接配置任务如下：</p> 
 <p>2. 配置限制和指导</p> 
 <p>·     使用ftp client source命令指定了源地址后，又在ftp命令中指定了源地址，则采用ftp命令中指定的源地址进行通信。</p> 
 <p>·     使用ftp client ipv6 source命令指定了源地址后，又在ftp ipv6命令中指定了源地址，则采用ftp ipv6命令中指定的源地址进行通信。</p> 
 <p>3. 配置FTP客户端发送的FTP报文的源地址</p> 
 <p>(1)     进入系统视图。</p> 
 <p>system-view</p> 
 <p>(2)     配置FTP客户端发送的FTP报文的源地址。</p> 
 <p>(IPv4网络)</p> 
 <p>ftp client source { interface interface-type interface-number | ip source-ip-address }</p> 
 <p>缺省情况下，未配置源地址，使用路由出接口的主IP地址作为设备发送FTP报文的源IP地址。</p> 
 <p>(IPv6网络)</p> 
 <p>ftp client ipv6 source { interface interface-type interface-number | ipv6 source-ipv6-address }</p> 
 <p>缺省情况下，未配置源地址，设备自动选择IPv6 FTP报文的源IPv6地址，具体选择原则请参见RFC 3484。</p> 
 <p>·     从用户视图登录FTP服务器。</p> 
 <p>(IPv4网络)</p> 
 <p>ftp [ ftp-server [ service-port ] [ vpn-instance vpn-instance-name ] [ dscp dscp-value|source { interface interface-type interface-number | ip source-ip-address } |-d ] * ]</p> 
 <p>(IPv6网络)</p> 
 <p>ftp ipv6 [ ftp-server [ service-port ] [ vpn-instance vpn-instance-name ] [ dscp dscp-value|source { interface interface-type interface-number | ipv6 source-ipv6-address } |-d ] * [ -i interface-type interface-number ]]</p> 
 <p>·     从FTP客户端视图登录FTP服务器。</p> 
 <p>a.请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp[ipv6]</p> 
 <p>b.登录FTP服务器。</p> 
 <p>open server-address [ service-port ]</p> 
 <p>5. 配置FTP文件传输方式</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     设置FTP文件传输的模式。</p> 
 <p>¡     配置FTP文件传输的模式为ASCII模式。</p> 
 <p>ascii</p> 
 <p>¡     配置FTP文件传输的模式为二进制模式。</p> 
 <p>binary</p> 
 <p>缺省情况下，文件传输模式为二进制模式。</p> 
 <p>(3)     切换数据的传输方式。</p> 
 <p>passive</p> 
 <p>缺省情况下，数据传输的方式为被动方式。</p> 
 <p>1.4.3  显示帮助信息</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     显示命令或命令的帮助信息。</p> 
 <p>¡方式一</p> 
 <p>help [ command-name ]</p> 
 <p>¡方式二</p> 
 <p>? [ command-name ]</p> 
 <p>1.4.4  查看FTP服务器上的目录/文件</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     查看FTP服务器上的目录/文件。</p> 
 <p>¡方式一</p> 
 <p>dir [ remotefile [ localfile ] ]</p> 
 <p>¡方式二</p> 
 <p>ls [ remotefile [ localfile ] ]</p> 
 <p>1.4.5  操作FTP服务器上的目录</p> 
 <p>1. 配置准备</p> 
 <p>使用dir或者ls命令查看FTP服务器上的目录/文件的详细信息。</p> 
 <p>2. 配置步骤</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     操作FTP服务器上的目录</p> 
 <p>¡     显示当前用户正在访问的FTP服务器上的路径。</p> 
 <p>pwd</p> 
 <p>¡     切换FTP服务器上的工作路径。</p> 
 <p>cd { directory | .. | / }</p> 
 <p>¡     退出FTP服务器的当前目录，返回FTP服务器的上一级目录。</p> 
 <p>cdup</p> 
 <p>¡     在FTP服务器上创建目录。</p> 
 <p>mkdir directory</p> 
 <p>¡     删除FTP服务器上指定的目录。</p> 
 <p>rmdir directory</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     显示或切换FTP客户端本地的工作路径。</p> 
 <p>lcd[ directory |/]</p> 
 <p>上传的文件为该路径下的文件时，缺省情况下文件下载后也将保存到该路径。</p> 
 <p>1.4.7  操作FTP服务器上的文件</p> 
 <p>1. 配置准备</p> 
 <p>使用dir或者ls命令了解FTP服务器上的目录结构以及文件所处的位置。</p> 
 <p>2. 配置步骤</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     操作FTP服务器上的文件</p> 
 <p>¡     删除FTP服务器上的文件。</p> 
 <p>delete remotefile</p> 
 <p>用户必须具有删除的权限才能执行该操作。</p> 
 <p>¡     重命名文件。</p> 
 <p>rename [ oldfilename [ newfilename ] ]</p> 
 <p>¡     上传本地文件到FTP服务器。</p> 
 <p>put localfile [ remotefile ]</p> 
 <p>¡     下载FTP服务器上的文件。</p> 
 <p>get remotefile [ localfile ]</p> 
 <p>¡     在原文件的内容后面添加新文件的内容。</p> 
 <p>append localfile [ remotefile ]</p> 
 <p>¡     指定重传点。</p> 
 <p>restart marker</p> 
 <p>配合put、get、append等命令使用。</p> 
 <p>¡     更新本地文件。</p> 
 <p>newer remotefile</p> 
 <p>¡     从本地文件的尾部开始获取文件的剩余内容。</p> 
 <p>reget remotefile [ localfile ]</p> 
 <p>1.4.8  更改登录用户</p> 
 <p>1. 功能简介</p> 
 <p>当设备作为FTP客户端，与FTP服务器连接建立成功后，可以通过该功能实现不同权限用户之间的切换。用户成功切换后，不会影响当前的FTP连接(即FTP控制连接、数据连接以及连接状态都不变)。</p> 
 <p>2. 配置限制和指导</p> 
 <p>如果在用户切换时，输入的用户名/密码错误，则会断开当前连接，用户必须重新登录才能继续访问FTP服务器。</p> 
 <p>3. 配置步骤</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     在现有FTP连接上重新发起FTP认证。</p> 
 <p>user username [ password ]</p> 
 <p>1.4.9  FTP连接的维护与调试</p> 
 <p>1. 功能简介</p> 
 <p>当设备作为FTP客户端，与FTP服务器连接建立成功后，通过以下命令，可以帮助用户定位和诊断FTP连接出现的问题。</p> 
 <p>2. 配置步骤</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     维护与调试FTP连接</p> 
 <p>¡     显示FTP服务器支持的FTP相关协议命令字。</p> 
 <p>rhelp</p> 
 <p>¡     显示FTP服务器支持的FTP相关协议命令字的帮助信息。</p> 
 <p>rhelp protocol-command</p> 
 <p>¡     显示FTP服务器的状态。</p> 
 <p>rstatus</p> 
 <p>¡     显示FTP服务器上指定目录或文件的详细信息。</p> 
 <p>rstatus remotefile</p> 
 <p>¡     显示当前FTP连接的状态。</p> 
 <p>status</p> 
 <p>¡     显示FTP服务器的系统信息。</p> 
 <p>system</p> 
 <p>¡     切换FTP功能的协议信息开关。</p> 
 <p>verbose</p> 
 <p>缺省情况下，FTP协议信息开关处于开启状态。</p> 
 <p>¡     打开FTP调试信息开关。</p> 
 <p>debug</p> 
 <p>缺省情况下，FTP客户端调试信息开关处于关闭状态。</p> 
 <p>¡     清除缓存的命令应答。</p> 
 <p>reset</p> 
 <p>1.4.10  断开FTP连接</p> 
 <p>(1)     请在用户视图下执行本命令，进入FTP客户端视图。</p> 
 <p>ftp</p> 
 <p>(2)     断开与FTP服务器的连接。请选择其中一项进行配置。</p> 
 <p>¡     断开与FTP服务器的连接，并留在FTP客户端视图。请选择其中一项进行配置。</p> 
 <p>disconnect</p> 
 <p>close</p> 
 <p>¡     断开与FTP服务器的连接，并退回到用户视图。请选择其中一项进行配置。</p> 
 <p>bye</p> 
 <p>quit</p> 
 <p>1.4.11  FTP客户端显示和维护</p> 
 <p>在完成上述配置后，可在任意视图下执行display命令，通过查看显示信息验证配置的效果。</p> 
 <p>表1-2 FTP客户端显示和维护</p> 
 <p>操作</p> 
 <p>命令</p> 
 <p>显示设备作为FTP客户端时的源地址配置</p> 
 <p>display ftp client source</p> 
 <p>1. 组网需求</p> 
 <p>·     主设备和从设备两台成员设备组成IRF。主设备的成员编号为1，从设备的成员编号为2。</p> 
 <p>·     IRF作为FTP客户端，PC作为FTP服务器。</p> 
 <p>·     IRF从PC上下载新的文件temp.bin，并将配置文件上传到PC进行备份。</p> 
 <p>·     PC上已设置设备登录FTP服务器的用户名为abc，密码为123456。</p> 
 <p>2. 组网图</p> 
 <p>图1-2 FTP客户端典型配置组网图</p> 
 <p align="center"><img src="https://images2.imgbox.com/d6/9a/CWxLmlxy_o.png" alt="4e6afa849808dbfc03d3c11b3b6562be.png"></p> 
 <p>3. 配置步骤</p> 
 <p align="center"><img src="https://images2.imgbox.com/59/f5/2aKOzT4H_o.png" alt="2b453f127c025f6cf7d43d95f344da97.png"></p> 
 <p>·     缺省情况下，本设备的接口处于ADM(Administratively Down)状态，请根据实际需要在对应接口视图下使用undo shutdown命令开启接口。</p> 
 <p>·     如果主设备和从设备剩余的内存空间不够，请使用delete /unreserved file-url命令删除部分暂时不用的文件后再执行以下操作。</p> 
 <p>配置前请确保IRF和PC之间路由可达，IP地址如图1-2所示，具体配置步骤略。</p> 
 <p># 以用户名abc、密码123456登录FTP服务器。</p> 
 <p> ftp 10.1.1.1</p> 
 <p>Press CTRL+C to abort.</p> 
 <p>Connected to 10.1.1.1 (10.1.1.1).</p> 
 <p>220 WFTPD 2.0 service (by Texas Imperial Software) ready for new user</p> 
 <p>User (10.1.1.1:(none)): abc</p> 
 <p>331 Give me your password, please</p> 
 <p>Password:</p> 
 <p>230 Logged in successfully</p> 
 <p>Remote system type is MSDOS.</p> 
 <p>ftp&gt;</p> 
 <p># 将传输模式设置为binary，以便传输文件。</p> 
 <p>ftp&gt; binary</p> 
 <p>200 TYPE is now 8-bit binary</p> 
 <p># 将文件temp.bin从FTP服务器下载到IRF。</p> 
 <p>·     将文件temp.bin从FTP服务器下载到主设备存储介质的根目录下。</p> 
 <p>ftp&gt; get temp.bin</p> 
 <p>local: temp.bin remote: temp.bin</p> 
 <p>150 Connecting to port 47457</p> 
 <p>226 File successfully transferred</p> 
 <p>23951480 bytes received in 95.399 seconds (251.0 kbyte/s)</p> 
 <p>·     将文件temp.bin从FTP服务器下载到从设备存储介质的根目录下。</p> 
 <p>ftp&gt; get temp.bin slot2#flash:/temp.bin</p> 
 <p># 将IRF的配置文件config.cfg上传到FTP服务器进行备份。</p> 
 <p>ftp&gt; ascii</p> 
 <p>200 TYPE is now ASCII</p> 
 <p>ftp&gt; put config.cfg back-config.cfg</p> 
 <p>local: config.cfg remote: back-config.cfg</p> 
 <p>150 Connecting to port 47461</p> 
 <p>226 File successfully transferred</p> 
 <p>3494 bytes sent in 5.646 seconds</p> 
 <p>(618.00 kbyte/s)</p> 
 <p>ftp&gt; bye</p> 
 <p>221-Goodbye. You uploaded 2 and downloaded 2 kbytes.</p> 
 <p>221 Logout.</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ef5b37980bd8e6639b15aa7ad2f43f4d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">超微服务器查型号,超微 云服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f64b8bb238ade97a6b0cdea2700e718c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">hutool简单的文件服务器,hutool实战（带你掌握里面的各种工具）目录</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>