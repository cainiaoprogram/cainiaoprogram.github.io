<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【网络技术】【Kali Linux】Wireshark嗅探（八）动态主机配置协议（DHCP） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【网络技术】【Kali Linux】Wireshark嗅探（八）动态主机配置协议（DHCP）" />
<meta property="og:description" content="一、实验目的 本次实验使用 Wireshark （“网鲨”）流量分析工具进行网络流量嗅探，旨在初步了解动态主机配置协议（DHCP协议）的工作原理。
二、DHCP协议概述 动态主机配置协议（ D ynamic H ost C onfiguration P rotocol, DHCP）的作用是协助计算机在加入新的网络时获取新的IP地址。
三、实验网络环境设置 本次实验使用 Kali Linux 虚拟机完成，主机操作系统为 Windows 11，虚拟化平台选择 Oracle VM VirtualBox，网络模式（先后）选择 网络地址转换（NAT）和桥接网卡，如下图所示：
虚拟机设置：
网络模式1：
网络模式2：
四、DHCP协议报文捕获及分析 1、必要设置
在开始本次实验之前，需要将Kali Linux虚拟机获得IPv4地址的方式设定为“DHCP”。具体做法如下：
All Applications（所有应用）—— Advanced Network Configuration（高级网络配置项）—— Wired connection 1（当前网络连接）—— IPv4 Settings（IPv4设置）
将Method（方法）一栏设置为Automatic(DHCP)
2、实验组网
为了理解DHCP协议的工作原理，先后使用两种不同的组网模式，如下2图所说明：
在 网络地址转换（NAT） 模式下，虚拟机IP地址为10.0.2.15：
组网简图：
在 桥接网卡 模式下，虚拟机IP地址为192.168.1.23：
组网简图：
3、DHCP协议报文捕获及分析
（1） 在网络地址转换模式下，在 Kali Linux 虚拟机上启动 Wireshark，开始抓包，“过滤条件（Filter）”一栏中填写 dhcp 。
（2） 在“设备”——“网络”中将网络模式更改为“桥接网卡”，点击OK，此时抓取到更换网络（获取新IP地址）过程中的DHCP协议报文（共6条）：
（3） 请求报文协议字段内容：
（4） Offer报文协议字段内容：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/374cd765f9bf4050674a92e76c537ce6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-06T18:19:02+08:00" />
<meta property="article:modified_time" content="2024-01-06T18:19:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【网络技术】【Kali Linux】Wireshark嗅探（八）动态主机配置协议（DHCP）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、实验目的</h3> 
<p>本次实验使用 <strong>Wireshark</strong> （“网鲨”）流量分析工具进行网络<strong>流量嗅探</strong>，旨在初步了解动态主机配置协议（<strong>DHCP协议</strong>）的工作原理。</p> 
<h3><a id="DHCP_3"></a>二、DHCP协议概述</h3> 
<p>动态主机配置协议（ <strong>D</strong> ynamic <strong>H</strong> ost <strong>C</strong> onfiguration <strong>P</strong> rotocol, <strong>DHCP</strong>）的作用是协助计算机在加入新的网络时获取新的<strong>IP地址</strong>。</p> 
<h3><a id="_7"></a>三、实验网络环境设置</h3> 
<p>本次实验使用 <strong>Kali Linux</strong> 虚拟机完成，主机操作系统为 <strong>Windows 11</strong>，虚拟化平台选择 <strong>Oracle VM VirtualBox</strong>，网络模式（<strong>先后</strong>）选择 <strong>网络地址转换</strong>（NAT）和<strong>桥接网卡</strong>，如下图所示：</p> 
<p>虚拟机设置：<br> <img src="https://images2.imgbox.com/fa/d9/SE2X0QNY_o.png" alt="在这里插入图片描述"></p> 
<p>网络<strong>模式1</strong>：<br> <img src="https://images2.imgbox.com/8d/49/ZrEl2HMF_o.png" alt="在这里插入图片描述"></p> 
<p>网络<strong>模式2</strong>：<br> <img src="https://images2.imgbox.com/8f/33/0TyksIAB_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="DHCP_21"></a>四、DHCP协议报文捕获及分析</h3> 
<p><strong>1、必要设置</strong></p> 
<p>在开始本次实验之前，需要将Kali Linux虚拟机获得IPv4地址的方式设定为“DHCP”。具体做法如下：</p> 
<p>All Applications（所有应用）—— Advanced Network Configuration（高级网络配置项）—— Wired connection 1（当前网络连接）—— IPv4 Settings（IPv4设置）<br> 将Method（方法）一栏设置为Automatic(DHCP)</p> 
<p><img src="https://images2.imgbox.com/05/9a/eHVV2pJV_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/b0/58/lRohIRd9_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/8c/c4/a6euGTzE_o.png" alt="在这里插入图片描述"></p> 
<p><strong>2、实验组网</strong></p> 
<p>为了理解DHCP协议的工作原理，先后使用<strong>两种不同</strong>的组网模式，如下2图所说明：<br> 在 <strong>网络地址转换（NAT）</strong> 模式下，虚拟机IP地址为10.0.2.15：<br> <img src="https://images2.imgbox.com/26/e8/ax1mCXQf_o.png" alt="在这里插入图片描述"><br> 组网简图：</p> 
<p><img src="https://images2.imgbox.com/0f/a4/DiZnkZNS_o.png" alt="在这里插入图片描述"></p> 
<p>在 <strong>桥接网卡</strong> 模式下，虚拟机IP地址为192.168.1.23：<br> <img src="https://images2.imgbox.com/0c/d9/iyLexacF_o.png" alt="在这里插入图片描述">组网简图：<br> <img src="https://images2.imgbox.com/63/c2/J78Hp8Ec_o.png" alt="在这里插入图片描述"></p> 
<p><strong>3、DHCP协议报文捕获及分析</strong></p> 
<p><strong>（1）</strong> 在网络地址转换模式下，在 <strong>Kali Linux</strong> 虚拟机上启动 Wireshark，开始抓包，“<strong>过滤条件</strong>（Filter）”一栏中填写 <strong>dhcp</strong> 。</p> 
<p><img src="https://images2.imgbox.com/13/4f/ljQ2HUx1_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（2）</strong> 在“设备”——“网络”中将网络模式更改为“桥接网卡”，点击OK，此时抓取到更换网络（<strong>获取新IP地址</strong>）过程中的DHCP协议报文（共6条）：</p> 
<p><img src="https://images2.imgbox.com/35/3c/wEUtUfE3_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（3）</strong> 请求报文协议字段内容：</p> 
<p><img src="https://images2.imgbox.com/95/61/dtAAS718_o.png" alt="在这里插入图片描述"></p> 
<p><strong>（4）</strong> Offer报文协议字段内容：</p> 
<p><img src="https://images2.imgbox.com/6b/ce/emyAgXe0_o.png" alt="在这里插入图片描述"></p> 
<p>包含了新的客户机IP地址。</p> 
<p><strong>简单说来</strong>，DHCP协议使得计算机在更换网络环境时，可以从DHCP服务器自动更新其IP地址。</p> 
<p>至此，本次实验结束。</p> 
<h3><a id="_90"></a>五、参考文献</h3> 
<p>《计算机网络（第7版）》，谢希仁 编著，北京，电子工业出版社，2017年10月。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6deecb9a72f0d32e8754ed01888e55c3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">uniappVue3版本中组件生命周期和页面生命周期的详细介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f7157969d0846246d0112ac9f4054357/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">A2DP Source如何从android系统拿到音频数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>