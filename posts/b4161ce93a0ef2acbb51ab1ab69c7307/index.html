<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jvm虚拟机初识 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jvm虚拟机初识" />
<meta property="og:description" content="JVM Java虚拟机就是二进制字节码的运行环境，负责装载字节码到其内部，解释/编译为对应平台上的机器指令执行。每一条Java指令，Java虚拟机规范中都有详细定义，如怎么取操作数，怎么处理操作数，处理结果放在哪里。
特点：
一次编译，到处运行自动内存管理自动垃圾回收功能 JVM的位置 JVM是运行在操作系统之上的，它与硬件没有直接的交互
JVM整体结构 Java虚拟机（JVM）是一个包含多个组件的运行时环境。其核心组件包括类加载子系统、运行时数据区、执行引擎、本地接口和本地方法库。类加载子系统负责加载Java类，而运行时数据区包括方法区和堆，堆又分为新生代和老年代。执行引擎负责解释和执行Java字节码，同时具备即时编译器提高性能。本地接口允许Java代码与本地代码进行交互，而本地方法库包含与底层操作系统相关的本地方法。这些组件协同工作，使得Java程序能够在不同平台上高效运行。
- **Class Loader Subsystem（类加载子系统）** - Bootstrap Class Loader - Extension Class Loader - Application Class Loader - **Runtime Data Area（运行时数据区）** - **Method Area（方法区）** - **Heap（堆）** - New Generation（新生代） - Eden Space（伊甸区） - Survivor Spaces (S0, S1)（幸存者区） - Old Generation（老年代） - PermGen / Metaspace（永久代 / 元空间） - **Execution Engine（执行引擎）** - **Interpreter（解释器）** - **Just-In-Time (JIT) Compiler（即时编译器）** - **Garbage Collector（垃圾收集器）** - **Native Interface（本地接口）** - Native Method Interface（本地方法接口） - **Native Method Libraries（本地方法库）** Java代码执行流程 Java 源码编写" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b4161ce93a0ef2acbb51ab1ab69c7307/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-03T18:12:20+08:00" />
<meta property="article:modified_time" content="2024-01-03T18:12:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jvm虚拟机初识</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>JVM</h3> 
<p>Java虚拟机就是二进制字节码的运行环境，负责装载字节码到其内部，解释/编译为对应平台上的机器指令执行。每一条Java指令，Java虚拟机规范中都有详细定义，如怎么取操作数，怎么处理操作数，处理结果放在哪里。</p> 
<p>特点：</p> 
<ul><li>一次编译，到处运行</li><li>自动内存管理</li><li>自动垃圾回收功能</li></ul> 
<p></p> 
<h3>JVM的位置</h3> 
<p>JVM是运行在操作系统之上的，它与硬件没有直接的交互<br><img alt="" height="457" src="https://images2.imgbox.com/58/7c/mk09fLqa_o.png" width="771"></p> 
<h3 id="jvm整体结构">JVM整体结构</h3> 
<p></p> 
<p>Java虚拟机（JVM）是一个包含多个组件的运行时环境。其核心组件包括类加载子系统、运行时数据区、执行引擎、本地接口和本地方法库。类加载子系统负责加载Java类，而运行时数据区包括方法区和堆，堆又分为新生代和老年代。执行引擎负责解释和执行Java字节码，同时具备即时编译器提高性能。本地接口允许Java代码与本地代码进行交互，而本地方法库包含与底层操作系统相关的本地方法。这些组件协同工作，使得Java程序能够在不同平台上高效运行。</p> 
<pre><code class="language-diff">
- **Class Loader Subsystem（类加载子系统）**
  - Bootstrap Class Loader
  - Extension Class Loader
  - Application Class Loader

- **Runtime Data Area（运行时数据区）**
  - **Method Area（方法区）**
  - **Heap（堆）**
    - New Generation（新生代）
      - Eden Space（伊甸区）
      - Survivor Spaces (S0, S1)（幸存者区）
    - Old Generation（老年代）
    - PermGen / Metaspace（永久代 / 元空间）

- **Execution Engine（执行引擎）**
  - **Interpreter（解释器）**
  - **Just-In-Time (JIT) Compiler（即时编译器）**
  - **Garbage Collector（垃圾收集器）**
  
- **Native Interface（本地接口）**
  - Native Method Interface（本地方法接口）

- **Native Method Libraries（本地方法库）**
</code></pre> 
<h3><img alt="" height="573" src="https://images2.imgbox.com/0a/6d/TrBUl1Io_o.png" width="619"></h3> 
<h3><img alt="" height="581" src="https://images2.imgbox.com/b5/a2/gxk2zTx6_o.png" width="833"></h3> 
<h3 id="java代码执行流程">Java代码执行流程</h3> 
<p><strong>Java 源码编写</strong></p> 
<blockquote> 
 <p>开发人员使用 Java 编写源代码，这些源代码以 <code>.java</code> 为扩展名。</p> 
</blockquote> 
<p><strong>Java 编译器（javac）</strong></p> 
<blockquote> 
 <p>使用 Java 编译器 (<code>javac</code>) 将源代码编译成字节码文件（以 <code>.class</code> 为扩展名）。这个阶段生成的字节码文件包含了 Java 字节码指令，是与平台无关的中间代码。</p> 
</blockquote> 
<p><strong>类加载器</strong></p> 
<blockquote> 
 <p>类加载器负责加载字节码文件到内存中，形成类的运行时数据结构。Java 的类加载器体系通常包括启动类加载器、扩展类加载器和应用程序类加载器。</p> 
</blockquote> 
<p><strong>字节码验证器：</strong></p> 
<blockquote> 
 <p>字节码验证器确保字节码符合 Java 虚拟机规范，防止恶意代码和错误。验证包括类型检查、访问权限检查、代码转换检查等。</p> 
</blockquote> 
<p><strong>字节码解释执行或JIT编译：</strong></p> 
<blockquote> 
 <p>执行引擎负责将字节码指令解释执行或者通过即时编译器（JIT 编译器）将字节码编译成本地机器码，以提高执行效率。JIT 编译器将热点代码（经常执行的代码）编译成本地机器码，加速程序的执行。</p> 
</blockquote> 
<p><strong>运行时数据区</strong></p> 
<blockquote> 
 <p>在运行时数据区中，包括方法区、堆、虚拟机栈、本地方法栈、程序计数器等。这些区域用于存储程序的状态、方法的运行时信息、对象实例等。</p> 
</blockquote> 
<p><strong>本地方法调用</strong></p> 
<blockquote> 
 <p>如果 Java 代码中包含了本地方法调用（<code>native</code> 关键字），则调用本地方法接口（JNI）与本地方法库进行连接。本地方法接口负责将 Java 数据类型转换为本地方法支持的数据类型，并调用本地方法库中的函数。</p> 
</blockquote> 
<p><strong>本地方法库：</strong></p> 
<blockquote> 
 <p>本地方法库是由本地语言（如 C 或 C++）编写的库，其中包含与 Java 代码进行交互的本地方法的实现。当执行引擎调用本地方法时，实际的执行是在本地方法库中完成的。</p> 
</blockquote> 
<p><strong>操作系统</strong></p> 
<blockquote> 
 <p>Java 虚拟机与操作系统交互，使用操作系统提供的服务和资源。这可能包括文件系统、网络、线程管理等。</p> 
</blockquote> 
<p><strong>最终执行</strong></p> 
<blockquote> 
 <p>Java 程序的最终执行是通过执行引擎执行字节码指令，从而按照程序的逻辑改变程序状态，包括对栈、堆和方法区的操作。整个过程中，涉及到了类加载、字节码验证、执行引擎执行、本地方法调用等多个组成部分。</p> 
</blockquote> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/16a18ec52a2368acc8f5d031aeaad14f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【编程语言】Python基础知识整理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11594e222eda6cf75e9446561ad67f94/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">降维算法的简单介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>