<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubantu中用户相关操作(创建用户、设置密码、切换用户、修改用户信息、附加组、删除用户) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubantu中用户相关操作(创建用户、设置密码、切换用户、修改用户信息、附加组、删除用户)" />
<meta property="og:description" content="1. 创建用户 【创建后会立即让设置密码】 命令说明useradd创建(添加)用户 useradd命令选项:
选项说明-m自动创建用户主目录,主目录的名字就是用户名-g指定用户所属的用户组，默认不指定会自动创建一个同名的用户组 创建用户效果图:
查看所有用户信息的文件效果图:
说明:
useradd 命令的使用需要使用管理员权限，前面需要加上 sudo创建用户如果不指定用户组，默认会自动创建一个同名的用户组查看用户是否创建成功，可以查看/etc/passwd这个文件查看用户组是否创建成功，可以查看/etc/group这个文件 passwd文件中的每项信息说明,以root:x:0:0:root:/root:/bin/bash为例:
第一个：用户名第二个：密码占位符第三个：uid, 用户id第四个：gid, 用户所在组id第五个：用户描述, 可选，第六个：用户的主目录所在位置第七个：用户所用 shell 的类型，一般由bash或者sh，默认不设置是sh类型 group文件中的每项信息说明, 以laowang:x:1001:为例:
第一个：用户组名第二个：用户组密码占位符，一般Linux系统的用户组都没有密码的第三个：组id id命令查看用户信息:
命令说明id查看用户信息 id命令效果图:
每项信息说明:
uid=1001(laowang) gid=1001(laowang) 组=1001(laowang)
第一个: uid 表示用户id第二个: gid 表示用户组id第三个: 组 表示用户所在的用户组 2. 设置密码 给其它用户设置密码，需要使用: sudo passwd 用户名
3. 切换用户 命令说明su切换用户 语法格式: su - 用户名
切换用户效果图:
在laowang用户使用sudo -s效果图:
解决办法:
给laowang用户设置一个sudo附加组， 需要使用usermod修改用户信息 【新用户不能使用sudo -s 需要修改用户信息】 4. 修改用户信息 命令说明usermod修改用户信息 usermod选项:
命令说明-G设置一个附加组 【可以理解为干爸】-g修改用户组 【增加附加组要在已有sudo权限的用户中添加】
usermod命令效果图:
设置附加组sudo以后，在sudo -s切换到管理员用户效果图:
5. 扩展: 删除附加组 命令说明gpasswd添加和删除附加组信息 gpasswd命令选项: 【-a -d 的使用方法是一样的】" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/416d8b2fb5022b5a7a856fd0c9acc0ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-10T15:04:27+08:00" />
<meta property="article:modified_time" content="2022-12-10T15:04:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubantu中用户相关操作(创建用户、设置密码、切换用户、修改用户信息、附加组、删除用户)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="用户相关操作">1. 创建用户  <span style="color:#86ca5e;">【创建后会立即让设置密码】</span></h4> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>useradd</td><td>创建(添加)用户</td></tr></tbody></table> 
<p><strong>useradd命令选项:</strong></p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-m</td><td>自动创建用户主目录,主目录的名字就是用户名</td></tr><tr><td>-g</td><td>指定用户所属的用户组，默认不指定会自动创建一个同名的用户组</td></tr></tbody></table> 
<p><strong>创建用户效果图:</strong></p> 
<p><img alt="" height="166" src="https://images2.imgbox.com/8f/62/0muiODJw_o.png" width="971"></p> 
<p><strong>查看所有用户信息的文件效果图:</strong></p> 
<p><img alt="" height="212" src="https://images2.imgbox.com/5f/f3/cnY0OTqC_o.png" width="960"></p> 
<p><img alt="" height="550" src="https://images2.imgbox.com/ed/9b/gosDnXCC_o.png" width="965"></p> 
<p><strong>说明:</strong></p> 
<ul><li><strong>useradd</strong> 命令的使用需要使用管理员权限，前面需要加上 <strong>sudo</strong></li><li>创建用户如果不指定用户组，默认会自动创建一个同名的用户组</li><li>查看用户是否创建成功，可以查看<strong>/etc/passwd</strong>这个文件</li><li>查看用户组是否创建成功，可以查看<strong>/etc/group</strong>这个文件</li></ul> 
<p><strong>passwd文件中的每项信息说明,以root:x:0:0:root:/root:/bin/bash为例:</strong></p> 
<ul><li>第一个：用户名</li><li>第二个：密码占位符</li><li>第三个：uid, 用户id</li><li>第四个：gid, 用户所在组id</li><li>第五个：用户描述, 可选，</li><li>第六个：用户的主目录所在位置</li><li>第七个：用户所用 shell 的类型，一般由bash或者sh，默认不设置是sh类型</li></ul> 
<p><strong>group文件中的每项信息说明, 以laowang:x:1001:为例:</strong></p> 
<ul><li>第一个：用户组名</li><li>第二个：用户组密码占位符，一般Linux系统的用户组都没有密码的</li><li>第三个：组id</li></ul> 
<p><strong>id命令查看用户信息:</strong></p> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td>查看用户信息</td></tr></tbody></table> 
<p><strong>id命令效果图:</strong></p> 
<p><img alt="" height="115" src="https://images2.imgbox.com/84/3a/DJZSmU0l_o.png" width="963"></p> 
<p><strong>每项信息说明:</strong></p> 
<p>uid=1001(laowang) gid=1001(laowang) 组=1001(laowang)</p> 
<ul><li>第一个: uid 表示用户id</li><li>第二个: gid 表示用户组id</li><li>第三个: 组 表示用户所在的用户组</li></ul> 
<h4 id="2-设置密码">2. 设置密码</h4> 
<p>给其它用户设置密码，需要使用:<strong> sudo passwd 用户名</strong></p> 
<p></p> 
<h4 id="3-切换用户">3. 切换用户</h4> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>su</td><td>切换用户</td></tr></tbody></table> 
<p><strong>语法格式: su - 用户名</strong></p> 
<p><strong>切换用户效果图:</strong></p> 
<p><img alt="" height="171" src="https://images2.imgbox.com/3f/cd/VaRbLo7m_o.png" width="974"></p> 
<p><strong>在laowang用户使用sudo -s效果图:</strong></p> 
<p><img alt="" height="204" src="https://images2.imgbox.com/8d/4f/eY9c7KU8_o.png" width="975"></p> 
<p>解决办法:</p> 
<ul><li>给laowang用户设置一个sudo附加组， 需要使用usermod修改用户信息  <span style="color:#86ca5e;">【新用户不能使用sudo -s  需要修改用户信息】</span></li></ul> 
<h4 id="4-修改用户信息">4. 修改用户信息</h4> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>usermod</td><td>修改用户信息</td></tr></tbody></table> 
<p><strong>usermod选项:</strong></p> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>-G</td><td>设置一个附加组    <span style="color:#86ca5e;">【可以理解为干爸】</span></td></tr><tr><td>-g</td><td>修改用户组</td></tr></tbody></table> 
<p><span style="color:#86ca5e;">【增加附加组要在已有sudo权限的用户中添加】</span></p> 
<p><strong>usermod命令效果图:</strong></p> 
<p><img alt="" height="229" src="https://images2.imgbox.com/c0/24/UYy8s47X_o.png" width="966"></p> 
<p><strong>设置附加组sudo以后，在sudo -s切换到管理员用户效果图:</strong></p> 
<p><img alt="" height="332" src="https://images2.imgbox.com/6d/65/v9jOPREY_o.png" width="963"></p> 
<h4 id="5-扩展-删除附加组">5. 扩展: 删除附加组</h4> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>gpasswd</td><td>添加和删除附加组信息</td></tr></tbody></table> 
<p><strong>gpasswd命令选项:  <span style="color:#86ca5e;">【-a  -d  的使用方法是一样的】</span></strong></p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-a 用户名</td><td>给用户添加附加组</td></tr><tr><td>-d 用户名</td><td>给用户删除附加组</td></tr></tbody></table> 
<p><strong>删除附加组效果图:</strong></p> 
<p><img alt="" height="197" src="https://images2.imgbox.com/e0/ba/mjptiKi9_o.png" width="969"></p> 
<p><strong>删除附加组再次使用 sudo -s 效果图:</strong></p> 
<p><img alt="" height="282" src="https://images2.imgbox.com/b3/3b/oEGGZVym_o.png" width="967"></p> 
<p><span style="color:#86ca5e;">【sudo -s 有时候得重启终端或关闭终端】</span></p> 
<h4 id="5-删除用户">5. 删除用户</h4> 
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>userdel</td><td>删除用户</td></tr></tbody></table> 
<p><strong>userdel命令选项:</strong></p> 
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>-r 用户名</td><td>删除用户主目录，必须要设置，否则用户主目录不会删除</td></tr></tbody></table> 
<p><strong>删除用户效果图:</strong></p> 
<p><img alt="" height="121" src="https://images2.imgbox.com/bb/d1/rcIxCdSe_o.png" width="966"></p> 
<p><span style="color:#86ca5e;">【不能在当前用户删除本身的】</span></p> 
<p><strong>id查看用户信息效果图:</strong></p> 
<p><img alt="" height="100" src="https://images2.imgbox.com/06/f4/Bh2KqjPY_o.png" width="965"></p> 
<p><strong>查看group文件信息效果图:</strong></p> 
<p><img alt="" height="592" src="https://images2.imgbox.com/ae/d1/IE9GYE0I_o.png" width="966"></p> 
<p><strong>说明:</strong></p> 
<ul><li>删除用户，默认同名的用户组也会被删除</li></ul> 
<h4 id="6-小结">6. 小结</h4> 
<ul><li>创建用户命令格式: <strong>sudo useradd -m 用户名</strong>, 默认会创建一个同名的用户组。</li><li>查看用户信息使用 <strong>id</strong> 命令或者 <strong>/etc/passwd文件</strong></li><li>查看用户组信息使用 <strong>/etc/group文件</strong></li><li>给用户设置密码使用 <strong>sudo passwd 用户名</strong></li><li>切换用户使用 <strong>su - 用户名</strong></li><li>设置附加组使用 <strong>sudo usermod -G</strong> 组名 用户名</li><li>删除用户使用 <strong>sudo userdel -r 用户名</strong>，默认会删除同名的用户组。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d531e4bf75be8c56b7bc76814f8a7680/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Git安装包（window64版本，附有下载教程）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3642e775d142dd01f631b45fd1813724/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">哥德巴赫猜想（C语言）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>