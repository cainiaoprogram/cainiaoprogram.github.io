<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据可视化分析框架 amCharts 5 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据可视化分析框架 amCharts 5" />
<meta property="og:description" content="官网文档amCharts 5 框架官网https://www.amcharts.com/ 下载安装 amCharts npm install @amcharts/amcharts5 在组件的脚本部分导入 amCharts 库 import * as am5 from &#39;@amcharts/amcharts5&#39;; import * as am5xy from &#39;@amcharts/amcharts5/xy&#39;; import am5themes_Animated from &#39;@amcharts/amcharts5/themes/Animated&#39;; amCharts 5 演示 &lt;template&gt; &lt;div class=&#34;manufacturingStateTestData&#34;&gt; &lt;div class=&#34;mainlayout&#34;&gt; &lt;div class=&#34;goBack poi flex0&#34; @click=&#34;goBack&#34; style=&#34;width: 200px&#34;&gt; &lt;i class=&#34;el-icon-arrow-left b mr5&#34;&gt;&lt;/i&gt;订单 &lt;span class=&#34;g5 n&#34;&gt; -- 数据可视化分析 &lt;/span&gt; &lt;/div&gt; &lt;div class=&#34;bgf pl30 pr30 pt20 pb20&#34; style=&#34;margin-top: 35px&#34;&gt; &lt;div class=&#34;hikeen-handleBar&#34;&gt; &lt;div ref=&#34;chartDiv&#34; style=&#34;width: 100%;height: 600px&#34;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import {pmsNewOrderApi} from &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c0ffd746df0651a9330a1b87fd486a21/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-27T13:41:47+08:00" />
<meta property="article:modified_time" content="2022-01-27T13:41:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据可视化分析框架 amCharts 5</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4>官网文档<a class="link-info has-card" href="https://www.amcharts.com/" rel="nofollow" title="amCharts 5 框架官网"><span class="link-card-box"><span class="link-title">amCharts 5 框架官网</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/0a/1c/bhqb2xA1_o.png" alt="icon-default.png?t=M0H8">https://www.amcharts.com/</span></span></a></h4> 
<ul><li> <h4>下载安装 amCharts </h4> </li></ul> 
<pre><code>npm install @amcharts/amcharts5</code></pre> 
<ul><li> <h4>在组件的脚本部分导入 amCharts 库</h4> </li></ul> 
<pre><code class="language-javascript">import * as am5 from '@amcharts/amcharts5';
import * as am5xy from '@amcharts/amcharts5/xy';
import am5themes_Animated from '@amcharts/amcharts5/themes/Animated';</code></pre> 
<ul><li> <h4><span style="color:#0d0016;">amCharts 5 演示</span></h4> </li></ul> 
<pre><code class="language-html">&lt;template&gt;
    &lt;div class="manufacturingStateTestData"&gt;
        &lt;div class="mainlayout"&gt;
            &lt;div class="goBack poi flex0" @click="goBack" style="width: 200px"&gt;
                &lt;i class="el-icon-arrow-left b mr5"&gt;&lt;/i&gt;订单
                &lt;span class="g5 n"&gt; -- 数据可视化分析 &lt;/span&gt;
            &lt;/div&gt;
            &lt;div class="bgf pl30 pr30 pt20 pb20" style="margin-top: 35px"&gt;
                &lt;div class="hikeen-handleBar"&gt;
                    &lt;div ref="chartDiv" style="width: 100%;height: 600px"&gt;&lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import {pmsNewOrderApi} from "@/axios/api";
    import * as am5 from '@amcharts/amcharts5';
    import * as am5xy from '@amcharts/amcharts5/xy';
    import am5themes_Animated from '@amcharts/amcharts5/themes/Animated';

    export default {
        name: "sapDataAnalysis",
        components: {},
        data() {
            return {
                tableData: [],
            };
        },
        created() {
            this.allExportExcelData()
        },
        mounted() {
            setTimeout(() =&gt; {
                this.openData(this.tableData)
            }, 100)
        },

        beforeDestroy() {
            if (this.root) {
                this.root.dispose();
            }
        },

        methods: {
            allExportExcelData() {
                this.tableData = []
                let data = [{ // 这里是从后端获取的所有数据
                    "tid": "1478348630636335105",
                    "tenantId": "1442731289412210689",
                    "state": 1,
                    "orderDate": "2021-12-01 08:00:00",
                    "orderNumber": "HK-2021120002",
                    "productNumber": "9.TS2T512CP538C59HX",
                    "productionQuantity": 970,
                    "customerOrderQuantity": 969,
                    "region": "迪拜",
                }, {
                    "tid": "1478348630724415489",
                    "tenantId": "1442731289412210689",
                    "state": 1,
                    "orderDate": "2021-12-02 08:00:00",
                    "orderNumber": "HK-2021120010-2",
                    "productNumber": "9.TS2T512CP538C59XMA",
                    "productionQuantity": 2424,
                    "customerOrderQuantity": 2424,
                    "region": "塔吉克斯坦",
                }, {
                    "tid": "1478348630770552834",
                    "tenantId": "1442731289412210689",
                    "state": 1,
                    "orderDate": "2021-12-02 08:00:00",
                    "orderNumber": "HK-2021120016-1",
                    "productNumber": "9.TRT2864P639BTSJP55",
                    "productionQuantity": 1614,
                    "customerOrderQuantity": 1610,
                    "region": "摩洛哥",
                }, {
                    "tid": "1478348630783135746",
                    "tenantId": "1442731289412210689",
                    "state": 1,
                    "orderDate": "2021-12-02 08:00:00",
                    "orderNumber": "HK-2021120016-2",
                    "productNumber": "9.TRT2864P639BTSJP55",
                    "productionQuantity": 209,
                    "customerOrderQuantity": 620,
                    "region": "摩洛哥",
                }, {
                    "tid": "1483728779334529026",
                    "tenantId": "1442731289412210689",
                    "state": 1,
                    "orderDate": "2021-12-01 08:00:00",
                    "orderNumber": "HK-TEST-ORDER001",
                    "productNumber": "9.TRT2851V09DCYMJL.2G",
                    "productionQuantity": 184,
                    "customerOrderQuantity": 660,
                    "region": "孟加拉",
                }]
                this.tableData = data
                // 下面注释是把视图需要的字段摘取出来 --- 可根据自己数据选择是否需要摘取
                /*data.forEach((item, index) =&gt; {
                    this.tableData.push({
                        orderNumber: item.orderNumber,
                        productionQuantity: item.productionQuantity,
                        customerOrderQuantity: item.customerOrderQuantity
                    })
                })*/
            },

            openData(data) {
                let root = am5.Root.new(this.$refs.chartDiv); // 使用ref或者id获取节点
                root.setThemes([am5themes_Animated.new(root)]);
                let chart = root.container.children.push(am5xy.XYChart.new(root, {
                    panY: false,
                    panX: true,
                    wheelX: "panX",
                    wheelY: "zoomX",
                    layout: root.verticalLayout
                }));
                chart.get("colors").set("step", 3);

                let scrollbarX = am5.Scrollbar.new(root, {
                    orientation: "horizontal"
                });
                chart.set("scrollbarX", scrollbarX);
                chart.bottomAxesContainer.children.push(scrollbarX);

                let cursor = chart.set("cursor", am5xy.XYCursor.new(root, {}))
                cursor.lineY.set("visible", false)

                let xAxis = chart.xAxes.push(am5xy.CategoryAxis.new(root, {
                    categoryField: "orderNumber",
                    renderer: am5xy.AxisRendererX.new(root, {
                        minGridDistance: 35
                    })
                }));
                xAxis.events.once("datavalidated", function (ev) {
                    ev.target.zoomToIndexes(0, 9); // 这里设置页面首次加载时,要展示多少条数据
                });
                xAxis.data.setAll(data);

                let yAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                    renderer: am5xy.AxisRendererY.new(root, {})
                }));
                let paretoAxisRenderer = am5xy.AxisRendererY.new(root, {opposite: true});
                let paretoAxis = chart.yAxes.push(am5xy.ValueAxis.new(root, {
                    renderer: paretoAxisRenderer,
                    min: 0,
                    max: 100,
                    strictMinMax: true
                }));
                paretoAxisRenderer.grid.template.set("forceHidden", true);
                paretoAxis.set("numberFormat", "#'%");

                function createSeries(field, name, color, dashed) {
                    let series = chart.series.push(am5xy.ColumnSeries.new(root, {
                        xAxis: xAxis,
                        yAxis: yAxis,
                        valueYField: field,
                        sequencedInterpolation: true,
                        categoryXField: "orderNumber", //字段需对应
                        tooltip: am5.Tooltip.new(root, {
                            labelText: name + ": {valueY}"
                        })
                    }));

                    series.columns.template.setAll({
                        tooltipText: "{categoryX}: {valueY}",
                        tooltipY: 0,
                        strokeOpacity: 0,
                        fillOpacity: 0.77,
                        strokeWidth: 2,
                        cornerRadiusTL: 9,
                        cornerRadiusTR: 9
                    });
                    series.columns.template.adapters.add("fill", function (fill, target) {
                        return chart.get("colors").getIndex(series.dataItems.indexOf(target.dataItem));
                    })
                    series.data.setAll(data);
                    series.appear(1000);
                    return series;
                }
                // 要展示的视图字段 - 展示线图或者柱状图 根据自己需要进行定义
                createSeries("productionQuantity", "生产数量", am5.color(0xB1B106));
                createSeries("customerOrderQuantity", "客户订单数量", am5.color(0xD68C45), true);
                chart.appear(1000, 100);

                this.root = root;
            },

            goBack() {
                window.history.back();
            },
        },

        watch: {},
    };
&lt;/script&gt;

&lt;style lang="scss"&gt;
    
&lt;/style&gt;
</code></pre> 
<ul><li> <h4>例图</h4> </li></ul> 
<p><img alt="" height="750" src="https://images2.imgbox.com/cf/54/nkGCiQ6n_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac74419581fbfdf7e41cfa50343f1e64/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">STP生成树——安全特性——单向环路故障——loopguard技术详细讲解、网线分类（附图，建议PC观看）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c2f4e18cec3e16b5b97799433e606ce/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vscode python报错处理</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>