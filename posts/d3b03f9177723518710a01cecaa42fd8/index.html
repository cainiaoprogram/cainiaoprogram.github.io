<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【详细步骤】Ubuntu安装Samba服务及配置共享文件夹 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【详细步骤】Ubuntu安装Samba服务及配置共享文件夹" />
<meta property="og:description" content="在Linux和Windows直接使用共享文件，有多爽谁用谁知道。
步骤：
0.确保软件安装源可用 1.安装samba 输入密码后等待安装完成
sudo apt-get install samba samba-common 2.创建一个共享文件夹，并设置777权限 nanshou是我的用户名
mkdir /home/nanshou/share sudo chmod 777 /home/nanshou/share 3.添加用户及密码 指令：sudo smbpasswd -a [用户名]
比如我的用户名nanshou
sudo smbpasswd -a nanshou 输入密码，密码会输入俩次。
4.修改配置文件 sudo vi /etc/samba/smb.conf 在配置文件的最后添加如下：
在这里插入图片描述
[share] comment = share folder browseable = yes path = /home/nanshou/share create mask = 0700 directory mask = 0700 valid users = nanshou force user = nanshou force group = nanshou public = yes available = yes writable = yes 其中nanshou，仍为我的用户名信息。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d3b03f9177723518710a01cecaa42fd8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-22T00:30:48+08:00" />
<meta property="article:modified_time" content="2021-08-22T00:30:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【详细步骤】Ubuntu安装Samba服务及配置共享文件夹</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在Linux和Windows直接使用共享文件，有多爽谁用谁知道。</p> 
<p><strong>步骤：</strong></p> 
<h3><a id="0_3"></a>0.确保软件安装源可用</h3> 
<h3><a id="1samba_4"></a>1.安装samba</h3> 
<p>输入密码后等待安装完成</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> samba samba-common
</code></pre> 
<h3><a id="2777_9"></a>2.创建一个共享文件夹，并设置777权限</h3> 
<p>nanshou是我的用户名</p> 
<pre><code class="prism language-bash"><span class="token function">mkdir</span> /home/nanshou/share
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> /home/nanshou/share
</code></pre> 
<h3><a id="3_15"></a>3.添加用户及密码</h3> 
<p>指令：<code>sudo smbpasswd -a [用户名]</code><br> 比如我的用户名nanshou</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> smbpasswd -a nanshou
</code></pre> 
<p>输入密码，密码会输入俩次。</p> 
<h3><a id="4_23"></a>4.修改配置文件</h3> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">vi</span> /etc/samba/smb.conf
</code></pre> 
<p>在配置文件的最后添加如下：<br> 在这里插入图片描述</p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>share<span class="token punctuation">]</span>
comment <span class="token operator">=</span> share folder
browseable <span class="token operator">=</span> <span class="token function">yes</span>
path <span class="token operator">=</span> /home/nanshou/share
create mask <span class="token operator">=</span> 0700
directory mask <span class="token operator">=</span> 0700
valid <span class="token function">users</span> <span class="token operator">=</span> nanshou
force user <span class="token operator">=</span> nanshou
force group <span class="token operator">=</span> nanshou
public <span class="token operator">=</span> <span class="token function">yes</span>
available <span class="token operator">=</span> <span class="token function">yes</span>
writable <span class="token operator">=</span> <span class="token function">yes</span>

</code></pre> 
<p>其中nanshou，仍为我的用户名信息。<br> <img src="https://images2.imgbox.com/50/41/mVHpCiu7_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5Samba_48"></a>5.重启Samba</h3> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">service</span> smbd restart
</code></pre> 
<p>6.ip地址操作<br> 使用ifconfig可以查看ip地址</p> 
<pre><code class="prism language-bash"><span class="token function">ifconfig</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/85/G48c57Dh_o.png" alt="在这里插入图片描述"><br> 如图高亮部分为我的ip<br> 建议使用静态ip<br> 静态ip操作<br> 打开网络设置<br> <img src="https://images2.imgbox.com/94/1d/aWsqIKA9_o.png" alt="在这里插入图片描述"><br> 选择手动，填写好相关参数。2.4.4.xxx和电脑主机保持在同一网段。<br> <img src="https://images2.imgbox.com/d6/da/WHQFZa29_o.png" alt="在这里插入图片描述"><br> 注意修改为静态ip需要<strong>重启Ubuntu</strong>后才能生效。</p> 
<h3><a id="7_69"></a>7.主机操作</h3> 
<p>点击win图标+R俩个按键，输入<code>\\+ubuntu的ip地址</code><br> 如图：我的是2.4.4.123<br> <img src="https://images2.imgbox.com/9b/6f/PBNYhC9F_o.png" alt="在这里插入图片描述"><br> 点确认。就可以看到共享文件夹share<br> <img src="https://images2.imgbox.com/17/5e/ynRp3kAC_o.png" alt="在这里插入图片描述"><br> 双击，输入账户和密码登录即可。建议保存密码。至此就完成了共享文件的操作。<br> 为了方便使用，右击共享文件夹，可以选择映射网络驱动器或者创建快捷方式<br> <img src="https://images2.imgbox.com/5e/20/b2ZpWkdC_o.png" alt="在这里插入图片描述"><br> 如映射快捷方式。<br> <img src="https://images2.imgbox.com/79/d2/I3rHg4tP_o.png" alt="在这里插入图片描述"><br> 就可以在我的电脑里面，网络位置下面看到共享文件夹。使用起来就像是一个磁盘非常方便。<br> <img src="https://images2.imgbox.com/1c/fa/GZRq5Lae_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_82"></a>问题总结：</h3> 
<p>1.文件路径不要搞错<br> 2.一些和我用户名<code>nanshou</code>相关的操作指令，改成自己的用户名<br> 3.注意ip地址填写准确，主机和Ubuntu在同一网段<br> 4.Ubuntu使用<code>ifconfig</code>查询ip信息，Windows使用<code>ipconfig</code>查询。</p> 
<p>其他问题欢迎留言讨论。<br> 如果有帮助的话，请不要吝啬点赞。<br> 感谢您的阅读。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3e164f6c0be601d9d1be791f18da57f6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vs code报错 检测到 #include 错误。请更新 includePath。和 g&#43;&#43; : 无法将“g&#43;&#43;”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/add270a7c9d7f6aba2debc74f4a2c532/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一些配置文件所在地址</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>