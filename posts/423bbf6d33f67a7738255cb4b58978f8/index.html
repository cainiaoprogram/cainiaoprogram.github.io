<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Objective-C学习（一）基础 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Objective-C学习（一）基础" />
<meta property="og:description" content="文章目录 前言一、OC与C的区别二、OC的数据类型三、OC面向对象和面向过程1. 类2. 对象3. 方法 四、多文件开发1.多类可指向同一个地址2.分组导航标记3.多文件开发 五、异常处理总结 前言 入职第一份工作iOS开发，师傅说先学习一下语法OC，和Android很多不同，竟然和C和Java有点类似，start！
环境：mac pro 版本10.
编译器：xcode12.2
xcode对mac版本要求很苛刻，如果安装不了就升级系统，而且Pro的cv是commond&#43;c不是ctrl&#43;c，每次换换快捷键就很(╥﹏╥）
一、OC与C的区别 Objective-C简称OC，是C语言的升级版，封装语法更为简单优化。
新建一个OC项目：
//导入系统的相关的使用的是“&lt;&gt;” #import &lt;Foundation/Foundation.h&gt; //导入其他非系统的类或者头文件使用的是 &#34;&#34; #import &#34;Person.h&#34; int main(int argc,const char * argv[]){ NSLog(@&#34;Hello World!&#34;); } .m代表message消息机制
main是OC的入口和出口，main的参数（可接收用户在运行时传递数据给程序、参数可不要）
int返回值 程序的结束状态
#import 将文件的内容拷贝到写指令的地方；其中#是预处理指令，import是include的增强（同一个文件无论import多少次，只会包含一次）。
框架：功能集 常用、Foundation框架 基础
@autoreleasepool是自动释放池（可删除、占时不必深入）
NSLog(@“Hello,world!”);是printf的增强：
（1）会输出一些调试信息（执行时间、程序名称、进程编号、线程编号、输出信息）
（2）会自动换行（最后加上\n换行只换一次，后面自动换行失效）
（3）c，oc均可输出
字符串：
（1）C语言存储：a.字符数组，b.字符指针
（2）OC：NSString指针变量，只能存储OC字符串的地址
（3）OC必须加前缀@符号
NSLog(@&#34;OC使用字符串要加前缀@&#34;) NSLog(@&#34;我是%@&#34;,str) 前缀：NextStep-&gt;Cocoa-&gt;Foundation框架之中
@符号：将C转为OC字符串，绝大部分关键字以@开头
注释：和C同
//单行注释 /* *多行注释 */ 函数的定义与调用（同C），编译连接执行： （1）在.m中写代码
（2）使用 编译器将源码编译为目标文件
cc -c xx.m a.预处理 b.检查语法 c." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/423bbf6d33f67a7738255cb4b58978f8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-28T15:14:05+08:00" />
<meta property="article:modified_time" content="2020-11-28T15:14:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Objective-C学习（一）基础</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#OCC_9" rel="nofollow">一、OC与C的区别</a></li><li><a href="#OC_81" rel="nofollow">二、OC的数据类型</a></li><li><a href="#OC_91" rel="nofollow">三、OC面向对象和面向过程</a></li><li><ul><li><a href="#1__96" rel="nofollow">1. 类</a></li><li><a href="#2__139" rel="nofollow">2. 对象</a></li><li><a href="#3__146" rel="nofollow">3. 方法</a></li></ul> 
  </li><li><a href="#_175" rel="nofollow">四、多文件开发</a></li><li><ul><li><a href="#1_176" rel="nofollow">1.多类可指向同一个地址</a></li><li><a href="#2_185" rel="nofollow">2.分组导航标记</a></li><li><a href="#3_192" rel="nofollow">3.多文件开发</a></li></ul> 
  </li><li><a href="#_203" rel="nofollow">五、异常处理</a></li><li><a href="#_237" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前言</h2> 
<p>入职第一份工作iOS开发，师傅说先学习一下语法OC，和Android很多不同，竟然和C和Java有点类似，start！</p> 
<p><strong>环境：mac pro 版本10.<br> 编译器：xcode12.2</strong></p> 
<p>xcode对mac版本要求很苛刻，如果安装不了就升级系统，而且Pro的cv是commond+c不是ctrl+c，每次换换快捷键就很(╥﹏╥）</p> 
<h2><a id="OCC_9"></a>一、OC与C的区别</h2> 
<p>Objective-C简称OC，是C语言的升级版，封装语法更为简单优化。</p> 
<p>新建一个OC项目：</p> 
<pre><code class="prism language-objectivec"><span class="token comment">//导入系统的相关的使用的是“&lt;&gt;”</span>
<span class="token macro property">#<span class="token directive keyword">import</span> &lt;Foundation/Foundation.h&gt;</span>
<span class="token comment">//导入其他非系统的类或者头文件使用的是 ""</span>
<span class="token macro property">#<span class="token directive keyword">import</span> "Person.h"</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol><li> <p>.m代表message消息机制</p> </li><li> <p>main是OC的入口和出口，main的参数（可接收用户在运行时传递数据给程序、参数可不要）</p> </li><li> <p>int返回值 程序的结束状态</p> </li><li> <p><code>#import</code> 将文件的内容拷贝到写指令的地方；其中#是预处理指令，import是include的增强（同一个文件无论import多少次，只会包含一次）。</p> </li><li> <p>框架：功能集 常用、Foundation框架 基础</p> </li><li> <p>@autoreleasepool是自动释放池（可删除、占时不必深入）</p> </li><li> <p><code>NSLog</code>(@“Hello,world!”);是printf的增强：<br> （1）会输出一些调试信息（执行时间、程序名称、进程编号、线程编号、输出信息）<br> （2）会自动换行（最后加上\n换行只换一次，后面自动换行失效）<br> （3）c，oc均可输出</p> </li><li> <p>字符串：<br> （1）C语言存储：a.字符数组，b.字符指针<br> （2）OC：<code>NSString</code>指针变量，只能存储OC字符串的地址<br> （3）OC必须加前缀@符号</p> <pre><code class="prism language-objectivec"><span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"OC使用字符串要加前缀@"</span><span class="token punctuation">)</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"我是%@"</span><span class="token punctuation">,</span>str<span class="token punctuation">)</span>
</code></pre> </li><li> <p>前缀：NextStep-&gt;Cocoa-&gt;Foundation框架之中</p> </li><li> <p>@符号：将C转为OC字符串，绝大部分关键字以@开头</p> </li><li> <p>注释：和C同</p> </li></ol> 
<pre><code class="prism language-objectivec">   <span class="token comment">//单行注释</span>
   <span class="token comment">/*
   *多行注释
   */</span>
</code></pre> 
<ol start="12"><li>函数的定义与调用（同C），编译连接执行：</li></ol> 
<p>（1）在.m中写代码<br> （2）使用 编译器将源码编译为目标文件</p> 
<pre><code class="prism language-bash">cc -c xx.m
</code></pre> 
<p>a.预处理 b.检查语法 c.编译<br> （3）链接</p> 
<pre><code class="prism language-bash">cc xx.o    //使用框架需要告诉编译器去哪个框架找函数和类
cc xx.o -framework
</code></pre> 
<p>（4）执行</p> 
<pre><code class="prism language-bash">a.out
</code></pre> 
<p><code>以上四步点击运行按钮即可</code></p> 
<ol start="13"><li>oc和c的文件名对比：</li></ol> 
<table><thead><tr><th></th><th>源文件</th><th>目标文件</th><th>可执行文件</th></tr></thead><tbody><tr><td>C</td><td>.c</td><td>.o</td><td>.out</td></tr><tr><td>OC</td><td>.m</td><td>.o</td><td>.out</td></tr></tbody></table> 
<h2><a id="OC_81"></a>二、OC的数据类型</h2> 
<ol><li>支持所有的C：基本：int double float char；指针：int *p1；构造：数组 结构体 枚举；空类型：void；自定义类型：typeof。</li><li><code>BOOL</code>类型：YES和NO中的一个（条件表达式结果），占一个字节，1个有符号的char变量</li><li>Boolean：存储true或false（条件表达式结果），无符号，不常用</li><li>class类型，类，可以直接调用</li><li>id类型 万能指针</li><li><code>nil</code>类型：同C指针NULL，基本数据默认0，不指向地址</li><li>SEL方法选择器</li><li>block代码段</li></ol> 
<h2><a id="OC_91"></a>三、OC面向对象和面向过程</h2> 
<p>OC的运算符、控制语句、关键字基本同C，<br> 常用关键字3个：<code>@interface、@implementation、@public</code></p> 
<p><strong>类与对象</strong> （源文件中）</p> 
<h3><a id="1__96"></a>1. 类</h3> 
<p>-&gt;声明：</p> 
<pre><code class="prism language-objectivec"><span class="token keyword">@interface</span> Person<span class="token punctuation">:</span>NSObject
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//公有变量，均可访问</span>
	<span class="token keyword">@public</span>
	NSString <span class="token operator">*</span>_name<span class="token punctuation">;</span><span class="token comment">//属性的名称以下划线开头</span>
	<span class="token keyword">int</span> _age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//方法的声明写在这个位置，函数用驼峰命名</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sayhi<span class="token punctuation">;</span> 
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sayhelloWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name<span class="token punctuation">;</span><span class="token comment">//一个参数</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>sumWith<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num1 and<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num2<span class="token punctuation">;</span><span class="token comment">//多个参数</span>
<span class="token keyword">@end</span>
</code></pre> 
<p>-&gt;实现：</p> 
<pre><code class="prism language-objectivec"><span class="token keyword">@implementation</span> Person
<span class="token comment">//方法实现写这</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sayhi
<span class="token punctuation">{<!-- --></span>
	<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"hi，你好呀！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"我是%@，我今年%d岁了。"</span><span class="token punctuation">,</span>_name<span class="token punctuation">,</span>_age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//一个参数,尽量加个With等介词，增强代码可读性</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sayhelloWith<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name
<span class="token punctuation">{<!-- --></span>
	<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"%@，很高兴认识你！"</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//多个参数（一个加法实例）空格+冒号下一个参数，可以加上and增强可读性</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>sumWith<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num1 and<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num2
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">int</span> sum <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>
	<span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">@end</span>
</code></pre> 
<h3><a id="2__139"></a>2. 对象</h3> 
<p>语法：类名 *对象名 = [类名 new];<br> 例：</p> 
<pre><code class="prism language-objectivec">Person <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>（传说中的new一个对象，和java语法有点像；前面的import和Python语法有点相似，语言不分家系列。）</p> 
<h3><a id="3__146"></a>3. 方法</h3> 
<p>在main中：</p> 
<ol><li>如果不在同一个文件，先引入类#import “Person.h”</li><li>新建一个对象，通过对象调用方法</li><li>调用： [对象 函数方法]；</li></ol> 
<pre><code class="prism language-objectivec">Person <span class="token operator">*</span>p1 <span class="token operator">=</span> <span class="token punctuation">[</span>Person new<span class="token punctuation">]</span><span class="token punctuation">;</span>
p1<span class="token operator">-&gt;</span>_name <span class="token operator">=</span> <span class="token string">@"张三"</span><span class="token punctuation">;</span>
p1<span class="token operator">-&gt;</span>_age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span>p1 sayhi<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>p1 sayhelloWith<span class="token punctuation">:</span><span class="token string">@"香香"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token punctuation">[</span>p1 sumWith<span class="token punctuation">:</span><span class="token number">10</span> and<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@"sum = %d"</span><span class="token punctuation">,</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>运行结果：</p> 
<pre><code class="prism language-objectivec">hi，你好呀！
我是张三，我今年<span class="token number">18</span>岁了。

香香，很高兴认识你！

sum <span class="token operator">=</span> <span class="token number">30</span>
</code></pre> 
<p>注意：1个参数 xxxWith: ，多个参数 xxxand:…and:…</p> 
<h2><a id="_175"></a>四、多文件开发</h2> 
<h3><a id="1_176"></a>1.多类可指向同一个地址</h3> 
<p>内存的五大区域：</p> 
<table><thead><tr><th>区域</th><th>定义</th></tr></thead><tbody><tr><td>堆</td><td>存储临时变量，局部变量</td></tr><tr><td>栈</td><td>存储成员变量，通过 new 或者 malloc calloc realloc申请出来的空间</td></tr><tr><td>BSS段</td><td>存储未初始化的全局变量，静态变量</td></tr><tr><td>数据段</td><td>存储已经初始化的全局变量，静态变量，常量</td></tr><tr><td>代码段</td><td>存储代码，存储程序的代码</td></tr></tbody></table> 
<h3><a id="2_185"></a>2.分组导航标记</h3> 
<pre><code class="prism language-objectivec"><span class="token macro property">#<span class="token directive keyword">pragma</span> mark 备注</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> mark -</span>
<span class="token macro property">#<span class="token directive keyword">pragma</span> mark - 备注</span>
</code></pre> 
<h3><a id="3_192"></a>3.多文件开发</h3> 
<ul><li> <p>同时创建.m和.h文件，新建文件时选择<code>Cocoa Class</code></p> </li><li> <p>同一个m文件中，调用本类方法：<code>[self 方法名]</code></p> </li><li> <p>连续包含关系<br> 假设School中有Classes有Student三个类，其中student有name属性<br> 在main函数调用时需要为这个学生命名，用法：</p> </li></ul> 
<pre><code class="prism language-objectivec">school1<span class="token operator">-&gt;</span>class1<span class="token operator">-&gt;</span>stuent1<span class="token operator">-&gt;</span>_name <span class="token operator">=</span> <span class="token string">@"学生甲"</span><span class="token punctuation">;</span>
</code></pre> 
<h2><a id="_203"></a>五、异常处理</h2> 
<p>错误、Bug、异常的区别</p> 
<table><thead><tr><th></th><th>现象</th><th>措施</th></tr></thead><tbody><tr><td>错误</td><td>源码不符合语法规范，无法编译</td><td>修改代码</td></tr><tr><td>Bug</td><td>执行结果不符合预期</td><td>调试修改</td></tr><tr><td>异常</td><td>执行在特定条件下会终止，后面代码也不会执行了</td><td>捕获异常</td></tr></tbody></table> 
<p>捕获异常：</p> 
<pre><code class="prism language-objectivec"><span class="token keyword">@try</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//代码</span>
<span class="token punctuation">}</span>
<span class="token keyword">@catch</span><span class="token punctuation">(</span>NSException <span class="token operator">*</span>ex<span class="token punctuation">)</span><span class="token comment">//ex是异常原因</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//异常时，执行代码</span>
<span class="token punctuation">}</span>
<span class="token keyword">@finally</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//是否错误都会执行</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>一般用得较少，多数用选择器来判断</p> 
<pre><code class="prism language-objectivec"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1 respondsToSelector<span class="token punctuation">:</span><span class="token keyword">@selector</span><span class="token punctuation">(</span>sayhi<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//有响应才执行</span>
	<span class="token punctuation">[</span>p1 sayhi<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="_237"></a>总结</h2> 
<p>语法不难，细节比较多，@和*号忘记比较多</p> 
<blockquote> 
 <p>参考学习：<a href="https://www.bilibili.com/video/BV1NJ411T78u?p=53" rel="nofollow">b站黑马程序员OC教学</a></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23025b32df180cbc7b2748e8bbac09f1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">完美实现跨域Iframe高度自适应</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/721e52744e82f75c02a19975a5eeb36f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机中丢失OpenNI2.dll</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>