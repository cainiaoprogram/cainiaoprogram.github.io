<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Opencv笔记 v1.0 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Opencv笔记 v1.0" />
<meta property="og:description" content="[toc]
2019年3月8日21点48分 杨军伟学习笔记
一、下载Opencv 1、官网下载（测试部分无法运行） 巨慢
2、https://opencv.org/releases.html
3、（3.2以下版本）https://blog.csdn.net/love666666shen/article/details/76449155
4、cmake下载：https://cmake.org/download/
二、安装Opencv 一、添加环境变量：目录\opencv\build\x86\vc11\bin 或者
目录\opencv\build\x64\vc11\bin
二、在【通用属性】 -&gt;【VC&#43;&#43;目录】 -&gt;【包含目录】中 添加：
目录\opencv\build\include 目录\opencv\build\include\opencv 目录\opencv\build\include\opencv2 三、工程库（lib）目录的配置 【VC&#43;&#43;目录】 -&gt;【库目录】中 添加：
目录\opencv\build\x86(64)\vc11\lib 四、添加依赖库
在【链接器】-&gt;【常规】-&gt;【附加库目录】选择lib目录 如：目录\opencv\build\x64\vc14\lib
在【链接器】-&gt;【输入】-&gt;【附加依赖项】中添加库文件名称(带’d’的时DEbug中用的)
opencv_world320.lib opencv_world320d.lib
1、OpenCV 3.2.0附加依赖项库 网上找的不能用 解决方法：到安装目录\opencv\build\x64\vc14\lib 找到对应的lib文件添加，我只找到目录下的2个 添加暂时可运行（后续验证就是这两个就行） 2、由于找不到 opencv_world320.dll，无法继续执行代 解决方法：到安装目录\opencv\build\x64\vc14\bin 复制里面的dll文件到 C:\Windows\System32 （x64） C:\Windows\SysWOW64 （x86）32位系统 五、其他情况不安全代码
将宏添加到 【c/c&#43;&#43;】-&gt;【预处理器】-&gt;【预处理器定义中】 测试代码：//图片放在项目的二级目录下
#include &lt;opencv2/opencv.hpp&gt;
using namespace cv;
int main(void)
{
Mat img=imread(&#34;1.jpg&#34;); imshow(&#34;test&#34;,img); waitKey(5000); }
图片打开成功
三、一般类与函数 1、Mat类
2、imread 读取图片，指定读取的颜色方式。 3、imshow 在指定名称的窗口显示指定图片 4、namedWindow 创建窗口 5、imwrite 向文件中写入一张图片 6、VideoCapture 类：对视频进行读取显示，以及调用摄像头。 7、定义ROI的两种方法 1、Mat类 用于保存图像以及其他矩阵数据的数据结构，默认情况下其尺寸为0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fbee4161f7ab26b73ffa69102279ffc7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-13T19:57:02+08:00" />
<meta property="article:modified_time" content="2019-06-13T19:57:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Opencv笔记 v1.0</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>[toc]</p> 
<p>2019年3月8日21点48分 杨军伟学习笔记</p> 
<hr> 
<h3 id="一、下载Opencv">一、下载Opencv</h3> 
<p>1、官网下载（测试部分无法运行） 巨慢<br> 2、<a href="https://opencv.org/releases.html" rel="nofollow">https://opencv.org/releases.html</a><br> 3、（3.2以下版本）<a href="https://blog.csdn.net/love666666shen/article/details/76449155">https://blog.csdn.net/love666666shen/article/details/76449155</a><br> 4、cmake下载：<a href="https://cmake.org/download/" rel="nofollow">https://cmake.org/download/</a></p> 
<h3 id="二、安装Opencv">二、安装Opencv</h3> 
<ul><li> <p>一、添加环境变量：目录\opencv\build\x86\vc11\bin 或者<br> 目录\opencv\build\x64\vc11\bin</p> </li><li> <p>二、在【通用属性】 -&gt;【VC++目录】 -&gt;【包含目录】中 添加：</p> <pre class="has"><code>目录\opencv\build\include
目录\opencv\build\include\opencv
目录\opencv\build\include\opencv2</code></pre> <p>三、工程库（lib）目录的配置 【VC++目录】 -&gt;【库目录】中 添加：</p> <pre class="has"><code>目录\opencv\build\x86(64)\vc11\lib</code></pre> <p>四、添加依赖库</p> </li><li> <p>在【链接器】-&gt;【常规】-&gt;【附加库目录】选择lib目录 如：目录\opencv\build\x64\vc14\lib</p> </li><li> <p>在【链接器】-&gt;【输入】-&gt;【附加依赖项】中添加库文件名称(带’d’的时DEbug中用的)<br> opencv_world320.lib opencv_world320d.lib</p> <pre class="has"><code>1、OpenCV 3.2.0附加依赖项库 网上找的不能用
解决方法：到安装目录\opencv\build\x64\vc14\lib
            找到对应的lib文件添加，我只找到目录下的2个 添加暂时可运行（后续验证就是这两个就行）
2、由于找不到 opencv_world320.dll，无法继续执行代
解决方法：到安装目录\opencv\build\x64\vc14\bin
            复制里面的dll文件到 C:\Windows\System32  （x64）
                            C:\Windows\SysWOW64   （x86）32位系统</code></pre> <p>五、其他情况不安全代码</p> <pre class="has"><code>将宏添加到 【c/c++】-&gt;【预处理器】-&gt;【预处理器定义中】</code></pre> <p>测试代码：//图片放在项目的二级目录下<br> #include &lt;opencv2/opencv.hpp&gt;<br> using namespace cv;<br> int main(void)<br> {<!-- --></p> <pre class="has"><code>Mat img=imread("1.jpg");
imshow("test",img);
waitKey(5000);</code></pre> <p>}<br> 图片打开成功</p> <h3 id="三、一般类与函数">三、一般类与函数</h3> </li><li> <p>1、Mat类</p> <pre class="has"><code>2、imread           读取图片，指定读取的颜色方式。
3、imshow           在指定名称的窗口显示指定图片
4、namedWindow      创建窗口
5、imwrite          向文件中写入一张图片
6、VideoCapture 类：对视频进行读取显示，以及调用摄像头。
7、定义ROI的两种方法</code></pre> </li></ul> 
<h4 id="1、Mat类">1、Mat类</h4> 
<p>用于保存图像以及其他矩阵数据的数据结构，默认情况下其尺寸为0.</p> 
<h4 id="2、imread-读数据">2、imread//读数据</h4> 
<p>CV_EXPORTS_W Mat imread( const String&amp; filename, int flags = IMREAD_COLOR );<br> 读取图片，指定读取的颜色方式。<br> filename：路径名<br> flags： 载入标识，指定加载图像的颜色类型，<br> 默认是1，返回彩色图像，<br> 为0时 返回灰度图像。<br> 读取路径格式说明：<a href="https://blog.csdn.net/xingchenbingbuyu/article/details/51375078">https://blog.csdn.net/xingchenbingbuyu/article/details/51375078</a></p> 
<table><tbody><tr><td> <pre><code class="language-html hljs">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</code></pre> </td><td> <pre><code class="language-html hljs">int main(int argc,char* argv[])
{
	Mat img;
//以下六种合法
	//-- 1 --双右斜线法
	//string imgpath = "C:\\Users\\bingbuyu\\Pictures\\photo\\miao1.jpg";
	//-- 2 --双左斜线法
	//string imgpath = "C://Users//bingbuyu//Pictures//photo//miao1.jpg";
	//-- 3 --单左斜线法
	//string imgpath = "C:/Users/bingbuyu/Pictures/photo/miao1.jpg";
	//-- 4 --以上三种混合法
	//string imgpath = "C:/Users//bingbuyu\\Pictures//photo//miao1.jpg";
	//-- 5 --相对路径法
	//string imgpath = "miao.jpg";
	//-- 6 --命令行参数法
	string imgpath = argv[1];

	img = imread(imgpath, 1);
	imshow("img", img);

	waitKey(0);
	return 0;
}
</code></pre> </td></tr></tbody></table> 
<hr> 
<h4 id="3、imshow-显示">3、imshow//显示</h4> 
<p>CV_EXPORTS_W void imshow(const String&amp; winname, InputArray mat);<br> 在指定名称的窗口显示指定图片<br> winname：显示的窗口名称。<br> mat: 显示的图像。</p> 
<h4 id="4、-namedWindow-创建窗口">4、 namedWindow//创建窗口</h4> 
<p>CV_EXPORTS_W void namedWindow(const String&amp; winname, int flags = WINDOW_AUTOSIZE);</p> 
<pre class="has"><code>winname: 窗口名称（与imread中的参数1名称一致时，则imread使用该窗口）
flags ： 显示方式</code></pre> 
<blockquote> 
 <p>WINDOW_NORMAL = 0x00000000, //!&lt; the user can resize the window (no constraint) / also use to switch a fullscreen window to a normal size.<br> WINDOW_AUTOSIZE = 0x00000001, //!&lt; the user cannot resize the window, the size is constrainted by the image displayed.<br> WINDOW_OPENGL = 0x00001000, //!&lt; window with opengl support.<br> WINDOW_FULLSCREEN = 1, //!&lt; change the window to fullscreen.<br> WINDOW_FREERATIO = 0x00000100, //!&lt; the image expends as much as it can (no ratio constraint).<br> WINDOW_KEEPRATIO = 0x00000000, //!&lt; the ratio of the image is respected.<br> WINDOW_GUI_EXPANDED=0x00000000, //!&lt; status bar and tool bar<br> WINDOW_GUI_NORMAL = 0x00000010, //!&lt; old fashious way</p> 
</blockquote> 
<h4 id="5、向文件中写入一张图片。">5、向文件中写入一张图片。</h4> 
<ul><li> <p>CV_EXPORTS_W bool imwrite( const String&amp; filename, InputArray img,</p> <pre class="has"><code>const std::vector&lt;int&gt;&amp; params = std::vector&lt;int&gt;());</code></pre> <p>向文件中写入一张图片。</p> <pre class="has"><code>filename：图片的名字，带后缀。支持转换成不同的格式。
img     :mat格式的图像。</code></pre> </li></ul> 
<h4 id="6、对视频进行读取显示，以及调用摄像头。">6、对视频进行读取显示，以及调用摄像头。</h4> 
<ul><li> <p>VideoCapture 类：</p> <pre class="has"><code>(1)先实例再初始化
    VideoCapture capture;
    capture.open("1.avi");              //摄像头：capture.open(0);
(2) 实例的同时进行初始化
    VideoCapture capture("1.avi");      //摄像头： VideoCapture capture(0);
while(1)
{
    Mat frame;                          //定义一个Mat变量，用于存储每一帧的图像
    captrue&gt;&gt;frame;                     //读取当前帧
    imshow("test",frame);
    waitKey(33);
}</code></pre> </li></ul> 
<h4 id="7、定义ROI的两种方法">7、定义ROI的两种方法</h4> 
<p>(1)使用Rect，指定矩形的左上角坐标和矩形的长宽，定义一个矩形区域。<br> Mat iamgrROI = Image(Rect(x,y,xleng,yleng));<br> (2)使用Range 指定<br> Mat iamgrROI = Image(Range(500,500+xleng),Range(250,+yleng));<br> 列子：<br> Mat img1 = imread(“1.jpg”);<br> Mat img2 = imread(“2.jpg”);<br> Mat mask = imread(“2.jpg”);<br> Mat frameROI = img1(Rect(10, 20, img2.cols, img2.rows));<br> img2.copyTo(frameROI, mask);<br> imshow(“ROI”,img1);<br> waitKey(3000);</p> 
<hr> 
<h4 id="8、图像的线性混合-两张图片大小一致">8、图像的线性混合(两张图片大小一致)</h4> 
<pre class="has"><code>Mat result_img;
double alpha = 0.5;
double beta = (1 - alpha);
addWeighted(img1,alpha,img2,beta,0.0,result_img);
imshow("线性混合效果图", result_img);</code></pre> 
<hr> 
<h4 id="9、滑动条的使用">9、滑动条的使用</h4> 
<pre class="has"><code>const int G_maxalpha_value_Slider = 100;
int G_AlphaValue_Slider=50;
double G_AlphaValue;
double G_betaValue;
#define WINDOW_NAME "线性混合"
Mat img_1= imread("2.jpg");
Mat img_2= imread("3.jpg");
Mat img_result;
void on_Trackbar(int) {
    G_AlphaValue = (double)G_AlphaValue_Slider / G_maxalpha_value_Slider;
    G_AlphaValue = 1.0 - G_AlphaValue;
    addWeighted(img_1, G_AlphaValue, img_2, G_AlphaValue, 0.0, img_result);

    imshow(WINDOW_NAME, img_result);
}
//mian()中
namedWindow(WINDOW_NAME);
cvCreateTrackbar("bar", WINDOW_NAME,&amp;G_AlphaValue_Slider,G_maxalpha_value_Slider, on_Trackbar);
on_Trackbar(G_AlphaValue_Slider);</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2de5e638b75cb15a4a778497a8355171/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">论文笔记：CornerNet—Detecting Objects as Paired Keypoints</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f809a90c271fee371f7bf1d1d27b862b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【图像识别】基于pytorch 的入门demo——CIFAR10数据集识别及其可视化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>