<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Selenium被检测为爬虫，怎么屏蔽和绕过 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Selenium被检测为爬虫，怎么屏蔽和绕过" />
<meta property="og:description" content="01、Selenium 操作被屏蔽 使用selenium自动化网页时，有一定的概率会被目标网站识别，一旦被检测到，目标网站会拦截该客户端做出的网页操作。
比如淘宝和大众点评的登录页，当手工打开浏览器，输入用户名和密码时，是能正常进入首页的，但是如果是通过selenium打开， 会直接提示验证失败，点击框体重试。
本文介绍一种办法，不需要修改浏览器属性，不需要注入JavaScript脚本，也能轻松绕过网站检测。
02、Selenium为何会被检测 每一个浏览器访问网站时，都会带上特定的指纹特征，网站会解析这些特征，从而判断这次访问是不是自动化程序。
一个最广为人知的特征是window.navigator.webdriver，该特征直接标明此浏览器是webdriver程序。当一个浏览器通过selenium启动后，在开发者工具中输入这个属性，会发现被标为 true， 而手工打开的浏览器是 false。
实际上，浏览器被检测为webdriver程序的特征并不止这一个，这意味着，就算你通过修改属性，也不一定能绕过网站的检测。
我们可以通过 sannysoft 来检测浏览器指纹，如果浏览器是通过selenium等自动化程序打开的，访问这个网址后会有很多特征暴露这些指纹，这些特征的值和手工打开后的值是不一样的，因此可以很轻易被别人检测出来。
有人也试图不用selenium，换成puppeter和playwright这样的自动化工具，但是结局都是一样的。
03、Selenium避免被检测方法 浏览器在启动时就会带上指纹特征，如果使用自动化程序启动时已经被标记，那为什么不直接用手工启动，然后用Selenium连接已经启动的浏览器呢？那手工打开浏览器要做什么操作才能让Selenium连接呢？Selenium又是怎样连接手工打开的浏览器呢？
我在 Selenium连接已存在的浏览器1 这篇文章详细记录了需要的步骤，概括起来：
1、打开浏览器时添加以下参数：
--remote-debugging-port=9222 --user-data-dir=&#34;C:\selenium\ChromeProfile&#34; 2、selenium中设置浏览器选项，通过上面设置的 9222端口连接浏览器：
from selenium.webdriver.chrome.options import Options chrome_options = Options() chrome_options.add_experimental_option(&#34;debuggerAddress&#34;, &#34;127.0.0.1:9222&#34;) driver = webdriver.Chrome(options=chrome_options) 通过 subprocess 运行浏览器
当然，做自动化程序一般不会手工点击图标来打开浏览器，我们可以用命令行启动浏览器，然后再用 selenium 连接。
如果文章对你有帮助，记得点赞，收藏，加关注。会不定期分享一些干货哦...... END配套学习资源分享 最后： 为了回馈铁杆粉丝们，我给大家整理了完整的软件测试视频学习教程，朋友们如果需要可以自行免费领取 【保证100%免费】
软件测试面试文档
我们学习必然是为了找到高薪的工作，下面这些面试题是来自阿里、腾讯、字节等一线互联网大厂最新的面试资料，并且有字节大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。
全套资料获取方式：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/05f26d6edef6778523f05dcf961330a1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-13T15:15:58+08:00" />
<meta property="article:modified_time" content="2023-06-13T15:15:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Selenium被检测为爬虫，怎么屏蔽和绕过</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>01、Selenium 操作被屏蔽</strong></h2> 
<p>使用selenium自动化网页时，有一定的概率会被目标网站识别，一旦被检测到，目标网站会拦截该客户端做出的网页操作。</p> 
<p>比如淘宝和大众点评的登录页，当手工打开浏览器，输入用户名和密码时，是能正常进入首页的，但是如果是通过selenium打开， 会直接提示验证失败，点击框体重试。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/bc/d9/nzZ7MbY1_o.png"></p> 
<p>本文介绍一种办法，<strong>不需要修改浏览器属性，不需要注入JavaScript脚本</strong>，也能轻松绕过网站检测。</p> 
<p></p> 
<h2><strong>02、Selenium为何会被检测</strong></h2> 
<p>每一个浏览器访问网站时，都会带上特定的指纹特征，网站会解析这些特征，从而判断这次访问是不是自动化程序。</p> 
<p>一个最广为人知的特征是window.navigator.webdriver，该特征直接标明此浏览器是webdriver程序。当一个浏览器通过selenium启动后，在开发者工具中输入这个属性，会发现被标为 true， 而手工打开的浏览器是 false。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/bb/f9/fo5XBKJ2_o.png"></p> 
<p>实际上，浏览器被检测为webdriver程序的特征并不止这一个，这意味着，就算你通过修改属性，也不一定能绕过网站的检测。</p> 
<p>我们可以通过 sannysoft 来检测浏览器指纹，如果浏览器是通过selenium等自动化程序打开的，访问这个网址后会有很多特征暴露这些指纹，这些特征的值和手工打开后的值是不一样的，因此可以很轻易被别人检测出来。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/35/4e/siDXmH0k_o.png"></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/07/c7/ffg5Qx92_o.png"></p> 
<p>有人也试图不用selenium，换成puppeter和playwright这样的自动化工具，但是结局都是一样的。</p> 
<p></p> 
<h2><strong>03、Selenium避免被检测方法</strong></h2> 
<p>浏览器在启动时就会带上指纹特征，如果使用自动化程序启动时已经被标记，那为什么不直接用手工启动，然后用Selenium连接已经启动的浏览器呢？那手工打开浏览器要做什么操作才能让Selenium连接呢？Selenium又是怎样连接手工打开的浏览器呢？</p> 
<p>我在 Selenium连接已存在的浏览器1 这篇文章详细记录了需要的步骤，概括起来：</p> 
<p><strong>1、打开浏览器时添加以下参数：</strong></p> 
<pre><code>--remote-debugging-port=9222 --user-data-dir="C:\selenium\ChromeProfile"</code></pre> 
<p><strong>2、selenium中设置浏览器选项，通过上面设置的 9222端口连接浏览器：</strong></p> 
<pre><code>from selenium.webdriver.chrome.options import Options

chrome_options = Options()

chrome_options.add_experimental_option("debuggerAddress", "127.0.0.1:9222")

driver = webdriver.Chrome(options=chrome_options)</code></pre> 
<p><strong>通过 subprocess 运行浏览器</strong></p> 
<p>当然，做自动化程序一般不会手工点击图标来打开浏览器，我们可以用命令行启动浏览器，然后再用 selenium 连接。</p> 
<h4><strong>如果文章对你有帮助，记得点赞，收藏，加关注。会不定期分享一些干货哦......</strong></h4> 
<h4><strong>END配套学习资源分享</strong></h4> 
<p><strong>最后：</strong> 为了回馈铁杆粉丝们，我给大家整理了完整的软件测试视频学习教程，朋友们如果需要可以自行免费领取 <strong><code>【保证100%免费】</code></strong></p> 
<p class="img-center"><img alt="" height="803" src="https://images2.imgbox.com/95/85/et5X4PXr_o.png" width="572"></p> 
<p><strong>软件测试面试文档</strong></p> 
<p>我们学习必然是为了找到高薪的工作，下面这些面试题是来自阿里、腾讯、字节等一线互联网大厂最新的面试资料，并且有字节大佬给出了权威的解答，刷完这一套面试资料相信大家都能找到满意的工作。</p> 
<p class="img-center"><img alt="在这里插入图片描述" src="https://images2.imgbox.com/ae/bb/8bhP5ZA7_o.png"></p> 
<p><strong>全套资料获取方式：</strong></p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cf/5d/CrDlz4Bq_o.png"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8e4ff88dd77cb06a9427d70c26825e22/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">高项-信息系统项目管理师-重要考点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6ba304d0c5b21d5dd2d89c2f610c1af8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【运筹优化】元启发式算法详解：(自适应)大邻域搜索算法（( Adaptive) Large Neighborhood Search，(A)LNS）&#43; 案例讲解&amp;代码实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>