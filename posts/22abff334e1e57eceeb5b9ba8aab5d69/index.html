<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP&#43;Ajax点击加载更多内容 －这个效果好，速度快，只能点击更多加载，不能滚动自动加载 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PHP&#43;Ajax点击加载更多内容 －这个效果好，速度快，只能点击更多加载，不能滚动自动加载" />
<meta property="og:description" content="PHP&#43;Ajax点击加载更多内容 －这个效果好，速度快，JS代码虽然没看懂但感觉很专业写的，测试通过了，现在是点击显示更多才会加载，只能点击更多加载，不能滚动自动加载
一、HTML部分
&lt;div id=&#34;more&#34;&gt; &lt;div class=&#34;single_item&#34;&gt; &lt;div class=&#34;element_head&#34;&gt; &lt;div class=&#34;date&#34;&gt;&lt;/div&gt; &lt;div class=&#34;author&#34;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&#34;content&#34;&gt;&lt;/div&gt; &lt;/div&gt; &lt;a href=&#34;javascript:;&#34; class=&#34;get_more&#34;&gt;::点击加载更多内容::&lt;/a&gt; &lt;/div&gt; 二、引入jQuery插件和jquery.more.js加载更多插件
$(function(){ $(&#39;#more&#39;).more({&#39;address&#39;: &#39;data.php&#39;}) }); 三、jQuery
$(function(){ $(&#39;#more&#39;).more({&#39;address&#39;: &#39;data.php&#39;}) }); 四、data.php data.php接收前台页面提交过来的两个参数， POST[′last′]即开始记录数， _POST[‘amount’]即单次显示记录数，看SQL语句就明白，其实就是分页中用到的语句。
require_once(&#39;connect.php&#39;); $last = $_POST[&#39;last&#39;]; $amount = $_POST[&#39;amount&#39;]; $query = mysql_query(&#34;select * from article order by id desc limit $last,$amount&#34;); while ($row = mysql_fetch_array($query)) { $sayList[] = array( &#39;title&#39; =&gt; &#34;&lt;a href=&#39;http://www.sucaihuo.com/js/&#34;.$row[&#39;id&#39;].&#34;.html&#39; target=&#39;_blank&#39;&gt;&#34;.$row[&#39;title&#39;].&#34;&lt;/a&gt;&#34;, &#39;author&#39; =&gt; $row[&#39;id&#39;], &#39;date&#39; =&gt; date(&#39;m-d H:i&#39;, $row[&#39;addtime&#39;]) ); } echo json_encode($sayList); 五、jquery." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/22abff334e1e57eceeb5b9ba8aab5d69/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-12-28T11:54:02+08:00" />
<meta property="article:modified_time" content="2016-12-28T11:54:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP&#43;Ajax点击加载更多内容 －这个效果好，速度快，只能点击更多加载，不能滚动自动加载</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>PHP+Ajax点击加载更多内容 －这个效果好，速度快，JS代码虽然没看懂但感觉很专业写的，测试通过了，现在是点击显示更多才会加载，只能点击更多加载，不能滚动自动加载</p> 
<p>一、HTML部分</p> 
<pre class="prettyprint"><code class=" hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-property">id</span>=<span class="hljs-string">"more"</span>&gt; 
     &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"single_item"</span>&gt; 
           &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"element_head"</span>&gt; 
               &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"date"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt; 
               &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"author"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt; 
            &lt;/<span class="hljs-keyword">div</span>&gt; 
            &lt;<span class="hljs-keyword">div</span> <span class="hljs-type">class</span>=<span class="hljs-string">"content"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt; 
     &lt;/<span class="hljs-keyword">div</span>&gt; 
     &lt;a href=<span class="hljs-string">"javascript:;"</span> <span class="hljs-type">class</span>=<span class="hljs-string">"get_more"</span>&gt;::点击加载更多内容::&lt;/a&gt; 
&lt;/<span class="hljs-keyword">div</span>&gt;</code></pre> 
<p>二、引入jQuery插件和jquery.more.js加载更多插件</p> 
<pre class="prettyprint"><code class=" hljs javascript">$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{<!-- --></span> 
    $(<span class="hljs-string">'#more'</span>).more({<!-- --><span class="hljs-string">'address'</span>: <span class="hljs-string">'data.php'</span>}) 
});</code></pre> 
<p>三、jQuery</p> 
<pre class="prettyprint"><code class=" hljs javascript">$(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{<!-- --></span> 
    $(<span class="hljs-string">'#more'</span>).more({<!-- --><span class="hljs-string">'address'</span>: <span class="hljs-string">'data.php'</span>}) 
});</code></pre> 
<p>四、data.php <br> data.php接收前台页面提交过来的两个参数，<span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1-Frame"> 
   
   <span class="math" id="MathJax-Span-1" style="width: 13.607em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.06em; height: 0px; font-size: 123%;"><span style="position: absolute; clip: rect(1.249em 1000em 2.713em -0.485em); top: -2.274em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(3.851em 1000em 4.176em -0.485em); top: -4.008em; left: 0.003em;"><span class="mi" id="MathJax-Span-4"></span><span style="display: inline-block; width: 0px; height: 4.014em;"></span></span><span style="position: absolute; top: -2.111em; left: 0.003em;"><span class="mi" id="MathJax-Span-5" style="font-size: 70.7%; font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span></span></span><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">O</span><span class="mi" id="MathJax-Span-7" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.057em;"></span></span><span class="mi" id="MathJax-Span-8" style="font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.111em;"></span></span><span class="msup" id="MathJax-Span-9"><span style="display: inline-block; position: relative; width: 0.545em; height: 0px;"><span style="position: absolute; clip: rect(1.358em 1000em 2.713em -0.377em); top: -2.274em; left: 0.003em;"><span class="mo" id="MathJax-Span-10" style="font-family: MathJax_Main;">[</span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span><span style="position: absolute; top: -2.762em; left: 0.274em;"><span class="mo" id="MathJax-Span-11" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span></span></span><span class="mi" id="MathJax-Span-12" style="font-family: MathJax_Math-italic;">l</span><span class="mi" id="MathJax-Span-13" style="font-family: MathJax_Math-italic;">a</span><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Math-italic;">s</span><span class="msup" id="MathJax-Span-15"><span style="display: inline-block; position: relative; width: 0.599em; height: 0px;"><span style="position: absolute; clip: rect(1.466em 1000em 2.442em -0.485em); top: -2.274em; left: 0.003em;"><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math-italic;">t</span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span><span style="position: absolute; top: -2.653em; left: 0.328em;"><span class="mo" id="MathJax-Span-17" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span></span></span><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">]</span><span class="texatom" id="MathJax-Span-19"><span class="mrow" id="MathJax-Span-20"><span class="mo" id="MathJax-Span-21"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">即</span></span></span></span><span class="texatom" id="MathJax-Span-22"><span class="mrow" id="MathJax-Span-23"><span class="mo" id="MathJax-Span-24"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">开</span></span></span></span><span class="texatom" id="MathJax-Span-25"><span class="mrow" id="MathJax-Span-26"><span class="mo" id="MathJax-Span-27"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">始</span></span></span></span><span class="texatom" id="MathJax-Span-28"><span class="mrow" id="MathJax-Span-29"><span class="mo" id="MathJax-Span-30"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">记</span></span></span></span><span class="texatom" id="MathJax-Span-31"><span class="mrow" id="MathJax-Span-32"><span class="mo" id="MathJax-Span-33"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">录</span></span></span></span><span class="texatom" id="MathJax-Span-34"><span class="mrow" id="MathJax-Span-35"><span class="mo" id="MathJax-Span-36"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">数</span></span></span></span><span class="texatom" id="MathJax-Span-37"><span class="mrow" id="MathJax-Span-38"><span class="mo" id="MathJax-Span-39"><span style="font-family: STIXGeneral, 'Arial Unicode MS', serif; font-size: 81%; font-style: normal; font-weight: normal;">，</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.279em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.537em; vertical-align: -0.397em;"></span></span> 
  </span><script type="math/tex" id="MathJax-Element-1">_POST['last']即开始记录数，</script>_POST[‘amount’]即单次显示记录数，看SQL语句就明白，其实就是分页中用到的语句。</p> 
<pre class="prettyprint"><code class=" hljs php"><span class="hljs-keyword">require_once</span>(<span class="hljs-string">'connect.php'</span>);

<span class="hljs-variable">$last</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">'last'</span>];
<span class="hljs-variable">$amount</span> = <span class="hljs-variable">$_POST</span>[<span class="hljs-string">'amount'</span>];

<span class="hljs-variable">$query</span> = mysql_query(<span class="hljs-string">"select * from article order by id desc limit $last,$amount"</span>);
<span class="hljs-keyword">while</span> (<span class="hljs-variable">$row</span> = mysql_fetch_array(<span class="hljs-variable">$query</span>)) {
    <span class="hljs-variable">$sayList</span>[] = <span class="hljs-keyword">array</span>(
        <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">"&lt;a href='http://www.sucaihuo.com/js/"</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>].<span class="hljs-string">".html' target='_blank'&gt;"</span>.<span class="hljs-variable">$row</span>[<span class="hljs-string">'title'</span>].<span class="hljs-string">"&lt;/a&gt;"</span>,
        <span class="hljs-string">'author'</span> =&gt; <span class="hljs-variable">$row</span>[<span class="hljs-string">'id'</span>],
        <span class="hljs-string">'date'</span> =&gt; date(<span class="hljs-string">'m-d H:i'</span>, <span class="hljs-variable">$row</span>[<span class="hljs-string">'addtime'</span>])
    );
}
<span class="hljs-keyword">echo</span> json_encode(<span class="hljs-variable">$sayList</span>);</code></pre> 
<p>五、jquery.more.js相关API <br> 参数 描述 默认值 <br> amount 每次显示记录数 10 <br> address 请求后台的地址 - <br> format 数据传输格式 json <br> template html记录DIV的class属性 .single_item - <br> trigger 触发加载更多记录的class属性 .get_more - <br> scroll 是否支持滚动触发加载 false <br> offset 滚动触发加载时的偏移量 100 </p> 
<p>六、以上说明的图片显示 <br> <a href="http://www.ecame.com.cn/myexample/php_ajax/2.jpg" rel="nofollow">这里写链接内容</a></p> 
<p>七、打包下载 <br> <a href="http://www.ecame.com.cn/myexample/php_ajax/2.rar" rel="nofollow">打包下载</a></p> 
<p>具体里面数据库连接和SQL语句和调用ajax程序的名称，自行更改，</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5f31b1e9fe1753ec848898d564c1b088/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">OC代码规范总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17270f468e554489c3d56e5eedd99125/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C#里的InputBox</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>