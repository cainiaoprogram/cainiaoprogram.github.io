<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>matlab系统辨识工具箱及其反向验证 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="matlab系统辨识工具箱及其反向验证" />
<meta property="og:description" content="系统辨识工具箱
什么时候使用系统辨识，当系统传递函数不确定(在多大程度上不确定？)时，通过对输入输出数据采集，通过数学迭代找到控制对象的近似模型。在找到近似模型(传递函数)后，就可以使用线性化调参工具对系统控制参数进行整定，进行控制系统设计。
调用命令：systemIdentification
一般过程：
将数据数组从matlab工作区导入程序；
绘制数据；
数据归一化；
估计、验证、 线性模型；
模型导出到工作区
1输入输出数据的导入和处理
数据导入过程中，采样时间设置为真实系统的仿真时间
在more中的次级菜单可设置导入信号的名称和单位，如果是多路信号，这一步就很重要了。
数据处理操作，可在process菜单中选择quick start选项，即可生成归一化后的输入和输出数据，并且划定了训练集和验证集。
2进行模型估计。同样可以使用quick start操作生成阶跃响应图imp、频率响应图spad、状态空间n4s3和多项式模型arxqs的输出，然后可以在模型输出modeloutput窗口窗口对比验证效果。
未生成spad模型的适应度值。
右键可查看模型相关信息。
除此之外，还可以使用基于其他算法的计算模型。
多项式方程。
编辑Orders字段以尝试极点、零点和延迟的所有组合，其中每个值都从 1 到 10：
点击estimate，
该窗口有3个突出显示部分：
图中以绿色、蓝色和红色突出显示了三个矩形。每种颜色表示一种最佳拟合标准，如下所示：
红色——最佳拟合最小化验证数据输出和模型输出之间的差异的平方和。此矩形表示整体最佳拟合。
绿色 - 最佳拟合最小化了 Rissanen MDL 标准。
蓝色 — 最佳拟合最小化 Akaike AIC 标准。
基于MDL和AIC的标准补偿了因使用过多参数而导致的过拟合问题。
选择绿色图块对应的参数，insert，适应度为arx342所示。
对于estimate中的识别顺序其实是很关键的，因为实际中许多要辨识的系统特征（零极点分布状况）是未知的，所以不能一开始就选择传递函数模型进行辨识。
在使用利用多项式辨识过程中，得到了三种评估标准下的模型零极点个数，为后续其他数据模型辨识提供了基础。在上述ARX模型中，最终最佳拟合的模型分布为极点个数为3，零点为4，延迟为2。
下面就基于上述零极点分布情况对传递函数进行估计。
根据上上面估计后得到的零极点个数可以预设传递函数极点状况（3 4 2），不过零点个数保留系统默认值1，延迟环节换算公式为（样本延迟nk=2）转换为连续时间延迟为（nk-1）*Ts
拟合度如图，这比直接进行传递函数估计要来的准确。
下面使用状态空间模型估计，同样是基于多项式估计的基础，全体最佳拟合度极零点分布（3 4 2），估计时仅需给定阶数（极点个数）即可。
Focus设置为模拟输出。当然，这个选项也可以在拟合度窗口进行统一设置。
还可以使用ARMAX模型进行系统模拟，它比ARX更灵活，其结构中包含一个额外的多项式来模拟附加性扰动。
设置结构列表。
前述使用ARX估计最佳拟合极零点分布为3 4 2，可以从这些数目组合开始，最后再加上一列。
从2 2 2 2开始。
3 3 3 3
3 3 3 2" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/596526afc2f4a333ce64b8164d33d3f0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-04-11T10:36:36+08:00" />
<meta property="article:modified_time" content="2023-04-11T10:36:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">matlab系统辨识工具箱及其反向验证</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:.0001pt;text-align:justify;">系统辨识工具箱</p> 
<p style="margin-left:.0001pt;text-align:justify;">什么时候使用系统辨识，当系统传递函数不确定(在多大程度上不确定？)时，通过对输入输出数据采集，通过数学迭代找到控制对象的近似模型。在找到近似模型(传递函数)后，就可以使用线性化调参工具对系统控制参数进行整定，进行控制系统设计。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">调用命令：</span><span style="background-color:#00ff00;">systemIdentification</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">一般过程：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">将数据数组从</span><span style="background-color:#00ff00;">matlab</span><span style="background-color:#00ff00;">工作区导入程序；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">绘制数据；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">数据归一化；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">估计、验证、</span> <span style="background-color:#00ff00;">线性模型；</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#00ff00;">模型导出到工作区</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">1输入输出数据的导入和处理</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="281" src="https://images2.imgbox.com/bf/95/wmfILWdQ_o.png" width="176"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">数据导入过程中，<u>采样时间设置为真实系统的仿真时间</u></p> 
<p style="margin-left:.0001pt;text-align:justify;"><u>在more</u><u>中的次级菜单可设置导入信号的名称和单位，如果是多路信号，这一步就很重要了。</u></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="276" src="https://images2.imgbox.com/08/a3/NLRLSBSw_o.png" width="257"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">数据处理操作，可在process菜单中选择quick start选项，即可生成归一化后的输入和输出数据，并且划定了训练集和验证集。</p> 
<p style="margin-left:.0001pt;text-align:justify;">2进行模型估计。同样可以使用quick start操作生成阶跃响应图imp、频率响应图spad、状态空间n4s3和多项式模型arxqs的输出，然后可以在模型输出modeloutput窗口窗口对比验证效果。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="230" src="https://images2.imgbox.com/6b/33/qn4MpNwN_o.png" width="252"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">未生成spad模型的适应度值。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p> <img alt="" height="174" src="https://images2.imgbox.com/75/b6/IfzSykT1_o.png" width="250"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">右键可查看模型相关信息。</p> 
<p style="margin-left:.0001pt;text-align:justify;">除此之外，还可以使用基于其他算法的计算模型。</p> 
<p style="margin-left:.0001pt;text-align:justify;"> <img alt="" height="289" src="https://images2.imgbox.com/0a/6a/Ux58AWdt_o.png" width="260">多项式方程。</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">编辑Orders字段以尝试极点、零点和延迟的所有组合，其中每个值都从 1 到 10：</p> 
<p style="margin-left:.0001pt;text-align:justify;">点击estimate，</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="262" src="https://images2.imgbox.com/ba/47/03scKgI6_o.png" width="287">该窗口有3个突出显示部分：</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">图中以绿色、蓝色和红色突出显示了三个矩形。每种颜色表示一种最佳拟合标准，如下所示：</p> 
<p style="margin-left:.0001pt;text-align:justify;">红色——最佳拟合最小化验证数据输出和模型输出之间的差异的平方和。此矩形表示整体最佳拟合。</p> 
<p style="margin-left:.0001pt;text-align:justify;">绿色 - 最佳拟合最小化了 Rissanen MDL 标准。</p> 
<p style="margin-left:.0001pt;text-align:justify;">蓝色 — 最佳拟合最小化 Akaike AIC 标准。</p> 
<p style="margin-left:.0001pt;text-align:justify;">基于MDL和AIC的标准补偿了因使用过多参数而导致的过拟合问题。</p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="254" src="https://images2.imgbox.com/6d/89/S92yQOlk_o.png" width="551"></p> 
<p> <img alt="" height="254" src="https://images2.imgbox.com/d2/c0/0nMjsBT4_o.png" width="551"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">选择绿色图块对应的参数，insert，适应度为arx342所示。</p> 
<p style="margin-left:.0001pt;text-align:justify;">对于estimate中的识别顺序其实是很关键的，因为实际中许多要辨识的系统特征（零极点分布状况）是未知的，所以不能一开始就选择传递函数模型进行辨识。</p> 
<p style="margin-left:.0001pt;text-align:justify;">在使用利用多项式辨识过程中，得到了三种评估标准下的模型零极点个数，为后续其他数据模型辨识提供了基础。在上述ARX模型中，最终最佳拟合的模型分布为极点个数为3，零点为4，延迟为2。</p> 
<p style="margin-left:.0001pt;text-align:justify;">下面就基于上述零极点分布情况对传递函数进行估计。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="247" src="https://images2.imgbox.com/9d/d6/kucr1b4O_o.png" width="239"> <img alt="" height="303" src="https://images2.imgbox.com/c7/5f/tBFpenVh_o.png" width="294"></p> 
<p></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">根据上上面估计后得到的零极点个数可以预设传递函数极点状况（3 4 2），不过<span style="background-color:#00ff00;">零点个数保留系统默认值</span><span style="background-color:#00ff00;">1</span>，延迟环节换算公式为（样本延迟nk=2）<span style="background-color:#00ff00;">转换为连续时间延迟为（</span><span style="background-color:#00ff00;">nk-1</span><span style="background-color:#00ff00;">）</span><span style="background-color:#00ff00;">*Ts</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">拟合度如图，这比直接进行传递函数估计要来的准确。</p> 
<p style="margin-left:.0001pt;text-align:justify;">下面使用状态空间模型估计，同样是基于多项式估计的基础，全体最佳拟合度极零点分布（3 4 2），估计时<span style="background-color:#00ff00;">仅需给定阶数（极点个数）即可</span>。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="219" src="https://images2.imgbox.com/cf/05/Ob5fVSos_o.png" width="239"><img alt="" height="271" src="https://images2.imgbox.com/2f/cc/Rk4gnXeI_o.png" width="303"></p> 
<p></p> 
<p> <img alt="" height="244" src="https://images2.imgbox.com/70/b7/7XgIRoUy_o.png" width="274"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">Focus设置为模拟输出。当然，这个选项也可以在拟合度窗口进行统一设置。</p> 
<p style="margin-left:.0001pt;text-align:justify;">还可以使用ARMAX模型进行系统模拟，它比ARX更灵活，其结构中包含一个额外的多项式来模拟附加性扰动。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="293" src="https://images2.imgbox.com/bf/02/EDHojbqZ_o.png" width="263"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">设置结构列表。</p> 
<p style="margin-left:.0001pt;text-align:justify;">前述使用ARX估计最佳拟合极零点分布为3 4 2，可以从这些数目组合开始，最后再加上一列。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="227" src="https://images2.imgbox.com/7f/7b/9OedNi5n_o.png" width="249">从2 2 2 2开始。</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="226" src="https://images2.imgbox.com/77/99/Hs4lAn5Z_o.png" width="248">3 3 3 3</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="221" src="https://images2.imgbox.com/b8/76/u4HVX0hT_o.png" width="242">3 3 3 2</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">这已经十分接近ARX模型了。</p> 
<p style="margin-left:.0001pt;text-align:justify;">辨识得到的模型可导入到工作区，进行下一步工作。选取适应度最佳的模型导出到工作区中。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="71" src="https://images2.imgbox.com/5e/e6/7ypNRDTn_o.png" width="282">然后可以使用模型转换工具得到相应传递函数</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="140" src="https://images2.imgbox.com/77/4a/78I6auk6_o.png" width="290"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">反向验证：将识别得到的传递函数添加到simulink中，输入数据为识别过程中的原始输入数据，比较实际输出和原输出数据。</p> 
<p style="margin-left:.0001pt;text-align:justify;">首先制作输入数据，在simulink中的输入数据需要是实数、整型、浮点数，且第一列为时间数据，因此结合原数据采样时间为0.08s，可得制作数据时间间隔为0.08s，数据量为1000，因此时间为0-0.08*1000s</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="300" src="https://images2.imgbox.com/ac/30/Vn88HDaC_o.png" width="145"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">验证模型</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="230" src="https://images2.imgbox.com/f0/cb/4TAtv6Su_o.png" width="432"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;">待验证传递函数：</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="250" src="https://images2.imgbox.com/8b/37/hhAX0DD2_o.png" width="253"></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="303" src="https://images2.imgbox.com/53/ac/uMFevYFM_o.png" width="405">测试输出</p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;">均方根误差：<img alt="" height="110" src="https://images2.imgbox.com/96/da/ZsDAPK1q_o.png" width="262"></p> 
<p> </p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6ccb4c404e91b91aaab804203c2c5d2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ES核心干货学习（原理及数据结构）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e13d8d32e7f8cd80eece14f28363e9d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">分享 20 道关于 React 开发相关的面试题及答案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>