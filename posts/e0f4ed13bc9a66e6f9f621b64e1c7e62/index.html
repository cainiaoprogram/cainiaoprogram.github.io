<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DB2导入数据库 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="DB2导入数据库" />
<meta property="og:description" content="1.登录服务器 首先使用db2用户登录到需要导库的服务器，通常用户名和密码为db2inst1/db2inst1
2.导出数据库 cd到导出目录，如bak创建db2move文件夹: mkdir db2movecd db2move连接数据库：db2 connect to CREDITDB CREDITDB是你的数据库名称，连接时需要修改成自己的导出数据库数据：db2move CREDITDB export CREDITDB是你的数据库名称，连接时需要修改成自己的返回上层结构：cd ..导出表结构：db2look -d edstest -u UUUU -e -o db2look.ddl edstest表示数据库名,UUUU表示用户名 如果第7步执行失败，可以尝试这个命令，含@分隔符：db2look -d edstest -u db2inst2 -td @ -e -o db2look.ddl 3.导入数据库 你先将导出的数据库文件上传到你需要导入库的服务器上面
cd到数据库文件目录，如bak；该文件下面有：db2look.ddl、db2move文件夹
创建数据库：
db2 CREATE DATABASE QS_TEST USING CODESET GBK TERRITORY CN COLLATE USING SYSTEM PAGESIZE 32 k -- QS_TEST 是你的数据库名称 -- GBK是数据库编码 连接到刚才创建的数据库：db2 connect to QS_TEST 记得修改数据库名称
修改db2lokk.ddl中数据库和用户：
我们导出的数据库文件中包含两个文件db2look.ddl、db2move，现在你需要去检查db2look.ddl中的数据db2look.ddl文件的开头你可以看到这样的语句CONNECT TO QS_TEST，这里的QS_TEST需要和你刚才创建的库名相同，如果不同，则需要修改为刚才你所创建的库名接着进入到db2move目录下，查看db2move.lst文件中的!&#34;db2inst1&#34;.&#34;USER&#34;!tab3.ixf!tab3.msg!的db2inst1和db2look.ddl文件中的SCHEMA是否一样（db2look.ddl文件开头中有CREATE SCHEMA “db2inst1”;） 修改好db2look.ddl后我们现在开始导入表结构：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e0f4ed13bc9a66e6f9f621b64e1c7e62/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-31T14:00:54+08:00" />
<meta property="article:modified_time" content="2020-07-31T14:00:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">DB2导入数据库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1_0"></a>1.登录服务器</h3> 
<p>首先使用db2用户登录到需要导库的服务器，通常用户名和密码为db2inst1/db2inst1</p> 
<h3><a id="2_4"></a>2.导出数据库</h3> 
<ol><li>cd到导出目录，如bak</li><li>创建db2move文件夹: <code>mkdir db2move</code></li><li><code>cd db2move</code></li><li>连接数据库：<code>db2 connect to CREDITDB</code> CREDITDB是你的数据库名称，连接时需要修改成自己的</li><li>导出数据库数据：<code>db2move CREDITDB export</code> CREDITDB是你的数据库名称，连接时需要修改成自己的</li><li>返回上层结构：<code>cd ..</code></li><li>导出表结构：<code>db2look -d edstest -u UUUU -e -o db2look.ddl</code> edstest表示数据库名,UUUU表示用户名 
  <ul><li>如果第7步执行失败，可以尝试这个命令，含@分隔符：<code>db2look -d edstest -u db2inst2 -td @ -e -o db2look.ddl</code></li></ul> </li></ol> 
<h3><a id="3_15"></a>3.导入数据库</h3> 
<ol><li> <p>你先将导出的数据库文件上传到你需要导入库的服务器上面</p> </li><li> <p>cd到数据库文件目录，如bak；该文件下面有：<code>db2look.ddl</code>、<code>db2move</code>文件夹</p> </li><li> <p>创建数据库：</p> <pre><code class="prism language-sql">db2 <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> QS_TEST <span class="token keyword">USING</span> CODESET GBK TERRITORY CN <span class="token keyword">COLLATE</span> <span class="token keyword">USING</span> SYSTEM PAGESIZE <span class="token number">32</span> k

<span class="token comment">-- QS_TEST 是你的数据库名称  </span>
<span class="token comment">-- GBK是数据库编码</span>
</code></pre> </li><li> <p>连接到刚才创建的数据库：<code>db2 connect to QS_TEST</code> 记得修改数据库名称</p> </li><li> <p>修改db2lokk.ddl中数据库和用户：</p> 
  <ul><li>我们导出的数据库文件中包含两个文件<code>db2look.ddl</code>、<code>db2move</code>，现在你需要去检查<code>db2look.ddl</code>中的数据</li><li><code>db2look.ddl</code>文件的开头你可以看到这样的语句<code>CONNECT TO QS_TEST</code>，这里的<code>QS_TEST</code>需要和你刚才创建的库名相同，如果不同，则需要修改为刚才你所创建的库名</li><li>接着进入到<code>db2move</code>目录下，查看<code>db2move.lst</code>文件中的<code>!"db2inst1"."USER"!tab3.ixf!tab3.msg!</code>的db2inst1和db2look.ddl文件中的SCHEMA是否一样（db2look.ddl文件开头中有CREATE SCHEMA “db2inst1”;）</li></ul> </li><li> <p>修改好<code>db2look.ddl</code>后我们现在开始导入表结构：</p> 
  <ul><li>cd 到数据库文件目录下（该目录下包含db2look.ddl），然后执行<code>db2 -t -vf db2look.ddl</code></li><li>**注意：**该命令要执行三遍，为什么要执行三遍，因为db2在执行这个命令的过程中可能会遗漏一些表，执行三遍是为了确保所有表都会被创建</li></ul> </li><li> <p>导入数据库数据：</p> 
  <ul><li>刚才我们已经导入好表结构了，现在需要导入表数据</li><li>我们需要进入到db2move目录下，<code>cd ./db2move</code>，然后执行<code>db2move QS_ALS7 load</code>，<code>QS_ALS7</code>是你的数据库名称，记得修改</li></ul> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7eb4d9d8f02bd8c34153d99b8172343a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">php 命令行调试方法  php配合phpstrom 给php脚本进行额外传参后 触发断点调试配置教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/98230c53db8e2f90b7e866b51ec99eba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">算法—快速幂运算</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>