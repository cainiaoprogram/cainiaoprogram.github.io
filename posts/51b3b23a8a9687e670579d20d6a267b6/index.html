<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【操作系统进程树变化】 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【操作系统进程树变化】" />
<meta property="og:description" content="操作系统从启动到运行某个进程，进程树的变化过程如下：
启动过程：操作系统启动时，首先创建一个根进程（通常称为init或systemd进程，PID为1），该进程负责启动其他系统服务和守护进程。随着各种服务和守护进程的启动，进程树逐渐扩展。
用户登录：当用户登录系统时，操作系统会创建一个新的进程（如login或sshd进程），负责处理用户的登录请求。登录成功后，系统会创建一个shell进程（如bash或zsh），并将其与用户的终端关联。
此时进程树的简化形式如下：
init (PID 1) ├── sshd │ ├── sshd (用户登录) │ │ └── bash (用户shell) ├── other services and daemons... 用户通过SSH连接：当用户通过SSH连接到系统时，sshd服务会创建一个新的子进程来处理该连接。在用户成功登录后，系统会为该用户创建一个新的shell进程。
用户运行木马程序：用户在shell中执行木马程序，操作系统会创建一个新的进程来运行该程序。这个进程成为shell进程的子进程。
进程树变化如下：
init (PID 1) ├── sshd │ ├── sshd (用户登录) │ │ └── bash (用户shell) │ │ └── trojan (木马程序) ├── other services and daemons... 木马程序发起外联：木马程序在运行过程中可能会创建新的子进程或线程来发起外部连接。这些子进程或线程也会成为进程树的一部分。 进程树变化如下：
init (PID 1) ├── sshd │ ├── sshd (用户登录) │ │ └── bash (用户shell) │ │ └── trojan (木马程序) │ │ ├── trojan_child1 (子进程1) │ │ ├── trojan_child2 (子进程2) │ │ └── ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/51b3b23a8a9687e670579d20d6a267b6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T17:02:07+08:00" />
<meta property="article:modified_time" content="2024-01-10T17:02:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【操作系统进程树变化】</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>操作系统从启动到运行某个进程，进程树的变化过程如下：</p> 
<ol><li> <p>启动过程：操作系统启动时，首先创建一个根进程（通常称为init或systemd进程，PID为1），该进程负责启动其他系统服务和守护进程。随着各种服务和守护进程的启动，进程树逐渐扩展。</p> </li><li> <p>用户登录：当用户登录系统时，操作系统会创建一个新的进程（如login或sshd进程），负责处理用户的登录请求。登录成功后，系统会创建一个shell进程（如bash或zsh），并将其与用户的终端关联。</p> </li></ol> 
<p>此时进程树的简化形式如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户登录)
│   │   └── bash (用户shell)
├── other services and daemons...
</code></pre> 
<ol start="3"><li> <p>用户通过SSH连接：当用户通过SSH连接到系统时，sshd服务会创建一个新的子进程来处理该连接。在用户成功登录后，系统会为该用户创建一个新的shell进程。</p> </li><li> <p>用户运行木马程序：用户在shell中执行木马程序，操作系统会创建一个新的进程来运行该程序。这个进程成为shell进程的子进程。</p> </li></ol> 
<p>进程树变化如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户登录)
│   │   └── bash (用户shell)
│   │       └── trojan (木马程序)
├── other services and daemons...
</code></pre> 
<ol start="5"><li>木马程序发起外联：木马程序在运行过程中可能会创建新的子进程或线程来发起外部连接。这些子进程或线程也会成为进程树的一部分。</li></ol> 
<p>进程树变化如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户登录)
│   │   └── bash (用户shell)
│   │       └── trojan (木马程序)
│   │           ├── trojan_child1 (子进程1)
│   │           ├── trojan_child2 (子进程2)
│   │           └── ...
├── other services and daemons...
</code></pre> 
<p>在整个过程中，进程树会根据用户操作和系统服务的启动/关闭而不断变化。进程树提供了一个直观的方式来查看系统中各个进程之间的关系。</p> 
<p>当多个用户登录并操作时，进程树会根据每个用户的登录和操作继续扩展。以下是一个简化的示例：</p> 
<ol><li>第一个用户登录：当第一个用户登录时，操作系统会为该用户创建一个登录进程（如sshd或login进程），并在登录成功后创建一个shell进程（如bash或zsh）。</li></ol> 
<p>进程树形式如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户1登录)
│   │   └── bash (用户1的shell)
├── other services and daemons...
</code></pre> 
<ol start="2"><li>第二个用户登录：当第二个用户登录时，操作系统会为该用户创建一个新的登录进程，并在登录成功后创建一个新的shell进程。</li></ol> 
<p>进程树变化如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户1登录)
│   │   └── bash (用户1的shell)
│   ├── sshd (用户2登录)
│   │   └── bash (用户2的shell)
├── other services and daemons...
</code></pre> 
<ol start="3"><li>用户操作：当用户在shell中执行各种命令时，操作系统会为每个命令创建新的进程。这些进程成为相应用户shell进程的子进程。</li></ol> 
<p>例如，用户1执行了一个程序，用户2执行了两个程序，进程树变化如下：</p> 
<pre><code>init (PID 1)
├── sshd
│   ├── sshd (用户1登录)
│   │   └── bash (用户1的shell)
│   │       └── program1 (用户1执行的程序)
│   ├── sshd (用户2登录)
│   │   └── bash (用户2的shell)
│   │       ├── program2 (用户2执行的程序1)
│   │       └── program3 (用户2执行的程序2)
├── other services and daemons...
</code></pre> 
<p>在多用户环境中，进程树会根据每个用户的操作不断扩展。操作系统会确保每个用户的进程在各自的地址空间中运行，互不干扰。进程树提供了一种直观的方式来查看系统中各个进程之间的层次关系和从属关系。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f83c4467b7096c18e582522b149d531/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Aloha 机械臂的学习记录3——AWE：Pycharm运行代码记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/22cdf98b348905cc3e820b34c0aa450d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">用可视化案例讲Rust编程2. 编码的核心组成：函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>