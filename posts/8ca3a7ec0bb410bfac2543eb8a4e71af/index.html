<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL运维实战(3.1) MySQL官方客户端使用介绍 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL运维实战(3.1) MySQL官方客户端使用介绍" />
<meta property="og:description" content="作者：俊达
引言 MySQL是MySQL安装包默认的客户端，该客户端程序通常位于二进制安装包的bin目录中，或者通过rpm安装包安装mysql-community-client，是数据库管理系统的重要组成部分。MySQL客户端不仅仅是一个简单的软件工具，更是连接用户与数据库之间的桥梁，对于有效地使用MySQL数据库的功能和特性至关重要。熟练掌握MySQL客户端的使用方法对于数据库管理和数据操作具有重要意义，在接下来的内容中，我们将介绍MySQL官方客户端的使用方法。
1 使用mysql程序 linux终端下，输入mysql命令登陆数据库。如果提示mysql不存在，要看mysql程序是否在命令行的搜索路径。
[root@box3 ~]# mysql -bash: mysql: No such file or directory ### 测试环境中，mysql位于/usr/local/mysql, 设置PATH [root@box3 ~]# cat ~/.bash_profile ... PATH=$PATH:$HOME/bin:/usr/local/mysql/bin export PATH [root@box1 ~]# mysql --version mysql Ver 14.14 Distrib 5.7.32, for Linux (x86_64) using EditLine wrapper 2 mysql主要命令行参数说明 命令行参数说明–help查看帮助信息。mysql --help–version查看客户端版本-p, --password用户密码，小写的p-P, --port服务端口，大写的P-u, --user用户名-h, --host服务地址-S, --socketsocket文件。和-S和 -h -P只能使用其中一种方式登陆。-v, --verbose输出更多提示信息，使用-vvv 输出更多信息。在批量执行脚本时，我们可能会需要增加输出信息，便于查看脚本执行过程中的信息。-s, --silent安静模式，输出更少的提示信息-B, --batch批模式，输出更少提示信息。会影响wait_timeout参数。-e执行sql语句。mysql -e ‘select now()’-A, --no-auto-rehash登陆时不读取mysql数据字典。在数据库中表多的时候，使用-A选项能提高连接的速度。–tee将命令和结果输出到文件–no-defaults不从默认的配置文件中读取选项–defaults-file从指定的配置文件中读取选项–ssl-modessl连接模式required: 启用sslverify_ca：验证服务端证书verify_identity：验证服务端身份disabled：不启用ssl–ssl-cassl CA证书。服务端和客户端使用同一个ca证书–ssl-cert客户端ssl证书–ssl-key客户端ssl私钥 3 关于mysql客户端空闲超时 mysql服务端会终止空闲时间超过一定时长的会话，有2个参数会影响超时时间。空闲时间是指客户端没有发送请求到服务端的连续时间。
interactive-timeout 交互模式下的连接空闲超时时间。使用mysql client连接是，超时时间会设置为interactive-timeout指定的值。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8ca3a7ec0bb410bfac2543eb8a4e71af/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T14:36:03+08:00" />
<meta property="article:modified_time" content="2024-01-08T14:36:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL运维实战(3.1) MySQL官方客户端使用介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><em>作者：俊达</em></p> 
<h3><a id="_1"></a>引言</h3> 
<p>MySQL是MySQL安装包默认的客户端，该客户端程序通常位于二进制安装包的bin目录中，或者通过rpm安装包安装mysql-community-client，是数据库管理系统的重要组成部分。MySQL客户端不仅仅是一个简单的软件工具，更是连接用户与数据库之间的桥梁，对于有效地使用MySQL数据库的功能和特性至关重要。熟练掌握MySQL客户端的使用方法对于数据库管理和数据操作具有重要意义，在接下来的内容中，我们将介绍MySQL官方客户端的使用方法。<br> <img src="https://images2.imgbox.com/57/cb/EaPb7Vne_o.png" alt="在这里插入图片描述" width="500"></p> 
<h3><a id="1_mysql_4"></a>1 使用mysql程序</h3> 
<p>linux终端下，输入mysql命令登陆数据库。如果提示mysql不存在，要看mysql程序是否在命令行的搜索路径。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@box3 ~]</span><span class="token comment"># mysql</span>
<span class="token operator">-</span>bash: mysql: No such file or directory

<span class="token comment">### 测试环境中，mysql位于/usr/local/mysql, 设置PATH</span>
<span class="token namespace">[root@box3 ~]</span><span class="token comment"># cat ~/.bash_profile</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
PATH=<span class="token variable">$PATH</span>:<span class="token variable">$HOME</span><span class="token operator">/</span>bin:<span class="token operator">/</span>usr/local/mysql/bin
export PATH

<span class="token namespace">[root@box1 ~]</span><span class="token comment"># mysql --version</span>
mysql  Ver 14<span class="token punctuation">.</span>14 Distrib 5<span class="token punctuation">.</span>7<span class="token punctuation">.</span>32<span class="token punctuation">,</span> <span class="token keyword">for</span> Linux <span class="token punctuation">(</span>x86_64<span class="token punctuation">)</span> <span class="token keyword">using</span>  EditLine wrapper
</code></pre> 
<h3><a id="2_mysql_20"></a>2 mysql主要命令行参数说明</h3> 
<table><thead><tr><th>命令行参数</th><th>说明</th></tr></thead><tbody><tr><td>–help</td><td>查看帮助信息。mysql --help</td></tr><tr><td>–version</td><td>查看客户端版本</td></tr><tr><td>-p, --password</td><td>用户密码，小写的p</td></tr><tr><td>-P, --port</td><td>服务端口，大写的P</td></tr><tr><td>-u, --user</td><td>用户名</td></tr><tr><td>-h, --host</td><td>服务地址</td></tr><tr><td>-S, --socket</td><td>socket文件。和-S和 -h -P只能使用其中一种方式登陆。</td></tr><tr><td>-v, --verbose</td><td>输出更多提示信息，使用-vvv 输出更多信息。在批量执行脚本时，我们可能会需要增加输出信息，便于查看脚本执行过程中的信息。</td></tr><tr><td>-s, --silent</td><td>安静模式，输出更少的提示信息</td></tr><tr><td>-B, --batch</td><td>批模式，输出更少提示信息。会影响wait_timeout参数。</td></tr><tr><td>-e</td><td>执行sql语句。mysql -e ‘select now()’</td></tr><tr><td>-A, --no-auto-rehash</td><td>登陆时不读取mysql数据字典。在数据库中表多的时候，使用-A选项能提高连接的速度。</td></tr><tr><td>–tee</td><td>将命令和结果输出到文件</td></tr><tr><td>–no-defaults</td><td>不从默认的配置文件中读取选项</td></tr><tr><td>–defaults-file</td><td>从指定的配置文件中读取选项</td></tr><tr><td>–ssl-mode</td><td>ssl连接模式</td></tr><tr><td></td><td>required: 启用ssl</td></tr><tr><td></td><td>verify_ca：验证服务端证书</td></tr><tr><td></td><td>verify_identity：验证服务端身份</td></tr><tr><td></td><td>disabled：不启用ssl</td></tr><tr><td>–ssl-ca</td><td>ssl CA证书。服务端和客户端使用同一个ca证书</td></tr><tr><td>–ssl-cert</td><td>客户端ssl证书</td></tr><tr><td>–ssl-key</td><td>客户端ssl私钥</td></tr></tbody></table> 
<h3><a id="3_mysql_46"></a>3 关于mysql客户端空闲超时</h3> 
<p>mysql服务端会终止空闲时间超过一定时长的会话，有2个参数会影响超时时间。空闲时间是指客户端没有发送请求到服务端的连续时间。</p> 
<ul><li>interactive-timeout</li></ul> 
<p>交互模式下的连接空闲超时时间。使用mysql client连接是，超时时间会设置为interactive-timeout指定的值。</p> 
<ul><li>wait-timeout</li></ul> 
<p>非交互模式下的连接空闲超时时间。如果登陆时设置了交互模式，wait-timeout会设置为interactive-timeout指定的值<br> 测试<br> 1、先分别设置interactive-timeout和wait-timeout参数</p> 
<pre><code class="prism language-powershell">mysql&gt; <span class="token function">set</span> global wait_timeout=8000<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> 0 rows affected <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; <span class="token function">set</span> global interactive_timeout=1000<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> 0 rows affected <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>
</code></pre> 
<p>2、在交互式客户端查看超时时间。wait_timeout被设置为interactive_timout的值。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@box3 ~]</span><span class="token comment">#  mysql -udemo -h172.16.20.51 -pdemo -s -t</span>
mysql&gt; show variables where variable_name in <span class="token punctuation">(</span><span class="token string">'wait_timeout'</span><span class="token punctuation">,</span> <span class="token string">'interactive_timeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Variable_name       <span class="token punctuation">|</span> Value <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> interactive_timeout <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> wait_timeout        <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> 
<p>3、使用非交互式客户端连接，查看超时时间。使用客户端参数-B指定当前会话为非交互式会话。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@box3 ~]</span><span class="token comment">#  mysql -udemo -h172.16.20.51 -pdemo -s -t -B</span>
show variables where variable_name in <span class="token punctuation">(</span><span class="token string">'wait_timeout'</span><span class="token punctuation">,</span> <span class="token string">'interactive_timeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Variable_name       <span class="token punctuation">|</span> Value <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> interactive_timeout <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> wait_timeout        <span class="token punctuation">|</span> 8000  <span class="token punctuation">|</span>
</code></pre> 
<p>wait_timeout的值还是8000。<br> 4、每个会话可以设置各自的超时时间</p> 
<pre><code class="prism language-powershell">mysql&gt; show variables where variable_name in <span class="token punctuation">(</span><span class="token string">'wait_timeout'</span><span class="token punctuation">,</span> <span class="token string">'interactive_timeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Variable_name       <span class="token punctuation">|</span> Value <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> interactive_timeout <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> wait_timeout        <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
mysql&gt; <span class="token function">set</span> session wait_timeout=256<span class="token punctuation">;</span>
mysql&gt; show variables where variable_name in <span class="token punctuation">(</span><span class="token string">'wait_timeout'</span><span class="token punctuation">,</span> <span class="token string">'interactive_timeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Variable_name       <span class="token punctuation">|</span> Value <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> interactive_timeout <span class="token punctuation">|</span> 1000  <span class="token punctuation">|</span>
<span class="token punctuation">|</span> wait_timeout        <span class="token punctuation">|</span> 256   <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> 
<p>5、使用各种语言的api连接到mysql，需要连接后执行命令查看会话的空闲超时时间。</p> 
<h3><a id="4_mysql_client_107"></a>4 关于mysql client的参数文件</h3> 
<p>在linux环境下，使用mysql client会从默认的配置文件中读取相关参数。使用strace可以看到mysql会访问这些文件： /etc/my.cnf, /etc/mysql/my.cnf, /usr/etc/my.cnf, /root/.my.cnf</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@box1 ~]</span><span class="token comment"># strace mysql  2&gt;&amp;1 | grep my.cnf</span>
stat<span class="token punctuation">(</span><span class="token string">"/etc/my.cnf"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>st_mode=S_IFREG<span class="token punctuation">|</span>0644<span class="token punctuation">,</span> st_size=1029<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">)</span> = 0
open<span class="token punctuation">(</span><span class="token string">"/etc/my.cnf"</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span>           = 3
stat<span class="token punctuation">(</span><span class="token string">"/etc/mysql/my.cnf"</span><span class="token punctuation">,</span> 0x7ffc29961a00<span class="token punctuation">)</span> = <span class="token operator">-</span>1 ENOENT <span class="token punctuation">(</span>没有那个文件或目录<span class="token punctuation">)</span>
stat<span class="token punctuation">(</span><span class="token string">"/usr/etc/my.cnf"</span><span class="token punctuation">,</span> 0x7ffc29961a00<span class="token punctuation">)</span> = <span class="token operator">-</span>1 ENOENT <span class="token punctuation">(</span>没有那个文件或目录<span class="token punctuation">)</span>
stat<span class="token punctuation">(</span><span class="token string">"/root/.my.cnf"</span><span class="token punctuation">,</span> 0x7ffc29961a00<span class="token punctuation">)</span>   = <span class="token operator">-</span>1 ENOENT <span class="token punctuation">(</span>没有那个文件或目录<span class="token punctuation">)</span>
</code></pre> 
<p>测试在/root/.my.cnf中配置相关连接参数，mysql client程序会自动从文件中读取相关选项。使用–no-defaults参数避免从默认参数文件中读取命令行选项。</p> 
<pre><code class="prism language-powershell"><span class="token namespace">[root@box1 ~]</span><span class="token comment"># cat /root/.my.cnf</span>
<span class="token namespace">[mysql]</span>
user=demo
password=demo

<span class="token namespace">[root@box1 ~]</span><span class="token comment"># mysql</span>
Welcome to the MySQL monitor<span class="token punctuation">.</span>  Commands <span class="token keyword">end</span> with <span class="token punctuation">;</span> or \g<span class="token punctuation">.</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
mysql&gt; show grants<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> Grants <span class="token keyword">for</span> demo@<span class="token operator">%</span>                         <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token punctuation">|</span> GRANT ALL PRIVILEGES ON <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> TO <span class="token string">'demo'</span>@<span class="token string">'%'</span> <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
1 row in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; ^DBye

<span class="token namespace">[root@box1 ~]</span><span class="token comment"># mysql --no-defaults</span>
ERROR 1045 <span class="token punctuation">(</span>28000<span class="token punctuation">)</span>: Access denied <span class="token keyword">for</span> user <span class="token string">'root'</span>@<span class="token string">'localhost'</span> <span class="token punctuation">(</span><span class="token keyword">using</span> password: NO<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="5_mysql_client_141"></a>5 mysql client程序使用场景</h3> 
<p>批量执行保存在文件中的SQL</p> 
<h4><a id="1_143"></a>（1）以列的方式展现查询数据</h4> 
<p>sql语句以\G结尾，将行格式的数据转换成按列显示。</p> 
<pre><code class="prism language-powershell">mysql&gt; <span class="token function">select</span> user<span class="token punctuation">,</span> host <span class="token keyword">from</span> mysql<span class="token punctuation">.</span>user limit 1<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> user  <span class="token punctuation">|</span> host <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token punctuation">|</span> auser <span class="token punctuation">|</span> <span class="token operator">%</span>    <span class="token punctuation">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
1 row in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>01 sec<span class="token punctuation">)</span>

mysql&gt; <span class="token function">select</span> user<span class="token punctuation">,</span> host <span class="token keyword">from</span> mysql<span class="token punctuation">.</span>user limit 1\G
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 1<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
user: auser
host: <span class="token operator">%</span>
1 row in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="2show_warningswarning_160"></a>（2）使用show warnings查看warning信息</h4> 
<p>有时候执行SQL会有warnings，执行show warnings命令可以查看具体的信息</p> 
<pre><code class="prism language-powershell">mysql&gt; <span class="token function">set</span> sql_mode=<span class="token string">''</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> 0 rows affected<span class="token punctuation">,</span> 1 warning <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; show warnings\G
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 1<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
  Level: Warning
   Code: 3090
Message: Changing sql mode <span class="token string">'NO_AUTO_CREATE_USER'</span> is deprecated<span class="token punctuation">.</span> It will be removed in a future release<span class="token punctuation">.</span>
1 row in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="3pager_174"></a>（3）使用pager过滤查询的数据</h4> 
<p>mysql客户端中可以使用pager过滤数据。类似于通过管道将sql的输出发送给pager指定的命令进行处理。</p> 
<pre><code class="prism language-powershell">mysql&gt; pager more
PAGER <span class="token function">set</span> to <span class="token string">'more'</span>

mysql&gt; <span class="token function">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> mysql<span class="token punctuation">.</span>user\G
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> 1<span class="token punctuation">.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
                  Host: localhost
                  User: root
           Select_priv: Y
           Insert_priv: Y
           Update_priv: Y
           Delete_priv: Y
           Create_priv: Y
             Drop_priv: Y
20 rows in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; pager
Default pager wasnt <span class="token function">set</span><span class="token punctuation">,</span> <span class="token keyword">using</span> stdout<span class="token punctuation">.</span>

mysql&gt; pager grep <span class="token string">"inserts/s"</span>
PAGER <span class="token function">set</span> to <span class="token string">'grep "inserts/s"'</span>
mysql&gt; show engine innodb status\G
0<span class="token punctuation">.</span>00 inserts/s<span class="token punctuation">,</span> 0<span class="token punctuation">.</span>00 updates/s<span class="token punctuation">,</span> 0<span class="token punctuation">.</span>00 deletes/s<span class="token punctuation">,</span> 0<span class="token punctuation">.</span>00 reads/s
1 row in <span class="token function">set</span> <span class="token punctuation">(</span>0<span class="token punctuation">.</span>00 sec<span class="token punctuation">)</span>

mysql&gt; pager
Default pager wasnt <span class="token function">set</span><span class="token punctuation">,</span> <span class="token keyword">using</span> stdout<span class="token punctuation">.</span>
</code></pre> 
<p>更多技术信息请查看云掣官网<a href="https://yunche.pro/?t=yrgw" rel="nofollow">https://yunche.pro/?t=yrgw</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b98100033310f0db84cb9ecb57845b6c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringBoot项目中开启MyBatis的SQL日志</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17a3458ed9664185eb00f11bb0d21c57/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Chrome您的连接不是私密连接或专用连接</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>