<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>c#与S7.net通讯实际工程应用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="c#与S7.net通讯实际工程应用" />
<meta property="og:description" content="用博图进行仿真通讯
（博图安装程序和破解程序可私信）
advance v3.0安装破解比较麻烦，可以自己尝试，也可以直接淘宝，这里就多叙述了，打开后如下图所示。
在博图数据块中建立数据如下图所示。
，基本数据类型也就是这样。博图中的内容不多赘述。有问题可以私信哈
接下来在visual studio中建立与PLC连接
1、首先在引用中右键👉选择管理NuGet程序包，安装如图程序包。
在浏览中搜索，然后安装，我这里已经安装好了。
2、接下来建立连接，代码如下
工程中需要用try {} catch{}将代码段包起来，以免程序宕机，这里catch中异常信息也可以用throw抛出求，写在方法里，不在最外层的try {} catch{}中都可以抛出去。
3、建立需要通讯的信号，这些信号通常要持续访问，所以单独建立一个类，用来保管信号。
4、信号读取 用while（true）对信号进行循环读取，这里需要单开一个线程，不能放在主线程中，不然卡线程。
这里要起一个名字，在调试的时候可以看到你线程是不是挂了，调试中查看线程方法如图所示。
同时可以监视你需要知道的变量
5、信号保存 通过数据库将需要的信息进行保存
连接字段如下图参数位置所示。
代码中sqlstr和sqlstr2为sql执行语句，具体根据自己的查询需要可进行调整。
6、效果展示 因项目要求只展示部分效果
这里信号为bool变量的反馈，true为绿灯，false为灰，实时反馈。
以上为工程实际项目最为核心的部分，其他内容就不做展示了，有问题欢迎私信讨论，有时间就回复。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/16268d30a9ee67a1bf545a0a0336587b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-11T16:42:20+08:00" />
<meta property="article:modified_time" content="2023-03-11T16:42:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">c#与S7.net通讯实际工程应用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>用博图进行仿真通讯</p> 
<p>（博图安装程序和破解程序可私信）</p> 
<p>advance v3.0安装破解比较麻烦，可以自己尝试，也可以直接淘宝，这里就多叙述了，打开后如下图所示。</p> 
<p><img alt="" height="938" src="https://images2.imgbox.com/d9/ab/cqFwbfEZ_o.png" width="565"></p> 
<p>在博图数据块中建立数据如下图所示。</p> 
<p><img alt="" height="497" src="https://images2.imgbox.com/9b/ff/Qdq4uNVL_o.png" width="1200">，基本数据类型也就是这样。博图中的内容不多赘述。有问题可以私信哈</p> 
<p><strong>接下来在visual studio中建立与PLC连接</strong></p> 
<p>1、首先在引用中右键👉选择管理NuGet程序包，安装如图程序包。</p> 
<p><img alt="" height="854" src="https://images2.imgbox.com/b2/22/gEAU8cO1_o.png" width="1200"></p> 
<p>在浏览中搜索，然后安装，我这里已经安装好了。</p> 
<p> 2、接下来建立连接，代码如下</p> 
<p><img alt="" height="404" src="https://images2.imgbox.com/88/4c/UIujXkd7_o.png" width="629"></p> 
<p> 工程中需要用try {} catch{}将代码段包起来，以免程序宕机，这里catch中异常信息也可以用throw抛出求，写在方法里，不在最外层的try {} catch{}中都可以抛出去。</p> 
<p>3、建立需要通讯的信号，这些信号通常要持续访问，所以单独建立一个类，用来保管信号。</p> 
<p><img alt="" height="438" src="https://images2.imgbox.com/18/2f/FInYmnxK_o.png" width="685"></p> 
<p>4、信号读取   用while（true）对信号进行循环读取，这里需要单开一个线程，不能放在主线程中，不然卡线程。<img alt="" height="437" src="https://images2.imgbox.com/f2/e2/04Fm9Uxn_o.png" width="952"></p> 
<p> <img alt="" height="85" src="https://images2.imgbox.com/77/a3/8ugWBuLl_o.png" width="438"></p> 
<p> 这里要起一个名字，在调试的时候可以看到你线程是不是挂了，调试中查看线程方法如图所示。</p> 
<p><img alt="" height="353" src="https://images2.imgbox.com/6c/38/LgYIeSaB_o.png" width="575"></p> 
<p> 同时可以监视你需要知道的变量</p> 
<p><img alt="" height="148" src="https://images2.imgbox.com/22/70/UB3n0iQg_o.png" width="1200"></p> 
<p> 5、信号保存 通过数据库将需要的信息进行保存</p> 
<p><img alt="" height="55" src="https://images2.imgbox.com/0c/d3/l9XcCepc_o.png" width="924"></p> 
<p>连接字段如下图参数位置所示。</p> 
<p><img alt="" height="777" src="https://images2.imgbox.com/39/3c/JBpVJdrL_o.png" width="1107"></p> 
<p> 代码中sqlstr和sqlstr2为sql执行语句，具体根据自己的查询需要可进行调整。</p> 
<p> 6、效果展示  因项目要求只展示部分效果</p> 
<p><img alt="" height="134" src="https://images2.imgbox.com/10/07/bDA8fGv4_o.png" width="1200"></p> 
<p> 这里信号为bool变量的反馈，true为绿灯，false为灰，实时反馈。</p> 
<p></p> 
<p>以上为工程实际项目最为核心的部分，其他内容就不做展示了，有问题欢迎私信讨论，有时间就回复。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c1820814ec91f40c1197a57815e99bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">一起学习交换机的基本原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ed1bc5324b0d144f158198fa4ac29d11/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【打造家庭服务器系列03】Frp 实现内网穿透</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>