<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue学习之组件传值、自定义事件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue学习之组件传值、自定义事件" />
<meta property="og:description" content="1、静态传值 注意：在template中不要加样式，因为不会起到任何作用他是不会执行的
&lt;!DOCTYPE html&gt; &lt;html lang=&#34;en&#34;&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34;&gt; &lt;meta http-equiv=&#34;X-UA-Compatible&#34; content=&#34;ie=edge&#34;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;script src=&#34;https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js&#34;&gt;&lt;/script&gt; &lt;style&gt; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;!-- 静态传值 --&gt; &lt;div id=&#34;root&#34;&gt; &lt;!--使用组件 --&gt; &lt;com-son movies=&#34;狐妖小红娘&#34; haha=&#34;我是父组件传过来的一句话&#34;&gt;&lt;/com-son&gt; &lt;/div&gt; &lt;!-- 子组件html部分 --&gt; &lt;template id=&#34;myson&#34;&gt; &lt;div&gt; &lt;!-- 静态 --&gt; &lt;h1&gt;我是子组件&lt;/h1&gt; &lt;h1&gt;{{movies}}&lt;/h1&gt; &lt;h1&gt;{{haha}}&lt;/h1&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; // 创建子组件 let ComSon = { template: &#34;#myson&#34;, props: [&#39;movies&#39;, &#34;haha&#34;], } const vm = new Vue({ el: &#39;#root&#39;, data() { return { } }, methods: { }, // 注册成一个局部组件 components: { ComSon } }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; 效果图：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/22a228d7021883cc5fee179d0cfc1b7f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-19T09:00:00+08:00" />
<meta property="article:modified_time" content="2022-10-19T09:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue学习之组件传值、自定义事件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1、静态传值</h2> 
<p><span style="color:#fe2c24;">注意：在template中不要加样式，因为不会起到任何作用他是不会执行的</span></p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"&gt;&lt;/script&gt;
    &lt;style&gt;

    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- 静态传值 --&gt;
    &lt;div id="root"&gt;
        &lt;!--使用组件 --&gt;
        &lt;com-son movies="狐妖小红娘" haha="我是父组件传过来的一句话"&gt;&lt;/com-son&gt;

    &lt;/div&gt;
    &lt;!-- 子组件html部分 --&gt;
    &lt;template id="myson"&gt;
        &lt;div&gt;
            &lt;!-- 静态 --&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{movies}}&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{haha}}&lt;/h1&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        // 创建子组件
        let ComSon = {
            template: "#myson",
            props: ['movies', "haha"],

        }
        const vm = new Vue({
            el: '#root',
            data() {
                return {

                }
            },
            methods: {
            },
            // 注册成一个局部组件
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="295" src="https://images2.imgbox.com/ae/fe/0J5wnsfQ_o.png" width="575"></p> 
<h2>2、动态传值 </h2> 
<p>要保证父组件里面的变量名=props里面的值=templ中的插值{<!-- -->{}}</p> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        .fa {
            width: 800px;
            height: 800px;
            background-color: PINK;
            padding: 20px;
        }

        .fa button {
            width: 300px;
            height: 100px;
            margin-top: 20px;
        }

        .son {
            width: 600px;
            height: 600px;
            background-color: green;
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="root" class="fa"&gt;
        &lt;!-- 动态传值 --&gt;
        &lt;!-- 变量名=“值” --&gt;
        &lt;com-son :message="msg"&gt;&lt;/com-son&gt;
        &lt;button @click="change"&gt;改变msg值&lt;/button&gt;
    &lt;/div&gt;
    &lt;template id="myson"&gt;
        &lt;div class="son"&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{ message }}&lt;/h1&gt;

        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        let ComSon = {
            template: "#myson",
            // 动态传参
            props: ["message"]

        }
        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                    msg: '哈哈，我又回来了'
                }
            },
            methods: {
                change() {
                    this.msg = '嘿嘿，交作业了'
                }
            },
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="533" src="https://images2.imgbox.com/45/5e/oN1A1435_o.png" width="545"></p> 
<h2> 3、子组件里面的props值</h2> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        .fa {
            width: 600px;
            height: 600px;
            background-color: PINK;
            padding: 20px;
        }

        .son {
            width: 300px;
            height: 200px;
            background-color: green;
            border: 1px solid red;
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- 静态传值 --&gt;
    &lt;!-- ：v-bind 动态 --&gt;
    &lt;div id="root" class="fa"&gt;
        &lt;com-son :msg="msg" :heihei="heihei"&gt;&lt;/com-son&gt;
    &lt;/div&gt;
    &lt;!-- 子组件html部分 --&gt;
    &lt;template id="myson"&gt;
        &lt;div class="son"&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{msg}}&lt;/h1&gt;
            &lt;button @click="change"&gt;改变props&lt;/button&gt;
            &lt;h1&gt;{<!-- -->{heihei}}&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{xixi}}&lt;/h1&gt;
            &lt;h1 v-for="item in haha"&gt;{<!-- -->{item}}&lt;/h1&gt;

        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        // 创建子组件
        let ComSon = {
            template: "#myson",
            // 4 数组方式
            props: ["msg", "heihei"],
            data() {
                return {
                    haha: [],
                }
            },
            methods: {
                change() {
                    console.log(this.msg);
                    this.msg = '压根改不了'
                }
            },
            computed: {
                xixi() {
                    for (let i of this.heihei) {
                        let a = i * 10
                        this.haha.push(a)
                    }
                    return this.haha
                }
            },


        }




        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        // 父亲页面
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                    msg: '哈哈我又回来了',
                    heihei: [3, 4, 5, 6],

                }
            },
            methods: {

            },
            // 注册成一个局部组件
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="511" src="https://images2.imgbox.com/fb/2f/zbyryAzB_o.png" width="502"></p> 
<h2>4、props-验证对象</h2> 
<pre><code class="hljs">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        .fa {
            width: 600px;
            height: 600px;
            background-color: PINK;
            padding: 20px;
        }

        .son {
            width: 300px;
            height: 200px;
            background-color: green;
            border: 1px solid red;
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;!-- 静态传值 --&gt;
    &lt;!-- ：v-bind 动态 --&gt;
    &lt;div id="root" class="fa"&gt;
        &lt;com-son :msg="msg" :haha="haha" :tuanzi="tuanzi" :heihei="heihei"&gt;&lt;/com-son&gt;
    &lt;/div&gt;
    &lt;!-- 子组件html部分 --&gt;
    &lt;template id="myson"&gt;
        &lt;div class="son"&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;!-- 4 --&gt;

            &lt;h1&gt;{<!-- -->{msg}}&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{haha}}&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{heihei}}&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{tuanzi}}&lt;/h1&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        // 创建子组件
        let ComSon = {
            template: "#myson",
            // props: ["msg", 'haha'],
            // 对象
            props: {
                msg: {
                    // 判断类型-type
                    // type: Boolean,
                    typeof: String
                },
                haha: {
                    type: String,
                    // 默认值default,没有传值过来时
                    default: '我是备胎'
                },
                heihei: {
                    type: String,
                    // 是不是必传，false是不必须
                    required: true
                },
                tuanzi: {
                    // 自定义验证函数
                    validator: function (value) {
                        console.log(value);
                        return ['success', 'warning', 'danger', 'haha'].includes(value)
                    }
                }
            },

        }




        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        // 父亲页面
        const vm = new Vue({
            el: '#root',
            data() {
                return {

                    msg: '哈哈我又回来了',
                    // haha: '我不怕',
                    haha: '我是正主',
                    heihei: '我是必须要传的',
                    tuanzi: 'haha'
                }
            },
            methods: {

            },
            // 注册成一个局部组件
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<h2>二、自定义事件</h2> 
<h3>1、子组件传父组件</h3> 
<blockquote> 
 <p>向父组件发送事件有三种形式：</p> 
 <p>        1、静态数据  $emit('事件名‘，’数据’）</p> 
 <p>        2、动态数据 $emit('事件名',动态数据）</p> 
 <p>        3、传递多个参数时，父组件可以使用不定参的形式接收</p> 
</blockquote> 
<p><strong>注意：子组件里面定义的事件名要同写在父组件里面的事件名称保持一致，在父组件上通过其他事件去接收子组件传来的数据。</strong></p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/b9/41/LgkHcx7W_o.png" width="536"></p> 
<p> <img alt="" height="290" src="https://images2.imgbox.com/1b/21/AIuY4SWd_o.png" width="529"></p> 
<p><strong> 源代码：</strong></p> 
<pre><code class="language-html">&lt;body&gt;
    &lt;div id="root"&gt;
        &lt;com-son @recep="change"&gt;&lt;/com-son&gt;
        {<!-- -->{ha}}
        {<!-- -->{fa}}
    &lt;/div&gt;
    &lt;template id="son"&gt;
        &lt;div class="son"&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;button @click="send"&gt;子组件传父&lt;/button&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        let ComSon = {
            template: '#son',
            data() {
                return {
                    msg: '那都不是事',

                }
            },
            methods: {
                send() {
                    console.log('向父组件发送事件');
                    // 发送静态数据
                    // this.$emit('recep', '我是子组件里面传过来的哟！！！')
                    // 发送动态数据
                    // this.$emit('recep', this.msg)
                    // 传多参
                    this.$emit('recep', '我是子组件里面传过来的哟！！！', this.msg, '嘎嘎嘎嘎')
                }
            }
        }
        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                    ha: '',
                    fa: '我是父组件的值'
                }
            },
            methods: {
                change(...e) {
                    console.log(e);
                    // console.log(b);
                    this.ha = e[0]
                    this.fa = e[2]
                }
            },
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;</code></pre> 
<p>效果图：</p> 
<p style="text-align:center;"><img alt="" height="461" src="https://images2.imgbox.com/17/3c/SFCMNxug_o.gif" width="504"></p> 
<p> </p> 
<h4>2、ref和refs</h4> 
<pre><code class="language-html"> &lt;div id="root"&gt;
        &lt;!-- 作用域普通元素 ,可以获取到这个元素的dom节点，从而进行dom操作--&gt;
        &lt;p ref="mp"&gt;这是p元素&lt;/p&gt;
        &lt;p id="hap"&gt;这是另一个p元素&lt;/p&gt;
        &lt;button @click="change"&gt;获取ref&lt;/button&gt;


    &lt;/div&gt;
    &lt;script&gt;
        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                }
            },
            methods: {
                change() {
                    let ha = this.$refs.mp
                    console.log(ha);
                    ha.style.border = '5px solid red'
                    let b = document.getElementById('hap')
                    console.log(b);
                }
            }
        });
    &lt;/script&gt;
&lt;/body&gt;</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="675" src="https://images2.imgbox.com/1f/42/wjgR0htf_o.png" width="649"></p> 
<h4> 3、ref和refs作用到组件</h4> 
<blockquote> 
 <p>作用于组件props和ref：<br><span style="color:#fe2c24;"><strong>1、props：主要用于传递数据，但不能调用子组件的方法和属性（单向绑定，父传子）<br> 2、ref:主要引用，主要是调用子组件的方法，拿子组件的实例<br> 3、$emit：用于事件传递（子组件触发父组件里面的方法）</strong></span></p> 
</blockquote> 
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;script src="https://cdn.jsdelivr.net/npm/vue@2.7.10/dist/vue.js"&gt;&lt;/script&gt;
    &lt;style&gt;
        #root {
            width: 600px;
            height: 600px;
            background-color: yellowgreen;
        }

        .son {

            width: 200px;
            height: 200px;
            background-color: burlywood;
        }
    &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;div id="root"&gt;

        &lt;com-son ref="myson"&gt;&lt;/com-son&gt;
        &lt;button @click="change"&gt;获取ref&lt;/button&gt;

    &lt;/div&gt;
    &lt;template id="son"&gt;
        &lt;div class="son"&gt;
            &lt;h1&gt;我是子组件&lt;/h1&gt;
            &lt;h1&gt;{<!-- -->{haha}}&lt;/h1&gt;
        &lt;/div&gt;
    &lt;/template&gt;
    &lt;script&gt;
        let ComSon = {
            template: '#son',
            data() {
                return {
                    msg: '我是子组件的数据',
                    haha: ''
                }
            },
            methods: {
                heihei(e) {
                    // this.msg = '我被父组件调用改变了'
                    this.haha = e
                }
            }
        }
        Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                }
            },
            methods: {
                change() {
                    let ha = this.$refs.myson
                    console.log(ha);
                    console.log(ha.msg);
                    let b = ha.heihei()
                    console.log(ha.msg);
                    ha.heihei('父组件穿过来的')
                }
            },
            components: {
                ComSon
            }
        });
    &lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre> 
<p>效果图：</p> 
<p><img alt="" height="338" src="https://images2.imgbox.com/1e/1a/dlOdaFji_o.png" width="429"></p> 
<p> </p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/40f6895bbe148d677c2bb6d07cd33041/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">App自动化测试框架appium&#43;python&#43;appnium_python_client及实现</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/88786f96fe72d0f4a13e1b08091d0571/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">See Finer, See More！腾讯&amp;上交提出IVT，越看越精细，进行精细全面的跨模态对比！</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>