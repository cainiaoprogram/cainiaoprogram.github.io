<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android学习之Android studio TraceView和lint工具的使用详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android学习之Android studio TraceView和lint工具的使用详解" />
<meta property="og:description" content="上次讲述了一下Android studio Terminal的使用配置，今天又学习了一下关于Traceview和lint工具的使用。
首先来讲lint吧：
Android lint工具是Android studio中集成的一个代码提示工具，它主要负责对你的代码进行优化提示，包括xml和java文件，很强大。
编写完代码及时进行lint测试，会让我们的代码变得非常规范而且避免代码冗余。让我们及时发现代码中隐藏的问题。
举个例子：我们在代码中建立全局变量，而这个变量实际并不需要全局便利，lint在检测之后会提示我们改成局部变量，这对内存优化是一个很强大的促进手段。
如何使用：
可以看到有Inspect Code，翻译就是检测代码
点击选择whole project(整个项目)即可
效果如下：
这里提示ImageView没用添加ContentDescription属性，已经解决办法，真真是很智能，很强大。
clean Code会帮助我们检测有无可疑代码。
Android lint就讲到这。
Android TraceView的使用：
TraveView是Android studio集成的一个性能优化工具，相信很多人都知道它，但是用到它的应该不多，它的使用比较复杂，应该说理解比较复杂。它主要计算工程内方法运行所占用的时间，调用次数，以此来优化App运行效率。
例如：一个方法，占用时间比较长，但是调用次数少，那么你就要检测这个方法耗时在什么地方，由什么原因导致？
使用方法：
打开Android Device Monitor，这个大家都知道
1.选择你要调试的进程。 2.点击start mothod profiling，待图标变黑。 3.选择sample base profiling
这里需要解释一下：
Trace base profiling
整体监听，项目中所有方法都会监听，资源消耗比较大。
sample base profiling
抽样监听，以指定的频率进行抽样调查，一般不要超过5s，需要较长时间获取准确的样本数据。
再次点击start mothod profiling，就会生成检测样本。
效果如下：
上部分为时间轴，x轴表示时间，黑色区域可放大，每个区域代表每个方法的执行时间。
y轴表示每一个独立线程。
下部分Name为你所选择的颜色区块所代表的性能分析。
不同的颜色，代表不同的方法，颜色长度代表占用时间。
属性介绍：
Incl cpu time：某方法占用cpu时间（父&#43;子） Excl cpu time：某方法本身占用cpu时间（父）
Incl Real time：某方法真正执行时间（父&#43;子） Excl Real time：某方法自身执行时间（父）
当然还有相应所占百分比，不过多介绍。
还有Calls&#43;RecurCall 调用次数&#43;递归调用次数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/032d3ac4f99a7d375820b2ef359c0741/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-04-17T11:44:34+08:00" />
<meta property="article:modified_time" content="2016-04-17T11:44:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android学习之Android studio TraceView和lint工具的使用详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>上次讲述了一下Android studio Terminal的使用配置，今天又学习了一下关于Traceview和lint工具的使用。</p> 
<p>首先来讲lint吧：</p> 
<p>Android lint工具是Android studio中集成的一个代码提示工具，它主要负责对你的代码进行优化提示，包括xml和java文件，很强大。</p> 
<p>编写完代码及时进行lint测试，会让我们的代码变得非常规范而且避免代码冗余。让我们及时发现代码中隐藏的问题。</p> 
<p>举个例子：我们在代码中建立全局变量，而这个变量实际并不需要全局便利，lint在检测之后会提示我们改成局部变量，这对内存优化是一个很强大的促进手段。</p> 
<p>如何使用：</p> 
<p><img src="https://images2.imgbox.com/ab/cf/tlyW9rih_o.png" alt="这里写图片描述" title=""></p> 
<p>可以看到有Inspect Code，翻译就是检测代码</p> 
<p><img src="https://images2.imgbox.com/a5/db/b5dX4gBU_o.png" alt="这里写图片描述" title=""></p> 
<p>点击选择whole project(整个项目)即可</p> 
<p>效果如下：</p> 
<p><img src="https://images2.imgbox.com/ce/87/UpEA4f4m_o.png" alt="这里写图片描述" title=""></p> 
<p>这里提示ImageView没用添加ContentDescription属性，已经解决办法，真真是很智能，很强大。</p> 
<p>clean Code会帮助我们检测有无可疑代码。</p> 
<p>Android lint就讲到这。</p> 
<p>Android TraceView的使用：</p> 
<p>TraveView是Android studio集成的一个性能优化工具，相信很多人都知道它，但是用到它的应该不多，它的使用比较复杂，应该说理解比较复杂。它主要计算工程内方法运行所占用的时间，调用次数，以此来优化App运行效率。</p> 
<p>例如：一个方法，占用时间比较长，但是调用次数少，那么你就要检测这个方法耗时在什么地方，由什么原因导致？</p> 
<p>使用方法：</p> 
<p>打开Android Device Monitor，这个大家都知道</p> 
<p><img src="https://images2.imgbox.com/b2/45/Se0pQibd_o.png" alt="这里写图片描述" title=""></p> 
<p>1.选择你要调试的进程。 <br> 2.点击start mothod profiling，待图标变黑。 <br> 3.选择sample base profiling</p> 
<p>这里需要解释一下：</p> 
<p>Trace base profiling</p> 
<p>整体监听，项目中所有方法都会监听，资源消耗比较大。</p> 
<p>sample base profiling</p> 
<p>抽样监听，以指定的频率进行抽样调查，一般不要超过5s，需要较长时间获取准确的样本数据。</p> 
<p>再次点击start mothod profiling，就会生成检测样本。</p> 
<p>效果如下：</p> 
<p><img src="https://images2.imgbox.com/9f/c5/8zxYZ5y0_o.png" alt="这里写图片描述" title=""></p> 
<p>上部分为时间轴，x轴表示时间，黑色区域可放大，每个区域代表每个方法的执行时间。</p> 
<p>y轴表示每一个独立线程。</p> 
<p>下部分Name为你所选择的颜色区块所代表的性能分析。</p> 
<p>不同的颜色，代表不同的方法，颜色长度代表占用时间。</p> 
<p>属性介绍：</p> 
<p>Incl cpu time：某方法占用cpu时间（父+子） <br> Excl cpu time：某方法本身占用cpu时间（父）</p> 
<p>Incl Real time：某方法真正执行时间（父+子） <br> Excl Real time：某方法自身执行时间（父）</p> 
<p>当然还有相应所占百分比，不过多介绍。</p> 
<p>还有Calls+RecurCall 调用次数+递归调用次数</p> 
<p>还有比较重要的：</p> 
<p>cpu time/call：平均每次调用占用cpu时间。</p> 
<p>real time/call ：平均每次调用所执行的时间。</p> 
<p>我觉得这个参数很具有参考性。</p> 
<p><img src="https://images2.imgbox.com/40/e5/CsMMXgXm_o.png" alt="这里写图片描述" title=""></p> 
<p>打开每个方法，会显示Paents和children(即父方法和子方法)，以及分别所占用时间。</p> 
<p>说了这么多，应该对怎么使用TraceView很清晰了。</p> 
<p>就到这吧。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5b55bd79c21676f0c4b00de5857a1d65/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">改变软键盘Enter键功能</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0b9f35fc5dd21280f13fad1757caa512/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在Eclipse中中tomcat会启动两次</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>