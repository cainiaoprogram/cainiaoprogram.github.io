<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS停服背景下“浪潮信息KeyarchOS(KOS)系统迁移(无缝切换)解决方案” - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS停服背景下“浪潮信息KeyarchOS(KOS)系统迁移(无缝切换)解决方案”" />
<meta property="og:description" content="1 前言 1.1 背景介绍 CentOS停服事件源于2020年12月宣布的CentOS项目变更，其原计划是基于Red Hat Enterprise Linux（RHEL）的开源版本，提供长期支持。然而，在2020年12月8日，官方宣布终止CentOS Linux的项目，并将其替代为CentOS Stream，这是一个连续发布模型的发行版，不再提供稳定的长期支持，这引发了广泛的不满和担忧。
这一事件在国内引发了对操作系统更多讨论：
自主创新：国内企业强调自研，即便在操作系统领域也不例外。这意味着更多投资和支持，以确保本国操作系统的可持续发展，同时减少对外部供应商的依赖。
行业合作机遇：CentOS停服事件也鼓励了各种行业合作，包括企业、开源社区机构之间的合作，以推动国内操作系统的发展。这种合作可能导致更多创新和发展机会。
但同时，我们也看到，目前我国操作系统整体存在差距，如何让更多行业、更多人用上好用的操作系统，需要操作系统生态各方的共同努力。
总之，CentOS停服事件促进了国内操作系统的发展，为自主创新合作和创新提供了机会。这是一个值得密切关注的发展趋势，可能对国内技术生态系统和数字化转型产生深远影响。
下面，我们将介绍浪潮信息提供的操作系统 KeyarchOS 无缝衔接替代方案。
1.2 KeyarchOS 操作系统 1.2.1 系统特性 简介
KeyarchOS 即云峦操作系统（简称KOS），是浪潮信息基于 Linux 内核、龙蜥等开源技术自主研发一款服务器操作系统，支持x86、ARM等主流架构处理器，广泛兼容CentOS生态和创新技术产品，可为用户提供整套可视化 CentOS 到 KeyarchOS 的迁移方案。
特性
KeyarchOS 具备稳定可靠、高效软硬件协同、全天候运维、安全可信等特性，增强了对云计算、人工智能等场景的支持，性能稳定性领先，生态完善，符合金融、政务、能源、交通、通信、教育、医疗等关键行业的应用要求。极端情况可恢复，针对断电、断网、硬件故障等情况设计 400 多项，用于验证并完善产品的可靠性，LTP stress 7*24 小时高负荷无宕机。在服务器操作系统领域，从最早的 KUX 开始，浪潮信息已经有 10 余年的研发和技术经验，相关产品在关键行业广泛应用，累计装机量超20万台。 广泛兼容
支持350&#43;主流CPU、GPU、FPGA、网卡、服务器、网络设备兼容认证。支持主流数据库、中间件、虚拟化、容器、云平台、办公软件兼容认证全覆盖。继承了龙蜥社区的生态，实现全产业链生态覆盖。 平滑迁移
提供 CentOS到 KeyarchOS的迁移工具，实现原系统及应用向 KeyarchOS的平滑迁移，迁移过程自动化率达95%。可以实现基于专家规则的自动化运维与诊断，以及面向不同应用场景的一键式性能优化。依托 ISPIM 深度监控与管理，从底层芯片、部件、整机系统到软件的全方位运行情况；支持无缝接入浪潮信息 InService 云端运维服务，实现运维远程托管。 场景增强
简化 GPU、AIPU 使用，大幅提升 AI 开发效率。支持基于 DPU 的高性能虚拟化网络、存储，性能提升10倍。容器密度提升 10%、网络性能最高提升 300%。 安全性
通过了等保 2.0 三级认证。全面支持 SM2、SM3、SM4 商用密码算法。基于可信根可实现对 OS Loader、OS Kernel、应用程序等的可信验证，及时发现系统底层的高级恶意代码的入侵，从而实现 KeyarchOS 的可信启动。采用 Liunx 统一 PAM 认证以及基于口令&#43;UKey 的双因子认证机制，实现身份认证，从而增强服务器的安全性。还有安全漏洞管理机制、安全加固软件等特性。 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1d8614307fc1eb7735f018d328d6ae1a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-15T23:41:20+08:00" />
<meta property="article:modified_time" content="2023-11-15T23:41:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS停服背景下“浪潮信息KeyarchOS(KOS)系统迁移(无缝切换)解决方案”</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="1__0"></a>1 前言</h3> 
<h4><a id="11__1"></a>1.1 背景介绍</h4> 
<p>CentOS停服事件源于2020年12月宣布的CentOS项目变更，其原计划是基于Red Hat Enterprise Linux（RHEL）的开源版本，提供长期支持。然而，在2020年12月8日，官方宣布终止CentOS Linux的项目，并将其替代为CentOS Stream，这是一个连续发布模型的发行版，不再提供稳定的长期支持，这引发了广泛的不满和担忧。</p> 
<p>这一事件在国内引发了对操作系统更多讨论：<br> 自主创新：国内企业强调自研，即便在操作系统领域也不例外。这意味着更多投资和支持，以确保本国操作系统的可持续发展，同时减少对外部供应商的依赖。<br> 行业合作机遇：CentOS停服事件也鼓励了各种行业合作，包括企业、开源社区机构之间的合作，以推动国内操作系统的发展。这种合作可能导致更多创新和发展机会。</p> 
<p>但同时，我们也看到，目前我国操作系统整体存在差距，如何让更多行业、更多人用上好用的操作系统，需要操作系统生态各方的共同努力。</p> 
<p>总之，CentOS停服事件促进了国内操作系统的发展，为自主创新合作和创新提供了机会。这是一个值得密切关注的发展趋势，可能对国内技术生态系统和数字化转型产生深远影响。</p> 
<p>下面，我们将介绍浪潮信息提供的操作系统 KeyarchOS 无缝衔接替代方案。</p> 
<h4><a id="12_KeyarchOS__13"></a>1.2 KeyarchOS 操作系统</h4> 
<p><img src="https://images2.imgbox.com/f2/66/53bP1KEE_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="121__15"></a>1.2.1 系统特性</h5> 
<p><strong>简介</strong><br> KeyarchOS 即云峦操作系统（简称KOS），是浪潮信息基于 Linux 内核、龙蜥等开源技术自主研发一款服务器操作系统，支持x86、ARM等主流架构处理器，广泛兼容CentOS生态和创新技术产品，可为用户提供整套可视化 CentOS 到 KeyarchOS 的迁移方案。</p> 
<p><strong>特性</strong></p> 
<ul><li>KeyarchOS 具备稳定可靠、高效软硬件协同、全天候运维、安全可信等特性，增强了对云计算、人工智能等场景的支持，性能稳定性领先，生态完善，符合金融、政务、能源、交通、通信、教育、医疗等关键行业的应用要求。</li><li>极端情况可恢复，针对断电、断网、硬件故障等情况设计 400 多项，用于验证并完善产品的可靠性，LTP stress 7*24 小时高负荷无宕机。</li><li>在服务器操作系统领域，从最早的 KUX 开始，浪潮信息已经有 10 余年的研发和技术经验，相关产品在关键行业广泛应用，累计装机量超20万台。</li></ul> 
<p><strong>广泛兼容</strong></p> 
<ul><li>支持350+主流CPU、GPU、FPGA、网卡、服务器、网络设备兼容认证。</li><li>支持主流数据库、中间件、虚拟化、容器、云平台、办公软件兼容认证全覆盖。</li><li>继承了龙蜥社区的生态，实现全产业链生态覆盖。</li></ul> 
<p><strong>平滑迁移</strong></p> 
<ul><li>提供 CentOS到 KeyarchOS的迁移工具，实现原系统及应用向 KeyarchOS的平滑迁移，迁移过程自动化率达95%。</li><li>可以实现基于专家规则的自动化运维与诊断，以及面向不同应用场景的一键式性能优化。</li><li>依托 ISPIM 深度监控与管理，从底层芯片、部件、整机系统到软件的全方位运行情况；支持无缝接入浪潮信息 InService 云端运维服务，实现运维远程托管。</li></ul> 
<p><strong>场景增强</strong></p> 
<ul><li>简化 GPU、AIPU 使用，大幅提升 AI 开发效率。</li><li>支持基于 DPU 的高性能虚拟化网络、存储，性能提升10倍。</li><li>容器密度提升 10%、网络性能最高提升 300%。</li></ul> 
<p><strong>安全性</strong></p> 
<ul><li>通过了等保 2.0 三级认证。</li><li>全面支持 SM2、SM3、SM4 商用密码算法。</li><li>基于可信根可实现对 OS Loader、OS Kernel、应用程序等的可信验证，及时发现系统底层的高级恶意代码的入侵，从而实现 KeyarchOS 的可信启动。</li><li>采用 Liunx 统一 PAM 认证以及基于口令+UKey 的双因子认证机制，实现身份认证，从而增强服务器的安全性。</li><li>还有安全漏洞管理机制、安全加固软件等特性。</li></ul> 
<h5><a id="122__46"></a>1.2.2 开发、运维、场景支持</h5> 
<p><strong>开发工具</strong>：支持make，automake，cmake，gcc，autogen等。<br> <strong>运行环境</strong>：支持Python、Shell、Java，Perl 等解释性语言的运行环境对于 C/C++编译生成的二进制程序也可直接在系统里面部署和运行。<br> <strong>基础开发库</strong>：提供基础 C 库 glibc。<br> <strong>数据库服务</strong>：为用户提供了完备的数据库服务，不仅支持 PostgreSQL 、MySQL、Redis等开源数据库软件，还对多款数据库软件进行兼容适配，例如：达梦、南大通用、人大金仓等<br> <strong>Web 服务</strong> ：提供了常用的 Apache Web 服务器软件。可以完成虚拟主机，代理服务，安全控制等多种服务。<br> <strong>组件管理</strong>：采用的组件格式是 RPM。通过它可以用来安装、卸载、校验、查询和更新 KeyarchOS 上的软件包，同时也提供新一代的 RPM 软件包管理器 DNF。DNF 包管理器克服了 Yum 管理器的一些瓶颈。<br> <strong>虚拟化</strong>：KeyarchOS支持虚拟化技术，既可以作为物理机上的宿主机操作系统也可用作虚拟机上的客户机操作系统。KeyarchOS 提供了常用的 KVM、QEMU、Libvirt 等虚拟化组件；支持 docker、podman 等主流容器基础平台，实现容器的全生命周期管理。提供常用的虚拟机管理工具(如 virsh、virt-install、virt-manager 等)<br> <strong>云计算</strong>：支持 Openstack 等开源虚拟化云计算框架平台。<br> <strong>大数据</strong>：适配了 Hadoop、Hive、Flink 等国内外主流的大数据引擎、数据存储、数据处理等工具套件，提供多源数据集成、高效存储、分布式计算与调度、高并发访问以及分析挖掘能力，可应对 GB-PB 量级的海量异构数据场景。<br> <strong>人工智能</strong>：适配了主流的人工智能框架，包括 Tensorflow、Scikit-learn 等。<br> <strong>边缘计算</strong>： 提供边缘计算软件解决方案。</p> 
<h3><a id="2__X2Keyarch_59"></a>2 系统迁移工具 X2Keyarch</h3> 
<p>这里使用的 <strong>X2Keyarch V2.0</strong>。</p> 
<h4><a id="21__61"></a>2.1 环境及要求</h4> 
<p>操作系统要求：KeyarchOS V5.8操作系统<br> 硬件要求：CPU数建议8核以上，内存建议32G以上，当前只支持x86架构</p> 
<h4><a id="22__64"></a>2.2 安装</h4> 
<h5><a id="221_rpm_65"></a>2.2.1 rpm包安装</h5> 
<pre><code class="prism language-powershell">rpm <span class="token operator">-</span>ivh kx2keyarch-2<span class="token punctuation">.</span>0-1<span class="token punctuation">.</span>kos<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
或
yum install <span class="token operator">-</span>y kx2keyarch-2<span class="token punctuation">.</span>0-1<span class="token punctuation">.</span>kos<span class="token punctuation">.</span>x86_64<span class="token punctuation">.</span>rpm
</code></pre> 
<p>默认安装路径：<code>/usr/local/sysom</code>。<br> 默认配置使⽤的nginx对外端⼝为80，可以通过 <code>export SERVER_PORT=xxx </code>来设置。<br> 默认配置的内⽹IP是通过<code> ip -4 route</code> 命令查找的第⼀个IP，可以通过 <code>export SERVER_LOCAL_IP=xxx.xxx.xxx.xxx</code> 来设置。</p> 
<h5><a id="222__76"></a>2.2.2 启动</h5> 
<pre><code class="prism language-powershell">bash <span class="token operator">-</span>x <span class="token operator">/</span>usr/local/sysom/init_scripts/server/init<span class="token punctuation">.</span>sh
</code></pre> 
<h5><a id="223__82"></a>2.2.3 登录</h5> 
<pre><code class="prism language-powershell">https:<span class="token operator">/</span><span class="token operator">/</span>部署服务器的ip
</code></pre> 
<h3><a id="3__88"></a>3 系统迁移(切换操作系统)</h3> 
<p>小提示：<br> 在官方给出的文档中，标题是系统迁移，这里指的是将操作系统进行无缝转换/切换的意思，在系统切换后，源系统部署的程序，在新系统中仍然存在，用户只需重新启动即可使用。</p> 
<h4><a id="31__91"></a>3.1 原系统搭建的软件/程序查看</h4> 
<h5><a id="311__92"></a>3.1.1 程序信息</h5> 
<p>本次我们将搭建的旧系统上的某安全厂商的应用管理平台进行迁移测试，这里仅以此程序为例，如有部署其他程序，均会无缝迁移。</p> 
<h5><a id="312__95"></a>3.1.2 部署位置</h5> 
<p>部署位置在 <code>/home/amhome</code> 目录下</p> 
<p><img src="https://images2.imgbox.com/eb/8f/y01NnLKE_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="313__101"></a>3.1.3 旧系统信息查看</h5> 
<p>这里确定下，该应用管理平台使用的操作系统为： CentOS 7 (Core) 版本。<br> <img src="https://images2.imgbox.com/52/e8/OqrioHzK_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32__105"></a>3.2 开始迁移</h4> 
<h5><a id="321__106"></a>3.2.1 登录迁移工具</h5> 
<p>这里我们可以看到，我们所管理的所有主机，找到自己要进行迁移的源主机<br> <img src="https://images2.imgbox.com/0b/f5/yfwWWqfJ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="322__110"></a>3.2.2 对源主机进行迁移评估</h5> 
<p>1、首先选择要进行迁移的源主机，然后在菜单栏找到 <code>迁移评估</code></p> 
<p><img src="https://images2.imgbox.com/76/14/ztzuT3zN_o.png" alt="在这里插入图片描述"></p> 
<p>2、点击 <code>迁移评估</code>后，会进入到评估相关配置页面，这里选择的配置信息如下：</p> 
<ul><li>主机 IP 地址。</li><li>迁移目标操作系统：浪潮信息KeyarchOS。</li><li>Repo 配置：选择公网地址。</li><li>选择评估 
  <ul><li>系统评估：评估系统配置信息与 KeyarchOS 系统是否兼容。</li><li>硬件评估：评估原系统下的硬件与 KeyarchOS 系统是否兼容。<br> <img src="https://images2.imgbox.com/c0/69/gYUpV9PM_o.png" alt="在这里插入图片描述"></li></ul> </li></ul> 
<p>在评估的时候，也可以点击 评估记录 中的 查看报告，如果已经评估处出部分，这里也会展示出来相关的结果，不用等完全评估完，进行查询结果。这功能挺nice的，不用干巴巴的看进度条了。</p> 
<p>3、这里大约等了15min的时间就完成了，让我们查看一下最终报告：</p> 
<p><strong>风险评估</strong>：<br> 这里的高风险也可以忽略，不影响迁移操作，只有当出现 inhibitor 的选项，才会影响到迁移操作。<br> <img src="https://images2.imgbox.com/50/17/CB98Tnpu_o.png" alt="在这里插入图片描述"></p> 
<p><strong>系统配置评估</strong>：<br> 这里可以查看系统中的命令、内核支持性、各种配置等评估结果。</p> 
<p><img src="https://images2.imgbox.com/eb/62/weFU7yQd_o.png" alt="在这里插入图片描述"></p> 
<p><strong>硬件评估报告</strong>：<br> 这里我们可以查看操作系统的相关信息，以及评估结果中的驱动支持情况。<br> <img src="https://images2.imgbox.com/f8/a3/gBh97Uni_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="323__142"></a>3.2.3 迁移实施</h5> 
<p>1、点击 菜单 -&gt; 操作系统迁移 -&gt; 迁移实施。<br> 2、找到批量实施，点击后在弹出的窗口中可以进行迁移配置。</p> 
<ul><li>选择主机：源系统 IP 地址</li><li>迁移版本：KeyarchOS操作系统</li><li>选择内核：ANCK</li><li>Repo 配置：公网地址</li><li>备份配置：不备份<br> <img src="https://images2.imgbox.com/31/66/6xhd82sb_o.png" alt="在这里插入图片描述"></li></ul> 
<p>最后，点击 确定，进行系统迁移。<br> <img src="https://images2.imgbox.com/26/42/BqqmrmMG_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="324__156"></a>3.2.4 登录操作系统检查信息</h5> 
<p>最后，进度提示迁移成功后，我们可以登录系统进行查看，可以看到操作系统完成了无缝迁移转换。</p> 
<p><img src="https://images2.imgbox.com/96/6e/yjvB6HWD_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="325__160"></a>3.2.5 查看项目是否正常运行</h5> 
<p>切换完操作系统后，找到我们的程序重新进行启动，并且查看原有的应用管理平台的配置等信息，无其他异常情况，完美运行。</p> 
<p>小提示：<br> 系统迁移转换完成后，已部署的程序服务记得重新启动哈。</p> 
<h3><a id="4__165"></a>4 优化建议</h3> 
<ol><li>希望官方可以在说明文档中对 “系统迁移” 加上系统切换的含义，这个词比较专业，非专业领域从业者容易误解为将A主机内容迁移到B主机，无法get到一台主机上切换操作系统的概念。</li><li>X2Keyarch 迁移工具整体设计很完整，如果能在一些关键选项中加一些选项说明就更好了，比如：<br> 迁移实时中-迁移版本（选择的KeyarchOS5.8）: 可以做标签提示系统存储位置、系统提供商等信息。（其他选项亦同）</li><li>X2Keyarch 迁移流程整体UI流程建议：如果可以按照步骤条的方式配置将会更加简洁，参考如下。<br> <img src="https://images2.imgbox.com/c9/b0/dgLXIaXe_o.png" alt="在这里插入图片描述"></li></ol> 
<h3><a id="5__171"></a>5 结语</h3> 
<p>在体验完浪潮信息提供的操作系统迁移方案中，全程均为可视化操作，无任何人工登录操作系统配置辅助等过程，实现了完全自动化；并且管理员可以看到迁移过程中的迁移风险、兼容性等评估结果，对切换操作系统后可能遇到的问题等给出了指导方案，很大程度上减少了用户使用上的困难，非常值得推荐[赞][赞][赞]。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1da4f8a72186f4992d86626822dd59cc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">身份认证系统迁移至浪潮信息KOS5.8过程记录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d6a9ce72c8ce83683bbdc1503c3daadf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">谷歌浏览器突然不能翻译了怎么解决？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>