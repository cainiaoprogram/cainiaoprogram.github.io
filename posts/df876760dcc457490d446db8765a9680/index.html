<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenCV 图像绘图、线条、文字、矩形 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OpenCV 图像绘图、线条、文字、矩形" />
<meta property="og:description" content="本文是 OpenCV图像视觉入门之路的第8篇文章，本文详细的在图像上面进行了绘制线条、绘制圆、空心圆、实心圆、画矩形、空心矩形、实心矩形、添加英文、添加汉字、绘制多边形等操作。
OpenCV 图像绘图、线条、文字、矩形目录
1 绘制线条
2 绘制圆
2.1 空心圆
2.2 实心圆
3 画矩形
3.1 空心矩形
3.2 实心矩形
4 添加文字
5 添加汉字
6 绘制多边形
1 绘制线条 主要使用了line函数
import cv2 from PIL import Image import matplotlib.pyplot as plt import numpy as np # 按间距中的绿色按钮以运行脚本。 if __name__ == &#39;__main__&#39;: image = cv2.imread(&#39;D:/Jupyter_Notebooks/0.jpg&#39;) image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB) # (0, 0) XY点 (800, 512) 终点 (255, 0, 0)颜色 5宽度 cv2.line(image, (0, 0), (800, 512), (255, 0, 0), 5) plt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/df876760dcc457490d446db8765a9680/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-03T01:41:15+08:00" />
<meta property="article:modified_time" content="2023-01-03T01:41:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenCV 图像绘图、线条、文字、矩形</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        本文是 <a href="https://so.csdn.net/so/search?q=OpenCV&amp;spm=1001.2101.3001.7020" title="OpenCV">OpenCV</a>图像视觉入门之路的第8篇文章，本文详细的在图像上面进行了<a href="#1%20%E7%BB%98%E5%88%B6%E7%BA%BF%E6%9D%A1" rel="nofollow">绘制线条</a>、<a href="#2%20%E7%BB%98%E5%88%B6%E5%9C%86" rel="nofollow">绘制圆</a>、<a href="#2.1%20%E7%A9%BA%E5%BF%83%E5%9C%86" rel="nofollow">空心圆、</a><a href="#2.2%20%E5%AE%9E%E5%BF%83%E5%9C%86" rel="nofollow">实心圆</a>、<a href="#3%20%E7%94%BB%E7%9F%A9%E5%BD%A2" rel="nofollow">画矩形、</a><a href="#3.1%20%E7%A9%BA%E5%BF%83%E7%9F%A9%E5%BD%A2" rel="nofollow">空心矩形、</a><a href="#3.2%20%E5%AE%9E%E5%BF%83%E7%9F%A9%E5%BD%A2" rel="nofollow">实心矩形、</a><a href="#4%20%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97" rel="nofollow">添加</a>英文、<a href="#4%20%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97" rel="nofollow">添加</a>汉字、<a href="#6%20%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2" rel="nofollow">绘制多边形</a>等操作。</p> 
<p><img alt="" height="857" src="https://images2.imgbox.com/f1/7d/FjjuRZfp_o.png" width="1200"></p> 
<p id="main-toc"><strong>OpenCV 图像绘图、线条、文字、矩形目录</strong></p> 
<p id="1%20%E7%BB%98%E5%88%B6%E7%BA%BF%E6%9D%A1-toc" style="margin-left:0px;"><a href="#1%20%E7%BB%98%E5%88%B6%E7%BA%BF%E6%9D%A1" rel="nofollow">1 绘制线条</a></p> 
<p id="2%20%E7%BB%98%E5%88%B6%E5%9C%86-toc" style="margin-left:0px;"><a href="#2%20%E7%BB%98%E5%88%B6%E5%9C%86" rel="nofollow">2 绘制圆</a></p> 
<p id="2.1%20%E7%A9%BA%E5%BF%83%E5%9C%86-toc" style="margin-left:40px;"><a href="#2.1%20%E7%A9%BA%E5%BF%83%E5%9C%86" rel="nofollow">2.1 空心圆</a></p> 
<p id="2.2%20%E5%AE%9E%E5%BF%83%E5%9C%86-toc" style="margin-left:40px;"><a href="#2.2%20%E5%AE%9E%E5%BF%83%E5%9C%86" rel="nofollow">2.2 实心圆</a></p> 
<p id="3%20%E7%94%BB%E7%9F%A9%E5%BD%A2-toc" style="margin-left:0px;"><a href="#3%20%E7%94%BB%E7%9F%A9%E5%BD%A2" rel="nofollow">3 画矩形</a></p> 
<p id="3.1%20%E7%A9%BA%E5%BF%83%E7%9F%A9%E5%BD%A2-toc" style="margin-left:40px;"><a href="#3.1%20%E7%A9%BA%E5%BF%83%E7%9F%A9%E5%BD%A2" rel="nofollow">3.1 空心矩形</a></p> 
<p id="3.2%20%E5%AE%9E%E5%BF%83%E7%9F%A9%E5%BD%A2-toc" style="margin-left:40px;"><a href="#3.2%20%E5%AE%9E%E5%BF%83%E7%9F%A9%E5%BD%A2" rel="nofollow">3.2 实心矩形</a></p> 
<p id="4%20%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97-toc" style="margin-left:0px;"><a href="#4%20%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97" rel="nofollow">4 添加文字</a></p> 
<p id="5%20%E6%B7%BB%E5%8A%A0%E6%B1%89%E5%AD%97-toc" style="margin-left:0px;"><a href="#5%20%E6%B7%BB%E5%8A%A0%E6%B1%89%E5%AD%97" rel="nofollow">5 添加汉字</a></p> 
<p id="6%20%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2-toc" style="margin-left:0px;"><a href="#6%20%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2" rel="nofollow">6 绘制多边形</a></p> 
<hr id="hr-toc"> 
<h2 id="1%20%E7%BB%98%E5%88%B6%E7%BA%BF%E6%9D%A1">1 绘制线条</h2> 
<p>        主要使用了line函数</p> 
<pre><code class="language-python">import cv2
from PIL import Image
import matplotlib.pyplot as plt
import numpy as np

# 按间距中的绿色按钮以运行脚本。
if __name__ == '__main__':
    image = cv2.imread('D:/Jupyter_Notebooks/0.jpg')
    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

    # (0, 0) XY点  (800, 512) 终点  (255, 0, 0)颜色   5宽度
    cv2.line(image, (0, 0), (800, 512), (255, 0, 0), 5)
    plt.imshow(image)

    image = cv2.cvtColor(image, cv2.COLOR_RGB2BGR)
    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="591" src="https://images2.imgbox.com/46/cc/uQrvgdpw_o.png" width="964"></h2> 
<h2 id="2%20%E7%BB%98%E5%88%B6%E5%9C%86">2 绘制圆</h2> 
<pre><code class="language-python">import cv2
from PIL import Image
import matplotlib.pyplot as plt
import numpy as np

# 按间距中的绿色按钮以运行脚本。
if __name__ == '__main__':
    image = cv2.imread('D:/Jupyter_Notebooks/0.jpg')
    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

    # cv2.circle(图像, 圆点, 半径, 颜色, 宽度)
    cv2.circle(image, (200, 200), 50, (255, 0, 0), 1)

    image = cv2.cvtColor(image, cv2.COLOR_RGB2BGR)
    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<h3 id="2.1%20%E7%A9%BA%E5%BF%83%E5%9C%86">2.1 空心圆</h3> 
<pre><code class="language-python">    # cv2.circle(图像, 圆点, 半径, 颜色, 宽度)
    cv2.circle(image, (200, 200), 50, (255, 0, 0), 1)</code></pre> 
<p><img alt="" height="863" src="https://images2.imgbox.com/ca/cc/6eMcF1Bo_o.png" width="1200"></p> 
<h3 id="2.2%20%E5%AE%9E%E5%BF%83%E5%9C%86">2.2 实心圆</h3> 
<pre><code class="language-python">    # cv2.circle(图像, 圆点, 半径, 颜色, 宽度)
    cv2.circle(image, (200, 200), 50, (255, 0, 0), -1)</code></pre> 
<p><img alt="" height="856" src="https://images2.imgbox.com/75/d1/FUOVWax3_o.png" width="1200"></p> 
<h2 id="3%20%E7%94%BB%E7%9F%A9%E5%BD%A2">3 画矩形</h2> 
<pre><code class="language-python">import cv2
from PIL import Image
import matplotlib.pyplot as plt
import numpy as np

# 按间距中的绿色按钮以运行脚本。
if __name__ == '__main__':
    image = cv2.imread('D:/Jupyter_Notebooks/0.jpg')
    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

    # 画矩形   左上角坐标(20, 20)，右下角坐标(80, 80)，框颜色为绿色
    image = cv2.rectangle(image, (20, 20), (80, 80), (0, 255, 0), 2)

    image = cv2.cvtColor(image, cv2.COLOR_RGB2BGR)
    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<h3 id="3.1%20%E7%A9%BA%E5%BF%83%E7%9F%A9%E5%BD%A2">3.1 空心矩形</h3> 
<pre><code class="language-python">    # 画矩形   左上角坐标(20, 20)，右下角坐标(80, 80)，框颜色为绿色
    image = cv2.rectangle(image, (20, 20), (80, 80), (0, 255, 0), 2)</code></pre> 
<p><img alt="" height="857" src="https://images2.imgbox.com/c6/cb/VaHkGAoq_o.png" width="1200"></p> 
<h3 id="3.2%20%E5%AE%9E%E5%BF%83%E7%9F%A9%E5%BD%A2">3.2 实心矩形</h3> 
<pre><code class="language-python">    # 画矩形   左上角坐标(20, 20)，右下角坐标(80, 80)，框颜色为绿色
    image = cv2.rectangle(image, (20, 20), (80, 80), (0, 255, 0), -2)</code></pre> 
<p> <img alt="" height="850" src="https://images2.imgbox.com/ea/5e/NUoVe7jj_o.png" width="1200"></p> 
<h2 id="4%20%E6%B7%BB%E5%8A%A0%E6%96%87%E5%AD%97">4 添加文字</h2> 
<pre><code class="language-python">import cv2
from PIL import Image
import matplotlib.pyplot as plt
import numpy as np

# 按间距中的绿色按钮以运行脚本。
if __name__ == '__main__':
    image = cv2.imread('D:/Jupyter_Notebooks/0.jpg')
    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

    # 添加文字，加载字体
    font = cv2.FONT_HERSHEY_SIMPLEX
    # 添加文字hello
    cv2.putText(image, 'hello word', (10, 200), font,
                4, (255, 255, 255), 2, lineType=cv2.LINE_AA)

    image = cv2.cvtColor(image, cv2.COLOR_RGB2BGR)
    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<p><img alt="" height="857" src="https://images2.imgbox.com/7a/c5/cjvZnLhe_o.png" width="1200"></p> 
<h2 id="5%20%E6%B7%BB%E5%8A%A0%E6%B1%89%E5%AD%97">5 添加汉字</h2> 
<pre><code class="language-python">import cv2
from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt
import numpy as np
from numpy import unicode


def paint_chinese_opencv(cv2image):
    # 将cv2格式转化为PIL格式
    pilimg = Image.fromarray(cv2image)

    # PIL图片上打印汉字
    draw = ImageDraw.Draw(pilimg)  # 图片上打印
    # 参数1：字体文件路径，参数2：字体大小 ，参数3：编码格式
    font = ImageFont.truetype("D:/SimHei.ttf", 60, encoding="utf-8")
    # 参数1：打印坐标，参数2：文本，参数3：字体颜色，参数4：字体
    draw.text((150, 250), "你好 世界", (255, 0, 0), font=font)
    # PIL图片转cv2 图片
    # cv2.cvtColor颜色空间转换函数，第一个参数是需要转换的图片，第二个参数是转换成何种格式，这里是将RGB换成BGR
    cv2charimg = cv2.cvtColor(np.array(pilimg), cv2.COLOR_RGB2BGR)
    return cv2charimg


if __name__ == '__main__':
    image = cv2.imread('D:/Jupyter_Notebooks/0.jpg')
    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)

    image = paint_chinese_opencv(image)

    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<p><img alt="" height="865" src="https://images2.imgbox.com/4b/8b/D4hpOR6s_o.png" width="1200"></p> 
<h2 id="6%20%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2">6 绘制多边形</h2> 
<pre><code class="language-python">import cv2
from PIL import Image, ImageFont, ImageDraw
import matplotlib.pyplot as plt
import numpy as np
from numpy import unicode

if __name__ == '__main__':

    image = np.zeros((500, 500, 3), dtype=np.uint8)

    data = np.array([[172.0, 82], [194.0, 86], [182, 151.0], [194, 86]])  # [N,2]
    roi_as = [data.astype(np.int)]
    cv2.polylines(image, roi_as, True, (255, 0, 255))  # 画任意多边形

    cv2.imshow("image", image)

    cv2.waitKey(0)
    cv2.destroyAllWindows()
</code></pre> 
<p><img alt="" height="797" src="https://images2.imgbox.com/53/68/1fAPU5al_o.png" width="755"></p> 
<pre><code class="language-cpp">polylines(img, pts, isClosed, color[, thickness[, lineType[, shift]]])

    img：要在上面画多边形的图像
    pts：包含多边形上点的数组
    isClosed：标志，决定所绘制的多边形是否闭合。若为 True ，则画若干个闭合多边形；若为 False ，则画一条连接所有点的折线
    color：多边形颜色
    thickness：多边形线的粗细
    lineType：多边形线的类型
    shift：坐标精确到小数点后第几位
</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7649b1bee27d2360010acce1cd9935c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Shell脚本之——条件语句if详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/03391d1e1f50e5f152b39eae578ddfbf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【台式机DIY】我的第一台台式机&amp;电脑配置清单</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>