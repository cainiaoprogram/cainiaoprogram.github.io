<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mybatis-Plus详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mybatis-Plus详解" />
<meta property="og:description" content="目录
一、Mybatis-Plus简介
（一）什么是Mybatis-Plus
（二）Mybatis-Plus的优势
（三）Mybatis-Plus的框架结构
二、SpringBoot整合Mybatis-Plus入门
（一）创建maven工程，添加依赖
（二）创建数据库表employee
（三）构建数据模型Employee
（四）配置application.yml
（五）编写SpringBoot启动类
（六）编写mapper接口
（七）启动服务测试结果
三、Lombok插件
（一）Lombok插件简介
（二）常用的Lombok注解介绍
（三）idea安装Lombok插件
（四）Lombok插件的使用
1、引入依赖
2、去除Employee类中的setter和getter方法
3、在Employee类上添加Lombok注解
四、CRUD
（一）BaseMapper接口方法介绍
（二）Insert方法
（三）@TableId注解
（四）@TableName注解
（五）@TableField注解
（六）插入数据获取主键值
（七）更新数据的通用方法
1、updateById方法
2、update(entity，wrapper)方法
（八）查询数据的通用方法
1、selectById方法
2、selectBatchIds方法
3、selectByMap方法
（九）删除数据方法
1、deleteById方法
2、deleteByMap方法
3、deletebatchIds方法
五、Mybatis-Plus条件构造器
（一）条件构造器介绍
（二）SelectOne方法
（三）SelectList方法
（四）SelectPage方法
（五）Update方法
（六）Delete方法
六、Mybatis-Plus的Service封装
（一）通用service简介
（二）通用service常用方法介绍
（三）通用service的案例
1、构建工程，添加依赖
2、构建service接口
3、构建service实现类
4、通用service测试
七、Mybatis-Plus代码生成器
（一）代码生成器介绍
（二）构建maven工程，引入依赖
（三）编写生成器代码
1、GlobalConfig全局配置编码
2、DataSourceConfig数据源配置编码
3、PackageConfig包名策略配置
4、StrategyConfig策略配置编码
5、执行
（四）执行生成器代码完成测试
一、Mybatis-Plus简介 （一）什么是Mybatis-Plus Mybatis-Plus是一个Mybatis（opens new window）的增强工具，在Mybatis的基础上只做增强不做改变，为简化开发。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d5069eeea3e24437b275f3f968c85c6b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-28T09:30:20+08:00" />
<meta property="article:modified_time" content="2023-07-28T09:30:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mybatis-Plus详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="-toc" style="margin-left:0px;"></p> 
<p id="%E4%B8%80%E3%80%81Mybatis-Plus%E7%AE%80%E4%BB%8B-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81Mybatis-Plus%E7%AE%80%E4%BB%8B" rel="nofollow">一、Mybatis-Plus简介</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%80%E4%B9%88%E6%98%AFMybatis-Plus-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%80%E4%B9%88%E6%98%AFMybatis-Plus" rel="nofollow">（一）什么是Mybatis-Plus</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89Mybatis-Plus%E7%9A%84%E4%BC%98%E5%8A%BF-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89Mybatis-Plus%E7%9A%84%E4%BC%98%E5%8A%BF" rel="nofollow">（二）Mybatis-Plus的优势</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89Mybatis-Plus%E7%9A%84%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89Mybatis-Plus%E7%9A%84%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84" rel="nofollow">（三）Mybatis-Plus的框架结构</a></p> 
<p id="%E4%BA%8C%E3%80%81SpringBoot%E6%95%B4%E5%90%88Mybatis-Plus%E5%85%A5%E9%97%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81SpringBoot%E6%95%B4%E5%90%88Mybatis-Plus%E5%85%A5%E9%97%A8" rel="nofollow">二、SpringBoot整合Mybatis-Plus入门</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96" rel="nofollow">（一）创建maven工程，添加依赖</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8employee-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8employee" rel="nofollow">（二）创建数据库表employee</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8BEmployee-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8BEmployee" rel="nofollow">（三）构建数据模型Employee</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89%E9%85%8D%E7%BD%AEapplication.yml-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E9%85%8D%E7%BD%AEapplication.yml" rel="nofollow">（四）配置application.yml</a></p> 
<p id="%EF%BC%88%E4%BA%94%EF%BC%89%E7%BC%96%E5%86%99SpringBoot%E5%90%AF%E5%8A%A8%E7%B1%BB-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%94%EF%BC%89%E7%BC%96%E5%86%99SpringBoot%E5%90%AF%E5%8A%A8%E7%B1%BB" rel="nofollow">（五）编写SpringBoot启动类</a></p> 
<p id="%EF%BC%88%E5%85%AD%EF%BC%89%E7%BC%96%E5%86%99mapper%E6%8E%A5%E5%8F%A3-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%85%AD%EF%BC%89%E7%BC%96%E5%86%99mapper%E6%8E%A5%E5%8F%A3" rel="nofollow">（六）编写mapper接口</a></p> 
<p id="%EF%BC%88%E4%B8%83%EF%BC%89%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%83%EF%BC%89%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C" rel="nofollow">（七）启动服务测试结果</a></p> 
<p id="%E4%B8%89%E3%80%81Lombok%E6%8F%92%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81Lombok%E6%8F%92%E4%BB%B6" rel="nofollow">三、Lombok插件</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%AE%80%E4%BB%8B" rel="nofollow">（一）Lombok插件简介</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E7%94%A8%E7%9A%84Lombok%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E7%94%A8%E7%9A%84Lombok%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D" rel="nofollow">（二）常用的Lombok注解介绍</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89idea%E5%AE%89%E8%A3%85Lombok%E6%8F%92%E4%BB%B6-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89idea%E5%AE%89%E8%A3%85Lombok%E6%8F%92%E4%BB%B6" rel="nofollow">（三）idea安装Lombok插件</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8" rel="nofollow">（四）Lombok插件的使用</a></p> 
<p id="1%E3%80%81%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96" rel="nofollow">1、引入依赖</a></p> 
<p id="2%E3%80%81%E5%8E%BB%E9%99%A4Employee%E7%B1%BB%E4%B8%AD%E7%9A%84setter%E5%92%8Cgetter%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E5%8E%BB%E9%99%A4Employee%E7%B1%BB%E4%B8%AD%E7%9A%84setter%E5%92%8Cgetter%E6%96%B9%E6%B3%95" rel="nofollow">2、去除Employee类中的setter和getter方法</a></p> 
<p id="3%E3%80%81%E5%9C%A8Employee%E7%B1%BB%E4%B8%8A%E6%B7%BB%E5%8A%A0Lombok%E6%B3%A8%E8%A7%A3-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E5%9C%A8Employee%E7%B1%BB%E4%B8%8A%E6%B7%BB%E5%8A%A0Lombok%E6%B3%A8%E8%A7%A3" rel="nofollow">3、在Employee类上添加Lombok注解</a></p> 
<p id="%E5%9B%9B%E3%80%81CRUD-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81CRUD" rel="nofollow">四、CRUD</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89BaseMapper%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89BaseMapper%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D" rel="nofollow">（一）BaseMapper接口方法介绍</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89Insert%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89Insert%E6%96%B9%E6%B3%95" rel="nofollow">（二）Insert方法</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89%40TableId%E6%B3%A8%E8%A7%A3-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89%40TableId%E6%B3%A8%E8%A7%A3" rel="nofollow">（三）@TableId注解</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89%40TableName%E6%B3%A8%E8%A7%A3-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89%40TableName%E6%B3%A8%E8%A7%A3" rel="nofollow">（四）@TableName注解</a></p> 
<p id="%EF%BC%88%E4%BA%94%EF%BC%89%40TableField%E6%B3%A8%E8%A7%A3-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%94%EF%BC%89%40TableField%E6%B3%A8%E8%A7%A3" rel="nofollow">（五）@TableField注解</a></p> 
<p id="%EF%BC%88%E5%85%AD%EF%BC%89%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%BB%E9%94%AE%E5%80%BC-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%85%AD%EF%BC%89%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%BB%E9%94%AE%E5%80%BC" rel="nofollow">（六）插入数据获取主键值</a></p> 
<p id="%EF%BC%88%E4%B8%83%EF%BC%89%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%83%EF%BC%89%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95" rel="nofollow">（七）更新数据的通用方法</a></p> 
<p id="1%E3%80%81updateById%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#1%E3%80%81updateById%E6%96%B9%E6%B3%95" rel="nofollow">1、updateById方法</a></p> 
<p id="2%E3%80%81update(entity%EF%BC%8Cwrapper)%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#2%E3%80%81update%28entity%EF%BC%8Cwrapper%29%E6%96%B9%E6%B3%95" rel="nofollow">2、update(entity，wrapper)方法</a></p> 
<p id="%EF%BC%88%E5%85%AB%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%85%AB%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95" rel="nofollow">（八）查询数据的通用方法</a></p> 
<p id="1%E3%80%81selectById%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#1%E3%80%81selectById%E6%96%B9%E6%B3%95" rel="nofollow">1、selectById方法</a></p> 
<p id="2%E3%80%81selectBatchIds%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#2%E3%80%81selectBatchIds%E6%96%B9%E6%B3%95" rel="nofollow">2、selectBatchIds方法</a></p> 
<p id="3%E3%80%81selectByMap%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#3%E3%80%81selectByMap%E6%96%B9%E6%B3%95" rel="nofollow">3、selectByMap方法</a></p> 
<p id="%EF%BC%88%E4%B9%9D%EF%BC%89%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B9%9D%EF%BC%89%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95" rel="nofollow">（九）删除数据方法</a></p> 
<p id="1%E3%80%81deleteById%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#1%E3%80%81deleteById%E6%96%B9%E6%B3%95" rel="nofollow">1、deleteById方法</a></p> 
<p id="2%E3%80%81deleteByMap%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#2%E3%80%81deleteByMap%E6%96%B9%E6%B3%95" rel="nofollow">2、deleteByMap方法</a></p> 
<p id="3%E3%80%81deletebatchIds%E6%96%B9%E6%B3%95-toc" style="margin-left:80px;"><a href="#3%E3%80%81deletebatchIds%E6%96%B9%E6%B3%95" rel="nofollow">3、deletebatchIds方法</a></p> 
<p id="%E4%BA%94%E3%80%81Mybatis-Plus%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81Mybatis-Plus%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8" rel="nofollow">五、Mybatis-Plus条件构造器</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8%E4%BB%8B%E7%BB%8D" rel="nofollow">（一）条件构造器介绍</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89SelectOne%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89SelectOne%E6%96%B9%E6%B3%95" rel="nofollow">（二）SelectOne方法</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89SelectList%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89SelectList%E6%96%B9%E6%B3%95" rel="nofollow">（三）SelectList方法</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89SelectPage%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89SelectPage%E6%96%B9%E6%B3%95" rel="nofollow">（四）SelectPage方法</a></p> 
<p id="%EF%BC%88%E4%BA%94%EF%BC%89Update%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%94%EF%BC%89Update%E6%96%B9%E6%B3%95" rel="nofollow">（五）Update方法</a></p> 
<p id="%EF%BC%88%E5%85%AD%EF%BC%89Delete%E6%96%B9%E6%B3%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%85%AD%EF%BC%89Delete%E6%96%B9%E6%B3%95" rel="nofollow">（六）Delete方法</a></p> 
<p id="%E5%85%AD%E3%80%81Mybatis-Plus%E7%9A%84Service%E5%B0%81%E8%A3%85-toc" style="margin-left:0px;"><a href="#%E5%85%AD%E3%80%81Mybatis-Plus%E7%9A%84Service%E5%B0%81%E8%A3%85" rel="nofollow">六、Mybatis-Plus的Service封装</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89%E9%80%9A%E7%94%A8service%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89%E9%80%9A%E7%94%A8service%E7%AE%80%E4%BB%8B" rel="nofollow">（一）通用service简介</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89%E9%80%9A%E7%94%A8service%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E9%80%9A%E7%94%A8service%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D" rel="nofollow">（二）通用service常用方法介绍</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89%E9%80%9A%E7%94%A8service%E7%9A%84%E6%A1%88%E4%BE%8B-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89%E9%80%9A%E7%94%A8service%E7%9A%84%E6%A1%88%E4%BE%8B" rel="nofollow">（三）通用service的案例</a></p> 
<p id="1%E3%80%81%E6%9E%84%E5%BB%BA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96-toc" style="margin-left:80px;"><a href="#1%E3%80%81%E6%9E%84%E5%BB%BA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96" rel="nofollow">1、构建工程，添加依赖</a></p> 
<p id="2%E3%80%81%E6%9E%84%E5%BB%BAservice%E6%8E%A5%E5%8F%A3-toc" style="margin-left:80px;"><a href="#2%E3%80%81%E6%9E%84%E5%BB%BAservice%E6%8E%A5%E5%8F%A3" rel="nofollow">2、构建service接口</a></p> 
<p id="3%E3%80%81%E6%9E%84%E5%BB%BAservice%E5%AE%9E%E7%8E%B0%E7%B1%BB-toc" style="margin-left:80px;"><a href="#3%E3%80%81%E6%9E%84%E5%BB%BAservice%E5%AE%9E%E7%8E%B0%E7%B1%BB" rel="nofollow">3、构建service实现类</a></p> 
<p id="4%E3%80%81%E9%80%9A%E7%94%A8service%E6%B5%8B%E8%AF%95-toc" style="margin-left:80px;"><a href="#4%E3%80%81%E9%80%9A%E7%94%A8service%E6%B5%8B%E8%AF%95" rel="nofollow">4、通用service测试</a></p> 
<p id="%E4%B8%83%E3%80%81Mybatis-Plus%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8-toc" style="margin-left:0px;"><a href="#%E4%B8%83%E3%80%81Mybatis-Plus%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8" rel="nofollow">七、Mybatis-Plus代码生成器</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%8B%E7%BB%8D" rel="nofollow">（一）代码生成器介绍</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9E%84%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9E%84%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96" rel="nofollow">（二）构建maven工程，引入依赖</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89%E7%BC%96%E5%86%99%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89%E7%BC%96%E5%86%99%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81" rel="nofollow">（三）编写生成器代码</a></p> 
<p id="1%E3%80%81GlobalConfig%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81-toc" style="margin-left:80px;"><a href="#1%E3%80%81GlobalConfig%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81" rel="nofollow">1、GlobalConfig全局配置编码</a></p> 
<p id="2%E3%80%81DataSourceConfig%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81-toc" style="margin-left:80px;"><a href="#2%E3%80%81DataSourceConfig%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81" rel="nofollow">2、DataSourceConfig数据源配置编码</a></p> 
<p id="3%E3%80%81PackageConfig%E5%8C%85%E5%90%8D%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE-toc" style="margin-left:80px;"><a href="#3%E3%80%81PackageConfig%E5%8C%85%E5%90%8D%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE" rel="nofollow">3、PackageConfig包名策略配置</a></p> 
<p id="4%E3%80%81StrategyConfig%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81-toc" style="margin-left:80px;"><a href="#4%E3%80%81StrategyConfig%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81" rel="nofollow">4、StrategyConfig策略配置编码</a></p> 
<p id="5%E3%80%81%E6%89%A7%E8%A1%8C-toc" style="margin-left:80px;"><a href="#5%E3%80%81%E6%89%A7%E8%A1%8C" rel="nofollow">5、执行</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89%E6%89%A7%E8%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81%E5%AE%8C%E6%88%90%E6%B5%8B%E8%AF%95-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E6%89%A7%E8%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81%E5%AE%8C%E6%88%90%E6%B5%8B%E8%AF%95" rel="nofollow">（四）执行生成器代码完成测试</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81Mybatis-Plus%E7%AE%80%E4%BB%8B"><span style="color:#0d0016;">一、Mybatis-Plus简介</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%80%E4%B9%88%E6%98%AFMybatis-Plus"><span style="color:#0d0016;">（一）什么是Mybatis-Plus</span></h3> 
<p><span style="color:#0d0016;">Mybatis-Plus是一个Mybatis（opens new window）的增强工具，在Mybatis的基础上只做增强不做改变，为简化开发。</span></p> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89Mybatis-Plus%E7%9A%84%E4%BC%98%E5%8A%BF"><span style="color:#0d0016;">（二）Mybatis-Plus的优势</span></h3> 
<ul><li><span style="color:#0d0016;"><strong>无侵入：</strong>只做增强不做改变，引入它不会对现有工程产生影响。</span></li><li><span style="color:#0d0016;"><strong>损耗小：</strong>启动即会自动注入基本CURD，性能基本无损耗，直接面向对象操作。</span></li><li><span style="color:#0d0016;"><strong>强大的CRUD操作：</strong>内置通用Mapper、通用Service，仅仅通过少量配置即可实现单表大部分CRUD操作，更有强大的条件构造器，满足各类使用需求。</span></li><li><span style="color:#0d0016;"><strong>支持Lambda形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写</span> 
  <div> 
   <span style="color:#0d0016;">错。</span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>支持主键自动生成</strong>：支持多达4种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题。</span> 
  </div> </li><li><span style="color:#0d0016;"><strong>支持ActiveRecord模式：</strong>支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作。</span></li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）。 </span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用。 </span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询。 </span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、 </span> 
  </div> 
  <div> 
   <span style="color:#0d0016;">Postgre、SQLServer 等多种数据库。 </span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>内置性能分析插件</strong>：可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询。 </span> 
  </div> </li><li> 
  <div> 
   <span style="color:#0d0016;"><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作。</span> 
  </div> </li></ul> 
<div></div> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89Mybatis-Plus%E7%9A%84%E6%A1%86%E6%9E%B6%E7%BB%93%E6%9E%84"><span style="color:#0d0016;">（三）Mybatis-Plus的框架结构</span></h3> 
<p><span style="color:#0d0016;"><img alt="" height="468" src="https://images2.imgbox.com/8d/e5/dwP6Vmzj_o.png" width="730"></span></p> 
<p><span style="color:#0d0016;"> </span></p> 
<h2 id="%E4%BA%8C%E3%80%81SpringBoot%E6%95%B4%E5%90%88Mybatis-Plus%E5%85%A5%E9%97%A8"><span style="color:#0d0016;">二、SpringBoot整合Mybatis-Plus入门</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89%E5%88%9B%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span style="color:#0d0016;">（一）创建maven工程，添加依赖</span></h3> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;5.1.47&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.4.2&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;junit&lt;/groupId&gt;
    &lt;artifactId&gt;junit&lt;/artifactId&gt;
    &lt;version&gt;4.12&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8employee"><span style="color:#0d0016;">（二）创建数据库表employee</span></h3> 
<pre><code class="language-sql">CREATE TABLE employee(
emp_id BIGINT(20) NOT NULL,
name VARCHAR(30),
emp_gender VARCHAR(6),
age INT,
email VARCHAR(50),
PRIMARY KEY(emp_id)
);
INSERT INTO employee(emp_id,name,emp_gender,age,email)
VALUES(1367686308726788098,'刘晓娟','女',20,'liuxianjuan@qq.com');
INSERT INTO employee(emp_id,name,emp_gender,age,email)
VALUES(1367709299695099906,'张春雨','男',28,'zhangchunyu@sina.com');
INSERT INTO employee(emp_id,name,emp_gender,age,email)
VALUES(1367717669156028418,'何雨柱','男',23,'heyuzhu@126.com');</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89%E6%9E%84%E5%BB%BA%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8BEmployee"><span style="color:#0d0016;">（三）构建数据模型Employee</span></h3> 
<pre><code class="language-java">public class Employee {
    private Long empId;
    private String name;
    private String empGender;
    private Integer age;
    private String email;

    public Long getEmpId() {
        return empId;
    }

    public void setEmpId(Long empId) {
        this.empId = empId;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getEmpGender() {
        return empGender;
    }

    public void setEmpGender(String empGender) {
        this.empGender = empGender;
    }

    public Integer getAge() {
        return age;
    }

    public void setAge(Integer age) {
        this.age = age;
    }

    public String getEmail() {
        return email;
    }

    public void setEmail(String email) {
        this.email = email;
    }

    @Override
    public String toString() {
        return "Employee{" +
        "empId=" + empId +
        ", name='" + name + '\'' +
        ", empGender='" + empGender + '\'' +
        ", age=" + age +
        ", email='" + email + '\'' +
        '}';
    }
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89%E9%85%8D%E7%BD%AEapplication.yml"><span style="color:#0d0016;">（四）配置application.yml</span></h3> 
<pre><code class="language-java">spring:
datasource:
 driver-class-name: com.mysql.jdbc.Driver
 url: jdbc:mysql:///mybatis_plus
 username: root
 password: root
logging:
level:
 com:
   offcn:
      mapper: debug</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%94%EF%BC%89%E7%BC%96%E5%86%99SpringBoot%E5%90%AF%E5%8A%A8%E7%B1%BB"><span style="color:#0d0016;">（五）编写SpringBoot启动类</span></h3> 
<pre><code class="language-java">@SpringBootApplication
@MapperScan("com.offcn.mapper")
public class MybatisPlus01Application {
    public static void main(String[] args) {
        SpringApplication.run(MybatisPlus01Application.class, args);
    }
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%85%AD%EF%BC%89%E7%BC%96%E5%86%99mapper%E6%8E%A5%E5%8F%A3"><span style="color:#0d0016;">（六）编写mapper接口</span></h3> 
<pre><code class="language-java">public interface EmployeeMapper extends BaseMapper&lt;Employee&gt; {}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%83%EF%BC%89%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C"><span style="color:#0d0016;">（七）启动服务测试结果</span></h3> 
<pre><code class="language-java">@RunWith(SpringRunner.class)
@SpringBootTest
public class MybatisPlus01ApplicationTests {
    @Autowired
    private EmployeeMapper employeeMapper;
    
    @Test
    public void testSelect(){
        List&lt;Employee&gt; employeeList = employeeMapper.selectList(null);
        employeeList.forEach( System.out::println);
    }
}</code></pre> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81Lombok%E6%8F%92%E4%BB%B6"><span style="color:#0d0016;">三、Lombok插件</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%AE%80%E4%BB%8B"><span style="color:#0d0016;">（一）Lombok插件简介</span></h3> 
<p><span style="color:#0d0016;">Lombok是一个插件，用途是使用注解给你类里面的字段，自动的加上属性，构造器，ToString方法，Equals方法等，比较方便的一点是，你在更改字段的时候，Lombok会立即发生改变以保持和你代码的一致性。</span></p> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E7%94%A8%E7%9A%84Lombok%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D"><span style="color:#0d0016;">（二）常用的Lombok注解介绍</span></h3> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><span style="color:#0d0016;">@Data</span></td><td> <p><span style="color:#0d0016;"> 注在类上，提供类的get、set、equals、hashCode、toString等方法</span></p> </td></tr><tr><td><span style="color:#0d0016;">@Getter</span></td><td><span style="color:#0d0016;">加在类上，可以自动生成参数的getter方法</span></td></tr><tr><td><span style="color:#0d0016;">@Setter</span></td><td><span style="color:#0d0016;">加在类上，可以自动生成参数的setter方法</span></td></tr><tr><td><span style="color:#0d0016;">@ToString</span></td><td><span style="color:#0d0016;">加在类上，调用toString()方法，可以输出实体类中所有属性的值</span></td></tr><tr><td><span style="color:#0d0016;">@RequiredArgsConstructor</span></td><td><span style="color:#0d0016;">生成一个包含常量，和标识了NotNull的变量的构造方法。生成的构造方法是私有的private</span></td></tr><tr><td><span style="color:#0d0016;">@EqualsAndHashCode</span></td><td> <p><span style="color:#0d0016;">生成equals和hashCode方法，</span></p> <p><span style="color:#0d0016;">默认使用非静态的属性，</span></p> <p><span style="color:#0d0016;">可以通过exclude参数排除不需要生成的属性。</span></p> <p><span style="color:#0d0016;">通过of参数来指定需要生成的属性</span></p> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">@NoArgsConstructor</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">生成一个无参数的构造方法</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">@AllArgsConstructor</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">生成一个包含所有变量的构造方法。</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">@Value</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">这个注解要和Spring的@Value注解区分，Spring的是从配置文件读取内容，这个注解是在类中的所有字段默认全部声明为private final类型，只会生成Getter方法，不会生成Setter方法。</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">@Cleanup</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">主要用于关闭资源使用。</span> 
    </div> </td></tr></tbody></table> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89idea%E5%AE%89%E8%A3%85Lombok%E6%8F%92%E4%BB%B6"><span style="color:#0d0016;">（三）idea安装Lombok插件</span></h3> 
<div> 
 <span style="color:#0d0016;">首先我们需要安装IntelliJ IDEA中的lombok插件，打开IntelliJ IDEA后点击菜单栏中的File--&gt;Settings，或者使用快捷键Ctrl+Alt+S进入到设置页面。</span> 
</div> 
<div></div> 
<div> 
 <span style="color:#0d0016;">                <img alt="" height="377" src="https://images2.imgbox.com/09/1a/kGhP33w2_o.png" width="311"></span> 
</div> 
<p></p> 
<p></p> 
<div> 
 <span style="color:#0d0016;">我们点击设置中的Plugins进行插件的安装，在右侧选择Browse repositories...，然后在搜索页面输入lombok变可以查询到下方的Lombok Plugin，鼠标点击Lombok Plugin可在右侧看到Install按钮，点击该按钮便可安装。</span> 
</div> 
<div> 
 <span style="color:#0d0016;">        <img alt="" height="471" src="https://images2.imgbox.com/0f/24/m4JafqHb_o.png" width="699"></span> 
</div> 
<p><span style="color:#0d0016;"> <img alt="" height="577" src="https://images2.imgbox.com/b2/a2/kC4VpZgK_o.png" width="690"></span></p> 
<p><span style="color:#0d0016;">安装完成之后重启idear即可。 </span></p> 
<div></div> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89Lombok%E6%8F%92%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span style="color:#0d0016;">（四）Lombok插件的使用</span></h3> 
<h4 id="1%E3%80%81%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span style="color:#0d0016;">1、引入依赖</span></h4> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.4&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</code></pre> 
<p></p> 
<h4 id="2%E3%80%81%E5%8E%BB%E9%99%A4Employee%E7%B1%BB%E4%B8%AD%E7%9A%84setter%E5%92%8Cgetter%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">2、去除Employee类中的setter和getter方法</span></h4> 
<pre><code class="language-java">public class Employee {
    private Long empId;
    private String name;
    private String empGender;
    private Integer age;
    private String email;
}</code></pre> 
<p></p> 
<h4 id="3%E3%80%81%E5%9C%A8Employee%E7%B1%BB%E4%B8%8A%E6%B7%BB%E5%8A%A0Lombok%E6%B3%A8%E8%A7%A3"><span style="color:#0d0016;">3、在Employee类上添加Lombok注解</span></h4> 
<pre><code class="language-java">@NoArgsConstructor
@AllArgsConstructor
@Data
@ToString
public class Employee {
    private Long empId;
    private String name;
    private String empGender;
    private Integer age;
    private String email;
}</code></pre> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81CRUD"><span style="color:#0d0016;">四、CRUD</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89BaseMapper%E6%8E%A5%E5%8F%A3%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D"><span style="color:#0d0016;">（一）BaseMapper接口方法介绍</span></h3> 
<p><span style="color:#0d0016;">BaseMapper中提供了CRUD方法，具体方法如下：</span></p> 
<pre><code class="language-java">// 插入一条记录
int insert(T entity);

// 根据 entity 条件，删除记录
int delete(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; wrapper);

// 删除（根据ID 批量删除）
int deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);

// 根据 ID 删除
int deleteById(Serializable id);

// 根据 columnMap 条件，删除记录
int deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);

// 根据 whereEntity 条件，更新记录
int update(@Param(Constants.ENTITY) T entity, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; updateWrapper);

// 根据 ID 修改
int updateById(@Param(Constants.ENTITY) T entity);
List&lt;T&gt; selectList(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 查询（根据 columnMap 条件）
List&lt;T&gt; selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);

// 根据 Wrapper 条件，查询全部记录
List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值
List&lt;Object&gt; selectObjs(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 根据 entity 条件，查询全部记录（并翻页）
IPage&lt;T&gt; selectPage(IPage&lt;T&gt; page, @Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 根据 Wrapper 条件，查询全部记录（并翻页）
IPage&lt;Map&lt;String, Object&gt;&gt; selectMapsPage(IPage&lt;T&gt; page,
@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);

// 根据 Wrapper 条件，查询总记录数
Integer selectCount(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89Insert%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（二）Insert方法</span></h3> 
<blockquote> 
 <p><span style="color:#0d0016;">//插入一条记录<br> int insert (T entity);</span></p> 
</blockquote> 
<p><span style="color:#0d0016;">测试：</span></p> 
<pre><code class="language-java">@Test
public void testInsert() {
    Employee employee=new Employee();
    //employee.setEmpId(100000);
    employee.setName("刘龙");
    employee.setEmpGender("男");
    employee.setAge(25);
    employee.setEmail("liulong@163.com");
    employeeMapper.insert(employee);
}</code></pre> 
<p><span style="color:#0d0016;"><img alt="" height="256" src="https://images2.imgbox.com/af/0b/QrAQqdZ7_o.png" width="736"></span></p> 
<p><span style="color:#0d0016;">从上面的异常可以看出，我们没有给Employee类的empId属性赋值，定义数据库时对应的emp_id列不能为空，所以出错了，为了解决这个错误，你可以给empId属性赋值一个值，可以解决此问题。</span></p> 
<p><span style="color:#0d0016;">Mybatis-Plus默认采用雪花算法生成唯一值，如果想使用Mybatis-Plus自动生成的雪花算法值可以在实体类的属性上加@FiledId注解。</span></p> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89%40TableId%E6%B3%A8%E8%A7%A3"><span style="color:#0d0016;">（三）@TableId注解</span></h3> 
<p><span style="color:#0d0016;">描述：主键注解</span></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><span style="color:#0d0016;"><strong>属性</strong></span></td><td><span style="color:#0d0016;"><strong>类型</strong></span></td><td><span style="color:#0d0016;"><strong>必须指定</strong></span></td><td><span style="color:#0d0016;"><strong>默认值</strong></span></td><td><span style="color:#0d0016;"><strong>描述</strong></span></td></tr><tr><td><span style="color:#0d0016;">value</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">" "</span></td><td><span style="color:#0d0016;">主键字段名</span></td></tr><tr><td><span style="color:#0d0016;">type</span></td><td><span style="color:#0d0016;">Enum</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">IdType.NONE</span></td><td><span style="color:#0d0016;">主键类型</span></td></tr></tbody></table> 
<p></p> 
<p><span style="color:#0d0016;"><strong>IdType</strong></span></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><span style="color:#0d0016;"><strong>值</strong></span></td><td><span style="color:#0d0016;"><strong>描述</strong></span></td></tr><tr><td><span style="color:#0d0016;">Auto</span></td><td><span style="color:#0d0016;">数据库ID自增</span></td></tr><tr><td><span style="color:#0d0016;">None</span></td><td><span style="color:#0d0016;">无状态，该类型为未设置主键类型（注解里等于跟随全局，全局里约等于Input）</span></td></tr><tr><td> <p><span style="color:#0d0016;">Input</span></p> </td><td><span style="color:#0d0016;">Insert前自行set主键值</span></td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">ASSIGN_ID </span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">分配ID(主键类型为Number(Long和Integer)或String)(since 3.3.0),使用接口IdentifierGenerator 的方法 nextId (默认实现类为DefaultIdentifierGenerator 雪花算法) </span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">ASSIGN_UUI</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">分配UUID,主键类型为String(since 3.3.0),使用接口 IdentifierGenerator 的方法 nextUUID (默认default方法)</span> 
    </div> </td></tr></tbody></table> 
<pre><code class="language-java">@NoArgsConstructor
@AllArgsConstructor
@Data
@ToString
public class Employee {
    //使用数据库自增策略
    //@TableId(type=IdType.AUTO)
    //默认使用雪花算法生成数字
    @TableId
    private Long empId;
    private String empName;
    private String empGender;
    private Integer age;
    private String email;
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89%40TableName%E6%B3%A8%E8%A7%A3"><span style="color:#0d0016;">（四）@TableName注解</span></h3> 
<p><span style="color:#0d0016;">描述：表名注解</span></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><span style="color:#0d0016;"><strong>属性</strong></span></td><td><span style="color:#0d0016;"><strong>类型</strong></span></td><td><span style="color:#0d0016;"><strong>必须指定</strong></span></td><td><span style="color:#0d0016;"><strong>默认值</strong></span></td><td><span style="color:#0d0016;"><strong>描述</strong></span></td></tr><tr><td><span style="color:#0d0016;">value</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td><span style="color:#0d0016;">表名</span></td></tr><tr><td><span style="color:#0d0016;">schema</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td><span style="color:#0d0016;">schema</span></td></tr><tr><td><span style="color:#0d0016;">keepGlobalPrefix</span></td><td><span style="color:#0d0016;">boolean</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">false</span></td><td> 
    <div> 
     <span style="color:#0d0016;">是否保持使用全局的tablePrefix 的值 (如果设置了全局tablePrefix 且自行设置了 value 的值) </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">resultMap</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td><span style="color:#0d0016;">xml中resultMap的id</span></td></tr><tr><td><span style="color:#0d0016;">AutoResultMap</span></td><td><span style="color:#0d0016;">boolean</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">false</span></td><td> 
    <div> 
     <span style="color:#0d0016;">是否自动构建 resultMap 并使用(如果设置 resultMap 则不会进行 resultMap 的自动构建并注入) </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">excludeProperty</span></td><td><span style="color:#0d0016;">String[]</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">{}</span></td><td><span style="color:#0d0016;">需要排除的属性名（@since 3.3.1）</span></td></tr></tbody></table> 
<p><span style="color:#0d0016;">当表名跟实体类类名不一致时，要使用@TableName注解进行映射</span></p> 
<pre><code class="language-java">@NoArgsConstructor
@AllArgsConstructor
@Data
@ToString
@TableName(value = "tb_employee")
public class Employee {
    //使用数据库自增策略
    //@TableId(type=IdType.AUTO)
    //默认使用雪花算法生成数字
    @TableId
    private Long empId;
    private String empName;
    private String empGender;
    private Integer age;
    private String email;
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%94%EF%BC%89%40TableField%E6%B3%A8%E8%A7%A3"><span style="color:#0d0016;">（五）@TableField注解</span></h3> 
<p><span style="color:#0d0016;">描述：字段注解（非主键）</span></p> 
<table border="1" cellpadding="1" cellspacing="1" style="width:500px;"><tbody><tr><td><span style="color:#0d0016;"><strong>属性</strong></span></td><td><span style="color:#0d0016;"><strong>类型</strong></span></td><td><span style="color:#0d0016;"><strong>必须指定</strong></span></td><td><span style="color:#0d0016;"><strong>默认值</strong></span></td><td><span style="color:#0d0016;"><strong>描述</strong></span></td></tr><tr><td><span style="color:#0d0016;">value</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td><span style="color:#0d0016;">数据库字段名</span></td></tr><tr><td><span style="color:#0d0016;">el</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td> 
    <div> 
     <span style="color:#0d0016;">映射为原生 #{ ... } 逻辑,相当于写在 </span> 
    </div> 
    <div> 
     <span style="color:#0d0016;">xml 里的 #{ ... } 部分 </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">exist</span></td><td><span style="color:#0d0016;">boolean</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">true</span></td><td><span style="color:#0d0016;">是否为数据库表字段</span></td></tr><tr><td><span style="color:#0d0016;">condition</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td> 
    <div> 
     <span style="color:#0d0016;">字段 where 实体查询比较条件,有值设置则按设置的值为准,没有则为默认全局的 %s=#{%s}</span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">update</span></td><td><span style="color:#0d0016;">String</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">""</span></td><td> 
    <div> 
     <span style="color:#0d0016;">字段 update set 部分注入, 例如： </span> 
    </div> 
    <div> 
     <span style="color:#0d0016;">update="%s+1"：表示更新时会set </span> 
    </div> 
    <div> 
     <span style="color:#0d0016;">version=version+1(该属性优先级高于 </span> 
    </div> 
    <div> 
     <span style="color:#0d0016;">el 属性) </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">insertStrategy</span></td><td><span style="color:#0d0016;">Enum</span></td><td><span style="color:#0d0016;">N</span></td><td><span style="color:#0d0016;">DEFAULT</span></td><td> 
    <div> 
     <span style="color:#0d0016;">举例：NOT_NULL: insert into table_a(&lt;if test="columnProperty != null"&gt;column&lt;/if&gt;) values (&lt;if test="columnProperty != null"&gt;# {columnProperty}&lt;/if&gt;) </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">updateStrategy</span></td><td><span style="color:#0d0016;">Enum</span></td><td><span style="color:#0d0016;">N</span></td><td><span style="color:#0d0016;">DEFAULT</span></td><td> 
    <div> 
     <span style="color:#0d0016;">举例：IGNORED: update table_a set column=#{columnProperty} </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">whereStrategy</span></td><td><span style="color:#0d0016;">Enum</span></td><td><span style="color:#0d0016;">N</span></td><td><span style="color:#0d0016;">DEFAULT</span></td><td> 
    <div> 
     <span style="color:#0d0016;">举例：NOT_EMPTY: where &lt;if test="columnProperty != null and columnProperty!=''"&gt;column=# {columnProperty}&lt;/if&gt; </span> 
    </div> </td></tr><tr><td><span style="color:#0d0016;">fill</span></td><td><span style="color:#0d0016;">Enum</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">FieldFill.DEFAULT</span></td><td><span style="color:#0d0016;">字段自动填充策略</span></td></tr><tr><td><span style="color:#0d0016;">Select</span></td><td><span style="color:#0d0016;">boolean</span></td><td><span style="color:#0d0016;">否</span></td><td><span style="color:#0d0016;">true</span></td><td><span style="color:#0d0016;">是否进行select查询</span></td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">keepGlobalFormat</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">boolean</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">否</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">false</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">是否保持使用全局的 format 进行处理</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">jdbcType</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">JdbcType</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">否</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">JdbcType.UNDEFINE</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">JDBC类型 (该默认值不代表会按照该值生效)</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">typeHandler</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">Class&lt;？extends TypeHandler&gt; </span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">否</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">UnknownTypeHandler.class</span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">类型处理器 (该默认值不代表会按照该值生效)</span> 
    </div> </td></tr><tr><td> 
    <div> 
     <span style="color:#0d0016;">numericScale </span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">String </span> 
    </div> </td><td> 
    <div> 
     <span style="color:#0d0016;">否</span> 
    </div> </td><td><span style="color:#0d0016;">""</span></td><td> 
    <div> 
     <span style="color:#0d0016;">指定小数点后保留的位数 </span> 
    </div> </td></tr></tbody></table> 
<pre><code class="language-java">@NoArgsConstructor
@AllArgsConstructor
@Data
@ToString
@TableName(value = "tb_employee")
public class Employee {
    @TableId
    private Long empId;
    //当表中的列与实体类属性不一致时，使用TableField指定数据库中的列名
    @TableField(value = "emp_name")
    private String name;
    private String empGender;
    private Integer age;
    private String email;
    //当表中没有remark时，使用TableField的exist=false属性忽略该字段
    @TableField(exist = false)
    private String remark;
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%85%AD%EF%BC%89%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E4%B8%BB%E9%94%AE%E5%80%BC"><span style="color:#0d0016;">（六）插入数据获取主键值</span></h3> 
<p><span style="color:#0d0016;">修改Employee的empId注解</span></p> 
<pre><code class="language-java">@TableId(type=IdType.AUTO)
private Long empId;</code></pre> 
<p><span style="color:#0d0016;">mysql-plus会自动获取自增主键，把数据库的emp_id设置为自增。测试获取自增主键</span></p> 
<pre><code class="language-java">public void testInsert() {
    Employee employee=new Employee();
    employee.setName("刘龙200");
    employee.setEmpGender("男");
    employee.setAge(25);
    employee.setEmail("liulong@163.com");
    employee.setRemark("该员工是一个好员工");
    employeeMapper.insert(employee);
    System.out.println(employee.getEmpId());
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%83%EF%BC%89%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（七）更新数据的通用方法</span></h3> 
<h4 id="1%E3%80%81updateById%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">1、updateById方法</span></h4> 
<p><span style="color:#0d0016;">根据id进行记录更新，如果对象属性未传值，则不会更新该字段，保持数据库表原来字段值</span></p> 
<pre><code class="language-java">public void testUpdateById() {
    Employee employee=new Employee();
    employee.setEmpId(10)
    employee.setName("刘龙");
    employee.setEmpGender("女");
    employee.setAge(23);
    employee.setEmail("liulong@163.com");
    employeeMapper.updateById(employee);
}</code></pre> 
<p></p> 
<h4 id="2%E3%80%81update(entity%EF%BC%8Cwrapper)%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">2、update(entity，wrapper)方法</span></h4> 
<pre><code class="language-java">public void testdateById(){
    //根据员工的名字,更新
    Employee employee2=new Employee();
    employee2.setEmpGender("男");
    employee2.setAge(18);
    employee2.setEmail("liulong@126.com");
    employeeMapper.update(employee2,new UpdateWrapper&lt;Employee&gt;().eq("name","刘龙"));
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%85%AB%EF%BC%89%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E7%9A%84%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（八）查询数据的通用方法</span></h3> 
<h4 id="1%E3%80%81selectById%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">1、selectById方法</span></h4> 
<p><span style="color:#0d0016;">根据id查询指定记录</span></p> 
<pre><code class="language-java">@Test
public void testSelectById() {
    Employee employee=employeeMapper.selectById(1);
    System.out.println(employee);
}</code></pre> 
<p></p> 
<h4 id="2%E3%80%81selectBatchIds%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">2、selectBatchIds方法</span></h4> 
<p><span style="color:#0d0016;">批量查询指多个id的记录集合</span></p> 
<pre><code class="language-java">@Test
public void testSelectBatchIds() {
    List list= Arrays.asList(1,2,3);
    List&lt;Employee&gt; employeeList = employeeMapper.selectBatchIds(list);
    employeeList.forEach(System.out::println);
}</code></pre> 
<p></p> 
<h4 id="3%E3%80%81selectByMap%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">3、selectByMap方法</span></h4> 
<p><span style="color:#0d0016;">根据Map集合中传入的条件进行查询，每个条件都是and关系</span></p> 
<pre><code class="language-java">@Test
public void testSelectByMap() {
    Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();
    map.put("emp_gender","男");
    map.put("age",29);
    List&lt;Employee&gt; employeeList = employeeMapper.selectByMap(map);
    employeeList.forEach(System.out::println);
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B9%9D%EF%BC%89%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（九）删除数据方法</span></h3> 
<h4 id="1%E3%80%81deleteById%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">1、deleteById方法</span></h4> 
<p><span style="color:#0d0016;">根据id删除记录</span></p> 
<pre><code class="language-java">@Test
public void testDeleteById(){
    int rows=employeeMapper.deleteById(1);
    System.out.println("受影响的行数:"+rows);
}</code></pre> 
<p></p> 
<h4 id="2%E3%80%81deleteByMap%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">2、deleteByMap方法</span></h4> 
<p><span style="color:#0d0016;">根据Map中的条件进行删除，map中的条件在sql语句中是and关系</span></p> 
<pre><code class="language-java">@Test
public void testDeleteByMap(){
    Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();
    map.put("emp_gender","男");
    map.put("emp_name","刘辉");
    int rows=employeeMapper.deleteByMap(map);
    System.out.println("受影响的行数:"+rows);
}</code></pre> 
<p></p> 
<h4 id="3%E3%80%81deletebatchIds%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">3、deletebatchIds方法</span></h4> 
<p><span style="color:#0d0016;">根据传入List集合中的id进行批量删除</span></p> 
<pre><code class="language-java">@Test
public void testDeleteBatchIds(){
    List list= Arrays.asList(4,7,1);
    int rows=employeeMapper.deleteBatchIds(list);
    System.out.println("受影响的行数:"+rows);
}</code></pre> 
<p></p> 
<h2 id="%E4%BA%94%E3%80%81Mybatis-Plus%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8"><span style="color:#0d0016;">五、Mybatis-Plus条件构造器</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89%E6%9D%A1%E4%BB%B6%E6%9E%84%E9%80%A0%E5%99%A8%E4%BB%8B%E7%BB%8D"><span style="color:#0d0016;">（一）条件构造器介绍</span></h3> 
<p></p> 
<div> 
 <span style="color:#0d0016;">在mybatis-plus中提了构造条件的类Wrapper，它可以根据自己的意图定义我们需要的条件。Wrapper是一个抽象类，一般情况下我们用它的子类QueryWrapper来实现自定义条件查询。</span> 
</div> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89SelectOne%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（二）SelectOne方法</span></h3> 
<pre><code class="language-java">//查询姓名为刘辉军并且性别为男的员工
@Test
public void testSelectOne(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.eq("name","刘辉军");
    queryWrapper.eq("emp_gender","男");
    Employee employee = employeeMapper.selectOne(queryWrapper);
    System.out.println(employee);
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89SelectList%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（三）SelectList方法</span></h3> 
<pre><code class="language-java">//查询姓名中带有"磊"的并且年龄小于30的员工
@Test
public void testSelectList(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.like("name","磊").lt("age",30);
    List&lt;Employee&gt; employeeList = employeeMapper.selectList(queryWrapper);
    employeeList.forEach(System.out::println);
}

//查询姓刘的或者性别为男，按年龄的除序排序
@Test
public void testSelectList2(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.like("name","王")
        .or().eq("emp_gender","男")
        .orderByDesc("age");
    List&lt;Employee&gt; employeeList = employeeMapper.selectList(queryWrapper);
    employeeList.forEach(System.out::println);
}

//查询姓刘的并且（年龄小于35或者邮箱不为空）
@Test
public void testSelectList3(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.likeRight("name","刘")
        .and(wq-&gt;wq.lt("age",35).or().isNotNull("email"));
    List&lt;Employee&gt; employeeList = employeeMapper.selectList(queryWrapper);
    employeeList.forEach(System.out::println);
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89SelectPage%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（四）SelectPage方法</span></h3> 
<p><span style="color:#0d0016;">SelectPage用于分页，在Mybatis-Plus中分页有两种：一种是逻辑分页或叫内存分页，另一个是物理分页。内存分页就是把数据全部查询出来放到内容中，返回你想要的一部分数据，当数据量非常庞大时，这种方法就行不通了，因为太耗内容，所以一般采用物理分页，需要SpringMVC中加入物理分页配置：</span></p> 
<pre><code class="language-java">@Configuration
public class MybatisPlusConfig {

    @Bean
    public MybatisPlusInterceptor mybatisPlusInterceptor() {
        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();
        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));
        return interceptor;
    }
}</code></pre> 
<pre><code class="language-java">@Test
public void testSelectPage(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.lt("age",50);
    Page&lt;Employee&gt; page=new Page&lt;&gt;(1,2);
    Page&lt;Employee&gt; employeePage = employeeMapper.selectPage(page, queryWrapper);
    System.out.println("当前页:"+ employeePage.getCurrent());
    System.out.println("每页记录数:"+employeePage.getSize());
    System.out.println("总记录数:"+employeePage.getTotal());
    System.out.println("总页数:"+employeePage.getPages());
    List&lt;Employee&gt; employeeList = employeePage.getRecords();
    employeeList.forEach(System.out::println);
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%94%EF%BC%89Update%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（五）Update方法</span></h3> 
<pre><code class="language-java">//根据姓名和年龄修改记录
@Test
public void testUpdate(){
    QueryWrapper&lt;Employee&gt; updateWrapper=new QueryWrapper&lt;&gt;();
    updateWrapper.eq("name","刘龙")
        .eq("age",25);
    Employee employee=new Employee();
    employee.setEmpId(1367720249630318593L);
    employee.setName("刘龙");
    employee.setEmail("lilong111@.qq.com");
    employee.setAge(26);
    employee.setEmpGender("女");
    int rows=employeeMapper.update(employee,updateWrapper);
    System.out.println("受影响的行数:"+rows);
}</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%85%AD%EF%BC%89Delete%E6%96%B9%E6%B3%95"><span style="color:#0d0016;">（六）Delete方法</span></h3> 
<pre><code class="language-java">//根据姓名和年龄删除记录
@Test
public void testDelete(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.eq("name","刘龙")
        .eq("age",26);
    int rows=employeeMapper.delete(queryWrapper);
    System.out.println("受影响的行数:"+rows);
}</code></pre> 
<p></p> 
<h2 id="%E5%85%AD%E3%80%81Mybatis-Plus%E7%9A%84Service%E5%B0%81%E8%A3%85"><span style="color:#0d0016;">六、Mybatis-Plus的Service封装</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89%E9%80%9A%E7%94%A8service%E7%AE%80%E4%BB%8B"><span style="color:#0d0016;">（一）通用service简介</span></h3> 
<p><span style="color:#0d0016;">Mybatis-Plus除了通用的Mapper还有通用的Servcie层，这也减少了相对应的代码工作量，把通用 的接口提取到公共。其实按照MP的这种思想，可以自己也实现一些通用的Controller。 </span></p> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89%E9%80%9A%E7%94%A8service%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D"><span style="color:#0d0016;">（二）通用service常用方法介绍</span></h3> 
<pre><code class="language-java">/**
* 插入一条记录（选择字段，策略插入）
*
* @param entity 实体对象
*/
default boolean save(T entity) {
    return SqlHelper.retBool(getBaseMapper().insert(entity));
}

/**
* 根据 ID 选择修改
*
* @param entity 实体对象
*/
default boolean updateById(T entity) {
    return SqlHelper.retBool(getBaseMapper().updateById(entity));
}

/**
* TableId 注解存在更新记录，否插入一条记录
*
* @param entity 实体对象
*/
boolean saveOrUpdate(T entity);

/**
* 根据 Wrapper，查询一条记录 &lt;br/&gt;
* &lt;p&gt;结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last("LIMIT
1")&lt;/p&gt;
*
* @param queryWrapper 实体对象封装操作类 {@link
com.baomidou.mybatisplus.core.conditions.query.QueryWrapper}
*/
default T getOne(Wrapper&lt;T&gt; queryWrapper) {
    return getOne(queryWrapper, true);
}

/**
* 根据 Wrapper，查询一条记录
*
* @param queryWrapper 实体对象封装操作类 {@link
com.baomidou.mybatisplus.core.conditions.query.QueryWrapper}
* @param throwEx 有多个 result 是否抛出异常
*/
T getOne(Wrapper&lt;T&gt; queryWrapper, boolean throwEx);</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89%E9%80%9A%E7%94%A8service%E7%9A%84%E6%A1%88%E4%BE%8B"><span style="color:#0d0016;">（三）通用service的案例</span></h3> 
<h4 id="1%E3%80%81%E6%9E%84%E5%BB%BA%E5%B7%A5%E7%A8%8B%EF%BC%8C%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96"><span style="color:#0d0016;">1、构建工程，添加依赖</span></h4> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;5.1.47&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;optional&gt;true&lt;/optional&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.4.2&lt;/version&gt;
&lt;/dependency&gt;</code></pre> 
<p></p> 
<h4 id="2%E3%80%81%E6%9E%84%E5%BB%BAservice%E6%8E%A5%E5%8F%A3"><span style="color:#0d0016;">2、构建service接口</span></h4> 
<pre><code class="language-XML">public interface EmloyeeService extends IService&lt;Employee&gt; {
}</code></pre> 
<p></p> 
<h4 id="3%E3%80%81%E6%9E%84%E5%BB%BAservice%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span style="color:#0d0016;">3、构建service实现类</span></h4> 
<pre><code class="language-java">@Service
public class EmployeeServiceImpl extends ServiceImpl&lt;EmployeeMapper,Employee&gt; implements EmloyeeService {
}</code></pre> 
<p></p> 
<h4 id="4%E3%80%81%E9%80%9A%E7%94%A8service%E6%B5%8B%E8%AF%95"><span style="color:#0d0016;">4、通用service测试</span></h4> 
<pre><code class="language-java">@Test
public void testSave(){
    Employee employee=new Employee();
    employee.setName("孙宝来");
    employee.setEmpGender("男");
    employee.setAge(30);
    employee.setEmail("sunbaolai@qq.com");
    employeeService.save(employee);
}

@Test
public void testSaveOrUpdate(){
    Employee employee=new Employee();
    employee.setEmpId(1367720249630318594L);
    employee.setName("孙宝来");
    employee.setEmpGender("女");
    employee.setAge(33);
    employee.setEmail("sunbaolai@qq.com");
    employeeService.saveOrUpdate(employee);
}

@Test
public void testGetOne(){
    QueryWrapper&lt;Employee&gt; queryWrapper=new QueryWrapper&lt;&gt;();
    queryWrapper.gt("age",24);
    Employee employee = employeeService.getOne(queryWrapper,false);
    System.out.println(employee);
}</code></pre> 
<p></p> 
<h2 id="%E4%B8%83%E3%80%81Mybatis-Plus%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8"><span style="color:#0d0016;">七、Mybatis-Plus代码生成器</span></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%8B%E7%BB%8D"><span style="color:#0d0016;">（一）代码生成器介绍</span></h3> 
<p><span style="color:#777777;">代码生成器顾名思义就是为我们生成一些代码，省去了我们一些时间。AutoGenerator 是 </span><span style="color:#777777;">MyBatis-Plus 的代码生成器，通过 </span><span style="color:#777777;">AutoGenerator </span><span style="color:#777777;">可以快速生成 </span><span style="color:#777777;">Entity</span><span style="color:#777777;">、</span><span style="color:#777777;">Mapper</span><span style="color:#777777;">、</span><span style="color:#777777;">Mapper XML</span><span style="color:#777777;">、Service、</span><span style="color:#777777;">Controller </span><span style="color:#777777;">等各个模块的代码，极大的提升了开发效率</span><span style="color:#777777;">,MyBatis-Plus</span><span style="color:#777777;">从</span><span style="color:#777777;">3.0.3 </span><span style="color:#777777;">之后移除了代码生成器与模板引擎的默认依赖，需要手动添加相关依赖，才能实现代码生成器功能。 </span></p> 
<p></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89%E6%9E%84%E5%BB%BAmaven%E5%B7%A5%E7%A8%8B%EF%BC%8C%E5%BC%95%E5%85%A5%E4%BE%9D%E8%B5%96"><span style="color:#0d0016;">（二）构建maven工程，引入依赖</span></h3> 
<pre><code class="language-XML">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;5.1.47&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;
    &lt;version&gt;3.2.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.baomidou&lt;/groupId&gt;
    &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;3.2.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;
    &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt;
    &lt;version&gt;2.3&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89%E7%BC%96%E5%86%99%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81"><span style="color:#0d0016;">（三）编写生成器代码</span></h3> 
<h4 id="1%E3%80%81GlobalConfig%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81"><span style="color:#0d0016;">1、GlobalConfig全局配置编码</span></h4> 
<pre><code class="language-java">// 代码生成器
AutoGenerator mpg = new AutoGenerator();
// 全局配置
GlobalConfig gc = new GlobalConfig();
//获取工程路径
String projectPath = System.getProperty("user.dir");
gc.setOutputDir(projectPath + "/src/main/java");
gc.setAuthor("zs");//设置作者
gc.setOpen(false);//生成是后是否打开资源管理器
gc.setFileOverride(false);//重新生成文件时是否覆盖
gc.setServiceName("%sService");
// gc.setSwagger2(true); 实体属性 Swagger2 注解
mpg.setGlobalConfig(gc);</code></pre> 
<p></p> 
<h4 id="2%E3%80%81DataSourceConfig%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81"><span style="color:#0d0016;">2、DataSourceConfig数据源配置编码</span></h4> 
<pre><code class="language-java">// 数据源配置
DataSourceConfig dsc = new DataSourceConfig();
dsc.setUrl("jdbc:mysql://localhost:3306/mybatis_plus?
useUnicode=true&amp;useSSL=false&amp;characterEncoding=utf8");
// dsc.setSchemaName("public");
dsc.setDriverName("com.mysql.jdbc.Driver");
dsc.setUsername("root");
dsc.setPassword("root");
dsc.setDbType(DbType.MYSQL);
mpg.setDataSource(dsc);</code></pre> 
<p></p> 
<h4 id="3%E3%80%81PackageConfig%E5%8C%85%E5%90%8D%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE">3、PackageConfig包名策略配置</h4> 
<pre><code class="language-java">// 包配置
PackageConfig pc = new PackageConfig();
pc.setModuleName(null);
pc.setParent("com.offcn.ssm");
pc.setController("controller");
pc.setEntity("entity");
pc.setService("service");
pc.setMapper("mapper");
mpg.setPackageInfo(pc);</code></pre> 
<p></p> 
<h4 id="4%E3%80%81StrategyConfig%E7%AD%96%E7%95%A5%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81">4、StrategyConfig策略配置编码</h4> 
<pre><code class="language-java">//策略配置
StrategyConfig strategy = new StrategyConfig();
strategy.setInclude("tb_employee");//对那一张表生成代码
strategy.setNaming(NamingStrategy.underline_to_camel);//数据库表映射到实体的命名策略
strategy.setTablePrefix(pc.getModuleName() + "_"); //生成实体时去掉表前缀
strategy.setColumnNaming(NamingStrategy.underline_to_camel);//数据库表字段映射到实体的命名策略
strategy.setEntityLombokModel(true); // lombok 模型 @Accessors(chain = true) setter链式操作
strategy.setRestControllerStyle(true); //restful api风格控制器
strategy.setControllerMappingHyphenStyle(true); //url中驼峰转连字符
mpg.setStrategy(strategy);</code></pre> 
<p></p> 
<h4 id="5%E3%80%81%E6%89%A7%E8%A1%8C">5、执行</h4> 
<pre><code class="language-java">//执行
mpg.execute();</code></pre> 
<p></p> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89%E6%89%A7%E8%A1%8C%E7%94%9F%E6%88%90%E5%99%A8%E4%BB%A3%E7%A0%81%E5%AE%8C%E6%88%90%E6%B5%8B%E8%AF%95"><span style="color:#0d0016;">（四）执行生成器代码完成测试</span></h3> 
<p><span style="color:#0d0016;">在主启动类上用@MapperScan扫描mapper接口</span></p> 
<pre><code class="language-java">@MapperScan("com.offcn.ssm.mapper")</code></pre> 
<p></p> 
<p><span style="color:#0d0016;">在application.yml中添加数据库配置信息</span></p> 
<pre><code class="language-XML">spring:
 datasource:
  driver-class-name: com.mysql.jdbc.Driver
  url: jdbc:mysql:///mybatis_plus
  username: root
  password: root
logging:
level:
 com:
  offcn:
   mybatis:
    dao: debug</code></pre> 
<p></p> 
<p>在生成的Controller中编写查询方法</p> 
<pre><code class="language-java">@RequestMapping("/tb-employee")
public class TbEmployeeController {
    @Autowired
    private TbEmployeeService tbEmployeeService;
    @RequestMapping("/emps")
    public List&lt;TbEmployee&gt; getEmployees(){
        List&lt;TbEmployee&gt; list = tbEmployeeService.list();
        return list;
    }
}</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cbac62e7c8644bb590a1703435c1fd99/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java 接口的继承</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63ca5e514591594d40c711dd1134d540/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Python案例｜使用Scikit-learn实现客户聚类模型</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>