<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CDH 使用内部Parcel仓库 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CDH 使用内部Parcel仓库" />
<meta property="og:description" content="创建内部Parcel仓库 安装web服务
以apache为例
//# RHEL $ sudo yum install httpd $ sudo service httpd start //# SLES $ sudo zypper install httpd $ sudo service apache2 start //# Ubuntu $ sudo apt-get install httpd $ sudo service apache2 start 下载和发布Parcel仓库
下载地址
//# CDH 5: Impala,Kudu,Spark1等等 https://archive.cloudera.com/cdh5/parcels/ //# Accumulo https://archive.cloudera.com/accumulo-c5/parcels/ //# GPL Extras https://archive.cloudera.com/gplextras5/parcels/ //# CDS 2: CDH5 用的spark2 https://archive.cloudera.com/spark2/parcels/ //# Navigator Key Trustee Server http://www.cloudera.com/content/www/en-us/downloads/navigator/key-trustee-server.html //# Navigator Key Trustee KMS and HSM KMS http://www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fc93e2b3cf446b8db7d2f842949f1a47/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-31T14:34:22+08:00" />
<meta property="article:modified_time" content="2019-10-31T14:34:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CDH 使用内部Parcel仓库</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="Parcel_0"></a>创建内部Parcel仓库</h5> 
<p><strong>安装web服务</strong><br> 以apache为例</p> 
<pre><code>//# RHEL
$ sudo yum install httpd
$ sudo service httpd start

//# SLES
$ sudo zypper install httpd
$ sudo service apache2 start

//# Ubuntu
$ sudo apt-get install httpd
$ sudo service apache2 start
</code></pre> 
<p><strong>下载和发布Parcel仓库</strong><br> 下载地址</p> 
<pre><code>//# CDH 5: Impala,Kudu,Spark1等等
https://archive.cloudera.com/cdh5/parcels/

//# Accumulo
https://archive.cloudera.com/accumulo-c5/parcels/

//# GPL Extras 
https://archive.cloudera.com/gplextras5/parcels/

//# CDS 2: CDH5 用的spark2 
https://archive.cloudera.com/spark2/parcels/

//# Navigator Key Trustee Server
http://www.cloudera.com/content/www/en-us/downloads/navigator/key-trustee-server.html

//# Navigator Key Trustee KMS and HSM KMS
http://www.cloudera.com/content/www/en-us/downloads/navigator/key-trustee-kms.html

//# Sqoop Connectors
https://archive.cloudera.com/sqoop-connectors/parcels/
</code></pre> 
<p>下载.parcel和manifest.json到web根目录</p> 
<pre><code>//# apache默认根目录
$ sudo cd /var/www/html
$ sudo mkdir -p /var/www/html/cloudera-parcels/cdh5/5.16/

//# CDH
$ sudo wget https://archive.cloudera.com/cdh5/parcels/5.16/CDH-5.16.2-1.cdh5.16.2.p0.8-el6.parcel
$ sudo wget https://archive.cloudera.com/cdh5/parcels/5.16/manifest.json

//# 权限
$ sudo chmod -R ugo+rX /var/www/html/cloudera-parcels/cdh5/5.16/
</code></pre> 
<p>当CM(Cloudera Manager)从web服务器读取parcel时,不使用<code>.sha1</code>,而是从<code>manifest.json</code>里读取SHA1哈希;</p> 
<h5><a id="CMSparcel_59"></a>配置CMS使用内部parcel地址</h5> 
<ol><li>设置parcel</li></ol> 
<ul><li>导航栏, 点击导向栏上[]或点击 主机-&gt;Parcel-&gt;配置</li><li>或管理-&gt;设置-&gt;类别-&gt;Parcel</li></ul> 
<ol start="2"><li>在"远程 Parcel 存储库 URL",添加内部Parcel地址</li></ol> 
<h5><a id="Parcel_66"></a>使用本地Parcel仓库</h5> 
<ol><li>打开CM web界面,导航到Parcel页</li><li>点周 “配置”, 修改"本地 Parcel 存储库路径" 为内部Parcel仓库目录(httpd根目录)</li><li>删除"远程 Parcel 存储库 URL",包括指向Cloudera官网</li><li>此设置需要读取.sha1,在httpd根目录里下载</li></ol> 
<pre><code>$ sudo cd /var/www/html/cloudera-parcels/cdh5/5.16/
$ sudo wget https://archive.cloudera.com/cdh5/parcels/5.16/CDH-5.16.2-1.cdh5.16.2.p0.8-el6.parcel.sha1

//# 改文件名
$ sudo mv CDH-5.16.2-1.cdh5.16.2.p0.8-el6.parcel.sha1 CDH-5.16.2-1.cdh5.16.2.p0.8-el6.parcel.sha

//# 更改属主
$ sudo chown cloudera-scm:cloudera-scm  /var/www/html/cloudera-parcels/cdh5/5.16/
</code></pre> 
<ol start="5"><li>在web界面导向到Parcel页,点击"检查新Parcel"</li></ol> 
<p>当新的parcel出现时,就可以下载,分发和激活了;</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d75ee4194b89933610d363055ab16465/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">易飞委外单价人为改动而怪系统的触发</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62ebc7be61a01c9dc271f9d44a56ac74/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">微信小程序控制台输出前台input控件内容(关键/重点/初学)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>