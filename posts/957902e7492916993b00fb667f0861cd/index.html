<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>PHP微信公众开发笔记(一) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="PHP微信公众开发笔记(一)" />
<meta property="og:description" content="笔记是先写在印象笔记上的，晚上没事的时候整理整理。
PHP微信公众开发笔记系列 日期：2014.9.1 今天开始正式开始做班上的微信公众平台的开发者服务了。因为是第一次做这个，对PHP也不了解，所以一边学PHP，一边整理微信的公众平台，当做是自己的练手学习好了。 在登录了微信的公众平台之后，左边功能区的最底部就是开发者中心了： 在没有开启开发者服务前，这里面啥也没有。启用这个服务后，在网站上编辑的自动回复功能便取消了，用户跟微信公众平台的交互信息便会转到开发者接入的功能。废话少说，开启开发者功能需要配置好服务器配置： 我这里是已经配置好了的，主要就是两个信息：URL 和 Token。一个链接和一个验证标签。URL就是我们服务器的链接？(这个该咋形容呢？)，在这里我是使用SAE来创建应用的，主要就是图它的免费(注册送了500云豆，据说是对普通用户来说是够用了的)，注册链接： http://sae.sina.com.cn/ 注册好了之后，就可以干坏事啦。 一、开始配置服务器信息： 1、创建好了SAE帐号之后，就开始创建我们的应用了(服务器是否可以理解为一个应用？这块真是不熟悉，菜鸟一个)，我的首页-控制台-应用管理-创建新应用： 点击创建之后： 二级域名就是到时候我们会用到的那个URL链接； 应用名-描述这些自己填写； 开发语言就选择 php； 应用类型选择 web应用； 创建过程中会验证独立的安全密码啥的，这个就是在注册的时候设置的，不是登录用的那个密码噢。 2、创建好了之后，便进入下一步了，将代码传上去 首先点击我们创建好的那个应用，在左边的功能区选择代码管理： 左边操作区就对应有操作显示了： 点击操作按钮，会有两个操作选择： 上传代码- 删除。选择上传代码，就可以了。到这一步，服务器这一块就这样了，然后我们需要整理我们要上传的代码了。 二、PHP代码 最简单的当然是下载微信开发者文档中提供的示例代码啦： http://mp.weixin.qq.com/mpres/htmledition/res/wx_sample.20140819.zip 这个链接便是直接下载了。 代码开始部分： define(&#34;TOKEN&#34;,&#34;weixin&#34;) 在这里便出现了我们配置开发者服务时需要填写的TOKEN，在这里设置好然后在配置里填写正确好就可以了。因为我们开启开发者服务，首先需要做验证，所以一开始代码的执行情况是： $wechatObj = new wechatCallbackapiTest(); $wechatObj-&gt;valid(); 可以在示例代码中看到，valid函数执行的是检测工作，在检测完之后这个就不需要了，要改为相应的回复信息，所以在我们成功验证完，开启了开发者服务功能之后，这段代码需要修改为： $wechatObj-&gt;responseMsg(); 这个函数就是对应于执行响应回复的操作了。 跳转到responseMsg函数，PHP的语法看不懂，但是函数比较简单，可以大致了解一下： 这一段看到了welcome to wechat world 就差不多是响应用户输入的消息吧，看到msgType = &#34;text&#34;,意思应该是用户发过来的是文本信息类型，然后返回就是这段欢迎语。随便改改，就能用这个php文件传到我们创建好的那个SAE应用上了，然后检测一下效果。 在这里我也有疑问：我将这个php文件重命名为xxx.php,然后压缩为xxx.zip包，执行上面提到的那个上传代码操作之后，设置好开发者的URL和TOKEN，提示的是服务器没有响应操作，试了几遍都没有效果，后来我点开编辑代码： 发现里头的文件除了我的那个xxx.php文件之外，还有一个index.php,然后网上查到类似的一个资料是说zip包要命名为index.zip,然后我们的php文件也需要命名为index.php,这样才可以。照着这个做了一次修改，确实是成功了，但是为什么要这样呢？ 设置好了之后，检测--随便发送一个文本消息给公众号，便会返回我们设置好的返回信息了。至此，开启开发者服务便成功了，之后的进一步折腾就开始了。 转载于:https://www.cnblogs.com/zhong-dev/p/4044557.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/957902e7492916993b00fb667f0861cd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-04T11:11:13+08:00" />
<meta property="article:modified_time" content="2019-07-04T11:11:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">PHP微信公众开发笔记(一)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>笔记是先写在印象笔记上的，晚上没事的时候整理整理。</p> 
 <p> </p> 
 <div> 
  <div>
    PHP微信公众开发笔记系列 
  </div> 
  <div>
    日期：2014.9.1 
  </div> 
        
  <div>
    今天开始正式开始做班上的微信公众平台的开发者服务了。因为是第一次做这个，对PHP也不了解，所以一边学PHP，一边整理微信的公众平台，当做是自己的练手学习好了。 
   <div> 
    <br> 
   </div> 
   <div>
     在登录了微信的公众平台之后，左边功能区的最底部就是开发者中心了： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/a0/f0/LMfafsVS_o.png" alt=""> 
    <br> 
   </div> 
   <div>
     在没有开启开发者服务前，这里面啥也没有。启用这个服务后，在网站上编辑的自动回复功能便取消了，用户跟微信公众平台的交互信息便会转到开发者接入的功能。废话少说，开启开发者功能需要配置好服务器配置： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/b9/53/peYXnOkx_o.png" alt=""> 
    <br> 
   </div> 
   <div>
     我这里是已经配置好了的，主要就是两个信息：URL 和 Token。一个链接和一个验证标签。URL就是我们服务器的链接？(这个该咋形容呢？)，在这里我是使用SAE来创建应用的，主要就是图它的免费(注册送了500云豆，据说是对普通用户来说是够用了的)，注册链接： 
    <a href="http://sae.sina.com.cn/" rel="nofollow" style="color:rgb(0,0,0);line-height:25.2px;font-family:verdana, Arial, Helvetica, sans-serif;font-size:14px;text-decoration:none;border-bottom-color:rgb(51,51,51);border-bottom-width:1px;border-bottom-style:dotted;">http://sae.sina.com.cn/</a> 注册好了之后，就可以干坏事啦。 
   </div> 
   <div> 
    <br> 
   </div> 
   <div> 
    <strong>一、开始配置服务器信息：</strong> 
   </div> 
   <div>
     1、创建好了SAE帐号之后，就开始创建我们的应用了(服务器是否可以理解为一个应用？这块真是不熟悉，菜鸟一个)，我的首页-控制台-应用管理-创建新应用： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/96/18/PBSayKsB_o.png" alt=""> 
    <br> 
   </div> 
   <div>
     点击创建之后： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/12/e3/nlHbXYoz_o.png" alt=""> 
    <br> 
   </div> 
   <div>
     二级域名就是到时候我们会用到的那个URL链接； 
   </div> 
   <div>
     应用名-描述这些自己填写； 
   </div> 
   <div>
     开发语言就选择 php； 
   </div> 
   <div>
     应用类型选择 web应用； 
   </div> 
   <div>
     创建过程中会验证独立的安全密码啥的，这个就是在注册的时候设置的，不是登录用的那个密码噢。 
   </div> 
   <div>
     2、创建好了之后，便进入下一步了，将代码传上去 
   </div> 
   <div>
     首先点击我们创建好的那个应用，在左边的功能区选择代码管理： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/18/cf/uMmKkkJX_o.png" alt=""> 
   </div> 
   <div>
     左边操作区就对应有操作显示了： 
   </div> 
   <div> 
    <img src="https://images2.imgbox.com/92/62/6IvwFEZm_o.png" alt=""> 
   </div> 
   <div>
     点击操作按钮，会有两个操作选择： 
    <span style="color:#ff2600;">上传代码</span>- 
    <span style="color:#ff2600;">删除</span>。选择上传代码，就可以了。到这一步，服务器这一块就这样了，然后我们需要整理我们要上传的代码了。 
   </div> 
   <div> 
    <br> 
   </div> 
   <div>
     二、PHP代码 
   </div> 
   <div>
     最简单的当然是下载微信开发者文档中提供的示例代码啦： 
    <a href="http://mp.weixin.qq.com/mpres/htmledition/res/wx_sample.20140819.zip" rel="nofollow">http://mp.weixin.qq.com/mpres/htmledition/res/wx_sample.20140819.zip</a> 这个链接便是直接下载了。 
   </div> 
   <div>
     代码开始部分： 
   </div> 
   <div>
     define("TOKEN","weixin") 在这里便出现了我们配置开发者服务时需要填写的TOKEN，在这里设置好然后在配置里填写正确好就可以了。因为我们开启开发者服务，首先需要做验证，所以一开始代码的执行情况是： 
   </div> 
   <div>
     $wechatObj = new wechatCallbackapiTest(); 
   </div> 
   <div>
     $wechatObj-&gt;valid(); 
   </div> 
   <div>
     可以在示例代码中看到，valid函数执行的是检测工作，在检测完之后这个就不需要了，要改为相应的回复信息，所以在我们成功验证完，开启了开发者服务功能之后，这段代码需要修改为： 
   </div> 
   <div>
     $wechatObj-&gt;responseMsg(); 
   </div> 
   <div>
     这个函数就是对应于执行响应回复的操作了。 
   </div> 
   <div>
     跳转到responseMsg函数，PHP的语法看不懂，但是函数比较简单，可以大致了解一下： 
    <br> 
    <img src="https://images2.imgbox.com/e7/1b/qrbN7RmD_o.png" alt=""> 
   </div> 
   <div>
     这一段看到了welcome to wechat world 就差不多是响应用户输入的消息吧，看到msgType = "text",意思应该是用户发过来的是文本信息类型，然后返回就是这段欢迎语。随便改改，就能用这个php文件传到我们创建好的那个SAE应用上了，然后检测一下效果。  
   </div> 
   <div> 
    <span style="color:#ff2600;">在这里我也有疑问</span>：我将这个php文件重命名为xxx.php,然后压缩为xxx.zip包，执行上面提到的那个上传代码操作之后，设置好开发者的URL和TOKEN，提示的是服务器没有响应操作，试了几遍都没有效果，后来我点开编辑代码： 
    <br> 
    <img src="https://images2.imgbox.com/eb/9d/NPQeIT15_o.png" alt=""> 
   </div> 
   <div>
     发现里头的文件除了我的那个xxx.php文件之外，还有一个index.php,然后网上查到类似的一个资料是说zip包要命名为index.zip,然后我们的php文件也需要命名为index.php,这样才可以。照着这个做了一次修改，确实是成功了，但是为什么要这样呢？ 
   </div> 
   <div>
     设置好了之后，检测--随便发送一个文本消息给公众号，便会返回我们设置好的返回信息了。至此，开启开发者服务便成功了，之后的进一步折腾就开始了。 
   </div> 
  </div> 
 </div> 
 <p> </p> 
 <p> </p> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/zhong-dev/p/4044557.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5f32c8882f72b14c822fca794abe1ce9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Cocos2d-x关于ScrollView</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6b83e67d5007dfabd8059b52974f41e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">PHP微信公众开发笔记(三)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>