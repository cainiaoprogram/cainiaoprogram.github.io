<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Andorid音频底层调试工具tinymix，tinyplay，tinycap的使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Andorid音频底层调试工具tinymix，tinyplay，tinycap的使用" />
<meta property="og:description" content="由于ALSA架构太过于庞大，对于嵌入式设备而言很多功能用不到，且会增加功耗，所以Android采用了精简后的tinyalsa，tinyalsa相关的底层调试工具常用的有tinymix，tinyplay，tinycap，下面分别介绍他们的使用方法。
tinymix tinymix可以查看系统的音频控件，可直接执行tinymix进行查看。tinymix更多的作用的是用来手动设置控件的值，控件可通过tinymix查看，或者通过mixer_paths.xml进行查看。下面以手动设置speaker相关控件为例进行说明tinymix的使用方法：
mixer_paths.xml文件中speaker相关控件如下：
&lt;path name=&#34;speaker&#34;&gt; &lt;ctl name=&#34;RX3 MIX1 INP1&#34; value=&#34;RX1&#34; /&gt; &lt;ctl name=&#34;LINE_OUT&#34; value=&#34;Switch&#34; /&gt; &lt;ctl name=&#34;SPK&#34; value=&#34;Switch&#34; /&gt; &lt;/path&gt; 下面以手动设置speaker相关控件为例进行说明tinymix的使用方法，如下，第一个参数为控件名，第二个参数为控件值
tinymix &#34;RX3 MIX1 INP1&#34; &#34;RX1&#34; tinymix &#34;LINE_OUT&#34; &#34;Switch&#34; tinymix &#34;SPK&#34; &#34;Switch&#34; tinymix加控件名可以查看控件的值，如想查看&#34;LINE_OUT&#34;的值，可执行tinymix &#34;LINE_OUT&#34;
tinyplay 可以使用tinyplay直接进行播放wav格式文件，在播放之前需要先使用tinymix进行相关控件的设置，下面以speaker为例进行说明，注意最后一行需要加上，代表打开I2S的播放控件。
tinymix &#34;RX3 MIX1 INP1&#34; &#34;RX1&#34; tinymix &#34;LINE_OUT&#34; &#34;Switch&#34; tinymix &#34;SPK&#34; &#34;Switch&#34; tinymix &#34;PRI_MI2S_RX Audio Mixer MultiMedia5&#34; &#34;1&#34; 设置好上面控件后，执行tinypaly xxx.wav即可进行音频的播放
tinycap tinycap是用来录音的，使用之前也需要先设置录音相关的控件，以主mix为例进行过说明，注意最后一行是打开I2S的录音控件
tinymix &#34;ADC1 Volume&#34; &#34;6&#34; tinymix &#34;DEC1 MUX&#34; &#34;ADC1&#34; tinymix &#34;IIR1 INP1 MUX&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e97c5be3b432db6a0cab5a4e908f64ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-05T11:59:24+08:00" />
<meta property="article:modified_time" content="2018-09-05T11:59:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Andorid音频底层调试工具tinymix，tinyplay，tinycap的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>由于ALSA架构太过于庞大，对于嵌入式设备而言很多功能用不到，且会增加功耗，所以Android采用了精简后的tinyalsa，tinyalsa相关的底层调试工具常用的有tinymix，tinyplay，tinycap，下面分别介绍他们的使用方法。</p> 
<h4>tinymix</h4> 
<p>tinymix可以查看系统的音频控件，可直接执行tinymix进行查看。tinymix更多的作用的是用来手动设置控件的值，控件可通过tinymix查看，或者通过mixer_paths.xml进行查看。下面以手动设置speaker相关控件为例进行说明tinymix的使用方法：</p> 
<p>mixer_paths.xml文件中speaker相关控件如下：</p> 
<pre class="has"><code>    &lt;path name="speaker"&gt;
        &lt;ctl name="RX3 MIX1 INP1" value="RX1" /&gt;
        &lt;ctl name="LINE_OUT" value="Switch" /&gt;
        &lt;ctl name="SPK" value="Switch" /&gt;          
    &lt;/path&gt;</code></pre> 
<p>下面以手动设置speaker相关控件为例进行说明tinymix的使用方法，如下，第一个参数为控件名，第二个参数为控件值</p> 
<pre class="has"><code>tinymix "RX3 MIX1 INP1" "RX1"
tinymix "LINE_OUT" "Switch"
tinymix "SPK" "Switch"</code></pre> 
<p>tinymix加控件名可以查看控件的值，如想查看"LINE_OUT"的值，可执行tinymix "LINE_OUT"</p> 
<h4>tinyplay</h4> 
<p>可以使用tinyplay直接进行播放wav格式文件，在播放之前需要先使用tinymix进行相关控件的设置，下面以speaker为例进行说明，注意最后一行需要加上，代表打开I2S的播放控件。</p> 
<pre class="has"><code>tinymix "RX3 MIX1 INP1" "RX1"
tinymix "LINE_OUT" "Switch"
tinymix "SPK" "Switch"
    
tinymix "PRI_MI2S_RX Audio Mixer MultiMedia5" "1"</code></pre> 
<p>设置好上面控件后，执行tinypaly xxx.wav即可进行音频的播放</p> 
<h4>tinycap</h4> 
<p>tinycap是用来录音的，使用之前也需要先设置录音相关的控件，以主mix为例进行过说明，注意最后一行是打开I2S的录音控件</p> 
<pre class="has"><code>tinymix "ADC1 Volume" "6"
tinymix "DEC1 MUX" "ADC1"
tinymix "IIR1 INP1 MUX" "DEC1"

tinymix "MultiMedia1 Mixer TERT_MI2S_TX" "1"</code></pre> 
<p>设置好上面控件后，执行tinycap xxx.wav即可以将音频录制到xxx.wav中，Ctrl+C停止录音。</p> 
<p>注意，最好使用linux进行测试，使用windows的话，可能没法正常录音。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c2fca6cacc162177866b1f3bbfde6dbe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">app版windows95</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f962f6dd5e2af0351722f6dd082f8a4a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">easyui  editor模式  为datagrid的单元格添加点击事件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>