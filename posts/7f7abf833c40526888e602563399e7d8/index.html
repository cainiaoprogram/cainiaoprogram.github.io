<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【CSDN笔记】如何将CSDN的文章以PDF文件形式保存到本地 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【CSDN笔记】如何将CSDN的文章以PDF文件形式保存到本地" />
<meta property="og:description" content="方案1：使用浏览器的开发者功能，打印输出 1.使用浏览器打开指定文章的界面
2.按下快捷键&#34;F12&#34;，打开开发者工具窗口
3.跳转到&#34;Console&#34;控制台选项栏，输入以下代码：
(function(){ $(&#34;#side&#34;).remove(); $(&#34;#comment_title, #comment_list, #comment_bar, #comment_form, .announce, #ad_cen, #ad_bot&#34;).remove(); $(&#34;.nav_top_2011, #header, #navigator&#34;).remove(); $(&#34;.p4course_target, .comment-box, .recommend-box, #csdn-toolbar, #tool-box&#34;).remove(); $(&#34;aside&#34;).remove(); $(&#34;.tool-box&#34;).remove(); $(&#34;#toolBarBox&#34;).remove(); $(&#34;main&#34;).css(&#39;display&#39;,&#39;content&#39;); $(&#34;main&#34;).css(&#39;float&#39;,&#39;left&#39;); $(&#34;body&#34;).css(&#39;min-width&#39;,0); $(&#34;#mainBox&#34;).css(&#39;width&#39;,&#39;90%&#39;); $(&#34;.main_father.clearfix.d-flex.justify-content-center&#34;).css(&#34;width&#34;,&#34;90%&#34;); $(&#34;.option-box&#34;).remove(); window.print(); })(); 其中&#34;$(&#34;.main_father.clearfix.d-flex.justify-content-center&#34;).css(&#34;width&#34;,&#34;90%&#34;);&#34;的90表示输出文件中内容的百分比，酌情调整即可，输入完成之后敲回车。
4.输入保存的路径，名字，点击确定即可
方案2：利用Python脚本 此部分源于Python爬虫-CSDN博文存为HTML/PDF文档_Tr0e的博客-CSDN博客
在文章中的最终代码处的第44行代码依照文章的方法按照实际情况做个修改
最终的代码如下：
import pdfkit import requests import parsel import time import re import os src_html = &#39;&#39;&#39; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&#34;UTF-8&#34;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;/head&gt; &lt;body&gt; {content} &lt;/body&gt; &lt;/html&gt; &#39;&#39;&#39; headers = { &#39;user-agent&#39; : &#39;Mozilla/5." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7f7abf833c40526888e602563399e7d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-01T15:57:24+08:00" />
<meta property="article:modified_time" content="2022-07-01T15:57:24+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【CSDN笔记】如何将CSDN的文章以PDF文件形式保存到本地</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="%E6%96%B9%E6%A1%881%EF%BC%9A%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E5%BC%80%E5%8F%91%E8%80%85%E5%8A%9F%E8%83%BD%EF%BC%8C%E6%89%93%E5%8D%B0%E8%BE%93%E5%87%BA">方案1：使用浏览器的开发者功能，打印输出</h2> 
<blockquote> 
 <p> 1.使用浏览器打开指定文章的界面</p> 
 <p><img alt="" height="1200" src="https://images2.imgbox.com/6a/a2/XpxHta80_o.png" width="1200"></p> 
 <p>2.按下快捷键"F12"，打开开发者工具窗口</p> 
 <p><img alt="" height="741" src="https://images2.imgbox.com/76/cc/XQXTEyDb_o.png" width="997"> 3.跳转到"Console"控制台选项栏，输入以下代码：</p> 
 <pre><code>(function(){
    $("#side").remove();
    $("#comment_title, #comment_list, #comment_bar, #comment_form, .announce, #ad_cen, #ad_bot").remove();
    $(".nav_top_2011, #header, #navigator").remove();
    $(".p4course_target, .comment-box, .recommend-box, #csdn-toolbar, #tool-box").remove();
    $("aside").remove();
    $(".tool-box").remove();
    $("#toolBarBox").remove();
    $("main").css('display','content'); 
    $("main").css('float','left');
    $("body").css('min-width',0);
    $("#mainBox").css('width','90%');
    $(".main_father.clearfix.d-flex.justify-content-center").css("width","90%");
    $(".option-box").remove();
    window.print();
})();</code></pre> 
 <p><span style="color:#ed7976;">其中"$(".main_father.clearfix.d-flex.justify-content-center").css("width","90%");"的90表示输出文件中内容的百分比，酌情调整即可，输入完成之后敲回车。</span></p> 
 <p>4.输入保存的路径，名字，点击确定即可</p> 
</blockquote> 
<h2>方案2：利用Python脚本</h2> 
<blockquote> 
 <p>此部分源于<a href="https://bwshen.blog.csdn.net/article/details/119784779" rel="nofollow" title="Python爬虫-CSDN博文存为HTML/PDF文档_Tr0e的博客-CSDN博客">Python爬虫-CSDN博文存为HTML/PDF文档_Tr0e的博客-CSDN博客</a></p> 
 <p><img alt="" height="164" src="https://images2.imgbox.com/bd/a2/c85W4TiI_o.png" width="624"></p> 
 <p> </p> 
 <p>在文章中的最终代码处的第44行代码依照文章的方法按照实际情况做个修改</p> 
 <p>最终的代码如下：</p> 
 <pre><code class="language-python">import pdfkit
import requests
import parsel
import time
import re
import os

src_html = '''
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Document&lt;/title&gt;

&lt;/head&gt;
&lt;body&gt;
    {content}
&lt;/body&gt;
&lt;/html&gt;
'''
headers = {
    'user-agent' : 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.125 Safari/537.36'
}

def change_title(name):
    pattern = re.compile(r"[\/\\\:\*\?\"\&lt;\&gt;\|]")  # '/ \ : * ? " &lt; &gt; |'
    new_title = re.sub(pattern, "_", name)  # 替换为下划线
    return new_title

def download_one_page(page_url):
    response = requests.get(url=page_url, headers=headers)
    html = response.text
    selector = parsel.Selector(html)
    title = selector.css('.title-article::text').get()
    title = change_title(title)
    # 提取标签为article 的内容
    article = selector.css('article').get()
    # 保存HTML文档
    with open(title + '.html', mode='w+', encoding='utf-8') as f:
        f.write(src_html.format(content=article))
        #print('%s.html 已保存成功' % title)
    # 将HTML转换成PDF
    config = pdfkit.configuration(wkhtmltopdf=r'D:\Program Files\wkhtmltopdf\bin\wkhtmltopdf.exe')
    pdfkit.from_file(title+'.html', title+'.pdf', configuration=config)
    #print('%s.pdf 已保存成功' % title)
    os.remove(title + '.html')
    #print('%s.html 已删除成功'% title)


def down_all_url(index_url):
    #cnt = 0
    index_response = requests.get(url=index_url,headers=headers)
    index_selector = parsel.Selector(index_response.text)
    #print("test print 1")
    urls = index_selector.css('.baidu_pl p a::attr(href)').getall()        #这里根据原文章教程利用开发环境工具替换key元素
    #print("test print 2")
    for url in urls:
        #cnt = cnt+1
        #print("file cnt = ",cnt)
        download_one_page(url)
        time.sleep(0.1)
        
if __name__ == '__main__':
    print("Files begin saving...")
    down_all_url('xxx') #这里"xxx"替换实际的专栏总列表链接
    print("All files has been saved in PDF filetype.")
    
"""
参考：https://bwshen.blog.csdn.net/article/details/119784779
在源代码的基础上添加了特殊字符的替换，因为有一些文章会有一些特殊字符，可能导致Python运行报错。
导入的模块应该事先安装好，pdfkit软件也需要单独下载安装好。
作者：LanSheng2020
"""</code></pre> 
 <p></p> 
</blockquote> 
<p>         </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/54ef78dbb3ce99839592acd94285274c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">js 对url进行编码和解码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/712a31eb3ba0b699722b28edbf46e165/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">前端鉴权、路由守卫</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>