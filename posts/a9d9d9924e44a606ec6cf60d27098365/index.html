<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vmvare虚拟机vmdk格式转换为 qcow2格式 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vmvare虚拟机vmdk格式转换为 qcow2格式" />
<meta property="og:description" content="1、 虚拟机vmvare准备 迁移的过程如下：
1. 登录宿主机，在 VMwareWorkstation上检查 A 虚拟机，如果安装了 VMware Tools，以 root用户运行 vmware-uninstall-tools.pl卸载它。
卸载：
/vmware-tools-distrib/bin/vmware-uninstall-tools.pl
2. 关闭 A虚拟机。
3. 检查虚拟机的镜像文件。本例中，虚拟机的镜像存储在多个 vmdk文件中，所以需要在迁移前合并他们。
vmware-vdiskmanager.exe -r sourceDisk.vmdk -t 0 destinationDisk.vmdk
参数介绍：
-r&lt;source-disk&gt; : convert thespecified disk; need to specify
destinationdisk-type. For local destination disks
the disk type mustbe specified.
-t &lt;disk-type&gt; : disk type id Disk types: 0 : single growable virtual disk ex : vmware-vdiskmanager.exe -r sourceDisk.vmdk -t 0 destinationDisk.vmdk 2、 格式转换使用linux系统" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a9d9d9924e44a606ec6cf60d27098365/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-10-14T14:25:15+08:00" />
<meta property="article:modified_time" content="2015-10-14T14:25:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vmvare虚拟机vmdk格式转换为 qcow2格式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1、   虚拟机vmvare准备</h2> 
<p><span style="color:#222222">迁移的过程如下：</span></p> 
<p><span style="color:#222222">1.   </span><span style="color:#222222">登录宿主机，在</span><span style="color:#222222"> VMwareWorkstation</span><span style="color:#222222">上检查</span><span style="color:#222222"> A </span><span style="color:#222222">虚拟机，如果安装了</span><span style="color:#222222"> VMware Tools</span><span style="color:#222222">，以</span><span style="color:#222222"> root</span><span style="color:#222222">用户运行</span><span style="color:#222222"> vmware-uninstall-tools.pl</span><span style="color:#222222">卸载它。</span></p> 
<p style="background:#FEFEFE"><span style="color:#494949">卸载：</span></p> 
<p style="background:#FEFEFE"><span style="color:#494949"> /vmware-tools-distrib/bin/vmware-uninstall-tools.pl</span></p> 
<p><span style="color:#222222">2. </span><span style="color:#222222">关闭</span><span style="color:#222222"> A</span><span style="color:#222222">虚拟机。</span></p> 
<p><span style="color:#222222">3. </span><span style="color:#222222">检查虚拟机的镜像文件。本例中，虚拟机的镜像存储在多个</span><span style="color:#222222"> vmdk</span><span style="color:#222222">文件中，所以需要在迁移前合并他们。</span></p> 
<p>vmware-vdiskmanager.exe -r sourceDisk.vmdk -t 0 destinationDisk.vmdk</p> 
<p><img src="" alt=""><img src="" alt=""> </p> 
<p></p> 
<p>参数介绍：</p> 
<p align="left">  -r&lt;source-disk&gt;     : convert thespecified disk; need to specify</p> 
<p align="left">                            destinationdisk-type.  For local destination disks</p> 
<p align="left">                            the disk type mustbe specified.</p> 
<pre style="background:white">-t &lt;disk-type&gt;       : disk type id</pre> 
<pre style="background:white"> </pre> 
<pre style="background:white">  Disk types:</pre> 
<pre style="background:white">     0      : single growable virtual disk</pre> 
<pre style="background:white">ex : vmware-vdiskmanager.exe -r sourceDisk.vmdk -t 0 destinationDisk.vmdk</pre> 
<pre style="background:white"></pre> 
<pre style="background:white"><h2>2、 格式转换</h2><p>使用linux系统</p><pre style="background:white">1.#yum install qemu-img –y</pre><pre style="background:white">2.【qemu-img info source-name.vmdk 查看虚拟机信息】</pre><pre style="background:white">#qemu-img info Ubuntu-64-bit_12.04_EJBCA.vmdk </pre><pre style="background:white">3.【转换虚拟机格式，将vmdk转换为qcow2</pre><pre style="background:white">qemu-img convert -f vmdk -O qcow2 source-name.vmdk target-name.qcow2 】</pre><pre style="background:white">#qemu-img convert -f vmdk -O qcow2 Ubuntu-64-bit_12.04_EJBCA.vmdk ubuntu-EJBCA.qcow2</pre><pre style="background:white">4. 【转换虚拟机格式，将vmdk压缩转换为qcow2</pre>qemu-img convert -c -f vmdk -O qcow2 source-name.vmdk target-name.qcow2】<br></pre> 
<pre style="background:white"></pre> 
<pre style="background:white"></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/85ec6240df99531cb56c74f774f34167/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">centos下安装bugfree3.0.4</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/960f8cb223c7d7c80f49f1fa4e8b3acd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">opencv例程解读——dft（离散傅里叶变换）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>