<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【React系列】React中的CSS - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【React系列】React中的CSS" />
<meta property="og:description" content="本文来自#React系列教程：https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5MDAzNzkwNA==&amp;action=getalbum&amp;album_id=1566025152667107329)
一. React中的css方案 1.1. react 中的 css 事实上，css 一直是 React 的痛点，也是被很多开发者吐槽、诟病的一个点。
在组件化中选择合适的CSS解决方案应该符合以下条件：
可以编写局部css：css具备自己的具备作用域，不会随意污染其他组件内的原生；可以编写动态的css：可以获取当前组件的一些状态，根据状态的变化生成不同的css样式；支持所有的css特性：伪类、动画、媒体查询等；编写起来简洁方便、最好符合一贯的css风格特点；等等… 在这一点上，Vue做的要远远好于React：
Vue通过在.vue文件中编写 &lt;style&gt;&lt;style&gt; 标签来编写自己的样式；通过是否添加 scoped 属性来决定编写的样式是全局有效还是局部有效；通过 lang 属性来设置你喜欢的 less、sass等预处理器；通过内联样式风格的方式来根据最新状态设置和改变css；等等… Vue在CSS上虽然不能称之为完美，但是已经足够简洁、自然、方便了，至少统一的样式风格不会出现多个开发人员、多个项目采用不一样的样式风格。
相比而言，React官方并没有给出在React中统一的样式风格：
由此，从普通的 css，到 css modules，再到 css in js，有几十种不同的解决方案，上百个不同的库；大家一致在寻找最好的或者说最适合自己的CSS方案，但是到目前为止也没有统一的方案； 在这篇文章中，我会介绍挑选四种解决方案来介绍：
方案一：内联样式的写法；方案二：普通的css写法；方案三：css modules；方案四：css in js（styled-components）； 1.2. 普通的解决方案 1.2.1. 内联样式 内联样式是官方推荐的一种css样式的写法：
style 接受一个采用小驼峰命名属性的 JavaScript 对象，而不是 CSS 字符串；并且可以引用state中的状态来设置相关的样式； export default class App extends PureComponent { constructor(props) { super(props); this.state = { titleColor: &#34;red&#34; } } render() { return ( &lt;div&gt; &lt;h2 style={{color: this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9afeda9f9050832b661006b37bdefb22/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T13:34:57+08:00" />
<meta property="article:modified_time" content="2024-01-04T13:34:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【React系列】React中的CSS</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>本文来自#React系列教程：<a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5MDAzNzkwNA==&amp;action=getalbum&amp;album_id=1566025152667107329" rel="nofollow">https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg5MDAzNzkwNA==&amp;action=getalbum&amp;album_id=1566025152667107329</a>)</p> 
</blockquote> 
<h2><a id="_Reactcss_2"></a>一. React中的css方案</h2> 
<h3><a id="11_react__css_3"></a>1.1. react 中的 css</h3> 
<p>事实上，css 一直是 React 的痛点，也是被很多开发者吐槽、诟病的一个点。</p> 
<p>在组件化中选择合适的CSS解决方案应该符合以下条件：</p> 
<ul><li>可以编写局部css：css具备自己的具备作用域，不会随意污染其他组件内的原生；</li><li>可以编写动态的css：可以获取当前组件的一些状态，根据状态的变化生成不同的css样式；</li><li>支持所有的css特性：伪类、动画、媒体查询等；</li><li>编写起来简洁方便、最好符合一贯的css风格特点；</li><li>等等…</li></ul> 
<p>在这一点上，Vue做的要远远好于React：</p> 
<ul><li>Vue通过在<code>.vue</code>文件中编写 <code>&lt;style&gt;&lt;style&gt;</code> 标签来编写自己的样式；</li><li>通过是否添加 scoped 属性来决定编写的样式是全局有效还是局部有效；</li><li>通过 lang 属性来设置你喜欢的 less、sass等预处理器；</li><li>通过内联样式风格的方式来根据最新状态设置和改变css；</li><li>等等…</li></ul> 
<p>Vue在CSS上虽然不能称之为完美，但是已经足够简洁、自然、方便了，至少统一的样式风格不会出现多个开发人员、多个项目采用不一样的样式风格。</p> 
<p>相比而言，React官方并没有给出在React中统一的样式风格：</p> 
<ul><li>由此，从普通的 css，到 css modules，再到 css in js，有几十种不同的解决方案，上百个不同的库；</li><li>大家一致在寻找最好的或者说最适合自己的CSS方案，但是到目前为止也没有统一的方案；</li></ul> 
<p>在这篇文章中，我会介绍挑选四种解决方案来介绍：</p> 
<ul><li>方案一：内联样式的写法；</li><li>方案二：普通的css写法；</li><li>方案三：css modules；</li><li>方案四：css in js（styled-components）；</li></ul> 
<h3><a id="12__35"></a>1.2. 普通的解决方案</h3> 
<h4><a id="121__36"></a>1.2.1. 内联样式</h4> 
<p>内联样式是官方推荐的一种css样式的写法：</p> 
<ul><li><code>style</code> 接受一个采用小驼峰命名属性的 JavaScript 对象，而不是 CSS 字符串；</li><li>并且可以引用<code>state</code>中的状态来设置相关的样式；</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">titleColor</span><span class="token operator">:</span> <span class="token string">"red"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 style<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>titleColor<span class="token punctuation">,</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">"20px"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>我是App标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token literal-property property">textDecoration</span><span class="token operator">:</span> <span class="token string">"underline"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>我是一段文字描述<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>内联样式的优点:</p> 
<ol><li> <p>内联样式, 样式之间不会有冲突</p> </li><li> <p>可以动态获取当前<code>state</code>中的状态</p> </li></ol> 
<p>内联样式的缺点：</p> 
<ol><li> <p>写法上都需要使用驼峰标识</p> </li><li> <p>某些样式没有提示</p> </li><li> <p>大量的样式, 代码混乱</p> </li><li> <p>某些样式无法编写(比如伪类/伪元素)</p> </li></ol> 
<p><strong>所以官方依然是希望内联合适和普通的css来结合编写；</strong></p> 
<h4><a id="122_css_81"></a>1.2.2. 普通的css</h4> 
<p>普通的css我们通常会编写到一个单独的文件。</p> 
<p><code>App.js</code>中编写React逻辑代码：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'./Home'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'./App.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"app"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span>我是App的标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">"desc"</span><span class="token operator">&gt;</span>我是App中的一段文字描述<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Home<span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>App.css</code>中编写React样式代码：</p> 
<pre><code class="prism language-css"><span class="token selector">.title</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.desc</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token property">text-decoration</span><span class="token punctuation">:</span> underline<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这样的编写方式和普通的网页开发中编写方式是一致的：</p> 
<ul><li>如果我们按照普通的网页标准去编写，那么也不会有太大的问题；</li><li>但是组件化开发中我们总是希望组件是一个独立的模块，即便是样式也只是在自己内部生效，不会相互影响；</li><li>但是普通的css都属于全局的css，样式之间会相互影响；</li></ul> 
<p>比如编写<code>Home.js</code>的逻辑代码：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">'./Home.css'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"home"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span>我是Home标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span className<span class="token operator">=</span><span class="token string">"desc"</span><span class="token operator">&gt;</span>我是Home中的span段落<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>又编写了<code>Home.css</code>的样式代码：</p> 
<pre><code class="prism language-css"><span class="token selector">.title</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.desc</span> <span class="token punctuation">{<!-- --></span>
  <span class="token property">color</span><span class="token punctuation">:</span> purple<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>最终样式之间会相互层叠，只有一个样式会生效；</p> 
<h4><a id="123_css_modules_159"></a>1.2.3. css modules</h4> 
<p><strong>css modules</strong> 并不是React特有的解决方案，而是所有使用了类似于<strong>webpack</strong>配置的环境下都可以使用的。</p> 
<p>但是，如果在其他项目中使用，那么我们需要自己来进行配置，比如配置<code>webpack.config.js</code>中的<code>modules: true</code>等。</p> 
<p>但是 <strong>React 的脚手架已经内置了<code>css modules</code>的配置：</strong></p> 
<ul><li><code>.css/.less/.scss</code> 等样式文件都修改成 <code>.module.css/.module.less/.module.scss</code> 等；</li><li>之后就可以引用并且进行使用了；</li></ul> 
<p>使用的方式如下：</p> 
<p><img src="https://images2.imgbox.com/b5/23/woKjPAOg_o.jpg" alt="在这里插入图片描述"></p> 
<p><strong>这种css使用方式最终生成的class名称会全局唯一：</strong></p> 
<p><img src="https://images2.imgbox.com/b0/da/nGKw95bR_o.jpg" alt="在这里插入图片描述"></p> 
<p><code>css modules</code> 确实解决了局部作用域的问题，也是很多人喜欢在React中使用的一种方案。</p> 
<p>但是这种方案也有自己的缺陷：</p> 
<ul><li>引用的类名，不能使用连接符(<code>.home-title</code>)，在JavaScript中是不识别的；</li><li>所有的<code>className</code>都必须使用<code>{style.className}</code> 的形式来编写；</li><li>不方便动态来修改某些样式，依然需要使用内联样式的方式；</li></ul> 
<p>如果你觉得上面的缺陷还算OK，那么你在开发中完全可以选择使用<code>css modules</code>来编写，并且也是在React中很受欢迎的一种方式。</p> 
<h2><a id="_CSS_in_JS_187"></a>二. CSS in JS</h2> 
<h3><a id="21_CSS_in_JS_188"></a>2.1. 认识CSS in JS</h3> 
<p>实际上，官方文档也有提到过 CSS in JS 这种方案：</p> 
<ul><li>“CSS-in-JS” 是指一种模式，其中 CSS 由 JavaScript 生成而不是在外部文件中定义；</li><li>注意此功能并不是 React 的一部分，而是由第三方库提供。 React 对样式如何定义并没有明确态度；</li></ul> 
<p>在传统的前端开发中，我们通常会将结构（HTML）、样式（CSS）、逻辑（JavaScript）进行分离。</p> 
<ul><li>但是在前面的学习中，我们就提到过，React的思想中认为逻辑本身和UI是无法分离的，所以才会有了JSX的语法。</li><li>样式呢？样式也是属于UI的一部分；</li><li>事实上 CSS-in-JS 的模式就是一种将样式（CSS）也写入到 JavaScript 中的方式，并且可以方便的使用 JavaScript 的状态；</li><li>所以 React 有被人称之为 All in JS；</li></ul> 
<p>当然，这种开发的方式也受到了很多的批评：</p> 
<ul><li>Stop using CSS in JavaScript for web development</li><li><a href="https://hackernoon.com/stop-using-css-in-javascript-for-web-development-fa32fb873dcc" rel="nofollow">https://hackernoon.com/stop-using-css-in-javascript-for-web-development-fa32fb873dcc</a></li></ul> 
<p>批评声音虽然有，但是在我们看来很多优秀的 CSS-in-JS 的库依然非常强大、方便：</p> 
<ul><li>CSS-in-JS 通过 JavaScript 来为CSS赋予一些能力，包括类似于CSS预处理器一样的样式嵌套、函数定义、逻辑复用、动态修改状态等等；</li><li>依然CSS预处理器也具备某些能力，但是获取动态状态依然是一个不好处理的点；</li><li>所以，目前可以说 CSS-in-JS 是React编写CSS最为受欢迎的一种解决方案；</li></ul> 
<p>目前比较流行的 CSS-in-JS 的库有哪些呢？</p> 
<ul><li>styled-components</li><li>emotion</li><li>glamorous</li></ul> 
<p>目前可以说 <code>styled-components</code> 依然是社区最流行的 CSS-in-JS 库，所以我们以<code>styled-components</code>的讲解为主；</p> 
<p>安装<code>styled-components</code>：</p> 
<pre><code class="prism language-javascript">yarn add styled<span class="token operator">-</span>components
</code></pre> 
<h3><a id="22_styledcomponents_226"></a>2.2. styled-components</h3> 
<h4><a id="221__227"></a>2.2.1. 标签模板字符串</h4> 
<p>ES6中增加了模板字符串的语法，这个对于很多人来说都会使用。</p> 
<p>但是模板字符串还有另外一种用法：标签模板字符串（Tagged Template Literals）。</p> 
<p>我们一起来看一个普通的JavaScript的函数：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>正常情况下，我们都是通过 <code>函数名()</code> 方式来进行调用的，其实函数还有另外一种调用方式：</p> 
<pre><code class="prism language-javascript">foo<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// [["Hello World"]]</span>
</code></pre> 
<p>如果我们在调用的时候插入其他的变量：</p> 
<pre><code class="prism language-javascript">foo<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">// [["Hello ", ""], "kobe"];</span>
</code></pre> 
<ul><li>模板字符串被拆分了；</li><li>第一个元素是数组，是被模块字符串拆分的字符串组合；</li><li>后面的元素是一个个模块字符串传入的内容；</li></ul> 
<p>在<code>styled component</code>中，就是通过这种方式来解析模块字符串，最终生成我们想要的样式的</p> 
<h4><a id="222_styled_260"></a>2.2.2. styled基本使用</h4> 
<p><code>styled-components</code>的本质是通过函数的调用，最终创建出一个组件：</p> 
<ul><li>这个组件会被自动添加上一个不重复的<code>class</code>；</li><li><code>styled-components</code>会给该<code>class</code>添加相关的样式；</li></ul> 
<p>比如我们正常开发出来的<code>Home</code>组件是这样的格式：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>我是Home标题<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是列表1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是列表2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>我是列表3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>我们希望给外层的<code>div</code>添加一个特殊的<code>class</code>，并且添加相关的样式：</p> 
<p><img src="https://images2.imgbox.com/ab/ac/4Syameu5_o.jpg" alt="在这里插入图片描述"></p> 
<p>另外，它支持类似于CSS预处理器一样的样式嵌套：</p> 
<ul><li>支持直接子代选择器或后代选择器，并且直接编写样式；</li><li>可以通过<code>&amp;</code>符号获取当前元素；</li><li>直接伪类选择器、伪元素等；</li></ul> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> HomeWrapper <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  color: purple;

  h2 {
    font-size: 50px;
  }

  ul &gt; li {
    color: orange;

    &amp;.active {
      color: red;
    }

    &amp;:hover {
      background: #aaa;
    }

    &amp;::after {
      content: "abc"
    }
  }
</span><span class="token template-punctuation string">`</span></span>
</code></pre> 
<p>最终效果如下</p> 
<p><img src="https://images2.imgbox.com/7e/07/hyUtl1kQ_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="223_propsattrs_321"></a>2.2.3. props、attrs属性</h4> 
<p><strong><code>props</code>可以穿透</strong></p> 
<p>定义一个<code>styled</code>组件：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> HYInput <span class="token operator">=</span> styled<span class="token punctuation">.</span>input<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  border-color: red;

  &amp;:focus {
    outline-color: orange;
  }
</span><span class="token template-punctuation string">`</span></span>
</code></pre> 
<p>使用<code>styled</code>的组件：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>HYInput type<span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p><strong><code>props</code>可以被传递给<code>styled</code>组件</strong></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>HomeWrapper color<span class="token operator">=</span><span class="token string">"blue"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>HomeWrapper<span class="token operator">&gt;</span>
</code></pre> 
<p>使用时可以获取到传入的<code>color</code>：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> HomeWrapper <span class="token operator">=</span> styled<span class="token punctuation">.</span>div`
  <span class="token literal-property property">color</span><span class="token operator">:</span> $<span class="token punctuation">{<!-- --></span><span class="token parameter">props</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>color<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ul><li>获取<code>props</code>需要通过<code>${}</code>传入一个插值函数，<code>props</code>会作为该函数的参数；</li><li>这种方式可以有效的解决动态样式的问题；</li></ul> 
<p><strong>添加<code>attrs</code>属性</strong></p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> HYInput <span class="token operator">=</span> styled<span class="token punctuation">.</span>input<span class="token punctuation">.</span><span class="token function">attrs</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">"请填写密码"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">paddingLeft</span><span class="token operator">:</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>left <span class="token operator">||</span> <span class="token string">"5px"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  border-color: red;
  padding-left: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token parameter">props</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>paddingLeft<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;

  &amp;:focus {
    outline-color: orange;
  }
</span><span class="token template-punctuation string">`</span></span>
</code></pre> 
<h4><a id="224_styled_376"></a>2.2.4. styled高级特性</h4> 
<p><strong>支持样式的继承</strong></p> 
<p>编写<code>styled</code>组件</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> HYButton <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  padding: 8px 30px;
  border-radius: 5px;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> HYWarnButton <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>HYButton<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  background-color: red;
  color: #fff;
</span><span class="token template-punctuation string">`</span></span>

<span class="token keyword">const</span> HYPrimaryButton <span class="token operator">=</span> <span class="token function">styled</span><span class="token punctuation">(</span>HYButton<span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  background-color: green;
  color: #fff;
</span><span class="token template-punctuation string">`</span></span>
</code></pre> 
<p>按钮的使用</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HYButton</span><span class="token punctuation">&gt;</span></span>我是普通按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HYButton</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HYWarnButton</span><span class="token punctuation">&gt;</span></span>我是警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HYWarnButton</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HYPrimaryButton</span><span class="token punctuation">&gt;</span></span>我是主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HYPrimaryButton</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>styled设置主题</strong></p> 
<p>在全局定制自己的主题，通过<code>Provider</code>进行共享：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">"30px"</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Profile <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
</code></pre> 
<p>在<code>styled</code>组件中可以获取到主题的内容：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> ProfileWrapper <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  color: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token parameter">props</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>color<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
  font-size: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span><span class="token parameter">props</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>theme<span class="token punctuation">.</span>fontSize<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">;
</span><span class="token template-punctuation string">`</span></span>
</code></pre> 
<h3><a id="23_classnames_428"></a>2.3. classnames</h3> 
<p><strong>vue中添加class</strong></p> 
<p>在vue中给一个元素添加动态的<code>class</code>是一件非常简单的事情：</p> 
<p>你可以通过传入一个对象：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>div
  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"static"</span>
  v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"{ active: isActive, 'text-danger': hasError }"</span>
<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>你也可以传入一个数组：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"[activeClass, errorClass]"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>甚至是对象和数组混合使用：</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"[{ active: isActive }, errorClass]"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>react中添加class</strong></p> 
<p>React在JSX给了我们开发者足够多的灵活性，你可以像编写JavaScript代码一样，通过一些逻辑来决定是否添加某些<code>class</code>：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> PureComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">isActive</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span>isActive<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span> 

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token string">"title "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>isActive <span class="token operator">?</span> <span class="token string">"active"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>我是标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h2 className<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">[</span><span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>isActive <span class="token operator">?</span> <span class="token string">"active"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>我是标题<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这个时候我们可以借助于一个第三方的库：<code>classnames</code></p> 
<ul><li>很明显，这是一个用于动态添加<code>classnames</code>的一个库。</li></ul> 
<p>我们来使用一下最常见的使用案例：</p> 
<pre><code class="prism language-javascript"><span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo bar'</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo bar'</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string-property property">'foo-bar'</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo-bar'</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token string-property property">'foo-bar'</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; ''</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo bar'</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo bar'</span>

<span class="token comment">// lots of arguments of various types</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">duck</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'baz'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">quux</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'foo bar baz quux'</span>

<span class="token comment">// other falsy values are just ignored</span>
<span class="token function">classNames</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; 'bar 1'</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e71d0aeff978bd8c285bafb1cb66d158/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图像识别的技术前沿：人工智能与机器学习的融合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7d91d2ec0535de09495af33f4ffbe44c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">char、char*和char**</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>