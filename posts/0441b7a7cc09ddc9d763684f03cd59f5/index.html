<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>hdc_std安装配置以及常用命令 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="hdc_std安装配置以及常用命令" />
<meta property="og:description" content="前言：（时间紧迫就别看前言了）hdc_std是OpenHarmony 的命令行工具。因为我们的鸿蒙系统没有应用商店、没有浏览器、不能外接usb设备以及打不开文件资源管理器，所以接触了hdc_std。
环境：Windows10电脑 工具：usb连接线、鸿蒙系统测试机
一、环境安装配置
1.新建一个文件夹并命名，作为存放hdc_std的路径，把.exe文件放到新建的文件夹中。
2.回到桌面，右击“此电脑”-&gt;点“属性”，点击高级系统设置，然后点环境变量。
3.在系统变量中找到Path，然后点编辑按钮。
4.把hdc_std.exe的路径复制一下，在编辑环境变量页面点“新建”，把路径粘贴到左侧，如图。
5.打开命令提示符（cmd），输入：hdc_std -v，如下图有版本号则成功。
二、常用命令（电脑USB已连接设备)
hdc_std start #启动hdc_std
hdc_std kill #关闭hdc_std
hdc_std start -r #重新启动hdc服务进程
hdc_std target boot #重启设备
hdc_std -h #查看帮助
OpenHarmony device connector(HDC) ... ---------------------------------global commands:---------------------------------- -h/help - Print hdc help -v/version - Print hdc version -l 0-5 - Set runtime loglevel -t connectkey - Use device with given connect key ---------------------------------component commands:------------------------------- session commands(on server): discover - Discover devices listening on TCP via LAN broadcast list targets [-v] - List all devices status, -v for detail tconn key - Connect device via key, TCP use ip:port example:192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0441b7a7cc09ddc9d763684f03cd59f5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-22T16:00:47+08:00" />
<meta property="article:modified_time" content="2023-11-22T16:00:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">hdc_std安装配置以及常用命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>前言：（时间紧迫就别看前言了）hdc_std是OpenHarmony 的命令行工具。因为我们的鸿蒙系统没有应用商店、没有浏览器、不能外接usb设备以及打不开文件资源管理器，所以接触了hdc_std。</p> 
<p>环境：Windows10电脑        工具：usb连接线、鸿蒙系统测试机</p> 
<p>一、环境安装配置</p> 
<p>1.新建一个文件夹并命名，作为存放hdc_std的路径，把.exe文件放到新建的文件夹中。</p> 
<p class="img-center"><img alt="" height="150" src="https://images2.imgbox.com/9c/a9/661QuweE_o.png" width="331"></p> 
<p>2.回到桌面，右击“此电脑”-&gt;点“属性”，点击高级系统设置，然后点环境变量。</p> 
<p class="img-center"><img alt="" height="791" src="https://images2.imgbox.com/9b/14/zRh087ZJ_o.png" width="936"></p> 
<p>3.在系统变量中找到Path，然后点编辑按钮。</p> 
<p class="img-center"><img alt="" height="450" src="https://images2.imgbox.com/0a/0f/MtPmVY9m_o.png" width="766"></p> 
<p>4.把hdc_std.exe的路径复制一下，在编辑环境变量页面点“新建”，把路径粘贴到左侧，如图。</p> 
<p class="img-center"><img alt="" height="664" src="https://images2.imgbox.com/75/e5/1baCQPZN_o.png" width="675"></p> 
<p>5.打开命令提示符（cmd），输入：hdc_std -v，如下图有版本号则成功。</p> 
<p class="img-center"><img alt="" height="195" src="https://images2.imgbox.com/ba/e3/qy48bxs5_o.png" width="447"></p> 
<p>二、常用命令（电脑USB已连接设备)</p> 
<p>hdc_std start        #启动hdc_std</p> 
<p><img alt="" height="29" src="https://images2.imgbox.com/88/bd/weQBLWOb_o.png" width="282"></p> 
<p>hdc_std kill        #关闭hdc_std</p> 
<p><img alt="" height="59" src="https://images2.imgbox.com/07/6e/MB2tTiBK_o.png" width="280"></p> 
<p>hdc_std start -r    #重新启动hdc服务进程</p> 
<p>hdc_std target boot    #重启设备</p> 
<p>hdc_std -h        #查看帮助</p> 
<pre><code>
                         OpenHarmony device connector(HDC) ...

---------------------------------global commands:----------------------------------
 -h/help                               - Print hdc help
 -v/version                            - Print hdc version
 -l 0-5                                - Set runtime loglevel
 -t connectkey                         - Use device with given connect key

---------------------------------component commands:-------------------------------
session commands(on server):
 discover                              - Discover devices listening on TCP via LAN broadcast
 list targets [-v]                     - List all devices status, -v for detail
 tconn key                             - Connect device via key, TCP use ip:port
                                         example:192.168.0.100:10178/192.168.0.100
                                         USB connect automatic, TCP need to connect manually
 start [-r]                            - Start server. If with '-r', will be restart server
 kill [-r]                             - Kill server. If with '-r', will be restart server
 -s [ip:]port                          - Set hdc server listen config

service commands(on daemon):
 target mount                          - Set /system /vendor partition read-write
 target boot [-bootloader|-recovery]   - Reboot the device or boot into bootloader\recovery.
 smode [-r]                            - Restart daemon with root permissions, '-r' to cancel root
                                         permissions
 tmode usb                             - Reboot the device, listening on USB
 tmode port [port]                     - Reboot the device, listening on TCP port

---------------------------------task commands:-------------------------------------
file commands:
 file send [option] local remote       - Send file to device
 file recv [option] remote local       - Recv file from device
                                         option is -a|-s|-z
                                         -a: hold target file timestamp
                                         -sync: just update newer file
                                         -z: compress transfer

forward commands:
 fport localnode remotenode            - Forward local traffic to remote device
 rport remotenode localnode            - Reserve remote traffic to local host
                                         node config name format 'schema:content'
                                         examples are below:
                                         tcp:&lt;port&gt;
                                         localfilesystem:&lt;unix domain socket name&gt;
                                         localreserved:&lt;unix domain socket name&gt;
                                         localabstract:&lt;unix domain socket name&gt;
                                         dev:&lt;device name&gt;
                                         jdwp:&lt;pid&gt; (remote only)
 fport ls                              - Dispaly forward/reverse tasks
 fport rm taskstr                      - Remove forward/reverse task by taskstring

app commands:
 install [-rdg] src                 - Send package(s) to device and install them
                                         src examples: single or multiple packages and directories
                                         (.hap)
                                         -r: replace existing application
                                         -d: allow version code downgrade
                                         -g: grant all the permissions
 uninstall [-k] package                - Remove application package from device
                                         -k: keep the data and cache directories

debug commands:
 hilog [-v]                            - Show device log, -v for detail
 shell [COMMAND...]                    - Run shell command (interactive shell if no command given)
 bugreport [PATH]                      - Return all information from the device, path will be save localpath
 jpid                                  - List pids of processes hosting a JDWP transport
 sideload [PATH]                       - Sideload the given full OTA package

security commands:
 keygen FILE                           - Generate public/private key; key stored in FILE and FILE.pub</code></pre> 
<p>hdc_std shell    #进入命令行交互环境</p> 
<p><img alt="" height="112" src="https://images2.imgbox.com/c0/30/RRB5k4DJ_o.png" width="559"></p> 
<p>hdc_std list targets    #查看已连接设备</p> 
<p>hdc_std list targets -v    #查看连接设备的详细信息</p> 
<p>hdc_std shell param get        #查看设备信息</p> 
<p><img alt="" height="655" src="https://images2.imgbox.com/69/50/gT8g8szy_o.png" width="1087"></p> 
<p>hdc_std target mount    #获取读写权限</p> 
<p>hdc_std shell param set persist.multimedia.audio.mediavolume = 1        #设置机器的声音大小，默认值是15</p> 
<p><img alt="" height="45" src="https://images2.imgbox.com/ed/72/Omk3XSV2_o.png" width="554"></p> 
<p>hdc_std file send [D:\本地路径] [/data/设备路径]    #发送文件到设备</p> 
<p><img alt="" height="41" src="https://images2.imgbox.com/03/b3/EWkMwS0O_o.png" width="977"></p> 
<p>hdc_std file recv [/data/设备路径] [D:\本地路径]    #获取文件到本地</p> 
<p>hdc_std shell chromd ***    #修改文件权限</p> 
<p>hdc_std shell hilog    #查看日志</p> 
<p>hdc_std shell ps -ef    #查看进程</p> 
<p>hdc_std app install -r [HAP包路径]    #递归当前目录安装HAP包（安装包在电脑上）</p> 
<p>hdc_std shell bm install -p /data/entry-default-signed.hap    #HAP包推送到手机中，手动安装HAP包（安装包在手机上）</p> 
<p><img alt="" height="61" src="https://images2.imgbox.com/05/22/i6kkcWnV_o.png" width="797"></p> 
<p>hdc_std uninstall [安装包名称]    #卸载HAP包</p> 
<p>hdc_std shell bm uninstall -n [安装包名称]    #卸载HAP包</p> 
<p>hdc_std shell aa start ability -a InputMethod -b cn.openharmony.inputmethodchoosedialog        #切换输入法。在屏幕上选择想要的输入法</p> 
<p><img alt="" height="56" src="https://images2.imgbox.com/a8/b3/7T3bbKBn_o.png" width="685"></p> 
<p>ifconfig        #查看设备的ip等信息</p> 
<p><img alt="" height="270" src="https://images2.imgbox.com/a3/34/gumZYqUt_o.png" width="567"></p> 
<p>ifconfig eth0 up</p> 
<p>ifconfig eth0 192.168.1.7 netmask 255.255.255.0 broadcast 192.168.1.255        #设置ip地址、网关和子网掩码</p> 
<p><img alt="" height="35" src="https://images2.imgbox.com/8c/d3/QbAgNyr9_o.png" width="438"></p> 
<p>ping IP地址        #测试地址是否可用</p> 
<p><img alt="" height="157" src="https://images2.imgbox.com/98/95/fHIbmvcN_o.png" width="481"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9f6de3471b4224f18e59c4edcc36696d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringBoot使用ObjectMapper之Long和BigDemical类型的属性字符串处理，防止前端丢失数值精度</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cf538577c15022f640f0376fd335300d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">主机dbeaver访问gitlab容器中的pg</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>