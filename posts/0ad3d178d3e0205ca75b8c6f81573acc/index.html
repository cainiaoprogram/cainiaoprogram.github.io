<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>17. Series.dt.month-提取日期数据中的月份信息 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="17. Series.dt.month-提取日期数据中的月份信息" />
<meta property="og:description" content="【目录】
文章目录 17. Series.dt.month-提取日期数据中的月份信息1. 知识回顾-创建一个Series对象2. 知识回顾-pd.to_datetime()将数据转换为pandas中的日期时间格式3. 实例化类相关知识4. Series.dt.month是什么？5. 如何使用Series.dt.month？6. Series.dt.month的语法7. 返回值8. 实操练习9. 总结 【正文】 17. Series.dt.month-提取日期数据中的月份信息 学习时间：30分钟。
1. 知识回顾-创建一个Series对象 pandas库的核心数据结构是两种类型的数据对象：Series对象和DataFrame对象。Series对象是一维数组。DataFrame对象是二维数组。 创建一个Series对象：
【语法】
pd.Series(data, index) 【参数】
pd是库名。.英文小圆点。库名后接一个小圆点表示调用。Series类名。data是必需参数，表示要传递的数据。index是可选参数，用于自定义行索引。 【课堂练习】
创建一个Series对象，存储以下3个数据：
2021-01-01
2022-02-02
2023-03-03
【代码示例】
# 导入pandas库并简写为pd import pandas as pd data =[&#39;2021-01-01&#39;, &#39;2022-02-02&#39;, &#39;2023-03-03&#39;] s1 = pd.Series(data) print(s1) 【终端输出】
0 2021-01-01 1 2022-02-02 2 2023-03-03 dtype: object 【备注】
以上知识点可以参加下面的链接：
2. Series对象-一维数据
学习就是一个从陌生到熟悉的过程，重复的次数多了，它就是你的了。
2. 知识回顾-pd.to_datetime()将数据转换为pandas中的日期时间格式 【作用】
pd.to_datetime()函数是pandas库中的一个函数，用于将输入的日期时间转换为pandas中的日期时间格式。
【语法】
pd.to_datetime(arg, format) pd库名，是pandas库的简写。英文小圆点.。to_datetime函数名，理解为转换成日期格式的函数。 【参数】" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0ad3d178d3e0205ca75b8c6f81573acc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-16T22:40:33+08:00" />
<meta property="article:modified_time" content="2023-11-16T22:40:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">17. Series.dt.month-提取日期数据中的月份信息</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>【目录】</p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#17_Seriesdtmonth_5" rel="nofollow">17. Series.dt.month-提取日期数据中的月份信息</a></li><li><ul><li><a href="#1_Series_9" rel="nofollow">1. 知识回顾-创建一个Series对象</a></li><li><a href="#2_pdto_datetimepandas_67" rel="nofollow">2. 知识回顾-pd.to_datetime()将数据转换为pandas中的日期时间格式</a></li><li><a href="#3__118" rel="nofollow">3. 实例化类相关知识</a></li><li><a href="#4_Seriesdtmonth_140" rel="nofollow">4. Series.dt.month是什么？</a></li><li><a href="#5_Seriesdtmonth_146" rel="nofollow">5. 如何使用Series.dt.month？</a></li><li><a href="#6_Seriesdtmonth_213" rel="nofollow">6. Series.dt.month的语法</a></li><li><a href="#7__229" rel="nofollow">7. 返回值</a></li><li><a href="#8__235" rel="nofollow">8. 实操练习</a></li><li><a href="#9__331" rel="nofollow">9. 总结</a></li></ul> 
 </li></ul> 
</div> 
<br> 【正文】 
<p></p> 
<h2><a id="17_Seriesdtmonth_5"></a>17. Series.dt.month-提取日期数据中的月份信息</h2> 
<p>学习时间：30分钟。</p> 
<h3><a id="1_Series_9"></a>1. 知识回顾-创建一个Series对象</h3> 
<ul><li>pandas库的核心数据结构是两种类型的数据对象：<code>Series</code>对象和<code>DataFrame</code>对象。</li><li><code>Series</code>对象是一维数组。</li><li><code>DataFrame</code>对象是二维数组。</li></ul> 
<p>创建一个Series对象：</p> 
<p>【语法】</p> 
<pre><code class="prism language-python">pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index<span class="token punctuation">)</span>
</code></pre> 
<p>【参数】</p> 
<ul><li><code>pd</code>是库名。</li><li><code>.</code>英文小圆点。库名后接一个小圆点表示调用。</li><li><code>Series</code>类名。</li><li><code>data</code>是必需参数，表示要传递的数据。</li><li><code>index</code>是可选参数，用于自定义行索引。</li></ul> 
<p>【课堂练习】</p> 
<p>创建一个Series对象，存储以下3个数据：<br> 2021-01-01<br> 2022-02-02<br> 2023-03-03</p> 
<p>【代码示例】</p> 
<pre><code class="prism language-python"><span class="token comment"># 导入pandas库并简写为pd</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd 

data <span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'2021-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2022-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2023-03-03'</span><span class="token punctuation">]</span>

s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span>
</code></pre> 
<p>【终端输出】</p> 
<pre><code>0    2021-01-01
1    2022-02-02
2    2023-03-03
dtype: object
</code></pre> 
<p>【备注】</p> 
<p>以上知识点可以参加下面的链接：</p> 
<p><a href="https://mp.weixin.qq.com/s?__biz=MzI2MzE1NTg2OA==&amp;mid=2649778119&amp;idx=1&amp;sn=8f8ece022c4d475b6eb4598525730e62&amp;chksm=f244fe34c53377227bbb8c03a1dc0799c03817914654cc48e92e2c36ef554c12a5ecd53ae7e1#rd" rel="nofollow">2. Series对象-一维数据</a></p> 
<p>学习就是一个从陌生到熟悉的过程，重复的次数多了，它就是你的了。</p> 
<h3><a id="2_pdto_datetimepandas_67"></a>2. 知识回顾-pd.to_datetime()将数据转换为pandas中的日期时间格式</h3> 
<p>【作用】</p> 
<p><code>pd.to_datetime()函数</code>是pandas库中的一个函数，用于将输入的日期时间转换为pandas中的日期时间格式。</p> 
<p>【语法】</p> 
<pre><code class="prism language-python">pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>arg<span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>pd库名，是pandas库的简写。</li><li>英文小圆点<code>.</code>。</li><li><code>to_datetime</code>函数名，理解为转换成日期格式的函数。</li></ul> 
<p>【参数】</p> 
<ul><li>arg ：需要转换为日期时间格式的参数，可以是字符串、列表、数组、Series、DataFrame等。</li><li>format：可选参数，默认值为None，表示输入日期时间的格式。如果不指定，则会尝试自动推断格式。</li></ul> 
<p>【课堂练习】</p> 
<p>将上面的Series对象转换为日期格式。</p> 
<p>【代码示例】</p> 
<pre><code class="prism language-python"><span class="token comment"># 导入pandas库并简写为pd</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd 

data <span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'2021-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2022-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2023-03-03'</span><span class="token punctuation">]</span>

<span class="token comment"># pd.Series(data, index)创建一个Series对象</span>
s1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token comment"># pd.to_datetime(arg, format)转换为日期时间格式</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>s1<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</code></pre> 
<p>【终端输出】</p> 
<pre><code>0   2021-01-01
1   2022-02-02
2   2023-03-03
dtype: datetime64[ns]
</code></pre> 
<h3><a id="3__118"></a>3. 实例化类相关知识</h3> 
<p>在面向对象编程中，类是一个模板，而对象则是根据这个模板创建出来的具体实体。</p> 
<p>通过实例化，我们可以使用类中定义的属性和方法来完成相应的操作。</p> 
<p>【创建对象语法】</p> 
<p><code>对象名 = 类名()</code></p> 
<ul><li> <p>等号的左边是我们给创建对象起的名字。</p> </li><li> <p>等号右边写类名，表示这个对象是根据这个类生产出来的。</p> </li><li> <p>类名后紧跟一对英文圆括号<code>( )</code>。</p> </li></ul> 
<p>【查看对象属性语法】</p> 
<p><code>对象名.属性名</code></p> 
<p>属性是定义在类里的变量。</p> 
<h3><a id="4_Seriesdtmonth_140"></a>4. Series.dt.month是什么？</h3> 
<ul><li><code>Series.dt.yaer</code>是pandas库中Series对象的一个属性，用于获取Series对象中日期时间值的<code>年份</code>。</li><li><code>Series.dt.month</code>是pandas库中Series对象的一个属性，用于获取Series对象中日期时间值的<code>月份</code>。</li><li><code>Series.dt.day</code>是pandas库中Series对象的一个属性，用于获取Series对象中日期时间值的<code>日</code>。</li></ul> 
<h3><a id="5_Seriesdtmonth_146"></a>5. 如何使用Series.dt.month？</h3> 
<p>首先，我们需要导入Pandas库：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
</code></pre> 
<p>接下来，我们可以创建一个包含日期时间数据的Series对象：</p> 
<pre><code class="prism language-python"><span class="token comment"># 语法：pd.Series(data, index)</span>
dates <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'2021-01-01'</span><span class="token punctuation">,</span> <span class="token string">'2022-02-02'</span><span class="token punctuation">,</span> <span class="token string">'2023-03-03'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>然后将Series对象转换为日期时间类型：</p> 
<pre><code class="prism language-python"><span class="token comment"># 语法：pd.to_datetime(arg, format)</span>
s <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>dates<span class="token punctuation">)</span>
</code></pre> 
<p>最后使用Series.dt获取日期属性：</p> 
<pre><code class="prism language-python"><span class="token comment"># 语法：Series.dt.month</span>
<span class="token comment"># s是一个Series对象，是对象名</span>
<span class="token comment"># dt是Series对象的时间属性，是属性名</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"提取年份值："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>year<span class="token punctuation">)</span>  <span class="token comment"># 输出：0    2021</span>
                  <span class="token comment">#      1    2022</span>
                  <span class="token comment">#      2    2023</span>
                  <span class="token comment">#      dtype: int64</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"提取月份值："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month<span class="token punctuation">)</span> <span class="token comment"># 输出：0    1</span>
                  <span class="token comment">#      1    2</span>
                  <span class="token comment">#      2    3</span>
                  <span class="token comment">#      dtype: int64</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"提取日值："</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>day<span class="token punctuation">)</span>   <span class="token comment"># 输出：0    1</span>
                  <span class="token comment">#      1    2</span>
                  <span class="token comment">#      2    3</span>
                  <span class="token comment">#      dtype: int64</span>
</code></pre> 
<p>【终端输出】</p> 
<pre><code>提取年份值：
0    2021
1    2022
2    2023
dtype: int64
提取月份值：
0    1
1    2
2    3
dtype: int64
提取日值：
0    1
1    2
2    3
dtype: int64
</code></pre> 
<h3><a id="6_Seriesdtmonth_213"></a>6. Series.dt.month的语法</h3> 
<p>【查看对象属性语法】</p> 
<p><code>对象名.属性名</code></p> 
<pre><code class="prism language-python">Series<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>month
</code></pre> 
<ul><li><code>Series</code>表示要操作的Series对象，是对象名。</li><li><code>dt</code>是Series对象的时间属性，是属性名。</li><li>该时间属性有 year（年）、month（月）、day（日）等多个值。</li><li><code>month</code>表示要提取的具体时间月份值，可以替换成year或day</li></ul> 
<h3><a id="7__229"></a>7. 返回值</h3> 
<p>Series对象中的数据必须为日期时间类型，否则会报错。</p> 
<p>Series.dt.month返回的是一个<code>新的Series对</code>象，不会修改原有的Series对象。</p> 
<h3><a id="8__235"></a>8. 实操练习</h3> 
<p>【目标任务】</p> 
<p>提供一个名为<code>销售表.csv</code>的表。</p> 
<p>任务1：查看其<code>日期</code>列的数据类型。</p> 
<p>任务2：将<code>日期</code>列的数据类型转换为日期类型。</p> 
<p>任务3：提取<code>日期</code>列数据的日值。</p> 
<p>【代码示例】</p> 
<pre><code class="prism language-python"><span class="token comment"># 导入pandas库并简写为pd</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># 文件的绝对路径</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token string">r"D:\安迪笔记\4.数据分析\17\销售表.csv"</span>

<span class="token comment"># 调用函数：库名.函数名()</span>
<span class="token comment"># pd是库名</span>
<span class="token comment"># read_excel是函数名</span>
<span class="token comment"># io参数=file，file是路径</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*****查看DataFrame每一列的数据类型*****"</span><span class="token punctuation">,</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*****查看日期列数据*****"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">"日期"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'\n'</span><span class="token punctuation">)</span>

<span class="token comment"># 将`日期`列的数据类型转换为日期类型</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">"日期"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">format</span> <span class="token operator">=</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*****提取日期数据中的日值*****"</span><span class="token punctuation">)</span>
day_data <span class="token operator">=</span> data<span class="token punctuation">.</span>dt<span class="token punctuation">.</span>day

<span class="token keyword">print</span><span class="token punctuation">(</span>day_data<span class="token punctuation">)</span>
</code></pre> 
<p>【终端输出】</p> 
<pre><code>*****查看DataFrame每一列的数据类型*****
&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 14 entries, 0 to 13
Data columns (total 6 columns):
 #   Column  Non-Null Count  Dtype 
---  ------  --------------  ----- 
 0   订单编号    14 non-null     object
 1   日期      14 non-null     object
 2   省       14 non-null     object
 3   订单量     14 non-null     int64 
 4   单价      14 non-null     int64 
 5   销售额     14 non-null     int64 
dtypes: int64(3), object(3)
memory usage: 800.0+ bytes


*****查看日期列数据*****
0      2020-1-1
1      2020-1-2
2      2020-1-3
3      2020-1-4
4      2020-1-5
5      2020-1-6
6      2020-1-7
7      2020-1-8
8      2020-1-9
9     2020-1-10
10    2020-1-11
11    2020-1-12
12    2020-1-13
13    2020-1-14
Name: 日期, dtype: object 

*****提取日期数据中的日值*****
0      1
1      2
2      3
3      4
4      5
5      6
6      7
7      8
8      9
9     10
10    11
11    12
12    13
13    14
Name: 日期, dtype: int64
</code></pre> 
<h3><a id="9__331"></a>9. 总结</h3> 
<p><img src="https://images2.imgbox.com/aa/57/B5UkYTX1_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26d7b5927c87d07335d0535230ee4038/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">永磁同步电机矢量控制——电流环转速环 PI 参数整定</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4ea4d4b110c216ab4b7399f9aea55700/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">科研学习|科研软件——SPSS统计的单因素方差分析与单变量方差分析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>