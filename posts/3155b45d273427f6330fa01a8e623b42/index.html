<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LINUX开启ssh服务，报错：ssh: connect to host 192.168.0.101 port 22: Connection refused - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LINUX开启ssh服务，报错：ssh: connect to host 192.168.0.101 port 22: Connection refused" />
<meta property="og:description" content=" Ubuntu下测试ssh时使用ssh localhost 命令，出现错误提示connect to host localhost port 22:Connection refused
造成这个错误的原因可能是ssh-server未安装或者未启动。
提示：ubuntu 11.10 默认安装openssh-client，但是没有安装server（其他博主说的，未验证）；博主的Ubuntu是16.10，测试发现 openssh-client 和 openssh-server 均没有安装
运行 ps -e | grep ssh，查看是否有sshd进程
如果没有，说明server没启动，通过 /etc/init.d/ssh -start 启动server进程
如果提示ssh不存在 那么就是没安装server，通过 sudo apt-get install openssh-server命令安装即可。如果没有报错，说明安装成功，在此博主恭喜你，不像博主一直报错。
如果安装过程中报错（不要伤心，博主和你一样哦），缺少依赖包，如下图所示：
分析问题出现原因：openssh-server所依赖的openssh-client版本不存在，openssh-client没有安装或者安装的版本不匹配
解决方法：安装提示的openssh-client版本
比如我的只需要执行如下命令：sudo apt-get install openssh-client=1:7.2p2-4ubuntu2.10，安装openssh-client时，会询问你是否继续，输入 y ，按回车即可
openssh-client安装成功！
提示：此处应该使用管理员权限（sudo），否则会报错（13: Permission denied），如下图所示：
回过头来继续安装openssh-server
openssh-server安装成功！
再次使用ssh localhost 命令，发现能够正常连接
如果对您有帮助，赏口饭吃❤谢谢老板❤ " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3155b45d273427f6330fa01a8e623b42/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-03T10:18:31+08:00" />
<meta property="article:modified_time" content="2021-04-03T10:18:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LINUX开启ssh服务，报错：ssh: connect to host 192.168.0.101 port 22: Connection refused</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>Ubuntu下测试ssh时使用ssh localhost 命令，出现错误提示connect to host localhost port 22:Connection refused</p> 
<p><img alt="" height="125" src="https://images2.imgbox.com/57/13/8BZ6HZo3_o.png" width="1023"></p> 
<p>造成这个错误的原因可能是ssh-server未安装或者未启动。</p> 
<blockquote> 
 <p>提示：ubuntu 11.10 默认安装openssh-client，但是没有安装server（其他博主说的，未验证）；博主的Ubuntu是16.10，测试发现 openssh-client 和 openssh-server 均没有安装</p> 
</blockquote> 
<p>运行 ps -e | grep ssh，查看是否有sshd进程</p> 
<p><img alt="" height="73" src="https://images2.imgbox.com/09/f1/93WxVAa1_o.png" width="459"></p> 
<p>如果没有，说明server没启动，通过 /etc/init.d/ssh -start 启动server进程</p> 
<p><img alt="" height="59" src="https://images2.imgbox.com/12/f8/ueqvXfos_o.png" width="653"></p> 
<p>如果提示ssh不存在 那么就是没安装server，通过 sudo apt-get install openssh-server命令安装即可。如果没有报错，说明安装成功，在此博主恭喜你，不像博主一直报错。</p> 
<p>如果安装过程中报错（不要伤心，博主和你一样哦），缺少依赖包，如下图所示：</p> 
<p><img alt="" height="429" src="https://images2.imgbox.com/54/62/FktxS4NS_o.png" width="1075"></p> 
<blockquote> 
 <p>分析问题出现原因：openssh-server所依赖的openssh-client版本不存在，openssh-client没有安装或者安装的版本不匹配</p> 
 <p>解决方法：安装提示的openssh-client版本</p> 
</blockquote> 
<p>比如我的只需要执行如下命令：sudo apt-get install openssh-client=1:7.2p2-4ubuntu2.10，安装openssh-client时，会询问你是否继续，输入 y ，按回车即可</p> 
<p><img alt="" height="307" src="https://images2.imgbox.com/8a/af/8lVM9s6u_o.png" width="1054"></p> 
<p><img alt="" height="81" src="https://images2.imgbox.com/07/98/1hkcyCUo_o.png" width="809"></p> 
<p>openssh-client安装成功！</p> 
<blockquote> 
 <p>提示：此处应该使用管理员权限（sudo），否则会报错（13: Permission denied），如下图所示：</p> 
 <p><img alt="" height="78" src="https://images2.imgbox.com/ff/ed/ZMhj5biw_o.png" width="1046"></p> 
</blockquote> 
<p>回过头来继续安装openssh-server</p> 
<p><img alt="" height="356" src="https://images2.imgbox.com/2d/d1/pbMG50zO_o.png" width="927"></p> 
<p><img alt="" height="134" src="https://images2.imgbox.com/87/57/fSUiepyg_o.png" width="1076"></p> 
<p>openssh-server安装成功！</p> 
<p>再次使用ssh localhost 命令，发现能够正常连接</p> 
<p><img alt="" height="672" src="https://images2.imgbox.com/5f/36/sq6BJqqp_o.png" width="1200"></p> 
<hr> 
<p>如果对您有帮助，赏口饭吃❤谢谢老板❤ </p> 
<table align="left" border="0" cellpadding="1" cellspacing="1" style="width:600px;"><tbody><tr><td style="width:296px;"> <p><img alt="" height="500" src="https://images2.imgbox.com/53/22/KxOA5RXV_o.png" width="364"></p> </td><td style="width:255px;"> <p><img alt="" height="500" src="https://images2.imgbox.com/09/04/5gpCvYHy_o.png" width="321"></p> </td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7d286394cbfbc1fea2c7c6d495522041/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">oracle中的 命令是什么,Oracle中SQL里面的Help命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9876eb8dec8da8ebf05f13b1572c463a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oracle 按照字段分裂,Oracle中按指定字符拆分字段</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>