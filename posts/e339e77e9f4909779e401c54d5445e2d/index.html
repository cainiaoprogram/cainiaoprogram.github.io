<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>本地存储localStorage用法详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="本地存储localStorage用法详解" />
<meta property="og:description" content="一、什么是localStorage？
在HTML5中，新加入了一个localStorage特性，这个特性主要是用来作为本地存储来使用的，解决了cookie存储空间不足的问题(cookie中每条cookie的存储空间为4k)，localStorage中一般浏览器支持的是5M大小，这个在不同的浏览器中localStorage会有所不同。
二、localStorage的优势与局限
localStorage的优势
1、localStorage拓展了cookie的4K限制
2、localStorage会可以将第一次请求的数据直接存储到本地，这个相当于一个5M大小的针对于前端页面的数据库，相比于cookie可以节约带宽，但是这个却是只有在高版本的浏览器中才支持的
localStorage的局限
1、浏览器的大小不统一，并且在IE8以上的IE版本才支持localStorage这个属性
2、目前所有的浏览器中都会把localStorage的值类型限定为string类型，这个在对我们日常比较常见的JSON对象类型需要一些转换
3、localStorage在浏览器的隐私模式下面是不可读取的
4、localStorage本质上是对字符串的读取，如果存储内容多的话会消耗内存空间，会导致页面变卡
5、localStorage不能被爬虫抓取到
localStorage与sessionStorage的唯一一点区别就是localStorage属于永久性存储，而sessionStorage属于当会话结束的时候，sessionStorage中的键值对会被清空。
三、localStorage的使用
清空localStorage
localStorage.clear() // undefined localStorage //Storage {length: 0} 存储数据 存储数据
localStorage.setItem(&#34;name&#34;,&#34;caibin&#34;) //存储名字为name值为caibin的变量 localStorage.name = &#34;caibin&#34;; // 等价于上面的命令 localStorage // Storage{name: &#34;caibin&#34;, length: 1} 读取数据 读取数据
localStorage.getItem(&#34;name&#34;) //caibin,读取保存在localStorage对象里名为name的变量的值 localStorage.name // &#34;caibin&#34; localStorage.valueOf() //读取存储在localStorage上的所有数据 localStorage.key(0) // 读取第一条数据的变量名(键值) //遍历并输出localStorage里存储的名字和值 for(var i=0; i&lt;localStorage.length;i&#43;&#43;){ console.log(&#39;localStorage里存储的第&#39;&#43;i&#43;&#39;条数据的名字为：&#39;&#43;localStorage.key(i)&#43;&#39;,值为：&#39;&#43;localStorage.getItem(localStorage.key(i))); } 删除某个变量
localStorage.removeItem(&#34;name&#34;); //undefined localStorage // Storage {length: 0} 可以看到之前保存的name变量已经从localStorage里删除了 检查localStorage里是否保存某个变量
// 这些数据都是测试的，是在我当下环境里的，只是demo哦～ localStorage.hasOwnProperty(&#39;name&#39;) // true localStorage." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e339e77e9f4909779e401c54d5445e2d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-15T19:15:00+08:00" />
<meta property="article:modified_time" content="2018-03-15T19:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">本地存储localStorage用法详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p><strong>一、什么是localStorage？</strong></p> 
 <p>在HTML5中，新加入了一个localStorage特性，这个特性主要是用来作为本地存储来使用的，解决了cookie存储空间不足的问题(cookie中每条cookie的存储空间为4k)，localStorage中一般浏览器支持的是5M大小，这个在不同的浏览器中localStorage会有所不同。</p> 
 <p><strong>二、localStorage的优势与局限</strong></p> 
 <p><strong>localStorage的优势</strong></p> 
 <p>1、localStorage拓展了cookie的4K限制</p> 
 <p>2、localStorage会可以将第一次请求的数据直接存储到本地，这个相当于一个5M大小的针对于前端页面的数据库，相比于cookie可以节约带宽，但是这个却是只有在高版本的浏览器中才支持的</p> 
 <p><strong>localStorage的局限</strong></p> 
 <p>1、浏览器的大小不统一，并且在IE8以上的IE版本才支持localStorage这个属性</p> 
 <p>2、目前所有的浏览器中都会把localStorage的值类型限定为string类型，这个在对我们日常比较常见的JSON对象类型需要一些转换</p> 
 <p>3、localStorage在浏览器的隐私模式下面是不可读取的</p> 
 <p>4、localStorage本质上是对字符串的读取，如果存储内容多的话会消耗内存空间，会导致页面变卡</p> 
 <p>5、localStorage不能被爬虫抓取到</p> 
 <p>localStorage与sessionStorage的唯一一点区别就是localStorage属于永久性存储，而sessionStorage属于当会话结束的时候，sessionStorage中的键值对会被清空。</p> 
 <p><strong>三、localStorage的使用</strong></p> 
 <p>清空localStorage</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">localStorage.clear()  // undefined   
localStorage      //Storage {length: 0} 存储数据
</code></pre> 
 </div> 
 <p>存储数据</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">localStorage.setItem("name","caibin") //存储名字为name值为caibin的变量
localStorage.name = "caibin"; // 等价于上面的命令 
localStorage // Storage{name: "caibin", length: 1} 读取数据
</code></pre> 
 </div> 
 <p>读取数据</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">localStorage.getItem("name") //caibin,读取保存在localStorage对象里名为name的变量的值
localStorage.name // "caibin"
localStorage.valueOf() //读取存储在localStorage上的所有数据
localStorage.key(0) // 读取第一条数据的变量名(键值)
//遍历并输出localStorage里存储的名字和值
for(var i=0; i&lt;localStorage.length;i++){
  console.log('localStorage里存储的第'+i+'条数据的名字为：'+localStorage.key(i)+',值为：'+localStorage.getItem(localStorage.key(i)));
}
</code></pre> 
 </div> 
 <p>删除某个变量</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">localStorage.removeItem("name"); //undefined
localStorage // Storage {length: 0} 可以看到之前保存的name变量已经从localStorage里删除了
</code></pre> 
 </div> 
 <p>检查localStorage里是否保存某个变量</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript"> 
// 这些数据都是测试的，是在我当下环境里的，只是demo哦～
localStorage.hasOwnProperty('name') // true
localStorage.hasOwnProperty('sex') // false
 
</code></pre> 
 </div> 
 <p>将数组转为本地字符串</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">var arr = ['aa','bb','cc']; // ["aa","bb","cc"]
localStorage.arr = arr //["aa","bb","cc"]
localStorage.arr.toLocaleString(); // "aa,bb,cc"
</code></pre> 
 </div> 
 <p>将JSON存储到localStorage里</p> 
 <div class="cnblogs_Highlighter"> 
  <pre><code class="language-javascript">var students = {
  xiaomin: {
    name: "xiaoming",
    grade: 1
  },
  teemo: {
    name: "teemo",
    grade: 3
  }
}
 
students = JSON.stringify(students); //将JSON转为字符串存到变量里
console.log(students);
localStorage.setItem("students",students);//将变量存到localStorage里
 
var newStudents = localStorage.getItem("students");
newStudents = JSON.parse(students); //转为JSON
console.log(newStudents); // 打印出原先对象
</code></pre> 
 </div> 
 <p>　　</p> 
 <p>　</p> 
 <p> </p> 
</div> 
<p>转载于:https://www.cnblogs.com/ourLifes/p/localStorage.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3d21bcaa8aee5c84af158665c8020f87/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解读Google官方SwipeRefreshLayout控件源码，带你揭秘Android下拉刷新的实现原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3246327e762a3eaf6300c569f49c4c48/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">商业模式画布</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>