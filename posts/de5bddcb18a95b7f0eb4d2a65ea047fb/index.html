<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Jetson Nano的配置&#43;opencv&#43;torch&#43;torchvision（新版） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Jetson Nano的配置&#43;opencv&#43;torch&#43;torchvision（新版）" />
<meta property="og:description" content="由于原版有特别特别多问题，我就懒得再去改了，直接出一个新篇
一．烧录 每一个jetson nano用的时候都需要配备一个SD卡用来盛装系统和数据，其中的系统就需要用我们自己的电脑和读卡器进行烧录。
系统前去英伟达下载，链接：Jetson Download Center | NVIDIA Developerhttps://developer.nvidia.com/embedded/downloads
我用的系统名称：Jetson Nano Developer Kit SD Card Image 其他的系统可以根据自己的需求进行挑选
随后将下载的系统烧录到SD卡上（下载的压缩包不需要解压，保持下载原样就好）
烧录的软件为balenaEtcher
烧录完成后就可以插卡准备开机了
注：倘若SD卡原本就有旧系统，插上电脑后可能会跳出十几个甚至几十个磁盘并报错，无需慌张，全部关闭后前往前往磁盘管理进行格式化
参考链接：Jetson-NanoSD卡重新格式化 | 码农家园 (codenong.com)https://www.codenong.com/cs106946176/
建议使用方法1，但是注意别手滑输错磁盘，不然寄。
注：开机时尽量不要连接任何USB接口，否则可能一直报错无法开机，一般是卡在’A start job is running for end-user configureation after initial OEM installation‘
注：假如开机的时候一直卡在英伟达logo界面，就是SD卡读取的问题，关机之后用擦一下SD卡就好（金手指）
二．设置中文 语言在最初初始设置就会让你选择中文，但是并非完整版，完整的中文需要右上角设置——语言支持中下载，进入后提示有部分库未安装，静等安装即可。安装完毕后在原界面向下拉即可看到中文，将其拖到English上面，随后点击应用到所有。
下方还有添加或删除语言按钮，点击后根据中文是否选中进行修改。
（输入法设置）很多人使用ibus，好像确实好用，但是我没用，所以我也不好给出时间步骤，参考链接：Jetson Nano配置与使用（3）中文输入法ibus配置 - 简书 (jianshu.com)https://www.jianshu.com/p/c95167d7d6c3
我使用的是google输入法，倒也还可以，可以根据自己的喜好进行选择，参考链接：Jetson nano安装Google拼音输入法 | 码农家园 (codenong.com)https://www.codenong.com/cs106177082/
注：假如使用的时候不显示文本框，那么可以试试以下代码
killall fcitx-qimpanel sudo apt-get remove fcitx-ui-qimpanel 三．风扇 首先下载驱动，在命令台输入以下指令
git clone https://github.com/Pyrestone/jetson-fan-ctl.git 随后安装
sudo ./install.sh 根据自己的喜好进行参数调整（这边建议不做调整）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/de5bddcb18a95b7f0eb4d2a65ea047fb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-22T10:16:57+08:00" />
<meta property="article:modified_time" content="2023-07-22T10:16:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Jetson Nano的配置&#43;opencv&#43;torch&#43;torchvision（新版）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0;text-align:justify;">由于原版有特别特别多问题，我就懒得再去改了，直接出一个新篇</p> 
<h2 style="margin-left:0px;text-align:justify;">一．烧录</h2> 
<p style="margin-left:0;text-align:justify;">每一个jetson nano用的时候都需要配备一个SD卡用来盛装系统和数据，其中的系统就需要用我们自己的电脑和读卡器进行烧录。</p> 
<p style="margin-left:0;text-align:justify;">系统前去英伟达下载，链接：<a class="has-card" href="https://developer.nvidia.com/embedded/downloads" rel="nofollow" title="Jetson Download Center | NVIDIA Developer"><span class="link-card-box"><span class="link-title">Jetson Download Center | NVIDIA Developer</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/f5/87/WtGOkBf7_o.png">https://developer.nvidia.com/embedded/downloads</span></span></a></p> 
<p style="margin-left:0;text-align:justify;">我用的系统名称：Jetson Nano Developer Kit SD Card Image  </p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#333333;">其他的系统可以根据自己的需求进行挑选</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#333333;">随后将下载的系统烧录到</span></span><span style="background-color:#ffffff;"><span style="color:#333333;">SD</span></span><span style="background-color:#ffffff;"><span style="color:#333333;">卡上（下载的压缩包不需要解压，保持下载原样就好）</span></span></p> 
<p class="img-center"><img alt="" height="319" src="https://images2.imgbox.com/6f/46/dS2c9Qto_o.png" width="511"></p> 
<p><br><span style="background-color:#ffffff;"><span style="color:#333333;">烧录的软件为</span></span><a href="https://www.balena.io/etcher/" rel="nofollow" title="balenaEtcher">balenaEtcher</a></p> 
<p style="margin-left:0;text-align:justify;">烧录完成后就可以插卡准备开机了</p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注：倘若</span><span style="color:#ff0000;">SD</span><span style="color:#ff0000;">卡原本就有旧系统，插上电脑后可能会跳出十几个甚至几十个磁盘并报错，无需慌张，全部关闭后前往前往磁盘管理进行格式化</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">参考链接：</span><a class="has-card" href="https://www.codenong.com/cs106946176/" rel="nofollow" title="Jetson-NanoSD卡重新格式化 | 码农家园 (codenong.com)"><span class="link-card-box"><span class="link-title">Jetson-NanoSD卡重新格式化 | 码农家园 (codenong.com)</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/04/ae/thUCICv4_o.png">https://www.codenong.com/cs106946176/</span></span></a></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">建议使用方法</span><span style="color:#ff0000;">1</span><span style="color:#ff0000;">，但是注意别手滑输错磁盘，不然寄。</span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注：开机时尽量不要连接任何</span><span style="color:#ff0000;">USB</span><span style="color:#ff0000;">接口，否则可能一直报错无法开机，一般是卡在</span><span style="background-color:#eef0f4;"><span style="color:#555666;">’A start job is running for end-user configureation after initial OEM installation‘</span></span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注：假如开机的时候一直卡在英伟达</span><span style="color:#ff0000;">logo</span><span style="color:#ff0000;">界面，就是</span><span style="color:#ff0000;">SD</span><span style="color:#ff0000;">卡读取的问题，关机之后用擦一下</span><span style="color:#ff0000;">SD</span><span style="color:#ff0000;">卡就好（金手指）</span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">二．设置中文</h2> 
<p style="margin-left:0;text-align:justify;">语言在最初初始设置就会让你选择中文，但是并非完整版，完整的中文需要右上角设置——语言支持中下载，进入后<span style="background-color:#ffffff;"><span style="color:#4d4d4d;">提示有部分库未安装，静等安装即可。安装完毕后在原界面向下拉即可看到中文，将其拖到</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">English</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">上面，随后点击应用到所有。</span></span></p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">下方还有添加或删除语言按钮，点击后根据中文是否选中进行修改。</span></span></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">（输入法设置）很多人使用</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">ibus</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">，好像确实好用，但是我没用，所以我也不好给出时间步骤，参考链接：</span></span></strong><a class="has-card" href="https://www.jianshu.com/p/c95167d7d6c3" rel="nofollow" title="Jetson Nano配置与使用（3）中文输入法ibus配置 - 简书 (jianshu.com)"><span class="link-card-box"><span class="link-title">Jetson Nano配置与使用（3）中文输入法ibus配置 - 简书 (jianshu.com)</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/d0/4c/YT6OYEam_o.png">https://www.jianshu.com/p/c95167d7d6c3</span></span></a></p> 
<p style="margin-left:0;text-align:justify;"><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">我使用的是</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">google</span></span></strong><strong><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">输入法，倒也还可以，可以根据自己的喜好进行选择，参考链接：</span></span></strong><a class="has-card" href="https://www.codenong.com/cs106177082/" rel="nofollow" title="Jetson nano安装Google拼音输入法 | 码农家园 (codenong.com)"><span class="link-card-box"><span class="link-title">Jetson nano安装Google拼音输入法 | 码农家园 (codenong.com)</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/13/c3/7Z3D2Dkq_o.png">https://www.codenong.com/cs106177082/</span></span></a></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注：假如使用的时候不显示文本框，那么可以试试以下代码</span></p> 
<pre><code class="language-bash">killall fcitx-qimpanel

sudo apt-get remove fcitx-ui-qimpanel</code></pre> 
<h2 style="margin-left:0px;text-align:justify;">三．风扇</h2> 
<p style="margin-left:0;text-align:justify;">首先下载驱动，在命令台输入以下指令</p> 
<pre><code class="language-bash">git clone https://github.com/Pyrestone/jetson-fan-ctl.git</code></pre> 
<p style="margin-left:0;text-align:justify;">随后安装</p> 
<pre><code class="language-bash">sudo ./install.sh</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">根据自己的喜好进行参数调整（这边建议不做调整）</span></p> 
<pre><code class="language-bash">sudo gedit /etc/automagic-fan/config.json</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">其中</span></p> 
<pre><code class="language-bash">{

"FAN_OFF_TEMP":20,                     #风扇关闭温度

"FAN_MAX_TEMP":50,                   #风扇全速温度

"UPDATE_INTERVAL":2,           #转速更新间隔（秒）

"MAX_PERF":1                         #大于零时通过最大化CPU和GPU时钟最大化性能

}</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#000000;">最后应用配置</span></p> 
<pre><code class="language-bash">sudo service automagic-fan restart</code></pre> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">四．镜像</h2> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">之前推荐使用镜像，但是经过这么多天的重新配置，我还是建议，不要弄镜像了，因为镜像的东西不一定是</span><span style="color:#ff0000;">jetson</span><span style="color:#ff0000;">能用的，那就不如用官方的源了，以免出问题，假如速度慢或找不到源就用临时镜像。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">话虽然这么说，我还是把镜像教程放出来，有需要的可以用</span></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong><em>永久镜像</em></strong></h3> 
<p style="margin-left:0;text-align:justify;"><strong><em>备份</em></strong></p> 
<pre><code class="language-bash">sudo cp /etc/apt/sources.list /etc/apt/sources_save.list</code></pre> 
<p style="margin-left:0;text-align:justify;"><strong><em>继续打开</em></strong></p> 
<pre><code class="language-bash">sudo gedit /etc/apt/sources.list</code></pre> 
<p style="margin-left:0;text-align:justify;"><strong><em>选择下述两个其一即可，删除全部内容用其替换</em></strong></p> 
<pre><code class="language-bash"># 清华源

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe

deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe

deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic main multiverse restricted universe

deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-security main multiverse restricted universe

deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-updates main multiverse restricted universe

deb-src http://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ bionic-backports main multiverse restricted universe



# 中科大源

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates main restricted

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic universe

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates universe

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic multiverse

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-updates multiverse

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-backports main restricted universe multiverse

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security main restricted

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security universe

deb http://mirrors.ustc.edu.cn/ubuntu-ports/ bionic-security multiverse</code></pre> 
<p style="margin-left:0;text-align:justify;"><strong><em>更新修改（<span style="color:#808080;">可能会因为工作量太大关机，无需担心，重新拔线插线即可</span>）</em></strong></p> 
<pre><code class="language-bash">sudo apt-get update

sudo apt-get upgrade</code></pre> 
<h3 style="margin-left:0px;text-align:justify;"><strong><em>临时镜像</em></strong></h3> 
<p style="margin-left:0;text-align:justify;"><strong><em>这是豆瓣的镜像，要长一点</em></strong></p> 
<pre><code class="language-bash">pip install *** -i http://pypi.douban.com/simple/ --trusted-host pypi.douban.com</code></pre> 
<p style="margin-left:0;text-align:justify;">假如报错可以换一个镜像试试，把-i后面的东西全删掉</p> 
<p style="margin-left:0;text-align:justify;"><strong><em>这是其他的镜像</em></strong></p> 
<pre><code class="language-bash">pip install *** -i https://pypi.tuna.tsinghua.edu.cn/simple</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">常用的国内镜像</span></p> 
<pre><code class="language-bash">​
清华大学：https://pypi.tuna.tsinghua.edu.cn/simple

阿里云：http://mirrors.aliyun.com/pypi/simple/

中国科技大学 https://pypi.mirrors.ustc.edu.cn/simple/

豆瓣：http://pypi.douban.com/simple/</code></pre> 
<p style="margin-left:0;text-align:justify;"><strong><em>假如报错或者慢就可以试一试上述其他网址，就把清华网址删掉换一个就好</em></strong></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">五．文件权限</h2> 
<p style="margin-left:0;text-align:justify;"><strong><span style="color:#ff0000;">注：</span></strong><span style="color:#ff0000;">使用</span><span style="color:#ff0000;">git</span><span style="color:#ff0000;">或者其他命令台方式下载的文件可能上锁无法使用，这个时候就需要去锁，使用以下指令获得权限</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">1.</span><span style="color:#ff0000;">解锁当前路径下的单个文件</span></p> 
<pre><code class="language-bash">sudo chmod 777 filename</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">2.</span><span style="color:#ff0000;">解锁当前路径下的所有文件夹以及文件</span></p> 
<pre><code class="language-bash">sudo chmod -R 777 .</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">解锁文件肯定要到相应的文件夹中进行设置，这个过于基础，我就不多阐述了。</span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">六．CUDA配置</h2> 
<p style="margin-left:0;text-align:justify;">打开终端，输入命令</p> 
<pre><code class="language-bash">sudo gedit .bashrc</code></pre> 
<p style="margin-left:0;text-align:justify;">在文件最后输入以下内容</p> 
<pre><code class="language-bash">export PATH=/usr/local/cuda-10.2/bin${PATH:+:${PATH}}

export LD_LIBRARY_PATH=/usr/local/cuda-10.2/lib64${LD_LIBRARY_PATH:+:${LD_LIBRRY_PATH}}

export CUDA_ROOT=/usr/local/cuda</code></pre> 
<p style="margin-left:0;text-align:justify;">应用修改</p> 
<pre><code class="language-bash">source ~/.bashrc</code></pre> 
<p style="margin-left:0;text-align:justify;">检验修改是否成功</p> 
<pre><code class="language-bash">nvcc -V</code></pre> 
<p style="margin-left:0;text-align:justify;">若结果如下图，则成功</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="168" src="https://images2.imgbox.com/b3/b2/rakJ3xZr_o.png" width="701"></p> 
<p></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h2 style="margin-left:0px;text-align:justify;">七． conda</h2> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">本来还是想用</span><span style="color:#ff0000;">conda</span><span style="color:#ff0000;">，但是如果你的目标比较明确，那我的建议是，不用</span><span style="color:#ff0000;">conda</span><span style="color:#ff0000;">了，因为英伟达的一些官方文件都适配的默认的</span><span style="color:#ff0000;">3.6</span><span style="color:#ff0000;">版本，假如用</span><span style="color:#ff0000;">conda</span><span style="color:#ff0000;">反而会麻烦。但假如你只是自己摸索着玩，那还是搞个</span><span style="color:#ff0000;">conda</span><span style="color:#ff0000;">用一用吧，以下是教程。</span></p> 
<p style="margin-left:0;text-align:justify;">由于正常的anoconda或者miniconda都用不了，所以我们用miniforge。</p> 
<p style="margin-left:0;text-align:justify;">下载链接：<a class="has-card" href="https://github.com/conda-forge/miniforge" title="GitHub - conda-forge/miniforge: A conda-forge distribution."><span class="link-card-box"><span class="link-title">GitHub - conda-forge/miniforge: A conda-forge distribution.</span><span class="link-desc">A conda-forge distribution. Contribute to conda-forge/miniforge development by creating an account on GitHub.</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/7a/2c/nWbJlYkW_o.png">https://github.com/conda-forge/miniforge</span></span></a></p> 
<p style="margin-left:0;text-align:justify;">下载linux aarch64(arm64)版本</p> 
<p style="margin-left:0;text-align:justify;"><img alt="" height="474" src="https://images2.imgbox.com/6d/75/USRMMgjI_o.png" width="865"></p> 
<p style="margin-left:0;text-align:justify;">进入包含miniforge安装包的目录，右键打开终端后输入命令安装</p> 
<pre><code class="language-bash">bash Miniforge3-Linux-aarch64.sh -b</code></pre> 
<p style="margin-left:0;text-align:justify;">安装结束后按如下命令初始化conda ,初始化后重新打开终端。</p> 
<pre><code class="language-bash">~/miniforge3/bin/conda init</code></pre> 
<p style="margin-left:0;text-align:justify;">输入命令：conda -V查看版本：</p> 
<pre><code class="language-bash">conda</code></pre> 
<h2 style="margin-left:0px;text-align:justify;">八．Opencv</h2> 
<p style="margin-left:0;text-align:justify;">由于我需要用4.1.2但是直接pip或者conda总是失败，所以需要用直接下载包编译的方法，后来发现是因为opencv是x64的系统，但是jetsonnano或者树莓派都是arm64的，而x64能用x64或arm64，arm64不能用x64，所以要进行编译，这里就用4.1.2作为例子了。</p> 
<p style="margin-left:0;text-align:justify;">参考链接：<a class="has-card" href="https://blog.csdn.net/u012670181/article/details/103542860?spm=1001.2014.3001.5506" title="Ubuntu18.04下安装openCV4.1.2_apt-get opencv4_小海豚-zhao的博客-CSDN博客"><span class="link-card-box"><span class="link-title">Ubuntu18.04下安装openCV4.1.2_apt-get opencv4_小海豚-zhao的博客-CSDN博客</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/82/40/iFdXGWwK_o.png">https://blog.csdn.net/u012670181/article/details/103542860?spm=1001.2014.3001.5506</span></span></a></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注意：</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">在整个安装过程中，包括的使用中不要出现中文路径。</span></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>一、下载openCV4.1.2</strong></h3> 
<p style="margin-left:0;text-align:justify;">可以在官网进行下载https://opencv.org/releases/-&gt;选择Sources下载源码然后进行编译安装</p> 
<p style="margin-left:0;text-align:justify;">也可以在https://github.com/opencv/opencv/tree/4.1.2下载源码进行编译安装</p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>二、更新Ubuntu18.04apt</strong><strong>源为阿里源(</strong><strong>视个人情况而定，也可以不换，如果已更新或者其他源可以自己尝试)</strong><strong>。</strong></h3> 
<p style="margin-left:0;text-align:justify;">// 1.备份/etc/apt/sources.list</p> 
<pre><code class="language-bash">cp /etc/apt/sources.list /etc/apt/sources.list.bak</code></pre> 
<p style="margin-left:0;text-align:justify;">//2.打开/etc/apt/sources.list</p> 
<p style="margin-left:0;text-align:justify;"><span style="background-color:#ffff00;">sudo vim /etc/apt/sources.list</span></p> 
<p style="margin-left:0;text-align:justify;">// 3.删除文件内所有内容</p> 
<p style="margin-left:0;text-align:justify;">// 4.将一下内容复制进/etc/apt/sources.list文件中</p> 
<pre><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse

deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse

deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse

deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse

deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse

deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse

deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse  </code></pre> 
<p style="margin-left:0;text-align:justify;">// 5.更新源</p> 
<pre><code class="language-bash">sudo apt-get update

sudo apt-get upgrade</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">注：若无法安装</span><span style="color:#ff0000;">libjasper-dev</span><span style="color:#ff0000;">的解决方案</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">// 1.</span><span style="color:#ff0000;">检测是否有问题</span></p> 
<pre><code class="language-bash">apt-get install libjasper-dev</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">如果有报错信息：</span><span style="color:#ff0000;">errorE: unable to locate libjasper-dev</span><span style="color:#ff0000;">则继续解决一下问题，没有则可跳过第三步。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">// 2.</span><span style="color:#ff0000;">解决方案</span></p> 
<pre><code class="language-bash">sudo add-apt-repository "deb http://security.ubuntu.com/ubuntu xenial-security main"

sudo apt update

sudo apt install libjasper1 libjasper-dev</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">添加一个源来重新安装，其中，</span><span style="color:#ff0000;">libjasper1</span><span style="color:#ff0000;">是新的依赖项。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">但是上述命令会可能产生新的问题。无法找到</span><span style="color:#ff0000;">add-apt-repository</span><span style="color:#ff0000;">问题</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">// 3.</span><span style="color:#ff0000;">解决</span><span style="color:#ff0000;">add-apt-repository</span><span style="color:#ff0000;">问题</span></p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>三、添加openCV</strong><strong>安装的相关准备</strong></h3> 
<p style="margin-left:0;text-align:justify;">//1.安装cmake(如果已经安装过可以忽略)</p> 
<pre><code class="language-bash">sudo apt-get install cmake</code></pre> 
<p style="margin-left:0;text-align:justify;">// 2.安装openCV相关依赖（如果刚才第三步失败或者跳过的话可能 libjasper-dev 会报错）</p> 
<pre><code class="language-bash">sudo apt-get install build-essential libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff-dev libjasper-dev libdc1394-22-dev</code></pre> 
<p style="margin-left:0;text-align:justify;">事实上，OpenCV的依赖项众多，在cmake阶段检查依赖项是否安装，调整自己的功能。因此，可根据项目需要调整安装依赖项。</p> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>四、安装openCV</strong></h3> 
<p style="margin-left:0;text-align:justify;">//1.解压缩</p> 
<p style="margin-left:0;text-align:justify;">// 2.打开终端并切换至主目录下的openCV-4.1.2</p> 
<pre><code class="language-bash">cd /home/DepZcb/openCV-4.1.2</code></pre> 
<p style="margin-left:0;text-align:justify;">// 3.在openCV-4.1.2下创建一个名为build目录，并切换到这个目录下</p> 
<pre><code class="language-bash">mkdir build

cd ./build</code></pre> 
<p style="margin-left:0;text-align:justify;">// 4.执行cmake，生成makefile文件</p> 
<pre><code class="language-bash">cmake -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=ON -D CMAKE_INSTALL_PREFIX=/usr/local ..</code></pre> 
<p style="margin-left:0;text-align:justify;">// 5.执行makefile文件</p> 
<pre><code class="language-bash">sudo make -j[N]</code></pre> 
<p style="margin-left:0;text-align:justify;">说明:-j[n]我的电脑是四核四线程，可以运行make -j4，如果是八核可用make -j8。如果不想编译时影响工作，可以用-j3。建议虚拟机的同学就直接运行sudo make就行.</p> 
<p style="margin-left:0;text-align:justify;">这一步事件很长，请耐心等待。</p> 
<p style="margin-left:0;text-align:justify;">// 6.进行make install安装</p> 
<pre><code class="language-bash">sudo make install</code></pre> 
<p style="margin-left:0;text-align:justify;"></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>五、python</strong><strong>环境的配置</strong></h3> 
<p style="margin-left:0;text-align:justify;">// 1.安装python和numpy　</p> 
<pre><code class="language-bash">sudo apt-get install python-dev python-numpy python3-dev python3-numpy</code></pre> 
<p style="margin-left:0;text-align:justify;">#如果已经安装过，则该步骤省略</p> 
<p style="margin-left:0;text-align:justify;">// 2.验证</p> 
<pre><code class="language-bash">python3

import cv2

print(cv2.__version__)

若输出'4.1.2'则没问题了</code></pre> 
<h3 style="margin-left:0px;text-align:justify;"><span style="color:#ff0000;">注：卸载</span><span style="color:#ff0000;">openCV</span></h3> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">如果安装出现了百度不能解决的问题。最好的办法就是卸载重新装一次</span><span style="color:#ff0000;">(</span><span style="color:#ff0000;">第一次安装时前前后后卸载了四五次</span><span style="color:#ff0000;">)</span><span style="color:#ff0000;">。</span></p> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">// 1. </span><span style="color:#ff0000;">删除</span><span style="color:#ff0000;">openCV4.conf</span></p> 
<pre><code class="language-bash">cd /etc/ld.so.conf.d/

sudo rm opencv4.conf</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">// 2.</span><span style="color:#ff0000;">卸载</span></p> 
<pre><code class="language-bash">cd

cd ./OpenCV-4.1.1/build

sudo make uninstall</code></pre> 
<h2 style="margin-left:0px;text-align:justify;"></h2> 
<h2 style="margin-left:0px;text-align:justify;">九．Torch</h2> 
<p style="margin-left:0;text-align:justify;">Torch和opencv出现故障的原因是一样的，都是系统不同所以需要编译，所以torch官方是找不到能用的文件的，以下以1.6.0为例子。（ps:这就是不推荐用虚拟环境的原因，一般要求的python版本为3.6）</p> 
<p style="margin-left:0;text-align:justify;">参考链接：<a class="has-card" href="https://blog.csdn.net/weixin_45463952/article/details/125857709?spm=1001.2014.3001.5506" title="JetsonNano学习（五）JetsonNano 安装 PyTorch 及 Torchvision_jetson nano安装pytorch_AndrewWuY的博客-CSDN博客"><span class="link-card-box"><span class="link-title">JetsonNano学习（五）JetsonNano 安装 PyTorch 及 Torchvision_jetson nano安装pytorch_AndrewWuY的博客-CSDN博客</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/7c/fc/4FZsULiB_o.png">https://blog.csdn.net/weixin_45463952/article/details/125857709?spm=1001.2014.3001.5506</span></span></a></p> 
<p style="margin-left:0;text-align:justify;">NVIDIA官方下载链接：</p> 
<p style="margin-left:0;text-align:justify;"><a class="has-card" href="https://forums.developer.nvidia.com/t/pytorch-for-jetson/72048" rel="nofollow" title="PyTorch for Jetson - Jetson &amp; Embedded Systems / Jetson Nano - NVIDIA Developer Forums"><span class="link-card-box"><span class="link-title">PyTorch for Jetson - Jetson &amp; Embedded Systems / Jetson Nano - NVIDIA Developer Forums</span><span class="link-link"><img alt="" class="link-link-icon" src="https://images2.imgbox.com/0a/44/Hv8SDj0L_o.png">https://forums.developer.nvidia.com/t/pytorch-for-jetson/72048</span></span></a></p> 
<h3 style="margin-left:0px;text-align:justify;"><strong>一、安装PyTorch</strong></h3> 
<h4 style="margin-left:0px;text-align:justify;"><strong>1. </strong><strong>安装文件下载</strong> </h4> 
<p><img alt="" height="516" src="https://images2.imgbox.com/b2/46/d3aqUevI_o.png" width="690"></p> 
<p><br> 在NVIDIA官网下载 Python 3.6 - torch-version-cp36-cp36m-linux_aarch64.whl 文件到本地。（点开pytorch v1.6.0，也可根据自己的需求选择）</p> 
<h4 style="margin-left:0px;text-align:justify;"><strong>2.</strong><strong>安装必要环境</strong></h4> 
<p style="margin-left:0;text-align:justify;">在终端命令中输入命令完成相关库的安装：</p> 
<pre><code class="language-bash">sudo apt-get install python3-pip libopenblas-base libopenmpi-dev libomp-dev

pip3 install Cython</code></pre> 
<p style="margin-left:0;text-align:justify;">进入whl文件所在文件夹</p> 
<pre><code class="language-bash">cd ******（填你的文件所在的文件夹路径）

pip3 install numpy torch-version-cp36-cp36m-linux_aarch64.whl       #等待安装完成</code></pre> 
<p style="margin-left:0;text-align:justify;"><span style="color:#ff0000;">这里是一些依赖环境，可以都跑一次下一下保证没缺啥</span></p> 
<pre><code class="language-bash">sudo apt-get install build-essential make cmake cmake-curses-gui -y

sudo apt-get install git g++ pkg-config curl -y

sudo apt-get install libatlas-base-dev gfortran libcanberra-gtk-module libcanberra-gtk3-module -y

sudo apt-get install libhdf5-serial-dev hdf5-tools -y

sudo apt-get install nano locate screen -y

sudo apt-get install libfreetype6-dev -y

sudo apt-get install protobuf-compiler libprotobuf-dev openssl -y

sudo apt-get install libssl-dev libcurl4-openssl-dev -y

sudo apt-get install cython3 -y

sudo apt-get install build-essential -y

sudo apt-get install cmake git libgtk2.0-dev pkg-config libavcodec-dev libavformat-dev libswscale-dev -y

sudo apt-get install python-dev python-numpy libtbb2 libtbb-dev libjpeg-dev libpng-dev libtiff5-dev libdc1394-22-dev -y

sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev liblapacke-dev -y

sudo apt-get install libxvidcore-dev libx264-dev -y

sudo apt-get install libatlas-base-dev gfortran -y

sudo apt-get install ffmpeg -y</code></pre> 
<h3 style="margin-left:0px;text-align:justify;"><strong>二．安装torchvision</strong></h3> 
<p><strong>Torchvision</strong><strong>和torch</strong><strong>要版本对应，如果你用的1.6.0</strong><strong>的torch</strong><strong>，那么torchvision</strong><strong>就是0.7.0,</strong><strong>以下是对应表</strong></p> 
<p><img alt="" height="300" src="https://images2.imgbox.com/5c/f4/mwGEi63T_o.png" width="602"></p> 
<pre><code class="language-bash">sudo apt-get install libjpeg-dev zlib1g-dev libpython3-dev libopenblas-dev libavcodec-dev libavformat-dev libswscale-dev

git clone --branch （删点本括号换成你的torchvision的版本号，如v1.6.0） https://github.com/pytorch/vision torchvision

cd torchvision

export BUILD_VERSION=0.x.0  # 其中0.x.0还是你的版本

python3 setup.py install --user

cd ../ </code></pre> 
<p style="margin-left:0;text-align:justify;">易出现问题的主要就只有这些了，到这里后面再出现问题也好解决了，直接百度一般就都没什么问题了，按部就班来，问题不大的</p> 
<p style="margin-left:0;text-align:justify;">假如出了问题注意尽量要带上jetsonnano，不然百度给出的解决方案可能和jetson的系统不一样导致越改越乱。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/26c27f5d9b7769713a31a4c9d6c43219/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">网络精通-GRE-VPN（虚拟专用网）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ef197ec821c287a693905786edb2a4a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">并发给数据库带来的问题及解决方案</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>