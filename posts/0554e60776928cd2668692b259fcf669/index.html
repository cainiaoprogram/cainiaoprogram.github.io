<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于普中科技51单片机开发板心形灯设计 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于普中科技51单片机开发板心形灯设计" />
<meta property="og:description" content="#include&#34;reg52.h&#34; #include&#34;Delay.h&#34; #include&#34;intrins.h&#34; #define u8 unsigned char #define u16 unsigned int #define LED_ONE_PORT	P0 #define LED_TWO_PORT	P1 #define LED_THR_PORT	P2 #define LED_FOU_PORT	P3 void all_light(void);//LED灯全亮 void Ni_onebyeone_light(void);//逆时针逐个检测亮灭 void Shun_onebyeone_light(void);//顺时针逐个检测亮灭 void Ni_onebyeone_all_light(void);//逆时针，逐个全部点亮 void Shun_onebyeone_all_light(void);//顺时针，逐个全部点亮 void Ni_onebyeone_extinguish(void);//逆时针，逐个熄灭 void Shun_onebyeone_extinguish(void);//顺时针，逐个熄灭 void left_light_all_light(void);//左(顺时针)右(逆时针)同时由下至上，依次逐个亮起 void Shun_one_four_all_light(void);//每一组端口，均顺时针/逆时针亮灭 void half_all_light(void);//左右各一半亮灭延时1s	void main() { while(1) { all_light(); Ni_onebyeone_light(); Shun_onebyeone_all_light(); Ni_onebyeone_extinguish(); Shun_onebyeone_light(); Ni_onebyeone_all_light(); Shun_onebyeone_extinguish(); left_light_all_light(); Shun_one_four_all_light(); half_all_light(); }	} //LED流水灯动画1：全亮3s后熄灭：检测LED灯是否均有效 void all_light(void) { LED_ONE_PORT=0x00;//P0.7-P0.0 LED_TWO_PORT=0x00;//P1.7-P1.0 LED_THR_PORT=0x00;//P2.7-P2.0 LED_FOU_PORT=0x00;//P3.7-P3.0 delay_ms(1500);//亮2s LED_ONE_PORT=0xff; LED_TWO_PORT=0xff; LED_THR_PORT=0xff; LED_FOU_PORT=0xff; delay_ms(1500);//不亮2s } //LED流水灯动画2：逐个点亮一遍(逆时针) void Ni_onebyeone_light(void) { u8 i,ii,iii,iiii;//定义循环变量 LED_ONE_PORT=0xfe;//1111 1110----P0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0554e60776928cd2668692b259fcf669/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-02T22:13:31+08:00" />
<meta property="article:modified_time" content="2022-07-02T22:13:31+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于普中科技51单片机开发板心形灯设计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre><code>#include"reg52.h"
#include"Delay.h"
#include"intrins.h"

#define u8 unsigned char
#define u16 unsigned int

#define LED_ONE_PORT	P0
#define LED_TWO_PORT	P1
#define LED_THR_PORT	P2
#define LED_FOU_PORT	P3


void all_light(void);//LED灯全亮
void Ni_onebyeone_light(void);//逆时针逐个检测亮灭
void Shun_onebyeone_light(void);//顺时针逐个检测亮灭
void Ni_onebyeone_all_light(void);//逆时针，逐个全部点亮
void Shun_onebyeone_all_light(void);//顺时针，逐个全部点亮
void Ni_onebyeone_extinguish(void);//逆时针，逐个熄灭
void Shun_onebyeone_extinguish(void);//顺时针，逐个熄灭
void left_light_all_light(void);//左(顺时针)右(逆时针)同时由下至上，依次逐个亮起
void Shun_one_four_all_light(void);//每一组端口，均顺时针/逆时针亮灭
void half_all_light(void);//左右各一半亮灭延时1s	

void main()
{
	while(1)
  {
		all_light();
		Ni_onebyeone_light();
		Shun_onebyeone_all_light();
		Ni_onebyeone_extinguish();
		Shun_onebyeone_light();
		Ni_onebyeone_all_light();
		Shun_onebyeone_extinguish();
		left_light_all_light();
		Shun_one_four_all_light();
		half_all_light();
  }	
} 
//LED流水灯动画1：全亮3s后熄灭：检测LED灯是否均有效
void all_light(void)
{
	LED_ONE_PORT=0x00;//P0.7-P0.0
	LED_TWO_PORT=0x00;//P1.7-P1.0
	LED_THR_PORT=0x00;//P2.7-P2.0
	LED_FOU_PORT=0x00;//P3.7-P3.0
	delay_ms(1500);//亮2s
	LED_ONE_PORT=0xff;
	LED_TWO_PORT=0xff;
	LED_THR_PORT=0xff;
	LED_FOU_PORT=0xff;
	delay_ms(1500);//不亮2s
}
//LED流水灯动画2：逐个点亮一遍(逆时针)
void Ni_onebyeone_light(void)
{
	u8 i,ii,iii,iiii;//定义循环变量
	LED_ONE_PORT=0xfe;//1111 1110----P0.7-P0.0
	delay_ms(100);
	for(i=0;i&lt;7;i++)
	{
		LED_ONE_PORT=_crol_(LED_ONE_PORT,1);
		delay_ms(100);
	}
	LED_ONE_PORT=0xff;
	
	LED_TWO_PORT=0xfe;//1111 1110----P1.7-P1.0
	delay_ms(100);
	for(ii=0;ii&lt;7;ii++)
	{
		LED_TWO_PORT=_crol_(LED_TWO_PORT,1);
		delay_ms(100);
	}
	LED_TWO_PORT=0xff;
	
	LED_THR_PORT=0xfe;//1111 1110----P2.7-P2.0
	delay_ms(100);
	for(iii=0;iii&lt;7;iii++)
	{
		LED_THR_PORT=_crol_(LED_THR_PORT,1);
		delay_ms(100);
	}
	LED_THR_PORT=0xff;
	
	LED_FOU_PORT=0xfe;//1111 1110----P3.7-P3.0	
	delay_ms(100);
	for(iiii=0;iiii&lt;7;iiii++)
	{
		LED_FOU_PORT=_crol_(LED_FOU_PORT,1);
		delay_ms(100);
	}
	LED_FOU_PORT=0xff;
}

//LED流水灯动画2：逐个点亮一遍(顺时针)
void Shun_onebyeone_light(void)
{
	u8 i,ii,iii,iiii;//定义循环变量
	LED_FOU_PORT=0x7f;//1111 1110----P3.7-P3.0	
	delay_ms(100);
	for(iiii=0;iiii&lt;7;iiii++)
	{
		LED_FOU_PORT=_cror_(LED_FOU_PORT,1);
		delay_ms(100);
	}
	LED_FOU_PORT=0xff;
	
	LED_THR_PORT=0x7f;//1111 1110----P2.7-P2.0
	delay_ms(100);
	for(iii=0;iii&lt;7;iii++)
	{
		LED_THR_PORT=_cror_(LED_THR_PORT,1);
		delay_ms(100);
	}
	LED_THR_PORT=0xff;
	
	LED_TWO_PORT=0x7f;//1111 1110----P1.7-P1.0
	delay_ms(100);
	for(ii=0;ii&lt;7;ii++)
	{
		LED_TWO_PORT=_cror_(LED_TWO_PORT,1);
		delay_ms(100);
	}
	LED_TWO_PORT=0xff;	
	
	LED_ONE_PORT=0x7f;//1111 1110----P0.7-P0.0
	delay_ms(100);
	for(i=0;i&lt;7;i++)
	{
		LED_ONE_PORT=_cror_(LED_ONE_PORT,1);
		delay_ms(100);
	}
	LED_ONE_PORT=0xff;
}

//LED流水灯动画3：逐个全部点亮(逆时针)
void Ni_onebyeone_all_light(void)
{
	u8 j,jj,jjj,jjjj;//定义循环变量

	for(j=0;j&lt;8;j++)//1111 1111逻辑左移
	{
		LED_ONE_PORT=0xff&lt;&lt;(j+1);
		delay_ms(100);
	}

	for(jj=0;jj&lt;8;jj++)
	{
		LED_TWO_PORT=0xff&lt;&lt;(jj+1);
		delay_ms(100);
	}

	for(jjj=0;jjj&lt;8;jjj++)
	{
		LED_THR_PORT=0xff&lt;&lt;(jjj+1);
		delay_ms(100);
	}

	for(jjjj=0;jjjj&lt;8;jjjj++)
	{
		LED_FOU_PORT=0xff&lt;&lt;(jjjj+1);
		delay_ms(100);
	}
}

//LED流水灯动画4：逐个全部点亮(顺时针)
void Shun_onebyeone_all_light(void)
{
	u8 j,jj,jjj,jjjj;
	
	for(j=0;j&lt;8;j++)//0111 1111----P0.7-P0.0
	{
		LED_FOU_PORT=0xff&gt;&gt;(j+1);//逻辑右移
		delay_ms(100);
	}
	
	for(jj=0;jj&lt;8;jj++)
	{
		LED_THR_PORT=0xff&gt;&gt;(jj+1);
		delay_ms(100);
	}	
	
	LED_TWO_PORT=0xff;
	for(jjj=0;jjj&lt;8;jjj++)
	{
		LED_TWO_PORT=0xff&gt;&gt;(jjj+1);
		delay_ms(100);		
	}
	
	LED_ONE_PORT=0xff;
	for(jjjj=0;jjjj&lt;8;jjjj++)
	{
		LED_ONE_PORT=0xff&gt;&gt;(jjjj+1);
		delay_ms(100);		
	}	
}


//LED流水灯动画5:逆时针逐个熄灭(前提：所有灯全亮)  
void Ni_onebyeone_extinguish(void)
{
	u8 j,jj,jjj,jjjj;//定义循环变量
	for(j=0;j&lt;8;j++)
	{
		LED_ONE_PORT=~(0xff&lt;&lt;(j+1));
		delay_ms(100);
	}
	
	for(jj=0;jj&lt;8;jj++)
	{
		LED_TWO_PORT=~(0xff&lt;&lt;(jj+1));
		delay_ms(100);
	}
	
	for(jjj=0;jjj&lt;8;jjj++)
	{
		LED_THR_PORT=~(0xff&lt;&lt;(jjj+1));
		delay_ms(100);
	}
	
	for(jjjj=0;jjjj&lt;8;jjjj++)
	{
		LED_FOU_PORT=~(0xff&lt;&lt;(jjjj+1));
		delay_ms(100);
	}
}

//LED流水灯动画6:顺时针逐个熄灭(前提：所有灯全亮)
void Shun_onebyeone_extinguish(void)
{
	u8 j,jj,jjj,jjjj;//定义循环变量
	for(jjjj=0;jjjj&lt;8;jjjj++)
	{
		LED_FOU_PORT=~(0xff&gt;&gt;(jjjj+1));
		delay_ms(100);
	}
	for(jjj=0;jjj&lt;8;jjj++)
	{
		LED_THR_PORT=~(0xff&gt;&gt;(jjj+1));
		delay_ms(100);
	}
	for(jj=0;jj&lt;8;jj++)
	{
		LED_TWO_PORT=~(0xff&gt;&gt;(jj+1));
		delay_ms(100);
	}
	for(j=0;j&lt;8;j++)
	{
		LED_ONE_PORT=~(0xff&gt;&gt;(j+1));
		delay_ms(100);
	}
}

//LED流水灯动画7:左(顺时针)右(逆时针)同时由下至上，依次逐个亮起
void left_light_all_light(void)
{
	u8 i;
	for(i=0;i&lt;8;i++)//左顺4,3			右逆1,2
	{
		LED_FOU_PORT=0xff&gt;&gt;(i+1);//逻辑右移
		LED_ONE_PORT=0xff&lt;&lt;(i+1);//逻辑左移
		delay_ms(100);		
	}
	for(i=0;i&lt;8;i++)
	{
		LED_THR_PORT=0xff&gt;&gt;(i+1);//逻辑右移
		LED_TWO_PORT=0xff&lt;&lt;(i+1);//逻辑左移
		delay_ms(100);		
	}
}
//LED流水灯动画8:每一组端口，均顺时针/逆时针亮灭
void Shun_one_four_all_light(void)
{
	u8 i;
	for(i=0;i&lt;8;i++)
	{
		LED_FOU_PORT=0xff&gt;&gt;(i+1);
		LED_THR_PORT=0xff&gt;&gt;(i+1);
		LED_TWO_PORT=0xff&gt;&gt;(i+1);
		LED_ONE_PORT=0xff&gt;&gt;(i+1);//顺
		delay_ms(100);
	}
	for(i=0;i&lt;8;i++)
	{
		LED_FOU_PORT=0xff&lt;&lt;(i+1);
		LED_THR_PORT=0xff&lt;&lt;(i+1);
		LED_TWO_PORT=0xff&lt;&lt;(i+1);
		LED_ONE_PORT=0xff&lt;&lt;(i+1);//逆
		delay_ms(100);
	}
	for(i=0;i&lt;8;i++)//4,3顺			1,2逆
	{
		LED_FOU_PORT=0xff&gt;&gt;(i+1);
		LED_THR_PORT=0xff&gt;&gt;(i+1);
		LED_TWO_PORT=0xff&lt;&lt;(i+1);
		LED_ONE_PORT=0xff&lt;&lt;(i+1);
		delay_ms(100);
	}
}
//LED流水灯动画9:左右各一半亮灭延时1s
void half_all_light(void)
{
	LED_FOU_PORT=LED_THR_PORT=0x00;//左半全亮
	delay_ms(1000);
	LED_FOU_PORT=LED_THR_PORT=0xff;//左半全灭
	LED_TWO_PORT=LED_ONE_PORT=0x00;//右半全亮
	delay_ms(1000);
	LED_TWO_PORT=LED_ONE_PORT=0xff;//左半全灭
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4c238d4ea2cadf4f2af5e1491cc9ee69/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Redis笔记】压缩列表（ziplist）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f76bd600dd4b099930f87fd790d2c744/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">剑指 Offer 03. 数组中重复的数字</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>