<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>leetcode hard 10. 正则表达式匹配 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="leetcode hard 10. 正则表达式匹配" />
<meta property="og:description" content="https://leetcode-cn.com/problems/regular-expression-matching/
思路:动态规划
dp：(len(s) &#43;1)* (len(p) &#43; 1)dp[ii][jj]代表s[0,i-1]和p[0,j-1]是否匹配，故有ii=i&#43;1,jj=j&#43;1。也就是说i,j对应比较时候改变的是dp[i&#43;1][j&#43;1]时的位置。边界情况,s=&#39;&#39;,需要先把第一行初始化，这时候就是下面的特殊情况，即当p[j]==&#39;*&#39;时，s[i]!=p[j-1]，dp[ii][jj] = dp[ii][jj-2]。先分两类： s[i]==p[j]，(或p[j]==&#39;.&#39;)dp[ii][jj] = dp[ii-1][jj-1]，当前两个字符相等，只需要各退一步看是否相等。s[i]==p[j],p[j]==&#39;*&#39;,再分两大类。为了简便，设置Sx，Pzy，y=&#39;*&#39;。s[i]!=p[j-1],即x!=z，则Sx必须和P匹配，dp[ii][jj] = dp[ii][jj-2]s[i]==p[j-1],即x==z，分几种匹配情况。Sx和P匹配，x和z*匹配，dp[ii][jj] = dp[ii][jj-2]Sx和Pz匹配，&#39;&#39;和*匹配，dp[ii][jj] = dp[ii][jj-1]S和P匹配，x和z*匹配，dp[ii][jj] = dp[ii-1][jj-2]S和Pz匹配，x和*匹配，dp[ii][jj] = dp[ii-1][jj-1]S和Pz*匹配，x和*匹配，dp[ii][jj] = dp[ii-1][jj] 代码
class Solution(object): def isMatch(self, s, p): &#34;&#34;&#34; :type s: str :type p: str :rtype: bool &#34;&#34;&#34; if len(s) == 0 and len(p) == 0: return True dp = [] for i in range(len(s) &#43; 1): dp.append([0] * (len(p) &#43; 1)) dp[0][0] = 1 for j in range(len(p)): ii, jj = 0, j &#43; 1 if p[j] == &#39;*&#39;: if j &gt; 0: dp[ii][jj] = dp[ii][jj - 2] for i in range(len(s)): for j in range(len(p)): ii, jj = i &#43; 1, j &#43; 1 if s[i] == p[j] or p[j] == &#39;." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fe526977e1dd5680420a8a601337190b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-15T21:57:40+08:00" />
<meta property="article:modified_time" content="2019-04-15T21:57:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">leetcode hard 10. 正则表达式匹配</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><a href="https://leetcode-cn.com/problems/regular-expression-matching/" rel="nofollow">https://leetcode-cn.com/problems/regular-expression-matching/</a></p> 
<p>思路:动态规划</p> 
<ol><li>dp：(len(s) +1)* (len(p) + 1)</li><li>dp[ii][jj]代表s[0,i-1]和p[0,j-1]是否匹配，故有ii=i+1,jj=j+1。也就是说i,j对应比较时候改变的是dp[i+1][j+1]时的位置。</li><li>边界情况,s='',需要先把第一行初始化，这时候就是下面的特殊情况，即当p[j]=='*'时，s[i]!=p[j-1]，dp[ii][jj] = dp[ii][jj-2]。</li><li>先分两类：</li></ol> 
<ul><li>s[i]==p[j]，(或p[j]=='.')dp[ii][jj] = dp[ii-1][jj-1]，当前两个字符相等，只需要各退一步看是否相等。</li><li>s[i]==p[j],p[j]=='*',再分两大类。为了简便，设置Sx，Pzy，y='*'。</li><li>s[i]!=p[j-1],即x!=z，则Sx必须和P匹配，dp[ii][jj] = dp[ii][jj-2]</li><li>s[i]==p[j-1],即x==z，分几种匹配情况。</li><li>Sx和P匹配，x和z*匹配，dp[ii][jj] = dp[ii][jj-2]</li><li>Sx和Pz匹配，''和*匹配，dp[ii][jj] = dp[ii][jj-1]</li><li>S和P匹配，x和z*匹配，dp[ii][jj] = dp[ii-1][jj-2]</li><li>S和Pz匹配，x和*匹配，dp[ii][jj] = dp[ii-1][jj-1]</li><li>S和Pz*匹配，x和*匹配，dp[ii][jj] = dp[ii-1][jj]</li></ul> 
<p>代码</p> 
<pre class="has"><code class="language-python">class Solution(object):
    def isMatch(self, s, p):
        """
        :type s: str
        :type p: str
        :rtype: bool
        """
        if len(s) == 0 and len(p) == 0: return True
        dp = []
        for i in range(len(s) + 1):
            dp.append([0] * (len(p) + 1))
        dp[0][0] = 1

        for j in range(len(p)):
            ii, jj = 0, j + 1
            if p[j] == '*':
                if j &gt; 0:
                    dp[ii][jj] = dp[ii][jj - 2]
        for i in range(len(s)):
            for j in range(len(p)):
                ii, jj = i + 1, j + 1
                if s[i] == p[j] or p[j] == '.':
                    dp[ii][jj] = dp[ii - 1][jj - 1]
                else:
                    if p[j] == '*':
                        if j &gt; 0 and (s[i] == p[j - 1] or p[j - 1] == '.'):
                            dp[ii][jj] = max(dp[ii - 1][jj], dp[ii - 1][jj - 1], dp[ii - 1][jj - 2], dp[ii][jj - 2],
                                             dp[ii][jj - 1])
                        elif j &gt; 0 and s[i] != p[j - 1] and p[j - 1] != '.':
                            dp[ii][jj] = dp[ii][jj - 2]

        return dp[-1][-1] == 1</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7c3eff5ceb1678246c9c167cbf5ee9d8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">android 开机优化（类和资源预加载优化）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4416678a005b035d901d15301e63d35d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">在 React Hooks 中如何请求数据？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>