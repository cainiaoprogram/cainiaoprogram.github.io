<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>鲁棒线性回归问题，使用MindOpt也可优化 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="鲁棒线性回归问题，使用MindOpt也可优化" />
<meta property="og:description" content="文章目录 问题描述等价的矩阵形式 产生数据使用MindOpt求解器的API方法1：cell中直接输入代码运行方法2：命令行直接运行.py文件 求解结果联系我们 回归分析是一种预测技术，目的是建立 自变量x（向量）和 相关变量y（标量）之间的关系。目前有七种常见的回归分析：Linear Regression线性回归（本篇）、Logistic Regression逻辑回归、Polynomial Regression多项式回归、Stepwise Regression逐步回归、Ridge Regression岭回归、Lasso Regression套索回归、ElasticNet回归。
本篇我们讲述的是**Linear Regression线性回归中的鲁棒线性回归。**鲁棒回归又称为稳健回归，是统计学稳健估计的方法之一，主要思路是对离群点十分敏感的最小二乘回归中的的函数进行修改。
下文我们将讲述一个例子，来展示MindOpt优化鲁棒线性回归问题（含源代码）。
问题描述 学生的行为习惯和测试成绩之间的关系。线性回归使用线性函数 $y = &lt;\boldsymbol a,\boldsymbol x&gt; &#43; b $ 来描述这种关系（更准确地说法是仿射函数）。向量 a \boldsymbol a a 表示“梯度”，标量 b b b 表示“截距”。通过 m m m 次观测 ( x 1 , y 1 ) . . . ( x m , y m ) (\boldsymbol x_1, y_1) ... (\boldsymbol x_m, y_m) (x1​,y1​)...(xm​,ym​) ，我们可以估计出 a \boldsymbol a a 和 b b b 的值。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2be723ae79b63c6f50a745cdd3d50f2a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-03T17:29:16+08:00" />
<meta property="article:modified_time" content="2023-11-03T17:29:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">鲁棒线性回归问题，使用MindOpt也可优化</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_8" rel="nofollow">问题描述</a></li><li><ul><li><a href="#_50" rel="nofollow">等价的矩阵形式</a></li></ul> 
  </li><li><a href="#_68" rel="nofollow">产生数据</a></li><li><a href="#MindOptAPI_89" rel="nofollow">使用MindOpt求解器的API</a></li><li><ul><li><ul><li><a href="#1cell_97" rel="nofollow">方法1：cell中直接输入代码运行</a></li><li><a href="#2py_342" rel="nofollow">方法2：命令行直接运行.py文件</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_361" rel="nofollow">求解结果</a></li><li><a href="#_418" rel="nofollow">联系我们</a></li></ul> 
</div> 
<p></p> 
<p>回归分析是一种预测技术，目的是建立 自变量x（向量）和 相关变量y（标量）之间的关系。目前有七种常见的回归分析：<strong>Linear Regression线性回归（本篇）、Logistic Regression逻辑回归、Polynomial Regression多项式回归、Stepwise Regression逐步回归、Ridge Regression岭回归、Lasso Regression套索回归、ElasticNet回归。</strong></p> 
<p>本篇我们讲述的是**Linear Regression线性回归中的鲁棒线性回归。**鲁棒回归又称为稳健回归，是统计学稳健估计的方法之一，主要思路是对离群点十分敏感的最小二乘回归中的的函数进行修改。</p> 
<p>下文我们将讲述一个例子，来展示MindOpt优化鲁棒线性回归问题（含源代码）。</p> 
<h2><a id="_8"></a>问题描述</h2> 
<p>学生的行为习惯和测试成绩之间的关系。线性回归使用线性函数 $y = &lt;\boldsymbol a,\boldsymbol x&gt; + b $ 来描述这种关系（更准确地说法是仿射函数）。向量 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \boldsymbol a 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span></span></span></span></span> 表示“梯度”，标量 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
      
        b 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 表示“截距”。通过 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         m 
        
       
      
        m 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 次观测 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          x 
         
        
          1 
         
        
       
         , 
        
        
        
          y 
         
        
          1 
         
        
       
         ) 
        
       
         . 
        
       
         . 
        
       
         . 
        
       
         ( 
        
        
        
          x 
         
        
          m 
         
        
       
         , 
        
        
        
          y 
         
        
          m 
         
        
       
         ) 
        
       
      
        (\boldsymbol x_1, y_1) ... (\boldsymbol x_m, y_m) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">...</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> ，我们可以估计出 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \boldsymbol a 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
      
        b 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 的值。</p> 
<p>普通的最小二乘回归（least-squares regression）对“离群观测”很敏感。仅一个离群观测就会影响对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \boldsymbol a 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
      
        b 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> 的估计。而鲁棒回归则不受少数离群观测的影响。</p> 
<p>假设“离群观测”的数量相对 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         m 
        
       
      
        m 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 而言很少，其他正常观测又很准确。则我们应该使用鲁棒线性回归去恢复真实的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \boldsymbol a 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
      
        b 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span> ：</p> 
<p><img src="https://images2.imgbox.com/eb/95/hf8USCF3_o.png" alt=""></p> 
<p>相比最小二乘回归，鲁棒回归可以更好地抵御（但不也能完全消除）离群观测的影响。</p> 
<p>通过变换和引入变量 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         c 
        
       
      
        \boldsymbol c 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">c</span></span></span></span></span></span></span> ，我们可以把这个问题转化为线性规划：</p> 
<hr> 
<p><img src="https://images2.imgbox.com/f6/93/uAsoKLFW_o.png" alt=""></p> 
<hr> 
<p>为了编程方便，我们将变量放在不等式一侧，非变量参数放在另一侧：</p> 
<hr> 
<p><img src="https://images2.imgbox.com/35/d6/kboaLqpA_o.png" alt=""></p> 
<hr> 
<h3><a id="_50"></a>等价的矩阵形式</h3> 
<p>将 <strong>x</strong>_1, …, <strong>x</strong>_m 作为行放入矩阵 X，将 y_1, …, y_m 作为元素放在列向量 <strong>y</strong> 中。令 <strong>1</strong> 为元素为1的向量。原始鲁棒线性回归问题可以简写为<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
         
          
          
            m 
           
          
            i 
           
          
            n 
           
          
            i 
           
          
            m 
           
          
            i 
           
          
            z 
           
          
            e 
           
          
         
         
         
           a 
          
         
           , 
          
         
           b 
          
         
        
       
           
        
       
         ∥ 
        
       
         X 
        
       
         a 
        
       
         + 
        
       
         1 
        
       
         b 
        
       
         − 
        
       
         y 
        
        
        
          ∥ 
         
        
          1 
         
        
       
      
        \mathop{\mathrm{minimize}}_{\boldsymbol a,b} ~\|X\boldsymbol a + \boldsymbol 1 b - \boldsymbol y\|_1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0361em; vertical-align: -0.2861em;"></span><span class="mop"><span class="mop"><span class="mord"><span class="mord mathrm">minimize</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3361em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord boldsymbol mtight">a</span></span></span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2861em;"><span class=""></span></span></span></span></span></span><span class="mspace nobreak"> </span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">∥</span><span class="mord mathnormal" style="margin-right: 0.0785em;">X</span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.7778em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord"><span class="mord mathbf">1</span></span></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right: 0.037em;">y</span></span></span><span class="mord"><span class="mord">∥</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3011em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>.</p> 
<p>通过变换，我们可以把这个问题转化为线性规划：</p> 
<hr> 
<p><img src="https://images2.imgbox.com/55/b5/uD6Kbqqu_o.png" alt="****"></p> 
<hr> 
<h2><a id="_68"></a>产生数据</h2> 
<p>我们通过生成随机数据，验证鲁棒线性回归的有效性。现在随机产生真正的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \boldsymbol a 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4444em;"></span><span class="mord"><span class="mord"><span class="mord boldsymbol">a</span></span></span></span></span></span></span> 和b ：</p> 
<p><img src="https://images2.imgbox.com/c8/f3/2EXh55gg_o.png" alt=""></p> 
<p>再使用它们产生 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         0.9 
        
       
         ∗ 
        
       
         m 
        
       
      
        0.9*m 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.9</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 次正确观测：</p> 
<p><img src="https://images2.imgbox.com/3b/2e/ojeGHVIj_o.png" alt=""></p> 
<p>外加 <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         0.1 
        
       
         ∗ 
        
       
         m 
        
       
      
        0.1*m 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0.1</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> 次离群观测：</p> 
<p><img src="https://images2.imgbox.com/e6/30/SA0G5sYa_o.png" alt=""></p> 
<p>因为观测的次序对鲁棒线性回归没有任何影响，所以不失一般性，我们将离群观测放在最后。</p> 
<p>我们在下面的代码里面会实现数据生成的过程。</p> 
<h2><a id="MindOptAPI_89"></a>使用MindOpt求解器的API</h2> 
<p>直接采用求解器的API，需要查阅API文档来理解API的意思，没有建模语言可读性高。请参阅<a href="https://solver.damo.alibaba.com/doc/html/API%20reference/API-python/index.html" rel="nofollow">https://solver.damo.alibaba.com/doc/html/API%20reference/API-python/index.html</a>来查看PythonAPI的使用说明。</p> 
<p>关于Python的例子，在文档的<a href="https://solver.damo.alibaba.com/doc/html/model/index.html" rel="nofollow">5.建模与优化求解</a>章节有Python的示例。这里是个LP的问题，我们可以参考：<a href="https://solver.damo.alibaba.com/doc/html/model/lp/linear%20optimization-python.html" rel="nofollow">https://solver.damo.alibaba.com/doc/html/model/lp/linear%20optimization-python.html</a></p> 
<p>下面我们分两种方式描述在本平台环境中的运行方法：</p> 
<h4><a id="1cell_97"></a>方法1：cell中直接输入代码运行</h4> 
<p>请运行下面cell中的代码，点击本窗口上面的播放△运行，或者摁shift+enter键运行:</p> 
<pre><code class="prism language-bash"><span class="token comment"># LP_5_RobustRegression.py</span>

from mindoptpy <span class="token function">import</span> *

<span class="token function">import</span> numpy as np
<span class="token function">import</span> random

def simulateData<span class="token punctuation">(</span>dimension<span class="token operator">=</span><span class="token number">4</span>,m_observations<span class="token operator">=</span><span class="token number">15</span>,is_write_data <span class="token operator">=</span> False,output_dir <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>:
    <span class="token comment"># use time to seed the random number generator</span>
  
    random.seed<span class="token punctuation">(</span>time.time<span class="token punctuation">(</span><span class="token punctuation">))</span>

    <span class="token comment"># randomly generate vector a and scalar b</span>
    d <span class="token operator">=</span> dimension 
    true_a <span class="token operator">=</span> np.random.randn<span class="token punctuation">(</span>d<span class="token punctuation">)</span> * np.sqrt<span class="token punctuation">(</span><span class="token punctuation">[</span>d<span class="token punctuation">]</span><span class="token punctuation">)</span>
    true_b <span class="token operator">=</span> np.random.randn<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

    <span class="token comment"># randomly generate observations (x[i],y[i]), i = 1,...,m with 10% outliers</span>
    m <span class="token operator">=</span> m_observations
    X <span class="token operator">=</span> np.zeros<span class="token variable"><span class="token punctuation">((</span>m<span class="token punctuation">,</span>d<span class="token punctuation">))</span></span>
    y <span class="token operator">=</span> np.zeros<span class="token variable"><span class="token punctuation">((</span>m<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">))</span></span>
    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>m<span class="token punctuation">)</span>:
        X<span class="token punctuation">[</span>i,<span class="token punctuation">]</span> <span class="token operator">=</span> np.random.randn<span class="token punctuation">(</span>d<span class="token punctuation">)</span>
        <span class="token keyword">if</span> i <span class="token operator">&lt;</span> np.floor<span class="token punctuation">(</span><span class="token number">0.9</span>*m<span class="token punctuation">)</span>:
            y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> np.inner<span class="token punctuation">(</span>true_a,X<span class="token punctuation">[</span>i,<span class="token punctuation">]</span><span class="token punctuation">)</span> + true_b
        else:
            y<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> np.random.randn<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  
    <span class="token comment">#print("true_a:\n",true_a)</span>
    <span class="token comment">#print("true_b:\n",true_b)</span>
    <span class="token comment">#print("X:\n",X)</span>
    <span class="token comment">#print("y:\n",y)</span>
  
    <span class="token keyword">if</span> is_write_data:    
        f_true_a <span class="token operator">=</span> open<span class="token punctuation">(</span>output_dir+<span class="token string">"true_a.txt"</span>, <span class="token string">"w"</span><span class="token punctuation">)</span>  
        L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"{}<span class="token entity" title="\n">\n</span>"</span>.format<span class="token punctuation">(</span>true_a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>true_a<span class="token punctuation">))</span><span class="token punctuation">]</span>
        f_true_a.writelines<span class="token punctuation">(</span>L<span class="token punctuation">)</span>
  
        f_true_b <span class="token operator">=</span> open<span class="token punctuation">(</span>output_dir+<span class="token string">"true_b.txt"</span>, <span class="token string">"w"</span><span class="token punctuation">)</span>  
        L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"{}<span class="token entity" title="\n">\n</span>"</span>.format<span class="token punctuation">(</span>true_b<span class="token punctuation">)</span><span class="token punctuation">]</span>
        f_true_b.writelines<span class="token punctuation">(</span>L<span class="token punctuation">)</span>
      
        f_X <span class="token operator">=</span> open<span class="token punctuation">(</span>output_dir+<span class="token string">"X.txt"</span>, <span class="token string">"w"</span><span class="token punctuation">)</span>  
        L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"{}<span class="token entity" title="\n">\n</span>"</span>.format<span class="token punctuation">(</span>X<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>X<span class="token punctuation">))</span><span class="token punctuation">]</span>
        f_X.writelines<span class="token punctuation">(</span>L<span class="token punctuation">)</span>
      
        f_y <span class="token operator">=</span> open<span class="token punctuation">(</span>output_dir+<span class="token string">"y.txt"</span>, <span class="token string">"w"</span><span class="token punctuation">)</span>  
        L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"{}<span class="token entity" title="\n">\n</span>"</span>.format<span class="token punctuation">(</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>y<span class="token punctuation">))</span><span class="token punctuation">]</span>
        f_y.writelines<span class="token punctuation">(</span>L<span class="token punctuation">)</span>
  
    <span class="token builtin class-name">return</span> true_a,true_b,X,y

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token builtin class-name">:</span>

    <span class="token comment"># --- Create simulation data ---------------</span>
    d <span class="token operator">=</span> <span class="token number">4</span>
    m <span class="token operator">=</span> <span class="token number">15</span>
    true_a,true_b,X,y <span class="token operator">=</span> simulateData<span class="token punctuation">(</span>d,m<span class="token punctuation">)</span>
  

    <span class="token comment">#--- MindOpt Step 1. Initialize an empty optimization model ---  </span>
    model <span class="token operator">=</span> MdoModel<span class="token punctuation">(</span><span class="token punctuation">)</span>
  

    try:
        <span class="token comment">#--- MindOpt Step 2. Set model inputs ---</span>
        <span class="token comment"># Change to minimization problem.</span>
        model.set_int_attr<span class="token punctuation">(</span><span class="token string">"MinSense"</span>, <span class="token number">1</span><span class="token punctuation">)</span>

        <span class="token comment"># add variables, specify their low bounds, upper bounds, and cost coefficients</span>
        <span class="token comment"># set objective: minimize_{a,b,c} 0'a + 0b + 1'c</span>
        INF <span class="token operator">=</span> MdoModel.get_infinity<span class="token punctuation">(</span><span class="token punctuation">)</span>

        var_a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>d<span class="token punctuation">)</span>:
            var_a.append<span class="token punctuation">(</span>model.add_var<span class="token punctuation">(</span>-INF, INF, <span class="token number">0.0</span><span class="token punctuation">))</span> <span class="token comment"># low bnd, upr bnd, 0 cost coeff</span>

        var_b <span class="token operator">=</span> model.add_var<span class="token punctuation">(</span>-INF, INF, <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># low bnd, upr bnd, 0 cost coeff</span>

        var_c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>m<span class="token punctuation">)</span>:
            var_c.append<span class="token punctuation">(</span>model.add_var<span class="token punctuation">(</span>-INF, INF, <span class="token number">1.0</span><span class="token punctuation">))</span> <span class="token comment"># low bnd, upr bnd, cost coeff = 1.0</span>

        <span class="token comment"># Add constraints row by row</span>
        <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>m<span class="token punctuation">)</span>:
            <span class="token comment"># compute a'x[i,]</span>
            <span class="token function">expr</span> <span class="token operator">=</span> MdoExprLinear<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>d<span class="token punctuation">)</span>:
                <span class="token function">expr</span> <span class="token operator">+=</span> X<span class="token punctuation">[</span>i,j<span class="token punctuation">]</span>*var_a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>

            <span class="token comment"># add: y[i] &lt;= a'x[i,] + b + c[i]</span>
            model.add_cons<span class="token punctuation">(</span>y<span class="token punctuation">[</span>i<span class="token punctuation">]</span>, INF, <span class="token function">expr</span> + var_b + var_c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>

            <span class="token comment"># add: a'x[i,] + b - c[i] &lt;= y[i]</span>
            model.add_cons<span class="token punctuation">(</span>-INF, y<span class="token punctuation">[</span>i<span class="token punctuation">]</span>, <span class="token function">expr</span> + var_b - var_c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token comment">#--- MindOpt Step 3. Set solver parameters ---</span>
        model.set_int_param<span class="token punctuation">(</span><span class="token string">"Method"</span>, <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># as an example, set to run the interior-point method</span>
        model.set_int_param<span class="token punctuation">(</span><span class="token string">"NumThreads"</span>, <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># as an example, set to run 2 threads</span>
      
      
        <span class="token comment"># ------Step3. Solve the problem and populate the result.-------</span>
        model.solve_prob<span class="token punctuation">(</span><span class="token punctuation">)</span>
        model.display_results<span class="token punctuation">(</span><span class="token punctuation">)</span>
        time.sleep<span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span> <span class="token comment">#for print</span>
      
        status_code, status_msg <span class="token operator">=</span> model.get_status<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> status_msg <span class="token operator">==</span> <span class="token string">"OPTIMAL"</span><span class="token builtin class-name">:</span>
            print<span class="token punctuation">(</span><span class="token string">"----<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">)</span>
            print<span class="token punctuation">(</span><span class="token string">"The solver terminated with an OPTIMAL status (code {0})."</span>.format<span class="token punctuation">(</span>status_code<span class="token punctuation">))</span>

            print<span class="token punctuation">(</span><span class="token string">"目标函数总收益是: {0}"</span>.format<span class="token punctuation">(</span>model.get_real_attr<span class="token punctuation">(</span><span class="token string">"PrimalObjVal"</span><span class="token punctuation">))</span><span class="token punctuation">)</span>
           
          
            print<span class="token punctuation">(</span><span class="token string">"<span class="token entity" title="\n">\n</span>----------------<span class="token entity" title="\n">\n</span>Compare var_a to true_a, and var_b to true_b:<span class="token entity" title="\n">\n</span>----------------"</span><span class="token punctuation">)</span>

            <span class="token comment"># Compare var_a to true_a, and var_b to true_b; Display residuals</span>
            <span class="token comment"># Display solutions a[0],...,a[d-1]</span>
            print<span class="token punctuation">(</span><span class="token string">'\n{0:&lt;5} {1:&gt;9} {2:&gt;9}'</span>.format<span class="token punctuation">(</span><span class="token string">'Entry'</span>,<span class="token string">'True'</span>,<span class="token string">'Soln'</span><span class="token punctuation">))</span>
            <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>d<span class="token punctuation">)</span>:
                print<span class="token punctuation">(</span><span class="token string">'{0:&gt;5} {1:&gt;9f} {2:&gt;9f}'</span>.format<span class="token punctuation">(</span><span class="token string">'a['</span>+<span class="token string">'%s'</span>%j+<span class="token string">']'</span>, true_a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>,
                var_a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>.get_real_attr<span class="token punctuation">(</span><span class="token string">'PrimalSoln'</span><span class="token punctuation">))</span><span class="token punctuation">)</span>

            <span class="token comment"># Display solution b</span>
            print<span class="token punctuation">(</span><span class="token string">'\n{0:&lt;5} {1:&gt;9} {2:&gt;9}'</span>.format<span class="token punctuation">(</span><span class="token string">' '</span>,<span class="token string">'True'</span>,<span class="token string">'Soln'</span><span class="token punctuation">))</span>
            print<span class="token punctuation">(</span><span class="token string">'{0:&gt;5} {1:&gt;9f} {2:&gt;9f}'</span>.format<span class="token punctuation">(</span><span class="token string">'b'</span>, true_b, var_b.get_real_attr<span class="token punctuation">(</span><span class="token string">'PrimalSoln'</span><span class="token punctuation">))</span><span class="token punctuation">)</span>

            print<span class="token punctuation">(</span><span class="token string">"<span class="token entity" title="\n">\n</span>----------------<span class="token entity" title="\n">\n</span>Show Residual(c value）:<span class="token entity" title="\n">\n</span>----------------"</span><span class="token punctuation">)</span>

            <span class="token comment"># Display solutions c[0],...,c[m]</span>
            print<span class="token punctuation">(</span><span class="token string">'\n{0:&gt;11} {1:&gt;9}'</span>.format<span class="token punctuation">(</span><span class="token string">'Observation'</span>,<span class="token string">'Residual'</span><span class="token punctuation">))</span>
            <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span>m<span class="token punctuation">)</span>:
                print<span class="token punctuation">(</span><span class="token string">'{0:&gt;11d} {1:&gt;9f}'</span>.format<span class="token punctuation">(</span>i, var_c<span class="token punctuation">[</span>i<span class="token punctuation">]</span>.get_real_attr<span class="token punctuation">(</span><span class="token string">'PrimalSoln'</span><span class="token punctuation">))</span><span class="token punctuation">)</span>
          
              
        else:
            print<span class="token punctuation">(</span><span class="token string">"Optimizer terminated with a(n) {0} status (code {1})."</span>.format<span class="token punctuation">(</span>status_msg, status_code<span class="token punctuation">))</span>

          
    except MdoError as e:
        print<span class="token punctuation">(</span><span class="token string">"Received Mindopt exception."</span><span class="token punctuation">)</span>
        print<span class="token punctuation">(</span><span class="token string">" - Code : {}"</span>.format<span class="token punctuation">(</span>e.code<span class="token punctuation">))</span>
        print<span class="token punctuation">(</span><span class="token string">" - Reason : {}"</span>.format<span class="token punctuation">(</span>e.message<span class="token punctuation">))</span>
    except Exception as e:
        print<span class="token punctuation">(</span><span class="token string">"Received exception."</span><span class="token punctuation">)</span>
        print<span class="token punctuation">(</span><span class="token string">" - Reason : {}"</span>.format<span class="token punctuation">(</span>e<span class="token punctuation">))</span>
    finally:
        <span class="token comment"># MindOpt Step 5. Free the model.</span>
        model.free_mdl<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行后得到如下结果：</p> 
<pre><code class="prism language-bash">Start license validation <span class="token punctuation">(</span>current <span class="token function">time</span> <span class="token builtin class-name">:</span> 01-MAR-2023 <span class="token number">20</span>:59:47<span class="token punctuation">)</span>.
License validation terminated. Time <span class="token builtin class-name">:</span> <span class="token number">0</span>.002s

Model summary.
 - Num. variables     <span class="token builtin class-name">:</span> <span class="token number">20</span>
 - Num. constraints   <span class="token builtin class-name">:</span> <span class="token number">30</span>
 - Num. nonzeros      <span class="token builtin class-name">:</span> <span class="token number">180</span>
 - Bound range        <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">5</span>.6e-01,9.6e+00<span class="token punctuation">]</span>
 - Objective range    <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">1</span>.0e+00,1.0e+00<span class="token punctuation">]</span>
 - Matrix range       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">3</span>.5e-02,2.3e+00<span class="token punctuation">]</span>

Presolver started.
Presolver terminated. Time <span class="token builtin class-name">:</span> <span class="token number">0</span>.000s

Interior point method started.
 Iter         PrimObj         DualObj PrimFea DualFea  GapFea      Mu   Time
    <span class="token number">0</span> +0.00000000e+00 -3.05311332e-15 <span class="token number">2</span>.2e+00 <span class="token number">3</span>.7e-02 <span class="token number">3</span>.6e+02 <span class="token number">1</span>.2e+01   <span class="token number">0</span>.01s
    <span class="token number">1</span> +3.87012911e+01 +1.10363647e+01 <span class="token number">7</span>.4e-02 <span class="token number">1</span>.0e-04 <span class="token number">2</span>.5e+00 <span class="token number">1</span>.2e+00   <span class="token number">0</span>.01s
    <span class="token number">2</span> +2.30985411e+01 +1.91163774e+01 <span class="token number">2</span>.0e-04 <span class="token number">5</span>.5e-06 <span class="token number">2</span>.1e-01 <span class="token number">1</span>.3e-01   <span class="token number">0</span>.01s
    <span class="token number">3</span> +1.98974978e+01 +1.98777823e+01 <span class="token number">5</span>.6e-07 <span class="token number">1</span>.5e-08 <span class="token number">1</span>.0e-03 <span class="token number">6</span>.6e-04   <span class="token number">0</span>.01s
    <span class="token number">4</span> +1.98802551e+01 +1.98802008e+01 <span class="token number">1</span>.5e-09 <span class="token number">4</span>.2e-11 <span class="token number">2</span>.7e-06 <span class="token number">1</span>.8e-06   <span class="token number">0</span>.01s
    <span class="token number">5</span> +1.98802076e+01 +1.98802075e+01 <span class="token number">4</span>.3e-12 <span class="token number">1</span>.2e-13 <span class="token number">7</span>.5e-09 <span class="token number">5</span>.0e-09   <span class="token number">0</span>.02s
Terminated.
 - Method             <span class="token builtin class-name">:</span> Interior point method.
 - Primal objective   <span class="token builtin class-name">:</span> <span class="token number">1</span>.9880207641660E+01
 - Dual objective     <span class="token builtin class-name">:</span> <span class="token number">1</span>.9880207492544E+01
 - Num. threads       <span class="token builtin class-name">:</span> <span class="token number">2</span>
 - Num. iterations    <span class="token builtin class-name">:</span> <span class="token number">5</span>
 - Solver details     <span class="token builtin class-name">:</span> Solver terminated with a primal/dual optimal status.


    Iteration       Objective       Dual Inf.     Primal Inf.     Time
            <span class="token number">0</span>     <span class="token number">1</span>.98802e+01      <span class="token number">0</span>.0000e+00      <span class="token number">0</span>.0000e+00     <span class="token number">0</span>.02s    pushes: P<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> D<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
            <span class="token number">8</span>     <span class="token number">1</span>.98802e+01      <span class="token number">0</span>.0000e+00      <span class="token number">0</span>.0000e+00     <span class="token number">0</span>.02s  
Interior point method terminated. Time <span class="token builtin class-name">:</span> <span class="token number">0</span>.027s

Optimizer summary.
 - Optimizer used     <span class="token builtin class-name">:</span> Interior point method
 - Optimizer status   <span class="token builtin class-name">:</span> OPTIMAL
 - Total <span class="token function">time</span>         <span class="token builtin class-name">:</span> <span class="token number">0</span>.028s

Solution summary.       Primal solution
 - Objective          <span class="token builtin class-name">:</span> <span class="token number">1</span>.9880207511e+01 
----

The solver terminated with an OPTIMAL status <span class="token punctuation">(</span>code <span class="token number">1</span><span class="token punctuation">)</span>.
目标函数总收益是: <span class="token number">19.880207510885242</span>

----------------
Compare var_a to true_a, and var_b to true_b:
----------------

Entry      True      Soln
 a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token number">3.381614</span>  <span class="token number">3.381614</span>
 a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">2.077166</span>  <span class="token number">2.077166</span>
 a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>  <span class="token number">1.788548</span>  <span class="token number">1.788548</span>
 a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token number">1.662762</span>  <span class="token number">1.662762</span>

           True      Soln
    b <span class="token parameter variable">-2.102494</span> <span class="token parameter variable">-2.102494</span>

----------------
Show Residual<span class="token punctuation">(</span>c value）:
----------------

Observation  Residual
          <span class="token number">0</span>  <span class="token number">0.000000</span>
          <span class="token number">1</span>  <span class="token number">0.000000</span>
          <span class="token number">2</span>  <span class="token number">0.000000</span>
          <span class="token number">3</span>  <span class="token number">0.000000</span>
          <span class="token number">4</span>  <span class="token number">0.000000</span>
          <span class="token number">5</span>  <span class="token number">0.000000</span>
          <span class="token number">6</span>  <span class="token number">0.000000</span>
          <span class="token number">7</span>  <span class="token number">0.000000</span>
          <span class="token number">8</span>  <span class="token number">0.000000</span>
          <span class="token number">9</span>  <span class="token number">0.000000</span>
         <span class="token number">10</span>  <span class="token number">0.000000</span>
         <span class="token number">11</span>  <span class="token number">0.000000</span>
         <span class="token number">12</span>  <span class="token number">0.000000</span>
         <span class="token number">13</span> <span class="token number">11.513372</span>
         <span class="token number">14</span>  <span class="token number">8.366835</span>
OpenBLAS WARNING - could not determine the L2 cache size on this system, assuming 256k
</code></pre> 
<hr> 
<h4><a id="2py_342"></a>方法2：命令行直接运行.py文件</h4> 
<p>上面是直接在cell中运行所有的脚本，我们也可以建立个新文档，将Python代码存在 <code>src/python_src</code>文件夹的LP_5_RobustRegression.py文件。然后在Launcher中打开Terminal，执行 <code>python xx.py</code>文件来运行。</p> 
<blockquote> 
 <p>您也可以下载本.py文件，在自己的电脑上安装<a href="https://blog.csdn.net/MindOpt_003/article/details/128865712">MindOpt求解器</a>，然后在自己电脑的环境运行。</p> 
</blockquote> 
<p>Luancher可以点击左上角的+打方块打开，Terminal在最下方，如截图示意。打开的窗口可以拖动调整位置。<br> <img src="https://images2.imgbox.com/59/68/BJxxCbzy_o.png" alt="image.png"></p> 
<p>然后在Terminal命令行里运行如下指令:</p> 
<pre><code>cd src/python_src
python LP_5_RobustRegression.py
</code></pre> 
<p>运行得到的结果，特性类似算法1，由于每次数据随机生成的，所以数据不一样：<br> <img src="https://images2.imgbox.com/71/78/BBMjGZTe_o.png" alt="image.png"></p> 
<h2><a id="_361"></a>求解结果</h2> 
<p>本案例的数据是随机生成的，因此每次结果会不一样，但是从结果的True原值和鲁棒线性回归的结果Soln几乎一样，拟合度很好。</p> 
<p>如下面是一个示例的结果打印。</p> 
<hr> 
<pre><code>Optimizer summary.
 - Optimizer used     : Interior point method
 - Optimizer status   : OPTIMAL
 - Total time         : 0.013s

Solution summary.       Primal solution
 - Objective          : 9.7151651023e+00 
----
The solver terminated with an OPTIMAL status (code 1).
目标函数总收益是: 9.715165102347509

----------------
Compare var_a to true_a, and var_b to true_b:
----------------

Entry      True      Soln
 a[0]  2.710648  2.710648
 a[1]  0.477721  0.477721
 a[2]  1.164849  1.164849
 a[3]  0.251547  0.251547

           True      Soln
    b  0.878660  0.878660

----------------
Show Residual(c value）:
----------------

Observation  Residual
          0  0.000000
          1  0.000000
          2  0.000000
          3  0.000000
          4  0.000000
          5  0.000000
          6  0.000000
          7  0.000000
          8  0.000000
          9  0.000000
         10  0.000000
         11  0.000000
         12  0.000000
         13  6.173857
         14  3.541308
</code></pre> 
<hr> 
<h2><a id="_418"></a>联系我们</h2> 
<p>钉钉答疑群：32451444<br> 钉钉活动群：18890022111<br> 邮箱地址：solver.damo<a href="https://blog.csdn.net/list.alibaba-inc.com">@list.alibaba-inc.com</a><br> 更多更新通知：<a href="https://solver.damo.alibaba.com/" rel="nofollow">https://solver.damo.alibaba.com</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/725dedd7fdd053becd0828eb118e97a2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">面对Flow-shop调度问题如何优化？可用MindOpt来决策</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1945132b884ebb43799c7cb9e3ea4ea8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MindOpt——优化虚拟电厂智能调度问题(一)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>