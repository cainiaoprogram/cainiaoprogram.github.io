<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>STM32HAL库单ADC&#43;DMA学习及测试记录 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="STM32HAL库单ADC&#43;DMA学习及测试记录" />
<meta property="og:description" content="一、打开STM32CubeMX选择对应的芯片型号，后进入开发界面
1、双击“STM32CubeMX”软件打开，打开后如下图所示，选择红色框；
选择后可能会更新，等待更新完成即可，如下图：
2、选择开发芯片，作者本例程的芯片是STM32F407VET6,读者根据自己使用的开发板芯片选择即可。操作如下：
按照下图步骤：
步骤1：输入开发使用的芯片型号，作者这里输入:STM32F407VET6，就会在步骤2显示芯片的具体型号；
步骤2：选择具体使用的芯片型号，选中后会高亮；
步骤3：点击“Start Project”,开始进入工程图形配置界面。
二、图形界面配置
由于采集的ADC数据需要查看，所以本例程采用的是通过串口输出采集的数据，输出到电脑端的串口调试助手。
所以除了基本的时钟、晶振等一些配置，还包含串口配置和ADC配置。
1、配置晶振
步骤1：选择“Pinout&amp;Configuration”;
步骤2：选择“System Core”;
步骤3：选择“RCC”；
步骤4、5：选项下拉选择“Crystal/Ceramic Resonator”
下拉选项说明：
Crystal/Ceramic Resonator：晶体/陶瓷晶振，一般使用的都是这个
BYPASS Clock Source：旁路时钟源
2、配置DEBUG和SYS
步骤1：选择“Pinout&amp;Configuration”;
步骤2：选择“System Core”;
步骤3：选择“SYS”；
步骤4：选择“Serial Wire”；
此选项是下载调试的方式选择，有很多种，包括SWD、JTAG等方式，我是ST-link/V2 下载器来下载
步骤5：选择“Sys Tick”；
此选项是HAL时基的选择，有滴答定时器，和其它定时器1、2、3、4、5…，这里选择SysTick滴答定时器。
3、配置调试输出串口1
步骤1：选择“Pinout&amp;Configuration”;
步骤2：选择“Connectivity”;
步骤3：选择“USART1”；
步骤4：选择“Asynchronous”；
此下拉选项有多种选择，分别如下：
Asynchronous：异步通信
Synchronous：同步通信
Single Wire(Half-Duplex):半双工
Multiprocessor Communication:多处理器通信
lrDA:红外数据
LIN:局域网互联
SmartCard:智能卡
步骤5：选择“NVIC Settings”-&gt;然后勾选中断使能。
选项卡“Parameter Settings”是设置串口的参数
Basic Parameters-&gt;Baud Rate:设置波特率，默认115200，可不修改；
Basic Parameters-&gt;Word Length:字长,默认“8Bits”,默认即可；
Basic Parameters-&gt;Parity:奇偶校验，默认选择&#34;None&#34;无校验；默认即可；
Basic Parameters-&gt;Stop Bits:停止位，默认1，默认即可；
Advanced Parameters-&gt;Data Direction:数据方向，默认“Receive and Transmit”可接收发送，默认即可；" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c7484da7bc9a28ebdfc789c2d908ae84/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-11-27T08:57:07+08:00" />
<meta property="article:modified_time" content="2022-11-27T08:57:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">STM32HAL库单ADC&#43;DMA学习及测试记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>一、打开STM32CubeMX选择对应的芯片型号，后进入开发界面<br> 1、双击“STM32CubeMX”软件打开，打开后如下图所示，选择红色框；<br> <img src="https://images2.imgbox.com/6f/2d/hZgfALCd_o.png" alt="在这里插入图片描述"><br> 选择后可能会更新，等待更新完成即可，如下图：<br> <img src="https://images2.imgbox.com/ba/62/cwSKgW18_o.png" alt="在这里插入图片描述"><br> 2、选择开发芯片，作者本例程的芯片是STM32F407VET6,读者根据自己使用的开发板芯片选择即可。操作如下：<br> 按照下图步骤：<br> 步骤1：输入开发使用的芯片型号，作者这里输入:STM32F407VET6，就会在步骤2显示芯片的具体型号；<br> 步骤2：选择具体使用的芯片型号，选中后会高亮；<br> 步骤3：点击“Start Project”,开始进入工程图形配置界面。</p> 
<p>二、图形界面配置<br> 由于采集的ADC数据需要查看，所以本例程采用的是通过串口输出采集的数据，输出到电脑端的串口调试助手。<br> 所以除了基本的时钟、晶振等一些配置，还包含串口配置和ADC配置。<br> 1、配置晶振<br> 步骤1：选择“Pinout&amp;Configuration”;<br> 步骤2：选择“System Core”;<br> 步骤3：选择“RCC”；<br> 步骤4、5：选项下拉选择“Crystal/Ceramic Resonator”<br> 下拉选项说明：<br> Crystal/Ceramic Resonator：晶体/陶瓷晶振，一般使用的都是这个<br> BYPASS Clock Source：旁路时钟源<br> <img src="https://images2.imgbox.com/94/14/3LeKIjPz_o.png" alt="在这里插入图片描述"><br> 2、配置DEBUG和SYS<br> 步骤1：选择“Pinout&amp;Configuration”;<br> 步骤2：选择“System Core”;<br> 步骤3：选择“SYS”；<br> 步骤4：选择“Serial Wire”；<br> 此选项是下载调试的方式选择，有很多种，包括SWD、JTAG等方式，我是ST-link/V2 下载器来下载<br> 步骤5：选择“Sys Tick”；<br> 此选项是HAL时基的选择，有滴答定时器，和其它定时器1、2、3、4、5…，这里选择SysTick滴答定时器。</p> 
<p><img src="https://images2.imgbox.com/1f/38/w1ThbRjZ_o.png" alt="在这里插入图片描述"><br> 3、配置调试输出串口1<br> 步骤1：选择“Pinout&amp;Configuration”;<br> 步骤2：选择“Connectivity”;<br> 步骤3：选择“USART1”；<br> 步骤4：选择“Asynchronous”；<br> 此下拉选项有多种选择，分别如下：<br> Asynchronous：异步通信<br> Synchronous：同步通信<br> Single Wire(Half-Duplex):半双工<br> Multiprocessor Communication:多处理器通信<br> lrDA:红外数据<br> LIN:局域网互联<br> SmartCard:智能卡<br> 步骤5：选择“NVIC Settings”-&gt;然后勾选中断使能。<br> 选项卡“Parameter Settings”是设置串口的参数<br> Basic Parameters-&gt;Baud Rate:设置波特率，默认115200，可不修改；<br> Basic Parameters-&gt;Word Length:字长,默认“8Bits”,默认即可；<br> Basic Parameters-&gt;Parity:奇偶校验，默认选择"None"无校验；默认即可；<br> Basic Parameters-&gt;Stop Bits:停止位，默认1，默认即可；<br> Advanced Parameters-&gt;Data Direction:数据方向，默认“Receive and Transmit”可接收发送，默认即可；<br> Advanced Parameters-&gt;Over Sampling:过采样长度，默认“16 Samples”16个采样，默认即可；<br> 选项卡“NVIC Settings”是设置中断使能-勾选对应的中断信号源即可，本工程只勾选“USART1 global interrupt”;<br> 选项卡“DMA Settings”是设置串口DMA通道的，可添加DMA，在本工程，不使用。<br> 其它选项卡无需设置。<br> <img src="https://images2.imgbox.com/24/85/M5WeUWhi_o.png" alt="在这里插入图片描述"><br> 4、配置ADC，使用ADC1通道1，即PA1引脚<br> 步骤1：选择“Pinout&amp;Configuration”;<br> 步骤2：选择“Analog”;<br> 步骤3：选择“ADC1”；<br> 步骤4：选择“IN11和IN12以及IN13”，表示选择通道11、通道12、通道13， 此选项是选项ADC的通道，<br> 步骤5：ADC参数配置<br> 步骤6：勾选ADC通道后在右侧标记变绿可看到对应的IO选中。</p> 
<p><strong>重点讲解ADC参数</strong><br> 选项卡“Parameter Settings”是设置ADC的参数，如图所示；<br> (1)ADCs_Common_Settings-&gt;Mode:ADC的模式，默认选择“Independent mode”,独立模式，默认即可；<br> (2)ADC_Settings-&gt;Clock Prescaler:时钟预分频，默认选择“PCLK2 divided by 4”,2分频，ADC分频后的时钟最好不要高于36MHz；ADC在APB2时钟线上，后面配置时钟树时，会得到APB2是84MHz，所以本工程此选项选择“PCLK2 divided by 4”,4分频<br> (3)ADC_Settings-&gt;Resolution:ADC 分辨率,默认“12Bits",默认即可；<br> (4)ADC_Settings-&gt;Data Alignment:数据对齐对齐方式，默认“Right alignment”,右对齐，默认即可；<br> (5)ADC_Settings-&gt;Scan Conversion Mode:扫描，默认“Disable”,不使能，如果多通道可使能，此处需要使能“Enabled”；<br> (6)ADC_Settings-&gt;Continuous Conversion Mode:连续转换，默认“Disable”,不使能，如果多通道或连续采集信号时可使能，此处需要使能“Enabled”；<br> (7)ADC_Settings-&gt;Discontinuous Conversion Mode:不连续转换，默认“Disable”,不使能；<br> (8)ADC_Settings-&gt;DMA Continuous Requests:DMA 连续请求,默认“Disable”,不使能,使用DMA时可使能，此处需要使能“Enabled”；<br> (9)ADC_Settings-&gt;End Of Conversion Selection:转换结束选择,默认“EOC flag at the end of single channel conversion”,单通道转换结束时的 EOC 标志,默认即可；<br> (10)ADC_Regular_ConversionMode-&gt;Number Of Conversion:转换次数,由于我们选择了三个 ADC通道，所以此处需要填写3；<br> (11)ADC_Regular_ConversionMode-&gt;External Trigger Conversion Source,外部触发转换源，默认“Regular Conversion launched by software”由软件启动的定期转换,默认即可；<br> (12)ADC_Regular_ConversionMode-&gt;External Trigger Conversion Edge,外部触发转换边沿,默认“None”,默认即可；<br> (13)ADC_Regular_ConversionMode-&gt;Rank-&gt;Channel，选择ADC的通道，在前面则通道后，处选择对应的Channel即可，如果只用到3个通道，会衍生出三个Rank选项。分别要填写我们需要采集的ADC通道，这里分别填写11 、12 、13；<br> (14)ADC_Regular_ConversionMode-&gt;Rank-&gt;Sampling Time,采样时间,小一些比较快，但是可能采集的信号波动大，大一些时间长一点，采集的波动小；<br> (15)ADC_Injected_ConversionMode-&gt;Number Of ConversionMode（注入通道转换模式）,转换模式数,默认即可。<br> 注入通道数不为0时，才有下面的配置项<br> &lt;1&gt; Number of Conversion ADC转换的注入通道数<br> &lt;2&gt; External Trigger Source ADC外部触发转换源<br> &lt;3&gt; External Trigger Edge ADC外部触发转换边沿（意思是上升沿/下降沿触发）<br> &lt;4&gt; Injected Conversion Mode ADC注入转换通道模式</p> 
<p>(16)WatchDog-&gt;Enable Analog WatchDog Mode,看门口，默认不勾选，默认即可；</p> 
<p><img src="https://images2.imgbox.com/33/03/wpfatQey_o.png" alt="在这里插入图片描述"></p> 
<p>5，NVIC配置<br> 步骤1：选择“ADC2”；<br> 步骤2：选择“NVIC Setting”;<br> 步骤3：勾选“ADC1, ADC2 and ADC3 global interrupts”的使能；启用优先级通道<br> <img src="https://images2.imgbox.com/94/7f/PX8qyV5u_o.png" alt="在这里插入图片描述"></p> 
<p>6，进行DMA配置<br> 步骤1：选择“ADC2”；<br> 步骤2：选择“DMA Setting”;<br> 步骤3：前面ADC设置中有启用了DMA通道，使用这里显示了ADC2的DMA信息 保持默认即可或根据需要修改对应的信息<br> Stream DMA 通道流，Direction 传输方向 由于这里是外设到内存，priority 优先级 ；<br> 步骤2：选择“DMA Setting”;</p> 
<p>使能DMA连续请求，就应该采用循环模式Circular Mode，它意味着可以重复加载数据到目标地址<br> <img src="https://images2.imgbox.com/f1/a3/VaXU3uxE_o.png" alt="在这里插入图片描述"></p> 
<p>三、配置系统时钟<br> 步骤1：选择“Clock&amp;Configuration”;<br> 步骤2：外部高速晶振的大小，作者用的开发板上，外部高速晶振大小时8MHz,读者根据自己使用的开发板上的晶振大小输入对应的值即可；<br> 步骤3：选择器选择下面园点，即选中外部晶振作为输入源；如果电路没外部晶振，可选择上面圆点，选择芯片内部高速晶振作为输入，本工程选外部输入；<br> 步骤4：选择“PLLCLK”，就是选择倍频器PLL作为输入时钟源，如果没外部高速晶振，则选择HSI(第一个圆点)；<br> 步骤5：直接输入“168”，作为系统的主频大小。<br> 以上修改完成后 回车，如果右提示，选择确认即可。</p> 
<p><img src="https://images2.imgbox.com/6a/b1/wGwTz0GP_o.png" alt="在这里插入图片描述"><br> 参考下图选择，高亮的位置都可以修改，修改后的值如下图所示：</p> 
<p>四、工程输出配置<br> 1、项目文件配置<br> 步骤1：选择“Project Manager”<br> 步骤2：选择“Project”<br> 步骤3：输入工程名称，作者这里输入“ADC”，表示ADC功能的工程，一般名称体现工程的作用，可以自定义；<br> 步骤4：点击“Browse”,选择工程存放的路径，不要包含中文；<br> 步骤5：下拉选择“MDK-ARM”，表示用的IDE是keil；可以根据自己使用的编程软件选择，这里作者选用“MDK-ARM”；后面的“V5.27”则是软件的版本号；<br> 步骤6：芯片的HAL库固件包，勾选后面，会自动选择，一般会自动更新到最新版本；<br> <img src="https://images2.imgbox.com/f6/38/OKJPRk0u_o.png" alt="在这里插入图片描述"></p> 
<p>2、代码生成配置<br> 步骤7：选择“Code Generator”;<br> 步骤8：STM32Cube MCU packages and embedded software packs,STM32Cube MCU 软件包和嵌入式软件包选择，本工程选中第一条；<br> 第一条：Copy all used libraries into the project folder:将所有使用的库复制到项目文件夹中;<br> 第二条：Copy only the necessary library files:只复制必要的库文件;<br> 第三条：Add necessary library files as reference in the toolchain project configuration file:在工具链项目配置文件中添加必要的库文件作为参考;<br> 建议选中第一条，将所以的包含，避免后续开发出现遗漏的文件，方便后续功能增加，就是工程代码量会大一些；</p> 
<p>步骤9：Generated files,生成文件，本工程选中，第一、三、四，三个选项；<br> 第一条：Generate pripheral initalization as a pair of ‘.c/.h’ files per peripheral:将外围设备初始化生成为每个外围设备的一对“.c/.h”文件<br> 第二条：Backup previously generated files when re-generating,重新生成时备份以前生成的文件<br> 第三条：Keep User Code when re-generating,重新生成时保留用户代码<br> 第四条：Delete previously generated files when not re-generated ,不重新生成时删除以前生成的文件<br> 步骤10：点击“GENERATE CODE”<br> <img src="https://images2.imgbox.com/fd/9f/Qtpmx0Fr_o.png" alt="在这里插入图片描述"></p> 
<p>点击生成后弹出提示框，点击“Open Project”,即可打开工程。<br> <img src="https://images2.imgbox.com/d6/4f/CyZzlyDS_o.png" alt="在这里插入图片描述"><br> 五、代码补充<br> 1、补充串口代码<br> 串口是为了方便测试查看ADC的采集数据，重定向了printf函数，具体操作如下：<br> 打开“usart.c”文件，<br> 在文件头文件引用的“/* USER CODE BEGIN 0 /” 和“ / USER CODE END 1 */ ”之间添加如下代码：</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stdio.h"</span></span>

</code></pre> 
<p>在末尾的“/* USER CODE BEGIN 1 /” 和“ / USER CODE END 1 */ ”之间添加如下代码：</p> 
<pre><code class="prism language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token number">1</span></span></span>
<span class="token comment">//#pragma import(__use_no_semihosting)             </span>
<span class="token comment">//标准库需要的支持函数                 </span>
<span class="token keyword">struct</span> <span class="token class-name">__FILE</span> 
<span class="token punctuation">{<!-- --></span> 
	<span class="token keyword">int</span> handle<span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
 
FILE __stdout<span class="token punctuation">;</span>       
<span class="token comment">//定义_sys_exit()以避免使用半主机模式    </span>
<span class="token keyword">void</span> <span class="token function">_sys_exit</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> 
<span class="token punctuation">{<!-- --></span> 
	x <span class="token operator">=</span> x<span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">//重定义fputc函数 </span>
<span class="token keyword">int</span> <span class="token function">fputc</span><span class="token punctuation">(</span><span class="token keyword">int</span> ch<span class="token punctuation">,</span> FILE <span class="token operator">*</span>f<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span> 	
	 <span class="token function">HAL_UART_Transmit</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>huart1<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">uint8_t</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>ch<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0x0001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
	<span class="token keyword">return</span> ch<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在Whil循环中添加</p> 
<pre><code class="prism language-c">  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token comment">/* USER CODE END WHILE */</span>

<span class="token comment">//		i=0;</span>
<span class="token comment">//		printf("\r\n");</span>
<span class="token comment">//			ad1 += ADC_Value[i++];</span>
<span class="token comment">//			printf("ADC1_value=%d\r\n", ADC_Value[i]);</span>
<span class="token comment">//			ad2 += ADC_Value[i++];</span>
<span class="token comment">						printf("ADC2_value=%d\r\n", ADC_Value[i]);</span>
<span class="token comment">//			ad3 += ADC_Value[i++];</span>
<span class="token comment">//			printf("ADC3_value=%d\r\n", ADC_Value[i]);</span>

		
		
<span class="token comment">//		printf("\r\n");</span>
				<span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">,</span> ad1 <span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">,</span> ad2<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">,</span> ad3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">19</span><span class="token punctuation">;</span> <span class="token punctuation">)</span>
		<span class="token punctuation">{<!-- --></span>	
			
			ad1 <span class="token operator">+=</span> ADC_Value<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//						printf("%d\r\n", ADC_Value[i]);</span>
			ad2 <span class="token operator">+=</span> ADC_Value<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//						printf("ADC2_value=%d,位置：%d\r\n", ADC_Value[i]);</span>
			ad3 <span class="token operator">+=</span> ADC_Value<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//						printf("ADC3_value=%d\r\n", ADC_Value[i]);</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\r\n"</span><span class="token punctuation">,</span> ADC_Value<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
<span class="token comment">//		ad1 /= 10;</span>
<span class="token comment">//		ad2 /= 10;//均值输出</span>
<span class="token comment">//		ad3 /= 10;//均值输出</span>
		
<span class="token comment">//		printf("\r\n");</span>
<span class="token comment">//		printf("ADC1_value=%.3fV\r\n", ad1*3.3f/4096);</span>
<span class="token comment">		printf("ADC2_value=%.3fV\r\n" ,ad2*3.3f/4096);//打印</span>
<span class="token comment">//		printf("ADC3_value=%.3fV\r\n" ,ad3*3.3f/4096);//打印</span>
		<span class="token function">HAL_Delay</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
		
		
    <span class="token comment">/* USER CODE BEGIN 3 */</span>
  <span class="token punctuation">}</span>
</code></pre> 
<p>通过连接0V或3.3V电压，再printf打印输出可确定引脚对应的通道，也可区分 DMA搬运时对应的数据。<br> 最近我发现循环中超出一定的数量 打印多个数据后。精准ADC准确度下降，准确来说是数据位好像偏移了。后面没有深究</p> 
<p>七、总结<br> 1.本次的ADC转化时间计算为<br> 配置为：<br> 外挂8M晶振<br> 系统时钟 168M<br> ADC挂在PCLK2时钟下，ADC分频：4 ，ADC时钟：21M<br> 采样间隔：3 cycles<br> TCONV(转换时间) = 采样时间+ 12.5 个周期<br> 3 + 12.5 = 15.5<br> 采样通道数：3<br> 采样时间 =（3+12.5）*3 / 21M = 2.214us</p> 
<p>其他ADC采样时间、采样周期、采样频率计算方法链接如下：</p> 
<p>https://www.cnblogs.com/lifan3a/articles/10968911.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f977ad71cc42d3a351fa7f9ce6f455c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GCC编译错误分析 collect2: error: ld returned 1 exit status</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a984df0f288442145c874cc4f6b5c7cf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">yocto杂记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>