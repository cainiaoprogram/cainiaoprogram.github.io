<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker启动Mysql - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker启动Mysql" />
<meta property="og:description" content="操作系统：windows
docker桌面：Docker Desktop
DockerHub账号：xxxx
操作步骤：
1、docker hub下载mysql镜像。直接在“image”菜单主界面搜索框搜索“mysql”，根据需求下载指定版本。这里以latest为例，选中某版本镜像，点击“Pull”即可拉去该镜像。
2、下载完成之后在“image”菜单中即可看见对应的镜像信息。
3、有了镜像之后就可以直接点击运行按钮，配置上基本的初始化信息即可生成对应的container。配置项如图（使用最基本的配置项，足够正常使用mysql），配置完成点击“Run”即可运行。
4、成功运行之后在“containers”菜单中即可看见此运行中container，点击container名称即可实时查看运行状况。最酷的是提供直接进入container内部的“Terminal”，通过此工具我们可以直接操作container内部的所有内容。
5、测试mysql是否成功启动并可以使用，命令行尝试登录mysql，使用命令“mysql -uroot -proot”，这里为了方便直接将密码加在命令行中，实际操作万万不可将密码直接放在命令行中，应当使用“mysql -uroot -p”，等待提示再输入密码（此时密码不显示，不要误认为没有输进去！）
6、此时可见已经成功通过命令进入mysql命令模式，说明我们已经成功完成基本操作。我们尝试执行一下sql语句。成功运行。
7、接下来我们可以通过连接工具远程连接。
大功告成！！！
避坑事项： 1、mysql不允许远程连接（举例：一般虚拟机安装会出现该问题）
container内部进入命令模式，登录mysql，进行修改mysql的host值，将允许所有host登录root账号。
执行命令：
# 修改host
“update user set host = ‘%’ where user = ‘root’;”
# 刷新
“flush privileges;”
2、navicat无法连接（mysql密码加密模式增强）
执行命令：
# 更改mysql密码加密模式
“ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;newPassword&#39;;”
3、命令行也无法登录“Access denied for user ‘root‘@‘localhost‘(using password:YES/NO)”
①密码输入错误/未输入密码
重新输入正确密码进行尝试。
②账号问题
主机提供跳过密码验证方式登录，登录完成修改root密码即可
# 跳过密码认证
&#34;mysqld -console --skip-grant-tables --shared-memory&#34;
# 切换为mysql数据库
&#34;use mysql;&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7cd8eb2ded7749506ed63099e51d40ce/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T15:24:41+08:00" />
<meta property="article:modified_time" content="2023-05-31T15:24:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker启动Mysql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>操作系统：windows</strong></p> 
<p><strong>docker桌面：Docker Desktop</strong></p> 
<p><strong>DockerHub账号：xxxx</strong></p> 
<p>操作步骤：</p> 
<p>1、docker hub下载mysql镜像。直接在“image”菜单主界面搜索框搜索“mysql”，根据需求下载指定版本。这里以latest为例，选中某版本镜像，点击“Pull”即可拉去该镜像。</p> 
<p class="img-center"><img alt="" height="873" src="https://images2.imgbox.com/97/0b/QFrSUXrv_o.png" width="800"></p> 
<p> 2、下载完成之后在“image”菜单中即可看见对应的镜像信息。</p> 
<p><img alt="" height="444" src="https://images2.imgbox.com/99/1d/XMLfA37a_o.png" width="1200"></p> 
<p> 3、有了镜像之后就可以直接点击运行按钮，配置上基本的初始化信息即可生成对应的container。配置项如图（使用最基本的配置项，足够正常使用mysql），配置完成点击“Run”即可运行。</p> 
<p><img alt="" height="707" src="https://images2.imgbox.com/6c/4b/oFxKp4Ve_o.png" width="582"></p> 
<p> 4、成功运行之后在“containers”菜单中即可看见此运行中container，点击container名称即可实时查看运行状况。最酷的是提供直接进入container内部的“Terminal”，通过此工具我们可以直接操作container内部的所有内容。</p> 
<p><img alt="" height="423" src="https://images2.imgbox.com/70/c2/s2CxFajy_o.png" width="1200"></p> 
<p> <img alt="" height="509" src="https://images2.imgbox.com/c4/cc/gdkUtx8c_o.png" width="1200"></p> 
<p> 5、测试mysql是否成功启动并可以使用，命令行尝试登录mysql，使用命令“mysql -uroot -proot”，这里为了方便直接将密码加在命令行中，实际操作万万不可将密码直接放在命令行中，应当使用“mysql -uroot -p”，等待提示再输入密码（此时密码不显示，不要误认为没有输进去！）</p> 
<p><img alt="" height="494" src="https://images2.imgbox.com/17/3f/zelBMzSC_o.png" width="1066"></p> 
<p> 6、此时可见已经成功通过命令进入mysql命令模式，说明我们已经成功完成基本操作。我们尝试执行一下sql语句。成功运行。</p> 
<p><img alt="" height="797" src="https://images2.imgbox.com/25/ef/BvXCvpke_o.png" width="1138"></p> 
<p> 7、接下来我们可以通过连接工具远程连接。</p> 
<p><img alt="" height="662" src="https://images2.imgbox.com/6f/89/mPlchraf_o.png" width="564"></p> 
<p><img alt="" height="667" src="https://images2.imgbox.com/79/80/LI0QYXUD_o.png" width="558"> </p> 
<p> 大功告成！！！</p> 
<p></p> 
<h2><strong>避坑事项：</strong></h2> 
<p><strong>1、mysql不允许远程连接（举例：一般虚拟机安装会出现该问题）</strong></p> 
<p>        container内部进入命令模式，登录mysql，进行修改mysql的host值，将允许所有host登录root账号。</p> 
<p>        执行命令：</p> 
<p>                # 修改host</p> 
<p>                “update user set host = ‘%’ where user = ‘root’;”</p> 
<p>                # 刷新</p> 
<p>                “flush privileges;”</p> 
<p><strong>2、navicat无法连接（mysql密码加密模式增强）</strong></p> 
<p>执行命令：</p> 
<p>        # 更改mysql密码加密模式</p> 
<p>        “ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'newPassword';”</p> 
<p><strong>3、命令行也无法登录“Access denied for user ‘root‘@‘localhost‘(using password:YES/NO)”</strong></p> 
<p>        ①密码输入错误/未输入密码</p> 
<p>                重新输入正确密码进行尝试。</p> 
<p>        ②账号问题</p> 
<p>                主机提供跳过密码验证方式登录，登录完成修改root密码即可</p> 
<p>                # 跳过密码认证</p> 
<p>                "mysqld -console --skip-grant-tables --shared-memory"</p> 
<p>                # 切换为mysql数据库</p> 
<p>                "use mysql;"</p> 
<p>                # 设置root密码</p> 
<p>                "update user set authentication_string=password('root') where user='root'；"</p> 
<p>                # 刷新</p> 
<p>                “flush privileges;”</p> 
<p>                 重启container-----------------ing</p> 
<p>                “mysql -uroot -p”进行登录</p> 
<p><strong>                </strong></p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8f53ddfff30a357526e9e5cf5c3d8801/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">redisTemplate 批量获取指定key下所有数据，并删除</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/82f38ca8fc80329d987210ee294f6ebc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">big.Int</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>