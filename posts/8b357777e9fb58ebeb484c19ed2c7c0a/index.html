<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>新手云服务器上搭建个人网站&#43;数据库（宝塔面板） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="新手云服务器上搭建个人网站&#43;数据库（宝塔面板）" />
<meta property="og:description" content="1.环境准备 一台云服务器。 推荐大厂：阿里云，华为云，腾讯云，百度云等,这里我的操作系统是centos7。
2.连接云服务器安装宝塔面板 提示：ssh，xshell，Workbench 都可以远程连接
2.1这里我使用面板自带的Workbench连接。 2.2 安装宝塔面板
宝塔Linux面板安装教程 安装成功后会有登录信息，访问链接进入宝塔面板，安装宝塔面板推荐的 LNMP 这个系统 也就是下面这几个软件。
3.建立网站 3.1 设置安全策略和防火墙 服务器安全策略打开一些常用端口 例如mysql3306端口，http443端口，在创建一些建站端口，我的是5555,5354端口，后面自己的网页就是ip&#43;端口(没有购买域名，学习够用就行)。
3.2 服务器防火墙（centos）
查看防火墙是否开启
systemctl status firewalld.service 查看防火墙放行端口
firewall-cmd --list-ports 永久添加5555端口，放行端口
firewall-cmd --zone=public --add-port=5555/tcp --permanent 重新加载防火墙配置，再次执行上面代码查看放行端口
sudo firewall-cmd --reload 注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口
注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口
注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口
重要！！！！！！！！
3.3 宝塔面板建站 这里是创建网站的默认文件（可以换成自己的）
建站默认默认网页，访问例如http://47.111.222.333:5555/ （公网ip&#43;端口）
4.创建云数据库服务器 4.1 宝塔面板创建数据库，这里我选择的是mysql
4.2 登录mysql,执行以下命令登录，出现mysql&gt;命令符登录成功 mysql -u study -p 4.4 创建简单的mysql表 (可以使用 navicat 工具来管理数据库) 使用study数据库
use study; 创建user表
CREATE TABLE `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(50) NOT NULL, `info` varchar(255) NOT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8; 插入数据" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8b357777e9fb58ebeb484c19ed2c7c0a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-25T17:44:14+08:00" />
<meta property="article:modified_time" content="2023-08-25T17:44:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">新手云服务器上搭建个人网站&#43;数据库（宝塔面板）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="1_0"></a>1.环境准备</h2> 
<ul><li>一台云服务器。</li></ul> 
<blockquote> 
 <p>推荐大厂：阿里云，华为云，腾讯云，百度云等,这里我的操作系统是centos7。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e8/7e/4eCcEgEe_o.jpg" alt="服务器"></p> 
<hr> 
<h2><a id="2_8"></a>2.连接云服务器安装宝塔面板</h2> 
<p><code> 提示：ssh，xshell，Workbench 都可以远程连接</code></p> 
<ul><li>2.1这里我使用面板自带的Workbench连接。</li></ul> 
<p><img src="https://images2.imgbox.com/6c/bd/C5XHltZw_o.jpg" alt="远程登录"></p> 
<ul><li>2.2 安装宝塔面板<br> <a href="https://www.bt.cn/bbs/thread-19376-1-1.html" rel="nofollow">宝塔Linux面板安装教程</a></li></ul> 
<blockquote> 
 <p>安装成功后会有登录信息，访问链接进入宝塔面板，安装宝塔面板推荐的 LNMP 这个系统 也就是下面这几个软件。</p> 
</blockquote> 
<h3><a id="httpsimgblogcsdnimgcn9cbb272e6b5345b28decc7ae00a08f63jpegpic_center_18"></a><img src="https://images2.imgbox.com/46/0a/WE4ASPuZ_o.jpg" alt="软件"></h3> 
<h2><a id="3_21"></a>3.建立网站</h2> 
<ul><li>3.1 设置安全策略和防火墙</li></ul> 
<blockquote> 
 <p>服务器安全策略打开一些常用端口 例如mysql3306端口，http443端口，在创建一些建站端口，我的是5555,5354端口，后面自己的网页就是ip+端口(没有购买域名，学习够用就行)。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/89/a3/mr6GAqm1_o.jpg" alt="安全策略"></p> 
<ul><li>3.2 服务器防火墙（centos）<br> <img src="https://images2.imgbox.com/67/14/xEGR7Ya4_o.jpg" alt="防火墙"></li></ul> 
<p><code>查看防火墙是否开启</code></p> 
<pre><code>systemctl status firewalld.service
</code></pre> 
<p><code>查看防火墙放行端口</code></p> 
<pre><code>firewall-cmd --list-ports
</code></pre> 
<p><code>永久添加5555端口，放行端口</code></p> 
<pre><code>firewall-cmd --zone=public --add-port=5555/tcp --permanent
</code></pre> 
<p><code>重新加载防火墙配置，再次执行上面代码查看放行端口</code></p> 
<pre><code>sudo firewall-cmd --reload
</code></pre> 
<blockquote> 
 <p>注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口<br> 注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口<br> 注意：后面建站访问不起一定一定一定是你运行商服务器安全策略没打开，防火墙没放行端口<br> 重要！！！！！！！！</p> 
</blockquote> 
<ul><li>3.3 宝塔面板建站</li></ul> 
<p><img src="https://images2.imgbox.com/79/8e/RALQu3mU_o.jpg" alt="搭建网站"><br> <img src="https://images2.imgbox.com/c7/9d/qbKRz6zF_o.jpg" alt="根目录"></p> 
<blockquote> 
 <p>这里是创建网站的默认文件（可以换成自己的）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d3/e1/OuFvCMQk_o.jpg" alt="网页文件"></p> 
<blockquote> 
 <p>建站默认默认网页，访问例如http://47.111.222.333:5555/ （公网ip+端口）</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2e/33/JMiOlPUR_o.jpg" alt="默认网页"></p> 
<hr> 
<h2><a id="4_68"></a>4.创建云数据库服务器</h2> 
<ul><li>4.1 宝塔面板创建数据库，这里我选择的是mysql<br> <img src="https://images2.imgbox.com/88/1c/cr3YOXwc_o.jpg" alt="mysql"></li><li>4.2 登录mysql,执行以下命令登录，出现mysql&gt;命令符登录成功</li></ul> 
<pre><code>mysql -u study -p
</code></pre> 
<p><img src="https://images2.imgbox.com/fb/af/qZKhIK8A_o.jpg" alt="登录mysql"></p> 
<ul><li>4.4 创建简单的mysql表 (可以使用 navicat 工具来管理数据库)</li></ul> 
<p><code>使用study数据库</code></p> 
<pre><code>use study;
</code></pre> 
<p><code>创建user表</code></p> 
<pre><code>CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  `info` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8;
</code></pre> 
<p><code>插入数据</code></p> 
<pre><code> INSERT INTO user (name, info) VALUES ('xiaotang', '66666666666');
</code></pre> 
<p><code>查看数据</code></p> 
<pre><code>select * from user;
</code></pre> 
<p><img src="https://images2.imgbox.com/9b/40/3gyv8IsR_o.jpg" alt="查询mysql数据"></p> 
<blockquote> 
 <p>这里数据库的操作就好了。</p> 
</blockquote> 
<ul><li>4.3 创建 api 接口服务器了 （这里使用 node.js 搭建）</li></ul> 
<pre><code>/* api.js */
const express = require('express')
const app = express()
const mysql = require('mysql')
const cors = require('cors')
const bodyParser = require('body-parser')
/* 中间件处理跨域 */
app.use(cors())
/* 连接mysql数据库 */
const db = mysql.createConnection({
  host: 'localhost',
  port: '3306',
  user: 'study',
  password: '123456',
  database: 'study'
})
db.connect((err) =&gt; {
  if (err) {
    console.log(err)
  } else {
    console.log('success')
  }
})

app.use(bodyParser.json())
app.use(bodyParser.urlencoded({ extended: true }))
/* 监听5354端口 */
app.listen(5354, () =&gt; {
  console.log('——————————服务已启动——————————')
})

// 查看服务启动没有，返回的html元素
app.get('/', (req, res) =&gt; {
  res.send('&lt;p style="color:red"&gt;服务已启动&lt;/p&gt;')
})

/* 创建api */
app.get('/user', (req, res) =&gt; {
  db.query('select * from user', (err, result) =&gt; {
    if (err) throw err
    res.send(result)
  })
})
</code></pre> 
<blockquote> 
 <p>本地写的api.js上传到服务器，可以使用 scp 命令，winscp工具，这里我使用的宝塔功能，上传到我在 wwwroot 下创建 nodeServer 这个文件夹里，其他文件先不用管都是后面生成的。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b8/dc/r15mvHh7_o.jpg" alt="在这里插入图片描述"></p> 
<ul><li>4.5 搭建 node.js 环境，使用宝塔一键安装，宝塔面板-&gt;软件商店-&gt;PM2管理器，安装完成后远程终端查看。</li></ul> 
<p><img src="https://images2.imgbox.com/8f/57/PLVGllKb_o.jpg" alt="pm2"><br> <code> 查看 pm2 版本 有则安装成功，无则失败</code></p> 
<pre><code>pm2 -v
</code></pre> 
<p><code> 查看 node 版本</code></p> 
<pre><code>node -v
</code></pre> 
<p><code> cd 进入 api.js 文件目录</code></p> 
<pre><code>cd /www/wwwroot/nodeServer/
</code></pre> 
<p><code>初始化</code></p> 
<pre><code>node init -y
</code></pre> 
<p><code>安装 api.js 依赖 express mysql cors body-parser </code></p> 
<pre><code>npm install express mysql cors body-parser
</code></pre> 
<p><code>在当前文件路径下 运行 node 服务</code></p> 
<pre><code>node api.js 或者 pm2 start “node api.js”
</code></pre> 
<blockquote> 
 <p>pm2 管理服务自行了解。</p> 
</blockquote> 
<ul><li>4.6 本地浏览器测试 （测试工具 postman apifox）<br> <img src="https://images2.imgbox.com/cb/d8/tWhAmV3k_o.jpg" alt="测试"></li><li>postman 测试</li></ul> 
<p><img src="https://images2.imgbox.com/0f/9e/GI9W51ik_o.jpg" alt="postman"></p> 
<blockquote> 
 <p>大功告成！！！</p> 
</blockquote> 
<h2><a id="5_199"></a>5.上传自己的项目</h2> 
<blockquote> 
 <p>问： 全栈开发还远吗？？？？<br> 答： 是的，很远~~，从入门到放弃！！</p> 
</blockquote> 
<h2><a id="6_203"></a>6.尾语</h2> 
<blockquote> 
 <p>学习是漫长的，要长期坚持，一步一个脚印！未来的你一定会感谢今天努力学习的你 —— 心灵鸡汤</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/8f/9f/3UYw54fl_o.gif" alt="鸡汤"></p> 
<blockquote> 
 <p>前进！！！！！</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7dc2ea885cfce9cd4e98d7994af16424/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">TensorFlow：tensorflow.keras.Model.fit（）报错： TypeError: Failed to convert elements of xxx</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6d23e1488a8cebf651bc5ff1b88e26cb/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">计算机基础（一）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>