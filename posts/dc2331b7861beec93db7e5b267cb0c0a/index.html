<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Swagger2的使用和配置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Swagger2的使用和配置" />
<meta property="og:description" content="1.简介
帮助前端开发人员便捷调用后端api的，减少不必要的沟通联调，自动生成接口文档，并且也可以像postman一样发送https请求的一款自带UI的插件
2.注解
@Api()：用在请求的类上，表示对类的说明，也代表了这个类是swagger2的资源
参数：
tags：说明该类的作用，参数是个数组，可以填多个。 value=&#34;该参数没什么意义，在UI界面上不显示，所以不用配置&#34; description = &#34;用户基本信息操作&#34; @ApiOperation()：用于方法，表示一个http请求访问该方法的操作
参数：
value=&#34;方法的用途和作用&#34; notes=&#34;方法的注意事项和备注&#34; tags：说明该方法的作用，参数是个数组，可以填多个。 格式：tags={&#34;作用1&#34;,&#34;作用2&#34;} （在这里建议不使用这个参数，会使界面看上去有点乱，前两个常用） @ApiModel()：用于响应实体类上，用于说明实体作用
参数：
description=&#34;描述实体的作用&#34; @ApiModelProperty：用在属性上，描述实体类的属性
参数：
value=&#34;用户名&#34; 描述参数的意义 name=&#34;name&#34; 参数的变量名 required=true 参数是否必选 @ApiImplicitParams：用在请求的方法上，包含多@ApiImplicitParam
@ApiImplicitParam：用于方法，表示单独的请求参数
参数：
name=&#34;参数ming&#34; value=&#34;参数说明&#34; dataType=&#34;数据类型&#34; paramType=&#34;query&#34; 表示参数放在哪里 · header 请求参数的获取：@RequestHeader · query 请求参数的获取：@RequestParam · path（用于restful接口） 请求参数的获取：@PathVariable · body（不常用） · form（不常用） defaultValue=&#34;参数的默认值&#34; required=&#34;true&#34; 表示参数是否必须传 @ApiParam()：用于方法，参数，字段说明 表示对参数的要求和说明
参数：
name=&#34;参数名称&#34; value=&#34;参数的简要说明&#34; defaultValue=&#34;参数默认值&#34; required=&#34;true&#34; 表示属性是否必填，默认为false @ApiResponses：用于请求的方法上，根据响应码表示不同响应
一个@ApiResponses包含多个@ApiResponse
@ApiResponse：用在请求的方法上，表示不同的响应
参数：
code=&#34;404&#34; 表示响应码(int型)，可自定义 message=&#34;状态码对应的响应信息&#34; @ApiIgnore()：用于类或者方法上，不被显示在页面上
3.配置" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dc2331b7861beec93db7e5b267cb0c0a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-17T22:49:37+08:00" />
<meta property="article:modified_time" content="2022-10-17T22:49:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Swagger2的使用和配置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>1.简介</strong></p> 
<p>        帮助前端开发人员便捷调用后端api的，减少不必要的沟通联调，自动生成接口文档，并且也可以像postman一样发送https请求的一款自带UI的插件</p> 
<hr> 
<p><strong>2.注解</strong></p> 
<p><strong>@Api()</strong>：用在请求的类上，表示对类的说明，也代表了这个类是swagger2的资源</p> 
<p>参数：</p> 
<pre><code>tags：说明该类的作用，参数是个数组，可以填多个。
value="该参数没什么意义，在UI界面上不显示，所以不用配置"
description = "用户基本信息操作"</code></pre> 
<p><strong>@ApiOperation()</strong>：用于方法，表示一个http请求访问该方法的操作</p> 
<p>参数：</p> 
<pre><code>value="方法的用途和作用"    
notes="方法的注意事项和备注"    
tags：说明该方法的作用，参数是个数组，可以填多个。
格式：tags={"作用1","作用2"} 
（在这里建议不使用这个参数，会使界面看上去有点乱，前两个常用）</code></pre> 
<p><strong>@ApiModel()</strong>：用于响应实体类上，用于说明实体作用</p> 
<p>参数：</p> 
<pre><code>description="描述实体的作用"  </code></pre> 
<p><strong>@ApiModelProperty</strong>：用在属性上，描述实体类的属性</p> 
<p>参数：</p> 
<pre><code>value="用户名"  描述参数的意义
name="name"    参数的变量名
required=true     参数是否必选</code></pre> 
<p><strong>@ApiImplicitParams</strong>：用在请求的方法上，包含多@ApiImplicitParam</p> 
<p><strong>@ApiImplicitParam</strong>：用于方法，表示单独的请求参数</p> 
<p>参数：</p> 
<pre><code>name="参数ming" 
value="参数说明" 
dataType="数据类型" 
paramType="query" 表示参数放在哪里
    · header 请求参数的获取：@RequestHeader
    · query   请求参数的获取：@RequestParam
    · path（用于restful接口） 请求参数的获取：@PathVariable
    · body（不常用）
    · form（不常用） 
defaultValue="参数的默认值"
required="true" 表示参数是否必须传</code></pre> 
<p><strong>@ApiParam()</strong>：用于方法，参数，字段说明 表示对参数的要求和说明</p> 
<p>参数：</p> 
<pre><code>name="参数名称"
value="参数的简要说明"
defaultValue="参数默认值"
required="true" 表示属性是否必填，默认为false</code></pre> 
<p><strong>@ApiResponses</strong>：用于请求的方法上，根据响应码表示不同响应</p> 
<p>一个@ApiResponses包含多个@ApiResponse</p> 
<p><strong>@ApiResponse</strong>：用在请求的方法上，表示不同的响应</p> 
<p>参数：</p> 
<pre><code>code="404"    表示响应码(int型)，可自定义
message="状态码对应的响应信息"   </code></pre> 
<p><strong>@ApiIgnore()</strong>：用于类或者方法上，不被显示在页面上</p> 
<hr> 
<p><strong> 3.配置</strong></p> 
<p>步骤1:pom文件导入依赖</p> 
<pre><code class="language-XML">&lt;!--swagger--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;</code></pre> 
<p>步骤2：启动类添加@EnableSwagger2注解</p> 
<pre><code class="language-java">@SpringBootApplication
@EnableSwagger2
@ComponentScan(basePackages = {""})
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class);
    }
}</code></pre> 
<p>步骤3:编写SwaggerConfig文件</p> 
<pre><code class="language-java">@EnableSwagger2
@Configuration
public class SwaggerConfig implements WebMvcConfigurer {

    /**
    * apiInfo() 增加API相关信息
    * 所有的注解
    * .apis(RequestHandlerSelectors.any()) 
    * 指定部分注解1.Api.class(@APi),2.ApiOperation.class(@ApiOperation),3.ApiImplicitParam.class(@ApiImplicitParam)
    *.apis(RequestHandlerSelectors.withMethodAnnotation(Api.class))
    * 指定包路径
    * .apis(RequestHandlerSelectors.basePackage("这里填写需要的路径"))
    * .paths() 这个是包路径下的路径,PathSelectors.any()是包下所有路径
    */
    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .useDefaultResponseMessages(false)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.any())
                .paths(PathSelectors.any())
                //创建
                .build();
    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("SpringBoot-Swagger2集成")
                .description("springboot | swagger")
                // 作者信息
                .contact(new Contact("kacen", "https://www.baidu.com", "abc@qq.com"))
                .version("0.0.1")
                .build();
    }

}</code></pre> 
<p>步骤4:输入<a href="http://localhost:8080/swagger-ui.html" rel="nofollow" title="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a> 看接口文档吧</p> 
<hr> 
<p><strong>4.错误信息</strong></p> 
<p>Caused by: java.lang.NullPointerException: Cannot invoke "org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()" because the return value of "springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)" is null<br>     at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]</p> 
<p>解决方法:</p> 
<p>在application.yml配置</p> 
<blockquote> 
 <pre>spring：
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher</pre> 
</blockquote> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e2ad2490c46dbc4ed9b79588310eb2a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Web服务器——踩过的坑（一）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/71d87cb37e71943424c12aee16aa065e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">nohup &amp; ——Linux后台运行命令</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>