<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python报错：ModuleNotFoundError: No module named ‘xxx‘可能的解决方案大全 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python报错：ModuleNotFoundError: No module named ‘xxx‘可能的解决方案大全" />
<meta property="og:description" content="Python报错：&#34;ModuleNotFoundError: No module named &#39;xxx&#39;&#34;这个报错是个非常常见的报错，几乎每个python程序员都遇到过，导致这个报错的原因也非常多。
下面是我曾经遇到过的原因和解决方案：
module包没安装
忘了import
没有__init__.py文件
package包的版本不对
自定义的包名与安装的包名相同，导致import包的时候导错了包
没设置PYTHONPATH或者
自建的module包所在路径不在PYTHONPATH下
不恰当的使用了相对导入
下面是每种情况分别的解决方案：
1、module包没安装 使用场景： pip安装的第三方的包找不到
这个原因比较常见，解决办法就是pip install相应的包即可。如果不确定是否安装了这个包，使用下面的命令查找报警的那个包名，如果有输出结果，说明存在这个包，否则说明不存在这个包。
pip list | grep xxx #把xxx替换成你的包名即可 如果在pip install的过程中提示包找不到，没有这个版本的包，可能是需要加上内置源，比如想要下载公司内部的包，那肯定需要加上公司的内置源才能找到相应的包。内置源的的使用方式加上-i参数即可。
pip install xxx -i https://xxx.xx.org/simple # 比如下面是清华的源 # https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/ 2、忘了import 使用场景： pip安装的第三方的包找不到、自建的module包找不到
module安装了但是没有import，这个原因也经常碰到，比如使用了datetime对象， 但是没有导入datetime包。解决方案同样非常简单，import 相应的包即可。比如下面的案例：
import os import sys import time import datetime 这种情况最容易出现在从别处copy了一段了代码，但是没有把所有用到的module导入进来。
3、没有__init__.py文件 使用场景： 自建的module包找不到
因为python在解释包的时候会给本文件夹也就是本module下的所有文件建立一个索引放在当前路径下的__init__.py文件中，如果没有module的文件索引，我们即使import了指定的包，解释器还是找不到这个module下的文件的，因而我们一般会在每个文件夹下建一个空的__init__.py文件。如果一个文件夹下没有__init__.py文件，不会被当做一个module。
解决方案： 如果这个包是你自己写的，不妨检查一下待导入的包的根目录是否存在一个__init__.py文件，没有的话建一个空的__init__.py文件即可 （注意：不光要检查待导入的包根目录是否存在__init__.py文件，还需要检查当前程序所在文件夹是否存在这个文件）。如果这个包是pip install来的，那基本上可以忽略这种可能了，继续尝试下面的原因吧。
对于缺少__init__.py文件这种情况，还有一种报错形式是： ImportError: attempted relative import with no known parent package 4、安装的第三方module包的版本不对 使用场景： pip安装的第三方的包找不到" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/60388e51bbd821126df29e2cfa1ec42c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-24T11:23:45+08:00" />
<meta property="article:modified_time" content="2023-03-24T11:23:45+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python报错：ModuleNotFoundError: No module named ‘xxx‘可能的解决方案大全</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-indent:1.4em;">Python报错："<span class="kdocs-bold" style="font-weight:bold;">ModuleNotFoundError: No module named 'xxx'</span>"这个报错是个非常常见的报错，几乎每个python程序员都遇到过，导致这个报错的原因也非常多。</p> 
 <p style="text-indent:1.4em;">下面是我曾经遇到过的原因和解决方案：</p> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>module包没安装</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>忘了import</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>没有__init__.py文件</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>package包的版本不对</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>自定义的包名与安装的包名相同，导致import包的时候导错了包</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>没设置PYTHONPATH或者</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>自建的module包所在路径不在PYTHONPATH下</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p>不恰当的使用了相对导入</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;text-align:null;"><p>下面是每种情况分别的解决方案：</p></li></ul> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1、module包没安装</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> pip安装的第三方的包找不到</p> 
 <p style="text-align:null;">这个原因比较常见，解决办法就是pip install相应的包即可。如果不确定是否安装了这个包，使用下面的命令查找报警的那个包名，如果有输出结果，说明存在这个包，否则说明不存在这个包。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">pip list | grep xxx   #把xxx替换成你的包名即可</code></pre> 
 <p style="text-align:null;">如果在pip install的过程中提示包找不到，没有这个版本的包，可能是需要加上内置源，比如想要下载公司内部的包，那肯定需要加上公司的内置源才能找到相应的包。内置源的的使用方式加上-i参数即可。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">pip install xxx -i https://xxx.xx.org/simple

# 比如下面是清华的源

# https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/</code></pre> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2、忘了import</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> pip安装的第三方的包找不到、自建的module包找不到</p> 
 <p style="text-align:null;">module安装了但是没有import，这个原因也经常碰到，比如使用了datetime对象， 但是没有导入datetime包。<span class="kdocs-bold" style="font-weight:bold;">解决方案</span>同样非常简单，import 相应的包即可。比如下面的案例：</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">import os

import sys
import time

import datetime</code></pre> 
 <p style="text-align:null;">这种情况最容易出现在从别处copy了一段了代码，但是没有把所有用到的module导入进来。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3、没有__init__.py文件</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> 自建的module包找不到</p> 
 <p style="text-align:null;">因为python在解释包的时候会给本文件夹也就是本module下的所有文件建立一个索引放在当前路径下的__init__.py文件中，如果没有module的文件索引，我们即使import了指定的包，解释器还是找不到这个module下的文件的，因而我们一般会在每个文件夹下建一个空的__init__.py文件。如果一个文件夹下没有__init__.py文件，不会被当做一个module。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">解决方案：</span> 如果这个包是你自己写的，不妨检查一下待导入的包的根目录是否存在一个__init__.py文件，没有的话建一个空的__init__.py文件即可 <span class="kdocs-bold" style="font-weight:bold;">（注意：不光要检查待导入的包根目录是否存在__init__.py文件，还需要检查当前程序所在文件夹是否存在这个文件</span>）。如果这个包是pip install来的，那基本上可以忽略这种可能了，继续尝试下面的原因吧。</p> 
 <blockquote class="kdocs-blockquote" style="text-align:left;">
   对于缺少__init__.py文件这种情况，还有一种报错形式是： 
  <span class="kdocs-bold" style="font-weight:bold;">ImportError: attempted relative import with no known parent package</span> 
 </blockquote> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">4、安装的第三方module包的版本不对</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> pip安装的第三方的包找不到</p> 
 <p style="text-align:null;">当看到这里，说明你已经检查并确定了module已经被安装了，import语句也有，<span class="kdocs-bold" style="font-weight:bold;">init</span>.py文件同样满足。这个时候或许可以怀疑一下是否是第三方包的版本与当前所用python版本不兼容。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">解决方案</span>是需要先卸载原来pip 安装的包，然后安装一个指定版本的包。比如python3不兼容 2.0版本及以上的DBUitls包，需要安装1.x的版本才行。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">pip uninstall DBUtils

pip install DBUtils==1.3</code></pre> 
 <p style="text-align:null;">可能有同学会问怎么确定这个module是否跟当前的python版本兼容呢？这个很遗憾的告诉你，我也不知道，但是可以尝试把’找不到xxx包' 的报警提示直接复制到搜索引擎中搜索结果，如果是因为不兼容的原因很容易就能找到对应的说明博客，博客中一定会说明需要安装哪个版本的包比较合适，按照博客说明来操做即可。如果找了一圈都没发现关于不兼容的说法，放弃吧，说明你的问题应该不是这个情况。打起精神，继续尝试下一种解决方案吧。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">5、自建的包名与第三方安装的包名相同，导致import包的时候导错了包</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> pip安装的第三方的包找不到、自建的module包找不到</p> 
 <p style="text-align:null;">这种情况不经常发生，但是一旦发生，非常难找到原因。我曾经就自己在当前项目下创建了名为kafka的module文件夹（包含__init__.py文件的文件夹被称为module文件夹），而我又使用pip命令安装了一个kafka包，我在程序中使用import kafka命令导包的时候其实我是想导入pip下来的第三方包的，但是因为python包管理机制和包查找优先级，会优先从当前路径下找指定的包，如果当前文件夹下存在指定的包，则不会去PYATHONPATH或者其他路径下找包。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">解决方式</span>是给自己的文件夹换个名字，使得与第三方包名不冲突。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">6、没设置PYTHONPATH环境变量</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">使用场景：</span> pip安装的第三方的包找不到</p> 
 <p style="text-align:null;">有同学可能会说为什么有同学也没设置这个环境变量，为啥他就能顺利执行，我就不行，这里我只能说每个人的电脑的开发环境不一样，开发环境这种东西永远带有点玄学的意味。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">解决方案：</span></p> 
 <p style="text-align:null;">再次执行安装intall这个包的命令，这时它不会再次安装，而是会提示xxx包在xx路径已经满足，而之所以找不到，是因为没有把这个路径添加到PYTHONPATH这一环境变量中。这里以DBUtils包为例：</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">% pip install DBUtils==1.3

Requirement already satisfied: DBUtils==1.3 in ./venv/lib/python3.9/site-packages (1.3)</code></pre> 
 <p style="text-align:null;">复制上面的路径,然后在terminal终端执行下面这条命令，把加粗标记的路径改成你刚才复制的路径就好。这条命令即可将刚才的包路径添加到环境变量中。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">export PYTHONPATH= ./venv/lib/python3.9/site-packages:$PYTHONPATH</code></pre> 
 <p style="text-align:null;">无论是否在虚拟环境中，这样的解决方式都可以生效。</p> 
 <p style="text-align:null;">再次执行程序，应该不会报包找不到的问题了。</p> 
 <p style="text-align:null;">如果仍然不行，那么指定pip -V命令，查看输出结果中的"/pip"之前路径是否和刚才加入环境变量的路径一样，如果不一样，把这个路径也加入到环境变量中。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">% pip -V
pip 21.1.3 from /Users/lch/python_project/learn_python/venv/lib/python3.9/site-packages/pip (python 3.9)</code></pre> 
 <p style="text-align:null;">其实我的pip -V输出的路径和刚才的路径是一样的，但是为了演示不一样的情况，这里假设这个路径和刚才添加的路径不一样，这里再添加一遍到环境变量。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">export PYTHONPATH= /Users/lch/python_project/learn_python/venv/lib/python3.9/site-packages:$PYTHONPATH</code></pre> 
 <blockquote class="kdocs-blockquote" style="text-align:left;"> 
  <span class="kdocs-bold" style="font-weight:bold;">提示：</span> 直接在终端运行export关键字来添加环境变量的方式可以让变量立即生效，不需要source某个文件，但是这个方式只适用于当前终端，一旦当前终端关闭或在另一个终端中，则失效。如果想要长久生效，参考“Linux和Mac环境变量设置”将路径添加到环境变量文件中。 
 </blockquote> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">7、自建的module包所在路径不在PYTHONPATH下</span></h3> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">适用场景：</span> 自建的包找不到</p> 
 <p style="text-align:null;">在IDE中执行python程序，编译器会自动把当前项目的根目录加入到包查找路径中，可以理解为加到PYTHONPATH下，所以直接执行是没有问题的。但是在cmd或者terminal控制台中直接使用python相关命令来执行程序，不会自动将当前项目加入到PYTHONPATH环境变量下，如果涉及到import其他文件夹下的变量就会报类似ImportError: No module named xxx这样的错误。</p> 
 <p style="text-align:null;"><span class="kdocs-bold" style="font-weight:bold;">解决方法</span>是使用sys.append()命令把报警包的所在文件夹路径加入到PYTHONPATH。下面是一个 ：</p> 
 <p style="text-align:null;">比如你的项目下叫做learn_python, 下面是你的项目根目录下的文件结构。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">├──README.md

├──__init__.py

├──conf

│   ├── __init__.py

│   ├── offline_conf.py # 本地运行配置文件

│   └── online_conf.py  # 线上运行配置文件

└──server      # 启动服务文件夹

     ├── __init__.py

     └── launch.py</code></pre> 
 <p style="text-align:null;">你在运行launch.py时报警conf这个module找不到，这个时候就应该通过sys.append()命令把conf所在文件夹的路径（注意是conf所在文件夹的路径，不是conf的路径），也就是 learn_python的根路径添加到PYTHONPATH中，下面是实现方案的代码。</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">import sys

import logging

import os

# 把当前文件所在文件夹的父文件夹路径加入到PYTHONPATH

sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from conf.online_conf import *</code></pre> 
 <p style="text-align:null;">os.path.abspath(<span class="kdocs-bold" style="font-weight:bold;">file</span>)获取到的是launch.py的绝对路径；os.path.dirname(os.path.abspath(<span class="kdocs-bold" style="font-weight:bold;">file</span>))获取到的是launch.py所在文件夹的也就是server的根路径</p> 
 <p style="text-align:null;">os.path.dirname(os.path.dirname(os.path.abspath(<span class="kdocs-bold" style="font-weight:bold;">file</span>)))获取到的是server所在文件夹也就是learn_python的根路径。</p> 
 <p style="text-align:null;">至此就获取到了learn_pyhton的根路径，使用sys.append()命令把路径添加到环境变量中即可。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">8、不恰当的使用了相对导入</span></h3> 
 <p style="text-align:null;">python相对导入常见问题和解决方案</p> 
 <h3 style="text-align:left;">最后</h3> 
 <p style="text-indent:1.4em;text-align:null;">当你排查完了以上所有情况，发现自己都不符合，而且在网上找了很多文章也没找到解决方案，这个时候别独自挣扎了，因为你很可能是犯了一个很低级小众的错误，继续独自排查很难找到问题所在。最好让身边的同学帮你看一下，所谓当局者迷，旁观者清，可能你看了很长时间却没关注到一些比较基础且常见的设置，这时同事或者同学往往能很快看出你的问题所在。比如你可能一直以为你用的python3, 而实际上用的是python2等等。</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d064aabbb2a50bb8900d8545a5f6697/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Jenkins离线部署方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fe8c99fb15b30f8d2a370dbc3f69b405/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uniapp PUSH1.0</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>