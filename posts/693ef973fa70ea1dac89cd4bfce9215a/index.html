<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android和iOS设备截图优化的一点总结 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android和iOS设备截图优化的一点总结" />
<meta property="og:description" content="常规的截图方式 在日常需要截图的工作中，常规的处理方式是手机自带的截图功能，完成后再通过工具发送到PC设备，整个过程分为两步，比较的麻烦
另一种方式是直接在PC端使用adb 命令或者tidevice工具对目标设备进行截图，然后手动去拉取
Android：
截图：
adb shell screencap -p /sdcard/screen.png
拉取：
adb pull /sdcard/screen.png ~/desktop/screen.png iOS：
依赖tidevice工具：
tidevice screenshot ~/Desktop/screen.png 对于日常截图的需求也是足够的，比较的方便
组合截图方式 我们可以将以上的两个步骤组合起来，实现比较的方便的截图和查看图片一步到位
Android：adb shell screencap -p /sdcard/screen.png &amp;&amp; adb pull /sdcard/screen.png ~/desktop/screen.png &amp;&amp; open ~/desktop/screen.png
iOS :
tidevice screenshot ~/Desktop/screen.png &amp;&amp; open ~/Desktop/screen.png
组合起来之后，再分别为两个组合命令加个别名到zsh, 用起来也是非常的方便，但对于某些时候，我们需要进行比较多的截图工作的时候，这种方式并不很好用，因为每次截图保存的图片名称都是一样的，会导致下一次截图覆盖上一次截图，导致不能同时保存多张截图，除非手动修改
脚本实现随机名称命名截图 于是我们可以写个shell 脚本，对文件名进行随机命名优化
1.新建一个shell 脚本，获取当前的时间作为图片的名称，它是绝对随机的，不会出现重复的情况
2.在拉取到PC端时再为其命名，不用管它之前是什么名称
Android：
#!/bin/sh file_name=$(date &#43;%s) adb shell screencap -p /sdcard/screen.png &amp;&amp; adb pull /sdcard/screen.png ~/Desktop/$file_name.png &amp;&amp; open ~/Desktop/$file_name." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/693ef973fa70ea1dac89cd4bfce9215a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-19T11:15:52+08:00" />
<meta property="article:modified_time" content="2022-12-19T11:15:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android和iOS设备截图优化的一点总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>常规的截图方式</h3> 
<p>在日常需要截图的工作中，常规的处理方式是手机自带的截图功能，完成后再通过工具发送到PC设备，整个过程分为两步，比较的麻烦<br> 另一种方式是直接在PC端使用adb 命令或者tidevice工具对目标设备进行截图，然后手动去拉取<br> Android：<br> 截图：<br> <code>adb shell screencap -p /sdcard/screen.png</code><br> 拉取：<br> <code>adb pull /sdcard/screen.png ~/desktop/screen.png </code></p> 
<p>iOS：<br> 依赖tidevice工具：<br> <code>tidevice screenshot ~/Desktop/screen.png </code></p> 
<p>对于日常截图的需求也是足够的，比较的方便</p> 
<h3><a id="_14"></a>组合截图方式</h3> 
<p>我们可以将以上的两个步骤组合起来，实现比较的方便的截图和查看图片一步到位<br> Android：<code>adb shell screencap -p /sdcard/screen.png &amp;&amp; adb pull /sdcard/screen.png ~/desktop/screen.png &amp;&amp; open ~/desktop/screen.png</code></p> 
<p>iOS :<br> <code>tidevice screenshot ~/Desktop/screen.png &amp;&amp; open ~/Desktop/screen.png</code><br> 组合起来之后，再分别为两个组合命令加个别名到zsh, 用起来也是非常的方便，但对于某些时候，我们需要进行比较多的截图工作的时候，这种方式并不很好用，因为每次截图保存的图片名称都是一样的，会导致下一次截图覆盖上一次截图，导致不能同时保存多张截图，除非手动修改</p> 
<h3><a id="_22"></a>脚本实现随机名称命名截图</h3> 
<p>于是我们可以写个shell 脚本，对文件名进行随机命名优化<br> 1.新建一个shell 脚本，获取当前的时间作为图片的名称，它是绝对随机的，不会出现重复的情况<br> 2.在拉取到PC端时再为其命名，不用管它之前是什么名称<br> Android：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#!/bin/sh</span>
file_name=$<span class="token punctuation">(</span>date <span class="token operator">+</span><span class="token operator">%</span>s<span class="token punctuation">)</span>
adb shell screencap <span class="token operator">-</span>p <span class="token operator">/</span>sdcard/screen<span class="token punctuation">.</span>png &amp;&amp; adb pull <span class="token operator">/</span>sdcard/screen<span class="token punctuation">.</span>png ~<span class="token operator">/</span>Desktop/<span class="token variable">$file_name</span><span class="token punctuation">.</span>png  &amp;&amp; open ~<span class="token operator">/</span>Desktop/<span class="token variable">$file_name</span><span class="token punctuation">.</span>png
</code></pre> 
<p>iOS：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#!/bin/sh</span>
file_name=$<span class="token punctuation">(</span>date <span class="token operator">+</span><span class="token operator">%</span>s<span class="token punctuation">)</span>
tidevice screenshot ~<span class="token operator">/</span>Desktop/<span class="token variable">$file_name</span><span class="token punctuation">.</span>png &amp;&amp; open ~<span class="token operator">/</span>Desktop/<span class="token variable">$file_name</span><span class="token punctuation">.</span>png
</code></pre> 
<p>两个脚本都写好之后，chmod 777 为其增加可执行权限<br> 然后分别为Android和iOS的截图工具的脚本执行命令增加别名到zsh, 就可以方便的使用了<br> a_screen=“sh ~/a_screenshot.sh”<br> i_screen=“sh ~/i_screenshot.sh”</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2e8b549a3e157e5269e7942de03868d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java取奇偶数的基本练习</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/471c3b4a54d812ca90422faec5b9fcf5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js练习：换肤</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>