<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>阶跃响应指标的matlab计算 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="阶跃响应指标的matlab计算" />
<meta property="og:description" content="原文地址：阶跃响应指标的matlab计算 作者：了凡春秋 最近师兄让帮忙计算阶跃响应的指标，就是改定实验数据或仿真数据，求响应指标（概念见程序中）。编程代码和效果如下
%% 求阶跃响应的典型指标
function main_GetPerformanceOfStepResponse
clc
clear all
close all
global gTolerance
gTolerance = 0.05; % 调整时间的偏差容许范围
%% test
wn = 1;
xi = 0.3;
g = tf(wn^2, [1, 2*xi*wn, wn^2]);
t = 0:0.01:15;
y = step(g,t);
%% 计算阶跃响应的指标
stepvalue = 1;
[OverShoot, RiseTime, PeakTime, AdjustTime, SteadyStateError] = GetPerformanceOfStepResponse(t, y, stepvalue);
% 绘图
figure
plot(t,y)
grid on
line([PeakTime, PeakTime], [0, (1 &#43; OverShoot/100)*stepvalue], &#39;color&#39;, &#39;r&#39;)
text(PeakTime, stepvalue*0.05, sprintf(&#39;峰值时间%." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dfc7109f45dc50a1ec8fb59f35f597a1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2015-11-08T15:08:36+08:00" />
<meta property="article:modified_time" content="2015-11-08T15:08:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">阶跃响应指标的matlab计算</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="sina_keyword_ad_area2" class="articalContent   newfont_family"> 
 <div class="blogzz_abstract borderc" style="padding-top:15px;margin:20px 0; border:none; border-top:1px dotted #ccc;"> 
  <div class="blogzz_ainfo" style="margin-bottom:12px;"> 
   <span style="margin-right:25px;"><strong>原文地址：</strong><a target="_blank" href="http://blog.sina.com.cn/s/blog_6163bdeb0100qiwe.html" rel="nofollow noopener noreferrer" title="阶跃响应指标的matlab计算">阶跃响应指标的matlab计算</a></span> 
   <strong>作者：</strong><a href="http://blog.sina.com.cn/u/1633926635" rel="nofollow noopener noreferrer" title="了凡春秋" target="_blank">了凡春秋</a> 
  </div> 
  <div class="blogzz_acon"> 
   <p>最近师兄让帮忙计算阶跃响应的指标，就是改定实验数据或仿真数据，求响应指标（概念见程序中）。编程代码和效果如下</p> 
   <p>%% 求阶跃响应的典型指标<br> function main_GetPerformanceOfStepResp<wbr></wbr>onse<br> clc<br> clear all<br> close all</p> 
   <p>global gTolerance<br> gTolerance = 0.05; % 调整时间的偏差容许范围</p> 
   <p>%% test<br> wn = 1;<br> xi = 0.3;<br> g = tf(wn^2, [1, 2*xi*wn, wn^2]);<br> t = 0:0.01:15;<br> y = step(g,t);</p> 
   <p>%% 计算阶跃响应的指标<br> stepvalue = 1;<br> [OverShoot, RiseTime, PeakTime, AdjustTime, SteadyStateError] = GetPerformanceOfStepResp<wbr></wbr>onse(t, y, stepvalue);</p> 
   <p>% 绘图<br> figure<br> plot(t,y)<br> grid on</p> 
   <p>line([PeakTime, PeakTime], [0, (1 + OverShoot/100)*stepvalue], 'color', 'r')<br> text(PeakTime, stepvalue*0.05, sprintf('峰值时间%.2f',PeakTime))<br> text(PeakTime, (1 + OverShoot/100 + 0.05)*stepvalue, sprintf('超调量%.2f%%',OverShoot))</p> 
   <p>line([RiseTime, RiseTime], [0, stepvalue], 'color', 'r')<br> text(RiseTime, -stepvalue*0.05, sprintf('上升时间%.2f',RiseTime))</p> 
   <p>line([AdjustTime, AdjustTime], [0, stepvalue*(1 + gTolerance)], 'color', 'r')<br> text(AdjustTime, stepvalue*0.05, sprintf('调整时间%.2f',AdjustTime))</p> 
   <p>line([AdjustTime t(end)], stepvalue*[(1 - gTolerance), (1 - gTolerance)], 'color', 'r', 'linestyle', '--')<br> text(AdjustTime, stepvalue*(1 - gTolerance-0.05), sprintf('容许范围%.2f', 1 - gTolerance))<br> line([AdjustTime t(end)], stepvalue*[(1 + gTolerance), (1 + gTolerance)], 'color', 'r', 'linestyle', '--')<br> text(AdjustTime, stepvalue*(1 + gTolerance+0.05), sprintf('容许范围%.2f', 1 + gTolerance))<br> text(t(end)*0.9, stepvalue*1.05, sprintf('稳态误差%f', SteadyStateError))</p> 
   <p>end</p> 
   <p>%% 求阶跃响应的典型指标<br> function [OverShoot, RiseTime, PeakTime, AdjustTime, SteadyStateError] = GetPerformanceOfStepResp<wbr></wbr>onse(t, y, stepvalue)<br> <font style="background-color: #00ff00">% 超调量Mp:最大超调量规定为在暂态期间输出超过对应于输入的终值的最大偏离量<br> % 上升时间tr:在暂态过程中，输出第一次达到对应于输入的终值的时间（从t=0开始计时）<br> % 峰值时间tp:对应于最大超调量发生的时间（从t=0开始计时）<br> % 调整时间ts:输出与其对应于输入的终值之间的偏差达到容许范围（一般取5%或2%）所经历的暂态过程时间（从t=0开始计时）<br> % 稳态误差err:给定输入与稳态输出的差值</font></p> 
   <p>global gTolerance</p> 
   <p>% 超调量和峰值时间<br> [OSValue, OSIndex] = max(y);<br> OverShoot = (OSValue - stepvalue)/stepvalue*100;<br> PeakTime = t(OSIndex);</p> 
   <p>% 上升时间<br> index = find(y &gt;= stepvalue, 1, 'first');<br> RiseTime = t(index);</p> 
   <p>% 调整时间和稳态误差<br> index1 = find(y &lt;= stepvalue*(1 - gTolerance), 1, 'last'); % 容许范围由全局变量指定<br> index2 = find(y &gt;= stepvalue*(1 + gTolerance), 1, 'last');</p> 
   <p>if isempty(index2) % 如果没有超调量，此值为空<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> index = index1;<br> else<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> index = max(index1, index2);<br> end</p> 
   <p><br> index = max(index1, index2);<br> AdjustTime = t(index);</p> 
   <p>SteadyStateError = mean(y(index:end)) - stepvalue; % 这里的稳态误差计算为调整时间后的数据平均值与给定输入的差，概念上是最后时刻的值与给定输入的差</p> 
   <p>end</p> 
   <p> <wbr></wbr></p> 
   <p>运行结果为：</p> 
   <p><a href="http://s5.sinaimg.cn/middle/6163bdeb4a11b9c706ed4&amp;amp;690"> <img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="https://images2.imgbox.com/46/6c/YV2dXQpV_o.gif" width="604" height="526"></a></p> 
   <p>改变容许范围偏差为0.02的结果</p> 
   <p><a href="http://s3.sinaimg.cn/middle/6163bdeb4a11b9c840792&amp;amp;690"> <img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="https://images2.imgbox.com/6a/0a/hIj3Iw3N_o.gif" width="604" height="509"></a></p> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e449cf10ae6de811f01f64c323cd596c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">异常处理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a36069b72c42ed3b1d64f0b493a7136d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VBScript，提取字符串中的一部分</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>