<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>王道计算机考研 操作系统学习笔记 &#43; 完整思维导图篇章四: 文件管理 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="王道计算机考研 操作系统学习笔记 &#43; 完整思维导图篇章四: 文件管理" />
<meta property="og:description" content="目录
文件管理
文件的逻辑结构
无结构文件
有结构文件
顺序文件
索引文件
索引顺序文件 文件目录
文件控制块（FCB）
目录结构分类
单级目录结构
两级目录结构
多级目录结构 （树形目录结构）
无环图目录结构
索引节点
文件的物理结构（文件分配方式）
文件块、磁盘块
文件分配方式 连续分配
链接分配 索引分配
文件存储空间管理
存储空间的划分与初始化
存储空间管理 空闲表法
空闲链表法
位示图法 成组链接法
文件的基本操作 创建文件 删除文件
打开文件 关闭文件
读取文件 写文件 文件共享
基于索引结点的共享方式（硬链接）
基于符号链的共享方式（软链接）
文件保护 口令保护 加密保护
​编辑访问控制
文件系统的层次结构 文件系统的全局结构
物理格式化
逻辑格式化
文件系统在内存中的结构
文件管理 文件的逻辑结构 按文件是否有结构分类，可以分为无结构文件、有结构文件两种
无结构文件 文件内部的数据就是一系列二进制流或字符流组成。又称“流式文件。如;Windows 操作系统中的 .txt 文件。 有结构文件 由一组相似的记录组成，又称“记录式文件”。每条记录又若千个数据项组成。如:数据库表文件。一般来说，每条记录有一个数据项可作为关键字(作为识别不同记录的ID)
根据各条记录的长度(占用的存储空间) 是否相等，又可分为定长记录和可变长记录两种
顺序文件 索引文件 索引顺序文件 为了进一步提高检索效率，可以为顺序文件建立多级索引表。例如，对于一个含 106个记录的文件，可先为该文件建立一张低级索引表，每 100 个记录为一组，故低级索引表中共有 10000个表项(即10000个定长记录)，再把这 10000 个定长记录分组，每组100个，为其建立顶级索引表，故顶级索引表中共有 100 个表项。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d43e00299dd4cb0606591b048089d033/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-22T08:56:13+08:00" />
<meta property="article:modified_time" content="2023-10-22T08:56:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">王道计算机考研 操作系统学习笔记 &#43; 完整思维导图篇章四: 文件管理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p id="main-toc"><strong>目录</strong></p> 
 <p id="文件管理-toc" style="margin-left:0px;"><a href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86" rel="nofollow">文件管理</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84" rel="nofollow">文件的逻辑结构</a></p> 
 <p id="%E6%97%A0%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E6%97%A0%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6" rel="nofollow">无结构文件</a></p> 
 <p id="%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6" rel="nofollow">有结构文件</a></p> 
 <p id="%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6" rel="nofollow">顺序文件</a></p> 
 <p id="%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6-toc" style="margin-left:120px;"><a href="#%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6" rel="nofollow">索引文件</a></p> 
 <p id="%E7%B4%A2%E5%BC%95%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:120px;"><a href="#%E7%B4%A2%E5%BC%95%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">索引顺序文件 </a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95" rel="nofollow">文件目录</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97%EF%BC%88FCB%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97%EF%BC%88FCB%EF%BC%89" rel="nofollow">文件控制块（FCB）</a></p> 
 <p id="目录结构分类-toc" style="margin-left:80px;"><a href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%88%86%E7%B1%BB" rel="nofollow">目录结构分类</a></p> 
 <p id="%E5%8D%95%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-toc" style="margin-left:120px;"><a href="#%E5%8D%95%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" rel="nofollow">单级目录结构</a></p> 
 <p id="%C2%A0%E4%B8%A4%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-toc" style="margin-left:120px;"><a href="#%C2%A0%E4%B8%A4%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" rel="nofollow"> 两级目录结构</a></p> 
 <p id="%E5%A4%9A%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%C2%A0%EF%BC%88%E6%A0%91%E5%BD%A2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%89-toc" style="margin-left:120px;"><a href="#%E5%A4%9A%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%C2%A0%EF%BC%88%E6%A0%91%E5%BD%A2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%89" rel="nofollow">多级目录结构 （树形目录结构）</a></p> 
 <p id="%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84-toc" style="margin-left:120px;"><a href="#%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84" rel="nofollow">无环图目录结构</a></p> 
 <p id="%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9-toc" style="margin-left:80px;"><a href="#%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9" rel="nofollow">索引节点</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%EF%BC%89-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%EF%BC%89" rel="nofollow">文件的物理结构（文件分配方式）</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E5%9D%97%E3%80%81%E7%A3%81%E7%9B%98%E5%9D%97-toc" style="margin-left:80px;"><a href="#%E6%96%87%E4%BB%B6%E5%9D%97%E3%80%81%E7%A3%81%E7%9B%98%E5%9D%97" rel="nofollow">文件块、磁盘块</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%C2%A0-toc" style="margin-left:80px;"><a href="#%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%C2%A0" rel="nofollow">文件分配方式 </a></p> 
 <p id="%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D-toc" style="margin-left:120px;"><a href="#%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D" rel="nofollow">连续分配</a></p> 
 <p id="%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D%C2%A0-toc" style="margin-left:120px;"><a href="#%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D%C2%A0" rel="nofollow">链接分配 </a></p> 
 <p id="%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D-toc" style="margin-left:120px;"><a href="#%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D" rel="nofollow">索引分配</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86" rel="nofollow">文件存储空间管理</a></p> 
 <p id="%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%92%E5%88%86%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96-toc" style="margin-left:80px;"><a href="#%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%92%E5%88%86%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96" rel="nofollow">存储空间的划分与初始化</a></p> 
 <p id="%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%C2%A0" rel="nofollow">存储空间管理 </a></p> 
 <p id="%E7%A9%BA%E9%97%B2%E8%A1%A8%E6%B3%95-toc" style="margin-left:120px;"><a href="#%E7%A9%BA%E9%97%B2%E8%A1%A8%E6%B3%95" rel="nofollow">空闲表法</a></p> 
 <p id="%C2%A0%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95-toc" style="margin-left:120px;"><a href="#%C2%A0%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95" rel="nofollow"> 空闲链表法</a></p> 
 <p id="%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95%C2%A0-toc" style="margin-left:120px;"><a href="#%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95%C2%A0" rel="nofollow">位示图法 </a></p> 
 <p id="%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95-toc" style="margin-left:120px;"><a href="#%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95" rel="nofollow">成组链接法</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%C2%A0-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%C2%A0" rel="nofollow">文件的基本操作 </a></p> 
 <p id="%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">创建文件 </a></p> 
 <p id="%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6" rel="nofollow">删除文件</a></p> 
 <p id="%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">打开文件 </a></p> 
 <p id="%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6" rel="nofollow">关闭文件</a></p> 
 <p id="%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">读取文件 </a></p> 
 <p id="%E5%86%99%E6%96%87%E4%BB%B6%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%86%99%E6%96%87%E4%BB%B6%C2%A0" rel="nofollow">写文件 </a></p> 
 <p id="%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB" rel="nofollow">文件共享</a></p> 
 <p id="%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E7%BB%93%E7%82%B9%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E7%A1%AC%E9%93%BE%E6%8E%A5%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E7%BB%93%E7%82%B9%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E7%A1%AC%E9%93%BE%E6%8E%A5%EF%BC%89" rel="nofollow">基于索引结点的共享方式（硬链接）</a></p> 
 <p id="%E5%9F%BA%E4%BA%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%89-toc" style="margin-left:80px;"><a href="#%E5%9F%BA%E4%BA%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%89" rel="nofollow">基于符号链的共享方式（软链接）</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%C2%A0-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%C2%A0" rel="nofollow">文件保护 </a></p> 
 <p id="%E5%8F%A3%E4%BB%A4%E4%BF%9D%E6%8A%A4%C2%A0-toc" style="margin-left:80px;"><a href="#%E5%8F%A3%E4%BB%A4%E4%BF%9D%E6%8A%A4%C2%A0" rel="nofollow">口令保护 </a></p> 
 <p id="%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4-toc" style="margin-left:80px;"><a href="#%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4" rel="nofollow">加密保护</a></p> 
 <p id="%E2%80%8B%E7%BC%96%E8%BE%91%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6-toc" style="margin-left:80px;"><a href="#%E2%80%8B%E7%BC%96%E8%BE%91%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6" rel="nofollow">​编辑访问控制</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%C2%A0-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%C2%A0" rel="nofollow">文件系统的层次结构 </a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%A8%E5%B1%80%E7%BB%93%E6%9E%84-toc" style="margin-left:40px;"><a href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%A8%E5%B1%80%E7%BB%93%E6%9E%84" rel="nofollow">文件系统的全局结构</a></p> 
 <p id="%E7%89%A9%E7%90%86%E6%A0%BC%E5%BC%8F%E5%8C%96-toc" style="margin-left:80px;"><a href="#%E7%89%A9%E7%90%86%E6%A0%BC%E5%BC%8F%E5%8C%96" rel="nofollow">物理格式化</a></p> 
 <p id="%E9%80%BB%E8%BE%91%E6%A0%BC%E5%BC%8F%E5%8C%96-toc" style="margin-left:80px;"><a href="#%E9%80%BB%E8%BE%91%E6%A0%BC%E5%BC%8F%E5%8C%96" rel="nofollow">逻辑格式化</a></p> 
 <p id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84-toc" style="margin-left:80px;"><a href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84" rel="nofollow">文件系统在内存中的结构</a></p> 
</blockquote> 
<h2 id="%E2%80%8B%E7%BC%96%E8%BE%91"><img alt="" height="1200" src="https://images2.imgbox.com/10/14/8TqemOjp_o.png" width="1200"></h2> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/fa/84/iwt5WwZz_o.png" width="1200"></p> 
<p><img alt="" height="729" src="https://images2.imgbox.com/37/68/uaOw19wa_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/6d/30/y8v2Rola_o.png" width="1200"><img alt="" height="1200" src="https://images2.imgbox.com/fe/49/AutaSbx8_o.png" width="1200"></p> 
<h2 id="文件管理">文件管理</h2> 
<h3 id="%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84">文件的逻辑结构</h3> 
<p style="text-align:center;"><strong>按文件是否有结构分类，可以分为无结构文件、有结构文件两种</strong></p> 
<h4 id="%E6%97%A0%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6">无结构文件</h4> 
<p>        文件内部的数据就是一系列<span style="color:#fe2c24;">二进制</span>流或<span style="color:#fe2c24;">字符流</span>组成。又称“流式文件。如;Windows 操作系统中的 .txt 文件。 </p> 
<h4 id="%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6">有结构文件</h4> 
<p>        由一组相似的记录组成，又称“记录式文件”。每条记录又若千个数据项组成。如:数据库表文件。一般来说，每条记录有一个数据项可作为<span style="color:#fe2c24;">关键字</span>(作为识别不同记录的ID)</p> 
<p>根据各条记录的长度(占用的存储空间) 是否相等，又可分为<strong>定长记录</strong>和<strong>可变长记录</strong>两种</p> 
<p><img alt="" height="755" src="https://images2.imgbox.com/dd/6f/ZSSZ2eyA_o.png" width="1200"></p> 
<p><img alt="" height="863" src="https://images2.imgbox.com/e8/cc/7S9kQFcg_o.png" width="1200"></p> 
<h5 id="%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6">顺序文件</h5> 
<p><img alt="" height="833" src="https://images2.imgbox.com/99/ca/1xaWrgnW_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/bd/03/iB4qpDTY_o.png" width="1200"></p> 
<h5 id="%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6">索引文件</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f4/a1/bJIWUtkG_o.png" width="1200"></p> 
<h5 id="%E7%B4%A2%E5%BC%95%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6%C2%A0">索引顺序文件 </h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/48/fc/dab3Q3hQ_o.png" width="1200"></p> 
<p><img alt="" height="409" src="https://images2.imgbox.com/dc/c2/TJP8INI6_o.png" width="1200"></p> 
<blockquote> 
 <p>        为了进一步提高检索效率，可以为顺序文件<span style="color:#fe2c24;">建立多级索引表</span>。例如，对于一个含 106个记录的文件，可先为该文件建立一张低级索引表，每 100 个记录为一组，故低级索引表中共有 10000个表项(即10000个定长记录)，再把这 10000 个定长记录分组，每组100个，为其建立顶级索引表，故顶级索引表中共有 100 个表项。</p> 
 <p><img alt="" height="1031" src="https://images2.imgbox.com/30/da/Nz0g6ZYJ_o.png" width="1200"></p> 
</blockquote> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/aa/b3/az83LxSf_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95">文件目录</h3> 
<h4 id="%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97%EF%BC%88FCB%EF%BC%89">文件控制块（FCB）</h4> 
<p>        一个FCB就是一个文件<span style="color:#fe2c24;">目录项</span></p> 
<p>        FCB 的有序集合称为"文件目录"FCB 中包含了文件的基本信息 (文件名、物理地址、逻辑结构、物理结构等)，存取控制信息(是否可读/可写、禁止访问的用户名单等)，使用信息(如文件的建立时间、修改时间等)。</p> 
<blockquote> 
 <p><span style="color:#0d0016;"><strong>FCB 实现了文件名和文件之间的映射。使可用户(用户程序)以实现“按名存取"</strong></span></p> 
</blockquote> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/10/4a/7vsjfjtd_o.png" width="1200"></p> 
<h4 id="目录结构分类">目录结构分类</h4> 
<h5 id="%E5%8D%95%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">单级目录结构</h5> 
<p>        早期操作系统并不支持多级目录，<span style="color:#fe2c24;">整个系统中</span>只建立一张目录表，每个文件占一个目录项</p> 
<p class="img-center"><img alt="" height="182" src="https://images2.imgbox.com/0c/06/rsFCikio_o.png" width="495"></p> 
<h5 id="%C2%A0%E4%B8%A4%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"> 两级目录结构</h5> 
<p>        早期的多用户操作系统，采用两级目录结构。分为<span style="color:#fe2c24;">主文件目录</span> (MFD，Master File Directory) 和<span style="color:#fe2c24;">用户文件目录</span>(UFD，User Flie Directory)</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/6f/09/Bq7onbBF_o.png" width="1200"></p> 
<h5 id="%E5%A4%9A%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%C2%A0%EF%BC%88%E6%A0%91%E5%BD%A2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%89">多级目录结构 （树形目录结构）</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/3b/cc/2EohvXNY_o.png" width="1200"></p> 
<p><img alt="" height="403" src="https://images2.imgbox.com/e7/37/N0pLhbiB_o.png" width="1200"></p> 
<blockquote> 
 <p>树形目录结构可以很方便地对文件进行分类，层次结构清晰，也能够更有效地进行文件的管理和保护。但是，树形结构<span style="color:#fe2c24;">不便于实现文件的共享</span>。为此，提出了“无环图目录结构”</p> 
</blockquote> 
<hr> 
<h5 id="%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">无环图目录结构</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/3e/c9/ql86gUeK_o.png" width="1200"></p> 
<hr> 
<h4 id="%E7%B4%A2%E5%BC%95%E8%8A%82%E7%82%B9">索引节点</h4> 
<blockquote> 
 <p>其实在查找各级目录的过程中只需要用到“文件名”这个信息，只有文件名匹配时，才需要读出文件的其他信息。因此可以考虑让目录表“瘦身”来提升效率 </p> 
</blockquote> 
<p><img alt="" height="749" src="https://images2.imgbox.com/ce/e9/eALd7LkM_o.png" width="1200"></p> 
<p><img alt="" height="325" src="https://images2.imgbox.com/93/8f/1sHkrmXZ_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/2a/8f/8nMD6WHs_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%EF%BC%89">文件的物理结构（文件分配方式）</h3> 
<h4 id="%E6%96%87%E4%BB%B6%E5%9D%97%E3%80%81%E7%A3%81%E7%9B%98%E5%9D%97">文件块、磁盘块</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/75/d6/SVbxWZNI_o.png" width="1200"></p> 
<h4 id="%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%C2%A0">文件分配方式 </h4> 
<h5 id="%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D">连续分配</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d9/bf/sjBUmeTl_o.png" width="1200"></p> 
<p><strong>优点： </strong></p> 
<p style="text-align:center;"><strong>读取某个磁盘块时，需要移动磁头。访问的两个磁盘块相隔越远，移动磁头所需时间就越长<br><span style="color:#fe2c24;">结论:连续分配的文件在顺序读/写时速度最快</span></strong></p> 
<p><strong>缺点：</strong> </p> 
<p class="img-center"><img alt="" height="342" src="https://images2.imgbox.com/38/7c/6gI9QAtz_o.png" width="827"></p> 
<p style="text-align:center;"><strong><span style="color:#fe2c24;">结论:物理上采用连续分配的文件不方便拓展 </span></strong></p> 
<p class="img-center"><img alt="" height="309" src="https://images2.imgbox.com/89/c0/pTZs6Xqx_o.png" width="768"></p> 
<hr> 
<h5 id="%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D%C2%A0" style="background-color:transparent;">链接分配 </h5> 
<p><strong>隐式链接</strong></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8e/ad/QIGJTOe9_o.png" width="1200"></p> 
<p class="img-center"><img alt="" height="302" src="https://images2.imgbox.com/b7/af/9G3zEiWu_o.png" width="533"></p> 
<hr> 
<p><strong>显示链接</strong></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8f/b0/VGzZtMvL_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0f/a2/Mza51nxN_o.png" width="1200"></p> 
<p class="img-center"><img alt="" height="26" src="https://images2.imgbox.com/73/17/oOIrv5eY_o.png" width="414"></p> 
<hr> 
<h5 id="%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D">索引分配</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/8a/e5/C6mRsSp6_o.png" width="1200"></p> 
<p><img alt="" height="397" src="https://images2.imgbox.com/48/39/aR5mC3EC_o.png" width="480"><img alt="" class="left" height="450" src="https://images2.imgbox.com/cd/64/PuWc1imH_o.png" width="458"></p> 
<p style="text-align:center;"><span style="color:#0d0016;"><strong> 链接方案：如果索引表太大，一个索引块装不下，那么可以将多个索引块链接起来存放。</strong></span></p> 
<p><img alt="" height="1129" src="https://images2.imgbox.com/d3/73/TbHuLKix_o.png" width="1200"><span style="color:#0d0016;"><strong> </strong></span></p> 
<hr> 
<p style="text-align:center;"><span style="color:#0d0016;"><strong>多层索引：建立多层索引(原理类似于多级页表)。使第一层索引块指向第二层的索引块。还可根据文件大小的要求再建立第三层、第四层索引块。</strong></span></p> 
<p style="text-align:center;"><img alt="" height="1185" src="https://images2.imgbox.com/34/5a/gMWXAabb_o.png" width="1200"></p> 
<blockquote> 
 <p><span style="color:#0d0016;"><strong>采用 K 层索引结构，且顶级索引表未调入内存，则访问一个数据块只需要 K + 1 次读磁盘操作 </strong></span></p> 
</blockquote> 
<hr> 
<p style="text-align:center;"><span style="color:#0d0016;"><strong>混合索引：多种索引分配方式的结合。例如，一个文件的顶级索引表中，既包含直接地址索引(直接指向数据块)，又包含一级间接索引(指向单层索引表)、还包含两级间接索引(指向两层索引表) 。 </strong></span></p> 
<p style="text-align:center;"><img alt="" height="1167" src="https://images2.imgbox.com/0b/a1/Tc9VLgzj_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/4a/1e/uBMAXNOa_o.png" width="1200"></p> 
<p><img alt="" height="1075" src="https://images2.imgbox.com/67/22/Mj24PIyb_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86">文件存储空间管理</h3> 
<h4 id="%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%92%E5%88%86%E4%B8%8E%E5%88%9D%E5%A7%8B%E5%8C%96">存储空间的划分与初始化</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/1e/b5/oeNUhwhZ_o.png" width="1200"></p> 
<h4 id="%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%C2%A0">存储空间管理 </h4> 
<h5 id="%E7%A9%BA%E9%97%B2%E8%A1%A8%E6%B3%95">空闲表法</h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/80/d9/nUvLa38I_o.png" width="1200"></p> 
<h5 id="%C2%A0%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95"> 空闲链表法</h5> 
<p class="img-center"><img alt="" height="80" src="https://images2.imgbox.com/c4/ef/iQL3r3AK_o.png" width="580"></p> 
<p><img alt="" height="1051" src="https://images2.imgbox.com/a5/9c/krihDiXU_o.png" width="1200"></p> 
<p><img alt="" height="1029" src="https://images2.imgbox.com/e1/e6/OBteEQqQ_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/05/bc/ULsHMtDE_o.png" width="1200"></p> 
<h5 id="%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95%C2%A0">位示图法 </h5> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/00/c5/YhGHXmAP_o.png" width="1200"></p> 
<p class="img-center"><img alt="" height="225" src="https://images2.imgbox.com/f5/eb/DiNkfbUq_o.png" width="627"></p> 
<hr> 
<h5 id="%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95">成组链接法</h5> 
<p>空闲表法、空闲链表法不适用于大型文件系统，因为空闲表或空闲链表可能过大。UNIX系统中采用了<span style="color:#fe2c24;">成组链接法</span>对磁盘空闲块进行管理</p> 
<p><img alt="" height="133" src="https://images2.imgbox.com/77/15/N1KIMx6j_o.png" width="1200"></p> 
<p class="img-center"><img alt="" height="262" src="https://images2.imgbox.com/0d/6a/EaFHLHSF_o.png" width="361"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/a1/e3/iUtivhZY_o.png" width="1200"></p> 
<p><img alt="" height="319" src="https://images2.imgbox.com/cf/af/YzdC5WUk_o.png" width="402"> <img alt="" height="292" src="https://images2.imgbox.com/a0/f6/l5yQelM3_o.png" width="413"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/99/25/X6Un1v5m_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%C2%A0">文件的基本操作 </h3> 
<p class="img-center"><img alt="" height="292" src="https://images2.imgbox.com/8c/d2/YO5LsMpx_o.png" width="747"></p> 
<h4 id="%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%C2%A0">创建文件 </h4> 
<p><img alt="" height="1147" src="https://images2.imgbox.com/8c/3f/uT3228A0_o.png" width="1200"></p> 
<h4 id="%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6">删除文件</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f3/34/66VtSFly_o.png" width="1200"></p> 
<h4 id="%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%C2%A0">打开文件 </h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0b/db/Ir2022pq_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/be/95/p68QMcDP_o.png" width="1200"></p> 
<h4 id="%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6">关闭文件</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f4/4e/OsGjmgz4_o.png" width="1200"></p> 
<h4 id="%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6%C2%A0">读取文件 </h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/1e/9d/2oKvCzTY_o.png" width="1200"></p> 
<h4 id="%E5%86%99%E6%96%87%E4%BB%B6%C2%A0">写文件 </h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/60/e1/Cvmo7rm8_o.png" width="1200"></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/93/7b/zMO3OCLx_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB">文件共享</h3> 
<p class="img-center"><img alt="" height="119" src="https://images2.imgbox.com/3a/a0/afaGs5Tv_o.png" width="744"></p> 
<blockquote> 
 <p>注意：</p> 
 <p>        多个用户共享同一个文件，意味着系统中只有<span style="color:#fe2c24;">“一份”</span>文件数据。并且只要某个用户修改了该文件的数据，其他用户也可以看到文件数据的变化。</p> 
 <p>        如果是多个用户都"复制”了同一个文件，那么系统中会有<span style="color:#fe2c24;">“好几份”</span>文件数据。其中一个用户修改了自己的那份文件数据，对其他用户的文件数据并没有影响。</p> 
</blockquote> 
<h4 id="%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E7%BB%93%E7%82%B9%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E7%A1%AC%E9%93%BE%E6%8E%A5%EF%BC%89">基于索引结点的共享方式（硬链接）</h4> 
<blockquote> 
 <p>        知识回顾：索引结点，是一种文件目录瘦身策略。由于检索文件时只需用到文件名，因此可以将除了文件名之外的其他信息放到索引结点中。这样目录项就只需要包含文件名、索引结点指针。</p> 
</blockquote> 
<p><img alt="" height="1023" src="https://images2.imgbox.com/bf/cd/pBzMzFyV_o.png" width="1200"></p> 
<h4 id="%E5%9F%BA%E4%BA%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%89">基于符号链的共享方式（软链接）</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/0c/76/qu6mKOjG_o.png" width="1200"></p> 
<p><img alt="" height="921" src="https://images2.imgbox.com/3c/b4/z67WRnRp_o.png" width="1200"></p> 
<p><img alt="" height="1131" src="https://images2.imgbox.com/9a/ac/X6kQqGds_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4%C2%A0">文件保护 </h3> 
<p class="img-center"><img alt="" height="202" src="https://images2.imgbox.com/97/fe/mT405G7E_o.png" width="675"></p> 
<h4 id="%E5%8F%A3%E4%BB%A4%E4%BF%9D%E6%8A%A4%C2%A0">口令保护 </h4> 
<p><img alt="" height="827" src="https://images2.imgbox.com/4a/31/oA0h7ACX_o.png" width="1200"></p> 
<h4 id="%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4">加密保护</h4> 
<h4 id="%E2%80%8B%E7%BC%96%E8%BE%91%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><img alt="" height="1185" src="https://images2.imgbox.com/fa/c5/ToTnVQrk_o.png" width="1200">访问控制</h4> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/af/5a/91us1eaH_o.png" width="1200"></p> 
<p><img alt="" height="857" src="https://images2.imgbox.com/62/15/eqPksnW4_o.png" width="1200"></p> 
<p><img alt="" height="817" src="https://images2.imgbox.com/74/33/59Ujbx0n_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%C2%A0">文件系统的层次结构 </h3> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/33/7a/yIpQB80U_o.png" width="1200"></p> 
<p><img alt="" height="867" src="https://images2.imgbox.com/c1/92/xTdhok8f_o.png" width="1200"></p> 
<hr> 
<h3 id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%85%A8%E5%B1%80%E7%BB%93%E6%9E%84">文件系统的全局结构</h3> 
<h4 id="%E7%89%A9%E7%90%86%E6%A0%BC%E5%BC%8F%E5%8C%96">物理格式化</h4> 
<p style="text-align:center;"><span style="color:#0d0016;"><strong>物理格式化，即低级格式化——划分扇区，检测坏扇区，并用备用扇区替换坏扇区</strong></span></p> 
<p style="text-align:center;"><img alt="" height="393" src="https://images2.imgbox.com/de/b7/JFHlLhWO_o.png" width="1200"></p> 
<h4 id="%E9%80%BB%E8%BE%91%E6%A0%BC%E5%BC%8F%E5%8C%96">逻辑格式化</h4> 
<p style="text-align:center;"><strong><span style="color:#0d0016;">逻辑格式化后，磁盘分区(分卷 Volume)，完成各分区的文件系统初始化注:逻辑格式化后，灰色部分就有实际数据了，白色部分还没有数据 </span></strong></p> 
<p><img alt="" height="635" src="https://images2.imgbox.com/99/7f/LsPAQWks_o.png" width="1200"></p> 
<h4 id="%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E7%9A%84%E7%BB%93%E6%9E%84">文件系统在内存中的结构</h4> 
<p style="text-align:center;"><span style="color:#0d0016;"><strong>注：近期访问过的目录文件会缓存在内存中，不用每次都从磁盘读入，这样可以加快目录检索速度</strong></span></p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/7f/1f/bHfYHw3a_o.png" width="1200"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/80cf403dc8291aba726ed64301075f21/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">订单 延后自动关闭，五种方案优雅搞定！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/cbf025800fe84d5b7f94233da0c8105d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">学习单片机之前，你必须要有的知识储备！-51单片机学习笔记1-单片机概述</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>