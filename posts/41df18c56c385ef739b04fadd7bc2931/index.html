<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Docker 介绍、安装及常用命令 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Docker 介绍、安装及常用命令" />
<meta property="og:description" content="一.介绍 1. Docker是什么 1、Docker是基于Go语言实现的云开源项目，诞生于2013年初，最初是dotCloud公司发起。
2、Docker通过对应用组件的封装、分发、部署、运行等生命周期的管理，达到应用组件级别的“一次封装，到处运行”。这里应用组件，即可以是Web应用，也可以是一套数据库服务，甚至是一个操作系统或编译器。
3、Docker通俗理解就只需要两句口号： “Build, Ship and Run （搭建、发送、运行）”“Build once，Run anywhere（搭建一次，到处能用）” 2、Docker作用 1、快速搭建重复环境 2、保证开发测试等环境完全相同 3. Docker组成 镜像(Image)容器(Container)仓库(Repository) 二.Docker安装 注意：Linux centOS（版本大于等于7.0）
1. 删除旧版本 sudo yum remove docker \ docker-client \ docker-client-latest \ docker-common \ docker-latest \ docker-latest-logrotate \ docker-logrotate \ docker-selinux \ docker-engine-selinux \ docker-engine 2. 安装必备工具 yum install -y yum-utils device-mapper-persistent-data lvm2 3. 添加Docker源 yum-config-manager \ --add-repo \ https://download.docker.com/linux/centos/docker-ce.repo 4. 更新yum缓存 yum makecache fast 5. 安装 yum install docker-ce 6." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/41df18c56c385ef739b04fadd7bc2931/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-26T09:47:16+08:00" />
<meta property="article:modified_time" content="2023-09-26T09:47:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Docker 介绍、安装及常用命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <div id="article_content" class="article_content clearfix"> 
 <div id="content_views" class="markdown_views prism-atom-one-dark"> 
  <h3>一.介绍</h3> 
  <h4>1. Docker是什么</h4> 
  <p>1、Docker是基于Go语言实现的云开源项目，诞生于2013年初，最初是dotCloud公司发起。</p> 
  <p>2、Docker通过对应用组件的封装、分发、部署、运行等生命周期的管理，达到应用组件级别的“一次封装，到处运行”。这里应用组件，即可以是Web应用，也可以是一套数据库服务，甚至是一个操作系统或编译器。</p> 
  <p>3、Docker通俗理解就只需要两句口号： </p> 
  <ul><li>“Build, Ship and Run （搭建、发送、运行）”</li><li>“Build once，Run anywhere（搭建一次，到处能用）”</li></ul> 
  <p></p> 
 </div> 
</div> 
<h4><a id="2Linuxdocker_4"></a>2、Docker作用</h4> 
<div>
  1、快速搭建重复环境 
</div> 
<div>
  2、保证开发测试等环境完全相同 
</div> 
<h4><a id="3jarLinux_8"></a>3. Docker组成</h4> 
<ul><li>镜像(Image)</li><li>容器(Container)</li><li>仓库(Repository)</li></ul> 
<br> 
<h3>二.Docker安装</h3> 
<h3> </h3> 
<blockquote> 
 <p>注意：Linux centOS（版本大于等于7.0）</p> 
</blockquote> 
<h4>1. 删除旧版本</h4> 
<pre class="prettyprint"><code class="has-numbering">sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-selinux \
                  docker-engine-selinux \
                  docker-engine
</code></pre> 
<h4>2. 安装必备工具</h4> 
<pre class="prettyprint"><code class="has-numbering">yum install -y yum-utils device-mapper-persistent-data lvm2
</code></pre> 
<h4>3. 添加Docker源</h4> 
<pre class="prettyprint"><code class="has-numbering">yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre> 
<h4>4. 更新yum缓存</h4> 
<pre class="prettyprint"><code class="has-numbering">yum makecache fast
</code></pre> 
<h4>5. 安装</h4> 
<pre class="prettyprint"><code class="has-numbering">yum install docker-ce
</code></pre> 
<h4>6. 创建docker用户</h4> 
<p>创建docker_mananger用户</p> 
<pre class="prettyprint"><code class="has-numbering">useradd docker_manager
</code></pre> 
<p>设置密码</p> 
<pre class="prettyprint"><code class="has-numbering">passwd docker_manager  
docker_manager_wkt
</code></pre> 
<h4>7. 配置docker权限</h4> 
<pre class="prettyprint"><code class="has-numbering">visudo
</code></pre> 
<div>
  visudo 是配置用户权限的文件，在命令行中输入 visudo 回车之后，会进入文件操作，找到 “# %wheel ALL=(ALL) NOPASSWD: ALL” 这一行，把前面的 “#” 去掉，保存文件 
</div> 
<h4>8. 授权</h4> 
<pre class="prettyprint"><code class="has-numbering">usermod -aG wheel,docker docker_manager
</code></pre> 
<h4>9. 启动DockerCE</h4> 
<pre class="prettyprint"><code class="has-numbering">sudo systemctl enable docker
sudo systemctl start docker
</code></pre> 
<p>查看是否启动成功</p> 
<pre class="prettyprint"><code class="has-numbering">docker info
</code></pre> 
<h4>10. 镜像加速</h4> 
<pre class="prettyprint"><code class="has-numbering">vim /etc/docker/daemon.json
</code></pre> 
<p>添加以下内容</p> 
<pre class="prettyprint"><code class="has-numbering">{
  "registry-mirrors": [
    "https://registry.docker-cn.com"
  ]
}
</code></pre> 
<p>通知 systemd 重载此配置文件</p> 
<pre class="prettyprint"><code class="has-numbering">systemctl daemon-reload
</code></pre> 
<p>重启docker服务</p> 
<pre class="prettyprint"><code class="has-numbering">systemctl restart docker
</code></pre> 
<br> 
<h3>三.Docker常用命令</h3> 
<p></p> 
<h5>镜像操作</h5> 
<div>
  1. 列出本地现有 image 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker image ls
</code></pre> 
<p></p> 
<div>
  2. 删除 image 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker image rm image_name
</code></pre> 
<div>
  3. 下载 image 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker image pull  image_name
</code></pre> 
<h5>容器操作</h5> 
<div>
  1. 从 image 生成 container 实例 
</div> 
<pre class="prettyprint"><code class="has-numbering"># 新版本
docker container run image_name

#老版本
docker run image_name
</code></pre> 
<div>
  2.关闭一个容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">#通过docker强制关闭contaniner
docker container kill container_ID

#向 container 发送关闭信号，让 container 自己决定如何恰当的关闭
docker container stop container_ID
</code></pre> 
<div>
  3. 列出已有的容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">#列出正在运行的容器
docker container ls
#列出全部容器
docker container ls --all

#老版本 列出正在运行的容器
docker ps
#老版本 列出全部容器
docker ps -a       
</code></pre> 
<div>
  4. 运行已经存在的容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker container start container_ID      
</code></pre> 
<div>
  5. 删除容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker container rm container_name (或 container_ID) 

#另：在运行 image 产生 container 的时候就加上 --rm 参数，告诉 docker 只要这个 container 一退出，就删除它
docker run -it --rm ...      
</code></pre> 
<div>
  6. 从容器中拷贝文件到本机 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker container cp container_ID:path_to_file  host_path    
</code></pre> 
<div>
  7. 进入一个正在运行的容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker container exec -it container_ID  /bin/bash (或者只写 bash)          
</code></pre> 
<div>
  8. 后台运行容器 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker container run  -d  image_name         
</code></pre> 
<div>
  9.其他 
</div> 
<p></p> 
<div>
  1. 查看现有的网络 
</div> 
<p></p> 
<pre class="prettyprint"><code class="has-numbering">docker network ls

NETWORK ID          NAME                DRIVER              SCOPE
c749b1b83091        bridge              bridge              local
a23ca96b3291        host                host                local
74d0c66e9190        none                null                local
</code></pre> 
<blockquote> 
 <p>如果在运行 container 时不设定 network，则默认是第一个 bridge network .<br> 此时，如果 container expose 某个 port，例如 8080，则 bridge network 中的其他程序可以通过这个 port 与它通信。<br> 如果 host network 中程序想与它通讯，必须设置一个端口映射 -p 5000:8080，这样所有与 host network 5000 端口通讯的都可以被映射到 container 的 8080 端口。<br> 也可以让 container 直接运行在 host network 中，这就是为什么在很多运行 image 的命令中，都有 --net=host 设置。<br> 这样的话，就可以直接通过 host 的端口进行通讯了，不需要桥接映射。</p> 
</blockquote> 
<div>
  2. 文件共享 
</div> 
<pre class="prettyprint"><code class="has-numbering">docker run -v ~/shared_files:/home/docker_user/log_files  image_name

#-v /host_path:/container_path 来设置两个系统之间的共享文件夹。    
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2ea6332aa24f8b9c76c3137aa0863e07/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">windows开源版的pymol安装方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e6afe6e1e21f1fe29bbf371f4423b48/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue&#43;ElementUi实现点击表格中链接进行页面跳转和路由</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>