<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MOOC数据结构与算法Python版-第九周编程作业第一题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MOOC数据结构与算法Python版-第九周编程作业第一题" />
<meta property="og:description" content="1二叉树复原（10分）
题目内容：
给定一种序列化二叉树的方式：从根节点起始按层次遍历二叉树所有“可能”存在节点的位置：若该位置存在节点，则输出节点值，并在下一层相应增加两个可用位置；否则输出None，且不增加下一层的可用位置。
例如&#34;[5, 4, 7, 3, None, 2, None, -1, None, 9]&#34;是下图所示的二叉树序列化的结果：
其中红色箭头对所有的None进行了标记。
现给出一个二叉树以这种形式序列化的结果，请复原该二叉树并给出它的中序遍历。
输入格式:
一行合法的Python表达式，可解析为包含整数与None的列表
输出格式：
二叉树中序遍历的整数序列，以空格分隔
输入样例：
[5, 4, 7, 3, None, 2, None, -1, None, 9]
输出样例：
-1 3 4 5 9 2 7
输入样例2：
[5,1,4,None,None,3,6]
输出样例2：
1 5 3 4 6
注：树结构如图（红色箭头对None的对应位置进行了标记）：
思路：找了好多得代码，他们的思路基本是将列表反序列化为树，在进行中序遍历，代码好长注释也少看起来好复杂，感觉自己写不出来。。。偶然发现另一个思路，将二叉树尽量补全为完全二叉树，再进行遍历。提出改思路文章地址：添加链接描述
# 将二叉树补全二叉树,最后一个可以作为父节点得节点为None，想补全但是没想出来 # 最后就没补，跑代码发现结果没影响。。 def complitTree(tree): tree = [&#39;0&#39;]&#43;tree i = 1 while 2*i&#43;1 &lt;= len(tree): if tree[i] == &#39;None&#39;: tree.insert(2*i, &#39;None&#39;) tree." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/68d4bfce788cd4a4af56f7176e419765/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-12T17:48:52+08:00" />
<meta property="article:modified_time" content="2020-05-12T17:48:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MOOC数据结构与算法Python版-第九周编程作业第一题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>1二叉树复原（10分）<br> 题目内容：</p> 
<p>给定一种序列化二叉树的方式：从根节点起始按层次遍历二叉树所有“可能”存在节点的位置：若该位置存在节点，则输出节点值，并在下一层相应增加两个可用位置；否则输出None，且不增加下一层的可用位置。</p> 
<p>例如"[5, 4, 7, 3, None, 2, None, -1, None, 9]"是下图所示的二叉树序列化的结果：<br> <img src="https://images2.imgbox.com/6a/e7/HIAPkkV6_o.png" alt="在这里插入图片描述"><br> 其中红色箭头对所有的None进行了标记。</p> 
<p>现给出一个二叉树以这种形式序列化的结果，请复原该二叉树并给出它的中序遍历。</p> 
<p>输入格式:</p> 
<p>一行合法的Python表达式，可解析为包含整数与None的列表</p> 
<p>输出格式：</p> 
<p>二叉树中序遍历的整数序列，以空格分隔</p> 
<p>输入样例：</p> 
<p>[5, 4, 7, 3, None, 2, None, -1, None, 9]</p> 
<p>输出样例：</p> 
<p>-1 3 4 5 9 2 7</p> 
<p>输入样例2：</p> 
<p>[5,1,4,None,None,3,6]</p> 
<p>输出样例2：</p> 
<p>1 5 3 4 6</p> 
<p>注：树结构如图（红色箭头对None的对应位置进行了标记）：<br> <img src="https://images2.imgbox.com/bf/33/slXboQcA_o.png" alt="在这里插入图片描述"><br> 思路：找了好多得代码，他们的思路基本是将列表反序列化为树，在进行中序遍历，代码好长注释也少看起来好复杂，感觉自己写不出来。。。偶然发现另一个思路，将二叉树尽量补全为完全二叉树，再进行遍历。提出改思路文章地址：<a href="http://www.luyixian.cn/news_show_356185.aspx" rel="nofollow">添加链接描述</a></p> 
<pre><code class="prism language-python"><span class="token comment"># 将二叉树补全二叉树,最后一个可以作为父节点得节点为None，想补全但是没想出来</span>
<span class="token comment"># 最后就没补，跑代码发现结果没影响。。</span>
<span class="token keyword">def</span> <span class="token function">complitTree</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">:</span>
    tree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">]</span><span class="token operator">+</span>tree
    i <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">while</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> tree<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'None'</span><span class="token punctuation">:</span>
            tree<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token string">'None'</span><span class="token punctuation">)</span>
            tree<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'None'</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token comment"># 这里主要是补类似输入[5, 4, 7, 3, None, 2, None, -1, None, 9]中倒数第二个</span>
            <span class="token comment"># 可做父节点得节点得儿子</span>
            <span class="token keyword">if</span> tree<span class="token punctuation">[</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token keyword">is</span> <span class="token operator">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                    tree<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'None'</span><span class="token punctuation">)</span>
        i <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> tree


<span class="token comment"># 中序遍历</span>
<span class="token keyword">def</span> <span class="token function">inorder</span><span class="token punctuation">(</span>tree<span class="token punctuation">,</span> root<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> root<span class="token operator">*</span><span class="token number">2</span> <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        inorder<span class="token punctuation">(</span>tree<span class="token punctuation">,</span> root<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
    <span class="token keyword">if</span> tree<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">:</span>
        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tree<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> root<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>tree<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        inorder<span class="token punctuation">(</span>tree<span class="token punctuation">,</span> root<span class="token operator">*</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
    <span class="token keyword">return</span> result

lst <span class="token operator">=</span> <span class="token builtin">eval</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>lst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    lst<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>lst<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
lst <span class="token operator">=</span> complitTree<span class="token punctuation">(</span>lst<span class="token punctuation">)</span>
inorder<span class="token punctuation">(</span>lst<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>i <span class="token keyword">for</span> i <span class="token keyword">in</span> result <span class="token keyword">if</span> i <span class="token operator">!=</span> <span class="token string">'None'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/66/23/VLWmEtLI_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f2e75f9fc380ee18f04e5b0e77a57be3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">后台项目环境的安装和配置</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8e573d3937dbd1092c2bff9a78fe504c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">实验4 循环结构程序设计</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>