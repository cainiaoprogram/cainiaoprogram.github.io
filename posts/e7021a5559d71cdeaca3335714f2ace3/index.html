<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>leetcode_126_127_单词接龙 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="leetcode_126_127_单词接龙" />
<meta property="og:description" content="文章目录 127.单词接龙描述解题 126.单词接龙II描述解题 127.单词接龙 描述 中等
给定两个单词（beginWord 和 endWord）和一个字典，找到从 beginWord 到 endWord 的最短转换序列的长度。转换需遵循如下规则：
每次转换只能改变一个字母。
转换过程中的中间单词必须是字典中的单词。
说明:
如果不存在这样的转换序列，返回 0。
所有单词具有相同的长度。
所有单词只由小写字母组成。
字典中不存在重复的单词。
你可以假设 beginWord 和 endWord 是非空的，且二者不相同。
示例 1:
输入: beginWord = &#34;hit&#34;, endWord = &#34;cog&#34;, wordList = [&#34;hot&#34;,&#34;dot&#34;,&#34;dog&#34;,&#34;lot&#34;,&#34;log&#34;,&#34;cog&#34;] 输出: 5 解释: 一个最短转换序列是 &#34;hit&#34; -&gt; &#34;hot&#34; -&gt; &#34;dot&#34; -&gt; &#34;dog&#34; -&gt; &#34;cog&#34;, 返回它的长度 5。 示例 2:
输入: beginWord = &#34;hit&#34; endWord = &#34;cog&#34; wordList = [&#34;hot&#34;,&#34;dot&#34;,&#34;dog&#34;,&#34;lot&#34;,&#34;log&#34;] 输出: 0 解释: endWord &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e7021a5559d71cdeaca3335714f2ace3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-31T20:11:08+08:00" />
<meta property="article:modified_time" content="2020-07-31T20:11:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">leetcode_126_127_单词接龙</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#127_1" rel="nofollow">127.单词接龙</a></li><li><ul><li><a href="#_3" rel="nofollow">描述</a></li><li><a href="#_50" rel="nofollow">解题</a></li></ul> 
  </li><li><a href="#126II_173" rel="nofollow">126.单词接龙II</a></li><li><ul><li><a href="#_175" rel="nofollow">描述</a></li><li><a href="#_218" rel="nofollow">解题</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="127_1"></a>127.单词接龙</h2> 
<h3><a id="_3"></a>描述</h3> 
<p>中等</p> 
<p>给定两个单词（beginWord 和 endWord）和一个字典，找到从 beginWord 到 endWord 的最短转换序列的长度。转换需遵循如下规则：</p> 
<p>每次转换只能改变一个字母。<br> 转换过程中的中间单词必须是字典中的单词。<br> <strong>说明:</strong></p> 
<p>如果不存在这样的转换序列，返回 0。<br> 所有单词具有相同的长度。<br> 所有单词只由小写字母组成。<br> 字典中不存在重复的单词。<br> 你可以假设 beginWord 和 endWord 是非空的，且二者不相同。</p> 
<p><strong>示例 1:</strong></p> 
<pre><code>输入:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

输出: 5

解释: 一个最短转换序列是 "hit" -&gt; "hot" -&gt; "dot" -&gt; "dog" -&gt; "cog",
     返回它的长度 5。
</code></pre> 
<p><strong>示例 2:</strong></p> 
<pre><code>输入:
beginWord = "hit"
endWord = "cog"
wordList = ["hot","dot","dog","lot","log"]

输出: 0

解释: endWord "cog" 不在字典中，所以无法进行转换。
</code></pre> 
<h3><a id="_50"></a>解题</h3> 
<p>首先借助图的思想建立<strong>图</strong></p> 
<p>将单词中的某一字母换成"*"，表示可以为任何字母，比如"hit"可以转化为"*it"、“h*t"和"hi*”</p> 
<p>在"h*t"模式中包含了"hit"和"hot"，那么可以认为这两个单词之间存在一条边</p> 
<p>即只要两个单词相差一个字母，那么这两个单词之间就存在边</p> 
<p>单词之间存在边，可以认为是邻居节点</p> 
<p>建立如下的图</p> 
<p><img src="https://images2.imgbox.com/a4/da/9GEgPRwy_o.png" alt="在这里插入图片描述"></p> 
<p>然后就可以广度优先遍历来获得开始单词和结束单词之间的距离</p> 
<p><strong>算法流程</strong></p> 
<p>具体看代码</p> 
<ul><li>首先进行数据的预处理，记录每种模式下的各种单词，比如"h*t"包括了"hit"和"hot"。以模式为键，单词为值建立字典</li><li>建立单词层数的记录，比如以"hit"为开始单词，为第0层；"hot"为"hit"的邻近词，为第1层。并且也可以用于判断某单词是否遍历过，遍历到某单词，则在该记录中记录该单词的层数</li><li>建立队列对各单词进行层级的访问</li><li>取出队列第一个节点，如果该节点的邻居节点没有层数的记录，则记录为下一层的节点，并加到队伍末尾</li><li>当遍历到结束节点时，返回记录中的节点层数+1</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
<span class="token keyword">from</span> typing <span class="token keyword">import</span> List


<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">ladderLength</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> beginWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> endWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> wordList<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> endWord <span class="token operator">not</span> <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>beginWord<span class="token punctuation">)</span>
        
		<span class="token comment"># 用于保存同一种模式下的单词信息</span>
        dic <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> word <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
                dic<span class="token punctuation">[</span>word<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> word<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
		<span class="token comment"># 记录单词层数</span>
        word_level <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>beginWord<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
        queue <span class="token operator">=</span> <span class="token punctuation">[</span>beginWord<span class="token punctuation">]</span>
        <span class="token keyword">while</span> queue<span class="token punctuation">:</span>
            cur <span class="token operator">=</span> queue<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token comment"># 遍历该单词的不同模式</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token comment"># 遍历当前单词的邻居节点</span>
                <span class="token keyword">for</span> word <span class="token keyword">in</span> dic<span class="token punctuation">[</span>cur<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> cur<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                    <span class="token comment"># 添加单词的层数记录</span>
                    <span class="token keyword">if</span> word <span class="token operator">not</span> <span class="token keyword">in</span> word_level<span class="token punctuation">:</span>
                        word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> word_level<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
                        queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
					<span class="token comment"># 返回结果</span>
                    <span class="token keyword">if</span> word <span class="token operator">==</span> endWord<span class="token punctuation">:</span>
                        <span class="token keyword">return</span> word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>

        <span class="token keyword">return</span> <span class="token number">0</span>
</code></pre> 
<p>广度优先遍历有一特点，通常情况下，每一层的节点会比上一次的节点数要多，有着指数爆炸的可能性</p> 
<p>一边从起始节点开始向后查找，一边从结束节点开始向前查找</p> 
<p>分别建立从起始节点开始查找的节点层数的记录，和从结束节点开始查找的节点层数记录</p> 
<p>直到某一节点同时出现在两个记录中，说明找到了一条路径，将两个记录的层数相加即可</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>dic <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">ladderLength</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> beginWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> endWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> wordList<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> endWord <span class="token operator">not</span> <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        self<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>beginWord<span class="token punctuation">)</span>

        <span class="token keyword">for</span> word <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>dic<span class="token punctuation">[</span>word<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> word<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span>word<span class="token punctuation">)</span>

        word_level_begin <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>beginWord<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
        queue_begin <span class="token operator">=</span> <span class="token punctuation">[</span>beginWord<span class="token punctuation">]</span>

        word_level_end <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>endWord<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">}</span>
        queue_end <span class="token operator">=</span> <span class="token punctuation">[</span>endWord<span class="token punctuation">]</span>
        
        <span class="token keyword">while</span> queue_begin <span class="token operator">and</span> queue_end<span class="token punctuation">:</span>
            ans <span class="token operator">=</span> self<span class="token punctuation">.</span>visit<span class="token punctuation">(</span>queue_begin<span class="token punctuation">,</span> word_level_begin<span class="token punctuation">,</span> word_level_end<span class="token punctuation">)</span>
            <span class="token keyword">if</span> ans<span class="token punctuation">:</span>
                <span class="token keyword">return</span> ans
            ans <span class="token operator">=</span> self<span class="token punctuation">.</span>visit<span class="token punctuation">(</span>queue_end<span class="token punctuation">,</span> word_level_end<span class="token punctuation">,</span> word_level_begin<span class="token punctuation">)</span>
            <span class="token keyword">if</span> ans<span class="token punctuation">:</span>
                <span class="token keyword">return</span> ans

        <span class="token keyword">return</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">visit</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> queue<span class="token punctuation">,</span> word_level<span class="token punctuation">,</span> other_word_level<span class="token punctuation">)</span><span class="token punctuation">:</span>
        cur <span class="token operator">=</span> queue<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> word <span class="token keyword">in</span> self<span class="token punctuation">.</span>dic<span class="token punctuation">[</span>cur<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> cur<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> word <span class="token operator">not</span> <span class="token keyword">in</span> word_level<span class="token punctuation">:</span>
                    word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> word_level<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
                    queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
                <span class="token keyword">if</span> word <span class="token keyword">in</span> other_word_level<span class="token punctuation">:</span>
                    <span class="token keyword">return</span> word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">+</span> other_word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token boolean">None</span>
</code></pre> 
<h2><a id="126II_173"></a>126.单词接龙II</h2> 
<h3><a id="_175"></a>描述</h3> 
<p>困难</p> 
<p>给定两个单词（beginWord 和 endWord）和一个字典 wordList，找出所有从 beginWord 到 endWord 的最短转换序列。转换需遵循如下规则：</p> 
<p>每次转换只能改变一个字母。<br> 转换后得到的单词必须是字典中的单词。<br> <strong>说明:</strong></p> 
<p>如果不存在这样的转换序列，返回一个空列表。<br> 所有单词具有相同的长度。<br> 所有单词只由小写字母组成。<br> 字典中不存在重复的单词。<br> 你可以假设 beginWord 和 endWord 是非空的，且二者不相同。<br> <strong>示例 1:</strong></p> 
<pre><code class="prism language-xml">输入:
beginWord = "hit",
endWord = "cog",
wordList = ["hot","dot","dog","lot","log","cog"]

输出:
[
  ["hit","hot","dot","dog","cog"],
  ["hit","hot","lot","log","cog"]
]
</code></pre> 
<p><strong>示例 2:</strong></p> 
<pre><code class="prism language-xml">输入:
beginWord = "hit"
endWord = "cog"
wordList = ["hot","dot","dog","lot","log"]

输出: []

解释: endWord "cog" 不在字典中，所以不存在符合要求的转换序列。
</code></pre> 
<h3><a id="_218"></a>解题</h3> 
<p>这一题在最短序列的基础上，输出这些序列</p> 
<p>很容易想到深度优先遍历</p> 
<p>借助第127题第一种方式得到了不同节点所在层数记录，来实现DFS的层数变化</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
<span class="token keyword">from</span> typing <span class="token keyword">import</span> List


<span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>dic <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">)</span>  <span class="token comment"># 保存同种模式下的单词信息</span>
        self<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>  <span class="token comment"># 每个单词长度</span>
        self<span class="token punctuation">.</span>word_level <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>  <span class="token comment"># 记录各单词节点层数</span>

    <span class="token keyword">def</span> <span class="token function">findLadders</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> beginWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> endWord<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> wordList<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> endWord <span class="token operator">not</span> <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>beginWord<span class="token punctuation">)</span>

        <span class="token keyword">for</span> word <span class="token keyword">in</span> wordList<span class="token punctuation">:</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>dic<span class="token punctuation">[</span>word<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> word<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span>word<span class="token punctuation">)</span>

        self<span class="token punctuation">.</span>bfs<span class="token punctuation">(</span>beginWord<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span>beginWord<span class="token punctuation">,</span> endWord<span class="token punctuation">,</span> <span class="token punctuation">[</span>beginWord<span class="token punctuation">]</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> self<span class="token punctuation">.</span>res

    <span class="token comment"># 记录单词层数</span>
    <span class="token keyword">def</span> <span class="token function">bfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> beginWord<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>word_level<span class="token punctuation">[</span>beginWord<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
        queue <span class="token operator">=</span> <span class="token punctuation">[</span>beginWord<span class="token punctuation">]</span>
        <span class="token keyword">while</span> queue<span class="token punctuation">:</span>
            cur <span class="token operator">=</span> queue<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> word <span class="token keyword">in</span> self<span class="token punctuation">.</span>get_next_words<span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> word <span class="token operator">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>word_level<span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>word_level<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span>
                    queue<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>

    <span class="token comment"># 回溯查找</span>
    <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> target<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> cur <span class="token operator">==</span> target<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>

        <span class="token keyword">for</span> word <span class="token keyword">in</span> self<span class="token punctuation">.</span>get_next_words<span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token comment"># 如果当前单词cur的下一层不包含该邻居节点word，直接跳过</span>
            <span class="token comment"># 由于没有设置visit集合来标记是否已经遍历过，word可能为cur上一层节点</span>
            <span class="token keyword">if</span> self<span class="token punctuation">.</span>word_level<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">!=</span> self<span class="token punctuation">.</span>word_level<span class="token punctuation">[</span>word<span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">continue</span>

            temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span>word<span class="token punctuation">,</span> target<span class="token punctuation">,</span> temp<span class="token punctuation">)</span>
            temp<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 获取邻居节点</span>
    <span class="token keyword">def</span> <span class="token function">get_next_words</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cur<span class="token punctuation">)</span><span class="token punctuation">:</span>
        words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> word <span class="token keyword">in</span> self<span class="token punctuation">.</span>dic<span class="token punctuation">[</span>cur<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"*"</span> <span class="token operator">+</span> cur<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                words<span class="token punctuation">.</span>append<span class="token punctuation">(</span>word<span class="token punctuation">)</span>

        <span class="token keyword">return</span> words


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    beginWord <span class="token operator">=</span> <span class="token string">"hit"</span>
    endWord <span class="token operator">=</span> <span class="token string">"cog"</span>
    wordList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"hot"</span><span class="token punctuation">,</span> <span class="token string">"dot"</span><span class="token punctuation">,</span> <span class="token string">"dog"</span><span class="token punctuation">,</span> <span class="token string">"lot"</span><span class="token punctuation">,</span> <span class="token string">"log"</span><span class="token punctuation">,</span> <span class="token string">"cog"</span><span class="token punctuation">]</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>Solution<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>findLadders<span class="token punctuation">(</span>beginWord<span class="token punctuation">,</span> endWord<span class="token punctuation">,</span> wordList<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/94247fc837836907eb882a4cf4ee19df/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">下载的一个war包项目，使用tomcat打开运行</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e85a6cf66bd38ba809ec9a79920056f7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Oracle数据库的导入导出</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>