<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>panda3d场景的主要状态 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="panda3d场景的主要状态" />
<meta property="og:description" content="场景的状态包括位置、方向、缩放比例、物体朝向、颜色、可见性、透明度、相机等。
最常改变的是位置和方向。
panda3d的默认坐标系：X向右，Y向前，Z向上。
对象方向使用欧拉角度坐标；由航向（Heading|Yaw）、俯仰（Pitch）、滚动（Roll）构成。
这两句设置载入场景的位置和缩放比例；
self.environ.setScale(0.25, 0.25, 0.25)
self.environ.setPos(-8, 42, 0)
缩放比例可分别设置X、Y、Z方向的；
self.taskMgr.add(self.spinCameraTask, &#34;SpinCameraTask&#34;)
这句应该是每帧改变相机的位置和方向；
spinCameraTask，这个是自己写的函数；python的语法看上去和C#和C&#43;&#43;不同；
taskMgr，这个应是每帧调用的一个东西；
看一下手册；
Tasks are subroutines (functions) that you write that get called by Panda every frame or every specified amount of time. Event handlers are subroutines that you write that get called by Panda when certain special events occur. 任务是一个你自己写的子路由函数，被Panda每帧调用，或者指定的时间到达调用。......；
Together, these two mechanisms enable you to update your Panda world between rendering steps." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e4f8f50afe7c6117cee7498e4fb35d6d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-02T14:40:27+08:00" />
<meta property="article:modified_time" content="2022-05-02T14:40:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">panda3d场景的主要状态</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><br>     场景的状态包括位置、方向、缩放比例、物体朝向、颜色、可见性、透明度、相机等。</p> 
<p>    最常改变的是位置和方向。<br>     panda3d的默认坐标系：X向右，Y向前，Z向上。<br>     对象方向使用欧拉角度坐标；由航向（Heading|Yaw）、俯仰（Pitch）、滚动（Roll）构成。</p> 
<p>    这两句设置载入场景的位置和缩放比例；<br>     self.environ.setScale(0.25, 0.25, 0.25)<br>     self.environ.setPos(-8, 42, 0)<br>     缩放比例可分别设置X、Y、Z方向的；</p> 
<p>    self.taskMgr.add(self.spinCameraTask, "SpinCameraTask")<br>     这句应该是每帧改变相机的位置和方向；</p> 
<p>    spinCameraTask，这个是自己写的函数；python的语法看上去和C#和C++不同；</p> 
<p>    taskMgr，这个应是每帧调用的一个东西；</p> 
<p>    看一下手册；</p> 
<p>Tasks are subroutines (functions) that you write that get called by Panda every frame or every specified amount of time. Event handlers are subroutines that you write that get called by Panda when certain special events occur. <br> 任务是一个你自己写的子路由函数，被Panda每帧调用，或者指定的时间到达调用。......；<br> Together, these two mechanisms enable you to update your Panda world between rendering steps.<br> 这两个机制使你能更新你的Panda场景，在渲染的步骤之间。</p> 
<p>这函数每帧被调用，改变相机的位置和方向；这样场景就在旋转；<br> def spinCameraTask(self, task):<br>         angleDegrees = task.time * 6.0<br>         angleRadians = angleDegrees * (pi / 180.0)<br>         self.camera.setPos(20 * sin(angleRadians), -20.0 * cos(angleRadians), 3)<br>         self.camera.setHpr(angleDegrees, 0, 0)<br>         return Task.cont</p> 
<p>setPos，改变位置；<br> setHpr，改变方向；<br> setHpr的三个参数是：Yaw，Pitch，Roll；</p> 
<p>self是啥我还没搞懂；可能是ShowBase类的一个实例；有时间学习一下python语法；<br> class MyApp(ShowBase):<br>     def __init__(self):<br>         ShowBase.__init__(self)</p> 
<p></p> 
<p>只载入场景；</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/64/b4/aD5ddm4r_o.png"></p> 
<p>载入自己的egg模型；位置、方向、缩放比例自己调整；</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ab/39/RH1mm3PG_o.png"> </p> 
<p> </p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/858e7e7eb3044be12a2e63794d414d92/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">torchvision中的数据集使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d950f5d6f5cba295f74f4766ab4bb69f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">@ConfigurationProperties 提示错误</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>