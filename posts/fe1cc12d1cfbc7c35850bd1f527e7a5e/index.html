<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>LVGL(72)-v8--滑块slider - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="LVGL(72)-v8--滑块slider" />
<meta property="og:description" content="一、slider 简介 1.1 概述 Overview Slider对象看起来像一个带有旋钮的工具条。可以拖动该旋钮来设置一个值。滑块也可以是垂直的或水平的。滑动条在前面我们介绍img控件的时候有个历程有使用到，哪里我们讲述设置样式实现对滑动条的一些样式的设置。
1.2 部分和风格 Parts and Styles LV_PART_MAIN 滑块的背景，它使用了所有典型的背景样式属性。填充使指示符在相应的方向上变小。 LV_PART_INDICATOR 指示器显示滑块的当前状态。还使用了所有典型的背景样式属性。LV_PART_KNOB 按当前值绘制的矩形(或圆)。它还使用所有典型的背景属性来描述旋钮。默认情况下，旋钮为方形(可选半径)，边长等于滑块的较小边。旋钮可以用填充值做得更大。填充值也可以是非对称的。 1.3 使用 Usage 1.3.1 值和范围 Value and range 设置初始值。动画时间由样式的anim_time属性设置。
/** * Set a new value on the slider * @param obj pointer to a slider object * @param value the new value * @param anim LV_ANIM_ON: set the value with an animation; LV_ANIM_OFF: change the value immediately */ static inline void lv_slider_set_value(lv_obj_t * obj, int32_t value, lv_anim_enable_t anim) 指定滑块的范围(最小值，最大值)的函数" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fe1cc12d1cfbc7c35850bd1f527e7a5e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-13T19:19:14+08:00" />
<meta property="article:modified_time" content="2023-09-13T19:19:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">LVGL(72)-v8--滑块slider</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、slider 简介</h2> 
<h4>1.1 概述 Overview</h4> 
<p>  Slider对象看起来像一个带有旋钮的工具条。可以拖动该旋钮来设置一个值。滑块也可以是垂直的或水平的。滑动条在前面我们介绍img控件的时候有个历程有使用到，哪里我们讲述设置样式实现对滑动条的一些样式的设置。</p> 
<h4>1.2 部分和风格 Parts and Styles</h4> 
<ul><li> <span style="color:#ff9900;">LV_PART_MAIN </span>滑块的背景，它使用了所有典型的背景样式属性。填充使指示符在相应的方向上变小。</li><li><span style="color:#ff9900;"> LV_PART_INDICATOR</span> 指示器显示滑块的当前状态。还使用了所有典型的背景样式属性。</li><li><span style="color:#ff9900;">LV_PART_KNOB</span> 按当前值绘制的矩形(或圆)。它还使用所有典型的背景属性来描述旋钮。默认情况下，旋钮为方形(可选半径)，边长等于滑块的较小边。旋钮可以用填充值做得更大。填充值也可以是非对称的。</li></ul> 
<p class="img-center"><img alt="" height="182" src="https://images2.imgbox.com/68/89/9ULyjDX8_o.png" width="464"></p> 
<h4>1.3 使用 Usage</h4> 
<h6>1.3.1 值和范围 Value and range</h6> 
<p>  设置初始值。动画时间由样式的anim_time属性设置。</p> 
<pre><code class="language-cpp">/**
 * Set a new value on the slider
 * @param obj       pointer to a slider object
 * @param value     the new value
 * @param anim      LV_ANIM_ON: set the value with an animation; LV_ANIM_OFF: change the value immediately
 */
static inline void lv_slider_set_value(lv_obj_t * obj, int32_t value, lv_anim_enable_t anim)</code></pre> 
<p>  指定滑块的范围(最小值，最大值)的函数</p> 
<pre><code class="language-cpp">/**
 * Set minimum and the maximum values of a bar
 * @param obj       pointer to the slider object
 * @param min       minimum value
 * @param max       maximum value
 */
static inline void lv_slider_set_range(lv_obj_t * obj, int32_t min, int32_t max)</code></pre> 
<h6>1.3.2 模式Modes</h6> 
<p>滑块可以是以下方式之一：</p> 
<ul><li><span style="color:#ff9900;">LV_SLIDER_MODE_NORMAL</span> 如上所述的正常滑块</li><li><span style="color:#ff9900;">LV_SLIDER_SYMMETRICAL</span> 绘制指示器从零值到当前值。要求负的最小范围和正的最大范围。</li><li><span style="color:#ff9900;">LV_SLIDER_RANGE</span> 允许通过lv_bar_set_start_value(bar, new_value, LV_ANIM_ON/OFF)设置开始值。起始值必须总是小于结束值。</li></ul> 
<pre><code class="language-cpp">enum {
    LV_SLIDER_MODE_NORMAL = LV_BAR_MODE_NORMAL,
    LV_SLIDER_MODE_SYMMETRICAL = LV_BAR_MODE_SYMMETRICAL,
    LV_SLIDER_MODE_RANGE = LV_BAR_MODE_RANGE
};
typedef uint8_t lv_slider_mode_t;</code></pre> 
<p>设置模式的函数</p> 
<pre><code class="language-cpp">/**
 * Set the mode of slider.
 * @param obj       pointer to a slider object
 * @param mode      the mode of the slider. See ::lv_slider_mode_t
 */
static inline void lv_slider_set_mode(lv_obj_t * obj, lv_slider_mode_t mode)</code></pre> 
<h6>1.3.2 旋钮模式 Knob-only mode</h6> 
<p>        通常情况下，可以通过拖动旋钮或单击滑块来调整滑块。在后一种情况下，旋钮移动到单击的点，滑块的值相应地改变。在某些情况下，最好将滑块设置为只在拖动旋钮时产生反应。这个特性是通过添加LV_OBJ_FLAG_ADV_HITTEST来启用的:</p> 
<pre><code class="language-cpp">lv_obj_add_flag(slider,LV_OBJ_FLAG_ADV_HITTEST)。</code></pre> 
<h4>1.4 事件 Events</h4> 
<ul><li> <span style="color:#ff9900;">LV_EVENT_VALUE_CHANGED</span> 当滑块被拖动或用键更改时发送。当滑块被拖动时，事件被连续发送，并且只有当它被释放时才发送。使用lv_slider_is_dragged来决定是正在拖动还是刚刚释放slider。</li></ul> 
<h4>1.5 按键 Keys</h4> 
<ul><li> <span style="color:#ff9900;">LV_KEY_UP/RIGHT</span> 滑块的值增加1</li><li> <span style="color:#ff9900;">LV_KEY_DOWN/LEFT</span> 滑动条的值递减1</li></ul> 
<p>可通过lv_slider_set_range设置滑块的变化范围</p> 
<p>可通过lv_slider_get_min_value获取滑块的最小值</p> 
<p>可通过lv_slider_get_max_value获取滑块的最大值</p> 
<hr> 
<p>例子1</p> 
<pre><code class="language-cpp">/**
 * Show how to style a slider.
 */
void lv_example_slider_2(void)
{
    /*Create a transition*/
    static const lv_style_prop_t props[] = {LV_STYLE_BG_COLOR, 0};
    static lv_style_transition_dsc_t transition_dsc;
    lv_style_transition_dsc_init(&amp;transition_dsc, props, lv_anim_path_linear, 400, 0, NULL);

    static lv_style_t style_main;
    static lv_style_t style_indicator;
    static lv_style_t style_knob;
    static lv_style_t style_pressed_color;
    lv_style_init(&amp;style_main);     //设置滑块背景的样式
    lv_style_set_bg_opa(&amp;style_main, LV_OPA_COVER);     //不透明
    lv_style_set_bg_color(&amp;style_main, lv_color_hex3(0xbbb));   //背景色
    lv_style_set_radius(&amp;style_main, 0);//LV_RADIUS_CIRCLE);     // 设置样式圆角弧度
    //lv_style_set_pad_ver(&amp;style_main, -2); /*Makes the indicator larger*/ // 设置垂直方向的填充

    lv_style_init(&amp;style_indicator);    //设置滑块指示器的样式
    lv_style_set_bg_opa(&amp;style_indicator, LV_OPA_COVER);
    lv_style_set_bg_color(&amp;style_indicator, lv_palette_main(LV_PALETTE_LIGHT_BLUE));
    lv_style_set_radius(&amp;style_indicator, 0);//LV_RADIUS_CIRCLE);
    lv_style_set_transition(&amp;style_indicator, &amp;transition_dsc); // 过渡特效

    lv_style_init(&amp;style_knob);     //设置滑块旋钮的样式
    lv_style_set_bg_opa(&amp;style_knob, LV_OPA_COVER);
    lv_style_set_bg_color(&amp;style_knob, lv_color_hex(0xffffff));    
    lv_style_set_border_color(&amp;style_knob, lv_palette_darken( LV_PALETTE_GREY, 1));  //设置旋钮的边框框颜色
    lv_style_set_border_width(&amp;style_knob, 1);      //设置旋钮的边框宽度
    lv_style_set_radius(&amp;style_knob, LV_RADIUS_CIRCLE);
    lv_style_set_pad_all(&amp;style_knob, 12); /*Makes the knob larger*/    //改变旋钮大小
    lv_style_set_transition(&amp;style_knob, &amp;transition_dsc);


    lv_style_init(&amp;style_pressed_color);    //设置滑块按下的样式，按下后滑块颜色变化
    lv_style_set_bg_color(&amp;style_pressed_color, lv_palette_darken(LV_PALETTE_CYAN, 2));

    /*Create a slider and add the style*/
    lv_obj_t * slider = lv_slider_create(lv_scr_act());

    lv_obj_remove_style_all(slider);        /*Remove the styles coming from the theme*/

    lv_obj_add_style(slider, &amp;style_main, LV_PART_MAIN);
    lv_obj_add_style(slider, &amp;style_indicator, LV_PART_INDICATOR);
    lv_obj_add_style(slider, &amp;style_pressed_color, LV_PART_INDICATOR | LV_STATE_PRESSED);
    lv_obj_add_style(slider, &amp;style_knob, LV_PART_KNOB);
    lv_obj_add_style(slider, &amp;style_pressed_color, LV_PART_KNOB | LV_STATE_PRESSED);
    lv_obj_set_size(slider,500,4);

    lv_obj_center(slider);
}</code></pre> 
<p><img alt="" height="145" src="https://images2.imgbox.com/38/0d/npnIPuY8_o.gif" width="577"></p> 
<p><strong>修改指示器条的高度比背景高</strong></p> 
<p>lv_style_set_pad_ver(&amp;style_main, -4); /*Makes the indicator larger*/ // 设置垂直方向的填充</p> 
<p><img alt="" height="145" src="https://images2.imgbox.com/f5/c0/KXPuh76o_o.gif" width="577"></p> 
<p><img alt="" height="73" src="https://images2.imgbox.com/0c/46/Xryo2q0H_o.png" width="665"></p> 
<p><strong>改变旋钮的大小  lv_style_set_pad_all()</strong></p> 
<p><img alt="" height="145" src="https://images2.imgbox.com/75/65/nl9l3gDA_o.gif" width="577"></p> 
<p><img alt="" height="112" src="https://images2.imgbox.com/ca/da/kA5V2bRk_o.png" width="717"></p> 
<hr> 
<ul><li>设置slider mode为range模式</li></ul> 
<pre><code class="language-cpp">lv_slider_set_mode(slider, LV_SLIDER_MODE_RANGE);</code></pre> 
<p><img alt="" height="145" src="https://images2.imgbox.com/c0/3f/bLYjwNzo_o.gif" width="379"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4713ec36c9f2adb1dfd41fa173bd29ed/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装最新版React devtool</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3a4e50e18e87c114857f4c1e9ece91c1/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win11登录界面死循环怎么办 卡在登录微软账户进不了桌面怎么解决</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>