<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JS中的reduce()函数介绍 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JS中的reduce()函数介绍" />
<meta property="og:description" content="定义 reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。
reduce() 可以作为一个高阶函数，用于函数的 compose。
注意: reduce() 对于空数组是不会执行回调函数的。
语法 array.reduce(function(total, currentValue, currentIndex, arr), initialValue) 上面的语法参考 菜鸟联盟
通常情况下，第一个参数 使用 prev （如下）
arr.reduce(function(prev,cur,index,arr){
...
}, init);
prev：上一次调用 callbackFn 时的返回值。在第一次调用时，若指定了初始值 init，其值则为 init，否则为数组索引为 0 的元素 arr[0]。
cur：数组中正在处理的元素。在第一次调用时，若指定了初始值 init，其值则为数组索引为 0 的元素 arr[0]，否则为 arr[1]。
index：数组中正在处理的元素的索引。若指定了初始值 init，则起始索引号为 0，否则从索引 1 起始。
arr：用于遍历的数组。
看到这么多参数是不是感觉 reduce 很复杂，一开始我也是这么认为的，然后反复理解上面那些参数的含义，知道了通常情况下，常用的参数只有前面必选的两个参数 prev,cur ，下面我们来看案例
案例 1.数组求和 通常情况下，对数组求和我们常使用 for 循环 或者 forEach ，这里使用 reduc 也会比较简洁，如下
var arr = [1,5,8,10,15,66,65,25,48,55] // forEach var eachSum = 0; arr." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a62c8c93b7d0529a2357988c2009d24d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-28T17:24:29+08:00" />
<meta property="article:modified_time" content="2022-07-28T17:24:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JS中的reduce()函数介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>定义</h2> 
<p>reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。</p> 
<p>reduce() 可以作为一个高阶函数，用于函数的 compose。</p> 
<p><strong>注意:</strong> reduce() 对于空数组是不会执行回调函数的。</p> 
<hr> 
<h2>语法</h2> 
<blockquote> 
 <pre>array.reduce(function(total, currentValue, currentIndex, arr), initialValue)</pre> 
 <p>上面的语法参考 <a class="link-info" href="https://www.runoob.com/jsref/jsref-reduce.html" rel="nofollow" title="菜鸟联盟">菜鸟联盟</a></p> 
 <p>通常情况下，第一个参数 使用 <strong> prev </strong>（如下）</p> 
 <p><strong>arr.reduce(function(<span style="color:#fe2c24;">prev,cur</span>,index,arr){<!-- --><br> ...<br> }, init);</strong></p> 
</blockquote> 
<p> <img alt="" height="464" src="https://images2.imgbox.com/63/b4/EmdFVjTX_o.png" width="1162"></p> 
<blockquote> 
 <p> prev：上一次调用 callbackFn 时的返回值。在第一次调用时，若指定了初始值 init，其值则为 init，否则为数组索引为 0 的元素 arr[0]。<br> cur：数组中正在处理的元素。在第一次调用时，若指定了初始值 init，其值则为数组索引为 0 的元素 arr[0]，否则为 arr[1]。<br> index：数组中正在处理的元素的索引。若指定了初始值 init，则起始索引号为 0，否则从索引 1 起始。<br> arr：用于遍历的数组。</p> 
</blockquote> 
<p>看到这么多参数是不是感觉 reduce 很复杂，一开始我也是这么认为的，然后反复理解上面那些参数的含义，知道了通常情况下，常用的参数只有前面必选的两个参数  <strong><span style="color:#fe2c24;">prev,cur ，</span></strong><span style="color:#0d0016;">下面我们来看案例</span></p> 
<hr> 
<p></p> 
<h2>案例</h2> 
<h3><strong>1.数组求和</strong></h3> 
<blockquote> 
 <p>通常情况下，对数组求和我们常使用<strong> for 循环 或者 forEach </strong>，这里使用<strong> reduc </strong>也会比较简洁，如下</p> 
</blockquote> 
<pre><code class="language-javascript">var arr = [1,5,8,10,15,66,65,25,48,55]

//  forEach 
var eachSum = 0;
arr.forEach( item =&gt;{
  eachSum += item
})
console.log(eachSum); //298</code></pre> 
<hr> 
<pre><code class="language-javascript">var arr = [1,5,8,10,15,66,65,25,48,55]

//  reduce
 var sum = arr.reduce(function(prev,cur){
  return prev+cur;
 });

console.log(sum); //298</code></pre> 
<h3>2. 求数组项最大值</h3> 
<pre><code class="language-javascript">var arr = [1,5,8,10,15,66,65,25,48,55]
var max = arr.reduce(function (prev, cur) {
    return Math.max(prev,cur);
});

console.log(max)  //66</code></pre> 
<blockquote> 
 <p>由于未传入初始值，所以开始时 <strong>prev</strong> 的值为数组<strong>第一项 1</strong>，<strong>cur</strong> 的值为数组<strong>第二项 5</strong>，取两值最大值<strong> 5 </strong>作为下一轮函数的 <strong>prev </strong>，取数组下一项也就是<strong> 第三项 8</strong>作为下一轮函数的<strong> cur</strong> ，继续进入下一轮回调比较大小，如此反复，从而得到数组最大值。 </p> 
</blockquote> 
<h3>3.扁平一个二维数组</h3> 
<pre><code class="language-javascript">var arr = [[1, 2, 8], [3, 4, 9], [5, 6, 10]];
var res = arr.reduce((prev, cur) =&gt; prev.concat(cur), []);
console.log(res)   // [1,2,8,3,4,9,5,6,10]</code></pre> 
<blockquote> 
 <p>这里传入初始值<strong> init </strong>为空数组<strong> [ ] </strong>，所以开始说<strong> prev</strong> 的值为 <strong>[ ] </strong>, <strong>cur</strong> 为数组第一项 <strong>[1, 2, 8]，</strong>然后进行<strong> concat 操作</strong></p> 
</blockquote> 
<h2>总结</h2> 
<p><strong>reduce(callback,initiaValue)</strong>会传入两个变量，回调函数(callback)和初始值(init)。</p> 
<p>函数有四个传入参数，<strong>prev和cur</strong>，<strong>index和array</strong>。 <span style="color:#fe2c24;"><strong>Prev和 cur</strong></span> 是你必须要了解的。</p> 
<p>当没有传入初始值时，<strong>prev</strong>是从数组中第一个元素开始的，<strong>cur</strong> 是数组第二个元素。</p> 
<p>但是当传入初始值（<strong>init</strong>）后,第一个 <strong>prev </strong>将是初始值 <strong>init</strong>，<strong>cur </strong>将是数组中的第一个元素。</p> 
<blockquote> 
 <p><strong>arr</strong> 表示原数组；<br><strong>prev</strong> 表示上一次调用回调时的返回值，或者初始值<strong> init</strong>;<br><strong>cur</strong> 表示当前正在处理的数组元素；<br><strong>index</strong> 表示当前正在处理的数组元素的索引，若提供 init 值，则索引为0，否则索引为1；<br><strong>init</strong> 表示初始值。</p> 
</blockquote> 
<hr> 
<p>文章如有错误，恳请大家提出问题，本人不胜感激 。 不懂的地方可以评论，我都会一 一回复</p> 
<p>文章对大家有帮助的话，希望大家能动手点赞鼓励，大家未来一起努力     长路漫漫，道阻且长  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2eab7f001d92db21ab07d3e9793b6323/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Numpy 常见函数及使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0441e5dcc33a1523a2bbed80cf8bc240/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">卷积神经网络（CNN）之卷积操作、池化操作、激活函数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>