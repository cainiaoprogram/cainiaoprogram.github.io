<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python求遍历、最短路径、最小生成树、旅行商问题并绘图展示 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python求遍历、最短路径、最小生成树、旅行商问题并绘图展示" />
<meta property="og:description" content="一、源数据 二、python程序 (1) 数据预处理 import numpy as np import pandas as pd from scipy.sparse import coo_matrix import networkx as nx import matplotlib.pyplot as plt # 避免图片无法显示中文 plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;] # 显示所有列 pd.set_option(&#39;display.max_columns&#39;, None) pd.set_option(&#39;display.width&#39;, 1000) # 读取数据 data=pd.read_excel(&#39;data.xlsx&#39;,sheet_name=&#39;Sheet1&#39;,index_col=0) data=data.fillna(0) print(&#39;矩阵的空值以0填充：\n&#39;,data) coo=coo_matrix(np.array(data)) # 矩阵行列的索引默认从0开始改成从1开始 coo.row&#43;=1 coo.col&#43;=1 data=[int(i) for i in coo.data] coo_tuple=list(zip(coo.row,coo.col,data)) coo_list=[] for i in coo_tuple: coo_list.append(list(i)) # 出发点 start_node=1 # 目的地 target_node=14 # 设置各顶点坐标（只是方便绘图，并不是实际位置） pos={1:(1,8),2:(4,10),3:(11,11),4:(14,8),5:(5,7),6:(10,6),7:(3,5),8:(6,4),9:(8,4),10:(14,5),11:(2,3),12:(5,1),13:(8,1),14:(13,3)} 输出结果如下：
矩阵的空值以0填充： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 1 0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/082aca5a6939addd42d9c693ec5479ee/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-26T07:00:00+08:00" />
<meta property="article:modified_time" content="2023-03-26T07:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python求遍历、最短路径、最小生成树、旅行商问题并绘图展示</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、源数据</h2> 
<p><img src="https://images2.imgbox.com/8c/df/9yqQCavu_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="python_2"></a>二、python程序</h2> 
<h3><a id="1__3"></a>(1) 数据预处理</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> scipy<span class="token punctuation">.</span>sparse <span class="token keyword">import</span> coo_matrix
<span class="token keyword">import</span> networkx <span class="token keyword">as</span> nx
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token comment"># 避免图片无法显示中文</span>
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'SimHei'</span><span class="token punctuation">]</span>
<span class="token comment"># 显示所有列</span>
pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">'display.max_columns'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">'display.width'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>

<span class="token comment"># 读取数据</span>
data<span class="token operator">=</span>pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span><span class="token string">'data.xlsx'</span><span class="token punctuation">,</span>sheet_name<span class="token operator">=</span><span class="token string">'Sheet1'</span><span class="token punctuation">,</span>index_col<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
data<span class="token operator">=</span>data<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'矩阵的空值以0填充：\n'</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span>
coo<span class="token operator">=</span>coo_matrix<span class="token punctuation">(</span>np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 矩阵行列的索引默认从0开始改成从1开始</span>
coo<span class="token punctuation">.</span>row<span class="token operator">+=</span><span class="token number">1</span>
coo<span class="token punctuation">.</span>col<span class="token operator">+=</span><span class="token number">1</span>
data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> coo<span class="token punctuation">.</span>data<span class="token punctuation">]</span>
coo_tuple<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>coo<span class="token punctuation">.</span>row<span class="token punctuation">,</span>coo<span class="token punctuation">.</span>col<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
coo_list<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> coo_tuple<span class="token punctuation">:</span>
    coo_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 出发点</span>
start_node<span class="token operator">=</span><span class="token number">1</span>
<span class="token comment"># 目的地</span>
target_node<span class="token operator">=</span><span class="token number">14</span>
<span class="token comment"># 设置各顶点坐标（只是方便绘图，并不是实际位置）</span>
pos<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</code></pre> 
<p>输出结果如下：</p> 
<pre><code>矩阵的空值以0填充：
       1     2     3     4     5     6     7     8     9     10    11    12    13    14
1    0.0  23.0   0.0   0.0  54.0   0.0  55.0   0.0   0.0   0.0  26.0   0.0   0.0   0.0
2   23.0   0.0  56.0   0.0  18.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0
3    0.0  56.0   0.0  50.0  44.0  61.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0
4    0.0   0.0  50.0   0.0   0.0  28.0   0.0   0.0   0.0  27.0   0.0   0.0   0.0   0.0
5   54.0  18.0  44.0   0.0   0.0  51.0  34.0  56.0  48.0   0.0   0.0   0.0   0.0   0.0
6    0.0   0.0  61.0  28.0  51.0   0.0   0.0   0.0  27.0  42.0   0.0   0.0   0.0   0.0
7   55.0   0.0   0.0   0.0  34.0   0.0   0.0  36.0   0.0   0.0   0.0  38.0   0.0   0.0
8    0.0   0.0   0.0   0.0  56.0   0.0  36.0   0.0  29.0   0.0   0.0  33.0   0.0   0.0
9    0.0   0.0   0.0   0.0  48.0  27.0   0.0  29.0   0.0  61.0   0.0  29.0  42.0  36.0
10   0.0   0.0   0.0  27.0   0.0  42.0   0.0   0.0  61.0   0.0   0.0   0.0   0.0  25.0
11  26.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0  24.0   0.0   0.0
12   0.0   0.0   0.0   0.0   0.0   0.0  38.0  33.0  29.0   0.0  24.0   0.0  30.0   0.0
13   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0  42.0   0.0   0.0  30.0   0.0  47.0
14   0.0   0.0   0.0   0.0   0.0   0.0   0.0   0.0  36.0  25.0   0.0   0.0  47.0   0.0
</code></pre> 
<h3><a id="2__57"></a>(2) 遍历：深度优先和广度优先</h3> 
<pre><code class="prism language-python"><span class="token comment"># 创建空的无向图</span>
G<span class="token operator">=</span>nx<span class="token punctuation">.</span>Graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 给无向图的边赋予权值</span>
G<span class="token punctuation">.</span>add_weighted_edges_from<span class="token punctuation">(</span>coo_list<span class="token punctuation">)</span>

<span class="token comment"># dfs深度优先</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n深度优先遍历：'</span><span class="token punctuation">)</span>
<span class="token comment"># 从源头开始在深度优先搜索中生成边</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>nx<span class="token punctuation">.</span>dfs_edges<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 返回从源头开始的深度优先搜索构造的定向树</span>
T_dfs<span class="token operator">=</span>nx<span class="token punctuation">.</span>dfs_tree<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T_dfs<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span>

<span class="token comment"># bfs广度优先</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n广度优先遍历：'</span><span class="token punctuation">)</span>
<span class="token comment"># 从源头开始在广度优先搜索中生成边</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>nx<span class="token punctuation">.</span>bfs_edges<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 返回从源头开始的广度优先搜索构造的定向树</span>
T_bfs<span class="token operator">=</span>nx<span class="token punctuation">.</span>bfs_tree<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>T_bfs<span class="token punctuation">.</span>nodes<span class="token punctuation">)</span>
</code></pre> 
<p>输出结果如下：</p> 
<pre><code>深度优先遍历：
[(1, 2), (2, 3), (3, 4), (4, 6), (6, 5), (5, 7), (7, 8), (8, 9), (9, 10), (10, 14), (14, 13), (13, 12), (12, 11)]
[1, 2, 3, 4, 6, 5, 7, 8, 9, 10, 14, 13, 12, 11]

广度优先遍历：
[(1, 2), (1, 5), (1, 7), (1, 11), (2, 3), (5, 6), (5, 8), (5, 9), (7, 12), (3, 4), (6, 10), (9, 13), (9, 14)]
[1, 2, 5, 7, 11, 3, 6, 8, 9, 12, 4, 10, 13, 14]
</code></pre> 
<h3><a id="3_dijkstrafloyd_90"></a>(3) 求最短路径：dijkstra算法和floyd算法</h3> 
<pre><code class="prism language-python"><span class="token comment"># 单源最短路径dijkstra迪杰斯特拉算法求最短路径和最短路程</span>
min_path_dijkstra<span class="token operator">=</span>nx<span class="token punctuation">.</span>dijkstra_path<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">,</span>target<span class="token operator">=</span>target_node<span class="token punctuation">)</span>
min_path_length_dijkstra<span class="token operator">=</span>nx<span class="token punctuation">.</span>dijkstra_path_length<span class="token punctuation">(</span>G<span class="token punctuation">,</span>source<span class="token operator">=</span>start_node<span class="token punctuation">,</span>target<span class="token operator">=</span>target_node<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\ndijkstra算法：顶点%d到顶点%d的最短路径:%s，最短路程:%d'</span><span class="token operator">%</span><span class="token punctuation">(</span>start_node<span class="token punctuation">,</span>target_node<span class="token punctuation">,</span>min_path_dijkstra<span class="token punctuation">,</span>min_path_length_dijkstra<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 多源最短路径floyd弗洛伊德算法求最短路径和最短路程</span>
index_floyd<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span>nx<span class="token punctuation">.</span>floyd_warshall<span class="token punctuation">(</span>G<span class="token punctuation">,</span>weight<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
min_path_length_floyd<span class="token operator">=</span>nx<span class="token punctuation">.</span>floyd_warshall_numpy<span class="token punctuation">(</span>G<span class="token punctuation">,</span>weight<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
min_path_length_floyd<span class="token operator">=</span>pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>min_path_length_floyd<span class="token punctuation">,</span>index<span class="token operator">=</span>index_floyd<span class="token punctuation">,</span>columns<span class="token operator">=</span>index_floyd<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\nfloyd算法：各顶点之间的最短路程矩阵：\n'</span><span class="token punctuation">,</span>min_path_length_floyd<span class="token punctuation">)</span>
</code></pre> 
<p>输出结果如下：</p> 
<pre><code>dijkstra算法：顶点1到顶点14的最短路径:[1, 11, 12, 9, 14]，最短路程:115

floyd算法：各顶点之间的最短路程矩阵：
        1      2     5      7      11     3      4     6      10     8     9      12     13     14
1     0.0   23.0  41.0   55.0   26.0   79.0  120.0  92.0  134.0   83.0  79.0   50.0   80.0  115.0
2    23.0    0.0  18.0   52.0   49.0   56.0   97.0  69.0  111.0   74.0  66.0   73.0  103.0  102.0
5    41.0   18.0   0.0   34.0   67.0   44.0   79.0  51.0   93.0   56.0  48.0   72.0   90.0   84.0
7    55.0   52.0  34.0    0.0   62.0   78.0  113.0  85.0  126.0   36.0  65.0   38.0   68.0  101.0
11   26.0   49.0  67.0   62.0    0.0  105.0  108.0  80.0  114.0   57.0  53.0   24.0   54.0   89.0
3    79.0   56.0  44.0   78.0  105.0    0.0   50.0  61.0   77.0  100.0  88.0  116.0  130.0  102.0
4   120.0   97.0  79.0  113.0  108.0   50.0    0.0  28.0   27.0   84.0  55.0   84.0   97.0   52.0
6    92.0   69.0  51.0   85.0   80.0   61.0   28.0   0.0   42.0   56.0  27.0   56.0   69.0   63.0
10  134.0  111.0  93.0  126.0  114.0   77.0   27.0  42.0    0.0   90.0  61.0   90.0   72.0   25.0
8    83.0   74.0  56.0   36.0   57.0  100.0   84.0  56.0   90.0    0.0  29.0   33.0   63.0   65.0
9    79.0   66.0  48.0   65.0   53.0   88.0   55.0  27.0   61.0   29.0   0.0   29.0   42.0   36.0
12   50.0   73.0  72.0   38.0   24.0  116.0   84.0  56.0   90.0   33.0  29.0    0.0   30.0   65.0
13   80.0  103.0  90.0   68.0   54.0  130.0   97.0  69.0   72.0   63.0  42.0   30.0    0.0   47.0
14  115.0  102.0  84.0  101.0   89.0  102.0   52.0  63.0   25.0   65.0  36.0   65.0   47.0    0.0
</code></pre> 
<h3><a id="4__124"></a>(4) 绘制原图</h3> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">'原图'</span><span class="token punctuation">)</span>
<span class="token comment"># 绘制无向加权图</span>
nx<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>with_labels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 显示无向加权图的边的权值</span>
labels<span class="token operator">=</span>nx<span class="token punctuation">.</span>get_edge_attributes<span class="token punctuation">(</span>G<span class="token punctuation">,</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置顶点颜色</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
<span class="token comment"># 显示边的权值</span>
nx<span class="token punctuation">.</span>draw_networkx_edge_labels<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>edge_labels<span class="token operator">=</span>labels<span class="token punctuation">,</span>font_color<span class="token operator">=</span><span class="token string">'purple'</span><span class="token punctuation">,</span>font_size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>nodelist<span class="token operator">=</span><span class="token punctuation">[</span>start_node<span class="token punctuation">]</span><span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'#00ff00'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出结果如下：<br> <img src="https://images2.imgbox.com/28/37/fU8HA8Zl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_kruskalprim_141"></a>(5) 求最小生成树：kruskal算法和prim算法</h3> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">'kruskal算法或prim算法：最小生成树'</span><span class="token punctuation">)</span>
T<span class="token operator">=</span>nx<span class="token punctuation">.</span>minimum_spanning_tree<span class="token punctuation">(</span>G<span class="token punctuation">,</span>algorithm<span class="token operator">=</span><span class="token string">'kruskal'</span><span class="token punctuation">)</span>
<span class="token comment"># T=nx.minimum_spanning_tree(G,algorithm='prim')</span>
<span class="token comment"># T=nx.minimum_spanning_tree(G,algorithm='boruvka')</span>
<span class="token comment"># 绘制无向加权图</span>
nx<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>with_labels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 设置最小生成树的顶点颜色</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>nodelist<span class="token operator">=</span>T<span class="token punctuation">.</span>nodes<span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置最小生成树的边颜色和宽度</span>
nx<span class="token punctuation">.</span>draw_networkx_edges<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>edgelist<span class="token operator">=</span>T<span class="token punctuation">.</span>edges<span class="token punctuation">,</span>edge_color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 显示无向加权图的边的权值</span>
labels<span class="token operator">=</span>nx<span class="token punctuation">.</span>get_edge_attributes<span class="token punctuation">(</span>G<span class="token punctuation">,</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
<span class="token comment"># 显示边的权值</span>
nx<span class="token punctuation">.</span>draw_networkx_edge_labels<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>edge_labels<span class="token operator">=</span>labels<span class="token punctuation">,</span>font_color<span class="token operator">=</span><span class="token string">'purple'</span><span class="token punctuation">,</span>font_size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>nodelist<span class="token operator">=</span><span class="token punctuation">[</span>start_node<span class="token punctuation">]</span><span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'#00ff00'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出结果如下：<br> <img src="https://images2.imgbox.com/f3/ad/33KIqF38_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6__163"></a>(6) 旅行商问题</h3> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>suptitle<span class="token punctuation">(</span><span class="token string">'旅行商问题'</span><span class="token punctuation">)</span>
tsp<span class="token operator">=</span>nx<span class="token punctuation">.</span>approximation<span class="token punctuation">.</span>traveling_salesman_problem<span class="token punctuation">(</span>G<span class="token punctuation">,</span>weight<span class="token operator">=</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
tsp_edges<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
tsp_length<span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>tsp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    tsp_edges<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>tsp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>tsp<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\n旅行商问题：'</span><span class="token punctuation">,</span>tsp_edges<span class="token punctuation">)</span>
<span class="token comment"># 绘制无向加权图</span>
nx<span class="token punctuation">.</span>draw<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>with_labels<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 显示无向加权图的边的权值</span>
labels<span class="token operator">=</span>nx<span class="token punctuation">.</span>get_edge_attributes<span class="token punctuation">(</span>G<span class="token punctuation">,</span><span class="token string">'weight'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置顶点颜色</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'yellow'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
nx<span class="token punctuation">.</span>draw_networkx_nodes<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>nodelist<span class="token operator">=</span><span class="token punctuation">[</span>start_node<span class="token punctuation">]</span><span class="token punctuation">,</span>node_color<span class="token operator">=</span><span class="token string">'#00ff00'</span><span class="token punctuation">,</span>edgecolors<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">)</span>
<span class="token comment"># 设置边颜色和宽度</span>
nx<span class="token punctuation">.</span>draw_networkx_edges<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>edgelist<span class="token operator">=</span>tsp_edges<span class="token punctuation">,</span>edge_color<span class="token operator">=</span><span class="token string">'blue'</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>arrows<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>arrowstyle<span class="token operator">=</span><span class="token string">'-&gt;'</span><span class="token punctuation">,</span>arrowsize<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">)</span>
<span class="token comment"># 显示边的权值</span>
nx<span class="token punctuation">.</span>draw_networkx_edge_labels<span class="token punctuation">(</span>G<span class="token punctuation">,</span>pos<span class="token punctuation">,</span>edge_labels<span class="token operator">=</span>labels<span class="token punctuation">,</span>font_color<span class="token operator">=</span><span class="token string">'purple'</span><span class="token punctuation">,</span>font_size<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出结果如下：<br> <img src="https://images2.imgbox.com/3c/2a/O0bnTvhE_o.png" alt="在这里插入图片描述"></p> 
<pre><code>旅行商问题： [[1, 11], [11, 12], [12, 13], [13, 9], [9, 14], [14, 10], [10, 4], [4, 6], [6, 9], [9, 8], [8, 7], [7, 5], [5, 3], [3, 2], [2, 1]]
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/35642083d467ee37199a541977ae9649/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">c&#43;&#43;语法入门</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/405adc08353024fafe2984f5e739b04c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C2360***的初始化操作由case标签跳过的解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>