<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>目前最全的获取IMSI方法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="目前最全的获取IMSI方法" />
<meta property="og:description" content="private Integer simId_1 = 0; private Integer simId_2 = 1; private String imsi_1 = &#34;&#34;; private String imsi_2 = &#34;&#34;; private String imei_1 = &#34;&#34;; private String imei_2 = &#34;&#34;; private Context mContext; public class IMSInfo { public String chipName; public String imsi_1; public String imei_1; public String imsi_2; public String imei_2; public String getChipName() { return chipName; } public void setChipName(String chipName) { this.chipName = chipName; } public String getImsi_1() { return imsi_1; } public void setImsi_1(String imsi_1) { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6acf985fc6360e6fe12ea12a7a5de1fe/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-05-26T15:05:21+08:00" />
<meta property="article:modified_time" content="2016-05-26T15:05:21+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">目前最全的获取IMSI方法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <pre style="font-family:宋体; font-size:10.2pt; background-color:rgb(255,255,255)"><span style="color:#000080"><strong>private  </strong></span>Integer <span style="color:#660e7a"><strong>simId_1 </strong></span>= <span style="color:#0000ff">0</span>;
<span style="color:#000080"><strong>private  </strong></span>Integer <span style="color:#660e7a"><strong>simId_2 </strong></span>= <span style="color:#0000ff">1</span>;
<span style="color:#000080"><strong>private  </strong></span>String <span style="color:#660e7a"><strong>imsi_1 </strong></span>= <span style="color:#008000"><strong>""</strong></span>;
<span style="color:#000080"><strong>private  </strong></span>String <span style="color:#660e7a"><strong>imsi_2 </strong></span>= <span style="color:#008000"><strong>""</strong></span>;
<span style="color:#000080"><strong>private  </strong></span>String <span style="color:#660e7a"><strong>imei_1 </strong></span>= <span style="color:#008000"><strong>""</strong></span>;
<span style="color:#000080"><strong>private  </strong></span>String <span style="color:#660e7a"><strong>imei_2 </strong></span>= <span style="color:#008000"><strong>""</strong></span>;
<span style="color:#000080"><strong>private </strong></span>Context <span style="color:#660e7a"><strong>mContext</strong></span>;

<span style="color:#000080"><strong>public class </strong></span>IMSInfo {
    <span style="color:#000080"><strong>public </strong></span>String <span style="color:#660e7a"><strong>chipName</strong></span>;
    <span style="color:#000080"><strong>public </strong></span>String <span style="color:#660e7a"><strong>imsi_1</strong></span>;
    <span style="color:#000080"><strong>public </strong></span>String <span style="color:#660e7a"><strong>imei_1</strong></span>;
    <span style="color:#000080"><strong>public </strong></span>String <span style="color:#660e7a"><strong>imsi_2</strong></span>;
    <span style="color:#000080"><strong>public </strong></span>String <span style="color:#660e7a"><strong>imei_2</strong></span>;

    <span style="color:#000080"><strong>public </strong></span>String getChipName() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#660e7a"><strong>chipName</strong></span>;
    }

    <span style="color:#000080"><strong>public void </strong></span>setChipName(String chipName) {
        <span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>chipName </strong></span>= chipName;
    }

    <span style="color:#000080"><strong>public </strong></span>String getImsi_1() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#660e7a"><strong>imsi_1</strong></span>;
    }

    <span style="color:#000080"><strong>public void </strong></span>setImsi_1(String imsi_1) {
        <span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>imsi_1 </strong></span>= imsi_1;
    }

    <span style="color:#000080"><strong>public </strong></span>String getImei_1() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#660e7a"><strong>imei_1</strong></span>;
    }

    <span style="color:#000080"><strong>public void </strong></span>setImei_1(String imei_1) {
        <span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>imei_1 </strong></span>= imei_1;
    }

    <span style="color:#000080"><strong>public </strong></span>String getImsi_2() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#660e7a"><strong>imsi_2</strong></span>;
    }

    <span style="color:#000080"><strong>public void </strong></span>setImsi_2(String imsi_2) {
        <span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>imsi_2 </strong></span>= imsi_2;
    }

    <span style="color:#000080"><strong>public </strong></span>String getImei_2() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#660e7a"><strong>imei_2</strong></span>;
    }

    <span style="color:#000080"><strong>public void </strong></span>setImei_2(String imei_2) {
        <span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>imei_2 </strong></span>= imei_2;
    }

    <span style="color:#808000">@Override
</span><span style="color:#808000">    </span><span style="color:#000080"><strong>public </strong></span>String toString() {
        <span style="color:#000080"><strong>return </strong></span><span style="color:#008000"><strong>"IMSInfo{" </strong></span>+
                <span style="color:#008000"><strong>"chipName='" </strong></span>+ <span style="color:#660e7a"><strong>chipName </strong></span>+ <span style="color:#008000"><strong>'</strong></span><span style="color:#000080"><strong>\'</strong></span><span style="color:#008000"><strong>' </strong></span>+
                <span style="color:#008000"><strong>", </strong></span><span style="color:#000080"><strong>\n</strong></span><span style="color:#008000"><strong>imsi_1='" </strong></span>+ <span style="color:#660e7a"><strong>imsi_1 </strong></span>+ <span style="color:#008000"><strong>'</strong></span><span style="color:#000080"><strong>\'</strong></span><span style="color:#008000"><strong>' </strong></span>+
                <span style="color:#008000"><strong>", </strong></span><span style="color:#000080"><strong>\n</strong></span><span style="color:#008000"><strong>imei_1='" </strong></span>+ <span style="color:#660e7a"><strong>imei_1 </strong></span>+ <span style="color:#008000"><strong>'</strong></span><span style="color:#000080"><strong>\'</strong></span><span style="color:#008000"><strong>' </strong></span>+
                <span style="color:#008000"><strong>", </strong></span><span style="color:#000080"><strong>\n</strong></span><span style="color:#008000"><strong>imsi_2='" </strong></span>+ <span style="color:#660e7a"><strong>imsi_2 </strong></span>+ <span style="color:#008000"><strong>'</strong></span><span style="color:#000080"><strong>\'</strong></span><span style="color:#008000"><strong>' </strong></span>+
                <span style="color:#008000"><strong>", </strong></span><span style="color:#000080"><strong>\n</strong></span><span style="color:#008000"><strong>imei_2='" </strong></span>+ <span style="color:#660e7a"><strong>imei_2 </strong></span>+ <span style="color:#008000"><strong>'</strong></span><span style="color:#000080"><strong>\'</strong></span><span style="color:#008000"><strong>' </strong></span>+
                <span style="color:#008000"><strong>'}'</strong></span>;
    }
}


<span style="color:#000080"><strong>public </strong></span>ImsiUtil(Context mContext) {
    <span style="color:#808080"><em>// </em></span><span style="color:#0073bf"><strong><em>TODO Auto-generated constructor stub
</em></strong></span><span style="color:#0073bf"><strong><em>    </em></strong></span><span style="color:#000080"><strong>this</strong></span>.<span style="color:#660e7a"><strong>mContext </strong></span>= mContext;
}

<span style="color:#000080"><strong>public boolean </strong></span>contentIMSI(){
    <span style="color:#000080"><strong>boolean </strong></span>flag=<span style="color:#000080"><strong>false</strong></span>;
    IMSInfo imsInfo=getIMSInfo();
    <span style="color:#000080"><strong>if</strong></span>(imsInfo!=<span style="color:#000080"><strong>null</strong></span>){
         <span style="color:#000080"><strong>if</strong></span>(!TextUtils.<span style="font-style:italic">isEmpty</span>(imsInfo.getImsi_1())){
             flag=<span style="color:#000080"><strong>true</strong></span>;
         }
        <span style="color:#000080"><strong>if</strong></span>(!TextUtils.<span style="font-style:italic">isEmpty</span>(imsInfo.getImei_1())){
            flag=<span style="color:#000080"><strong>true</strong></span>;
        }
        <span style="color:#000080"><strong>if</strong></span>(!TextUtils.<span style="font-style:italic">isEmpty</span>(imsInfo.getImsi_2())){
            flag=<span style="color:#000080"><strong>true</strong></span>;
        }<span style="color:#000080"><strong>if</strong></span>(!TextUtils.<span style="font-style:italic">isEmpty</span>(imsInfo.getImei_2())){
            flag=<span style="color:#000080"><strong>true</strong></span>;
        }
    }
    <span style="color:#000080"><strong>return </strong></span>flag;
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * 获取IMSInfo
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public </strong></span>IMSInfo getIMSInfo()
{
    IMSInfo imsInfo = initQualcommDoubleSim();
    <span style="color:#000080"><strong>if</strong></span>( imsInfo!=<span style="color:#000080"><strong>null</strong></span>)
    {
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>    </strong></span>{
        imsInfo=initMtkDoubleSim();
        <span style="color:#000080"><strong>if</strong></span>(imsInfo!=<span style="color:#000080"><strong>null</strong></span>)
        {
            <span style="color:#000080"><strong>return </strong></span>imsInfo;
        }
        <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>        </strong></span>{
            imsInfo = initMtkSecondDoubleSim();
            <span style="color:#000080"><strong>if</strong></span>(imsInfo!=<span style="color:#000080"><strong>null</strong></span>)
            {
                <span style="color:#000080"><strong>return </strong></span>imsInfo;
            }
            <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>            </strong></span>{
                imsInfo = initSpreadDoubleSim();
                <span style="color:#000080"><strong>if</strong></span>(imsInfo!=<span style="color:#000080"><strong>null</strong></span>)
                {
                    <span style="color:#000080"><strong>return </strong></span>imsInfo;
                }
                <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>                </strong></span>{
                    imsInfo= getIMSI();
                    <span style="color:#000080"><strong>if</strong></span>(imsInfo!=<span style="color:#000080"><strong>null</strong></span>)
                    {
                        <span style="color:#000080"><strong>return </strong></span>imsInfo;
                    }
                    <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>                    </strong></span>{
                        imsInfo=<span style="color:#000080"><strong>null</strong></span>;
                        <span style="color:#000080"><strong>return </strong></span>imsInfo;
                    }
                }
            }
        }
    }
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * MTK的芯片的判断
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@param </em></strong></span><span style="color:#3d3d3d"><strong><em>mContext
</em></strong></span><span style="color:#3d3d3d"><strong><em> </em></strong></span><span style="color:#808080"><em>* </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public  </strong></span>IMSInfo initMtkDoubleSim() {
    IMSInfo imsInfo=<span style="color:#000080"><strong>null</strong></span>;
    <span style="color:#000080"><strong>try </strong></span>{
        TelephonyManager tm = (TelephonyManager) <span style="color:#660e7a"><strong>mContext
</strong></span><span style="color:#660e7a"><strong>                </strong></span>.getSystemService(Context.<span style="color:#660e7a"><strong><em>TELEPHONY_SERVICE</em></strong></span>);
        Class&lt;?&gt; c = Class.<span style="font-style:italic">forName</span>(<span style="color:#008000"><strong>"com.android.internal.telephony.Phone"</strong></span>);
        Field fields1 = c.getField(<span style="color:#008000"><strong>"GEMINI_SIM_1"</strong></span>);
        fields1.setAccessible(<span style="color:#000080"><strong>true</strong></span>);
        <span style="color:#660e7a"><strong>simId_1 </strong></span>= (Integer) fields1.get(<span style="color:#000080"><strong>null</strong></span>);
        Field fields2 = c.getField(<span style="color:#008000"><strong>"GEMINI_SIM_2"</strong></span>);
        fields2.setAccessible(<span style="color:#000080"><strong>true</strong></span>);
        <span style="color:#660e7a"><strong>simId_2 </strong></span>= (Integer) fields2.get(<span style="color:#000080"><strong>null</strong></span>);

        Method m = TelephonyManager.<span style="color:#000080"><strong>class</strong></span>.getDeclaredMethod(
                <span style="color:#008000"><strong>"getSubscriberIdGemini"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        <span style="color:#660e7a"><strong>imsi_1 </strong></span>= (String) m.invoke(tm, <span style="color:#660e7a"><strong>simId_1</strong></span>);
        <span style="color:#660e7a"><strong>imsi_2 </strong></span>= (String) m.invoke(tm, <span style="color:#660e7a"><strong>simId_2</strong></span>);

        Method m1 = TelephonyManager.<span style="color:#000080"><strong>class</strong></span>.getDeclaredMethod(
                <span style="color:#008000"><strong>"getDeviceIdGemini"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        <span style="color:#660e7a"><strong>imei_1 </strong></span>= (String) m1.invoke(tm, <span style="color:#660e7a"><strong>simId_1</strong></span>);
        <span style="color:#660e7a"><strong>imei_2 </strong></span>= (String) m1.invoke(tm, <span style="color:#660e7a"><strong>simId_2</strong></span>);

        imsInfo = <span style="color:#000080"><strong>new </strong></span>IMSInfo();
        imsInfo.<span style="color:#660e7a"><strong>chipName</strong></span>=<span style="color:#008000"><strong>"MTK芯片"</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_1</strong></span>=<span style="color:#660e7a"><strong>imei_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_2</strong></span>=<span style="color:#660e7a"><strong>imei_2</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_1</strong></span>=<span style="color:#660e7a"><strong>imsi_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_2</strong></span>=<span style="color:#660e7a"><strong>imsi_2</strong></span>;

    } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
        imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>return </strong></span>imsInfo;
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * MTK的芯片的判断2
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@param </em></strong></span><span style="color:#3d3d3d"><strong><em>mContext
</em></strong></span><span style="color:#3d3d3d"><strong><em> </em></strong></span><span style="color:#808080"><em>* </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public  </strong></span>IMSInfo initMtkSecondDoubleSim() {
    IMSInfo imsInfo=<span style="color:#000080"><strong>null</strong></span>;
    <span style="color:#000080"><strong>try </strong></span>{
        TelephonyManager tm = (TelephonyManager) <span style="color:#660e7a"><strong>mContext
</strong></span><span style="color:#660e7a"><strong>                </strong></span>.getSystemService(Context.<span style="color:#660e7a"><strong><em>TELEPHONY_SERVICE</em></strong></span>);
        Class&lt;?&gt; c = Class.<span style="font-style:italic">forName</span>(<span style="color:#008000"><strong>"com.android.internal.telephony.Phone"</strong></span>);
        Field fields1 = c.getField(<span style="color:#008000"><strong>"GEMINI_SIM_1"</strong></span>);
        fields1.setAccessible(<span style="color:#000080"><strong>true</strong></span>);
        <span style="color:#660e7a"><strong>simId_1 </strong></span>= (Integer) fields1.get(<span style="color:#000080"><strong>null</strong></span>);
        Field fields2 = c.getField(<span style="color:#008000"><strong>"GEMINI_SIM_2"</strong></span>);
        fields2.setAccessible(<span style="color:#000080"><strong>true</strong></span>);
        <span style="color:#660e7a"><strong>simId_2 </strong></span>= (Integer) fields2.get(<span style="color:#000080"><strong>null</strong></span>);

        Method mx = TelephonyManager.<span style="color:#000080"><strong>class</strong></span>.getMethod(<span style="color:#008000"><strong>"getDefault"</strong></span>,
                <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        TelephonyManager tm1 = (TelephonyManager) mx.invoke(tm, <span style="color:#660e7a"><strong>simId_1</strong></span>);
        TelephonyManager tm2 = (TelephonyManager) mx.invoke(tm, <span style="color:#660e7a"><strong>simId_2</strong></span>);

        <span style="color:#660e7a"><strong>imsi_1 </strong></span>= tm1.getSubscriberId();
        <span style="color:#660e7a"><strong>imsi_2 </strong></span>= tm2.getSubscriberId();

        <span style="color:#660e7a"><strong>imei_1 </strong></span>= tm1.getDeviceId();
        <span style="color:#660e7a"><strong>imei_2 </strong></span>= tm2.getDeviceId();

        imsInfo = <span style="color:#000080"><strong>new </strong></span>IMSInfo();
        imsInfo.<span style="color:#660e7a"><strong>chipName</strong></span>=<span style="color:#008000"><strong>"MTK芯片"</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_1</strong></span>=<span style="color:#660e7a"><strong>imei_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_2</strong></span>=<span style="color:#660e7a"><strong>imei_2</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_1</strong></span>=<span style="color:#660e7a"><strong>imsi_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_2</strong></span>=<span style="color:#660e7a"><strong>imsi_2</strong></span>;

    } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
        imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>return </strong></span>imsInfo;
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * 展讯芯片的判断
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@param </em></strong></span><span style="color:#3d3d3d"><strong><em>mContext
</em></strong></span><span style="color:#3d3d3d"><strong><em> </em></strong></span><span style="color:#808080"><em>* </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public  </strong></span>IMSInfo initSpreadDoubleSim() {
    IMSInfo imsInfo=<span style="color:#000080"><strong>null</strong></span>;
    <span style="color:#000080"><strong>try </strong></span>{
        Class&lt;?&gt; c = Class
                .<span style="font-style:italic">forName</span>(<span style="color:#008000"><strong>"com.android.internal.telephony.PhoneFactory"</strong></span>);
        Method m = c.getMethod(<span style="color:#008000"><strong>"getServiceName"</strong></span>, String.<span style="color:#000080"><strong>class</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        String spreadTmService = (String) m.invoke(c,
                Context.<span style="color:#660e7a"><strong><em>TELEPHONY_SERVICE</em></strong></span>, <span style="color:#0000ff">1</span>);
        TelephonyManager tm = (TelephonyManager) <span style="color:#660e7a"><strong>mContext
</strong></span><span style="color:#660e7a"><strong>                </strong></span>.getSystemService(Context.<span style="color:#660e7a"><strong><em>TELEPHONY_SERVICE</em></strong></span>);
        <span style="color:#660e7a"><strong>imsi_1 </strong></span>= tm.getSubscriberId();
        <span style="color:#660e7a"><strong>imei_1 </strong></span>= tm.getDeviceId();
        TelephonyManager tm1 = (TelephonyManager) <span style="color:#660e7a"><strong>mContext
</strong></span><span style="color:#660e7a"><strong>                </strong></span>.getSystemService(spreadTmService);
        <span style="color:#660e7a"><strong>imsi_2 </strong></span>= tm1.getSubscriberId();
        <span style="color:#660e7a"><strong>imei_2 </strong></span>= tm1.getDeviceId();
        imsInfo = <span style="color:#000080"><strong>new </strong></span>IMSInfo();
        imsInfo.<span style="color:#660e7a"><strong>chipName</strong></span>=<span style="color:#008000"><strong>"展讯芯片"</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_1</strong></span>=<span style="color:#660e7a"><strong>imei_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_2</strong></span>=<span style="color:#660e7a"><strong>imei_2</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_1</strong></span>=<span style="color:#660e7a"><strong>imsi_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_2</strong></span>=<span style="color:#660e7a"><strong>imsi_2</strong></span>;
    } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
        imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>return </strong></span>imsInfo;
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * 高通芯片判断
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@param </em></strong></span><span style="color:#3d3d3d"><strong><em>mContext
</em></strong></span><span style="color:#3d3d3d"><strong><em> </em></strong></span><span style="color:#808080"><em>* </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public </strong></span>IMSInfo initQualcommDoubleSim() {
    IMSInfo imsInfo=<span style="color:#000080"><strong>null</strong></span>;
    <span style="color:#000080"><strong>try </strong></span>{
        Class&lt;?&gt; cx = Class.<span style="font-style:italic">forName</span>(<span style="color:#008000"><strong>"android.telephony.MSimTelephonyManager"</strong></span>);
        Object obj =<span style="color:#660e7a"><strong>mContext</strong></span>.getSystemService(<span style="color:#008000"><strong>"phone_msim"</strong></span>);
        Method md = cx.getMethod(<span style="color:#008000"><strong>"getDeviceId"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        Method ms = cx.getMethod(<span style="color:#008000"><strong>"getSubscriberId"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
        <span style="color:#660e7a"><strong>imei_1 </strong></span>= (String) md.invoke(obj, <span style="color:#660e7a"><strong>simId_1</strong></span>);
        <span style="color:#660e7a"><strong>imei_2 </strong></span>= (String) md.invoke(obj, <span style="color:#660e7a"><strong>simId_2</strong></span>);
        <span style="color:#660e7a"><strong>imsi_1 </strong></span>= (String) ms.invoke(obj, <span style="color:#660e7a"><strong>simId_1</strong></span>);
        <span style="color:#660e7a"><strong>imsi_2 </strong></span>= (String) ms.invoke(obj, <span style="color:#660e7a"><strong>simId_2</strong></span>);
        <span style="color:#000080"><strong>int </strong></span>statephoneType_2=<span style="color:#0000ff">0</span>;
        <span style="color:#000080"><strong>boolean </strong></span>flag = <span style="color:#000080"><strong>false</strong></span>;
        <span style="color:#000080"><strong>try </strong></span>{
            Method mx = cx.getMethod(<span style="color:#008000"><strong>"getPreferredDataSubscription"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
            Method is = cx.getMethod(<span style="color:#008000"><strong>"isMultiSimEnabled"</strong></span>, <span style="color:#000080"><strong>int</strong></span>.<span style="color:#000080"><strong>class</strong></span>);
            statephoneType_2 = (Integer) mx.invoke(obj);
            flag = (Boolean) is.invoke(obj);
        } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
            <span style="color:#808080"><em>// </em></span><span style="color:#0073bf"><strong><em>TODO: handle exception
</em></strong></span><span style="color:#0073bf"><strong><em>        </em></strong></span>}
        imsInfo = <span style="color:#000080"><strong>new </strong></span>IMSInfo();
        imsInfo.<span style="color:#660e7a"><strong>chipName</strong></span>=<span style="color:#008000"><strong>"高通芯片-getPreferredDataSubscription:"</strong></span>+statephoneType_2+<span style="color:#008000"><strong>",</strong></span><span style="color:#000080"><strong>\n</strong></span><span style="color:#008000"><strong>flag:"</strong></span>+flag;
        imsInfo.<span style="color:#660e7a"><strong>imei_1</strong></span>=<span style="color:#660e7a"><strong>imei_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_2</strong></span>=<span style="color:#660e7a"><strong>imei_2</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_1</strong></span>=<span style="color:#660e7a"><strong>imsi_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_2</strong></span>=<span style="color:#660e7a"><strong>imsi_2</strong></span>;

    } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
        imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>return </strong></span>imsInfo;
}

<span style="color:#808080"><em>/**
</em></span><span style="color:#808080"><em> * 系统的api
</em></span><span style="color:#808080"><em> * </em></span><span style="color:#808080"><strong><em>@return
</em></strong></span><span style="color:#808080"><strong><em> </em></strong></span><span style="color:#808080"><em>*/
</em></span><span style="color:#000080"><strong>public </strong></span>IMSInfo getIMSI() {
    IMSInfo imsInfo=<span style="color:#000080"><strong>null</strong></span>;
    <span style="color:#000080"><strong>try </strong></span>{
        TelephonyManager tm = (TelephonyManager) <span style="color:#660e7a"><strong>mContext
</strong></span><span style="color:#660e7a"><strong>                </strong></span>.getSystemService(Context.<span style="color:#660e7a"><strong><em>TELEPHONY_SERVICE</em></strong></span>);
        <span style="color:#660e7a"><strong>imsi_1 </strong></span>= tm.getSubscriberId();
        <span style="color:#660e7a"><strong>imei_1 </strong></span>= tm.getDeviceId();
    } <span style="color:#000080"><strong>catch </strong></span>(Exception e) {
        <span style="color:#808080"><em>// </em></span><span style="color:#0073bf"><strong><em>TODO: handle exception
</em></strong></span><span style="color:#0073bf"><strong><em>        </em></strong></span>imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>if </strong></span>(TextUtils.<span style="font-style:italic">isEmpty</span>(<span style="color:#660e7a"><strong>imsi_1</strong></span>)||<span style="color:#660e7a"><strong>imsi_1</strong></span>.length()&lt;<span style="color:#0000ff">10 </span>) {
        imsInfo = <span style="color:#000080"><strong>null</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
    <span style="color:#000080"><strong>else
</strong></span><span style="color:#000080"><strong>    </strong></span>{
        imsInfo = <span style="color:#000080"><strong>new </strong></span>IMSInfo();
        imsInfo.<span style="color:#660e7a"><strong>chipName</strong></span>=<span style="color:#008000"><strong>"单卡芯片"</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_1</strong></span>=<span style="color:#660e7a"><strong>imei_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imei_2</strong></span>=<span style="color:#008000"><strong>"没有"</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_1</strong></span>=<span style="color:#660e7a"><strong>imsi_1</strong></span>;
        imsInfo.<span style="color:#660e7a"><strong>imsi_2</strong></span>=<span style="color:#008000"><strong>"没有"</strong></span>;
        <span style="color:#000080"><strong>return </strong></span>imsInfo;
    }
}
</pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1769efd112c820ed4b494e9965b85fca/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[C&#43;&#43;]比memcpy快50%的FastMemcpy</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/58b99ff85c068d11ae34b62af74ba20a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">顺序表的算法操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>