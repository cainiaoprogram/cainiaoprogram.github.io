<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>负载均衡种类及优缺点 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="负载均衡种类及优缺点" />
<meta property="og:description" content="负载均衡也不是什么新鲜词儿了，相信大家都有所了解，甚至有的人有过深入的学习和实操，那么本文就来把常见的负载均衡相关东东总结一下。
负载均衡种类 DNS，硬件，软件
DNS负载均衡 DNS是最简单也是最常见的负载均衡方式，一般用来实现“地理级别”的负载均衡，比如说：北方人访问北京的机房，南方人访问广州的机房，西方人访问成都的机房。DNS负载均衡的本质是DNS解析同一个域名可以返回不同的IP地址。比如说：https://www.sina.com.cn/ 在北方的用户使用时会解析成10.210.1.12(北京机房)返回，南方的用户使用时会解析成14.213.164.27返回（广州机房）。
DNS简单示意图
优点 简单、成本低：负载均衡工作交给DNS服务处理，无须自己开发或维护负载均衡设备。
就近访问，提升访问速度：DNS解析时可以根据请求来源IP，解析成距离用户最近的服务器地址，可以加快访问速度，从而到达改善性能。
缺点 更新不及时：DNS缓存的时间比较长，修改DNS陪之后，由于缓存的原因，会导致部分用户还会继续访问修改之前的地址，毫无疑问这样的访问会失败的，不仅达不到负载均衡的效果，更严重的是用户不能正常使用。
扩展性差：DNS负载均衡的控制权限不是使用者的，而是域名商那里，无法根据业务特点针对性做一些定制化功能，更别提扩展性了。
分配策略比较简单：DNS负载均衡支持的算法不多，不能区分服务器的差异，也无法感知后端服务的状态。
针对以上DNS的优缺点，也有部分公司自己实现了HTTP-DNS，即使使用HTTP协议实现一个私有的DNS系统，但是其实和上面的DNS优缺点刚刚相反。
硬件负载均衡 硬件负载均衡是通过单独的设备来实现负载均衡的功能，这类设备和路由器交换机有那么一些类似，更或者可以理解为一个用于负载均衡的基础网络设备。目前业界主要有两款硬件负载均衡：F5和A10。这类设备性能好，功能强大，但是价格可以用昂贵来形容，一般只有银行，国企等大型有钱的企业开会考虑使用此类设备，本人也只是在银行里见识过F5。至于A10没接触过就不撤了。
优点 功能强大：全面支持各层级的负载均衡，支持各种负载均衡算法，支持全局负载均衡。
性能好：一般软件负载均衡能支撑10w&#43;并发已经很不错了，但是硬件的负载均衡却可以支持100w&#43;以上的并发。
高稳定性：因为是商业品，所以经过了良好严格的测试，经过大规模的使用，所以稳定非常高。
安全性高：硬件负载均衡设备除了能处理负载均衡以外，还具有防火墙、防DDOS攻击等效果。
缺点 价格昂贵：我记得之前银行购买F5花了上百万，据说还有更贵的，所以价格可想而知。
扩展性不好：硬件设备可以根据业务进行配置，但无法进行扩展和定制化。
软件负载均衡 软件负载均衡是通过负载均衡软件来实现负载均衡功能的。常见的负载均衡软件有LVS和Nginx。其中LVS是Linux内核的四层负载均衡，四层和七层的区别在于他们协议和灵活性的不同。Nginx是7层负载均衡，支持HTTP，E-mail协议，而LVS是四层负载均衡，所以和协议无关，基本上所有应用都可以做到，比如说：聊天、数据库等。
以下是Nginx的负载均衡简单示意图：
优点 便宜：只要每个Linux服务器，然后装上Nginx或者其他负载均衡软件
灵活：7层和4层负载均衡可以根据业务进行选择，也可以根据业务进行比较方便的扩展，比如：由于业务特殊性需要做一些定制化的功能。
缺点 性能一般：比如说一个Nginx大约能支撑5w并发
功能没有硬件负载均衡强大（这个有点牵强，毕竟价格差距在那里）
安全性远不如硬件负载均衡。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5890759fd09d1ada726fbf2df438da33/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-28T08:30:55+08:00" />
<meta property="article:modified_time" content="2019-07-28T08:30:55+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">负载均衡种类及优缺点</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="rich_media_content" id="js_content"> 
 <div class="_editor"> 
  <div class="_editor"> 
   <div> 
    <div> 
     <img src="https://images2.imgbox.com/ca/81/dQoe3xtc_o.gif" alt="640?wx_fmt=gif"> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p class="md-end-block md-p md-focus"><span class="md-plain">负载均衡也不是什么新鲜词儿了，相信大家都有所了解，甚至有的人有过深入的学习和实操，那么本文就来把常见的负载均衡相关东东总结一下。</span></p> 
 <h3 class="md-end-block md-heading"><span class="md-plain">负载均衡种类</span></h3> 
 <p class="md-end-block md-p"><span class="md-plain">DNS，硬件，软件</span></p> 
 <h4 class="md-end-block md-heading"><span class="md-plain">DNS负载均衡</span></h4> 
 <p class="md-end-block md-p"><span class="md-plain">DNS是最简单也是最常见的负载均衡方式，一般用来实现“地理级别”的负载均衡，比如说：北方人访问北京的机房，南方人访问广州的机房，西方人访问成都的机房。DNS负载均衡的本质是DNS解析同一个域名可以返回不同的IP地址。比如说：</span><span class="md-link">https://www.sina.com.cn/</span><span class="md-plain"> 在北方的用户使用时会解析成10.210.1.12(北京机房)返回，南方的用户使用时会解析成14.213.164.27返回（广州机房）。</span></p> 
 <p class="md-end-block md-p"><span class="md-plain">DNS简单示意图</span></p> 
 <p><img class="rich_pages" src="https://images2.imgbox.com/f7/ed/tXghx4xE_o.png" alt="640?wx_fmt=png"></p> 
 <h5 class="md-end-block md-heading"><span class="md-plain">优点</span></h5> 
 <ul class="ul-list list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">简单、成本低：负载均衡工作交给DNS服务处理，无须自己开发或维护负载均衡设备。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">就近访问，提升访问速度：DNS解析时可以根据请求来源IP，解析成距离用户最近的服务器地址，可以加快访问速度，从而到达改善性能。</span></p></li></ul> 
 <h6 class="md-end-block md-heading"><span class="md-plain">缺点</span></h6> 
 <ul class="ul-list list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">更新不及时：DNS缓存的时间比较长，修改DNS陪之后，由于缓存的原因，会导致部分用户还会继续访问修改之前的地址，毫无疑问这样的访问会失败的，不仅达不到负载均衡的效果，更严重的是用户不能正常使用。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">扩展性差：DNS负载均衡的控制权限不是使用者的，而是域名商那里，无法根据业务特点针对性做一些定制化功能，更别提扩展性了。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">分配策略比较简单：DNS负载均衡支持的算法不多，不能区分服务器的差异，也无法感知后端服务的状态。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">针对以上DNS的优缺点，也有部分公司自己实现了HTTP-DNS，即使使用HTTP协议实现一个私有的DNS系统，但是其实和上面的DNS优缺点刚刚相反。</span></p></li></ul> 
 <h4 class="md-end-block md-heading"><span class="md-plain">硬件负载均衡</span></h4> 
 <p class="md-end-block md-p"><span class="md-plain">硬件负载均衡是通过单独的设备来实现负载均衡的功能，这类设备和路由器交换机有那么一些类似，更或者可以理解为一个用于负载均衡的基础网络设备。目前业界主要有两款硬件负载均衡：F5和A10。这类设备性能好，功能强大，但是价格可以用昂贵来形容，一般只有银行，国企等大型有钱的企业开会考虑使用此类设备，本人也只是在银行里见识过F5。至于A10没接触过就不撤了。</span></p> 
 <h5 class="md-end-block md-heading"><span class="md-plain">优点</span></h5> 
 <ul class="ul-list list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">功能强大：全面支持各层级的负载均衡，支持各种负载均衡算法，支持全局负载均衡。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">性能好：一般软件负载均衡能支撑10w+并发已经很不错了，但是硬件的负载均衡却可以支持100w+以上的并发。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">高稳定性：因为是商业品，所以经过了良好严格的测试，经过大规模的使用，所以稳定非常高。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">安全性高：硬件负载均衡设备除了能处理负载均衡以外，还具有防火墙、防DDOS攻击等效果。</span></p></li></ul> 
 <h6 class="md-end-block md-heading"><span class="md-plain">缺点</span></h6> 
 <ul class="ul-list list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">价格昂贵：我记得之前银行购买F5花了上百万，据说还有更贵的，所以价格可想而知。</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">扩展性不好：硬件设备可以根据业务进行配置，但无法进行扩展和定制化。</span></p></li></ul> 
 <h4 class="md-end-block md-heading"><span class="md-plain">软件负载均衡</span></h4> 
 <p class="md-end-block md-p"><span class="md-plain">软件负载均衡是通过负载均衡软件来实现负载均衡功能的。常见的负载均衡软件有LVS和Nginx。其中LVS是Linux内核的四层负载均衡，四层和七层的区别在于他们协议和灵活性的不同。Nginx是7层负载均衡，支持HTTP，E-mail协议，而LVS是四层负载均衡，所以和协议无关，基本上所有应用都可以做到，比如说：聊天、数据库等。</span></p> 
 <p class="md-end-block md-p md-focus"><span class="md-plain">以下是Nginx的负载均衡简单示意图：</span></p> 
 <p><img class="rich_pages" src="https://images2.imgbox.com/3d/40/HGzuDKtV_o.png" alt="640?wx_fmt=png"></p> 
 <h5 class="md-end-block md-heading"><span class="md-plain">优点</span></h5> 
 <ul class="list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">便宜：只要每个Linux服务器，然后装上Nginx或者其他负载均衡软件</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">灵活：7层和4层负载均衡可以根据业务进行选择，也可以根据业务进行比较方便的扩展，比如：由于业务特殊性需要做一些定制化的功能。</span></p></li></ul> 
 <h6 class="md-end-block md-heading"><span class="md-plain">缺点</span></h6> 
 <ul class="list-paddingleft-2"><li><p class="md-end-block md-p"><span class="md-plain">性能一般：比如说一个Nginx大约能支撑5w并发</span></p></li><li><p class="md-end-block md-p"><span class="md-plain">功能没有硬件负载均衡强大（这个有点牵强，毕竟价格差距在那里）</span></p></li><li><p class="md-end-block md-p md-focus"><span class="md-plain">安全性远不如硬件负载均衡。</span></p> 
   <div class="_editor"> 
    <div class="_editor"> 
     <div> 
      <div> 
       <img src="https://images2.imgbox.com/14/8f/C2HPXWJt_o.gif" alt="640?wx_fmt=gif"> 
      </div> 
     </div> 
    </div> 
   </div></li></ul> 
 <p class="md-end-block md-p md-focus"><span class="md-plain"></span></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1c0939b706919b7c1a9d0ddd4dadff7a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">推荐国外经典计算机教材９本</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9bb92cd48a1e4e899010caeab1ab8f8b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kafka学习之旅(六): Kafka生产者通信</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>