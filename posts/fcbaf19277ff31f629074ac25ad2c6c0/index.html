<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>JavaScript中reduce方法的详解 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="JavaScript中reduce方法的详解" />
<meta property="og:description" content="定义 1.reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。
2.reduce() 可以作为一个高阶函数，用于函数的 compose
3.reduce() 对于空数组是不会执行回调函数的
语法 array.reduce(function(prev, currentValue, currentIndex, arr), initialValue) reduce函数接收两个参数，一个为回调函数，一个为初始赋值
第一个参数的回调函数又接收四个参数，分别为（初始值或计算结束后的返回值，当前元素，当前元素的索引，当前元素所属的数组对象）
第二个参数是传给函数的初始值，非必传
prev：函数传进来的初始值或上一次回调的返回值
currentValue：数组中当前处理的元素值
currentIndex：当前元素索引
arr：当前元素所属的数组本身
initialValue：传给函数的初始值
浏览器支持 支持谷歌、火狐、ie9以上等主流浏览器
示例1 var arr = [1, 2, 3, 4]; var sum = arr.reduce(function (prev, cur, index, arr) { console.log(prev, cur, index); return prev &#43; cur; }); console.log(arr, sum); 此时没有给prev赋予初值
上面的例子index是从1开始的，第一次的prev的值是数组的第一个值，第一次的cur的值是数组的第二个值，数组长度是4，reduce函数循环3次。
打印结果 1 2 1 3 3 2 6 4 3 [ 1, 2, 3, 4 ] 10 示例2 接下来给initvalue赋予初始值0" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fcbaf19277ff31f629074ac25ad2c6c0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-13T02:35:34+08:00" />
<meta property="article:modified_time" content="2022-09-13T02:35:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">JavaScript中reduce方法的详解</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>定义</h3> 
<p>1.reduce() 方法接收一个函数作为累加器，数组中的每个值（从左到右）开始缩减，最终计算为一个值。</p> 
<p>2.reduce() 可以作为一个高阶函数，用于函数的 compose</p> 
<p>3.reduce() 对于空数组是不会执行回调函数的</p> 
<h3>语法</h3> 
<pre><code class="language-javascript">array.reduce(function(prev, currentValue, currentIndex, arr), initialValue)</code></pre> 
<p>reduce函数接收两个参数，一个为回调函数，一个为初始赋值</p> 
<p>第一个参数的回调函数又接收四个参数，分别为（初始值或计算结束后的返回值，当前元素，当前元素的索引，当前元素所属的数组对象）</p> 
<p>第二个参数是传给函数的初始值，非必传</p> 
<p>prev：函数传进来的初始值或上一次回调的返回值</p> 
<p>currentValue：数组中当前处理的元素值</p> 
<p>currentIndex：当前元素索引</p> 
<p>arr：当前元素所属的数组本身</p> 
<p>initialValue：传给函数的初始值</p> 
<h3>浏览器支持</h3> 
<p>支持谷歌、火狐、ie9以上等主流浏览器</p> 
<h3>示例1</h3> 
<pre><code class="language-javascript">var arr = [1, 2, 3, 4];
var sum = arr.reduce(function (prev, cur, index, arr) {
  console.log(prev, cur, index);
  return prev + cur;
});
console.log(arr, sum);</code></pre> 
<p>此时没有给prev赋予初值</p> 
<p>上面的例子index是从1开始的，第一次的prev的值是数组的第一个值，第一次的cur的值是数组的第二个值，数组长度是4，reduce函数循环3次。</p> 
<pre><code class="language-javascript">打印结果
1 2 1
3 3 2
6 4 3
[ 1, 2, 3, 4 ] 10</code></pre> 
<h3>示例2</h3> 
<p>接下来给initvalue赋予初始值0</p> 
<pre><code class="language-javascript">var arr = [1, 2, 3, 4];
var sum = arr.reduce(function (prev, cur, index, arr) {
  console.log(prev, cur, index);
  return prev + cur;
}, 0);
console.log(arr, sum);</code></pre> 
<p>这个例子index是从0开始的，第一次的prev的值是我们设置的初始值0，数组长度是4，reduce函数循环4次。</p> 
<pre><code class="language-javascript">打印结果
0 1 0
1 2 1
3 3 2
6 4 3
[ 1, 2, 3, 4 ] 10</code></pre> 
<p><strong>总结：如果没有提供initialValue，reduce 会从索引1的地方开始执行 callback 方法，跳过第一个索引。如果提供initialValue，从索引0开始。</strong></p> 
<h3>reduce示例算法</h3> 
<h4>计算数组累积结果</h4> 
<pre><code class="language-javascript">var arr = [1, 2, 3, 4];
var sum = arr.reduce(function (prev, cur, index, arr) {
  return prev * cur;
}, 1);
console.log(arr, sum);

打印结果
[ 1, 2, 3, 4 ] 24</code></pre> 
<h4>计算数组中每个元素出现的次数</h4> 
<pre><code class="language-javascript">var arr = ["one", "two", "three", "six", "four", "five", "six"];

var newArr = arr.reduce((pre, cur) =&gt; {
  console.log(cur, pre);
  if (cur in pre) {
    pre[cur]++;
  } else {
    pre[cur] = 1;
  }
  return pre;
}, {});//这里注意初始值要默认赋予空对象，不然会报错
console.log(newArr);


打印结果
one {}
two { one: 1 }
three { one: 1, two: 1 }
six { one: 1, two: 1, three: 1 }
four { one: 1, two: 1, three: 1, six: 1 }
five { one: 1, two: 1, three: 1, six: 1, four: 1 }
six { one: 1, two: 1, three: 1, six: 1, four: 1, five: 1 }
{ one: 1, two: 1, three: 1, six: 2, four: 1, five: 1 }</code></pre> 
<h4>数组去重</h4> 
<pre><code class="language-javascript">let arr = [1,2,3,4,4,1]
let newArr = arr.reduce((pre,cur)=&gt;{
    if(!pre.includes(cur)){
      return pre.concat(cur)
    }else{
      return pre
    }
},[])
console.log(newArr);

打印结果
[1, 2, 3, 4]</code></pre> 
<h4>数组扁平化 二维转一维</h4> 
<pre><code class="language-javascript">let arr = [[0, 1], [2, 3], [4, 5]]
let newArr = arr.reduce((pre,cur)=&gt;{
    return pre.concat(cur)
},[])
console.log(newArr); 

打印结果
[0, 1, 2, 3, 4, 5]</code></pre> 
<h4>数组扁平化 多维转一维</h4> 
<pre><code class="language-javascript">let arr = [[0, 1], [2, 3], [4,[5,6,7]]]
const newArr = function(arr){
   return arr.reduce((pre,cur)=&gt;pre.concat(Array.isArray(cur)?newArr(cur):cur),[])
}
console.log(newArr(arr)); 


打印结果
[0, 1, 2, 3, 4, 5, 6, 7]</code></pre> 
<h4>对象属性求和</h4> 
<pre><code class="language-javascript">var result = [
    {
        subject: 'math',
        score: 10
    },
    {
        subject: 'chinese',
        score: 20
    },
    {
        subject: 'english',
        score: 30
    }
];
 
var sum = result.reduce(function(prev, cur) {
    return cur.score + prev;
}, 0);
console.log(sum) 

打印结果
60</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2837303e2de84dbafbecdfee41b63ed1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">CISSP第三章：安全架构和工程知识点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6c87373a102f2092cf77733ba4a786d2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql基于Java的学生请销假审批管理系统的设计与实现毕业设计源码130939</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>