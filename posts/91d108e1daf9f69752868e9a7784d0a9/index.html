<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>74HC595驱动数码管程序 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="74HC595驱动数码管程序" />
<meta property="og:description" content=" 数码管的驱动分静态扫描和动态扫描两种，使用最多的是动态扫描，优点是使用较少的MCU的IO口就能驱动较多位数的数码管。数码管动态扫描驱动电路很多，其中最常见的是74HC164驱动数码管，这种电路一般用三极管作位选信号，用74HC164作段选信号，占用的MCU的IO口线随位数增加而增加,一般驱动四位以下数码管。如果要驱动四位以上数码管，用74HC595驱动最经典，只需4根IO口线就能驱动8位数码管，而且不存在消影问题，显示功能也很强大，是很实用的数码管驱动电路之一。
电路设计
在WSF-51DB开发板上，用两片74HC595驱动8位共阴极数码管（由两个4位共阴极数码管组成），一片作位选信号，另一片作段选信号。需要注意的是段选芯片与数码管的连接要使用100-200欧姆电阻作限流，不能太大也不能太小，更不能直接连接。
程序设计：
/************************************************************************** *程序名称：74HC595驱动数码管 *程序功能：数码管显示字符 *开发工具：WSF-51DB开发板 * MCU型号：AT89S52-24PU *时钟频率：12MHZ *程序作者：吴师傅 **************************************************************************/ ＃i nclude unsigned char code segmcode[]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f, 0x77,0x7C,0x39,0x5E,0x79,0x71};//共阴极数码管段码0-f unsigned char code bitcode[]={0xfe,0xfd,0xfb,0xf7,0xef,0xdf,0xbf,0x7f}; //8位共阴极数码管位码 sbit ser=P2^0; //74HC595串行数据输入 sbit oe=P2^1; //74HC595使能，为0时输出数据，为1时呈高阻态 sbit rclk=P2^2; //74HC595数据锁存 sbit srclk=P2^3;// 74HC595串行时钟 //延时毫秒函数： void Delayms(unsigned int t) { unsigned int x,y; for(x=t;x&gt;0;x--) for(y=120;y&gt;0;y--);//延时大约1毫秒 } //任意位数码管显示一个字符函数： void DTDisplayChar(unsigned char segmd,unsigned char bitd )//数码管段码和数码管位码 { unsigned char i; unsigned int dat; dat=bitd; dat=dat位码段码合并为一个int型数据 for(i=0;i位数据从高位依次移入74HC595 { ser=(dat&amp;0x8000)?1:0; //判断最高位，为真取1，为假取0 srclk=1; //上升沿送数据 srclk=0; dat左移取下一位 } rclk=1; //74HC595锁存数据 rclk=0; } //主函数： int main(void) { unsigned char j,k; oe=0; rclk=0;srclk=0; DTDisplayChar(0xff,0x00);//数码管全亮 Delayms(2000);//延时2秒，检查数码管是否有缺画 while(1) { for(j=0;j显示0-f 16个字符 { DTDisplayChar(segmcode[j],bitcode[j%8]);//从数组取出段码和位码 //要显示小数点只需在断码上或上0x80即可 for(k=0;k每个字符/闪烁5次 { oe=0;//打开显示 Delayms(200);//延时200毫秒 oe=1;//关闭显示 Delayms(200); } } /* for(j=0;j字符同时显示 { DTDisplayChar(segmcode[j],bitcode[j]);//从数组取出段码和位码 Delayms(1); } */ } return 0; } " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/91d108e1daf9f69752868e9a7784d0a9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T00:02:27+08:00" />
<meta property="article:modified_time" content="2024-01-04T00:02:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">74HC595驱动数码管程序</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        数码管的驱动分静态扫描和动态扫描两种，使用最多的是动态扫描，优点是使用较少的MCU的IO口就能驱动较多位数的数码管。数码管动态扫描驱动电路很多，其中最常见的是74HC164驱动数码管，这种电路一般用三极管作位选信号，用74HC164作段选信号，占用的MCU的IO口线随位数增加而增加,一般驱动四位以下数码管。如果要驱动四位以上数码管，用74HC595驱动最经典，只需4根IO口线就能驱动8位数码管，而且不存在消影问题，显示功能也很强大，是很实用的数码管驱动电路之一。</p> 
<p>电路设计</p> 
<p>在WSF-51DB开发板上，用两片74HC595驱动8位共阴极数码管（由两个4位共阴极数码管组成），一片作位选信号，另一片作段选信号。需要注意的是段选芯片与数码管的连接要使用100-200欧姆电阻作限流，不能太大也不能太小，更不能直接连接。</p> 
<p> </p> 
<p><img src="https://images2.imgbox.com/49/03/vavDiLIp_o.jpg" alt="bcdd5c0f7d625528abb25df88c418c78.jpeg"></p> 
<p>程序设计：</p> 
<pre><code class="language-cs">/**************************************************************************

*程序名称：74HC595驱动数码管

*程序功能：数码管显示字符

*开发工具：WSF-51DB开发板

* MCU型号：AT89S52-24PU

*时钟频率：12MHZ

*程序作者：吴师傅

**************************************************************************/

＃i nclude

unsigned char code segmcode[]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x6f,

0x77,0x7C,0x39,0x5E,0x79,0x71};//共阴极数码管段码0-f

unsigned char code bitcode[]={0xfe,0xfd,0xfb,0xf7,0xef,0xdf,0xbf,0x7f};

//8位共阴极数码管位码

sbit ser=P2^0; //74HC595串行数据输入

sbit oe=P2^1; //74HC595使能，为0时输出数据，为1时呈高阻态

sbit rclk=P2^2; //74HC595数据锁存

sbit srclk=P2^3;// 74HC595串行时钟

//延时毫秒函数：

void Delayms(unsigned int t)

{

unsigned int x,y;

for(x=t;x&gt;0;x--)

for(y=120;y&gt;0;y--);//延时大约1毫秒

}

//任意位数码管显示一个字符函数：

void DTDisplayChar(unsigned char segmd,unsigned char bitd )//数码管段码和数码管位码

{

unsigned char i;

unsigned int dat;

dat=bitd;

dat=dat位码段码合并为一个int型数据

for(i=0;i位数据从高位依次移入74HC595

{

ser=(dat&amp;0x8000)?1:0; //判断最高位，为真取1，为假取0

srclk=1; //上升沿送数据

srclk=0;

dat左移取下一位

}

rclk=1; //74HC595锁存数据

rclk=0;

}

//主函数：

int main(void)

{

unsigned char j,k;

oe=0; rclk=0;srclk=0;

DTDisplayChar(0xff,0x00);//数码管全亮

Delayms(2000);//延时2秒，检查数码管是否有缺画

while(1)

{

for(j=0;j显示0-f 16个字符

{

DTDisplayChar(segmcode[j],bitcode[j%8]);//从数组取出段码和位码

//要显示小数点只需在断码上或上0x80即可

for(k=0;k每个字符/闪烁5次

{

oe=0;//打开显示

Delayms(200);//延时200毫秒

oe=1;//关闭显示

Delayms(200);

}

}

/* for(j=0;j字符同时显示

{

DTDisplayChar(segmcode[j],bitcode[j]);//从数组取出段码和位码

Delayms(1);

} */

}

return 0;

}</code></pre> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e389b852e7223347b18f583c5f809e64/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">NLP基础——中文分词</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/59f7a21e581fd0cd71e14676d4a8f859/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">西瓜书读书笔记整理（八） —— 第八章 集成学习</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>