<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>服务端性能测试——性能测试工具JMeter-L1 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="服务端性能测试——性能测试工具JMeter-L1" />
<meta property="og:description" content="第一遍没学懂，后续文章会更新~ 目录：
1.JMeter介绍与安装Meter简介JMeter安装2.JMeter的运行JMeter运行、界面功能简介3.使用代理服务器录制请求录制压测脚本（一）Web端脚本录制方法4.测试计划5.线程组6.控制器7.JMeter采样器/取样器8.JMeter场景逻辑控制技术9.JMeter监听器10.JMeter定时器11.JMeter断言元件的使用12.JMeter常用配置元件剖析13.JMeter前置处理器前置处理器SampleTimeout前置处理器Beanshell前置处理器14.JMeter后置处理器15.JMeter执行顺序16.JMeter虚拟用户管理17.HTTP请求属性设置18.HTTPcookie设置Cookiemanager19.HTTP信息头管理器Headermanager20.HTTP请求设置21.监听器与测试结果Listener&amp;测试结果 1.JMeter 介绍与安装 Meter简介 Apache组织开发的开源免费压测工具纯Java程序，跨平台性强源程序可以从网上下载高可扩展性可对服务器、网络或对象模拟巨大的负载，进行压力测试可以用于接口测试支持分布式、多节点部署 JMeter 安装 下载位置：
官网 https://jmeter.apache.org/binary 可运行文件包官网下载规律 首页 -&gt; Download -&gt; binariesJMeter 安装方法： 直接解压Demo： JMeter 官网寻找安装包，下载，解压 2.JMeter 的运行 JMeter 运行、界面功能简介 运行环境要求：java运行时环境运行方法：命令行直接启动 $jmeter_home/bin/jmeter.sh常规的菜单功能：新建、保存、查询、配置、帮助 等压测运行相关：开始运行、停止运行、远程运行、停止远程运行 等设定外观长相更改配置语言，不过建议用英语（个人体会中文翻译的有点晕）Demo – JMeter 界面操作、外观、语言 3.使用代理服务器录制请求 录制压测脚本（一）Web 端 压测对象 - http://news.baidu.com压测页面 – 百度首页，百度新闻步骤： 访问百度首页单击进入“百度新闻”操作手段： 录制回放，上手容易，入门学习的好手段 脚本录制方法 打开 JMeter新建压测脚本添加 “HTTP(S) Test Script Recorder” 添加“Thread Group” 在 Thread Group中添加“Recording Controller” 打开 HTTP(S) Test Script Recorder设定 Port = 8088设定 Target Controller = Test Plan &gt; Tread Group &gt; Recording Controller 在 Requests Filtering 添加“include”与 “Exclude”URL 正则匹配表达式目的：避免录制过多没必要的请求Include： ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d0633d58e6459678085908f7516fb92d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T11:02:25+08:00" />
<meta property="article:modified_time" content="2024-01-11T11:02:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">服务端性能测试——性能测试工具JMeter-L1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>第一遍没学懂，后续文章会更新~ </p> 
<p><strong>目录：</strong></p> 
<ol><li><strong>1.JMeter介绍与安装</strong></li><li><strong>Meter简介</strong></li><li><strong>JMeter安装</strong></li><li><strong>2.JMeter的运行</strong></li><li><strong>JMeter运行、界面功能简介</strong></li><li><strong>3.使用代理服务器录制请求</strong></li><li><strong>录制压测脚本（一）Web端</strong></li><li><strong>脚本录制方法</strong></li><li><strong>4.测试计划</strong></li><li><strong>5.线程组</strong></li><li><strong>6.控制器</strong></li><li><strong>7.JMeter采样器/取样器</strong></li><li><strong>8.JMeter场景逻辑控制技术</strong></li><li><strong>9.JMeter监听器</strong></li><li><strong>10.JMeter定时器</strong></li><li><strong>11.JMeter断言元件的使用</strong></li><li><strong>12.JMeter常用配置元件剖析</strong></li><li><strong>13.JMeter前置处理器</strong></li><li><strong>前置处理器</strong></li><li><strong>SampleTimeout前置处理器</strong></li><li><strong>Beanshell前置处理器</strong></li><li><strong>14.JMeter后置处理器</strong></li><li><strong>15.JMeter执行顺序</strong></li><li><strong>16.JMeter虚拟用户管理</strong></li><li><strong>17.HTTP请求属性设置</strong></li><li><strong>18.HTTPcookie设置</strong></li><li><strong>Cookiemanager</strong></li><li><strong>19.HTTP信息头管理器</strong></li><li><strong>Headermanager</strong></li><li><strong>20.HTTP请求设置</strong></li><li><strong>21.监听器与测试结果</strong></li><li><strong>Listener&amp;测试结果</strong></li></ol> 
<h4>1.JMeter 介绍与安装</h4> 
<h5>Meter简介</h5> 
<ul><li>Apache组织开发的开源免费压测工具</li><li>纯Java程序，跨平台性强</li><li>源程序可以从网上下载高可扩展性</li><li>可对服务器、网络或对象模拟巨大的负载，进行压力测试可以用于接口测试</li><li>支持分布式、多节点部署</li></ul> 
<h5>JMeter 安装 </h5> 
<p>下载位置：</p> 
<ul><li>官网 https://jmeter.apache.org/</li><li>binary 可运行文件包</li><li>官网下载规律 首页 -&gt; Download -&gt; binaries</li><li>JMeter 安装方法： 直接解压</li><li>Demo： JMeter 官网寻找安装包，下载，解压</li></ul> 
<p><img alt="" height="179" src="https://images2.imgbox.com/dd/42/vlnhHNR9_o.png" width="488"></p> 
<p><img alt="" height="658" src="https://images2.imgbox.com/9d/a3/xYnWkL1o_o.png" width="1166"></p> 
<p><img alt="" height="1039" src="https://images2.imgbox.com/36/04/gOGxbiNq_o.png" width="1200"></p> 
<h4>2.JMeter 的运行</h4> 
<h5>JMeter 运行、界面功能简介</h5> 
<ul><li>运行环境要求：java运行时环境</li><li>运行方法：命令行直接启动 $jmeter_home/bin/jmeter.sh</li><li>常规的菜单功能：新建、保存、查询、配置、帮助 等</li><li>压测运行相关：开始运行、停止运行、远程运行、停止远程运行 等</li><li>设定外观长相更改</li><li>配置语言，不过建议用英语（个人体会中文翻译的有点晕）</li><li>Demo – JMeter 界面操作、外观、语言</li></ul> 
<h4>3.使用代理服务器录制请求</h4> 
<h5>录制压测脚本（一）Web 端</h5> 
<ul><li>压测对象 - http://news.baidu.com</li><li>压测页面 – 百度首页，百度新闻</li><li>步骤： 
  <ul><li>访问百度首页</li><li>单击进入“百度新闻”</li></ul></li><li>操作手段： 录制回放，上手容易，入门学习的好手段</li></ul> 
<h5>脚本录制方法 </h5> 
<ul><li>打开 JMeter</li><li>新建压测脚本</li><li>添加 “HTTP(S) Test Script Recorder”</li></ul> 
<p><img alt="" height="489" src="https://images2.imgbox.com/5b/a3/CM4J7tTW_o.png" width="858"></p> 
<ul><li>添加“Thread Group”</li></ul> 
<p><img alt="" height="492" src="https://images2.imgbox.com/c2/47/Ch15mOV1_o.png" width="831"></p> 
<ul><li>在 Thread Group中添加“Recording Controller” </li></ul> 
<p><img alt="" height="768" src="https://images2.imgbox.com/09/5a/RAOi9VWF_o.png" width="892"></p> 
<ul><li>打开 HTTP(S) Test Script Recorder</li><li>设定 Port = 8088</li><li>设定 Target Controller = Test Plan &gt; Tread Group &gt; Recording Controller</li></ul> 
<p><img alt="" height="1036" src="https://images2.imgbox.com/56/c2/DXgzHhtY_o.png" width="1200"></p> 
<ul><li>在 Requests Filtering 添加“include”与 “Exclude”URL 正则匹配表达式</li><li>目的：避免录制过多没必要的请求</li><li>Include： .*\.(baidu\.com).*</li><li>Exclude：.*\.(js|css|PNG|jpg|ico|png|gif).*</li></ul> 
<p><img alt="" height="1040" src="https://images2.imgbox.com/95/db/oPitBlsH_o.png" width="1200"></p> 
<ul><li>关于链接过滤的几点说明</li><li>exclude 去掉一些诸如图片、js、css 等静态请求，这些静态资源一般会 单独存放，不会占用服务器运算资源所以压测的时候可以不测试这些资源</li><li>include 包含内容，只抓取百度URL的内容，不抓其他的网站的内容</li><li>正则表达试匹配原理快速入门说明见下页图片说明（菜鸟教程）</li></ul> 
<p><img alt="" height="729" src="https://images2.imgbox.com/bb/27/mCldiOyj_o.png" width="1047"></p> 
<ul><li>单击保存按钮，命名文件名，将对 JMeter 脚本的更改存储到磁盘</li><li>打开浏览器，将浏览器的代理服务器地址指向 http://localhost:8088 </li></ul> 
<p><img alt="" height="822" src="https://images2.imgbox.com/ac/3a/g5ivjgnW_o.png" width="749"></p> 
<ul><li>单击HTTP(S) Test Script Recorder中的Start按钮，打开代理</li><li>单击弹框中的确定按钮</li><li>JMeter的录制代理将会开启 </li></ul> 
<p><img alt="" height="1037" src="https://images2.imgbox.com/56/e3/N6FJwOhK_o.png" width="1200"></p> 
<ul><li>在对应的浏览器中访问百度首页</li><li>进入百度新闻站点</li><li>停止JMeter的代理服务</li><li>可以看到对应的请求已被录制到JMeter中了</li></ul> 
<p> <img alt="" height="534" src="https://images2.imgbox.com/f4/4c/xYzVosRQ_o.png" width="290"></p> 
<ul><li>Demo – JMeter 脚本的录制过程，过滤资源的对比展示</li><li>回放验证</li><li>添加 View Results Tree</li><li>View Result Tree 的用途： 看Req /Resp 详情 </li></ul> 
<p><img alt="" height="800" src="https://images2.imgbox.com/79/e1/slU9MxJc_o.png" width="966"></p> 
<ul><li>只是为了检验，所以一个并发、一次循环即可</li><li>单击开始运行按钮 </li></ul> 
<p><img alt="" height="674" src="https://images2.imgbox.com/31/9e/xXIiN2A7_o.png" width="1080"></p> 
<ul><li>在 View Result Tree 中</li><li>检查 请求/响应 是否都成功了 </li></ul> 
<p><img alt="" height="943" src="https://images2.imgbox.com/9c/3b/Thj1MjKQ_o.png" width="1159"></p> 
<ul><li>JMeter 压测回放，检查脚本的正确性 </li></ul> 
<h4>4.测试计划</h4> 
<ul><li>用来描述一个压力/性能测试脚本和场景设计的基本运行单元， 使用JMeter进行测试 的所有内容都是基于一个测试计划</li><li>用户定义变量</li></ul> 
<p><img alt="" height="1038" src="https://images2.imgbox.com/71/f3/2lxKu7QJ_o.png" width="1200"></p> 
<ul><li>独立运行每个线程组 
  <ul><li>不勾选：各个线程组并行、随机执行</li><li>勾选：线程组按照前后顺序来执行</li></ul></li><li>主线程组运行完成之后运行tearDown线程组</li><li>函数测试模式，比如保存响应数据或者样本数据，需要注意的是选择该功能非常磁盘 空间</li><li>添加文件或者jar包，常用于外部功能调用</li><li>Demo： 测试计划 </li></ul> 
<h4>5.线程组</h4> 
<ul><li>线程组元件是任何一个测试计划的开始点，在一个测试计划中的所有元件 都必须在某个线程组下，所有的任务都是基于线程组。</li><li>第一部分：在请求取样器执行错误时需要执行的下一步动作</li><li>第二部分：线程属性</li></ul> 
<p><img alt="" height="548" src="https://images2.imgbox.com/8e/bd/yVdIA82X_o.png" width="987"></p> 
<ul><li>第一部分：在请求取样器执行错误时需要执行的下一步动作 
  <ul><li>Continue：继续执行接下来的操作</li><li>Start Next Loop：忽略错误，执行下一个循环</li><li>Stop Thread：退出该线程（不再进行此线程的任何操作）</li><li>Stop Test：等待当前执行的采样器结束后，结束整个测试</li><li>Stop Test Now：直接停止整个测试</li></ul></li><li>第二部分：线程属性 
  <ul><li>Number of Thread (users)：线程数，模拟的用户数量</li><li>Ramp-up Period（in seconds）：达到指定线程数所需要的时间。举例：线程数设置 为50，此处设置为5，那么每秒启动的线程数 =&gt; 线程数50/5 = 10</li><li>Loop Count: 循环次数</li><li>Same user on each iteration：每次迭代都用相同的用户， 勾选该选项则不同次迭代 之间是串行执行，不勾选则为并行执行。</li><li>Delay Thread creation until needed：当线程需要执行的时候，才会被创建。如果不 选择这个选项，那么，在计划开始的时候，所有需要的线程就都被创建好了 </li><li>Specify Thread lifetime：定义线程调度时间</li><li>Duration (seconds)： 持续时间（秒）, 在此选项填入N，说明这个计划， 从某个开始时间算起，执行N秒后结束。（会忽略 结束时间 的选项）</li><li>Startup delay (seconds)： 启动延迟（秒），在此选项填入N，手动点击 开始执行计划，然后延迟N秒后，计划才真正开始执行。</li></ul></li></ul> 
<h4>6.控制器</h4> 
<ul><li>种类丰富</li><li>为请求执行提供不同的逻辑控制</li><li>介绍几个常用的逻辑控制器 
  <ul><li>事务控制器 Transaction Controller</li><li>条件控制器 If Controller</li><li>循环控制器 Loop Controller</li><li>随机控制器 Random Controller</li></ul></li></ul> 
<p><img alt="" height="783" src="https://images2.imgbox.com/8d/0a/pnytJ23M_o.png" width="1087"></p> 
<h4>7.JMeter 采样器/取样器</h4> 
<ul><li>采样器（取样器）： 模拟用户操作，向服务器发出请求的组件；</li><li>采样器作用：向服务器发送请求，记录响应信息与响应时间；</li><li>常用采样器讲解： 
  <ul><li>HTTP Request Sampler</li><li>Debug Sampler</li><li>BeanShell Sampler</li></ul></li></ul> 
<h4>8.JMeter 场景逻辑控制技术</h4> 
<ul><li>利用JMeter 逻辑控制器</li><li>实现测试业务流程中的逻辑变化</li><li>模拟实际业务场景</li></ul> 
<p><img alt="" height="572" src="https://images2.imgbox.com/aa/2a/j9SolqyE_o.png" width="382"></p> 
<ul><li>场景逻辑控制技术</li></ul> 
<p><img alt="" height="525" src="https://images2.imgbox.com/a0/f0/YfqHDf43_o.png" width="298"></p> 
<h4>9.JMeter 监听器</h4> 
<ul><li>用来动态的监控JMeter执行测试的过程，实时查看测试结果；</li><li>常用监听器： 
  <ul><li>查看结果树</li><li>聚合报告</li><li>后端监听器</li></ul></li></ul> 
<h4>10.JMeter 定时器</h4> 
<ul><li>顾名思义，定时器是用来控制采样器发出请求开始时间的组件</li><li>常见定时器： 
  <ul><li>固定定时器</li><li>高斯随机定时器</li><li>吞吐量定时器</li><li>并发定时器</li></ul></li></ul> 
<h4>11.JMeter 断言元件的使用</h4> 
<ul><li>断言的作用就是让 JMeter 程序判断预期结果和实际结果是否一致，从而 判定请求是否成功</li><li>常见断言： 
  <ul><li>响应断言</li><li>大小断言</li><li>XPath 断言</li><li>Json 断言</li></ul></li></ul> 
<h4>12.JMeter 常用配置元件剖析</h4> 
<ul><li>配置元件的用途</li><li>常见的配置元件</li><li>配置元件的执行顺序</li><li>配置元件的作用范围</li><li>配置元件执行结果的查看</li></ul> 
<h4>13.JMeter 前置处理器</h4> 
<h5>前置处理器 </h5> 
<ul><li>在取样器发送请求之前执行,做一些准备工作,如设置参数、环境变量等</li><li>常见前置处理器举例： 
  <ul><li>Sample Timeout 前置处理器</li><li>BeanShell 前置处理器</li></ul></li></ul> 
<h5>Sample Timeout 前置处理器 </h5> 
<ul><li>设定请求超时时间</li><li>作用范围内的所有请求均生效</li><li>单位：毫秒</li></ul> 
<h5>Beanshell 前置处理器</h5> 
<ul><li>什么是Beanshell</li><li>小型嵌入式 Java 源码解释器</li><li>基本就是 Java 语言</li><li>BeanShell前置处理器：在Sampler 执行之前会被执行</li><li>直接在JMeter的Beanshell处理器中写代码生成当前时间戳</li><li>通过程序生成当前时间戳</li><li>将时间戳值赋值给变量，然后传递给后续的请求样本 </li></ul> 
<h4>14.JMeter 后置处理器</h4> 
<ul><li>后置处理器主要用于取样器执行后的提取数据操作；</li><li>常见的后置处理器： 
  <ul><li>Json 数据提取器</li><li>正则表达式数据提取器</li><li>XPath 数据提取器</li></ul></li></ul> 
<h4>15.JMeter 执行顺序</h4> 
<ul><li>JMeter 八大组件</li><li> 执行顺序</li><li>线程组-&gt;定时器-&gt;控制器-&gt;前置处理器-&gt;配置原件-&gt;采样器-&gt;后置处理器-&gt;断言-&gt;监听器</li></ul> 
<p><img alt="" height="399" src="https://images2.imgbox.com/8a/42/oa5obwD0_o.png" width="580"> </p> 
<h4>16.JMeter 虚拟用户管理</h4> 
<p>~</p> 
<h4>17.HTTP 请求属性设置</h4> 
<p>~</p> 
<h4>18.HTTP cookie 设置</h4> 
<h5>Cookie manager </h5> 
<ul><li>自定义cookie</li><li>配置项 </li></ul> 
<h4>19.HTTP 信息头管理器</h4> 
<h5>Header manager</h5> 
<ul><li>自定义header 变量</li><li>Header变量值的带入</li></ul> 
<h4>20.HTTP 请求设置</h4> 
<h4>21.监听器与测试结果</h4> 
<h5>Listener &amp; 测试结果</h5> 
<ul><li>Listener 种类多样</li><li>展示 &amp; 调试测试结果</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/88f5fc699c2d2e09ab6f336071d4ae92/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">软件设计师真题，设计模式专项练习（四）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7786d34985aa7d74fd4bff737f7eec18/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">软件设计师真题，设计模式专项练习（五）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>