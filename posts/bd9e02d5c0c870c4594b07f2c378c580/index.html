<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python人工智能识别视频水印_人工智能-OpenCV&#43;Python实现人脸识别（视频人脸检测）... - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python人工智能识别视频水印_人工智能-OpenCV&#43;Python实现人脸识别（视频人脸检测）..." />
<meta property="og:description" content="上期文章我们分享了opencv识别图片中的人脸，OpenCV图片人脸检测，本期我们分享一下如何从视频中检测到人脸
视频人脸检测
OpenCV打开摄像头特别简单，只需要如下一句代码
capture = cv2.VideoCapture(0) # 打开摄像头
打开摄像头后，我们使用如下一句代码，来获取视频中的图片（每帧图片）
ret, frame = capture.read() # 读取
有了图片我们就可以按照图片的识别方式来检测人脸了
有了以上的2句代码，再加上上期的图片识别，就可以从视频中检测人脸了
完整代码：
import cv2
capture = cv2.VideoCapture(0) # 打开摄像头
face = cv2.CascadeClassifier(r&#39;D:\Program Files (x86)\Anaconda3\pkgs\
libopencv-3.4.1-h875b8b8_3\Library\etc\haarcascades\
haarcascade_frontalface_alt.xml&#39;) # 导入人脸模型
cv2.namedWindow(&#39;摄像头&#39;) # 获取摄像头画面
while True:
ret, frame = capture.read() # 读取视频图片
gray = cv2.cvtColor(frame, cv2.COLOR_RGB2GRAY) # 灰度
faces = face.detectMultiScale(gray,1.1,3,0,(100,100))
for (x, y, w, h) in faces: # 5个参数，一个参数图片 ，2 坐标原点，3 识别大小，4，颜色5，线宽
cv2.rectangle(frame, (x, y), (x &#43; w, y &#43; h), (0, 255, 0), 2)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/bd9e02d5c0c870c4594b07f2c378c580/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-26T09:02:10+08:00" />
<meta property="article:modified_time" content="2020-11-26T09:02:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python人工智能识别视频水印_人工智能-OpenCV&#43;Python实现人脸识别（视频人脸检测）...</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p align="center">上期文章我们分享了opencv识别图片中的人脸，OpenCV图片人脸检测，本期我们分享一下如何从视频中检测到人脸</p> 
<p>视频人脸检测</p> 
<p>OpenCV打开摄像头特别简单，只需要如下一句代码</p> 
<p>capture = cv2.VideoCapture(0) # 打开摄像头</p> 
<p>打开摄像头后，我们使用如下一句代码，来获取视频中的图片（每帧图片）</p> 
<p>ret, frame = capture.read() # 读取</p> 
<p>有了图片我们就可以按照图片的识别方式来检测人脸了</p> 
<p>有了以上的2句代码，再加上上期的图片识别，就可以从视频中检测人脸了</p> 
<p>完整代码：</p> 
<p>import cv2</p> 
<p>capture = cv2.VideoCapture(0) # 打开摄像头</p> 
<p>face = cv2.CascadeClassifier(r'D:\Program Files (x86)\Anaconda3\pkgs\</p> 
<p>libopencv-3.4.1-h875b8b8_3\Library\etc\haarcascades\</p> 
<p>haarcascade_frontalface_alt.xml') # 导入人脸模型</p> 
<p>cv2.namedWindow('摄像头') # 获取摄像头画面</p> 
<p>while True:</p> 
<p>ret, frame = capture.read() # 读取视频图片</p> 
<p>gray = cv2.cvtColor(frame, cv2.COLOR_RGB2GRAY) # 灰度</p> 
<p>faces = face.detectMultiScale(gray,1.1,3,0,(100,100))</p> 
<p>for (x, y, w, h) in faces: # 5个参数，一个参数图片 ，2 坐标原点，3 识别大小，4，颜色5，线宽</p> 
<p>cv2.rectangle(frame, (x, y), (x + w, y + h), (0, 255, 0), 2)</p> 
<p>cv2.imshow('摄像头', frame) # 显示</p> 
<p>if cv2.waitKey(5) &amp; 0xFF == ord('q'):</p> 
<p>break</p> 
<p>capture.release() # 释放资源</p> 
<p>cv2.destroyAllWindows() # 关闭窗口</p> 
<p>opencv中人脸检测使用的是 detectMultiScale函数，小编使用手机播放一段视频，截取了几张人脸检测的图片</p> 
<p>detectMultiScale(</p> 
<p>const Mat&amp; image,</p> 
<p>CV_OUT vector&amp; objects,</p> 
<p>double scaleFactor = 1.1,</p> 
<p>int minNeighbors = 3,</p> 
<p>int flags = 0,</p> 
<p>Size minSize = Size(),</p> 
<p>Size maxSize = Size()</p> 
<p align="center">);</p> 
<p>识别视频中的人脸</p> 
<p>函数介绍：</p> 
<p>参数1：image--待检测图片，一般为灰度图像加快检测速度；</p> 
<p>参数2：objects--被检测物体的矩形框向量组；</p> 
<p>参数3：scaleFactor--表示在前后两次相继的扫描中，搜索窗口的比例系数。默认为1.1即每次搜索窗口依次扩大10%;</p> 
<p>参数4：minNeighbors--表示构成检测目标的相邻矩形的最小个数(默认为3个)。</p> 
<p>如果组成检测目标的小矩形的个数和小于 min_neighbors - 1 都会被排除。</p> 
<p>如果min_neighbors 为 0, 则函数不做任何操作就返回所有的被检候选矩形框，</p> 
<p>这种设定值一般用在用户自定义对检测结果的组合程序上；</p> 
<p>参数5：flags--要么使用默认值，要么使用CV_HAAR_DO_CANNY_PRUNING，如果设置为</p> 
<p>CV_HAAR_DO_CANNY_PRUNING，那么函数将会使用Canny边缘检测来排除边缘过多或过少的区域，</p> 
<p>因此这些区域通常不会是人脸所在区域；</p> 
<p align="center">参数6、7：minSize和maxSize用来限制得到的目标区域的范围。</p> 
<p>识别视频中的人脸</p> 
<p align="center">OpenCV作为对象检测的第三方库，其强大之处在于对象的检测，Dlib出现后，由于在人脸检测方面的准确度，得到了大家了认可，下期我们分享一下，如何使用Dlib来进行人脸的检测</p> 
<p>使用dlib检测的68个特征点</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1a1004b367475b44e1a3c6e99bf4efdf/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">大白话唠唠 Oauth2 与授权认证的那些事儿！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1d6e868cee2019b26cec6cd39d232396/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">四色建模法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>