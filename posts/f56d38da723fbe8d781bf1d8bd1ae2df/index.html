<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>高斯投影坐标转换（c语言） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="高斯投影坐标转换（c语言）" />
<meta property="og:description" content="高斯投影坐标转换（c语言） 一、高斯投影简介1.1 高斯投影基本概念1.2 高斯投影的条件1.3 高斯投影分带 二、高斯投影转换2.1 几个概念2.2 计算已知量2.3 计算步骤 三、具体问题求解3.1 问题重述3.2 实现代码3.3 输出结果 一、高斯投影简介 1.1 高斯投影基本概念 高斯投影又称横轴椭圆柱等角投影，属于正形投影。世界上最先采用高斯投影的国家是奥地利和德国，我国于1952年正式决定采用高斯投影。
1.2 高斯投影的条件 （1）投影后角度不产生变形，满足正形投影要求；
（2）中央子午线投影后是一条直线；
（3）中央子午线投影后长度不变，其投影长度比恒等于1。
高斯投影除了在中央子午线上没有长度变形外，不在中央子午线上的各点，其长度比都大于1，且离开中央子午线愈远，长度变形愈大。
1.3 高斯投影分带 为限制长度投影变形，投影分带有6度分带和3度分带两种方法。
6°带带号N和中央子午线经度 LN的关系式： LN=6N-33°带带号n和中央子午线经度 Ln的关系式： Ln=3n6°带与3°带带号之间的关系为：n=2N-1 二、高斯投影转换 2.1 几个概念 高斯平面坐标系：指的是以中央子午线与赤道的交点作为坐标原点，以中央子午线的投影为纵坐标轴X，规定X轴向北为正，以赤道的投影为横坐标轴Y，Y轴向东为正，形成的坐标系。
通用坐标：在同一投影带内横坐标有正值、有负值，这对坐标的计算和使用不方便。为了使Y值都为正，将纵坐标x轴西移500km，并在Y坐标前面冠以带号，称为通用坐标。
大地坐标（Geodetic coordinate）：是大地测量中以参考椭球面为基准面的坐标，地面点P的位置用大地经度L、大地纬度B和大地高H表示。
高斯坐标正算：大地坐标（B、L、H）转换为高斯投影坐标（X、Y、Z）
高斯坐标反算：高斯投影坐标（X、Y、Z）转换为大地坐标（B、L、H）
注意：本文高斯坐标投影转换指的是高斯投影的 6° 带转换成 3° 带 或者 3° 带转换成 6° 带。
2.2 计算已知量 地球属性符号表示值长半轴a6378245短半轴b6356863.01877c6399698.9018第一偏心率e1^20.0066934216第二偏心率e2^20.0067385254 2.3 计算步骤 以6° 带转换成 3° 带为例， 3° 带转换成 6° 带同。
通用值转换成自然值高斯投影坐标反算求解6°带中央经线求解3°带的经差高斯投影坐标正算自然值转换成通用值 三、具体问题求解 3.1 问题重述 已知：某点P在1954年北京坐标系6°带的平面直角坐标为
x1 = 3589644." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f56d38da723fbe8d781bf1d8bd1ae2df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-11-19T16:55:11+08:00" />
<meta property="article:modified_time" content="2020-11-19T16:55:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">高斯投影坐标转换（c语言）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>高斯投影坐标转换（c语言）</h4> 
 <ul><li><a href="#_7" rel="nofollow">一、高斯投影简介</a></li><li><ul><li><a href="#11__8" rel="nofollow">1.1 高斯投影基本概念</a></li><li><a href="#12___15" rel="nofollow">1.2 高斯投影的条件</a></li><li><a href="#13__31" rel="nofollow">1.3 高斯投影分带</a></li></ul> 
  </li><li><a href="#_41" rel="nofollow">二、高斯投影转换</a></li><li><ul><li><a href="#21__43" rel="nofollow">2.1 几个概念</a></li><li><a href="#22__57" rel="nofollow">2.2 计算已知量</a></li><li><a href="#23__66" rel="nofollow">2.3 计算步骤</a></li></ul> 
  </li><li><a href="#_79" rel="nofollow">三、具体问题求解</a></li><li><ul><li><a href="#31__80" rel="nofollow">3.1 问题重述</a></li><li><a href="#32__91" rel="nofollow">3.2 实现代码</a></li><li><a href="#33__247" rel="nofollow">3.3 输出结果</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr size='1"' color="#000000"> 
<h2><a id="_7"></a>一、高斯投影简介</h2> 
<h3><a id="11__8"></a>1.1 高斯投影基本概念</h3> 
<p><strong>高斯投影</strong>又称横轴椭圆柱等角投影，属于<strong>正形投影</strong>。世界上最先采用高斯投影的国家是奥地利和德国，我国于1952年正式决定采用高斯投影。</p> 
<p><img src="https://images2.imgbox.com/39/b4/Cirt94ts_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12___15"></a>1.2 高斯投影的条件</h3> 
<p>（1）投影后角度不产生变形，满足正形投影要求；</p> 
<p>（2）中央子午线投影后是一条直线；</p> 
<p>（3）中央子午线投影后长度不变，其投影长度比恒等于1。</p> 
<p><img src="https://images2.imgbox.com/f8/17/bM7muacU_o.png" alt="在这里插入图片描述"></p> 
<p>高斯投影除了在中央子午线上没有长度变形外，不在中央子午线上的各点，其长度比都大于1，且离开中央子午线愈远，长度变形愈大。</p> 
<h3><a id="13__31"></a>1.3 高斯投影分带</h3> 
<p>为限制长度投影变形，投影分带有6度分带和3度分带两种方法。</p> 
<p><img src="https://images2.imgbox.com/99/b1/qtt41KA8_o.png" alt="在这里插入图片描述"></p> 
<ul><li>6°带带号N和中央子午线经度 LN的关系式： LN=6N-3</li><li>3°带带号n和中央子午线经度 Ln的关系式： Ln=3n</li><li>6°带与3°带带号之间的关系为：n=2N-1</li></ul> 
<h2><a id="_41"></a>二、高斯投影转换</h2> 
<h3><a id="21__43"></a>2.1 几个概念</h3> 
<p><strong>高斯平面坐标系</strong>：指的是以中央子午线与赤道的交点作为坐标原点，以中央子午线的投影为纵坐标轴X，规定X轴向北为正，以赤道的投影为横坐标轴Y，Y轴向东为正，形成的坐标系。</p> 
<p><strong>通用坐标</strong>：在同一投影带内横坐标有正值、有负值，这对坐标的计算和使用不方便。为了使Y值都为正，将纵坐标x轴西移<strong>500km</strong>，并在Y坐标前面冠以带号，称为通用坐标。</p> 
<p><strong>大地坐标（Geodetic coordinate）</strong>：是大地测量中以参考椭球面为基准面的坐标，地面点P的位置用<strong>大地经度L</strong>、<strong>大地纬度B</strong>和<strong>大地高H</strong>表示。</p> 
<p><strong>高斯坐标正算</strong>：大地坐标（B、L、H）转换为高斯投影坐标（X、Y、Z）</p> 
<p><strong>高斯坐标反算</strong>：高斯投影坐标（X、Y、Z）转换为大地坐标（B、L、H）</p> 
<p><font color="#999AAA">注意：本文高斯坐标投影转换指的是高斯投影的 6° 带转换成 3° 带 或者 3° 带转换成 6° 带。</font></p> 
<h3><a id="22__57"></a>2.2 计算已知量</h3> 
<table><thead><tr><th>地球属性</th><th>符号表示</th><th>值</th></tr></thead><tbody><tr><td>长半轴</td><td>a</td><td>6378245</td></tr><tr><td>短半轴</td><td>b</td><td>6356863.01877</td></tr><tr><td></td><td>c</td><td>6399698.9018</td></tr><tr><td>第一偏心率</td><td>e1^2</td><td>0.0066934216</td></tr><tr><td>第二偏心率</td><td>e2^2</td><td>0.0067385254</td></tr></tbody></table> 
<h3><a id="23__66"></a>2.3 计算步骤</h3> 
<p>以6° 带转换成 3° 带为例， 3° 带转换成 6° 带同。</p> 
<ol><li>通用值转换成自然值</li><li>高斯投影坐标反算</li><li>求解6°带中央经线</li><li>求解3°带的经差</li><li>高斯投影坐标正算</li><li>自然值转换成通用值</li></ol> 
<h2><a id="_79"></a>三、具体问题求解</h2> 
<h3><a id="31__80"></a>3.1 问题重述</h3> 
<p>已知：某点P在1954年北京坐标系6°带的平面直角坐标为</p> 
<p>x1 = 3589644.286m<br> y1 = 20679136.438m</p> 
<p>求：P点在3°带第40带的平面坐标（x2，y2）</p> 
<h3><a id="32__91"></a>3.2 实现代码</h3> 
<pre><code class="prism language-c"><span class="token comment">/*-------------------------------------------
	高斯坐标代号转换代码：6°带转换成3°带
	
	时间：2019年12月1日
	编译：鸽子
	编程语言：C语言
---------------------------------------------*/</span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h&gt;</span></span>
<span class="token comment">/* 定义已知值 */</span>
<span class="token keyword">double</span> a <span class="token operator">=</span> <span class="token number">6378245</span><span class="token punctuation">;</span>					<span class="token comment">//长半轴</span>
<span class="token keyword">double</span> b <span class="token operator">=</span> <span class="token number">6356863.01877</span><span class="token punctuation">;</span>			<span class="token comment">//短半轴</span>
<span class="token keyword">double</span> c <span class="token operator">=</span> <span class="token number">6399698.9018</span><span class="token punctuation">;</span>			<span class="token comment">//c</span>
<span class="token keyword">double</span> e_square <span class="token operator">=</span> <span class="token number">0.0066934216</span><span class="token punctuation">;</span>		<span class="token comment">//第一偏心率</span>
<span class="token keyword">double</span> e1_square <span class="token operator">=</span> <span class="token number">0.0067385254</span><span class="token punctuation">;</span>	<span class="token comment">//第二偏心率</span>
<span class="token keyword">double</span> e <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>e_square<span class="token punctuation">)</span><span class="token punctuation">;</span>	
<span class="token keyword">double</span> e1 <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> beita0 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">3.0</span> <span class="token operator">/</span> <span class="token number">4.0</span><span class="token operator">*</span>e1_square <span class="token operator">+</span> <span class="token number">45</span> <span class="token operator">/</span> <span class="token number">65</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">175</span> <span class="token operator">/</span> <span class="token number">256</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">11025</span> <span class="token operator">/</span> <span class="token number">16384</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//β0，下同</span>
<span class="token keyword">double</span> beita2 <span class="token operator">=</span> beita0 <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> beita4 <span class="token operator">=</span> <span class="token number">15</span> <span class="token operator">/</span> <span class="token number">32</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">175</span> <span class="token operator">/</span> <span class="token number">384</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3675</span> <span class="token operator">/</span> <span class="token number">8192</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> beita6 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">35</span> <span class="token operator">/</span> <span class="token number">96</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">735</span> <span class="token operator">/</span> <span class="token number">2048</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> beita8 <span class="token operator">=</span> <span class="token number">315</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>e1_square<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*------------------------------高斯坐标反算-------------------------------------*/</span>
<span class="token keyword">double</span> <span class="token function">Fx</span><span class="token punctuation">(</span><span class="token keyword">double</span> B<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>c<span class="token operator">*</span>beita2 <span class="token operator">+</span> <span class="token punctuation">(</span>c<span class="token operator">*</span>beita4 <span class="token operator">+</span> <span class="token punctuation">(</span>c<span class="token operator">*</span>beita6 <span class="token operator">+</span> c<span class="token operator">*</span>beita8<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">Fx</span><span class="token punctuation">(</span><span class="token keyword">double</span> B<span class="token punctuation">,</span> <span class="token keyword">double</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> N <span class="token operator">=</span> a <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e_square<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//卯酉圈曲率半径</span>
	<span class="token keyword">double</span> t <span class="token operator">=</span> <span class="token function">tan</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> fai <span class="token operator">=</span> e1<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a2 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">2.0</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a4 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">24.0</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a6 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">720.0</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">61</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>a2<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> a4<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> a6<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">double</span> <span class="token function">Fy</span><span class="token punctuation">(</span><span class="token keyword">double</span> B<span class="token punctuation">,</span> <span class="token keyword">double</span> l<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> N <span class="token operator">=</span> a <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e_square<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//卯酉圈曲率半径</span>
	<span class="token keyword">double</span> t <span class="token operator">=</span> <span class="token function">tan</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> fai <span class="token operator">=</span> e1<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a3 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">6.0</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a5 <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">120.0</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">18</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> a3<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> a5<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">InverseCalculation</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>B<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>a1<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>l<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>

	B <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token function">Fx</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">Fx</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> c<span class="token operator">*</span>beita0<span class="token punctuation">;</span>
	a1 <span class="token operator">=</span> a<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e_square<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	l <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> <span class="token function">Fy</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> a1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//坐标反算</span>
<span class="token keyword">void</span> <span class="token function">InverseCal</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">,</span> <span class="token keyword">double</span> y<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>B<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">&amp;</span>l<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token comment">//初始值设置</span>
	<span class="token keyword">double</span> B0 <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">/</span> c<span class="token operator">*</span>beita0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> a10 <span class="token operator">=</span> a<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B0<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e_square<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>B0<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> l0 <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">/</span> a10<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"设置初始值为：\n	B0 = %lf   l0 = %lf\n"</span><span class="token punctuation">,</span> B0<span class="token punctuation">,</span> l0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	B <span class="token operator">=</span> B0<span class="token punctuation">;</span>
	<span class="token keyword">double</span> a1 <span class="token operator">=</span> a10<span class="token punctuation">;</span>
	l <span class="token operator">=</span> l0<span class="token punctuation">;</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token function">InverseCalculation</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> B<span class="token punctuation">,</span> a1<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"第%d次迭代结果为：	B = %lf   l = %lf\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>B0 <span class="token operator">-</span> B<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.0001</span> <span class="token operator">||</span> <span class="token function">fabs</span><span class="token punctuation">(</span>l0 <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.0001</span><span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
		n<span class="token operator">++</span><span class="token punctuation">;</span>	<span class="token comment">//次数</span>
		B0 <span class="token operator">=</span> B<span class="token punctuation">;</span>	
		a10 <span class="token operator">=</span> a1<span class="token punctuation">;</span>
		l0 <span class="token operator">=</span> l<span class="token punctuation">;</span>
		<span class="token function">InverseCalculation</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> B<span class="token punctuation">,</span> a1<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"第%d次迭代结果为：	B = %lf   l = %lf\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*------------------------------------------------------------------------------*/</span>
<span class="token comment">/*带号转换*/</span>
<span class="token keyword">void</span> <span class="token function">DegreeTrans</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">&amp;</span>B<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>L<span class="token punctuation">,</span> <span class="token keyword">int</span> degree<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">switch</span> <span class="token punctuation">(</span>degree<span class="token punctuation">)</span>
	<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token number">6</span><span class="token punctuation">:</span>
	<span class="token punctuation">{<!-- --></span>
			  <span class="token keyword">int</span> centerLongitude <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token number">6</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">;</span>	<span class="token comment">//中央经度</span>
			  B <span class="token operator">=</span> B <span class="token operator">*</span> <span class="token number">206265</span> <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">;</span>
			  l <span class="token operator">=</span> l <span class="token operator">*</span> <span class="token number">206265</span> <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">;</span>
			  L <span class="token operator">=</span> l <span class="token operator">+</span> centerLongitude<span class="token punctuation">;</span>
			  <span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>
	<span class="token punctuation">{<!-- --></span>
			  n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1.5</span> <span class="token operator">+</span> L<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">;</span>	<span class="token comment">//计算带号</span>
			  <span class="token keyword">int</span> centerLongitude <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>	<span class="token comment">//中心经度</span>
			  l <span class="token operator">=</span> L <span class="token operator">-</span> centerLongitude<span class="token punctuation">;</span>	<span class="token comment">//经差</span>
			  l <span class="token operator">=</span> l <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">/</span> <span class="token number">206265</span><span class="token punctuation">;</span>	
			  B <span class="token operator">=</span> B <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">/</span> <span class="token number">206265</span><span class="token punctuation">;</span>
			  <span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/*坐标正算：大地坐标转化为高斯投影坐标*/</span>
<span class="token keyword">void</span> <span class="token function">Calculate</span><span class="token punctuation">(</span><span class="token keyword">double</span> B<span class="token punctuation">,</span> <span class="token keyword">double</span> l<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> <span class="token keyword">double</span> <span class="token operator">&amp;</span>y<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token keyword">double</span> N <span class="token operator">=</span> a <span class="token operator">/</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> e_square<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//卯酉圈曲率半径</span>
	<span class="token keyword">double</span> t <span class="token operator">=</span> <span class="token function">tan</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> fai <span class="token operator">=</span> e1<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> X <span class="token operator">=</span> c<span class="token operator">*</span><span class="token punctuation">(</span>beita0<span class="token operator">*</span>B <span class="token operator">+</span> <span class="token punctuation">(</span>beita2<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">+</span> beita4<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> beita6<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> beita8<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//赤道至纬度B的子午线弧长</span>
	x <span class="token operator">=</span> X <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span>N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">24</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">9</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
		<span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">720</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">sin</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">61</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	y <span class="token operator">=</span> l<span class="token operator">*</span>N<span class="token operator">*</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">6</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
		<span class="token function">pow</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">120</span> <span class="token operator">*</span> N<span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token function">cos</span><span class="token punctuation">(</span>B<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token operator">-</span> <span class="token number">18</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">58</span> <span class="token operator">*</span> <span class="token function">pow</span><span class="token punctuation">(</span>fai<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token function">pow</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*********高斯投影带转换（6°——3°）************\n\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">3589544.286</span><span class="token punctuation">;</span>	<span class="token comment">//初始高斯坐标xy</span>
	<span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token number">20679136.438</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"需要转换的6°带坐标为：\n	x = %lf   y = %lf\n\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
	y <span class="token operator">=</span> y <span class="token operator">-</span> n <span class="token operator">*</span> <span class="token number">1000000</span> <span class="token operator">-</span> <span class="token number">500000</span><span class="token punctuation">;</span>	<span class="token comment">//转换成自然值</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"计算过程：\n（一）通用值转换成自然值\n	x = %lf   y = %lf\n"</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n（二）高斯投影坐标反算\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> B <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">InverseCal</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//坐标反算</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"迭代结果为：\n	B = %lf   l = %lf\n"</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> L <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">//定义大地经度</span>
	<span class="token function">DegreeTrans</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> l<span class="token punctuation">,</span> n<span class="token punctuation">,</span> L<span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//求中央经线及大地坐标</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n（三）求解6°带中央经线\n转换后的大地坐标为：\n	B = %lf   L = %lf\n"</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> L<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n（四）求解3°带的经差\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> n1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">//3°带代号</span>
	<span class="token keyword">double</span> l1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>	<span class="token comment">//经差</span>
	<span class="token function">DegreeTrans</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> l1<span class="token punctuation">,</span> n1<span class="token punctuation">,</span> L<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//求中央经线</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"转换后的3°带的经度纬度和代号为：\n	B = %lf   l = %lf   n=%d\n"</span><span class="token punctuation">,</span> B<span class="token punctuation">,</span> l1<span class="token punctuation">,</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n（五）高斯投影坐标正算\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">double</span> x1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> y1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token function">Calculate</span><span class="token punctuation">(</span>B<span class="token punctuation">,</span> l1<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//坐标正算</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"正算结果为：\n	x = %lf   y = %lf\n"</span><span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	y1 <span class="token operator">=</span> y1 <span class="token operator">+</span> n1 <span class="token operator">*</span> <span class="token number">1000000</span> <span class="token operator">+</span> <span class="token number">500000</span><span class="token punctuation">;</span>	<span class="token comment">//高斯投影坐标y</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n（六）自然值转换成通用值\n	x = %lf   y = %lf\n"</span><span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><font color="#999AAA"> 注：代码是根据中国矿业大学出版社出版的《应用大地测量学》高斯投影一章的知识编写的，为了理解书本内容，精度没经过验证。</font></p> 
<h3><a id="33__247"></a>3.3 输出结果</h3> 
<p><font color="#999AAA"> 注：以下是编译器输出的内容，未经修改</font></p> 
<p>需要转换的6°带坐标为：<br> x = 3589544.286000 y = 20679136.438000</p> 
<p>计算过程：<br> （一）通用值转换成自然值<br> x = 3589544.286000 y = 179136.438000</p> 
<p>（二）高斯投影坐标反算</p> 
<p>设置初始值为：<br> B0 = 0.558058 l0 = 0.033078</p> 
<p>第1次迭代结果为： B = 0.560073 l = 0.033116<br> 第2次迭代结果为： B = 0.560076 l = 0.033116</p> 
<p>迭代结果为：<br> B = 0.560076 l = 0.033116</p> 
<p>（三）求解6°带中央经线<br> 转换后的大地坐标为：<br> B = 32.090028 L = 118.897435</p> 
<p>（四）求解3°带的经差<br> 转换后的3°带的经度纬度和代号为：<br> B = 0.560076 l = -0.019243 n=40</p> 
<p>（五）高斯投影坐标正算<br> 正算结果为：<br> x = 3552710.678780 y = -104087.421312</p> 
<p>（六）自然值转换成通用值<br> x = 3552710.678780 y = 40395912.578688</p> 
<p><strong>总结</strong>：测量学与其他学科的不同就是对结果的精度近乎苛刻（尤其是大地测量学），在实际应用中还是需要精度验证的。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ad09252ccbc2c81b383739221207d118/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解决Windows密码错误无法进入系统的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2c1f483e401034c927dd53b51d8742e8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">情感分析学习笔记（6）——PolarityRank算法python代码实现</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>