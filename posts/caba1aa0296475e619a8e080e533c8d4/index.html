<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>golang使用gorm框架执行原生sql - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="golang使用gorm框架执行原生sql" />
<meta property="og:description" content="golang使用gorm框架执行原生sql gorm框架执行原生sql有两种方式，作用不同，分别是：
db.exec(“sql语句”) //执行插入删除等操作使用
db.raw(“sql语句”) //执行查询操作时使用
gorm中exec和raw方法的区别大致可以说是raw用来查询，执行其他操作用exec，因为本人也不是非常清楚，所以只好这么说。
20230612更新，上面的说法有问题，引用Stack Overflow的网友说的
(*gorm.DB).Exec does not return an error, if you want to see if your query failed or not read up on error handling with gorm. Use Exec when you don’t care about output, use Raw when you do care about the output.
大致意思是：(*gorm.DB).Exec不会返回错误。如果不关心输出，请使用Exec；如果关心输出，则使用Raw。
具体操作请看官方文档，附GORM执行Exec和Raw的官方文档
https://gorm.io/docs/sql_builder.html" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/caba1aa0296475e619a8e080e533c8d4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-14T14:43:54+08:00" />
<meta property="article:modified_time" content="2023-06-14T14:43:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">golang使用gorm框架执行原生sql</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="golanggormsql_0"></a>golang使用gorm框架执行原生sql</h2> 
<p><s>gorm框架执行原生sql有两种方式，作用不同，分别是：<br> db.exec(“sql语句”) //执行插入删除等操作使用<br> db.raw(“sql语句”) //执行查询操作时使用<br> gorm中exec和raw方法的区别大致可以说是raw用来查询，执行其他操作用exec，因为本人也不是非常清楚，所以只好这么说。</s></p> 
<p>20230612更新，上面的说法有问题，引用Stack Overflow的网友说的</p> 
<blockquote> 
 <p>(*gorm.DB).Exec does not return an error, if you want to see if your query failed or not read up on error handling with gorm. Use Exec when you don’t care about output, use Raw when you do care about the output.<br> 大致意思是：(*gorm.DB).Exec不会返回错误。如果不关心输出，请使用Exec；如果关心输出，则使用Raw。</p> 
</blockquote> 
<p>具体操作请看官方文档，附GORM执行Exec和Raw的官方文档<br> <em><a href="https://gorm.io/docs/sql_builder.html" rel="nofollow">https://gorm.io/docs/sql_builder.html</a></em></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec9d99664790fcc615e77e0ccc0ad507/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">E: 无法获得锁 /var/lib/apt/lists/lock。锁正由进程 1055（packagekitd）持有 N: 请注意，直接移除锁文件不一定是合适的解决方案，且可能损坏您的系统。 E: 无</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7ca52d7a38faf1fff7f0fbf036a30fb0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">CANVAS 2D详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>