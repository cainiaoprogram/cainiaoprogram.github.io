<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jsp如何显示ftp服务器的图片,Jsp页面上传图片和缩略图查看 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jsp如何显示ftp服务器的图片,Jsp页面上传图片和缩略图查看" />
<meta property="og:description" content="关于Jsp页面上传图片和缩略图查看
主要分为两部分：
第一，图片的上传，图片保存在ftp服务器里(也可以是对应的项目文件夹下需要相对应的修改)
第二，上传后，我们通过点击页面的缩略图查看原图
关于图片的上传操作：
1.在附件上传页面引入验证js：
//导入验证js
然后在我们的form表单中修改属性，新增附近上传元素
附件： 以上代码可直接拷到jsp中使用，部分属性改一下就行了。
2、Action层：
附件涉及的变量：
private String error; //错误信息提示属性
private TblSpisCorpInstancyCaseFj ruleFj; //自定义的附近pojo
private File fj; //附件对象
保存或者更新附件信息的方法体内填入以下代码：
if (fj != null){
String check = CheckFile.getFileByFile(fj); //主要是验证附件的格式，比如：jpg .gif .png .bmp等格式
if (check!=null&amp;&amp;!&#34;&#34;.equals(check)) {
String tem_path = Util.FTP_FOLDER&#43;File.separator&#43;Util.WARD_PHOTO;
String xdpath = Util.FTP_FOLDER&#43;File.separator&#43;Util.WARD_PHOTO;
String file_Name = UploadFTP.copyFTP( this.getFj(),tem_path,&#34;jpg&#34;,(sessionUser.getId()).toString());
ruleFj.setCorpInstancyCaseFjPath(xdpath &#43; File.separator &#43; (sessionUser.getId()).toString()&#43;File.separator &#43; file_Name );
ruleFj.setCorpInstancyCaseFjName(file_Name);
ruleFj.setCreateTime(new Timestamp(System.currentTimeMillis()));
ruleFj.setCorpInstancyCaseFjType(&#34;2&#34;);
}else{
this.setCaseObj(caseObj);
error= &#34;文件格式不对&#34;;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e65bf4c5a03a3f77550e9b42808d90b2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-13T02:16:56+08:00" />
<meta property="article:modified_time" content="2021-08-13T02:16:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jsp如何显示ftp服务器的图片,Jsp页面上传图片和缩略图查看</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div style="font-size:16px;"> 
 <p>关于Jsp页面上传图片和缩略图查看</p> 
 <p>主要分为两部分：</p> 
 <p>第一，图片的上传，图片保存在ftp服务器里(也可以是对应的项目文件夹下需要相对应的修改)</p> 
 <p>第二，上传后，我们通过点击页面的缩略图查看原图</p> 
 <p>关于图片的上传操作：</p> 
 <p>1.在附件上传页面引入验证js：</p> 
 <p>//导入验证js</p> 
 <p>然后在我们的form表单中修改属性，新增附近上传元素</p>附件： 
 <p>以上代码可直接拷到jsp中使用，部分属性改一下就行了。</p> 
 <p>2、Action层：</p> 
 <p>附件涉及的变量：</p> 
 <p>private String error; //错误信息提示属性</p> 
 <p>private TblSpisCorpInstancyCaseFj ruleFj; //自定义的附近pojo</p> 
 <p>private File fj; //附件对象</p> 
 <p>保存或者更新附件信息的方法体内填入以下代码：</p> 
 <p>if (fj != null){<!-- --></p> 
 <p>String check = CheckFile.getFileByFile(fj); //主要是验证附件的格式，比如：jpg .gif .png .bmp等格式</p> 
 <p>if (check!=null&amp;&amp;!"".equals(check)) {<!-- --></p> 
 <p>String tem_path = Util.FTP_FOLDER+File.separator+Util.WARD_PHOTO;</p> 
 <p>String xdpath = Util.FTP_FOLDER+File.separator+Util.WARD_PHOTO;</p> 
 <p>String file_Name = UploadFTP.copyFTP( this.getFj(),tem_path,"jpg",(sessionUser.getId()).toString());</p> 
 <p>ruleFj.setCorpInstancyCaseFjPath(xdpath + File.separator + (sessionUser.getId()).toString()+File.separator + file_Name );</p> 
 <p>ruleFj.setCorpInstancyCaseFjName(file_Name);</p> 
 <p>ruleFj.setCreateTime(new Timestamp(System.currentTimeMillis()));</p> 
 <p>ruleFj.setCorpInstancyCaseFjType("2");</p> 
 <p>}else{<!-- --></p> 
 <p>this.setCaseObj(caseObj);</p> 
 <p>error= "文件格式不对";</p> 
 <p>return addCaseInfo();</p> 
 <p>}</p> 
 <p>}</p> 
 <p>缩略图查看原图</p> 
 <p>需要在Jsp查看附件页面新增：</p>附件： 
 <p align="center"> <img src="" width="100" height="75" alt="JpgShow.jsp?path=%24%7BruleFj.corpInstancyCaseFjPath%20%7D"></p> 
 <p>暂无附件信息</p> 
 <p>gt;</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9ac98320330a293e3072829c1a17b98a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">iis部署mvc网站提示web服务器错误,MVC4 在IIS上发布遇到错误，本地运行正常</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bb70ff120ba52b4a01c5b5c9d54c0057/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">删除&#43;internet&#43;信息服务器&#43;(iis)有什么后果,internet信息服务(iis)无法删除的解决方法...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>