<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>网络安全知识之渗透测试介绍 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="网络安全知识之渗透测试介绍" />
<meta property="og:description" content="渗透测试介绍 渗透测试就是模拟攻击者入侵系统，对系统进行一步步地渗透，发现系统地脆弱环节和隐藏风险。最后形成测试报告提供给系统所有者。系统所有者可根据该测试报告对系统进行加固，提升系统的安全性，防止真正的攻击者入侵。
渗透测试的前提一定是得经过系统所有者的授权!
未经过授权的渗透测试，就是违法行为!
渗透测试意义 信息安全评估的重要方法，有利于掌握系统整体安全强度。
模拟黑客攻击和思维，评估计算机潜在风险。
发现系统薄弱环节和可能利用的路径，提前防范。
有授权，不存在入侵风险。
渗透测试方法 --白盒测试
在知道目标整体信息和源码的情况下进行渗透，类似于代码审计。
--黑盒测试
仅知道目标，其余信息均不知道，完全模拟黑客入侵。
--灰盒测试
知道目标部分信息，例如架构和网络拓扑，进行渗透的方式。
（若按照其他方式还可分为人工测试和自动化测试）
渗透测试一般流程 准备阶段—&gt;信息收集—&gt;漏洞检测—&gt;漏洞利用—&gt;内网转发—&gt;内网渗透—&gt;痕迹清除—&gt;撰写报告
--准备阶段
获得授权 制定方案 目标确定 测试环境确定 测试范围和深度 测试时间确定 测试风险管理
--信息收集
信息收集两种方法
主动信息收集：对目标进行访问或扫描。
被动信息收集：通过第三方收集目标信息。
主要收集的信息
1.域名信息，ip，子域名，DNS记录 是否存在CDN。子域名收集可利用工具：Layer子域名挖掘机，findmain等
2.公网信息。目标相关信息。员工信息，邮箱，注册人等；在Github等代码托管平台查找敏感信息。
3.网站指纹识别。服务器类型(Windows\Linux) 网站容器(Apache\Nginx\Tomcat\IIS)
脚本类型(php\jsp\asp\aspx) 数据库类型(mysql\oracle\access\sqlserver\redis)
4.服务器端口开放情况。可以使用nmap 御剑等工具
ssh弱口令 22 mysql弱口令 3306 redis未授权 6379
weblogic反序列化漏洞 7001 web中间件漏洞 80
5.敏感目录。可以使用御剑，wwwscan，dirmap等扫描
后台目录，默认路径。
6.旁站和c段
旁站指同一服务器上的其他网站。可利用旁站进行渗透。
c段指同一网段内的其他服务器。对同目标C段内的服务器进行渗透提权，再对目标进行渗透。
常见扫描工具：Nessus，X-SCAN NAMP --漏洞检测
主要根据PWASP Top10
1.注入 sql注入，XXE注入，LDAP注入，系统命令注入，远程代码执行
2.失效的身份认证和会话管理 弱口令暴力破解，cookie伪造和cookie绕过，逻辑绕过登录，会话劫持
3.跨站脚本攻击XSS
4.失效的访问控制 未授权访问 ，越权访问（水平越权和垂直越权），文件操作（文件上传，文件包含，任意文件下载）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/77efde4c324ef6447a2a6c60025e6f29/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-21T18:30:06+08:00" />
<meta property="article:modified_time" content="2023-08-21T18:30:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">网络安全知识之渗透测试介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4> 渗透测试介绍</h4> 
<p>渗透测试就是模拟攻击者入侵系统，对系统进行一步步地渗透，发现系统地脆弱环节和隐藏风险。最后形成测试报告提供给系统所有者。系统所有者可根据该测试报告对系统进行加固，提升系统的安全性，防止真正的攻击者入侵。</p> 
<p>渗透测试的前提一定是得经过系统所有者的授权!<br> 未经过授权的渗透测试，就是违法行为!</p> 
<h4>渗透测试意义</h4> 
<p>信息安全评估的重要方法，有利于掌握系统整体安全强度。</p> 
<p>模拟黑客攻击和思维，评估计算机潜在风险。</p> 
<p>发现系统薄弱环节和可能利用的路径，提前防范。</p> 
<p>有授权，不存在入侵风险。</p> 
<h4>渗透测试方法</h4> 
<p><strong>--白盒测试</strong><br> 在知道目标整体信息和源码的情况下进行渗透，类似于代码审计。</p> 
<p><strong>--黑盒测试</strong><br> 仅知道目标，其余信息均不知道，完全模拟黑客入侵。</p> 
<p><strong>--灰盒测试</strong><br> 知道目标部分信息，例如架构和网络拓扑，进行渗透的方式。</p> 
<p>（若按照其他方式还可分为人工测试和自动化测试）</p> 
<h4>渗透测试一般流程</h4> 
<p>准备阶段—&gt;信息收集—&gt;漏洞检测—&gt;漏洞利用—&gt;内网转发—&gt;内网渗透—&gt;痕迹清除—&gt;撰写报告</p> 
<p><strong>--准备阶段</strong></p> 
<p>获得授权     制定方案     目标确定     测试环境确定     测试范围和深度     测试时间确定      测试风险管理</p> 
<p><strong>--信息收集</strong></p> 
<p><strong>信息收集两种方法</strong></p> 
<p>主动信息收集：对目标进行访问或扫描。</p> 
<p>被动信息收集：通过第三方收集目标信息。</p> 
<p><strong>主要收集的信息</strong></p> 
<p>1.域名信息，ip，子域名，DNS记录  是否存在CDN。子域名收集可利用工具：Layer子域名挖掘机，findmain等</p> 
<p>2.公网信息。目标相关信息。员工信息，邮箱，注册人等；在Github等代码托管平台查找敏感信息。</p> 
<p>3.网站指纹识别。服务器类型(Windows\Linux)  网站容器(Apache\Nginx\Tomcat\IIS)</p> 
<p> 脚本类型(php\jsp\asp\aspx)  数据库类型(mysql\oracle\access\sqlserver\redis)</p> 
<p>4.服务器端口开放情况。可以使用nmap 御剑等工具</p> 
<p>  ssh弱口令 22   mysql弱口令  3306   redis未授权 6379</p> 
<p>  weblogic反序列化漏洞 7001    web中间件漏洞  80</p> 
<p>5.敏感目录。可以使用御剑，wwwscan，dirmap等扫描</p> 
<p>后台目录，默认路径。</p> 
<p>6.旁站和c段</p> 
<p>旁站指同一服务器上的其他网站。可利用旁站进行渗透。</p> 
<p>c段指同一网段内的其他服务器。对同目标C段内的服务器进行渗透提权，再对目标进行渗透。</p> 
<p>常见扫描工具：Nessus，X-SCAN  NAMP </p> 
<p><strong>--漏洞检测</strong></p> 
<p>主要根据PWASP Top10</p> 
<p>1.注入    sql注入，XXE注入，LDAP注入，系统命令注入，远程代码执行</p> 
<p>2.失效的身份认证和会话管理    弱口令暴力破解，cookie伪造和cookie绕过，逻辑绕过登录，会话劫持</p> 
<p>3.跨站脚本攻击XSS</p> 
<p>4.失效的访问控制     未授权访问 ，越权访问（水平越权和垂直越权），文件操作（文件上传，文件包含，任意文件下载）</p> 
<p>5.安全配置错误      高危端口（22，445，3389，6379），数据库，web中间件，CORS跨域资源共享漏洞，目录漏洞</p> 
<p>6.敏感信息泄露     弱文件（phpinfo，备份文件，安装文件），源代码，配置文件，数据库文件</p> 
<p>7.攻击检测防范不足   WAF， RASP，虚拟/实际补丁</p> 
<p>8.跨站请求伪造CSRF</p> 
<p>9.使用包含已知漏洞的组件     Struts2代码执行，Spring代码执行，JAVA反序列化，心脏滴血漏洞</p> 
<p>10.未受保护的APIS  Web services，Login API，APP API，DB API ，Pay API</p> 
<p><strong>漏洞探测思路</strong></p> 
<p>1.注入型漏洞 2.文件型漏洞 3.跨站型漏洞</p> 
<p>4.配置型漏洞（SSRF漏洞，CORS漏洞，JSONP，XSS，CSRF）</p> 
<p>5.反序列化漏洞（fastjson反序列化漏洞，jboss反序列化漏洞，Apache shiro反序列化漏洞，weblogic反序列化漏洞）</p> 
<p>6.逻辑型漏洞（注册，登录密码修改等功能上可能存在逻辑漏洞）</p> 
<p>7.服务器型漏洞  如JBoss\Apache\IIS\Weblogic\Tomcat，可根据版本号及服务器类型的敏感文件路径对漏洞进行探测。</p> 
<p>8.第三方库漏洞   如fastjson ，struts2，JQuery，OpenSSL</p> 
<p><strong>--内网转发</strong></p> 
<p>概念，在传统网络中，防火墙是物理边界防御，网络被分为内网和外网。</p> 
<p>当我们获取到外网服务器后（如web服务器，FTP服务器，Mail服务器等）的一定权限后，发现此服务器可直接或间接的访问内网。而内网中的主机不允许外网直接访问，此时可通过端口转发（隧道）将外网服务器设置为代理，此过程便是内网转发。</p> 
<p><strong>端口转发</strong></p> 
<p><img alt="" height="559" src="https://images2.imgbox.com/b3/a1/Kz9PLfC2_o.png" width="737"></p> 
<p></p> 
<p></p> 
<p><strong>内网转发思路</strong></p> 
<p>内网转发通常需要判断已经拿到权限的主机是否出网，若目标出网则可使用反向代理，若目标不出网，则考虑使用正向隧道或端口复用。</p> 
<p><img alt="" height="577" src="https://images2.imgbox.com/1d/aa/DcHqMLtN_o.png" width="790"></p> 
<p></p> 
<p></p> 
<p></p> 
<p><strong>内网转发思路</strong></p> 
<p>1.reGeorg结合proxychains代理链（HTTP隧道）</p> 
<p>适用于公网服务器只开放80端口的情况，使用http隧道。</p> 
<p>2.EW(EarthWorm)结合proxychains代理链。</p> 
<p>EW是便携式网络穿透工具，具有SOCKS5服务架设和端口转发两大核心功能。，此工具可以“正向”，“反向”，“多级级联”等方式打通一条网络隧道，进入内网。</p> 
<p>3.LCX（lcx是基于socket套接字实现端口转发的工具）实现端口转发。</p> 
<p><strong>--内网渗透</strong></p> 
<p><strong>常见攻击方式</strong></p> 
<p>非域环境                                                    </p> 
<p>MS17-010                                                  </p> 
<p>哈希传递攻击                                             </p> 
<p>Access Token窃取与利用                           </p> 
<p>mimikat获取RDP凭据                                 </p> 
<p>........             </p> 
<p>域环境             </p> 
<p>MS14-068     </p> 
<p>票据传递攻击     </p> 
<p>AS-REP Roasting攻击      </p> 
<p> Kerberoast攻击</p> 
<p>........             </p> 
<p>                 </p> 
<p><strong>--内网渗透之权限维持</strong></p> 
<p><strong>web后门</strong><br> 1.隐藏后门文件     2.不死马   3.404页面隐藏后门，或其他自带文件后门</p> 
<p><strong>Windows系统</strong><br> 1.简历隐藏用户，在用户名后加$</p> 
<p>2.在开机启动目录下防止木马文件</p> 
<p>3.使用工具，用MSF中的persistence模块</p> 
<p>4.远程桌面会话维持</p> 
<p><strong>Linux系统</strong><br> 1.SSH后门    2.crontab定时任务    3.SSH公钥   4.创建SUID=0的用户</p> 
<p>————————————————</p> 
<h4>  粉丝福利；【渗透测试全套学习资源】</h4> 
<p>需要的话可以点击*<a href="https://mp.weixin.qq.com/s?__biz=MzkxNDU0MTUyNw==&amp;mid=2247483689&amp;idx=1&amp;sn=2cebfa10735a56de32dc9005cf792498&amp;chksm=c16d9f91f61a1687870dec0d570ee24a3a19957354004b8515806c7ed46c3e3f5adb6ad6b32f#rd" rel="nofollow" title="*CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享">*CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a>**</p> 
<p><strong>👉网安（黑客）全套学习视频👈</strong></p> 
<p>我们在看视频学习的时候，不能光动眼动脑不动手，比较科学的学习方法是在理解之后运用它们，这时候练手项目就很适合了。</p> 
<p><img alt="" src="https://images2.imgbox.com/dd/14/J3TlJF8n_o.png"></p> 
<p><img alt="" src="https://images2.imgbox.com/d9/ab/g9NCYM0H_o.png"></p> 
<p><strong>👉网安（黑客红蓝对抗）所有方向的学习路线👈</strong></p> 
<p>对于从来没有接触过网络安全的同学，我们帮你准备了详细的学习成长路线图。可以说是最科学最系统的学习路线，大家跟着这个大的方向学习准没问题。</p> 
<p><img alt="" height="1184" src="https://images2.imgbox.com/86/05/Pnn31rG9_o.png" width="1080"></p> 
<p></p> 
<p><strong>👉黑客必备开发工具👈</strong></p> 
<p>工欲善其事必先利其器。学习网络安全常用的开发软件都在这里了，给大家节省了很多时间。</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/dd/70/Zalgs3Z5_o.png"></p> 
<p>这份完整版的网络安全（黑客）全套学习资料已经上传至CSDN官方，朋友们如果需要点击下方链接即可前往获取【保证100%免费】。</p> 
<p>需要的话可以点击<a href="https://mp.weixin.qq.com/s?__biz=MzkxNDU0MTUyNw==&amp;mid=2247483689&amp;idx=1&amp;sn=2cebfa10735a56de32dc9005cf792498&amp;chksm=c16d9f91f61a1687870dec0d570ee24a3a19957354004b8515806c7ed46c3e3f5adb6ad6b32f#rd" rel="nofollow" title="CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享">CSDN大礼包：《黑客&amp;网络安全入门&amp;进阶学习资源包》免费分享</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ac1a5d700a3b6f5f0bd89e322023b67c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">零阶矩、一阶矩、二阶矩、…</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/208aa659fc8eb4f50d976c34364cae34/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">excel 汉字转拼音</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>