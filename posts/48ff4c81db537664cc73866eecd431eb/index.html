<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python三目运算符（三元运算符）用法详解（含Python代码） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python三目运算符（三元运算符）用法详解（含Python代码）" />
<meta property="og:description" content="一、前言 三目运算符，又称条件运算符，是计算机语言（c,c&#43;&#43;,java等）的重要组成部分。它是唯一有3个操作数的运算符，有时又称为三元运算符。
定义：
对于条件表达式b ? x : y，先计算条件b，然后进行判断。如果b的值为true，计算x的值，运算结果为x的值；否则，计算y的值，运算结果为y的值。
一个条件表达式绝不会既计算x，又计算y。
条件运算符是右结合的，也就是说，从右向左分组计算。例如，a ? b : c ? d : e将按a ? b : (c ? d : e)执行。
可以理解为条件 ? 结果1 : 结果2 里面的？号是格式要求。也可以理解为条件是否成立，条件成立为结果1，否则为结果2。
注意：在C语言中，结果1 和 结果2的类型必须一致。
a ? b : c简单理解方式为:
if(a) { return b; } else { return c; } 一个C语言中的例子解释：
int a = 2; int c = 3; int b = (a &gt; c) ? a : c; cout &lt;&lt; &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/48ff4c81db537664cc73866eecd431eb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-26T22:33:34+08:00" />
<meta property="article:modified_time" content="2022-08-26T22:33:34+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python三目运算符（三元运算符）用法详解（含Python代码）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="_0"></a>一、前言</h3> 
<p>三目运算符，又称条件运算符，是计算机语言（c,c++,java等）的重要组成部分。它是唯一有3个操作数的运算符，有时又称为三元运算符。</p> 
<p><strong>定义：</strong></p> 
<p>对于条件表达式<code>b ? x : y</code>，先计算条件b，然后进行判断。如果b的值为true，计算x的值，运算结果为x的值；否则，计算y的值，运算结果为y的值。</p> 
<p>一个条件表达式绝不会既计算x，又计算y。</p> 
<p>条件运算符是右结合的，也就是说，从右向左分组计算。例如，<code>a ? b : c ? d : e</code>将按a ? b : (c ? d : e)执行。</p> 
<p><strong>可以理解为条件 ? 结果1 : 结果2 里面的？号是格式要求。也可以理解为条件是否成立，条件成立为结果1，否则为结果2。</strong></p> 
<p>注意：在C语言中，结果1 和 结果2的类型必须一致。</p> 
<p><strong>a ? b : c简单理解方式为:</strong></p> 
<pre><code class="prism language-c"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> b<span class="token punctuation">;</span>
    
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span> 
    <span class="token keyword">return</span> c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>一个C语言中的例子解释：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
 
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&gt;</span> c<span class="token punctuation">)</span> <span class="token operator">?</span> a <span class="token operator">:</span> c<span class="token punctuation">;</span>
 
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b:"</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p><code>cout</code>是c++语言的输出符号。</p> 
<p><code>endl</code>英语意思是<code>end of line</code>,即一行输出结束，然后输出下一行。</p> 
<p><code>cout&lt;&lt;endl</code>是使程序此行输出结束。</p> 
<p><code>cout&lt;&lt;"b:"&lt;&lt;b&lt;&lt;endl</code>：类似于C中的：printf(“b:%d\n”,b)。</p> 
<p>我们知道<code>a&gt;c</code>的结果是<code>False</code>，所以b值返回c。</p> 
<p>所以我们的输出结果为：</p> 
<pre><code class="prism language-c">b<span class="token operator">:</span><span class="token number">3</span>
</code></pre> 
<p>接下来看个复杂的：</p> 
<pre><code class="prism language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
z <span class="token operator">=</span> a <span class="token operator">&gt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> <span class="token punctuation">(</span>b <span class="token operator">&gt;</span> c <span class="token operator">?</span> b <span class="token operator">:</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">"z:"</span> <span class="token operator">&lt;&lt;</span> z <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre> 
<p>我们看右部分：<code>b&gt;c</code>返回值为<code>False</code>，所以返回<code>3</code></p> 
<p><code>a&gt;b</code>返回<code>False</code>，所以最终输出为：<code>z:3</code></p> 
<p>至此，大家理解了三元运算符的定义。</p> 
<h3><a id="Python_64"></a>二、Python中的三目运算符</h3> 
<p>Python语言不像Java、JavaScript等这些语言有这样的三目运算：</p> 
<blockquote> 
 <p>判段的条件?条件为真时的结果:条件为假时的结果</p> 
</blockquote> 
<p>但是Python也有自己的三目运算符：</p> 
<blockquote> 
 <p>条件为真时的结果 if 判段的条件 else 条件为假时的结果</p> 
</blockquote> 
<p>即：Python可以通过<code>if</code>语句来实现三目运算符的功能，因此可以把这种<code>if</code>语句当做三目运算符，具体语法格式如下：</p> 
<p><strong>返回True执行 if 表达式 else 返回False执行</strong></p> 
<p>我们举一个简单的例子来帮助理解：</p> 
<p>假设现在有两个数字，我们希望获得其中较大的一个，那么可以使用 if else 语句，例如：</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> a<span class="token operator">&gt;</span>b<span class="token punctuation">:</span>
    <span class="token builtin">max</span> <span class="token operator">=</span> a
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token builtin">max</span> <span class="token operator">=</span> b
</code></pre> 
<p>但是 Python 提供了一种更加简洁的写法，如下所示：</p> 
<pre><code class="prism language-python"><span class="token builtin">max</span> <span class="token operator">=</span> a <span class="token keyword">if</span> a<span class="token operator">&gt;</span>b <span class="token keyword">else</span> b
</code></pre> 
<p>这里详细解释一下：</p> 
<p><code>max = a if a&gt;b else b</code> 的含义是：</p> 
<p>如果 a&gt;b 成立，就把 a 作为整个表达式的值，并赋给变量 max；</p> 
<p>如果 a&gt; b 不成立，就把 b 作为整个表达式的值，并赋给变量 max。</p> 
<p>第二个例子：</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token string">"返回True执行"</span> <span class="token keyword">if</span> <span class="token number">3</span> <span class="token operator">&gt;</span> <span class="token number">4</span> <span class="token keyword">else</span> <span class="token string">"返回False执行"</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span>　
</code></pre> 
<p>我们的判断条件为<code>3&gt;4</code>是不满足的，所以执行<code>返回False执行</code></p> 
<p>运行结果：<code>返回False执行</code></p> 
<h3><a id="_112"></a>三、在三目运算符中放置多条语句方式</h3> 
<p>在Python的三目运算符中，允许在"返回True执行"和"返回Flase执行"中放置多条语句，有以下两种方式：</p> 
<p><strong>1. 使用英文逗号隔开，每条放置的语句都会执行，程序返回多条语句的返回值组成的元组：</strong></p> 
<pre><code class="prism language-python">b <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"3 &gt; 2"</span><span class="token punctuation">,</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'AAA'</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"BBB"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre> 
<p>上面的例子中，因为 <code>1 &gt; 2</code> 是<code>False</code>，所以执行并返回<code>3 + 1,"3 &gt; 2",2 + 2,print("BBB")</code>这四条语句，由于print()函数没有返回值，故返回None，运行结果如下：</p> 
<pre><code class="prism language-python">BBB
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">'3 &gt; 2'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>2. 使用英文分号隔开，每条语句都会执行，但程序只会返回第一条语句的返回值：</strong></p> 
<pre><code class="prism language-python">b <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token string">"3 &gt; 2"</span><span class="token punctuation">;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'AAA'</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"BBB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span>
</code></pre> 
<p>这里的if…else…执行print(“BBB”)，返回的是第一条语句1 + 1的返回值2，所以，运行结果如下：</p> 
<pre><code class="prism language-python">BBB
<span class="token number">2</span>
</code></pre> 
<h3><a id="_139"></a>四、总结</h3> 
<p>这是一种类似于其它编程语言中三目运算符<code>? :</code>的写法。</p> 
<p>Python 是一种极简主义的编程语言，它没有引入<code>? :</code>这个新的运算符，而是使用已有的 <code>if else</code> 关键字来实现相同的功能。</p> 
<p>使用 <code>if else</code> 实现三目运算符（条件运算符）的格式如下：</p> 
<pre><code class="prism language-python">exp1 <span class="token keyword">if</span> contion <span class="token keyword">else</span> exp2
</code></pre> 
<p><code>condition</code> 是判断条件，<code>exp1</code> 和 <code>exp2</code> 是两个表达式。</p> 
<p>如果 condition 成立（结果为真），就执行 exp1，并把 exp1 的结果作为整个表达式的结果；</p> 
<p>如果 condition 不成立（结果为假），就执行 exp2，并把 exp2 的结果作为整个表达式的结果。</p> 
<h3><a id="_155"></a>五、三目运算符的嵌套</h3> 
<p>Python 三目运算符支持嵌套，如此可以构成更加复杂的表达式。在嵌套时需要注意 <code>if 和 else</code> 的配对，例如：</p> 
<pre><code class="prism language-python">a <span class="token keyword">if</span> a<span class="token operator">&gt;</span>b <span class="token keyword">else</span> c <span class="token keyword">if</span> c<span class="token operator">&gt;</span>d <span class="token keyword">else</span> d
</code></pre> 
<p>应该理解为：</p> 
<pre><code class="prism language-python">a <span class="token keyword">if</span> a<span class="token operator">&gt;</span>b <span class="token keyword">else</span> <span class="token punctuation">(</span> c <span class="token keyword">if</span> c<span class="token operator">&gt;</span>d <span class="token keyword">else</span> d <span class="token punctuation">)</span>
</code></pre> 
<p>就是我们上面讲的：<strong>条件运算符是右结合的</strong></p> 
<p>例子：</p> 
<pre><code class="prism language-python">a <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Input a: "</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
b <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Input b: "</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a大于b"</span><span class="token punctuation">)</span> <span class="token keyword">if</span> a<span class="token operator">&gt;</span>b <span class="token keyword">else</span> <span class="token punctuation">(</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a小于b"</span><span class="token punctuation">)</span> <span class="token keyword">if</span> a<span class="token operator">&lt;</span>b <span class="token keyword">else</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"a等于b"</span><span class="token punctuation">)</span> <span class="token punctuation">)</span>
</code></pre> 
<p>运行结果：</p> 
<pre><code class="prism language-python">Input a<span class="token punctuation">:</span> <span class="token number">5</span>
Input b<span class="token punctuation">:</span> <span class="token number">6</span>
a小于b
</code></pre> 
<p>该程序是一个嵌套的三目运算符。程序先对 <code>a&gt;b</code> 求值，如果该表达式为 True，程序就返回执行第一个表达式 print(“a大于b”)，否则将继续执行 else 后面的内容，也就是：<code>( print("a小于b") if a&lt;b else print("a等于b") )</code>，进入该表达式后，先判断 a&lt;b 是否成立，如果 a&lt;b 的结果为 True，将执行 print(“a小于b”)，否则执行 print(“a等于b”)。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/63f10ce476a3f450db4446ed90eb1fdd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">imx6ull的Uboot启动过程——区别于传统Uboot</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8068aff9ce74bd64577da76aaa686709/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Typora打不开，出现Error，不需下载，即可重新打开使用。</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>