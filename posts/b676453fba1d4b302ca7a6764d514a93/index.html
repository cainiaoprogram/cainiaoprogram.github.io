<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tomcat学习 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Tomcat学习" />
<meta property="og:description" content="Tomcat 介绍 Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。
当配置正确时，Apache 为HTML页面服务，而Tomcat 实际上运行JSP 页面和Servlet。
Tomcat和IIS等Web服务器一样，具有处理HTML页面的功能，另外它还是一个Servlet和JSP容器，独立的Servlet容器是Tomcat的默认模式。不过，Tomcat处理静态HTML的能力不如Apache服务器
Web基础 C/S ，Client/Server，就是客户端与服务器，顾名思义，用户需要安装相应的客户端才能运行，典型的如QQ，微信。
优点：减轻服务端的处理压力，运算速度快，对客户端响应快
缺点：版本升级成本高，每次升级必须先卸载老版本在升级B/S，Browser/Server，浏览器/服务器，本质上来说也是cs架构，只不过client变成了browser而已。
优点：不存在客户端升级问题，只需要升级服务端程序即可。
缺点：具体业务的处理压力，全部加载了服务端，导致服务端程序运算速度降低，响应速度降低，用户体验差。 Tomcat重要目录 /bin - Tomcat 脚本存放目录（如启动、关闭脚本）*.sh 文件用于 Unix 系统； *.bat 文件用于 Windows 系统。
/conf - Tomcat 配置文件目录。
/logs - Tomcat 默认日志目录。
/webapps - webapp 运行的目录。
Tomcat的启动 找到bin目录下的statup.bat/sh，进行在windows/Linux下的启动。
如果一闪而过：说明jdk没配置成功，这里直接介绍在startup.bat中修改代码来配置jdk。
如果再加入pause的话，那么界面就不会闪退，方便我们查看错误。
如果遇到启动过程中有如下错误：
Access Error: 404 -- Not Found Cannot locate document: / 该错误是有进程在占用8080端口，需要手动在cmd终端命令行上查找占用该8080端口的进程
1，在cmd查找正在使用8080端口的进程：netstat -ano | findstr 8080
2，杀死正在使用8080端口的进程：taskkill -pid id -f（id是指进程的id）
3，重新启动的Tomcat，刷新页面即可
之后再次运行startup.bat，访问localhost:8080端口便可以访问成功。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b676453fba1d4b302ca7a6764d514a93/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-10T09:40:54+08:00" />
<meta property="article:modified_time" content="2021-10-10T09:40:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Tomcat学习</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Tomcat__0"></a>Tomcat 介绍</h2> 
<p>Tomcat 服务器是一个免费的开放源代码的Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试JSP 程序的首选。<br> <strong>当配置正确时，Apache 为HTML页面服务，而Tomcat 实际上运行JSP 页面和Servlet。</strong></p> 
<blockquote> 
 <p>Tomcat和IIS等Web服务器一样，具有处理HTML页面的功能，另外它还是一个Servlet和JSP容器，独立的Servlet容器是Tomcat的默认模式。不过，Tomcat处理静态HTML的能力不如Apache服务器</p> 
</blockquote> 
<h2><a id="Web_6"></a>Web基础</h2> 
<ul><li>C/S ，Client/Server，就是客户端与服务器，顾名思义，用户需要安装相应的客户端才能运行，典型的如QQ，微信。<br> 优点：减轻服务端的处理压力，运算速度快，对客户端响应快<br> 缺点：版本升级成本高，每次升级必须先卸载老版本在升级</li><li>B/S，Browser/Server，浏览器/服务器，本质上来说也是cs架构，只不过client变成了browser而已。<br> 优点：不存在客户端升级问题，只需要升级服务端程序即可。<br> 缺点：具体业务的处理压力，全部加载了服务端，导致服务端程序运算速度降低，响应速度降低，用户体验差。</li></ul> 
<h2><a id="Tomcat_14"></a>Tomcat重要目录</h2> 
<ul><li> <p>/bin - Tomcat 脚本存放目录（如启动、关闭脚本）*.sh 文件用于 Unix 系统； *.bat 文件用于 Windows 系统。</p> </li><li> <p>/conf - Tomcat 配置文件目录。</p> </li><li> <p>/logs - Tomcat 默认日志目录。</p> </li><li> <p>/webapps - webapp 运行的目录。</p> </li></ul> 
<h2><a id="Tomcat_23"></a>Tomcat的启动</h2> 
<p>找到bin目录下的statup.bat/sh，进行在windows/Linux下的启动。<br> <img src="https://images2.imgbox.com/94/c1/oDgNHDhj_o.png" alt="在这里插入图片描述"><br> 如果一闪而过：说明jdk没配置成功，这里直接介绍在startup.bat中修改代码来配置jdk。<br> <img src="https://images2.imgbox.com/aa/ab/J0pYgBEc_o.png" alt="在这里插入图片描述"><br> 如果再加入pause的话，那么界面就不会闪退，方便我们查看错误。<br> 如果遇到启动过程中有如下错误：</p> 
<pre><code class="prism language-java"><span class="token class-name">Access</span> <span class="token class-name">Error</span><span class="token operator">:</span> <span class="token number">404</span> <span class="token operator">--</span> <span class="token class-name">Not</span> <span class="token class-name">Found</span> <span class="token class-name">Cannot</span> locate document<span class="token operator">:</span> <span class="token operator">/</span>
</code></pre> 
<p>该错误是有进程在占用8080端口，需要手动在cmd终端命令行上查找占用该8080端口的进程</p> 
<blockquote> 
 <p>1，在cmd查找正在使用8080端口的进程：netstat -ano | findstr 8080</p> 
 <p>2，杀死正在使用8080端口的进程：taskkill -pid id -f（id是指进程的id）</p> 
 <p>3，重新启动的Tomcat，刷新页面即可</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/72/c8/OuXYpMzC_o.png" alt="在这里插入图片描述"><br> 之后再次运行startup.bat，访问localhost:8080端口便可以访问成功。<br> <img src="https://images2.imgbox.com/38/62/MJm18XyS_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/54/d4/9Ezp9Sa4_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Tomcat_44"></a>修改Tomcat默认端口</h2> 
<p>默认情况下，Tomcat配置的默认端口是8080。这就是为什么所有已部署的Web应用程序都可以通过URL访问的原因：http://localhost:8080/yourapp。如果希望应该在80端口上运行，则需要将默认端口8080更改为80，这是HTTP连接器的默认端口。</p> 
<ul><li>首页在conf文件下找到server.xml文件，找到这段代码。<br> <img src="https://images2.imgbox.com/02/f7/gQUFIgZo_o.png" alt="在这里插入图片描述">将其改为：<br> <img src="https://images2.imgbox.com/47/87/Rg3y0xuV_o.png" alt="在这里插入图片描述"><br> 修改后，您可以使用"http://localhost/"来访问您的应用程序。</li></ul> 
<h2><a id="Tomcat_51"></a>Tomcat管理器</h2> 
<p>当使用Tomcat的Webapps目录，对Web应用进行管理时，无法控制单个Web应用的启动与停止<br> 为此，Tomcat提供了一个管理平台，该平台列出了所有的Web应用及其状态，并且，提供了控制每个Web应用的启动、停止与卸载的功能。</p> 
<ul><li>在浏览器的地址栏中输入 http://localhost:8080/<br> 打开Tomcat首页，单击，Tomcat首页的Manager App链接进入Tomcat管理平台<br> <img src="https://images2.imgbox.com/bd/e6/dt4mqzva_o.png" alt="在这里插入图片描述"><br> 登录对话框，需要输入用户名和密码,由于，是首次登录Tomcat管理平台，并不知道用户名和密码<br> 因此，单击取消按钮，此时，浏览器会跳转到另一个页面：<br> <img src="https://images2.imgbox.com/4e/d3/ZA1dFIQW_o.png" alt="在这里插入图片描述"><br> 浏览器显示了，有关登录管理平台的提示信息<br> 根据提示信息，要访问管理平台，需要在conf\tomcat-users.xml文件中，添加具有管理权限的账号</li><li>添加Tomcat管理器的管理账户<br> 要访问Tomcat管理器，需要创建一个具有特权的用户。在conf文件夹下的tomcat-users.xml文件。在这个文件中，定义用户来访问tomcat管理器。</li></ul> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">'1.0'</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>tomcat<span class="token operator">-</span>users xmlns<span class="token operator">=</span><span class="token string">"http://tomcat.apache.org/xml"</span>
  xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
 xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://tomcat.apache.org/xml tomcat-users.xsd"</span>
  version<span class="token operator">=</span><span class="token string">"1.0"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>user username<span class="token operator">=</span><span class="token string">"admin"</span> password<span class="token operator">=</span><span class="token string">"admin"</span> roles<span class="token operator">=</span><span class="token string">"manager-gui,admin-gui"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>tomcat<span class="token operator">-</span>users<span class="token operator">&gt;</span>
</code></pre> 
<p>新增一下。在标签中，定义了一个角色为manager-gui和admin-gui的用户为"admin"，密码为"admin"。<br> 重新启动服务器，然后再次访问Tomcat的管理器：<br> <img src="https://images2.imgbox.com/6d/cf/w8UL0rpV_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="TomcatSSL_77"></a>Tomcat配置SSL证书</h2> 
<h3><a id="SSL_78"></a>SSL证书是什么？</h3> 
<p>HTTPS核心的一个部分是数据传输之前的握手，握手过程中确定了数据加密的密码。在握手过程中，网站会向浏览器发送SSL证书，SSL证书和我们日常用的身份证类似，是一个支持HTTPS网站的身份证明，SSL证书里面包含了网站的域名，证书有效期，证书的颁发机构以及用于加密传输密码的公钥等信息，由于公钥加密的密码只能被在申请证书时生成的私钥解密，因此浏览器在生成密码之前需要先核对当前访问的域名与证书上绑定的域名是否一致，同时还要对证书的颁发机构进行验证，如果验证失败浏览器会给出证书错误的提示。<br> 证书的格式是由X.509标准定义。SSL证书负责传输公钥，是一种PKI（Public Key Infrastructure，公钥基础结构）证书。<br> 常见的证书根据用途不同大致有以下几种：<br> 1、SSL证书，用于加密HTTP协议，也就是HTTPS。<br> 2、代码签名证书，用于签名二进制文件，比如Windows内核驱动，Firefox插件，Java代码签名等等。<br> 3、客户端证书，用于加密邮件。<br> 4、双因素证书，网银专业版使用的USB Key里面用的就是这种类型的证书。</p> 
<h3><a id="_86"></a>如何配置</h3> 
<p>Windows上：运行以下命令以生成证书：</p> 
<pre><code class="prism language-java">keytool <span class="token operator">-</span>genkey <span class="token operator">-</span>alias tomcat <span class="token operator">-</span>keyalg RSA <span class="token operator">-</span>keystore <span class="token class-name">D</span><span class="token operator">:</span>\<span class="token class-name">Tomcat</span>\keystore\tomcat
</code></pre> 
<p>该工具将询问一些问题以提供证书。这些问题：通常是一些个人的基础信息。<br> <img src="https://images2.imgbox.com/86/a9/wz5yjzkI_o.png" alt="在这里插入图片描述"><br> 出错原因：这是因为jdk在C盘没有写的权限。网上的方法都是将以管理员权限打开，这里我直接在D盘下直接生成keystore</p> 
<pre><code class="prism language-java">keytool <span class="token operator">-</span>genkey <span class="token operator">-</span>alias tomcat <span class="token operator">-</span>keyalg RSA <span class="token operator">-</span>keystore <span class="token class-name">Tomcat</span><span class="token punctuation">.</span>keystore
</code></pre> 
<p><img src="https://images2.imgbox.com/4c/bf/UMcmwzzV_o.png" alt="在这里插入图片描述"><br> 证书将位于文件夹中，证书名称为"tomcat"。您可以使用以下方法检查证书：<br> Windows上</p> 
<pre><code class="prism language-java">keytool <span class="token operator">-</span>list <span class="token operator">-</span>keystore <span class="token class-name">Tomcat</span><span class="token punctuation">.</span>keystore
</code></pre> 
<p><img src="https://images2.imgbox.com/d7/d1/slatrBrJ_o.png" alt="在这里插入图片描述"><br> 【netstat -ano】查看所有端口<br> 【netstat -aon|findstr “端口”】查看端口进程<br> 【tasklist|findstr “7172”】杀死端口进程</p> 
<h3><a id="SSL_107"></a>使用SSL证书</h3> 
<h4><a id="_108"></a>编辑文件：</h4> 
<p>Windows上,找打conf文件夹下的server.xml文件</p> 
<pre><code class="prism language-java"><span class="token class-name">D</span><span class="token operator">:</span>\<span class="token class-name">Tomcat</span>\conf\server<span class="token punctuation">.</span>xml
</code></pre> 
<p>并添加一个SSL连接器:<br> <img src="https://images2.imgbox.com/30/f5/2q2XP5Xr_o.png" alt="在这里插入图片描述"><br> 重新启动Tomcat，您就完成了。现在，您可以在Tomcat中的HTTPS下运行您的应用程序。</p> 
<h2><a id="Tomcat_116"></a>每个应用程序使用不同的Tomcat实例。</h2> 
<h3><a id="1_Tomcat_117"></a>1 配置Tomcat服务器的多个实例</h3> 
<h3><a id="1Tomcat_118"></a>步骤1）安装Tomcat服务器</h3> 
<p>这是非常明显的第一步。假设tomcat安装目录为"C:tomcatServer"。</p> 
<h3><a id="22_120"></a>步骤2）在不同位置创建2个新的不同文件夹</h3> 
<p>这些文件夹用于存储实例特定的配置和其他数据，例如日志，临时数据。<br> 假设新文件夹为"C:/tomcatInstanceOne"和"C:/tomcatInstanceTwo"。</p> 
<h3><a id="3conf_123"></a>步骤3）将"conf"文件夹复制到应用文件夹</h3> 
<p>为了使每个实例具有不同的配置，必须执行此步骤。</p> 
<h3><a id="4startupbatshutdownbat_126"></a>步骤4）创建实例特定的startup.bat和shutdown.bat</h3> 
<p>启动和关闭应用将需要这些文件。文件内容如下：<br> startup.bat</p> 
<pre><code class="prism language-java">set CATALINA_HOME<span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span>\tomcatServer
set CATALINA_BASE<span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span>\tomcatInstanceOne
<span class="token class-name">C</span><span class="token operator">:</span>\tomcatServer\bin\startup<span class="token punctuation">.</span>bat
</code></pre> 
<p>shutdown.bat</p> 
<pre><code class="prism language-java">set CATALINA_HOME<span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span>\tomcatServer
set CATALINA_BASE<span class="token operator">=</span><span class="token class-name">C</span><span class="token operator">:</span>\tomcatInstanceOne
<span class="token class-name">C</span><span class="token operator">:</span>\tomcatServer\bin\shutdown<span class="token punctuation">.</span>bat
</code></pre> 
<p>将两个文件都放在两个应用目录的"bin"目录中。[ 例如，创建文件夹C:/tomcatInstanceOne/bin并复制两个文件 ]。</p> 
<h3><a id="5setenvbat_142"></a>步骤5）创建setenv.bat环境配置</h3> 
<p>在"C\tomcatInstanceOne\bin"（以及第二个实例文件夹）目录中创建一个名为setenv.bat的文件，以设置C:\tomcatServer\bin\catalina.bat中提到的任何环境变量。在这里设置系统属性，JPDA地址等。</p> 
<h3><a id="6_144"></a>步骤6）为日志等创建更多文件夹</h3> 
<p>现在是时候创建更多文件夹，这些文件夹将在您的应用程序实际运行时使用。这些文件夹类似于日志，临时文件，Web应用程序和工作文件夹。在两个实例文件夹中分别创建它们。<br> 只需确保编辑conf\server.xml文件，以使关闭端口和HTTP连接器端口不会干扰可能正在运行的其他tomcat实例。<br> 例如，更改tomcat将要运行/调试的端口。<br> 第一个应用的server.xml文件：</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8080"</span> protocol<span class="token operator">=</span><span class="token string">"HTTP/1.1"</span> connectionTimeout<span class="token operator">=</span><span class="token string">"20000"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>server port<span class="token operator">=</span><span class="token string">"8005"</span> shutdown<span class="token operator">=</span><span class="token string">"SHUTDOWN"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8009"</span> protocol<span class="token operator">=</span><span class="token string">"AJP/1.3"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8100"</span> protocol<span class="token operator">=</span><span class="token string">"HTTP/1.1"</span> connectionTimeout<span class="token operator">=</span><span class="token string">"20000"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>第二个应用server.xml文件：</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8081"</span> protocol<span class="token operator">=</span><span class="token string">"HTTP/1.1"</span> connectionTimeout<span class="token operator">=</span><span class="token string">"20000"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>server port<span class="token operator">=</span><span class="token string">"8006"</span> shutdown<span class="token operator">=</span><span class="token string">"SHUTDOWN"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8010"</span> protocol<span class="token operator">=</span><span class="token string">"AJP/1.3"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>connector port<span class="token operator">=</span><span class="token string">"8101"</span> protocol<span class="token operator">=</span><span class="token string">"HTTP/1.1"</span> connectionTimeout<span class="token operator">=</span><span class="token string">"20000"</span> redirectPort<span class="token operator">=</span><span class="token string">"8443"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<p>完成上述更改后，您应该能够在计算机中启动同一Tomcat服务器的多个实例。</p> 
<h2><a id="Tomcatweb_164"></a>Tomcat的部署web方式</h2> 
<h3><a id="WebTomcat_165"></a>通过复制Web应用到Tomcat中实现</h3> 
<p>首先需要将Web应用文件夹复制到Tomcat安装目 录下的webapps文件夹中，然后启动Tomcat 服务器，再打开IE浏览器，最后在IE浏览器的地址栏中输入"http://服务器IP:端口 /应用程序名称"形式的URL地址(例如 http://127.0.0.1:8080/firstProject),即可运行Java Web应用程序。<br> <img src="https://images2.imgbox.com/4a/d6/G0bjDzAl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="serverxml__Context_168"></a>通过在server.xml文件中配 ＜ Context＞元素实现</h3> 
<p>首先打开Tomcat安装路径下的conf 文件夹下的server.xml文件，然后在＜Host＞ ＜/Host＞元素中间添加＜Context ＞元素。例 如，要配置D:\JavaWeb\文件夹下的Web应 用testOI可以使用以下代码：<br> <img src="https://images2.imgbox.com/3f/90/HXC7Qawe_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ab/8c/dVBbEhlN_o.png" alt="在这里插入图片描述">最后保存修改的server.xml文件，并重启 Tomcat服务器，在IE地址栏中输入URL地址http://localhost:8080/01/ 访问 Web 应用 test01<br> <strong>注意：。。。。8080/01中的01是path的值，在设置这些路径是都要用/，docBase是指明了文件路径，而域名中使用的是path。</strong></p> 
<h2><a id="Eclipseweb_173"></a>在Eclipse中部署开发web示例</h2> 
<h3><a id="_174"></a>创建项目</h3> 
<p>选择文件，新建项目，选择动态项目。<br> <img src="https://images2.imgbox.com/3c/9c/GaX97bEZ_o.png" alt="在这里插入图片描述"><br> 在Dynamic web module versionT拉列表框中选择3.0 选项，其他采用默认<br> <img src="https://images2.imgbox.com/90/07/WouPGO8h_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Tomcat__179"></a>Tomcat 子目录及其说明</h2> 
<blockquote> 
 <p>bin 命令中心（启动命令，关闭命令……）<br> conf 配置中心（端口号，内存大小……）<br> lib Tomcat 的库文件。Tomcat 运行时需要的 jar 包所在的目录。<br> logs 存放日志文件。<br> temp 存储临时产生的文件，即缓存。<br> webapps 存放项目的文件，web 应用放置到此目录下浏览器可以直接访问。<br> work 编译以后的 class 文件。</p> 
</blockquote> 
<h3><a id="1_bin__189"></a>1. bin 目录</h3> 
<p>bin 目录用来存放 Tomcat 命令，主要分为两大类，一类是以.sh结尾的 Linux 命令，另一类是以.bat结尾的 Windows 命令。很多环境变量都在此处设置，例如 JDK 路径、Tomcat 路径等。<br> bin 目录包含的内容<img src="https://images2.imgbox.com/94/37/1L3U7RBl_o.png" alt="在这里插入图片描述">图1：bin 目录包含的内容</p> 
<p>下面是几个常用的 Tomcat 命令：</p> 
<pre><code class="prism language-java">startup<span class="token punctuation">.</span>sh<span class="token operator">/</span>startup<span class="token punctuation">.</span>bat：用来启动 <span class="token class-name">Tomcat</span>；
shutdown<span class="token punctuation">.</span>sh<span class="token operator">/</span>shutdown<span class="token punctuation">.</span>bat：用来关闭 <span class="token class-name">Tomcat</span>；
catalina<span class="token punctuation">.</span>bat<span class="token operator">/</span> catalina<span class="token punctuation">.</span>bat：用来设置 <span class="token class-name">Tomcat</span> 的内存。
</code></pre> 
<h3><a id="2_conf__201"></a>2. conf 目录</h3> 
<p>conf 目录主要是用来存放 Tomcat 的配置文件，如下图所示：<br> conf 目录包含的内容<br> <img src="https://images2.imgbox.com/7d/5f/3hPd5Qlk_o.png" alt="在这里插入图片描述"><br> 图2：conf 目录包含的内容</p> 
<p>下面是常用到的几个文件：</p> 
<pre><code class="prism language-java">server<span class="token punctuation">.</span>xml 用来设置域名、IP、端口号、默认加载的项目、请求编码等；
context<span class="token punctuation">.</span>xml 用来配置数据源等；
tomcat<span class="token operator">-</span>users<span class="token punctuation">.</span>xml 用来配置和管理 <span class="token class-name">Tomcat</span> 的用户与权限；
web<span class="token punctuation">.</span>xml 可以设置 <span class="token class-name">Tomcat</span> 支持的文件类型；
在 <span class="token class-name">Catalina</span> 目录下可以设置默认加载的项目。
</code></pre> 
<h3><a id="3_lib__215"></a>3. lib 目录</h3> 
<p>lib 目录主要用来存放 Tomcat 运行需要加载的 jar 包。<br> lib 目录包含的内容<br> <img src="https://images2.imgbox.com/a5/01/0j3dQzKi_o.png" alt="在这里插入图片描述"><br> 图3：lib 目录包含的内容</p> 
<h3><a id="4_logs__220"></a>4. logs 目录</h3> 
<p>logs 目录用来存放 Tomcat 在运行过程中产生的日志文件，清空该目录中的文件不会对 Tomcat 的运行带来影响。</p> 
<p>在 Windows 系统中，控制台的输出日志在 catalina.xxxx-xx-xx.log 文件中；在 Linux 系统中，控制台的输出日志在 catalina.out 文件中。</p> 
<h3><a id="5_temp__224"></a>5. temp 目录</h3> 
<p>temp 目录用来存放 Tomcat 在运行过程中产生的临时文件，清空该目录中的文件不会对 Tomcat 的运行带来影响。</p> 
<p>temp 目录包含的内容<br> <img src="https://images2.imgbox.com/83/00/TuP74Rpt_o.png" alt="在这里插入图片描述"><br> 图4：temp 目录包含的内容</p> 
<h3><a id="6_webapps__230"></a>6. webapps 目录</h3> 
<p>webapps 目录用来存放应用程序（也就是通常所说的网站），当 Tomcat 启动时会去加载 webapps 目录下的应用程序，我们编写的 Servlet 程序就可以放在这里。Tomcat 允许以文件夹、war 包、jar 包的形式发布应用。<br> webapps 目录包含的内容<br> <img src="https://images2.imgbox.com/5f/5b/febowUro_o.png" alt="在这里插入图片描述"><br> 图5：webapps 目录包含的内容</p> 
<h3><a id="7_work__235"></a>7. work 目录</h3> 
<p>work 目录用来存放 Tomcat 在运行时的编译文件（也即 class 字节码文件），例如 JSP 编译后的文件。清空 work 目录，然后重启 Tomcat，可以达到清除缓存的作用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/825f4ae670920d1f04a60c8c7d20a32f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">near节点部署指南</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/563e954095eddd7518b2e01e959a215b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux环境变量配置全攻略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>