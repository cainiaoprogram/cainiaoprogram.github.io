<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vite 解决proxy跨域问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vite 解决proxy跨域问题" />
<meta property="og:description" content="何为跨域？ 跨域，是指浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器对JavaScript实施的安全限制。 这里说明一下，无法跨域是浏览器对于用户安全的考虑，如果自己写个没有同源策略的浏览器，完全不用考虑跨域问题了。是浏览器的锅，对。 同源策略限制了一下行为： Cookie、LocalStorage 和 IndexDB 无法读取 DOM 和 JS 对象无法获取 Ajax请求发送不出去
在vite.config.js中
export default defineConfig({ plugins: [vue()], server:{ //中转服务器 proxy:{ //通过代理实现跨域 &#39;/path&#39;:{ target:&#39;&#39;, //替换的服务器地址 changeOrigin:true,//开启代理，允许跨域 // 重写路径 --&gt; 作用与vue配置pathRewrite作用相同 rewrite: (path) =&gt; path.replace(/^\/api/, &#34;&#34;) } } } vue中配置：
module.exports = { // 其他配置 ...... // 代理配置 devServer: { https: true, // 默认是false, 默认就是http协议，true将http协议转换为https协议 // 代理配置 proxy: { &#39;/api&#39;: { // 配置需要代理的路径 --&gt; 这里的意思是代理http://localhost:80/api/后的所有路由 target: &#39;https://172.20.9.153:8085&#39;, // 目标地址 --&gt; 服务器地址 changeOrigin: true, // 允许跨域 ws: true, // 允许websocket代理 // 如果这里没有进行路径重写，当你访问http://localhost:80/api/login/,实际上访问的就是https://172." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/690e5602fdda8c4e072bc49dd5087087/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-11T21:15:52+08:00" />
<meta property="article:modified_time" content="2023-03-11T21:15:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vite 解决proxy跨域问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h3 style="">何为跨域？</h3> 
 <p style="text-align:null;">跨域，是指浏览器不能执行其他网站的脚本。它是由<span class="kdocs-bold" style="font-weight:bold;">浏览器的同源策略</span>造成的，是浏览器对JavaScript实施的安全限制。 这里说明一下，无法跨域是浏览器对于用户安全的考虑，如果自己写个没有同源策略的浏览器，完全不用考虑跨域问题了。是浏览器的锅，对。 同源策略限制了一下行为： Cookie、LocalStorage 和 IndexDB 无法读取 DOM 和 JS 对象无法获取 Ajax请求发送不出去</p> 
 <p style=""></p> 
 <p style="">在vite.config.js中</p> 
 <p style=""></p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">export default defineConfig({
  plugins: [vue()],
  server:{  //中转服务器
    proxy:{ //通过代理实现跨域
      '/path':{
        target:'', //替换的服务器地址 
        changeOrigin:true,//开启代理，允许跨域
        // 重写路径 --&gt; 作用与vue配置pathRewrite作用相同
        rewrite: (path) =&gt; path.replace(/^\/api/, "") 
      }
    }
  }</code></pre> 
 <p style="">vue中配置：</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">module.exports = {
  // 其他配置
  ...... 
  // 代理配置
  devServer: {
    https: true, // 默认是false, 默认就是http协议，true将http协议转换为https协议
    // 代理配置
    proxy: {
      '/api': { // 配置需要代理的路径 --&gt; 这里的意思是代理http://localhost:80/api/后的所有路由
        target: 'https://172.20.9.153:8085', // 目标地址 --&gt; 服务器地址
        changeOrigin: true, // 允许跨域
        ws: true,  // 允许websocket代理
        // 如果这里没有进行路径重写，当你访问http://localhost:80/api/login/,实际上访问的就是https://172.20.9.153:8085/api/login/
        pathRewrite: { // 重写代理路径
          // 就是把路径中的api都替换为空的字符串
          '^/api': '', // 因为服务端地址里面是没有api字段的，api只是为了区别需要代理的路径，如果服务端有api字段则不需要重新    
        }
      }
    }
  }
}
</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:680px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.058823%;height:0;"> 
    <img src="https://images2.imgbox.com/d6/00/syCNaiU0_o.png" style="margin-left:;display:block;width:680px;margin-top:-52.058823%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/653f6f80e23fd067e35d96b329b335d3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java读取excel模板生成对应数据库表的ddl建表语句</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/38e6e6d9015e07777aac3882dfc5f28a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于解决一些游戏白屏但是有声音问题的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>