<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>opencv3.0的最简单图像系统 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="opencv3.0的最简单图像系统" />
<meta property="og:description" content="opencv3.0的最简单图像系统，初学者参考代码
设计想法：
文件：
打开测试文件（lena.jpg）
打开自定义文件
还原
清除
退出
帮助：
版权说明
关于
翻转：
水平
垂直
水平垂直
形态：
腐蚀
膨胀
开运算
闭运算
Morphological Gradient(形态学梯度)
顶帽
黑帽
滤波：
均值滤波
方框滤波：归一化 非归一化
高斯滤波
中值滤波
双边滤波
缩放：
放大（PyrUp）
缩小（PyrDown）
放大（Resize）
缩小（Resize）
旋转：
顺时针无缩放
顺时针缩放
逆时针
零旋转缩放
槽：
//打开当前目录下的测试文件lena.jpg
void on_openLenaJpg_triggered();
//打开自定义文件
void on_openCustomeFile_triggered();
//还原图像，将标签“目标图像”内的图像替换为原始图像
void on_restoreFile_triggered();
//清除标签内图像
void on_CLEAR_triggered();
//退出系统
void on_exitSystem_triggered();
//版权说明
void on_copyright_triggered();
//关于
void on_about_triggered();
//临时测试用
//void on_action_triggered();
//水平翻转
void on_Horizen_triggered();" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/432230da0877b51a24b2155490a0e83e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-06-09T14:27:47+08:00" />
<meta property="article:modified_time" content="2022-06-09T14:27:47+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">opencv3.0的最简单图像系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>                               opencv3.0的最简单图像系统，初学者参考代码<br> 设计想法：<br> 文件：<br> 打开测试文件（lena.jpg）<br> 打开自定义文件<br> 还原<br> 清除<br> 退出<br> 帮助：<br> 版权说明<br> 关于<br> 翻转：<br> 水平<br> 垂直<br> 水平垂直<br> 形态：<br> 腐蚀<br> 膨胀<br> 开运算<br> 闭运算<br> Morphological Gradient(形态学梯度)<br> 顶帽<br> 黑帽<br> 滤波：<br> 均值滤波<br> 方框滤波：归一化 非归一化<br> 高斯滤波<br> 中值滤波<br> 双边滤波<br> 缩放：<br> 放大（PyrUp）<br> 缩小（PyrDown）<br> 放大（Resize）<br> 缩小（Resize）<br> 旋转：<br> 顺时针无缩放<br> 顺时针缩放<br> 逆时针<br> 零旋转缩放</p> 
<p>槽：<br>     //打开当前目录下的测试文件lena.jpg<br>     void on_openLenaJpg_triggered();<br>     //打开自定义文件<br>     void on_openCustomeFile_triggered();<br>     //还原图像，将标签“目标图像”内的图像替换为原始图像<br>     void on_restoreFile_triggered();<br>     //清除标签内图像<br>     void on_CLEAR_triggered();<br>     //退出系统<br>     void on_exitSystem_triggered();</p> 
<p>    //版权说明<br>     void on_copyright_triggered();<br>     //关于<br>     void on_about_triggered();<br>     //临时测试用<br>     //void on_action_triggered();</p> 
<p>    //水平翻转<br>     void on_Horizen_triggered();<br>     //垂直翻转<br>     void on_vertical_triggered();<br>     //水平垂直翻转<br>     void on_horizenAndVertical_triggered();</p> 
<p>    //形态腐蚀<br>     void on_Erosion_triggered();<br>     //形态膨胀<br>     void on_dialation_triggered();<br>     //形态开运算<br>     void on_opening_triggered();<br>     //形态闭运算<br>     void on_closing_triggered();<br>     //Morphological Gradient<br>     void on_actionMorphological_Gradient_triggered();<br>     //形态顶帽<br>     void on_topHat_triggered();<br>     //形态黑帽<br>     void on_blackHat_triggered();</p> 
<p>    //均值滤波<br>     void on_normalizeFilter_triggered();<br>     //方框滤波  归一化<br>     void on_normalize_triggered();<br>     //方框滤波 非归一化<br>     void on_NoNormalize_triggreed();<br>     //高斯滤波<br>     void on_GaussFilter_triggered();<br>     //中值滤波<br>     void on_medianFilter_triggered();<br>     //双边滤波<br>     void on_bilateralFilter_triggered();</p> 
<p>    //缩放 放大（PyUp）<br>     void on_PyrUpAction_triggered();<br>     //缩放 缩小（PyDown）<br>     void on_PyrDownAction_triggered();<br>     //缩放 放大（Resize）<br>     void on_ResizeUp_triggered();<br>     //缩放 缩小（Resize）<br>     void on_ResizeDown_triggered();</p> 
<p>    //旋转 顺时针无缩放<br>     void on_cNresize_triggered();<br>     //旋转 顺时针缩放<br>     void on_cResize_triggered();<br>     //旋转 逆时针<br>     void on_antiClockwise_triggered();<br>     //旋转 零旋转缩放<br>     void on_NFlipResize_triggered();</p> 
<p><br> //=========================================================================================<br> void MainWindow::on_openLenaJpg_triggered()<br> {<!-- --><br>     //菜单：文件=&gt;打开测试文件lena.jpg<br>     //使用imread读取当前路径下的"lena.jpg"<br>     srcImage=cv::imread("lena.jpg");<br>     if(!srcImage.data)<br>     {<!-- --><br>         QMessageBox msgBox;<br>         msgBox.setWindowTitle("测试文件不存在");<br>         msgBox.setText(tr("默认的测试文件不存在，可以用一下两种方式的一种：1)"<br>                           "复制一个文件到当前目录下，并命名为lena.jpg；2使用自定义方式打开一个自定义文件。"));<br>     msgBox.exec();<br>     }<br>     else<br>     {<!-- --><br>         //将BGR转换为RGB，方便操作习惯<br>         cv::cvtColor(srcImage,srcImage,CV_BGR2RGB);<br>         img=QImage((const unsigned char*)(srcImage.data),srcImage.cols,srcImage.rows,srcImage.cols*srcImage.channels(),QImage::Format_RGB888);<br>         ui-&gt;label1-&gt;clear();<br>         img=img.scaled(ui-&gt;label1-&gt;width(),ui-&gt;label1-&gt;height());<br>         ui-&gt;label1-&gt;setPixmap(QPixmap::fromImage(img));<br>     }<br> }</p> 
<p>void MainWindow::on_openCustomeFile_triggered()<br> {<!-- --><br>     //菜单：文件=&gt;打开自定义文件<br>     QString filename=QFileDialog::getOpenFileName(this,tr("打开自定义文件"),"",tr("Image File(*.bmp*.jpg*.jpge*.png)"));<br>     QTextCodec *code=QTextCodec::codecForName("gb18030");<br>     std::string name=code-&gt;fromUnicode(filename).data();<br>     //读取文件<br>     srcImage=cv::imread(name);<br>     if(!srcImage.data)<br>     {<!-- --><br>         QMessageBox msgBox;<br>         msgBox.setWindowTitle("未找到数据");<br>         msgBox.setText(tr("未找到数据"));<br>         msgBox.exec();<br>     }<br>     else<br>     {<!-- --><br>         //将BGR转换为RGB，方便操作习惯<br>         cv::cvtColor(srcImage,srcImage,CV_BGR2RGB);<br>         img=QImage((const unsigned char*)(srcImage.data),srcImage.cols,srcImage.rows,srcImage.cols*srcImage.channels(),QImage::Format_RGB888);<br>         ui-&gt;label1-&gt;clear();<br>         img=img.scaled(ui-&gt;label1-&gt;width(),ui-&gt;label1-&gt;height());<br>         ui-&gt;label1-&gt;setPixmap(QPixmap::fromImage(img));<br>     }<br> }</p> 
<p>void MainWindow::on_restoreFile_triggered()<br> {<!-- --><br>     //菜单：文件=&gt;复原<br>     //复制srcImage到dstImage<br>     srcImage.copyTo(dstImage);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_CLEAR_triggered()<br> {<!-- --><br>     //菜单：文件=&gt;清除<br>     //清除标签1的内容<br>     ui-&gt;label1-&gt;clear();<br>     //清除标签2的内容<br>     ui-&gt;label2-&gt;clear();<br> }</p> 
<p>void MainWindow::on_exitSystem_triggered()<br> {<!-- --><br>     //菜单：文件=&gt;退出<br>     exit(0);<br> }<br> //====================================================================================<br> void MainWindow::on_copyright_triggered()<br> {<!-- --><br>     //版权<br>     QMessageBox::information(this,"版权",tr("本软件为本群《技术交流群公用》"));<br> }</p> 
<p>void MainWindow::on_about_triggered()<br> {<!-- --><br>     //关于<br>     QMessageBox::information(this,"关于",tr("好好学习,把里面的BUG告诉我，谢谢！"));<br> }<br> //=====================================================================================<br> void MainWindow::on_Horizen_triggered()<br> {<!-- --><br>     //水平方向翻转<br>     //参数值为1<br>     cv::flip(srcImage,dstImage,1);<br>     //显示图像<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_vertical_triggered()<br> {<!-- --><br>     //垂直方向翻转<br>     //参数值为1<br>     cv::flip(srcImage,dstImage,0);<br>     //显示图像<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_horizenAndVertical_triggered()<br> {<!-- --><br>     //水平和垂直方向同时翻转<br>     //参数值为-1<br>     cv::flip(srcImage,dstImage,-1);<br>     //显示图像<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }<br> //==================================================================================<br> void MainWindow::on_Erosion_triggered()<br> {<!-- --><br>     //腐蚀操作<br>     //定义类型<br>     int erosion_type;<br>     erosion_type=MORPH_RECT;<br>     //定义大小<br>     int erosion_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(erosion_type,Size(2*erosion_size+1,2*erosion_size+1),Point(erosion_size,erosion_size));<br>     //调用腐蚀函数<br>     erode(srcImage,dstImage,element);<br>     //显示图像<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br>     //imshow("erode",dstImage);<br> }</p> 
<p>void MainWindow::on_dialation_triggered()<br> {<!-- --><br>     //膨胀<br>     //定义大小<br>     int dialation_size=2;<br>     //定义类型<br>     int dialation_type;<br>     dialation_type=MORPH_RECT;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(dialation_type,Size(2*dialation_size+1,2*dialation_size),Point(dialation_size,dialation_size));<br>     //调用膨胀函数<br>     dilate(srcImage,dstImage,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br>     //imshow("dialate",disImage);<br> }</p> 
<p>void MainWindow::on_opening_triggered()<br> {<!-- --><br>     //开运算<br>     //定义形状<br>     int morph_elem=MORPH_RECT;<br>     //定义大小<br>     int morph_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(morph_elem,Size(2*morph_size+1,2*morph_size),Point(morph_size,morph_size));<br>     //调用morphologyEx函数<br>     morphologyEx(srcImage,dstImage,MORPH_OPEN,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_closing_triggered()<br> {<!-- --><br>     //闭运算<br>     //定义形状<br>     int morph_elem=MORPH_RECT;<br>     //定义大小<br>     int morph_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(morph_elem,Size(2*morph_size+1,2*morph_size),Point(morph_size,morph_size));<br>     //实现闭运算<br>     morphologyEx(srcImage,dstImage,MORPH_CLOSE,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_actionMorphological_Gradient_triggered()<br> {<!-- --><br>     //Morphological Gradient运算<br>     //定义形状<br>     int morph_elem=MORPH_RECT;<br>     //定义大小<br>     int morph_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(morph_elem,Size(2*morph_size+1,2*morph_size),Point(morph_size,morph_size));<br>     //实现Morphological Gradient<br>     morphologyEx(srcImage,dstImage,MORPH_GRADIENT,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_topHat_triggered()<br> {<!-- --><br>     //顶帽变换<br>     //定义形状<br>     int morph_elem=MORPH_RECT;<br>     //定义大小<br>     int morph_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(morph_elem,Size(2*morph_size+1,2*morph_size),Point(morph_size,morph_size));<br>     //实现Morphological Gradient<br>     morphologyEx(srcImage,dstImage,MORPH_TOPHAT,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_blackHat_triggered()<br> {<!-- --><br>     //黑帽变换<br>     //定义形状<br>     int morph_elem=MORPH_RECT;<br>     //定义大小<br>     int morph_size=3;<br>     //调用getStructuringElement函数<br>     Mat element=getStructuringElement(morph_elem,Size(2*morph_size+1,2*morph_size),Point(morph_size,morph_size));<br>     //实现Morphological Gradient<br>     morphologyEx(srcImage,dstImage,MORPH_BLACKHAT,element);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }<br> //============================================================================================================<br> void MainWindow::on_normalizeFilter_triggered()<br> {<!-- --><br>     //均值滤波<br>     //使用函数blur,设置默认值。根据需要可以调整为交互输入参数的形式<br>     blur(srcImage,dstImage,Size(7,7),Point(-1,-1));<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_normalize_triggered()<br> {<!-- --><br>     //菜单：滤波=&gt;方框滤波=&gt;归一化<br>     //调用boxFilter,使用默认参数，完成归一化<br>     boxFilter(srcImage,dstImage,-1,Size(5,5));<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_NoNormalize_triggreed()<br> {<!-- --><br>     //菜单：滤波=&gt;方框滤波=&gt;非归一化<br>     //调用boxFilter<br>     //使用Size大小为Size(1,1)时，显示其原有图像<br>     //Size大小超过Size(3,3),值全部超过255，在这里显示为全白色<br>     boxFilter(srcImage,dstImage,-1,Size(3,3),Point(-1,-1),false);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_GaussFilter_triggered()<br> {<!-- --><br>     //高斯滤波<br>     //调用函数GaussianBlur<br>     GaussianBlur(srcImage,dstImage,Size(7,7),0,0);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_medianFilter_triggered()<br> {<!-- --><br>     //中值滤波<br>     //调用函数medianBlur,参数采用默认值<br>     medianBlur(srcImage,dstImage,7);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_bilateralFilter_triggered()<br> {<!-- --><br>     //双边滤波<br>     //电泳bilateralFilter<br>     bilateralFilter(srcImage,dstImage,31,31*2,31/2);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }<br> //===================================================================================================<br> void MainWindow::on_PyrUpAction_triggered()<br> {<!-- --><br>     //调用pyrUp实现放大效果<br>     pyrUp(srcImage,dstImage,Size(srcImage.cols*2,srcImage.rows*2));<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_PyrDownAction_triggered()<br> {<!-- --><br>     //调用pyrDown实现缩放效果<br>     pyrDown(srcImage,dstImage,Size(srcImage.cols/2,srcImage.rows/2));<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_ResizeUp_triggered()<br> {<!-- --><br>     //调用resize放大图像<br>     cv::resize(srcImage,dstImage,Size(srcImage.cols*4,srcImage.rows*4),0,0,3);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_ResizeDown_triggered()<br> {<!-- --><br>     //调用resize缩小图像<br>     cv::resize(srcImage,dstImage,Size(srcImage.cols/4,srcImage.rows/4),0,0,3);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }<br> //==========================================================================================<br> void MainWindow::on_cNresize_triggered()<br> {<!-- --><br>     //顺时针无缩放效果<br>     //定义Point2f<br>     Point2f srcTri[3];<br>     Point2f dstTri[3];<br>     Mat rot_mat(2,3,CV_32FC1);<br>     Mat warp_mat(2,3,CV_32FC1);<br>     Mat src,warp_dst,warp_rotate_dst;<br>     //读入图像<br>     srcImage.copyTo(src);<br>     warp_dst=Mat::zeros(src.rows,src.cols,src.type());<br>     //用3个点确定A仿射变换<br>     Point center=Point(src.cols/2,src.rows/2);<br>     double angle=-50.0;<br>     double scale=1;<br>     rot_mat=getRotationMatrix2D(center,angle,scale);<br>     warpAffine(src,warp_rotate_dst,rot_mat,warp_dst.size());<br>     warp_rotate_dst.copyTo(dstImage);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_cResize_triggered()<br> {<!-- --><br>     //顺时针缩放效果<br>     //定义Point2f<br>     Point2f srcTri[3];<br>     Point2f dstTri[3];<br>     Mat rot_mat(2,3,CV_32FC1);<br>     Mat warp_mat(2,3,CV_32FC1);<br>     Mat src,warp_dst,warp_rotate_dst;<br>     //读入图像<br>     srcImage.copyTo(src);<br>     warp_dst=Mat::zeros(src.rows,src.cols,src.type());<br>     //用3个点确定A仿射变换<br>     Point center=Point(src.cols/2,src.rows/2);<br>     double angle=-50.0;<br>     double scale=0.6;<br>     rot_mat=getRotationMatrix2D(center,angle,scale);<br>     warpAffine(src,warp_rotate_dst,rot_mat,warp_dst.size());<br>     warp_rotate_dst.copyTo(dstImage);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_antiClockwise_triggered()<br> {<!-- --><br>     //逆时针效果<br>     Point2f srcTri[3];<br>     Point2f dstTri[3];<br>     Mat rot_mat(2,3,CV_32FC1);<br>     Mat warp_mat(2,3,CV_32FC1);<br>     Mat src,warp_dst,warp_rotate_dst;<br>     //读入图像<br>     srcImage.copyTo(src);<br>     warp_dst=Mat::zeros(src.rows,src.cols,src.type());<br>     //用3个点确定A仿射变换<br>     Point center=Point(src.cols/2,src.rows/2);<br>     double angle=50.0;<br>     double scale=0.6;<br>     rot_mat=getRotationMatrix2D(center,angle,scale);<br>     warpAffine(src,warp_rotate_dst,rot_mat,warp_dst.size());<br>     warp_rotate_dst.copyTo(dstImage);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p> 
<p>void MainWindow::on_NFlipResize_triggered()<br> {<!-- --><br>     //零旋转缩放效果<br>     Point2f srcTri[3];<br>     Point2f dstTri[3];<br>     Mat rot_mat(2,3,CV_32FC1);<br>     Mat warp_mat(2,3,CV_32FC1);<br>     Mat src,warp_dst,warp_rotate_dst;<br>     //读入图像<br>     srcImage.copyTo(src);<br>     warp_dst=Mat::zeros(src.rows,src.cols,src.type());<br>     //用3个点确定A仿射变换<br>     Point center=Point(src.cols/2,src.rows/2);<br>     double angle=0;<br>     double scale=0.6;<br>     rot_mat=getRotationMatrix2D(center,angle,scale);<br>     warpAffine(src,warp_rotate_dst,rot_mat,warp_dst.size());<br>     warp_rotate_dst.copyTo(dstImage);<br>     img=QImage((const unsigned char*)(dstImage.data),dstImage.cols,dstImage.rows,dstImage.cols*dstImage.channels(),QImage::Format_RGB888);<br>     img=img.scaled(ui-&gt;label1-&gt;size());<br>     ui-&gt;label2-&gt;setPixmap(QPixmap::fromImage(img));<br> }</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fdcf28b43b0c417f478baf094e1107ea/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">electron 打包报错 npm ERR! code ELIFECYCLE npm ERR! errno 1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7aa22b30d93e20d73b638b8e365384fe/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu18.04下安装OpenDroneMap(WebODM)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>