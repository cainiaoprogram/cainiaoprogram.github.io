<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>how to create proxies pool - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="how to create proxies pool" />
<meta property="og:description" content=" How to code a proxies pool 代理的基本知识 代理服务器类型很多：HTTP代理,FTP代理,SOCKS代理。各种代理的特性如下：
HTTP代理：能够代理客户机的HTTP访问，主要是代理浏览器访问网页，它的端口一般为80、8080、3128等。FTP代理：能够代理客户机上的FTP软件访问FTP服务器，它的端口一般为21、2121。RTSP代理：代理客户机上的Realplayer访问Real流媒体服务器的代理，其端口一般为554。POP3代理：代理客户机上的邮件软件用POP3方式收发邮件，端口一般为110。SOCKS代理：SOCKS代理与其他类型的代理不同，它只是简单地传递数据包，而并不关心是何种应用协议，既可以是HTTP请求，所以SOCKS代理服务器比其他类型的代理服务器速度要快得多。SOCKS代理又分为SOCKS4和SOCKS5，二者不同的是SOCKS4代理只支持TCP协议（即传输控制协议），而SOCKS5代理则既支持TCP协议又支持UDP协议（即用户数据包协议），还支持各种身份验证机制、服务器端域名解析等。SOCK4能做到的SOCKS5都可得到，但SOCKS5能够做到的SOCKS则不一定能做到，比如我们常用的聊天工具QQ在使用代理时就要求用SOCKS5代理，因为它需要使用UDP协议来传输数据。 HTTP代理相关知识 透明代理:也叫普通代理，它不但改变了我们的请求信息，还会传送真实的IP地址。从：HTTP_X_FORWARDED_FOR等代理信息可以查到我们IP地址！匿名代理:普通匿名代理，它能隐藏客户机的真实IP，但会改变我们的请求信息。它不传送正式ip，但是可能会发送HTTP_VIA、HTTP_PROXY_CONNECTION信息，还是可以通过这些判断出使用了代理！高级匿名代理:不改变客户机的请求，这样在服务器看来就像有个真正的客户浏览器在访问它，这时客户的真实IP是隐藏的，服务器端不会认为我们使用了代理！HTTP通道:http代理服务器支持Connect请求，这类代理服务器基本可以代理所有软件，如：QQ,FoxMail,FTP等等，不支持通道的HTTP代理,基本上只支持简单的HttpGET,POST等请求服务！ ###SOCKS代理知识
SOCKS5:常见SOCKS代理有Socks4,socks5，不过目前基本上以socks5代理为主，它基本支持所有客户端请求协议，Http,Ftp,Smtp等，可以具备高级匿名代理隐藏功能！ 运用场景 这在某些情况下比较有用，比如IP被封了，或者比如IP访问的次数受到限制等等。
爬虫抓取思路 分布式爬虫ip代理池设置延迟抓取 网站反爬思路 针对并发数高的爬虫，可手工识别；也可在服务器端设置每个ip连接次数。通过User-Agent识别爬虫。此种情况下是针对并发连接数不是很高的爬虫而设置的。通过网站流量统计系统和日志分析来识别爬虫。有些爬虫喜欢修改User-Agent信息来伪装自己，把自己伪装成一个真实浏览器的User-Agent信息，让你无法有效的识别。这种情况下我们可以通过网站流量系统记录的真实用户访问IP来进行识别。网站的实时反爬虫防火墙实现策略 思路 定时抓代理页面，然后分析后提取.
定时获取代理源,根据需要测试的目标网站,用代理ip进行速度,超时等一些性能指标的测试.以便获取针对目标网站抓取的最佳ip.
亮点难点 就是要根据若干提供的目标网站，做多重判定(测试到每个目标网站的速度,超时).
代理池现状 一般的代理网站只有单一测试. 改进思路: 构建一个目标网站测试url池.
编写代理池相关网页 互联网网站的反爬虫策略浅析Python简单抓取原理引出分布式爬虫代理666代理IP自动切换的方法鲲鹏Web数据抓取 - 专业Web数据采集服务提供商鲲鹏免费HTTP代理列表（每3小时更新一次）一种基于连接代理优化管理的多线程网络爬虫处理方法用python爬虫抓站的一些技巧总结再次复活你的goagent代理 含代理数据相关网页 [-] http://blog.chinaunix.net/uid-23500957-id-3794837.html[-] https://linuxtoy.org/archives/python-ip.html[*] http://proxy.ipcn.org/proxylist.html[*] http://proxylist.hidemyass.com/[*] http://proxy.com.ru/[*] http://www.kuaidaili.com/ #proxy " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ed11ed4949d9284e2d71ca5cfe5c081c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-04-20T23:54:42+08:00" />
<meta property="article:modified_time" content="2016-04-20T23:54:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">how to create proxies pool</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="post-body" style=""> 
  
 <h2 id="How_to_code_a_proxies_pool" style="font-size:24px; margin:20px 0px 10px; padding:0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif"> How to code a proxies pool</h2> 
 <h3 id="代理的基本知识" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 代理的基本知识</h3> 
 <p style="margin:0px 0px 25px">代理服务器类型很多：HTTP代理,FTP代理,SOCKS代理。各种代理的特性如下：</p> 
 <ul style="list-style:square"><li style="list-style:circle">HTTP代理：能够代理客户机的HTTP访问，主要是代理浏览器访问网页，它的端口一般为80、8080、3128等。</li><li style="list-style:circle">FTP代理：能够代理客户机上的FTP软件访问FTP服务器，它的端口一般为21、2121。</li><li style="list-style:circle">RTSP代理：代理客户机上的Realplayer访问Real流媒体服务器的代理，其端口一般为554。</li><li style="list-style:circle">POP3代理：代理客户机上的邮件软件用POP3方式收发邮件，端口一般为110。</li><li style="list-style:circle">SOCKS代理：SOCKS代理与其他类型的代理不同，它只是简单地传递数据包，而并不关心是何种应用协议，既可以是HTTP请求，所以SOCKS代理服务器比其他类型的代理服务器速度要快得多。SOCKS代理又分为SOCKS4和SOCKS5，二者不同的是SOCKS4代理只支持TCP协议（即传输控制协议），而SOCKS5代理则既支持TCP协议又支持UDP协议（即用户数据包协议），还支持各种身份验证机制、服务器端域名解析等。SOCK4能做到的SOCKS5都可得到，但SOCKS5能够做到的SOCKS则不一定能做到，比如我们常用的聊天工具QQ在使用代理时就要求用SOCKS5代理，因为它需要使用UDP协议来传输数据。</li></ul> 
 <h4 id="HTTP代理相关知识" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:20px"> HTTP代理相关知识</h4> 
 <ul style="list-style:square"><li style="list-style:circle">透明代理:也叫普通代理，它不但改变了我们的请求信息，还会传送真实的IP地址。从：HTTP_X_FORWARDED_FOR等代理信息可以查到我们IP地址！</li><li style="list-style:circle">匿名代理:普通匿名代理，它能隐藏客户机的真实IP，但会改变我们的请求信息。它不传送正式ip，但是可能会发送HTTP_VIA、HTTP_PROXY_CONNECTION</li><li style="list-style:circle">信息，还是可以通过这些判断出使用了代理！</li><li style="list-style:circle">高级匿名代理:不改变客户机的请求，这样在服务器看来就像有个真正的客户浏览器在访问它，这时客户的真实IP是隐藏的，服务器端不会认为我们使用了代理！</li><li style="list-style:circle">HTTP通道:http代理服务器支持Connect请求，这类代理服务器基本可以代理所有软件，如：QQ,FoxMail,FTP等等，不支持通道的HTTP代理,基本上只支持简单的Http</li><li style="list-style:circle">GET,POST等请求服务！</li></ul> 
 <p style="margin:0px 0px 25px">###SOCKS代理知识</p> 
 <ul style="list-style:square"><li style="list-style:circle">SOCKS5:常见SOCKS代理有Socks4,socks5，不过目前基本上以socks5代理为主，它基本支持所有客户端请求协议，Http,Ftp,Smtp等，可以具备高级匿名代理隐藏功能！</li></ul> 
 <h3 id="运用场景" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 运用场景</h3> 
 <p style="margin:0px 0px 25px">这在某些情况下比较有用，比如IP被封了，或者比如IP访问的次数受到限制等等。</p> 
 <h4 id="爬虫抓取思路" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:20px"> 爬虫抓取思路</h4> 
 <ul style="list-style:square"><li style="list-style:circle">分布式爬虫</li><li style="list-style:circle">ip代理池</li><li style="list-style:circle">设置延迟抓取</li></ul> 
 <h4 id="网站反爬思路" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:20px"> 网站反爬思路</h4> 
 <ul style="list-style:square"><li style="list-style:circle">针对并发数高的爬虫，可手工识别；也可在服务器端设置每个ip连接次数。<a target="_blank" href="http://www.backlion.com/%E5%86%8D%E6%AC%A1%E5%A4%8D%E6%B4%BB%E4%BD%A0%E7%9A%84goagent%E4%BB%A3%E7%90%86/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent"></a></li><li style="list-style:circle">通过User-Agent识别爬虫。此种情况下是针对并发连接数不是很高的爬虫而设置的。</li><li style="list-style:circle">通过网站流量统计系统和日志分析来识别爬虫。有些爬虫喜欢修改User-Agent信息来伪装自己，把自己伪装成一个真实浏览器的User-Agent信息，让你无法有效的识别。这种情况下我们可以通过网站流量系统记录的真实用户访问IP来进行识别。</li><li style="list-style:circle">网站的实时反爬虫防火墙实现策略</li></ul> 
 <h3 id="思路" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 思路</h3> 
 <p style="margin:0px 0px 25px">定时抓代理页面，然后分析后提取.<br> 定时获取代理源,根据需要测试的目标网站,用代理ip进行速度,超时等一些性能指标的测试.以便获取针对目标网站抓取的最佳ip.</p> 
 <h3 id="亮点难点" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 亮点难点</h3> 
 <p style="margin:0px 0px 25px">就是要根据若干提供的目标网站，做多重判定(测试到每个目标网站的速度,超时).</p> 
 <h3 id="代理池现状" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 代理池现状</h3> 
 <p style="margin:0px 0px 25px">一般的代理网站只有单一测试. 改进思路: 构建一个目标网站测试url池.</p> 
 <h3 id="编写代理池相关网页" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 编写代理池相关网页</h3> 
 <ul style="list-style:square"><li style="list-style:circle"><a target="_blank" href="http://robbinfan.com/blog/11/anti-crawler-strategy" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">互联网网站的反爬虫策略浅析</a></li><li style="list-style:circle"><a target="_blank" href="http://blog.csdn.net/yiliumu/article/details/21335245" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">Python简单抓取原理引出分布式爬虫</a></li><li style="list-style:circle"><a target="_blank" href="http://www.daili666.com/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">代理666</a></li><li style="list-style:circle"><a target="_blank" href="http://passover.blog.51cto.com/2431658/502232/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">代理IP自动切换的方法</a></li><li style="list-style:circle"><a target="_blank" href="http://www.site-digger.com/html/proxies.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">鲲鹏Web数据抓取 - 专业Web数据采集服务提供商</a></li><li style="list-style:circle"><a target="_blank" href="http://www.site-digger.com/html/articles/20110516/proxieslist.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">鲲鹏免费HTTP代理列表（每3小时更新一次）</a></li><li style="list-style:circle"><a target="_blank" href="http://www.google.com/patents/CN103902386A?cl=zh" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">一种基于连接代理优化管理的多线程网络爬虫处理方法</a></li><li style="list-style:circle"><a target="_blank" href="http://www.open-open.com/lib/view/open1375945149312.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent"><strong>用python爬虫抓站的一些技巧总结</strong></a></li><li style="list-style:circle"><a target="_blank" href="http://www.backlion.com/%E5%86%8D%E6%AC%A1%E5%A4%8D%E6%B4%BB%E4%BD%A0%E7%9A%84goagent%E4%BB%A3%E7%90%86/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">再次复活你的goagent代理</a></li></ul> 
 <h3 id="含代理数据相关网页" style="margin:20px 0px 10px; padding:10px 0px 0px; font-weight:bold; line-height:1; font-family:Cambria,Georgia,'Microsoft Jhenghei','Hiragino Sans GB','Microsoft YaHei','Times New Roman',serif; font-size:22px"> 含代理数据相关网页</h3> 
 <ul style="list-style:square"><li style="list-style:circle">[-] <a target="_blank" href="http://blog.chinaunix.net/uid-23500957-id-3794837.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">http://blog.chinaunix.net/uid-23500957-id-3794837.html</a></li><li style="list-style:circle">[-] <a target="_blank" href="https://linuxtoy.org/archives/python-ip.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">https://linuxtoy.org/archives/python-ip.html</a></li><li style="list-style:circle">[*] <a target="_blank" href="http://proxy.ipcn.org/proxylist.html" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">http://proxy.ipcn.org/proxylist.html</a></li><li style="list-style:circle">[*] <a target="_blank" href="http://proxylist.hidemyass.com/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(34,34,34); word-wrap:break-word; outline:0px; background-color:transparent">http://proxylist.hidemyass.com/</a></li><li style="list-style:circle">[*] <a target="_blank" href="http://proxy.com.ru/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">http://proxy.com.ru/</a></li><li style="list-style:circle">[*] <a target="_blank" href="http://www.kuaidaili.com/" rel="external noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(204,204,204); word-wrap:break-word; background-color:transparent">http://www.kuaidaili.com/</a></li><li style="list-style:circle"></ul> 
</div> 
<div class="post-tags" style="margin-top:40px; text-align:left"> 
 <a target="_blank" href="http://beyouth.me/tags/proxy/" rel="tag noopener noreferrer" style="color:rgb(34,34,34); text-decoration:none; border-bottom-style:none; word-wrap:break-word; display:inline-block; margin-right:10px; font-size:13px; padding:1px 5px; background:rgb(245,245,245)">#proxy</a> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43215d1cdd8e48e4c3a463a6398d2a29/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">互联网网站的反爬虫策略浅析</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e9587c448008d5d2809690378125e29/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Intellij IDEA快捷键介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>