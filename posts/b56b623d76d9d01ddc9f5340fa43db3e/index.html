<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>eNSP基础常用命令 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="eNSP基础常用命令" />
<meta property="og:description" content="本文主要收集了基础的常用ensp命令及其简写方式
基础命令 命令可通过tap键进行补全，当输入的不完整的命令能补全能匹配到的命令有且只有一个时，不进行补全亦可执行该命令
system-view：从用户模式切换成系统模式，简写为“sys”，ctrl &#43;z 可以退回用户模式；
sysname：修改当前设备主机名；
undo info-center enable ：关闭信息中心功能，关闭后，在配置过程部分配置信息不会显示；
quit：退出当前模式，逐级退出，简写为“q”；
save：保存当前设备的配置，否则设备重启后配置会恢复；
reboot：重启设备；
display current-configuration:查看当前生效配置，即当前设备所有接口的配置命令都会显示出来，按回车一行一行翻，按空格一页一页翻；
display clock：显示设备时间；
display this：可以显示当前界面配置生效的命令；
undo &#43; 配置命令：可用于删除当前界面配置的命令；
清除整个交换机或路由器配置的命令 需要在用户视图下执行reset saved-configuration命令
&lt;Huawei&gt;reset saved-configuration Warning: The action will delete the saved configuration in the device. The configuration will be erased to reconfigure. Continue? [Y/N]:y //询问擦除以重新配置，选择y Warning: Now clearing the configuration in the device. May 31 2023 22:32:17-08:00 Huawei %%01CFM/4/RST_CFG(l)[0]:The user chose Y when deciding whether to reset the saved configuration." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b56b623d76d9d01ddc9f5340fa43db3e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-04T20:17:29+08:00" />
<meta property="article:modified_time" content="2023-06-04T20:17:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">eNSP基础常用命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>本文主要收集了基础的常用ensp命令及其简写方式</p> 
<hr> 
<h3><a id="_4"></a>基础命令</h3> 
<p><mark><em>命令可通过<strong>tap键</strong>进行补全，当输入的不完整的命令能补全能匹配到的命令有且只有一个时，不进行补全亦可执行该命令</em></mark><br> system-view：从用户模式切换成系统模式，简写为“sys”，ctrl +z 可以退回用户模式；<br> sysname：修改当前设备主机名；<br> undo info-center enable ：关闭信息中心功能，关闭后，在配置过程部分配置信息不会显示；<br> quit：退出当前模式，逐级退出，简写为“q”；<br> save：保存当前设备的配置，否则设备重启后配置会恢复；<br> reboot：重启设备；<br> display current-configuration:查看当前生效配置，即当前设备所有接口的配置命令都会显示出来，按回车一行一行翻，按空格一页一页翻；<br> display clock：显示设备时间；<br> display this：可以显示当前界面配置生效的命令；<br> undo + 配置命令：可用于删除当前界面配置的命令；</p> 
<h4><a id="_16"></a>清除整个交换机或路由器配置的命令</h4> 
<p>需要在用户视图下执行<strong>reset saved-configuration</strong>命令</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>reset saved-configuration
Warning: The action will delete the saved configuration <span class="token keyword">in</span> the device.
The configuration will be erased to reconfigure. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>:y      //询问擦除以重新配置，选择y
Warning: Now clearing the configuration <span class="token keyword">in</span> the device.
May <span class="token number">31</span> <span class="token number">2023</span> <span class="token number">22</span>:32:17-08:00 Huawei %%01CFM/4/RST_CFG<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>:The user chose Y when 
deciding whether to reset the saved configuration.
Info: Succeeded <span class="token keyword">in</span> clearing the configuration <span class="token keyword">in</span> the device.
<span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>reboot                                                           //重启设备
Info: The system is now comparing the configuration, please wait.
Warning: All the configuration will be saved to the configuration <span class="token function">file</span> <span class="token keyword">for</span> the n
ext startup:, Continue?<span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>:n      //询问是否保存当前配置到配置文件，选择n，否则重启后仍是原来配置
Info: If want to <span class="token function">reboot</span> with saving diagnostic information, input <span class="token string">'N'</span> and <span class="token keyword">then</span> e
xecute <span class="token string">'reboot save diagnostic-information'</span><span class="token builtin class-name">.</span>
System will reboot<span class="token operator">!</span> Continue?<span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>:y    //询问是否重启，选择y
</code></pre> 
<h4><a id="_34"></a>清除当前端口配置的命令</h4> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>Huawei-Ethernet0/0/1<span class="token punctuation">]</span>clear configuration int e0/0/1      //清除当前端口配置
Warning: All configurations of the interface will be cleared, and its state will
 be shutdown. Continue? <span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span> :y                         //选择y执行清除
Info: Total execute <span class="token number">2</span> command<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, <span class="token number">2</span> successful, <span class="token number">0</span> failed.
<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>
May <span class="token number">31</span> <span class="token number">2023</span> <span class="token number">22</span>:41:56-08:00 Huawei %%01PHY/1/PHY<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>:    Ethernet0/0/1: change 
status to down
May <span class="token number">31</span> <span class="token number">2023</span> <span class="token number">22</span>:41:57-08:00 Huawei DS/4/DATASYNC_CFGCHANGE:OID <span class="token number">1.3</span>.6.1.4.1.2011.5
.25.191.3.1 configurations have been changed. The current change number is <span class="token number">3</span>, th
e change loop count is <span class="token number">0</span>, and the maximum number of records is <span class="token number">4095</span>.
<span class="token punctuation">[</span>Huawei<span class="token punctuation">]</span>int e0/0/1
<span class="token punctuation">[</span>Huawei-Ethernet0/0/1<span class="token punctuation">]</span>undo <span class="token function">shutdown</span>     //重启端口

</code></pre> 
<h4><a id="_51"></a>保存配置</h4> 
<p>保存设备的配置信息，如不进行保存，每次重启将会恢复之前的配置，需要在用户视图下保存</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>Huawei<span class="token operator">&gt;</span>save
The current configuration will be written to the device.
Are you sure to continue?<span class="token punctuation">[</span>Y/N<span class="token punctuation">]</span>y
Now saving the current configuration to the slot <span class="token number">0</span>.
May <span class="token number">31</span> <span class="token number">2023</span> <span class="token number">22</span>:48:30-08:00 Huawei %%01CFM/4/SAVE<span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>:The user chose Y when dec
iding whether to save the configuration to the device.
Save the configuration successfully.

</code></pre> 
<h3><a id="_65"></a>接口管理命令</h3> 
<p>interface +接口 ：用于进入已经存在的接口，或者创建并进入逻辑接口。简写如int g0/0/1<br> shutdown：用来关闭当前接口。 简写：shut<br> undo shutdown：用来打开当前接口。简写 undo shut</p> 
<h4><a id="_69"></a>路由器</h4> 
<p>display ip interface brief ：查看看接口与IP相关的简要信息。包括ip地址，子网掩码，物理链路和协议的up/down状态以及处于不同状态下接口数量；<br> ip address 192.168.1.1 24：为接口添加ip地址192.168.1/24。可简写为ip add 192.168.1.1 24<br> display ip routing-table ：查看当前设备路由表；<br> ip route-static 192.168.1.0 24 192.168.2.1:配置静态路由，要去192.168.1.0/24这个网段的数据包要通过192.168.2.1这个地址送出去</p> 
<h4><a id="VLAN_75"></a>VLAN配置</h4> 
<p>vlan 1:创建vlan1并进入vlan视图；<br> vlan batch 1 2：创建vlan1和vlan2，用于创建一个或批量创建多个vlan；<br> vlan batch 2 to 4：创建vlan2 到vlan 4，用于创建一个或批量创建多个vlan；<br> display vlan ：查看设备所有vlan的相关信息；</p> 
<h3><a id="access_81"></a>设置接口为access</h3> 
<pre><code class="prism language-bash">port link-type access
port default vlan <span class="token number">10</span>    //配置接口的默认vlan并同时加入这个vlan
</code></pre> 
<h3><a id="trunk_87"></a>设置接口为trunk</h3> 
<pre><code class="prism language-bash">port link-type trunk
port trunk allow-pass vlan <span class="token number">10</span> <span class="token number">20</span>    //用来配置trunk类型接口加入的vlan
</code></pre> 
<h3><a id="hybrid_93"></a>设置接口为hybrid</h3> 
<p>设置端口类型为hybrid，并以untagged（不带标签）方式加入vlan中，pvid为vlan10</p> 
<pre><code class="prism language-bash">port link-type hybrid
port hybrid untagged vlan <span class="token number">10</span>    //用来配置hybrid类型接口所属的vlan
port hyvrid pvid vlan <span class="token number">10</span>         //用来设置hybrid类型接口的默认vlan <span class="token function">id</span>
</code></pre> 
<p>设置端口类型为hybrid，并以tagged（带标签）方式同时加入vlan10 和vlan20</p> 
<pre><code class="prism language-bash">port link-type hybrid
port hybrid tagged vlan <span class="token number">10</span> <span class="token number">20</span>   //指定hybrid类型接口所属vlan
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5873d6ae79fbad3dc3beb489c9a35d04/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">单张图片一键换脸（github爆火工程——roop）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/54d476e8078bd73bac9c06a2a1ded185/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring AOP通知（Advice）详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>