<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shell特殊变量：Shell $0, $#, $*, $@, $?, $$和命令行参数 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Shell特殊变量：Shell $0, $#, $*, $@, $?, $$和命令行参数" />
<meta property="og:description" content="例如，$ 表示当前Shell进程的ID，即pid，看下面的代码： $echo $$ 运行结果 29949 特殊变量列表 变量含义$0当前脚本的文件名$n传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。$#传递给脚本或函数的参数个数。$*传递给脚本或函数的所有参数。$@传递给脚本或函数的所有参数。被双引号(&#34; &#34;)包含时，与 $* 稍有不同，下面将会讲到。$?上个命令的退出状态，或函数的返回值。$$当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。 命令行参数 运行脚本时传递给脚本的参数称为命令行参数。命令行参数用 $n 表示，例如，$1 表示第一个参数，$2 表示第二个参数，依次类推。 请看下面的脚本： #!/bin/bash echo &#34;File Name: $0&#34;echo &#34;First Parameter : $1&#34;echo &#34;First Parameter : $2&#34;echo &#34;Quoted Values: $@&#34;echo &#34;Quoted Values: $*&#34;echo &#34;Total Number of Parameters : $#&#34; 运行结果： $./test.sh Zara Ali File Name : ./test.sh First Parameter : Zara Second Parameter : Ali Quoted Values: Zara Ali Quoted Values: Zara Ali Total Number of Parameters : 2 $* 和 $@ 的区别 $* 和 $@ 都表示传递给函数或脚本的所有参数，不被双引号(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1d455c30138dbc8625aac3bfa906844e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-06-20T12:16:26+08:00" />
<meta property="article:modified_time" content="2017-06-20T12:16:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shell特殊变量：Shell $0, $#, $*, $@, $?, $$和命令行参数</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <br> 例如，$ 表示当前Shell进程的ID，即pid，看下面的代码： 
<div class="snippet-container" style=""> 
 <div class="sh_bright snippet-wrap"> 
  <pre class="shell sh_sh snippet-formatted sh_sourceCode">   
   <ol class="snippet-num"><li><span class="sh_variable">$echo</span> <span class="sh_variable">$$</span></li></ol></pre> 
 </div> 
</div> 运行结果 
<pre class="info-box">29949</pre> 
<br> 
<table><caption>
   特殊变量列表 
 </caption><tbody><tr><th>变量</th><th>含义</th></tr><tr><td>$0</td><td>当前脚本的文件名</td></tr><tr><td>$n</td><td>传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是$1，第二个参数是$2。</td></tr><tr><td>$#</td><td>传递给脚本或函数的参数个数。</td></tr><tr><td>$*</td><td>传递给脚本或函数的所有参数。</td></tr><tr><td>$@</td><td>传递给脚本或函数的所有参数。被双引号(" ")包含时，与 $* 稍有不同，下面将会讲到。</td></tr><tr><td>$?</td><td>上个命令的退出状态，或函数的返回值。</td></tr><tr><td>$$</td><td>当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。</td></tr></tbody></table> 
<h3>命令行参数</h3> 运行脚本时传递给脚本的参数称为命令行参数。命令行参数用 $n 表示，例如，$1 表示第一个参数，$2 表示第二个参数，依次类推。 
<br> 
<br> 请看下面的脚本： 
<div class="snippet-container" style=""> 
 <div class="sh_bright snippet-wrap"> 
  <pre class="shell sh_sh snippet-formatted sh_sourceCode">   
   <ol class="snippet-num"><li><span class="sh_comment">#!/bin/bash</span></li><li>
</li><li>echo <span class="sh_string">"File Name: $0"</span></li><li>echo <span class="sh_string">"First Parameter : $1"</span></li><li>echo <span class="sh_string">"First Parameter : $2"</span></li><li>echo <span class="sh_string">"Quoted Values: $@"</span></li><li>echo <span class="sh_string">"Quoted Values: $*"</span></li><li>echo <span class="sh_string">"Total Number of Parameters : $#"</span></li></ol></pre> 
 </div> 
</div> 运行结果： 
<pre class="info-box">$./test.sh Zara Ali
File Name : ./test.sh
First Parameter : Zara
Second Parameter : Ali
Quoted Values: Zara Ali
Quoted Values: Zara Ali
Total Number of Parameters : 2</pre> 
<h3>$* 和 $@ 的区别</h3> $* 和 $@ 都表示传递给函数或脚本的所有参数，不被双引号(" ")包含时，都以"$1" "$2" … "$n" 的形式输出所有参数。 
<br> 
<br> 但是当它们被双引号(" ")包含时，"$*" 会将所有的参数作为一个整体，以"$1 $2 … $n"的形式输出所有参数；"$@" 会将各个参数分开，以"$1" "$2" … "$n" 的形式输出所有参数。 
<br> 
<br> 下面的例子可以清楚的看到 $* 和 $@ 的区别： 
<div class="snippet-container" style=""> 
 <div class="sh_bright snippet-wrap"> 
  <pre class="shell sh_sh snippet-formatted sh_sourceCode">   
   <ol class="snippet-num"><li><span class="sh_comment">#!/bin/bash</span></li><li>echo <span class="sh_string">"</span><span class="sh_specialchar">\$</span><span class="sh_string">*="</span> <span class="sh_variable">$*</span></li><li>echo <span class="sh_string">"</span><span class="sh_specialchar">\"\$</span><span class="sh_string">*</span><span class="sh_specialchar">\"</span><span class="sh_string">="</span> <span class="sh_string">"$*"</span></li><li>
</li><li>echo <span class="sh_string">"</span><span class="sh_specialchar">\$</span><span class="sh_string">@="</span> <span class="sh_variable">$@</span></li><li>echo <span class="sh_string">"</span><span class="sh_specialchar">\"\$</span><span class="sh_string">@</span><span class="sh_specialchar">\"</span><span class="sh_string">="</span> <span class="sh_string">"$@"</span></li><li>
</li><li>echo <span class="sh_string">"print each param from </span><span class="sh_specialchar">\$</span><span class="sh_string">*"</span></li><li><span class="sh_keyword">for</span> var <span class="sh_keyword">in</span> <span class="sh_variable">$*</span></li><li><span class="sh_keyword">do</span></li><li>    echo <span class="sh_string">"$var"</span></li><li><span class="sh_keyword">done</span></li><li>
</li><li>echo <span class="sh_string">"print each param from </span><span class="sh_specialchar">\$</span><span class="sh_string">@"</span></li><li><span class="sh_keyword">for</span> var <span class="sh_keyword">in</span> <span class="sh_variable">$@</span></li><li><span class="sh_keyword">do</span></li><li>    echo <span class="sh_string">"$var"</span></li><li><span class="sh_keyword">done</span></li><li>
</li><li>echo <span class="sh_string">"print each param from </span><span class="sh_specialchar">\"\$</span><span class="sh_string">*</span><span class="sh_specialchar">\"</span><span class="sh_string">"</span></li><li><span class="sh_keyword">for</span> var <span class="sh_keyword">in</span> <span class="sh_string">"$*"</span></li><li><span class="sh_keyword">do</span></li><li>    echo <span class="sh_string">"$var"</span></li><li><span class="sh_keyword">done</span></li><li>
</li><li>echo <span class="sh_string">"print each param from </span><span class="sh_specialchar">\"\$</span><span class="sh_string">@</span><span class="sh_specialchar">\"</span><span class="sh_string">"</span></li><li><span class="sh_keyword">for</span> var <span class="sh_keyword">in</span> <span class="sh_string">"$@"</span></li><li><span class="sh_keyword">do</span></li><li>    echo <span class="sh_string">"$var"</span></li><li><span class="sh_keyword">done</span></li></ol></pre> 
 </div> 
</div> 执行 ./test.sh "a" "b" "c" "d"，看到下面的结果： 
<pre class="info-box">$*=  a b c d
"$*"= a b c d
$@=  a b c d
"$@"= a b c d
print each param from $*
a
b
c
d
print each param from $@
a
b
c
d
print each param from "$*"
a b c d
print each param from "$@"
a
b
c
d</pre> 
<h3>退出状态</h3> $? 可以获取上一个命令的退出状态。所谓退出状态，就是上一个命令执行后的返回结果。 
<br> 
<br> 退出状态是一个数字，一般情况下，大部分命令执行成功会返回 0，失败返回 1。 
<br> 
<br> 不过，也有一些命令返回其他值，表示不同类型的错误。 
<br> 
<br> 下面例子中，命令成功执行： 
<pre class="info-box">$./test.sh Zara Ali
File Name : ./test.sh
First Parameter : Zara
Second Parameter : Ali
Quoted Values: Zara Ali
Quoted Values: Zara Ali
Total Number of Parameters : 2
$echo $?
0
$</pre> 
<br> $? 也可以表示函数的返回值，后续将会讲解。
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c05eb7e5743e7f6b1738c6af12a239ac/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">shell中if条件字符串、数字比对，[[ ]]和[ ]区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8daf9947a228e80aebae5493544794f0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql中去重 distinct用法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>