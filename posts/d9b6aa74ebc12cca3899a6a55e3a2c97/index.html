<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>最全最新：Windows 64bit下安装   免安装版本的mysql8.0 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="最全最新：Windows 64bit下安装   免安装版本的mysql8.0" />
<meta property="og:description" content="第一步，当然是下载了，给一个官方下载链接 https://dev.mysql.com/downloads/mysql/
然后再截两张图
下载完之后 解压，然后放到一张盘 下面，再解压出来的文件中添加一个data文件夹，和一个my.ini文件，文件目录如下图：
打开my.ini 文件 ，编辑如下
# For advice on how to change settings please see # http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html # *** DO NOT EDIT THIS FILE. It&#39;s a template which will be copied to the # *** default location during install, and will be replaced if you # *** upgrade to a newer version of MySQL. [mysqld] #skip-grant-tables # Remove leading # and set to the amount of RAM for the most important data # cache in MySQL." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d9b6aa74ebc12cca3899a6a55e3a2c97/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-09-18T16:06:17+08:00" />
<meta property="article:modified_time" content="2018-09-18T16:06:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">最全最新：Windows 64bit下安装   免安装版本的mysql8.0</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>第一步，当然是下载了，给一个官方下载链接 <a href="https://dev.mysql.com/downloads/mysql/" rel="nofollow">https://dev.mysql.com/downloads/mysql/</a></p> 
<p>然后再截两张图</p> 
<p> </p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/16/a8/7t3jdhA6_o.png"></p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/a5/ab/cssHBk1d_o.png"></p> 
<p> 下载完之后 解压，然后放到一张盘 下面，再解压出来的文件中添加一个data文件夹，和一个my.ini文件，文件目录如下图：</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/8c/ca/pL8z5NgK_o.png"></p> 
<p>打开my.ini 文件 ，编辑如下</p> 
<pre class="has"><code># For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.

[mysqld]
#skip-grant-tables
# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
  innodb_buffer_pool_size = 128M

# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin

# These are commonly set, remove the # and set as required.
# 设置mysql的安装目录
basedir=F:/mysql-8.0.12-winx64
# 设置mysql数据库的数据的存放目录
datadir=F:/mysql-8.0.12-winx64/data
# 端口，默认3306  
  port = 3386
# 服务实例的唯一标识
# server_id = MySQL

# 允许最大连接数
  max_connections=200
# 允许连接失败的次数。这是为了防止有人从该主机试图攻击数据库系统
  max_connect_errors=10
# 服务端使用的字符集默认为utf8mb4
  character_set_server=utf8mb4
# 创建新表时将使用的默认存储引擎
  default-storage-engine=INNODB
# 默认使用“mysql_native_password”插件认证
  default_authentication_plugin=mysql_native_password

# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
  join_buffer_size = 128M
  sort_buffer_size = 2M
  read_rnd_buffer_size = 2M 

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 

[mysql]
# 设置mysql客户端默认字符集
default-character-set=utf8mb4

[client]
# 设置mysql客户端连接服务端时默认使用的端口
port=3386   
default-character-set=utf8mb4</code></pre> 
<p> 这里配置的是所用端口信息等配置信息</p> 
<h2 id="特别提醒">特别提醒</h2> 
<h3 id="1">1</h3> 
<p>mysql8.0密码采用了新的加密方式caching_sha2_password，这种插件是将你输入的密码用sha2算法进行散列函数处理生成的具有雪崩效应的一个二进制串，你输入的密码并不是最后登录的密码，sha2生成的二进制串才是真正的密码，这种加密方式在使用cmd的登录是没有问题的，但是现在大多数客户端还没有更新，比如navicat就连接不上。<br> 所以在配置文件中加了一条配置，即不用caching_sha2_password，而用以前的mysql_native_password：</p> 
<blockquote> 
 <p>默认使用“mysql_native_password”插件认证 <br> default_authentication_plugin=mysql_native_password</p> 
</blockquote> 
<h3 id="2">2</h3> 
<p>如果您在初始化数据库的时候忘记了加上述配置，导致客户端无法连接数据库 <br> 可以在修改密码的时候显示指定加密插件，这时候就不会将密码进行sha2散列函数处理了。</p> 
<blockquote> 
 <p>ALTER USER ‘root’@’localhost’ IDENTIFIED WITH mysql_native_password BY ‘1234’;</p> 
</blockquote> 
<p>接下来，将bin文件夹放在环境变量path下，这样就可以直接运行了，不用切换到mysql目录下了</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/b7/40/qMGMrE12_o.png"></p> 
<p>重启一下电脑（看情况，如果能运行命令的话，也不用重启） </p> 
<p>用管理员权限运行命令行（cmd，最新版win10是PowerShell）</p> 
<p>首先，要进行数据库的初始化</p> 
<p>输入</p> 
<pre class="has"><code>mysqld –initialize</code></pre> 
<p>等待命令运行完，你进入data 目录，发现多了好多文件，说明mysql初始化成功了</p> 
<p>然后，要把mysql注册为windows服务</p> 
<pre class="has"><code>mysqld –install MySQL80 #注册服务，MySQL80是服务名，根据自己的实际情况命名即可 
（如果想移除服务用这个：mysqld –remove MySQL80 #移除服务） 
net start MySQL80 #启动服务，也可以通过服务管理界面进行操作 
（net stop MySQL58 #停止服务，也可以通过服务管理界面进行操作）
</code></pre> 
<p>界面操作的话就不说了，网上搜 怎么查看windows服务一大坨。。。。</p> 
<p>然后嘞，就要修改密码了，因为配置文件中并没有配置密码，所以我们要设置，继续运行以下命令</p> 
<pre class="has"><code>mysql -uroot -P3386 -p</code></pre> 
<p>因为我们不是使用的默认端口号，所以要使用-P指定端口号 </p> 
<p>然后嘞，你会发现要你输入密码，你说， 不是没设密码吗，哪来的密码啊，这个密码是临时密码 ，具体查看位置是mysql 目录下的data文件夹中的.err 文件 看下图</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/8a/f2/80OQLUtk_o.png"></p> 
<p>文件中有一项是临时密码</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/ef/02/CF7o3PMq_o.png"></p> 
<p>复制密码输入后</p> 
<p>出现以下登录成功界面</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/0b/b5/SGeBxO2i_o.png"></p> 
<p>在mysql命令下 输入修改密码的命令</p> 
<pre class="has"><code>ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘1234（你的新密码，根据喜好设置）’; （注意有分号）
FLUSH PRIVILEGES（更新权限）; 
这样操作之后，就可以用新密码进行登录了 </code></pre> 
<p>我的操作是这样的，我输命令时忘打分号了，所以第二行继续输。。。。。</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/0c/35/29K7nBjH_o.png"></p> 
<p>ok 请尽情使用吧！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/70f93bce70ba87aba8acf55a822cbb2c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">linux文件结构</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bb0723e8d882ff660b02b8166bf16da9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js实现页面滑动到最底部触发内容加载</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>