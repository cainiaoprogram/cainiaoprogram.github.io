<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>使用本地浏览器打开远程服务器上的Jupyter Notebook - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="使用本地浏览器打开远程服务器上的Jupyter Notebook" />
<meta property="og:description" content="最近在github找到一些工程的代码都是.ipynb格式的文件，就好奇这个JupyterNotebook格式可以直接运行吗，还是需要另存成本地常见的格式，就查了一下，发现是可以的，这里记录一下。
主要思路：
（假设你的服务器上已经安装好了Jupyter Notebook）
配置Jupyter notebook 1. 服务器端安装Anaconda， 安装好jupyter notebook 等等 2. 生成jupyter notebook配置文件 jupyter notebook --generate-config 3.配置密码 打开python，输入指令：
from notebook.auth import passwd passwd() 输入自己想要设置的密码，之后会自动生成一个密码序列，复制下来。
4.配置密码生成ssl证书（最后用https登录） openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout mykey.key -out mycert.pem 5.修改jupyter配置文件 打开第2步生成的配置文件，一般是在~/.jupyter
打开配置文件：
vi ~/.jupyter/jupyter_notebook_config.py 对以下几行做如下修改：
c.NotebookApp.password=u&#39;sha1：XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&#39; // (注：XXXXXXXXXXXXXXXXXXXXXXX 为第3步中生成的密码序列) c.NotebookApp.certfile = u&#39;/absolute/path/to/your/certificate/mycert.pem&#39; c.NotebookApp.keyfile = u&#39;/absolute/path/to/your/certificate/mykey.key&#39; //（注：为第4步中生成的mycert.pem和mykey.key两个文件的绝对路径，可用pwd查看） c.NotebookApp.ip = &#39;*&#39; c.NotebookApp.open_browser = False c.NotebookApp.port = 8889 //自己可以设定成别的 :wq!保存并退出
6. 在服务器上运行jupyter Notebook 在服务器端打开监听端口：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/973f25a80c249e95d493a0b8186ee912/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-12-10T14:33:33+08:00" />
<meta property="article:modified_time" content="2019-12-10T14:33:33+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">使用本地浏览器打开远程服务器上的Jupyter Notebook</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>最近在github找到一些工程的代码都是.ipynb格式的文件，就好奇这个JupyterNotebook格式可以直接运行吗，还是需要另存成本地常见的格式，就查了一下，发现是可以的，这里记录一下。<br> 主要思路：<br> （假设你的服务器上已经安装好了Jupyter Notebook）</p> 
<ul><li>配置Jupyter notebook</li></ul> 
<h6><a id="1_Anaconda_jupyter_notebook__7"></a>1. 服务器端安装Anaconda， 安装好jupyter notebook 等等</h6> 
<h6><a id="2_jupyter_notebook_8"></a>2. 生成jupyter notebook配置文件</h6> 
<pre><code class="prism language-javascript">jupyter notebook <span class="token operator">--</span>generate<span class="token operator">-</span>config
</code></pre> 
<h6><a id="3_12"></a>3.配置密码</h6> 
<p>打开python，输入指令：</p> 
<pre><code class="prism language-javascript"><span class="token keyword">from</span> notebook<span class="token punctuation">.</span>auth <span class="token keyword">import</span> passwd
<span class="token function">passwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>输入自己想要设置的密码，之后会自动生成一个密码序列，复制下来。</p> 
<h6><a id="4sslhttps_19"></a>4.配置密码生成ssl证书（最后用https登录）</h6> 
<pre><code class="prism language-javascript">openssl req <span class="token operator">-</span>x509 <span class="token operator">-</span>nodes <span class="token operator">-</span>days <span class="token number">365</span> <span class="token operator">-</span>newkey rsa<span class="token punctuation">:</span><span class="token number">1024</span> <span class="token operator">-</span>keyout mykey<span class="token punctuation">.</span>key <span class="token operator">-</span>out mycert<span class="token punctuation">.</span>pem
</code></pre> 
<h6><a id="5jupyter_23"></a>5.修改jupyter配置文件</h6> 
<p>打开第2步生成的配置文件，一般是在~/.jupyter<br> 打开配置文件：</p> 
<pre><code class="prism language-javascript">vi <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>jupyter<span class="token operator">/</span>jupyter_notebook_config<span class="token punctuation">.</span>py
</code></pre> 
<p>对以下几行做如下修改：</p> 
<pre><code class="prism language-javascript">c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>password<span class="token operator">=</span>u<span class="token string">'sha1：XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'</span>
                              <span class="token comment">//  (注：XXXXXXXXXXXXXXXXXXXXXXX 为第3步中生成的密码序列)</span>
c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>certfile <span class="token operator">=</span> u<span class="token string">'/absolute/path/to/your/certificate/mycert.pem'</span>
c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>keyfile <span class="token operator">=</span> u<span class="token string">'/absolute/path/to/your/certificate/mykey.key'</span>
                     <span class="token comment">//（注：为第4步中生成的mycert.pem和mykey.key两个文件的绝对路径，可用pwd查看）        </span>
c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>ip <span class="token operator">=</span> <span class="token string">'*'</span>
c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>open_browser <span class="token operator">=</span> False
c<span class="token punctuation">.</span>NotebookApp<span class="token punctuation">.</span>port <span class="token operator">=</span> <span class="token number">8889</span>     <span class="token comment">//自己可以设定成别的</span>
</code></pre> 
<p>:wq!保存并退出</p> 
<h6><a id="6_jupyter_Notebook_41"></a>6. 在服务器上运行jupyter Notebook</h6> 
<p>在服务器端打开监听端口：</p> 
<pre><code class="prism language-javascript">jupyter notebook <span class="token operator">--</span>no<span class="token operator">-</span>browser <span class="token operator">--</span>port<span class="token operator">=</span><span class="token number">8888</span> <span class="token operator">--</span>ip<span class="token operator">=</span><span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span> <span class="token operator">--</span>allow<span class="token operator">-</span>root
</code></pre> 
<p>no-browser是指不在服务器上使用浏览器；port可以设置成任何空闲的端口号（上一步的配置文件中我把默认端口号8888改改为了8889，这里用8888依然可以）；ip如果不设置为0.0.0.0我的服务器会报错：OSError: [Errno 99] Cannot assign requested addres。<br> <img src="https://images2.imgbox.com/e5/66/1hTj9fqO_o.png" alt="在这里插入图片描述"><br> 或者，这一步还可以在服务器上用 nohup 后台挂起运行jupyter：</p> 
<pre><code class="prism language-javascript">nohup jupyter notebook <span class="token operator">&amp;</span>
</code></pre> 
<p>这里及以前参考的是<a href="https://blog.csdn.net/Papageno_Xue/article/details/79710708">[远程使用Jupyter]本地使用服务器端运行的Jupyter Notebook</a>这篇文章。</p> 
<h6><a id="7_53"></a>7.本地和服务器端口映射</h6> 
<p>在本地计算机上（我的是win10系统)，将服务器端口映射到本地。使用cmd命令打开控制台，输入：</p> 
<pre><code class="prism language-javascript">ssh username@server_ip <span class="token operator">-</span><span class="token constant">L127</span><span class="token number">.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8000</span><span class="token punctuation">:</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">8888</span>
</code></pre> 
<p>username就是在服务器上开设的用户名，server_ip就是服务器的IP，至于“-L127.0.0.1”中为什么是127.0.0.1我也不太清楚，然后就是将本地的8000端口映射到服务器端的8888端口，也就是jupyter notebook使用的端口。<br> <img src="https://images2.imgbox.com/51/0e/eq2veIIU_o.png" alt="在这里插入图片描述"><br> 这里参考的是<a href="https://blog.csdn.net/zhu_lihua/article/details/80263211">远程访问服务器端Jupyter notebook</a>这篇文章。</p> 
<h6><a id="8Jupyter_Notebook_61"></a>8.本地浏览器打开服务器上的Jupyter Notebook</h6> 
<p>下面就可以在本地的浏览器里输入https://127.0.0.1:8000，输入第3步中自己设置的密码，就可以打开服务器上的Jupyter Notebook了，开始使用吧！<br> <img src="https://images2.imgbox.com/c7/35/oPIcCWYx_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="Jupyter_notebookhttpsblogcsdnnetzhu_lihuaarticledetails80263211Jupyter_Notebook_64"></a>【注】：文章<a href="https://blog.csdn.net/zhu_lihua/article/details/80263211">远程访问服务器端Jupyter notebook</a>中给出了另一种相近的使用本地浏览器打开服务器上Jupyter Notebook的方法。</h6> 
<p>没有在一开始设定密码，而是在浏览器上进行访问时，在跳出的token界面直接输入token。（这让我忽然想起，动手学深度学习的视频中，李沐大神打开服务器上的jupyter notebook时，用的就是这个方法。。。啊，很多事，总是要在不同的情境下一二再，再而三的遇到以后，才会想起回过头来，将它们串联起来，从而有进一步的理解~从一个陌生人真正变成一个熟人）</p> 
<h6><a id="_66"></a>【实现过程中我自己遇到的问题】</h6> 
<p>之前配置完服务器上的JupyterNotebook之后，遇到过三个关键错误：<br> ①第6步中，直接输入<code>jupyter notebook --no-browser</code>来运行Jupyter Notebook会报如下错误：<br> <img src="https://images2.imgbox.com/05/ef/tNW008TB_o.png" alt="在这里插入图片描述"><br> ②完成第6步，在服务器上正确运行Jupyter Notebook后，没有正确执行第7步，即正确地将服务器端口映射到本地端口（主要是直接套用了这两篇<a href="https://www.jianshu.com/p/87e28544a7b6?utm_campaign" rel="nofollow">2018-07-10 在本地使用服务器上的jupyter notebook打开.ipynb文件</a>和<a href="https://blog.csdn.net/cs_wyong/article/details/78530185">服务器端jupyter notebook映射到本地浏览器</a>参考文章中的映射指令，以及对该将那个ip和端口映射到哪个ip和端口不明）<br> <img src="https://images2.imgbox.com/6b/c0/bqDxDtCF_o.png" alt="在这里插入图片描述"><br> ③完成第7步，将服务器端口和本地端口映射成功后，打开本地浏览器输入ip地址127.0.0.1:8000，还是打不开服务器上的Jupyter Notebook，显示“连接重置错误 ERR_CONNECTION_RESET”。<br> 参考了网页链接服务失败可能原因的文章（<a href="https://blog.csdn.net/jjwho/article/details/75098295">无法访问/404页面/SSL ERROR （总之就是连接不上）——问题与解决方案</a>）后，找到了原因。<br> <img src="https://images2.imgbox.com/4d/e9/wxIWyBTV_o.png" alt="在这里插入图片描述">在本地浏览器地址栏中输入的ip应该是https://127.0.0.1:8000。因为在第3步中配置的密码，所以在访问时应该在ip地址前加入https，是https，要加上s哦，s！其实不该遇到这个问题的，因为第3步参考那篇文章中说到了这个问题，给出了正确访问的方式~主要是要怪自己的眼太大，竟然看不见这样一条赫然重要的提示（唉，也太粗心了，都对不起写那篇文章的博主）</p> 
<h6><a id="_76"></a>【参考网址】</h6> 
<h6><a id="1Jupyter_Notebookhttpsjupyternotebookreadthedocsioenlatespublic_serverhtmlnotebookserversecurit_77"></a>【1】<a href="https://jupyter-notebook.readthedocs.io/en/lates/public_server.html#notebook-server-securit" rel="nofollow">Jupyter Notebook官网</a></h6> 
<h6><a id="2JupyterJupyter_NotebookhttpsblogcsdnnetPapageno_Xuearticledetails79710708_78"></a>【2】<a href="https://blog.csdn.net/Papageno_Xue/article/details/79710708">[远程使用Jupyter]本地使用服务器端运行的Jupyter Notebook</a></h6> 
<h6><a id="320180710_jupyter_notebookipynbhttpswwwjianshucomp87e28544a7b6utm_campaign_79"></a>【3】<a href="https://www.jianshu.com/p/87e28544a7b6?utm_campaign" rel="nofollow">2018-07-10 在本地使用服务器上的jupyter notebook打开.ipynb文件</a></h6> 
<h6><a id="4jupyter_notebookhttpsblogcsdnnetcs_wyongarticledetails78530185_80"></a>【4】<a href="https://blog.csdn.net/cs_wyong/article/details/78530185">服务器端jupyter notebook映射到本地浏览器</a></h6> 
<h6><a id="5Jupyter_notebookhttpsblogcsdnnetzhu_lihuaarticledetails80263211_81"></a>【5】<a href="https://blog.csdn.net/zhu_lihua/article/details/80263211">远程访问服务器端Jupyter notebook</a></h6> 
<h6><a id="6404SSL_ERROR_httpsblogcsdnnetjjwhoarticledetails75098295_82"></a>【6】<a href="https://blog.csdn.net/jjwho/article/details/75098295">无法访问/404页面/SSL ERROR （总之就是连接不上）——问题与解决方案</a></h6>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/68fb3211692edab604db509c525a5e01/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python变量的作用域</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6cf7ea0a9427eff0ced1ae7bdfd04da5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">three.js DragControls 移动整个模型 group</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>