<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>后台管理项目笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="后台管理项目笔记" />
<meta property="og:description" content="准备 建立项目 npm install -g @vue/cli
vue create managesys--创建vue2
配置其他 router npm install vue-router@3.5.0
router/index.js import Vue from &#39;vue&#39; import Router from &#39;vue-router&#39; Vue.use(Router) const routers=[] const router=new Router({	routes:routers}) export default router store npm install vuex@3.1.2 --save
store/index.js import Vue from &#39;vue&#39; import Vuex from &#39;vuex&#39; Vue.use(Vuex) const store=new Vuex.Store({ state:{}, mutation:{}, }) export default store axios npm install axios@0.18.0 --save api/config.js import axios from &#34;axios&#34;; export function request(config) { const instance = axios." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d78ced0346186062fbc7064ae6c9b6b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-21T15:59:29+08:00" />
<meta property="article:modified_time" content="2023-02-21T15:59:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">后台管理项目笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>准备</h2> 
<h3><a id="_1"></a>建立项目</h3> 
<p><code>npm install -g @vue/cli</code><br> <code>vue create managesys--创建vue2</code></p> 
<h3><a id="_8"></a>配置其他</h3> 
<h4><a id="router_9"></a>router</h4> 
<p><code>npm install vue-router@3.5.0</code></p> 
<pre><code class="prism language-javascript">router<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token keyword">const</span> routers<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> router<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>	<span class="token literal-property property">routes</span><span class="token operator">:</span>routers<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre> 
<h4><a id="store_22"></a>store</h4> 
<p><code>npm install vuex@3.1.2 --save</code></p> 
<pre><code class="prism language-javascript">store<span class="token operator">/</span>index<span class="token punctuation">.</span>js
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token keyword">const</span> store<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutation</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store
</code></pre> 
<h4><a id="axios_39"></a>axios</h4> 
<p><code> npm install axios@0.18.0 --save </code></p> 
<pre><code class="prism language-javascript">api<span class="token operator">/</span>config<span class="token punctuation">.</span>js
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">const</span> instance <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//https://www.fastmock.site/mock/b7da26133fab0e187542cfe12815754f/system</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span>
      <span class="token string">"https://www.fastmock.site/mock/b7da26133fab0e187542cfe12815754f/system"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//再次基础上可以添加请求拦截器和响应拦截器</span>
  
  <span class="token keyword">return</span> <span class="token function">instance</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_62"></a>路径别名</h4> 
<pre><code class="prism language-javascript"><span class="token comment">//src/vue.config.js  这里的webpack配置会和公共的webpack.config.js进行合并</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否再保存的时候使用'eslint-loader进行检查  默认为true  最好修改为false</span>
    <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span>alias
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'assets'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'components'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/components'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'api'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/api'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/views'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="element_UI_84"></a>element UI</h4> 
<p><code>npm i element-ui -S</code></p> 
<pre><code class="prism language-javascript"><span class="token comment">//main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token keyword">import</span> http <span class="token keyword">from</span> <span class="token string">'@/api/config'</span><span class="token comment">//axios</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation">;</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$http<span class="token operator">=</span>http
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	router<span class="token punctuation">,</span>
	store<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre> 
<h2><a id="_107"></a>组件</h2> 
<h3><a id="_108"></a>框架</h3> 
<p>elementUI-container容器实现<br> <img src="https://images2.imgbox.com/04/ff/I21Yn4gA_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript">Main<span class="token punctuation">.</span>vue
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>container style<span class="token operator">=</span><span class="token string">"height: 100%"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 左侧栏 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>aside width<span class="token operator">=</span><span class="token string">"auto"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 左侧栏控件 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>common<span class="token operator">-</span>aside<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>common<span class="token operator">-</span>aside<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>aside<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 右侧栏 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>container<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> header部分 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>header<span class="token operator">&gt;</span> <span class="token number">23</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>header<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 内容区域 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>main<span class="token operator">&gt;</span> er <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>main<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>container<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>container<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> commonAside <span class="token keyword">from</span> <span class="token string">"components/CommonAside"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mainIndex"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> commonAside <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_138"></a>侧边导航栏</h4> 
<p>Menu组件<br> 循环遍历路由，或者data数据，设置menu-item<br> 通过name属性进行路由的跳转是最便利的</p> 
<pre><code class="prism language-javascript"><span class="token comment">// 命名的路由，并加上参数，让路由建立 url</span>
router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'eduardo'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0c/e4/PPaRYGbQ_o.png" alt="在这里插入图片描述"><br> 左侧栏和header部分对于整个后台部分都是不变的，因此里面显示的vue组件，都是Main.vue的子组件</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>
		<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/Mainindex'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'home'</span><span class="token punctuation">,</span>
				<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/Home/Home'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span>
				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/mall'</span><span class="token punctuation">,</span>
				<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'mall'</span><span class="token punctuation">,</span>
				<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/MallManage/MallManage'</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token punctuation">{<!-- --></span>
					<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/other'</span><span class="token punctuation">,</span>
					<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/Other/index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/page1'</span><span class="token punctuation">,</span>
							<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
							<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/Other/PageOne'</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
						<span class="token punctuation">{<!-- --></span>
							<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/page2'</span><span class="token punctuation">,</span>
							<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page2"</span><span class="token punctuation">,</span>
							<span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'views/Other/PageTwo'</span><span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="_183"></a>头部栏</h4> 
<p>侧边导航栏的显示与折叠 以及个人中心<br> 将iscollapse这个变量存储在store中</p> 
<pre><code class="prism language-javascript">  <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token string">"color: aliceblue;height:60px;line-height:60px;"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"l-content"</span> style<span class="token operator">=</span><span class="token string">"    float: left"</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>el<span class="token operator">-</span>button icon<span class="token operator">=</span><span class="token string">"el-icon-menu"</span> @click<span class="token operator">=</span><span class="token string">"collapseMenu"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        首页
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"r-content"</span> style<span class="token operator">=</span><span class="token string">"    float: right;"</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown trigger<span class="token operator">=</span><span class="token string">"click"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"el-dropdown-link"</span><span class="token operator">&gt;</span>
		用户
      <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu slot<span class="token operator">=</span><span class="token string">"dropdown"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item<span class="token operator">&gt;</span>个人中心<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item<span class="token operator">&gt;</span>退出<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">-</span>menu<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dropdown<span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"commonHeader"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">collapseMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'collapseMenu'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> store<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
	<span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">iscollapse</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token comment">//false表示侧边导航栏展开</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">collapseMenu</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			state<span class="token punctuation">.</span>iscollapse<span class="token operator">=</span><span class="token operator">!</span>state<span class="token punctuation">.</span>iscollapse
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_231"></a>首页</h3> 
<p>结合栅格row和col进行划分<br> 再分区进行内容填充<br> <img src="https://images2.imgbox.com/0d/3a/chbKYZf3_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>row <span class="token operator">:</span>gutter<span class="token operator">=</span><span class="token string">"20"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"this.tableData.length"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"8"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>card <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box-card"</span> style<span class="token operator">=</span><span class="token string">"margin-top: 10px"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"header"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"clearfix"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"user"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">""</span> alt<span class="token operator">=</span><span class="token string">""</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"userinfo"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"name"</span><span class="token operator">&gt;</span>Admin<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"acess"</span><span class="token operator">&gt;</span>超级管理员<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"login-info"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>上次登录的时间：<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>上次登录的地点：<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>card <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box-card"</span> style<span class="token operator">=</span><span class="token string">"margin-top: 10px; "</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"tableData"</span> style<span class="token operator">=</span><span class="token string">"width: 100%"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"name"</span> label<span class="token operator">=</span><span class="token string">"课程"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"todayBuy"</span> label<span class="token operator">=</span><span class="token string">"今日购买"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"monthBuy"</span> label<span class="token operator">=</span><span class="token string">"本月购买"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column prop<span class="token operator">=</span><span class="token string">"totalBuy"</span> label<span class="token operator">=</span><span class="token string">"总购买"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"16"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"num"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>card
          v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in countData"</span>
          <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.name"</span>
          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"num-item"</span>
          <span class="token operator">:</span>body<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">"{ display: 'flex', padding: 0 }"</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item-icon"</span> <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">"'backgroundColor:' + item.color"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>i <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"'el-icon-' + item.icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"item-text"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token string">"font-size:25px"</span><span class="token operator">&gt;</span>￥ <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>col <span class="token operator">:</span>span<span class="token operator">=</span><span class="token string">"12"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>card<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>col<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>row<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> request <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"api/config"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"homeView"</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">tableData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">countData</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"今日支付订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#2ec7c9"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"今日收藏订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">210</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"star-on"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#ffb980"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"今日未支付订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"s-goods"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#5ab1ef"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"本月支付订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#2ec7c9"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"本月收藏订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">210</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"star-on"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#ffb980"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"本月未支付订单"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"s-goods"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">"#5ab1ef"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">getTableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/home/getData"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>tableData<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>tableData<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
<span class="token punctuation">.</span>num <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> flex<span class="token punctuation">;</span>
  flex<span class="token operator">-</span>wrap<span class="token operator">:</span> wrap<span class="token punctuation">;</span>
  align<span class="token operator">-</span>content<span class="token operator">:</span> center<span class="token punctuation">;</span>
  justify<span class="token operator">-</span>content<span class="token operator">:</span> space<span class="token operator">-</span>around<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>num<span class="token operator">-</span>item <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> 290px<span class="token punctuation">;</span>
  margin<span class="token operator">-</span>top<span class="token operator">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>item<span class="token operator">-</span>icon <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">40</span><span class="token operator">%</span><span class="token punctuation">;</span>
  line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">116</span><span class="token punctuation">.</span>9px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>item<span class="token operator">-</span>text<span class="token punctuation">{<!-- --></span>
	text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
    <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="tab_379"></a>面包屑+tab切换功能</h3> 
<p>利用Element-UI中的面包屑和tag标签</p> 
<h4><a id="_381"></a>面包屑</h4> 
<p>面包屑导航的难度在于如何将路由与面包屑导航进行映射<br> 首先面包屑首页一定要存在，接下来，侧边组建点击某个菜单，把这个数据存在vuex中，然后头部组件来获取vuex中这个数据并展示<br> 都是利用$route的match属性来实现面包屑功能，此时需要给路由映射表中，添加meta属性，以及name属性<br> <img src="https://images2.imgbox.com/10/fb/1jNFYQg3_o.png" alt="在这里插入图片描述"><br> 首先是能够实现渲染，二是点击能够跳转到相应的路由</p> 
<pre><code class="prism language-javascript">router<span class="token operator">/</span>index<span class="token punctuation">.</span>js
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/MallManage/MallManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/other"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/index"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-javascript">CommonAside
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">//初始路由，存储首页</span>
    <span class="token keyword">let</span> matched <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"selectMenu"</span><span class="token punctuation">,</span> matched<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 点击后实现路由的跳转</span>
    <span class="token function">clickMenu</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">name</span><span class="token operator">:</span> item<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">$route</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
		<span class="token comment">//监听路由的修改改变面包屑</span>
      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">let</span> matched <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//以及修改面包屑</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"selectMenu"</span><span class="token punctuation">,</span> matched<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>再去修改vuex中的变量，结合最终显示的效果进行数组的变化</p> 
<pre><code class="prism language-javascript">	<span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">userInfo</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token literal-property property">iscollapse</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//false表示侧边导航栏展开</span>
		<span class="token literal-property property">currentMenu</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span><span class="token string">'首页'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token literal-property property">tabsList</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'home'</span><span class="token punctuation">,</span><span class="token literal-property property">label</span><span class="token operator">:</span><span class="token string">'首页'</span><span class="token punctuation">,</span><span class="token literal-property property">icon</span><span class="token operator">:</span><span class="token string">'home'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">mutations</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
		<span class="token comment">// 侧边栏是否展开</span>
		<span class="token function">collapseMenu</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			state<span class="token punctuation">.</span>iscollapse<span class="token operator">=</span><span class="token operator">!</span>state<span class="token punctuation">.</span>iscollapse
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">//获取用户信息</span>
		<span class="token function">getuserInfo</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			state<span class="token punctuation">.</span>userInfo<span class="token operator">=</span>payload
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token comment">//选择标签，选择面包屑</span>
		<span class="token function">selectMenu</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span>payload<span class="token punctuation">.</span>path<span class="token punctuation">,</span><span class="token literal-property property">title</span><span class="token operator">:</span>payload<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
			<span class="token comment">// if(payload.name!='home'&amp;&amp; findItem(state.currentMenu,'title',obj.title)==-1){<!-- --></span>
			<span class="token comment">// 	state.currentMenu.push(obj)</span>
			<span class="token comment">// }</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>name<span class="token operator">!=</span><span class="token string">'home'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
					state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
				state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>payload<span class="token punctuation">.</span>name<span class="token operator">==</span><span class="token string">'home'</span><span class="token operator">&amp;&amp;</span>state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span>length<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
				state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>渲染到表头</p> 
<pre><code class="prism language-javascript">CommonHeader
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 面包屑 <span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>breadcrumb separator<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"el-icon-arrow-right"</span> style<span class="token operator">=</span><span class="token string">"margin-left:20px;"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item,index) in $store.state.currentMenu"</span> <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">"item.path"</span> <span class="token operator">:</span>key<span class="token operator">=</span>index<span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>breadcrumb<span class="token operator">&gt;</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>currentMenu
	<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="routematched_483"></a>$route.matched</h5> 
<p>比如目前的路由是/a/aa/aaa，那么此时this.$route.matched匹配到的会是一个数组，包含’/‘，‘/a’,’/aa’,'/aaa’这四个路由信息，从而可以直接利用路由信息渲染面包屑导航</p> 
<h5><a id="_485"></a>判断一个数组对象中是否含有某个对象</h5> 
<pre><code class="prism language-javascript">	<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span>
			<span class="token punctuation">{<!-- --></span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">{<!-- --></span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
		<span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">num</span><span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span>
		<span class="token keyword">let</span> obj2<span class="token operator">=</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false true</span>
</code></pre> 
<p>因为里面的引用类型是判断引用地址，obj重新开辟了地址，因此判断为false<br> ？？？<strong>目的是，存在一个obj，要判断出arr是含有obj内容的</strong></p> 
<h6><a id="1JSONstringifyindexOfinclude_499"></a>1、“JSON.stringify”+‘indexOf’/‘include’</h6> 
<p>把原来的数组和开辟新地址的对象，转变为字符串，之后通过indexOf判断下标是否为-1</p> 
<pre><code class="prism language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre> 
<p>缺点：开销大<br> 以及如果数组或者对象里面含有函数的话，就不能使用</p> 
<h6><a id="2_507"></a>2、通过对象的唯一键值对进行判断</h6> 
<pre><code class="prism language-javascript"><span class="token keyword">function</span> <span class="token function">findItem</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span>key<span class="token punctuation">,</span>val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> i
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token punctuation">}</span>

			<span class="token comment">// if(payload.name!='home'&amp;&amp; findItem(state.currentMenu,'title',obj.title)==-1){<!-- --></span>
			<span class="token comment">// 	state.currentMenu.push(obj)</span>
			<span class="token comment">// }</span>
</code></pre> 
<h6><a id="3findIndex_524"></a>3、使用findIndex</h6> 
<pre><code class="prism language-css"> <span class="token selector">tabsList: [</span>
            <span class="token punctuation">{<!-- --></span>
                <span class="token property">path</span><span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
                <span class="token property">name</span><span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
                <span class="token property">label</span><span class="token punctuation">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span>
                <span class="token property">icon</span><span class="token punctuation">:</span> <span class="token string">'home'</span>
            <span class="token punctuation">}</span>
        <span class="token selector">]
 selectMenu(state, val)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token selector">if (val.name === 'home')</span> <span class="token punctuation">{<!-- --></span>
                state.currentMenu = null
            <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{<!-- --></span>
                state.currentMenu = val
                //如果等于-1说明tabsList不存在那么插入，否则什么都不做
                let result = state.tabsList.<span class="token function">findIndex</span><span class="token punctuation">(</span>item =&gt; item.name === val.name<span class="token punctuation">)</span>
                result === -1 ? state.tabsList.<span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token string">''</span>

            <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="tab_547"></a>tab切换</h4> 
<p><img src="https://images2.imgbox.com/bd/81/o6NmNkzP_o.png" alt="在这里插入图片描述"><br> 1、实现显示，首页tag一开始就会存在，而且是不能进行删除的<br> 2、点击：切换到相应的路由，以及改变背景颜色，当点击左侧栏时，如果tag没有该菜单名称则新增，如果已经有了那么当前tag背景颜色加深<br> 3、可以删除，删除当前tag，如果是最后一个，那么路由调整到他前面那个标签，并且背景变蓝，如果不是最后一个那么路由调整到他后面那个标签对应的路由<br> 主要就是elemntUI中el-tag标签的使用</p> 
<pre><code class="prism language-css">  &lt;div style=<span class="token string">"margin-left: 10px; text-align: left; margin-top: 20px"</span>&gt;
    &lt;el-tag
      v-for=<span class="token string">"(tag) in $store.state.tabsList"</span>
      <span class="token punctuation">:</span>key=<span class="token string">"tag.title"</span>
      <span class="token punctuation">:</span>closable=<span class="token string">"tag.title!=='首页'"</span>//标签可关闭属性
      <span class="token atrule"><span class="token rule">@close</span>=<span class="token string">"handleClose(tag)"</span>
      style=<span class="token string">"margin-left: 10px"</span>
      <span class="token punctuation">:</span>effect=<span class="token string">"$route.meta.title==tag.title?'dark':'plain'"</span>//选中当前路由，tag变色
      @click=<span class="token string">"chosetag(tag)"</span>//点击tag进行路由跳转
    &gt;</span>
 <span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> tag.title <span class="token punctuation">}</span><span class="token punctuation">}</span>
    &lt;/el-tag&gt;
  &lt;/div&gt;
</code></pre> 
<pre><code class="prism language-css"><span class="token selector">export default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">data()</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">currentindex</span><span class="token punctuation">:</span> 0<span class="token punctuation">,</span>
      <span class="token property">ischose</span><span class="token punctuation">:</span> [false<span class="token punctuation">,</span> false<span class="token punctuation">,</span> false<span class="token punctuation">,</span> false]<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  computed:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">tags()</span> <span class="token punctuation">{<!-- --></span>
      return this.$store.tabsList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token selector">,
  methods:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">chosetag(tag)</span> <span class="token punctuation">{<!-- --></span>
// 点击tag时候，切换路由
console.<span class="token function">log</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token selector">this.$router.push(</span><span class="token punctuation">{<!-- --></span><span class="token property">path</span><span class="token punctuation">:</span>tag.path<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token selector">,
    handleClose(tag)</span> <span class="token punctuation">{<!-- --></span>//不完整，没有考虑删除tag标签与当前路由一致的情况
      this.$store.<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"closetag"</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>完整：</p> 
<pre><code class="prism language-css">    <span class="token selector">chosetag(tag)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">// 点击tag时候，切换路由
      this.$router.push(</span><span class="token punctuation">{<!-- --></span> <span class="token property">path</span><span class="token punctuation">:</span> tag.path <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token selector">,
    handleClose(tag, index)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">//删除当前tag，如果是最后一个，那么路由调整到他前面那个标签，并且背景变蓝，如果不是最后一个那么路由调整到他后面那个标签对应的路由
      //如果删掉这个标签与路由有关
      if (tag.path == this.$route.path)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">//如果删掉的是最后一个那么就让他前移
        if (index == this.$store.state.tabsList.length - 1)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token selector">this.$router.push(</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">path</span><span class="token punctuation">:</span> this.$store.state.tabsList[index - 1].path<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{<!-- --></span>
          <span class="token selector">//如果删掉的是中间的tag。那么让路由后移
          this.$router.push(</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">path</span><span class="token punctuation">:</span> this.$store.state.tabsList[index + 1].path<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      //如果删掉的这个标签与当前路由无关，那么就直接删除
      this.$store.<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">"closetag"</span><span class="token punctuation">,</span> tag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-css">		<span class="token selector">closetag(state,payload)</span><span class="token punctuation">{<!-- --></span>
			state.tabsList.<span class="token function">splice</span><span class="token punctuation">(</span>state.tabsList.<span class="token function">indexOf</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">,</span>1<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token selector">//选择标签，选择面包屑
		selectMenu(state,payload)</span><span class="token punctuation">{<!-- --></span>
			<span class="token selector">let obj=</span><span class="token punctuation">{<!-- --></span><span class="token property">path</span><span class="token punctuation">:</span>payload.path<span class="token punctuation">,</span><span class="token property">title</span><span class="token punctuation">:</span>payload.meta.title<span class="token punctuation">}</span>
			<span class="token selector">if(payload.name!='home'&amp;&amp; findItem(state.tabsList,'title',obj.title)==-1)</span><span class="token punctuation">{<!-- --></span>//判断之前的数组对象中，是否含有某个对象
				state.tabsList.<span class="token function">push</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token selector">currentMenu:[</span><span class="token punctuation">{<!-- --></span><span class="token property">path</span><span class="token punctuation">:</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token property">title</span><span class="token punctuation">:</span><span class="token string">'首页'</span><span class="token punctuation">}</span><span class="token selector">],
		tabsList:[</span><span class="token punctuation">{<!-- --></span><span class="token property">path</span><span class="token punctuation">:</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token property">title</span><span class="token punctuation">:</span><span class="token string">'首页'</span><span class="token punctuation">}</span>]
	<span class="token punctuation">}</span><span class="token selector">,
Vue.use(Vuex)
function findItem(arr,key,val)</span><span class="token punctuation">{<!-- --></span>
	<span class="token function">for</span><span class="token punctuation">(</span>let i=0<span class="token punctuation">;</span>i&lt;arr.length<span class="token punctuation">;</span>i++<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token selector">if(arr[i][key]==val)</span><span class="token punctuation">{<!-- --></span>
			return i
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	return -1
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="ECharts_647"></a>封装ECharts组件-折线图、直方图、饼图</h3> 
<p>场景：订单数量表，商品销量表，会员数量表等，以折线图、柱状图、饼状图等方式呈现<br> 数据传入组件<br> 数据形式：<br> title：标题；tooltip：提示框组件；legend：图例组件；xAxis：直角坐标轴中的x轴；yAxis：直角坐标轴中的y轴；seried：系列列表，每个系列通过type决定自己的图标类型<br> <img src="https://images2.imgbox.com/7e/7c/ZELeEDpT_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ab/ea/91cQvSLy_o.png" alt="在这里插入图片描述"><br> 对数据进行处理成series需要的格式</p> 
<pre><code class="prism language-css">      <span class="token selector">echartData:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">order:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token property">xData</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
          <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<pre><code class="prism language-css">	<span class="token selector">//数据处理
	//1、取出series需要的name部分-键名
	let keyArray=Object.keys(order.data[0])//['苹果','vivo','oppo','。。。']
	//2、循环添加数据
	keyArray.forEach(key=&gt;</span><span class="token punctuation">{<!-- --></span>
		<span class="token selector">this.echartData.order.series.push(</span><span class="token punctuation">{<!-- --></span>
			<span class="token property">name</span><span class="token punctuation">:</span>key===<span class="token string">'wechat'</span>?<span class="token string">'小程序'</span><span class="token punctuation">:</span>key<span class="token punctuation">,</span>
			<span class="token property">data</span><span class="token punctuation">:</span>order.data.<span class="token function">map</span><span class="token punctuation">(</span>item=&gt;item[key]<span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token property">type</span><span class="token punctuation">:</span><span class="token string">'line'</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/48/64/SpqP3eEg_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-css">echarts.vue
&lt;template&gt;
  &lt;div style=<span class="token string">"height: 100%"</span> ref=<span class="token string">"echart"</span>&gt;rcharts&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import * as echarts from <span class="token string">"echarts"</span><span class="token punctuation">;</span>
<span class="token selector">export default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token selector">props:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">//接受父组件数据：1、chartData（series数据+x轴坐标系数据）
    //2、isAxisChart（是否有x坐标系，如果为false，则xData就为空）
    chartData:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">type: Object,
      default()</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token property">xData</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
          <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token selector">,
    isAxisChart:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token property">type</span><span class="token punctuation">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token property">default</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token selector">,
  computed:</span><span class="token punctuation">{<!-- --></span>
<span class="token selector">options()</span><span class="token punctuation">{<!-- --></span>
	return this.isAxisChart?this.<span class="token property">axisOption</span><span class="token punctuation">:</span>this.normalOption
<span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
  data()</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">echart: null,
      axisOption:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">legend:</span> <span class="token punctuation">{<!-- --></span> <span class="token selector">textStyle:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">"#333"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token selector">,
        grid:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">left</span><span class="token punctuation">:</span> <span class="token string">"20%"</span> <span class="token punctuation">}</span><span class="token selector">,
        tooltip:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">trigger</span><span class="token punctuation">:</span> <span class="token string">"axis"</span> <span class="token punctuation">}</span><span class="token selector">,
        xAxis:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token selector">type: "category",
          data: [], //横坐标
          axisLine:</span> <span class="token punctuation">{<!-- --></span> <span class="token selector">lineStyle:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">"#17b3a3"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token selector">,
          axisLabel:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">"#333"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">boundaryGap</span><span class="token punctuation">:</span> false<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token selector">,
        yAxis: [</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token selector">type: "value",
            axisLine:</span> <span class="token punctuation">{<!-- --></span> <span class="token selector">lineStyle:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">"#17b3a3"</span><span class="token punctuation">,</span> <span class="token property">type</span><span class="token punctuation">:</span> <span class="token string">"dashed"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token selector">,
            axisLabel:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">color</span><span class="token punctuation">:</span> <span class="token string">"#333"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        ]<span class="token punctuation">,</span>
        <span class="token property">color</span><span class="token punctuation">:</span> [
          <span class="token string">"#2ec7c9"</span><span class="token punctuation">,</span>
          <span class="token string">"#b6a2de"</span><span class="token punctuation">,</span>
          <span class="token string">"#5ab1ef"</span><span class="token punctuation">,</span>
          <span class="token string">"#ffb980"</span><span class="token punctuation">,</span>
          <span class="token string">"#d87a80"</span><span class="token punctuation">,</span>
          <span class="token string">"#8d98b3"</span><span class="token punctuation">,</span>
          <span class="token string">"#e5cf0d"</span><span class="token punctuation">,</span>
          <span class="token string">"#97b552"</span><span class="token punctuation">,</span>
          <span class="token string">"#95706d"</span><span class="token punctuation">,</span>
          <span class="token string">"#dc69aa"</span><span class="token punctuation">,</span>
          <span class="token string">"#07a2a4"</span><span class="token punctuation">,</span>
          <span class="token string">"#9a7fd1"</span><span class="token punctuation">,</span>
          <span class="token string">"#588dd5"</span><span class="token punctuation">,</span>
          <span class="token string">"#f5994e"</span><span class="token punctuation">,</span>
          <span class="token string">"#c05050"</span><span class="token punctuation">,</span>
          <span class="token string">"#59678c"</span><span class="token punctuation">,</span>
          <span class="token string">"#c9ab00"</span><span class="token punctuation">,</span>
          <span class="token string">"#7eb00a"</span><span class="token punctuation">,</span>
          <span class="token string">"#6f5553"</span><span class="token punctuation">,</span>
          <span class="token string">"#c14089"</span><span class="token punctuation">,</span>
        ]<span class="token punctuation">,</span>
        <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span> //要展示的数据
      <span class="token punctuation">}</span><span class="token selector">,
      normalOption:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">tooltip:</span> <span class="token punctuation">{<!-- --></span> <span class="token property">trigger</span><span class="token punctuation">:</span> <span class="token string">"item"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">color</span><span class="token punctuation">:</span> [
          <span class="token string">"#0f78f4"</span><span class="token punctuation">,</span>
          <span class="token string">"#dd536b"</span><span class="token punctuation">,</span>
          <span class="token string">"#9462e5"</span><span class="token punctuation">,</span>
          <span class="token string">"#a6a6a6"</span><span class="token punctuation">,</span>
          <span class="token string">"#e1bb22"</span><span class="token punctuation">,</span>
          <span class="token string">"#39c362"</span><span class="token punctuation">,</span>
          <span class="token string">"#3ed1cf"</span><span class="token punctuation">,</span>
        ]<span class="token punctuation">,</span>
        <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token selector">,
  mounted()</span> <span class="token punctuation">{<!-- --></span>
    this.<span class="token function">initChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	//resize改变图标尺寸，在容器大小发生改变时需要手动调用，（因为侧边栏是可以收缩的，所以图标根据是否收缩来改变尺寸）
	window.<span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span>this.resizeChart<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token selector">,
  watch:</span> <span class="token punctuation">{<!-- --></span>
	<span class="token selector">//实际中数据是在不断变化的
    chartData:</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">handler: function ()</span> <span class="token punctuation">{<!-- --></span>
        this.<span class="token function">initChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">deep</span><span class="token punctuation">:</span> true<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token selector">,
  methods:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token selector">initChart()</span> <span class="token punctuation">{<!-- --></span>
      //获取处理好的数据
      this.<span class="token function">initChartData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token selector">if (this.echart)</span> <span class="token punctuation">{<!-- --></span>
        this.echart.<span class="token function">setOption</span><span class="token punctuation">(</span>this.options<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{<!-- --></span>
        this.echart = echarts.<span class="token function">init</span><span class="token punctuation">(</span>this.$refs.echart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        this.echart.<span class="token function">setOption</span><span class="token punctuation">(</span>this.options<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token selector">,
    //处理数据
    initChartData()</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">if (this.isAxisChart)</span> <span class="token punctuation">{<!-- --></span>
        this.axisOption.xAxis.data = this.chartData.xData<span class="token punctuation">;</span>
        this.axisOption.series = this.chartData.series<span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token selector">else</span> <span class="token punctuation">{<!-- --></span>
        //饼状图不需要横坐标
        this.normalOption.series = this.chartData.series<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token selector">,
	resizeChart()</span><span class="token punctuation">{<!-- --></span>
		this.echart?this.echart.<span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token string">""</span>
	<span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token selector">,
  destoryed()</span><span class="token punctuation">{<!-- --></span>
	window.<span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span>this.resizeChart<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
&lt;/script&gt;

&lt;style&gt;&lt;/style&gt;
</code></pre> 
<p>在使用这个组件的时候，父组件只要传入必要的数据即可</p> 
<pre><code class="prism language-css">     &lt;el-card style=<span class="token string">"margin-top: 20px"</span>
        &gt;&lt;<span class="token property">Echarts</span>
          <span class="token punctuation">:</span>chartData=<span class="token string">"echartData.order"</span>
          style=<span class="token string">"height: 280px"</span>
          v-if=<span class="token string">"echartData.order.xData.length"</span>
        &gt;&lt;/Echarts&gt;
      &lt;/el-card&gt;
      &lt;el-row&gt;
        &lt;<span class="token property">el-col</span> <span class="token punctuation">:</span>span=<span class="token string">"12"</span> style=<span class="token string">"margin-top: 20px"</span>&gt;
          &lt;el-card&gt;
            &lt;<span class="token property">Echarts</span>
              <span class="token punctuation">:</span>chartData=<span class="token string">"echartData.user"</span>
              style=<span class="token string">"height: 240px"</span>
              v-if=<span class="token string">"echartData.user.xData.length"</span>
            &gt;&lt;/Echarts&gt;
          &lt;/el-card&gt;
        &lt;/el-col&gt;
        &lt;<span class="token property">el-col</span> <span class="token punctuation">:</span>span=<span class="token string">"12"</span> style=<span class="token string">"margin-top: 20px"</span>&gt;
          &lt;el-card&gt;
            &lt;<span class="token property">Echarts</span>
              <span class="token punctuation">:</span>chartData=<span class="token string">"echartData.video"</span>
              style=<span class="token string">"height: 240px"</span>
              v-if=<span class="token string">"echartData.video.series.length"</span>
              <span class="token punctuation">:</span>isAxisChart=<span class="token string">"false"</span>
            &gt;&lt;/Echarts&gt;
          &lt;/el-card&gt;
        &lt;/el-col&gt;
      &lt;/el-row&gt;
    &lt;/el-col&gt;
  &lt;/el-row&gt;
</code></pre> 
<pre><code class="prism language-css">   <span class="token selector">echartData:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token selector">order:</span> <span class="token punctuation">{<!-- --></span>
          //折线图
          <span class="token property">xData</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
          <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token selector">,
        user:</span> <span class="token punctuation">{<!-- --></span>
          //直方图
          <span class="token property">xData</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
          <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token selector">,
        //饼状图，不需要横坐标
        video:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token property">series</span><span class="token punctuation">:</span> []<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-css">  <span class="token selector">getTableData()</span> <span class="token punctuation">{<!-- --></span>
      <span class="token selector">request(</span><span class="token punctuation">{<!-- --></span>
        <span class="token property">url</span><span class="token punctuation">:</span> <span class="token string">"/home/getData"</span><span class="token punctuation">,</span>
        <span class="token property">methods</span><span class="token punctuation">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token selector">).then((res) =&gt;</span> <span class="token punctuation">{<!-- --></span>
        this.tableData = res.data.data.tableData<span class="token punctuation">;</span> //获取表格数据
        //订单折线图
        const order = res.data.data.orderData<span class="token punctuation">;</span>
        this.echartData.order.xData = order.date<span class="token punctuation">;</span>
        //数据处理
        //1、取出series需要的name部分-键名
        let keyArray = Object.<span class="token function">keys</span><span class="token punctuation">(</span>order.data[0]<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token selector">//['苹果','vivo','oppo','。。。']
        //2、循环添加数据
        keyArray.forEach((key) =&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token selector">this.echartData.order.series.push(</span><span class="token punctuation">{<!-- --></span>
            <span class="token property">name</span><span class="token punctuation">:</span> key === <span class="token string">"wechat"</span> ? <span class="token string">"小程序"</span> <span class="token punctuation">:</span> key<span class="token punctuation">,</span>
            <span class="token property">data</span><span class="token punctuation">:</span> order.data.<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> =&gt; item[key]<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token property">type</span><span class="token punctuation">:</span> <span class="token string">"line"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        //用户柱状图
        const user = res.data.data.userData<span class="token punctuation">;</span>
        this.echartData.user.xData = user.<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> =&gt; item.date<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token selector">this.echartData.user.series.push(</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">name</span><span class="token punctuation">:</span> <span class="token string">"新增客户"</span><span class="token punctuation">,</span>
          <span class="token property">data</span><span class="token punctuation">:</span> user.<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> =&gt; item.new<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token property">type</span><span class="token punctuation">:</span> <span class="token string">"bar"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token selector">this.echartData.user.series.push(</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">name</span><span class="token punctuation">:</span> <span class="token string">"活跃客户"</span><span class="token punctuation">,</span>
          <span class="token property">data</span><span class="token punctuation">:</span> user.<span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> =&gt; item.active<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token property">type</span><span class="token punctuation">:</span> <span class="token string">"bar"</span><span class="token punctuation">,</span>
          <span class="token property">barGap</span><span class="token punctuation">:</span> 0<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        //饼状图
        const video = res.data.data.videoData<span class="token punctuation">;</span>
        <span class="token selector">this.echartData.video.series.push(</span><span class="token punctuation">{<!-- --></span>
          <span class="token property">data</span><span class="token punctuation">:</span> video<span class="token punctuation">,</span>
          <span class="token property">type</span><span class="token punctuation">:</span> <span class="token string">"pie"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>组件封装思路？？？？</p> 
<h3><a id="mockjs_920"></a>伪造数据，使用mock.js更加方便</h3> 
<pre><code class="prism language-css">npm install mockjs
</code></pre> 
<pre><code class="prism language-css">main.js
import router from <span class="token string">'./router'</span>
import store from <span class="token string">'./store'</span>
import <span class="token string">'./mock'</span>
</code></pre> 
<h3><a id="_932"></a>用户管理</h3> 
<p>table表格组件的使用<br> form表单实现对表格数据的增删改查</p> 
<h4><a id="_935"></a>将从后端得到的数据渲染到表格中</h4> 
<pre><code class="prism language-javascript">      <span class="token literal-property property">tableLabel</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">//表格的label标签，表头</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"姓名"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"年龄"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"sex"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"性别"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"birth"</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"出生日期"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token string">"addr"</span><span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"地址"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tableData</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//表格数据，从后端请求回来的数据</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"tableData"</span> stripe style<span class="token operator">=</span><span class="token string">"width: 100%"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"序号"</span> width<span class="token operator">=</span><span class="token string">"180"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
        <span class="token comment">//序号部分是写死的数据，结合element-ui文档</span>
          <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token string">"margin-left: 10px"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span>
            <span class="token punctuation">(</span>config<span class="token punctuation">.</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> scope<span class="token punctuation">.</span>$index <span class="token operator">+</span> <span class="token number">1</span>
          <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column
        <span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">"item.prop"</span>
        <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
        width<span class="token operator">=</span><span class="token string">"180"</span>
        v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in tableLabel"</span>
        <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.label"</span>
      <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"操作"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button size<span class="token operator">=</span><span class="token string">"mini"</span> @click<span class="token operator">=</span><span class="token string">"handleEdit(scope.$index, scope.row)"</span>
            <span class="token operator">&gt;</span>编辑<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button
          <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
            size<span class="token operator">=</span><span class="token string">"mini"</span>
            type<span class="token operator">=</span><span class="token string">"danger"</span>
            @click<span class="token operator">=</span><span class="token string">"handleDelete(scope.$index, scope.row)"</span>
            <span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button
          <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
</code></pre> 
<p>同时在使用表格的时候，一般都需要加分页器</p> 
<pre><code class="prism language-javascript">      <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">load</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 分页 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"block"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination
        layout<span class="token operator">=</span><span class="token string">"prev, pager, next"</span>
        <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">"config.total"</span>
        <span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">"20"</span>
        @current<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"changePage"</span>
      <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>pagination<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>获取数据：表格数据、分页数据（后端实现分页）</p> 
<pre><code class="prism language-javascript"><span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">getdata</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token comment">//name用来实现对表格数据的筛选</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>load <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">//搜索时，页码需要设置为1，才能正确返回数据格式，因为数据是从第一页开始返回的</span>
      name <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">;</span>
      <span class="token function">request1</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/user/getUser"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>page<span class="token punctuation">,</span>
          name<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>total <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        <span class="token keyword">const</span> response <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> response<span class="token punctuation">.</span>list<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tableData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tableData<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">//对返回的数据进行修改，不用render函数</span>
          item<span class="token punctuation">.</span>sex <span class="token operator">=</span> item<span class="token punctuation">.</span>sex <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">"男"</span> <span class="token operator">:</span> <span class="token string">"女"</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> item<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="_1024"></a>实现删除数据</h4> 
<pre><code class="prism language-javascript">    <span class="token comment">//删除元素</span>
    <span class="token function">handleDelete</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> row</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//不是删除获取来的数据，要返回给后端进行删除</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token string">"此操作将永久删除该文件, 是否继续?"</span><span class="token punctuation">,</span> <span class="token string">"提示"</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">"确定"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">"取消"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token keyword">let</span> id <span class="token operator">=</span> row<span class="token punctuation">.</span>id<span class="token punctuation">;</span> <span class="token comment">//根据唯一的id号去后端进行删除</span>
          <span class="token function">request1</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/user/del"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"get"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> id <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"success"</span><span class="token punctuation">,</span>
              <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"删除成功!"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getdata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">"info"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"已取消删除"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>###实现修改操作–结合form表单</p> 
<pre><code class="prism language-javascript">    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 更新用户、新增用户 form表单<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog
      <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">"oprateType == 'edit' ? '更新用户' : '新增用户'"</span>
      <span class="token operator">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"isshow"</span>
      width<span class="token operator">=</span><span class="token string">"30%"</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span slot<span class="token operator">=</span><span class="token string">"footer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"dialog-footer"</span>
        <span class="token operator">&gt;</span><span class="token operator">&lt;</span>el<span class="token operator">-</span>form
          label<span class="token operator">-</span>position<span class="token operator">=</span><span class="token string">"right"</span>
          label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"80px"</span>
          <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"formLabelAlign"</span>
          ref<span class="token operator">=</span><span class="token string">"form"</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item
            <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
            v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in formLable"</span>
            <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.label"</span>
          <span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formLabelAlign[item.model]"</span>
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type == 'input'"</span>
              <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"'请输入' + item.label"</span>
            <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>

            <span class="token operator">&lt;</span>el<span class="token operator">-</span>select
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type == 'select'"</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formLabelAlign[item.model]"</span>
            <span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>option
                v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in item.opts"</span>
                <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.value"</span>
                <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span>
                <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"item.value"</span>
              <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker
              v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type == 'date'"</span>
              placeholder<span class="token operator">=</span><span class="token string">"'选择日期'"</span>
              v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"formLabelAlign[item.model]"</span>
              type<span class="token operator">=</span><span class="token string">"date"</span>
              value<span class="token operator">-</span>format<span class="token operator">=</span><span class="token string">"yyy-MM-dd"</span>
            <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"isshow = false"</span><span class="token operator">&gt;</span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"confirm"</span><span class="token operator">&gt;</span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="form_1110"></a>结合表单实现添加操作–使用form</h4> 
<h4><a id="form_1111"></a>使用form表单实现筛选</h4> 
<pre><code class="prism language-javascript">  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 对表格数据的操作 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"manage-header"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"addUser"</span> size<span class="token operator">=</span><span class="token string">"small"</span><span class="token operator">&gt;</span><span class="token operator">+</span>新增<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>inline<span class="token operator">=</span><span class="token string">"true"</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"searchform"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"demo-form-inline"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>input
            v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"searchform.keyword"</span>
            placeholder<span class="token operator">=</span><span class="token string">"输入关键字"</span>
          <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
            type<span class="token operator">=</span><span class="token string">"primary"</span>
            @click<span class="token operator">=</span><span class="token string">"getdata(searchform.keyword)"</span>
            size<span class="token operator">=</span><span class="token string">"small"</span>
            <span class="token operator">&gt;</span>搜索<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button
          <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<p>前端+后端。自己mock数据的使用，增删改查都是在数组上进行的，因此mock函数里面，使用数组方法：filter、map等<br> ：进一步：对table表格以及form表单进行封装</p> 
<pre><code class="prism language-javascript"> <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"common-table"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>stripe	是否为斑马纹  v<span class="token operator">-</span>loading在请求数据未返回的时间有个加载的图案<span class="token punctuation">,</span>提高用户体验<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>table <span class="token operator">:</span>data<span class="token operator">=</span><span class="token string">"tableData"</span> height<span class="token operator">=</span><span class="token string">"90%"</span> stripe v<span class="token operator">-</span>loading<span class="token operator">=</span><span class="token string">"config.loading"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>第一行为序号 默认写死<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"序号"</span> width<span class="token operator">=</span><span class="token string">"85"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span> 这里取到当前单元格<span class="token punctuation">,</span>scope<span class="token punctuation">.</span>$index就是索引 默认从<span class="token number">0</span>开始这里从<span class="token number">1</span>开始<span class="token operator">--</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token string">"margin-left: 10px"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">20</span> <span class="token operator">+</span> scope<span class="token punctuation">.</span>$index <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>show<span class="token operator">-</span>overflow<span class="token operator">-</span>tooltip 当内容过长被隐藏时显示 tooltip<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column show<span class="token operator">-</span>overflow<span class="token operator">-</span>tooltip v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in tableLabel"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.prop"</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span> <span class="token operator">:</span>width<span class="token operator">=</span><span class="token string">"item.width ? item.width : 125"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>其实可以在上面<span class="token operator">:</span>prop<span class="token operator">=</span><span class="token string">"item.prop"</span>就可以显示表单数据 这里设置插槽的方式话更加灵活 我们可以写样式<span class="token operator">--</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>span style<span class="token operator">=</span><span class="token string">"margin-left: 10px"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> scope<span class="token punctuation">.</span>row<span class="token punctuation">[</span>item<span class="token punctuation">.</span>prop<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>操作<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column label<span class="token operator">=</span><span class="token string">"操作"</span> min<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"180"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">"scope"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button size<span class="token operator">=</span><span class="token string">"min"</span> @click<span class="token operator">=</span><span class="token string">"handleEdit(scope.row)"</span><span class="token operator">&gt;</span>编辑<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>el<span class="token operator">-</span>button size<span class="token operator">=</span><span class="token string">"min"</span> type<span class="token operator">=</span><span class="token string">"danger"</span> @click<span class="token operator">=</span><span class="token string">"handleDelete(scope.row)"</span><span class="token operator">&gt;</span>删除<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">-</span>column<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>table<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>分页<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>pagination <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"pager"</span> layout<span class="token operator">=</span><span class="token string">"prev, pager, next"</span> <span class="token operator">:</span>total<span class="token operator">=</span><span class="token string">"config.total"</span> <span class="token operator">:</span>current<span class="token operator">-</span>page<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"config.page"</span> @current<span class="token operator">-</span>change<span class="token operator">=</span><span class="token string">"changePage"</span> <span class="token operator">:</span>page<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">"20"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>pagination<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token comment">// config分页数据，这里面至少包括当前页码 总数量</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">tableData</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
            <span class="token literal-property property">tableLabel</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
            <span class="token literal-property property">config</span><span class="token operator">:</span> Object
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">//更新</span>
            <span class="token function">handleEdit</span><span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'edit'</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//删除</span>
            <span class="token function">handleDelete</span><span class="token punctuation">(</span><span class="token parameter">row</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'del'</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">//分页</span>
            <span class="token function">changePage</span><span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'changePage'</span><span class="token punctuation">,</span> page<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript">   <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>是否行内表单<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form <span class="token operator">:</span>inline<span class="token operator">=</span><span class="token string">"inline"</span> <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"form"</span> ref<span class="token operator">=</span><span class="token string">"form"</span> label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"100px"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>标签显示名称<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in formLabel"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.model"</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>根据type来显示是什么标签<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form[item.model]"</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">"'请输入' + item.label"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type==='input'"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form[item.model]"</span> placeholder<span class="token operator">=</span><span class="token string">"请选择"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type === 'select'"</span><span class="token operator">&gt;</span>
                 <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>如果是select或者checkbox 、Radio就还需要选项信息<span class="token operator">--</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>el<span class="token operator">-</span>option v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in item.opts"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.value"</span> <span class="token operator">:</span>label<span class="token operator">=</span><span class="token string">"item.label"</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"item.value"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>select<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span><span class="token keyword">switch</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form[item.model]"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type === 'switch'"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span><span class="token keyword">switch</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"form[item.model]"</span> type<span class="token operator">=</span><span class="token string">"date"</span> placeholder<span class="token operator">=</span><span class="token string">"选择日期"</span> v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"item.type === 'date'"</span> value<span class="token operator">-</span>format<span class="token operator">=</span><span class="token string">"yyyy-MM-dd"</span><span class="token operator">&gt;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>date<span class="token operator">-</span>picker<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span><span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//inline 属性可以让表单域变为行内的表单域</span>
        <span class="token comment">//form 表单数据 formLabel 是标签数据</span>
        <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">inline</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
            <span class="token literal-property property">form</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
            <span class="token literal-property property">formLabel</span><span class="token operator">:</span> Array
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> 
<pre><code class="prism language-javascript">  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"manage"</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog <span class="token operator">:</span>title<span class="token operator">=</span><span class="token string">"operateType === 'add' ? '新增用户' : '更新用户'"</span> <span class="token operator">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"isShow"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>common<span class="token operator">-</span>form <span class="token operator">:</span>formLabel<span class="token operator">=</span><span class="token string">"operateFormLabel"</span> <span class="token operator">:</span>form<span class="token operator">=</span><span class="token string">"operateForm"</span> ref<span class="token operator">=</span><span class="token string">"form"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>common<span class="token operator">-</span>form<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">"footer"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"dialog-footer"</span><span class="token operator">&gt;</span>

			
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>button @click<span class="token operator">=</span><span class="token string">"isShow = false"</span><span class="token operator">&gt;</span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"confirm"</span><span class="token operator">&gt;</span>确 定<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"manage-header"</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"addUser"</span><span class="token operator">&gt;</span><span class="token operator">+</span> 新增<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>common<span class="token operator">-</span>form inline <span class="token operator">:</span>formLabel<span class="token operator">=</span><span class="token string">"formLabel"</span> <span class="token operator">:</span>form<span class="token operator">=</span><span class="token string">"searchFrom"</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"getList(searchFrom.keyword)"</span><span class="token operator">&gt;</span>搜索<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>common<span class="token operator">-</span>form<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>依次是<span class="token operator">:</span> 表格数据 表格标签数据 分页数据  列表方法 更新方法 删除方法<span class="token operator">--</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>common<span class="token operator">-</span>table <span class="token operator">:</span>tableData<span class="token operator">=</span><span class="token string">"tableData"</span> <span class="token operator">:</span>tableLabel<span class="token operator">=</span><span class="token string">"tableLabel"</span> <span class="token operator">:</span>config<span class="token operator">=</span><span class="token string">"config"</span> @changePage<span class="token operator">=</span><span class="token string">"getList()"</span> @edit<span class="token operator">=</span><span class="token string">"editUser"</span> @del<span class="token operator">=</span><span class="token string">"delUser"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>common<span class="token operator">-</span>table<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="_1245"></a>权限管理+登录验证+动态路由</h3> 
<p>场景：<br> 1、登录权限验证：部分页面没有登录不允许访问<br> 2、角色验证：在登录权限的基础上加上角色验证，比如同一个页面两种角色权限看到展示的内容模块不同</p> 
<p>1、不同的用户会根据权限不同，在后台管理系统中渲染出不同的菜单栏<br> 2、用户登录之后，会获取路由菜单和一个token，之后跳转的页面都需要带着token<br> 3、用户退出登录，清除动态路由，清除token，跳转到login页面<br> 4、如果当前没有token，那么跳转到任何页面都应该重定向到login页面</p> 
<p>参考：<br> <a href="https://github.com/yudiandemingzi/mall-manage-system">github</a></p> 
<h4><a id="mock_1260"></a>mock数据</h4> 
<p>模拟后端返回的数据源<br> 一般的后台数据库中，就是分为一个user用户表，一个role权限路由表</p> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> dynamicUser <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf3-ttcdn-tos.pstatp.com/img/user-avatar/ccb565eca95535ab2caac9f6129b8b7a~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"管理员 - admin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"654321"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"rtVrM4PhiFK8PNopqWuSjsc1n02oKc3f"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Home/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/MallManage/MallManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"用户管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/UserManage/UserManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/other"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/index"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/PageOne"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面2"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/PageTwo"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"普通用户"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/6364348965908f03e6a2dd188816e927~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"普通用户 - people"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"people"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">"123456"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"4es8eyDwznXrCX3b3439EmTFnIkrBYWh"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Home/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/MallManage/MallManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">getdynamicUser</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>可以看出，一般登录之后，返回的数据里面，包含了一个用户的姓名、头像以及token。<br> ：</p> 
<blockquote> 
 <p>处理方法：所有的路由权限等，都交给后端，后端根据前端的账号密码，去获取角色权限，处理路由，返回的就是已经匹配对应角色的路由</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> dynamicUser <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf3-ttcdn-tos.pstatp.com/img/user-avatar/ccb565eca95535ab2caac9f6129b8b7a~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"管理员 - admin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token comment">// password: "654321",</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"rtVrM4PhiFK8PNopqWuSjsc1n02oKc3f"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Home/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/MallManage/MallManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"用户管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/UserManage/UserManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/other"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/index"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/PageOne"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面2"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Other/PageTwo"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"普通用户"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/6364348965908f03e6a2dd188816e927~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"普通用户 - people"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"people"</span><span class="token punctuation">,</span>
    <span class="token comment">// password: "123456",</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"4es8eyDwznXrCX3b3439EmTFnIkrBYWh"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Home/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/MallManage/MallManage"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">getdynamicUser</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先判断用户是否存在</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">||</span> username <span class="token operator">===</span> <span class="token string">"people"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//判断账号和密码是否对象</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"654321"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"peopel"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"123456"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"用户不存在"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre> 
<blockquote> 
 <p>password一般是后端不可能带出来的，routes就是管理员和普通用户的差异化动态路由<br> 在写差异化动态路控制不同用户访问不同的页面，还可以用另外一种思路实现：把完整的静态路由都写在前端router中，然后根据router的meta属性，协商对于user的role，登录的时候，在根据后端返回的权限，去过滤对比权限，把该用户级角色所对应的路由处理好，缺点：想要修改就需要重新打包处理，而且不能经过后台动态新增删除</p> 
</blockquote> 
<pre><code class="prism language-javascript"><span class="token comment">//代码位置：router/index.js</span>
 <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> layout<span class="token punctuation">,</span> <span class="token comment">//整体页面的布局(包含左侧菜单跟主内容区域)</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'main'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> main<span class="token punctuation">,</span>
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span> <span class="token comment">//菜单名称</span>
        <span class="token literal-property property">roles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token string">'admin'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//当前菜单哪些角色可以看到</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

</code></pre> 
<h4><a id="_1505"></a>登录页</h4> 
<p>表单处理</p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>form
    <span class="token operator">:</span>model<span class="token operator">=</span><span class="token string">"dynamicValidateForm"</span>
    ref<span class="token operator">=</span><span class="token string">"dynamicValidateForm"</span>
    label<span class="token operator">-</span>width<span class="token operator">=</span><span class="token string">"100px"</span>
    <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"demo-dynamic"</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>用户登录<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item
      prop<span class="token operator">=</span><span class="token string">"username"</span>
      label<span class="token operator">=</span><span class="token string">"用户名"</span>
      <span class="token operator">:</span>rules<span class="token operator">=</span>"<span class="token punctuation">[</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'请输入用户名'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token string">'blur'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'用户名长度不能小于3'</span><span class="token punctuation">,</span> <span class="token literal-property property">trigger</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'blur'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>"
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"dynamicValidateForm.username"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item
      prop<span class="token operator">=</span><span class="token string">"password"</span>
      label<span class="token operator">=</span><span class="token string">"密码"</span>
      <span class="token operator">:</span>rules<span class="token operator">=</span><span class="token string">"[{ required: true, message: '请输入密码', trigger: 'blur' }]"</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"dynamicValidateForm.password"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>input<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitForm('dynamicValidateForm')"</span>
        <span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button
      <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{<!-- --></span> request1 <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"api/config"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"loginView"</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">dynamicValidateForm</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">submitForm</span><span class="token punctuation">(</span><span class="token parameter">formName</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">[</span>formName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">valid</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>dynamicValidateForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>valid<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          <span class="token function">request1</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/permission/getUser"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dynamicValidateForm<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/main'</span><span class="token punctuation">,</span><span class="token function-variable function">componnet</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'views/Mainindex'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"error submit!!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="_1579"></a>验证表单后的路由跳转问题</h4> 
<h5><a id="addRoute_1580"></a>动态路由addRoute()</h5> 
<blockquote> 
 <p>vue2中可以通过路由的addRoutes()和addRoute()两种方法实现路由动态渲染<br> 但是在Vue3中，付日期了addRoutes()方法，只保留了addRoute()单个添加路由配置的方法<br> router.addRoute()接受的是一个路由规则，也就是一个对象，或者接受一个字符串和一个对象</p> 
</blockquote> 
<p>使用场景：</p> 
<blockquote> 
 <p>假设登录的使用是普通用户，我们展示默认页面，普通用户不可以去访问管理员的页面，管理员可以访问所有页面</p> 
</blockquote> 
<p>当从后端根据不同用户返回可以访问的路由时，需要将他们添加到动态路由中</p> 
<pre><code class="prism language-javascript">    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
		<span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"s-home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"views/Home/Home"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
</code></pre> 
<pre><code class="prism language-javascript">    <span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> router</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//添加动态路由 主路由为Main.vue</span>
      <span class="token keyword">let</span> currentMenu <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views/Mainindex</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">//将根据登录用户返回的路由添加到main的子路由中</span>
    <span class="token comment">//   currentMenu.children.push(...state.currentMenu);//...state.currentMenu 会造成里面import导入的component属性丢失</span>
	currentMenu<span class="token punctuation">.</span>children<span class="token operator">=</span>state<span class="token punctuation">.</span>currentMenu
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentMenu<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
      router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>currentMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>但是发现问题：import导入的component属性，在复制之后，children里面并没有该属性，因此需要修改</p> 
<pre><code class="prism language-javascript">        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"setting"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Other/PageOne"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"setting"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面2"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Other/PageTwo"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>先通过url保存基本的路径，在添加动态路由的时候，根据实际文件位置来进行导入</p> 
<pre><code class="prism language-javascript">      <span class="token comment">//将根据登录用户返回的路由添加到main的子路由中</span>
      <span class="token comment">//   currentMenu.children.push(...state.currentMenu);//...state.currentMenu 会造成里面import导入的component属性丢失</span>
	  <span class="token comment">//如果是以及菜单，那么菜单名称肯定有路由 如果是二级菜单，一级没有，二级有路由</span>
      state<span class="token punctuation">.</span>currentMenu<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
          item<span class="token punctuation">.</span>children <span class="token operator">=</span> item<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            item<span class="token punctuation">.</span><span class="token function-variable function">component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> item<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          currentMenu<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
          item<span class="token punctuation">.</span><span class="token function-variable function">component</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@/views</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>item<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          currentMenu<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>currentMenu<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>
      router<span class="token punctuation">.</span><span class="token function">addRoute</span><span class="token punctuation">(</span>currentMenu<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/89/3a/6gugk6hW_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="importrequire_1669"></a>import和require</h5> 
<p>模块化中使用</p> 
<blockquote> 
 <p>require是AMD规范引入方式；是运行时调用，苏搜易require理论上可以运用在代码的任何地方；是负值过程，require的结果就是对象、数字、字符串、函数等，再把require的结果赋值给某个变量<br> import是ES6的一个语法标准；是编译时调用，必须放在文件开头；是解构过程</p> 
</blockquote> 
<h5><a id="namepath_1674"></a>路由跳转用name还是path</h5> 
<p>尽量用name：前期配置的路由路径后期可能会修改，如果路由跳转使用path，有时候path为‘/’，不利于维护，直接用唯一的name进行跳转<br> 现在已经可以实现：动态路由+登录验证+权限管理<br> 但是还没有将token考虑进去<br> 这一部分的登录验证是mock最简单的时候，当有多个用户时，反正都是后端完成，是否验证成功，我们需要通过form表单将账号和密码传递过去</p> 
<pre><code class="prism language-javascript">  <span class="token function-variable function">getdynamicUser</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先判断用户是否存在</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">||</span> username <span class="token operator">===</span> <span class="token string">"people"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//判断账号和密码是否对象</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"654321"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"people"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"123456"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"密码错误"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="token_1706"></a>token相关</h4> 
<blockquote> 
 <p>登录所做的事情：<br> 1、获取当前用户对应的菜单栏的菜单，并存储到vuex和cookies中<br> 2、获取当前用户的Token，存储到vuex和cookies中<br> 3、获取当前的菜单生成动态路由</p> 
</blockquote> 
<blockquote> 
 <p>退出登录所做的<br> 1、清除vuex和cookie中的菜单<br> 2、清除vuex和cookie中的token</p> 
</blockquote> 
<blockquote> 
 <p>路由守卫所做的：<br> 因为是后台管理系统，所以在每切换一个路由都需要判断当前token是否存在</p> 
</blockquote> 
<h4><a id="sessionStoragelocalStoragecookie_1721"></a>sessionStorage,localStorage,cookie</h4> 
<p>首先，HTTP是无状态协议，不能保存每一次请求的状态，所以需要给客户端增加Cookie来保存客户端状态</p> 
<blockquote> 
 <p>Cookie主要用于用户识别和状态管理（比如网页常见的记住密码）</p> 
</blockquote> 
<p>HTML5提供了两种在客户端存储数据的新方法：localStorage和sessionStorage</p> 
<p><img src="https://images2.imgbox.com/64/70/gLXqc67e_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="tokencookie_1728"></a>token和cookie的关系</h4> 
<p>cookie是客户端存储信息的方式，token是信息本身<br> HTTP进行数据交换的时候是无状态的，因此每次都需要重新验证身份<br> Cookie可以作为一个状态保存的状态机，用来保存用户的相关登录状态，当第一次验证通过后，服务器通过set-cookie令客户端将自己的cookie保存起来，当下一次再次发送请求的时候，直接带上cookie即可。而服务器检测到客户端发送的cookie与其保存的cookie值保持一致时，则直接信任该连接，不再进行验证操作</p> 
<p>Token：类似cookie的一种验证信息，客户端通过登录验证后，服务器会返回给客户端一个加密的token，当客户端再次向服务器发起连接时，带上token，服务器直接对token进行校验即可完成权限校验</p> 
<p>Cookie作为HTTP规范，存在跨域限制。<br> Token需要自己存储，自己进行发送，不存在跨域限制</p> 
<h5><a id="_1739"></a>安装</h5> 
<pre><code class="prism language-javascript">npm install js<span class="token operator">-</span>cookie <span class="token operator">-</span>s
</code></pre> 
<h5><a id="_1744"></a>使用</h5> 
<p>一般将token存放在cookie以及vuex中</p> 
<pre><code class="prism language-javascript">   <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 存放token</span>
    <span class="token function">setToken</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>token <span class="token operator">=</span> val<span class="token punctuation">;</span>
          <span class="token comment">//Cookies.set(key,data) 是 `js-cookie`提供的存放 Cookie 的方法 </span>
      Cookie<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 获取token</span>
    <span class="token function">getToken</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>token <span class="token operator">=</span> Cookie<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 清除token</span>
    <span class="token function">clearToken</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      state<span class="token punctuation">.</span>token <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
      Cookie<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>当登录验证成功的时候，通过后端返回的数据保存在token中</p> 
<pre><code class="prism language-javascript">         <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dynamicValidateForm<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
				<span class="token comment">//后端返回对象中包含token，将token取出放入token</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setToken'</span><span class="token punctuation">,</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>token<span class="token punctuation">)</span>
				<span class="token comment">//需要把返回的路由，添加到动态路由中去</span>
</code></pre> 
<p>设置全局路由守卫，进行token验证</p> 
<pre><code class="prism language-javascript">Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token comment">//路由全局守卫</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">let</span> token<span class="token operator">=</span>store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>token
	<span class="token comment">// 过滤登录页，因为去登录页不需要token（防止死循环）</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>token <span class="token operator">&amp;&amp;</span> to<span class="token punctuation">.</span>name<span class="token operator">!==</span><span class="token string">'login'</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'login'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/28/3b/q5k35C1b_o.png" alt="在这里插入图片描述"><br> 退出登录，所做的：清除动态路由，清除token，跳转到login页面</p> 
<pre><code class="prism language-javascript">	<span class="token function">logOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
			<span class="token comment">//登出的时候，需要清除token以及</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'clearToken'</span><span class="token punctuation">)</span>
		location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//强制页面刷新</span>
	<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="token_1806"></a>token实现免密登录</h4> 
<p><img src="https://images2.imgbox.com/f8/89/3NxplFrM_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript">    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>checkbox label<span class="token operator">=</span><span class="token string">"记住账号"</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"isRemenber"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>checkbox<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button type<span class="token operator">=</span><span class="token string">"primary"</span> @click<span class="token operator">=</span><span class="token string">"submitForm('dynamicValidateForm')"</span>
        <span class="token operator">&gt;</span>登录<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button
      <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>form<span class="token operator">-</span>item<span class="token operator">&gt;</span>

      <span class="token literal-property property">isRemenber</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</code></pre> 
<p><a href="https://github.com/yin107/manageSystem">github项目地址</a></p> 
<h3><a id="_1827"></a>动态菜单</h3> 
<pre><code class="prism language-javascript"><span class="token keyword">const</span> dynamicUser <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"管理员"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf3-ttcdn-tos.pstatp.com/img/user-avatar/ccb565eca95535ab2caac9f6129b8b7a~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"管理员 - admin"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"admin"</span><span class="token punctuation">,</span>
    <span class="token comment">// password: "654321",</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"rtVrM4PhiFK8PNopqWuSjsc1n02oKc3f"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"s-home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Home/Home"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"video-play"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/MallManage/MallManage"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"用户管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/UserManage/UserManage"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/other"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"location"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"其他"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Other/index"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page1"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"setting"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面1"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Other/PageOne"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"page2"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"setting"</span><span class="token punctuation">,</span>
            <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"页面2"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Other/PageTwo"</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"普通用户"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">avatar</span><span class="token operator">:</span>
      <span class="token string">"https://sf1-ttcdn-tos.pstatp.com/img/user-avatar/6364348965908f03e6a2dd188816e927~300x300.image"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">desc</span><span class="token operator">:</span> <span class="token string">"普通用户 - people"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">"people"</span><span class="token punctuation">,</span>
    <span class="token comment">// password: "123456",</span>
    <span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">"4es8eyDwznXrCX3b3439EmTFnIkrBYWh"</span><span class="token punctuation">,</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"s-home"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"首页"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/Home/Home"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"/mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"mall"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">"video-play"</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">"商品管理"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/MallManage/MallManage"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function-variable function">getdynamicUser</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">const</span> <span class="token punctuation">{<!-- --></span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//先判断用户是否存在</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">||</span> username <span class="token operator">===</span> <span class="token string">"people"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">//判断账号和密码是否对象</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"admin"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"654321"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">===</span> <span class="token string">"people"</span> <span class="token operator">&amp;&amp;</span> password <span class="token operator">===</span> <span class="token string">"123456"</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"登录成功"</span><span class="token punctuation">,</span>
          <span class="token literal-property property">data</span><span class="token operator">:</span> dynamicUser<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">return</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> username<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"密码错误"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span> <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">"用户不存在"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>在后台管理项目中，牵涉到权限的东西多数是后端传递过来的数据，前端去展示，就导航菜单而言，不能写死，需要在用户登录之后，发请求获取用户的对应菜单数据，根据对应的数据去展示对应的菜单<br> <img src="https://images2.imgbox.com/39/e6/BezBTRPG_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item
        <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item<span class="token operator">-</span>group<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>submenu<span class="token operator">&gt;</span>
  
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> 
<blockquote> 
 <p>el-menu菜单的核心数据：<br> 1、菜单的名字name<br> 点击菜单进行路由跳转的路径path<br> 菜单上小图标icon<br> 菜单不是最内层的菜单，即children是否是空数组，当children为空的时候，就说明到菜单嘴里层了（最里层的菜单children为空数组的时候，点击做路由跳转）</p> 
</blockquote> 
<p>el-menu代码分为两类：有子集和没有子集<br> 有自己：用的是el-submenu标签包含template标签指定名字跟很多个el-menu-item标签</p> 
<pre><code class="prism language-javascript">	<span class="token operator">&lt;</span>el<span class="token operator">-</span>submenu
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in hasChildren"</span>
      <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span>
      <span class="token operator">:</span>index<span class="token operator">=</span><span class="token string">"item.meta.title"</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>template slot<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>i <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"'el-icon-' + item.icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span slot<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item<span class="token operator">-</span>group<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item
          <span class="token operator">:</span>index<span class="token operator">=</span><span class="token string">"subItem.path"</span>
          v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(subItem, subIndex) in item.children"</span>
          <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"subIndex"</span>
          @click<span class="token operator">=</span><span class="token string">"clickMenu(subItem)"</span>
        <span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>i <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"'el-icon-' + subItem.icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span slot<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> subItem<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item
        <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item<span class="token operator">-</span>group<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>submenu<span class="token operator">&gt;</span>
</code></pre> 
<p>没有子集：直接用很多个el-menu-item标签</p> 
<pre><code class="prism language-javascript">    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 分为有子路由和无子路由的导航 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item
      v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item in noChildren"</span>
      <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"item.name"</span>
      <span class="token operator">:</span>index<span class="token operator">=</span><span class="token string">"item.path"</span>
      @click<span class="token operator">=</span><span class="token string">"clickMenu(item)"</span>
    <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>i <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"'el-icon-' + item.icon"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>span slot<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">&gt;</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">{<!-- --></span> item<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>menu<span class="token operator">-</span>item<span class="token operator">&gt;</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f6d4686a82b97834beada0e380581b8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Qt之界面（自定义标题栏、无边框、可移动、缩放）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/33678a0e0524cd4b0d36e591c9503c06/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vs2022 x64 C/C&#43;&#43;和汇编混编</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>