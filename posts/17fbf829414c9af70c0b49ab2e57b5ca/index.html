<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HCIA命令总结 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HCIA命令总结" />
<meta property="og:description" content="文章目录 命令符快捷键用户配置用户视图命令TelnetSSHFTPTFTPSFTP配置交换机双工模式ARP及proxy ARPVLAN基本配置及Access接口vlan基本配置 trunkHybrid接口单臂路由实VLAN间路由使用三层交换实现VLAN间路由GVRP配置STP基本配置命令stp定时器MSTP基础配置Smart Link 与Monitor Link配置配置Eth-trunk链路聚合静态路由PPP认证帧中继RIP配置RIPv2认证RIP路由协议的汇总配置RIP的版本兼容，定时器及协议优先级配置RIP抑制接口及单播更新RIP与不连续子网RIP的水平分割和触发更新配置RIP路由附加度量值RIP故障处理RIP路由引入 OSPF区域配置OSPF认证与被动接口配置Router-ID DR与BDROSPF开销值，协议优先级及计时器的修改 RIP与OSPF的配置IPv6DHCP基本ACL基础过滤工具 高级acl规则格式SNMP协议基础配置GRE协议基本配置(tunnel隧道创建)NATVRRP 命令符 从用户视图切换到系统视图 system–view 从系统视图切换到用户视图 quit 连入接口命令 interface IP地址、子网掩码配置命令 ip address 接口IP信息查看命令 display ip interface brief IPv4路由表信息查询命令 display ip routing–table 配置完成退回视图界面命令 return 命令自动补全快捷键 【Tab】 快捷键查看命令 display hotkey 路由名称修改命令 sysname （参数） 设置路由器时钟命令 clock datetime 设置路由器时区命令 clock timezone(时区）{add|minus}（偏移时间）[正向偏移add；负向偏minus] 登录标题修改命令 header loginheader login information “ ” 登录成功后标题设置命令 header shellheader shell information “ ” 路由信息查看命令 display version 路由当前配置查看命令 display current–configuration 接口状态查询命令 display interface gigabitethernet0/0/0 快捷键 删除光标位置的前一个字符，光标左移 退格键BavkSpace 光标向左移动一个字符位置；若已经到达命令起始位置，则停止 左光标键或&lt;Ctrl&#43;B&gt; 光标向右移动一个字符位置；若已经到达命令起始位置，则停止 右光标键或&lt;Ctrl&#43;F&gt; 删除光标所在位置的一个字符,光标位置保持不动，光标后方字符向左移动一个字符位置 删除键Delete 显示上一条历史命令。如果需显示更早的历史命令，可以重复使用该功能键 上光标键【Ctrl&#43;P】 显示下一条历史命令，可重复使用该功能键 下光标键【Ctrl&#43;N】 将光标移动到当前行的开始 Ctrl&#43;A 将光标移动到当前行的末尾 Ctrl&#43;E 清空当前行输入的命令 Ctrl&#43;X 停止当前正在执行的功能 Ctrl&#43;C 返回到用户视图，相当于return命令 Ctrl&#43; F 部分帮助的功能，输入不完整的关键字后按下Tab键，系统自动补全关键 {Tab}键 用户配置 设备当前支持用户界面信息查看命令 display user-interface 用户界面切换命令 user-interface(用户界面相对编号)（用户界面可选参数） 在对应的用户视图下对用户权限配置命令 user privilege level (用户级别) 配置用户界面验证方式的命令 authentication-mode{aaa|none|password} 配置VTY为aaa验证方式的用户名和密码 aaalocal-user (用户名) password cipher (密码)local-user (用户名) service-type telnet(代指接入类型) 配置用户权限命令 local-user (用户名) password cipher (密码) privilege level(权限)local-user(用户名) privilege level(权限) 配置Console用户界面为Password验证 set authentication password cipher (密码) Console用户配置信息查看命令 display current-configuration 手动保存当前配置命令 `save【configuration-file】参数 configuration-file为指定的配置文件名，格式必须是”." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/17fbf829414c9af70c0b49ab2e57b5ca/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-06T15:50:28+08:00" />
<meta property="article:modified_time" content="2020-07-06T15:50:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HCIA命令总结</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_4" rel="nofollow">命令符</a></li><li><a href="#_43" rel="nofollow">快捷键</a></li><li><a href="#_70" rel="nofollow">用户配置</a></li><li><a href="#_96" rel="nofollow">用户视图命令</a></li><li><a href="#Telnet_149" rel="nofollow">Telnet</a></li><li><a href="#SSH_162" rel="nofollow">SSH</a></li><li><a href="#FTP_185" rel="nofollow">FTP</a></li><li><a href="#TFTP_206" rel="nofollow">TFTP</a></li><li><a href="#SFTP_216" rel="nofollow">SFTP</a></li><li><a href="#_221" rel="nofollow">配置交换机双工模式</a></li><li><a href="#ARPproxy_ARP_230" rel="nofollow">ARP及proxy ARP</a></li><li><a href="#VLANAccess_241" rel="nofollow">VLAN基本配置及Access接口</a></li><li><a href="#vlan__trunk_254" rel="nofollow">vlan基本配置 trunk</a></li><li><a href="#Hybrid_267" rel="nofollow">Hybrid接口</a></li><li><a href="#VLAN_282" rel="nofollow">单臂路由实VLAN间路由</a></li><li><a href="#VLAN_296" rel="nofollow">使用三层交换实现VLAN间路由</a></li><li><a href="#GVRP_301" rel="nofollow">GVRP配置</a></li><li><a href="#STP_314" rel="nofollow">STP基本配置命令</a></li><li><a href="#stp_336" rel="nofollow">stp定时器</a></li><li><a href="#MSTP_347" rel="nofollow">MSTP基础配置</a></li><li><a href="#Smart_Link_Monitor_Link_366" rel="nofollow">Smart Link 与Monitor Link配置</a></li><li><a href="#Ethtrunk_393" rel="nofollow">配置Eth-trunk链路聚合</a></li><li><a href="#_414" rel="nofollow">静态路由</a></li><li><a href="#PPP_428" rel="nofollow">PPP认证</a></li><li><a href="#_453" rel="nofollow">帧中继</a></li><li><a href="#RIP_466" rel="nofollow">RIP配置</a></li><li><ul><li><a href="#RIPv2_487" rel="nofollow">RIPv2认证</a></li><li><a href="#RIP_497" rel="nofollow">RIP路由协议的汇总</a></li><li><a href="#RIP_510" rel="nofollow">配置RIP的版本兼容，定时器及协议优先级</a></li><li><a href="#RIP_527" rel="nofollow">配置RIP抑制接口及单播更新</a></li><li><a href="#RIP_541" rel="nofollow">RIP与不连续子网</a></li><li><a href="#RIP_548" rel="nofollow">RIP的水平分割和触发更新</a></li><li><a href="#RIP_562" rel="nofollow">配置RIP路由附加度量值</a></li><li><a href="#RIP_571" rel="nofollow">RIP故障处理</a></li><li><a href="#RIP_586" rel="nofollow">RIP路由引入</a></li></ul> 
  </li><li><a href="#OSPF_595" rel="nofollow">OSPF区域配置</a></li><li><ul><li><a href="#OSPF_612" rel="nofollow">OSPF认证与被动接口配置</a></li><li><a href="#RouterID_DRBDR_623" rel="nofollow">Router-ID DR与BDR</a></li><li><a href="#OSPF_640" rel="nofollow">OSPF开销值，协议优先级及计时器的修改</a></li></ul> 
  </li><li><a href="#RIPOSPF_651" rel="nofollow">RIP与OSPF的配置</a></li><li><a href="#IPv6_662" rel="nofollow">IPv6</a></li><li><a href="#DHCP_679" rel="nofollow">DHCP</a></li><li><a href="#ACL_712" rel="nofollow">基本ACL</a></li><li><ul><li><a href="#_752" rel="nofollow">基础过滤工具</a></li></ul> 
  </li><li><a href="#acl_759" rel="nofollow">高级acl规则格式</a></li><li><a href="#SNMP_776" rel="nofollow">SNMP协议基础配置</a></li><li><a href="#GREtunnel_811" rel="nofollow">GRE协议基本配置(tunnel隧道创建)</a></li><li><a href="#NAT_824" rel="nofollow">NAT</a></li><li><a href="#VRRP_852" rel="nofollow">VRRP</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="_4"></a>命令符</h2> 
<ul><li>从用户视图切换到系统视图 
  <ul><li><code>system–view</code></li></ul> </li><li>从系统视图切换到用户视图 
  <ul><li><code>quit</code></li></ul> </li><li>连入接口命令 
  <ul><li><code>interface</code></li></ul> </li><li>IP地址、子网掩码配置命令 
  <ul><li><code>ip address</code></li></ul> </li><li>接口IP信息查看命令 
  <ul><li><code>display ip interface brief</code></li></ul> </li><li>IPv4路由表信息查询命令 
  <ul><li><code>display ip routing–table</code></li></ul> </li><li>配置完成退回视图界面命令 
  <ul><li><code>return</code></li></ul> </li><li>命令自动补全快捷键 
  <ul><li><code>【Tab】</code></li></ul> </li><li>快捷键查看命令 
  <ul><li><code>display hotkey</code></li></ul> </li><li>路由名称修改命令 
  <ul><li><code>sysname （参数）</code></li></ul> </li><li>设置路由器时钟命令 
  <ul><li><code>clock datetime</code></li></ul> </li><li>设置路由器时区命令 
  <ul><li><code>clock timezone(时区）{add|minus}（偏移时间）[正向偏移add；负向偏minus]</code></li></ul> </li><li>登录标题修改命令 
  <ul><li><code>header login</code></li><li><code>header login information “ ”</code></li></ul> </li><li>登录成功后标题设置命令 
  <ul><li><code>header shell</code></li><li><code>header shell information “ ”</code></li></ul> </li><li>路由信息查看命令 
  <ul><li><code>display version</code></li></ul> </li><li>路由当前配置查看命令 
  <ul><li><code>display current–configuration</code></li></ul> </li><li>接口状态查询命令 
  <ul><li><code>display interface gigabitethernet0/0/0</code></li></ul> </li></ul> 
<h2><a id="_43"></a>快捷键</h2> 
<ul><li>删除光标位置的前一个字符，光标左移 
  <ul><li><code>退格键BavkSpace</code></li></ul> </li><li>光标向左移动一个字符位置；若已经到达命令起始位置，则停止 
  <ul><li><code>左光标键或&lt;Ctrl+B&gt;</code></li></ul> </li><li>光标向右移动一个字符位置；若已经到达命令起始位置，则停止 
  <ul><li><code>右光标键或&lt;Ctrl+F&gt;</code></li></ul> </li><li>删除光标所在位置的一个字符,光标位置保持不动，光标后方字符向左移动一个字符位置 
  <ul><li><code>删除键Delete</code></li></ul> </li><li>显示上一条历史命令。如果需显示更早的历史命令，可以重复使用该功能键 
  <ul><li><code>上光标键【Ctrl+P】</code></li></ul> </li><li>显示下一条历史命令，可重复使用该功能键 
  <ul><li><code>下光标键【Ctrl+N】</code></li></ul> </li><li>将光标移动到当前行的开始 
  <ul><li><code>Ctrl+A</code></li></ul> </li><li>将光标移动到当前行的末尾 
  <ul><li><code>Ctrl+E</code></li></ul> </li><li>清空当前行输入的命令 
  <ul><li><code>Ctrl+X</code></li></ul> </li><li>停止当前正在执行的功能 
  <ul><li><code>Ctrl+C</code></li></ul> </li><li>返回到用户视图，相当于return命令 
  <ul><li><code>Ctrl+ F</code></li></ul> </li><li>部分帮助的功能，输入不完整的关键字后按下Tab键，系统自动补全关键 
  <ul><li><code>{Tab}键</code></li></ul> </li></ul> 
<h2><a id="_70"></a>用户配置</h2> 
<ul><li>设备当前支持用户界面信息查看命令 
  <ul><li><code>display user-interface</code></li></ul> </li><li>用户界面切换命令 
  <ul><li><code>user-interface(用户界面相对编号)（用户界面可选参数）</code></li></ul> </li><li>在对应的用户视图下对用户权限配置命令 
  <ul><li><code>user privilege level (用户级别)</code></li></ul> </li><li>配置用户界面验证方式的命令 
  <ul><li><code>authentication-mode{aaa|none|password}</code></li></ul> </li><li>配置VTY为aaa验证方式的用户名和密码 
  <ul><li><code>aaa</code></li><li><code>local-user (用户名) password cipher (密码)</code></li><li><code>local-user (用户名) service-type telnet(代指接入类型)</code></li></ul> </li><li>配置用户权限命令 
  <ul><li><code>local-user (用户名) password cipher (密码) privilege level(权限)</code></li><li><code>local-user(用户名) privilege level(权限)</code></li></ul> </li><li>配置Console用户界面为Password验证 
  <ul><li><code>set authentication password cipher (密码)</code></li></ul> </li><li>Console用户配置信息查看命令 
  <ul><li><code>display current-configuration</code></li></ul> </li><li>手动保存当前配置命令 
  <ul><li>`save【configuration-file】参数</li></ul> </li></ul> 
<blockquote> 
 <p>configuration-file为指定的配置文件名，格式必须是”<em>.cfg"或”</em>.zip" 周期性自动保存的设置</p> 
</blockquote> 
<h2><a id="_96"></a>用户视图命令</h2> 
<ul><li> <p>开启周期性自动保存命令</p> 
  <ul><li><code>autosave interval on</code></li></ul> </li><li> <p>设置自动保存周期命令</p> 
  <ul><li><code>autosave intervaltime</code></li></ul> </li></ul> 
<blockquote> 
 <p>参数time为指定周期的时间周期（参数：time取值应大于10 min）</p> 
</blockquote> 
<ul><li>开启定时自动保存命令 
  <ul><li><code>autosave time on</code></li></ul> </li><li>设置定时保存命令 
  <ul><li><code>autosave time</code></li></ul> </li><li>下次启动的配置文件夹设置命令 
  <ul><li><code>startup saved-configuration</code></li></ul> </li><li>当前配置与下次启动配置文件差异查看命令 
  <ul><li><code>compare configuration</code></li></ul> </li><li>查看当前文件下命令 
  <ul><li><code>dir[/all][filename|directory]</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>all表示查看当前命令下的文件和目录</li><li>参数filename表示待查看文件的名称</li><li>directory表示待查看目录的路径</li></ul> 
</blockquote> 
<ul><li>所在目录查询命令 
  <ul><li><code>pwd</code></li></ul> </li><li>新建目录的命令 
  <ul><li><code>mkdir directory</code></li></ul> </li></ul> 
<blockquote> 
 <p>参数directory表示需要创建的目录(创建文件夹)</p> 
</blockquote> 
<ul><li>复制并重命名文件 
  <ul><li><code>copy source-fliename destinction-filename</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>参数source-fliename表示被复制文件的路径及源文件名</li><li>destinction-filename表示目标文件的路径及其目标文件名</li></ul> 
</blockquote> 
<ul><li>修改当前工作路径命令 
  <ul><li><code>cd directory</code></li></ul> </li><li>删除文件命令 
  <ul><li><code>delete 【/unreserved】[/force]filename</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>/unerserved表示彻底删除指定文件，删除的文件将不可恢复</li><li>/force 表示无需确认直接删除文件</li><li>参数filename表示删除的文件名</li><li>如果不适用/unreserved,则delete命令删除的文件将被保存到回收站中。</li></ul> 
</blockquote> 
<ul><li>恢复回收站中的文件命令 
  <ul><li><code>undelete</code></li></ul> </li><li>彻底删除回收站中的所有文件命令 
  <ul><li><code>reset recycle-bin</code></li></ul> </li></ul> 
<h2><a id="Telnet_149"></a>Telnet</h2> 
<ul><li>配置Telnet的验证方式为密码验证方式 
  <ul><li><code>authentication-mode password</code></li><li><code>ste authentication password cipher (密码)</code></li></ul> </li><li>远程登录设备命令 
  <ul><li><code>Telnet ip-address</code></li></ul> </li></ul> 
<blockquote> 
 <p>参数ip-address为登录设备IP地址</p> 
</blockquote> 
<ul><li>查看已经登录信息命令 
  <ul><li><code>display users</code></li></ul> </li></ul> 
<h2><a id="SSH_162"></a>SSH</h2> 
<ul><li>生成本地RSA主机秘钥命令 
  <ul><li><code>rsa local-key-pair create</code></li></ul> </li><li>新建SSH用户命令 
  <ul><li><code>ssh user (用户名) authentication-type password(代指类型)</code></li></ul> </li><li>在ssh服务端查看ssh用户配置命令 
  <ul><li><code>display ssh user-information (用户名)</code></li></ul> </li><li>开启ssh服务命令 
  <ul><li><code>stelnet server enable(服务开启命令)</code></li></ul> </li><li>首次启用认证命令 
  <ul><li><code>ssh client first-time enable 客户端命令</code></li></ul> </li><li>指定用户只支持ssh协议 
  <ul><li><code>protocol inbound ssh</code></li></ul> </li><li>指定用户的服务类型 
  <ul><li><code>local-user (用户名) service-type ssh</code></li></ul> </li><li>查看SSH服务器端的当前回话连接信息 
  <ul><li><code>display ssh server session</code></li></ul> </li><li>查看ssh服务全局配置信息命令 
  <ul><li><code>display ssh server status</code></li></ul> </li><li>查看本地秘钥对中的公钥部分命令 
  <ul><li><code>display rsa local-key-pair public</code></li></ul> </li></ul> 
<h2><a id="FTP_185"></a>FTP</h2> 
<ul><li>建立FTP连接命令 
  <ul><li><code>ftp host-ip【port-nuber】</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>参数host-ip表示FTP服务器的IP地址</li><li>port-number表示FTP服务器的端口号</li></ul> 
</blockquote> 
<ul><li>从FTP服务器下载文件到FTP客户端命令 
  <ul><li><code>get source-filename【destination-filename】</code></li></ul> </li><li>从FTP客户端上传文件到FTP服务器命令 
  <ul><li><code>put source-filename【destination-filename】</code></li></ul> </li><li>查看FTP服务器文件夹状态查询命令 
  <ul><li><code>ls</code></li></ul> </li><li>查看设备当前设置的下次启动时所用的启动文件情况命令 
  <ul><li><code>display startup</code></li></ul> </li><li>设置下次启动使用的系统软件文件的命令 
  <ul><li>`startup system-software system-file</li></ul> </li></ul> 
<blockquote> 
 <p>参数system-file表示指定的系统软件文件名</p> 
</blockquote> 
<h2><a id="TFTP_206"></a>TFTP</h2> 
<ul><li>TFTP文件传输命令 
  <ul><li><code>tftp tftp-server{get|put}source-filename[destination-filename]</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>tftp-server表示TFTP服务器的IP地址</li><li>get表示从TFTP服务器下载文件到TFTP客户端</li><li>Put表示TFTP客户端上传文件到TFTP服务</li><li>source-filename表示源文件名</li><li>destination-filename表示目标文件名</li></ul> 
</blockquote> 
<h2><a id="SFTP_216"></a>SFTP</h2> 
<ul><li>指定FTP用户可访问目录的命令 
  <ul><li><code>local-user (用户名) ftp-directory flash</code>(默认为空，不可不配)</li></ul> </li></ul> 
<h2><a id="_221"></a>配置交换机双工模式</h2> 
<ul><li>关掉自协议商双工 
  <ul><li><code>undo negotiation auto</code></li></ul> </li><li>手工指定双工模式为全双工 
  <ul><li><code>duplex full</code></li></ul> </li><li>以太网接口速率配置 
  <ul><li><code>speed (大小)</code>【单位Mbit/s】</li></ul> </li></ul> 
<h2><a id="ARPproxy_ARP_230"></a>ARP及proxy ARP</h2> 
<ul><li>在PC机下查看主机ARP表 
  <ul><li><code>arp -a</code></li></ul> </li><li>查看ARPb表 
  <ul><li><code>display arp all</code></li></ul> </li><li>添加静态IP和MAC地址 
  <ul><li><code>arp static (IP地址) (MAC地址)</code></li></ul> </li><li>开启代理ARP（Proxy ARP） 
  <ul><li><code>arp-proxy enable</code>【接口视图下】</li></ul> </li></ul> 
<h2><a id="VLANAccess_241"></a>VLAN基本配置及Access接口</h2> 
<ul><li>创建单个VLAN 
  <ul><li><code>vlan (参数)</code></li></ul> </li><li>创建多个VLAN 
  <ul><li><code>vlan batch (参数1) (参数2)</code></li></ul> </li><li>配置接口为Access类型接口 
  <ul><li><code>port link-type access</code></li></ul> </li><li>配置接口的默认VLAN同时加入VLAN中 
  <ul><li><code>port default vlan (参数)</code></li></ul> </li><li>查看VLAN相关信息（接口和所属vlna的对应关系） 
  <ul><li><code>display vlan</code></li></ul> </li></ul> 
<h2><a id="vlan__trunk_254"></a>vlan基本配置 trunk</h2> 
<ul><li>标记命令 
  <ul><li><code>description (参数)</code></li></ul> </li><li>查看vlan的简单信息 
  <ul><li><code>display vlan summary</code></li></ul> </li><li>查看vlan和接口配置情况 
  <ul><li><code>display port vlan</code></li></ul> </li><li>设置接口为trunk接口 
  <ul><li><code>port link-type trunk</code></li></ul> </li><li>设置trunk接口允许通过的vlan 
  <ul><li><code>port trunk allow-pass vlan (参数)</code>【all为全部】</li></ul> </li></ul> 
<h2><a id="Hybrid_267"></a>Hybrid接口</h2> 
<ul><li>恢复接口默认VLAN 
  <ul><li><code>undo port default vlan</code></li></ul> </li><li>删除VLAN 
  <ul><li><code>undo VLAN (参数)</code></li></ul> </li><li>修改接口类型为默认的Hybrid类型 
  <ul><li><code>port link-type hybrid</code></li></ul> </li><li>配置交换机在该接口转发指定VLAN的帧 
  <ul><li><code>port hybrid untagged vlan (参数/all）</code></li></ul> </li><li>设置Hybrid接口的默认VLAN ID 
  <ul><li><code>port hybrid pvid vlan (参数)</code></li></ul> </li><li>配置接口接收的VLAN tag帧 
  <ul><li><code>port hybrid tagged vlan (参数/all)</code></li></ul> </li></ul> 
<h2><a id="VLAN_282"></a>单臂路由实VLAN间路由</h2> 
<ul><li>配置路由端口子接口（逻辑接口） 
  <ul><li><code>interface gigabitethernet0/0/0.x</code></li></ul> </li><li>配置子接口对一层tag报文的终极功能 
  <ul><li><code>dot1q termination vid (参数)</code></li></ul> </li><li>开启子接口ARP广播功能 
  <ul><li><code>ARP broadcast enable</code></li></ul> </li></ul> 
<blockquote> 
 <p>不开启此功能，将导致子接口无法主动发送ARP广播报文，以及向外转发IP报文</p> 
</blockquote> 
<ul><li>Ping跟踪查看命令 
  <ul><li><code>tracert (ip)</code></li></ul> </li></ul> 
<h2><a id="VLAN_296"></a>使用三层交换实现VLAN间路由</h2> 
<ul><li>创建VLANif接口命令 
  <ul><li><code>interface VLANif (参数)</code></li></ul> </li></ul> 
<h2><a id="GVRP_301"></a>GVRP配置</h2> 
<ul><li>开启gvrp服务 
  <ul><li><code>gvrp</code></li></ul> </li><li>查看gvrp的使用情况 
  <ul><li><code>display gvrp status</code></li></ul> </li><li>查看端口的gvrp统计信息 
  <ul><li><code>display gvrp statistics</code></li></ul> </li><li>配置模式为fixed 
  <ul><li><code>gvrp registration fixed (接口)</code></li></ul> </li><li>配置模式为forbidden 
  <ul><li><code>gvrp registration forbidden (接口)</code></li></ul> </li></ul> 
<h2><a id="STP_314"></a>STP基本配置命令</h2> 
<ul><li>配置设备STP的工作模式 
  <ul><li><code>stp mode {mstp|rstp|stp}</code></li></ul> </li><li>开启stp服务 
  <ul><li><code>stp enable</code></li></ul> </li><li>配置桥的优先级 
  <ul><li><code>stp priority priority</code></li></ul> </li></ul> 
<blockquote> 
 <p>取值范围0——61440 步长4096 缺省值32768 参数越小，设备被选举为根桥的可能性越大</p> 
</blockquote> 
<ul><li>配置设备为根桥 
  <ul><li><code>stp root primary</code></li></ul> </li><li>配置设备为备份根桥 
  <ul><li><code>stp root secondary</code>【桥有限级默认为4096 不可修改优先级】</li></ul> </li><li>生成树的状态信息与统计信息查询 
  <ul><li><code>display stp [interface interface-type interface-number][brief]</code></li></ul> </li><li>配置接口的开销值 
  <ul><li><code>stp cost (参数)</code></li></ul> </li><li>查看设备的接口信息 
  <ul><li><code>display （interface-type interface-number)</code></li></ul> </li></ul> 
<h2><a id="stp_336"></a>stp定时器</h2> 
<ul><li>定时配置 
  <ul><li><code>stp timer (参数) (时间单位 cs)</code></li></ul> </li><li>关闭命令 
  <ul><li><code>shutdown</code></li></ul> </li><li>配置网络直径 
  <ul><li><code>stp bridge-diameter (参数)</code></li></ul> </li><li>边缘接口配置 
  <ul><li><code>stp edged-port enable</code></li></ul> </li></ul> 
<h2><a id="MSTP_347"></a>MSTP基础配置</h2> 
<ul><li>进入mst域视窗 
  <ul><li><code>stp region-configuration</code></li></ul> </li><li>配置MST域名 
  <ul><li><code>region-name (参数)</code></li></ul> </li><li>配置mstp的修订级别 
  <ul><li><code>revision-level (参数)</code></li></ul> </li><li>制定VLAN的映射到mstp实例生成树 
  <ul><li><code>instance (参数) VLAN (参数)</code></li></ul> </li><li>激活mst 
  <ul><li><code>active region-configuration</code></li></ul> </li><li>查看mst域配置信息 
  <ul><li><code>display stp region-configuration</code></li></ul> </li><li>查看实例中的生成树信息 
  <ul><li><code>display stp instance (参数) brief</code></li></ul> </li><li>配置交换机为实例中的根 
  <ul><li><code>stp instance (参数) priority (参数)</code></li></ul> </li></ul> 
<h2><a id="Smart_Link_Monitor_Link_366"></a>Smart Link 与Monitor Link配置</h2> 
<ul><li>创建smart link组并接入窗口 
  <ul><li><code>smart-link group (参数)</code></li></ul> </li><li>开启smart link组功能 
  <ul><li><code>smart-link enable</code></li></ul> </li><li>关闭生成树 
  <ul><li><code>stp disable 【接口命令】</code></li></ul> </li><li>配置主接口 
  <ul><li><code>port（nterface-type interface-number）master</code></li></ul> </li><li>配置备份接口 
  <ul><li><code>port（nterface-type interface-number） slave</code></li></ul> </li><li>开启回切功能 
  <ul><li><code>restore enable</code></li></ul> </li><li>设置回切时间 
  <ul><li><code>timer wtr (参数)</code></li></ul> </li><li>查看smart link组状态 
  <ul><li><code>display smart-link group (参数)</code></li></ul> </li><li>启用monitor link组 
  <ul><li><code>monitor-link group (参数)</code></li></ul> </li><li>配置monitor link上行接口 
  <ul><li><code>port（nterface-type interface-number）uplink</code></li></ul> </li><li>配置monitor link下行接口 
  <ul><li><code>port（nterface-type interface-number）downlink</code></li></ul> </li><li>配置monitor link回切时间 
  <ul><li><code>timer recover-time (参数)</code></li></ul> </li></ul> 
<h2><a id="Ethtrunk_393"></a>配置Eth-trunk链路聚合</h2> 
<ul><li>创建Eth-trunk接口 
  <ul><li><code>interface Eth-trunk (参数)</code></li></ul> </li><li>指定Eth-trunk为手工负载分担模式 
  <ul><li><code>mode manual load-balance</code></li></ul> </li><li>查看Eth-trunk的接口状态 
  <ul><li><code>display Eth-trunk (参数)</code></li></ul> </li><li>查看Eth-trunk的接口信息 
  <ul><li><code>display interface Eth-trunk (参数)</code></li></ul> </li><li>查看Eth-trunk的详细信息 
  <ul><li><code>disp trunkmembership eth-trunk (参数)</code></li></ul> </li><li>指定Eth-trunk为静态lacp模式 
  <ul><li><code>mode lacp-static</code></li></ul> </li><li>指定接口加入指定Eth-trunk接口 
  <ul><li><code>Eth-trunk (参数)</code></li></ul> </li><li>配置活动接口上线阙值 
  <ul><li><code>max active-linknumber (参数)</code></li></ul> </li><li>修改优先级 
  <ul><li><code>lacp priority (参数)</code>【可取值范围0~32768】</li></ul> </li></ul> 
<h2><a id="_414"></a>静态路由</h2> 
<ul><li>配置下一跳路由ip 
  <ul><li><code>ip route-static (目的地址IP段) (子网掩码) (目的IP)</code></li><li><code>ip route-static (参数1) (参数2) (nterface-type interface-number)</code></li></ul> </li><li>配置静态IP 
  <ul><li><code>ip route-static 0.0.0.0 0 (参数3)</code></li></ul> </li><li>配置路由表优先级 
  <ul><li><code>ip route-static (参数) preference (参数)</code></li></ul> </li><li>查看静态路由信息 
  <ul><li><code>display ip routing-table protocol static</code></li></ul> </li><li>查看路由表手动添加信息 
  <ul><li><code>display ip routing-table protocol static</code></li></ul> </li></ul> 
<h2><a id="PPP_428"></a>PPP认证</h2> 
<ul><li>设置本端的ppp协议对对端设备的认证方式为pap 
  <ul><li><code>ppp authentication-mode pap domain (域名)</code></li></ul> </li><li>进入aaa视图，创建认证方案 
  <ul><li><code>authentication-scheme (域名-id)</code></li></ul> </li><li>配置认证模式为本地认证 
  <ul><li><code>authentication-mode local</code></li></ul> </li><li>创建域，并进入域视图 
  <ul><li><code>domain (域名)</code></li></ul> </li><li>配置域的认证方式 
  <ul><li><code>authentication-scheme (域名-id)</code></li></ul> </li><li>在aaa视图下，配置储存在本地，对对端口认证所使用的用户名和密码 
  <ul><li><code>local-user (用户名) passwork cipher (密码)</code></li><li><code>local-user (用户名) service-type ppp</code></li></ul> </li><li>配置本端被对端以pap认证时本地发送的pap用户和密码 
  <ul><li><code>ppp pap local-user (用户名) password cipher (密码)</code></li></ul> </li><li>在接口下配置认证方式为chap 
  <ul><li><code>ppp authentication-mode chap</code></li></ul> </li><li>在对端接口下配置chcp认证的用户名和密码 
  <ul><li><code>ppp chap (用户名)</code></li><li><code>ppp chap password (密码)</code></li></ul> </li><li>在接口下配置链路层协议HDLC 
  <ul><li><code>link-protocol hdlc</code></li></ul> </li></ul> 
<h2><a id="_453"></a>帧中继</h2> 
<ul><li>接口配置链路层协议为FR 
  <ul><li><code>link-protocol fr</code></li></ul> </li><li>允许帧中继逆向解析地址生产地址映射表 
  <ul><li><code>fr inarp</code></li></ul> </li><li>接口下手动配置ip地址与DLCI的静态映射 
  <ul><li><code>fr map ip (ip地址) (DLCI) [broadcast]</code></li></ul> </li><li>查看pvc的建立情况 
  <ul><li><code>display fr pvc-info</code></li></ul> </li><li>手工配置ospf邻居 
  <ul><li><code>peer (ip地址)</code></li></ul> </li></ul> 
<h2><a id="RIP_466"></a>RIP配置</h2> 
<ul><li>环回地址接口 
  <ul><li><code>Loopback (参数)</code></li></ul> </li><li>开启并创建rip协议 
  <ul><li><code>rip</code>【默认情况下是ripv1】</li></ul> </li><li>网段接口rip功能制定（开启）命令 
  <ul><li><code>network (参数)</code>【ip段】</li></ul> </li><li>查看rip协议更更新情况并开启rip调试功能 
  <ul><li><code>debugging rip (参数) &lt;&gt;命令</code></li></ul> </li><li>开启debug信息屏幕显示功能 
  <ul><li><code>terminal debugging</code></li><li><code>terminal monitor</code></li></ul> </li><li>关闭debug命令 
  <ul><li><code>undo debugging rip (参数)</code></li><li><code>undo debugging all</code></li></ul> </li><li>某类型调试信息查看 
  <ul><li><code>debugging rip (参数) (?)</code>【参数？表示获取帮助，查看相关命】</li></ul> </li><li>令ripv2搭建(开启ripv2) 
  <ul><li><code>version 2</code></li></ul> </li></ul> 
<h3><a id="RIPv2_487"></a>RIPv2认证</h3> 
<ul><li>简单密码认证 
  <ul><li><code>rip authentication-mode simple (密码)</code></li></ul> </li><li>MD5密文验证 
  <ul><li><code>rip authentication-mode md5 (usual/nonstandard) (密码)</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>usual表示使用通用报文格式</li><li>nonstandard表示使用非标准报文格式（IETF标准）</li></ul> 
</blockquote> 
<h3><a id="RIP_497"></a>RIP路由协议的汇总</h3> 
<ul><li>查看rip默认配置信息 
  <ul><li><code>display default-parameter rip</code></li></ul> </li><li>ripv2自动汇总 
  <ul><li><code>summary always (自动开启)</code></li></ul> </li><li>ripv2汇总关闭 
  <ul><li><code>undo summary</code></li></ul> </li><li>关闭相应接口下水平分割功能 
  <ul><li><code>undo rip split-horizon</code></li></ul> </li><li>相应接口下配置ripv2手动汇总 
  <ul><li><code>rip summary-address (网络地址) (子网掩码)</code></li></ul> </li></ul> 
<h3><a id="RIP_510"></a>配置RIP的版本兼容，定时器及协议优先级</h3> 
<ul><li>配置以广播形式发送ripv2报文命令 
  <ul><li><code>rip version 2 broadcast</code></li></ul> </li><li>配置以组播形式发送ripv2报文命令 
  <ul><li><code>rip version 2 multicast</code></li></ul> </li><li>停止发送rip路由更新(撤销rip报文更新)命令 
  <ul><li><code>undo rip output (端口视图下命令)</code></li></ul> </li><li>rip发布- 数据库中所有激活路由查看命令 
  <ul><li><code>display rip (域) database</code></li></ul> </li><li>rip定时器修改命令 
  <ul><li><code>timers rip (更行定时器) (超市计时器) (垃圾收集定时器)</code></li></ul> </li><li>rip路由优先级需改命令 
  <ul><li><code>preference (参数)</code></li></ul> </li><li>rip配置全局信息查看命令 
  <ul><li><code>display rip</code></li></ul> </li></ul> 
<h3><a id="RIP_527"></a>配置RIP抑制接口及单播更新</h3> 
<ul><li>配置rip接口为抑制接口(静默接口) 
  <ul><li><code>silent-interface (接口号)</code></li></ul> </li><li>配置rip单播更新命令 
  <ul><li><code>peer (ip地址)</code></li></ul> </li><li>禁止接口接收rip报文命令 
  <ul><li><code>undo rip input</code></li></ul> </li><li>禁止接口转发rip报文命令 
  <ul><li><code>undo rip output</code></li></ul> </li><li>优先级 
  <ul><li><code>silent-interface &gt; rip output</code></li><li><code>silent-interface &gt; rip output</code></li></ul> </li></ul> 
<h3><a id="RIP_541"></a>RIP与不连续子网</h3> 
<ul><li>ripv1中解决不连续子网问题的方法， 给接口配置第二个ip地址 
  <ul><li><code>ip address (ip地址) sub</code></li></ul> </li><li>ripv2 中解决不连续子网问题的方式 
  <ul><li>关闭vipv2自动汇总</li></ul> </li></ul> 
<h3><a id="RIP_548"></a>RIP的水平分割和触发更新</h3> 
<ul><li>打开debug（调试)功能 
  <ul><li><code>debugging rip 1 send (接口号)</code></li></ul> </li><li>查看外发的路由条目 
  <ul><li><code>terminal monitor</code></li><li><code>terminal debugging</code></li></ul> </li><li>关闭debug功能 
  <ul><li><code>undo debugging all</code></li></ul> </li><li>接口视图下关闭水平分割功能 
  <ul><li><code>undo rip split-horizon</code></li></ul> </li><li>接口视图下开启毒性逆转 
  <ul><li><code>rip poison-reverse</code></li></ul> </li></ul> 
<h3><a id="RIP_562"></a>配置RIP路由附加度量值</h3> 
<ul><li>配置rip Metricin（增加接受度量） 
  <ul><li><code>rip metricin 2</code>【接口】</li></ul> </li><li>配置rip Metricout(增加发送度量) 
  <ul><li><code>rip metricout 2</code>【接口】</li></ul> </li><li>检测源地址到达目标地址所经过网管 
  <ul><li><code>tracert #.#.#.#</code></li></ul> </li></ul> 
<h3><a id="RIP_571"></a>RIP故障处理</h3> 
<ul><li>查看接口配置信息命令 
  <ul><li><code>display current-configuration interface(接口号)</code></li></ul> </li><li>接口水平分割信息查询命令 
  <ul><li><code>display rip 1 interface(接口号) verbose</code></li></ul> </li><li>查看链路认证信息命令 
  <ul><li><code>display rip1 statistics interface(接口号)</code></li></ul> </li><li>检测是否可以正常收发rip路由(查看rip路由表) 
  <ul><li><code>display ip routing-table protocol rip</code></li></ul> </li><li>检查路由路由度量值命令 
  <ul><li><code>display rip 1 route</code></li></ul> </li><li>查看所有与字符串rip相关的配置命令 
  <ul><li><code>display current-configuration |{include（包含所有) rip参数}</code></li></ul> </li></ul> 
<h3><a id="RIP_586"></a>RIP路由引入</h3> 
<ul><li>引入源路由~路由引入命令 
  <ul><li><code>import-route direct</code>【直连】</li></ul> </li><li>学习引入~路由引入命令 
  <ul><li><code>import-route {static}</code>【静态】</li></ul> </li><li>查看rip邻居 
  <ul><li><code>display rip 1 neighbor</code></li></ul> </li></ul> 
<h2><a id="OSPF_595"></a>OSPF区域配置</h2> 
<ul><li>创建ospf命令 
  <ul><li><code>ospf 1</code>【OSPF进程】</li></ul> </li><li>创建ospf区域命令 
  <ul><li><code>area</code>【0默认为主干区域】</li></ul> </li><li>指定ospf协议接口和接口所属区域 
  <ul><li><code>network (iP地址段)</code>【ip所属网管对应子网位】</li></ul> </li><li>检查ospf接口通告 
  <ul><li><code>display ospf interface</code></li></ul> </li><li>查看ospf邻居状态 
  <ul><li><code>display ospf peer brief</code></li></ul> </li><li>查看ospf路由表 
  <ul><li><code>display ip routing-table protocol ospf</code></li></ul> </li><li>查看ospf链路状态数据库信息 
  <ul><li><code>display ospf lsdb</code></li></ul> </li></ul> 
<h3><a id="OSPF_612"></a>OSPF认证与被动接口配置</h3> 
<ul><li>区域明文认证 
  <ul><li><code>authentication-mode simple plain (密码)</code>【plain表示明文显示】</li></ul> </li><li>区域密文认证 
  <ul><li><code>authentication-mode md5 1 (密码)</code>【1为验证字标识符】</li></ul> </li><li>链路认证 
  <ul><li><code>ospf authentication-mode md5 1 (密码)</code></li></ul> </li><li>配置被动接口，禁止接口接收和发送ospf报文 
  <ul><li><code>silent-interface (接口号) {all}</code></li></ul> </li></ul> 
<h3><a id="RouterID_DRBDR_623"></a>Router-ID DR与BDR</h3> 
<ul><li>查看当前设备Router-ID 
  <ul><li><code>display router id</code></li></ul> </li><li>配置router-id 
  <ul><li><code>router id #.#.#.#</code></li></ul> </li><li>重置ospf协议进程 
  <ul><li><code>reset ospf process</code></li></ul> </li><li>配置ospf协议私有router-id 
  <ul><li><code>ospf 1 route-id (IP地址)</code></li></ul> </li><li>ospf网络类型点到多点配置 
  <ul><li><code>ospf network-type p2mp</code></li></ul> </li><li>还原默认广播类型 
  <ul><li><code>ospf network-type broadcast</code></li></ul> </li><li>配置接口DR优先级 
  <ul><li><code>ospf dr-priority (参数)</code></li></ul> </li></ul> 
<h3><a id="OSPF_640"></a>OSPF开销值，协议优先级及计时器的修改</h3> 
<ul><li>修改ospf协议优先级 
  <ul><li><code>prefernece (参数)</code></li></ul> </li><li>配置运行ospf协议所需开销值 
  <ul><li><code>ospf cost (参数)</code></li></ul> </li><li>修改hello计时器命令 
  <ul><li><code>ospf timer hello (参数)</code></li></ul> </li><li>修改dead计时器命令 
  <ul><li><code>ospf timer dead(参数)</code></li></ul> </li></ul> 
<h2><a id="RIPOSPF_651"></a>RIP与OSPF的配置</h2> 
<ul><li>双向引入路由命令 
  <ul><li><code>import-route (参数rip/ospf)</code></li></ul> </li><li>手工配置引入时的开销 
  <ul><li><code>imoprt-toute (rip/ospf) cost (ospf/rip)</code></li></ul> </li><li>rip默认路由发布 
  <ul><li><code>default-route originate</code></li></ul> </li><li>ospf默认路由发布 
  <ul><li><code>default-route-advertise always</code></li></ul> </li></ul> 
<h2><a id="IPv6_662"></a>IPv6</h2> 
<ul><li>开启ipv6全局功能 
  <ul><li><code>ipv6</code></li></ul> </li><li>在端口下开启ipv6功能 
  <ul><li><code>ipv6 enable</code></li></ul> </li><li>配置自动生成的链路本地地址 
  <ul><li><code>ipv6 address auto link-local</code></li></ul> </li><li>查看自动生成的链路本地地址 
  <ul><li><code>display ipv6 interface</code></li></ul> </li><li>配置ipv6命令 
  <ul><li><code>ipv6 address (地址)</code></li></ul> </li><li>查看配置的全局地址 
  <ul><li><code>display ipv6 interface(接口号)</code></li></ul> </li><li>配置结果查看命令 
  <ul><li><code>display ipv6 interface brief</code></li></ul> </li></ul> 
<h2><a id="DHCP_679"></a>DHCP</h2> 
<ul><li>开启dhcp功能 
  <ul><li><code>dhcp enable</code>【全局】</li></ul> </li><li>开启接口dhcp服务功能 
  <ul><li><code>dhcp select interface</code></li></ul> </li><li>配置租期 
  <ul><li><code>dhcp servse lease [day] [hour] [minute]</code></li></ul> </li><li>配置地址池中不参与分配的地址范围 
  <ul><li><code>dhcp server excluded-ip-address (ip段始)（ip段尾)</code></li></ul> </li><li>指定接口下dns服务器 
  <ul><li><code>dhcp server dns-list (ip 地址)</code></li></ul> </li><li>查看dhcp地址池中地址分布情况 
  <ul><li><code>display ip pool</code></li></ul> </li><li>创建一个全局地址池 
  <ul><li><code>ip pool (名称)</code></li></ul> </li><li>配置全局地址池分配网段范围 
  <ul><li><code>network（ip地址)</code></li></ul> </li><li>配置dncp客户端网关地址 
  <ul><li><code>gateway-list (ip地址)</code></li></ul> </li><li>开启接口的dncp功能使用全局地址池为客户端分配地址 
  <ul><li><code>dhcp select global</code></li></ul> </li><li>开启接口dhcp中继gon功能 
  <ul><li><code>dhcp select relay</code></li></ul> </li><li>指定dhcp服务器地址 
  <ul><li><code>dhcp reley server-ip (ip地址)</code></li></ul> </li><li>创建dhcp服务器组 
  <ul><li><code>dhcp server group (名称)</code></li></ul> </li><li>添加远端dhcp服务器组 
  <ul><li><code>dhcp-server (ip地址)</code></li></ul> </li><li>配置端口到指定的服务器组 
  <ul><li><code>dhcp relay server-select (名称)</code></li></ul> </li></ul> 
<h2><a id="ACL_712"></a>基本ACL</h2> 
<ul><li>基本acl规则的命令结构 
  <ul><li><code>rule [rule-id] {deny|permit} [source {source-address source-wildcard|any }|fragment|logging|time-range time-name]</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>rele-id表示这条规则的编号，默认步长位5</li><li>deny|permit表示这条规则的相关处理动作。deny表示"拒绝"；permit表示"允许"</li><li>source表示源ip地址信息</li><li>source-address表示具体的源ip地址</li><li>source-wildcard表示与source-address相对应得匹配符</li><li>any表示源ip地址可以是任何地址</li><li>fragment表示该规则只对分区非首片分区报文有效</li><li>logging表示需要将匹配上该规则的ip报文进行日志记录</li><li>time-range time-name表示该规则的生效时间段为time-name</li></ul> 
</blockquote> 
<p><strong>编号区分</strong></p> 
<ul><li> <p>2000~2999基本acl</p> </li><li> <p>3000~3999高级acl</p> </li><li> <p>4000~4999二层acl</p> </li><li> <p>5000~5999自定义acl</p> </li><li> <p>创建ACL：acl (编号)</p> </li><li> <p>拒接源ip地址规报文则</p> 
  <ul><li><code>rule deny source (ip地址) (匹配符)</code></li></ul> </li><li> <p>拒接目的ip地址报文规则</p> 
  <ul><li><code>rule deny destination (ip地址) (匹配符)</code></li></ul> </li><li> <p>使用报文过滤技术将acl规则应用到接口上</p> 
  <ul><li><code>traffic-filter [utbound/inbound] acl (编号)</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>utbound表示出站</li><li>inbound表示入站</li></ul> 
</blockquote> 
<ul><li>允许源地址的规则 
  <ul><li><code>rule (规则id) permit source (ip地址)（子网掩码）[any]</code></li></ul> </li><li>拒接源地址的规则 
  <ul><li><code>rule (规则id）deny source (ip地址)（子网掩码）[any]</code></li></ul> </li><li>查看acl（编号)的配置 
  <ul><li><code>display acl (编号)</code></li></ul> </li></ul> 
<h3><a id="_752"></a>基础过滤工具</h3> 
<ul><li>数据方向调用acl 
  <ul><li>`acl(编号) [inbound//utbound]</li></ul> </li><li>查看设备控制访问列表 
  <ul><li>`display acl all</li></ul> </li></ul> 
<h2><a id="acl_759"></a>高级acl规则格式</h2> 
<ul><li>高级acl规则的命令结构 
  <ul><li>`rule (规则id） permit|deny (协议) source (ip地址）（子网掩码) [any]</li></ul> </li><li>配置(filter-policy）过滤策略调用acl 
  <ul><li><code>filter-policy (acl编号) impory</code></li></ul> </li><li>配置前缀列表过滤路由 
  <ul><li><code>ip ip-prefix 1 deny (ip地址) (子网掩码) greater-equal (网络位) less-equal（网络位)</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>greater-equal表示大于等于</li><li>less-equal表示小于等于</li></ul> 
</blockquote> 
<ul><li>配置放行所有其它路由 
  <ul><li><code>ip ip-prefix 1 permit 0.0.0.0 0 less-equal 32</code></li></ul> </li><li>配置(filter-policy）过滤策略调前缀列表 
  <ul><li><code>filter-policy ip-prefix 1 import</code></li></ul> </li></ul> 
<h2><a id="SNMP_776"></a>SNMP协议基础配置</h2> 
<ul><li>开启agent命令 
  <ul><li>`snmp-agent</li></ul> </li><li>查看系统信息 
  <ul><li><code>display SNMP-agent sys-info</code></li></ul> </li><li>配置snmp版本 
  <ul><li><code>snmp-agent sys-info [v1/v2c/v3]</code></li></ul> </li><li>查看agent信息 
  <ul><li><code>display snmp-agent sys-info version</code></li></ul> </li></ul> 
<p><strong>配置nms管理权限</strong></p> 
<ul><li>限制管理设备 
  <ul><li><code>rule (规则编号) permit source (ip地址) (子网掩码)</code></li></ul> </li><li>不允许管理设备 
  <ul><li><code>rule (规则编号) deny source (ip地址) (子网掩码)</code></li></ul> </li><li>配置用户组，用户名，并指定使用acl 
  <ul><li><code>snmp-agent usm-user v3 (用户名) (用户组）acl (编号)</code></li></ul> </li><li>查看SNMPv3的用户信息 
  <ul><li><code>display snmp-agent sum-user</code></li></ul> </li><li>配置Agent发送trap消息 
  <ul><li><code>snmp-agent target-host trap-hostname (网管名) address (目标地址池)</code></li><li><code>udp-port (端口号) trap-paramsname (网管名)</code></li></ul> </li><li>开启设备告警开关 
  <ul><li><code>snmp-agent trap enable</code></li></ul> </li><li>设置告警消息列队长度 
  <ul><li><code>snmp-agent trap queue-size (参数值)</code></li></ul> </li><li>设置报文消息保存时间 
  <ul><li><code>snmp-agent trap life (参数值)</code></li></ul> </li><li>配置管理员联系方式 
  <ul><li><code>snmp-agent sys-info contact call admin (电话号码)</code></li></ul> </li><li>查看snmp Agent输出网管 
  <ul><li><code>display snmp-agent target-host</code></li></ul> </li></ul> 
<h2><a id="GREtunnel_811"></a>GRE协议基本配置(tunnel隧道创建)</h2> 
<ul><li>创建隧道接口 
  <ul><li><code>interface tunnel (接口号)</code></li></ul> </li><li>指定隧道模式为gre 
  <ul><li><code>tunnel-protocol gre</code></li></ul> </li><li>配置接口源地址 
  <ul><li>`source (ip地址)</li></ul> </li><li>配置 接口目标地址 
  <ul><li><code>destination (ip地址)</code></li></ul> </li></ul> 
<blockquote> 
 <ul><li>一条隧道链路两端接口ip地址必须在同一个网站</li></ul> 
</blockquote> 
<h2><a id="NAT_824"></a>NAT</h2> 
<ul><li>静态nat内部地址池到外部地址池一对一转换 
  <ul><li><code>nat static global (外部地址) inside (内部地址)</code></li></ul> </li><li>查看静态ntp配置信息 
  <ul><li><code>display nat static</code></li></ul> </li><li>配置nat outbound 外网地址池 
  <ul><li><code>nat addres-group 1 (头ip地址) (尾ip地址)</code></li><li><code>acl (编号)</code></li><li><code>rule (规则编号)permit source (ip地址) (子网掩码)</code></li></ul> </li><li>在接口下将acl与地址池相关联 
  <ul><li><code>nat outbounb (acl编号) address-group 1 no-pat</code></li></ul> </li></ul> 
<blockquote> 
 <p>只有acl规定的地址才可以使用地址池进行地址转换</p> 
</blockquote> 
<ul><li>查看NAT outbound信息 
  <ul><li><code>display nat outbound</code></li></ul> </li><li>在接口上配置Easy-ip特性，使用接口地址为转化后的地址 
  <ul><li><code>nat outbound (acl编号)</code></li></ul> </li><li>查看NAT Session的详细信息 
  <ul><li><code>display nat session protocol udp verbose</code></li></ul> </li><li>在接口指定内网服务器映射之外网，外网访问内网服务器,指定服务器通信协议类型为tcp 
  <ul><li><code>nat server protocol [tcp(协议类型)] global (服务器公网地址）[fcp(服务协议)] inside (服务器私网地址) [ftp(协议端口号，ftp协议默认端口号为21)]</code></li></ul> </li><li>启用nat alc功能 
  <ul><li><code>nat alg ftp enable</code></li></ul> </li><li>查看nat server信息 
  <ul><li><code>display nat server</code></li></ul> </li></ul> 
<h2><a id="VRRP_852"></a>VRRP</h2> 
<ul><li> <p>在接口穿件vrrp备份组</p> 
  <ul><li><code>vrrp vrid (id号) virtual-ip (ip地址)</code></li></ul> </li><li> <p>配置接口vrrp优先级</p> 
  <ul><li><code>vrrp vrid (id 号) priority (参数)</code></li></ul> </li><li> <p>查看vrrp信息</p> 
  <ul><li><code>display vrrp brief(简要状态)|interface (详细状态)</code></li></ul> </li><li> <p>修改虚拟组为非抢占模式</p> 
  <ul><li><code>vrrp vrid (id号) preempt-mode disable</code></li></ul> </li><li> <p>配置上行接口监控</p> 
  <ul><li><code>vrrp vrid (id号) track interface(上行接口号) reduced (参数)</code></li></ul> </li><li> <p>vrrp接口md5认证</p> 
  <ul><li><code>vrrp vrid (id号) authentication-mode md5（密码)</code></li></ul> <p>以上内容均属原创，如有不详或错误，敬请指出。</p> </li></ul> 
<div class="copyright notice "> 
 <div class="author"> 
  <b>本文作者： </b> 
  <a href="https://blog.csdn.net/qq_45668124" target="_blank" rel="noopener noreferrer"> <b>坏坏</b> </a> 
 </div> 
 <div class="link"> 
  <b>本文链接：</b> https://blog.csdn.net/qq_45668124/article/details/107160712 
 </div> 
 <div class="copyright"> 
  <b> 版权声明： </b> 本博客所有文章除特别声明外，均采用 
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow"> CC BY-NC-SA 4.0 </a> 许可协议。转载请联系作者，注明出处！并附带本文链接！ 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d3fa35d3c70828230eb5c219a2ffdd52/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">七周学会数据分析|良心教程 第二周</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6133bd8f1320c2774ce5306d657aa2df/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java中返回两个参数问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>