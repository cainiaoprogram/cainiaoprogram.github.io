<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于python实现最近邻插值双线性插值径向基函数插值（代码实现详细教程） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于python实现最近邻插值双线性插值径向基函数插值（代码实现详细教程）" />
<meta property="og:description" content="三种插值方法都是使用Python自己实现的。
1.1 最近邻插值 寻找每个中心点周围的八个点中有无未丢失的点，如果有的话就赋值为第一个找到的点，如果没有就扩大范围再次寻找，在最大范围内都找不到的话就跳过。
1.2 双线性插值 使用解方程的方法求解，整体思路类似colorization作业的实现，每个点用周围的八个点线性表示，根据距离为1和确定两个权重。四个边界上的点只会由五个邻居来表示，每个权重为0.2，线性平均求和。构建稀疏矩阵，求解，A为权重的稀疏矩阵，x为一个通道上的像素点值，b为原图中保留的像素点的值。
1.3 径向基函数插值 确定一个邻域，根据邻域内的已知点，求解出rbf函数的参数w，然后使用w和这个径向基函数对邻域内的未知点进行拟合。算法有两个超参数——邻域大小、邻域移动的步长。邻域越大、步长越小计算结果越好，但是花费时间也越长。总共实现了以下六个rbf基函数。
三种算法都实现读取RGB通道的图像，将RGB转换成YUV进行运算，最后将结果转换为RGB图像进行展示、保存和评估。之所以进行转换是因为使用YUV可以保证所有的运算都是以float类型进行的，只在开始和结束进行两次转换，可以保证计算的正确性。一开始直接使用RGB通道进行计算，结果会出现异常，如下所示（90%的丢失率）, 可能是由于中间int和float的类型转换导致的，因为统一使用YUV格式计算后问题就被规避了：
另外RBF插值中如果步长过大，会导致结果分块现象明显，下面是一个极端的情况，分块之间有一个像素点未被计算：
二、随机丢点的评估 使用RBF进行插值计算非常慢，所以选择了一幅较小的图片进行连续的评估，原图如下：
2.1 肉眼观察 以下分别是丢失率从0.1到0.9的修复结果，从左向右依次是bilinear、nearest、RBF(使用multiquadric 基函数)：
从上图的变化中可以看出在丢失率比较小的时候，三种算法并没有什么肉眼可见的差异，几乎都和原图相同。但是随着丢失率的上升，三种算法差异比较明显：
最近邻算法（中间）的结果变的模糊，并且有些走样，出现了原图中没有的结构双线性插值（左边）也有些模糊，但是看起来像是做过滤波平滑一样，但人脸结构都是正常的
RBF插值（右边）的结果看起来比双线性的结果要清晰一些，也没有出现太多走样，但是有一些分块的边界比较明显，应该是因为设置的步长过大。下面在丢失率为90%时使用三种算法进行还原： 都能对图像做出不错的还原效果，但是最近邻插值会产生原本图像中没有的结构。
2.2 指标变化曲线 种算法比较 在上面的测试中，三种评价指标随丢失率增长的变化曲线如下所示：
三种指标都可以看出RBF的结果最好，并且随着丢失率的增大，MSE增大、PSNR减小、SSIM减小的趋势也都是合理的。尤其是SSIM衡量结构相似性，在丢失率很小的时候三种算法都接近于1，这和上面肉眼观察的结果也是相同的。
RBF三种基函数比较
仍然是使用上面测试的那张图片，三种基函数中multiquadric和TPS的结果几乎是一模一样的，三个指标的曲线都是重合的，inverse quadric函数的结果要比另外两个差很多。
下面展示了丢失率在60%~90%时三种基函数对应的结果，很明显的可以看出inverse quadratic的效果非常差，还不如上面的最近邻插值，而另外两种基函数的结果没有太大差异，跟上面三种评价曲线的结果是一致的。
除了inverse quadratic函数之外，gaussian函数的效果也不好，这是因为修复的结果和径向基函数的系数是有关系的，而基函数中都默认为1，没有具体变化，所以导致有的基函数效果很差。
三、涂鸦、写字等破坏的评估 3.1 结果展示 对三幅图片分别进行了涂鸦、写字等破坏，修复结果如下：
显然最近邻算法的效果最差，都没能把涂鸦全都填起来，这应该是因为寻找的范围还不够大，有一些点正好处在全部都是空白的区域。另外两种的效果差不多，双线性修补结果更模糊一些，看起来效果甚至更好。
显然可以看出写字的修复效果要比画线的效果好得多，虽然一行字看着和涂鸦的宽度差不多，但是字母或者汉字并不是完全把小区域内的像素毁掉，而是留有一些缝隙，这些保留的缝隙正好可以起到很好的修复效果，所以就算是最近邻算法都有了比较好的表现。
可以看出仍然是最近邻算法的修复效果最差，尤其是对于画线的涂鸦部分，并且“董威龙”文字的部分修复效果也不好，因这个三个字笔画比较多，涂鸦效果基本和画线一样。bilinear和RBF效果差不多，涂鸦的部分虽然修复了，但是看着有一点模糊。
3.2 指标得分 以下是MSE、PSNR、SSIM三种损失评价的结果（MSE和SSIM使用Python提供的库，PSNR使用MSE结果自己计算）：
MSE 图一
图二
图三
RBF
15.85
10.72
9.10
bilinear
14.42
10.96
9.29
nearest
15.68
10.79
9.07
PSNR 图一
图二
图三
RBF
36.13
37.82
38.54" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/18e4d4407b83bdbd68a4241869e6029e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-13T15:51:16+08:00" />
<meta property="article:modified_time" content="2023-01-13T15:51:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于python实现最近邻插值双线性插值径向基函数插值（代码实现详细教程）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;"><span class="kdocs-fontSize" style="font-size:16pt;">三种插值方法都是使用Python自己实现的。</span></p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.1 最近邻插值</span></h3> 
 <p style="text-align:left;">寻找每个中心点周围的八个点中有无未丢失的点，如果有的话就赋值为第一个找到的点，如果没有就扩大范围再次寻找，在最大范围内都找不到的话就跳过。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.2 双线性插值</span></h3> 
 <p style="text-align:left;">使用解方程的方法求解，整体思路类似colorization作业的实现，每个点用周围的八个点线性表示，根据距离为1和确定两个权重。四个边界上的点只会由五个邻居来表示，每个权重为0.2，线性平均求和。构建稀疏矩阵，求解，A为权重的稀疏矩阵，x为一个通道上的像素点值，b为原图中保留的像素点的值。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">1.3 径向基函数插值</span></h3> 
 <p style="text-align:left;">确定一个邻域，根据邻域内的已知点，求解出rbf函数的参数w，然后使用w和这个径向基函数对邻域内的未知点进行拟合。算法有两个超参数——邻域大小、邻域移动的步长。邻域越大、步长越小计算结果越好，但是花费时间也越长。总共实现了以下六个rbf基函数。</p> 
 <p style="text-align:left;">三种算法都实现读取RGB通道的图像，将RGB转换成YUV进行运算，最后将结果转换为RGB图像进行展示、保存和评估。之所以进行转换是因为使用YUV可以保证所有的运算都是以float类型进行的，只在开始和结束进行两次转换，可以保证计算的正确性。一开始直接使用RGB通道进行计算，结果会出现异常，如下所示（90%的丢失率）, 可能是由于中间int和float的类型转换导致的，因为统一使用YUV格式计算后问题就被规避了：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:65.810814%;height:0;"> 
    <img src="https://images2.imgbox.com/e7/9b/cbOoXe2r_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-65.810814%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">另外RBF插值中如果步长过大，会导致结果分块现象明显，下面是一个极端的情况，分块之间有一个像素点未被计算：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:436px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:128.89908%;height:0;"> 
    <img src="https://images2.imgbox.com/3e/82/53onQh03_o.jpg" style="margin-left:;display:block;width:436px;margin-top:-128.89908%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">二、随机丢点的评估</span></h2> 
 <hr> 
 <p style="text-align:left;">使用RBF进行插值计算非常慢，所以选择了一幅较小的图片进行连续的评估，原图如下：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:96px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:100.0%;height:0;"> 
    <img src="https://images2.imgbox.com/da/2b/mdDf0gV7_o.jpg" style="margin-left:;display:block;width:96px;margin-top:-100.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.1 肉眼观察</span></h3> 
 <hr> 
 <p style="text-align:left;">以下分别是丢失率从0.1到0.9的修复结果，从左向右依次是bilinear、nearest、RBF(使用multiquadric 基函数)：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:555px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:89.189186%;height:0;"> 
    <img src="https://images2.imgbox.com/5f/cc/yXaQrDWc_o.jpg" style="margin-left:;display:block;width:555px;margin-top:-89.189186%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:547px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:109.5064%;height:0;"> 
    <img src="https://images2.imgbox.com/72/d4/o4FNuepX_o.jpg" style="margin-left:;display:block;width:547px;margin-top:-109.5064%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">从上图的变化中可以看出在丢失率比较小的时候，三种算法并没有什么肉眼可见的差异，几乎都和原图相同。但是随着丢失率的上升，三种算法差异比较明显：</p> 
 <p style="text-align:left;">最近邻算法（中间）的结果变的模糊，并且有些走样，出现了原图中没有的结构双线性插值（左边）也有些模糊，但是看起来像是做过滤波平滑一样，但人脸结构都是正常的</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">RBF插值（右边）的结果看起来比双线性的结果要清晰一些，也没有出现太多走样，但是有一些分块的边界比较明显，应该是因为设置的步长过大。下面在丢失率为90%时使用三种算法进行还原：</code></pre> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:72.02702%;height:0;"> 
    <img src="https://images2.imgbox.com/ba/ef/44EljRfw_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-72.02702%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:70.810814%;height:0;"> 
    <img src="https://images2.imgbox.com/1c/fc/FLZSUH9i_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-70.810814%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">都能对图像做出不错的还原效果，但是最近邻插值会产生原本图像中没有的结构。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">2.2 指标变化曲线</span></h3> 
 <hr> 
 <p style="text-align:left;">种算法比较 在上面的测试中，三种评价指标随丢失率增长的变化曲线如下所示：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/1a/96/WSkgAIX6_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/f3/68/VwFv05gz_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/01/b7/LoBBRJeR_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">三种指标都可以看出RBF的结果最好，并且随着丢失率的增大，MSE增大、PSNR减小、SSIM减小的趋势也都是合理的。尤其是SSIM衡量结构相似性，在丢失率很小的时候三种算法都接近于1，这和上面肉眼观察的结果也是相同的。</p> 
 <p style="text-align:left;">RBF三种基函数比较</p> 
 <p style="text-align:left;">仍然是使用上面测试的那张图片，三种基函数中multiquadric和TPS的结果几乎是一模一样的，三个指标的曲线都是重合的，inverse quadric函数的结果要比另外两个差很多。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/57/d5/QJ4pu8BY_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/a7/35/PiO0uxrM_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:636px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:75.0%;height:0;"> 
    <img src="https://images2.imgbox.com/84/d7/jsFovLkB_o.jpg" style="margin-left:;display:block;width:636px;margin-top:-75.0%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">下面展示了丢失率在60%~90%时三种基函数对应的结果，很明显的可以看出inverse quadratic的效果非常差，还不如上面的最近邻插值，而另外两种基函数的结果没有太大差异，跟上面三种评价曲线的结果是一致的。</p> 
 <p style="text-align:left;">除了inverse quadratic函数之外，gaussian函数的效果也不好，这是因为修复的结果和径向基函数的系数是有关系的，而基函数中都默认为1，没有具体变化，所以导致有的基函数效果很差。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:562px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:98.0427%;height:0;"> 
    <img src="https://images2.imgbox.com/d6/c5/0jHYNOnj_o.jpg" style="margin-left:;display:block;width:562px;margin-top:-98.0427%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:673px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:63.001484%;height:0;"> 
    <img src="https://images2.imgbox.com/29/90/Vzfslj8h_o.jpg" style="margin-left:;display:block;width:673px;margin-top:-63.001484%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <h2 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">三、涂鸦、写字等破坏的评估</span></h2> 
 <hr> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.1 结果展示</span></h3> 
 <hr> 
 <p style="text-align:left;">对三幅图片分别进行了涂鸦、写字等破坏，修复结果如下：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:68.51351%;height:0;"> 
    <img src="https://images2.imgbox.com/df/b3/9M8N3qUk_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-68.51351%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:46.216213%;height:0;"> 
    <img src="https://images2.imgbox.com/d1/e2/URTpXlRj_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-46.216213%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">显然最近邻算法的效果最差，都没能把涂鸦全都填起来，这应该是因为寻找的范围还不够大，有一些点正好处在全部都是空白的区域。另外两种的效果差不多，双线性修补结果更模糊一些，看起来效果甚至更好。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:51.216217%;height:0;"> 
    <img src="https://images2.imgbox.com/14/34/UXlxujxj_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-51.216217%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:34.18919%;height:0;"> 
    <img src="https://images2.imgbox.com/b9/11/Fzjo47La_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-34.18919%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">显然可以看出写字的修复效果要比画线的效果好得多，虽然一行字看着和涂鸦的宽度差不多，但是字母或者汉字并不是完全把小区域内的像素毁掉，而是留有一些缝隙，这些保留的缝隙正好可以起到很好的修复效果，所以就算是最近邻算法都有了比较好的表现。</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:69.86487%;height:0;"> 
    <img src="https://images2.imgbox.com/61/2a/loE5zulu_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-69.86487%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:47.432434%;height:0;"> 
    <img src="https://images2.imgbox.com/06/21/ghCpNpiq_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-47.432434%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">可以看出仍然是最近邻算法的修复效果最差，尤其是对于画线的涂鸦部分，并且“董威龙”文字的部分修复效果也不好，因这个三个字笔画比较多，涂鸦效果基本和画线一样。bilinear和RBF效果差不多，涂鸦的部分虽然修复了，但是看着有一点模糊。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.2 指标得分</span></h3> 
 <hr> 
 <p style="text-align:left;">以下是MSE、PSNR、SSIM三种损失评价的结果（MSE和SSIM使用Python提供的库，PSNR使用MSE结果自己计算）：</p> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">MSE</code></pre> 
 <div style="max-width:100%;overflow-x:auto;"> 
  <table class="kdocs-table" border="1" style="table-layout:fixed;width:28px;"><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图一</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图二</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图三</span></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">RBF</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">15.85</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">10.72</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">9.10</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">bilinear</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">14.42</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">10.96</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">9.29</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">nearest</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">15.68</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">10.79</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">9.07</p></td></tr></tbody></table> 
 </div> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">PSNR</code></pre> 
 <div style="max-width:100%;overflow-x:auto;"> 
  <table class="kdocs-table" border="1" style="table-layout:fixed;width:28px;"><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图一</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图二</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图三</span></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">RBF</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">36.13</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">37.82</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">38.54</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">bilinear</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">36.54</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">37.73</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">38.44</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">nearest</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">36.17</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">37.80</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">38.31</p></td></tr></tbody></table> 
 </div> 
 <pre class="kdocs-plaintext"><code class="language-plaintext">SSIM</code></pre> 
 <div style="max-width:100%;overflow-x:auto;"> 
  <table class="kdocs-table" border="1" style="table-layout:fixed;width:28px;"><tbody><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图一</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图二</span></p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">图三</span></p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">RBF</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.934</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.981</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.980</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">bilinear</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.948</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.975</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.978</p></td></tr><tr class="kdocs-tableRow"><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">nearest</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.881</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.970</p></td><td class="kdocs-tableCell" style="width:184px;vertical-align:top;height:51px;"><p style="text-align:left;">0.961</p></td></tr></tbody></table> 
 </div> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.3 极限测试</span></h3> 
 <hr> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:69.72973%;height:0;"> 
    <img src="https://images2.imgbox.com/36/8d/1VFNe88H_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-69.72973%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:45.945946%;height:0;"> 
    <img src="https://images2.imgbox.com/5f/1e/6IyLyobV_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-45.945946%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:left;">双线性插值在涂鸦部分是有所变化的，像是加上了一层半透明的蒙版效果，具有了图像本身的色调，这是因为双线性插值的算法是解一次方程得到整张图中一个通道的所有像素点信息，具有一定的全局性。</p> 
 <p style="text-align:left;">最近邻插值和RBF插值只是在一个局部邻域内进行计算，由于图片整个上半部分都被去除，邻域内没有任何已知点，所以得不到计算的结果，RBF略强于最近邻插值，在边界处图像有了一定的变化。</p> 
 <h3 style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">3.4 总结</span></h3> 
 <hr> 
 <p style="text-align:left;">查了一些近年来的图像修复算法，几乎全都是深度学习相关算法，并且大部分是基于CVPR 2016的Context-Encoders方法，使用了CNN+GAN，由于时间不够没有拿这些新的方法与作业中的方法对比。综合以上比较来看，双线性差值的效果应该是最好的，因为双线性插值的速度远快于RBF插值，这可能也跟RBF插值的实现不够“优雅”有关。并且对于相同算法，使用MATLAB的同学计算速度要比Python快一些，而且MATLAB的结果中MSE损失的数值平均比Python小一些，可能MATLAB对于数值计算有更好的优化。</p> 
 <p style="text-align:left;"></p> 
 <p style="text-align:left;">完整代码：</p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://download.csdn.net/download/qq_38735017/87380756?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167359597116800182192106%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fdownload.%2522%257D&amp;request_id=167359597116800182192106&amp;biz_id=1&amp;utm_medium=distribute.pc_search_result.none-task-download-2~download~first_rank_ecpm_v1~rank_v31_ecpm-1-87380756-null-null.pc_v2_rank_dl_default&amp;utm_term=%E5%9F%BA%E4%BA%8EPython%E5%AE%9E%E7%8E%B0%E7%A7%8D%E5%B7%AE%E5%80%BC%E6%96%B9%E6%B3%95%20%282%29&amp;spm=1018.2226.3001.4451.1" target="_blank" rel="noopener noreferrer">https://download.csdn.net/download/qq_38735017/87380756?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167359597116800182192106%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fdownload.%2522%257D&amp;request_id=167359597116800182192106&amp;biz_id=1&amp;utm_medium=distribute.pc_search_result.none-task-download-2~download~first_rank_ecpm_v1~rank_v31_ecpm-1-87380756-null-null.pc_v2_rank_dl_default&amp;utm_term=%E5%9F%BA%E4%BA%8EPython%E5%AE%9E%E7%8E%B0%E7%A7%8D%E5%B7%AE%E5%80%BC%E6%96%B9%E6%B3%95%20%282%29&amp;spm=1018.2226.3001.4451.1</a></p> 
 <p style="text-align:left;"></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7f83c983127f9d3f4282aef5b528ef26/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">YOLOv5训练自己的数据集(超详细)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db56c8604ca62bd2da655f8ab225b7ae/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring常用注解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>