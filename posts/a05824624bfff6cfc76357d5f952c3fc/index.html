<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>操作系统期末重点复习 （南昌大学） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="操作系统期末重点复习 （南昌大学）" />
<meta property="og:description" content="本人一名大三学生，最近要期末考试了自己整理一下操作系统需要复习的重点希望对大家的期末复习有帮助-
带！！的是老师着重强调的
第一章–计算机系统概述 1.现代操作系统的特点和主要功能 并发：指两个或多个事件在同一时间间隔内发生
共享：指系统中的资源可供多个并发执行的进程使用
虚拟：虚拟是指把物理上的实体变为若干逻辑上的对应物
异步：多道程序环境下由于资源有限，进程的执行并不是贯彻到底的，而是走走停停，以不可预知的速度向前执行
功能：
a.操作系统作为计算机资源的管理者：处理机管理、存储器管理、文件管理、设备管理
b.操作系统作为用户和计算机硬件系统之间的接口：命令接口（联机命令和脱机命令）、程序接口
c.操作系统实现了对计算机资源的扩充
2.不同的操作系统的特点： a.批处理：
单批道：每次内存中仅放一道作业，每当它在运行期间发出IO请求时就会让CPU陷入低速的IO中导致CPU空闲等待时间过长
多批道：允许多个程序同时进入内存并允许它们在CPU上交替的运行，资源利用率高但不提供人机交互能力，无法调试
b.分时操作系统
分时技术：将处理机的运行时间分为很短的时间片，按照时间片轮流把出库胡分配给各个联机作业使用
分时操作系统是指多个用户通过终端同时共享一台主机，这些终端连接在主机上，用户可以同时和主机进行交互操作而不受干扰。
主要有同时性、交互性、独立性、及时性的特点
c.实时操作系统
硬实时系统：某个动作必须在规定时间发生
软实时系统：接受偶尔违反时间规定且不会引起永久性伤害
d**.网络操作系统**
网络操作系统将计算机网络中的各台计算机有机的结合在一起，提供一种统一、经济而有效的使用各台计算机的方法，最主要的特点就是网络中各种资源的共享及各台计算机之间的通信
第二章–进程与线程 1.程序顺序执行和并发的特点 顺序执行时
1.顺序性：程序严格按照顺序执行
2.封闭性：程序运行时独占全机资源
3.可再现性：程序按顺序一定的速度执行，可再现
并发执行时
1.间断性：由于资源有限，并发进程之间会相互制约
2.失去封闭性：并发的程序共享计算机资源，这些资源的状态由这些程序一起改变
3.不可再现性：执行速度不确定，不可再现
2.！！进程的基本概念以及进程状态的切换 PCB：为了使参与并发的每个程序都能独立的运行，必须为之配备一个专门的数据结构，称为进程控制块PCB，系统利用PCB来描述进程的基本情况和运行状态，进而控制和管理进程
进程实体：由程序段、相关数据段和PCB三部分构成进程实体（进程映像）
进程：1）进程是程序的一次执行。2）进程是一个程序及数据在处理机上顺序执行发生的活动。3）进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的基本单位
PCB是进程存在的唯一标识
进程的状态有：就绪态、运行态、阻塞态
就绪态-运行态：操作系统从就绪链表中调度一个进程PCB进CPU
运行态-就绪态：一个进程时间片用完CPU必须去调度下一个进程时
运行态-阻塞态：进程在运行时需要等待一个事件的完成
阻塞态-就绪态：进程等待的事件完成
3.进程同步与互斥 同步：直接制约关系，为了完成某种任务的两个或者多个进程之间相互协调等待传递信息所产生的制约关系
互斥：间接制约关系，临界资源只能被一个进程访问到，其余访问的进程需dengdai
4.！！经典同步问题 1.生产者消费者问题
//简单 semaphore mutex=1; semaphore empty=n; semaphore full=0; producer(){ while(1){ produce an item in nextp; p(empty); p(mutex); add nextp to buffer; v(nutex); v(full); } } consumer(){ while(1){ p(full); p(mutex); remove an item from buffer; v(mutex); v(empty); consume the item; } } //复杂 //桌上只有一个盘子，每次只能放入一个水果，爸爸专门放苹果，妈妈专门放橘子，儿子专门等橘子，女儿专门等苹果 //只有盘子为空的时候才可以放入苹果，只有盘子里有各自需要的水果时儿子女儿才可以取出 semaphore plate=1,apple=0,orange=0; dad(){ while(1){ prepare an apple; p(plate); put the apple on the plate; v(apple); } } mom(){ while(1){ prepare orange; p(plate); put the orange on the plate; v(orange); } } son(){ while(1){ p(orange); take an orange from the plate; v(plate); eat; } } daughter(){ while(1){ p(apple); take an apple on the plate; v(plate); eat; } } 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a05824624bfff6cfc76357d5f952c3fc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T00:49:44+08:00" />
<meta property="article:modified_time" content="2024-01-09T00:49:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">操作系统期末重点复习 （南昌大学）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><em>本人一名大三学生，最近要期末考试了自己整理一下操作系统需要复习的重点希望对大家的期末复习有帮助<sup>-</sup></em></p> 
 <p><em>带！！的是老师着重强调的</em></p> 
</blockquote> 
<h2><a id="_6"></a>第一章–计算机系统概述</h2> 
<h3><a id="1_8"></a><strong>1.现代操作系统的特点和主要功能</strong></h3> 
<blockquote> 
 <p>并发：指两个或多个事件在同一时间间隔内发生</p> 
 <p>共享：指系统中的资源可供多个并发执行的进程使用</p> 
 <p>虚拟：虚拟是指把物理上的实体变为若干逻辑上的对应物</p> 
 <p>异步：多道程序环境下由于资源有限，进程的执行并不是贯彻到底的，而是走走停停，以不可预知的速度向前执行</p> 
 <p>功能：</p> 
 <p>a.操作系统作为计算机资源的管理者：处理机管理、存储器管理、文件管理、设备管理</p> 
 <p>b.操作系统作为用户和计算机硬件系统之间的接口：命令接口（联机命令和脱机命令）、程序接口</p> 
 <p>c.操作系统实现了对计算机资源的扩充</p> 
</blockquote> 
<h3><a id="2_26"></a><strong>2.不同的操作系统的特点：</strong></h3> 
<blockquote> 
 <p>a.<strong>批处理</strong>：</p> 
 <p>单批道：每次内存中仅放一道作业，每当它在运行期间发出IO请求时就会让CPU陷入低速的IO中导致<strong>CPU空闲等待时间过长</strong></p> 
 <p>多批道：允许多个程序同时进入内存并允许它们在CPU上交替的运行，资源利用率高但<strong>不提供人机交互能力，无法调试</strong></p> 
 <p>b.<strong>分时操作系统</strong></p> 
 <p>分时技术：将处理机的运行时间分为很短的时间片，按照时间片轮流把出库胡分配给各个联机作业使用</p> 
 <p>分时操作系统是指多个用户通过终端同时共享一台主机，这些终端连接在主机上，用户可以同时和主机进行交互操作而不受干扰。</p> 
 <p>主要有<strong>同时性、交互性、独立性、及时性</strong>的特点</p> 
 <p>c.<strong>实时操作系统</strong></p> 
 <p>硬实时系统：某个动作必须在规定时间发生</p> 
 <p>软实时系统：接受偶尔违反时间规定且不会引起永久性伤害</p> 
 <p>d**.网络操作系统**</p> 
 <p>网络操作系统将计算机网络中的各台计算机有机的结合在一起，提供一种统一、经济而有效的使用各台计算机的方法，最主要的特点就是<strong>网络中各种资源的共享及各台计算机之间的通信</strong></p> 
</blockquote> 
<h2><a id="_52"></a>第二章–进程与线程</h2> 
<h3><a id="1_54"></a><strong>1.程序顺序执行和并发的特点</strong></h3> 
<blockquote> 
 <p>顺序执行时</p> 
 <p>1.顺序性：程序严格按照顺序执行</p> 
 <p>2.封闭性：程序运行时独占全机资源</p> 
 <p>3.可再现性：程序按顺序一定的速度执行，可再现</p> 
 <p>并发执行时</p> 
 <p>1.间断性：由于资源有限，并发进程之间会相互制约</p> 
 <p>2.失去封闭性：并发的程序共享计算机资源，这些资源的状态由这些程序一起改变</p> 
 <p>3.不可再现性：执行速度不确定，不可再现</p> 
</blockquote> 
<h3><a id="2_72"></a><strong>2.！！进程的基本概念以及进程状态的切换</strong></h3> 
<blockquote> 
 <p>PCB：为了使参与并发的每个程序都能独立的运行，必须为之配备一个专门的数据结构，称为进程控制块PCB，系统利用PCB来描述进程的基本情况和运行状态，进而控制和管理进程</p> 
 <p>进程实体：由程序段、相关数据段和PCB三部分构成<strong>进程实体</strong>（进程映像）</p> 
 <p>进程：1）进程是<strong>程序的一次执行</strong>。2）进程是一个程序及数据在处理机上顺序执行发生的活动。3）进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的基本单位</p> 
 <p><strong>PCB是进程存在的唯一标识</strong></p> 
 <p><strong>进程的状态</strong>有：就绪态、运行态、阻塞态</p> 
 <p>就绪态-运行态：操作系统从就绪链表中调度一个进程PCB进CPU</p> 
 <p>运行态-就绪态：一个进程时间片用完CPU必须去调度下一个进程时</p> 
 <p>运行态-阻塞态：进程在运行时需要等待一个事件的完成</p> 
 <p>阻塞态-就绪态：进程等待的事件完成</p> 
</blockquote> 
<h3><a id="3_92"></a><strong>3.进程同步与互斥</strong></h3> 
<blockquote> 
 <p>同步：直接制约关系，为了完成某种任务的两个或者多个进程之间相互协调等待传递信息所产生的制约关系</p> 
 <p>互斥：间接制约关系，临界资源只能被一个进程访问到，其余访问的进程需dengdai</p> 
</blockquote> 
<h3><a id="4_98"></a><strong>4.！！经典同步问题</strong></h3> 
<blockquote> 
 <p>1.生产者消费者问题</p> 
 <pre><code class="prism language-java"><span class="token comment">//简单 </span>
semaphore mutex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
semaphore empty<span class="token operator">=</span>n<span class="token punctuation">;</span>
semaphore full<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">producer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        produce an item in nextp<span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        add nextp <span class="token keyword">to</span> <span class="token namespace">buffer</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>nutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>full<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">consumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>full<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        remove an item from buffer<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span><span class="token punctuation">;</span>
        consume the item<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//复杂</span>
<span class="token comment">//桌上只有一个盘子，每次只能放入一个水果，爸爸专门放苹果，妈妈专门放橘子，儿子专门等橘子，女儿专门等苹果</span>

<span class="token comment">//只有盘子为空的时候才可以放入苹果，只有盘子里有各自需要的水果时儿子女儿才可以取出</span>
semaphore plate<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>apple<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>orange<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function">dad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        prepare an apple<span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>plate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        put the apple on the plate<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>apple<span class="token punctuation">)</span><span class="token punctuation">;</span>        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">mom</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        prepare orange<span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>plate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        put the orange on the plate<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>orange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>orange<span class="token punctuation">)</span><span class="token punctuation">;</span>
        take an orange from the plate<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>plate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eat<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">daughter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>apple<span class="token punctuation">)</span><span class="token punctuation">;</span>
        take an apple on the plate<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>plate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eat<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
 <p>2.读者-写者问题</p> 
 <pre><code class="prism language-java"><span class="token comment">//读进程优先</span>
<span class="token keyword">int</span> count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore mutex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
semaphore  rw<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        write<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        	<span class="token function">p</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        reading<span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        	<span class="token function">v</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>nutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//写进程优先</span>
<span class="token keyword">int</span> count<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore mutex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
semaphore  rw<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
semaphore  w<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        write<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">v</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        	<span class="token function">p</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span>	
        reading<span class="token punctuation">;</span>

        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        	<span class="token function">v</span><span class="token punctuation">(</span>rw<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
       
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
 <p>3.哲学家进餐问题</p> 
 <pre><code class="prism language-java"><span class="token comment">//当哲学家两边的筷子都可用的时候才允许拿起筷子</span>
semaphore chop<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
sempahore mutex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">pi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>chop<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">p</span><span class="token punctuation">(</span>chop<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        eat<span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>chop<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">v</span><span class="token punctuation">(</span>chop<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        think<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
 <p>4.吸烟者问题</p> 
 <pre><code class="prism language-java"><span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore offer1<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore offer2<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore offer3<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
semaphore finish<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
process <span class="token function">p1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        num<span class="token operator">++</span><span class="token punctuation">;</span>
        num<span class="token operator">=</span>num<span class="token operator">%</span><span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
        	<span class="token function">v</span><span class="token punctuation">(</span>offer1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>
			<span class="token function">v</span><span class="token punctuation">(</span>offer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>
			<span class="token function">v</span><span class="token punctuation">(</span>offer3<span class="token punctuation">)</span><span class="token punctuation">;</span>
		任意两种材料放在桌子上
		<span class="token function">p</span><span class="token punctuation">(</span>finish<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
process <span class="token function">p2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//拥有烟草</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>offer3<span class="token punctuation">)</span>
        拿纸和胶水卷成烟抽掉
        <span class="token function">v</span><span class="token punctuation">(</span>finish<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
process <span class="token function">p3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//拥有纸</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>offer2<span class="token punctuation">)</span>
        拿烟草和胶水卷成烟抽掉
        <span class="token function">v</span><span class="token punctuation">(</span>finish<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
process <span class="token function">p4</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span><span class="token comment">//拥有胶水</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token function">p</span><span class="token punctuation">(</span>offer1<span class="token punctuation">)</span>
        拿纸和烟草卷成烟抽掉
        <span class="token function">v</span><span class="token punctuation">(</span>finish<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
</blockquote> 
<h3><a id="5_295"></a><strong>5.线程的基本概念和进程的区别</strong></h3> 
<blockquote> 
 <p>线程可以理解为<strong>轻量级的进程</strong>，是CPU基本的执行单元，也是程序执行流的最小单元，线程自己基本上不拥有系统资源</p> 
 <p>进程与线程的比较：</p> 
 <p>1）<strong>调度</strong>：在引入线程的操作系统中，线程是独立调度的基本单位，线程切换的代价远小于进程</p> 
 <p>2）<strong>并发性</strong>：引入线程的操作系统，不仅进程之间可以并发，多个线程之间也可以并发，提高系统的并发量</p> 
 <p>3）<strong>拥有资源</strong>：进程是操作系统中拥有资源的基本单位，而线程不拥有系统资源</p> 
 <p>4）<strong>独立性</strong>：每个进程都拥有独立的地址空间和资源，除了共享全局变量，不允许有其他进程访问。但同一进程间的线程共享进程的资源和地址空间</p> 
 <p>5）<strong>系统开销</strong>：在创建和撤销进程时，系统都需要为进程分配PCB以及其他资源空间，但线程所需资源少，切换代价小</p> 
 <p>6）<strong>支持多处理机系统</strong>：对于传统的单线程进程，不论有多少处理机，进程只能运行在一台处理机上，但对于多线程进程，可以将进程中的多个线程分配到多个处理机上去执行</p> 
</blockquote> 
<h3><a id="6_313"></a>6.作业调度和进程调度的基本概念</h3> 
<blockquote> 
 <p>一个作业从提交到完成往往需要经历三级调度</p> 
 <p>1）高级调度（<strong>作业调度</strong>）</p> 
 <p>按照一定的原则从不外存上处于后备队列的作业中挑选一个（或多个）给它们分配内存、IO设备等资源，并建立相应的进程，以使<strong>它们获得竞争处理机的权利</strong></p> 
 <p>作业调度就是外存和辅存之间的调度（选取作业）</p> 
 <p>2）中级调度（<strong>内存调度</strong>）</p> 
 <p>中级调度是为了提高内存的利用率和系统吞吐量，将那些暂时不能运行的进程调至外存等待，此时进程的状态称为<strong>挂起态</strong>，当它们具备运行条件并且内存也有空闲，中级调度决定将外存中那些就绪进程调回内存</p> 
 <p>中级调度实际上是存储器管理中的<strong>对换功能</strong></p> 
 <p>3）低级调度（<strong>进程调度</strong>）</p> 
 <p>按照某种算法从就绪队列中选取一个进程，将处理器分配给它</p> 
 <p>进程三级调度的<strong>关联</strong>：</p> 
 <p>1）作业调度为进程活动做准备，进程调度使进程正常活动起来</p> 
 <p>2）中级调度将暂时不能运行的进程挂起，处于作业调度和进程调度之间</p> 
 <p>3）作业调度次数少，中级调度次数略多，进程调度的频率最高</p> 
 <p>4）进程调度是最基本的 不可或缺的</p> 
</blockquote> 
<h3><a id="7_343"></a>7.！！典型的调度算法</h3> 
<blockquote> 
 <p>CPU利用率：CPU有效工作时间/CPU有效工作时间+CPU空闲等待时间</p> 
 <p>系统吞吐量：单位时间CPU完成作业的数量</p> 
 <p>周转时间：周转时间=作业完成时间-作业提交时间</p> 
 <p>平均周转时间：（作业1周转时间+…作业n周转时间）/n</p> 
 <p>带权周转时间：作业周转时间/作业实际运行时间</p> 
 <p>平均带权周转时间：（作业1带权周转时间+…作业n带权周转时间）/n</p> 
</blockquote> 
<blockquote> 
 <p>1.<strong>先来先服务</strong>（<strong>FCFS</strong>）算法（进程、作业调度）</p> 
 <table><thead><tr><th>作业号</th><th>提交时间</th><th>运行时间</th><th>开始时间</th><th>等待时间</th><th>完成时间</th><th>周转时间</th><th>带权周转时间</th></tr></thead><tbody><tr><td>1</td><td>8</td><td>2</td><td>8</td><td>0</td><td>10</td><td>2</td><td>1</td></tr><tr><td>2</td><td>8.4</td><td>1</td><td>10</td><td>1.6</td><td>11</td><td>2.6</td><td>2.6</td></tr><tr><td>3</td><td>8.8</td><td>0.5</td><td>11</td><td>2.2</td><td>11.5</td><td>2.7</td><td>5.4</td></tr><tr><td>4</td><td>9</td><td>0.2</td><td>11.5</td><td>1.5</td><td>11.7</td><td>2.7</td><td>13.5</td></tr></tbody></table> 
 <p>FCFS属于不可剥夺算法，从表面看对所有作业都公平但是若一个长作业到达系统，会使后面的短作业长时间陷入等待，因此它不能作为分时和实时系统的调度算法</p> 
 <p>FCFS特点：算法简单但效率低；对长作业有利但对短作业不利，有利于CPU繁忙而不利于IO繁忙</p> 
 <p>2.<strong>短作业优先</strong>（SJF）（进程、作业调度）</p> 
 <p>从后背队列里面选择一个若干运行时间最短的作业</p> 
 <table><thead><tr><th>作业号</th><th>提交时间</th><th>运行时间</th><th>开始时间</th><th>等待时间</th><th>完成时间</th><th>周转时间</th><th>带权周转时间</th></tr></thead><tbody><tr><td>1</td><td>8</td><td>2</td><td>8</td><td>0</td><td>10</td><td>2</td><td>1</td></tr><tr><td>2</td><td>8.4</td><td>1</td><td>10.7</td><td>2.3</td><td>11.7</td><td>3.3</td><td>3.3</td></tr><tr><td>3</td><td>8.8</td><td>0.5</td><td>10.2</td><td>1.4</td><td>10.7</td><td>1.9</td><td>3.8</td></tr><tr><td>4</td><td>9</td><td>0.2</td><td>10</td><td>1</td><td>10.2</td><td>1.2</td><td>6</td></tr></tbody></table> 
 <p>缺点：</p> 
 <p>1.对长作业帮不利，而且有可能会导致饥饿现象</p> 
 <p>2.该算法未考虑紧迫性的问题，不能保证紧迫作业会被优先处理</p> 
 <p>SJF算法的平均等待时间、平均周转时间最少</p> 
 <p>3.<strong>优先级调度算法</strong>（进程、作业调度）</p> 
 <p>根据新高优先级进程能否抢占正在进行的进程可以分为</p> 
 <p>1）非抢占式优先级调度算法</p> 
 <p>2）抢占式优先级调度算法</p> 
 <p>根据进程创建后优先级能否更新可以分为：</p> 
 <p>1）静态优先级</p> 
 <p>2）动态优先级</p> 
 <p>4.<strong>高响应比优先调度算法</strong>（主要用于作业调度）</p> 
 <p>先计算每个作业的响应比</p> 
 <p>响应比=等待时间+要求服务时间/要求服务时间</p> 
 <p>5.<strong>时间片轮转算法</strong></p> 
 <p>时间片轮转算法主要适用于分时系统，系统将所有的就绪进程按照FCFS策略排成一个就绪队列，按照时间片时间进行服务，如果能进程未结束则重新去队尾排队</p> 
 <p>6.<strong>多级反馈队列调度算法</strong></p> 
 <p>多级反馈队列调度算法是时间片轮转算法和优先级调度算法的综合与发展</p> 
 <p>实现思路：</p> 
 <p>1.设置多个就绪队列，并为每一个队列赋予不同的优先级，第一级的优先级最高，越大次之</p> 
 <p>2.赋予不用优先级不用的时间片，优先级越高时间片越小</p> 
 <p>3.每一个队列都采用FCFS算法，新进程进入内存后首先将它放在第一级队列的末尾，按照FCFS等待调度，如果可以一个时间片运行玩=完，则撤离系统，如果不能则加入第二级队列，以此类推</p> 
 <p>4.按照优先级调度，只有第一级队列为空才会调度第二级中的进程，若处理机在执行第i级队列中的某个进程，又有优先级高的新进程进入则必须将当前运行的进程放在该队列的末尾执行新进程</p> 
 <p>特点：</p> 
 <p>1）终端型作业用户：短作业优先</p> 
 <p>2）短批处理作业用户：周转时间较短</p> 
 <p>3）长批处理作业用户：不会长时间得不到处理</p> 
</blockquote> 
<h3><a id="8_435"></a>8.死锁的概念产生的原因</h3> 
<blockquote> 
 <p>死锁：多个进程因为竞争资源而造成互相等待，且若无外力作用进程无法向前推进的现象</p> 
 <p>原因：</p> 
 <p>1.系统中资源的竞争</p> 
 <p>2.进程推进顺序非法</p> 
 <p>死锁产生的必要条件：</p> 
 <p>1）<strong>互斥条件</strong>：临界资源互斥性</p> 
 <p>2）<strong>不剥夺条件</strong>：进程表获得资源在未使用完之前不能被其他进程强行夺走，只能自己主动释放</p> 
 <p>3）<strong>请求并保持</strong>：获得资源后请求新的资源，而该资源已经被其他进程占有也不释放自己所持有的资源</p> 
 <p>4）<strong>循环等待链</strong>：存在进程资源的循环等待链，链中的每个进程都等待下一个进程所持有的资源</p> 
</blockquote> 
<h3><a id="9_455"></a>9.！！银行家算法以及死锁的解除</h3> 
<blockquote> 
 <p>1）数据结构：</p> 
 <p>可利用资源Available：每一类可用资源数目</p> 
 <p>最大需求资源Max：每个进程对资源的最大需求</p> 
 <p>分配矩阵：Allocation 已经分配给进程的资源</p> 
 <p>需求矩阵：Need 对每一类资源的需求 Need=Max-Allocation</p> 
 <p>2)银行家算法描述</p> 
 <p><img src="https://images2.imgbox.com/8c/6c/US8vv3ru_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<blockquote> 
 <p>3）安全性算法</p> 
 <p>设置工作向量work，有m个元素，表示系统中剩余可用的资源数目，在执行安全性算法之前，work=Available</p> 
 <p>a.初始时安全序列为空</p> 
 <p>b.从need中找到符合下面条件的行：</p> 
 <p>该行对应的进程不在安全序列中，而且该行小于或等于work向量，找到后将该进程加入到安全序列；若找 不到执行d步骤</p> 
 <p>c.进程Pi进入到安全序列之后，可以顺利执行释放分配给它的资源，因此work=work+allocation</p> 
 <p>d.若此时安全序列已经有所有的进程，则系统处于安全状态，否则处于不安全状态</p> 
 <p>银行家算法举例</p> 
 <p>假设当前系统中的资源的分配和剩余情况如表</p> 
 <table><thead><tr><th>进程|资源情况</th><th>MAX(A B C)</th><th>Allocation(A B C)</th><th>Need</th><th>Available(A B C)</th></tr></thead><tbody><tr><td>P0</td><td>7 5 3</td><td>0 1 0</td><td>7 4 3</td><td>3 2 2</td></tr><tr><td>P1</td><td>3 2 2</td><td>2 0 0</td><td>1 2 2</td><td></td></tr><tr><td>P2</td><td>9 0 2</td><td>3 0 2</td><td>6 0 0</td><td></td></tr><tr><td>P3</td><td>2 2 2</td><td>2 1 1</td><td>0 1 1</td><td></td></tr><tr><td>P4</td><td>4 3 3</td><td>0 0 2</td><td>4 3 1</td><td></td></tr></tbody></table> 
 <p>(1)p1发出请求（1,0,2）系统按照银行家算法进行检查</p> 
 <p>Request1(1,0,2)&lt;=Need(1,2,2);</p> 
 <p>Request1(1,0,2)&lt;=Available(3,2,2);</p> 
 <p>系统先假定可以为P1分配资源，并修改</p> 
 <p>Available=Available-Request1=(2,3,0);</p> 
 <p>Allocation=Allocation+Request=(3,0,2);</p> 
 <p>Need=Need-Request=(0,2,0);</p> 
 <p>Work=Available=(2,3,0);</p> 
 <p>进行安全性检查</p> 
 <table><thead><tr><th>进程|资源情况</th><th>work（A B C）</th><th>Need（A B C）</th><th>Allocation（A B C）</th><th>Work+Allocation</th></tr></thead><tbody><tr><td>P1</td><td>2 3 0</td><td>0 2 0</td><td>3 0 2</td><td>5 3 2</td></tr><tr><td>P3</td><td>5 3 2</td><td>0 1 1</td><td>2 1 1</td><td>7 4 3</td></tr><tr><td>P4</td><td>7 4 3</td><td>4 3 1</td><td>0 0 2</td><td>7 4 5</td></tr><tr><td>P0</td><td>7 4 5</td><td>7 4 3</td><td>0 1 0</td><td>7 5 5</td></tr><tr><td>P2</td><td>7 5 5</td><td>6 0 0</td><td>3 0 2</td><td>10 5 7</td></tr></tbody></table> 
 <p>由安全性检查可得知存在安全序列{1,3,4,0,2}，因此系统是安全的，可以立即将P1申请的资源分配给P1</p> 
 <table><thead><tr><th>进程|资源情况</th><th>MAX(A B C)</th><th>Allocation(A B C)</th><th>Need</th><th>Available(A B C)</th></tr></thead><tbody><tr><td>P0</td><td>7 5 3</td><td>0 1 0</td><td>7 4 3</td><td>2 3 0</td></tr><tr><td>P1</td><td>3 2 2</td><td>3 0 2</td><td>0 2 0</td><td></td></tr><tr><td>P2</td><td>9 0 2</td><td>3 0 2</td><td>6 0 0</td><td></td></tr><tr><td>P3</td><td>2 2 2</td><td>2 1 1</td><td>0 1 1</td><td></td></tr><tr><td>P4</td><td>4 3 3</td><td>0 0 2</td><td>4 3 1</td><td></td></tr></tbody></table> 
</blockquote> 
<blockquote> 
 <p>死锁解除：</p> 
 <p>1）资源剥夺法：挂起某些死锁线程，并抢占它们的资源，将这些资源分配给其他死锁线程</p> 
 <p>2）撤销进程法：强制撤销部分甚至全部死锁线程并剥夺这些线程的资源</p> 
 <p>3）进程回退法：让一个进程或多个进程回退到没有死发生的地步</p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0b33bd86aeba141c5a54cb8ea2670929/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">即将消失的五种编程语言？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/88527ac621de3e905be3797a837a9d66/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Kafka与RabbitMQ的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>