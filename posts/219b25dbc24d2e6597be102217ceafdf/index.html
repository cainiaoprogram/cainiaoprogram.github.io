<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python图像处理（七）——图像阈值化处理 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python图像处理（七）——图像阈值化处理" />
<meta property="og:description" content="一、阈值化 图像的二值化，就是将图像上的像素点的灰度值设置为0或255，也就是将整个图像呈现出明显的只有黑和白的视觉效果。
一幅图像包括目标物体、背景还有噪声，要想从多值的数字图像中直接提取出目标物体，常用的方法就是设定一个阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。这是研究灰度变换的最特殊的方法，称为图像的二值化（Binarization）。
当灰度Gray小于阈值T时，其像素设置为0，表示黑色；当灰度Gray大于或等于阈值T时，其Y值为255，表示白色。
Python OpenCV中提供了阈值函数threshold()实现二值化处理,其公式余参数如下所示：
retval, dst = cv2.threshold(src, thresh, maxval, type)
参数：
retval：阈值 dst： 处理结果 src：原图像 thresh：阈值 maxval：最大值 type：类
method阈值类型一般分为五种：
cv2.THRESH_BINARY——大于阈值的部分像素值变为最大值，其他变为0 cv2.THRESH_BINARY_INV——大于阈值的部分变为0，其他部分变为最大值 cv2.THRESH_TRUNC——大于阈值的部分变为阈值，其余部分不变 cv2.THRESH_TOZERO——大于阈值的部分不变，其余部分变为0 cv2.THRESH_TOZERO_INV——大于阈值的部分变为0，其余部分不变 二、二进制阈值化 首先设置一个阈值，例如80，则大于等于80的像素点的灰度值设定为最大值，灰度值小于80的像素点的灰度值设定为0
关键字为 cv2.THRESH_BINARY
代码如下：
import cv2 #读取图片 image = cv2.imread(&#34;E:/pythonProject/xin.jpeg&#34;) image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY) #阈值处理 retval, dst = cv2.threshold(image1, 80, 255, cv2.THRESH_BINARY) #图像显示 cv2.imshow(&#34;image&#34;, image) cv2.imshow(&#34;dst&#34;, dst) #等待窗口 cv2.waitKey(0) cv2.destroyAllWindows() 输出结果如下所示：
三、反二进制阈值化 该方法与二进制阈值化方法相似，先要选定一个特定的灰度值作为阈值，比如80。大于80的像素点的灰度值设定为0，小于该阈值的灰度值设定为255。
关键字为 cv2.THRESH_BINARY_INV
代码如下所示：
import cv2 #读取图片 image = cv2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/219b25dbc24d2e6597be102217ceafdf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-10T22:04:09+08:00" />
<meta property="article:modified_time" content="2021-03-10T22:04:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python图像处理（七）——图像阈值化处理</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>一、阈值化</h2> 
<p>图像的二值化，就是将图像上的像素点的灰度值设置为0或255，也就是将整个图像呈现出明显的只有黑和白的视觉效果。</p> 
<p> 一幅图像包括目标物体、背景还有噪声，要想从多值的数字图像中直接提取出目标物体，常用的方法就是设定一个阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。这是研究灰度变换的最特殊的方法，称为图像的二值化（Binarization）。</p> 
<p> </p> 
<p style="text-align:center;"><img alt="" height="91" src="https://images2.imgbox.com/c7/e3/lJNWxBYZ_o.png" width="298"></p> 
<p>当灰度Gray小于阈值T时，其像素设置为0，表示黑色；当灰度Gray大于或等于阈值T时，其Y值为255，表示白色。</p> 
<p>Python OpenCV中提供了阈值函数threshold()实现二值化处理,其公式余参数如下所示：</p> 
<blockquote> 
 <p><strong>retval, dst = cv2.threshold(src, thresh, maxval, type)</strong></p> 
 <p>参数：</p> 
 <p>retval：阈值        dst： 处理结果      src：原图像     thresh：阈值      maxval：最大值     type：类</p> 
</blockquote> 
<p>method阈值类型一般分为五种：</p> 
<blockquote> 
 <ul><li> cv2.THRESH_BINARY——大于阈值的部分像素值变为最大值，其他变为0 </li><li>cv2.THRESH_BINARY_INV——大于阈值的部分变为0，其他部分变为最大值 </li><li>cv2.THRESH_TRUNC——大于阈值的部分变为阈值，其余部分不变 </li><li>cv2.THRESH_TOZERO——大于阈值的部分不变，其余部分变为0 </li><li>cv2.THRESH_TOZERO_INV——大于阈值的部分变为0，其余部分不变</li></ul> 
</blockquote> 
<h2> </h2> 
<h2> 二、二进制阈值化</h2> 
<p>首先设置一个阈值，例如80，则大于等于80的像素点的灰度值设定为最大值，灰度值小于80的像素点的灰度值设定为0</p> 
<blockquote> 
 <p><strong>关键字为 cv2.THRESH_BINARY</strong></p> 
</blockquote> 
<p>代码如下：</p> 
<pre><code class="language-python">import  cv2

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#阈值处理
retval, dst = cv2.threshold(image1, 80, 255, cv2.THRESH_BINARY)


#图像显示
cv2.imshow("image", image)
cv2.imshow("dst", dst)


#等待窗口
cv2.waitKey(0)
cv2.destroyAllWindows()
</code></pre> 
<p>输出结果如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/01/a0/2GlKTsLF_o.png"></p> 
<h2> </h2> 
<h2>三、反二进制阈值化</h2> 
<p>该方法与二进制阈值化方法相似，先要选定一个特定的灰度值作为阈值，比如80。大于80的像素点的灰度值设定为0，小于该阈值的灰度值设定为255。</p> 
<blockquote> 
 <p><strong>关键字为 cv2.THRESH_BINARY_INV</strong></p> 
</blockquote> 
<p>代码如下所示：</p> 
<pre><code class="language-python">import  cv2

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#阈值处理
retval1, dst1 = cv2.threshold(image1, 80, 255, cv2.THRESH_BINARY_INV)

#图像显示
cv2.imshow("image", image)
cv2.imshow("dst1", dst1)

#等待窗口
cv2.waitKey(0)
cv2.destroyAllWindows()

</code></pre> 
<p>结果输出如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/8a/7e/MW4Nd5WL_o.png"></p> 
<p>该方法与与二进制阈值化方法正好相反，亮色元素反而处理为黑色，暗色处理为白色。</p> 
<p> </p> 
<h2>四、阶段阈值化</h2> 
<p>首先设置一个阈值，例如80，则大于等于80的像素点的灰度值设定为阈值，灰度值小于80的像素点的灰度值不变。</p> 
<blockquote> 
 <p><strong>关键字为 cv2.THRESH_TRUNC</strong></p> 
</blockquote> 
<p> 代码如下所示：</p> 
<pre><code class="language-python">import  cv2

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#阈值处理
retval2, dst2 = cv2.threshold(image1, 80, 255, cv2.THRESH_TRUNC)

#图像显示
cv2.imshow("image", image)
cv2.imshow("dst2", dst2)

#等待窗口
cv2.waitKey(0)
cv2.destroyAllWindows()
</code></pre> 
<p>输出结果如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/ea/32/4G3rW2pn_o.png"></p> 
<p>该方法中相当于把较亮的像素值设置为阈值，较暗的像素值保持不变。</p> 
<p> </p> 
<h2>五、阈值化为0</h2> 
<p>首先设置一个阈值，如80，将大于等于阈值的像素值保持不变，小于阈值数为像素值设为0。</p> 
<blockquote> 
 <p><strong>关键字为 cv2.THRESH_TOZERO</strong></p> 
</blockquote> 
<p>代码如下所示：</p> 
<pre><code class="language-python">import  cv2

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#阈值处理
retval3, dst3 = cv2.threshold(image1, 80, 255, cv2.THRESH_TOZERO)

#图像显示
cv2.imshow("image", image)
cv2.imshow("dst3", dst3)

#等待窗口
cv2.waitKey(0)
cv2.destroyAllWindows()

</code></pre> 
<p> 输出结果如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/d8/98/uf81ujY4_o.png"></p> 
<p>该方法相当于保留了较亮像素的值，较暗的地方为0。</p> 
<p> </p> 
<h2>六、反阈值化为0</h2> 
<p>先是指一个阈值，例如80，大于该阈值的设为0，小于该阈值的保持不变</p> 
<blockquote> 
 <p><strong>关键字为 cv2.THRESH_TOZERO_INV</strong></p> 
</blockquote> 
<p>代码如下所示：</p> 
<pre><code class="language-python">import  cv2

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
image1 = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)

#阈值处理
retval4, dst4 = cv2.threshold(image1, 80, 255, cv2.THRESH_TOZERO_INV)

#图像显示
cv2.imshow("image", image)
cv2.imshow("dst4", dst4)


#等待窗口
cv2.waitKey(0)
cv2.destroyAllWindows()</code></pre> 
<p>输出结果如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/e7/7c/TxSojYVx_o.png"></p> 
<p>对五个算法进行对比，代码如下所示：</p> 
<pre><code class="language-python">import  cv2
import matplotlib.pyplot as plt

#读取图片
image = cv2.imread("E:/pythonProject/xin.jpeg")
# image0 = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)
image1 = cv2.cvtColor(image, cv2.COLOR_RGB2GRAY)

#阈值处理
retval, dst1 = cv2.threshold(image1, 80, 255, cv2.THRESH_BINARY)
retval1, dst2 = cv2.threshold(image1, 80, 255, cv2.THRESH_BINARY_INV)
retval2, dst3 = cv2.threshold(image1, 80, 255, cv2.THRESH_TRUNC)
retval3, dst4 = cv2.threshold(image1, 80, 255, cv2.THRESH_TOZERO)
retval4, dst5 = cv2.threshold(image1, 80, 255, cv2.THRESH_TOZERO_INV)

#图像显示
titles = ["image1", "dst", "dst1", "dst2", "dst3", "dst4"]
images = [image1,  dst1, dst2, dst3, dst4, dst5]

for i in range(6):
    plt.subplot(2, 3, i+1), plt.imshow(images[i],'gray')
    plt.xticks([]), plt.yticks([])
    plt.title(titles[i])
plt.show()
</code></pre> 
<p>输出结果如下所示：</p> 
<p style="text-align:center;"><img alt="" src="https://images2.imgbox.com/23/a6/3Py3gXTk_o.png"></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a29c25edc9d23704d6c168a990fbeadc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">vscode写python时的错误提示和自动格式化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bcaddfe12fb7cce527147f4cecb7192a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">随笔：ubuntu启动慢，检查启动项，缩短启动时间</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>