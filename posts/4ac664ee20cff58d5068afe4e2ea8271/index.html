<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android journey3 @点击事件的4种写法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android journey3 @点击事件的4种写法" />
<meta property="og:description" content="对于android布局中的控件，如Button等会有相应的点击事件去响应它所需要的功能，今天我们就以电话拨号器的代码说明下几种点击事件：
1 package com.itheima.phone; 2 3 import android.net.Uri; 4 import android.os.Bundle; 5 import android.app.Activity; 6 import android.content.Intent; 7 import android.view.Menu; 8 import android.view.View; 9 import android.view.View.OnClickListener; 10 import android.widget.Button; 11 import android.widget.EditText; 12 import android.widget.Toast; 13 14 public class MainActivity extends Activity implements OnClickListener { 15 private EditText et_number; 16 17 // 当activity被启动的时候 调用的方法. 18 @Override 19 protected void onCreate(Bundle savedInstanceState) { 20 super.onCreate(savedInstanceState); 21 setContentView(R.layout.activity_main); 22 Button bt_dail = (Button) findViewById(R." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4ac664ee20cff58d5068afe4e2ea8271/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-03T01:09:20+08:00" />
<meta property="article:modified_time" content="2019-07-03T01:09:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android journey3 @点击事件的4种写法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body"> 
 <p>对于android布局中的控件，如Button等会有相应的点击事件去响应它所需要的功能，今天我们就以电话拨号器的代码说明下几种点击事件：</p> 
 <div class="cnblogs_code"> 
  <pre><span style="color:#008080;"> 1</span> <span style="color:#0000ff;">package</span><span style="color:#000000;"> com.itheima.phone;
</span><span style="color:#008080;"> 2</span> 
<span style="color:#008080;"> 3</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.net.Uri;
</span><span style="color:#008080;"> 4</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.os.Bundle;
</span><span style="color:#008080;"> 5</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.app.Activity;
</span><span style="color:#008080;"> 6</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.content.Intent;
</span><span style="color:#008080;"> 7</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.view.Menu;
</span><span style="color:#008080;"> 8</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.view.View;
</span><span style="color:#008080;"> 9</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.view.View.OnClickListener;
</span><span style="color:#008080;">10</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.widget.Button;
</span><span style="color:#008080;">11</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.widget.EditText;
</span><span style="color:#008080;">12</span> <span style="color:#0000ff;">import</span><span style="color:#000000;"> android.widget.Toast;
</span><span style="color:#008080;">13</span> 
<span style="color:#008080;">14</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">class</span> MainActivity <span style="color:#0000ff;">extends</span> Activity <span style="color:#0000ff;">implements</span><span style="color:#000000;"> OnClickListener {
</span><span style="color:#008080;">15</span>     <span style="color:#0000ff;">private</span><span style="color:#000000;"> EditText et_number;
</span><span style="color:#008080;">16</span> 
<span style="color:#008080;">17</span>     <span style="color:#008000;">//</span><span style="color:#008000;"> 当activity被启动的时候 调用的方法.</span>
<span style="color:#008080;">18</span> <span style="color:#000000;">    @Override
</span><span style="color:#008080;">19</span>     <span style="color:#0000ff;">protected</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> onCreate(Bundle savedInstanceState) {
</span><span style="color:#008080;">20</span>         <span style="color:#0000ff;">super</span><span style="color:#000000;">.onCreate(savedInstanceState);
</span><span style="color:#008080;">21</span> <span style="color:#000000;">        setContentView(R.layout.activity_main);
</span><span style="color:#008080;">22</span>         Button bt_dail =<span style="color:#000000;"> (Button) findViewById(R.id.bt_dail);
</span><span style="color:#008080;">23</span>         et_number =<span style="color:#000000;"> (EditText) findViewById(R.id.et_number);
</span><span style="color:#008080;">24</span>         <span style="color:#008000;">//</span><span style="color:#008000;"> 点击事件的第一种写法</span>
<span style="color:#008080;">25</span>         bt_dail.setOnClickListener(<span style="color:#0000ff;">new</span><span style="color:#000000;"> DialButtonListener());
</span><span style="color:#008080;">26</span> 
<span style="color:#008080;">27</span>         <span style="color:#008000;">//</span><span style="color:#008000;"> 点击事件的第二种写法.</span>
<span style="color:#008080;">28</span>         bt_dail.setOnClickListener(<span style="color:#0000ff;">new</span><span style="color:#000000;"> OnClickListener() {
</span><span style="color:#008080;">29</span> <span style="color:#000000;">            @Override
</span><span style="color:#008080;">30</span>             <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> onClick(View v) {
</span><span style="color:#008080;">31</span> <span style="color:#000000;">                doClick();
</span><span style="color:#008080;">32</span> <span style="color:#000000;">            }
</span><span style="color:#008080;">33</span> <span style="color:#000000;">        });
</span><span style="color:#008080;">34</span>         
<span style="color:#008080;">35</span>         <span style="color:#008000;">//</span><span style="color:#008000;">点击事件的第三种写法.</span>
<span style="color:#008080;">36</span>         bt_dail.setOnClickListener(<span style="color:#0000ff;">this</span><span style="color:#000000;">);
</span><span style="color:#008080;">37</span>         
<span style="color:#008080;">38</span> 
<span style="color:#008080;">39</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">40</span> 
<span style="color:#008080;">41</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> doClick() {
</span><span style="color:#008080;">42</span>         String number =<span style="color:#000000;"> et_number.getText().toString().trim();
</span><span style="color:#008080;">43</span>         <span style="color:#0000ff;">if</span> (""<span style="color:#000000;">.equals(number)) {
</span><span style="color:#008080;">44</span>             Toast.makeText(MainActivity.<span style="color:#0000ff;">this</span>, "号码不能为空"<span style="color:#000000;">, Toast.LENGTH_SHORT)
</span><span style="color:#008080;">45</span> <span style="color:#000000;">                    .show();
</span><span style="color:#008080;">46</span>         } <span style="color:#0000ff;">else</span><span style="color:#000000;"> {
</span><span style="color:#008080;">47</span>             Toast.makeText(MainActivity.<span style="color:#0000ff;">this</span>, "拨打:" +<span style="color:#000000;"> number,
</span><span style="color:#008080;">48</span> <span style="color:#000000;">                    Toast.LENGTH_SHORT).show();
</span><span style="color:#008080;">49</span>             Intent intent = <span style="color:#0000ff;">new</span><span style="color:#000000;"> Intent();
</span><span style="color:#008080;">50</span> <span style="color:#000000;">            intent.setAction(Intent.ACTION_CALL);
</span><span style="color:#008080;">51</span>             intent.setData(Uri.parse("tel:" + number)); <span style="color:#008000;">//</span><span style="color:#008000;"> tel:110
</span><span style="color:#008080;">52</span>             <span style="color:#008000;">//</span><span style="color:#008000;"> URL : 统一资源定位符 表示一个网络地址 http:</span><span style="color:#008000;">//</span><span style="color:#008000;"> ftp:</span><span style="color:#008000;">//</span><span style="color:#008000;"> rstp:</span><span style="color:#008000;">//</span>
<span style="color:#008080;">53</span>             <span style="color:#008000;">//</span><span style="color:#008000;"> URI : 统一资源标示符 范围更加广泛</span>
<span style="color:#008080;">54</span> <span style="color:#000000;">            startActivity(intent);
</span><span style="color:#008080;">55</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">56</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">57</span> 
<span style="color:#008080;">58</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">class</span> DialButtonListener <span style="color:#0000ff;">implements</span><span style="color:#000000;"> OnClickListener {
</span><span style="color:#008080;">59</span> <span style="color:#000000;">        @Override
</span><span style="color:#008080;">60</span>         <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> onClick(View v) {
</span><span style="color:#008080;">61</span> <span style="color:#000000;">            doClick();
</span><span style="color:#008080;">62</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">63</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">64</span> 
<span style="color:#008080;">65</span> <span style="color:#000000;">    @Override
</span><span style="color:#008080;">66</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> onClick(View v) {
</span><span style="color:#008080;">67</span>         <span style="color:#0000ff;">switch</span><span style="color:#000000;"> (v.getId()) {
</span><span style="color:#008080;">68</span>         <span style="color:#0000ff;">case</span><span style="color:#000000;"> R.id.bt_dail:
</span><span style="color:#008080;">69</span> <span style="color:#000000;">            doClick();
</span><span style="color:#008080;">70</span>             <span style="color:#0000ff;">break</span><span style="color:#000000;">;
</span><span style="color:#008080;">71</span> <span style="color:#000000;">        }
</span><span style="color:#008080;">72</span>         
<span style="color:#008080;">73</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">74</span>     
<span style="color:#008080;">75</span>     <span style="color:#008000;">//</span><span style="color:#008000;">在xml布局文件的配置中，给button添加了属性 android：onClick = “响应函数名”  </span>
<span style="color:#008080;">76</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span><span style="color:#000000;"> btnClick(View view){
</span><span style="color:#008080;">77</span> <span style="color:#000000;">        doClick();
</span><span style="color:#008080;">78</span> <span style="color:#000000;">    }
</span><span style="color:#008080;">79</span> }</pre> 
 </div> 
 <p> </p> 
 <p> 点击事件方法总结：</p> 
 <p>1、直接通过显示的内部类</p> 
 <p>2、通过匿名内部类</p> 
 <p>3、通过MainActivity实现OnClickListener：通常在界面中有较多需要响应的控件时使用</p> 
 <p>4、直接在xml文件中配置对应控件的onClick属性，此种方法通常在测试代码时使用，因为比较不直观，使代码难以维护</p> 
 <pre> </pre> 
</div> 
<p>转载于:https://www.cnblogs.com/allenpengyu/p/3569483.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fcae51e3969f64d9b8ab1666ff15d2c5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">实例详解JSP内置对象</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9846bce8b5ba047248f27ba4cd825408/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">《Oracle大型数据库在AIX UNIX上的实战详解》的集中讨论十一 AIX条带化、存储条带化、ASM条带化...</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>