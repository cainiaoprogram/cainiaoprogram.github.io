<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>初识Docker Desktop for Windows10 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="初识Docker Desktop for Windows10" />
<meta property="og:description" content="文章目录 初识Docker Desktop for Windows10Docker Desktop for Windows 的安装步骤第一步 下载Docker for Windows安装程序第二步安装Docker Desktop for Windows第三步 启动重新点击桌面图标，启动docker desktop Docker Desktop 使用的简单介绍停止，或者删除运行容器记录如果你还想做一些其他的操作：获取一个新的镜像，以mysql镜像为例一个正常启动mysql容器的实例注意成功的方式 删除容器记录以上就是我初次使用Docker Desktop的操作记录，更多的操作使用还需继续探索，到此结束。 初识Docker Desktop for Windows10 Docker是什么？我想这就不需要过多的解释了，容器的使用带来的应用环境的相互隔离优点也是它能风靡全球，作为云原生技术之一，广泛应用的原因。
我们都知道Windows操作系统，上手容易，但使用时间长了之后，就会出各种古怪的问题，应用残留、软件冲突诸多问题，最后导致系统性能下降、速度变慢，甚至瘫痪。
所以，我对Windows下的Docker很感兴趣，它会不会是想windows那样让人简简单单的就上手使用，都不用去专门的学习相关知识，只要知道功能，通过点点菜单，找找命令就一切OK了？
那就试试呗……
Docker Desktop for Windows 的安装步骤 第一步 下载Docker for Windows安装程序 浏览器访问Docker官网：
https://www.docker.com
打开后会自动识别正在使用的系统，并提供Windows安装程序下载
点击图中”Download Docker Desktop“开始下载安装程序，速度与个人网速有关，文件总大小约 621 MB (651,885,904 字节)
第二步安装Docker Desktop for Windows Windows系统下，安装程序都比较简单，没做任何修改，根据向导提示默认”下一步“，最后完成。
完成后，系统会注销当前用户，重新登陆（不知道是不是必须的，我用的本地用户模式ping码验证登录系统）
桌面上会出现一个”Docker Desktop&#34;图标，蓝底白色小鲸鱼，非常好看:
第三步 启动 在注销重新登陆Windows桌面后，Docker Desktop窗口会自动弹出，
提示需要更新的WSL内核，才能运行，按照提示：
管理员身份打开”powershell&#34;，输入下边命令：
wsl --update 完成后显示：
过程还是比较快的……
我以为更新完后，就已经可以使用了，但是
在powershell命令窗口里，输了两个命令：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fe02f138e6431699e5344f7930c98d72/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-24T16:19:16+08:00" />
<meta property="article:modified_time" content="2023-08-24T16:19:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">初识Docker Desktop for Windows10</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Docker_Desktop_for_Windows10_1" rel="nofollow">初识Docker Desktop for Windows10</a></li><li><ul><li><a href="#Docker_Desktop_for_Windows__11" rel="nofollow">Docker Desktop for Windows 的安装步骤</a></li><li><ul><li><a href="#_Docker_for_Windows_13" rel="nofollow">第一步 下载Docker for Windows安装程序</a></li><li><a href="#Docker_Desktop_for_Windows_27" rel="nofollow">第二步安装Docker Desktop for Windows</a></li><li><a href="#__40" rel="nofollow">第三步 启动</a></li><li><ul><li><a href="#docker_desktop_86" rel="nofollow">重新点击桌面图标，启动docker desktop</a></li></ul> 
   </li></ul> 
   </li><li><a href="#Docker_Desktop__119" rel="nofollow">Docker Desktop 使用的简单介绍</a></li><li><ul><li><a href="#_156" rel="nofollow">停止，或者删除运行容器记录</a></li><li><a href="#_168" rel="nofollow">如果你还想做一些其他的操作：</a></li><li><a href="#mysql_177" rel="nofollow">获取一个新的镜像，以mysql镜像为例</a></li><li><a href="#mysql_277" rel="nofollow">一个正常启动mysql容器的实例</a></li><li><ul><li><a href="#_279" rel="nofollow">注意</a></li><li><a href="#_303" rel="nofollow">成功的方式</a></li></ul> 
    </li><li><a href="#_336" rel="nofollow">删除容器记录</a></li><li><a href="#Docker_Desktop_352" rel="nofollow">以上就是我初次使用Docker Desktop的操作记录，更多的操作使用还需继续探索，到此结束。</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Docker_Desktop_for_Windows10_1"></a>初识Docker Desktop for Windows10</h2> 
<p>Docker是什么？我想这就不需要过多的解释了，容器的使用带来的应用环境的相互隔离优点也是它能风靡全球，作为云原生技术之一，广泛应用的原因。</p> 
<p>我们都知道Windows操作系统，上手容易，但使用时间长了之后，就会出各种古怪的问题，应用残留、软件冲突诸多问题，最后导致系统性能下降、速度变慢，甚至瘫痪。</p> 
<p>所以，我对Windows下的Docker很感兴趣，它会不会是想windows那样让人简简单单的就上手使用，都不用去专门的学习相关知识，只要知道功能，通过点点菜单，找找命令就一切OK了？</p> 
<p>那就试试呗……</p> 
<h3><a id="Docker_Desktop_for_Windows__11"></a>Docker Desktop for Windows 的安装步骤</h3> 
<h4><a id="_Docker_for_Windows_13"></a>第一步 下载Docker for Windows安装程序</h4> 
<p>浏览器访问Docker官网：</p> 
<p>https://www.docker.com</p> 
<p>打开后会自动识别正在使用的系统，并提供Windows安装程序下载</p> 
<p><img src="https://images2.imgbox.com/3c/4d/UjsoxRBp_o.png" alt="在这里插入图片描述"></p> 
<p>点击图中”Download Docker Desktop“开始下载安装程序，速度与个人网速有关，文件总大小约 621 MB (651,885,904 字节)</p> 
<h4><a id="Docker_Desktop_for_Windows_27"></a>第二步安装Docker Desktop for Windows</h4> 
<p>Windows系统下，安装程序都比较简单，没做任何修改，根据向导提示默认”下一步“，最后完成。</p> 
<p><img src="https://images2.imgbox.com/be/80/bwkrOipD_o.png" alt="在这里插入图片描述"></p> 
<p>完成后，系统会注销当前用户，重新登陆（不知道是不是必须的，我用的本地用户模式ping码验证登录系统）</p> 
<p>桌面上会出现一个”Docker Desktop"图标，蓝底白色小鲸鱼，非常好看:</p> 
<p><img src="https://images2.imgbox.com/ec/33/hEZIfvDs_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="__40"></a>第三步 启动</h4> 
<p>在注销重新登陆Windows桌面后，Docker Desktop窗口会自动弹出，</p> 
<p>提示需要更新的WSL内核，才能运行，按照提示：</p> 
<p>管理员身份打开”powershell"，输入下边命令：</p> 
<pre><code class="prism language-powershell">wsl <span class="token operator">--</span>update
</code></pre> 
<p>完成后显示：</p> 
<p><img src="https://images2.imgbox.com/a2/49/QIWUrlo3_o.png" alt="在这里插入图片描述"></p> 
<p>过程还是比较快的……</p> 
<p>我以为更新完后，就已经可以使用了，但是</p> 
<p>在powershell命令窗口里，输了两个命令：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#查看运行的docker容器</span>
docker <span class="token function">ps</span>
<span class="token comment">#查看docker版本</span>
docker version

</code></pre> 
<p>运行结果：</p> 
<p><img src="https://images2.imgbox.com/db/89/7lOATdGl_o.png" alt="在这里插入图片描述"></p> 
<p>运行的容器肯定是没有的……</p> 
<p>查看版本时，发现只有client状态，同志们都知道Docker是CS构架的，也就是说Server没启来。</p> 
<p>所以接下来，我们还需要：</p> 
<h5><a id="docker_desktop_86"></a>重新点击桌面图标，启动docker desktop</h5> 
<p>打开docker窗口后，直接点击"Accept"就行了，</p> 
<p>……</p> 
<p>然后就是等待，因为只能看见窗口和打转的小圈圈，所以我估计它是在做检测和更新等。</p> 
<p><img src="https://images2.imgbox.com/12/eb/yg61PooM_o.png" alt="在这里插入图片描述"></p> 
<p>大概几分钟后，我们就可以看到这个界面了</p> 
<p><img src="https://images2.imgbox.com/fa/46/ABfcKAaK_o.png" alt="在这里插入图片描述"></p> 
<p>这时候在输入命令</p> 
<pre><code class="prism language-powershell">docker version
</code></pre> 
<p>你会看到，之前未启动的Server端状态也有了</p> 
<p><img src="https://images2.imgbox.com/ee/c4/Cj0RuMJh_o.png" alt="在这里插入图片描述"></p> 
<p><strong>至此，安装完毕。</strong></p> 
<h3><a id="Docker_Desktop__119"></a>Docker Desktop 使用的简单介绍</h3> 
<p><strong>在Windows里安装Docker的确是非常简单，与安全普通的windows应用或者软件基本上没有什么区别，我用的Windows10 企业版 LTSC 系统 版本 21H2（内部版本 19044.3086）只要高于此版本，以上安装操作都能简单完成，比在linux下安装省心多了。</strong></p> 
<p><strong>但是，安装好开始使用时，就会发现该学的还是要去学，Docker Desktop更多的像是一个图形界面的集中管理平台，很多使用还是需要通过命令来实现。</strong></p> 
<p>比如，看图：</p> 
<p><img src="https://images2.imgbox.com/f7/99/tAxegxsT_o.png" alt="在这里插入图片描述"></p> 
<p>第一次运行时，它会很友善的让你尝试运行一个简单的容器，然后告诉你不用去自己敲命令了，只要复制命令，粘贴到terminal窗口里就行，照做吧（虽然本地一个镜像都没有）：</p> 
<p>复制命令<code>docker run -d -p 80:80 docker/getting-started</code></p> 
<p>粘贴到terminal窗口里，回车：</p> 
<p>恭喜你，估计猜到了：没有镜像，又要运行容器，那么就会自己下载</p> 
<p><img src="https://images2.imgbox.com/9c/9a/Q1TKZvSN_o.png" alt="在这里插入图片描述"></p> 
<p>下载完之后，运行容器：</p> 
<p><img src="https://images2.imgbox.com/4f/20/FJeRXD8J_o.png" alt="在这里插入图片描述"></p> 
<p>而这时候，回到windows桌面的Docker desktop窗口后，你就会看到在Containers列表里，显示了正在运行的容器：</p> 
<p><img src="https://images2.imgbox.com/cd/81/a9t5flnD_o.png" alt="在这里插入图片描述"></p> 
<p>不需要你再去输入<code>docker ps</code>查看运行中的容器信息了，该有的都有。</p> 
<h4><a id="_156"></a>停止，或者删除运行容器记录</h4> 
<p>找到你需要停止，或删除记录的容器</p> 
<p><img src="https://images2.imgbox.com/7a/2d/IpU0dPpo_o.png" alt="在这里插入图片描述"></p> 
<p>然后，都不需要多说，看图标大家都懂，想怎么的就拿鼠标点它，真是没压力啊</p> 
<p><img src="https://images2.imgbox.com/6b/f0/63zMjhzz_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_168"></a>如果你还想做一些其他的操作：</h4> 
<p>你可以找到3个小点点的按钮，点击它开打菜单，里边有一些关于容器操作的列表命令：重启、进入容器、查看镜像包等……</p> 
<p><img src="https://images2.imgbox.com/9e/49/NcyuIFnt_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="mysql_177"></a>获取一个新的镜像，以mysql镜像为例</h4> 
<p>确保你的docker正在运行，在命令窗口输入：</p> 
<pre><code class="prism language-powershell"><span class="token comment">#输入命令：docker pull mysql</span>
<span class="token comment">#运行结果如下：</span>
<span class="token function">PS</span> C:\Users\Administrator&gt; docker pull mysql
<span class="token keyword">Using</span> default tag: latest
latest: Pulling <span class="token keyword">from</span> library/mysql
46ef68baacb7: Pull complete
94c1114b2e9c: Pull complete
ff05e3f38802: Pull complete
41cc3fcd9912: Pull complete
07bbc8bdf52a: Pull complete
6d88f83726a9: Pull complete
cf5c7d5d33f7: Pull complete
9db3175a2a66: Pull complete
feaedeb27fa9: Pull complete
cf91e7784414: Pull complete
b1770db1c329: Pull complete
Digest: sha256:15f069202c46cf861ce429423ae3f8dfa6423306fbf399eaef36094ce30dd75c
Status: Downloaded newer image <span class="token keyword">for</span> mysql:latest
docker<span class="token punctuation">.</span>io/library/mysql:latest
</code></pre> 
<p>在不指定版本tag时，默认拉取的时最终版本mysql:latest</p> 
<p>这时候回到窗口视图，在images视图窗口中，就会多出一个mysql镜像，并可以直接看到相关信息，效果与输入命令<code>docker images mysql</code>相似：</p> 
<p>其中的“Unused”表示还从未使用过此镜像，创建容器。</p> 
<p><img src="https://images2.imgbox.com/8c/37/7fOtokpi_o.png" alt="在这里插入图片描述"></p> 
<p>打开镜像对应更多操作菜单，选中“View packages and CVEs”选项，这时你会看到：</p> 
<p><img src="https://images2.imgbox.com/d5/ad/hvwQP9U9_o.png" alt="在这里插入图片描述"></p> 
<p>关于mysql:latest镜像制作使用的基础镜像情况，创建过程等等一目了然。</p> 
<p>我们来点击“Run”试试看，会发生什么……</p> 
<p>跳出一个对话框：提示输入要使用mysql镜像运行容器时候的一些参数，大概涉及容器名称（Container name)、</p> 
<p>端口映射等内容。</p> 
<p><img src="https://images2.imgbox.com/f4/0f/f2eNhJgZ_o.png" alt="在这里插入图片描述"></p> 
<p>可以参考命令进行对照输入</p> 
<pre><code class="prism language-bash"><span class="token comment">#命令主体</span>
<span class="token comment">#docker run mysql:latest</span>
<span class="token comment">#增加参数端口映射</span>
<span class="token comment">#docker run -p 3306:3306 mysql:latest</span>
<span class="token comment">#增加指定容器名称</span>
<span class="token comment">#docker run -p 3306:3306 --name my_sql mysql:latest</span>
<span class="token comment">##增加指定挂载卷。将宿主机上的/mydata/mysql/log目录挂载到容器的/var/log/mysql目录下，用于存储MySQL的日志文件。</span>
<span class="token comment">#docker run -p 3306:3306 --name my_sql -v /mydata/mysql/log:/var/log/mysql mysql:latest</span>
<span class="token comment">#增加运行命令参数。设置MySQL的root账户密码为root。</span>
<span class="token comment">#docker run -p 3306:3306 --name my_sql -v /mydata/mysql/log:/var/log/mysql  -e MYSQL_ROOT_PASSWORD=root -d mysql:latest</span>

实例输入：
Containers 里输入：你需要的容器名称
Ports提供了2个主机与容器直接端口的对应，一般只需要一个就够了，第一行里输入：3306
Volumes:把主机的某个目录加载对应到容器里的某个目录，一般不用
Environment varibales：varible输入“参数名称”，value输入“参数值”

</code></pre> 
<p>不清楚也没关系，直接点击“Run”，试试是否能正常运行。</p> 
<p>否则会有提示logs：</p> 
<pre><code>2023-06-29 09:27:55 2023-06-29 01:27:55+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.33-1.el8 started.
2023-06-29 09:27:55 2023-06-29 01:27:55+00:00 [Note] [Entrypoint]: Switching to dedicated user 'mysql'
2023-06-29 09:27:55 2023-06-29 01:27:55+00:00 [Note] [Entrypoint]: Entrypoint script for MySQL Server 8.0.33-1.el8 started.
2023-06-29 09:27:55 2023-06-29 01:27:55+00:00 [ERROR] [Entrypoint]: Database is uninitialized and password option is not specified
2023-06-29 09:27:55     You need to specify one of the following as an environment variable:
2023-06-29 09:27:55     - MYSQL_ROOT_PASSWORD
2023-06-29 09:27:55     - MYSQL_ALLOW_EMPTY_PASSWORD
2023-06-29 09:27:55     - MYSQL_RANDOM_ROOT_PASSWORD
</code></pre> 
<p>运行后，又关闭了</p> 
<p>可查看我的一篇博文，里边有简要的介绍<a href="https://blog.csdn.net/hhwzy_mqh/article/details/130886647?spm=1001.2014.3001.5502">使用Docker容器运行Mysql_docker运行mysql</a></p> 
<p>窗口里有非常详细的查看视图标签选择，‘Logs’、‘Inspect‘、'Files’都很有用；</p> 
<p><img src="https://images2.imgbox.com/8a/7d/uRDqD8A7_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="mysql_277"></a>一个正常启动mysql容器的实例</h4> 
<h5><a id="_279"></a>注意</h5> 
<p>在windows系统Docker Desktop里使用镜像，没必要使用命令行操作，</p> 
<p>我在ubuntu里使用正常的命令</p> 
<p><code> docker run -it -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=root mysql bash</code></p> 
<p>在Windows powershell里执行成功后，出现问题，mysql运行故障</p> 
<pre><code class="prism language-powershell"> C:\Users\Administrator&gt; docker run <span class="token operator">-</span>it <span class="token operator">-</span>d <span class="token operator">-</span>p 3306:3306 <span class="token operator">-</span>e MYSQL_ROOT_PASSWORD=root mysql bash
8f1a1a0347895ba831856693d14900b44edd1795c9b049bbb99a8fa85f540b4f
</code></pre> 
<p>进入容器后：</p> 
<pre><code class="prism language-sh">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> status
password:
<span class="token comment">#出错提示，如下：</span>
Can<span class="token string">'t connect to local MySQL server through socket '</span>/var/run/mysqld/mysqld.sock' <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="_303"></a>成功的方式</h5> 
<p>使用窗口“Run”，输入对应值，然后运行，一切正常：</p> 
<p><img src="https://images2.imgbox.com/1a/47/UoNuM8m3_o.png" alt="在这里插入图片描述"></p> 
<p>检查mysql运行状态：正常</p> 
<pre><code class="prism language-sh">mysqladmin <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span> status
Enter password: 
Uptime: <span class="token number">355</span>  Threads: <span class="token number">2</span>  Questions: <span class="token number">6</span>  Slow queries: <span class="token number">0</span>  Opens: <span class="token number">119</span>  Flush tables: <span class="token number">3</span>  Open tables: <span class="token number">38</span>  Queries per second avg: <span class="token number">0.016</span>

<span class="token comment">#进入mysql命令行</span>
mysql <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
Enter password: 
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">11</span>
Server version: <span class="token number">8.0</span>.33 MySQL Community Server - GPL

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2023</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">'help;'</span> or <span class="token string">'\h'</span> <span class="token keyword">for</span> help. Type <span class="token string">'\c'</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> 
</code></pre> 
<h4><a id="_336"></a>删除容器记录</h4> 
<p>每次使用镜像运行容器时，都会产生一个容器运行的记录，不管失败或成功都不会对源镜像产生影响，但是，如果你正在运行一个实例容器时，有些操作就得注意了。</p> 
<p>因为如果我们删除容器记录时，一般情况下会同时删除运行数据的</p> 
<p>可以批量选中删除</p> 
<p><img src="https://images2.imgbox.com/ce/ea/DFpgg4zc_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/82/07/XXDAuM9q_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Docker_Desktop_352"></a>以上就是我初次使用Docker Desktop的操作记录，更多的操作使用还需继续探索，到此结束。</h4>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/01f03c3b01da6ee0000bd48e32b0572b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">YOLOV 训练</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f68e89912db31402538ea95506cc98f9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">git diff 取差异命令获取变更的文件列表</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>