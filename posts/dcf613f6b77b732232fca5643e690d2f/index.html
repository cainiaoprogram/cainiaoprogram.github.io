<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python web实战 | 使用Flask框架进行Web开发 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python web实战 | 使用Flask框架进行Web开发" />
<meta property="og:description" content="概要 本文将介绍Flask和Python，两个非常流行和易于使用的工具，来帮助你快速创建你自己的Web应用。
1、Flask简介 Flask是一个基于Python的Web框架。它是一个轻量级框架，非常适合小型项目和快速原型开发。Flask提供了一个简单的API，使得开发者可以快速构建Web应用。Flask的灵活性和可扩展性是它受欢迎的原因之一。
2、Flask的安装和基本使用 首先你需要确保你的机器上安装了Python，然后运行以下命令来安装Flask：
pip install flask 这将安装Flask及其依赖项。完成安装后，你可以开始构建你的第一个Flask应用程序。以下是一个简单的示例：
from flask import Flask app = Flask(__name__) @app.route(&#39;/&#39;) def index(): return &#39;Hello, World!&#39; if __name__ == &#39;__main__&#39;: app.run() 在这个示例中，我们首先导入了Flask类。然后，我们创建了一个Flask应用程序实例，并将其存储在名为“app”的变量中。接下来，我们使用Flask的route装饰器来定义一个路由。这个路由指定了我们的应用程序将如何响应根路径（&#39;/&#39;）。最后，我们使用Flask的run方法来启动我们的应用程序。
运行这个示例后，你可以在浏览器中访问http://localhost:5000/ ↗，应该会看到“Hello, World!”的字样。
3、Flask的路由和视图函数 在Flask中，路由是指URL和应用程序之间的映射关系。路由告诉Flask应用程序如何响应来自客户端的请求。在Flask中，你可以使用route装饰器来定义一个路由。
视图函数是指Flask应用程序中与路由相关联的Python函数。视图函数负责处理来自客户端的请求，并返回响应。在Flask中，你可以使用route装饰器来将一个视图函数绑定到一个路由上。
以下是一个简单的示例，介绍如何在Flask中定义路由和视图函数：
from flask import Flask app = Flask(__name__) @app.route(&#39;/&#39;) def index(): return &#39;Hello, World!&#39; @app.route(&#39;/about&#39;) def about(): return &#39;About us&#39; if __name__ == &#39;__main__&#39;: app.run() 在这个示例中，我们定义了两个路由：&#39;/&#39;和&#39;/about&#39;。&#39;/‘是默认路由，当我们访问根路径时，将调用index函数。&#39;/about&#39;是自定义路由，当我们访问&#39;/about&#39;路径时，将调用about函数。
4、Flask的模板引擎 Flask的模板引擎使得开发者可以将动态内容插入到HTML页面中。这使得开发者可以更轻松地构建复杂的Web应用程序。
Flask支持多种模板引擎，包括Jinja2和Mako。在本篇文章中，我们将使用Jinja2作为我们的模板引擎。
要使用Jinja2，我们需要创建一个名为templates的目录，并在其中创建一个HTML模板文件。以下是一个示例：
&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;{{ title }}&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;{{ title }}&lt;/h1&gt; &lt;p&gt;{{ content }}&lt;/p&gt; &lt;/body&gt; &lt;/html&gt; 在这个示例中，我们定义了一个HTML模板，它有两个变量：title和content。这些变量将在渲染模板时传递给模板引擎。要渲染这个模板，我们需要在视图函数中使用render_template函数：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/dcf613f6b77b732232fca5643e690d2f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-27T09:50:51+08:00" />
<meta property="article:modified_time" content="2023-07-27T09:50:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python web实战 | 使用Flask框架进行Web开发</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>概要</h2> 
<p>本文将介绍Flask和Python，两个非常流行和易于使用的工具，来帮助你快速创建你自己的Web应用。</p> 
<hr> 
<h4> </h4> 
<h4>1、Flask简介</h4> 
<p>Flask是一个基于Python的Web框架。它是一个轻量级框架，非常适合小型项目和快速原型开发。Flask提供了一个简单的API，使得开发者可以快速构建Web应用。Flask的灵活性和可扩展性是它受欢迎的原因之一。</p> 
<h4>2、Flask的安装和基本使用</h4> 
<p>首先你需要确保你的机器上安装了Python，然后运行以下命令来安装Flask：</p> 
<pre><code>pip install flask
</code></pre> 
<p>这将安装Flask及其依赖项。完成安装后，你可以开始构建你的第一个Flask应用程序。以下是一个简单的示例：</p> 
<pre><code>from flask import Flask

app = Flask(__name__)

@app.route('/')
def index():
    return 'Hello, World!'

if __name__ == '__main__':
    app.run()
</code></pre> 
<p>在这个示例中，我们首先导入了Flask类。然后，我们创建了一个Flask应用程序实例，并将其存储在名为“app”的变量中。接下来，我们使用Flask的route装饰器来定义一个路由。这个路由指定了我们的应用程序将如何响应根路径（'/'）。最后，我们使用Flask的run方法来启动我们的应用程序。</p> 
<p>运行这个示例后，你可以在浏览器中访问http://localhost:5000/ ↗，应该会看到“Hello, World!”的字样。</p> 
<h4>3、Flask的路由和视图函数</h4> 
<p>在Flask中，路由是指URL和应用程序之间的映射关系。路由告诉Flask应用程序如何响应来自客户端的请求。在Flask中，你可以使用route装饰器来定义一个路由。</p> 
<p>视图函数是指Flask应用程序中与路由相关联的Python函数。视图函数负责处理来自客户端的请求，并返回响应。在Flask中，你可以使用route装饰器来将一个视图函数绑定到一个路由上。</p> 
<p>以下是一个简单的示例，介绍如何在Flask中定义路由和视图函数：</p> 
<pre><code>from flask import Flask

app = Flask(__name__)

@app.route('/')
def index():
    return 'Hello, World!'

@app.route('/about')
def about():
    return 'About us'

if __name__ == '__main__':
    app.run()
</code></pre> 
<p>在这个示例中，我们定义了两个路由：'/'和'/about'。'/‘是默认路由，当我们访问根路径时，将调用index函数。'/about'是自定义路由，当我们访问'/about'路径时，将调用about函数。</p> 
<h4>4、Flask的模板引擎</h4> 
<p>Flask的模板引擎使得开发者可以将动态内容插入到HTML页面中。这使得开发者可以更轻松地构建复杂的Web应用程序。</p> 
<p>Flask支持多种模板引擎，包括Jinja2和Mako。在本篇文章中，我们将使用Jinja2作为我们的模板引擎。</p> 
<p>要使用Jinja2，我们需要创建一个名为templates的目录，并在其中创建一个HTML模板文件。以下是一个示例：</p> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;{<!-- -->{ title }}&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;{<!-- -->{ title }}&lt;/h1&gt;
    &lt;p&gt;{<!-- -->{ content }}&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre> 
<p>在这个示例中，我们定义了一个HTML模板，它有两个变量：title和content。这些变量将在渲染模板时传递给模板引擎。要渲染这个模板，我们需要在视图函数中使用render_template函数：</p> 
<pre><code>from flask import Flask, render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html', title='Home', content='Welcome to my website!')

if __name__ == '__main__':
    app.run()
</code></pre> 
<p>在这个示例中，我们将index.html模板渲染为响应。我们还向模板传递了两个变量：title和content。这些变量将在模板中使用双括号（如{<!-- -->{ title }}）包裹起来，以表示它们是变量。</p> 
<h4>5、Flask的表单处理</h4> 
<p>在Web应用程序中，表单是一种常见的用户输入方式。Flask提供了一个名为Flask-WTF（不是粗口）的插件，使得开发者可以轻松地处理Web表单。</p> 
<p>首先，我们需要安装Flask-WTF插件。你可以使用以下命令来安装它：</p> 
<pre><code>pip install flask-wtf
</code></pre> 
<p>接下来，我们需要创建一个名为forms.py的文件，其中包含我们的表单定义：</p> 
<pre><code>from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired

class NameForm(FlaskForm):
    name = StringField('What is your name?', validators=[DataRequired()])
    submit = SubmitField('Submit')
</code></pre> 
<p>在这个示例中，我们定义了一个名为NameForm的表单，它包含一个名为name的字符串字段和一个名为submit的提交按钮。字符串字段使用DataRequired验证器，以确保用户已经输入了名字。</p> 
<p>在视图函数中使用这个表单：</p> 
<pre><code>from flask import Flask, render_template, session, redirect, url_for
from forms import NameForm

app = Flask(__name__)
app.config['SECRET_KEY'] = 'hard to guess string'

@app.route('/', methods=['GET', 'POST'])
def index():
    form = NameForm()
    if form.validate_on_submit():
        session['name'] = form.name.data
        return redirect(url_for('index'))
    return render_template('index.html', form=form, name=session.get('name'))

if __name__ == '__main__':
    app.run()
</code></pre> 
<p>在这个示例中，我们首先导入了NameForm表单。然后，我们在视图函数中创建了一个名为form的表单实例。如果表单被提交（即用户单击了提交按钮），我们将用户输入的名字存储在session中，并重定向到index页面。如果表单没有被提交，我们将渲染index.html模板，并向模板传递表单和session中存储的名字。</p> 
<p>在HTML模板中，我们需要使用Flask-WTF提供的表单帮助器来生成表单。以下是一个示例：</p> 
<pre><code>{% extends "base.html" %}

{% block content %}
  &lt;h1&gt;Hello, {<!-- -->{ name }}!&lt;/h1&gt;
  &lt;form method="POST" action="/"&gt;
    {<!-- -->{ form.hidden_tag() }}
    {<!-- -->{ form.name.label }} {<!-- -->{ form.name(size=20) }}
    {<!-- -->{ form.submit }}
  &lt;/form&gt;
{% endblock %}
</code></pre> 
<p>在这个示例中，我们使用hidden_tag帮助器生成一个隐藏的CSRF令牌，以防止跨站点请求伪造攻击。然后，我们使用label和name帮助器生成表单字段的标签和输入框。最后，我们使用submit帮助器生成提交按钮。</p> 
<h4>技术总结</h4> 
<p>我们介绍了Flask框架基本使用，并展示了如何使用它们来创建Web应用程序,学习了Flask的基本使用，包括路由和视图函数，以及如何使用Jinja2模板引擎和Flask-WTF插件来处理表单。这只是Flask的基础，Flask还有很多其他功能和插件，例如数据库集成、认证和授权、RESTful API等等。</p> 
<p> </p> 
<p><em>欢迎点赞收藏转发，感谢🙏</em></p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a5e3619de20d8e9a896b075f65d303b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">docker容器/etc/hosts文件修改教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/44ce4178b8b7818db3e68e94f57637fc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Gstreamer-音频数据播放之PCM</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>