<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spring REST Docs 构建java项目文档 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Spring REST Docs 构建java项目文档" />
<meta property="og:description" content="转自：https://blog.csdn.net/seanxwq/article/details/78064599
最近因为项目中需要编写接口文档，原来用的swagger结合现有项目问题比较多，且没有直观的目录（不知道swagger是否有左边栏目录这样的形式，没去细查），配合前端和测试使用时，他们抱怨比较多，所以摒弃了swagger之后，找到了spring rest docs， 结合官方文档和网上查到的资料，成功生成了接口文档。样例如下：
spring rest docs的使用其实就是在你现有的spring mvc或spring boot的项目上，配置生成文档的依赖包，然后编写接口单元测试，编写adoc配置文件，最后打包自动生成html接口文档的过程。根据这个步骤一步步操作：
1、配置依赖：
&lt;dependency&gt; &lt;groupId&gt;org.springframework.restdocs &lt;/groupId&gt; &lt;artifactId&gt;spring-restdocs-mockmvc &lt;/artifactId&gt; &lt;scope&gt;test &lt;/scope&gt; &lt;/dependency&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot &lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin &lt;/artifactId&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.asciidoctor &lt;/groupId&gt; &lt;artifactId&gt;asciidoctor-maven-plugin &lt;/artifactId&gt; &lt;version&gt;1.5.3 &lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;generate-docs &lt;/id&gt; &lt;phase&gt;prepare-package &lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;process-asciidoc &lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;backend&gt;html &lt;/backend&gt; &lt;doctype&gt;book &lt;/doctype&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.restdocs &lt;/groupId&gt; &lt;artifactId&gt;spring-restdocs-asciidoctor &lt;/artifactId&gt; &lt;version&gt;1.2.1.RELEASE &lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-resources-plugin &lt;/artifactId&gt; &lt;version&gt;2.7 &lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;copy-resources &lt;/id&gt; &lt;phase&gt;prepare-package &lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;copy-resources &lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;outputDirectory&gt; ${project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2397523a4144bcdc83b3583904032963/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-03T13:26:09+08:00" />
<meta property="article:modified_time" content="2018-08-03T13:26:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Spring REST Docs 构建java项目文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/seanxwq/article/details/78064599">转自：https://blog.csdn.net/seanxwq/article/details/78064599</a></p> 
<p>最近因为项目中需要编写接口文档，原来用的swagger结合现有项目问题比较多，且没有直观的目录（不知道swagger是否有左边栏目录这样的形式，没去细查），配合前端和测试使用时，他们抱怨比较多，所以摒弃了swagger之后，找到了spring rest docs， 结合官方文档和网上查到的资料，成功生成了接口文档。样例如下：</p> 
<p><img src="https://images2.imgbox.com/99/8a/ADjnxgs4_o.png" alt="接口文档样例"></p> 
<p>spring rest docs的使用其实就是在你现有的spring mvc或spring boot的项目上，配置生成文档的依赖包，然后编写接口单元测试，编写adoc配置文件，最后打包自动生成html接口文档的过程。根据这个步骤一步步操作：</p> 
<p>1、配置依赖：</p> 
<p></p> 
<p></p> 
<pre><code class="language-html hljs xml"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">           
     
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.restdocs
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">            
     
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-restdocs-mockmvc
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">           
     
     <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">        
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
<pre><code class="language-html hljs xml"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">     
     
     <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">         
     
     <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">              
     
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                
     
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">          
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">         
     
     <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">              
     
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.asciidoctor
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">             
     
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>asciidoctor-maven-plugin
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">             
     
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.3
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">              
     
     <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                 
     
     <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                      
     
     <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>generate-docs
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                        
     
     <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>prepare-package
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                        
     
     <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                          
     
     <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>process-asciidoc
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                     
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                     
     
     <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                          
     
     <span class="hljs-tag">&lt;<span class="hljs-name">backend</span>&gt;</span>html
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">backend</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                           
     
     <span class="hljs-tag">&lt;<span class="hljs-name">doctype</span>&gt;</span>book
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">doctype</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                       
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                 
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">             
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                
     
     <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                   
     
     <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                     
     
     <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.restdocs
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                       
     
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-restdocs-asciidoctor
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                      
     
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.1.RELEASE
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                  
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">          
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">            
     
     <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">             
     
     <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-resources-plugin
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">               
     
     <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                
     
     <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                 
     
     <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                      
     
     <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>copy-resources
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                       
     
     <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>prepare-package
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                        
     
     <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                          
     
     <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>copy-resources
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                       
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                     
     
     <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                          
     
     <span class="hljs-tag">&lt;<span class="hljs-name">outputDirectory</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                                     ${project.build.outputDirectory}/static/docs&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class="hljs-ln-numbers"&gt;&lt;div class="hljs-ln-line hljs-ln-n" data-line-number="45"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hljs-ln-code"&gt;&lt;div class="hljs-ln-line"&gt;							&lt;span class="hljs-tag"&gt;&amp;lt;/&lt;span class="hljs-name"&gt;outputDirectory&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class="hljs-ln-numbers"&gt;&lt;div class="hljs-ln-line hljs-ln-n" data-line-number="46"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hljs-ln-code"&gt;&lt;div class="hljs-ln-line"&gt;							&lt;span class="hljs-tag"&gt;&amp;lt;&lt;span class="hljs-name"&gt;resources&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class="hljs-ln-numbers"&gt;&lt;div class="hljs-ln-line hljs-ln-n" data-line-number="47"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hljs-ln-code"&gt;&lt;div class="hljs-ln-line"&gt;								&lt;span class="hljs-tag"&gt;&amp;lt;&lt;span class="hljs-name"&gt;resource&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class="hljs-ln-numbers"&gt;&lt;div class="hljs-ln-line hljs-ln-n" data-line-number="48"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hljs-ln-code"&gt;&lt;div class="hljs-ln-line"&gt;									&lt;span class="hljs-tag"&gt;&amp;lt;&lt;span class="hljs-name"&gt;directory&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;div class="hljs-ln-numbers"&gt;&lt;div class="hljs-ln-line hljs-ln-n" data-line-number="49"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class="hljs-ln-code"&gt;&lt;div class="hljs-ln-line"&gt;										${project.build.directory}/generated-docs
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                                   
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                             
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                          
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                     
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                 
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">             
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">            
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">        
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">   
     
     <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
2、编写接口测试 
<p></p> 
<p></p> 
<p>我们通过mock进行接口测试编写，测试类属性配置及单测前的before方法：</p> 
<p></p> 
<p></p> 
<pre><code class="language-java hljs"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
       
     
     <span class="hljs-meta">@Rule</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">  
     
     <span class="hljs-keyword">public</span> JUnitRestDocumentation restDocumentation = 
     
     <span class="hljs-keyword">new</span> JUnitRestDocumentation(
     
     <span class="hljs-string">"target/generated-snippets"</span>);
     
     <span class="hljs-comment">//生成的adoc文件导出目录</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
     
     <span class="hljs-keyword">private</span> MockMvc mockMvc;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">   
     
     <span class="hljs-meta">@Autowired</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">    
     
     <span class="hljs-keyword">private</span> WebApplicationContext context;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
     
     <span class="hljs-meta">@Before</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">   
     
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUp</span><span class="hljs-params">()</span> </span>{
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">        
     
     <span class="hljs-keyword">this</span>.mockMvc = MockMvcBuilders.webAppContextSetup(
     
     <span class="hljs-keyword">this</span>.context)
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                  .apply(documentationConfiguration(
     
     <span class="hljs-keyword">this</span>.restDocumentation))
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-comment">//               .alwaysDo(document("{method-name}/{step}/"))</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                  .build();
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
        }
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
单测例子（与普通的mock测试多了红色标注的部分，语法什么的我就不在这里讲解了，要想写出来，肯定要看官方文档： 
<a href="https://docs.spring.io/spring-restdocs/docs/1.2.2.BUILD-SNAPSHOT/reference/html5/" rel="nofollow noopener noreferrer" target="_blank">点击打开链接</a>，如果不想看英文，看这个博客也可以： 
<a href="http://blog.csdn.net/anxpp/article/details/73330832" rel="nofollow noopener noreferrer" target="_blank">点击打开链接</a>，不过，还是强烈推荐看官方文档）： 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<pre><code class="language-java hljs"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
       
     
     <span class="hljs-meta">@Test</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">  
     
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">      
     
     <span class="hljs-keyword">this</span>.mockMvc.perform(get(
     
     <span class="hljs-string">"/hello?page=2&amp;per_page=100"</span>).accept(MediaType.APPLICATION_JSON).header(
     
     <span class="hljs-string">"Authorization"</span>, 
     
     <span class="hljs-string">"Basic dXNlcjpzZWNyZXQ="</span>))
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                     .andDo(print()).andExpect(status().isOk())
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">               
     
     .andDo(document(<span class="hljs-string">"hello 接口"</span>,<span class="hljs-comment">//这个identity不同的单测需要不同，否则其他的测试会覆盖现有的，最后文档里只生成一个接口说明</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                          requestHeaders(
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                                   headerWithName(
     
     <span class="hljs-string">"Authorization"</span>).description(
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">                                        
     
     <span class="hljs-string">"Basic auth credentials"</span>)),
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                          requestParameters(
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                           parameterWithName(
     
     <span class="hljs-string">"page"</span>).description(
     
     <span class="hljs-string">"The page to retrieve"</span>),
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                             parameterWithName(
     
     <span class="hljs-string">"per_page"</span>).description(
     
     <span class="hljs-string">"Entries per page"</span>)
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                  )));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
         }
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
3、编写adoc配置文件 
<p></p> 
<p></p> 
<p>在maven项目标准结构下，src/main下新建asciidoc目录，并建一个.adoc为结尾的文件（到时候打包时，会根据asciidoc目录下的所有.adoc文件生成过个对应文件名的html文档）。例子如下：</p> 
<p></p> 
<p></p> 
<pre><code class="language-vbscript hljs"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     &lt;span style=
     
     <span class="hljs-string"><span class="hljs-string">"color:#ff6666;"</span></span>&gt;== hello 接口&lt;/span&gt;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello 接口\http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>.adoc[]
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>-headers 请求头说明
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello 接口\
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>-headers.adoc[]
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>-parameters 请求参数说明
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello 接口\
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>-parameters.adoc[]
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">response</span></span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello 接口\http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">response</span></span>.adoc[]
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     &lt;span style=
     
     <span class="hljs-string"><span class="hljs-string">"color:#ff6666;"</span></span>&gt;== hello2 接口&lt;/span&gt;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello2 接口\http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">request</span></span>.adoc[]
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     .http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">response</span></span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     include::D:\ideaworkspace\restdoc\target\generated-snippets\hello2 接口\http-
     
     <span class="hljs-built_in"><span class="hljs-built_in">response</span></span>.adoc[]
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
4、ok，最后用maven打包项目，跑完之后，就可以在target/generated-docs下看到你的文件了，直接双击打开，就能看到生成的文档。 
<p></p> 
<p></p> 
<p></p> 
<p>以上是根据官网文档，就可以导出一个接口文档。但是，并没有左边栏的目录，而且写一个单测就要在.adoc文件里添加include关键字导入新生成的接口内容很麻烦，怎么办呢？</p> 
<p>首先，左边栏目录或右边栏目录，或直接在文档最开头添加目录我们只需要在.adoc文件开头添加如下内容：</p> 
<p></p> 
<p></p> 
<pre><code class="language-vbscript hljs"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     = 接口文档
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     v1
     
     <span class="hljs-number"><span class="hljs-number">.0</span></span>, 
     
     <span class="hljs-number"><span class="hljs-number">2017</span></span>
     
     <span class="hljs-number"><span class="hljs-number">-09</span></span>
     
     <span class="hljs-number"><span class="hljs-number">-22</span></span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     :toc: 
     
     <span class="hljs-built_in"><span class="hljs-built_in">left</span></span>
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
它会自动根据你文件下发的接口配置来定义目录，前面第3点列出的那个配置红色部分就是接口的引用配置。是不是很简单，配置完之后，就能生成和我文档最开头那张图片的样子了。 
<p></p> 
<p></p> 
<p>然后解决每写一个接口测试就要在.adoc文件里添加include的问题：</p> 
<p>我们编写.adoc文件生成功能，方法如下（参考了：<a href="http://blog.csdn.net/a87922072/article/details/77164111" rel="nofollow noopener noreferrer" target="_blank">点击打开链接</a>）：</p> 
<p></p> 
<p></p> 
<pre><code class="language-java hljs"></code>
 
 <ol class="hljs-ln"><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-meta">@Test</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
     
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">adocBuild</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException </span>{
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            String appDir = System.getProperty(
     
     <span class="hljs-string">"user.dir"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
          String adocPath = appDir + 
     
     <span class="hljs-string">"\src\main\asciidoc\hello.adoc"</span>;
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
          StringBuilder content = 
     
     <span class="hljs-keyword">new</span> StringBuilder();
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            content.append(
     
     <span class="hljs-string">"include::"</span> + appDir + 
     
     <span class="hljs-string">"\src\main\asciidoc\preview.adoc[]"</span>).append(System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>)).append(System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
             File apidirs = 
     
     <span class="hljs-keyword">new</span> File(appDir + 
     
     <span class="hljs-string">"\target\generated-snippets"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">     
     
     <span class="hljs-keyword">for</span> (File apidir : apidirs.listFiles()) {
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
               String apiName = apidir.getName();
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
               content.append(
     
     <span class="hljs-string">"== "</span> + apiName + System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                fileAppend(content, apidir + 
     
     <span class="hljs-string">"\http-request.adoc"</span>, 
     
     <span class="hljs-string">".http-request"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
              fileAppend(content, apidir + 
     
     <span class="hljs-string">"\request-headers.adoc"</span>, 
     
     <span class="hljs-string">".request-headers 请求头说明"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
              fileAppend(content, apidir + 
     
     <span class="hljs-string">"\request-parameters.adoc"</span>, 
     
     <span class="hljs-string">".request-parameters 请求参数说明"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
               fileAppend(content, apidir + 
     
     <span class="hljs-string">"\request-body.adoc"</span>, 
     
     <span class="hljs-string">".request-body 请求体说明"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                fileAppend(content, apidir + 
     
     <span class="hljs-string">"\http-response.adoc"</span>, 
     
     <span class="hljs-string">".http-response"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                fileAppend(content, apidir + 
     
     <span class="hljs-string">"\response-fields.adoc"</span>, 
     
     <span class="hljs-string">".response-fields 返回值说明"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
              content.append(System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
           }
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-comment">//      System.out.println(adocPath);</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
     <span class="hljs-comment">//       System.out.println(content);</span>
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
          File file = 
     
     <span class="hljs-keyword">new</span> File(adocPath);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            writeStringToFile(file, content.toString(), 
     
     <span class="hljs-string">"UTF-8"</span>);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
       }
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">  
     
     <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeStringToFile</span><span class="hljs-params">(File file, String content, String character)</span> <span class="hljs-keyword">throws</span> IOException </span>{
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">      
     
     <span class="hljs-keyword">if</span> (!file.exists()) {
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
              file.createNewFile();
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            }
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            FileOutputStream fos = 
     
     <span class="hljs-keyword">new</span> FileOutputStream(file);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
             OutputStreamWriter osw = 
     
     <span class="hljs-keyword">new</span> OutputStreamWriter(fos, character);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
           osw.write(content);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
          osw.flush();
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
         }
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line"> 
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">  
     
     <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fileAppend</span><span class="hljs-params">(StringBuilder content, String include, String title)</span> </span>{
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
           File file = 
     
     <span class="hljs-keyword">new</span> File(include);
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">        
     
     <span class="hljs-keyword">if</span> (file.exists()) {
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
               content.append(title).append(System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
                 content.append(
     
     <span class="hljs-string">"include::"</span>).append(include).append(
     
     <span class="hljs-string">"[]"</span>).append(System.getProperty(
     
     <span class="hljs-string">"line.separator"</span>));
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
            }
    
    </div>
   
   </div></li><li>
   
   <div class="hljs-ln-numbers">
    
    <div class="hljs-ln-line hljs-ln-n"></div>
   
   </div>
   
   <div class="hljs-ln-code">
    
    <div class="hljs-ln-line">
     
        }
    
    </div>
   
   </div></li></ol>
 
 <div class="hljs-button"></div></pre> 
很简单，也就是编写方法，创建文件，写入内容。 
<p></p> 
<p></p> 
<p>对啦，告诉你们我是怎么知道加那个目录的，当然是看asciidoctor的语法文档啦,在这里：<a href="http://asciidoctor.org/docs/user-manual/#user-toc" rel="nofollow noopener noreferrer" target="_blank">点击打开链接</a></p> 
<p>嗯，项目源码在此：拿去参考吧，直接就能运行：<a href="https://gitee.com/breakingdawn/restdoc.git" rel="nofollow noopener noreferrer" target="_blank">点击打开链接</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4fc6124c79538e27e71ba3ec88ba2ddb/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">springMVC拦截器从Request中获取Json格式并解决request的请求流只能读取一次的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/936d4d2aaa969854b3842d0f1182cd72/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">oracle 数据库 查询获得去重后的所有数据</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>