<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CRON表达式 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CRON表达式" />
<meta property="og:description" content=" cron表达式的组成 cron表达式是一个字符串，由6到7个字段组成，用空格分隔。其中前6个字段是必须的，最后一个是可选的。每个字段的含义：
秒 分 时 日 月 周 （年） 从左到右，依次对每个字段指定相应的值，就可以确定一个任务的执行时间点和周期了。
值可以由数字配合字符来组合。
99%的情况下会用到的字符 在大部分使用cron的场景下， - * / ? 这几个常用字符就可以满足我们的需求了。
【*】：每的意思。在不同的字段上，就代表每秒，每分，每小时等。【-】：指定值的范围。比如[1-10]，在秒字段里就是每分钟的第1到10秒，在分就是每小时的第1到10分钟，以此类推。【,】：指定某几个值。比如[2,4,5]，在秒字段里就是每分钟的第2，第4，第5秒，以此类推。【/】：指定值的起始和增加幅度。比如[3/5]，在秒字段就是每分钟的第3秒开始，每隔5秒生效一次，也就是第3秒、8秒、13秒，以此类推。【?】：仅用于【日】和【周】字段。因为在指定某日和周几的时候，这两个值实际上是冲突的，所以需要用【?】标识不生效的字段。比如【0 1 * * * ?】就代表每年每月每日每小时的1分0秒触发任务。这里的周就没有效果了。 极少能用到的字符 SUN：仅用于【周】字段，表示星期日。也可以用数字1设置。周日到周六分别为SUN，MON，TUE，WED，THU，FRI和SAT，对应数字1，2，3，4，5，6，7。目前Quartz支持。L：即last，用于【日】【周】字段。这里需要注意的是，在不同的字段的不同使用方式，其含义有所差别。 用于日字段：直接使用L代表每个月的最后一天。也支持偏移量的方式，配置[L-1]则代表每月的倒数第二天。用于周字段：直接使用L代表每周的最后一天，也就是等效于[7]或[SAT]，但是如果配合上数字，比如[7L]，则代表每个月最后一个周六，等效于[SATL]。目前Quartz支持。 一些常见的例子 cron表达式含义常用场景执行时间5 * * * * ?每分钟的第5秒执行一次常见的每分钟的定时任务，检查数据库和缓存数据是否一致2021-04-11 13:10:05
2021-04-11 13:11:052021-04-11 13:12:052021-04-11 13:13:052021-04-11 13:14:052021-04-11 13:15:055 * 10-22 * * ?从早上10点到晚上十点，每分钟的第5秒执行一次将定时任务限制在每天的工作时间2021-04-11 13:10:05
2021-04-11 13:11:052021-04-11 13:12:052021-04-11 13:13:052021-04-11 13:14:052021-04-11 13:15:055 0 0/6 * * ?
等效于5 0 0,6,12,18 * * ?每天从0点开始，每隔6小时执行一次。执行时间为第0分5秒。常用于每天较低频次的批量同步数据2021-04-12 00:00:05
2021-04-12 06:00:052021-04-12 12:00:052021-04-12 18:00:05 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e3e9c56436bbcb922a9151691c308929/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-29T10:14:40+08:00" />
<meta property="article:modified_time" content="2023-11-29T10:14:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CRON表达式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>cron表达式的组成</h3> 
<p>cron表达式是一个字符串，由6到7个字段组成，用空格分隔。其中前6个字段是必须的，最后一个是可选的。每个字段的含义：</p> 
<pre><code class="hljs">秒        分        时        日        月        周        （年）</code></pre> 
<p></p> 
<p>从左到右，依次对每个字段指定相应的值，就可以确定一个任务的执行时间点和周期了。</p> 
<p>值可以由数字配合字符来组合。</p> 
<h3>99%的情况下会用到的字符</h3> 
<p>在大部分使用cron的场景下， - * / ? 这几个常用字符就可以满足我们的需求了。</p> 
<ul><li>【*】：每的意思。在不同的字段上，就代表每秒，每分，每小时等。</li><li>【-】：指定值的范围。比如[1-10]，在秒字段里就是每分钟的第1到10秒，在分就是每小时的第1到10分钟，以此类推。</li><li>【,】：指定某几个值。比如[2,4,5]，在秒字段里就是每分钟的第2，第4，第5秒，以此类推。</li><li>【/】：指定值的起始和增加幅度。比如[3/5]，在秒字段就是每分钟的第3秒开始，每隔5秒生效一次，也就是第3秒、8秒、13秒，以此类推。</li><li>【?】：仅用于【日】和【周】字段。因为在指定某日和周几的时候，这两个值实际上是冲突的，所以需要用【?】标识不生效的字段。比如【0 1 * * * ?】就代表每年每月每日每小时的1分0秒触发任务。这里的周就没有效果了。</li></ul> 
<h3>极少能用到的字符</h3> 
<ul><li>SUN：仅用于【周】字段，表示星期日。也可以用数字1设置。周日到周六分别为SUN，MON，TUE，WED，THU，FRI和SAT，对应数字1，2，3，4，5，6，7。目前Quartz支持。</li><li>L：即last，用于【日】【周】字段。这里需要注意的是，在不同的字段的不同使用方式，其含义有所差别。 
  <ul><li>用于日字段：直接使用L代表每个月的最后一天。也支持偏移量的方式，配置[L-1]则代表每月的倒数第二天。</li><li>用于周字段：直接使用L代表每周的最后一天，也就是等效于[7]或[SAT]，但是如果配合上数字，比如[7L]，则代表每个月最后一个周六，等效于[SATL]。目前Quartz支持。</li></ul></li></ul> 
<h3>一些常见的例子</h3> 
<table><tbody><tr><td>cron表达式</td><td>含义</td><td>常用场景</td><td>执行时间</td></tr><tr><td>5 * * * * ?</td><td>每分钟的第5秒执行一次</td><td>常见的每分钟的定时任务，检查数据库和缓存数据是否一致</td><td>2021-04-11 13:10:05<br> 2021-04-11 13:11:052021-04-11 13:12:052021-04-11 13:13:052021-04-11 13:14:052021-04-11 13:15:05</td></tr><tr><td>5 * 10-22 * * ?</td><td>从早上10点到晚上十点，每分钟的第5秒执行一次</td><td>将定时任务限制在每天的工作时间</td><td>2021-04-11 13:10:05<br> 2021-04-11 13:11:052021-04-11 13:12:052021-04-11 13:13:052021-04-11 13:14:052021-04-11 13:15:05</td></tr><tr><td>5 0 0/6 * * ?<br> 等效于5 0 0,6,12,18 * * ?</td><td>每天从0点开始，每隔6小时执行一次。执行时间为第0分5秒。</td><td>常用于每天较低频次的批量同步数据</td><td>2021-04-12 00:00:05<br> 2021-04-12 06:00:052021-04-12 12:00:052021-04-12 18:00:05</td></tr></tbody></table>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/30a8341fadc159593f8518309c567204/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于阿里云物联网平台的光伏电站智能运维方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3f2639bacdb185752f9eb5e6da73401c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决“ImportError: Missing optional dependency ‘pytables‘. Use pip or conda to install pytables.”问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>