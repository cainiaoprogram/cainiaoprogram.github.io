<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>执行时长2分钟的SQL，AI帮我优化到10毫秒。AI优化神器，你值得拥有 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="执行时长2分钟的SQL，AI帮我优化到10毫秒。AI优化神器，你值得拥有" />
<meta property="og:description" content="目录
前言
sql优化平台演示
复杂的子查询
复杂的聚合查询
复杂的联合查询
复杂的分组查询
复杂的嵌套查询
复杂的条件逻辑查询
SQL优化原理
原理流程
模型训练
优化预测
特征提取
数据收集
代码片段
大侠的AI网站
AI大侠后续功能计划
共建计划
写到最后
大家好，我是大侠，AI领域的专业博主
前言 AI大侠更新啦，耗时两个月终于上线SQL智能优化工具!!!
许多小伙伴在工作中写SQL 的时候最常遇到的问题就是SQL优化问题，特别是在面对数以千万计的数据，如何提高性能和简化复杂的SQL查询，更是需要耗费大量的时间和精力。
现在大侠给大家开发了一个SQL优化平台（https://aidaxia.net）
话不多说，直接开车~
sql优化平台演示 复杂的子查询 需求：检索所有部门名称类似于&#34;Sales&#34;的员工。
SELECT * FROM employee WHERE department_id IN ( SELECT id FROM department WHERE name LIKE &#39;%Sales%&#39; ); AI优化结果
AI模型使用INNER JOIN而非子查询，以避免使用子查询的性能问题。
复杂的聚合查询 需求：从表中检索每个部门的平均工资和员工数，并仅返回平均工资大于50000且员工数大于5的部门。
SELECT department_id, AVG(salary) AS avg_salary, COUNT(*) AS employee_count FROM employee GROUP BY department_id HAVING AVG(salary) &gt; 50000 AND COUNT(*) &gt; 5 ORDER BY department_id; AI优化后" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/343f4347af06388866da1f720bee9377/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-06T08:15:00+08:00" />
<meta property="article:modified_time" content="2023-06-06T08:15:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">执行时长2分钟的SQL，AI帮我优化到10毫秒。AI优化神器，你值得拥有</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="sql%E4%BC%98%E5%8C%96%E5%B9%B3%E5%8F%B0%E6%BC%94%E7%A4%BA-toc" style="margin-left:0px;"><a href="#sql%E4%BC%98%E5%8C%96%E5%B9%B3%E5%8F%B0%E6%BC%94%E7%A4%BA" rel="nofollow">sql优化平台演示</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的子查询</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的聚合查询</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的联合查询</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的分组查询</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的嵌套查询</a></p> 
<p id="%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9D%A1%E4%BB%B6%E9%80%BB%E8%BE%91%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9D%A1%E4%BB%B6%E9%80%BB%E8%BE%91%E6%9F%A5%E8%AF%A2" rel="nofollow">复杂的条件逻辑查询</a></p> 
<p id="SQL%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86-toc" style="margin-left:0px;"><a href="#SQL%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86" rel="nofollow">SQL优化原理</a></p> 
<p id="%E5%8E%9F%E7%90%86%E6%B5%81%E7%A8%8B-toc" style="margin-left:40px;"><a href="#%E5%8E%9F%E7%90%86%E6%B5%81%E7%A8%8B" rel="nofollow">原理流程</a></p> 
<p id="%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83-toc" style="margin-left:80px;"><a href="#%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83" rel="nofollow">模型训练</a></p> 
<p id="%E4%BC%98%E5%8C%96%E9%A2%84%E6%B5%8B-toc" style="margin-left:80px;"><a href="#%E4%BC%98%E5%8C%96%E9%A2%84%E6%B5%8B" rel="nofollow">优化预测</a></p> 
<p id="%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96-toc" style="margin-left:80px;"><a href="#%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96" rel="nofollow">特征提取</a></p> 
<p id="%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86-toc" style="margin-left:80px;"><a href="#%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86" rel="nofollow">数据收集</a></p> 
<p id="%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5-toc" style="margin-left:40px;"><a href="#%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5" rel="nofollow">代码片段</a></p> 
<p id="%E5%A4%A7%E4%BE%A0%E7%9A%84AI%E7%BD%91%E7%AB%99-toc" style="margin-left:0px;"><a href="#%E5%A4%A7%E4%BE%A0%E7%9A%84AI%E7%BD%91%E7%AB%99" rel="nofollow">大侠的AI网站</a></p> 
<p id="AI%E5%A4%A7%E4%BE%A0%E5%90%8E%E7%BB%AD%E5%8A%9F%E8%83%BD%E8%AE%A1%E5%88%92-toc" style="margin-left:0px;"><a href="#AI%E5%A4%A7%E4%BE%A0%E5%90%8E%E7%BB%AD%E5%8A%9F%E8%83%BD%E8%AE%A1%E5%88%92" rel="nofollow">AI大侠后续功能计划</a></p> 
<p id="%E5%85%B1%E5%BB%BA%E8%AE%A1%E5%88%92-toc" style="margin-left:0px;"><a href="#%E5%85%B1%E5%BB%BA%E8%AE%A1%E5%88%92" rel="nofollow">共建计划</a></p> 
<p id="%E5%86%99%E5%88%B0%E6%9C%80%E5%90%8E-toc" style="margin-left:0px;"><a href="#%E5%86%99%E5%88%B0%E6%9C%80%E5%90%8E" rel="nofollow">写到最后</a></p> 
<hr id="hr-toc"> 
<p></p> 
<p>大家好，我是大侠，AI领域的专业博主</p> 
<p></p> 
<h2 id="%E5%89%8D%E8%A8%80">前言</h2> 
<p><strong>AI大侠更新啦，耗时两个月终于上线SQL智能优化工具!!!</strong></p> 
<p>许多小伙伴在工作中写SQL 的时候最常遇到的问题就是SQL优化问题，特别是在面对数以千万计的数据，如何提高性能和简化复杂的SQL查询，更是需要耗费大量的时间和精力。</p> 
<p>现在大侠给大家开发了一个<strong>SQL优化平台</strong>（<a href="https://aidaxia.net/" rel="nofollow" title="https://aidaxia.net">https://aidaxia.net</a>）</p> 
<p>话不多说，直接开车~</p> 
<p class="img-center"><img alt="" height="148" src="https://images2.imgbox.com/77/8d/oKHyPlE4_o.jpg" width="150"></p> 
<p></p> 
<p></p> 
<hr> 
<h2 id="sql%E4%BC%98%E5%8C%96%E5%B9%B3%E5%8F%B0%E6%BC%94%E7%A4%BA">sql优化平台演示</h2> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%AD%90%E6%9F%A5%E8%AF%A2">复杂的子查询</h3> 
<p><strong>需求：检索所有部门名称类似于"Sales"的员工。</strong></p> 
<pre><code class="language-sql">SELECT *
FROM employee
WHERE department_id IN (
  SELECT id
  FROM department
  WHERE name LIKE '%Sales%'
);</code></pre> 
<p>AI优化结果</p> 
<p><img alt="" height="642" src="https://images2.imgbox.com/a8/c2/fpEXg4uH_o.jpg" width="1200"></p> 
<p> AI模型使用INNER JOIN而非子查询，以避免使用子查询的性能问题。</p> 
<p></p> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%9A%E5%90%88%E6%9F%A5%E8%AF%A2">复杂的聚合查询</h3> 
<p>需求：从表中检索每个部门的平均工资和员工数，并仅返回平均工资大于50000且员工数大于5的部门。</p> 
<pre><code class="language-sql">SELECT department_id, AVG(salary) AS avg_salary, COUNT(*) AS employee_count
FROM employee
GROUP BY department_id
HAVING AVG(salary) &gt; 50000 AND COUNT(*) &gt; 5
ORDER BY department_id;</code></pre> 
<p>AI优化后</p> 
<p><img alt="" height="408" src="https://images2.imgbox.com/27/e8/OQVEcNpa_o.jpg" width="1200"></p> 
<p> AI模型使用WHERE子句代替HAVING子句，以避免在聚合之后进行过滤。</p> 
<p></p> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2">复杂的联合查询</h3> 
<p>需求：从表中检索部门ID为1和2的员工，并按照姓名排序</p> 
<pre><code class="language-sql">SELECT id, name, salary
FROM employee
WHERE department_id = 1
UNION ALL
SELECT id, name, salary
FROM employee
WHERE department_id = 2
ORDER BY name;</code></pre> 
<p>AI优化</p> 
<p><img alt="" height="404" src="https://images2.imgbox.com/8f/0a/0kGN0M7R_o.jpg" width="1200"></p> 
<p> AI模型使用UNION ALL而非UNION操作符，以避免在结果集中去除重复的行</p> 
<p></p> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2">复杂的分组查询</h3> 
<p>需求：从表中检索每个部门和性别的员工数量和平均工资，并仅返回员工数量大于5的部门和性别</p> 
<pre><code class="language-sql">
SELECT department_id, gender, COUNT(*) AS employee_count, AVG(salary) AS avg_salary
FROM employee
GROUP BY department_id, gender
HAVING COUNT(*) &gt; 5
ORDER BY department_id, gender;</code></pre> 
<p></p> 
<p>AI优化结果</p> 
<p><img alt="" height="380" src="https://images2.imgbox.com/4a/ce/ONjzlzCr_o.jpg" width="1200"></p> 
<p> AI模型使用WHERE子句代替HAVING子句，以避免在聚合之后进行过滤</p> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E5%B5%8C%E5%A5%97%E6%9F%A5%E8%AF%A2">复杂的嵌套查询</h3> 
<p>需求：检索了公司名称为“ABC Company”的所有员工</p> 
<pre><code class="language-sql">SELECT *
FROM employee
WHERE department_id IN (
  SELECT id
  FROM department
  WHERE company_id IN (
    SELECT id
    FROM company
    WHERE name = 'ABC Company'
  )
);</code></pre> 
<p>AI优化结果</p> 
<p><img alt="" height="351" src="https://images2.imgbox.com/bd/34/shhKlEOW_o.jpg" width="1200"></p> 
<p></p> 
<p>AI模型使用用INNER JOIN而非子查询，以避免使用子查询的性能问题</p> 
<h3 id="%E5%A4%8D%E6%9D%82%E7%9A%84%E6%9D%A1%E4%BB%B6%E9%80%BB%E8%BE%91%E6%9F%A5%E8%AF%A2">复杂的条件逻辑查询</h3> 
<p>需求：从表中检索部门ID为1且性别为女性、或部门ID为2且性别为男性的员工，并按照姓名排序</p> 
<pre><code class="language-sql">SELECT *
FROM employee
WHERE (department_id = 1 AND gender = 'Female') OR (department_id = 2 AND gender = 'Male')
ORDER BY name;</code></pre> 
<p>AI优化结果</p> 
<p><img alt="" height="353" src="https://images2.imgbox.com/89/b2/iqM2n6aa_o.jpg" width="1200"></p> 
<p> AI模型使用IN操作符而非OR操作符，以避免在WHERE子句中使用复杂的条件逻辑</p> 
<p></p> 
<hr> 
<h2 id="SQL%E4%BC%98%E5%8C%96%E5%8E%9F%E7%90%86">SQL优化原理</h2> 
<p>许多小伙伴肯定好奇这个是怎么实现的，大侠给大家简单说一下实现原理</p> 
<p><img alt="" height="419" src="https://images2.imgbox.com/27/b5/7QcuN82F_o.jpg" width="1077"></p> 
<p></p> 
<h3 id="%E5%8E%9F%E7%90%86%E6%B5%81%E7%A8%8B">原理流程</h3> 
<h4 id="%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83">模型训练</h4> 
<p>利用训练好的模型，对新的SQL查询进行优化预测，输出优化后的执行计划。</p> 
<h4 id="%E4%BC%98%E5%8C%96%E9%A2%84%E6%B5%8B">优化预测</h4> 
<p>使用深度学习模型，如神经网络等，对收集到的数据进行训练，使得模型能够自动学习SQL查询和执行计划之间的相关性。</p> 
<h4 id="%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96">特征提取</h4> 
<p>将SQL语句和执行计划转化为向量等数值化的形式，以便于后续的深度学习模型处理。</p> 
<h4 id="%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86">数据收集</h4> 
<p>收集相关的SQL查询和执行计划，以及相关的数据统计信息。</p> 
<h3 id="%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5">代码片段</h3> 
<p><img alt="" height="569" src="https://images2.imgbox.com/0f/c3/uKlqJypF_o.jpg" width="575"></p> 
<p></p> 
<hr> 
<h2 id="%E5%A4%A7%E4%BE%A0%E7%9A%84AI%E7%BD%91%E7%AB%99">大侠的AI网站</h2> 
<p>大侠的AI网站上不仅仅有SQL优化平台，还集成了<strong>AI智能聊天，后续会上很多有趣的</strong><strong>开发者工具</strong>，帮助小伙伴解决日常开发中遇到的问题 大家可以前往体验一下（<a href="https://aidaxia.net" rel="nofollow" title="https://aidaxia.net">https://aidaxia.net</a>），请大家多多支持</p> 
<p><img alt="" height="968" src="https://images2.imgbox.com/a0/7c/PGnSweSo_o.jpg" width="1200"></p> 
<p></p> 
<hr> 
<h2 id="AI%E5%A4%A7%E4%BE%A0%E5%90%8E%E7%BB%AD%E5%8A%9F%E8%83%BD%E8%AE%A1%E5%88%92">AI大侠后续功能计划</h2> 
<p>大侠后续准备开发一款<strong>bug修改工具</strong>，让AI帮你改bug是一种什么样的体验？开发完成之后会在大侠的AI网站（<a href="https://aidaxia.net/" rel="nofollow" title="https://aidaxia.net">https://aidaxia.net</a>）上公布。</p> 
<hr> 
<h2 id="%E5%85%B1%E5%BB%BA%E8%AE%A1%E5%88%92">共建计划</h2> 
<p>同学们如果有任何关于AI工具的需求或建议，欢迎随时向大侠反馈，大侠会马上提上日程</p> 
<hr> 
<h2 id="%E5%86%99%E5%88%B0%E6%9C%80%E5%90%8E">写到最后</h2> 
<p>大侠的这些AI工具完全免费且安全可靠，可以放心地使用它们，而无需担心任何费用或安全问题。</p> 
<p>与其他网站不同的是，大侠提供的所有的AI工具都将永久免费，并且不会向用户收取任何费用。</p> 
<p>问就是 为爱发电~</p> 
<p class="img-center"><img alt="" height="67" src="https://images2.imgbox.com/52/aa/nAu4KwF5_o.jpg" width="83"></p> 
<p> AI是一个充满机遇和挑战的领域，</p> 
<p>AI时代已经到来，AI真的会取代我们吗？</p> 
<p>你还不主动了解AI？</p> 
<p>你还在为跟同事聊AI插不上话吗？</p> 
<p>那请关注大侠，带你了解AI行业第一动态。</p> 
<p><img alt="" height="383" src="https://images2.imgbox.com/c9/09/ZjryE5NN_o.jpg" width="900"></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/daf51632b34644e1edd654662e8c8827/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu Gnome美化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/356551f8518e5c8e10bce89500c04636/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">xHE-AAC 简介</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>