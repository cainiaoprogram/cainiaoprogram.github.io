<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>《ROS2圆通》 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="《ROS2圆通》" />
<meta property="og:description" content="一、安装 参考：【1】《技术分享 | 详解ROS 2的安装步骤》
【2】《《动手学ROS2》2.3ROS2的安装》
【3】若网络受限，则使用镜像 《ros2镜像》
二、错误集解 2.1 ros2用colcon build出现错误：ModuleNotFoundError: No module named ‘catkin_pkg’ 错误如下：
Starting &gt;&gt;&gt; fishbot_navigation2 --- stderr: fishbot_navigation2 Traceback (most recent call last): File &#34;/opt/ros/foxy/share/ament_cmake_core/cmake/core/package_xml_2_cmake.py&#34;, line 21, in &lt;module&gt; from catkin_pkg.package import parse_package_string ModuleNotFoundError: No module named &#39;catkin_pkg&#39; CMake Error at /opt/ros/foxy/share/ament_cmake_core/cmake/core/ament_package_xml.cmake:94 (message): execute_process(/home/ros2/miniconda3/bin/python3 /opt/ros/foxy/share/ament_cmake_core/cmake/core/package_xml_2_cmake.py /home/ros2/code/fishbot_ws/src/fishbot_navigation2/package.xml /home/ros2/code/fishbot_ws/build/fishbot_navigation2/ament_cmake_core/package.cmake) returned error code 1 Call Stack (most recent call first): /opt/ros/foxy/share/ament_cmake_core/cmake/core/ament_package_xml.cmake:49 (_ament_package_xml) /opt/ros/foxy/share/ament_lint_auto/cmake/ament_lint_auto_find_test_dependencies.cmake:31 (ament_package_xml) CMakeLists.txt:34 (ament_lint_auto_find_test_dependencies) --- Failed &lt;&lt;&lt; fishbot_navigation2 [0." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/65fa9e59c7238609072249288b4b89df/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-12T13:40:14+08:00" />
<meta property="article:modified_time" content="2022-05-12T13:40:14+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">《ROS2圆通》</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="img-center"><img alt="" src="https://images2.imgbox.com/f5/40/qkCtuqqR_o.png"></p> 
<h2>一、安装</h2> 
<p>参考：【1】《<a class="link-info" href="https://www.bilibili.com/read/cv13293626" rel="nofollow" title="技术分享 | 详解ROS 2的安装步骤">技术分享 | 详解ROS 2的安装步骤</a>》</p> 
<p>        【2】《<a class="link-info" href="https://blog.51cto.com/u_15473553/4939084" rel="nofollow" title="《动手学ROS2》2.3ROS2的安装">《动手学ROS2》2.3ROS2的安装</a>》</p> 
<p>        【3】若网络受限，则使用镜像 《<a class="link-info" href="https://developer.aliyun.com/mirror/ros2" rel="nofollow" title="ros2镜像">ros2镜像</a>》</p> 
<h2>二、错误集解</h2> 
<h3><strong>2.1  ros2用colcon build出现错误：ModuleNotFoundError: No module named ‘catkin_pkg’</strong></h3> 
<p><strong><span style="color:#fe2c24;">错误如下：</span></strong></p> 
<pre><code class="language-bash">Starting &gt;&gt;&gt; fishbot_navigation2
--- stderr: fishbot_navigation2                         
Traceback (most recent call last):
  File "/opt/ros/foxy/share/ament_cmake_core/cmake/core/package_xml_2_cmake.py", line 21, in &lt;module&gt;
    from catkin_pkg.package import parse_package_string
ModuleNotFoundError: No module named 'catkin_pkg'
CMake Error at /opt/ros/foxy/share/ament_cmake_core/cmake/core/ament_package_xml.cmake:94 (message):
  execute_process(/home/ros2/miniconda3/bin/python3
  /opt/ros/foxy/share/ament_cmake_core/cmake/core/package_xml_2_cmake.py
  /home/ros2/code/fishbot_ws/src/fishbot_navigation2/package.xml
  /home/ros2/code/fishbot_ws/build/fishbot_navigation2/ament_cmake_core/package.cmake)
  returned error code 1
Call Stack (most recent call first):
  /opt/ros/foxy/share/ament_cmake_core/cmake/core/ament_package_xml.cmake:49 (_ament_package_xml)
  /opt/ros/foxy/share/ament_lint_auto/cmake/ament_lint_auto_find_test_dependencies.cmake:31 (ament_package_xml)
  CMakeLists.txt:34 (ament_lint_auto_find_test_dependencies)


---
Failed   &lt;&lt;&lt; fishbot_navigation2 [0.29s, exited with code 1]
                                
Summary: 0 packages finished [0.42s]
  1 package failed: fishbot_navigation2
  1 package had stderr output: fishbot_navigation2</code></pre> 
<p><span style="color:#1c7331;"><strong>原因分析 及 解决方案：</strong></span></p> 
<ul><li> <strong>原因1： </strong>未安装catkin_pkg</li></ul> 
<p> <strong>       解决方案：</strong></p> 
<pre><code class="language-bash">pip3 install catkin_pkg</code></pre> 
<ul><li><strong>原因2：</strong>与Anaconda安装的Python冲突 【<span style="color:#be191c;"><strong>绝大数是这种原因</strong></span>】</li></ul> 
<p>        <strong>解决方案：</strong></p> 
<p>        （1）在terminal中退出base环境：</p> 
<pre><code>conda deactivate</code></pre> 
<p>                  再试试<strong>colcon build</strong>，如果通过则说明正确找到了python；若不行，则使用第二步；</p> 
<p>        （2）手工指定Python 【PYTHON_EXECUTABLE】</p> 
<p>        在CMakeList.txt中添加 “ <span style="color:#fe2c24;"><strong>set(PYTHON_EXECUTABLE /usr/bin/python3)  </strong></span>”</p> 
<p><span style="color:#b95514;"><strong>       </strong> </span><span style="color:#0d0016;">如在</span><strong><span style="color:#0d0016;">《</span></strong><a class="link-info" href="https://blog.csdn.net/qq_45701501/article/details/118577437" title="ROS2学习笔记13--编写一个简单的发布器和侦听器（C++）">ROS2学习笔记13--编写一个简单的发布器和侦听器（C++）</a><strong><span style="color:#0d0016;">》</span></strong><span style="color:#0d0016;">例子中的</span><strong><span style="color:#0d0016;">CMakeList.txt</span></strong><span style="color:#0d0016;">变成：</span></p> 
<pre><code class="language-bash">cmake_minimum_required(VERSION 3.5)
project(cpp_pubsub)

#Default to C++14
if(NOT CMAKE_CXX_STANDARD)
  set(CMAKE_CXX_STANDARD 14)
endif()

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

set(PYTHON_EXECUTABLE /usr/bin/python3)

find_package(ament_cmake REQUIRED)
find_package(rclcpp REQUIRED)
find_package(std_msgs REQUIRED)

add_executable(talker src/publisher_member_function.cpp)
ament_target_dependencies(talker rclcpp std_msgs)

add_executable(listener src/subscriber_member_function.cpp)
ament_target_dependencies(listener rclcpp std_msgs)

install(TARGETS
  talker
  listener
  DESTINATION lib/${PROJECT_NAME})

ament_package()</code></pre> 
<blockquote> 
 <p>参考：【1】《<a class="link-info" href="https://blog.csdn.net/qq_27865227/article/details/122609055" title="记录个ros2用colcon build出现的小错误：ModuleNotFoundError: No module named ‘catkin_pkg‘">记录个ros2用colcon build出现的小错误：ModuleNotFoundError: No module named ‘catkin_pkg‘</a>》（该博客具体冲突解决方法未讲述完整）</p> 
 <p>【2】《<a class="link-info" href="http://ask.sov5.cn/q/oqCrxxt08B" rel="nofollow" title="Cmake似乎没有使用它确认使用的Python解释器">Cmake似乎没有使用它确认使用的Python解释器</a>》</p> 
 <p></p> 
</blockquote> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/05abd3c567cbbb59dd8b575135b0bfb9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Asp.Net Core swagger接口文档添加Header</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1efecc3eae35bfdb2a03f9d8c1aa482/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Lenet 进行手写数字识别(pytorch)</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>