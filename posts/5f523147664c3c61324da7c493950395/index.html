<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu上重装Python2（强烈建议在不删除数据情况下，直接重装系统，不要动原本的Python，用anaconda做环境隔离） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu上重装Python2（强烈建议在不删除数据情况下，直接重装系统，不要动原本的Python，用anaconda做环境隔离）" />
<meta property="og:description" content="重装系统分区见 ubuntu 20.04重装系统分区 一、在Ubuntu上卸载Python2 1、检查Python2的版本 在开始卸载Python2之前，我们需要先检查Python2的版本。新的Ubuntu版本通常都预装了Python3，而Python2是作为附属包(package)一起安装的。首先，打开终端(Terminal)，输入以下命令来检查Python2的版本：
python --version 如果Python2已经安装，会输出类似于以下的版本信息：
Python 2.7.17 2、备份Python2的环境变量 在卸载Python2之前，我们需要备份Python2的环境变量。在终端中输入以下命令：
sudo cp -R /usr/bin/python2.7 /usr/bin/python2.7.bak 该命令将会备份Python2的环境变量到“/usr/bin/python2.7.bak”文件夹中，以便于后续的恢复以及使用。
3、卸载Python2 如果你仅需卸载Python2：
sudo apt-get remove python2.7 sudo apt-get autoremove 该命令将会卸载Python2，同时也会自动卸载Python2相关的库和依赖。
如果你计划卸载所有和Python相关的软件，可以使用以下命令来进行操作：
sudo apt-get remove python2.7-minimal sudo apt-get autoremove 该命令将会卸载Python2以及所有和Python相关的软件，包括pip、virtualenv、pipenv等等。
4、清理残留文件 卸载Python2之后，可能还会留下一些残留文件。在终端中输入以下命令，以清理残留文件：
cd /usr/local/lib sudo rm -rf python2.7 cd /usr/lib sudo rm -rf python2.7 cd /usr/bin sudo rm -rf python2.7 该命令将会清理Python2相关的残留文件。
5、修改默认Python版本 如果你需要将Python3设置为默认版本，则可以在终端中输入以下命令来进行修改：
sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10 该命令将会将Python3设置为默认版本。如果你需要恢复Python2为默认版本，可以使用以下命令：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5f523147664c3c61324da7c493950395/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-18T17:45:40+08:00" />
<meta property="article:modified_time" content="2023-12-18T17:45:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu上重装Python2（强烈建议在不删除数据情况下，直接重装系统，不要动原本的Python，用anaconda做环境隔离）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>重装系统分区见 <a href="https://mp.csdn.net/mp_blog/creation/editor/135057693" title="ubuntu 20.04重装系统分区">ubuntu 20.04重装系统分区</a></h2> 
<h2>一、在Ubuntu上卸载Python2</h2> 
<h3 id="title-1">1、检查Python2的版本</h3> 
<p>在开始卸载Python2之前，我们需要先检查Python2的版本。新的Ubuntu版本通常都预装了Python3，而Python2是作为附属包(package)一起安装的。首先，打开终端(Terminal)，输入以下命令来检查Python2的版本：</p> 
<pre>python --version
</pre> 
<p>如果Python2已经安装，会输出类似于以下的版本信息：</p> 
<pre>Python 2.7.17
</pre> 
<h3 id="title-2">2、备份Python2的环境变量</h3> 
<p>在卸载Python2之前，我们需要备份Python2的环境变量。在终端中输入以下命令：</p> 
<pre>sudo cp -R /usr/bin/python2.7 /usr/bin/python2.7.bak
</pre> 
<p>该命令将会备份Python2的环境变量到“/usr/bin/python2.7.bak”文件夹中，以便于后续的恢复以及使用。</p> 
<h3 id="title-3">3、卸载Python2</h3> 
<p>如果你仅需卸载Python2：</p> 
<pre>sudo apt-get remove python2.7
sudo apt-get autoremove
</pre> 
<p>该命令将会卸载Python2，同时也会自动卸载Python2相关的库和依赖。</p> 
<p>如果你计划卸载所有和Python相关的软件，可以使用以下命令来进行操作：</p> 
<pre>sudo apt-get remove python2.7-minimal
sudo apt-get autoremove
</pre> 
<p>该命令将会卸载Python2以及所有和Python相关的软件，包括pip、virtualenv、pipenv等等。</p> 
<h3 id="title-4">4、清理残留文件</h3> 
<p>卸载Python2之后，可能还会留下一些残留文件。在终端中输入以下命令，以清理残留文件：</p> 
<pre>cd /usr/local/lib
sudo rm -rf python2.7
cd /usr/lib
sudo rm -rf python2.7
cd /usr/bin
sudo rm -rf python2.7
</pre> 
<p>该命令将会清理Python2相关的残留文件。</p> 
<h3 id="title-5">5、修改默认Python版本</h3> 
<p>如果你需要将Python3设置为默认版本，则可以在终端中输入以下命令来进行修改：</p> 
<pre>sudo update-alternatives --install /usr/bin/python python /usr/bin/python3 10
</pre> 
<p>该命令将会将Python3设置为默认版本。如果你需要恢复Python2为默认版本，可以使用以下命令：</p> 
<pre>sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1
</pre> 
<p>总而言之，以上就是在Ubuntu上卸载Python2的步骤以及注意事项。</p> 
<h2>二、安装Python2</h2> 
<h3>一、安装前的准备（因为删python2时可能也会删除依赖）</h3> 
<p></p> 
<pre><code>$ sudo apt-get update</code></pre> 
<h3>1、从源码安装Python2</h3> 
<p>1）下载源码</p> 
<p>从Python官网（https://www.python.org/downloads/release/python-2718/）下载Python2的源码包并解压，进入解压后的目录。</p> 
<p>2）安装依赖</p> 
<p>在终端输入以下命令，安装编译Python2所需的依赖：</p> 
<pre><code>$ sudo apt-get install build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils</code></pre> 
<p>3）编译安装</p> 
<p>在源码目录下，输入以下命令进行编译和安装：</p> 
<pre><code>$ ./configure --enable-optimizations
$ make -j 8
$ sudo make altinstall</code></pre> 
<p>4）验证Python2安装是否成功</p> 
<p>在终端输入以下命令，查看Python2的版本号：</p> 
<pre><code>$ python2.7 --version</code></pre> 
<h3>2、通过apt-get安装Python2</h3> 
<p>1）更新apt-get</p> 
<p>在终端输入以下命令，更新apt-get：</p> 
<pre><code>$ sudo apt-get update</code></pre> 
<p>2）安装Python2</p> 
<p>在终端输入以下命令，安装Python2：</p> 
<pre><code>$ sudo apt-get install python2</code></pre> 
<p>3）验证Python2安装是否成功</p> 
<p>在终端输入以下命令，查看Python2的版本号：python2 --version</p> 
<h3>3、使用pyenv安装Python2</h3> 
<p>1）安装pyenv</p> 
<p>在终端输入以下命令，安装pyenv：</p> 
<pre><code>$ git clone https://github.com/pyenv/pyenv.git ~/.pyenv
$ echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.bashrc
$ echo 'export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.bashrc
$ echo -e 'if command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\n eval "$(pyenv init -)"\nfi' &gt;&gt; ~/.bashrc
$ exec "$SHELL"</code></pre> 
<p>2）安装依赖</p> 
<p>在终端输入以下命令，安装编译Python所需的依赖：</p> 
<pre><code>$ sudo apt-get install -y make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev libncursesw5-dev xz-utils tk-dev libffi-dev liblzma-dev</code></pre> 
<p>3）安装Python2</p> 
<p>在终端输入以下命令，安装Python2：</p> 
<pre><code>$ pyenv install 2.7.18</code></pre> 
<p>4）设置全局Python版本</p> 
<p>在终端输入以下命令，设置全局Python版本为Python2：</p> 
<pre><code>$ pyenv global 2.7.18</code></pre> 
<p>5）验证Python2安装是否成功</p> 
<p>在终端输入以下命令，查看Python2的版本号：</p> 
<pre><code>$ python --version</code></pre> 
<h3>4、使用Anaconda安装Python2</h3> 
<p>1）下载Anaconda</p> 
<p>从Anaconda官网（https://www.anaconda.com/products/individual）下载Python2版本的Anaconda，并安装。</p> 
<p>2）创建Python2环境</p> 
<p>在终端输入以下命令，创建Python2的环境：</p> 
<pre><code>$ conda create -n py27 python=2.7 anaconda</code></pre> 
<p>3）进入Python2环境</p> 
<p>在终端输入以下命令，进入Python2环境：</p> 
<pre><code>$ conda activate py27</code></pre> 
<p>4）验证Python2安装是否成功</p> 
<p>在终端输入以下命令，查看Python2的版本号：</p> 
<pre><code>$ python --version</code></pre> 
<h3>5、总结</h3> 
<p>通过本文的介绍，我们了解了在Ubuntu上安装Python2的多个方法，包括从源码安装、通过apt-get安装、使用pyenv安装和使用Anaconda安装。这让我们可以根据不同的需求和场景，选择最合适的安装方式。希望这篇文章对想要在Ubuntu上安装Python2的开发者们有所帮助。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/11ad7c2a225400971c67d54af409aa70/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">日期取值(年月日…)方式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a7461664bd6a8162df2aa407b29bfc8c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">尚硅谷Docker笔记-基础篇</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>