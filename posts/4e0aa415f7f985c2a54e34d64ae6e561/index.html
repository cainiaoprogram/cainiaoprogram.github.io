<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>细说ASCII、GB2312/GBK/GB18030、Unicode、UTF-8/UTF-16/UTF-32编码 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="细说ASCII、GB2312/GBK/GB18030、Unicode、UTF-8/UTF-16/UTF-32编码" />
<meta property="og:description" content="参考：
《编码标准-GB2312 GBK GB18030》
《字符编码笔记：ASCII，Unicode 和 UTF-8》
《字体编辑用中日韩汉字Unicode编码表》
《程序员趣味读物：谈谈Unicode编码》
1. 最简单的ASCII码。 ASCII码使用1个字节记录了128个常用的字符（ASCII规定第一个bit位固定为0，2^7=128），包含控制字符（如：键盘的空格、Tab键），以及打印字符（如：数字、英文字母等）。
看下面的表格：
2. 汉字编码，从GB2312说起 1980年，为了使每个汉字有一个全国统一的代码，我国颁布了汉字编码的国家标准：GB2312-80《信息交换用汉字编码字符集》基本集，这个字符集是我国中文信息处理技术的发展基础，也是国内所有汉字系统的统一标准。
在这个标准中，我们规定使用两个字节表示一个字符，又为了兼容ASCII码，规定每个字节的首bit位固定为1。这样最终编码后的范围是：0xA1A1 - 0xFEFE（共94*94=8836个码位），其中收录了汉字6763个（其中一级汉字3755，二级汉字3008个），覆盖率达到了99.75% 。
其实，在GB2312中还有区位表的概念：
将所有的字符都分为94区，每区又有94位，
01-09 区为特殊符号10-15 区为用户自定义符号区（未编码）16-55 区为一级汉字，按拼音排序56-87 区为二级汉字，按部首/笔画排序88-94 区为用户自定义汉字区（未编码） .
示例如下：
可以通过这里查看完整的区位码列表：《区位码全表》
实际计算机存储的时候肯定不是按照区位码存的（还要避开ASCII的字符嘛），所以GB2312的存储规则如下：
注意：上面的“ａ”不是ASCII中的a，而是GB2312中的“ａ”。
另外，我们知道ASCII码的&#34;a&#34;其实就是0x61（即：97，01000001）。
基于以上三个字符的分析，我们新建一个文本文件并输入：“aａ啊”，并另存为“ANSI”编码（其实就是GBK编码，GBK兼容GB2312，这里就把GBK当做GB2312），如下：
保存后，我们换个软件打开，观察下16进制，这里我使用editplus，如下：
这里实验的结果和我们分析的结果正好一致。
0x61：表示ASCII中的a
0xA3E1：表示GB2312中的ａ
0xB0A1：表示汉字“a”
.
注意：
现在已经不用区位码表示了，也不用再考虑区位码到二进制存储的转换了。后面的GBK编码就是直接在GB2312的二进制存储上做的扩展。
3. 全角和半角？ 对于英文字母和部分标点符号有全角和半角的区别，这是因为这些字母和符号在ASCII中已经定义了一遍，但GB2312中又把这些字母和符号重新定义了一遍（应该是因为中文排版显示不同吧），所以为了区分字母和标点符号究竟是指ASCII中的还是GB2312中的，出现了全角和半角的说法。
半角：指ASCII中的字符；全角：指GB2312中的字符； 而对于汉字来说，是没有全角和半角的区别的，因为ASCII中本就没有汉字。
4. GBK编码 GBK全称《汉字内码扩展规范》（GBK即“国标”、“扩展”汉语拼音的第一个字母，英文名称：Chinese Internal Code Specification） ，中华人民共和国全国信息技术标准化技术委员会1995年12月1日制订。
指定它的原因？
虽然GB2312中已覆盖了99.75% 的汉字，但仍然有不少生僻字不在规范里面，作为计算机标准不能漏掉这些。
编码特点：
GBK编码，是在GB2312-80标准基础上的内码扩展规范，使用了双字节编码方案，其编码范围从8140至FEFE（剔除xx7F），共23940个码位，共收录了21003个汉字，完全兼容GB2312-80标准，支持国际标准ISO/IEC10646-1和国家标准GB13000-1中的全部中日韩（CJK）汉字，并包含了BIG5编码中的所有汉字；GBK编码方案于1995年10月制定， 1995年12月正式发布，中文版的WIN95、WIN98、WINDOWS NT以及WINDOWS 2000、WINDOWS XP、WIN 7等都支持GBK编码方案； GBK对应的区位码？
从上面GBK的描述中，没有发现区位码的信息，没错，GBK是《汉字内码扩展规范》，也就是说GBK不再使用区位码，而是直接对GB2312的转储二进制进行的扩展。
GBK是如何扩展的GB2312，为什么GB2312最多存储8836个码位，而GBK可以存储23940个?
GBK在扩展GB2312的时候，移除了第二个字节首bit位必须为1的限制，且又做了其他扩展，所以GBK的编码范围是：0x8140 - 0xFEFE，最多能表示的码位：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4e0aa415f7f985c2a54e34d64ae6e561/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-05T08:56:58+08:00" />
<meta property="article:modified_time" content="2022-09-05T08:56:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">细说ASCII、GB2312/GBK/GB18030、Unicode、UTF-8/UTF-16/UTF-32编码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p>参考：<br> <a href="https://blog.csdn.net/aha_jasper/article/details/105252361">《编码标准-GB2312 GBK GB18030》</a><br> <a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" rel="nofollow">《字符编码笔记：ASCII，Unicode 和 UTF-8》</a><br> <a href="http://www.chi2ko.com/tool/CJK.htm" rel="nofollow">《字体编辑用中日韩汉字Unicode编码表》</a><br> <a href="https://pcedu.pconline.com.cn/empolder/gj/other/0505/616631_all.html" rel="nofollow">《程序员趣味读物：谈谈Unicode编码》</a></p> 
</blockquote> 
<h3><a id="1_ASCII_5"></a>1. 最简单的ASCII码。</h3> 
<p>ASCII码使用1个字节记录了128个常用的字符（ASCII规定第一个bit位固定为0，2^7=128），包含控制字符（如：键盘的空格、Tab键），以及打印字符（如：数字、英文字母等）。<br> 看下面的表格：<br> <img src="https://images2.imgbox.com/59/d3/NkN8L5S0_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_GB2312_10"></a>2. 汉字编码，从GB2312说起</h3> 
<p>1980年，为了使每个汉字有一个全国统一的代码，我国颁布了汉字编码的国家标准：GB2312-80《信息交换用汉字编码字符集》基本集，这个字符集是我国中文信息处理技术的发展基础，也是国内所有汉字系统的统一标准。</p> 
<p>在这个标准中，我们规定使用两个字节表示一个字符，又为了兼容ASCII码，规定每个字节的首bit位固定为1。这样最终编码后的范围是：<code>0xA1A1 - 0xFEFE</code>（<code>共94*94=8836个码位</code>），其中收录了汉字6763个（其中一级汉字3755，二级汉字3008个），覆盖率达到了99.75% 。</p> 
<blockquote> 
 <p>其实，在GB2312中还有区位表的概念：<br> 将所有的字符都分为94区，每区又有94位，</p> 
 <ul><li>01-09 区为特殊符号</li><li>10-15 区为用户自定义符号区（未编码）</li><li>16-55 区为一级汉字，按拼音排序</li><li>56-87 区为二级汉字，按部首/笔画排序</li><li>88-94 区为用户自定义汉字区（未编码）</li></ul> 
 <p>.<br> 示例如下：<br> <img src="https://images2.imgbox.com/a6/af/HAb42Gb8_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/46/c7/w2zssogk_o.png" alt="在这里插入图片描述"><br> 可以通过这里查看完整的区位码列表：<a href="http://www.mytju.com/classcode/tools/QuWeiMa_FullList.asp" rel="nofollow">《区位码全表》</a><br> 实际计算机存储的时候肯定不是按照区位码存的（还要避开ASCII的字符嘛），所以GB2312的存储规则如下：<br> <img src="https://images2.imgbox.com/30/2f/mjPj8Isp_o.png" alt="在这里插入图片描述"></p> 
 <blockquote> 
  <p>注意：上面的“ａ”不是ASCII中的a，而是GB2312中的“ａ”。</p> 
 </blockquote> 
 <p>另外，我们知道ASCII码的"a"其实就是0x61（即：97，01000001）。<br> 基于以上三个字符的分析，我们新建一个文本文件并输入：“aａ啊”，并另存为“ANSI”编码（其实就是GBK编码，GBK兼容GB2312，这里就把GBK当做GB2312），如下：<br> <img src="https://images2.imgbox.com/52/92/RCdCbtRJ_o.png" alt="在这里插入图片描述"><br> 保存后，我们换个软件打开，观察下16进制，这里我使用editplus，如下：<br> <img src="https://images2.imgbox.com/43/34/t6riGRJN_o.png" alt="在这里插入图片描述"><br> 这里实验的结果和我们分析的结果正好一致。<br> 0x61：表示ASCII中的a<br> 0xA3E1：表示GB2312中的ａ<br> 0xB0A1：表示汉字“a”<br> .<br> <strong>注意：</strong><br> 现在已经不用区位码表示了，也不用再考虑区位码到二进制存储的转换了。后面的GBK编码就是直接在GB2312的二进制存储上做的扩展。</p> 
</blockquote> 
<h3><a id="3__44"></a>3. 全角和半角？</h3> 
<p>对于英文字母和部分标点符号有全角和半角的区别，这是因为这些字母和符号在ASCII中已经定义了一遍，但GB2312中又把这些字母和符号重新定义了一遍（应该是因为中文排版显示不同吧），所以为了区分字母和标点符号究竟是指ASCII中的还是GB2312中的，出现了全角和半角的说法。</p> 
<ul><li>半角：指ASCII中的字符；</li><li>全角：指GB2312中的字符；</li></ul> 
<p>而对于汉字来说，是没有全角和半角的区别的，因为ASCII中本就没有汉字。</p> 
<h3><a id="4_GBK_52"></a>4. GBK编码</h3> 
<p>GBK全称《汉字内码扩展规范》（GBK即“国标”、“扩展”汉语拼音的第一个字母，英文名称：Chinese Internal Code Specification） ，中华人民共和国全国信息技术标准化技术委员会1995年12月1日制订。</p> 
<p><strong>指定它的原因？</strong></p> 
<p>虽然GB2312中已覆盖了99.75% 的汉字，但仍然有不少生僻字不在规范里面，作为计算机标准不能漏掉这些。</p> 
<p><strong>编码特点：</strong></p> 
<ul><li>GBK编码，是在GB2312-80标准基础上的内码扩展规范，使用了双字节编码方案，其编码范围从8140至FEFE（剔除xx7F），共23940个码位，共收录了21003个汉字，完全兼容GB2312-80标准，支持国际标准ISO/IEC10646-1和国家标准GB13000-1中的全部中日韩（CJK）汉字，并包含了BIG5编码中的所有汉字；</li><li>GBK编码方案于1995年10月制定， 1995年12月正式发布，中文版的WIN95、WIN98、WINDOWS NT以及WINDOWS 2000、WINDOWS XP、WIN 7等都支持GBK编码方案；</li></ul> 
<p><strong>GBK对应的区位码？</strong></p> 
<p>从上面GBK的描述中，没有发现区位码的信息，没错，GBK是《汉字内码扩展规范》，也就是说GBK不再使用区位码，而是直接对GB2312的转储二进制进行的扩展。</p> 
<p><strong>GBK是如何扩展的GB2312，为什么GB2312最多存储8836个码位，而GBK可以存储23940个?</strong></p> 
<p>GBK在扩展GB2312的时候，移除了第二个字节首bit位必须为1的限制，且又做了其他扩展，所以GBK的编码范围是：0x8140 - 0xFEFE，最多能表示的码位：<br> <code>(0xFE-0x81+1)*(0xFE-0x40+1) =&gt; 126*191=24066</code></p> 
<p>然后，GBK又规定去除0x xx7F 一条线，所以GBK最终表示<code>126*190=23940</code>个码位，共收入 21886 个汉字和图形符号，其中汉字（包括部首和构件）21003 个，图形符号 883 个。</p> 
<h3><a id="5_GB18030_74"></a>5. GB18030编码</h3> 
<p>随着计算机的普及，我国后来又在GBK上扩展字符，这被称为GB18030，如：GB18030-2000（2000年发布）,GB18030-2005（2005年发布），同时兼容ASCII、GB2312、GBK、基本兼容Unicode，特点如下：</p> 
<ul><li>采用变长多字节编码，每个字可以由1个、2个或4个字节组成。；</li><li>编码空间庞大，最多可定义161万个字符；</li><li>基本完全支持Unicode，无需动用造字区即可支持中国国内少数民族文字、中日韩和繁体汉字以及emoji等字符；</li></ul> 
<p>另外，GB18030在微软视窗系统中的代码页为54936。</p> 
<h3><a id="6_Big5_82"></a>6. Big5</h3> 
<p>已被GBK包含。</p> 
<p>Big5，又称为大五码或五大码，是使用繁体中文（正体中文）社区中最常用的电脑汉字字符集标准，共收录13,060个汉字。</p> 
<h3><a id="7__88"></a>7. 大端存储和小端存储</h3> 
<blockquote> 
 <p>参考：《<a href="https://blog.csdn.net/sifanchao/article/details/79999219">大小端（数据在内存中的存储）》</a></p> 
</blockquote> 
<p>如果有一个编码单元需要用大于1个字节表示，那么要说明这个编码单元放在这几个字节内的顺序是怎样的。</p> 
<p>比如说，int类型占用四个字节，那么这四个字节就是一个编码单元，内存中这四个字节排列如下：<br> <img src="https://images2.imgbox.com/dd/9a/ifqe64Jr_o.png" alt="在这里插入图片描述"><br> 小端存储如下（int i=0x00000001; //数字1）：<br> <img src="https://images2.imgbox.com/ff/2b/DoGMTG3Z_o.png" alt="在这里插入图片描述"><br> 大端存储如下（int i=0x00000001; //数字1）：<br> <img src="https://images2.imgbox.com/42/21/FOLFP4eI_o.png" alt="在这里插入图片描述"><br> 如果我们在调试中观察内存（使用c++）就能观察到效果了：<br> <img src="https://images2.imgbox.com/43/5c/hcmr3wBn_o.png" alt="在这里插入图片描述"></p> 
<p>如果想使用c#看，需要使用unsafe模式，先设置工程属性：<br> <img src="https://images2.imgbox.com/03/a5/KYPZMptE_o.png" alt="在这里插入图片描述"><br> 然后代码如下：<br> <img src="https://images2.imgbox.com/05/f3/DdWh6Da3_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8_Unicode_107"></a>8. Unicode</h3> 
<p>Unicode是国际组织制定的可以容纳世界上所有文字和符号的字符编码方案。Unicode用数字0-0x10FFFF来映射这些字符，最多可以容纳1114112个字符，或者说有<code>1114112个码位（17*256*256=1114112）</code>。码位就是可以分配给字符的数字。</p> 
<blockquote> 
 <p>Unicode的学名是"Universal Multiple-Octet Coded Character Set"，简称为UCS。UCS可以看作是"Unicode Character Set"的缩写。</p> 
</blockquote> 
<p>前面提到从ASCII、GB2312、GBK到GB18030的编码方法是向下兼容的。<code>而Unicode只与ASCII兼容，与GB码不兼容。</code>例如“汉”字的Unicode编码是6C49，而GB码是BABA。</p> 
<p>Unicode 在1990年开始研发，1994年正式公布。<br> 2005年3月31日推出的Unicode 4.1.0。<br> 2020年3月10日推出的Unicode 13.0.0。</p> 
<blockquote> 
 <p>Unicode 13.0.0的官方文档：<br> <a href="https://www.unicode.org/versions/Unicode13.0.0/UnicodeStandard-13.0.pdf" rel="nofollow">https://www.unicode.org/versions/Unicode13.0.0/UnicodeStandard-13.0.pdf</a></p> 
</blockquote> 
<p><strong>Unicode的编码范围：</strong></p> 
<p>完整的范围，请参考：<a href="https://baike.baidu.com/item/%E7%BB%9F%E4%B8%80%E7%A0%81/2985798?fromtitle=Unicode&amp;fromid=750500&amp;fr=aladdin" rel="nofollow">《百度百科：统一码》</a></p> 
<blockquote> 
 <p><code>0000-007F：C0控制符及基本拉丁文 (C0 Control and Basic Latin)</code>：也即ASCII码<br> 0080-00FF：C1控制符及拉丁文补充-1 (C1 Control and Latin 1 Supplement)<br> 0100-017F：拉丁文扩展-A (Latin Extended-A)<br> 0180-024F：拉丁文扩展-B (Latin Extended-B)<br> 0250-02AF：国际音标扩展 (IPA Extensions)<br> 02B0-02FF：空白修饰字母 (Spacing Modifiers)<br> …此处省略<br> <code>4E00-9FFF：CJK 统一表意符号 (CJK Unified Ideographs)</code>：中文汉字大多在这个区<br> …此处省略<br> 10000–1FFFF: 第1辅助平面，多文种补充平面（Supplementary Multilingual Plane, SMP） [2]<br> 20000–2FFFF: 第2辅助平面，表意文字补充平面（Supplementary Ideographic Plane, SIP） [2]<br> 30000–3FFFF: 第3辅助平面，表意文字第三平面（Tertiary Ideographic Plane, TIP）<br> 40000–DFFFF：第4-13辅助平面，尚未使用<br> E0000–EFFFF: 第14辅助平面，特别用途补充平面（Supplementary Special-purpose Plane, SSP）<br> F0000–FFFFF：第15辅助平面，保留作为私人使用区（Private Use Area, PUA）<br> 100000–10FFFF：第16辅助平面，保留作为私人使用区（Private Use Area, PUA）</p> 
</blockquote> 
<h3><a id="9_UnicodeEmoji_141"></a>9. Unicode中的Emoji表情</h3> 
<p>由于Emoji符号是互联网文化的产物，所以它在Unicode表的后面部分，以下是部分Emoji表情在Unicode表中的排列：<br> <img src="https://images2.imgbox.com/e1/4f/ktlavco7_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>完整的列表，参见Unicode官方文档：<a href="https://unicode.org/emoji/charts/full-emoji-list.html" rel="nofollow">《Full Emoji List, v13.1》</a></p> 
</blockquote> 
<h3><a id="10_UCS2UTF16UCS4UTF32UTF8_147"></a>10. UCS-2和UTF-16、UCS-4和UTF-32、UTF-8</h3> 
<p>上节说到Unicode统一了世界字符的编码标准，但是没有提到这些字符应该怎样转储到计算机中。</p> 
<p>Unicode中包含1个字节（如：ASCII码）、两个字节（如：中文）和三个字节（如：第一辅助平面）的长度，为了将Unicode存储到计算机中出现了<code>UCS-2</code>、<code>UCS-4</code>、<code>UTF-16</code>、<code>UTF-32</code>、<code>UTF-8</code>几种算法。其中<code>UTF-8</code>已成事实上的流行者。</p> 
<ul><li> <p>UCS-2 和 UTF-16编码方式</p> 
  <blockquote> 
   <p>UCS-2 的编码固定占用2个字节，它包含65536个编码空间。但固定的两个字节不足以覆盖所有的Unicode字符，于是UTF-16诞生了，与UCS-2一样，它使用两个字节为全世界最常用的63K字符编码，不同的是，它使用4个字节对不常用的字符进行编码。UTF-16属于变长编码。</p> 
  </blockquote> </li><li> <p>UCS-4 和 UTF-32编码方式</p> 
  <blockquote> 
   <p>UCS-4的编码固定占用4个字节，编码空间为0x00000000 - 0x7FFFFFFF（可以编码20多亿个字符）。但实际使用范围并不超过0x10FFFF，并且为了兼容Unicode标准，ISO也承诺将不会为超出0x10FFFF的UCS-4编码赋值。由此UTF-32编码被提出来了，它的编码值与UCS-4相同，只不过其编码空间被限定在了0~0x10FFFF之间。因此也可以说：UTF-32是UCS-4的一个子集。</p> 
  </blockquote> </li><li> <p>UTF-8</p> 
  <blockquote> 
   <p>也是使用变长字节表示（1-4个字节表示）。<br> 根据 Unicode 编号的大小，编号小的使用的字节就少，编号大的使用的字节就多。使用的字节个数从 1 到 4 个不等。<br> UTF-8 的编码规则是：</p> 
   <ul><li>① 对于单字节的符号，字节的第一位设为 0，后面的7位为这个符号的 Unicode 码，。</li><li>② 对于n字节的符号 （n&gt;1）,第一个字节的前 n 位都设为 1，第 n+1 位设为 0，后面字节的前两位一律设为 10，剩下的没有提及的二进制位，全部为这个符号的 Unicode 码 。<br> <img src="https://images2.imgbox.com/8e/01/UzRPHCV9_o.png" alt="在这里插入图片描述"></li></ul> 
  </blockquote> </li></ul> 
<p><strong>UTF-8编码实例：</strong></p> 
<p>严的 Unicode 是4E25（100111000100101），根据上表，可以发现4E25处在第三行的范围内（0000 0800 - 0000 FFFF），因此严的 UTF-8 编码需要三个字节，即格式是1110xxxx 10xxxxxx 10xxxxxx。然后，从严的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，严的 UTF-8 编码是11100100 10111000 10100101，转换成十六进制就是E4B8A5。</p> 
<h3><a id="11_UTF16_LEUTF16_BEUTF32_LEUTF32_BE_168"></a>11. UTF-16 LE、UTF-16 BE、UTF-32 LE和UTF-32 BE</h3> 
<p>我们在记事本另存为的时候还能看到UTF-16 LE 和 UTF-16 BE的选项，这是因为在制定UTF-16编码的时候允许自己指定字节的存放顺序，这和上面说的大小端存储是一个意思。</p> 
<p>UTF-32的和UTF-16一样也有这个特点。</p> 
<p>而GBK和UTF-8均没有大小端存储的区别，因为它们都是按照字节的顺序从低位开始排列的。<br> <img src="https://images2.imgbox.com/6a/fd/1O1dhlSx_o.png" alt="在这里插入图片描述"><br> 以汉字 “严” 为例，它的Unicode编码为4E25，我们打开记事本，写入汉字 “严” ，并另存为 UTF-16 LE：<br> <img src="https://images2.imgbox.com/85/fa/uapPSjnK_o.png" alt="在这里插入图片描述"><br> 然后，我们使用editplus打开，观察它的16进制如下：<br> <img src="https://images2.imgbox.com/43/08/iKmT5RGy_o.png" alt="在这里插入图片描述"></p> 
<p>如果，我们另存为UTF-16 BE，那么16进制显示如下：<br> <img src="https://images2.imgbox.com/48/fc/syfS0cqS_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="12_UTF8UTF8BOM_184"></a>12. UTF-8和UTF-8-BOM</h3> 
<p>虽然UTF-8没有大小端存储的区别，但是我们会看到UTF-8-BOM类型的编码，那么有BOM和无BOM的啥区别呢？</p> 
<p>带BOM的会在文本的前面添加<code>EF BB BF </code>三个字节以表示这是UTF-8编码。</p> 
<p>还是以汉字“严”为例，我们知道“严”的UTF-8编码为：0xE4B8A5，下面我们打开记事本，输入汉字“严”，将它保存为UTF-8编码：<br> <img src="https://images2.imgbox.com/db/13/6qrJb2mK_o.png" alt="在这里插入图片描述"><br> 然后，用editplus打开观察16进制，如下：<br> <img src="https://images2.imgbox.com/b4/e3/tNqWE4Xr_o.png" alt="在这里插入图片描述"></p> 
<p>如果，我们将它保存为带BOM的UTF-8，然后观察16进制，会发现在首部多了3个字节，如下：<br> <img src="https://images2.imgbox.com/86/0f/GhBIUw1A_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>虽然，带BOM的UTF-8编码能更好的表示文本文件，但带bom的shell脚本在linux执行的时候却会报错，所以除非必须，不要使用带BOM的UTF-8编码。</p> 
</blockquote> 
<h3><a id="13__199"></a>13. 如何根据文本首字节确定其编码方式</h3> 
<p>首先，由于GBK不存在字节序，文本前端不需要加字节说明，不带BOM的UTF-8编码文本也不需要加字节说明，所以下面的判断只能是识别已经指明编码格式的文本。<br> <img src="https://images2.imgbox.com/a3/e8/b9FW2yvm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="14__203"></a>14. 编码总结（字符集和字符编码）</h3> 
<p>区分字符集和字符编码的概念：</p> 
<ul><li>字符集：定义了一套字符，比如：GB2312、GBK等定义了一整套的中文符号，Unicode定义了全世界的符号；</li><li>字符编码：将一个字符集转储成二进制的规则，比如：GB2312、GBK自带编码规则，可以将字符转储成二进制，而UTF-8、UTF-16则是Unicode的编码规则，负责将Unicode中的字符转储成二进制。</li></ul> 
<p>如下图所示：<br> <img src="https://images2.imgbox.com/30/7f/13xed2UX_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="15__213"></a>15. 如何查看字符对应的各种类型编码？</h3> 
<ul><li> <p>方法一： 直接在网站：<a href="https://www.qqxiuzi.cn/bianma/zifuji.php" rel="nofollow">https://www.qqxiuzi.cn/bianma/zifuji.php</a> 上搜索即可得某个字符的 ASCII、GB2312、BIG-5、GBK、GB18030、Unicode编码；<br> 比如，大写英文字母“W”：<br> <img src="https://images2.imgbox.com/67/90/0AE0rZKs_o.png" alt="在这里插入图片描述"><br> 又比如汉字“王”：<br> <img src="https://images2.imgbox.com/bb/c4/3sbyW9dA_o.png" alt="在这里插入图片描述"><br> 还有emoji表情：<br> <img src="https://images2.imgbox.com/70/8a/txVBIzP2_o.png" alt="在这里插入图片描述"></p> </li><li> <p>方法二：上面虽然有常规的编码转换，但是没有关于UTF-16、UTF-8的转换，下面借助c#程序得到字符的UTF-16和UTF-8编码：</p> <pre><code class="prism language-csharp"><span class="token keyword">class</span> <span class="token class-name">Program</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> args<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"W Unicode =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"W"</span><span class="token punctuation">,</span> <span class="token string">"Unicode"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"W UTF-16 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"W"</span><span class="token punctuation">,</span> <span class="token string">"UTF-16"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"W UTF-32 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"W"</span><span class="token punctuation">,</span> <span class="token string">"UTF-32"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"W UTF-8 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"W"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"王 Unicode =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"王"</span><span class="token punctuation">,</span> <span class="token string">"Unicode"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"王 UTF-16 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"王"</span><span class="token punctuation">,</span> <span class="token string">"UTF-16"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"王 UTF-32 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"王"</span><span class="token punctuation">,</span> <span class="token string">"UTF-32"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"王 UTF-8 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"王"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"😀 Unicode =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"😀"</span><span class="token punctuation">,</span> <span class="token string">"Unicode"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"😀 UTF-16 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"😀"</span><span class="token punctuation">,</span> <span class="token string">"UTF-16"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"😀 UTF-32 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"😀"</span><span class="token punctuation">,</span> <span class="token string">"UTF-32"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"😀 UTF-8 =&gt;</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token expression language-csharp"><span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token string">"😀"</span><span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> str<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">string</span></span> encodingStr<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name"><span class="token keyword">var</span></span> encoding <span class="token operator">=</span> System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>Encoding<span class="token punctuation">.</span><span class="token function">GetEncoding</span><span class="token punctuation">(</span>encodingStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">ConvertToHex</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> encoding<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">ConvertToHex</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> str<span class="token punctuation">,</span> <span class="token class-name">Encoding</span> encoding<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token class-name"><span class="token keyword">var</span></span> bs <span class="token operator">=</span> encoding<span class="token punctuation">.</span><span class="token function">GetBytes</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"0x"</span> <span class="token operator">+</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> bs<span class="token punctuation">.</span><span class="token function">ToList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Select</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">"X2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <p>打印的结果：<br> <img src="https://images2.imgbox.com/f9/06/vgwfVPHc_o.png" alt="在这里插入图片描述"></p> 
  <blockquote> 
   <p>这里有乱码，是因为控制台使用的ANSI编码，即：GBK编码，GBK中没有emoji的字符，所有显示乱码。</p> 
  </blockquote> </li><li> <p>方法三：我们也可以借助notepad++的16进制插件或editplus等编辑器查看，参照：<a href="https://www.cnblogs.com/yucloud/p/10934511.html" rel="nofollow">《新版Notepad++加十六进制查看的插件HexEditor》</a></p> </li></ul> 
<p>最终，我们总结得出英文大写字母“M”、汉字“王”、emoji表情“😀”的各个编码如下：</p> 
<table><thead><tr><th>字符</th><th>ASCII</th><th>GB2312</th><th>Big5</th><th>GBK</th><th>GB18030</th><th>Unicode</th><th>UTF-16</th><th>UTF-8</th></tr></thead><tbody><tr><td>W</td><td>0x57</td><td>0x57</td><td>0x57</td><td>0x57</td><td>0x57</td><td>0x57</td><td>0x57</td><td>0x57</td></tr><tr><td>王</td><td>无</td><td>0xCDF5</td><td>0xA4FD</td><td>0xCDF5</td><td>0xCDF5</td><td>0x738B</td><td>0x8B73</td><td>0xE78E8B</td></tr><tr><td>😀</td><td>无</td><td>无</td><td>无</td><td>无</td><td>0x9439FC36</td><td>0x1F6001</td><td>0x3DD800DE</td><td>0xF09F9880</td></tr></tbody></table> 
<h3><a id="16_ANSI_274"></a>16. ANSI编码、代码页为何物？</h3> 
<p><strong>先说下代码页：</strong></p> 
<p>可以把代码页当做字符集编码的别名，比如：</p> 
<ul><li>936：代表中文简体；</li><li>437：代表ASCII；</li><li>65001：代表UTF-8；</li></ul> 
<p>完整的代码页列表，参考微软网站：<a href="https://docs.microsoft.com/zh-cn/windows/win32/intl/code-page-identifiers" rel="nofollow">《代码页标识符》</a></p> 
<p><strong>再来看ANSI：</strong></p> 
<blockquote> 
 <p>参考：<a href="https://www.cnblogs.com/malecrab/p/5300486.html" rel="nofollow">《ANSI是什么编码？》</a></p> 
</blockquote> 
<p>在window环境下经常见到 “ANSI”标志，如：<br> <img src="https://images2.imgbox.com/6c/78/XY3GST62_o.png" alt="在这里插入图片描述"><br> 乍一看，ANSI和ASCII好像，但它们不是同一个意思。</p> 
<p><strong>ANSI编码解释：</strong></p> 
<p><code>ANSI</code>并不是某一种特定的字符编码，它表示的是你的系统中设置的国家区域对应的字符编码。比如你的美国同事Bob的系统中ANSI编码其实是ASCII编码（ASCII编码不能表示汉字，所以汉字为乱码），而你的系统中（“汉字”正常显示）ANSI编码其实是GBK编码，而韩文系统中（“한국어”正常显示）ANSI编码其实是EUC-KR编码。</p> 
<p>我们打开cmd窗口，查看cmd用的什么字符集编码：<br> <img src="https://images2.imgbox.com/ef/04/BLijaTn0_o.png" alt="在这里插入图片描述"><br> <strong>如何修改window操作系统的区域？</strong></p> 
<p>看下图：<br> <img src="https://images2.imgbox.com/e6/f8/pUMYe05t_o.png" alt="在这里插入图片描述"><br> 当我们把区域改成英语（美国）后，重启电脑，再次打开命令行，如下：<br> <img src="https://images2.imgbox.com/b7/5b/9sNU4G7v_o.png" alt="在这里插入图片描述"><br> 然后，打开window记事本，输入汉字“什么”，然后保存，再次打开，发现正常显示中文，但这里能正常显示却是因为保存的格式是UTF-8，如下：<br> <img src="https://images2.imgbox.com/64/0c/vocOhype_o.png" alt="在这里插入图片描述"></p> 
<p>当我们把它保存成ANSI时：<br> <img src="https://images2.imgbox.com/93/ba/k7x4H71d_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/65/34/WrQzyS5O_o.png" alt="在这里插入图片描述"><br> 这里提示我们，因为里面有Unicode格式的字符（Unicode中有中文字符），而此时的ANSI表示的是ASCII码（已设置区域为英语美国），所以会提示我们会有字符丢失的风险，点击确定继续：<br> <img src="https://images2.imgbox.com/88/d4/WAaCJ604_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c25d504d41eccfbf3708fe177c24a57/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SpringBoot Test及注解详解（含Mockito）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c99bc174d57caef885d49140634f82cd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ACL的基本介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>