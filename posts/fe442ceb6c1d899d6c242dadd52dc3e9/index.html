<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>grep的用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="grep的用法" />
<meta property="og:description" content="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/ 首先创建我们练习grep命令时需要用到的demo文件demo_file。
$ cat demo_fileTHIS LINE IS THE 1ST UPPER CASE LINE IN THIS FILE.this line is the 1st lower case line in this file.This Line Has All Its First Character Of The Word With Upper Case.Two lines above this line is empty.And this is the last line. 1.从单个文件中搜索指定的字串 grep的基础用法是如下例的从指定的文件中搜索特定的字串。
语法：grep &#34;literal_string&#34; filename $ grep &#34;this&#34; demo_filethis line is the 1st lower case line in this file.Two lines above this line is empty." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fe442ceb6c1d899d6c242dadd52dc3e9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-01-03T11:32:48+08:00" />
<meta property="article:modified_time" content="2012-01-03T11:32:48+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">grep的用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                      
<span style=""></span> 
<p style="line-height:normal"><a href="http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/" rel="nofollow">http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/</a> </p> 
<p>首先创建我们练习grep命令时需要用到的demo文件demo_file。</p> 
<pre style="line-height:normal">$ cat demo_file<br style="line-height:normal">THIS LINE IS THE 1ST UPPER CASE LINE IN THIS FILE.<br style="line-height:normal">this line is the 1st lower case line in this file.<br style="line-height:normal">This Line Has All Its First Character Of The Word With Upper Case.<br style="line-height:normal"><br style="line-height:normal">Two lines above this line is empty.<br style="line-height:normal">And this is the last line.</pre> 
<h4>1.从单个文件中搜索指定的字串</h4> 
<p style="line-height:normal">grep的基础用法是如下例的从指定的文件中搜索特定的字串。</p> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep "literal_string" filename</pre> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ grep "this" demo_file<br style="line-height:normal">this line is the 1st lower case line in this file.<br style="line-height:normal">Two lines above this line is empty.<br style="line-height:normal">And this is the last line.</pre> 
<h4>2. 在多个文件中检索指定的字串</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep "string" FILE_PATTERN</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 先拷贝demo_file为demo_file1。grep的结果在符合条件的行前将包括文件名。当文件名包含元字符时，linux shell会将匹配的所有文件作为输入到grep中去。</p> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ cp demo_file demo_file1<br style="line-height:normal"><br style="line-height:normal">$ grep "this" demo_*<br style="line-height:normal">demo_file:this line is the 1st lower case line in this file.<br style="line-height:normal">demo_file:Two lines above this line is empty.<br style="line-height:normal">demo_file:And this is the last line.<br style="line-height:normal">demo_file1:this line is the 1st lower case line in this file.<br style="line-height:normal">demo_file1:Two lines above this line is empty.<br style="line-height:normal">demo_file1:And this is the last line.</pre> 
<h4>3. 用 grep -i 进行大小写无关的搜索</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -i "string" FILE</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 也是一个基本用法，对搜索的字串忽略大小写，因此下例中匹配“the”, “THE” and “The”。</p> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ grep -i "the" demo_file<br style="line-height:normal">THIS LINE IS THE 1ST UPPER CASE LINE IN THIS FILE.<br style="line-height:normal">this line is the 1st lower case line in this file.<br style="line-height:normal">This Line Has All Its First Character Of The Word With Upper Case.<br style="line-height:normal">And this is the last line.</pre> 
<h4>4. 使用用正则表达式</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep "REGEX" filename</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 如果你能有效地利用正则表达式，这是个很有用的特点。在下面的例子中，搜索全部以“lines”开始以“empty”结束的字串，如搜索“lines[之间任意字]empty” ，并且忽略大小写。</p> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ grep -i "lines.*empty" demo_file<br style="line-height:normal">Two lines above this line is empty.</pre> 
<p style="line-height:normal"></p> 
<p style="line-height:normal">正则表达式遵循的几个重复的操作</p> 
<ul style="line-height:normal"><li style="line-height:normal">? 最多匹配一次</li><li style="line-height:normal">* 匹配零次或者任意多次</li><li style="line-height:normal">+ 匹配一次以上</li><li style="line-height:normal">{n} 匹配n次</li><li style="line-height:normal">{n,} 最少匹配n次</li><li style="line-height:normal">{,m} 最多匹配m次</li><li style="line-height:normal">{n,m} 匹配n到m次</li></ul> 
<h4>5. 用grep -w搜索整个词，而不是词中的部分字串</h4> 
<p style="line-height:normal">使用-w选项搜索一个单词，并且避免搜索到词中的部分字串。<br style="line-height:normal"> <br style="line-height:normal"> 下例搜索"is"。如果不加-w选项，将显示“is”, “his”, “this” 等所有包含“is”的行。</p> 
<pre style="line-height:normal">$ grep -i "is" demo_file<br style="line-height:normal">THIS LINE IS THE 1ST UPPER CASE LINE IN THIS FILE.<br style="line-height:normal"><strong style="line-height:normal">this</strong> line is the 1st lower case line in this file.<br style="line-height:normal"><strong style="line-height:normal">This Line Has All Its First Character Of The Word With Upper Case.</strong><br style="line-height:normal">Two lines above this line is empty.<br style="line-height:normal">And this is the last line.</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 下例使用了-w选项，请注意结果中不包含 “This Line Has All Its First Character Of The Word With Upper Case”, 虽然 “This”中包含“is”。</p> 
<pre style="line-height:normal">$ grep -iw "is" demo_file<br style="line-height:normal">THIS LINE <strong style="line-height:normal">IS</strong> THE 1ST UPPER CASE LINE IN THIS FILE.<br style="line-height:normal">this line <strong style="line-height:normal">is</strong> the 1st lower case line in this file.<br style="line-height:normal">Two lines above this line is empty.<br style="line-height:normal">And this is the last line.</pre> 
<h4>6. 使用grep -A, -B and -C显示之前、之后、前后的几行</h4> 
<p style="line-height:normal">当使用grep搜索大文件时，显示匹配行附近的多行数据是一个很有用的功能。</p> 
<p style="line-height:normal"><br style="line-height:normal"> 创建如下文件</p> 
<pre style="line-height:normal">$ cat demo_text<br style="line-height:normal">4. Vim Word Navigation<br style="line-height:normal"><br style="line-height:normal">You may want to do several navigation in relation to the words, such as:<br style="line-height:normal"><br style="line-height:normal"> * e - go to the end of the current word.<br style="line-height:normal"> * E - go to the end of the current WORD.<br style="line-height:normal"> * b - go to the previous (before) word.<br style="line-height:normal"> * B - go to the previous (before) WORD.<br style="line-height:normal"> * w - go to the next word.<br style="line-height:normal"> * W - go to the next WORD.<br style="line-height:normal"><br style="line-height:normal">WORD - WORD consists of a sequence of non-blank characters, separated with white space.<br style="line-height:normal">word - word consists of a sequence of letters, digits and underscores.<br style="line-height:normal"><br style="line-height:normal">Example to show the difference between WORD and word<br style="line-height:normal"><br style="line-height:normal"> * 192.168.1.1 - single WORD<br style="line-height:normal"> * 192.168.1.1 - seven words.</pre> 
<h5>6.1 显示匹配行之后的N行</h5> 
<p style="line-height:normal">-A</p> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -A  "string" FILENAME</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 下例显示匹配行和之后的3行数据</p> 
<pre style="line-height:normal">$ grep -A 3 -i "example" demo_text<br style="line-height:normal">Example to show the difference between WORD and word<br style="line-height:normal"><br style="line-height:normal">* 192.168.1.1 - single WORD<br style="line-height:normal">* 192.168.1.1 - seven words.</pre> 
<h5>6.2显示匹配行之前的N行</h5> 
<p style="line-height:normal">-B</p> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -B  "string" FILENAME</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 下例显示匹配行和之前的2行数据</p> 
<pre style="line-height:normal">$ grep -B 2 "single WORD" demo_text<br style="line-height:normal">Example to show the difference between WORD and word<br style="line-height:normal"><br style="line-height:normal">* 192.168.1.1 - single WORD</pre> 
<h5>6.3显示匹配行前后的N行</h5> 
<p style="line-height:normal">-C 显示之前的n行，之后的n行数据.</p> 
<pre style="line-height:normal">$ grep -C 2 "Example" demo_text<br style="line-height:normal">word - word consists of a sequence of letters, digits and underscores.<br style="line-height:normal"><br style="line-height:normal">Example to show the difference between WORD and word<br style="line-height:normal"><br style="line-height:normal">* 192.168.1.1 - single WORD</pre> 
<h4>7.通过GREP_OPTIONS高亮显示搜索的字串</h4> 
<p style="line-height:normal">如果你希望搜索的字串高亮显示在结果中，可以试用以下的办法。<br style="line-height:normal"> </p> 
<p style="line-height:normal">通过修改GREP_OPTIONS对搜索字串高亮显示。</p> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ export GREP_OPTIONS='--color=auto' GREP_COLOR='100;8'<br style="line-height:normal"><br style="line-height:normal">$ grep this demo_file<br style="line-height:normal"><strong style="line-height:normal">this</strong> line is the 1st lower case line in this file.<br style="line-height:normal">Two lines above <strong style="line-height:normal">this</strong> line is empty.<br style="line-height:normal">And <strong style="line-height:normal">this</strong> is the last line.</pre> 
<h4>8. 用grep -r递归搜索全部的文件</h4> 
<p style="line-height:normal">如果想查找当前目前以及其子目录的全部文件时，可以使用 -r 选项。如下例</p> 
<pre style="line-height:normal">$ grep -r "ramesh" *</pre> 
<h4>9. 使用grep -v进行不匹配</h4> 
<p style="line-height:normal">可以使用-v选项显示不匹配搜索字串的行。下例显示demo_text文件中不包含“go”的行</p> 
<pre style="line-height:normal">$ grep -v "go" demo_text<br style="line-height:normal">4. Vim Word Navigation<br style="line-height:normal"><br style="line-height:normal">You may want to do several navigation in relation to the words, such as:<br style="line-height:normal"><br style="line-height:normal">WORD - WORD consists of a sequence of non-blank characters, separated with white space.<br style="line-height:normal">word - word consists of a sequence of letters, digits and underscores.<br style="line-height:normal"><br style="line-height:normal">Example to show the difference between WORD and word<br style="line-height:normal"><br style="line-height:normal">* 192.168.1.1 - single WORD<br style="line-height:normal">* 192.168.1.1 - seven words.</pre> 
<h4>10. 显示不匹配全部模式的行</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -v -e "pattern" -e "pattern"</pre> 
<p style="line-height:normal"></p> 
<p style="line-height:normal">创建如下例子文件</p> 
<pre style="line-height:normal">$ cat test-file.txt<br style="line-height:normal">a<br style="line-height:normal">b<br style="line-height:normal">c<br style="line-height:normal">d<br style="line-height:normal"><br style="line-height:normal">$ grep -v -e "a" -e "b" -e "c" test-file.txt<br style="line-height:normal">d</pre> 
<h4>11.用grep -c 统计匹配的行数</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -c "pattern" filename</pre> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ grep -c "go" demo_text<br style="line-height:normal">6</pre> 
<p style="line-height:normal"><br style="line-height:normal"> 统计不匹配的行数</p> 
<pre style="line-height:normal">$ grep -v -c this demo_file<br style="line-height:normal">4</pre> 
<h4>12. 用grep -l 只显示文件名</h4> 
<pre style="line-height:normal">$ grep -l this demo_*<br style="line-height:normal">demo_file<br style="line-height:normal">demo_file1</pre> 
<h4>13. 只显示匹配的字串</h4> 
<p style="line-height:normal">缺省显示匹配字串的所在行，可以使用-o选项只显示匹配的字串。这项功能当使用正则表达式时比较有用处。<br style="line-height:normal"> </p> $ grep -o "is.*line" demo_file 
<br style="line-height:normal"> 
<pre style="line-height:normal">is line is the 1st lower case line<br style="line-height:normal">is line<br style="line-height:normal">is is the last line</pre> 
<h4>14. 显示匹配的位置</h4> 
<pre style="line-height:normal">语法：<br style="line-height:normal">grep -o -b "pattern" file</pre> 
<p style="line-height:normal"></p> 
<pre style="line-height:normal">$ cat temp-file.txt<br style="line-height:normal">12345<br style="line-height:normal">12345<br style="line-height:normal"><br style="line-height:normal">$ grep -o -b "3" temp-file.txt<br style="line-height:normal">0:3<br style="line-height:normal">6:3</pre> 
<p style="line-height:normal"><br style="line-height:normal"> <strong style="line-height:normal">注意:</strong> 以上输出显示的不是行内的位置，而是整个文件中的字节byte位置</p> 
<h4>15. 用 grep -n 在输出时显示行号</h4> 
<p style="line-height:normal">行号从1开始</p> 
<pre style="line-height:normal">$ grep -n "go" demo_text<br style="line-height:normal">5: * e - go to the end of the current word.<br style="line-height:normal">6: * E - go to the end of the current WORD.<br style="line-height:normal">7: * b - go to the previous (before) word.<br style="line-height:normal">8: * B - go to the previous (before) WORD.<br style="line-height:normal">9: * w - go to the next word.<br style="line-height:normal">10: * W - go to the next WORD.</pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9c704ce42eb068bb15d66977da70d151/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java与javascript数据互传乱码问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f9cc55b761083cb583b553b57b89833/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ps vita 说明书</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>