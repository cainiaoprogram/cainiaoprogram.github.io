<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>（硅谷课堂项目）Java开发笔记5：讲师管理模块前端 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="（硅谷课堂项目）Java开发笔记5：讲师管理模块前端" />
<meta property="og:description" content="文章目录 （硅谷课堂项目）Java开发笔记5：讲师管理模块前端一、设置路由定义1、修改路由2、创建vue组件3、form.vue4、list.vue 二、讲师分页列表1、定义api2、初始化vue组件3、定义data4、定义methods5、表格渲染6、分页组件7、顶部查询表单 三、讲师删除1、定义api2、定义methods 四、讲师新增1、定义api2、初始化组件3、实现新增功能 五、讲师修改-数据回显1、定义api2、组件中调用api3、页面渲染前调用fetchDataById 六、讲师修改-更新1、定义api2、组件中调用api3、完善saveOrUpdate方法 七、讲师批量删除1、定义api2、初始化组件3、实现功能 （硅谷课堂项目）Java开发笔记5：讲师管理模块前端 一、设置路由定义 1、修改路由 修改 src/router/index.js 文件，重新定义constantRouterMap
**注意：**每个路由的name不能相同
import Vue from &#39;vue&#39; import Router from &#39;vue-router&#39; Vue.use(Router) /* Layout */ import Layout from &#39;@/layout&#39; export const constantRoutes = [ { path: &#39;/login&#39;, component: () =&gt; import(&#39;@/views/login/index&#39;), hidden: true }, { path: &#39;/404&#39;, component: () =&gt; import(&#39;@/views/404&#39;), hidden: true }, { path: &#39;/&#39;, component: Layout, redirect: &#39;/dashboard&#39;, children: [{ path: &#39;dashboard&#39;, name: &#39;Dashboard&#39;, component: () =&gt; import(&#39;@/views/dashboard/index&#39;), meta: { title: &#39;Dashboard&#39;, icon: &#39;dashboard&#39; } }] }, { path: &#39;/vod&#39;, component: Layout, redirect: &#39;/vod/teacher/list&#39;, name: &#39;vod&#39;, meta: { title: &#39;讲师管理&#39;, icon: &#39;el-icon-s-help&#39; }, children: [ { path: &#39;teacher/list&#39;, name: &#39;TeacherList&#39;, component: () =&gt; import(&#39;@/views/vod/teacher/list&#39;), meta: { title: &#39;讲师列表&#39;, icon: &#39;table&#39; } }, { path: &#39;teacher/create&#39;, name: &#39;TeacherCreate&#39;, component: () =&gt; import(&#39;@/views/vod/teacher/form&#39;), meta: { title: &#39;添加讲师&#39;, icon: &#39;tree&#39; } }, { path: &#39;teacher/edit/:id&#39;, name: &#39;TeacherEdit&#39;, component: () =&gt; import(&#39;@/views/vod/teacher/form&#39;), meta: { title: &#39;编辑讲师&#39; }, hidden: true } ] }, // 404 page must be placed at the end !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f291e98333c664dc1d99c744cc0bb646/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-20T17:10:41+08:00" />
<meta property="article:modified_time" content="2022-08-20T17:10:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">（硅谷课堂项目）Java开发笔记5：讲师管理模块前端</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Java5_1" rel="nofollow">（硅谷课堂项目）Java开发笔记5：讲师管理模块前端</a></li><li><ul><li><ul><li><a href="#_5" rel="nofollow">一、设置路由定义</a></li><li><ul><li><a href="#1_7" rel="nofollow">1、修改路由</a></li><li><a href="#2vue_84" rel="nofollow">2、创建vue组件</a></li><li><a href="#3formvue_90" rel="nofollow">3、form.vue</a></li><li><a href="#4listvue_100" rel="nofollow">4、list.vue</a></li></ul> 
    </li><li><a href="#_112" rel="nofollow">二、讲师分页列表</a></li><li><ul><li><a href="#1api_114" rel="nofollow">1、定义api</a></li><li><a href="#2vue_139" rel="nofollow">2、初始化vue组件</a></li><li><a href="#3data_170" rel="nofollow">3、定义data</a></li><li><a href="#4methods_186" rel="nofollow">4、定义methods</a></li><li><a href="#5_201" rel="nofollow">5、表格渲染</a></li><li><a href="#6_239" rel="nofollow">6、分页组件</a></li><li><a href="#7_255" rel="nofollow">7、顶部查询表单</a></li></ul> 
    </li><li><a href="#_521" rel="nofollow">三、讲师删除</a></li><li><ul><li><a href="#1api_523" rel="nofollow">1、定义api</a></li><li><a href="#2methods_537" rel="nofollow">2、定义methods</a></li></ul> 
    </li><li><a href="#_568" rel="nofollow">四、讲师新增</a></li><li><ul><li><a href="#1api_570" rel="nofollow">1、定义api</a></li><li><a href="#2_585" rel="nofollow">2、初始化组件</a></li><li><a href="#3_633" rel="nofollow">3、实现新增功能</a></li></ul> 
    </li><li><a href="#_711" rel="nofollow">五、讲师修改-数据回显</a></li><li><ul><li><a href="#1api_715" rel="nofollow">1、定义api</a></li><li><a href="#2api_728" rel="nofollow">2、组件中调用api</a></li><li><a href="#3fetchDataById_741" rel="nofollow">3、页面渲染前调用fetchDataById</a></li></ul> 
    </li><li><a href="#_754" rel="nofollow">六、讲师修改-更新</a></li><li><ul><li><a href="#1api_756" rel="nofollow">1、定义api</a></li><li><a href="#2api_768" rel="nofollow">2、组件中调用api</a></li><li><a href="#3saveOrUpdate_786" rel="nofollow">3、完善saveOrUpdate方法</a></li></ul> 
    </li><li><a href="#_802" rel="nofollow">七、讲师批量删除</a></li><li><ul><li><a href="#1api_804" rel="nofollow">1、定义api</a></li><li><a href="#2_818" rel="nofollow">2、初始化组件</a></li><li><a href="#3_846" rel="nofollow">3、实现功能</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Java5_1"></a>（硅谷课堂项目）Java开发笔记5：讲师管理模块前端</h2> 
<p><img src="https://images2.imgbox.com/ea/dc/im1cRSKP_o.png" alt="ggkt_5_2"></p> 
<h4><a id="_5"></a>一、设置路由定义</h4> 
<h5><a id="1_7"></a>1、修改路由</h5> 
<p><strong>修改 src/router/index.js 文件，重新定义constantRouterMap</strong></p> 
<p>**注意：**每个路由的name不能相同</p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token comment">/* Layout */</span>
<span class="token keyword">import</span> Layout <span class="token keyword">from</span> <span class="token string">'@/layout'</span>


<span class="token keyword">export</span> <span class="token keyword">const</span> constantRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/login/index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/404'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/404'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/dashboard'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Dashboard'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/dashboard/index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Dashboard'</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'dashboard'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/vod'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span> Layout<span class="token punctuation">,</span>
    <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/vod/teacher/list'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'vod'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'讲师管理'</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'el-icon-s-help'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'teacher/list'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TeacherList'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/vod/teacher/list'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'讲师列表'</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'table'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'teacher/create'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TeacherCreate'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/vod/teacher/form'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'添加讲师'</span><span class="token punctuation">,</span> <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">'tree'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'teacher/edit/:id'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'TeacherEdit'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/views/vod/teacher/form'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'编辑讲师'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 404 page must be placed at the end !!!</span>
  <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/404'</span><span class="token punctuation">,</span> <span class="token literal-property property">hidden</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> 
<h5><a id="2vue_84"></a>2、创建vue组件</h5> 
<p>在src/views文件夹下创建以下文件夹和文件</p> 
<p><img src="https://images2.imgbox.com/d5/d3/9TL8RMKU_o.png" alt="ggkt_5_1"></p> 
<h5><a id="3formvue_90"></a>3、form.vue</h5> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="app-container"&gt;
    讲师表单
  &lt;/div&gt;
&lt;/template&gt;
</code></pre> 
<h5><a id="4listvue_100"></a>4、list.vue</h5> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="app-container"&gt;
    讲师列表
  &lt;/div&gt;
&lt;/template&gt;
</code></pre> 
<h4><a id="_112"></a>二、讲师分页列表</h4> 
<h5><a id="1api_114"></a>1、定义api</h5> 
<p><strong>创建文件 src/api/vod/teacher.js</strong></p> 
<pre><code class="prism language-js"><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>

<span class="token keyword">const</span> api_name <span class="token operator">=</span> <span class="token string">'/admin/vod/teacher'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//讲师列表</span>
    <span class="token comment">//讲师条件查询分页</span>
    <span class="token comment">//current当前页 limit每页记录数 searchObj条件对象</span>
    <span class="token function">pageList</span><span class="token punctuation">(</span><span class="token parameter">current<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> searchObj</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/findQueryPage/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>current<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>limit<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">post</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token comment">//使用json格式传递 写法 data:searchObj</span>
            <span class="token comment">//使用普通格式传递 写法 params:searchObj</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> searchObj
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h5><a id="2vue_139"></a>2、初始化vue组件</h5> 
<p><strong>src/views/vod/teacher/list.vue</strong></p> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="app-container"&gt;
    医院设置列表
  &lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
import teacherApi from '@/api/vod/teacher'
export default {
  // 定义数据模型
  data() {
    return {
    }
  },
  // 页面渲染成功后获取数据
  created() {
    this.fetchData()
  },
  // 定义方法
  methods: {
    fetchData() {
    }
  }
}
&lt;/script&gt;
</code></pre> 
<h5><a id="3data_170"></a>3、定义data</h5> 
<pre><code class="prism language-js">  <span class="token comment">// 定义数据模型</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 讲师列表</span>
      <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 总记录数</span>
      <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 页码</span>
      <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 每页记录数</span>
      <span class="token literal-property property">searchObj</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 查询条件</span>
      <span class="token literal-property property">multipleSelection</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">// 批量删除选中的记录列表</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="4methods_186"></a>4、定义methods</h5> 
<pre><code class="prism language-js">  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token comment">// 调用api</span>
      teacherApi<span class="token punctuation">.</span><span class="token function">pageList</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>page<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>limit<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">debugger</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>records
        <span class="token keyword">this</span><span class="token punctuation">.</span>total <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>total
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</code></pre> 
<h5><a id="5_201"></a>5、表格渲染</h5> 
<pre><code class="prism language-vue">&lt;!-- 表格 --&gt;
&lt;el-table
  :data="list"
  border
  stripe
  @selection-change="handleSelectionChange"&gt;
  &lt;el-table-column type="selection"/&gt;
  &lt;el-table-column
    label="#"
    width="50"&gt;
    &lt;template slot-scope="scope"&gt;
      {<!-- -->{ (page - 1) * limit + scope.$index + 1 }}
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  &lt;el-table-column prop="name" label="名称" width="80" /&gt;
  &lt;el-table-column label="头衔" width="90"&gt;
    &lt;template slot-scope="scope"&gt;
      &lt;el-tag v-if="scope.row.level === 1" type="success" size="mini"&gt;高级讲师&lt;/el-tag&gt;
      &lt;el-tag v-if="scope.row.level === 0" size="mini"&gt;首席讲师&lt;/el-tag&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
  &lt;el-table-column prop="intro" label="简介" /&gt;
  &lt;el-table-column prop="sort" label="排序" width="60" /&gt;
  &lt;el-table-column prop="joinDate" label="入驻时间" width="160" /&gt;
  &lt;el-table-column label="操作" width="200" align="center"&gt;
    &lt;template slot-scope="scope"&gt;
      &lt;el-button type="text" size="mini" @click="removeById(scope.row.id)"&gt;删除&lt;/el-button&gt;
      &lt;router-link :to="'/vod/teacher/edit/'+scope.row.id"&gt;
        &lt;el-button type="text" size="mini"&gt;修改&lt;/el-button&gt;
      &lt;/router-link&gt;
    &lt;/template&gt;
  &lt;/el-table-column&gt;
&lt;/el-table&gt;
</code></pre> 
<h5><a id="6_239"></a>6、分页组件</h5> 
<pre><code class="prism language-vue">  &lt;!-- 分页组件 --&gt;
  &lt;el-pagination
    :current-page="page"
    :total="total"
    :page-size="limit"
    :page-sizes="[5, 10, 20, 30, 40, 50, 100]"
    style="padding: 30px 0; text-align: center;"
    layout="total, sizes, prev, pager, next, jumper"
    @size-change="changePageSize"
    @current-change="changeCurrentPage"
  /&gt;
</code></pre> 
<h5><a id="7_255"></a>7、顶部查询表单</h5> 
<pre><code class="prism language-vue">&lt;!--查询表单--&gt;
&lt;el-card class="operate-container" shadow="never"&gt;
  &lt;el-form :inline="true" class="demo-form-inline"&gt;
  &lt;el-form-item label="名称"&gt;
    &lt;el-input v-model="searchObj.name" placeholder="讲师名" /&gt; 
  &lt;/el-form-item&gt;

  &lt;el-form-item label="头衔"&gt;
    &lt;el-select v-model="searchObj.level" clearable placeholder="头衔"&gt;
      &lt;el-option value="1" label="高级讲师"/&gt;
      &lt;el-option value="0" label="首席讲师"/&gt;
    &lt;/el-select&gt;
  &lt;/el-form-item&gt;

  &lt;el-form-item label="入驻时间"&gt;
    &lt;el-date-picker
      v-model="searchObj.joinDateBegin"
      placeholder="开始时间"
      value-format="yyyy-MM-dd" /&gt;
  &lt;/el-form-item&gt;
  &lt;el-form-item label="-"&gt;
    &lt;el-date-picker
      v-model="searchObj.joinDateEnd"
      placeholder="结束时间"
      value-format="yyyy-MM-dd" /&gt;
  &lt;/el-form-item&gt;

    &lt;el-button type="primary" icon="el-icon-search" @click="fetchData()"&gt;查询&lt;/el-button&gt;
    &lt;el-button type="default" @click="resetData()"&gt;清空&lt;/el-button&gt;
&lt;/el-form&gt;
&lt;/el-card&gt;
</code></pre> 
<p><strong>分页和清空方法</strong></p> 
<pre><code class="prism language-js">    <span class="token comment">// 每页记录数改变，size：回调参数，表示当前选中的“每页条数”</span>
    <span class="token function">changePageSize</span><span class="token punctuation">(</span><span class="token parameter">size</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>limit <span class="token operator">=</span> size
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 改变页码，page：回调参数，表示当前选中的“页码”</span>
    <span class="token function">changeCurrentPage</span><span class="token punctuation">(</span><span class="token parameter">page</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>page <span class="token operator">=</span> page
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 重置表单</span>
    <span class="token function">resetData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>searchObj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<p>全部代码：</p> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="app-container"&gt;
    讲师列表
    &lt;!--查询表单--&gt;
  &lt;el-card class="operate-container" shadow="never"&gt;
    &lt;el-form :inline="true" class="demo-form-inline"&gt;
      &lt;el-form-item label="名称"&gt;
        &lt;el-input v-model="searchObj.name" placeholder="讲师名" /&gt;
      &lt;/el-form-item&gt;

      &lt;el-form-item label="头衔"&gt;
        &lt;el-select v-model="searchObj.level" clearable placeholder="头衔"&gt;
          &lt;el-option value="1" label="高级讲师"/&gt;
          &lt;el-option value="0" label="首席讲师"/&gt;
        &lt;/el-select&gt;
      &lt;/el-form-item&gt;

      &lt;el-form-item label="入驻时间"&gt;
        &lt;el-date-picker
          v-model="searchObj.joinDateBegin"
          placeholder="开始时间"
          value-format="yyyy-MM-dd" /&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="-"&gt;
        &lt;el-date-picker
          v-model="searchObj.joinDateEnd"
          placeholder="结束时间"
          value-format="yyyy-MM-dd" /&gt;
      &lt;/el-form-item&gt;

        &lt;el-button type="primary" icon="el-icon-search" @click="fetchData()"&gt;查询&lt;/el-button&gt;
        &lt;el-button type="default" @click="resetData()"&gt;清空&lt;/el-button&gt;
    &lt;/el-form&gt;
  &lt;/el-card&gt;

&lt;!-- 工具按钮 --&gt;
&lt;el-card class="operate-container" shadow="never"&gt;
  &lt;i class="el-icon-tickets" style="margin-top: 5px"&gt;&lt;/i&gt;
  &lt;span style="margin-top: 5px"&gt;数据列表&lt;/span&gt;
  &lt;el-button class="btn-add" @click="add()" style="margin-left: 10px;"&gt;添加&lt;/el-button&gt;
  &lt;el-button class="btn-add" @click="batchRemove()" &gt;批量删除&lt;/el-button&gt;
&lt;/el-card&gt;

    &lt;!-- 表格 --&gt;
    &lt;el-table
      :data="list"
      border
      stripe
      @selection-change="handleSelectionChange"&gt;
      &lt;el-table-column type="selection"/&gt;
      &lt;el-table-column
        label="#"
        width="50"&gt;
        &lt;template slot-scope="scope"&gt;
          {<!-- -->{ (page - 1) * limit + scope.$index + 1 }}
        &lt;/template&gt;
      &lt;/el-table-column&gt;
      &lt;el-table-column prop="name" label="名称" width="80" /&gt;
      &lt;el-table-column label="头衔" width="90"&gt;
        &lt;template slot-scope="scope"&gt;
          &lt;el-tag v-if="scope.row.level === 1" type="success" size="mini"&gt;高级讲师&lt;/el-tag&gt;
          &lt;el-tag v-if="scope.row.level === 0" size="mini"&gt;首席讲师&lt;/el-tag&gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;
      &lt;el-table-column prop="intro" label="简介" /&gt;
      &lt;el-table-column prop="sort" label="排序" width="60" /&gt;
      &lt;el-table-column prop="joinDate" label="入驻时间" width="160" /&gt;
      &lt;el-table-column label="操作" width="200" align="center"&gt;
        &lt;template slot-scope="scope"&gt;
          &lt;el-button type="text" size="mini" @click="removeById(scope.row.id)"&gt;删除&lt;/el-button&gt;
          &lt;router-link :to="'/vod/teacher/edit/'+scope.row.id"&gt;
            &lt;el-button type="text" size="mini"&gt;修改&lt;/el-button&gt;
          &lt;/router-link&gt;
        &lt;/template&gt;
      &lt;/el-table-column&gt;
    &lt;/el-table&gt;
      &lt;!-- 分页组件 --&gt;
    &lt;el-pagination
      :current-page="page"
      :total="total"
      :page-size="limit"
      :page-sizes="[5, 10, 20, 30, 40, 50, 100]"
      style="padding: 30px 0; text-align: center;"
      layout="total, sizes, prev, pager, next, jumper"
      @size-change="changePageSize"
      @current-change="changeCurrentPage"
    /&gt;

  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
//引入定义接口js文件
import teacherApi from '@/api/vod/teacher'
export default {
  data() {  //初始值
    return {
      list: [], // 讲师列表
      total: 0, // 总记录数
      page: 1, // 当前页码
      limit: 10, // 每页记录数
      searchObj: {}, // 查询条件
      multipleSelection: []// 批量删除选中的记录列表
    }
  },
  created() { //页面渲染之前
    this.fetchData()
  },
  methods:{ //具体方法
    //批量删除
    batchRemove() {
      //判断非空
      if(this.multipleSelection.length===0) {
        this.$message.warning('请选择要删除的记录！')
        return
      }
      this.$confirm('此操作将删除该讲师信息, 是否继续?', '提示', {
          confirmButtonText: '确定',
          cancelButtonText: '取消',
          type: 'warning'
        }).then(() =&gt; {
          var idList = []
          // [1,2,3]
          //遍历数组
          for(var i=0;i&lt;this.multipleSelection.length;i++) {
            var obj = this.multipleSelection[i]
            var id = obj.id
            //放到数组
            idList.push(id)
          }
          //调用接口删除
          teacherApi.batchRemove(idList)
            .then(response =&gt; {
                //提示
                this.$message({
                  type: 'success',
                  message: '删除成功!'
                });
                //刷新
                this.fetchData()
            })
        })
    },
    //复选框发生变化，调用方法，选中复选框行内容传递
    handleSelectionChange(selection) {
      this.multipleSelection = selection
    },
    //跳转到添加表单页面
    add() {
      this.$router.push({path:'/vod/teacher/create'})
    },
    fetchData() {
      //ajax
      teacherApi.pageList(this.page,this.limit,this.searchObj)
        .then(response =&gt; {
          this.list = response.data.records
          this.total = response.data.total
        })
    },
    //改变每页显示记录数
    changePageSize(size) {
      this.limit = size
      this.fetchData()
    },
    //改变页码数
    changeCurrentPage(page) {
      this.page = page
      this.fetchData()
    },
    //清空
    resetData() {
      this.searchObj = {}
      this.fetchData()
    },
    //讲师删除
    removeById(id) {
      this.$confirm('此操作将删除该讲师信息, 是否继续?', '提示', {
          confirmButtonText: '确定',
          cancelButtonText: '取消',
          type: 'warning'
        }).then(() =&gt; {
          //调用接口删除
          teacherApi.removeById(id)
            .then(response =&gt; {
                //提示
                this.$message({
                  type: 'success',
                  message: '删除成功!'
                });
                //刷新
                this.fetchData()
            })
        })
    }
  }
}
&lt;/script&gt;
</code></pre> 
<h4><a id="_521"></a>三、讲师删除</h4> 
<h5><a id="1api_523"></a>1、定义api</h5> 
<p><strong>src/api/vod/teacher.js</strong></p> 
<pre><code class="prism language-js"> <span class="token comment">//删除讲师</span>
    <span class="token function">removeById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/remove/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">delete</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="2methods_537"></a>2、定义methods</h5> 
<p><strong>src/views/vod/teacher/list.vue</strong></p> 
<p>使用MessageBox 弹框组件</p> 
<pre><code class="prism language-js"> <span class="token comment">//讲师删除</span>
    <span class="token function">removeById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token string">'此操作将删除该讲师信息, 是否继续?'</span><span class="token punctuation">,</span> <span class="token string">'提示'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">'确定'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">'取消'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
          <span class="token comment">//调用接口删除</span>
          teacherApi<span class="token punctuation">.</span><span class="token function">removeById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
                <span class="token comment">//提示</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
                  <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'删除成功!'</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//刷新</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_568"></a>四、讲师新增</h4> 
<h5><a id="1api_570"></a>1、定义api</h5> 
<p><strong>src/api/vod/teacher.js</strong></p> 
<pre><code class="prism language-js"><span class="token comment">//添加讲师</span>
    <span class="token function">save</span><span class="token punctuation">(</span><span class="token parameter">teacher</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/saveTeacher</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">post</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span>teacher
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="2_585"></a>2、初始化组件</h5> 
<p><strong>src/views/vod/teacher/form.vue</strong></p> 
<pre><code class="prism language-vue">&lt;template&gt;
  &lt;div class="app-container"&gt;
    &lt;!-- 输入表单 --&gt;
    &lt;el-form label-width="120px"&gt;
      &lt;el-form-item label="讲师名称"&gt;
        &lt;el-input v-model="teacher.name" /&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="入驻时间"&gt;
        &lt;el-date-picker v-model="teacher.joinDate" value-format="yyyy-MM-dd" /&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="讲师排序"&gt;
        &lt;el-input-number v-model="teacher.sort" :min="0"/&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="讲师头衔"&gt;
        &lt;el-select v-model="teacher.level"&gt;
          &lt;!--
            数据类型一定要和取出的json中的一致，否则没法回填
            因此，这里value使用动态绑定的值，保证其数据类型是number
            --&gt;
          &lt;el-option :value="1" label="高级讲师"/&gt;
          &lt;el-option :value="2" label="首席讲师"/&gt;
        &lt;/el-select&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="讲师简介"&gt;
        &lt;el-input v-model="teacher.intro"/&gt;
      &lt;/el-form-item&gt;
      &lt;el-form-item label="讲师资历"&gt;
        &lt;el-input v-model="teacher.career" :rows="10" type="textarea"/&gt;
      &lt;/el-form-item&gt;

      &lt;!-- 讲师头像 --&gt;
      &lt;el-form-item label="讲师头像"&gt;
      &lt;/el-form-item&gt;

      &lt;el-form-item&gt;
        &lt;el-button type="primary" @click="saveOrUpdate()"&gt;保存&lt;/el-button&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;
  &lt;/div&gt;
&lt;/template&gt;

</code></pre> 
<h5><a id="3_633"></a>3、实现新增功能</h5> 
<pre><code class="prism language-javascript"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> teacherApi <span class="token keyword">from</span> <span class="token string">'@/api/vod/teacher'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{<!-- --></span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>
      <span class="token constant">BASE_API</span><span class="token operator">:</span> <span class="token string">'http://localhost:8301'</span><span class="token punctuation">,</span>
      <span class="token comment">// 初始化讲师默认数据</span>
      <span class="token literal-property property">teacher</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
        <span class="token literal-property property">sort</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token literal-property property">level</span><span class="token operator">:</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">saveBtnDisabled</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 保存按钮是否禁用，防止表单重复提交</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 页面渲染成功</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">saveOrUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 禁用保存按钮</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>saveBtnDisabled <span class="token operator">=</span> <span class="token boolean">true</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 新增讲师</span>
    <span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// debugger</span>
      teacherApi<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
          <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">message</span><span class="token operator">:</span> response<span class="token punctuation">.</span>message
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/vod/teacher/list'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 根据id更新记录</span>
    <span class="token function">updateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
  <span class="token punctuation">.</span>avatar<span class="token operator">-</span>uploader <span class="token punctuation">.</span>avatar<span class="token operator">-</span>uploader<span class="token operator">-</span>icon <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px dashed #d9d9d9<span class="token punctuation">;</span>
    border<span class="token operator">-</span>radius<span class="token operator">:</span> 6px<span class="token punctuation">;</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> relative<span class="token punctuation">;</span>
    <span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>

    font<span class="token operator">-</span>size<span class="token operator">:</span> 28px<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #8c939d<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 178px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 178px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> 178px<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>avatar<span class="token operator">-</span>uploader <span class="token punctuation">.</span>avatar<span class="token operator">-</span>uploader<span class="token operator">-</span>icon<span class="token operator">:</span>hover <span class="token punctuation">{<!-- --></span>
    border<span class="token operator">-</span>color<span class="token operator">:</span> #409EFF<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>avatar<span class="token operator">-</span>uploader img <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 178px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 178px<span class="token punctuation">;</span>
    <span class="token literal-property property">display</span><span class="token operator">:</span> block<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="_711"></a>五、讲师修改-数据回显</h4> 
<p><img src="https://images2.imgbox.com/7b/7d/CW1PzXcm_o.png" alt="ggkt_5_3"></p> 
<h5><a id="1api_715"></a>1、定义api</h5> 
<p><strong>src/api/vod/teacher.js</strong></p> 
<pre><code class="prism language-js"><span class="token function">getById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
		<span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/get/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
		<span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">get</span><span class="token template-punctuation string">`</span></span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="2api_728"></a>2、组件中调用api</h5> 
<p><strong>methods中定义fetchDataById</strong></p> 
<pre><code class="prism language-js"><span class="token comment">// 根据id查询记录</span>
<span class="token function">fetchDataById</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	teacherApi<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>teacher <span class="token operator">=</span> response<span class="token punctuation">.</span>data
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="3fetchDataById_741"></a>3、页面渲染前调用fetchDataById</h5> 
<pre><code class="prism language-js">  <span class="token comment">// 页面渲染成功</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchDataById</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="_754"></a>六、讲师修改-更新</h4> 
<h5><a id="1api_756"></a>1、定义api</h5> 
<pre><code class="prism language-js">  <span class="token function">updateById</span><span class="token punctuation">(</span><span class="token parameter">teacher</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/update</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">put</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">data</span><span class="token operator">:</span> teacher
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="2api_768"></a>2、组件中调用api</h5> 
<p><strong>methods中定义updateData</strong></p> 
<pre><code class="prism language-js"><span class="token comment">// 根据id更新记录</span>
<span class="token function">updateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token comment">// teacher数据的获取</span>
  teacherApi<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$message</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">message</span><span class="token operator">:</span> response<span class="token punctuation">.</span>message
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/vod/teacher/list'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="3saveOrUpdate_786"></a>3、完善saveOrUpdate方法</h5> 
<pre><code class="prism language-js"><span class="token function">saveOrUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// 禁用保存按钮</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>saveBtnDisabled <span class="token operator">=</span> <span class="token boolean">true</span>
  	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token punctuation">.</span>id<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">saveData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h4><a id="_802"></a>七、讲师批量删除</h4> 
<h5><a id="1api_804"></a>1、定义api</h5> 
<p><strong>src/api/vod/teacher.js</strong></p> 
<pre><code class="prism language-js"><span class="token function">batchRemove</span><span class="token punctuation">(</span><span class="token parameter">idList</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${<!-- --></span>api_name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/batch-remove</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">delete</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> idList
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> 
<h5><a id="2_818"></a>2、初始化组件</h5> 
<p><strong>src/views/vod/teacher/list.vue</strong></p> 
<p>在table组件上添加 <strong>批量删除 按钮</strong></p> 
<pre><code class="prism language-vue">&lt;!-- 工具按钮 --&gt;
&lt;el-card class="operate-container" shadow="never"&gt;
  &lt;i class="el-icon-tickets" style="margin-top: 5px"&gt;&lt;/i&gt;
  &lt;span style="margin-top: 5px"&gt;数据列表&lt;/span&gt;
  &lt;el-button class="btn-add" @click="add()" style="margin-left: 10px;"&gt;添加&lt;/el-button&gt;
  &lt;el-button class="btn-add" @click="batchRemove()" &gt;批量删除&lt;/el-button&gt;
&lt;/el-card&gt;
</code></pre> 
<p><strong>在table组件上添加复选框</strong></p> 
<pre><code class="prism language-vue">&lt;!-- 表格 --&gt;
&lt;el-table
  :data="list"
  border
  stripe
  @selection-change="handleSelectionChange"&gt;
  &lt;el-table-column type="selection"/&gt;
</code></pre> 
<h5><a id="3_846"></a>3、实现功能</h5> 
<p><strong>data定义数据</strong></p> 
<pre><code class="prism language-js"><span class="token literal-property property">multipleSelection</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment">// 批量删除选中的记录列表</span>
</code></pre> 
<p><strong>完善方法</strong></p> 
<pre><code class="prism language-js"><span class="token comment">// 批量删除</span>
<span class="token function">batchRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>multipleSelection<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">'请选择要删除的记录！'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$confirm</span><span class="token punctuation">(</span><span class="token string">'此操作将永久删除该记录, 是否继续?'</span><span class="token punctuation">,</span> <span class="token string">'提示'</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">confirmButtonText</span><span class="token operator">:</span> <span class="token string">'确定'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cancelButtonText</span><span class="token operator">:</span> <span class="token string">'取消'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 点击确定，远程调用ajax</span>
    <span class="token comment">// 遍历selection，将id取出放入id列表</span>
    <span class="token keyword">var</span> idList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>multipleSelection<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
      idList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 调用api</span>
    <span class="token keyword">return</span> teacherApi<span class="token punctuation">.</span><span class="token function">batchRemove</span><span class="token punctuation">(</span>idList<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token operator">===</span> <span class="token string">'cancel'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>$message<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'取消删除'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 当多选选项发生变化的时候调用</span>
<span class="token function">handleSelectionChange</span><span class="token punctuation">(</span><span class="token parameter">selection</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selection<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>multipleSelection <span class="token operator">=</span> selection
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e00ffa0618128e4f145969bce3fe9480/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">图像处理之图像复原[逆滤波、维纳滤波、约束最小二乘法、Lucy-Richardson和盲解卷积复原]</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/58845d66269471f5abb1726b55df729a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android视图手册之Service</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>