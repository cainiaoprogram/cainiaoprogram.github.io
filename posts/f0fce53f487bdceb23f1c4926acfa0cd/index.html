<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>（仅对于(旧板)12分频的51单片机而言）机器周期，时钟周期，晶振振荡频率（fosc）的关系； （51、stm32通用）分频的原理和作用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="（仅对于(旧板)12分频的51单片机而言）机器周期，时钟周期，晶振振荡频率（fosc）的关系； （51、stm32通用）分频的原理和作用" />
<meta property="og:description" content="针对(旧版)51单片机 1，晶振振荡频率（fosc）
fosc即板子所使用的晶振频率，如常用的11.0592Mhz。
2，时钟周期
时钟周期 = 1 / fosc ，单位为us。
3，机器周期
机器周期 = 12 / fosc ，单位为us。
为啥是12？
因为绝大多数51单片机默认12分频，分频原理直接看第四点。
12分频的原因：老版51单片机使用复杂操作集，导致1个时钟周期内CPU根本无法完成一条指令，因此默认需要12个时钟周期。
有这么一个公式：机器周期 = 12 * 时钟周期
这个公式只针对老版12分频51单片机，不是数学真理那种存在！！！
12倍这个关系归根结底是晶振频率进行了12分频
在stm32中压根没有机器周期这个概念，机器周期就是时钟周期，因为stm32够快
针对51、stm32单片机 4，分频的原理与作用（51、32通用）
原理：分频其实就是将fosc倍除。
作用：分频的作用是增长时钟周期（还有控制功耗的作用，时钟频率越快功耗越高，这里就不讲了）
以下有两种理解方式：例如72Mhz晶振（fosc），7200分频系数
一，时钟周期 = 分频系数 / fosc（推荐）
100 (us) = 7200 / 72
二，先倍除fosc，后转换为时钟周期
72 / 7200 = 0.01MHz
100 (us) = 1 / 0.01
若不分频时，时钟周期 = 1/72 = 0.01388888888 us，可以发现不分频时时钟周期极短。
自己可以扩大或缩小上面的分频系数，再次带入公式，就可以发现分频的作用是增长时钟周期。
5，扩大时钟周期的作用
我们知道单片机中最大的定时器也就16位，最多计数次数为65535&#43;1(溢出)=65536次，每次计数的时间间隔就是时钟周期。
若机器周期为定时器最小分辨率 1/72us，则最大的定时器一共可以定时 910us。
而这样的最大溢出时间有时并不满足实际需要，因此需要扩大机器周期来延长定时器的溢出时间，此时便通过设置分频系数来解决（仅stm32可以设置，在启动文件 SystemInit 函数中）。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f0fce53f487bdceb23f1c4926acfa0cd/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-14T10:12:59+08:00" />
<meta property="article:modified_time" content="2023-06-14T10:12:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">（仅对于(旧板)12分频的51单片机而言）机器周期，时钟周期，晶振振荡频率（fosc）的关系； （51、stm32通用）分频的原理和作用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="51_0"></a>针对(旧版)51单片机</h2> 
<p><strong>1，晶振振荡频率（fosc）</strong><br> fosc即板子所使用的晶振频率，如常用的11.0592Mhz。</p> 
<hr> 
<p><strong>2，时钟周期</strong><br> 时钟周期 = 1 / fosc ，单位为us。</p> 
<hr> 
<p><strong>3，机器周期</strong><br> 机器周期 = 12 / fosc ，单位为us。<br> 为啥是12？<br> 因为绝大多数51单片机默认12分频，分频原理直接看第四点。<br> 12分频的原因：老版51单片机使用复杂操作集，导致1个时钟周期内CPU根本无法完成一条指令，因此默认需要12个时钟周期。</p> 
<p>有这么一个公式：机器周期 = 12 * 时钟周期<br> <mark>这个公式只针对老版12分频51单片机，不是数学真理那种存在！！！</mark><br> 12倍这个关系归根结底是晶振频率进行了12分频<br> <mark>在stm32中压根没有机器周期这个概念，机器周期就是时钟周期，因为stm32够快</mark></p> 
<hr> 
<h2><a id="51stm32_19"></a>针对51、stm32单片机</h2> 
<p><strong>4，分频的原理与作用（<mark>51、32通用</mark>）</strong><br> 原理：分频其实就是将fosc倍除。<br> 作用：分频的作用是增长时钟周期（还有控制功耗的作用，时钟频率越快功耗越高，这里就不讲了）</p> 
<p>以下有两种理解方式：例如72Mhz晶振（fosc），7200分频系数</p> 
<p>  一，时钟周期 = 分频系数 / fosc（<mark>推荐</mark>）<br>     100 (us) = 7200 / 72</p> 
<p>  二，先倍除fosc，后转换为时钟周期<br>     72 / 7200 = 0.01MHz<br>     100 (us) = 1 / 0.01</p> 
<p>  若不分频时，时钟周期 = 1/72 = 0.01388888888 us，可以发现不分频时时钟周期极短。</p> 
<p>  自己可以扩大或缩小上面的分频系数，再次带入公式，就可以发现分频的作用是增长时钟周期。</p> 
<hr> 
<p><strong>5，扩大时钟周期的作用</strong><br>   我们知道单片机中最大的定时器也就16位，最多计数次数为65535+1(溢出)=65536次，每次计数的时间间隔就是时钟周期。<br>   若机器周期为定时器最小分辨率 1/72us，则最大的定时器一共可以定时 910us。<br>   而这样的最大溢出时间有时并不满足实际需要，因此需要扩大机器周期来延长定时器的溢出时间，此时便通过设置分频系数来解决（仅stm32可以设置，在启动文件 SystemInit 函数中）。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ae9736c29043cdb105ef68cfa7f16492/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">设置el-upload上传框的尺寸大小</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e94b1c41a1a7384e1aa245c985d6baf6/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue eggjs 文件分片上传</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>