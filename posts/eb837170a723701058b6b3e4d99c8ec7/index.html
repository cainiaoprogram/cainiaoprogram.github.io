<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python学习 字符串与正则表达式详解1 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python学习 字符串与正则表达式详解1" />
<meta property="og:description" content="python学习 字符串与正则表达式 背景知识
字符：数字、字母、字、符号等等都是字符，如8、H、h、国、&amp;等
字符串：2是一个字符，s、c、h、o、o、l都是字符，现在我将这些字符连接起来，123pythonschool就是一个由15个字符组成的字符串字符串常用操作
2.1拼接字符串
“&#43;”，可以完成多个字符串的拼接 entext = &#39;I am busy coding.&#39; cntext = &#39;正在码代码。&#39; print(entext &#43; &#39;---&#39; &#43; cntext) I am busy coding.---正在码代码。 #字符串不允许直接和其他类型的数据拼接
str1 = &#39;我今天一共走了&#39; num = 12345 str2 = &#39;步&#39; print(str1 &#43; str(num) &#43; str2) 我今天一共走了12345步 2.2计算字符串的长度
首先需要了解各字符所占的字节数
①ASCII码中，一个英文字母（不分大小写）占一个字节的空间，一个中文汉字占两个字节的空间。一个二进制数字序列，在计算机中作为一个数字单元，一般为8位二进制数，换算为十进制。最小值0，最大值255。
②UTF-8编码中，一个英文字符等于一个字节，一个中文（含繁体）等于三个字节。
③Unicode编码中，一个英文等于两个字节，一个中文（含繁体）等于两个字节。
符号：英文标点占一个字节，中文标点占两个字节。举例：英文句号“.”占1个字节的大小，中文句号“。”占2个字节的大小。
④UTF-16编码中，一个英文字母字符或一个汉字字符存储都需要2个字节（Unicode扩展区的一些汉字存储需要4个字节）。
⑤UTF-32编码中，世界上任何字符的存储都需要4个字节。
len()函数计算字符的长度
len(string) str = &#39;人生苦短，我用python!&#39; length = len(str) print(length) 14 通过len()计算字符串的长度时，不区分英文中文数字，所有字符都认为是一个。 在实际开发时，有时需要获取字符串实际所占的字节数，即如果采用UTF-8编码，汉字占3个字节， 采用GBK或者GB2312时，汉字占2个字节.这时需要用encode()方法进行编码后再进行获取。 str = &#39;人生苦短，我用python!&#39; length1 = len(str.encode(&#39;gbk&#39;)) length2 = len(str." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/eb837170a723701058b6b3e4d99c8ec7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-20T13:54:02+08:00" />
<meta property="article:modified_time" content="2021-04-20T13:54:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python学习 字符串与正则表达式详解1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="python__0"></a>python学习 字符串与正则表达式</h3> 
<ol><li>背景知识<br> 字符：数字、字母、字、符号等等都是字符，如8、H、h、国、&amp;等<br> 字符串：2是一个字符，s、c、h、o、o、l都是字符，现在我将这些字符连接起来，123pythonschool就是一个由15个字符组成的字符串</li><li>字符串常用操作<br> 2.1拼接字符串<br> “+”，可以完成多个字符串的拼接</li></ol> 
<pre><code class="prism language-python">entext <span class="token operator">=</span> <span class="token string">'I am busy coding.'</span>
cntext <span class="token operator">=</span> <span class="token string">'正在码代码。'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>entext <span class="token operator">+</span> <span class="token string">'---'</span> <span class="token operator">+</span> cntext<span class="token punctuation">)</span>

I am busy coding<span class="token punctuation">.</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>正在码代码。
</code></pre> 
<p>#字符串不允许直接和其他类型的数据拼接</p> 
<pre><code class="prism language-python">str1 <span class="token operator">=</span> <span class="token string">'我今天一共走了'</span>
num <span class="token operator">=</span> <span class="token number">12345</span>
str2 <span class="token operator">=</span> <span class="token string">'步'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str1 <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token operator">+</span> str2<span class="token punctuation">)</span>

我今天一共走了<span class="token number">12345</span>步
</code></pre> 
<p>2.2计算字符串的长度</p> 
<blockquote> 
 <p>首先需要了解各字符所占的字节数<br> ①ASCII码中，一个英文字母（不分大小写）占一个字节的空间，一个中文汉字占两个字节的空间。一个二进制数字序列，在计算机中作为一个数字单元，一般为8位二进制数，换算为十进制。最小值0，最大值255。<br> ②UTF-8编码中，一个英文字符等于一个字节，一个中文（含繁体）等于三个字节。<br> ③Unicode编码中，一个英文等于两个字节，一个中文（含繁体）等于两个字节。<br> 符号：英文标点占一个字节，中文标点占两个字节。举例：英文句号“.”占1个字节的大小，中文句号“。”占2个字节的大小。<br> ④UTF-16编码中，一个英文字母字符或一个汉字字符存储都需要2个字节（Unicode扩展区的一些汉字存储需要4个字节）。<br> ⑤UTF-32编码中，世界上任何字符的存储都需要4个字节。</p> 
</blockquote> 
<ol><li>len()函数计算字符的长度<br> len(string)</li></ol> 
<pre><code class="prism language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'人生苦短，我用python!'</span>
length <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span>
<span class="token number">14</span>
</code></pre> 
<pre><code>通过len()计算字符串的长度时，不区分英文中文数字，所有字符都认为是一个。
在实际开发时，有时需要获取字符串实际所占的字节数，即如果采用UTF-8编码，汉字占3个字节，
采用GBK或者GB2312时，汉字占2个字节.这时需要用encode()方法进行编码后再进行获取。
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'人生苦短，我用python!'</span>
length1 <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
length2 <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>length1<span class="token punctuation">,</span>length2<span class="token punctuation">)</span>
<span class="token number">21</span> <span class="token number">28</span>
</code></pre> 
<p>2.3截取字符串<br> 字符串属于序列，截取字符串可采用切片的方法：<br> string[start : end : step]<br> 参数说明：<br> start：表示要截取的第一个字符的索引（包括该字符），如果不指定，则默认为0<br> end：表示要截取的最后一个字符的索引（不包括该字符），如果不指定，则默认为该字符串的长度<br> step：表示切片的步长，如果省略，则默认为1<br> <img src="https://images2.imgbox.com/34/cc/cdBYugId_o.jpg" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'人生苦短，我用python!'</span>
substr1 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token comment">#截取第2个字符串</span>
substr2 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span>   <span class="token comment">#从第六个字符截取</span>
substr3 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>   <span class="token comment">#从左边开始截取5个字符</span>
substr4 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment">#截取第三个到第五个字符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"原字符串："</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>substr1 <span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span> substr2 <span class="token operator">+</span><span class="token string">'\n'</span><span class="token operator">+</span> substr3 <span class="token operator">+</span><span class="token string">'\n'</span> <span class="token operator">+</span> substr4 <span class="token punctuation">)</span>
原字符串： 人生苦短，我用python!
生
我用python!
人生苦短，
苦短，
</code></pre> 
<pre><code>注意：解决字符串不存在（string index out of range）时的报错方法
用try……except捕获异常
</code></pre> 
<pre><code class="prism language-python"><span class="token builtin">str</span> <span class="token operator">=</span> <span class="token string">'人生苦短，我用python!'</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    substr5 <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span>
<span class="token keyword">except</span> IndexError<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"指定的索引不存在"</span><span class="token punctuation">)</span>

指定的索引不存在
</code></pre> 
<p>2.4分割字符串<br> 分割字符串是把字符串分割为列表<br> 方法split()；具体使用：str.split(sep,maxsplit)<br> 参数说明<br> sep：用于指定分割符，可以包含多个字符，默认为None，即所有空字符、换行符、制表符等<br> maxsplit：可选参数，用于指定分割符的次数<br> 返回值：分割后的字符串列表</p> 
<blockquote> 
 <p>注意：如果不指定sep参数，那么也不能指定maxsplit参数</p> 
</blockquote> 
<pre><code class="prism language-xml">str1 = '人 生 苦 短 ， 我 用 python!'
print('原字符串：',str1)
list1 = str1.split()             #采用默认分割符进行分割
list2 = str1.split('&gt;&gt;&gt;')        #采用多个字符进行分割 
list3 = str1.split('.')          #采用“。”进行分割
list4 = str1.split(' ',4)        #采用空格进行分割，且只分割4个
list5 = str1.split('&gt;')          #采用“&gt;”进行分割
print(str(list1) + '\n' + str(list2) + '\n' +str(list3) + '\n' + str(list4) + '\n' + str(list5))

原字符串： 人 生 苦 短 ， 我 用 python!
['人', '生', '苦', '短', '，', '我', '用', 'python!']
['人 生 苦 短 ， 我 用 python!']
['人 生 苦 短 ， 我 用 python!']
['人', '生', '苦', '短', '， 我 用 python!']
['人 生 苦 短 ， 我 用 python!']
</code></pre> 
<p>2.5检索字符串<br> 1⃣️count():用于指定字符串在另一个字符串中出现的次数，如果检索不存在，则返回0，否则返回出现的次数<br> str.count(sub[, start[, end]])<br> sub：表示要检索的子字符串<br> start：表示检索范围的初始位置的索引，如果不指定，则从头开始检索<br> end：表示检索范围的结束位置的索引，如果不指定，则一直检索到结尾</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'@asffd @sdfhi @feuhs @mdfhy'</span>
a <span class="token operator">=</span> str2<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中包括"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span><span class="token string">"个@符号"</span><span class="token punctuation">)</span>
字符串 @asffd @sdfhi @feuhs @mdfhy 中包括 <span class="token number">4</span> 个@符号
</code></pre> 
<p>2⃣️find()：用于指定字符串是否子字符串，如果检索不存在，则返回-1，否则返回该字符串的索引<br> str.find(sub[, start[, end]])<br> rfind()：类似于find()只是从右边开始查找</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'@asffd @sdfhi @feuhs @mdfhy'</span>
b <span class="token operator">=</span> str2<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中@符号首次出现的位置索引为"</span><span class="token punctuation">,</span>b<span class="token punctuation">)</span>
字符串 @asffd @sdfhi @feuhs @mdfhy 中@符号首次出现的位置索引为 <span class="token number">0</span>
</code></pre> 
<p>3⃣️index()或rindex()：用于指定字符串是否子字符串，类似于find()，但是当指定的字符串不存在时会抛出异常<br> str.index(sub[, start[, end]])</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'asffd @sdfhi @feuhs @mdfhy'</span>
c <span class="token operator">=</span> str2<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中@符号首次出现的位置索引为"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span>
字符串 asffd @sdfhi @feuhs @mdfhy 中@符号首次出现的位置索引为 <span class="token number">6</span>
</code></pre> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'asffd @sdfhi @feuhs @mdfhy'</span>
c <span class="token operator">=</span> str2<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中@符号首次出现的位置索引为"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>

  File <span class="token string">"&lt;ipython-input-45-05bdf3952217&gt;"</span><span class="token punctuation">,</span> line <span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    c <span class="token operator">=</span> str2<span class="token punctuation">.</span>index<span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span>

ValueError<span class="token punctuation">:</span> substring <span class="token operator">not</span> found
</code></pre> 
<p>4⃣️startwith()：用于检索字符串是否以指定子字符串开头，如果是则返回true，否则为false<br> str.startwith(sub[, start[, end]])</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'@asffd @sdfhi @feuhs @mdfhy'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"判断字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中是否以@符号为开头"</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
判断字符串 @asffd @sdfhi @feuhs @mdfhy 中是否以@符号为开头 <span class="token boolean">True</span>

str2 <span class="token operator">=</span> <span class="token string">'asffd @sdfhi @feuhs @mdfhy'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"判断字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中是否以@符号为开头"</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'@'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
判断字符串 asffd @sdfhi @feuhs @mdfhy 中是否以@符号为开头 <span class="token boolean">False</span>
</code></pre> 
<p>5⃣️endwith()：用于检索字符串是否以指定子字符串结尾，如果是则返回true，否则为false<br> str.endwith(sub[, start[, end]])</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'http://www.baidu.com'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"判断字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中是否以.com符号为结尾"</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
判断字符串 http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com 中是否以<span class="token punctuation">.</span>com符号为开头 <span class="token boolean">True</span>

str2 <span class="token operator">=</span> <span class="token string">'asffd @sdfhi @feuhs @mdfhy'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"判断字符串"</span><span class="token punctuation">,</span>str2<span class="token punctuation">,</span><span class="token string">"中是否以@符号为结尾"</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.com'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
判断字符串 asffd @sdfhi @feuhs @mdfhy 中是否以@符号为开头 <span class="token boolean">False</span>
</code></pre> 
<p>2.6字母的大小写转换<br> str.lower():转成小写<br> str.upper():转成大写</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'HTTP://www.baidu.COM'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'原字符串：'</span><span class="token punctuation">,</span>str2<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'小写的新字符串：'</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大写的新字符串：'</span><span class="token punctuation">,</span>str2<span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
原字符串： HTTP<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>COM
小写的新字符串： http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com
大写的新字符串： HTTP<span class="token punctuation">:</span><span class="token operator">//</span>WWW<span class="token punctuation">.</span>BAIDU<span class="token punctuation">.</span>COM
</code></pre> 
<p>2.7去除字符串中的空格和特殊字符<br> strip():去除字符串左右抗辩的空格和特殊字符</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'     HTTP://www.baidu.COM    \n\r'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
HTTP<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>COM

str2 <span class="token operator">=</span> <span class="token string">'@HTTP://www.baidu.COM.@.'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">'@.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
HTTP<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>COM
</code></pre> 
<p>lstrip():去除字符串左边的空格和特殊字符<br> rstrip():去除字符串右边的空格和特殊字符<br> *特殊字符是指：制表符“\t”,回车符“\r”,换行符“\n”</p> 
<pre><code class="prism language-python">str2 <span class="token operator">=</span> <span class="token string">'@HTTP://www.baidu.COM.@.'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">'@.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
HTTP<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>COM<span class="token punctuation">.</span>@<span class="token punctuation">.</span>

str2 <span class="token operator">=</span> <span class="token string">'@HTTP://www.baidu.COM.@.'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>str2<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token string">'@.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
@HTTP<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>COM
</code></pre> 
<p>2.8格式化字符串<br> 格式化字符串是指先制定一个模板，在这个模板中预留几个空位，然后再根据需要天上相应的内容。这些空位需要通过指定的符号标记（也称占位符），而这些符号还不会显示出来。<br> 1⃣️使用“%”操作符<br> <img src="https://images2.imgbox.com/ec/4a/ojcFxYQJ_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/04/45/ktABJbpX_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-python">binary <span class="token operator">=</span> <span class="token string">"binary"</span>
do_not <span class="token operator">=</span> <span class="token string">"don't"</span>
x <span class="token operator">=</span> <span class="token string">"There are %d types of people."</span> <span class="token operator">%</span><span class="token number">10</span>
y <span class="token operator">=</span> <span class="token string">"Those who know %s and those who %s."</span> <span class="token operator">%</span><span class="token punctuation">(</span>binary<span class="token punctuation">,</span>do_not<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I said : %r."</span> <span class="token operator">%</span>x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"I also said: '%s'."</span> <span class="token operator">%</span>y<span class="token punctuation">)</span>
I said <span class="token punctuation">:</span> <span class="token string">'There are 10 types of people.'</span><span class="token punctuation">.</span>
I also said<span class="token punctuation">:</span> <span class="token string">'Those who know binary and those who don'</span>t<span class="token punctuation">.</span>'<span class="token punctuation">.</span>
</code></pre> 
<pre><code>因此，这种格式化方式的主要问题是过于繁琐，容易出错，不能正确格式化元组与字典。
</code></pre> 
<p>2⃣️使用format()<br> str.format(args)<br> str:模板<br> args：用于指定要转换的项，如果有多项则用逗号分隔</p> 
<blockquote> 
 <p>在创建模板时，需要用{} 和 : 指定占位符</p> 
</blockquote> 
<p>通过大括号，我们可以在字符串中嵌入变量：</p> 
<pre><code class="prism language-python"> <span class="token string">"Hello, {}. You are {}."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token string">'Hello, Eric. You are 74.'</span>
</code></pre> 
<p>或者直接使用变量名称：</p> 
<pre><code class="prism language-python">person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Eric'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">74</span><span class="token punctuation">}</span>
<span class="token string">"Hello, {name}. You are {age}."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token operator">=</span>person<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> age<span class="token operator">=</span>person<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token string">'Hello, Eric. You are 74.'</span>
</code></pre> 
<p>在引用字典时，可以用**操作符进行字典拆包：</p> 
<pre><code class="prism language-python">person <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'Eric'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">:</span> <span class="token number">74</span><span class="token punctuation">}</span>
 <span class="token string">"Hello, {name}. You are {age}."</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token operator">**</span>person<span class="token punctuation">)</span>
<span class="token string">'Hello, Eric. You are 74.'</span>
</code></pre> 
<pre><code>和 % 方式相比，使用str.format() 的代码可读性要好很多。但如果在较长的字符串中嵌入多个变量，依然会显得繁琐。
</code></pre> 
<p>3⃣️f-Strings：一种改进版格式化方式<br> f-strings 的句法类似于str.format()，但要更简洁，你可以感受一下它的可读性：</p> 
<pre><code class="prism language-python">name <span class="token operator">=</span> <span class="token string">"Eric"</span>
age <span class="token operator">=</span> <span class="token number">74</span>
f<span class="token string">"Hello, {name}. You are {age}."</span>
<span class="token string">'Hello, Eric. You are 74.'</span>
</code></pre> 
<pre><code>前缀f也可以使用大写的F。支持任意表达式，由于 f-strings 是在运行时计算具体值的，我们得以在字符串中嵌入任意有效的 Python 表达式，从而写出更优雅的代码。
</code></pre> 
<p>三种方式速度比较</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> timeit

<span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token number">200</span>
    body <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token string">'Status: '</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'rn'</span> <span class="token operator">+</span> body <span class="token operator">+</span> <span class="token string">'rn'</span>

<span class="token keyword">def</span> <span class="token function">old_style</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token number">200</span>
    body <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token string">'Status: %srn%srn'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>status<span class="token punctuation">,</span> body<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">formatter1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token number">200</span>
    body <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token string">'Status: {}rn{}rn'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>status<span class="token punctuation">,</span> body<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">formatter2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token number">200</span>
    body <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> <span class="token string">'Status: {status}rn{body}rn'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>status<span class="token operator">=</span>status<span class="token punctuation">,</span> body<span class="token operator">=</span>body<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f_string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    status <span class="token operator">=</span> <span class="token number">200</span>
    body <span class="token operator">=</span> <span class="token string">'hello world'</span>
    <span class="token keyword">return</span> f<span class="token string">'Status: {status}rn{body}rn'</span>

perf_dict <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'add'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> add<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'old_style'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> old_style<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'formatter1'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> formatter1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'formatter2'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> formatter2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">'f_string'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>timeit<span class="token punctuation">.</span>repeat<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span> f_string<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>perf_dict<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token string">'add'</span><span class="token punctuation">:</span> <span class="token number">0.5501344169988442</span><span class="token punctuation">,</span> 
<span class="token string">'old_style'</span><span class="token punctuation">:</span> <span class="token number">0.3909595069999341</span><span class="token punctuation">,</span> 
<span class="token string">'formatter1'</span><span class="token punctuation">:</span> <span class="token number">0.5025860030000331</span><span class="token punctuation">,</span>
<span class="token string">'formatter2'</span><span class="token punctuation">:</span> <span class="token number">0.8049639130003925</span><span class="token punctuation">,</span> 
<span class="token string">'f_string'</span><span class="token punctuation">:</span> <span class="token number">0.33797403199969267</span><span class="token punctuation">}</span>
</code></pre> 
<pre><code>为何 f-string 速度如此快
从指令来看，f'Status: {status}rn{body}rn' 翻译成：
8 LOAD_CONST               3 ('Status: ')
10 LOAD_FAST                0 (status)
12 FORMAT_VALUE             0
14 LOAD_CONST               4 ('rn')
16 LOAD_FAST                1 (body)
18 FORMAT_VALUE             0
20 LOAD_CONST               4 ('rn')
22 BUILD_STRING             5
正如指令中所示的，f-string 是运行时渲染的，底层中转成了类似 "Status: " + status+ "rn" + body + "rn" 的形式
我们仍然可以使用以前的方式进行格式化，但在此推荐 f-string 方式，因为它使用更简洁，更易读且更方便，性能又更好，完全没理由拒绝啊。
	从今天开始使用 f-string!
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/93e9eae3da8cd0f44266a43546c78d19/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">golang 第四课  结构体(struct)、interface{}、方法(func)详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d42d820db36d10f508921cb78247e280/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu更换apt源、pip源和conda源</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>