<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>torch.cat ( )和 np.concatenate() 的用法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="torch.cat ( )和 np.concatenate() 的用法" />
<meta property="og:description" content="一. torch.cat( ) 1. 用法： 按照指定的维度，将两个terson数据拼接在一起；
2. 实例： improt torch A = torch.tensor(np.array([[1,2,3],[4,5,6]])) #2×3的张量 tensor([[1, 2, 3], [4, 5, 6]]) B = torch.tensor(np.array([[7,8],[10,11]])) #2×2的张量 tensor([[ 7, 8], [10, 11]]) C = torch.cat([A, B],dim=1) #按照张量维度1（列）进行拼接，维度变为2×5 tensor([[ 1, 2, 3, 7, 8], [ 4, 5, 6, 10, 11]]) D = torch.tensor(np.array([[2,3,4],[10,11,12],[5,6,7]])) #3×3的张量 tensor([[ 2, 3, 4], [10, 11, 12], [ 5, 6, 7]]) E = torch.cat([A,D], dim=0) #按照张量维度0（行）进行拼接，维度变为5×3 tensor([[ 1, 2, 3], [ 4, 5, 6], [ 2, 3, 4], [10, 11, 12], [ 5, 6, 7]]) 两个张量A和B，分别是2行3列，2行2列。即他们都是2维张量。因为只有两维，这样在用torch." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/369bb7effc04ccbc3d0054be26090b46/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-12T20:38:20+08:00" />
<meta property="article:modified_time" content="2023-06-12T20:38:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">torch.cat ( )和 np.concatenate() 的用法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h3>一. torch.cat( )</h3> 
<h4>1. 用法：</h4> 
<p>        按照指定的维度，将两个terson数据拼接在一起；</p> 
<h4>2. 实例：</h4> 
<pre><code>improt torch

A = torch.tensor(np.array([[1,2,3],[4,5,6]])) #2×3的张量
tensor([[1, 2, 3],
        [4, 5, 6]])
B = torch.tensor(np.array([[7,8],[10,11]])) #2×2的张量
tensor([[ 7,  8],
        [10, 11]])
C = torch.cat([A, B],dim=1) #按照张量维度1（列）进行拼接，维度变为2×5
tensor([[ 1,  2,  3,  7,  8], 
        [ 4,  5,  6, 10, 11]])
D = torch.tensor(np.array([[2,3,4],[10,11,12],[5,6,7]])) #3×3的张量
tensor([[ 2,  3,  4],
        [10, 11, 12],
        [ 5,  6,  7]])
E = torch.cat([A,D], dim=0) #按照张量维度0（行）进行拼接，维度变为5×3
tensor([[ 1,  2,  3],
        [ 4,  5,  6],
        [ 2,  3,  4],
        [10, 11, 12],
        [ 5,  6,  7]])


</code></pre> 
<p>两个张量A和B，分别是2行3列，2行2列。即他们都是2维张量。因为只有两维，这样在用torch.cat拼接的时候就有两种拼接方式：按行拼接和按列拼接。即所谓的维数0和维数1. </p> 
<p>C=torch.cat((A,B),1)就表示按维数1（列）拼接A和B，也就是横着拼接，A左B右。此时需要注意：行数必须一致，即维数0数值要相同，这里都是2行，方能行对齐。拼接后的C的第1维是两个维数1数值和，即2+3=5.</p> 
<p>E=torch.cat((A,D),0)就表示按维数0（行）拼接A和B，也就是竖着拼接，A上B下。此时需要注意：列数必须一致，即维数0数值要相同，这里都是3列，方能列对齐。拼接后的C的第0维是两个维数0数值和，即2+3=5.</p> 
<p><span style="color:#fe2c24;">注：使用torch.cat((A,B),dim)时，除拼接维数dim数值可不同外其余维数数值需相同，方能对齐。</span></p> 
<h3>二. np.concatenate() </h3> 
<h4>1 .用法：</h4> 
<p>        np.concatenate 是<a href="https://so.csdn.net/so/search?q=numpy&amp;spm=1001.2101.3001.7020" title="numpy">numpy</a>中对array进行拼接的函数。</p> 
<h4>2. 实例：</h4> 
<pre><code>import numpy as np

#创建2×3的数组A，B
A = np.array([[1,2,3],[4,5,6]])
B = np.array([[7,8,9],[10,11,12]])

A:[[1 2 3]
   [4 5 6]]
B:[[ 7  8  9]
   [10 11 12]]
con = np.concatenate([A,B],axis=0)  #按照0维度拼接，得到4×3的数组
[[ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]
 [10 11 12]]
con1 = np.concattenate([A,B],AXIS=1) #按照1维度拼接，得到2×6的数组
[[ 1  2  3  7  8  9]
 [ 4  5  6 10 11 12]]
</code></pre> 
<p>axis参数为指定按照哪个维度进行拼接，上述的例子中A为[2,3] B为[2,3]，设置axis=0则代表着按照第一维度进行拼接，拼接后的尺寸为[4,3]除了第一维度的尺寸发生变化，其他维度不变，同时也说明，必须保证其他维度的尺寸是能对的上的，假设A为[5,4],B为[5,3],在这里如果还设置axis=1的话，则会报错，因为x1和x2的第二维度尺寸不相等，无法拼接。<br>  </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/cd57b3444ae151d4dcbb033b4ce14a7a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">pymol 安装、许可证以及报错：pymol not running: entering library mode(experienment)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bd5a32d6757d20485f7cab60d88ea3b2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Robert&#43;Prompt&#43;对比学习&#43;对抗训练文本分类</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>