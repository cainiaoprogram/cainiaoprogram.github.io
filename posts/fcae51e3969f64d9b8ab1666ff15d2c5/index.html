<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>实例详解JSP内置对象 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="实例详解JSP内置对象" />
<meta property="og:description" content="jsp九种内置对象：request, reponse, out, session, application, config, pagecontext, page, exception. 一.request对象：该对象封装了用户提交的信息，通过调用该对象相应的方法可以获取封装的信息，即使用该对象可以获取用户提交信息。
1.Request对象可以使用getParameter(string s)方法获取该表单通过text提交的信息。如：
Request.getParameter(“boy”)
例：request1.jsp：
&lt;%@ page contentType=&#34;text/html;charset=GB2312&#34; %&gt;
&lt;HTML&gt;
&lt;BODY bgcolor=green&gt;&lt;FONT size=1&gt;
&lt;FORM action=&#34;tree.jsp&#34; method=post name=form&gt;
&lt;INPUT type=&#34;text&#34; name=&#34;boy&#34;&gt; &lt;INPUT TYPE=&#34;submit&#34; value=&#34;Enter&#34; name=&#34;submit&#34;&gt;
&lt;/FORM&gt; &lt;/FONT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
tree.jsp：
&lt;%@ page contentType=&#34;text/html;charset=GB2312&#34; %&gt;
&lt;HTML&gt;
&lt;BODY bgcolor=green&gt;&lt;FONT size=1&gt;　&lt;P&gt;获取文本框提交的信息：
&lt;%String textContent=request.getParameter(&#34;boy&#34;);
%&gt;
&lt;BR&gt;
&lt;%=textContent%&gt; &lt;P&gt; 获取按钮的名字：
&lt;%String buttonName=request.getParameter(&#34;submit&#34;);
%&gt;
&lt;BR&gt;
&lt;%=buttonName%&gt; &lt;/FONT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
使用request对象获取信息要格外小心，要避免使用空对象，否则会出现NullPointerException异常，所以我们可以作以下处理.
request3.jsp
&lt;%@ page contentType=&#34;text/html;charset=GB2312&#34; %&gt;
&lt;HTML&gt;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fcae51e3969f64d9b8ab1666ff15d2c5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-03T00:57:58+08:00" />
<meta property="article:modified_time" content="2019-07-03T00:57:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">实例详解JSP内置对象</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body">
  jsp九种内置对象：request, reponse, out, session, application, config, pagecontext, page, exception. 
 <p>　　<strong>一.request对象：</strong>该对象封装了用户提交的信息，通过调用该对象相应的方法可以获取封装的信息，即使用该对象可以获取用户提交信息。</p> 
 <p>　　<font color="#dc143c">1.Request对象可以使用getParameter(string s)方法获取该表单通过text提交的信息。</font>如：</p> 
 <p>Request.getParameter(“boy”)</p> 
 <p>　　例：request1.jsp：</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY bgcolor=green&gt;&lt;FONT size=1&gt;</p> 
  <p>　 &lt;FORM action="tree.jsp" method=post name=form&gt;</p> 
  <p>　　　 &lt;INPUT type="text" name="boy"&gt; </p> 
  <p>　　　 &lt;INPUT TYPE="submit" value="Enter" name="submit"&gt;</p> 
  <p>　 &lt;/FORM&gt; </p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　tree.jsp：</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY bgcolor=green&gt;&lt;FONT size=1&gt;　 </p> 
  <p>&lt;P&gt;获取文本框提交的信息：</p> 
  <p>　 &lt;%String textContent=request.getParameter("boy");</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;</p> 
  <p>　 &lt;%=textContent%&gt; </p> 
  <p>&lt;P&gt; 获取按钮的名字：</p> 
  <p>　 &lt;%String buttonName=request.getParameter("submit");</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;</p> 
  <p>　 &lt;%=buttonName%&gt; </p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　使用request对象获取信息要格外小心，要避免使用空对象，否则会出现NullPointerException异常，所以我们可以作以下处理.</p> 
 <p>　　request3.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;FONT size=5&gt;</p> 
  <p>　 &lt;FORM　action="" method=post name=form&gt;</p> 
  <p>　　　　 &lt;INPUT type="text" name="girl"&gt; </p> 
  <p>　　　　 &lt;INPUT TYPE="submit" value="Enter" name="submit"&gt;</p> 
  <p>　 &lt;/FORM&gt;　</p> 
  <p>　 &lt;%String textContent=request.getParameter("girl");</p> 
  <p>　　 double number=0,r=0;</p> 
  <p>　　 if(textContent==null)</p> 
  <p>　　　　{textContent="";</p> 
  <p>　　　　}</p> 
  <p>　　 try{ number=Double.parseDouble(textContent);</p> 
  <p>　　　　　if(number&gt;=0)</p> 
  <p>　　　　　　 {r=Math.sqrt(number) ;</p> 
  <p>　　　　　　　out.print("&lt;BR&gt;"+String.valueOf(number)+"的平方根：");</p> 
  <p>　　　　　　　out.print("&lt;BR&gt;"+String.valueOf(r));</p> 
  <p>　　　　　　 }</p> 
  <p>　　　　　else</p> 
  <p>　　　　　　 {out.print("&lt;BR&gt;"+"请输入一个正数");</p> 
  <p>　　　　　　 }</p> 
  <p>　　　　}</p> 
  <p>　　 catch(NumberFormatException e)</p> 
  <p>　　　　{out.print("&lt;BR&gt;"+"请输入数字字符");</p> 
  <p>　　　　}</p> 
  <p>　　%&gt;</p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　<strong>2.处理汉字信息：</strong>当request对象获取客户提交的汉字字符时，会出现乱马问题，必须进行特殊处理。首先，将获取的字符串用ISO-8859-1进行编码，并将编码存放到一个字节数组中，然后再将这个属组转化为字符窜对象即刻。</p> 
 <p>如:　 String textContent=request.getParameter("boy");</p> 
 <p>　　 byte　b[]=textContent.getBytes("ISO-8859-1");</p> 
 <p>textContent=new String(b);</p> 
 <p>　　例：tree2.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;MHML&gt;</p> 
  <p>&lt;BODY&gt;　 </p> 
  <p>&lt;P&gt;获取文本框提交的信息：</p> 
  <p>　 &lt;%String textContent=request.getParameter("boy");</p> 
  <p>　　 byte　b[]=textContent.getBytes("ISO-8859-1");</p> 
  <p>　　 textContent=new String(b);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;</p> 
  <p>　 &lt;%=textContent%&gt; </p> 
  <p>&lt;P&gt; 获取按钮的名字：</p> 
  <p>　 &lt;%String buttonName=request.getParameter("submit");</p> 
  <p>　　 byte　c[]=buttonName.getBytes("ISO-8859-1");</p> 
  <p>　　 buttonName=new String(c);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;</p> 
  <p>　 &lt;%=buttonName%&gt; </p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　3.常用方法举例：</p> 
 <p>getProtocol(),　getServletPath(), getContentLength(), getMethod(), getRemoteAddr(), getRemoteHost(), getServerName(), getParameterName()</p> 
 <p>例：</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;%@ page import="java.util.*" %&gt;</p> 
  <p>&lt;MHML&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;</p> 
  <p>&lt;Font size=5&gt;　 </p> 
  <p>&lt;BR&gt;客户使用的协议是:</p> 
  <p>　 &lt;% String protocol=request.getProtocol();</p> 
  <p>　　　out.println(protocol);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取接受客户提交信息的页面：</p> 
  <p>　 &lt;% String path=request.getServletPath();</p> 
  <p>　　　out.println(path);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;接受客户提交信息的长度：</p> 
  <p>　 &lt;% int length=request.getContentLength();</p> 
  <p>　　　out.println(length);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;客户提交信息的方式：</p> 
  <p>　 &lt;% String method=request.getMethod();</p> 
  <p>　　　out.println(method);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取HTTP头文件中User-Agent的值：：</p> 
  <p>　 &lt;% String header1=request.getHeader("User-Agent");</p> 
  <p>　　　out.println(header1);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取HTTP头文件中accept的值：</p> 
  <p>　 &lt;% String header2=request.getHeader("accept");</p> 
  <p>　　　out.println(header2);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取HTTP头文件中Host的值：</p> 
  <p>　 &lt;% String header3=request.getHeader("Host");</p> 
  <p>　　　out.println(header3);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取HTTP头文件中accept-encoding的值：</p> 
  <p>　 &lt;% String header4=request.getHeader("accept-encoding");</p> 
  <p>　　　out.println(header4);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取客户的IP地址：</p> 
  <p>　 &lt;% String　IP=request.getRemoteAddr();</p> 
  <p>　　　out.println(IP);</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取客户机的名称：</p> 
  <p>　 &lt;% String clientName=request.getRemoteHost();</p> 
  <p>　　　out.println(clientName);</p> 
  <p>　 %&gt; </p> 
  <p>&lt;BR&gt;获取服务器的名称：</p> 
  <p>　 &lt;% String serverName=request.getServerName();</p> 
  <p>　　　out.println(serverName);</p> 
  <p>　 %&gt; </p> 
  <p>&lt;BR&gt;获取服务器的端口号：</p> 
  <p>　 &lt;% int serverPort=request.getServerPort();</p> 
  <p>　　　out.println(serverPort);</p> 
  <p>　 %&gt; </p> 
  <p>&lt;BR&gt;获取客户端提交的所有参数的名字：</p> 
  <p>　 &lt;% Enumeration enum=request.getParameterNames();</p> 
  <p>　　　 while(enum.hasMoreElements())</p> 
  <p>　　　　　　{String s=(String)enum.nextElement();</p> 
  <p>　　　　　　 out.println(s);</p> 
  <p>　　　　　　}　　　</p> 
  <p>　　　%&gt; </p> 
  <p>&lt;BR&gt;获取头名字的一个枚举：</p> 
  <p>　 &lt;% Enumeration enum_headed=request.getHeaderNames();</p> 
  <p>　　　while(enum_headed.hasMoreElements())</p> 
  <p>　　　　　　{String s=(String)enum_headed.nextElement();</p> 
  <p>　　　　　　 out.println(s);</p> 
  <p>　　　　　　}　　　</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;获取头文件中指定头名字的全部值的一个枚举：</p> 
  <p>　 &lt;% Enumeration enum_headedValues=request.getHeaders("cookie");</p> 
  <p>　　　while(enum_headedValues.hasMoreElements())</p> 
  <p>　　　　　　{String s=(String)enum_headedValues.nextElement();</p> 
  <p>　　　　　　 out.println(s);</p> 
  <p>　　　　　　}　　　</p> 
  <p>　 %&gt;</p> 
  <p>&lt;BR&gt;</p> 
  <p>&lt;/Font&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　4．获取HTML表单提交的数据</p> 
 <p>　　单选框radio</p> 
 <p>　　例：</p> 
 <p>　　radio.jsp：</p> 
 <div class="code"> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;Font size=1 &gt;</p> 
  <p>&lt;P&gt;诗人李白是中国历史上哪个朝代的人：</p> 
  <p>　 &lt;FORM action="answer.jsp" method=post name=form&gt;</p> 
  <p>　　　 &lt;INPUT type="radio" name="R" value="a"&gt;宋朝 </p> 
  <p>　　　 &lt;INPUT type="radio" name="R" value="b"&gt;唐朝 </p> 
  <p>　　　 &lt;INPUT type="radio" name="R" value="c"&gt;明朝 </p> 
  <p>　　　 &lt;INPUT type="radio" name="R" value="d" checked="ok"&gt;元朝 </p> 
  <p>　　　　&lt;BR&gt;</p> 
  <p>&lt;P&gt;小说红楼梦的作者是：</p> 
  <p>　　　　&lt;BR&gt;</p> 
  <p>　　　 &lt;INPUT type="radio" name="P" value="a"&gt;曹雪芹 </p> 
  <p>　　　 &lt;INPUT type="radio" name="P" value="b"&gt;罗贯中</p> 
  <p>　　　 &lt;INPUT type="radio" name="P" value="c"&gt;李白 </p> 
  <p>　　　 &lt;INPUT type="radio" name="P" value="d"&gt;司马迁 </p> 
  <p>　　　 &lt;BR&gt;</p> 
  <p>　　　 &lt;INPUT TYPE="submit" value="提交答案" name="submit"&gt;</p> 
  <p>　 &lt;/FORM&gt; </p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
  <p>answer.jsp：</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;Font size=1 &gt;</p> 
  <p>&lt;% int n=0;</p> 
  <p>　　String s1=request.getParameter("R");</p> 
  <p>　　String s2=request.getParameter("P");</p> 
  <p>　　 if(s1==null)</p> 
  <p>　　　 {s1="";}</p> 
  <p>　　 if(s2==null)</p> 
  <p>　　　 {s2="";}</p> 
  <p>　　　if(s1.equals("b"))</p> 
  <p>　　　 { n++;}</p> 
  <p>　　　if(s2.equals("a"))</p> 
  <p>　　　 { n++;}</p> 
  <p>%&gt;</p> 
  <p>&lt;P&gt;您得了&lt;%=n%&gt;分</p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　列表框&lt;select&gt;&lt;Option&gt;</p> 
 <p>　　例：</p> 
 <p>　　select.jsp：</p> 
 <div class="code"> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;Font size=1 &gt;</p> 
  <p>&lt;P&gt;选择计算和的方式</p> 
  <p>　 &lt;FORM action="sum.jsp" method=post name=form&gt;</p> 
  <p>　　　 &lt;Select name="sum" size=2&gt;</p> 
  <p>　　　　　&lt;Option Selected value="1"&gt;计算1到n的连续和</p> 
  <p>　　　　　&lt;Option value="2"&gt;计算1到n的平方和</p> 
  <p>　　　　　&lt;Option value="3"&gt;计算1到n的立方和</p> 
  <p>　　　 &lt;/Select&gt; </p> 
  <p>&lt;P&gt;选择n的值：&lt;BR&gt;</p> 
  <p>　　　 &lt;Select name="n" &gt;</p> 
  <p>　　　　　&lt;Option value="10"&gt;n=10</p> 
  <p>　　　　　&lt;Option value="20"&gt;n=20</p> 
  <p>　　　　　&lt;Option value="30"&gt;n=30</p> 
  <p>　　　　　&lt;Option value="40"&gt;n=40</p> 
  <p>　　　　　&lt;Option value="50"&gt;n=50</p> 
  <p>　　　　　&lt;Option value="100"&gt;n=100</p> 
  <p>　　　 &lt;/Select&gt; </p> 
  <p>　　　　&lt;BR&gt;&lt;BR&gt;</p> 
  <p>　　 &lt;INPUT TYPE="submit" value="提交你的选择" name="submit"&gt;</p> 
  <p>　 &lt;/FORM&gt; </p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
  <p>　　sum.jsp：</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;Font size=1 &gt;</p> 
  <p>&lt;% long sum=0;</p> 
  <p>　　String s1=request.getParameter("sum");</p> 
  <p>　　String s2=request.getParameter("n");</p> 
  <p>　　 if(s1==null)</p> 
  <p>　　　 {s1="";}</p> 
  <p>　　 if(s2==null)</p> 
  <p>　　　 {s2="0";}</p> 
  <p>　　if(s1.equals("1"))</p> 
  <p>　　　 {int n=Integer.parseInt(s2);</p> 
  <p>　　　　 for(int i=1;i&lt;=n;i++)</p> 
  <p>　　　　　　{sum=sum+i;</p> 
  <p>　　　　　　} </p> 
  <p>　　　 }</p> 
  <p>　　　else if(s1.equals("2"))</p> 
  <p>　　　 {int n=Integer.parseInt(s2);</p> 
  <p>　　　　 for(int i=1;i&lt;=n;i++)</p> 
  <p>　　　　　　{sum=sum+i*i;</p> 
  <p>　　　　　　} </p> 
  <p>　　　 }</p> 
  <p>　　　else if(s1.equals("3"))</p> 
  <p>　　　 {int n=Integer.parseInt(s2);</p> 
  <p>　　　　 for(int i=1;i&lt;=n;i++)</p> 
  <p>　　　　　　{sum=sum+i*i*i;</p> 
  <p>　　　　　　} </p> 
  <p>　　　 }</p> 
  <p>%&gt;</p> 
  <p>&lt;P&gt;您的求和结果是&lt;%=sum%&gt;</p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　<strong>二.Response对象：</strong>对客户的请求做出动态的响应，向客户端发送数据。</p> 
 <p>　<font color="#dc143c">　1.动态响应contenType属性</font></p> 
 <p>　　当一个用户访问一个jsp页面时，如果该页面用page指令设置页面的contentType属性是text/html，那么jsp引擎将按照这种属性值作出反映。如果要动态改变这个属性值来响应客户，就需要使用response对象的setContentType(String s)方法来改变contentType的属性值。</p> 
 <p>　　格式：response.setContentType(String s)</p> 
 <p>　　参数s可取text/html,, application/x-msexcel, application/msword等。</p> 
 <p>　　例如：response1.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;Font size=1 &gt;</p> 
  <p>&lt;P&gt;我正在学习response对象的</p> 
  <p>&lt;BR&gt;setContentType方法</p> 
  <p>&lt;P&gt;将当前页面保存为word文档吗？</p> 
  <p>　&lt;FORM action="" method="get" name=form&gt;</p> 
  <p>　　 &lt;INPUT TYPE="submit" value="yes" name="submit"&gt;</p> 
  <p>　 &lt;/FORM&gt;</p> 
  <p>&lt;% String str=request.getParameter("submit");</p> 
  <p>　　　if(str==null) </p> 
  <p>　　　　 {str="";</p> 
  <p>　　　　 }</p> 
  <p>　　　if(str.equals("yes"))</p> 
  <p>　　　　 {response.setContentType("application/msword;charset=GB2312");</p> 
  <p>　　　　 }</p> 
  <p>%&gt; </p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　<font color="#dc143c">　2．Response重定向：</font>在某些情况下，当响应客户时，需要将客户重新引导至另一个页面，可以使用response的sendRedirect(URL)方法实现客户的重定向。</p> 
 <p>例如：response2.jsp：</p> 
 <div class="code"> 
  <p>&lt;html&gt;</p> 
  <p>&lt;head&gt;&lt;title&gt;Where to go&lt;/title&gt;&lt;/head&gt;</p> 
  <p>&lt;body&gt;</p> 
  <p>&lt;%</p> 
  <p>String address = request.getParameter("where");</p> 
  <p>if(address!=null){<!-- --></p> 
  <p>if(address.equals("ChinaWebber")) </p> 
  <p>　 response.sendRedirect("<a href="http://www.chinawebber.com/" rel="nofollow">http://www.chinawebber.com/</a>");</p> 
  <p>　else if(address.equals("Yahoo")) </p> 
  <p>　　 response.sendRedirect("<a href="http://www.yahoo.com/" rel="nofollow">http://www.yahoo.com/</a>");</p> 
  <p>　 else if(address.equals("Sun")) </p> 
  <p>　　 response.sendRedirect("<a href="http://www.sun.com/" rel="nofollow">http://www.sun.com/</a>");</p> 
  <p>}</p> 
  <p>%&gt;</p> 
  <p>&lt;b&gt;Please select:&lt;/b&gt;&lt;br&gt;</p> 
  <p>&lt;form action="goto.jsp" method="GET"&gt;</p> 
  <p>&lt;select name="where"&gt;</p> 
  <p>　 &lt;option value="ChinaWebber" selected&gt;go to ChinaWebber</p> 
  <p>　 &lt;option value="Sun" &gt; go to Sun</p> 
  <p>　 &lt;option value="Microsoft" &gt; go to Microsoft</p> 
  <p>&lt;/select&gt;</p> 
  <p>&lt;input type="submit" value="go"&gt;</p> 
  <p>&lt;/form&gt;</p> 
 </div> 
 <p>　<strong>　三．Session对象</strong></p> 
 <p>　　<font color="#dc143c">1.什么是Session：</font>Session对象是一个jsp内置对象，它在第一个jsp页面被装载时自动创建，完成会话期管理。</p> 
 <p>　　从一个客户打开浏览器并连接到服务器开始，到客户关闭浏览器离开这个服务器结束，被称为一个会话。当一个客户访问一个服务器时，可能会在这个服务器的几个页面之间反复连接，反复刷新一个页面，服务器应当通过某种办法知道这是同一个客户，这就需要session对象。</p> 
 <p>　　<font color="#dc143c">2．session对象的Id：</font>当一个客户首次访问服务器上的一个jsp页面时，jsp引擎产生一个session对象，同时分配一个String类型的Id号，jsp引擎同时将这个Id号发送到客户端，存放在Cookie中，这样session对象和客户之间就建立了一一对应的关系。当客户再访问连接该服务器的其他页面时，不再分配给客户新的session对象，直到客户关闭浏览器后，服务器端该客户的session对象才取消，并且和客户的会话对应关系消失。当客户重新打开浏览器再连接到该服务器时，服务器为该客户再创建一个新的session对象。</p> 
 <p>　<font color="#dc143c">　3．session对象常用方法：</font></p> 
 <p>　　i.public String getId():获取session对象编号。</p> 
 <p>　　ii.public void setAttribute(String key,Object obj):将参数Object指定的对象obj添加到session对象中，并为添加的对象指定一个索引关键字。</p> 
 <p>　　iii.public Object getAttribute(String key):获取session对象中含有关键字的对象。</p> 
 <p>　　iv.public Boolean isNew():判断是否是一个新的客户。</p> 
 <p>　　例如：session1.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY bgcolor=cyan&gt;&lt;FONT Size=5&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>　　&lt;%String s=session.getId();</p> 
  <p>　　%&gt;</p> 
  <p>&lt;P&gt;您的session对象的ID是：</p> 
  <p>&lt;BR&gt;</p> 
  <p>&lt;%=s%&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>例如：session2.jsp</p> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>　　&lt;%! int number=0;　　 </p> 
  <p>　　 synchronized void countPeople()</p> 
  <p>　　　　{ </p> 
  <p>　　　　　　　　　number++;</p> 
  <p>　　　　 }</p> 
  <p>　 %&gt;</p> 
  <p>　 &lt;%</p> 
  <p>　　 if(session.isNew())</p> 
  <p>　　　 {<!-- --></p> 
  <p>　　　　 countPeople();</p> 
  <p>　　　　 String str=String.valueOf(number);</p> 
  <p>　　　　 session.setAttribute("count",str);</p> 
  <p>　　　 }</p> 
  <p>　　%&gt;</p> 
  <p>&lt;P&gt;您是第&lt;%=(String)session.getAttribute("count")%&gt;个访问本站的人。</p> 
  <p>&lt;BODY&gt;</p> 
  <p>&lt;HTML&gt;</p> 
 </div> 
 <p>　　<strong>四．aplication对象</strong></p> 
 <p>　<font color="#dc143c">　1．什么是application:</font></p> 
 <p>　　服务器启动后就产生了这个application对象，当客户再所访问的网站的各个页面之间浏览时，这个application对象都是同一个，直到服务器关闭。但是与session不同的是，所有客户的application对象都是同一个，即所有客户共享这个内置的application对象。</p> 
 <p>　　<font color="#dc143c">2．Application对象常用方法:</font></p> 
 <p>　　(1)public void setAttribute(String key,Object obj): 将参数Object指定的对象obj添加到application对象中，并为添加的对象指定一个索引关键字。</p> 
 <p>　　(2)public Object getAttribute(String key): 获取application对象中含有关键字的对象。</p> 
 <p>　　例：application.jsp</p> 
 <div class="code"> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;HEAD&gt;</p> 
  <p>&lt;TITLE&gt;application变量的使用&lt;/TITLE&gt;</p> 
  <p>&lt;/HEAD&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>&lt;CENTER&gt;</p> 
  <p>&lt;FONT SIZE = 5 COLOR = blue&gt;application变量的使用&lt;/FONT&gt;</p> 
  <p>&lt;/CENTER&gt;</p> 
  <p>&lt;HR&gt;</p> 
  <p>&lt;P&gt;&lt;/P&gt;</p> 
  <p>&lt;%</p> 
  <p>Object obj = null;</p> 
  <p>String strNum = (String)application.getAttribute("Num");</p> 
  <p>int Num = 0;</p> 
  <p>//检查是否Num变量是否可取得</p> 
  <p>if(strNum != null) </p> 
  <p>Num = Integer.parseInt(strNum) + 1; //将取得的值增加1</p> 
  <p>application.setAttribute("Num", String.valueOf(Num)); //起始Num变量值</p> 
  <p>%&gt;</p> 
  <p>application对象中的&lt;Font color = blue&gt;Num&lt;/Font&gt;变量值为</p> 
  <p>&lt;Font color = red&gt;&lt;%= Num %&gt;&lt;/Font&gt;&lt;BR&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　<font color="#dc143c">五．Out对象</font></p> 
 <p>　　Out对象是一个输出流，用来向客户端输出数据。Out对象用于各种数据的输出。</p> 
 <p>　　常用方法：</p> 
 <p>　　（1）out.print():输出各种类型数据。</p> 
 <p>　　（2）out.newLine():输出一个换行符。</p> 
 <p>　　（3）out.close():关闭流。</p> 
 <p>　　例：out.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html;charset=GB2312" %&gt;</p> 
  <p>&lt;%@ page　import="java.util.Date"%&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;HEAD&gt;</p> 
  <p>&lt;%</p> 
  <p>Date Now = new Date(); </p> 
  <p>String hours=String.valueOf(Now.getHours());</p> 
  <p>String mins=String.valueOf(Now.getMinutes());</p> 
  <p>String secs=String.valueOf(Now.getSeconds());</p> 
  <p>%&gt;</p> 
  <p>现在是</p> 
  <p>&lt;%out.print(String.valueOf(Now.getHours()));%&gt;</p> 
  <p>小时</p> 
  <p>&lt;%out.print(String.valueOf(Now.getMinutes()));%&gt;</p> 
  <p>分</p> 
  <p>&lt;%out.print(String.valueOf(Now.getSeconds()));%&gt;</p> 
  <p>秒</p> 
  <p>&lt;/FONT&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
 <p>　　<strong>六．Cookie</strong></p> 
 <p>　　<font color="#dc143c">1.什么是Cookie：</font></p> 
 <p>　　Cookie是Web服务器保存在用户硬盘上的一段文本。Cookie允许一个Web站点在用户的电脑上保存信息并且随后再取回它。</p> 
 <p>　　举例来说，一个Web站点可能会为每一个访问者产生一个唯一的ID，然后以Cookie文件的形式保存在每个用户的机器上。 </p> 
 <p>　　如果您使用IE浏览器访问Web，您会看到所有保存在您的硬盘上的Cookie。它们最常存放的地方是：c:\windows\cookies(在Win　2000中则是C:\Documents　and　Settings\您的用户名\Cookies )</p> 
 <p>　　cookie是以“关键字key=值value“的格式来保存纪录的.</p> 
 <p>　　<font color="#dc143c">2．创建一个Cookie对象，调用Cookie对象的构造函数可以创建Cookie。Cookie对象的构造函数有两个字符串参数：Cookie名字和Cookie值。</font></p> 
 <p>　　Cookie c=new Cookie(“username”,”john”);</p> 
 <p>　　<font color="#dc143c">3． jsp中如果要将封装好的Cookie对象传送到客户端，使用response的addCookie()方法。</font></p> 
 <p>　　格式：response.addCookie(c)</p> 
 <p>　　<font color="#dc143c">4．读取保存到客户端的Cookie,使用request对象的getCookies()方法，执行时将所有客户端传来的Cookie对象以数组的形式排列，如果要取出符合需要的Cookie对象，就需要循环比较数组内每个对象的关键字。</font></p> 
 <p>　　例：</p> 
 <div class="code"> 
  <p>Cookie[] c=request.getCookies();</p> 
  <p>if(c!=null)</p> 
  <p>for(int I=0;I&lt;c.length;I++)</p> 
  <p>if(“username”.equals(c[I].getName()))</p> 
  <p>out.println(c[I].getValue());</p> 
 </div> 
 <p>　　<font color="#dc143c">5．设置Cookie对象有效时间：setMaxAge()。</font></p> 
 <p>c.setMaxAge(3600);</p> 
 <p>　　<font color="#dc143c">6．Cookie应用</font></p> 
 <p>　　1.网站能够精确地知道有多少人浏览过。</p> 
 <p>　　由于代理服务器、缓存等的使用，唯一能帮助网站精确统计来访人数的方法就是为每个访问者建立一个唯一的ID。使用Cookie，网站可以完成以下工作：</p> 
 <p>　　●测定多少人访问过；</p> 
 <p>　　●测定访问者有多少是新用户（即第一次来访），多少是老用户；</p> 
 <p>　　●测定一个用户多久访问一次网站。</p> 
 <p>　　网站使用数据库达到上述目标。当一个用户第一次访问时，网站在数据库中建立一个新的ID，并把ID通过Cookie传送给用户。用户再次来访时，网站把该用户ID对应的计数器加1，得到用户的来访次数。</p> 
 <p>例：Cookie.jsp</p> 
 <div class="code"> 
  <p>&lt;%@ page contentType="text/html; charset=GB2312" </p> 
  <p>　　 import="java.util.Date" %&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;HEAD&gt;</p> 
  <p>&lt;TITLE&gt;Cookie的存取&lt;/TITLE&gt;</p> 
  <p>&lt;/HEAD&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>&lt;CENTER&gt;</p> 
  <p>&lt;FONT SIZE = 5 COLOR = blue&gt;Cookie的存取&lt;/FONT&gt;</p> 
  <p>&lt;/CENTER&gt;</p> 
  <p>&lt;HR&gt;</p> 
  <p>&lt;P&gt;&lt;/P&gt;</p> 
  <p>&lt;%</p> 
  <p>//建立Cookie变数</p> 
  <p>Cookie IntVal = new Cookie("IntVal", "100");</p> 
  <p>Cookie temp = null;</p> 
  <p>response.addCookie(IntVal); //将Cookie变数加入Cookie中</p> 
  <p>Cookie[] cookies = request.getCookies();</p> 
  <p>//取得Cookie资料</p> 
  <p>int cookielen = cookies.length;</p> 
  <p>//取得Cookie变数阵列的长度</p> 
  <p>if(cookielen != 0) //判断是否成功取得Cookie资料</p> 
  <p>{　 </p> 
  <p>　　for (int i = 0; i &lt; cookielen; i++)</p> 
  <p>　　{　 </p> 
  <p>　　　　temp = cookies[i]; //取得cookies阵列中的Cookie变数</p> 
  <p>　　　　if (temp.getName().equals("IntVal"))</p> 
  <p>　　　　{ //判断是否取得名为DateVal的Cookie资料</p> 
  <p>　　　　　　%&gt;</p> 
  <p>　　　　　　Cookie中&lt;Font color = blue&gt;IntVal&lt;/Font&gt;变量的值为</p> 
  <p>　　　　　　&lt;Font color = red&gt;&lt;%= IntVal.getValue()%&gt;&lt;/Font&gt;&lt;BR&gt;</p> 
  <p>　　　　　　&lt;%</p> 
  <p>　　　　　　　　　　　　　　}</p> 
  <p>　　　　　　　 </p> 
  <p>　　}　 </p> 
  <p>}</p> 
  <p>else</p> 
  <p>{ </p> 
  <p>　　%&gt;</p> 
  <p>　　不存在Cookie&lt;BR&gt;</p> 
  <p>　　&lt;%</p> 
  <p>}</p> 
  <p>%&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
  <p>例：CookieDate.jsp</p> 
  <p>&lt;%@ page contentType="text/html; charset=GB2312"</p> 
  <p>　　 import="java.util.Date"%&gt;</p> 
  <p>&lt;HTML&gt;</p> 
  <p>&lt;HEAD&gt;</p> 
  <p>&lt;TITLE&gt;自Cookie存取日期/时间数据&lt;/TITLE&gt;</p> 
  <p>&lt;/HEAD&gt;</p> 
  <p>&lt;BODY&gt;</p> 
  <p>&lt;CENTER&gt;</p> 
  <p>&lt;FONT SIZE = 5 COLOR = blue&gt;自Cookie存取日期/时间数据&lt;/FONT&gt;</p> 
  <p>&lt;/CENTER&gt;</p> 
  <p>&lt;HR&gt;</p> 
  <p>&lt;P&gt;&lt;/P&gt;</p> 
  <p>&lt;%</p> 
  <p>Date Now = new Date(); //取得目前的系统时间</p> 
  <p>Cookie DateVal = new Cookie("DateVal", String.valueOf(Now.getTime()));</p> 
  <p>//欲将储存至Cookie时间/日期值转换为毫秒数</p> 
  <p>response.addCookie(DateVal); //将Cookie变数加入Cookie中</p> 
  <p>Cookie temp = null;</p> 
  <p>DateVal = null; //重设Cookie变数</p> 
  <p>Cookie[] cookies = request.getCookies();</p> 
  <p>//取得Cookie资料</p> 
  <p>int cookielen = cookies.length;</p> 
  <p>//取得Cookie变数阵列的长度</p> 
  <p>if(cookielen != 0) //判断是否成功取得Cookie资料</p> 
  <p>{　 </p> 
  <p>　　for (int i = 0; i &lt; cookielen; i++)</p> 
  <p>　　{　 </p> 
  <p>　　　　temp = cookies[i]; //取得cookies阵列中的Cookie变数</p> 
  <p>　　　　　　　　</p> 
  <p>　　　　if (temp.getName().equals("DateVal"))</p> 
  <p>　　　　{ //判断是否取得名为DateVal的Cookie资料</p> 
  <p>　　　　　　%&gt;</p> 
  <p>　　　　　　Cookie中&lt;Font color = blue&gt;DateVal&lt;/Font&gt;</p> 
  <p>　　　　　　变量的值为&lt;Font color = red&gt;</p> 
  <p>　　　　　　&lt;%= new Date(Long.parseLong(temp.getValue())) %&gt;</p> 
  <p>　　　　　　&lt;/Font&gt;&lt;BR&gt;</p> 
  <p>　　　　　　&lt;%</p> 
  <p>　　　　}</p> 
  <p>　　}</p> 
  <p>}</p> 
  <p>else //若无法取得Cookie资料则执行下面的叙述</p> 
  <p>{ </p> 
  <p>%&gt;</p> 
  <p>无法取得Cookie&lt;BR&gt;</p> 
  <p>&lt;%</p> 
  <p>}</p> 
  <p>%&gt;</p> 
  <p>&lt;/BODY&gt;</p> 
  <p>&lt;/HTML&gt;</p> 
 </div> 
</div> 
<p>转载于:https://www.cnblogs.com/xtsong/archive/2008/07/29/1255358.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d3a49c4fd4e35b599eb0ef3912b3aad5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">怎样学习新语言</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4ac664ee20cff58d5068afe4e2ea8271/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android journey3 @点击事件的4种写法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>