<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Android 自定义dialog学习之——自定义一个提示框 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Android 自定义dialog学习之——自定义一个提示框" />
<meta property="og:description" content="前言
最近项目中觉的Android系统的dialog样式太丑，确实也不太好看，就打算自定义一个dialog来使用。
自定义dialog实例demo
1、布局
dialog_alert
&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt; &lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34; android:layout_width=&#34;@dimen/dp_550&#34; android:layout_height=&#34;wrap_content&#34; android:layout_gravity=&#34;center&#34; android:background=&#34;@drawable/new_dialog_bg&#34; android:orientation=&#34;vertical&#34;&gt; &lt;!--标题--&gt; &lt;TextView android:id=&#34;@&#43;id/tv_title&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;@dimen/dp_80&#34; android:layout_marginLeft=&#34;@dimen/dp_60&#34; android:layout_marginRight=&#34;@dimen/dp_60&#34; android:gravity=&#34;center|bottom&#34; android:text=&#34;@string/title&#34; android:textColor=&#34;@color/color_222222&#34; android:textSize=&#34;@dimen/dp_32&#34; android:textStyle=&#34;bold&#34; /&gt; &lt;!--提示信息--&gt; &lt;TextView android:id=&#34;@&#43;id/tv_msg&#34; android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;wrap_content&#34; android:layout_marginLeft=&#34;@dimen/dp_60&#34; android:layout_marginTop=&#34;@dimen/dp_36&#34; android:layout_marginRight=&#34;@dimen/dp_60&#34; android:layout_marginBottom=&#34;@dimen/dp_50&#34; android:gravity=&#34;center&#34; android:textColor=&#34;@color/color_222222&#34; android:textSize=&#34;@dimen/dp_28&#34; /&gt; &lt;View android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;@dimen/dp_1&#34; android:background=&#34;@color/color_E8E8E8&#34; /&gt; &lt;LinearLayout android:layout_width=&#34;match_parent&#34; android:layout_height=&#34;@dimen/dp_92&#34; android:orientation=&#34;horizontal&#34;&gt; &lt;!--取消按钮--&gt; &lt;TextView android:id=&#34;@&#43;id/tv_cancel&#34; android:layout_width=&#34;0dp&#34; android:layout_height=&#34;match_parent&#34; android:layout_weight=&#34;1&#34; android:gravity=&#34;center&#34; android:text=&#34;@string/tv_cancel&#34; android:textColor=&#34;@color/color_666666&#34; android:textSize=&#34;@dimen/dp_28&#34; /&gt; &lt;View android:id=&#34;@&#43;id/v_line&#34; android:layout_width=&#34;@dimen/dp_1&#34; android:layout_height=&#34;match_parent&#34; android:background=&#34;@color/color_E8E8E8&#34; /&gt; &lt;!--确认按钮--&gt; &lt;TextView android:id=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/b711f184b664bd94328ad45032d689b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-09-05T15:52:38+08:00" />
<meta property="article:modified_time" content="2020-09-05T15:52:38+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Android 自定义dialog学习之——自定义一个提示框</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>前言</strong></p> 
<p>最近项目中觉的Android系统的dialog样式太丑，确实也不太好看，就打算自定义一个dialog来使用。</p> 
<p><strong>自定义dialog实例demo</strong></p> 
<p><strong>1、布局</strong><br> dialog_alert</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>LinearLayout xmlns:android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span>
    android:layout_width<span class="token operator">=</span><span class="token string">"@dimen/dp_550"</span>
    android:layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>
    android:layout_gravity<span class="token operator">=</span><span class="token string">"center"</span>
    android:background<span class="token operator">=</span><span class="token string">"@drawable/new_dialog_bg"</span>
    android:orientation<span class="token operator">=</span><span class="token string">"vertical"</span><span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--标题--<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>TextView
        android:id<span class="token operator">=</span><span class="token string">"@+id/tv_title"</span>
        android:layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android:layout_height<span class="token operator">=</span><span class="token string">"@dimen/dp_80"</span>
        android:layout_marginLeft<span class="token operator">=</span><span class="token string">"@dimen/dp_60"</span>
        android:layout_marginRight<span class="token operator">=</span><span class="token string">"@dimen/dp_60"</span>
        android:gravity<span class="token operator">=</span><span class="token string">"center|bottom"</span>
        android:text<span class="token operator">=</span><span class="token string">"@string/title"</span>
        android:textColor<span class="token operator">=</span><span class="token string">"@color/color_222222"</span>
        android:textSize<span class="token operator">=</span><span class="token string">"@dimen/dp_32"</span>
        android:textStyle<span class="token operator">=</span><span class="token string">"bold"</span> /<span class="token operator">&gt;</span>

	<span class="token operator">&lt;</span><span class="token operator">!</span>--提示信息--<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>TextView
        android:id<span class="token operator">=</span><span class="token string">"@+id/tv_msg"</span>
        android:layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android:layout_height<span class="token operator">=</span><span class="token string">"wrap_content"</span>
        android:layout_marginLeft<span class="token operator">=</span><span class="token string">"@dimen/dp_60"</span>
        android:layout_marginTop<span class="token operator">=</span><span class="token string">"@dimen/dp_36"</span>
        android:layout_marginRight<span class="token operator">=</span><span class="token string">"@dimen/dp_60"</span>
        android:layout_marginBottom<span class="token operator">=</span><span class="token string">"@dimen/dp_50"</span>
        android:gravity<span class="token operator">=</span><span class="token string">"center"</span>
        android:textColor<span class="token operator">=</span><span class="token string">"@color/color_222222"</span>
        android:textSize<span class="token operator">=</span><span class="token string">"@dimen/dp_28"</span> /<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>View
        android:layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android:layout_height<span class="token operator">=</span><span class="token string">"@dimen/dp_1"</span>
        android:background<span class="token operator">=</span><span class="token string">"@color/color_E8E8E8"</span> /<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>LinearLayout
        android:layout_width<span class="token operator">=</span><span class="token string">"match_parent"</span>
        android:layout_height<span class="token operator">=</span><span class="token string">"@dimen/dp_92"</span>
        android:orientation<span class="token operator">=</span><span class="token string">"horizontal"</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span>--取消按钮--<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>TextView
            android:id<span class="token operator">=</span><span class="token string">"@+id/tv_cancel"</span>
            android:layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>
            android:layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
            android:layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
            android:gravity<span class="token operator">=</span><span class="token string">"center"</span>
            android:text<span class="token operator">=</span><span class="token string">"@string/tv_cancel"</span>
            android:textColor<span class="token operator">=</span><span class="token string">"@color/color_666666"</span>
            android:textSize<span class="token operator">=</span><span class="token string">"@dimen/dp_28"</span> /<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>View
            android:id<span class="token operator">=</span><span class="token string">"@+id/v_line"</span>
            android:layout_width<span class="token operator">=</span><span class="token string">"@dimen/dp_1"</span>
            android:layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
            android:background<span class="token operator">=</span><span class="token string">"@color/color_E8E8E8"</span> /<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span>--确认按钮--<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>TextView
            android:id<span class="token operator">=</span><span class="token string">"@+id/tv_ok"</span>
            android:layout_width<span class="token operator">=</span><span class="token string">"0dp"</span>
            android:layout_height<span class="token operator">=</span><span class="token string">"match_parent"</span>
            android:layout_weight<span class="token operator">=</span><span class="token string">"1"</span>
            android:gravity<span class="token operator">=</span><span class="token string">"center"</span>
            android:text<span class="token operator">=</span><span class="token string">"@string/tv_ok"</span>
            android:textColor<span class="token operator">=</span><span class="token string">"@color/color_00A1C1"</span>
            android:textSize<span class="token operator">=</span><span class="token string">"@dimen/dp_28"</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/LinearLayout<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>/LinearLayout<span class="token operator">&gt;</span>
</code></pre> 
<p>new_dialog_bg</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>shape xmlns:android<span class="token operator">=</span><span class="token string">"http://schemas.android.com/apk/res/android"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>-- 边框的宽度和颜色 --<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>stroke
        android:width<span class="token operator">=</span><span class="token string">"@dimen/dp_1"</span>
        android:color<span class="token operator">=</span><span class="token string">"#E8E8E8"</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>-- 圆角的半径 --<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>corners android:radius<span class="token operator">=</span><span class="token string">"@dimen/dp_12"</span> /<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span>-- 填充颜色 --<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>solid android:color<span class="token operator">=</span><span class="token string">"#FFFFFF"</span> /<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/shape<span class="token operator">&gt;</span>
</code></pre> 
<p><strong>2、代码实现</strong></p> 
<pre><code class="prism language-bash">public class MyDialog extends Dialog implements View.OnClickListener <span class="token punctuation">{<!-- --></span>
    private TextView tv_title<span class="token punctuation">;</span>
    private TextView tv_msg<span class="token punctuation">;</span>
    private TextView tv_cancel<span class="token punctuation">;</span>
    private TextView tv_ok<span class="token punctuation">;</span>
    private View v_line<span class="token punctuation">;</span>

    private OkOnClickListener okOnClickListener<span class="token punctuation">;</span>
    private CancelOnClickListener cancelOnClickListener<span class="token punctuation">;</span>

    public MyDialog<span class="token punctuation">(</span>@NonNull Context context<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        this<span class="token punctuation">(</span>context, R.style.BaseDialogStyle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    public MyDialog<span class="token punctuation">(</span>@NonNull Context context, int themeResId<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        super<span class="token punctuation">(</span>context, themeResId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        setContentView<span class="token punctuation">(</span>R.layout.dialog_alert<span class="token punctuation">)</span><span class="token punctuation">;</span>
        initView<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        initAction<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Override
    protected void onCreate<span class="token punctuation">(</span>Bundle savedInstanceState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        super.onCreate<span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span><span class="token punctuation">;</span>
        WindowManager m <span class="token operator">=</span> getWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>.getWindowManager<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Display d <span class="token operator">=</span> m.getDefaultDisplay<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        WindowManager.LayoutParams p <span class="token operator">=</span> getWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>.getAttributes<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p.width <span class="token operator">=</span> d.getWidth<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> //设置dialog的宽度为当前手机屏幕的宽度
        getWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>.setAttributes<span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    private void initView<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        tv_title <span class="token operator">=</span> findViewById<span class="token punctuation">(</span>R.id.tv_title<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tv_msg <span class="token operator">=</span> findViewById<span class="token punctuation">(</span>R.id.tv_msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tv_cancel <span class="token operator">=</span> findViewById<span class="token punctuation">(</span>R.id.tv_cancel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tv_ok <span class="token operator">=</span> findViewById<span class="token punctuation">(</span>R.id.tv_ok<span class="token punctuation">)</span><span class="token punctuation">;</span>
        v_line <span class="token operator">=</span> findViewById<span class="token punctuation">(</span>R.id.v_line<span class="token punctuation">)</span><span class="token punctuation">;</span>

        tv_ok.setOnClickListener<span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tv_cancel.setOnClickListener<span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    //默认设置ok和cancel按钮都不可见：这样可以代码动态设置只显示一个按钮或者两个按钮，使控件更加实用
    private void initAction<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        tv_cancel.setVisibility<span class="token punctuation">(</span>View.GONE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        tv_ok.setVisibility<span class="token punctuation">(</span>View.GONE<span class="token punctuation">)</span><span class="token punctuation">;</span>
        v_line.setVisibility<span class="token punctuation">(</span>View.GONE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

	//设置title
    public MyDialog setTitle<span class="token punctuation">(</span>String title<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>this.tv_title <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            this.tv_title.setText<span class="token punctuation">(</span>StringUtil.isEmpty<span class="token punctuation">(</span>title<span class="token punctuation">)</span> ? this.getContext<span class="token punctuation">(</span><span class="token punctuation">)</span>.getResources<span class="token punctuation">(</span><span class="token punctuation">)</span>.getString<span class="token punctuation">(</span>R.string.title<span class="token punctuation">)</span> <span class="token keyword">:</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> this<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    //设置msg
    public MyDialog setMessage<span class="token punctuation">(</span>String message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>this.tv_msg <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            this.tv_msg.setText<span class="token punctuation">(</span>StringUtil.isEmpty<span class="token punctuation">(</span>message<span class="token punctuation">)</span> ? <span class="token string">""</span> <span class="token keyword">:</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> this<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    //设置ok按钮点击事件
    public MyDialog setPositiveButton<span class="token punctuation">(</span>String okMsg, OkOnClickListener okOnClickListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>this.tv_ok <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            this.tv_ok.setVisibility<span class="token punctuation">(</span>View.VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            this.tv_ok.setText<span class="token punctuation">(</span>StringUtil.isEmpty<span class="token punctuation">(</span>okMsg<span class="token punctuation">)</span> ? this.getContext<span class="token punctuation">(</span><span class="token punctuation">)</span>.getResources<span class="token punctuation">(</span><span class="token punctuation">)</span>.getString<span class="token punctuation">(</span>R.string.tv_ok<span class="token punctuation">)</span> <span class="token keyword">:</span> okMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            this.okOnClickListener <span class="token operator">=</span> okOnClickListener<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> this<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    //设置cancel按钮点击事件
    public MyDialog setNegativeButton<span class="token punctuation">(</span>String cancelMsg, CancelOnClickListener cancelOnClickListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>this.tv_cancel <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            this.tv_cancel.setVisibility<span class="token punctuation">(</span>View.VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            this.v_line.setVisibility<span class="token punctuation">(</span>View.VISIBLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            this.tv_cancel.setText<span class="token punctuation">(</span>StringUtil.isEmpty<span class="token punctuation">(</span>cancelMsg<span class="token punctuation">)</span> ? this.getContext<span class="token punctuation">(</span><span class="token punctuation">)</span>.getResources<span class="token punctuation">(</span><span class="token punctuation">)</span>.getString<span class="token punctuation">(</span>R.string.tv_cancel<span class="token punctuation">)</span> <span class="token keyword">:</span> cancelMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>
            this.cancelOnClickListener <span class="token operator">=</span> cancelOnClickListener<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> this<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    @Override
    public void onClick<span class="token punctuation">(</span>View v<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        dismiss<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        int <span class="token function">id</span> <span class="token operator">=</span> v.getId<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">==</span> R.id.tv_ok<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>okOnClickListener <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                okOnClickListener.confirm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">==</span> R.id.tv_cancel<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cancelOnClickListener <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                cancelOnClickListener.cancel<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    public interface OkOnClickListener <span class="token punctuation">{<!-- --></span>
        void confirm<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    public interface CancelOnClickListener <span class="token punctuation">{<!-- --></span>
        void cancel<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> 
<p><strong>3、调用dialog</strong><br> 我们写一个工具类来调用，这样全局只需要调用工具类就ok了，不用每次都new一个dialog对象来调用。</p> 
<pre><code class="prism language-bash">//工具类
public class DialogHelper <span class="token punctuation">{<!-- --></span>

    /**
     * 单按钮dialog弹出框
     *
     * @param context           上下文
     * @param title             标题
     * @param msg               内容
     * @param cancelOutSide     是否可以点击dialog外部时关闭dialog
     * @param ok                确认按钮
     * @param okOnClickListener 确认回调
     */
    public static void showDialog<span class="token punctuation">(</span>Context context, String title, String msg, boolean cancelOutSide,
                                  String ok, MyDialog.OkOnClickListener okOnClickListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>

        showDialog<span class="token punctuation">(</span>context, title, msg, true, cancelOutSide, ok, okOnClickListener, <span class="token string">""</span>, null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    /**
     * 双按钮dialog弹出框
     *
     * @param context               上下文
     * @param title                 标题
     * @param msg                   内容
     * @param hideCancel            是否隐藏“取消”按钮
     * @param cancelOutSide         是否可以点击dialog外部时关闭dialog
     * @param ok                    确认按钮
     * @param okOnClickListener     确认回调
     * @param cancel                取消按钮
     * @param cancelOnClickListener 取消回调
     */
    public static void showDialog<span class="token punctuation">(</span>Context context, String title, String msg, boolean hideCancel, boolean cancelOutSide,
                                  String ok, MyDialog.OkOnClickListener okOnClickListener,
                                  String cancel, MyDialog.CancelOnClickListener cancelOnClickListener<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        MyDialog dialog <span class="token operator">=</span> new MyDialog<span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialog.setTitle<span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialog.setMessage<span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialog.setCanceledOnTouchOutside<span class="token punctuation">(</span>cancelOutSide<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialog.setCancelable<span class="token punctuation">(</span>cancelOutSide<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dialog.setPositiveButton<span class="token punctuation">(</span>ok, okOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hideCancel<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            dialog.setNegativeButton<span class="token punctuation">(</span>cancel, cancelOnClickListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        dialog.show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>4、最后附上自定义dialog的样式</strong></p> 
<p><img src="https://images2.imgbox.com/56/45/Xa4IDfjQ_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bff7a951b6cd7053c8faa1534e9c7377/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">启动、关闭 MySQL服务 bat命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/63033bbc7c8e23c629ea4ea831d775de/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言32个关键字-最详解释</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>