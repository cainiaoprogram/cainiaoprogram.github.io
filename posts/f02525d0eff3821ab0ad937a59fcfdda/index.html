<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>什么是ARP协议，都分为那些类型，各自的功能是？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="什么是ARP协议，都分为那些类型，各自的功能是？" />
<meta property="og:description" content="ARP协议：地址解析协议（正向、反向、无故、代理）
1、正向ARP：
当一台设备知道对方的IP地址，不知道对方的MAC 地址时，启动ARP，发送ARP Request请求广播包到其他主机，收到广播包的主机查看，只有该请求的设备才会单播回答ARP Reply响应包
ARP工作流程：三层往二层封装时，先要查询本机的ARP 表，如果有则封装二层，如果没有则启动ARP 来查找关于目标的 MAC，查找完成后记录在ARP 表中。
1）每个主机都会在自己的ARP缓存区中建立一个ARP列表，用来表示IP地址和MAC地址的对应关系
2）当原主机要发送数据时，首先检查ARP表中是否有对应的IP地址的目的主机的MAC地址，如果有，则直接转发数据，如果没有，就想本网段的所有主机发送ARP请求数据包（洪泛），该数据包内容包括：源主机IP地址、源主机MAC地址，目标主机的MAC地址
3）当本网络的所有主机收到了该ARP洪泛数据包时，首先检查数据包中的IP是否是自己，若不是，则忽略，若是，则把数据包的源主机的IP地址和MAC地址写入自己的ARP列表中，若存在则覆盖，后将自己的MAC地址写入ARP的响应包中，告诉源主机自己是他要找的MAC地址
2、反向/逆向ARP：
当一台设备知道对方的MAC地址，不知道对方的IP 地址时，启动ARP，发送ARP Request请求广播包到其他主机，收到广播包的主机查看，只有该请求的设备才会单播回答ARP Reply响应包
3、代理ARP：
1）为什么需要有代理ARP：一个网络范围的设备如果想和另一个网络范围的设备通信时，无法获得另一个网络范围设备的MAC，为什么？网络中的路由器挡住了广播包。需要找到网关，且要知道网关的IP，把数据传到网关才能到达目标，进而需要获得网关的MAC。路由器的一个重要功能就是把局域网广播包限制在该网内，不让扩散，否则会造成网络风暴。ARP request是广播包，它询问的对象若在同一个局域网内，就会回答。但如果不在同一个局域网内，就需要路由器提供一个服务：代理ARP
2）什么是代理ARP ：
路由器/三层接口收到ARP request时，若发现查询的目的IP地址在不同子网，路由器/三层接口会扮演代理ARP的角色，代为回答，告诉查询者它所查询的MAC地址
4、免费/无故ARP：
作用：公告自己，检测重复地址，在ARP报文中请求的IP地址为自己的IP地址
重复地址检测，清除主机ARP 缓存，通告数据链路链接标识" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f02525d0eff3821ab0ad937a59fcfdda/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-05T19:31:26+08:00" />
<meta property="article:modified_time" content="2019-05-05T19:31:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">什么是ARP协议，都分为那些类型，各自的功能是？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0cm;"><strong>ARP</strong><strong>协议：地址解析协议（正向、反向、无故、代理）</strong></p> 
<p><strong>1、正向</strong><strong>ARP</strong><strong>：</strong></p> 
<p style="margin-left:0cm;">当一台设备知道对方的IP地址，不知道对方的MAC 地址时，启动ARP，发送ARP Request请求广播包到其他主机，收到广播包的主机查看，只有该请求的设备才会单播回答ARP Reply响应包</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="378" src="https://images2.imgbox.com/c2/37/7AyeaNnE_o.png" width="546"></p> 
<p style="margin-left:0cm;">ARP工作流程：三层往二层封装时，先要查询本机的ARP 表，如果有则封装二层，如果没有则启动ARP 来查找关于目标的 MAC，查找完成后记录在ARP 表中。</p> 
<p style="margin-left:0cm;">1）每个主机都会在自己的ARP缓存区中建立一个ARP列表，用来表示IP地址和MAC地址的对应关系</p> 
<p style="margin-left:0cm;">2）当原主机要发送数据时，首先检查ARP表中是否有对应的IP地址的目的主机的MAC地址，如果有，则直接转发数据，如果没有，就想本网段的所有主机发送ARP请求数据包（洪泛），该数据包内容包括：源主机IP地址、源主机MAC地址，目标主机的MAC地址</p> 
<p style="margin-left:0cm;">3）当本网络的所有主机收到了该ARP洪泛数据包时，首先检查数据包中的IP是否是自己，若不是，则忽略，若是，则把数据包的源主机的IP地址和MAC地址写入自己的ARP列表中，若存在则覆盖，后将自己的MAC地址写入ARP的响应包中，告诉源主机自己是他要找的MAC地址</p> 
<p style="margin-left:0cm;"><strong>2</strong><strong>、反向</strong><strong>/</strong><strong>逆向</strong><strong>ARP</strong><strong>：</strong></p> 
<p style="margin-left:0cm;">当一台设备知道对方的MAC地址，不知道对方的IP 地址时，启动ARP，发送ARP Request请求广播包到其他主机，收到广播包的主机查看，只有该请求的设备才会单播回答ARP Reply响应包</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="356" src="https://images2.imgbox.com/d6/77/XtO4haNS_o.png" width="521"></p> 
<p style="margin-left:0cm;"><strong>3</strong><strong>、代理</strong><strong>ARP</strong><strong>：</strong></p> 
<p style="margin-left:0cm;">1）为什么需要有代理ARP：一个网络范围的设备如果想和另一个网络范围的设备通信时，无法获得另一个网络范围设备的MAC，为什么？网络中的路由器挡住了广播包。需要找到网关，且要知道网关的IP，把数据传到网关才能到达目标，进而需要获得网关的MAC。路由器的一个重要功能就是把局域网广播包限制在该网内，不让扩散，否则会造成网络风暴。ARP request是广播包，它询问的对象若在同一个局域网内，就会回答。但如果不在同一个局域网内，就需要路由器提供一个服务：代理ARP</p> 
<p style="margin-left:0cm;">2）什么是代理ARP ：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="334" src="https://images2.imgbox.com/77/9f/mvDrVniv_o.png" width="488"></p> 
<p style="margin-left:0cm;">路由器/三层接口收到ARP request时，若发现查询的目的IP地址在不同子网，路由器/三层接口会扮演代理ARP的角色，代为回答，告诉查询者它所查询的MAC地址</p> 
<p style="margin-left:0cm;"><strong>4</strong><strong>、免费</strong><strong>/</strong><strong>无故</strong><strong>ARP</strong><strong>：</strong></p> 
<p style="margin-left:0cm;">作用：公告自己，检测重复地址，在ARP报文中请求的IP地址为自己的IP地址</p> 
<p style="margin-left:0cm;">重复地址检测，清除主机ARP 缓存，通告数据链路链接标识</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="363" src="https://images2.imgbox.com/ef/da/1UxBwkfg_o.png" width="543"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7a77a65b5a870a18af5e9c6b6d71d71d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">连接宽带出现：调制解调器出现一个错误</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9df7a85b93b7aff8017d2d57c10e0aa0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">windows下比telnet服务更安全的有什么可以代替？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>