<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Mac安装Homebrew - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Mac安装Homebrew" />
<meta property="og:description" content="文章目录 一、简介二、官方脚本下载安装及配置环境变量三、GitHub加速3.1、Mac3.2、Windows 四、镜像脚本安装五、更换镜像源5.1、中科大5.2、清华5.3、腾讯5.4、北京外国语5.5、阿里 六、恢复默认源七、Homebrew常用命令 一、简介 Homebrew是一款包管理工具，目前支持macOS和Linux系统。主要有四个部分组成：brew、homebrew-core 、homebrew-cask、homebrew-bottles
名称说明brewHomebrew源代码仓库homebrew-coreHomebrew 核心源homebrew-cask提供 macOS 应用和大型二进制文件的安装homebrew-bottles预编译二进制软件包 二、官方脚本下载安装及配置环境变量 首先我们可以进入官网地址：https://brew.sh 获取下载链接，如下：
在安装完成后如果遇到command not found: brew的错误，一般是环境变量无效，这里则需要使用之前介绍使用过的echo $SHELL来确认终端类型，如下
以前每个新用户的默认shell是/bin/bash，那么这里我们需要配置文件为~/.bash_profile，从macOS Catalina(10.15.x) 版开始，Mac使用/bin/zsh作为默认Shell，其对应的配置文件为~/.zshrc
另外我们还需确定下我们电脑CPU的型号，这里可以通过uname -m来查看，如下
M1芯片ARM版Homebrew最终会被安装在/opt/homebrew路径下，而之前Intel芯片的Mac则会被安装到/usr/local/Homebrew路径下。
所以综上所述，我们在配置Homebrew环境变量的时候，需要结合不同的情况来进行相应的配置，如下：
M1芯片
zshecho &#39;eval &#34;$(/opt/homebrew/bin/brew shellenv)&#34;&#39; &gt;&gt; ~/.zprofile eval &#34;$(/opt/homebrew/bin/brew shellenv)&#34; bashecho &#39;eval &#34;$(/opt/homebrew/bin/brew shellenv)&#34;&#39; &gt;&gt; ~/.bash_profile eval &#34;$(/opt/homebrew/bin/brew shellenv)&#34; Intel芯片
zshecho &#39;eval &#34;$(/usr/local/Homebrew/bin/brew shellenv)&#34;&#39; &gt;&gt; ~/.zprofile eval &#34;$(/usr/local/Homebrew/bin/brew shellenv)&#34; bashecho &#39;eval &#34;$(/usr/local/Homebrew/bin/brew shellenv)&#34;&#39; &gt;&gt; ~/.bash_profile eval &#34;$(/usr/local/Homebrew/bin/brew shellenv)&#34; 三、GitHub加速 在使用官方脚本进行下载安装时，经常会遇到下面的错误提示：
curl: (7) Failed to connect to raw." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7cc385a56f0c79841651a63e74ae5f57/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-12T16:55:00+08:00" />
<meta property="article:modified_time" content="2022-02-12T16:55:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Mac安装Homebrew</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_2" rel="nofollow">一、简介</a></li><li><a href="#_13" rel="nofollow">二、官方脚本下载安装及配置环境变量</a></li><li><a href="#GitHub_55" rel="nofollow">三、GitHub加速</a></li><li><ul><li><a href="#31Mac_61" rel="nofollow">3.1、Mac</a></li><li><a href="#32Windows_73" rel="nofollow">3.2、Windows</a></li></ul> 
  </li><li><a href="#_82" rel="nofollow">四、镜像脚本安装</a></li><li><a href="#_179" rel="nofollow">五、更换镜像源</a></li><li><ul><li><a href="#51_182" rel="nofollow">5.1、中科大</a></li><li><a href="#52_212" rel="nofollow">5.2、清华</a></li><li><a href="#53_236" rel="nofollow">5.3、腾讯</a></li><li><a href="#54_260" rel="nofollow">5.4、北京外国语</a></li><li><a href="#55_284" rel="nofollow">5.5、阿里</a></li></ul> 
  </li><li><a href="#_308" rel="nofollow">六、恢复默认源</a></li><li><a href="#Homebrew_324" rel="nofollow">七、Homebrew常用命令</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>一、简介</h2> 
<p>Homebrew是一款包管理工具，目前支持macOS和Linux系统。主要有四个部分组成：brew、homebrew-core 、homebrew-cask、homebrew-bottles</p> 
<table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td><strong>brew</strong></td><td>Homebrew源代码仓库</td></tr><tr><td><strong>homebrew-core</strong></td><td>Homebrew 核心源</td></tr><tr><td><strong>homebrew-cask</strong></td><td>提供 macOS 应用和大型二进制文件的安装</td></tr><tr><td><strong>homebrew-bottles</strong></td><td>预编译二进制软件包</td></tr></tbody></table> 
<br> 
<h2><a id="_13"></a>二、官方脚本下载安装及配置环境变量</h2> 
<p>首先我们可以进入官网地址：<a href="https://brew.sh" rel="nofollow">https://brew.sh</a> 获取下载链接，如下：<br> <img src="https://images2.imgbox.com/c0/76/gsqu3vh1_o.png" alt="在这里插入图片描述" width="700"><br> 在安装完成后如果遇到<strong>command not found: brew</strong>的错误，一般是环境变量无效，这里则需要使用之前介绍使用过的<code>echo $SHELL</code>来确认终端类型，如下<br> <img src="https://images2.imgbox.com/95/d0/4tt1pat8_o.png" alt="在这里插入图片描述" width="500"><br> 以前每个新用户的默认shell是<code>/bin/bash</code>，那么这里我们需要配置文件为<code>~/.bash_profile</code>，从macOS Catalina(10.15.x) 版开始，Mac使用<code>/bin/zsh</code>作为默认Shell，其对应的配置文件为<code>~/.zshrc</code></p> 
<br> 
<p>另外我们还需确定下我们电脑CPU的型号，这里可以通过<code>uname -m</code>来查看，如下<br> <img src="https://images2.imgbox.com/3f/e5/L2FbxduI_o.png" alt="在这里插入图片描述" width="500"><br> M1芯片ARM版Homebrew最终会被安装在<code>/opt/homebrew</code>路径下，而之前Intel芯片的Mac则会被安装到<code>/usr/local/Homebrew</code>路径下。</p> 
<br> 
<p>所以综上所述，我们在配置Homebrew环境变量的时候，需要结合不同的情况来进行相应的配置，如下：</p> 
<ul><li> <p><strong>M1芯片</strong></p> 
  <ul><li>zsh<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token string">'eval "<span class="token variable"><span class="token variable">$(</span>/opt/homebrew/bin/brew shellenv<span class="token variable">)</span></span>"'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>/opt/homebrew/bin/brew shellenv<span class="token variable">)</span></span>"</span>
</code></pre> </li><li>bash<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token string">'eval "<span class="token variable"><span class="token variable">$(</span>/opt/homebrew/bin/brew shellenv<span class="token variable">)</span></span>"'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>/opt/homebrew/bin/brew shellenv<span class="token variable">)</span></span>"</span>
</code></pre> </li></ul> </li><li> <p><strong>Intel芯片</strong></p> 
  <ul><li>zsh<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token string">'eval "<span class="token variable"><span class="token variable">$(</span>/usr/local/Homebrew/bin/brew shellenv<span class="token variable">)</span></span>"'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>/usr/local/Homebrew/bin/brew shellenv<span class="token variable">)</span></span>"</span>
</code></pre> </li><li>bash<pre><code class="prism language-shell"><span class="token builtin class-name">echo</span> <span class="token string">'eval "<span class="token variable"><span class="token variable">$(</span>/usr/local/Homebrew/bin/brew shellenv<span class="token variable">)</span></span>"'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">eval</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>/usr/local/Homebrew/bin/brew shellenv<span class="token variable">)</span></span>"</span>
</code></pre> </li></ul> </li></ul> 
<br> 
<h2><a id="GitHub_55"></a>三、GitHub加速</h2> 
<p>在使用官方脚本进行下载安装时，经常会遇到下面的错误提示：</p> 
<blockquote> 
 <p>curl: (7) Failed to connect to raw.githubusercontent.com port 443: Operation timed out</p> 
</blockquote> 
<p>因为官方脚本无法使用的原因是<code>raw.githubusercontent.com</code>访问很不稳定，这里我们可以采用写入hosts的方式，可以一定程度解决GitHub资源无法访问的问题。</p> 
<h3><a id="31Mac_61"></a>3.1、Mac</h3> 
<p>这里我们可以打开<code>/etc/hosts</code>文件，在其中添加相关配置即可，具体操作可参考：</p> 
<ul><li>主站：<a href="https://github.com/ineo6/hosts">https://github.com/ineo6/hosts</a></li><li>镜像地址：<a href="https://gitee.com/ineo6/hosts" rel="nofollow">https://gitee.com/ineo6/hosts</a></li></ul> 
<br> 
<p>最后我们需要刷新缓存，如下</p> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">killall</span> -HUP mDNSResponder
</code></pre> 
<h3><a id="32Windows_73"></a>3.2、Windows</h3> 
<p>另外如果是Windows环境，同理我们将上述文章中内容追加到<code>C:/windows/system32/drivers/etc/hosts</code>文件中，刷新缓存即可。</p> 
<pre><code class="prism language-shell">ipconfig /flushdns
</code></pre> 
<p><font color="#999AAA">PS：如果觉得需要自己定时去上述hosts文件中的内容太过于麻烦的话，这里推荐可使用通过<code>SwitchHosts</code>来自动更新，操作很简单，支持跨平台，添加一条hosts规则并启用，然后就可以按设置的时间间隔自动与最新的hosts保持同步了。</font></p> 
<br> 
<h2><a id="_82"></a>四、镜像脚本安装</h2> 
<p>如果通过官方提供的方式无法成功安装，这里推荐使用Homebrew的镜像脚本来进行安装，这里比较推荐两个，首先是如下脚本：</p> 
<pre><code class="prism language-shell">/bin/bash -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/install.sh<span class="token variable">)</span></span>"</span>
</code></pre> 
<p>该脚本用了中科大镜像加速访问，仅修改仓库地址部分，不会产生安全隐患。</p> 
<ul><li>关于中科大所提供的Homebrew镜像服务 
  <ul><li><a href="https://mirrors.ustc.edu.cn/help/brew.git.html?highlight=homebrew" rel="nofollow">https://mirrors.ustc.edu.cn/help/brew.git.html?highlight=homebrew</a></li><li><a href="https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git/" rel="nofollow">https://lug.ustc.edu.cn/wiki/mirrors/help/brew.git/</a></li></ul> </li><li>关于清华所提供的Homebrew镜像服务 
  <ul><li><a href="https://mirror.tuna.tsinghua.edu.cn/help/homebrew/" rel="nofollow">https://mirror.tuna.tsinghua.edu.cn/help/homebrew/</a></li></ul> </li></ul> 
<br> 
<p>若出现<strong>Error: Checksum mismatch.</strong> 错误，报错代码如下</p> 
<blockquote> 
 <p>curl: (56) LibreSSL SSL_read: SSL_ERROR_SYSCALL, errno 54<br> Error: Checksum mismatch.<br> Expected: b065e5e3783954f3e65d8d3a6377ca51649bfcfa21b356b0dd70490f74c6bd86<br> Actual: e8a348fe5d5c2b966bab84052062f0317944122dea5fdfdc84ac6d0bd513c137<br> Archive: /Users/rocky/Library/Caches/Homebrew/portable-ruby-2.6.3_2.yosemite.bottle.tar.gz<br> To retry an incomplete download, remove the file above.<br> Error: Failed to install Homebrew Portable Ruby (and your system version is too old)!<br> Failed during: /usr/local/bin/brew update --force</p> 
</blockquote> 
<p>这里是由于Homebrew目录下的<em>portable-ruby-2.6.3_2.yosemite.bottle.tar.gz</em>文件引起的安装中断，只需要到上面对应的路径里，删掉这个文件，重新执行安装命令即可。</p> 
<br> 
<p>如果上述命令执行卡在如下信息处</p> 
<blockquote> 
 <p>==&gt; Tapping homebrew/core<br> Cloning into ‘/opt/homebrew/Library/Taps/homebrew/homebrew-core’…</p> 
</blockquote> 
<p>请<code>Control+C</code>中断脚本执行如下命令：</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>/Library/Taps/"</span>
<span class="token function">mkdir</span> homebrew <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> homebrew
<span class="token function">git</span> clone git://mirrors.ustc.edu.cn/homebrew-core.git
</code></pre> 
<p>安装cask 同样也有安装失败或者卡住的问题，解决方法也是一样：</p> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>/Library/Taps/"</span>
<span class="token builtin class-name">cd</span> homebrew
<span class="token function">git</span> clone https://mirrors.ustc.edu.cn/homebrew-cask.git
</code></pre> 
<p>成功执行之后继续执行安装命令，最后看到如何命令就说明安装成功了</p> 
<blockquote> 
 <p>==&gt; Installation successful!</p> 
</blockquote> 
<p>最后使用下面的命令进行更新即可</p> 
<pre><code class="prism language-shell">brew update
</code></pre> 
<br> 
<p>如果遇到解决不了的问题，先卸载Homebrew再重新安装，官方提供的卸载脚本如下：</p> 
<pre><code class="prism language-shell">/bin/bash -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/uninstall.sh<span class="token variable">)</span></span>"</span>
</code></pre> 
<p>当然使用官方脚本同样会遇到uninstall地址无法访问问题，那么就可以使用下面脚本：</p> 
<pre><code class="prism language-shell">/bin/bash -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://cdn.jsdelivr.net/gh/ineo6/homebrew-install/uninstall.sh<span class="token variable">)</span></span>"</span>
</code></pre> 
<p>这里删除不仅可以通过脚本进行卸载删除，还可以在文件夹中进行删除，如下</p> 
<pre><code class="prism language-shell"><span class="token comment"># 目录替换为真实的brew位置</span>
<span class="token function">sudo</span> <span class="token function">rm</span> -rf 目录
</code></pre> 
<p>另外在Mac电脑的终端中，还可以执行<code>open /opt/homebrew/</code>打开文件夹界面进行删除。</p> 
<p><font color="#999AAA">PS：各个环境下Homebrew的安装路径：<br>   Intel安装目录： <code>/usr/local/Homebrew</code><br>   m1 arm安装目录： <code>/opt/homebrew</code><br>   linux安装目录：<code>/home/linuxbrew</code></font></p> 
<br> 
<hr> 
<br> 
<p>第二种方法就更加的简便了，我们只需要把下面的脚本内容复制到终端执行即可</p> 
<pre><code class="prism language-shell">/bin/zsh -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh<span class="token variable">)</span></span>"</span>
</code></pre> 
<p>然后根据终端中出现的提示进行选择即可，如果后续需要卸载也是比较方便的，如下：</p> 
<pre><code class="prism language-shell">/bin/zsh -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh<span class="token variable">)</span></span>"</span>
</code></pre> 
<br> 
<h2><a id="_179"></a>五、更换镜像源</h2> 
<p>上述介绍到，Homebrew通常用来下载安装软件的，但它在下载软件时非常慢。为了提升下载速度，需要更改Homebrew的安装源，将其替换成国内镜像。</p> 
<h3><a id="51_182"></a>5.1、中科大</h3> 
<p>这里用由中科大负责托管维护的Homebrew镜像为例。其中brew、homebrew-core是必备项目，homebrew-cask、homebrew-bottles按需设置。可通过 brew config 命令可以查看相关配置信息。</p> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git

brew update
</code></pre> 
<br> 
<p>另外如需设置bottles镜像，还需要配置环境变量，这里配置文件的判断上面已经介绍过来，这里就不再赘述了，按照不同的情况选择下面的其中一种配置即可。</p> 
<pre><code class="prism language-shell"><span class="token comment"># zsh</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">source</span> ~/.zprofile

<span class="token comment"># bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">source</span> ~/.bash_profile
</code></pre> 
<p>除了中科大的镜像源外，我们还可以使用其他的镜像源进行配置，如下：</p> 
<br> 
<h3><a id="52_212"></a>5.2、清华</h3> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git

brew update
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment"># zsh</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">source</span> ~/.zprofile

<span class="token comment"># bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">source</span> ~/.bash_profile
</code></pre> 
<br> 
<h3><a id="53_236"></a>5.3、腾讯</h3> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.cloud.tencent.com/homebrew/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.cloud.tencent.com/homebrew/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.cloud.tencent.com/homebrew/homebrew-cask.git

brew update
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment"># zsh</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.cloud.tencent.com/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">source</span> ~/.zprofile

<span class="token comment"># bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.cloud.tencent.com/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">source</span> ~/.bash_profile
</code></pre> 
<br> 
<h3><a id="54_260"></a>5.4、北京外国语</h3> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.bfsu.edu.cn/git/homebrew/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.bfsu.edu.cn/git/homebrew/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.bfsu.edu.cn/git/homebrew/homebrew-cask.git

brew update
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment"># zsh</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.bfsu.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">source</span> ~/.zprofile

<span class="token comment"># bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.bfsu.edu.cn/homebrew-bottles/bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">source</span> ~/.bash_profile
</code></pre> 
<br> 
<h3><a id="55_284"></a>5.5、阿里</h3> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token comment"># 缺少</span>

brew update
</code></pre> 
<pre><code class="prism language-shell"><span class="token comment"># zsh</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.zprofile
<span class="token builtin class-name">source</span> ~/.zprofile

<span class="token comment"># bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span class="token operator">&gt;&gt;</span> ~/.bash_profile
<span class="token builtin class-name">source</span> ~/.bash_profile
</code></pre> 
<br> 
<h2><a id="_308"></a>六、恢复默认源</h2> 
<p>如果我们想要恢复Homebrew的默认镜像源也是非常的简单，其中brew、homebrew-core、homebrew-cask可通过执行如下脚本命令进行恢复</p> 
<pre><code class="prism language-shell"><span class="token comment"># brew</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/brew.git
<span class="token comment"># homebrew-core</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git
<span class="token comment"># homebrew-cask</span>
<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/homebrew-cask.git

brew update
</code></pre> 
<p>其中homebrew-bottles配置只能手动删除，将<code>~/.zprofile</code>文件中的<code>HOMEBREW_BOTTLE_DOMAIN=https://mirrors.xxx.com</code>内容删除，并执行<code>source ~/.zprofile</code>即可</p> 
<br> 
<h2><a id="Homebrew_324"></a>七、Homebrew常用命令</h2> 
<ul><li> <p>查看版本</p> <pre><code class="prism language-shell">brew -v
</code></pre> </li><li> <p>更新Homebrew</p> <pre><code class="prism language-shell">brew update
</code></pre> </li><li> <p>查看安装列表</p> <pre><code class="prism language-shell">brew list
</code></pre> </li><li> <p>搜索、安装、更新、卸载软件，以git为例</p> <pre><code class="prism language-shell"><span class="token comment"># 搜索软件</span>
brew search <span class="token function">git</span>
​
<span class="token comment"># 安装软件</span>
brew <span class="token function">install</span> <span class="token function">git</span>
​
<span class="token comment"># 更新软件</span>
brew upgrade <span class="token function">git</span>
​
<span class="token comment"># 卸载软件</span>
brew uninstall <span class="token function">git</span>
</code></pre> </li><li> <p>查看需要更新的软件</p> <pre><code class="prism language-shell">brew outdated
</code></pre> </li><li> <p>清理旧版本</p> <pre><code class="prism language-shell"><span class="token comment"># 查看可清理的旧版本包，不执行实际操作</span>
brew cleanup -n
​
<span class="token comment"># 清理所有包的旧版本</span>
brew cleanup
​
<span class="token comment"># 清理指定包的旧版本</span>
brew cleanup <span class="token function">git</span>
</code></pre> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/960a86404bcf1e701eb57e9c489ffd3b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">组卷积（group Conv）与深度可分离卷积（depthwise）简介</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7770ecaab9a907fdba36698764aeb30f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Spring源码之AOP源码解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>