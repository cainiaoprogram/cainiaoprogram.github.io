<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Go基础笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Go基础笔记" />
<meta property="og:description" content="Go Linux下安装Go开发包 首先找到Go官网https://golang.google.cn/dl/
对于386的是32位OS的，所以针对自己的OS选择合适的安装包
选择安装目录通过cd命令切换到自己安装的目录
[root@bogon ~]# cd /usr/local/ [root@bogon local]# ll total 0 drwxr-xr-x. 2 root root 6 Apr 11 2018 bin drwxr-xr-x. 2 root root 6 Apr 11 2018 etc drwxr-xr-x. 2 root root 6 Apr 11 2018 games drwxr-xr-x. 2 root root 6 Apr 11 2018 include drwxr-xr-x. 2 root root 6 Apr 11 2018 lib drwxr-xr-x. 2 root root 6 Apr 11 2018 lib64 drwxr-xr-x. 2 root root 6 Apr 11 2018 libexec drwxr-xr-x." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3c8fcbef3888ff9fec675a9820ec23e0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-12T09:38:00+08:00" />
<meta property="article:modified_time" content="2023-10-12T09:38:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Go基础笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Go_0"></a>Go</h2> 
<h3><a id="LinuxGo_2"></a>Linux下安装Go开发包</h3> 
<ol><li> <p>首先找到Go官网https://golang.google.cn/dl/</p> <p><img src="https://images2.imgbox.com/14/ae/KlAUak4d_o.png" alt="在这里插入图片描述"></p> <p>对于386的是32位OS的，所以针对自己的OS选择合适的安装包</p> </li><li> <p>选择安装目录通过cd命令切换到自己安装的目录</p> <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@bogon ~<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/</span>
<span class="token punctuation">[</span>root@bogon local<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> bin
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> etc
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> games
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> include
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> lib
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> lib64
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> libexec
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> sbin
drwxr-xr-x. <span class="token number">5</span> root root <span class="token number">49</span> Nov  <span class="token number">8</span> <span class="token number">21</span>:09 share
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> src

</code></pre> </li><li> <p>使用wget下载开发包</p> <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@bogon local<span class="token punctuation">]</span><span class="token comment"># wget https://dl.google.com/go/go1.20.2.linux-amd64.tar.gz</span>
--2023-03-23 <span class="token number">10</span>:06:46--  https://dl.google.com/go/go1.20.2.linux-amd64.tar.gz
Resolving dl.google.com <span class="token punctuation">(</span>dl.google.com<span class="token punctuation">)</span><span class="token punctuation">..</span>. <span class="token number">58.254</span>.149.161
Connecting to dl.google.com <span class="token punctuation">(</span>dl.google.com<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">58.254</span>.149.161<span class="token operator">|</span>:443<span class="token punctuation">..</span>. connected.
HTTP request sent, awaiting response<span class="token punctuation">..</span>. <span class="token number">200</span> OK
Length: <span class="token number">100107955</span> <span class="token punctuation">(</span>95M<span class="token punctuation">)</span> <span class="token punctuation">[</span>application/x-gzip<span class="token punctuation">]</span>
Saving to: ‘go1.20.2.linux-amd64.tar.gz’

<span class="token number">100</span>%<span class="token punctuation">[</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token number">100,107</span>,955 <span class="token number">1</span>.40MB/s   <span class="token keyword">in</span> 54s    

<span class="token number">2023</span>-03-23 <span class="token number">10</span>:07:41 <span class="token punctuation">(</span><span class="token number">1.77</span> MB/s<span class="token punctuation">)</span> - ‘go1.20.2.linux-amd64.tar.gz’ saved <span class="token punctuation">[</span><span class="token number">100107955</span>/100107955<span class="token punctuation">]</span>

</code></pre> </li><li> <p>通过tar命令对下载的包进行解压</p> <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@bogon local<span class="token punctuation">]</span><span class="token comment"># tar -xzf go1.20.2.linux-amd64.tar.gz </span>
<span class="token punctuation">[</span>root@bogon local<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">97764</span>
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> bin
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> etc
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> games
drwxr-xr-x. <span class="token number">10</span> root root       <span class="token number">222</span> Mar  <span class="token number">4</span> 02:22 go
-rw-r--r--.  <span class="token number">1</span> root root <span class="token number">100107955</span> Mar  <span class="token number">8</span> 00:48 go1.20.2.linux-amd64.tar.gz
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> include
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> lib
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> lib64
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> libexec
drwxr-xr-x.  <span class="token number">2</span> root root         <span class="token number">6</span> Apr <span class="token number">11</span>  <span class="token number">2018</span> sbin
drwxr-xr-x.  <span class="token number">5</span> root root        <span class="token number">49</span> Nov  <span class="token number">8</span> <span class="token number">21</span>:09 share

</code></pre> </li><li> <p>使用<code>cd </code>命令进入该目录，然后执行<code>bin/go version </code>命令就可以查看当前Go语言的版本了。</p> <pre><code class="prism language-shell"><span class="token punctuation">[</span>root@bogon local<span class="token punctuation">]</span><span class="token comment"># cd go/</span>
<span class="token punctuation">[</span>root@bogon go<span class="token punctuation">]</span><span class="token comment"># ll</span>
total <span class="token number">52</span>
drwxr-xr-x.  <span class="token number">2</span> root root  <span class="token number">4096</span> Mar  <span class="token number">4</span> 02:21 api
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">29</span> Mar  <span class="token number">4</span> 02:22 bin
-rw-r--r--.  <span class="token number">1</span> root root    <span class="token number">52</span> Mar  <span class="token number">4</span> 02:19 codereview.cfg
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">1339</span> Mar  <span class="token number">4</span> 02:19 CONTRIBUTING.md
drwxr-xr-x.  <span class="token number">2</span> root root   <span class="token number">104</span> Mar  <span class="token number">4</span> 02:21 doc
drwxr-xr-x.  <span class="token number">3</span> root root    <span class="token number">18</span> Mar  <span class="token number">4</span> 02:21 lib
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">1479</span> Mar  <span class="token number">4</span> 02:19 LICENSE
drwxr-xr-x. <span class="token number">11</span> root root   <span class="token number">152</span> Mar  <span class="token number">4</span> 02:21 misc
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">1303</span> Mar  <span class="token number">4</span> 02:19 PATENTS
drwxr-xr-x.  <span class="token number">4</span> root root    <span class="token number">33</span> Mar  <span class="token number">4</span> 02:22 pkg
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">1455</span> Mar  <span class="token number">4</span> 02:19 README.md
-rw-r--r--.  <span class="token number">1</span> root root   <span class="token number">419</span> Mar  <span class="token number">4</span> 02:19 SECURITY.md
drwxr-xr-x. <span class="token number">49</span> root root  <span class="token number">4096</span> Mar  <span class="token number">4</span> 02:21 src
drwxr-xr-x. <span class="token number">26</span> root root <span class="token number">12288</span> Mar  <span class="token number">4</span> 02:21 <span class="token builtin class-name">test</span>
-rw-r--r--.  <span class="token number">1</span> root root     <span class="token number">8</span> Mar  <span class="token number">4</span> 02:19 VERSION
<span class="token punctuation">[</span>root@bogon go<span class="token punctuation">]</span><span class="token comment"># bin/go version</span>
go version go1.20.2 linux/amd64

</code></pre> </li><li> <p>配置环境变量</p> <pre><code class="prism language-SHELL">#在此需要配置两个环境变量GOROOT和PATH
GOROOT 的值应该为Go语言的当前安装目录：export GOROOT=/usr/local/go
PATH 为了方便使用Go语言命令和 Go 程序的可执行文件，需要追加其值：export PATH=$PATH:$GOROOT/bin:$GOBIN

#将变量添加到profile文件中
[root@bogon go]# vim /etc/profile
将下面两行代码，加入到文件末尾
export GOROOT=/usr/local/go
export PATH=$PATH:$GOROOT/bin
之后   ：wq 保存并退出
#在使用source命令是配置文件生效
[root@bogon go]# source /etc/profile

##最后使用  go env命令若出现如下内容则安装成功
[root@bogon go]# go env
GO111MODULE=""
GOARCH="amd64"
GOBIN=""
GOCACHE="/root/.cache/go-build"
GOENV="/root/.config/go/env"
GOEXE=""
GOEXPERIMENT=""
GOFLAGS=""
GOHOSTARCH="amd64"
GOHOSTOS="linux"
GOINSECURE=""
GOMODCACHE="/root/go/pkg/mod"
GONOPROXY=""
GONOSUMDB=""
GOOS="linux"
GOPATH="/root/go"
GOPRIVATE=""
GOPROXY="https://proxy.golang.org,direct"
GOROOT="/usr/local/go"
GOSUMDB="sum.golang.org"
GOTMPDIR=""
GOTOOLDIR="/usr/local/go/pkg/tool/linux_amd64"
GOVCS=""
GOVERSION="go1.20.2"
GCCGO="gccgo"
GOAMD64="v1"
AR="ar"
CC="gcc"
CXX="g++"
CGO_ENABLED="1"
GOMOD="/dev/null"
GOWORK=""
CGO_CFLAGS="-O2 -g"
CGO_CPPFLAGS=""
CGO_CXXFLAGS="-O2 -g"
CGO_FFLAGS="-O2 -g"
CGO_LDFLAGS="-O2 -g"
PKG_CONFIG="pkg-config"
GOGCCFLAGS="-fPIC -m64 -pthread -Wl,--no-gc-sections -fmessage-length=0 -fdebug-prefix-map=/tmp/go-build1836596645=/tmp/go-build -gno-record-gcc-switches"
</code></pre> </li></ol> 
<p>Go语言的并发是基于 goroutine 的，goroutine 类似于线程，但并非线程。可以将 goroutine 理解为一种虚拟线程。Go语言运行时会参与调度 goroutine，并将 goroutine 合理地分配到每个 CPU 中，最大限度地使用 CPU 性能。</p> 
<p>多个 goroutine 中，Go语言使用通道（channel）进行通信，通道是一种内置的数据结构，可以让用户在不同的 goroutine 之间同步发送具有类型的消息。这让编程模型更倾向于在 goroutine 之间发送消息，而不是让多个 goroutine 争夺同一个数据的使用权。<br> <img src="https://images2.imgbox.com/1d/7d/Fs61dhkM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Hello_world_159"></a>Hello world</h4> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main   \\ 声明文件属于main包

<span class="token keyword">import</span> <span class="token string">"fmt"</span>    \\ 导入fmt其是<span class="token keyword">go</span>中的一个的一个标准输入输出的库

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><strong>通过go build先编译后go run和直接go run的区别</strong></p> 
<ul><li>如果我们先编译生成了可执行的exe文件，那么我们可以将该可执行文件拷贝到其他没有go开发环境的机器上，仍然可以运行</li><li>直接使用go run运行，该机器上必须有go的开发环境</li><li>在编译时，编译器会将程序运行以来的库文件包含在可执行文件中，所以可执行文件会变大很多</li></ul> 
<h4><a id="Go_178"></a>Go开发注意事项</h4> 
<ol><li>Go的源文件是一“go”为扩展名的</li><li>Go应用程序的执行入口是main()函数</li><li>Go语言严格区分大小写</li><li>Go方法是由一条条语句后塍，每个语句后不需要添加; 系统后自己加</li><li>在Go中定义的变量和import的包如果没有使用，代码不能通过编辑</li></ol> 
<p>转义字符</p> 
<pre><code class="prism language-go">\\			   一个 \
\t			   制表符
\n			   换行
\r		       直接替换掉前面相应位数的字符
</code></pre> 
<h4><a id="Go_195"></a>Go的注释</h4> 
<p>同java</p> 
<h3><a id="_199"></a>命名规范</h3> 
<p>命名规则涉及变量、常量、全局函数、结构、接口、方法等的命名。</p> 
<p>Go语言从语法层面进行了以下限定:</p> 
<ul><li> <p>任何需要对外暴露的名字必须以大写字母开头，不需要对外暴露的则应该以小写字母开头。</p> </li><li> <p>当命名(包括常量、变量、类型、函数名、结构字段等等)以一个大写字母开头，如: GetuserName ，那么使用这种形式的标识符的对象就</p> <p>可以被 外部包的代码所使用(客户端程序需要先导入这个包)，这被称为导出(像面句对象语言中的 public );</p> </li><li> <p>命名如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的 (像面向对象语言中的 private )</p> </li></ul> 
<h3><a id="Go_213"></a>Go的关键字</h3> 
<p><img src="https://images2.imgbox.com/de/58/q6aoetBp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="1Go_215"></a>1.Go的变量使用</h3> 
<ol><li> <p>指定变量的数据类型，但不赋值，使用默认值</p> <pre><code class="prism language-Go">package main

import "fmt"

func main() {
	// 只声明变量，不赋值
	var i int
	fmt.Println("i=", i)
}
</code></pre> </li><li> <p>根据值自行判断数据的类型(类型推导)</p> <pre><code class="prism language-Go">package main

import "fmt"

func main() {
	//类型推导
	var d = true
	fmt.Println(d)
}
</code></pre> </li><li> <p>使用 :=的方式，但此时的变量不能是声明过的，否则会报错<br> <img src="https://images2.imgbox.com/91/c7/c6bOjpXb_o.png" alt="在这里插入图片描述"></p> <pre><code class="prism language-Go">package main

import "fmt"

func main() {
	name := "tom"  // 相当于 var name string = "tom"
    fmt.Println(name)
}
</code></pre> </li><li> <p>一次声明多个变量</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">//多个变量为同种数据类型</span>
	<span class="token keyword">var</span> n1<span class="token punctuation">,</span>n2<span class="token punctuation">,</span>n3 <span class="token builtin">int</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">" n1="</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">,</span>
		<span class="token string">"n2="</span><span class="token punctuation">,</span> n2<span class="token punctuation">,</span> <span class="token string">"\n"</span><span class="token punctuation">,</span>
		<span class="token string">"n3="</span><span class="token punctuation">,</span> n3<span class="token punctuation">)</span>
    <span class="token comment">//多个变量为不同种数据类型</span>
    <span class="token keyword">var</span> name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>local <span class="token operator">=</span> <span class="token string">"tom"</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token boolean">false</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"name="</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span><span class="token string">"age="</span><span class="token punctuation">,</span>age<span class="token punctuation">,</span><span class="token string">"local="</span><span class="token punctuation">,</span>local<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>声明全局变量</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>

<span class="token keyword">var</span> <span class="token punctuation">(</span>
	name2 <span class="token operator">=</span> <span class="token string">"21"</span>
	age2 <span class="token operator">=</span> <span class="token number">12</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>

<span class="token punctuation">}</span>
</code></pre> </li></ol> 
<p>读取变量的大小，可以使用unsafe包中地Sizeof方法</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"unsafe"</span>
<span class="token punctuation">)</span>

<span class="token comment">// 查看当前变量占用的字节数   unsafe.Sizeof(变量名)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	c <span class="token operator">:=</span> <span class="token string">"a"</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"c的类型是  %T"</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_312"></a>全局变量和局部变量区别</h4> 
<ol><li>定义位置不同，局部变量在函数内，全局变量在包下，函数外</li><li>存活时间不同，局部变量随函数的执行结束而销毁，全局变量随main函数存活</li><li>作用域不同。</li></ol> 
<p><strong>在Go中字符串有所不同，其是由字节组成的</strong></p> 
<h4><a id="_320"></a>匿名变量</h4> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	s <span class="token operator">:=</span> user<span class="token punctuation">.</span><span class="token function">Hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"s: %v"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>

	<span class="token boolean">_</span><span class="token punctuation">,</span> age <span class="token operator">:=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"age: %v\n"</span><span class="token punctuation">,</span> age<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_333"></a>常量</h4> 
<p>const 常量名 数据类型 = value</p> 
<p>一次性定义多个常量</p> 
<pre><code class="prism language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
	a1 <span class="token operator">=</span> <span class="token number">100</span>
	a2
	a3
<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="iota_347"></a>iota</h5> 
<p>iota在关键字const出现时被重置为0，const中每增加一行常量声明将使iota加一</p> 
<p>举例：<br> 1.跳过某些值</p> 
<pre><code class="prism language-go"><span class="token keyword">const</span> <span class="token punctuation">(</span>
	a1 <span class="token operator">=</span> <span class="token boolean">iota</span>
	a2			<span class="token comment">//1</span>
	a3			<span class="token comment">//2</span>
	<span class="token boolean">_</span>				
	a4			<span class="token comment">//3</span>
<span class="token punctuation">)</span>
</code></pre> 
<p>2.iota声明中间插队</p> 
<pre><code class="prism language-go"><span class="token keyword">const</span><span class="token punctuation">(</span>
	a1 <span class="token operator">=</span> <span class="token boolean">iota</span>   <span class="token comment">//0</span>
	a2			<span class="token comment">//1</span>
	a3 <span class="token operator">=</span> <span class="token boolean">iota</span>   <span class="token comment">//2			</span>
	<span class="token boolean">_</span>				
	a4			<span class="token comment">//3</span>
<span class="token punctuation">)</span>
</code></pre> 
<ol start="3"><li> <p>iota 定义在一行</p> <pre><code class="prism language-go"><span class="token keyword">const</span><span class="token punctuation">(</span>
	a1<span class="token punctuation">,</span>a2 <span class="token operator">=</span> <span class="token boolean">iota</span><span class="token punctuation">,</span><span class="token boolean">iota</span><span class="token operator">+</span><span class="token number">1</span>   <span class="token comment">//0,1</span>
	a3 <span class="token operator">=</span> <span class="token boolean">iota</span>       	  <span class="token comment">//1		</span>
	a4<span class="token punctuation">,</span>a5 <span class="token operator">=</span> <span class="token boolean">iota</span><span class="token operator">+</span><span class="token number">1</span> 		  <span class="token comment">//3</span>
<span class="token punctuation">)</span>
</code></pre> </li><li> <p>定义数量级</p> <pre><code class="prism language-go"><span class="token keyword">const</span><span class="token punctuation">(</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> <span class="token boolean">iota</span> 
	KB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
	GB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
	TB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
	PB <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> <span class="token boolean">iota</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> </li></ol> 
<h3><a id="2Go_398"></a>2.Go的数据类型</h3> 
<p>主要的数据类型分为2种，基本数据类型和派生/复杂数据类型</p> 
<p>基本数据类型分为：整型、字符型、布尔型、字符串</p> 
<p>派生/复杂数据类型：指针、数组、结构体、管道、函数、切片、接口、map类型</p> 
<p><img src="https://images2.imgbox.com/fb/df/mqfs0bRg_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="2__409"></a>2 基本数据类型</h2> 
<h3><a id="21__411"></a>2.1 使用细节</h3> 
<h4><a id="211_413"></a>2.1.1整型</h4> 
<p>有符号：<br> <img src="https://images2.imgbox.com/54/27/2vscwRJ1_o.png" alt="在这里插入图片描述"></p> 
<p>无符号：<br> <img src="https://images2.imgbox.com/70/db/DnkpoUBS_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-go">	b <span class="token operator">:=</span> <span class="token operator">-</span><span class="token number">1</span>
	<span class="token comment">//printf 是做格式化输出的   %T  相当于 Type</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b的类型是%T 占用的字节大小是 %d \n"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
	c <span class="token operator">:=</span> <span class="token number">111</span>
    <span class="token comment">// 查看当前变量占用的字节数   unsafe.Sizeof(变量名)  </span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"c的类型是  %T 占用的字节大小是 %d"</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<h6><a id="_432"></a>使用细节</h6> 
<ol><li>Golang各整数类型分： 有符号和无符号 ，int、uint（无符号）的大小和系统无关</li><li>Go的整型默认声明为int</li><li>Go中整型变量在使用是，遵守保小不保大的原则。即：保证程序正常运行下，尽量使用占用空间小的数据类型</li></ol> 
<h4><a id="212_438"></a>2.1.2浮点型</h4> 
<p><img src="https://images2.imgbox.com/2a/37/57dsfucl_o.png" alt="在这里插入图片描述"></p> 
<ol><li>Go中浮点类型有固定的范围和字节长度，不受具体的OS的影响</li><li>Go中的浮点类型默认是64位</li></ol> 
<p>注意：通长情况下使用的64位的，因为其更加精确</p> 
<pre><code class="prism language-go">	<span class="token keyword">var</span> num4 <span class="token operator">=</span> <span class="token number">1.2</span>
	<span class="token comment">//打印num4的数据类型</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"num4的数据类型是 %T "</span><span class="token punctuation">,</span> num4<span class="token punctuation">)</span>

	<span class="token comment">//科学计数法</span>
	num5 <span class="token operator">:=</span> <span class="token number">5.123e2</span>    <span class="token comment">// -&gt;  5.123 * 10的2次方   e 大小写均可</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"num5:"</span><span class="token punctuation">,</span> num5<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="213_456"></a>2.1.3字符类型</h4> 
<p>字符串：就是一串固定长度的字符连接起来的字符序列</p> 
<p>Go中没有专门的字符类型，如果要存储单个的字符(字母)，一般使用byte来保存。</p> 
<p>所以对比传统的字符串不同，在Go中字符串是由byte组成的。</p> 
<p>注意：</p> 
<ol><li>对于保存的字符在ASCII表中的字符直接可以使用byte保存</li><li>若不在ASCII中，我们就要考虑int类型保存</li><li>需要输出字符的本身内容，使用格式化输出</li></ol> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//c := "a"</span>
	<span class="token keyword">var</span> c1 <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'a'</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"c1="</span><span class="token punctuation">,</span> c1<span class="token punctuation">)</span>
	<span class="token comment">//使用格式化输出，输出对应的字符</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"c1=%c"</span><span class="token punctuation">,</span> c1<span class="token punctuation">)</span>
    <span class="token comment">//在使用单个汉字时，由于byte的范围（0-255）有限，所以其数据类型int</span>
    e <span class="token operator">:=</span> <span class="token char">'别'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"e的数据类型是%T,e对应的码值是%d"</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> e<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>字符类型的使用细节：</p> 
<ul><li>对于字符常量的使用用单引号引起该字符</li><li>Go中允许使用转义字符来讲特殊字符转为常量</li><li>Go语言使用的是UTF-8编码</li><li>在Go中字符的本质就是一个整数，在直接输出是，是输出其对应的URF-8编码的编码值</li><li>也可以直接给某一个变量赋一个数字，然后按照格式化输出会输出改数字对应的unicode字符</li><li>字符类型是可以进行运算的，相当于一个整数，其有对应的Unicode</li></ul> 
<pre><code class="prism language-go">	e <span class="token operator">:=</span> <span class="token char">'别'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"e的数据类型是%T,e对应的码值是%d \n"</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> e<span class="token punctuation">)</span>

	f <span class="token operator">:=</span> <span class="token number">97</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"f=%c"</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>

	c3 <span class="token operator">:=</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token char">'a'</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/23/z5acV5rC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="214_bool_513"></a>2.1.4布尔类型 bool</h4> 
<p>基本介绍<br> 布尔类型也叫bool类型，bool类型数据只允许取值 true和false，其只占用一个字节</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	<span class="token string">"unsafe"</span>
<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	b <span class="token operator">:=</span> <span class="token boolean">false</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b的数据类型%T，占用的字节大小是%d"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="215_string_532"></a>2.1.5字符串类型： string</h4> 
<p>基本介绍<br> 字符串就是一串固定长度的字符连接起来的字符序列。Go的字符串是由单个字节连接起来的，Go语言的字符串的字节长度使用utf-8编码表示Unicode文本。</p> 
<p>golang的字符串是由单个字节组成</p> 
<pre><code class="prism language-go">	<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">"中华人民共和国"</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"name的字节大小是%d"</span><span class="token punctuation">,</span> unsafe<span class="token punctuation">.</span><span class="token function">Sizeof</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="_544"></a>注意事项和使用细节</h6> 
<ol><li>字符串一旦赋值并不可改变</li><li>Go语言的字符串的字节使用的是UTF-8编码表示Unicode文本，这样Go中统一使用的是UTF-8编码</li><li>字符串有两种表现形式： 
  <ol><li>双引号：会识别转义字符</li><li>反引号：以字符串的原生形式输出，包括换行和特殊字符，可以实现防止攻击、输出源代码等效果。</li></ol> </li><li>字符串的拼接方式 使用“ + ”</li></ol> 
<p><img src="https://images2.imgbox.com/ae/44/9gWgqSeX_o.png" alt="在这里插入图片描述"></p> 
<p><strong>注意当字符串过长时，在使用字符串拼接时，“+” 需要在上方</strong></p> 
<p><img src="https://images2.imgbox.com/7a/d6/uAMfE18o_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="22__561"></a>2.2 基本数据类型默认表</h3> 
<table><thead><tr><th>数据类型</th><th>默认值</th></tr></thead><tbody><tr><td>整型</td><td>0</td></tr><tr><td>浮点型</td><td>0</td></tr><tr><td>字符串</td><td>“”</td></tr><tr><td>布尔类型</td><td>false</td></tr></tbody></table> 
<p>eg：<br> <img src="https://images2.imgbox.com/39/ff/lf1s8D4x_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_575"></a>位运算符</h4> 
<p>&amp;: 同1为1，有0为0</p> 
<p>|:同0为0，有1为1</p> 
<p>^:相同为0，不同为1</p> 
<p>&lt;&lt; : 左移运算符 对于左移运算符，左移n位，就是给原数扩大2的n次方倍。其功能把"&lt;&lt;“左边的运算数的各二进位全部左移若干位，由”&lt;&lt;"右边的数指定移动的位数，高位丢弃，低位补0。</p> 
<p>“&gt;&gt;” : 右移运算符"&gt;&gt;“是双目运算符。右移n位就是除以2的n次方。 其功能是把”&gt;&gt;“左边的运算数的各二进位全部右移若干位，”&gt;&gt;"右边的数指定移动的位数</p> 
<pre><code>A = 0011 1100
B = 0000 1101

A &amp; B = 0000 1100
A | B = 0011 1101
A ^ B = 0011 0001

a = 60;b = 13
a = 0011 1100
b = 0000 1101

a &amp; b = 0000 1100 12
a | b = 0011 1101 61
a ^ b = 0011 0010 49
</code></pre> 
<p>其他运算符</p> 
<p><img src="https://images2.imgbox.com/33/5f/UfR3GsM2_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_607"></a>运算符优先级</h4> 
<p><img src="https://images2.imgbox.com/c1/92/5kqm6H9B_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="23__611"></a>2.3 基本数据类型转换</h3> 
<p>在Go中不同于java/c不同类型的变量之间不能自动完成类型转换。(没有隐式转换)</p> 
<h4><a id="231__615"></a>2.3.1 基本语法：</h4> 
<p>表达式T(v) 将值v转换为类型T<br> T：就是数据类型<br> v：就是需要转换的变量</p> 
<pre><code class="prism language-go"><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token string">"fmt"</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> i <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token number">100</span>
	<span class="token comment">//将i转换为float</span>
	<span class="token keyword">var</span> j <span class="token builtin">float32</span> <span class="token operator">=</span> <span class="token function">float32</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i=%v j=%v \n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i的数据类型是 %T,j的数据类型是 %T"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
	<span class="token keyword">var</span> x <span class="token builtin">int32</span><span class="token operator">=</span> <span class="token function">int32</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"x的数据类型是%T"</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="232_635"></a>2.3.2使用细节</h4> 
<ol><li> <p>Go中无论大转小还是小转大，都是可以转换的（但是在大转小时需要注意数据溢出）</p> </li><li> <p>被转换的事变量存储的数据，变量本身的数据类型没有发现变化</p> <pre><code class="prism language-go"><span class="token keyword">var</span> x <span class="token builtin">int32</span><span class="token operator">=</span> <span class="token function">int32</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>  <span class="token comment">//即只是把j的值转换为了32位的大小，j本身的数据类型并没有发生任何变化</span>
</code></pre> </li></ol> 
<p>练习题</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
 	<span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">12</span>
	<span class="token keyword">var</span> n2 <span class="token builtin">int64</span>
	<span class="token keyword">var</span> n3 <span class="token builtin">int8</span>
	n2 <span class="token operator">=</span> n1 <span class="token operator">+</span> <span class="token number">20</span>  <span class="token comment">//编译不通过，n1是int32 而n2是64，所以在运算时需要类型转换</span>
	n3 <span class="token operator">=</span> n1 <span class="token operator">+</span> <span class="token number">20</span>
<span class="token punctuation">}</span>




<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> n1 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">12</span>
	<span class="token keyword">var</span> n3 <span class="token builtin">int8</span>
	<span class="token keyword">var</span> n4 <span class="token builtin">int8</span>
	n4 <span class="token operator">=</span> <span class="token function">int8</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token number">127</span>   <span class="token comment">//编译通过，但是结果会溢出，因为int8的范围是[-128-127]</span>
	n3 <span class="token operator">=</span> <span class="token function">int8</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">128</span>  <span class="token comment">//编译不通过，因为128不是int8</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>在import中如果对于一个包我们并没有使用，但是又不想删掉写好的代码，那么可以使用“_” 来表示忽略</strong></p> 
<h3><a id="24_string_670"></a>2.4 基本数据类型和string的转换</h3> 
<h4><a id="241_String_672"></a>2.4.1 基本类型转String类型</h4> 
<ol><li> <p>fmt.Sprintf(“%参数”,表达式)</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">Sprintf</span><span class="token punctuation">(</span>format <span class="token builtin">string</span><span class="token punctuation">,</span> a <span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token comment">//a ...interface 表示空接口，可以接收任何类型的数据</span>
</code></pre> <p>Sprintf根据format参数生成格式化的字符串并返回该字符串。</p> <pre><code class="prism language-go"><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">var</span> num1 <span class="token operator">=</span> <span class="token number">123</span>
	<span class="token keyword">var</span> f <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">3.1</span>
	<span class="token keyword">var</span> b <span class="token builtin">bool</span> <span class="token operator">=</span> <span class="token boolean">true</span>
	<span class="token keyword">var</span> c <span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token char">'c'</span>
	<span class="token comment">//var str1 string</span>
	<span class="token keyword">var</span> str1 <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str1=%v,str的数据类型%T \n"</span><span class="token punctuation">,</span> str1<span class="token punctuation">,</span> str1<span class="token punctuation">)</span>
	<span class="token keyword">var</span> str2 <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%f"</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str2=%v,str2的数据类型%T \n"</span><span class="token punctuation">,</span> str2<span class="token punctuation">,</span> str2<span class="token punctuation">)</span>
	<span class="token keyword">var</span> str3 <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%t"</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str3=%v,str3的数据类型%T \n"</span><span class="token punctuation">,</span> str3<span class="token punctuation">,</span> str3<span class="token punctuation">)</span>
	<span class="token keyword">var</span> str4 <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str3=%v,str4的数据类型%T \n"</span><span class="token punctuation">,</span> str4<span class="token punctuation">,</span> str4<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>使用strconv包的函数</p> <p>方法：</p> 
  <ul><li> <p>func FormatBool(b bool) string</p> <pre><code class="prism language-go">	str0 <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatBool</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str0=%q,str的数据类型%T \n"</span><span class="token punctuation">,</span> str0<span class="token punctuation">,</span> str0<span class="token punctuation">)</span>
</code></pre> </li><li> <p>func FormatInt(i int64, base int) string</p> </li></ul> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">FormatInt</span><span class="token punctuation">(</span>i <span class="token builtin">int64</span><span class="token punctuation">,</span> base <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span>

eg：
	<span class="token keyword">var</span> str <span class="token builtin">string</span>
	str <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatInt</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%q,str的数据类型%T \n"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> str<span class="token punctuation">)</span>
</code></pre> <p>​ 返回i的base进制的字符串表示。base 必须在2到36之间，结果中会使用小写字母’a’到’z’表示大于10的数字。</p> 
  <ul><li> <p>func FormatFloat(f float64, fmt byte, prec, bitSize int) string</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">FormatFloat</span><span class="token punctuation">(</span>f <span class="token builtin">float64</span><span class="token punctuation">,</span> fmt <span class="token builtin">byte</span><span class="token punctuation">,</span> prec<span class="token punctuation">,</span> bitSize <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
</code></pre> <p>函数将浮点数表示为字符串并返回。</p> <p>bitSize表示f的来源类型（32：float32、64：float64），会据此进行舍入。</p> <p>fmt表示格式：‘f’（-ddd.dddd）、‘b’（-ddddp±ddd，指数为二进制）、‘e’（-d.dddde±dd，十进制指数）、‘E’（-d.ddddE±dd，十进制指数）、‘g’（指数很大时用’e’格式，否则’f’格式）、‘G’（指数很大时用’E’格式，否则’f’格式）。</p> <p>prec控制精度（排除指数部分）：对’f’、‘e’、‘E’，它表示小数点后的数字个数；对’g’、‘G’，它控制总的数字个数。如果prec 为-1，则代表使用最少数量的、但又必需的数字来表示f。</p> <pre><code class="prism language-go">	<span class="token keyword">var</span> str5 <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">FormatFloat</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str5=%q,str的数据类型%T \n"</span><span class="token punctuation">,</span> str5<span class="token punctuation">,</span> str5<span class="token punctuation">)</span>
</code></pre> </li></ul> <p>Itoa函数：将int转为string</p> <pre><code class="prism language-go"><span class="token keyword">var</span> num <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">123</span>
str <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"str=%q,str的数据类型%T \n"</span><span class="token punctuation">,</span> str<span class="token punctuation">,</span> str<span class="token punctuation">)</span>

</code></pre> <h4><a id="242_String_762"></a>2.4.2 String转基本类型</h4> 
  <ol><li> <p>使用strconv包中的函数</p> 
    <ul><li>func ParseInt</li></ul> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">ParseInt</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> base <span class="token builtin">int</span><span class="token punctuation">,</span> bitSize <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>i <span class="token builtin">int64</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
<span class="token comment">//eg:</span>
	str7 <span class="token operator">:=</span> <span class="token string">"1234567"</span>
	<span class="token keyword">var</span> n1 <span class="token builtin">int64</span>
	n1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str7<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"n1=%v,n1的数据类型是%T"</span><span class="token punctuation">,</span> n1<span class="token punctuation">,</span> n1<span class="token punctuation">)</span>
</code></pre> <p>返回字符串表示的整数值，接受正负号。</p> <p>base指定进制（2到36），如果base为0，则会从字符串前置判断，"0x"是16进制，"0"是8进制，否则是10进制；</p> <p>bitSize指定结果必须能无溢出赋值的整数类型，0、8、16、32、64 分别代表 int、int8、int16、int32、int64；返回的err是*NumErr类型的，如果语法有误，err.Error = ErrSyntax；如果结果超出类型范围err.Error = ErrRange。</p> 
    <ul><li>func ParseUint</li></ul> <pre><code>func ParseUint(s string, base int, bitSize int) (n uint64, err error)
</code></pre> <p>ParseUint类似ParseInt但不接受正负号，用于无符号整型。</p> 
    <ul><li>func ParseFloat</li></ul> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">ParseFloat</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> bitSize <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>f <span class="token builtin">float64</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>

<span class="token comment">//eg</span>
	<span class="token keyword">var</span> str8 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"78.322"</span>
	<span class="token keyword">var</span> f1 <span class="token builtin">float64</span>
	f1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseFloat</span><span class="token punctuation">(</span>str8<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"f1=%v,f1的数据类型是%T \n"</span><span class="token punctuation">,</span> f1<span class="token punctuation">,</span> f1<span class="token punctuation">)</span>
</code></pre> <p>解析一个表示浮点数的字符串并返回其值。</p> <p>如果s合乎语法规则，函数会返回最为接近s表示值的一个浮点数（使用IEEE754规范舍入）。bitSize指定了期望的接收类型，32是float32（返回值可以不改变精确值的赋值给float32），64是float64；返回值err是*NumErr类型的，语法有误的，err.Error=ErrSyntax；结果超出表示范围的，返回值f为±Inf，err.Error= ErrRange。</p> 
    <ul><li>func ParseBool</li></ul> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">ParseBool</span><span class="token punctuation">(</span>str <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>value <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
<span class="token comment">// 在使用时，该函数有两个返回值，所以在接收时需要两个变量去接收，若我们只需要前一个返回值，对于后一个返回值，可以使用“_”来忽略掉。</span>

	<span class="token keyword">var</span> b1 <span class="token builtin">bool</span>
	b1<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseBool</span><span class="token punctuation">(</span>str0<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"b=%v,b1的数据类型是%T"</span><span class="token punctuation">,</span> b1<span class="token punctuation">,</span> b1<span class="token punctuation">)</span>


</code></pre> <p>返回字符串表示的bool值。它接受1、0、t、f、T、F、true、false、True、False、TRUE、FALSE；否则返回错误。</p> <p><strong>注意：</strong></p> <p>在将string转为其他数据类型时，如出现无效的数据，Go会直接将其置为当前数据类型的默认值</p> <pre><code class="prism language-go">	<span class="token keyword">var</span> str9 <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello"</span>
	<span class="token keyword">var</span> n0 <span class="token builtin">int64</span>
	n0<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str9<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"n0=%v,n0的数据类型是%T \n"</span><span class="token punctuation">,</span> n0<span class="token punctuation">,</span> n0<span class="token punctuation">)</span>
	<span class="token comment">//若是bool时会是默认值false</span>
</code></pre> <p>运行结果：</p> <p><img src="https://images2.imgbox.com/53/68/oKwo78VV_o.png" alt="在这里插入图片描述"></p> <h3><a id="_847"></a></h3> </li></ol> </li></ol> 
<h3><a id="25_851"></a>2.5复杂数据类型</h3> 
<h4><a id="251_853"></a>2.5.1指针</h4> 
<h5><a id="252_855"></a>2.5.2基本介绍</h5> 
<ol><li>基本数据类型，变量存的就是值，也叫值类型</li><li>获取变量的地址，用&amp;，比如 var num int,获取num的地址：&amp;num</li><li>指针类型，变量存的就是一个地址，这个地址指向的空间存的才是值；比如 var ptr *int = &amp;num</li><li>获取指针类型所指向的值，使用： * ，比如 var ptr int*，使用 *ptr获取p指向的值</li></ol> 
<p><img src="https://images2.imgbox.com/2f/f7/ABLM4Rmp_o.png" alt="在这里插入图片描述"></p> 
<p>代码：</p> 
<pre><code class="prism language-go">	<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">10</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i: %v\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i的地址是 %v \n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">)</span>

	<span class="token keyword">var</span> ptr <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>i
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ptr 的地址是: %v\n"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ptr<span class="token punctuation">)</span>

	<span class="token comment">//对于ptr本身是指向i变量的地址</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ptr: %v\n"</span><span class="token punctuation">,</span> ptr<span class="token punctuation">)</span>

	<span class="token comment">//实际上ptr的值是i的值，</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"ptr 的值是: %v\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span>
</code></pre> 
<h5><a id="253__882"></a>2.5.3 细节说明</h5> 
<p><img src="https://images2.imgbox.com/c8/3e/IT34Xzxh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="26__888"></a>2.6 值类型和引用类型</h3> 
<h5><a id="261__890"></a>2.6.1 值类型</h5> 
<p>包括：基本数据类型、数组和结构体</p> 
<p>值类型通常存储在栈内存中</p> 
<h5><a id="262__896"></a>2.6.2 引用类型</h5> 
<p>包括：指针、切片(slice)、map、管道(chan)、interface</p> 
<p>引用类型数据通常存储在堆中</p> 
<p>变量存储的都是一个地址，这个地址的空间对应的才是真正的数据，如果该地址没有被任何变量引用则会被认为垃圾回收。</p> 
<h3><a id="27__904"></a>2.7 数组</h3> 
<p>定义好之后，数组长度不可变</p> 
<p>语法：</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> 数组名 <span class="token operator">=</span>  <span class="token punctuation">[</span>长度<span class="token punctuation">]</span>数据类型
<span class="token keyword">var</span> a1  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token keyword">var</span> a2  <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_918"></a>数组的遍历</h4> 
<p>普通for循环</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>for range循环</p> 
<pre><code class="prism language-go"><span class="token keyword">for</span> i<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> arr<span class="token punctuation">{<!-- --></span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"i is %v ,v is %v"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span>v<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_938"></a>切片</h3> 
<h2><a id="3_if_942"></a>3 if语法和循环</h2> 
<h3><a id="31__944"></a>3.1 单分支语句</h3> 
<p>语法</p> 
<pre><code class="prism language-go"><span class="token keyword">if</span> 条件 <span class="token punctuation">{<!-- --></span>
	执行语句
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="32__954"></a>3.2 双分支语句</h3> 
<pre><code class="prism language-go"><span class="token keyword">if</span> 条件 <span class="token punctuation">{<!-- --></span>
	<span class="token comment">//条件为真执行</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
	<span class="token comment">//条件为假执行</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="33__964"></a>3.3 嵌套语句</h3> 
<pre><code>if 条件1 {
	//条件1为真执行
	if 条件2 {
	//条件2为真执行	
	}
}
</code></pre> 
<h2><a id="4__979"></a>4 函数</h2> 
<h3><a id="41_981"></a>4.1函数定义</h3> 
<p>语法</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> 函数名 <span class="token punctuation">(</span>形参列表<span class="token punctuation">)</span> <span class="token punctuation">(</span>返回值列表<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">//返回值有多个要写括号,返回值可以是值类型或引用数据类型</span>
	函数体
<span class="token punctuation">}</span>
</code></pre> 
<p>案例：</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">OperatorNum</span><span class="token punctuation">(</span>n1 <span class="token builtin">float64</span><span class="token punctuation">,</span> n2 <span class="token builtin">float64</span><span class="token punctuation">,</span> operator <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{<!-- --></span>

	num1 <span class="token operator">:=</span> n1
	num2 <span class="token operator">:=</span> n2
	<span class="token keyword">var</span> operaor <span class="token builtin">string</span> <span class="token operator">=</span> operator
	<span class="token keyword">var</span> res <span class="token builtin">float64</span>

	<span class="token keyword">switch</span> operaor <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">case</span> <span class="token string">"+"</span><span class="token punctuation">:</span>
		res <span class="token operator">=</span> num1 <span class="token operator">+</span> num2
	<span class="token keyword">case</span> <span class="token string">"-"</span><span class="token punctuation">:</span>
		res <span class="token operator">=</span> num1 <span class="token operator">-</span> num2
	<span class="token keyword">case</span> <span class="token string">"*"</span><span class="token punctuation">:</span>
		res <span class="token operator">=</span> num1 <span class="token operator">*</span> num2
	<span class="token keyword">case</span> <span class="token string">"/"</span><span class="token punctuation">:</span>
		res <span class="token operator">=</span> num1 <span class="token operator">/</span> num2
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token string">"input is error"</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="411_1017"></a>4.1.1包</h4> 
<p>包的作用：</p> 
<ol><li>区分相同名字的函数，变量等标识符</li><li>进行项目管理</li><li>控制函数、变量等访问范围，即作用域</li></ol> 
<h5><a id="_1025"></a>使用细节：</h5> 
<ul><li>包名过长给包名起别名</li></ul> 
<pre><code class="prism language-go"><span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">"fmt"</span>
	别名 <span class="token string">"包名"</span>
<span class="token punctuation">)</span>
</code></pre> 
<ul><li> <p>同一个包中不允许有同名的函数(也不能有相同的全局变量名)</p> </li><li> <p>包中函数访问方式</p> <pre><code class="prism language-go">包名<span class="token punctuation">.</span>函数名
</code></pre> </li><li> <p>如果要编译成一个可执行文件，就需要将这个包声明成main</p> <pre><code class="prism language-go">D<span class="token punctuation">:</span>\Go<span class="token operator">&gt;</span>  <span class="token keyword">go</span> build <span class="token operator">-</span>o bin\xx<span class="token punctuation">.</span>exe go_pro\包名\main
</code></pre> </li></ul> 
<p>//针对函数中的返回值，如果有返回值，不需要，可以使用_ 忽略</p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token comment">// name := example.InputFunc()</span>
	<span class="token comment">// fmt.Printf("name: %v\n", name)</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> sub <span class="token operator">:=</span> <span class="token function">GetSum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"sum: %v\n"</span><span class="token punctuation">,</span> sub<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> 
<h6><a id="_1066"></a>猴子吃桃子问题</h6> 
<p>有一堆桃子，猴子第一天吃了其中的一半，并再多吃了一个!以后每天猴子都吃其中的一半，然后再多吃一个。当到第十天时，想再吃时 (还没吃) ，发现只有1个桃子了。问题: 最初共多少个桃子?</p> 
<pre><code class="prism language-go"><span class="token comment">// 10:  =&gt;   1</span>
<span class="token comment">// 9:   =&gt;   (第10天的桃子+1) * 2</span>
<span class="token comment">// 8:   =&gt;   (第9天的桃子 + 1) * 2</span>

<span class="token comment">// 第n天的桃子数:      =&gt;    (第n+ 1天的桃子 + 1) *2</span>
<span class="token keyword">func</span> <span class="token function">eatPaeach</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">10</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token number">1</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">eatPaeach</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"res: %v\n"</span><span class="token punctuation">,</span> <span class="token function">eatPaeach</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="42__1090"></a>4.2 函数使用细节</h3> 
<ol><li> <p>返回值有多个。当有多个时要写括号，返回值可以是值类型或引用数据类型</p> </li><li> <p>函数名首字母大写，任何地方可以访问，函数名首字母小写，只有本包可以使用</p> </li><li> <p>函数内定义的变量是局部变量，只能在函数内使用</p> </li><li> <p>基本数据类型和数组默认都是值传递的，即进行值拷贝。在函数内修改，不会影响到原来的值</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	n1 <span class="token operator">+=</span> <span class="token number">10</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"test()n1: %v\n"</span><span class="token punctuation">,</span> n1<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>n1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	num <span class="token operator">:=</span> <span class="token number">10</span>
	<span class="token function">test</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"main() num is %v"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span>

<span class="token punctuation">}</span>
</code></pre> </li><li> <p>如果要在函数内修改当前形参接受的实参的数据(实参是基本数据类型或者数组)，那么可以传入实参的地址，函数内以指针的方式操作变量。</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span>n1 <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	<span class="token operator">*</span>n1 <span class="token operator">+=</span> <span class="token number">10</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"test()n1: %v\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>n1<span class="token punctuation">)</span>
	<span class="token comment">// fmt.Println(&amp;n1)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	num <span class="token operator">:=</span> <span class="token number">10</span>
	<span class="token function">test</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"main() num is %v"</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span>
</code></pre> </li><li> <p>Go中不支持函数的重载</p> </li><li> <p>函数也是一种特殊的数据类型，可以将函数赋值给变量，通过变量，可以完成对函数的调用。(闭包)</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">test01</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> n1
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	num <span class="token operator">:=</span> <span class="token number">1</span>
	a <span class="token operator">:=</span> test01
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"a type is %T\t test type is %T"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> test01<span class="token punctuation">)</span>
    <span class="token comment">//通过变量访问函数</span>
	res <span class="token operator">:=</span> <span class="token function">a</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"res: %T\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <p>输出：<img src="https://images2.imgbox.com/13/70/4rh53saF_o.png" alt="在这里插入图片描述"></p> </li><li> <p>函数既然是数据类型，那么函数就可以当做形参使用，并且调用</p> <pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">test01</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> n1
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">myfunc</span><span class="token punctuation">(</span>funcvar <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">,</span>num <span class="token builtin">int</span> <span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">{<!-- --></span>
	reutrn <span class="token function">funcvar</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	num <span class="token operator">:=</span> <span class="token number">1</span>
	a <span class="token operator">:=</span> test01
	<span class="token comment">//fmt.Printf("a type is %T\t test type is %T", a, test01)</span>
    <span class="token comment">//通过变量访问函数</span>
	<span class="token comment">//res := a(num)</span>
	<span class="token comment">//fmt.Printf("res: %T\n", res)</span>
	
	res2 <span class="token operator">:=</span> <span class="token function">myfunc</span><span class="token punctuation">(</span>test01<span class="token punctuation">,</span> num<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"res: %T %v\n"</span><span class="token punctuation">,</span> res2<span class="token punctuation">,</span> res2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> </li><li> <p>为了简化数据类型定义，Go支持自定义数据类型</p> <pre><code class="prism language-go"><span class="token keyword">type</span> 变量名  数据类型
</code></pre> </li></ol> 
<h3><a id="43_init_1182"></a>4.3 init函数</h3> 
<p>初始化函数，是在main函数执行之前执行</p> 
<h5><a id="_1186"></a>细节</h5> 
<ol><li>如果一个文件中同时包含全局变量定义。init函数和main函数，则执行顺序是：变量定义=&gt; init函数 =&gt; main函数</li><li>作用：完成一些初始化的工作</li></ol> 
<h5><a id="431_go_1193"></a>4.3.1 go文件执行流程：</h5> 
<ul><li>首先执行，被引入包的函数，开始变量定义执行init函数</li><li>在执行引入其他包的函数中的变量执行，之后init初始化，最后执行main</li></ul> 
<p><img src="https://images2.imgbox.com/75/cf/KZNgKV1R_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="44__1201"></a>4.4 匿名函数</h3> 
<p>当函数只使用一次时，可以考虑使用匿名函数</p> 
<p>方式一：</p> 
<pre><code class="prism language-go">res <span class="token operator">:=</span> <span class="token keyword">func</span> <span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span>n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> n1<span class="token operator">+</span>n2
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre> 
<p>方式二：</p> 
<pre><code class="prism language-go">res <span class="token operator">:=</span> <span class="token function">function</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span>n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
<span class="token punctuation">}</span>


sum <span class="token operator">:=</span> <span class="token function">res</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="_1224"></a>全局匿名函数</h4> 
<p>将一个匿名函数交给一个全局变量</p> 
<pre><code class="prism language-go"><span class="token keyword">var</span> <span class="token punctuation">(</span>
	Func <span class="token operator">=</span> <span class="token function">function</span><span class="token punctuation">(</span>n1 <span class="token builtin">int</span><span class="token punctuation">,</span>n2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
		<span class="token keyword">return</span> n1 <span class="token operator">+</span> n2
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="5__1236"></a>5 闭包</h2> 
<p>其是一个函数和与其相关的引用环境组合成的一个整体</p> 
<p>内层函数+外层变量<br> 示例：<br> <img src="https://images2.imgbox.com/11/40/TN8aGMYD_o.png" alt="在这里插入图片描述"></p> 
<pre><code class="prism language-go"><span class="token keyword">func</span> <span class="token function">makeSuffix</span><span class="token punctuation">(</span>suffix <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
	<span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>name <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span>
		<span class="token keyword">if</span> <span class="token operator">!</span>strings<span class="token punctuation">.</span><span class="token function">HasSuffix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> suffix<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
			<span class="token keyword">return</span> name <span class="token operator">+</span> suffix
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
	f <span class="token operator">:=</span> <span class="token function">makeSuffix</span><span class="token punctuation">(</span><span class="token string">".jpg"</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"文件处理后= "</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">"winter"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/3f/82/GgOCYsZL_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="defer_1265"></a>defer关键字</h4> 
<p>当执行到defer是，暂时不执行，会将defer后面的语句压入到独立的栈中，当函数执行结束之后，再从defer<strong>中按照先入后出</strong>的方式出栈</p> 
<p>注意：</p> 
<p>当defer语句放入到栈中，会将相关的值拷贝同时入栈<br> <img src="https://images2.imgbox.com/5c/69/qi6mfQgY_o.png" alt=""></p> 
<h4><a id="_1275"></a>系统函数：</h4> 
<ol><li> <p>len() 统计字符串长度，按照字节统计；<strong>其中不可以包含中文</strong></p> </li><li> <p>[]rune(str) 字符串遍历，将字符串返回为一个切片，<strong>其中可以包含中文</strong></p> </li><li> <p>字符串转为整型<br> n, err := strconv.Atoi(“66”)</p> </li><li> <p>整数转为字符串：</p> <p>str = strconv.Itoa(“12345”)</p> </li><li> <p>查找子串是否在指定的字符串中：<br> strings.Contains(“javagopython”,"go)</p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/62643ea980715421d08c68a481172224/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Matlab】求阶跃响应的性能指标参数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/29944f8eefaf851008801988b7abe160/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">定向模糊测试aflgo中的能量调度</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>