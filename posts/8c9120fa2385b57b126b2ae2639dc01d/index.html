<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>tkinter导入文件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="tkinter导入文件" />
<meta property="og:description" content="自学tkinter，针对“文件导入”所走过的坑：
通过在网上查找，很容易找到filedialog为tkinter的文件导入模块，即from tkinter import filedialog，filedialog内置功能源文件写的很简洁就不多说了，这里要提的就是askdirectory，它只能记录到文件所在的文件夹。在此主要介绍askopenfilenames。
import tkinter as tk from tkinter import filedialog from main_program import Road_images window = tk.Tk() 刚开始的写法 def open_file(): filename = filedialog.askopenfilename(title=&#39;打开txt文件&#39;, filetypes=[(&#39;txt&#39;, &#39;*.txt&#39;)]) return filename button_import = tk.Button(window, text=&#34;导入文件&#34;,command=open_file) button_impprt.pack() 这样可以直接打开文件，非常方便，但我需要获取文件路径，于是加了一句
filename = open_file() 这样写就会引发一个很蛋疼的问题，就是刚运行程序时就会自动打开选择文件对话框，网上查半天依然找不到解决的办法，后面才想到借用Entry功能，完整代码如下：
import tkinter as tk from tkinter import filedialog window = tk.Tk() window.geometry(&#34;500x300&#34;) def open_file(): filename = filedialog.askopenfilename(title=&#39;打开txt文件&#39;, filetypes=[(&#39;txt&#39;, &#39;*.txt&#39;)]) entry_filename.insert(&#39;insert&#39;, filename) # 设置button按钮接受功能 button_import = tk.Button(window, text=&#34;导入文件&#34;, command=open_file).pack() # 设置entry entry_filename = tk." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8c9120fa2385b57b126b2ae2639dc01d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-12-27T10:40:15+08:00" />
<meta property="article:modified_time" content="2018-12-27T10:40:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">tkinter导入文件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>自学tkinter，针对“文件导入”所走过的坑：<br> 通过在网上查找，很容易找到filedialog为tkinter的文件导入模块，即from tkinter import filedialog，filedialog内置功能源文件写的很简洁就不多说了，这里要提的就是askdirectory，它只能记录到文件所在的文件夹。在此主要介绍askopenfilenames。</p> 
<pre><code>import tkinter as tk
from tkinter import filedialog
from main_program import Road_images
window = tk.Tk()
</code></pre> 
<h2><a id="_9"></a>刚开始的写法</h2> 
<pre><code>def open_file():
    filename = filedialog.askopenfilename(title='打开txt文件', filetypes=[('txt', '*.txt')])
    return filename
button_import = tk.Button(window, text="导入文件",command=open_file)
button_impprt.pack()
</code></pre> 
<p>这样可以直接打开文件，非常方便，但我需要获取文件路径，于是加了一句</p> 
<pre><code>filename = open_file()
</code></pre> 
<p>这样写就会引发一个很蛋疼的问题，就是刚运行程序时就会自动打开选择文件对话框，网上查半天依然找不到解决的办法，后面才想到借用Entry功能，完整代码如下：</p> 
<pre><code>import tkinter as tk
from tkinter import filedialog
window = tk.Tk()
window.geometry("500x300")
def open_file():
    filename = filedialog.askopenfilename(title='打开txt文件', filetypes=[('txt', '*.txt')])
    entry_filename.insert('insert', filename)
# 设置button按钮接受功能
button_import = tk.Button(window, text="导入文件", command=open_file).pack()
# 设置entry
entry_filename = tk.Entry(window, width=30, font=("宋体", 10, 'bold'))
entry_filename.pack()
# 尝试输出
def print_file():
    a = entry_filename.get()  #用get提取entry中的内容
    print(a)
tk.Button(window, text="输出", command=print_file).pack()
window.mainloop()
</code></pre> 
<p>问题解决<br> 注意1、由于在函数中调用了entry_filename.insert，因此entry_filename不能像button那样直接在后面接<br> pack()启用。<br> 2、将文件名赋值出去时，尽量在函数内部进行，若文件名用的地方不多，建议全程直接采用函数，不必赋值出去，即：</p> 
<pre><code># 尝试输出
def print_file():
    print(entry_filename.get())
tk.Button(window, text="输出", command=print_file).pack()
window.mainloop()
</code></pre> 
<p>因为将文件名赋值出去后，容易出现值为空的情况，具体原因我也不清楚。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ff51bf2fd5ecfffb9bcd161e19798021/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">七、k8s ingress (http/https)部署与使用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/db665800a0d5c4a4c96b0837afd4886f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">postman每次打开太慢，需要几分钟</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>