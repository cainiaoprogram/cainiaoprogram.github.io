<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cmake安装以及升级（Ubuntu） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Cmake安装以及升级（Ubuntu）" />
<meta property="og:description" content="文章目录 1.安装2.升级3.Ubuntu 上查看所有已安装的软件包4.如何在Ubuntu 20.04上更改主机名5.machine-id6.ubuntu安装deb包到指定目录 1.安装 方式1：
建议使用：使用方式1
（1）检查环境配置 sudo apt-get install gcc sudo apt-get install g&#43;&#43; sudo apt-get install make （2）直接在Cmake官网下载源码包
（3）解压在相应文件夹， 博主解压在了home 文件夹下
cd cmake #进入 cmake 所在的目录 ./bootstrap # 这一步会等很久 也可以执行 ./confige make -j4 # 使用命令 nproc 查看自己有多少个核心(make -j$(nproc))， 我这里用了4个核心编译make，速度快一点 make install #到此位置结束 （4）检查安装情况
命令行输入 ：cmake -version 显示源码对应版本则安装成功 方式2：
链接
sudo apt-get autoremove cmake wget https://cmake.org/files/v3.12/cmake-3.12.2-Linux-x86_64.tar.gz##安装上面的链接去选择 tar zxvf cmake-3.12.2-Linux-x86_64.tar.gz mv cmake-3.12.2-Linux-x86_64 /opt/cmake-3.12.2 ln -sf /opt/cmake-3.12.2/bin/* /usr/bin/ 注意：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/65e08bf556e4c5ef0890c2b1851715c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-03T10:15:57+08:00" />
<meta property="article:modified_time" content="2022-12-03T10:15:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Cmake安装以及升级（Ubuntu）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1_2" rel="nofollow">1.安装</a></li><li><a href="#2_51" rel="nofollow">2.升级</a></li><li><a href="#3Ubuntu__68" rel="nofollow">3.Ubuntu 上查看所有已安装的软件包</a></li><li><a href="#4Ubuntu_2004_80" rel="nofollow">4.如何在Ubuntu 20.04上更改主机名</a></li><li><a href="#5machineid_112" rel="nofollow">5.machine-id</a></li><li><a href="#6ubuntudeb_117" rel="nofollow">6.ubuntu安装deb包到指定目录</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1_2"></a>1.安装</h3> 
<p>方式1：</p> 
<ul><li>建议使用：使用方式1<br> （1）检查环境配置</li></ul> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gcc
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> g++
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">make</span>
</code></pre> 
<p>（2）直接在Cmake官网下<a href="https://cmake.org/download/" rel="nofollow">载源码包</a><br> <img src="https://images2.imgbox.com/03/da/u96QxjoL_o.png" alt="在这里插入图片描述"></p> 
<p>（3）解压在相应文件夹， 博主解压在了home 文件夹下</p> 
<pre><code class="prism language-bash"><span class="token builtin class-name">cd</span> cmake <span class="token comment">#进入  cmake 所在的目录</span>

./bootstrap  <span class="token comment"># 这一步会等很久  也可以执行 ./confige</span>

<span class="token function">make</span> <span class="token parameter variable">-j4</span>   <span class="token comment"># 使用命令 nproc 查看自己有多少个核心(make -j$(nproc))， 我这里用了4个核心编译make，速度快一点 </span>

<span class="token function">make</span> <span class="token function">install</span> <span class="token comment">#到此位置结束 </span>
</code></pre> 
<p>（4）检查安装情况</p> 
<pre><code class="prism language-bash">命令行输入 ：cmake <span class="token parameter variable">-version</span> 显示源码对应版本则安装成功
</code></pre> 
<p>方式2：<br> <a href="https://cmake.org/files/" rel="nofollow">链接</a></p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove cmake
<span class="token function">wget</span> https://cmake.org/files/v3.12/cmake-3.12.2-Linux-x86_64.tar.gz<span class="token comment">##安装上面的链接去选择</span>
<span class="token function">tar</span> zxvf cmake-3.12.2-Linux-x86_64.tar.gz
<span class="token function">mv</span> cmake-3.12.2-Linux-x86_64 /opt/cmake-3.12.2
<span class="token function">ln</span> <span class="token parameter variable">-sf</span> /opt/cmake-3.12.2/bin/* /usr/bin/
</code></pre> 
<p>注意：</p> 
<ul><li>ref：<a href="https://blog.csdn.net/Dontla/article/details/120123752">apt-get remove 与 apt-get purge 区别（删除包、卸载包）</a></li></ul> 
<pre><code class="prism language-bash"><span class="token function">apt-get</span> remove 会删除软件包而保留软件的配置文件
<span class="token function">apt-get</span> purge 会同时清除软件包和软件的配置文件
</code></pre> 
<h3><a id="2_51"></a>2.升级</h3> 
<p>（1）卸载旧的Cmake</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> autoremove cmake
</code></pre> 
<p>（2）安装新的</p> 
<ul><li>其中版本直接修改上面的版本数字即可。</li></ul> 
<pre><code class="prism language-bash">按照上述安装的方法重新安装
<span class="token function">apt</span> <span class="token function">install</span> libssl-dev build-essential

./bootstrap <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre> 
<h3><a id="3Ubuntu__68"></a>3.Ubuntu 上查看所有已安装的软件包</h3> 
<pre><code class="prism language-bash"><span class="token function">apt</span> 是 Ubuntu <span class="token number">14.04</span> 中引入的流行的软件包管理命令行界面。它可以列出 Ubuntu 中所有已安装的软件包。
<span class="token function">sudo</span> <span class="token function">apt</span> list <span class="token parameter variable">--installed</span>

<span class="token function">apt</span> 软件包仅在 Ubuntu <span class="token number">14.04</span> 之后才引入。如果要列出 Ubuntu 较早版本中已安装的软件包，可以使用 dpkg-query 列出所有软件包。
<span class="token function">sudo</span> dpkg-query <span class="token parameter variable">-l</span>
</code></pre> 
<h3><a id="4Ubuntu_2004_80"></a>4.如何在Ubuntu 20.04上更改主机名</h3> 
<p>显示当前hostname</p> 
<ul><li>在此示例中，当前主机名(hostname)设置为：master</li></ul> 
<pre><code class="prism language-bash">script_wang@master:~$ hostnamectl
   Static hostname: master
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 60dd7e3677ed4fa58a6b44ecb5739be0
           Boot ID: 3ca6d35a718249e2b7cf15e7c2dd0367
    Virtualization: vmware
  Operating System: Ubuntu <span class="token number">20.04</span>.2 LTS
            Kernel: Linux <span class="token number">5.15</span>.0-46-generic
      Architecture: x86-64
</code></pre> 
<p>更改系统主机名(hostname)</p> 
<pre><code class="prism language-bash"><span class="token function">sudo</span> hostnamectl set-hostname host.example.com

您也可以选择设置漂亮的主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>：
<span class="token function">sudo</span> hostnamectl set-hostname <span class="token string">"Your Pretty HostName"</span> <span class="token parameter variable">--pretty</span>
<span class="token function">sudo</span> hostnamectl set-hostname host.example.com <span class="token parameter variable">--static</span>
<span class="token function">sudo</span> hostnamectl set-hostname host.example.com <span class="token parameter variable">--transient</span>

静态主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>存储在中/etc/hostname，漂亮主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>存储在/etc/machine-infofile中。
在大多数系统上，主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>映射到127.0.0.1中/etc/hosts。打开文件，将旧的主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>更改为新的主机名<span class="token punctuation">(</span>hostname<span class="token punctuation">)</span>.
<span class="token number">127.0</span>.0.1   localhost
<span class="token number">127.0</span>.0.1   www.iplayio.cn
</code></pre> 
<h3><a id="5machineid_112"></a>5.machine-id</h3> 
<p>/etc/machine-id 文件包含一个 在安装或首次启动操作系统时生成的、专属于本系统的、独一无二的"machine ID"。 "machine ID"是一个32字符长度的十六进制小写字母字符串，并以换行符结尾。 其本质是一个128位二进制整数的16进制表示。 注意，"machine ID"不能为全零值。</p> 
<p><strong>"machine ID"通常在系统安装或首次启动时从一个随机数源生成</strong>， 并且之后无论经过多少次开关机，也一直保持不变。 另一方面，对于无状态系统，如果有必要，将在系统启动的早期自动随机生成一个"machine ID"。</p> 
<h3><a id="6ubuntudeb_117"></a>6.ubuntu安装deb包到指定目录</h3> 
<pre><code class="prism language-bash">选择安装.deb软件到其他目录
<span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> <span class="token parameter variable">--instdir</span><span class="token operator">=</span>/opt/apache apache2

列出软件包的内容：
dpkg-deb <span class="token parameter variable">-c</span> libncurses5-dev_6.2-0ubuntu2_amd64.deb

解压所有文件（到当前目录下的deb_files）：
dpkg-deb <span class="token parameter variable">-x</span> libncurses5-dev_6.2-0ubuntu2_amd64.deb deb_files
</code></pre> 
<ul><li>参考：<a href="https://blog.csdn.net/KIK9973/article/details/121239764">Jetson Xavier NX 源码安装Cmake</a>，<a href="https://zhuanlan.zhihu.com/p/370734917" rel="nofollow">（十八）——ubuntu中cmake版本升级</a>，<a href="https://blog.csdn.net/qq_37425813/article/details/120436670">cmake版本升级（ubuntu1804）</a>，<a href="https://www.delftstack.com/zh/howto/linux/how-to-view-all-the-installed-packages-on-ubuntu/" rel="nofollow">如何在 Ubuntu 上查看所有已安装的软件包</a>，<a href="https://www.iplayio.cn/post/309740" rel="nofollow">如何在Ubuntu 20.04上更改主机名(hostname)</a>，<a href="http://www.jinbuguo.com/systemd/machine-id.html" rel="nofollow">machine-id 中文手册</a>，<a href="https://blog.csdn.net/lcathm/article/details/13151359">dpkg 安装选择路径</a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e5026fc44757f6ec4bb2a3e495aad243/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于Kerberos的跨域身份认证实验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/21197bf8af8e0b967ceca00d553c6e14/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu安装Typora</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>