<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Laravel 零基础搭建简易后台 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Laravel 零基础搭建简易后台" />
<meta property="og:description" content="一、准备 1、安装 composer php依赖管理工具
安装教程：https://pkg.phpcomposer.com/
2、安装 laravel （注意安装php扩展）
安装教程一：https://xueyuanjun.com/post/7620（常规下载）
安装教程二：安装包下载https://xueyuanjun.com/post/2
图一 3、安装phpstudy(新入门laravel推荐使用)
二、配置及运行 1、把下载下来的项目安装包解压，并命项目名
2、配置，修改 hosts 文件，并且配置站点
3、运行
三、安装 Laravel-admin 安装教程：https://laravel-admin.org/docs/zh/installation
注意：安装前修改 /config/database.php 文件 与 /.env 文件，如图:
如果没有同时修改下面文件，执行 php artisan admin:install 会发生：PDOException] SQLSTATE[HY000] [1045] Access denied for user &#39;homestead&#39;@&#39;localhost ````````````` 错误。
如果发生42000错误，请修改完之后，删除生成的 两个表后再执行： user 、migrations
发生错误记住清缓存：
php artisan cache:clear php artisan config:clear php artisan config:cache ：不上线不用执行该命令，由于该命令会有一个配置的缓存，执行后，您的 config 文件夹内的配置 就会失效，原因是系统在 bootstrap 中生成了 一个 config,php 文件 失效，执行上面两条命令即可 四、运行发现并没有出现页面，而是 出现 404 ： 进查找参考资料（闪灵龍：laravel 路由404问题）发现是配置问题：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f5ce4c2b967493b1bf3dfaec8a900090/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-03-19T22:40:32+08:00" />
<meta property="article:modified_time" content="2020-03-19T22:40:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Laravel 零基础搭建简易后台</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<p> </p> 
<p> </p> 
<h3>一、准备</h3> 
<p>     1、安装 composer php依赖管理工具</p> 
<p>           安装教程：<a href="https://pkg.phpcomposer.com/" rel="nofollow">https://pkg.phpcomposer.com/</a><br>  </p> 
<p>    2、安装 laravel （注意安装php扩展）</p> 
<p>         安装教程一：<a href="https://xueyuanjun.com/post/7620" rel="nofollow">https://xueyuanjun.com/post/7620</a>（常规下载）</p> 
<p>        安装教程二：安装包下载<a href="https://xueyuanjun.com/post/2" rel="nofollow">https://xueyuanjun.com/post/2</a></p> 
<figure class="image"> 
 <img alt="12" height="211" src="https://images2.imgbox.com/c3/69/tErFs0ls_o.png" width="254"> 
 <figcaption>
   图一 
 </figcaption> 
</figure> 
<p>    3、安装phpstudy(新入门laravel推荐使用)</p> 
<h3>二、配置及运行</h3> 
<p>    1、把下载下来的项目安装包解压，并命项目名</p> 
<p><img alt="12" height="392" src="https://images2.imgbox.com/46/e3/PMqSjpp9_o.png" width="485"></p> 
<p>    2、配置，修改 hosts 文件，并且配置站点</p> 
<p><img alt="2" height="438" src="https://images2.imgbox.com/e1/47/IExa4xOd_o.png" width="524"></p> 
<p>3、运行</p> 
<p><img alt="4" height="374" src="https://images2.imgbox.com/43/88/r0insBls_o.png" width="665"></p> 
<h3>三、安装 Laravel-admin</h3> 
<p>  安装教程：<a href="https://laravel-admin.org/docs/zh/installation" rel="nofollow">https://laravel-admin.org/docs/zh/installation</a></p> 
<p> 注意：安装前修改  /config/database.php 文件  与 /.env 文件，如图:<img alt="5" height="410" src="https://images2.imgbox.com/a0/85/QGuUn68t_o.png" width="747"></p> 
<p>如果没有同时修改下面文件，执行  </p> 
<pre><code>php artisan admin:install</code></pre> 
<p>会发生：PDOException] SQLSTATE[HY000] [1045] Access denied for user 'homestead'@'localhost ````````````` 错误。</p> 
<p> </p> 
<p>如果发生42000错误，请修改完之后，删除生成的 两个表后再执行： user 、migrations</p> 
<p>发生错误记住清缓存：</p> 
<pre><code>php artisan cache:clear 
php artisan config:clear 

php artisan config:cache  ：不上线不用执行该命令，由于该命令会有一个配置的缓存，执行后，您的 config 文件夹内的配置 就会失效，原因是系统在  bootstrap 中生成了 一个 config,php 文件
失效，执行上面两条命令即可</code></pre> 
<h3>四、运行发现并没有出现页面，而是 出现 404 ：</h3> 
<p><img alt="6" src="https://images2.imgbox.com/d0/58/QQj1xqnV_o.png"></p> 
<p>进查找<a href="https://blog.csdn.net/qq_38117192/article/details/88997756">参考资料（闪灵龍：laravel 路由404问题）</a>发现是配置问题：</p> 
<p><img alt="27" src="https://images2.imgbox.com/03/7b/RC4btws8_o.png"></p> 
<p><img alt="3" height="516" src="https://images2.imgbox.com/49/ba/YOJLqhuN_o.png" width="586"></p> 
<pre><code>try_files $uri $uri/ /index.php?$query_string;</code></pre> 
<p>重启服务器后：<br><img alt="7" height="405" src="https://images2.imgbox.com/23/3c/LAoABJUf_o.png" width="685"></p> 
<p>五、创建模型</p> 
<p>     1、在 /app 目录下创建 Models 模型文件夹 ，再创建一个模型文件  Article.php</p> 
<p><img alt="8" src="https://images2.imgbox.com/27/29/7ZnGuRvP_o.png"></p> 
<p>自动生成模型： </p> 
<pre><code>自动生成模型：
php artisan make:model 路径/名称（注意，在app目录下）
例子：
php artisan make:model Models/ArticleType</code></pre> 
<p>生成 控制器 执行命令：（注意：由于生成的模型系统不知道那张表，导致生成）</p> 
<pre><code>php artisan admin:make ArticleController --model=App\\Models\\Article

// 在windows系统中
php artisan admin:make ArticleController --model=App\Models\Article</code></pre> 
<p>执行命令之后，生成 ArticleController.php 文件</p> 
<p><img alt="0" src="https://images2.imgbox.com/a1/97/9Pi468bo_o.png"></p> 
<p>之后在 路由文件 添加路由 且 后台中进行菜单添加：</p> 
<p><img alt="5" src="https://images2.imgbox.com/62/24/XVg1Alov_o.png"></p> 
<p><img alt="2" src="https://images2.imgbox.com/d9/2c/s3294DxD_o.png"></p> 
<p> </p> 
<h3>五：路由</h3> 
<p>教程：<a href="https://xueyuanjun.com/post/19442.html" rel="nofollow">https://xueyuanjun.com/post/19442.html</a></p> 
<h3>六：命令</h3> 
<p>自动生成模型：</p> 
<pre><code>自动生成模型：
php artisan make:model 路径/名称（注意，在app目录下）
例子：
php artisan make:model Models/ArticleType</code></pre> 
<p>自动生成路由器：</p> 
<pre><code>php artisan admin:make 控制器名 --model=模型路径

php artisan admin:make ArticleTypeController --model=App\Models\ArticleType

注意：

    1、执行 路由器 命令时，先在模型 类中增加属性 protected $table = '表名'，否则生成的路由器要自己写很多东西;

    2、在生成路由器之后，在routs.php 中增加 

       $router-&gt;resource('xxxx', xxxxController::class);

</code></pre> 
<p>清缓存：</p> 
<pre><code>php artisan cache:clear 
php artisan config:clear 

php artisan config:cache  ：不上线不用执行该命令，由于该命令会有一个配置的缓存，执行后，您的 config 文件夹内的配置 就会失效，原因是系统在  bootstrap 中生成了 一个 config,php 文件
失效，执行上面两条命令即可</code></pre> 
<p>1、缓存可会导致 中英文切换失败</p> 
<p>2、会导致配置修改失效</p> 
<p>原因：</p> 
<p>bootstrap/cache/config.php 存在该文件，系统只会读取该文件的配置</p> 
<p> </p> 
<p> </p> 
<h3>附页：</h3> 
<p>Grid:</p> 
<pre><code class="language-php">隐藏筛选：
$grid-&gt;disableFilter();//隐藏筛选

//快速搜索 
$grid-&gt;quickSearch('表字段名1','表字段名2',……);
例子:
$grid-&gt;quickSearch('title','subtitle')-&gt;placeholder('根据标题与副标题搜索');

$grid-&gt;setTitle('为该列表设置标题');</code></pre> 
<p> </p> 
<p>Form:</p> 
<pre><code>
$form-&gt;setTitle('修改标题');

$form-&gt;isEditing() // 判断是否是编辑
    编辑时获取id:
        方法一：$param = request()-&gt;route()-&gt;parameters()
        方法二：$form-&gt;model()-&gt;id (版本)

$form-&gt;isCreating() //判断是否是创建

</code></pre> 
<p>Show:</p> 
<pre><code>$show-&gt;getModel() //获取展示的对象

$show-&gt;getModel()-&gt;toArray() //获取数据 ，对象转成数组

$show-&gt;getResourcePath() //获取当前路径</code></pre> 
<pre><code>if ($request-&gt;acceptsJson()) {
            if ($exception instanceof AuthenticationException) {
                return fail( 'Unauthenticated');
            }
            if($exception-&gt;getMessage() == 'Route [login] not defined.'){
                return fail( 'Unauthenticated');
            }
        }</code></pre> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/77c76541b0a09b6f2c46830ace107d74/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微信小程序如何播放音频，这里以本地mp3文件举例。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/95c77afacd21fef8ab507092cd9a7114/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python导入同级、下级、上级目录的文件方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>