<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CentOS7安装部署DM8 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CentOS7安装部署DM8" />
<meta property="og:description" content="文章目录 DM8下载一、操作系统配置二、安装前准备检查Linux操作系统信息检查内核信息检查操作系统版本检查CPU信息检查内存信息 关闭防火墙创建用户组及用户修改文件打开最大数规划安装目录 三、数据库安装命令行安装 四、数据库实例配置命令行配置实例 五、注册服务命令行注册服务 六、启动、停止数据库命令行启停数据库 七、登录数据库命令行登录数据库 总结 DM8下载 下载链接：link
一、操作系统配置 处理器: 1个
内核: 2个
内存: 2G
硬盘: 50G
二、安装前准备 检查Linux操作系统信息 检查内核信息 uname -r 检查操作系统版本 cat /etc/redhat-release 检查CPU信息 lscpu 检查内存信息 free -h cat /proc/meminfo | grep &#39;Comm&#39; 关闭防火墙 systemctl stop firewalld.service systemctl disable firewalld.service systemctl status firewalld.service 创建用户组及用户 groupadd dinstall mkdir -p /home/dmdba useradd -g dinstall -m -d /home/dmdba/dm -s /bin/bash dmdba passwd dmdba 修改文件打开最大数 vi /etc/security/limits.conf ##添加以下内容 dmdba soft nofile 65536 dmdba hard nofile 65536 dmdba soft core unlimited dmdba hard core unlimited 规划安装目录 目录路径说明/opt/tmp安装包存放路径/mnt镜像文件挂载路径/home/dmdba/dm数据库安装路径/dm/dbdata/dmdata数据文件路径/dm/dbbak/dmbak数据备份路径/dm/dbarch/dmarch数据归档路径 mkdir -p /opt/tmp mkdir -p /mnt ##上传安装部署文件dm8_20230104_x86_rh6_64." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/934ee230df301e38698f583355f646d9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-30T10:02:30+08:00" />
<meta property="article:modified_time" content="2023-05-30T10:02:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CentOS7安装部署DM8</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#DM8_4" rel="nofollow">DM8下载</a></li><li><a href="#_9" rel="nofollow">一、操作系统配置</a></li><li><a href="#_16" rel="nofollow">二、安装前准备</a></li><li><ul><li><a href="#Linux_17" rel="nofollow">检查Linux操作系统信息</a></li><li><ul><li><a href="#_18" rel="nofollow">检查内核信息</a></li><li><a href="#_22" rel="nofollow">检查操作系统版本</a></li><li><a href="#CPU_26" rel="nofollow">检查CPU信息</a></li><li><a href="#_30" rel="nofollow">检查内存信息</a></li></ul> 
   </li><li><a href="#_35" rel="nofollow">关闭防火墙</a></li><li><a href="#_41" rel="nofollow">创建用户组及用户</a></li><li><a href="#_48" rel="nofollow">修改文件打开最大数</a></li><li><a href="#_57" rel="nofollow">规划安装目录</a></li></ul> 
  </li><li><a href="#_82" rel="nofollow">三、数据库安装</a></li><li><ul><li><a href="#_83" rel="nofollow">命令行安装</a></li></ul> 
  </li><li><a href="#_102" rel="nofollow">四、数据库实例配置</a></li><li><ul><li><a href="#_103" rel="nofollow">命令行配置实例</a></li></ul> 
  </li><li><a href="#_116" rel="nofollow">五、注册服务</a></li><li><ul><li><a href="#_117" rel="nofollow">命令行注册服务</a></li></ul> 
  </li><li><a href="#_128" rel="nofollow">六、启动、停止数据库</a></li><li><ul><li><a href="#_129" rel="nofollow">命令行启停数据库</a></li></ul> 
  </li><li><a href="#_159" rel="nofollow">七、登录数据库</a></li><li><ul><li><a href="#_160" rel="nofollow">命令行登录数据库</a></li></ul> 
  </li><li><a href="#_166" rel="nofollow">总结</a></li></ul> 
</div> 
<p></p> 
<hr> 
<h2><a id="DM8_4"></a>DM8下载</h2> 
<p>下载链接：<a href="https://www.dameng.com/DM8.html" rel="nofollow">link</a></p> 
<hr> 
<h2><a id="_9"></a>一、操作系统配置</h2> 
<p>处理器: 1个<br> 内核: 2个<br> 内存: 2G<br> 硬盘: 50G</p> 
<hr> 
<h2><a id="_16"></a>二、安装前准备</h2> 
<h3><a id="Linux_17"></a>检查Linux操作系统信息</h3> 
<h4><a id="_18"></a>检查内核信息</h4> 
<pre><code>uname -r
</code></pre> 
<h4><a id="_22"></a>检查操作系统版本</h4> 
<pre><code>cat /etc/redhat-release
</code></pre> 
<h4><a id="CPU_26"></a>检查CPU信息</h4> 
<pre><code>lscpu
</code></pre> 
<h4><a id="_30"></a>检查内存信息</h4> 
<pre><code>free -h
cat /proc/meminfo | grep 'Comm'
</code></pre> 
<h3><a id="_35"></a>关闭防火墙</h3> 
<pre><code>systemctl stop firewalld.service
systemctl disable firewalld.service
systemctl status firewalld.service
</code></pre> 
<h3><a id="_41"></a>创建用户组及用户</h3> 
<pre><code>groupadd dinstall
mkdir -p /home/dmdba
useradd -g dinstall -m -d /home/dmdba/dm -s /bin/bash dmdba
passwd dmdba
</code></pre> 
<h3><a id="_48"></a>修改文件打开最大数</h3> 
<pre><code>vi /etc/security/limits.conf
##添加以下内容
dmdba soft nofile 65536
dmdba hard nofile 65536
dmdba soft core unlimited
dmdba hard core unlimited
</code></pre> 
<h3><a id="_57"></a>规划安装目录</h3> 
<table><thead><tr><th>目录路径</th><th>说明</th></tr></thead><tbody><tr><td>/opt/tmp</td><td>安装包存放路径</td></tr><tr><td>/mnt</td><td>镜像文件挂载路径</td></tr><tr><td>/home/dmdba/dm</td><td>数据库安装路径</td></tr><tr><td>/dm/dbdata/dmdata</td><td>数据文件路径</td></tr><tr><td>/dm/dbbak/dmbak</td><td>数据备份路径</td></tr><tr><td>/dm/dbarch/dmarch</td><td>数据归档路径</td></tr></tbody></table> 
<pre><code>mkdir -p /opt/tmp
mkdir -p /mnt
##上传安装部署文件dm8_20230104_x86_rh6_64.zip至/opt/tmp下
##解压
unzip /opt/tmp/dm8_20230104_x86_rh6_64.zip
##挂载镜像目录
mount -o loop /opt/tmp/dm8_20230104_x86_rh6_64.iso /mnt
##创建安装目录
mkdir -p /dm/dbdata/dmdata
mkdir -p /dm/dbbak/dmbak
mkdir -p /dm/dbarch/dmarch
chown -R dmdba:dinstall /dm
chown -R dmdba:dinstall /home/dmdba
</code></pre> 
<hr> 
<h2><a id="_82"></a>三、数据库安装</h2> 
<h3><a id="_83"></a>命令行安装</h3> 
<p>切换至 dmdba 用户下，在 /mnt 目录下使用命令行安装数据库程序，依次执行以下命令安装 DM 数据库。</p> 
<pre><code>su - dmdba
cd /mnt/
./DMInstall.bin -i
</code></pre> 
<p>按需求选择安装语言，默认为中文。本地安装选择【不输入 Key 文件】，选择【默认时区 21】。<br> <img src="https://images2.imgbox.com/ba/21/JBJakGt4_o.png" alt="在这里插入图片描述"><br> 选择【1-典型安装】，按已规划的安装目录 /home/dmdba/dm 完成数据库软件安装<br> <img src="https://images2.imgbox.com/ca/db/faEEOxFs_o.png" alt="在这里插入图片描述"><br> 数据库安装大概 1~2 分钟，数据库安装完成后，显示如下界面。<br> <img src="https://images2.imgbox.com/9c/e1/bvjx7eQw_o.png" alt="在这里插入图片描述"><br> 数据库安装完成后，需要切换至 root 用户执行上图中的命令 /dm8/script/root/root_installer.sh 创建 DmAPService，否则会影响数据库备份。</p> 
<pre><code>exit
/home/dmdba/dm/dmdbms/script/root/root_installer.sh
</code></pre> 
<hr> 
<h2><a id="_102"></a>四、数据库实例配置</h2> 
<h3><a id="_103"></a>命令行配置实例</h3> 
<p>使用 dmdba 用户配置实例，进入到 DM 数据库安装目录下的 bin 目录中，使用 dminit 命令初始化实例。<br> dminit 命令可设置多种参数，可执行如下命令查看可配置参数。</p> 
<pre><code>su - dmdba
cd /home/dmdba/dm/dmdbms/bin
./dminit help
</code></pre> 
<p>以下命令设置页大小为 32 KB，簇大小为 16 KB，大小写敏感，字符集为 utf_8，数据库名为 DMDB，实例名为 DBSERVER，端口为 5236</p> 
<pre><code>./dminit INI_FILE=/dm/dbdata/dmdata/DAMENG/dm.ini PATH=/dm/dbdata/dmdata PAGE_SIZE=32 EXTENT_SIZE=16 CASE_SENSITIVE=y CHARSET=1 DB_NAME=DMDB INSTANCE_NAME=DBSERVER PORT_NUM=5236
</code></pre> 
<hr> 
<h2><a id="_116"></a>五、注册服务</h2> 
<h3><a id="_117"></a>命令行注册服务</h3> 
<p>注册服务需使用 root 用户进行注册。使用 root 用户进入数据库安装目录的 /script/root</p> 
<pre><code>cd /home/dmdba/dm/dmdbms/script/root
./dm_service_installer.sh -t dmserver -dm_ini /dm/dbdata/dmdata/DMDB/dm.ini -p DMSERVER
</code></pre> 
<p>dm_service_installer.sh 可设置多种参数，可执行如下命令查看可配置参数。</p> 
<pre><code>./dm_service_installer.sh -h
</code></pre> 
<hr> 
<h2><a id="_128"></a>六、启动、停止数据库</h2> 
<h3><a id="_129"></a>命令行启停数据库</h3> 
<p>服务注册成功后，启动数据库</p> 
<pre><code>systemctl start DmServiceDMSERVER.service
</code></pre> 
<p>停止数据库</p> 
<pre><code>systemctl stop DmServiceDMSERVER.service
</code></pre> 
<p>重启数据库</p> 
<pre><code>systemctl restart DmServiceDMSERVER.service
</code></pre> 
<p>查看数据库服务状态</p> 
<pre><code>systemctl status DmServiceDMSERVER.service
</code></pre> 
<p>前台启动数据库，进入 DM 安装目录下的 bin 目录，前台启动数据库时，输入exit 即可关闭数据库</p> 
<pre><code>cd /home/dmdba/dm/dmdbms/bin
./dmserver /dm/dbdata/dmdata/DMDB/dm.ini
</code></pre> 
<p>也可进入 DM 安装目录下的 bin 目录下，启动/停止/重启数据库，如下所示：</p> 
<pre><code>cd /home/dmdba/dm/dmdbms/bin
./DmServiceDMSERVER start/stop/restart
##查看数据库状态，如下所示：
./DmServiceDMSERVER status
</code></pre> 
<hr> 
<h2><a id="_159"></a>七、登录数据库</h2> 
<h3><a id="_160"></a>命令行登录数据库</h3> 
<pre><code>cd /home/dmdba/dm/dmdbms/bin
./disql SYSDBA/SYSDBA
</code></pre> 
<hr> 
<h2><a id="_166"></a>总结</h2> 
<p>以上就是Centos7安装部署DM8数据库全部内容，本文仅仅简单介绍了使用命令行安装部署，然而DM8也提供了图形化界面的安装，有兴趣的小伙伴可登录达梦数据库官网进行详细查看。</p> 
<p>达梦数据库社区地址：https://eco.dameng.com</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/77629190b0741c048a703ea5f4e0745e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">svg教程-初识svg</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/74c615d05192ab75cb690be960a6051c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C2360 “×××”的初始化操作由“case”标签跳过</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>