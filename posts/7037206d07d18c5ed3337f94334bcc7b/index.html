<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>机器视觉（五）——摄像头坐标系，图像坐标系，世界坐标系的转换 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="机器视觉（五）——摄像头坐标系，图像坐标系，世界坐标系的转换" />
<meta property="og:description" content="机器视觉（五）——摄像头坐标系，图像坐标系，世界坐标系的转换
目录 1、图像坐标系(Pixel coordinate system)2、成像平面坐标系(Retinal coordinate system)3、摄像机坐标系(Camera coordinate system)4、世界坐标系(World coordinate system)5、摄像机线性模型 1、图像坐标系(Pixel coordinate system) 摄像机采集的数字图像在计算机内可以存储为数组，数组中的每一个元素(象素，pixel)的值即是图像点的亮度(灰度)。如图4.1所示，在图像上定义直角坐标系u-v，每一象素的坐标(u,v)分别是该象素在数组中的列数和行数。故(u,v)是以象素为单位的图像坐标系坐标。
2、成像平面坐标系(Retinal coordinate system) 由于图像坐标系只表示象素位于数字图像的列数和行数，并没有用物理单位表示出该象素在图像中的物理位置，因而需要再建立以物理单位(例如厘米)表示的成像平面坐标系x-y，如图4.1所示。我们用(x,y)表示以物理单位度量的成像平面坐标系的坐标。在x-y坐标系中，原点定义在摄像机光轴和图像平面的交点处，称为图像的主点(principal point)，该点一般位于图像中心处，但由于摄像机制作的原因，可能会有些偏离，在坐标系下的坐标为(u0,v0)，每个象素在x轴和y轴方向上的物理尺寸为dx、dy，两个坐标系的关系如下：
其中s’表示因摄像机成像平面坐标轴相互不正交引出的倾斜因子(skew factor)。
3、摄像机坐标系(Camera coordinate system) 摄像机成像几何关系可由图4.2表示，其中O点称为摄像机光心，轴和轴
与成像平面坐标系的x轴和y轴平行，轴为摄像机的光轴，和图像平面垂直。光轴与图像平面的交点为图像主点O’，由点O与轴组成的直角坐标系称为摄像机坐标系。OO’为摄像机焦距。
4、世界坐标系(World coordinate system) 在环境中还选择一个参考坐标系来描述摄像机和物体的位置，该坐标系称为世界坐标系。摄像机坐标系和世界坐标系之间的关系可用旋转矩阵R与平移向量t来描述。由此，空间中一点P在世界坐标系和摄像机坐标系下的齐次坐标分别为和且存在如下关系：
其中R是3×3正交单位矩阵，t是3维平移向量，，M1是两个坐标系之间的联系矩阵。
5、摄像机线性模型 透视投影是最常用的成像模型，可以用针孔成像模型近似表示。其特点是所有来自场景的光线均通过一个投影中心，它对应于透镜的中心。经过投影中心且垂直于图像平面的直线称为投影轴或光轴，如图4.3所示。其中是固定在摄像机上的直角坐标系，遵循右手法则，其原点位于投影中心，轴与投影重合并指向场景，轴和轴与图像平面的坐标轴和平行，平面与图像平面的距离为摄像机的焦距f。在实际摄像机中，图像平面位于投影中心后距离为f的位置，其投影图像是倒立的，为了避免图像倒立，假定有一个虚拟成像x &#39;y &#39;z’平面位于投影中心的前面，点在图像平面上的投影位置(x ,y)可以通过计算点的视线与虚拟成像平面的交点得到。
摄像机坐标系与成像平面坐标系之间的关系为：
其中，(x ,y)为P点在成像平面坐标系下的坐标，为空间点P在摄像
机坐标系下的坐标。用齐次坐标与矩阵来表示：
将(4.1)与(4.2)代入上式，得到图像坐标系和世界坐标系之间的关系：
其中，，，[R t]完全由摄像机相对于世界坐标系的方位决定，称为摄像机外部参数矩阵，它由旋转矩阵和平移向量组成；K只与摄像机内部结构有关，称为摄像机内参数矩阵，其中(u0,v0)为主点坐标，分别为图像u轴和v轴上的尺度因子，s是描述两图像坐标轴倾斜程度的参数；P为3 ×4矩阵，称为投影矩阵，即从世界坐标系到图像坐标系的转换矩阵。可见，如果已知摄像机的内外参数，就已知投影矩阵P，对任何空间点，如果已知其三维坐标就可以求出其图像坐标点的位置(u ,v)。但是，如果知道空间某点的图像点的坐标(u ,v)，即使已知投影矩阵，其空间坐标也不是唯一确定的它对应的是空间的一条直线。即单目摄像头只能测平面信息，不能获取深度信息。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7037206d07d18c5ed3337f94334bcc7b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-28T17:43:50+08:00" />
<meta property="article:modified_time" content="2021-03-28T17:43:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">机器视觉（五）——摄像头坐标系，图像坐标系，世界坐标系的转换</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><font size="6" face="黑体" color="#000000"> <strong>机器视觉（五）——摄像头坐标系，图像坐标系，世界坐标系的转换</strong></font><br> </p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#1Pixel_coordinate_system_2" rel="nofollow">1、图像坐标系(Pixel coordinate system)</a></li><li><a href="#2Retinal_coordinate_system_7" rel="nofollow">2、成像平面坐标系(Retinal coordinate system)</a></li><li><a href="#3Camera_coordinate_system_14" rel="nofollow">3、摄像机坐标系(Camera coordinate system)</a></li><li><a href="#4World_coordinate_system_20" rel="nofollow">4、世界坐标系(World coordinate system)</a></li><li><a href="#5_27" rel="nofollow">5、摄像机线性模型</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="1Pixel_coordinate_system_2"></a>1、图像坐标系(Pixel coordinate system)</h3> 
<p>摄像机采集的数字图像在计算机内可以存储为数组，数组中的每一个元素(象素，pixel)的值即是图像点的亮度(灰度)。如图4.1所示，在图像上定义直角坐标系u-v，每一象素的坐标(u,v)分别是该象素在数组中的列数和行数。故(u,v)是以象素为单位的图像坐标系坐标。<br> <img src="https://images2.imgbox.com/07/b1/FDvDitdh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2Retinal_coordinate_system_7"></a>2、成像平面坐标系(Retinal coordinate system)</h3> 
<p>由于图像坐标系只表示象素位于数字图像的列数和行数，并没有用物理单位表示出该象素在图像中的物理位置，因而需要再建立以物理单位(例如厘米)表示的成像平面坐标系x-y，如图4.1所示。我们用(x,y)表示以物理单位度量的成像平面坐标系的坐标。在x-y坐标系中，原点定义在摄像机光轴和图像平面的交点处，称为图像的主点(principal point)，该点一般位于图像中心处，但由于摄像机制作的原因，可能会有些偏离，在坐标系下的坐标为(u0,v0)，每个象素在x轴和y轴方向上的物理尺寸为dx、dy，两个坐标系的关系如下：<br> <img src="https://images2.imgbox.com/07/98/niXpzx9e_o.png" alt="在这里插入图片描述"></p> 
<p>其中s’表示因摄像机成像平面坐标轴相互不正交引出的倾斜因子(skew factor)。</p> 
<h3><a id="3Camera_coordinate_system_14"></a>3、摄像机坐标系(Camera coordinate system)</h3> 
<p>摄像机成像几何关系可由图4.2表示，其中O点称为摄像机光心，轴和轴<br> 与成像平面坐标系的x轴和y轴平行，轴为摄像机的光轴，和图像平面垂直。光轴与图像平面的交点为图像主点O’，由点O与轴组成的直角坐标系称为摄像机坐标系。OO’为摄像机焦距。<br> <img src="https://images2.imgbox.com/2f/93/RCQdW1SW_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4World_coordinate_system_20"></a>4、世界坐标系(World coordinate system)</h3> 
<p>在环境中还选择一个参考坐标系来描述摄像机和物体的位置，该坐标系称为世界坐标系。摄像机坐标系和世界坐标系之间的关系可用旋转矩阵R与平移向量t来描述。由此，空间中一点P在世界坐标系和摄像机坐标系下的齐次坐标分别为和且存在如下关系：<br> <img src="https://images2.imgbox.com/19/39/YkXqsUE4_o.png" alt="在这里插入图片描述"></p> 
<p>其中R是3×3正交单位矩阵，t是3维平移向量，，M1是两个坐标系之间的联系矩阵。</p> 
<h3><a id="5_27"></a>5、摄像机线性模型</h3> 
<p>透视投影是最常用的成像模型，可以用针孔成像模型近似表示。其特点是所有来自场景的光线均通过一个投影中心，它对应于透镜的中心。经过投影中心且垂直于图像平面的直线称为投影轴或光轴，如图4.3所示。其中是固定在摄像机上的直角坐标系，遵循右手法则，其原点位于投影中心，轴与投影重合并指向场景，轴和轴与图像平面的坐标轴和平行，平面与图像平面的距离为摄像机的焦距f。在实际摄像机中，图像平面位于投影中心后距离为f的位置，其投影图像是倒立的，为了避免图像倒立，假定有一个虚拟成像x 'y 'z’平面位于投影中心的前面，点在图像平面上的投影位置(x ,y)可以通过计算点的视线与虚拟成像平面的交点得到。<br> <img src="https://images2.imgbox.com/16/c5/mSmMhvu3_o.png" alt="在这里插入图片描述"></p> 
<p>摄像机坐标系与成像平面坐标系之间的关系为：<br> <img src="https://images2.imgbox.com/fd/53/y0zTdz13_o.png" alt="在这里插入图片描述"></p> 
<p>其中，(x ,y)为P点在成像平面坐标系下的坐标，为空间点P在摄像<br> 机坐标系下的坐标。用齐次坐标与矩阵来表示：<br> <img src="https://images2.imgbox.com/68/d4/ySJ6UOHI_o.png" alt="在这里插入图片描述"></p> 
<p>将(4.1)与(4.2)代入上式，得到图像坐标系和世界坐标系之间的关系：<br> <img src="https://images2.imgbox.com/c9/52/O1BZ4Dfr_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/03/d0/1TbICCfZ_o.png" alt="在这里插入图片描述"><br> 其中，，，[R t]完全由摄像机相对于世界坐标系的方位决定，称为摄像机外部参数矩阵，它由旋转矩阵和平移向量组成；K只与摄像机内部结构有关，称为摄像机内参数矩阵，其中(u0,v0)为主点坐标，分别为图像u轴和v轴上的尺度因子，s是描述两图像坐标轴倾斜程度的参数；P为3 ×4矩阵，称为投影矩阵，即从世界坐标系到图像坐标系的转换矩阵。可见，如果已知摄像机的内外参数，就已知投影矩阵P，对任何空间点，如果已知其三维坐标就可以求出其图像坐标点的位置(u ,v)。但是，如果知道空间某点的图像点的坐标(u ,v)，即使已知投影矩阵，其空间坐标也不是唯一确定的它对应的是空间的一条直线。即单目摄像头只能测平面信息，不能获取深度信息。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b542e9d44b8c6f4ffc0671176ee19bc6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">《软件测试的艺术》高清脑图总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c3545375337d19e87c616f546e526422/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">mysql图形化2</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>