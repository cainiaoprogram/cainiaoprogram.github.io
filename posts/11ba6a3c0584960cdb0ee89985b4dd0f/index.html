<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux系统中如何验证网络端口通不通 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux系统中如何验证网络端口通不通" />
<meta property="og:description" content="linux系统中如何验证网络端口通不通 前言相关命令详解telnet命令具体的用法端口不通的时候：端口开启的时候:telnet 测试端口连通之后,还有惊喜如何退出 telnet命令第一种方法第二种方法 nc命令具体用法端口不通的时候:端口开启的时候:nc命令连通端口之后也是具备可以发送和接收信息的功能如何退出nc命令nc命令很强大 命令很强大但是有可能受环境限制为了适应环境,功能简配深处逆境,总有办法绝处逢生端口不通的时候端口正常的时候 简单介绍一下 netstat 命令netstat 命令参数介绍netstat 状态介绍服务器的监听状态:TCP连接时候的三次握手状态时候的TCP连接成功的状态TCP断开连接四次挥手时候的状态 前言 我们在linux系统网络调试中经常会遇到需要测试验证对应的端口是否正常的场景,接下来讲解一下常用的方法。
相关命令详解 telnet命令 具体的用法 telnet serverIP port
注意事项是 serverIP和port之间需要用空格分开
具体的操作:
端口不通的时候： ggd@ubuntu:~$ telnet 192.168.70.1 20 Trying 192.168.70.1... telnet: Unable to connect to remote host: Connection refused ggd@ubuntu:~$ 端口开启的时候: ggd@ubuntu:~$ telnet 192.168.70.1 8080 Trying 192.168.70.1... Connected to 192.168.70.1. Escape character is &#39;^]&#39;. 需要注意的是**Connected to 192.168.70.1.表示对应的端口是通的**
telnet 测试端口连通之后,还有惊喜 大家通过上图可以了解,当通过telnet命令连通对应的端口之后，可以通过终端给对应的服务器发送消息,另外同时也可以接收服务器发送的消息
如何退出 telnet命令 大家在测试端口的时候如果对应的端口连通之后,此时该命令处于阻塞状态,不知道该怎么退出
第一种方法 先按 ctrl &#43; ] 然后再按 ctrl &#43; D 第二种方法 先按 ctrl &#43; ] 然后再输入quit nc命令 具体用法 nc -v serverIP port" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/11ba6a3c0584960cdb0ee89985b4dd0f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-10T12:33:40+08:00" />
<meta property="article:modified_time" content="2022-12-10T12:33:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux系统中如何验证网络端口通不通</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>linux系统中如何验证网络端口通不通</h4> 
 <ul><li><a href="#_2" rel="nofollow">前言</a></li><li><a href="#_6" rel="nofollow">相关命令详解</a></li><li><ul><li><a href="#telnet_7" rel="nofollow">telnet命令</a></li><li><ul><li><a href="#_8" rel="nofollow">具体的用法</a></li><li><a href="#_13" rel="nofollow">端口不通的时候：</a></li><li><a href="#_22" rel="nofollow">端口开启的时候:</a></li><li><a href="#telnet__34" rel="nofollow">telnet 测试端口连通之后,还有惊喜</a></li><li><a href="#_telnet_38" rel="nofollow">如何退出 telnet命令</a></li><li><ul><li><a href="#_40" rel="nofollow">第一种方法</a></li><li><a href="#_45" rel="nofollow">第二种方法</a></li></ul> 
   </li></ul> 
   </li><li><a href="#nc_52" rel="nofollow">nc命令</a></li><li><ul><li><a href="#_53" rel="nofollow">具体用法</a></li><li><a href="#_57" rel="nofollow">端口不通的时候:</a></li><li><a href="#_65" rel="nofollow">端口开启的时候:</a></li><li><a href="#nc_73" rel="nofollow">nc命令连通端口之后也是具备可以发送和接收信息的功能</a></li><li><a href="#nc_75" rel="nofollow">如何退出nc命令</a></li><li><a href="#nc_78" rel="nofollow">nc命令很强大</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_83" rel="nofollow">命令很强大但是有可能受环境限制</a></li><li><ul><li><a href="#_84" rel="nofollow">为了适应环境,功能简配</a></li><li><a href="#_87" rel="nofollow">深处逆境,总有办法绝处逢生</a></li><li><ul><li><a href="#_90" rel="nofollow">端口不通的时候</a></li><li><a href="#_95" rel="nofollow">端口正常的时候</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_netstat__102" rel="nofollow">简单介绍一下 netstat 命令</a></li><li><ul><li><a href="#netstat__105" rel="nofollow">netstat 命令参数介绍</a></li><li><a href="#netstat__111" rel="nofollow">netstat 状态介绍</a></li><li><ul><li><a href="#_114" rel="nofollow">服务器的监听状态:</a></li><li><a href="#TCP_116" rel="nofollow">TCP连接时候的三次握手状态时候的</a></li><li><a href="#TCP_119" rel="nofollow">TCP连接成功的状态</a></li><li><a href="#TCP_121" rel="nofollow">TCP断开连接四次挥手时候的状态</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_2"></a>前言</h2> 
<p>我们在linux系统网络调试中经常会遇到需要测试验证对应的端口是否正常的场景,接下来讲解一下常用的方法。</p> 
<h2><a id="_6"></a>相关命令详解</h2> 
<h3><a id="telnet_7"></a>telnet命令</h3> 
<h4><a id="_8"></a>具体的用法</h4> 
<p><strong><mark>telnet serverIP port</mark></strong><br> 注意事项是 serverIP和port之间需要用空格分开<br> 具体的操作:</p> 
<h4><a id="_13"></a>端口不通的时候：</h4> 
<pre><code class="prism language-bash">ggd@ubuntu:~$ telnet <span class="token number">192.168</span>.70.1 <span class="token number">20</span>
Trying <span class="token number">192.168</span>.70.1<span class="token punctuation">..</span>.
telnet: Unable to connect to remote host: Connection refused
ggd@ubuntu:~$ 
</code></pre> 
<h4><a id="_22"></a>端口开启的时候:</h4> 
<pre><code class="prism language-bash">ggd@ubuntu:~$ telnet <span class="token number">192.168</span>.70.1 <span class="token number">8080</span>
Trying <span class="token number">192.168</span>.70.1<span class="token punctuation">..</span>.
Connected to <span class="token number">192.168</span>.70.1.
Escape character is <span class="token string">'^]'</span><span class="token builtin class-name">.</span>

</code></pre> 
<p>需要注意的是**<mark>Connected to 192.168.70.1.表示对应的端口是通的</mark>**</p> 
<h4><a id="telnet__34"></a>telnet 测试端口连通之后,还有惊喜</h4> 
<p><img src="https://images2.imgbox.com/ba/a2/FooGa5Rg_o.png" alt="在这里插入图片描述"><br> <strong>大家通过上图可以了解,当通过telnet命令连通对应的端口之后，可以通过终端给对应的服务器发送消息,另外同时也可以接收服务器发送的消息</strong></p> 
<h4><a id="_telnet_38"></a>如何退出 telnet命令</h4> 
<p>大家在测试端口的时候如果对应的端口连通之后,此时该命令处于阻塞状态,不知道该怎么退出</p> 
<h5><a id="_40"></a>第一种方法</h5> 
<pre><code class="prism language-bash">先按 ctrl + <span class="token punctuation">]</span>
然后再按 ctrl + D
</code></pre> 
<h5><a id="_45"></a>第二种方法</h5> 
<pre><code class="prism language-bash">先按 ctrl + <span class="token punctuation">]</span>
然后再输入quit
</code></pre> 
<h3><a id="nc_52"></a>nc命令</h3> 
<h4><a id="_53"></a>具体用法</h4> 
<p><strong><mark>nc -v serverIP port</mark><br> -v 即为将命令执行信息详细输出</strong></p> 
<h4><a id="_57"></a>端口不通的时候:</h4> 
<pre><code class="prism language-bash">ggd@ubuntu:~$ <span class="token function">nc</span> <span class="token parameter variable">-v</span> <span class="token number">192.168</span>.70.1 <span class="token number">20</span>
nc: connect to <span class="token number">192.168</span>.70.1 port <span class="token number">20</span> <span class="token punctuation">(</span>tcp<span class="token punctuation">)</span> failed: Connection refused
ggd@ubuntu:~$ 
</code></pre> 
<h4><a id="_65"></a>端口开启的时候:</h4> 
<pre><code class="prism language-bash">ggd@ubuntu:~$ <span class="token function">nc</span> <span class="token parameter variable">-v</span> <span class="token number">192.168</span>.70.1 <span class="token number">8080</span>
Connection to <span class="token number">192.168</span>.70.1 <span class="token number">8080</span> port <span class="token punctuation">[</span>tcp/http-alt<span class="token punctuation">]</span> succeeded<span class="token operator">!</span>

</code></pre> 
<h4><a id="nc_73"></a>nc命令连通端口之后也是具备可以发送和接收信息的功能</h4> 
<p><img src="https://images2.imgbox.com/cf/f0/9s6stXMp_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="nc_75"></a>如何退出nc命令</h4> 
<p><strong>ctrl + D</strong> 或者 <strong>ctrl + C</strong> 都可以结束</p> 
<h4><a id="nc_78"></a>nc命令很强大</h4> 
<p>nc命令 号称 <strong><mark>网络工具中的瑞士军刀</mark></strong>,测试端口是否通断只是牛刀小试</p> 
<p>nc命令 还可以 实现 <strong>端口扫描、文件传输、在线聊天、验证UDP端口</strong>后续有机会再出文章详细讲解</p> 
<h2><a id="_83"></a>命令很强大但是有可能受环境限制</h2> 
<h3><a id="_84"></a>为了适应环境,功能简配</h3> 
<p>大家看到上面针对 telnet 或者 nc 命令都是在虚拟机上执行的，但是有的时候，排查问题的时候是在开发板上进行的,正因为在开发板上,所以我们移植的busybox版本有所不同,因此 <strong>telnet 和 nc支持的命令参数有可能不全</strong>或者<strong>执行对应的命令之后没有相关的信息可供参考</strong></p> 
<h3><a id="_87"></a>深处逆境,总有办法绝处逢生</h3> 
<p>虽然telnet 和 nc 功能简配,但是最基础的功能还是有的,我们此时可以再结合 <strong>netstat</strong> 来实现我们的端口测试<br> 话不多说直接上操作</p> 
<h4><a id="_90"></a>端口不通的时候</h4> 
<p><img src="https://images2.imgbox.com/8b/47/v3E9zVXp_o.png" alt="在这里插入图片描述"><br> telnet 和 nc都有对应的提示信息,有这样的提醒我们感到很欣慰<br> 因为这个信息能直观的看到端口是不通的</p> 
<h4><a id="_95"></a>端口正常的时候</h4> 
<p><img src="https://images2.imgbox.com/be/9d/tVndbANt_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/54/d4/p8lzD7F5_o.png" alt="在这里插入图片描述"><br> 通过上图可以看出,执行完命令之后处于阻塞状态,但是我们此时不能下结论说这个端口没问题，我们需要用真实的证据来证明,此时就用到了<strong>netstat -atpn</strong>命令<br> <img src="https://images2.imgbox.com/7f/06/s0jJXRvw_o.png" alt="在这里插入图片描述"><br> 注意看红框和黄色箭头的标注,我们需要在 Foreign Address 和 PID/Program name 找到我们测试的IP、端口 和对应的进程名称,然后查看State状态是否是 **<mark>ESTABLISHED</mark><strong>状态，如果是</strong><mark>ESTABLISHED</mark>**表明端口正常如果不是该状态表示端口不通</p> 
<h2><a id="_netstat__102"></a>简单介绍一下 netstat 命令</h2> 
<p>该命令是是一个监控TCP/IP网络的非常有用的工具，它可以显示路由表、实际的网络连接以及每一个网络接口设备的状态信息</p> 
<h3><a id="netstat__105"></a>netstat 命令参数介绍</h3> 
<p>-a:显示所有连接的Socket<br> -t:展示TCP连接相关的信息<br> -p: 就是显示指定协议的信息<br> -n:直接使用IP,不经过域名服务器(优点:程序响应快,缺点:只能看到IP,看不到域名信息)</p> 
<h3><a id="netstat__111"></a>netstat 状态介绍</h3> 
<p><mark>简单介绍一下state几种常见的状态</mark><br> 描述的时候TCP在各个时期的状态</p> 
<h4><a id="_114"></a>服务器的监听状态:</h4> 
<p>LISTENING:监听来自客户端的TCP的连接请求,只有TCP服务器的时候才会有这样的状态</p> 
<h4><a id="TCP_116"></a>TCP连接时候的三次握手状态时候的</h4> 
<p>1.SYN-SENT:发送连接请求后等待匹配的连接请求，客户端发送连接请求<br> 2.SYN-RECEIVED:再收到和发送一个连接请求后等待对方对连接请求的确认，对方发送回来的确认连接信息</p> 
<h4><a id="TCP_119"></a>TCP连接成功的状态</h4> 
<p>ESTABLISHED:一个完整的TCP连接建立成功</p> 
<h4><a id="TCP_121"></a>TCP断开连接四次挥手时候的状态</h4> 
<p>1.FIN-WAIT-1:等待TCP连接中断请求<br> 2.FIN-WAIT-2:TCP等待连接中断请求信息<br> 3.CLOSE-WAIT:等待从本地用户发来的连接中断请求信息<br> 4.CLOSING:等待TCP对连接中断的确认信息<br> 5.LAST-ACK:等待原来的发向TCP的连接中断请求的确认信息<br> 6.TIME-WAIT:等待一段时间用来确保TCP接收到连接中断请求的确认信息<br> 7.CLOSED:没有任何连接状态</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0b400881e5879222eecc3fe084f74b5f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MATLAB编程测试传递函数的响应曲线（系统辨识第一篇）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/78ac48beee8b4d0398f15ed27ee89da5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">手把手教你实现printf函数（C语言方式）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>