<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>用python读取.text文件特定行的数据 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="用python读取.text文件特定行的数据" />
<meta property="og:description" content="如何用python循环读取下面.txt文件中，用红括号标出来的数据呢？
首先，观察数据可知，不同行的第一个数据元素不一样，所以考虑直接用正则表达式。
再加上，对读和写文件的操作，就行了
注：我用的是pycharm&#43;python2.7
话不多说，直接上代码
import re f1=file(&#39;shen.txt&#39;,&#39;r&#39;) data1=f1.readlines() # print data1 f1.close() results = [] for line in data1: data2=line.split() # print data2[0] m = re.findall(r&#34;[0-9]:&#34;, data2[0]) if m: results.append(line) # for i in data2[0]: # data3=i.split(&#34;:&#34;) # print data3 # if data3&gt;=0 and data3&lt;=50000: # results.append(line) # if i==&#39;1&#39;: # results.append(line) f2=file(&#39;deal.txt&#39;,&#39;w&#39;) f2.writelines(results) f2.close() 前期，我遇到“1：”这样的字符串实在是没办法处理，后来查找资料，发现有正则这么爽的东西！
在上面的代码中，需要说明的是： m = re.findall(r&#34;[0-9]:&#34;, data2[0]) 该语句的意思就是，对于字符串而言，寻找到能够匹配1：，2：，9：。。。。。。的字符串 最后处理的结果是：
由于数据不是很漂亮，还需要将里面的“，”和“：”这两个符号去掉，因此，我使用了replace语句
代码如下：
#coding:utf-8 #__author__ =&#39;dell&#39; import re f1=file(&#39;shen." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/086ed350c4186aafb027395a741c2587/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-08-20T17:26:11+08:00" />
<meta property="article:modified_time" content="2018-08-20T17:26:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">用python读取.text文件特定行的数据</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>如何用python循环读取下面.txt文件中，用红括号标出来的数据呢？</p> 
<p><img alt="" class="has" src="https://images2.imgbox.com/1c/00/YjFsefLm_o.png"></p> 
<p>首先，观察数据可知，不同行的第一个数据元素不一样，所以考虑直接用<strong>正则表达式</strong>。</p> 
<p>再加上，对读和写文件的操作，就行了</p> 
<p>注：我用的是pycharm+python2.7</p> 
<p>话不多说，直接上代码</p> 
<pre class="has"><code>
import re

f1=file('shen.txt','r')
data1=f1.readlines()
# print data1
f1.close()
results = []

for line in data1:
    data2=line.split()
    # print data2[0]
    m = re.findall(r"[0-9]:", data2[0])
    if m:
        results.append(line)

    # for i in data2[0]:
        # data3=i.split(":")
        # print data3
        # if data3&gt;=0 and data3&lt;=50000:
        #     results.append(line)


        # if i=='1':
        #     results.append(line)


f2=file('deal.txt','w')
f2.writelines(results)
f2.close()</code></pre> 
<p>前期，我遇到“1：”这样的字符串实在是没办法处理，后来查找资料，发现有正则这么爽的东西！</p> 
<pre class="has"><code>在上面的代码中，需要说明的是：
m = re.findall(r"[0-9]:", data2[0])
该语句的意思就是，对于字符串而言，寻找到能够匹配1：，2：，9：。。。。。。的字符串</code></pre> 
<p>最后处理的结果是：</p> 
<p><img alt="" class="has" height="526" src="https://images2.imgbox.com/40/b5/I3ZSFd1m_o.png" width="1099"></p> 
<p>由于数据不是很漂亮，还需要将里面的“，”和“：”这两个符号去掉，因此，我使用了<strong>replace语句</strong></p> 
<p><strong>代码如下：</strong></p> 
<pre class="has"><code>#coding:utf-8
#__author__ ='dell'

import re

f1=file('shen.txt','r')
data1=f1.readlines()
# print data1
f1.close()
results = []

for line in data1:
    data2=line.split()
    # print data2[0]
    m = re.findall(r"[0-9]:", data2[0])
    if m:
        results.append(line)

    # for i in data2[0]:
        # data3=i.split(":")
        # print data3
        # if data3&gt;=0 and data3&lt;=50000:
        #     results.append(line)


        # if i=='1':
        #     results.append(line)

f2=file('deal.txt','w')
f2.writelines(results)
f2.close()

# 替换掉所有的逗号，
f4=open('deal.txt','r')
data3=f4.read()
f4=data3.replace(',',' ')
f5=file('deal.txt','w')
f5.write(f4)
f5.close()

# 替换掉所有的冒号
f6=open('deal.txt','r')
data4=f6.read()
f6=data4.replace(':',' ')
f7=file('deal.txt','w')
f7.write(f6)
f7.close()
</code></pre> 
<p>最终，得到的数据就很漂亮了，如下所示：</p> 
<p><img alt="" class="has" height="436" src="https://images2.imgbox.com/46/73/2he6hEyN_o.png" width="1083"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0f34e1b16f160325a0ab87a3118e4121/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">查询oracle sql语句执行最慢和执行最多的语句！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/627fe28b8237bda29faafcbba16f394f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HashMap的put方法源码解析_JDK8</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>