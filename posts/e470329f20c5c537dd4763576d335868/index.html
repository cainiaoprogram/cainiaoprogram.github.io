<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>linux修改ip,mac命令和qt中编程修改 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="linux修改ip,mac命令和qt中编程修改" />
<meta property="og:description" content="linux修改Mac地址 有三种方法： 方法一： 1.关闭网卡设备 ifconfig eth0 down 2.修改MAC地址 ifconfig eth0 hw ether MAC地址 3.重启网卡 ifconfig eth0 up 方法二： 以上方法一修改后linux重启后MAC又恢复为原来的，为了下次启动时修改后的MAC仍有效，我们可以修改文件file:/etc/rc.d/rc.sysinit(RedFlag Linux为这个文件，其他版本的linux应该不同)的内容，在该文件末尾加以下内容： ifconfig eth0 down ifconfig eth0 hw ether MAC地址 ifconfig eth0 up 方法三： 很简单的，只是在./etc/sysconfig/network-scripts/ifcfg-eth0中加入下面一句话： MACADDR=00:AA:BB:CC:DD:EE linux修改IP地址 （1）Ifconfig命令 第一种使用ifconfig命令配置网卡的ip地址。此命令通常用来零时的测试用，计算机启动后
ip地址的配置将自动失效。具体用法如下。ifconfig eth0 ipadd netmask x.x.x.x。
子网掩码:ifconfig eth0 netmask x.x.x.x
其中ethx中的x代表第几快以太网卡，默认第一块为0.ipadd代表ip地址。x.x.x..x为子网掩码。例如给网卡eth0配置的ip地址为192.168.1.1 子网掩码为 255.255.255.0 。
（2）vi /etc/sysconfig/network-scripts/ifcfg-eth0
配置完以后重启动服务.，p地址就配置好了。其实前面3个的配置方法最终还是改变了/etc/sysconfig/network-scripts/ifcfg-eth0下的配置文件罢了。
linux修改网关地址 # route add default gw xxx.xxx.xxx.xxx(网关的IP) 如果用户想更改网关，编辑/etc/sysconfig/network-scripts/ifcfg-eth0文件，将对应的网关设置修改之后，执行下面的命令即可： #/etc/init.d/network restart Qt中如何获取主机名、IP、端口、MAC等信息？ 主要使用到的类有： QHostInfoQHostAddressQNetworkInterfaceQNetworkAddressEntry 1.获取登录用户 QString name = qgetenv(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e470329f20c5c537dd4763576d335868/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-10-14T08:53:18+08:00" />
<meta property="article:modified_time" content="2016-10-14T08:53:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">linux修改ip,mac命令和qt中编程修改</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="wgt-ask accuse-response line mod-shadow" id="wgt-ask"> 
 <h2><span class="ask-title ">linux修改Mac地址</span></h2> 
</div> 
<pre id="best-content-1268233788" class="best-text mb-10" style="">有三种方法：
方法一：
1.关闭网卡设备
ifconfig eth0 down
2.修改<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=MAC&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">MAC</a>地址
ifconfig eth0 hw ether <a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=MAC&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">MAC</a>地址
3.重启网卡
ifconfig eth0 up

方法二：
以上方法一修改后linux重启后<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=MAC&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">MAC</a>又恢复为原来的，为了下次启动时修改后的MAC仍有效，我们可以修改文件file:/etc/rc.d/rc.sysinit(RedFlag Linux为这个文件，其他版本的linux应该不同)的内容，在该文件末尾加以下内容：
ifconfig eth0 down
ifconfig eth0 hw ether MAC地址
ifconfig eth0 up

方法三：
很简单的，只是在./etc/sysconfig/network-scripts/ifcfg-eth0中加入下面一句话： 
MACA<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=DD&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">DD</a>R=00:<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=AA&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">AA</a>:BB:<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=CC&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">CC</a>:<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=DD&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">DD</a>:<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=EE&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1d9rHI-ryFBPyD1njPWuAnk0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPH0dnjb4Pj0Y" class="baidu-highlight">EE</a></pre>   
<h2><span class="ask-title ">linux修改IP地址</span></h2> 
<strong>（1）Ifconfig命令 </strong> 
<p>第一种使用ifconfig命令配置网卡的ip地址。此命令通常用来零时的测试用，计算机启动后</p> 
<p>ip地址的配置将自动失效。具体用法如下。ifconfig  eth0   ipadd    netmask      x.x.x.x。</p> 
<p>子网掩码:ifconfig eth0 netmask x.x.x.x<br> </p> 
<p>其中ethx中的x代表第几快以太网卡，默认第一块为0.ipadd代表ip地址。x.x.x..x为子网掩码。例如给网卡eth0配置的ip地址为192.168.1.1 子网掩码为 255.255.255.0 。</p> 
<p><strong>（2）vi  /etc/sysconfig/network-scripts/ifcfg-eth0</strong><br> </p> 
<p><img alt="" src="https://images2.imgbox.com/b1/17/iWTWR3Ob_o.jpg" border="0"></p> 
<p>配置完以后重启动服务.，p地址就配置好了。其实前面3个的配置方法最终还是改变了/etc/sysconfig/network-scripts/ifcfg-eth0下的配置文件罢了。</p> 
<h2><span class="ask-title ">linux修改网关地址</span></h2> 
<br> 
<pre id="best-content-2235238492" class="best-text mb-10" style="min-height:55px">　# route add default gw xxx.xxx.xxx.xxx(网关的<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=IP&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1dBuHn3rHcLuhnYrAPhrAc40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHnvPHczPjTL" class="baidu-highlight">IP</a>)

　　如果用户想更改网关，编辑/etc/sysconfig/network-scr<a target="_blank" rel="nofollow noopener noreferrer" href="https://www.baidu.com/s?wd=ip&amp;tn=44039180_cpr&amp;fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1dBuHn3rHcLuhnYrAPhrAc40ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EPHnvPHczPjTL" class="baidu-highlight">ip</a>ts/ifcfg-eth0文件，将对应的网关设置修改之后，执行下面的命令即可：

　　#/etc/init.d/network restart</pre> 
<span style="font-size:24px"><br> </span> 
<div> 
 <wbr></wbr> 
 <span style="font-size:24px">Qt中如何获取主机名、IP、端口、MAC等信息？</span> 
</div> 
<div>
  主要使用到的类有： 
</div> 
<div> 
 <div> 
  <ul><li>QHostInfo</li><li>QHostAddress</li><li>QNetworkInterface</li><li>QNetworkAddressEntry</li></ul> 
 </div> 
</div> 
<div>
  1.获取登录用户 
</div> 
<div> 
 <br> 
</div> 
<div> 
 <pre style="overflow-x:auto; overflow-y:hidden; padding:10px; margin-top:0px; margin-bottom:10.5px; word-break:break-all; word-wrap:break-word; border:1px solid rgb(204,204,204); background-color:rgb(63,63,63)"><span style="font-family:Monaco,Menlo,Consolas,Courier new,monospace; font-size:14px; color:#FFFFFF"><span style="line-height:17.5px; white-space:pre-wrap">QString name = qgetenv("USERNAME");
qDebug() &lt;&lt; "User Name:" &lt;&lt; name;</span></span>
</pre> 
</div> 
<div>
  输出： 
</div> 
<div> 
 <span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">User Name:"wangl-d"</span> 
</div> 
<div> 
 <span style="color:#aa0aa; font-size:12pt"><br> </span> 
</div> 
<div> 
 <span style="line-height:21px">2.获取主机名、IP地址</span> 
</div> 
<div> 
 <span style="line-height:21px"><br> </span> 
</div> 
<div> 
 <pre style="overflow-x:auto; overflow-y:hidden; padding:10px; margin-top:0px; margin-bottom:10.5px; word-break:break-all; word-wrap:break-word; border:1px solid rgb(204,204,204); background-color:rgb(63,63,63)"><span style="color:#FFFFFF"><span style="line-height:17.5px; white-space:pre-wrap">//QHostInfo类作用，获取主机名，也可以通过主机名来查找IP地址，或者通过IP地址来反向查找主机名。
QString localHostName = QHostInfo::localHostName();
qDebug() &lt;&lt; "LocalHostName:" &lt;&lt; localHostName;

//获取IP地址
QHostInfo info = QHostInfo::fromName(localHostName);
qDebug() &lt;&lt; "IP Address:" &lt;&lt; info.addresses();

foreach(QHostAddress address, info.addresses())
{
    if (address.protocol() == QAbstractSocket::IPv4Protocol)
        qDebug() &lt;&lt; "IPv4 Address:" &lt;&lt; address.toString();
}

foreach (QHostAddress address, QNetworkInterface::allAddresses())
{
    qDebug() &lt;&lt; "Address:" &lt;&lt; address;
}</span></span>
</pre> 
</div> 
<div> 
 <span style="line-height:21px">输出：</span> 
</div> 
<div> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">LocalHostName:"wangl-d-pc"</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: (QHostAddress("fe80::396e:183d:aac6:f7f2") , QHostAddress("192.168.118.55" ) )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPv4Address: "192.168.118.55"</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "fe80::396e:183d:aac6:f7f2" )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "192.168.118.55" )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "::1" )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "127.0.0.1" )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "fe80::5efe:c0a8:7637" )</span></p> 
 <p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Address:QHostAddress( "fe80::e0:0:0:0" )  <wbr></wbr></span></p> 
</div> 
<div> 
 <span style="line-height:21px"><br> </span> 
</div> 
<span style="line-height:21px">3.获取设备名、MAC地址、子网掩码、广播地址等</span> 
<div> 
 <span style="font-family:'Courier'; color:#aa00aa; font-size:12pt"><br> </span> 
</div> 
<div> 
 <pre style="overflow-x:auto; overflow-y:hidden; padding:10px; margin-top:0px; margin-bottom:10.5px; word-break:break-all; word-wrap:break-word; border:1px solid rgb(204,204,204); background-color:rgb(63,63,63)"><span style="font-family:Monaco,Menlo,Consolas,Courier new,monospace; font-size:14px; color:#FFFFFF"><span style="line-height:17.5px; white-space:pre-wrap">//获取所有网络接口的列表
foreach (QNetworkInterface netInterface, QNetworkInterface::allInterfaces())
{
    //设备名
    qDebug() &lt;&lt; "Device:" &lt;&lt; netInterface.name();

    //MAC地址
    qDebug() &lt;&lt; "HardwareAddress:" &lt;&lt; netInterface.hardwareAddress();

    QList entryList = netInterface.addressEntries();

    //遍历每一个IP地址(每个包含一个IP地址，一个子网掩码和一个广播地址)
    foreach(QNetworkAddressEntry entry, entryList)
    {
        //IP地址
        qDebug() &lt;&lt; "IP Address:" &lt;&lt; entry.ip().toString();

        //子网掩码
        qDebug() &lt;&lt; "Netmask:" &lt;&lt; entry.netmask().toString();

        //广播地址
        qDebug() &lt;&lt; "Broadcast:" &lt;&lt; entry.broadcast().toString();
    }
}</span></span>
</pre> 
</div> 
<div>
  输出： 
 <span style="font-family:'Courier'; color:#aa00aa; font-size:12pt"> <wbr></wbr></span> 
</div> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Device:"{4C5C2613-C18F-416A-A21F-47B707C3B935}"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">HardwareAddress:"74:D4:35:1B:A6:2F"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "fe80::396e:183d:aac6:f7f2"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:"ffff:ffff:ffff:ffff::"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "192.168.118.55"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:"255.255.255.0"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:"192.168.118.255"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Device:"{846EE342-7039-11DE-9D20-806E6F6E6963}"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">HardwareAddress:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "::1"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "127.0.0.1"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Device:"{539F3167-F67C-432D-8904-34129F3F5521}"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">HardwareAddress:"00:00:00:00:00:00:00:E0"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "fe80::5efe:c0a8:7637"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:"ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:""</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Device:"{5DECB4C5-20AC-4BD6-A685-9FE608ED6EF5}"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">HardwareAddress:"00:00:00:00:00:00:00:E0"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">IPAddress: "fe80::e0:0:0:0"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Netmask:"ffff:ffff:ffff:ffff::"</span></p> 
<p style="margin:0px"><span style="font-family:'Courier'; color:#aa00aa; font-size:12pt">Broadcast:"" <wbr></wbr></span></p> 
<div> 
 <br> 
</div> 
<p><br> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/eb151c589ed0384ab8c87a7211ff5c08/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu sudo报错command not found的解决方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e77b30fc2aa461b4fc2bd3359d5e7213/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">bootstrap设置table的样式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>