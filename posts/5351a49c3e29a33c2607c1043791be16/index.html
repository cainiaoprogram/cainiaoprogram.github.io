<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>华为路由器与交换机的基础命令 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="华为路由器与交换机的基础命令" />
<meta property="og:description" content="安装部分就不演示：非常的简单，和其他安装软件一样。
配置cloud1连接虚拟机
只允许SSH登录：
1、user-interface vty 0 4
authentication-mode aaa
protocol inbound ssh
2、aaa
local-user zhangsan password simple zhangsan
local-user zhangsan service-type ssh
local-user zhangsan privilege level 15
3、stelnet server enable 开启ssh服务
ssh user zhangsan authentication-type password 配置ssh用户的认证方式
ssh user zhangsan service-type stelnet
使用secure CRT中的ssh2连接设备
华为交换机基础命令总结：huawei H3C &lt;Huawei&gt;system-view 进入系统模式
[Huawei]sysname A5-24U-5700-TOP 配置设备名称
interface GigabitEthernet 0/0/1 进入接口配置模式
display 显示、查看配置命令
user-interface vty 0 4 进入线路模式
例如：user-interface con 0
authentication-mode password 配置密码验证方式
set authentication password cipher cisco123 设置登录密码" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/5351a49c3e29a33c2607c1043791be16/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-07-08T10:44:57+08:00" />
<meta property="article:modified_time" content="2019-07-08T10:44:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">华为路由器与交换机的基础命令</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-left:0pt;">  安装部分就不演示：非常的简单，和其他安装软件一样。</p> 
<p><img alt="" class="has" height="377" src="https://images2.imgbox.com/4a/12/V0cA5vcO_o.png" width="655"></p> 
<p><img alt="" class="has" height="395" src="https://images2.imgbox.com/f6/c8/LSRRunwt_o.png" width="664"></p> 
<p> </p> 
<p> </p> 
<p><img alt="" class="has" height="380" src="https://images2.imgbox.com/29/bb/LrdLdXGi_o.png" width="692"></p> 
<p><img alt="" class="has" height="311" src="https://images2.imgbox.com/59/b0/sjt4YXg5_o.png" width="692"></p> 
<p><img alt="" class="has" height="470" src="https://images2.imgbox.com/6f/02/Tfx3OlCt_o.png" width="689"></p> 
<p><img alt="" class="has" height="463" src="https://images2.imgbox.com/3e/90/sQCQHY6F_o.png" width="692"></p> 
<p><img alt="" class="has" height="574" src="https://images2.imgbox.com/bc/f4/kQqFJNY6_o.png" width="670"></p> 
<p><img alt="" class="has" height="593" src="https://images2.imgbox.com/47/96/tLOcGBNH_o.png" width="692"></p> 
<p> </p> 
<p><img alt="" class="has" height="360" src="https://images2.imgbox.com/b5/4e/gQCsc43p_o.png" width="691"></p> 
<p> </p> 
<p style="margin-left:0pt;">配置cloud1连接虚拟机</p> 
<p><img alt="" class="has" height="529" src="https://images2.imgbox.com/9a/16/tyOJPqN3_o.png" width="783"></p> 
<p style="margin-left:0pt;">只允许SSH登录：</p> 
<p style="margin-left:0pt;">    1、user-interface vty 0 4</p> 
<p style="margin-left:0pt;">     authentication-mode aaa</p> 
<p style="margin-left:0pt;"> protocol inbound ssh</p> 
<p style="margin-left:0pt;">2、aaa</p> 
<p style="margin-left:0pt;">     local-user zhangsan password simple zhangsan</p> 
<p style="margin-left:0pt;"> local-user zhangsan service-type ssh</p> 
<p style="margin-left:0pt;"> local-user zhangsan privilege level 15</p> 
<p style="margin-left:0pt;">3、stelnet server enable  开启ssh服务</p> 
<p style="margin-left:0pt;">   ssh user zhangsan authentication-type password  配置ssh用户的认证方式</p> 
<p style="margin-left:0pt;">   ssh user zhangsan service-type stelnet</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">使用secure CRT中的ssh2连接设备</p> 
<p style="margin-left:0pt;">华为交换机基础命令总结：huawei   H3C  </p> 
<p style="margin-left:0pt;">       &lt;Huawei&gt;system-view 进入系统模式</p> 
<p style="margin-left:0pt;">   [Huawei]sysname A5-24U-5700-TOP  配置设备名称</p> 
<p style="margin-left:0pt;">   interface GigabitEthernet 0/0/1  进入接口配置模式</p> 
<p style="margin-left:0pt;">   display  显示、查看配置命令</p> 
<p style="margin-left:0pt;">   user-interface vty 0 4  进入线路模式</p> 
<p style="margin-left:0pt;">       例如：user-interface con 0</p> 
<p style="margin-left:0pt;">             authentication-mode password   配置密码验证方式</p> 
<p style="margin-left:0pt;">             set authentication password cipher cisco123  设置登录密码</p> 
<p style="margin-left:0pt;"> user privilege level 15  设置用户的级别</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">             user-interface vty 0 4</p> 
<p style="margin-left:0pt;">              authentication-mode aaa  配置AAA认证方式</p> 
<p style="margin-left:0pt;"> aaa</p> 
<p style="margin-left:0pt;">   local-user test password cipher cisco123  设置用户和密码</p> 
<p style="margin-left:0pt;">   local-user test service-type telnet ssh  设置用户可以登录的方式</p> 
<p style="margin-left:0pt;">   local-user test privilege level 15 设置用户的级别</p> 
<p style="margin-left:0pt;">   display version 查看版本</p> 
<p style="margin-left:0pt;">   display current-configuration 查看当前配置信息</p> 
<p style="margin-left:0pt;">   undo shutdown 开启接口</p> 
<p style="margin-left:0pt;">   spend 1000 配置接口速率</p> 
<p style="margin-left:0pt;">   duplex 配置接口双工模式</p> 
<p style="margin-left:0pt;">   description 配置端口描述信息</p> 
<p style="margin-left:0pt;">   display interface brief  查看接口简略信息</p> 
<p style="margin-left:0pt;">   ip route-static 0.0.0.0 0.0.0.0 192.168.1.1（网关地址） 配置默认路由，相当于配置网关</p> 
<p style="margin-left:0pt;">   display mac-address 查看MAC地址表</p> 
<p style="margin-left:0pt;">   display users  查看登录设备的用户</p> 
<p style="margin-left:0pt;">   kill user-interface vty 编号  踢除登录的用户</p> 
<p style="margin-left:0pt;">   display this 查看当前模式下的配置</p> 
<p style="margin-left:0pt;">   save 保存当前配置</p> 
<p style="margin-left:0pt;">思科交换机配置：</p> 
<p style="margin-left:0pt;"> IOS配置模式：</p> 
<p style="margin-left:0pt;">   1、用户模式：&gt; 只能输入一下简单的查看命令</p> 
<p style="margin-left:0pt;">   2、特权模式：# 能做简单的配置和查看更多的信息  输入：enable进入  输入：disable 退回到用户模式</p> 
<p style="margin-left:0pt;">                 可以设置进入特权模式的密码</p> 
<p style="margin-left:0pt;">   3、全局模式：Switch(config)#可以做配置，全局生效    输入：conf t</p> 
<p style="margin-left:0pt;">   4、接口模式：Switch(config-if)#  在全局模式输入：interface f0/1,所做的配置只针对这个端口生效</p> 
<p style="margin-left:0pt;">   5、线路模式：Switch(config-line)#  所做的配置局部生效 在全局模式输入：line console 0 或者line vty 0 4</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">远程访问设备：（必须要拥有一个IP地址）</p> 
<p style="margin-left:0pt;">    1、telnet   明文访问   TCP 23</p> 
<p style="margin-left:0pt;">2、SSH      加密访问   TCP 22</p> 
<p style="margin-left:0pt;">3、http、HTTPS    默认打开的   管理接口</p> 
<p style="margin-left:0pt;">4、需要配置响应的密码</p> 
<p style="margin-left:0pt;">步骤：配置IP地址，属于管理网络的IP</p> 
<p style="margin-left:0pt;">      配置VTY密码</p> 
<p style="margin-left:0pt;">  配置enable密码</p> 
<p style="margin-left:0pt;">  配置VTP模式传输的协议：transport input ssh  可选</p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">通过网络管理软件来配置设备：SNMP</p> 
<p style="margin-left:0pt;"> 举例：配置交换机远程telnet登录</p> 
<p style="margin-left:0pt;">      1、interface vlan 1</p> 
<p style="margin-left:0pt;">       ip address 192.168.1.20 255.255.255.0</p> 
<p style="margin-left:0pt;">   no shutdown</p> 
<p style="margin-left:0pt;">  2、line vty 0 4                line vty 0 4</p> 
<p style="margin-left:0pt;">       login                      login local</p> 
<p style="margin-left:0pt;">   password  123456         全局模式:username  list password 123456</p> 
<p style="margin-left:0pt;">  3、enable password  test123</p> 
<p style="margin-left:0pt;">配置SSH登录管理Cisco设备：</p> 
<p style="margin-left:0pt;">   1、配置主机名  hostname  ht-caiwu-sw4</p> 
<p style="margin-left:0pt;">   2、配置域名    ip domain-name  huateng.com</p> 
<p style="margin-left:0pt;">   3、生成秘钥    crypto key generate rsa</p> 
<p style="margin-left:0pt;">   4、启用本地数据库方式验证：</p> 
<p style="margin-left:0pt;">        line vty 0 4</p> 
<p style="margin-left:0pt;">  login local</p> 
<p style="margin-left:0pt;">  transport input ssh  只允许SSH登录</p> 
<p style="margin-left:0pt;">   5、配置IP地址</p> 
<p style="margin-left:0pt;">        interface VLAN 1</p> 
<p style="margin-left:0pt;">  ip address 192.168.1.103  255.255.255.0</p> 
<p style="margin-left:0pt;">  no shutdown</p> 
<p style="margin-left:0pt;">   6、配置特权密码：  enable password  123456</p> 
<p style="margin-left:0pt;">   7、配置本地数据库用户名和密码：</p> 
<p style="margin-left:0pt;">        username  lisi  password  lisi</p> 
<p style="margin-left:0pt;">   </p> 
<p style="margin-left:0pt;">        </p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;"> </p> 
<p style="margin-left:0pt;">思科交换机基本配置命令：</p> 
<p style="margin-left:0pt;">       hostname 设置设备名称  现实中命名要有统一的格式，要有具体意义</p> 
<p style="margin-left:0pt;">   description 做端口描述   </p> 
<p style="margin-left:0pt;">   ip ftp username lisi  设置登录FTP服务器的用户名</p> 
<p style="margin-left:0pt;">   ip ftp password lisi123(密码) 设置登录FTP服务器的密码</p> 
<p style="margin-left:0pt;">   copy run  ftp:   备份当前的配置文件到远端FTP服务器上</p> 
<p style="margin-left:0pt;">   copy  run  tftp:  备份当前的配置文件到远端TFTP服务器上</p> 
<p style="margin-left:0pt;">   copy flash: tftp:  备份交换机中的文件到TFTP服务器上</p> 
<p style="margin-left:0pt;">   copy run start  保存当前配置</p> 
<p style="margin-left:0pt;">   write            保存当前配置</p> 
<p style="margin-left:0pt;">   enable password  密码  设置特权密码</p> 
<p style="margin-left:0pt;">   enable secret cisco(密码) 设置特权加密密码  优先级高</p> 
<p style="margin-left:0pt;">   service password-encryption 加密显示密码信息</p> 
<p style="margin-left:0pt;">   show verSion   查看设备版本信息</p> 
<p style="margin-left:0pt;">   show flash:    查看设备存储内容</p> 
<p style="margin-left:0pt;">   show interface f0/1  查看接口详细信息</p> 
<p style="margin-left:0pt;">   show ip interface brief  查看设备接口简略信息</p> 
<p style="margin-left:0pt;">   ip default-gateway IP地址  给交换机设置网关信息</p> 
<p style="margin-left:0pt;">   show control-plane host open-ports  查看路由器打开的端口</p> 
<p style="margin-left:0pt;">   配置console登录密码</p> 
<p style="margin-left:0pt;">     line console 0</p> 
<p style="margin-left:0pt;">    login</p> 
<p style="margin-left:0pt;">password 密码</p> 
<p style="margin-left:0pt;">   配置VTY认证：</p> 
<p style="margin-left:0pt;">     line vty 0 4</p> 
<p style="margin-left:0pt;"> login (线下密码认证)</p> 
<p style="margin-left:0pt;"> password</p> 
<p style="margin-left:0pt;"> 或者login local (本地数据库验证)</p> 
<p style="margin-left:0pt;">    然后到全局配置模式：username 用户名 password 密码</p> 
<p style="margin-left:0pt;">   speed  配置端口速率</p> 
<p style="margin-left:0pt;">       duplex  配置双工模式</p> 
<p style="margin-left:0pt;">       show running-config  查看当前配置信息</p> 
<p style="margin-left:0pt;">       show startup-config  查看启动配置信息</p> 
<p style="margin-left:0pt;">   show mac-address-table 查看交换机MAC地址表</p> 
<p style="margin-left:0pt;">   mac-address-table static 0001.2345.1235(MAC地址) vlan 1 interface f0/3（真实对应的接口）  手动添加MAC地址表</p> 
<p style="margin-left:0pt;">   </p> 
<p style="margin-left:0pt;"> 配置设备只允许SSH登录</p> 
<p style="margin-left:0pt;">    1、配置主机名 hostname</p> 
<p style="margin-left:0pt;">2、配置域名  ip domain-name  cisco.com</p> 
<p style="margin-left:0pt;">3、生成秘钥   crypto key generate rsa</p> 
<p style="margin-left:0pt;">4、配置只允许SSH协议进入，并使用本地数据库做验证</p> 
<p style="margin-left:0pt;">   line vty 0 4</p> 
<p style="margin-left:0pt;">     login local</p> 
<p style="margin-left:0pt;"> transport input ssh</p> 
<p style="margin-left:0pt;">5、配置SSH登录用户名和密码</p> 
<p style="margin-left:0pt;">    username  lisi  password 123456</p> 
<p style="margin-left:0pt;">6、配置特权密码：</p> 
<p style="margin-left:0pt;">      enable password  test</p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/4678c7fe862433ff665781ac02e6e5de/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">分布式架构的架构稳定性</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/326099dc10e91a7dcbc3084a59461bd7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MySQL的在RC和RR模式下的锁</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>