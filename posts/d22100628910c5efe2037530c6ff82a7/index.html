<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>糖果 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="糖果" />
<meta property="og:description" content="题意 John得到了n罐糖果。不同的糖果罐，糖果的种类不同（即同一个糖果罐里的糖果种类是相同的，不同的糖果罐里的糖果的种类是不同的）。第i个糖果罐里有 mi个糖果。John决定吃掉一些糖果，他想吃掉至少a个糖果，但不超过b个。问题是John 无法确定吃多少个糖果和每种糖果各吃几个。有多少种方法可以做这件事呢？
思路 第i种糖果的生成函数是\(1&#43;x&#43;...&#43;x^{m_i}\)，乘在一起就是\(\Pi 1&#43;x&#43;...&#43;x^{m_i}=\frac{\Pi (1-x^{m_i&#43;1})}{(1-x)^n}\)
本题的答案显然为前b项系数和减去前a-1项系数和。
代码 #include &lt;bits/stdc&#43;&#43;.h&gt; using namespace std; namespace StandardIO { template&lt;typename T&gt;inline void read (T &amp;x) { x=0;T f=1;char c=getchar(); for (; c&lt;&#39;0&#39;||c&gt;&#39;9&#39;; c=getchar()) if (c==&#39;-&#39;) f=-1; for (; c&gt;=&#39;0&#39;&amp;&amp;c&lt;=&#39;9&#39;; c=getchar()) x=x*10&#43;c-&#39;0&#39;; x*=f; } template&lt;typename T&gt;inline void write (T x) { if (x&lt;0) putchar(&#39;-&#39;),x*=-1; if (x&gt;=10) write(x/10); putchar(x%10&#43;&#39;0&#39;); } } using namespace StandardIO; namespace Project { #define int long long const int N=101; const int MOD=2004; int n,a,b; int mul=1; int m[N]; inline int C (int x,int y) { if (x&lt;y) return 0; int res=1; for (register int i=x-y&#43;1; i&lt;=x; &#43;&#43;i) { res=i%(mul*MOD)*res%(mul*MOD); } return (res/mul)%MOD; } int dfs (int pos,int a,int b,int mm) { if (pos==n&#43;1) return a*C(n&#43;mm-b,n)%MOD; return (dfs(pos&#43;1,a,b,mm)&#43;dfs(pos&#43;1,-a,b&#43;m[pos]&#43;1,mm))%MOD; } inline void MAIN () { read(n),read(a),read(b); for (register int i=1; i&lt;=n; &#43;&#43;i) mul*=i; for (register int i=1; i&lt;=n; &#43;&#43;i) read(m[i]); write(((dfs(1,1,0,b)-dfs(1,1,0,a-1))%MOD&#43;MOD)%MOD); } #undef int } int main () { // freopen(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d22100628910c5efe2037530c6ff82a7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-25T22:27:00+08:00" />
<meta property="article:modified_time" content="2019-09-25T22:27:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">糖果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown"> 
 <h4 id="题意">题意</h4> 
 <p>John得到了n罐糖果。不同的糖果罐，糖果的种类不同（即同一个糖果罐里的糖果种类是相同的，不同的糖果罐里的糖果的种类是不同的）。第i个糖果罐里有 mi个糖果。John决定吃掉一些糖果，他想吃掉至少a个糖果，但不超过b个。问题是John 无法确定吃多少个糖果和每种糖果各吃几个。有多少种方法可以做这件事呢？</p> 
 <hr> 
 <h4 id="思路">思路</h4> 
 <p>第i种糖果的生成函数是<span class="math inline">\(1+x+...+x^{m_i}\)</span>，乘在一起就是<span class="math inline">\(\Pi 1+x+...+x^{m_i}=\frac{\Pi (1-x^{m_i+1})}{(1-x)^n}\)</span></p> 
 <p>本题的答案显然为前b项系数和减去前a-1项系数和。</p> 
 <h4 id="代码">代码</h4> 
 <pre><code class="language-cpp"><code>#include &lt;bits/stdc++.h&gt;

using namespace std;

namespace StandardIO {

    template&lt;typename T&gt;inline void read (T &amp;x) {
        x=0;T f=1;char c=getchar();
        for (; c&lt;'0'||c&gt;'9'; c=getchar()) if (c=='-') f=-1;
        for (; c&gt;='0'&amp;&amp;c&lt;='9'; c=getchar()) x=x*10+c-'0';
        x*=f;
    }

    template&lt;typename T&gt;inline void write (T x) {
        if (x&lt;0) putchar('-'),x*=-1;
        if (x&gt;=10) write(x/10);
        putchar(x%10+'0');
    }

}

using namespace StandardIO;

namespace Project {
    #define int long long

    const int N=101;
    const int MOD=2004;
    
    int n,a,b;
    int mul=1;
    int m[N];
    
    inline int C (int x,int y) {
        if (x&lt;y) return 0;
        int res=1;
        for (register int i=x-y+1; i&lt;=x; ++i) {
            res=i%(mul*MOD)*res%(mul*MOD);
        }
        return (res/mul)%MOD;
    }
    int dfs (int pos,int a,int b,int mm) {
        if (pos==n+1) return a*C(n+mm-b,n)%MOD;
        return (dfs(pos+1,a,b,mm)+dfs(pos+1,-a,b+m[pos]+1,mm))%MOD;
    }

    inline void MAIN () {
        read(n),read(a),read(b);
        for (register int i=1; i&lt;=n; ++i) mul*=i;
        for (register int i=1; i&lt;=n; ++i) read(m[i]);
        write(((dfs(1,1,0,b)-dfs(1,1,0,a-1))%MOD+MOD)%MOD);
    }
    
    #undef int
}

int main () {
//  freopen(".in","r",stdin);
//  freopen(".out","w",stdout);
    Project::MAIN();
}
</code></code></pre> 
</div> 
<p>转载于:https://www.cnblogs.com/ilverene/p/11588086.html</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f0685133b6dae4eaecb6f29ae5e12332/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">查询SQL SERVER 数据库版本号脚本语句</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7b8cbc8092cf86991dfb71fa30e077d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">如何准备算法工程师面试，斩获一线互联网公司机器学习岗offer？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>