<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>怎么在C盘之外的安装WSL - 以Ubuntu20.04为例 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="怎么在C盘之外的安装WSL - 以Ubuntu20.04为例" />
<meta property="og:description" content="在本文中，我们将在Windows的非系统盘上安装WSL，在这里我们用Ubuntu20.04的安装为例。我们也可以用这种方式安装其他Linux的发行版或内核，比如Ubuntu 18和Debian。
大多数时候，我们都是通过微软商店安装WSL的各个发行版本。这些子系统都会被安装在：
%USERPROFILE%\AppData\Local\Packages\ 由于WSL的机制，通常会在我们硬盘上占用大量空间，即使他实际上没使用那么多。这时，我们就需要将WSL安装在非系统盘上。ps. 虽然SSD可以不用分区，但是为了文件管理方便我通常还是会分区，另外我有额外加装更大的SSD，因此我这样的比较需要将WSL安装到这张额外的SSD上。
准备：我们需要以管理员身份运行PowerShell。下面的命令都将在这之上运行。
步骤一：开启WSL（Windows Subsystem for Linux） 运行命令如下：
dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart 步骤二：开启虚拟机功能 命令：
dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart 步骤三：下载分发包 这里下载的是Ubuntu20.04，需要下载其他的版本，替换https://aka.ms/wslubuntu2004为对应的链接即可。
Invoke-WebRequest -Uri https://aka.ms/wslubuntu2004 -OutFile Ubuntu.appx -UseBasicParsing 其他分发包下载链接：
Ubuntu 20.04 — https://aka.ms/wslubuntu2004Ubuntu 20.04 ARM — https://aka.ms/wslubuntu2004armUbuntu 18.04 — https://aka.ms/wsl-ubuntu-1804Ubuntu 18.04 ARM — https://aka.ms/wsl-ubuntu-1804-armUbuntu 16.04 — https://aka.ms/wsl-ubuntu-1604Debian GNU/Linux — https://aka.ms/wsl-debian-gnulinuxKali Linux — https://aka.ms/wsl-kali-linux-newOpenSUSE Leap 42 — https://aka.ms/wsl-opensuse-42SLES — https://aka.ms/wsl-sles-12 步骤四：解压缩包 这一步分为四小步，请依次运行。
1. 重命名并解压 重命名 move ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1aecd960a3cead9164ad5173d5afaf4e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-12T11:43:40+08:00" />
<meta property="article:modified_time" content="2023-06-12T11:43:40+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">怎么在C盘之外的安装WSL - 以Ubuntu20.04为例</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在本文中，我们将在Windows的非系统盘上安装WSL，在这里我们用Ubuntu20.04的安装为例。我们也可以用这种方式安装其他Linux的发行版或内核，比如Ubuntu 18和Debian。</p> 
<p>大多数时候，我们都是通过微软商店安装WSL的各个发行版本。这些子系统都会被安装在：</p> 
<pre><code>%USERPROFILE%\AppData\Local\Packages\
</code></pre> 
<p>由于WSL的机制，通常会在我们硬盘上占用大量空间，即使他实际上没使用那么多。这时，我们就需要将WSL安装在非系统盘上。ps. 虽然SSD可以不用分区，但是为了文件管理方便我通常还是会分区，另外我有额外加装更大的SSD，因此我这样的比较需要将WSL安装到这张额外的SSD上。</p> 
<p>准备：我们需要以管理员身份运行<strong>PowerShell</strong>。下面的命令都将在这之上运行。</p> 
<h2><a id="WSLWindows_Subsystem_for_Linux_10"></a>步骤一：开启WSL（Windows Subsystem for Linux）</h2> 
<p>运行命令如下：</p> 
<pre><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
</code></pre> 
<h2><a id="_16"></a>步骤二：开启虚拟机功能</h2> 
<p>命令：</p> 
<pre><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</code></pre> 
<h2><a id="_24"></a>步骤三：下载分发包</h2> 
<p>这里下载的是Ubuntu20.04，需要下载其他的版本，替换<strong>https://aka.ms/wslubuntu2004</strong>为对应的链接即可。</p> 
<pre><code>Invoke-WebRequest -Uri https://aka.ms/wslubuntu2004 -OutFile Ubuntu.appx -UseBasicParsing
</code></pre> 
<p>其他分发包下载链接：</p> 
<ul><li>Ubuntu 20.04 — https://aka.ms/wslubuntu2004</li><li>Ubuntu 20.04 ARM — https://aka.ms/wslubuntu2004arm</li><li>Ubuntu 18.04 — https://aka.ms/wsl-ubuntu-1804</li><li>Ubuntu 18.04 ARM — https://aka.ms/wsl-ubuntu-1804-arm</li><li>Ubuntu 16.04 — https://aka.ms/wsl-ubuntu-1604</li><li>Debian GNU/Linux — https://aka.ms/wsl-debian-gnulinux</li><li>Kali Linux — https://aka.ms/wsl-kali-linux-new</li><li>OpenSUSE Leap 42 — https://aka.ms/wsl-opensuse-42</li><li>SLES — https://aka.ms/wsl-sles-12</li></ul> 
<h2><a id="_42"></a>步骤四：解压缩包</h2> 
<p>这一步分为四小步，请依次运行。</p> 
<h4><a id="1__46"></a>1. 重命名并解压</h4> 
<h5><a id="_47"></a>重命名</h5> 
<pre><code>move .\Ubuntu.appx .\Ubuntu.zip
</code></pre> 
<h5><a id="_51"></a>解压</h5> 
<pre><code>Expand-Archive .\Ubuntu.zip
</code></pre> 
<h5><a id="_55"></a>进入目录</h5> 
<pre><code>cd .\Ubuntu\
</code></pre> 
<p>目录示例如下：<br> <img src="https://images2.imgbox.com/95/3a/SX8nR4YL_o.png" alt="UbuntuWSL分发包解压目录"></p> 
<h4><a id="2__Ubuntuappx_61"></a>2. 重命名 Ubuntu*.appx</h4> 
<p>请根据实际情况修改参数。</p> 
<pre><code>Rename-Item .\Ubuntu_2004.2021.825.0_x64.appx -Newname Ubuntu2004.zip
</code></pre> 
<p>目的是将**.appx<strong>后缀的文件修改成</strong>.zip**以便随后的解压。</p> 
<blockquote> 
 <p>请注意：这边的**.zip<strong>和之前的</strong>.zip**文件不是一码事儿</p> 
</blockquote> 
<h4><a id="3__71"></a>3. 解压</h4> 
<p>这边是解压上一小步修改后缀后的文件。请勿混淆，仔细跟随步骤流程。</p> 
<pre><code>Expand-Archive .\Ubuntu2004.zip
</code></pre> 
<h2><a id="Ubuntu_79"></a>步骤五：初始化Ubuntu</h2> 
<p>依次执行完上诉所有步骤以后，我们可以得到的文件如下：<br> <img src="https://images2.imgbox.com/1e/df/0Y5FbLHk_o.png" alt="Ubuntu WSL文件列表"><br> 这个就是我们文件目录了，通过微软商店安装看到的文件就是这样。</p> 
<p>然后，运行程序，完成初始化操作。在这里，就是<strong>ubuntu</strong>这个文件，双击运行即可。</p> 
<p>出现如下窗口：</p> 
<p><img src="https://images2.imgbox.com/ea/e6/zCgStmRH_o.png" alt="初始化ubuntu-wsl"><br> 根据提示，输入对应信息。<br> 最后：<br> <img src="https://images2.imgbox.com/d1/81/h0p8V4X0_o.png" alt="初始化后的WSL"><br> 恭喜！当年完成初始化，出现类似截图的界面就代表你成功了！</p> 
<h2><a id="PATH_95"></a>步骤六：添加到PATH（可选）</h2> 
<p>添加目录“Ubuntu2004”到系统路径。然后你就可以通过Windows终端随意使用它！！</p> 
<blockquote> 
 <p>希望这边文章对你有所帮助，多多点赞收藏！！！感谢！！！！！！！</p> 
</blockquote> 
<p>遇到问题的小伙伴，请留言！</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dac6835ec7bb4d12864f3cb2cb9c5635/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python的plotly图形库</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dd7db665f34f952a0c110f241037f97e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">MindOpt Tuner调参器，提升求解速度、性能（二）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>