<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>介绍新的文件夹授权插件 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="介绍新的文件夹授权插件" />
<meta property="og:description" content="在我的 Google Summer of Code Project 期间，我创建了全新的 Folder Auth 插件，可轻松管理 Folders plugin 对文件夹中组织的项目的权限。这个新插件旨在通过易于管理的角色进行快速权限检查。该插件的 1.0 版本刚刚发布，可以从您的 Jenkins 更新中心下载。
该插件的灵感来自角色策略插件，可改善性能并简化角色管理。开发该插件是为了解决 Role Strategy Plugin 在许多角色上的性能限制。同时，该插件通过文件夹解决了 Jenkins 中组织项目最受欢迎的方式之一。该插件还具有一个新的 UI ，将来会有更多改进。
该插件支持三种类型的角色，分别适用于 Jenkins 中的不同位置。
全局角色：适用于 Jenkins 的所有地方
代理角色：限制连接到您的实例的多个代理的权限
文件夹角色：适用于文件夹内组织的多个作业
角色策略插件的性能改进 与角色策略插件不同，此插件不使用正则表达式来查找匹配的项目和代理，从而改善了我们的性能并简化了管理员的工作。为了减少需要管理的角色数量，通过文件夹角色授予文件夹的权限将继承其所有子项。这对于通过单个角色访问多个项目很有用。同样，一个代理角色可以应用于多个代理，并分配给多个用户。
此插件的设计目的是在权限检查方面优于角色策略插件。这些改进是使用我在 GSOC 项目的第一阶段创建的micro-benchmark framework来衡量的。两个插件相同配置的基准测试表明，与角色策略 2.13 中的全局角色相比， 500 个全局角色的权限检查速度提高了 934 倍，角色策略 2.13 本身包含一些性能改进。将文件夹角色与角色策略的项目角色进行比较，对于 250 个组织在 150 个用户的实例上的两级深层文件夹中的项目，对作业的访问权限检查几乎快了 15 倍。您可以在 此处 看到基准和结果比较。
Jenkins 配置作为代码支持 该插件支持 Jenkins 的“代码即配置”功能，因此您无需通过 Web UI 即可配置权限。YAML 配置如下所示：
jenkins:
authorizationStrategy:
folderBased:
globalRoles:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/02fe83c92f5b9803fb9cbac3cb4c13ea/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-10-28T21:00:00+08:00" />
<meta property="article:modified_time" content="2019-10-28T21:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">介绍新的文件夹授权插件</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="rich_media_content" id="js_content"> 
 <p><img class="rich_pages js_insertlocalimg" src="https://images2.imgbox.com/f2/35/IB0kVCWc_o.png" alt="640?wx_fmt=jpeg"></p> 
 <p>在我的 Google Summer of Code Project 期间，我创建了全新的 Folder Auth 插件，可轻松管理 Folders plugin 对文件夹中组织的项目的权限。这个新插件旨在通过易于管理的角色进行快速权限检查。该插件的 1.0 版本刚刚发布，可以从您的 Jenkins 更新中心下载。<br></p> 
 <p>该插件的灵感来自角色策略插件，可改善性能并简化角色管理。开发该插件是为了解决 Role Strategy Plugin 在许多角色上的性能限制。同时，该插件通过文件夹解决了 Jenkins 中组织项目最受欢迎的方式之一。该插件还具有一个新的 UI ，将来会有更多改进。</p> 
 <p>该插件支持三种类型的角色，分别适用于 Jenkins 中的不同位置。</p> 
 <ul class="list-paddingleft-2"><li><p>全局角色：适用于 Jenkins 的所有地方</p></li><li><p>代理角色：限制连接到您的实例的多个代理的权限</p></li><li><p>文件夹角色：适用于文件夹内组织的多个作业</p></li></ul> 
 <p><img class="rich_pages js_insertlocalimg" src="https://images2.imgbox.com/4c/9b/L8YpmRVq_o.png" alt="640?wx_fmt=png"></p> 
 <h3>角色策略插件的性能改进</h3> 
 <p>与角色策略插件不同，此插件不使用正则表达式来查找匹配的项目和代理，从而改善了我们的性能并简化了管理员的工作。为了减少需要管理的角色数量，通过文件夹角色授予文件夹的权限将继承其所有子项。这对于通过单个角色访问多个项目很有用。同样，一个代理角色可以应用于多个代理，并分配给多个用户。</p> 
 <p>此插件的设计目的是在权限检查方面优于角色策略插件。这些改进是使用我在 GSOC 项目的第一阶段创建的micro-benchmark framework来衡量的。两个插件相同配置的基准测试表明，与角色策略 2.13 中的全局角色相比， 500 个全局角色的权限检查速度提高了 934 倍，角色策略 2.13 本身包含一些性能改进。将文件夹角色与角色策略的项目角色进行比较，对于 250 个组织在 150 个用户的实例上的两级深层文件夹中的项目，对作业的访问权限检查几乎快了 15 倍。您可以在 此处 看到基准和结果比较。</p> 
 <h3>Jenkins 配置作为代码支持</h3> 
 <p>该插件支持 Jenkins 的“代码即配置”功能，因此您无需通过 Web UI 即可配置权限。YAML 配置如下所示：</p> 
 <pre>jenkins<span class="pl-k">:</span><br>  authorizationStrategy<span class="pl-k">:</span><br>    folderBased<span class="pl-k">:</span><br>      globalRoles<span class="pl-k">:</span><br><span class="pl-k">-</span> name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>admin<span class="pl-pds">"</span></span><br>          permissions<span class="pl-k">:</span><br><span class="pl-k">-</span> id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>hudson.model.Hudson.Administer<span class="pl-pds">"</span></span><br>              # <span class="pl-k">...</span><br>          sids<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>admin<span class="pl-pds">"</span></span><br><span class="pl-k">-</span> name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>read<span class="pl-pds">"</span></span><br>          permissions<span class="pl-k">:</span><br><span class="pl-k">-</span> id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>hudson.model.Hudson.Read<span class="pl-pds">"</span></span><br>          sids<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>user1<span class="pl-pds">"</span></span><br>      folderRoles<span class="pl-k">:</span><br><span class="pl-k">-</span> folders<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>root<span class="pl-pds">"</span></span><br>          name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>viewRoot<span class="pl-pds">"</span></span><br>          permissions<span class="pl-k">:</span><br><span class="pl-k">-</span> id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>hudson.model.Item.Read<span class="pl-pds">"</span></span><br>          sids<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>user1<span class="pl-pds">"</span></span><br>      agentRoles<span class="pl-k">:</span><br><span class="pl-k">-</span> agents<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>agent1<span class="pl-pds">"</span></span><br>          name<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>agentRole1<span class="pl-pds">"</span></span><br>          permissions<span class="pl-k">:</span><br><span class="pl-k">-</span> id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>hudson.model.Computer.Configure<span class="pl-pds">"</span></span><br><span class="pl-k">-</span> id<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>hudson.model.Computer.Disconnect<span class="pl-pds">"</span></span><br>          sids<span class="pl-k">:</span><br><span class="pl-k">-</span> <span class="pl-s"><span class="pl-pds">"</span>user1<span class="pl-pds">"</span></span></pre> 
 <h3>带有 Swagger 支持的 REST API</h3> 
 <p>该插件提供 REST API ，用于通过 Swagger.json 管理具有 OpenAPI 规范的角色。您可以在 SwaggerHub 上查看 Swagger API 。SwaggerHub 提供了多种语言的存根，可以下载并用于与插件进行交互。您还可以使用 curl 从命令行查看一些示例请求。</p> 
 <p><img class="rich_pages js_insertlocalimg" src="https://images2.imgbox.com/f3/04/Y91PRhz9_o.png" alt="640?wx_fmt=png"></p> 
 <p><img class="rich_pages js_insertlocalimg" src="https://images2.imgbox.com/a6/90/LiyKg3yP_o.png" alt="640?wx_fmt=png"></p> 
 <h3>接下来做什么</h3> 
 <p>在不久的将来，我想改进用户界面，使插件更容易使用。我还希望改进 API 、文档和更多的优化来提高插件的性能。</p> 
 <h3>链接和反馈</h3> 
 <p>我很想听听你的意见和建议。请随时通过 Role Strategy Plugin Gitter chat 或通过 Jenkins Developer Mailing list 与我联系。</p> 
 <ul class="list-paddingleft-2"><li><p>Presentation slides for second phase evaluations</p></li><li><p>Documentation for the Folder Auth Plugin</p></li><li><p>Demo of the Folder Authorization plugin</p></li></ul> 
 <p><strong><em>推荐阅读</em></strong></p> 
 <p><em></em></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p></p> 
 <p><img class="rich_pages" src="https://images2.imgbox.com/f8/0f/3Ff3E29t_o.png" alt="640?wx_fmt=png"></p> 
 <p>译者：张文君</p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bf831cb64cb37f6e6e673544358db3ec/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">数据结构系列之如何查找单链表中倒数第N个节点</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9dbae4282f2c7c7545ebebdb1027e6bf/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深入理解RocketMq普通消息和顺序消息使用，原理，优化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>