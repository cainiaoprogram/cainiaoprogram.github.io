<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>flask路由与视图函数中参数传递 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="flask路由与视图函数中参数传递" />
<meta property="og:description" content="客户端(例如 Web 浏览器)把请求发送给 Web 服务器，Web 服务器再把请求发送给 Flask 程序实例。程序实例需要知道对每个 URL 请求运行哪些代码，所以保存了一个 URL 到 Python 函数的映射关系。处理 URL 和函数之间关系的程序称为路由。
在 Flask 程序中定义路由的最简便方式，是使用程序实例提供的 app.route 修饰器，把修 饰的函数注册为路由。
@app.route(&#39;/&#39;) def index(): return &#39;&lt;h1&gt;Hello World!&lt;/h1&gt;&#39; 像 index() 这样的函数称为视图函数(view function)。
传递参数 传递参数的语法是:&#34;/&lt;参数名&gt;/&#34;,然后在视图函数中，也要定义同名的参数
converter:variable_name,其中converter就是类型名称
类型说明string默认的数据类型，接受没有任何斜杠&#34;/&#34;的文本int接受整型float接受浮点类型path和string的类似，但是接受斜杠uuid只接受uuid字符串(唯一,长度过长)any可以指定多种路径。 &#39;any’数据类型可以在一个&#34;url&#34;中的指定多个路径
eg：
from flask import Flask, config app = Flask(__name__) @app.route(&#39;/&lt;any(blog,user):url_path&gt;/&lt;id&gt;&#39;) def detail(url_path,id): if url_path == &#34;blog&#34;: return &#34;博客详情:%s&#34; % id else: return &#34;用户详情:%s&#34; % id if __name__ == &#39;__main__&#39;: app.run(host=&#34;0.0.0.0&#34;, port=&#34;8899&#34;, debug=True) URL 与视图函数中两种方式传参方式 第一种:使用 path 的形式(将参数嵌入到路径中) @app." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ed5916b8d76329bdd4e8879648134a5c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-05-15T18:51:22+08:00" />
<meta property="article:modified_time" content="2020-05-15T18:51:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">flask路由与视图函数中参数传递</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>客户端(例如 Web 浏览器)把请求发送给 Web 服务器，Web 服务器再把请求发送给 Flask 程序实例。程序实例需要知道对每个 URL 请求运行哪些代码，所以保存了一个 URL 到 Python 函数的映射关系。处理 URL 和函数之间关系的程序称为<code>路由</code>。</p> 
<p>在 Flask 程序中定义路由的最简便方式，是使用程序实例提供的 <code>app.route</code> 修饰器，把修 饰的函数注册为路由。</p> 
<pre><code>@app.route('/')
def index():
  return '&lt;h1&gt;Hello World!&lt;/h1&gt;'
</code></pre> 
<p>像 index() 这样的函数称为<code>视图函数</code>(view function)。</p> 
<h5><a id="_12"></a>传递参数</h5> 
<p>传递参数的语法是:"/&lt;参数名&gt;/",然后在视图函数中，也要定义同名的参数<br> converter:variable_name,其中converter就是类型名称</p> 
<table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>string</td><td>默认的数据类型，接受没有任何斜杠"/"的文本</td></tr><tr><td>int</td><td>接受整型</td></tr><tr><td>float</td><td>接受浮点类型</td></tr><tr><td>path</td><td>和string的类似，但是接受斜杠</td></tr><tr><td>uuid</td><td>只接受uuid字符串(唯一,长度过长)</td></tr><tr><td>any</td><td>可以指定多种路径。</td></tr></tbody></table> 
<p><mark>'any’数据类型可以在一个"url"中的指定多个路径</mark><br> eg：</p> 
<pre><code>from flask import Flask, config

app = Flask(__name__)

@app.route('/&lt;any(blog,user):url_path&gt;/&lt;id&gt;')
def detail(url_path,id):
    if url_path == "blog":
        return "博客详情:%s" % id
    else:
        return "用户详情:%s" % id

if __name__ == '__main__':
	app.run(host="0.0.0.0", port="8899", debug=True)
</code></pre> 
<p><img src="https://images2.imgbox.com/11/c0/5PMI0D9V_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/22/77/DBahXanE_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="URL__45"></a>URL 与视图函数中两种方式传参方式</h5> 
<ul><li>第一种:使用 path 的形式(将参数嵌入到路径中)</li></ul> 
<pre><code>@app.route('/user/&lt;name&gt;')
      def user(name):
return '&lt;h1&gt;Hello, %s!&lt;/h1&gt;' % name
</code></pre> 
<p><img src="https://images2.imgbox.com/2f/27/cPxtUQYr_o.png" alt="在这里插入图片描述"></p> 
<ul><li>第二种:使用查询字符串的方式，就是通过 “?key=value” 的形式传递的</li></ul> 
<pre><code>@app.route('/user/')
def user():
	username = request.args.get("name")
	return f"当前登录用户为：{username}！欢迎登录！！！"
</code></pre> 
<p><img src="https://images2.imgbox.com/d3/71/qSvGTk8t_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/8e9d454d206a04c865bb81d64c747604/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Dijkstra算法及代码详解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a40ac6e60b5b5b66ee767dfda4755879/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">IDEA 解决web项目下的web.xml中 context-param的自动提示中没有contextConfigLocation</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>