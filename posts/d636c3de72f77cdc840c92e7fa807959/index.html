<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大话 JavaScript（Speaking JavaScript）：第一章到第五章 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="大话 JavaScript（Speaking JavaScript）：第一章到第五章" />
<meta property="og:description" content="第一部分：JavaScript 快速入门 原文：I. JavaScript Quick Start
译者：飞龙
协议：CC BY-NC-SA 4.0
这部分是 JavaScript 的一个独立快速介绍。你可以在不阅读本书中的其他内容的情况下理解它，本书的其他部分也不依赖于它的内容。然而，阅读本书的提示在阅读本书的提示中适用。
第一章：基本 JavaScript 原文：1. Basic JavaScript
译者：飞龙
协议：CC BY-NC-SA 4.0
本章是关于“基本 JavaScript”，这是我为 JavaScript 的一个子集选择的名称，尽可能简洁，同时仍然能让你高效地工作。当你开始学习 JavaScript 时，我建议你在学习其他语言之前先在其中编程一段时间。这样，你就不必一次学习所有内容，这可能会让人困惑。
背景 本节简要介绍了 JavaScript 的背景，以帮助你理解它为什么是这样的。
JavaScript 与 ECMAScript ECMAScript是 JavaScript 的官方名称。之所以需要一个新名称，是因为Java有商标（最初由 Sun 持有，现在由 Oracle 持有）。目前，Mozilla 是少数几家被允许正式使用JavaScript名称的公司之一，因为它很久以前就获得了许可证。对于常见用法，以下规则适用：
JavaScript意味着编程语言。
ECMAScript是语言规范的官方名称。因此，每当提到语言的版本时，人们都说ECMAScript。JavaScript 的当前版本是 ECMAScript 5；ECMAScript 6 目前正在开发中。
影响和语言的性质 JavaScript 的创造者 Brendan Eich 别无选择，只能很快地创建这种语言（否则，Netscape 可能会采用其他更糟糕的技术）。他从几种编程语言中借鉴了一些东西：Java（语法，原始值与对象），Scheme 和 AWK（一级函数），Self（原型继承），以及 Perl 和 Python（字符串，数组和正则表达式）。
JavaScript 在 ECMAScript 3 之前没有异常处理，这就解释了为什么语言经常自动转换值并经常悄悄失败：最初它无法抛出异常。
一方面，JavaScript 有一些怪癖，缺少相当多的功能（块作用域变量，模块，支持子类等）。另一方面，它有几个强大的功能，可以让你解决这些问题。在其他语言中，你学习语言特性。在 JavaScript 中，你经常学习模式而不是语言特性。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d636c3de72f77cdc840c92e7fa807959/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-11T12:16:08+08:00" />
<meta property="article:modified_time" content="2024-01-11T12:16:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">大话 JavaScript（Speaking JavaScript）：第一章到第五章</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="JavaScript__2"></a>第一部分：JavaScript 快速入门</h2> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/pt01.html" rel="nofollow">I. JavaScript Quick Start</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>这部分是 JavaScript 的一个独立快速介绍。你可以在不阅读本书中的其他内容的情况下理解它，本书的其他部分也不依赖于它的内容。然而，阅读本书的提示在<a href="pr02.html#how_to_read" rel="nofollow" title="阅读本书的提示">阅读本书的提示</a>中适用。</p> 
<h3><a id="_JavaScript_13"></a>第一章：基本 JavaScript</h3> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/ch01.html" rel="nofollow">1. Basic JavaScript</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>本章是关于“基本 JavaScript”，这是我为 JavaScript 的一个子集选择的名称，尽可能简洁，同时仍然能让你高效地工作。当你开始学习 JavaScript 时，我建议你在学习其他语言之前先在其中编程一段时间。这样，你就不必一次学习所有内容，这可能会让人困惑。</p> 
<h3><a id="_24"></a>背景</h3> 
<p>本节简要介绍了 JavaScript 的背景，以帮助你理解它为什么是这样的。</p> 
<h4><a id="JavaScript__ECMAScript_28"></a>JavaScript 与 ECMAScript</h4> 
<p><em>ECMAScript</em>是 JavaScript 的官方名称。之所以需要一个新名称，是因为<em>Java</em>有商标（最初由 Sun 持有，现在由 Oracle 持有）。目前，Mozilla 是少数几家被允许正式使用<em>JavaScript</em>名称的公司之一，因为它很久以前就获得了许可证。对于常见用法，以下规则适用：</p> 
<ul><li> <p><em>JavaScript</em>意味着编程语言。</p> </li><li> <p><em>ECMAScript</em>是语言规范的官方名称。因此，每当提到语言的版本时，人们都说<em>ECMAScript</em>。JavaScript 的当前版本是 ECMAScript 5；ECMAScript 6 目前正在开发中。</p> </li></ul> 
<h4><a id="_36"></a>影响和语言的性质</h4> 
<p>JavaScript 的创造者 Brendan Eich 别无选择，只能很快地创建这种语言（否则，Netscape 可能会采用其他更糟糕的技术）。他从几种编程语言中借鉴了一些东西：Java（语法，原始值与对象），Scheme 和 AWK（一级函数），Self（原型继承），以及 Perl 和 Python（字符串，数组和正则表达式）。</p> 
<p>JavaScript 在 ECMAScript 3 之前没有异常处理，这就解释了为什么语言经常自动转换值并经常悄悄失败：最初它无法抛出异常。</p> 
<p>一方面，JavaScript 有一些怪癖，缺少相当多的功能（块作用域变量，模块，支持子类等）。另一方面，它有几个强大的功能，可以让你解决这些问题。在其他语言中，你学习语言特性。在 JavaScript 中，你经常学习模式而不是语言特性。</p> 
<p>鉴于它的影响，毫不奇怪 JavaScript 可以实现一种混合了函数式编程（高阶函数；内置的<code>map</code>，<code>reduce</code>等）和面向对象编程（对象，继承）的编程风格。</p> 
<h3><a id="_46"></a>语法</h3> 
<p>本节解释了 JavaScript 的基本语法原则。</p> 
<h4><a id="_50"></a>语法概述</h4> 
<p>一些语法的例子：</p> 
<pre><code class="prism language-js"><span class="token comment">// Two slashes start single-line comments</span>

<span class="token keyword">var</span> x<span class="token punctuation">;</span>  <span class="token comment">// declaring a variable</span>

x <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">+</span> y<span class="token punctuation">;</span>  <span class="token comment">// assigning a value to the variable `x`</span>

<span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// calling function `foo` with parameters `x` and `y`</span>
obj<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// calling method `bar` of object `obj`</span>

<span class="token comment">// A conditional statement</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// Is `x` equal to zero?</span>
    x <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Defining function `baz` with parameters `a` and `b`</span>
<span class="token keyword">function</span> <span class="token function">baz</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>注意等号的两种不同用法：</p> 
<ul><li> <p>单个等号（<code>=</code>）用于将值赋给变量。</p> </li><li> <p>三个等号（<code>===</code>）用于比较两个值（参见<a href="ch01.html#basic_equality_operators" rel="nofollow" title="相等运算符">相等运算符</a>）。</p> </li></ul> 
<h4><a id="_81"></a>语句与表达式</h4> 
<p>要理解 JavaScript 的语法，你应该知道它有两个主要的语法类别：语句和表达式：</p> 
<ul><li> <p>语句“做事情”。程序是一系列语句。这是一个语句的例子，它声明（创建）一个变量<code>foo</code>：</p> <pre><code class="prism language-js"><span class="token keyword">var</span> foo<span class="token punctuation">;</span>
</code></pre> </li><li> <p>表达式产生值。它们是函数参数，赋值的右侧等等。这是一个表达式的例子：</p> <pre><code class="prism language-js"><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">7</span>
</code></pre> </li></ul> 
<p>语句和表达式之间的区别最好通过 JavaScript 有两种不同的<code>if-then-else</code>的方式来说明——作为语句：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> x<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    x <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    x <span class="token operator">=</span> <span class="token operator">-</span>y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>或作为一个表达式：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> y <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> y <span class="token operator">:</span> <span class="token operator">-</span>y<span class="token punctuation">;</span>
</code></pre> 
<p>你可以将后者用作函数参数（但不能使用前者）：</p> 
<pre><code class="prism language-js"><span class="token function">myFunction</span><span class="token punctuation">(</span>y <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> y <span class="token operator">:</span> <span class="token operator">-</span>y<span class="token punctuation">)</span>
</code></pre> 
<p>最后，无论 JavaScript 在哪里期望一个语句，你也可以使用一个表达式；例如：</p> 
<pre><code class="prism language-js"><span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>整行是一个语句（所谓的<em>表达式语句</em>），但函数调用<code>foo(7, 1)</code>是一个表达式。</p> 
<h4><a id="_128"></a>分号</h4> 
<p>在 JavaScript 中，分号是可选的。但是，我建议始终包括它们，因为否则 JavaScript 可能会错误猜测语句的结束。详细信息请参见<a href="ch07.html#automatic_semicolon_insertion" rel="nofollow" title="自动分号插入">自动分号插入</a>。</p> 
<p>分号终止语句，但不终止块。有一种情况下，您会在块后看到一个分号：函数表达式是以块结尾的表达式。如果这样的表达式出现在语句的最后，它后面会跟着一个分号：</p> 
<pre><code class="prism language-js"><span class="token comment">// Pattern: var _ = ___;</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// function expr. inside var decl.</span>
</code></pre> 
<h4><a id="_140"></a>注释</h4> 
<p>JavaScript 有两种注释：单行注释和多行注释。单行注释以<code>//</code>开头，并在行尾终止：</p> 
<pre><code class="prism language-js">x<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// single-line comment</span>
</code></pre> 
<p>多行注释由<code>/*</code>和<code>*/</code>界定：</p> 
<pre><code class="prism language-js"><span class="token comment">/* This is
 a multiline
 comment.
 */</span>
</code></pre> 
<h3><a id="_157"></a>变量和赋值</h3> 
<p>在 JavaScript 中，变量在使用之前被声明：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> foo<span class="token punctuation">;</span>  <span class="token comment">// declare variable `foo`</span>
</code></pre> 
<h4><a id="_165"></a>赋值</h4> 
<p>您可以声明一个变量并同时赋值：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
</code></pre> 
<p>您也可以给现有变量赋值：</p> 
<pre><code class="prism language-js">foo <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>  <span class="token comment">// change variable `foo`</span>
</code></pre> 
<h4><a id="_179"></a>复合赋值运算符</h4> 
<p>有复合赋值运算符，比如<code>+=</code>。以下两个赋值是等价的：</p> 
<pre><code class="prism language-js">x <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_188"></a>标识符和变量名</h4> 
<p><em>标识符</em>是在 JavaScript 中扮演各种语法角色的名称。例如，变量的名称是标识符。标识符区分大小写。</p> 
<p>大致而言，标识符的第一个字符可以是任何 Unicode 字母、美元符号（<code>$</code>）或下划线（<code>_</code>）。随后的字符还可以是任何 Unicode 数字。因此，以下都是合法的标识符：</p> 
<pre><code class="prism language-js">arg0
_tmp
$elem
π
</code></pre> 
<p>以下标识符是<em>保留字</em>——它们是语法的一部分，不能用作变量名（包括函数名和参数名）：</p> 
<table><thead><tr><th><code>arguments</code></th><th><code>break</code></th><th><code>case</code></th><th><code>catch</code></th></tr></thead><tbody><tr><td><code>class</code></td><td><code>const</code></td><td><code>continue</code></td><td><code>debugger</code></td></tr><tr><td><code>default</code></td><td><code>delete</code></td><td><code>do</code></td><td><code>else</code></td></tr><tr><td><code>enum</code></td><td><code>export</code></td><td><code>extends</code></td><td><code>false</code></td></tr><tr><td><code>finally</code></td><td><code>for</code></td><td><code>function</code></td><td><code>if</code></td></tr><tr><td><code>implements</code></td><td><code>import</code></td><td><code>in</code></td><td><code>instanceof</code></td></tr><tr><td><code>interface</code></td><td><code>let</code></td><td><code>new</code></td><td><code>null</code></td></tr><tr><td><code>package</code></td><td><code>private</code></td><td><code>protected</code></td><td><code>public</code></td></tr><tr><td><code>return</code></td><td><code>static</code></td><td><code>super</code></td><td><code>switch</code></td></tr><tr><td><code>this</code></td><td><code>throw</code></td><td><code>true</code></td><td><code>try</code></td></tr><tr><td><code>typeof</code></td><td><code>var</code></td><td><code>void</code></td><td><code>while</code></td></tr></tbody></table> 
<p>以下三个标识符不是保留字，但您应该将它们视为保留字：</p> 
<p>| <code>Infinity</code> |<br> | <code>NaN</code> |<br> | <code>undefined</code> |</p> 
<p>最后，您还应该避免使用标准全局变量的名称（参见第二十三章）。您可以将它们用于局部变量而不会破坏任何东西，但您的代码仍然会变得混乱。</p> 
<h3><a id="_224"></a>值</h3> 
<p>JavaScript 有许多我们从编程语言中期望的值：布尔值、数字、字符串、数组等等。JavaScript 中的所有值都有<em>属性</em>。每个属性都有一个<em>键</em>（或<em>名称</em>）和一个<em>值</em>。您可以将属性视为记录的字段。您可以使用点（<code>.</code>）运算符来读取属性：</p> 
<pre><code class="prism language-js">value<span class="token punctuation">.</span>propKey
</code></pre> 
<p>例如，字符串<code>'abc'</code>具有属性<code>length</code>：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str<span class="token punctuation">.</span>length
<span class="token number">3</span>
</code></pre> 
<p>前面的也可以写成：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span>length
<span class="token number">3</span>
</code></pre> 
<p>点运算符也用于给属性赋值：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// empty object</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// create property `foo`, set it to 123</span>
<span class="token number">123</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">.</span>foo
<span class="token number">123</span>
</code></pre> 
<p>您也可以用它来调用方法：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'HELLO'</span>
</code></pre> 
<p>在上面的例子中，我们已经在值<code>'hello'</code>上调用了方法<code>toUpperCase()</code>。</p> 
<h4><a id="_266"></a>原始值与对象</h4> 
<p>JavaScript 在值之间做了一个相当武断的区分：</p> 
<ul><li> <p><em>原始值</em>是布尔值、数字、字符串、<code>null</code>和<code>undefined</code>。</p> </li><li> <p>所有其他值都是<em>对象</em>。</p> </li></ul> 
<p>两者之间的一个主要区别是它们的比较方式；每个对象都有唯一的标识，并且只有（严格）等于自身：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// an empty object</span>
<span class="token operator">&gt;</span> <span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// another empty object</span>
<span class="token operator">&gt;</span> obj1 <span class="token operator">===</span> obj2
<span class="token boolean">false</span>
<span class="token operator">&gt;</span> obj1 <span class="token operator">===</span> obj1
<span class="token boolean">true</span>
</code></pre> 
<p>相反，所有编码相同值的原始值都被视为相同：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> prim1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">var</span> prim2 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> prim1 <span class="token operator">===</span> prim2
<span class="token boolean">true</span>
</code></pre> 
<p>接下来的两节将更详细地解释原始值和对象。</p> 
<h4><a id="_296"></a>原始值</h4> 
<p>以下是所有原始值（或简称<em>原始值</em>）：</p> 
<ul><li> <p>布尔值：<code>true</code>，<code>false</code>（参见<a href="ch01.html#basic_booleans" rel="nofollow" title="布尔值">布尔值</a>）</p> </li><li> <p>数字：<code>1736</code>，<code>1.351</code>（参见<a href="ch01.html#basic_numbers" rel="nofollow" title="数字">数字</a>）</p> </li><li> <p>字符串：<code>'abc'</code>，<code>"abc"</code>（参见<a href="ch01.html#basic_strings" rel="nofollow" title="字符串">字符串</a>）</p> </li><li> <p>两个“非值”：<code>undefined</code>，<code>null</code>（参见<a href="ch01.html#basic_undefined_null" rel="nofollow" title="undefined 和 null">undefined 和 null</a>）</p> </li></ul> 
<p>原始值具有以下特征：</p> 
<p>按值比较</p> 
<p>“内容”进行比较：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">===</span> <span class="token number">3</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token string">'abc'</span> <span class="token operator">===</span> <span class="token string">'abc'</span>
<span class="token boolean">true</span>
</code></pre> 
<p>始终不可变</p> 
<p>属性无法更改，添加或删除：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>

<span class="token operator">&gt;</span> str<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// try to change property `length`</span>
<span class="token operator">&gt;</span> str<span class="token punctuation">.</span>length      <span class="token comment">// ⇒ no effect</span>
<span class="token number">3</span>

<span class="token operator">&gt;</span> str<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// try to create property `foo`</span>
<span class="token operator">&gt;</span> str<span class="token punctuation">.</span>foo      <span class="token comment">// ⇒ no effect, unknown property</span>
<span class="token keyword">undefined</span>
</code></pre> 
<p>（读取未知属性始终返回<code>undefined</code>。）</p> 
<h4><a id="_339"></a>对象</h4> 
<p>所有非原始值都是<em>对象</em>。最常见的对象类型是：</p> 
<ul><li> <p><em>普通对象</em>，可以通过<em>对象字面量</em>创建（参见<a href="ch01.html#basic_single_objects" rel="nofollow" title="单个对象">单个对象</a>）：</p> <pre><code class="prism language-js"><span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">'Doe'</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> 
<p>前面的对象有两个属性：属性<code>firstName</code>的值为<code>'Jane'</code>，属性<code>lastName</code>的值为<code>'Doe'</code>。</p> 
<ul><li> <p><em>数组</em>，可以通过<em>数组字面量</em>创建（参见<a href="ch01.html#basic_arrays" rel="nofollow" title="数组">数组</a>）：</p> <pre><code class="prism language-js"><span class="token punctuation">[</span> <span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span> <span class="token punctuation">]</span>
</code></pre> </li></ul> 
<p>前面的数组有三个元素，可以通过数字索引访问。例如，'apple’的索引是 0。</p> 
<ul><li> <p><em>正则表达式</em>，可以通过<em>正则表达式字面量</em>创建（参见<a href="ch01.html#basic_regexps" rel="nofollow" title="正则表达式">正则表达式</a>）：</p> <pre><code class="prism language-js"><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^a+b+$</span><span class="token regex-delimiter">/</span></span>
</code></pre> </li></ul> 
<p>对象具有以下特征：</p> 
<p>按引用比较</p> 
<p>进行身份比较；每个值都有自己的身份：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>  <span class="token comment">// two different empty objects</span>
<span class="token boolean">false</span>

<span class="token operator">&gt;</span> <span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">var</span> obj2 <span class="token operator">=</span> obj1<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> obj1 <span class="token operator">===</span> obj2
<span class="token boolean">true</span>
</code></pre> 
<p>默认可变</p> 
<p>通常可以自由更改，添加和删除属性（参见<a href="ch01.html#basic_single_objects" rel="nofollow" title="单个对象">单个对象</a>）：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span> <span class="token comment">// add property `foo`</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">.</span>foo
<span class="token number">123</span>
</code></pre> 
<h4><a id="undefined__null_395"></a>undefined 和 null</h4> 
<p>大多数编程语言都有表示缺少信息的值。JavaScript 有两个这样的“非值”，<code>undefined</code>和<code>null</code>：</p> 
<ul><li> <p><code>undefined</code>表示“没有值”。未初始化的变量是<code>undefined</code>：</p> <pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> foo<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> foo
<span class="token keyword">undefined</span>
</code></pre> </li></ul> 
<p>缺少参数是<code>undefined</code>：</p> 
<pre><code class="prism language-js">    <span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> x <span class="token punctuation">}</span>
    <span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">undefined</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">

如果读取不存在的属性，将得到</span><span class="token template-punctuation string">`</span></span><span class="token keyword">undefined</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">：

</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
    <span class="token operator">&gt;</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// empty object</span>
    <span class="token operator">&gt;</span> obj<span class="token punctuation">.</span>foo
    <span class="token keyword">undefined</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">

+   </span><span class="token template-punctuation string">`</span></span><span class="token keyword">null</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">表示“没有对象”。每当期望对象时（参数，对象链中的最后一个等），它被用作非值。

### 警告

</span><span class="token template-punctuation string">`</span></span><span class="token keyword">undefined</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">和</span><span class="token template-punctuation string">`</span></span><span class="token keyword">null</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">没有属性，甚至没有标准方法，如</span><span class="token template-punctuation string">`</span></span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">。

#### 检查 undefined 或 null

函数通常允许您通过</span><span class="token template-punctuation string">`</span></span><span class="token keyword">undefined</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">或</span><span class="token template-punctuation string">`</span></span><span class="token keyword">null</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">指示缺少值。您可以通过显式检查来做相同的事情：

</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> x <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>您还可以利用<code>undefined</code>和<code>null</code>都被视为<code>false</code>的事实：</p> 
<pre><code class="prism language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_447"></a>警告</h4> 
<p><code>false</code>，<code>0</code>，<code>NaN</code>和<code>''</code>也被视为<code>false</code>（参见<a href="ch01.html#basic_truthy_falsy" rel="nofollow" title="真值和假值">真值和假值</a>）。</p> 
<h4><a id="_typeof__instanceof__451"></a>使用 typeof 和 instanceof 对值进行分类</h4> 
<p>有两个用于对值进行分类的运算符：<code>typeof</code>主要用于原始值，而<code>instanceof</code>用于对象。</p> 
<p><code>typeof</code>看起来像这样：</p> 
<pre><code class="prism language-js"><span class="token keyword">typeof</span> value
</code></pre> 
<p>它返回描述<code>value</code>“类型”的字符串。以下是一些示例：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">typeof</span> <span class="token boolean">true</span>
<span class="token string">'boolean'</span>
<span class="token operator">&gt;</span> <span class="token keyword">typeof</span> <span class="token string">'abc'</span>
<span class="token string">'string'</span>
<span class="token operator">&gt;</span> <span class="token keyword">typeof</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token comment">// empty object literal</span>
<span class="token string">'object'</span>
<span class="token operator">&gt;</span> <span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// empty array literal</span>
<span class="token string">'object'</span>
</code></pre> 
<p>以下表列出了<code>typeof</code>的所有结果：</p> 
<table><thead><tr><th>操作数</th><th>结果</th></tr></thead><tbody><tr><td><code>undefined</code></td><td><code>'undefined'</code></td></tr><tr><td><code>null</code></td><td><code>'object'</code></td></tr><tr><td>布尔值</td><td><code>'boolean'</code></td></tr><tr><td>数字值</td><td><code>'number'</code></td></tr><tr><td>字符串值</td><td><code>'string'</code></td></tr><tr><td>函数</td><td><code>'function'</code></td></tr><tr><td>所有其他正常值</td><td><code>'object'</code></td></tr><tr><td>（引擎创建的值）</td><td>JavaScript 引擎允许创建值，其<code>typeof</code>返回任意字符串（与此表中列出的所有结果都不同）。</td></tr></tbody></table> 
<p><code>typeof null</code>返回<code>'object'</code>是一个无法修复的错误，因为这会破坏现有的代码。这并不意味着<code>null</code>是一个对象。</p> 
<p><code>instanceof</code>看起来像这样：</p> 
<pre><code class="prism language-js">value <span class="token keyword">instanceof</span> <span class="token class-name">Constr</span>
</code></pre> 
<p>如果<code>value</code>是由构造函数<code>Constr</code>创建的对象，则返回<code>true</code>（参见<a href="ch01.html#basic_constructors" rel="nofollow" title="构造函数：对象的工厂">构造函数：对象的工厂</a>）。以下是一些示例：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// object created by constructor Bar</span>
<span class="token operator">&gt;</span> b <span class="token keyword">instanceof</span> <span class="token class-name">Bar</span>
<span class="token boolean">true</span>

<span class="token operator">&gt;</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>  <span class="token comment">// Array is a subconstructor of Object</span>
<span class="token boolean">true</span>

<span class="token operator">&gt;</span> <span class="token keyword">undefined</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>
<span class="token boolean">false</span>
<span class="token operator">&gt;</span> <span class="token keyword">null</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span>
<span class="token boolean">false</span>
</code></pre> 
<h3><a id="_515"></a>布尔值</h3> 
<p>原始布尔类型包括值<code>true</code>和<code>false</code>。以下运算符产生布尔值：</p> 
<ul><li> <p>二进制逻辑运算符：<code>&amp;&amp;</code>（与），<code>||</code>（或）</p> </li><li> <p>前缀逻辑运算符：<code>!</code>（非）</p> </li><li> <p>比较运算符：</p> </li><li> <p>相等运算符：<code>===</code>，<code>!==</code>，<code>==</code>，<code>!=</code></p> </li><li> <p>排序运算符（用于字符串和数字）：<code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code></p> </li></ul> 
<h4><a id="_529"></a>真值和假值</h4> 
<p>每当 JavaScript 期望布尔值（例如<code>if</code>语句的条件）时，可以使用任何值。它将被解释为<code>true</code>或<code>false</code>。以下值被解释为<code>false</code>：</p> 
<ul><li> <p><code>undefined</code>，<code>null</code></p> </li><li> <p>布尔值：<code>false</code></p> </li><li> <p>数字：<code>-0</code>，<code>NaN</code></p> </li><li> <p>字符串：<code>''</code></p> </li></ul> 
<p>所有其他值（包括所有对象！）都被认为是<code>true</code>。被解释为<code>false</code>的值称为<em>假值</em>，被解释为<code>true</code>的值称为<em>真值</em>。<code>Boolean()</code>作为函数调用，将其参数转换为布尔值。您可以使用它来测试值的解释方式：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
<span class="token operator">&gt;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
<span class="token operator">&gt;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// empty object</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// empty array</span>
<span class="token boolean">true</span>
</code></pre> 
<h4><a id="_556"></a>二进制逻辑运算符</h4> 
<p>JavaScript 中的二进制逻辑运算符是<em>短路</em>的。也就是说，如果第一个操作数足以确定结果，第二个操作数将不会被评估。例如，在以下表达式中，函数<code>foo()</code>永远不会被调用：</p> 
<pre><code class="prism language-js"><span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>  <span class="token operator">||</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>此外，二进制逻辑运算符返回它们的操作数之一，这些操作数可能是布尔值也可能不是。使用真值检查来确定哪一个：</p> 
<p>和(<code>&amp;&amp;</code>)</p> 
<p>如果第一个操作数为假值，则返回它。否则，返回第二个操作数：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token number">NaN</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'abc'</span>
<span class="token number">NaN</span>
<span class="token operator">&gt;</span> <span class="token number">123</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'abc'</span>
<span class="token string">'abc'</span>
</code></pre> 
<p>或(<code>||</code>)</p> 
<p>如果第一个操作数为真值，则返回它。否则，返回第二个操作数：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'abc'</span> <span class="token operator">||</span> <span class="token number">123</span>
<span class="token string">'abc'</span>
<span class="token operator">&gt;</span> <span class="token string">''</span> <span class="token operator">||</span> <span class="token number">123</span>
<span class="token number">123</span>
</code></pre> 
<h4><a id="_589"></a>相等运算符</h4> 
<p>JavaScript 有两种相等性：</p> 
<ul><li> <p>普通，或“宽松”，（不）相等：<code>==</code>和<code>!=</code></p> </li><li> <p>严格（不）相等：<code>===</code>和<code>!==</code></p> </li></ul> 
<p>普通相等性认为太多的值是相等的（详细内容在<a href="ch09.html#normal_equality" rel="nofollow" title="Normal (Lenient) Equality (==, !=)">普通（宽松）相等性（==，！=）</a>中有解释），这可能会隐藏错误。因此，建议始终使用严格相等性。</p> 
<h3><a id="_599"></a>数字</h3> 
<p>JavaScript 中的所有数字都是浮点数：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1.0</span>
<span class="token boolean">true</span>
</code></pre> 
<p>特殊数字包括以下内容：</p> 
<p><code>NaN</code>（“不是一个数字”）</p> 
<p>一个错误值：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'xyz'</span><span class="token punctuation">)</span>  <span class="token comment">// 'xyz' can’t be converted to a number</span>
<span class="token number">NaN</span>
</code></pre> 
<p><code>Infinity</code></p> 
<p>也是大多数错误值：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token number">3</span> <span class="token operator">/</span> <span class="token number">0</span>
<span class="token number">Infinity</span>
<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span>  <span class="token comment">// number too large</span>
<span class="token number">Infinity</span>
</code></pre> 
<p><code>Infinity</code>大于任何其他数字（除了<code>NaN</code>）。同样，<code>-Infinity</code>小于任何其他数字（除了<code>NaN</code>）。这使得这些数字在作为默认值时非常有用（例如，当你正在寻找最小值或最大值时）。</p> 
<h3><a id="_632"></a>运算符</h3> 
<p>JavaScript 有以下算术运算符（参见<a href="ch11.html#arithmetic_operators" rel="nofollow" title="Arithmetic Operators">算术运算符</a>）：</p> 
<ul><li> <p>加法：<code>number1 + number2</code></p> </li><li> <p>减法：<code>number1 - number2</code></p> </li><li> <p>乘法：<code>number1 * number2</code></p> </li><li> <p>除法：<code>number1 / number2</code></p> </li><li> <p>余数：<code>number1 % number2</code></p> </li><li> <p>增量：<code>++variable</code>, <code>variable++</code></p> </li><li> <p>递减：<code>--variable</code>, <code>variable--</code></p> </li><li> <p>否定：<code>-value</code></p> </li><li> <p>转换为数字：<code>+value</code></p> </li></ul> 
<p>全局对象<code>Math</code>（参见<a href="ch01.html#basic_math" rel="nofollow" title="Math">Math</a>）通过函数提供更多的算术运算。</p> 
<p>JavaScript 还有位操作的运算符（例如，位与；参见<a href="ch11.html#bitwise_operators" rel="nofollow" title="Bitwise Operators">位运算符</a>）。</p> 
<h3><a id="_658"></a>字符串</h3> 
<p>字符串可以直接通过字符串字面量创建。这些字面量由单引号或双引号括起来。反斜杠(<code>\</code>)转义字符并产生一些控制字符。以下是一些例子：</p> 
<pre><code class="prism language-js"><span class="token string">'abc'</span>
<span class="token string">"abc"</span>

<span class="token string">'Did she say "Hello"?'</span>
<span class="token string">"Did she say \"Hello\"?"</span>

<span class="token string">'That\'s nice!'</span>
<span class="token string">"That's nice!"</span>

<span class="token string">'Line 1\nLine 2'</span>  <span class="token comment">// newline</span>
<span class="token string">'Backlash: \\'</span>
</code></pre> 
<p>单个字符通过方括号访问：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token string">'b'</span>
</code></pre> 
<p>属性<code>length</code>计算字符串中的字符数：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span>length
<span class="token number">3</span>
</code></pre> 
<p>与所有原始值一样，字符串是不可变的；如果要更改现有字符串，需要创建一个新字符串。</p> 
<h4><a id="_693"></a>字符串运算符</h4> 
<p>字符串通过加号(<code>+</code>)操作符进行连接，如果其中一个操作数是字符串，则将另一个操作数转换为字符串：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> messageCount <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token string">'You have '</span> <span class="token operator">+</span> messageCount <span class="token operator">+</span> <span class="token string">' messages'</span>
<span class="token string">'You have 3 messages'</span>
</code></pre> 
<p>要在多个步骤中连接字符串，使用<code>+=</code>操作符：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str <span class="token operator">+=</span> <span class="token string">'Multiple '</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str <span class="token operator">+=</span> <span class="token string">'pieces '</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str <span class="token operator">+=</span> <span class="token string">'are concatenated.'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> str
<span class="token string">'Multiple pieces are concatenated.'</span>
</code></pre> 
<h4><a id="_714"></a>字符串方法</h4> 
<p>字符串有许多有用的方法（参见<a href="ch12.html#string_prototype_methods" rel="nofollow" title="String Prototype Methods">字符串原型方法</a>）。以下是一些例子：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">// copy a substring</span>
<span class="token string">'bc'</span>
<span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token string">'b'</span>

<span class="token operator">&gt;</span> <span class="token string">'\t xyz  '</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// trim whitespace</span>
<span class="token string">'xyz'</span>

<span class="token operator">&gt;</span> <span class="token string">'mjölnir'</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'MJÖLNIR'</span>

<span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>  <span class="token comment">// find a string</span>
<span class="token number">1</span>
<span class="token operator">&gt;</span> <span class="token string">'abc'</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<h3><a id="_736"></a>语句</h3> 
<p>JavaScript 中的条件和循环在以下部分介绍。</p> 
<h4><a id="_740"></a>条件</h4> 
<p><code>if</code>语句有一个<code>then</code>子句和一个可选的<code>else</code>子句，根据布尔条件执行：</p> 
<pre><code class="prism language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>myvar <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// then</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>myvar <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// then</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// else</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>myvar <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// then</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>myvar <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// else-if</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>myvar <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// else-if</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// else</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>我建议始终使用大括号（它们表示零个或多个语句的块）。但如果一个子句只是一个语句，你不必这样做（对于控制流语句<code>for</code>和<code>while</code>也是如此）：</p> 
<pre><code class="prism language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span>x<span class="token punctuation">;</span>
</code></pre> 
<p>以下是一个<code>switch</code>语句。<code>fruit</code>的值决定执行哪个<code>case</code>：</p> 
<pre><code class="prism language-js"><span class="token keyword">switch</span> <span class="token punctuation">(</span>fruit<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">case</span> <span class="token string">'banana'</span><span class="token operator">:</span>
        <span class="token comment">// ...</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'apple'</span><span class="token operator">:</span>
        <span class="token comment">// ...</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>  <span class="token comment">// all other cases</span>
        <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>case</code>后的“操作数”可以是任何表达式；它通过<code>===</code>与<code>switch</code>的参数进行比较。</p> 
<h4><a id="_789"></a>循环</h4> 
<p><code>for</code>循环的格式如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span>⟦«init»⟧<span class="token punctuation">;</span> ⟦«condition»⟧<span class="token punctuation">;</span> ⟦«post_iteration»⟧<span class="token punctuation">)</span>
    «statement»
</code></pre> 
<p><code>init</code>在循环开始时执行。在每次循环迭代之前检查<code>condition</code>；如果变为<code>false</code>，则终止循环。<code>post_iteration</code>在每次循环迭代后执行。</p> 
<p>此示例在控制台上打印数组<code>arr</code>的所有元素：</p> 
<pre><code class="prism language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>while</code>循环在其条件成立时继续循环其主体：</p> 
<pre><code class="prism language-js"><span class="token comment">// Same as for loop above:</span>
<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>do-while</code>循环在其条件成立时继续循环其主体。由于条件跟随主体，因此主体始终至少执行一次：</p> 
<pre><code class="prism language-js"><span class="token keyword">do</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>在所有循环中：</p> 
<ul><li> <p><code>break</code>离开循环。</p> </li><li> <p><code>continue</code>开始新的循环迭代。</p> </li></ul> 
<h3><a id="_833"></a>函数</h3> 
<p>定义函数的一种方式是通过<em>函数声明</em>：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">param1<span class="token punctuation">,</span> param2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> param1 <span class="token operator">+</span> param2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>前面的代码定义了一个函数<code>add</code>，它有两个参数<code>param1</code>和<code>param2</code>，并返回这两个参数的总和。这是如何调用该函数的：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token number">7</span>
<span class="token operator">&gt;</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>
<span class="token string">'ab'</span>
</code></pre> 
<p>定义<code>add()</code>的另一种方式是通过将<em>函数表达式</em>分配给变量<code>add</code>：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">param1<span class="token punctuation">,</span> param2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> param1 <span class="token operator">+</span> param2<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>函数表达式产生一个值，因此可以直接用于将函数作为参数传递给其他函数：</p> 
<pre><code class="prism language-js"><span class="token function">someOtherFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span> p2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_866"></a>函数声明被提升</h4> 
<p>函数声明是<em>提升</em>的-完整地移动到当前范围的开头。这允许您引用稍后声明的函数：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// OK, bar is hoisted</span>
    <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>请注意，虽然<code>var</code>声明也被提升（参见<a href="ch01.html#basic_var_hoisting" rel="nofollow" title="变量被提升">变量被提升</a>），但是它们执行的赋值不会：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Not OK, bar is still undefined</span>
    <span class="token keyword">var</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_890"></a>特殊变量参数</h4> 
<p>您可以使用任意数量的参数调用 JavaScript 中的任何函数；语言永远不会抱怨。但是，它将使所有参数通过特殊变量<code>arguments</code>可用。<code>arguments</code>看起来像一个数组，但没有数组方法：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> arguments <span class="token punctuation">}</span>
<span class="token operator">&gt;</span> <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> args<span class="token punctuation">.</span>length
<span class="token number">3</span>
<span class="token operator">&gt;</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment">// read element at index 0</span>
<span class="token string">'a'</span>
</code></pre> 
<h4><a id="_903"></a>参数太多或太少</h4> 
<p>让我们使用以下函数来探索 JavaScript 中如何处理太多或太少的参数（函数<code>toArray()</code>显示在<a href="ch01.html#basic_toarray" rel="nofollow" title="将参数转换为数组">将参数转换为数组</a>中）：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">toArray</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>将忽略额外的参数（除了<code>arguments</code>）：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">)</span>
a b
<span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>
</code></pre> 
<p>缺少参数将获得值<code>undefined</code>：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
a <span class="token keyword">undefined</span>
<span class="token punctuation">[</span> <span class="token string">'a'</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">undefined</span> <span class="token keyword">undefined</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre> 
<h4><a id="_933"></a>可选参数</h4> 
<p>以下是为参数分配默认值的常见模式：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">pair</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    x <span class="token operator">=</span> x <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// (1)</span>
    y <span class="token operator">=</span> y <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span> x<span class="token punctuation">,</span> y <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在第（1）行，<code>||</code>运算符返回<code>x</code>，如果它是真值（不是<code>null</code>，<code>undefined</code>等）。否则，它将返回第二个操作数：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">pair</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;</span> <span class="token function">pair</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;</span> <span class="token function">pair</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span>
</code></pre> 
<h4><a id="_956"></a>强制参数个数</h4> 
<p>如果要强制执行<em>arity</em>（特定数量的参数），可以检查<code>arguments.length</code>：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">pair</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Need exactly 2 arguments'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_969"></a>将参数转换为数组</h4> 
<p><code>arguments</code>不是数组，它只是<em>类似数组</em>（参见<a href="ch17_split_001.html#array-like_objects" rel="nofollow" title="类似数组对象和通用方法">类似数组对象和通用方法</a>）。它有一个<code>length</code>属性，您可以通过方括号中的索引访问其元素。但是，您无法删除元素或调用其中任何数组方法。因此，有时需要将<code>arguments</code>转换为数组，这就是以下函数所做的事情（它在<a href="ch17_split_001.html#array-like_objects" rel="nofollow" title="类似数组对象和通用方法">类似数组对象和通用方法</a>中有解释）：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token parameter">arrayLikeObject</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLikeObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_979"></a>异常处理</h3> 
<p>处理异常的最常见方法（参见第十四章）如下：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'ID must not be negative: '</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> id <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// normally: retrieved from database</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getPersons</span><span class="token punctuation">(</span><span class="token parameter">ids</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    ids<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">getPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>exception<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>try</code>子句包围关键代码，如果在<code>try</code>子句内抛出异常，则执行<code>catch</code>子句。使用前面的代码：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token function">getPersons</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span>Error<span class="token operator">:</span> <span class="token constant">ID</span> must not be negative<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">137</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>
</code></pre> 
<h3><a id="_1013"></a>严格模式</h3> 
<p>严格模式（参见<a href="ch07.html#strict_mode" rel="nofollow" title="严格模式">严格模式</a>）启用更多警告，并使 JavaScript 成为一种更干净的语言（非严格模式有时被称为“松散模式”）。要打开它，请首先在 JavaScript 文件或<code>&lt;script&gt;</code>标记中键入以下行：</p> 
<pre><code class="prism language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
</code></pre> 
<p>您还可以为每个函数启用严格模式：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">functionInStrictMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1029"></a>变量作用域和闭包</h3> 
<p>在 JavaScript 中，你在使用变量之前通过<code>var</code>声明变量：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> x<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token literal-property property">ReferenceError</span><span class="token operator">:</span> y is not defined
</code></pre> 
<p>你可以使用单个<code>var</code>语句声明和初始化多个变量：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> 
<p>但我建议每个变量使用一个语句（原因在<a href="ch26.html#style_one_var_per_line" rel="nofollow" title="Syntax">Syntax</a>中有解释）。因此，我会重写上一个语句为：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> 
<p>由于提升（参见<a href="ch01.html#basic_var_hoisting" rel="nofollow" title="变量被提升">变量被提升</a>），通常最好在函数的开头声明变量。</p> 
<h4><a id="_1056"></a>变量是函数作用域的</h4> 
<p>变量的作用域总是整个函数（而不是当前的块）。例如：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">512</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// (1)</span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">-</span>x<span class="token punctuation">;</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 512</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>我们可以看到变量<code>tmp</code>不仅限于从第（1）行开始的块；它存在直到函数的结束。</p> 
<h4><a id="_1073"></a>变量被提升</h4> 
<p>每个变量声明都是<em>提升</em>的：声明被移动到函数的开头，但它所做的赋值保持不变。例如，考虑下面函数中第（1）行的变量声明：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// (1)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在内部，前面的函数是这样执行的：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">var</span> tmp<span class="token punctuation">;</span>  <span class="token comment">// hoisted declaration</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        tmp <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// assignment stays put</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_1098"></a>闭包</h4> 
<p>每个函数都与包围它的函数的变量保持连接，即使它离开了被创建的作用域。例如：</p> 
<pre><code class="prism language-js"><span class="token keyword">function</span> <span class="token function">createIncrementor</span><span class="token punctuation">(</span><span class="token parameter">start</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// (1)</span>
        start<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> start<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>从第（1）行开始的函数离开了它被创建的上下文，但仍然连接到<code>start</code>的一个活动版本：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> inc <span class="token operator">=</span> <span class="token function">createIncrementor</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">6</span>
<span class="token operator">&gt;</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">7</span>
<span class="token operator">&gt;</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">8</span>
</code></pre> 
<p><em>闭包</em>是一个函数加上与其周围作用域的变量的连接。因此，<code>createIncrementor()</code>返回的是一个闭包。</p> 
<h4><a id="IIFE__1125"></a>IIFE 模式：引入新的作用域</h4> 
<p>有时你想引入一个新的变量作用域——例如，防止一个变量成为全局的。在 JavaScript 中，你不能使用块来做到这一点；你必须使用一个函数。但是有一种使用函数的块状方式的模式。它被称为<em>IIFE</em>（<a href="http://bit.ly/i-ife" rel="nofollow">立即调用函数表达式</a>，发音为“iffy”）：</p> 
<pre><code class="prism language-js"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// open IIFE</span>
    <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>  <span class="token comment">// not a global variable</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// close IIFE</span>
</code></pre> 
<p>确保按照前面的示例精确地输入（除了注释）。IIFE 是一个在定义后立即调用的函数表达式。在函数内部，存在一个新的作用域，防止<code>tmp</code>成为全局的。请参阅<a href="ch16.html#iife" rel="nofollow" title="IIFE 引入新的作用域">IIFE 引入新的作用域</a>了解 IIFE 的详细信息。</p> 
<h5><a id="IIFE__1137"></a>IIFE 的用例：通过闭包无意中共享</h5> 
<p>闭包保持与外部变量的连接，有时这并不是你想要的：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> i <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// (1)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">;</span> <span class="token comment">// 5 (not 1)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result3<span class="token punctuation">;</span> <span class="token comment">// 5 (not 3)</span>
</code></pre> 
<p>第（1）行返回的值始终是<code>i</code>的当前值，而不是函数创建时的值。循环结束后，<code>i</code>的值为 5，这就是为什么数组中的所有函数都返回该值。如果你想让第（1）行的函数接收当前<code>i</code>值的快照，你可以使用 IIFE：</p> 
<pre><code class="prism language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">var</span> i2 <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// copy current i</span>
        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> i2 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_1161"></a>对象和构造函数</h3> 
<p>本节涵盖了 JavaScript 的两种基本面向对象的机制：单个对象和<em>构造函数</em>（它们是对象的工厂，类似于其他语言中的类）。</p> 
<h4><a id="_1165"></a>单个对象</h4> 
<p>像所有的值一样，对象都有属性。实际上，你可以把对象看作是一组属性，其中每个属性都是一个（键，值）对。键是一个字符串，值是任何 JavaScript 值。</p> 
<p>在 JavaScript 中，你可以直接通过<em>对象字面量</em>创建普通对象：</p> 
<pre><code class="prism language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> jane <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>

    <span class="token function-variable function">describe</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">'Person named '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>前面的对象有属性<code>name</code>和<code>describe</code>。你可以读取（“获取”）和写入（“设置”）属性：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>name  <span class="token comment">// get</span>
<span class="token string">'Jane'</span>
<span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'John'</span><span class="token punctuation">;</span>  <span class="token comment">// set</span>
<span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>newProperty <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>  <span class="token comment">// property created automatically</span>
</code></pre> 
<p>像<code>describe</code>这样的函数值属性被称为<em>方法</em>。它们使用<code>this</code>来引用调用它们的对象：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> jane<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// call method</span>
<span class="token string">'Person named John'</span>
<span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Jane'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> jane<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Person named Jane'</span>
</code></pre> 
<p><code>in</code>运算符检查一个属性是否存在：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'newProperty'</span> <span class="token keyword">in</span> jane
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token string">'foo'</span> <span class="token keyword">in</span> jane
<span class="token boolean">false</span>
</code></pre> 
<p>如果读取一个不存在的属性，你会得到值<code>undefined</code>。因此，前面的两个检查也可以这样执行：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>newProperty <span class="token operator">!==</span> <span class="token keyword">undefined</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> jane<span class="token punctuation">.</span>foo <span class="token operator">!==</span> <span class="token keyword">undefined</span>
<span class="token boolean">false</span>
</code></pre> 
<p><code>delete</code>运算符移除一个属性：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">delete</span> jane<span class="token punctuation">.</span>newProperty
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token string">'newProperty'</span> <span class="token keyword">in</span> jane
<span class="token boolean">false</span>
</code></pre> 
<h4><a id="_1228"></a>任意属性键</h4> 
<p>属性键可以是任何字符串。到目前为止，我们已经在对象文字和点运算符之后看到了属性键。但是，只有在它们是标识符时，才能以这种方式使用它们（参见<a href="ch01.html#basic_identifiers_variable_names" rel="nofollow" title="Identifiers and Variable Names">Identifiers and Variable Names</a>）。如果要使用其他字符串作为键，必须在对象文字中对其进行引用，并使用方括号来获取和设置属性：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token string-property property">'not an identifier'</span><span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">[</span><span class="token string">'not an identifier'</span><span class="token punctuation">]</span>
<span class="token number">123</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">[</span><span class="token string">'not an identifier'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span>
</code></pre> 
<p>方括号还允许您计算属性的键：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">hello</span><span class="token operator">:</span> <span class="token string">'world'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>

<span class="token operator">&gt;</span> obj<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
<span class="token string">'world'</span>
<span class="token operator">&gt;</span> obj<span class="token punctuation">[</span><span class="token string">'hel'</span><span class="token operator">+</span><span class="token string">'lo'</span><span class="token punctuation">]</span>
<span class="token string">'world'</span>
</code></pre> 
<h4><a id="_1251"></a>提取方法</h4> 
<p>如果提取一个方法，它将失去与对象的连接。单独使用时，该函数不再是一个方法，<code>this</code> 的值为 <code>undefined</code>（在严格模式下）。</p> 
<p>例如，让我们回到之前的对象 <code>jane</code>：</p> 
<pre><code class="prism language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> jane <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>

    <span class="token function-variable function">describe</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">'Person named '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>我们想从 <code>jane</code> 中提取方法 <code>describe</code>，将其放入变量 <code>func</code> 中，并调用它。但是，这样做不起作用：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> func <span class="token operator">=</span> jane<span class="token punctuation">.</span>describe<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">TypeError</span><span class="token operator">:</span> Cannot read property <span class="token string">'name'</span> <span class="token keyword">of</span> <span class="token keyword">undefined</span>
</code></pre> 
<p>解决方案是使用所有函数都具有的 <code>bind()</code> 方法。它创建一个新函数，其 <code>this</code> 始终具有给定值：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> func2 <span class="token operator">=</span> jane<span class="token punctuation">.</span><span class="token function">describe</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>jane<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'Person named Jane'</span>
</code></pre> 
<h4><a id="_1284"></a>方法内的函数</h4> 
<p>每个函数都有自己的特殊变量 <code>this</code>。如果在方法内部嵌套函数，这是不方便的，因为您无法从函数中访问方法的 <code>this</code>。以下是一个示例，我们调用 <code>forEach</code> 以使用函数遍历数组：</p> 
<pre><code class="prism language-js"><span class="token keyword">var</span> jane <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">friends</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">'Tarzan'</span><span class="token punctuation">,</span> <span class="token string">'Cheeta'</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">logHiToFriends</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token string">'use strict'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">friend</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token comment">// `this` is undefined here</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>调用 <code>logHiToFriends</code> 会产生一个错误：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> jane<span class="token punctuation">.</span><span class="token function">logHiToFriends</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token literal-property property">TypeError</span><span class="token operator">:</span> Cannot read property <span class="token string">'name'</span> <span class="token keyword">of</span> <span class="token keyword">undefined</span>
</code></pre> 
<p>让我们看看修复这个问题的两种方法。首先，我们可以将 <code>this</code> 存储在不同的变量中：</p> 
<pre><code class="prism language-js"><span class="token function-variable function">logHiToFriends</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">friend</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>或者，<code>forEach</code> 有一个第二个参数，允许您为 <code>this</code> 提供一个值：</p> 
<pre><code class="prism language-js"><span class="token function-variable function">logHiToFriends</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token string">'use strict'</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">friend</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">' says hi to '</span><span class="token operator">+</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在 JavaScript 中，函数表达式经常用作函数调用中的参数。当您从这些函数表达式之一引用 <code>this</code> 时，一定要小心。</p> 
<h4><a id="_1334"></a>构造函数：对象的工厂</h4> 
<p>到目前为止，您可能认为 JavaScript 对象 <em>只</em> 是从字符串到值的映射，这是 JavaScript 对象文字所暗示的概念，它看起来像其他语言的映射/字典文字。但是，JavaScript 对象还支持一项真正面向对象的功能：继承。本节并未完全解释 JavaScript 继承的工作原理，但它向您展示了一个简单的模式，以便您开始。如果您想了解更多，请参阅第十七章。</p> 
<p>除了作为“真正的”函数和方法外，函数在 JavaScript 中还扮演另一个角色：如果通过 <code>new</code> 运算符调用，它们将成为 <em>构造函数</em>——对象的工厂。因此，构造函数在其他语言中是类的粗略类比。按照惯例，构造函数的名称以大写字母开头。例如：</p> 
<pre><code class="prism language-js"><span class="token comment">// Set up instance data</span>
<span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Methods</span>
<span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">dist</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>我们可以看到构造函数有两个部分。首先，函数 <code>Point</code> 设置实例数据。其次，属性 <code>Point.prototype</code> 包含一个具有方法的对象。前者数据对每个实例都是特定的，而后者数据在所有实例之间共享。</p> 
<p>要使用 <code>Point</code>，我们通过 <code>new</code> 运算符调用它：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> p<span class="token punctuation">.</span>x
<span class="token number">3</span>
<span class="token operator">&gt;</span> p<span class="token punctuation">.</span><span class="token function">dist</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">5.830951894845301</span>
</code></pre> 
<p><code>p</code> 是 <code>Point</code> 的一个实例：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> p <span class="token keyword">instanceof</span> <span class="token class-name">Point</span>
<span class="token boolean">true</span>
</code></pre> 
<h3><a id="_1371"></a>数组</h3> 
<p>数组是可以通过从零开始的整数索引访问的元素序列。</p> 
<h4><a id="_1375"></a>数组文字</h4> 
<p>数组文字对于创建数组很方便：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> 
<p>前面的数组有三个元素：字符串 <code>'a'</code>、<code>'b'</code> 和 <code>'c'</code>。您可以通过整数索引访问它们：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token string">'a'</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>
</code></pre> 
<p><code>length</code> 属性指示数组有多少个元素。您可以使用它来追加元素和删除元素：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span>length
<span class="token number">2</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'c'</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span>length
<span class="token number">3</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'a'</span> <span class="token punctuation">]</span>
</code></pre> 
<p><code>in</code> 运算符也适用于数组：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token keyword">in</span> arr <span class="token comment">// is there an element at index 1?</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token keyword">in</span> arr <span class="token comment">// is there an element at index 5?</span>
<span class="token boolean">false</span>
</code></pre> 
<p>请注意，数组是对象，因此可以具有对象属性：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span>foo
<span class="token number">123</span>
</code></pre> 
<h4><a id="_1430"></a>数组方法</h4> 
<p>数组有许多方法（参见<a href="ch18.html#array_prototype_methods" rel="nofollow" title="Array Prototype Methods">Array Prototype Methods</a>）。以下是一些示例：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// copy elements</span>
<span class="token punctuation">[</span> <span class="token string">'b'</span> <span class="token punctuation">]</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>  <span class="token comment">// append an element</span>
<span class="token number">4</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'x'</span> <span class="token punctuation">]</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// remove last element</span>
<span class="token string">'x'</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// remove first element</span>
<span class="token string">'a'</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span>  <span class="token comment">// prepend an element</span>
<span class="token number">3</span>
<span class="token operator">&gt;</span> arr
<span class="token punctuation">[</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>  <span class="token comment">// find the index of an element</span>
<span class="token number">1</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">1</span>

<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>  <span class="token comment">// all elements in a single string</span>
<span class="token string">'x-b-c'</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token string">'xbc'</span>
<span class="token operator">&gt;</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">'x,b,c'</span>
</code></pre> 
<h4><a id="_1475"></a>遍历数组</h4> 
<p>有几种用于遍历元素的数组方法（参见<a href="ch18.html#array_iteration_methods" rel="nofollow" title="Iteration (Nondestructive)">Iteration (Nondestructive)</a>）。最重要的两个是 <code>forEach</code> 和 <code>map</code>。</p> 
<p><code>forEach</code> 遍历数组并将当前元素及其索引传递给函数：</p> 
<pre><code class="prism language-js"><span class="token punctuation">[</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// (1)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token string">'. '</span> <span class="token operator">+</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>前面的代码产生以下输出：</p> 
<pre><code class="prism language-js"><span class="token number">0</span>\<span class="token punctuation">.</span> a
<span class="token number">1</span>\<span class="token punctuation">.</span> b
<span class="token number">2</span>\<span class="token punctuation">.</span> c
</code></pre> 
<p>请注意，第（1）行中的函数可以忽略参数。例如，它可能只有参数<code>elem</code>。</p> 
<p><code>map</code>通过将函数应用于现有数组的每个元素来创建一个新数组：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token keyword">return</span> x<span class="token operator">*</span>x <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span> <span class="token punctuation">]</span>
</code></pre> 
<h3><a id="_1505"></a>正则表达式</h3> 
<p>JavaScript 内置支持正则表达式（第十九章是教程，更详细地解释了它们的工作原理）。它们由斜杠分隔：</p> 
<pre><code class="prism language-js"><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^abc$</span><span class="token regex-delimiter">/</span></span>
<span class="token operator">/</span><span class="token punctuation">[</span><span class="token constant">A</span><span class="token operator">-</span>Za<span class="token operator">-</span>z0<span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">/</span>
</code></pre> 
<h4><a id="_test__1514"></a>方法 test(): 是否有匹配项？</h4> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^a+b+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aaab'</span><span class="token punctuation">)</span>
<span class="token boolean">true</span>
<span class="token operator">&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^a+b+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span>
<span class="token boolean">false</span>
</code></pre> 
<h4><a id="_exec__1523"></a>方法 exec(): 匹配和捕获组</h4> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a(b+)a</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">'_abbba_aba_'</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token string">'abbba'</span><span class="token punctuation">,</span> <span class="token string">'bbb'</span> <span class="token punctuation">]</span>
</code></pre> 
<p>返回的数组包含索引 0 处的完整匹配项，索引 1 处的第一个组的捕获，依此类推。还有一种方法（在<a href="ch19.html#RegExp.prototype.exec" rel="nofollow" title="RegExp.prototype.exec: Capture Groups">RegExp.prototype.exec: Capture Groups</a>中讨论）可以重复调用此方法以获取所有匹配项。</p> 
<h4><a id="_replace__1532"></a>方法 replace(): 搜索和替换</h4> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> <span class="token string">'&lt;a&gt; &lt;bbb&gt;'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;(.*?)&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'[$1]'</span><span class="token punctuation">)</span>
<span class="token string">'[a] [bbb]'</span>
</code></pre> 
<p><code>replace</code>的第一个参数必须是带有<code>/g</code>标志的正则表达式；否则，只会替换第一个匹配项。还有一种方法（如在<a href="ch19.html#String.prototype.replace" rel="nofollow" title="String.prototype.replace: Search and Replace">String.prototype.replace: Search and Replace</a>中讨论的）可以使用函数来计算替换。</p> 
<h3><a id="_1541"></a>数学</h3> 
<p><code>Math</code>（参见第二十一章）是一个具有算术函数的对象。以下是一些示例：</p> 
<pre><code class="prism language-js"><span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token number">2</span>

<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment">// 3 to the power of 2</span>
<span class="token number">9</span>

<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token number">5</span>

<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1.9</span><span class="token punctuation">)</span>
<span class="token number">2</span>

<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span>  <span class="token comment">// pre-defined constant for π</span>
<span class="token number">3.141592653589793</span>

<span class="token operator">&gt;</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span><span class="token punctuation">)</span>  <span class="token comment">// compute the cosine for 180°</span>
<span class="token operator">-</span><span class="token number">1</span>
</code></pre> 
<h3><a id="_1565"></a>标准库的其他功能</h3> 
<p>JavaScript 的标准库相对简陋，但还有更多可以使用的东西：</p> 
<p><code>Date</code>（第二十章）</p> 
<p>一个日期的构造函数，其主要功能是解析和创建日期字符串以及访问日期的组件（年、小时等）。</p> 
<p><code>JSON</code>（第二十二章）</p> 
<p>一个具有解析和生成 JSON 数据功能的对象。</p> 
<p><code>console.*</code> 方法（参见<a href="ch23.html#console_api" rel="nofollow" title="控制台 API">控制台 API</a>）</p> 
<p>这些特定于浏览器的方法不是语言本身的一部分，但其中一些也适用于 Node.js。</p> 
<h2><a id="_1581"></a>第二部分：背景</h2> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/pt02.html" rel="nofollow">II. Background</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>这部分解释了 JavaScript 的历史和性质。它对语言进行了广泛的初步介绍，并解释了它存在的背景（不过不涉及太多技术细节）。</p> 
<p>这部分不是必读的；你可以在没有阅读它的情况下理解本书的其余部分。</p> 
<h3><a id="__JavaScript_1595"></a>第二章 为什么选择 JavaScript？</h3> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/ch02.html" rel="nofollow">2. Why JavaScript?</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>有很多编程语言。为什么你要使用 JavaScript？本章将从七个重要方面来看，这些方面在你选择编程语言时很重要，并且认为 JavaScript 总体上做得很好：</p> 
<ol><li> <p>它是免费提供的吗？</p> </li><li> <p>它是一种优雅的编程语言吗？</p> </li><li> <p>在实践中有用吗？</p> </li><li> <p>它有好的工具，特别是好的<em>集成开发环境</em>（IDE）吗？</p> </li><li> <p>它对你想做的事情来说足够快吗？</p> </li><li> <p>它被广泛使用吗？</p> </li><li> <p>它有未来吗？</p> </li></ol> 
<h3><a id="JavaScript__1620"></a>JavaScript 是免费提供的吗？</h3> 
<p>JavaScript 可以说是最开放的编程语言：它的规范 ECMA-262 是 ISO 标准。许多独立方实现都紧密遵循这一规范。其中一些实现是开源的。此外，语言的演变由 TC39 委员会负责，该委员会由包括所有主要浏览器供应商在内的几家公司组成。其中许多公司通常是竞争对手，但他们为了语言的利益而共同合作。</p> 
<h3><a id="JavaScript__1624"></a>JavaScript 优雅吗？</h3> 
<p>是和不是。我用不同范式的几种编程语言写了大量代码。因此，我很清楚 JavaScript 并不是优雅的巅峰。然而，它是一种非常灵活的语言，有一个相当优雅的核心，并且使你能够使用面向对象编程和函数式编程的混合。</p> 
<p>JavaScript 引擎之间的语言兼容性曾经是一个问题，但现在不再是了，部分得益于<a href="https://github.com/tc39/test262">测试 262 套件</a>，该套件检查引擎是否符合 ECMAScript 规范。相比之下，浏览器和 DOM 的差异仍然是一个挑战。这就是为什么通常最好依赖框架来隐藏这些差异。</p> 
<h3><a id="JavaScript__1630"></a>JavaScript 有用吗？</h3> 
<p>世界上最美丽的编程语言是无用的，除非它能让你编写你需要的程序。</p> 
<h4><a id="_1634"></a>图形用户界面</h4> 
<p>在图形用户界面领域，JavaScript 受益于成为<em>HTML5</em>的一部分。在本节中，我使用 HTML5 这个术语来表示“浏览器平台”（HTML、CSS 和浏览器 JavaScript API）。HTML5 得到了广泛的部署，并不断取得进展。它正在慢慢地成为一个完整的层，用于编写功能齐全的跨平台应用程序；类似于 Java 平台，它几乎像一个嵌入式操作系统。HTML5 的卖点之一是它让你编写跨平台的图形用户界面。这些总是一种妥协：你放弃了一些质量，以换取不受限于单一操作系统。过去，“跨平台”意味着 Windows、Mac OS 或 Linux。但现在我们有了两个额外的交互平台：Web 和移动。使用 HTML5，你可以通过诸如<a href="http://phonegap.com" rel="nofollow">PhoneGap</a>、<a href="http://developer.chrome.com/apps/" rel="nofollow">Chrome Apps</a>和<a href="http://www.tidesdk.org/" rel="nofollow">TideSDK</a>等技术来针对所有这些平台。</p> 
<p>此外，一些平台将 Web 应用程序作为本地应用程序或允许你本地安装它们——例如 Chrome OS、Firefox OS 和 Android。</p> 
<h4><a id="_JavaScript__1640"></a>其他补充 JavaScript 的技术</h4> 
<p>除了 HTML5 之外，还有更多的技术可以补充 JavaScript，使语言更有用：</p> 
<p>库</p> 
<p>JavaScript 有大量的库，可以让你完成各种任务，从解析 JavaScript（通过<a href="http://esprima.org" rel="nofollow">Esprima</a>）到处理和显示 PDF 文件（通过<a href="https://github.com/mozilla/pdf.js">PDF.js</a>）。</p> 
<p><a href="http://nodejs.org" rel="nofollow">Node.js</a></p> 
<p>Node.js 平台让你编写服务器端代码和 shell 脚本（构建工具、测试运行器等）。</p> 
<p>JSON（JavaScript 对象表示法，在第二十二章中介绍）</p> 
<p>JSON 是一种根植于 JavaScript 的数据格式，在 Web 上交换数据变得流行（例如网络服务的结果）。</p> 
<p>NoSQL 数据库（例如<a href="http://couchdb.apache.org" rel="nofollow">CouchDB</a>和<a href="http://www.mongodb.org" rel="nofollow">MongoDB</a>）</p> 
<p>这些数据库紧密集成了 JSON 和 JavaScript。</p> 
<h3><a id="JavaScript__1660"></a>JavaScript 有好的工具吗？</h3> 
<p>JavaScript 正在获得更好的构建工具（例如<a href="http://gruntjs.com" rel="nofollow">Grunt</a>）和测试工具（例如<a href="http://visionmedia.github.io/mocha/" rel="nofollow">mocha</a>）。Node.js 使得可以通过 shell 运行这些类型的工具（不仅仅在浏览器中）。在这个领域的一个风险是分裂，因为我们逐渐得到了太多这样的工具。</p> 
<p>JavaScript 的 IDE 空间仍处于萌芽阶段，但正在迅速成长。网络开发的复杂性和动态性使得这个空间成为创新的肥沃土壤。两个开源的例子是<a href="http://brackets.io" rel="nofollow">Brackets</a>和<a href="http://www.lighttable.com" rel="nofollow">Light Table</a>。</p> 
<p>此外，浏览器正变得越来越强大的开发环境。特别是 Chrome 最近取得了令人印象深刻的进展。有趣的是看到 IDE 和浏览器在未来将整合到多大程度。</p> 
<h3><a id="JavaScript__1668"></a>JavaScript 足够快吗？</h3> 
<p>JavaScript 引擎取得了巨大的进步，从缓慢的解释器发展为快速的即时编译器。它们现在已经足够快，适用于大多数应用。此外，已经在开发新的想法，使 JavaScript 足够快以适用于其余的应用：</p> 
<ul><li> <p><a href="http://asmjs.org/" rel="nofollow">asm.js</a>是 JavaScript 的（非常静态的）子集，在当前引擎上运行速度很快，大约相当于编译后的 C++的 70%。例如，它可以用于实现网络应用的性能关键算法部分。它还被用于将基于 C++的游戏移植到网络平台上。</p> </li><li> <p><a href="http://www.2ality.com/2013/12/paralleljs.html" rel="nofollow">ParallelJS</a>可以并行化使用新数组方法<code>mapPar</code>、<code>filterPar</code>和<code>reducePar</code>（现有数组方法<code>map</code>、<code>filter</code>和<code>reduce</code>的可并行化版本）的 JavaScript 代码。为了使并行化工作，回调必须以特殊的方式编写；主要限制是不能改变在回调中未创建的数据。</p> </li></ul> 
<h3><a id="JavaScript__1676"></a>JavaScript 被广泛使用吗？</h3> 
<p>通常广泛使用的语言有两个好处。首先，这样的语言有更好的文档和支持。其次，更多的程序员知道它，这在你需要雇佣某人或者寻找基于该语言的工具的客户时非常重要。</p> 
<p>JavaScript 被广泛使用，并获得了前述两个好处：</p> 
<ul><li> <p>如今，JavaScript 的文档和支持以各种形式呈现：书籍、播客、博客文章、电子邮件通讯、论坛等等。第三十三章指引您前往重要资源。</p> </li><li> <p>JavaScript 开发人员需求量大，但他们的人数也在不断增加。</p> </li></ul> 
<h3><a id="JavaScript__1686"></a>JavaScript 有未来吗？</h3> 
<p>有几件事表明 JavaScript 有一个光明的未来：</p> 
<ul><li> <p>语言正在稳步发展；ECMAScript 6 看起来不错。</p> </li><li> <p>有许多与 JavaScript 相关的创新（例如前述的 asm.js 和 ParallelJS，微软的 TypeScript 等）。</p> </li><li> <p>JavaScript 作为一个不可或缺的部分所在的网络平台正在迅速成熟。</p> </li><li> <p>JavaScript 得到了众多公司的支持，没有单个人或公司控制它。</p> </li></ul> 
<h3><a id="_1698"></a>结论</h3> 
<p>考虑到使一种语言具有吸引力的前述因素，JavaScript 的表现非常出色。它当然并不完美，但目前很难超越它，而且情况只会变得更好。</p> 
<h3><a id="JavaScript__1703"></a>第三章：JavaScript 的本质</h3> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/ch03.html" rel="nofollow">3. The Nature of JavaScript</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>JavaScript 的本质可以总结如下：</p> 
<p>它是动态的</p> 
<p>许多东西都可以改变。例如，你可以自由地添加和删除对象的<em>属性</em>（字段）。而且你可以直接创建对象，而不需要先创建对象工厂（例如类）。</p> 
<p>它是动态类型的</p> 
<p>变量和对象属性始终可以保存任何类型的值。</p> 
<p>它是功能性的和面向对象的</p> 
<p>JavaScript 支持两种编程语言范式：函数式编程（一流函数、闭包、通过<code>bind()</code>进行部分应用、数组的内置<code>map()</code>和<code>reduce()</code>等）和面向对象编程（可变状态、对象、继承等）。</p> 
<p>它默默失败</p> 
<p>直到 ECMAScript 3，JavaScript 才没有异常处理。这就解释了为什么语言经常默默失败并自动转换参数和操作数的值：它最初无法抛出异常。</p> 
<p>它部署为源代码</p> 
<p>JavaScript 始终以源代码部署，并由 JavaScript 引擎编译。源代码具有灵活的交付格式和抽象引擎之间的差异的好处。为了保持文件大小小，使用了两种技术：<em>压缩</em>（主要是 gzip）和<em>最小化</em>（通过重命名变量、删除注释等使源代码更小；有关详细信息，请参见第三十二章）。</p> 
<p>它是 Web 平台的一部分</p> 
<p>JavaScript 是 Web 平台（HTML5 API、DOM 等）的一个重要组成部分，以至于很容易忘记前者也可以在没有后者的情况下使用。然而，JavaScript 在非浏览器环境中的使用越多（如 Node.js），它就越明显。</p> 
<h3><a id="_1738"></a>怪癖和非正统特性</h3> 
<p>一方面，JavaScript 有一些怪癖和缺失的功能（例如，它没有块作用域变量，没有内置模块，也不支持子类化）。因此，在其他语言中学习语言特性的地方，你需要在 JavaScript 中学习模式和解决方法。另一方面，JavaScript 包括非正统的特性（如原型继承和对象属性）。这些也需要学习，但更像是一种特性而不是错误。</p> 
<p>请注意，JavaScript 引擎已经变得非常智能，并在幕后修复了一些怪癖。例如：</p> 
<ul><li> <p>就规范而言，JavaScript 没有整数，只有浮点数。在内部，大多数引擎尽可能使用整数。</p> </li><li> <p>可以说，JavaScript 中的数组太灵活了：它们不是元素的索引序列，而是从数字到元素的映射。这样的映射可以有空洞：数组“内部”没有关联值的索引。再次，引擎通过使用优化表示来帮助数组不具有空洞。</p> </li></ul> 
<h3><a id="_1748"></a>优雅的部分</h3> 
<p>但 JavaScript 也有许多优雅的部分。Brendan Eich 最喜欢的是：¹</p> 
<ul><li> <p>一流函数</p> </li><li> <p>闭包</p> </li><li> <p>原型</p> </li><li> <p>对象字面量</p> </li><li> <p>数组字面量</p> </li></ul> 
<p>最后两个项目，对象字面量和数组字面量，让你可以从对象开始，并在后来引入抽象（比如构造函数，JavaScript 中类的类比）。它们还支持 JSON（见第二十二章）。</p> 
<p>请注意，优雅的部分可以帮助你解决怪癖。例如，它们允许你在语言内部实现块作用域、模块和继承 API。</p> 
<h3><a id="_1766"></a>影响</h3> 
<p>JavaScript 受到了几种编程语言的影响（如[图 3-1](ch03.html#fig3-1 “图 3-1： 影响 JavaScript 的编程语言。”）所示）：</p> 
<ul><li> <p>Java 是 JavaScript 语法的榜样。它还导致 JavaScript 将值分为原始值和对象，并引入了<code>Date</code>构造函数（这是<code>java.util.Date</code>的一个移植）。</p> </li><li> <p>AWK 启发了 JavaScript 的函数。实际上，关键字<code>function</code>来自 AWK。</p> </li><li> <p>Scheme 是 JavaScript 拥有一流函数（它们被视为值并且可以作为参数传递给函数）和闭包（见第十六章）的原因。</p> </li><li> <p>Self 对 JavaScript 不寻常的对象导向风格负有责任；它支持对象之间的原型继承。</p> </li><li> <p>Perl 和 Python 影响了 JavaScript 对字符串、数组和正则表达式的处理。</p> </li><li> <p>除了实际的语言之外，HyperTalk 影响了 JavaScript 如何集成到 Web 浏览器中。这导致 HTML 标签具有事件处理属性，如<code>onclick</code>。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/98/59/SjhRJ1e1_o.png" alt="影响 JavaScript 的编程语言。">图 3-1。影响 JavaScript 的编程语言。</p> 
<hr> 
<p>¹ Brendan Eich，“JavaScript 简史”，2010 年 7 月 21 日，<a href="http://bit.ly/1lKkI0M" rel="nofollow"><code>bit.ly/1lKkI0M</code></a>。</p> 
<h3><a id="JavaScript__1789"></a>第四章：JavaScript 的创建方式</h3> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/ch04.html" rel="nofollow">4. How JavaScript Was Created</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>了解 JavaScript 的创建原因和方式有助于我们理解它的特点。</p> 
<p>1993 年，NCSA 的 Mosaic 是第一个广受欢迎的 Web 浏览器。1994 年，成立了一家名为网景的公司，以利用新兴的万维网的潜力。网景创建了专有的 Web 浏览器 Netscape Navigator，在 1990 年代占主导地位。许多最初的 Mosaic 作者继续在 Navigator 上工作，但两者故意没有共享代码。</p> 
<p>网景很快意识到 Web 需要变得更加动态。即使你只是想检查用户在表单中输入的正确值，也需要将数据发送到服务器以便提供反馈。1995 年，网景聘请了 Brendan Eich，并承诺让他在浏览器中实现 Scheme（一种 Lisp 方言）。²在他开始之前，网景与硬件和软件公司 Sun（后来被 Oracle 收购）合作，将其更静态的编程语言 Java 包含在 Navigator 中。因此，网景内部激烈争论的一个问题是为什么 Web 需要两种编程语言：Java 和一种脚本语言。脚本语言的支持者提出了以下解释：³</p> 
<blockquote> 
 <p>我们旨在为 Web 设计师和兼职程序员提供“粘合语言”，他们正在从图像、插件和 Java 小程序等组件构建 Web 内容。我们认为 Java 是由高价程序员使用的“组件语言”，而粘合程序员——Web 页面设计师——将组件组装起来，并使用[一种脚本语言]自动化它们的交互。</p> 
</blockquote> 
<p>当时，网景管理层决定脚本语言必须具有类似于 Java 的语法。这排除了采用现有的语言，如 Perl、Python、TCL 或 Scheme。为了捍卫 JavaScript 的想法，网景需要一个原型。艾奇在 1995 年 5 月的 10 天内写了一个原型。JavaScript 的第一个代号是 Mocha，由马克·安德森创造。后来，网景营销部门出于商标原因和因为几个产品的名称已经带有前缀“Live”，将其更改为 LiveScript。1995 年 11 月底，Navigator 2.0B3 发布，包括原型，继续在早期没有进行重大更改的情况下存在。1995 年 12 月初，Java 的势头增长，Sun 授权商标 Java 给网景。语言再次更名为最终名称 JavaScript。⁴</p> 
<hr> 
<p>² Brendan Eich，“流行程度”，2008 年 4 月 3 日，<a href="http://bit.ly/1lKl6fG" rel="nofollow"><code>bit.ly/1lKl6fG</code></a>。</p> 
<p>³ Naomi Hamilton，“编程语言 A-Z：JavaScript”，Computerworld，2008 年 7 月 30 日，<a href="http://bit.ly/1lKldIe" rel="nofollow"><code>bit.ly/1lKldIe</code></a>。</p> 
<p>⁴ Paul Krill，“JavaScript 创造者思考过去和未来”，InfoWorld，2008 年 6 月 23 日，<a href="http://bit.ly/1lKlpXO" rel="nofollow"><code>bit.ly/1lKlpXO</code></a>；Brendan Eich，“JavaScript 简史”，2010 年 7 月 21 日，<a href="http://bit.ly/1lKkI0M" rel="nofollow"><code>bit.ly/1lKkI0M</code></a>。</p> 
<h3><a id="_ECMAScript_1817"></a>第五章 标准化：ECMAScript</h3> 
<blockquote> 
 <p>原文：<a href="https://exploringjs.com/es5/ch05.html" rel="nofollow">5. Standardization: ECMAScript</a></p> 
 <p>译者：<a href="https://github.com/wizardforcel">飞龙</a></p> 
 <p>协议：<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="nofollow">CC BY-NC-SA 4.0</a></p> 
</blockquote> 
<p>JavaScript 推出后，微软在 Internet Explorer 3.0（1996 年 8 月）中实现了相同的语言，但名称不同，称为 JScript。为了限制微软，网景决定标准化 JavaScript，并要求标准组织 <a href="http://en.wikipedia.org/wiki/Ecma" rel="nofollow">Ecma International</a> 托管标准。ECMA-262 的规范工作始于 1996 年 11 月。由于 Sun（现在是 Oracle）对 <em>Java</em> 一词拥有商标，因此标准化的官方名称不能是 <em>JavaScript</em>。因此，选择了 <em>ECMAScript</em>，源自 <em>JavaScript</em> 和 <em>Ecma</em>。但是，该名称仅用于指代语言的版本（其中一个指的是规范）。每个人仍然称该语言为 <em>JavaScript</em>。</p> 
<p>ECMA-262 由 Ecma 的 <a href="http://bit.ly/1oNTQiP" rel="nofollow">技术委员会 39</a>（TC39）管理和发展。其成员是微软、Mozilla 和 Google 等公司，它们指定员工参与委员会工作；例如 Brendan Eich、Allen Wirfs-Brock（ECMA-262 的编辑）和 David Herman。为了推进 ECMAScript 的设计，TC39 在开放渠道（如邮件列表 <a href="https://mail.mozilla.org/listinfo/es-discuss" rel="nofollow">es-discuss</a>）上举行讨论，并定期举行会议。会议由 TC39 成员和受邀专家参加。2013 年初，与会人数从 15 到 25 人不等。</p> 
<p>以下是 ECMAScript 版本（或 ECMA-262 的 <em>版本</em>）及其主要特性的列表：</p> 
<p>ECMAScript 1（1997 年 6 月）</p> 
<p>第一版</p> 
<p>ECMAScript 2（1998 年 8 月）</p> 
<p>编辑更改以使 ECMA-262 与标准 ISO/IEC 16262 保持一致</p> 
<p>ECMAScript 3（1999 年 12 月）</p> 
<p><code>do-while</code>，正则表达式，新的字符串方法（<code>concat</code>，<code>match</code>，<code>replace</code>，<code>slice</code>，使用正则表达式的<code>split</code>等），异常处理等</p> 
<p>ECMAScript 4（2008 年 7 月放弃）</p> 
<p>ECMAScript 4 被开发为 JavaScript 的下一个版本，原型是用 ML 编写的。然而，TC39 无法就其功能集达成一致。为防止僵局，委员会于 2008 年 7 月底举行会议，并达成了一致，总结在 <a href="http://mzl.la/1oNTUiG" rel="nofollow">四点</a> 中：</p> 
<ol><li> <p>开发了 ECMAScript 3 的增量更新（成为 ECMAScript 5）。</p> </li><li> <p>开发了一个比 ECMAScript 4 更少，但比 ECMAScript 3 的增量更新更多的主要新版本。新版本的代号是 Harmony，因为它的构思是在一个和谐的会议中产生的。Harmony 将分为 ECMAScript 6 和 ECMAScript 7。</p> </li><li> <p>ECMAScript 4 中将被删除的特性包括包，命名空间和早期绑定。</p> </li><li> <p>其他想法将与 TC39 共识开发。</p> </li></ol> 
<p>因此，ECMAScript 4 的开发人员同意使 Harmony 比 ECMAScript 4 更少激进，而 TC39 的其他成员同意继续推动事情向前发展。</p> 
<p>ECMAScript 5（2009 年 12 月）</p> 
<p>添加了严格模式，获取器和设置器，新的数组方法，对 JSON 的支持等（参见 第二十五章）</p> 
<p>ECMAScript 5.1（2011 年 6 月）</p> 
<p>编辑更改以使 ECMA-262 与国际标准 ISO/IEC 16262:2011 的第三版保持一致</p> 
<p>ECMAScript 6</p> 
<p>目前正在开发中，预计将在 2014 年底得到批准。大多数引擎可能会在批准时支持最重要的 ECMAScript 6 特性。完整支持可能需要更长时间。</p> 
<p>达成共识并创建标准并不总是容易的，但由于前述各方的协作努力，JavaScript 是一种真正开放的语言，由多个供应商实现，具有非常高的兼容性。这种兼容性是通过非常详细但具体的规范实现的。例如，规范经常使用伪代码，并且它由一个测试套件<a href="http://test262.ecmascript.org/" rel="nofollow">test262</a>补充，该测试套件检查 ECMAScript 实现的兼容性。有趣的是，ECMAScript 并不由万维网联盟（W3C）管理。TC39 和 W3C 在 JavaScript 和 HTML5 之间存在重叠时进行合作。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d6be1a4322c15f14c19c62211f1fb238/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Vue基础-搭建Vue运行环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/91e97c2215f940ceea5daa936490adcc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">大话 JavaScript（Speaking JavaScript）：第十一章到第十五章</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>