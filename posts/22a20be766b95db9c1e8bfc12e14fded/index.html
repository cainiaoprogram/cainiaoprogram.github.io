<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>数据挖掘零基础入门 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="数据挖掘零基础入门" />
<meta property="og:description" content="数据挖掘基础day01 1.jupyter notebook的使用两种模式下的通用快捷键命令模式编辑模式 2. Matplotlib2.1实现一个简单的画图2.2Matplotlib三层结构2.3折线图绘制2.3.1Matplotlib.pyplot模块2.3.2设置画布属性与图片保存2.3.2.1图片保存 2.3.3修改x，y刻度Matplotlib不显示中文解决办法Matplotlib不显示负号解决办法 2.3.4添加网格显示2.3.5添加描述信息2.3.6多个图像绘制2.3.7多个坐标系显示图像2.3.8折线图应用场景 2.4散点图2.5柱状图2.5.1如何实现首日数据和首周数据的显示 2.6直方图注意点 2.7饼图 3numpyndarray属性形状方法生成数组的方法生成0和1的数组从现有数组中生成生成固定范围的数组生成随机数组 ndarray运算逻辑运算统计运算数组间运算矩阵运算 数组的合并数组的分割IO操作与数据处理 Pandas核心数据结构DataFrameDataFrame属性方法DataFrame索引的设置MultiIndex与Panelseries属性 基本数据操作DataFrame运算Pandas画图文件的读取与存储CSVHDF5JSON Pandas高级処理缺失值处理数据离散化合并交叉表和透视表分组与聚合 1.jupyter notebook的使用 两种模式下的通用快捷键 Shift&#43;Enter ，执行本单元代码，并自动跳转到下一个cell
Ctrl&#43;Enter，执行本单元代码，并留在本cell中
cell行号前面的*号，代表本cell正在运行
命令模式 按Esc进入命令模式
Y,切换到代码模式
M,切换到Markdown模式
A,在本cell前添加一个单元格
B,在本cell后添加一个单元格
双击D,删除本单元格
Z,回退
编辑模式 按Enter进入编辑模式
多光标操作：ctrl键点击鼠标
回退：ctrl&#43;z
补全代码：Tab
注释：ctrl&#43;/
屏蔽输出结果：在输出结果前双击
2. Matplotlib 专门用于2D画图
能将数据进行可视化，帮助理解数据。
2.1实现一个简单的画图 import matplotlib.pyplot as plt %matplotlib inline plt.figure() plt.plot([1, 0, 9], [4, 5, 6]) plt.show() 2.2Matplotlib三层结构 1）容器层
画板层Canvas
画布层Figure
绘图区/坐标系 x、y轴区域
2）辅助显示层 辅助信息显示，如网格线等
3）图像层 画不同类型的图，如柱状图，折线图等
2.3折线图绘制 2.3.1Matplotlib.pyplot模块 #画图三步走 # 创建画布 plt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/22a20be766b95db9c1e8bfc12e14fded/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-08T09:48:53+08:00" />
<meta property="article:modified_time" content="2022-10-08T09:48:53+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">数据挖掘零基础入门</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>数据挖掘基础day01</h4> 
 <ul><li><a href="#1jupyter_notebook_2" rel="nofollow">1.jupyter notebook的使用</a></li><li><ul><li><a href="#_4" rel="nofollow">两种模式下的通用快捷键</a></li><li><ul><li><a href="#_8" rel="nofollow">命令模式</a></li><li><a href="#_16" rel="nofollow">编辑模式</a></li></ul> 
   </li><li><a href="#2_Matplotlib_24" rel="nofollow">2. Matplotlib</a></li><li><ul><li><a href="#21_27" rel="nofollow">2.1实现一个简单的画图</a></li><li><a href="#22Matplotlib_38" rel="nofollow">2.2Matplotlib三层结构</a></li><li><a href="#23_45" rel="nofollow">2.3折线图绘制</a></li><li><ul><li><a href="#231Matplotlibpyplot_46" rel="nofollow">2.3.1Matplotlib.pyplot模块</a></li><li><a href="#232_59" rel="nofollow">2.3.2设置画布属性与图片保存</a></li><li><ul><li><a href="#2321_65" rel="nofollow">2.3.2.1图片保存</a></li></ul> 
     </li><li><a href="#233xy_69" rel="nofollow">2.3.3修改x，y刻度</a></li><li><ul><li><a href="#Matplotlib_70" rel="nofollow">Matplotlib不显示中文解决办法</a></li><li><a href="#Matplotlib_77" rel="nofollow">Matplotlib不显示负号解决办法</a></li></ul> 
     </li><li><a href="#234_103" rel="nofollow">2.3.4添加网格显示</a></li><li><a href="#235_114" rel="nofollow">2.3.5添加描述信息</a></li><li><a href="#236_123" rel="nofollow">2.3.6多个图像绘制</a></li><li><a href="#237_155" rel="nofollow">2.3.7多个坐标系显示图像</a></li><li><a href="#238_200" rel="nofollow">2.3.8折线图应用场景</a></li></ul> 
    </li><li><a href="#24_219" rel="nofollow">2.4散点图</a></li><li><a href="#25_240" rel="nofollow">2.5柱状图</a></li><li><ul><li><a href="#251_261" rel="nofollow">2.5.1如何实现首日数据和首周数据的显示</a></li></ul> 
    </li><li><a href="#26_283" rel="nofollow">2.6直方图</a></li><li><ul><li><a href="#_300" rel="nofollow">注意点</a></li></ul> 
    </li><li><a href="#27_302" rel="nofollow">2.7饼图</a></li></ul> 
   </li><li><a href="#3numpy_319" rel="nofollow">3numpy</a></li><li><ul><li><a href="#ndarray_322" rel="nofollow">ndarray</a></li><li><ul><li><a href="#_323" rel="nofollow">属性</a></li><li><a href="#_330" rel="nofollow">形状</a></li><li><a href="#_333" rel="nofollow">方法</a></li><li><ul><li><a href="#_334" rel="nofollow">生成数组的方法</a></li><li><ul><li><a href="#01_335" rel="nofollow">生成0和1的数组</a></li><li><a href="#_339" rel="nofollow">从现有数组中生成</a></li><li><a href="#_344" rel="nofollow">生成固定范围的数组</a></li><li><a href="#_348" rel="nofollow">生成随机数组</a></li></ul> 
     </li></ul> 
     </li><li><a href="#ndarray_374" rel="nofollow">ndarray运算</a></li><li><ul><li><a href="#_375" rel="nofollow">逻辑运算</a></li><li><a href="#_392" rel="nofollow">统计运算</a></li><li><a href="#_402" rel="nofollow">数组间运算</a></li><li><a href="#_419" rel="nofollow">矩阵运算</a></li></ul> 
     </li><li><a href="#_434" rel="nofollow">数组的合并</a></li><li><a href="#_438" rel="nofollow">数组的分割</a></li><li><a href="#IO_440" rel="nofollow">IO操作与数据处理</a></li></ul> 
    </li><li><a href="#Pandas_450" rel="nofollow">Pandas</a></li><li><ul><li><a href="#_456" rel="nofollow">核心数据结构</a></li><li><ul><li><a href="#DataFrame_457" rel="nofollow">DataFrame</a></li><li><a href="#DataFrame_464" rel="nofollow">DataFrame属性</a></li><li><a href="#_479" rel="nofollow">方法</a></li><li><a href="#DataFrame_484" rel="nofollow">DataFrame索引的设置</a></li><li><a href="#MultiIndexPanel_496" rel="nofollow">MultiIndex与Panel</a></li><li><a href="#series_520" rel="nofollow">series</a></li><li><ul><li><a href="#_522" rel="nofollow">属性</a></li></ul> 
      </li><li><a href="#_528" rel="nofollow">基本数据操作</a></li><li><a href="#DataFrame_572" rel="nofollow">DataFrame运算</a></li><li><a href="#Pandas_606" rel="nofollow">Pandas画图</a></li><li><a href="#_621" rel="nofollow">文件的读取与存储</a></li><li><ul><li><a href="#CSV_622" rel="nofollow">CSV</a></li><li><a href="#HDF5_635" rel="nofollow">HDF5</a></li><li><a href="#JSON_651" rel="nofollow">JSON</a></li></ul> 
      </li><li><a href="#Pandas_672" rel="nofollow">Pandas高级処理</a></li><li><ul><li><a href="#_673" rel="nofollow">缺失值处理</a></li><li><a href="#_708" rel="nofollow">数据离散化</a></li><li><a href="#_718" rel="nofollow">合并</a></li><li><a href="#_726" rel="nofollow">交叉表和透视表</a></li><li><a href="#_735" rel="nofollow">分组与聚合</a></li></ul> 
     </li></ul> 
    </li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1jupyter_notebook_2"></a>1.jupyter notebook的使用</h2> 
<h3><a id="_4"></a>两种模式下的通用快捷键</h3> 
<p><strong>Shift+Enter ，执行本单元代码，并自动跳转到下一个cell<br> Ctrl+Enter，执行本单元代码，并留在本cell中</strong><br> cell行号前面的*号，代表本cell正在运行</p> 
<h4><a id="_8"></a>命令模式</h4> 
<p><strong>按Esc进入命令模式</strong><br> Y,切换到代码模式<br> M,切换到Markdown模式<br> A,在本cell前添加一个单元格<br> B,在本cell后添加一个单元格<br> 双击D,删除本单元格<br> Z,回退</p> 
<h4><a id="_16"></a>编辑模式</h4> 
<p><strong>按Enter进入编辑模式</strong><br> 多光标操作：ctrl键点击鼠标<br> 回退：ctrl+z<br> 补全代码：Tab<br> 注释：ctrl+/<br> 屏蔽输出结果：在输出结果前双击</p> 
<h3><a id="2_Matplotlib_24"></a>2. Matplotlib</h3> 
<p>专门用于2D画图<br> 能将数据进行可视化，帮助理解数据。</p> 
<h4><a id="21_27"></a>2.1实现一个简单的画图</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token operator">%</span>matplotlib inline

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/8c/16/gTsS4Hq2_o.png" alt="结果"></p> 
<h4><a id="22Matplotlib_38"></a>2.2Matplotlib三层结构</h4> 
<p>1）容器层<br> 画板层Canvas<br> 画布层Figure<br> 绘图区/坐标系 x、y轴区域<br> 2）辅助显示层 辅助信息显示，如网格线等<br> 3）图像层 画不同类型的图，如柱状图，折线图等</p> 
<h4><a id="23_45"></a>2.3折线图绘制</h4> 
<h5><a id="231Matplotlibpyplot_46"></a>2.3.1Matplotlib.pyplot模块</h5> 
<pre><code class="prism language-python"><span class="token comment">#画图三步走</span>

<span class="token comment"># 创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 绘制图像</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/76/7a/4WTIMeQ8_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="232_59"></a>2.3.2设置画布属性与图片保存</h5> 
<p>plt.figure(figsize=(),dpi=)<br> figsize：指定图的长宽<br> dpi:图像的清晰度<br> 返回fig对象<br> <img src="https://images2.imgbox.com/c6/27/0hcgqIxu_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2321_65"></a>2.3.2.1图片保存</h6> 
<p>plt.savefig（路径）注意：要在plt.show前使用，因为plt.show会释放figure资源<br> <img src="https://images2.imgbox.com/7e/b0/jd71NOef_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3d/66/RWh1pk6x_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="233xy_69"></a>2.3.3修改x，y刻度</h5> 
<h6><a id="Matplotlib_70"></a>Matplotlib不显示中文解决办法</h6> 
<p>只需要加入两行代码即可</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib
matplotlib<span class="token punctuation">.</span>rc<span class="token punctuation">(</span><span class="token string">'font'</span><span class="token punctuation">,</span> family<span class="token operator">=</span><span class="token string">'FangSong'</span><span class="token punctuation">)</span>
</code></pre> 
<h6><a id="Matplotlib_77"></a>Matplotlib不显示负号解决办法</h6> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'axes.unicode_minus'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token comment"># 需求：画出某城市11点到12点的温度变化</span>
<span class="token keyword">import</span> random
<span class="token comment">#准备数据</span>
x <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
y_shanghai <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
<span class="token comment">#创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_shanghai<span class="token punctuation">)</span>

<span class="token comment">#添加x、y刻度</span>
<span class="token comment"># 准备x的刻度说明</span>
x_lable <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"11点{}分"</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>x_lable<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ac/58/hDxhycIY_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="234_103"></a>2.3.4添加网格显示</h5> 
<p>plt.grid（True，linestyle=’–’,alpha=0.5）<br> True：是否添加网格 默认为True<br> linestyle：网格风格<br> alpha：透明度</p> 
<pre><code class="prism language-python"><span class="token comment">#添加网格显示</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/97/e9/fXtfEXz5_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="235_114"></a>2.3.5添加描述信息</h5> 
<pre><code class="prism language-python"><span class="token comment">#添加描述徐信息</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"时间变化"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"温度变化"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"某城市11点-12点温度变化"</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2c/49/XqnsPUb9_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="236_123"></a>2.3.6多个图像绘制</h5> 
<pre><code class="prism language-python"><span class="token comment"># 需求：画出某城市11点到12点的温度变化</span>
<span class="token keyword">import</span> random
<span class="token comment">#准备数据</span>
x <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
y_shanghai <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
y_beijing<span class="token operator">=</span><span class="token punctuation">[</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
<span class="token comment">#创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_shanghai<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'-.'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'上海'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_beijing<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">"北京"</span><span class="token punctuation">)</span>

<span class="token comment">#显示图例</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token operator">*</span>也可以使用loc参数改变图例的位置
<span class="token comment">#添加x、y刻度</span>
<span class="token comment"># 准备x的刻度说明</span>
<span class="token comment">#添加网格显示</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>

<span class="token comment">#添加描述徐信息</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">"时间变化"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">"温度变化"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">"上海、北京11点-12点温度变化"</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/88/77/rVcYX1EF_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="237_155"></a>2.3.7多个坐标系显示图像</h5> 
<p>fragure,axes = plt.subplots(nows=1,ncols=1,**frags)<br> nows:几行<br> ncols：几列<br> 会返回画布和画图区对象<br> axes[0]代表第一个图像 使用axes.方法名 使用<br> axes[1]代表第二个图像<br> 以此类推</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> random
<span class="token comment">#准备数据</span>
x <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span>
y_shanghai <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
y_beijing<span class="token operator">=</span><span class="token punctuation">[</span>random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> x<span class="token punctuation">]</span>
<span class="token comment">#创建画布</span>
<span class="token comment"># plt.figure(figsize=(20,8),dpi = 80)</span>
figure<span class="token punctuation">,</span>axes <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span>nrows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ncols<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_shanghai<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'-.'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'上海'</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y_beijing<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">"北京"</span><span class="token punctuation">)</span>
<span class="token comment">#显示图例</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#添加x、y刻度</span>
<span class="token comment"># 准备x的刻度说明</span>
<span class="token comment">#添加网格显示</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>grid<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span>linestyle<span class="token operator">=</span><span class="token string">'--'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>

<span class="token comment">#添加描述徐信息</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">"时间变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">"温度变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">"上海11点-12点温度变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span><span class="token string">"时间变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span><span class="token string">"温度变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_title<span class="token punctuation">(</span><span class="token string">"北京11点-12点温度变化"</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
axes<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>set_yticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/cc/5d/kHW7QH6L_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="238_200"></a>2.3.8折线图应用场景</h5> 
<p>某事物或某指标随时间的变化状况</p> 
<p>还可以画各种数学函数图像</p> 
<pre><code class="prism language-python"><span class="token comment"># 绘制数学函数图像</span>
<span class="token comment"># 准备数据</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span>
y <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> x <span class="token operator">*</span> x

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>linestyle<span class="token operator">=</span><span class="token string">'-.'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5a/2f/8CuF6Fph_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="24_219"></a>2.4散点图</h4> 
<pre><code class="prism language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token comment">#散点图</span>
<span class="token comment">#准备数据</span>
x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">225.98</span><span class="token punctuation">,</span> <span class="token number">247.07</span><span class="token punctuation">,</span> <span class="token number">253.14</span><span class="token punctuation">,</span> <span class="token number">457.85</span><span class="token punctuation">,</span> <span class="token number">241.58</span><span class="token punctuation">,</span> <span class="token number">301.01</span><span class="token punctuation">,</span>  <span class="token number">20.67</span><span class="token punctuation">,</span> <span class="token number">288.64</span><span class="token punctuation">,</span>
       <span class="token number">163.56</span><span class="token punctuation">,</span> <span class="token number">120.06</span><span class="token punctuation">,</span> <span class="token number">207.83</span><span class="token punctuation">,</span> <span class="token number">342.75</span><span class="token punctuation">,</span> <span class="token number">147.9</span> <span class="token punctuation">,</span>  <span class="token number">53.06</span><span class="token punctuation">,</span> <span class="token number">224.72</span><span class="token punctuation">,</span>  <span class="token number">29.51</span><span class="token punctuation">,</span>
        <span class="token number">21.61</span><span class="token punctuation">,</span> <span class="token number">483.21</span><span class="token punctuation">,</span> <span class="token number">245.25</span><span class="token punctuation">,</span> <span class="token number">399.25</span><span class="token punctuation">,</span> <span class="token number">343.35</span><span class="token punctuation">]</span>

y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">196.63</span><span class="token punctuation">,</span> <span class="token number">203.88</span><span class="token punctuation">,</span> <span class="token number">210.75</span><span class="token punctuation">,</span> <span class="token number">372.74</span><span class="token punctuation">,</span> <span class="token number">202.41</span><span class="token punctuation">,</span> <span class="token number">247.61</span><span class="token punctuation">,</span>  <span class="token number">24.9</span> <span class="token punctuation">,</span> <span class="token number">239.34</span><span class="token punctuation">,</span>
       <span class="token number">140.32</span><span class="token punctuation">,</span> <span class="token number">104.15</span><span class="token punctuation">,</span> <span class="token number">176.84</span><span class="token punctuation">,</span> <span class="token number">288.23</span><span class="token punctuation">,</span> <span class="token number">128.79</span><span class="token punctuation">,</span>  <span class="token number">49.64</span><span class="token punctuation">,</span> <span class="token number">191.74</span><span class="token punctuation">,</span>  <span class="token number">33.1</span> <span class="token punctuation">,</span>
        <span class="token number">30.74</span><span class="token punctuation">,</span> <span class="token number">400.02</span><span class="token punctuation">,</span> <span class="token number">205.35</span><span class="token punctuation">,</span> <span class="token number">330.64</span><span class="token punctuation">,</span> <span class="token number">283.45</span><span class="token punctuation">]</span>
<span class="token comment">#创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/57/af/OwXm3l3m_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="25_240"></a>2.5柱状图</h4> 
<pre><code class="prism language-python"><span class="token comment">#绘制票房分布直方图</span>
<span class="token comment">#准备数据</span>
movie_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'雷神3：诸神黄昏'</span><span class="token punctuation">,</span><span class="token string">'正义联盟'</span><span class="token punctuation">,</span><span class="token string">'东方快车谋杀案'</span><span class="token punctuation">,</span><span class="token string">'寻梦环游记'</span><span class="token punctuation">,</span><span class="token string">'全球风暴'</span><span class="token punctuation">,</span> <span class="token string">'降魔传'</span><span class="token punctuation">,</span><span class="token string">'追捕'</span><span class="token punctuation">,</span><span class="token string">'七十七天'</span><span class="token punctuation">,</span><span class="token string">'密战'</span><span class="token punctuation">,</span><span class="token string">'狂兽'</span><span class="token punctuation">,</span><span class="token string">'其它'</span><span class="token punctuation">]</span>
tickets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">73853</span><span class="token punctuation">,</span><span class="token number">57767</span><span class="token punctuation">,</span><span class="token number">22354</span><span class="token punctuation">,</span><span class="token number">15969</span><span class="token punctuation">,</span><span class="token number">14839</span><span class="token punctuation">,</span><span class="token number">8725</span><span class="token punctuation">,</span><span class="token number">8716</span><span class="token punctuation">,</span><span class="token number">8318</span><span class="token punctuation">,</span><span class="token number">7916</span><span class="token punctuation">,</span><span class="token number">6764</span><span class="token punctuation">,</span><span class="token number">52222</span><span class="token punctuation">]</span>

<span class="token comment">#窗间画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>movie_names<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tickets<span class="token punctuation">,</span>color<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">,</span><span class="token string">'k'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 一定要先写x，y坐标再写color等其他信息</span>
<span class="token comment">#修改x刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>movie_names<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>movie_names<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'票房数据'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>linestyle<span class="token operator">=</span><span class="token string">"-"</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/7c/1d/LiQqzFIq_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="251_261"></a>2.5.1如何实现首日数据和首周数据的显示</h5> 
<pre><code class="prism language-python"><span class="token comment"># 准备数据</span>
movie_name <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'雷神3：诸神黄昏'</span><span class="token punctuation">,</span><span class="token string">'正义联盟'</span><span class="token punctuation">,</span><span class="token string">'寻梦环游记'</span><span class="token punctuation">]</span>

first_day <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10587.6</span><span class="token punctuation">,</span><span class="token number">10062.5</span><span class="token punctuation">,</span><span class="token number">1275.7</span><span class="token punctuation">]</span>
first_weekend<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">36224.9</span><span class="token punctuation">,</span><span class="token number">34479.6</span><span class="token punctuation">,</span><span class="token number">11830</span><span class="token punctuation">]</span>

<span class="token comment">#创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制图像</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>first_day<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'首日票房'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span><span class="token number">1.2</span><span class="token punctuation">,</span><span class="token number">2.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>first_weekend<span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">0.2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">"首周票房"</span><span class="token punctuation">)</span> <span class="token comment">#width 控制柱子的宽度</span>
<span class="token comment">#修改x刻度</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">,</span><span class="token number">1.1</span><span class="token punctuation">,</span><span class="token number">2.1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>movie_name<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#要配合绘制图像中的label使用</span>

<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6d/fa/lOq6ebOS_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="26_283"></a>2.6直方图</h4> 
<pre><code class="prism language-python"><span class="token comment"># 需求：电影时长分布状况</span>
<span class="token comment"># 1、准备数据</span>
time <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">131</span><span class="token punctuation">,</span>  <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">142</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span>  <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span>  <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">113</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span>  <span class="token number">86</span><span class="token punctuation">,</span>  <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span><span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span>  <span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span>  <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">145</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span><span class="token number">156</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span>  <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">143</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span><span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span><span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span>  <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span><span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span><span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">141</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span>  <span class="token number">92</span><span class="token punctuation">,</span><span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span>  <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span>  <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span>  <span class="token number">81</span><span class="token punctuation">,</span>  <span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">113</span><span class="token punctuation">,</span><span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span><span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">129</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">113</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token punctuation">,</span>  <span class="token number">83</span><span class="token punctuation">,</span>  <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">146</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span><span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span>  <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">144</span><span class="token punctuation">,</span> <span class="token number">109</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span><span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">]</span>

<span class="token comment">#创建画布</span>
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>
<span class="token comment">#绘制直方图</span>
plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>time<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token builtin">max</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token operator">-</span><span class="token builtin">min</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">#组数等于极差/组距</span>
plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">min</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token builtin">max</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>grid<span class="token punctuation">(</span>linestyle<span class="token operator">=</span><span class="token string">'-'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span>
<span class="token comment">#显示图像</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/71/0e/c5VouZGv_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_300"></a>注意点</h5> 
<p>画图的时候注意组距的设置</p> 
<h4><a id="27_302"></a>2.7饼图</h4> 
<pre><code class="prism language-python">movie_name <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'雷神3：诸神黄昏'</span><span class="token punctuation">,</span><span class="token string">'正义联盟'</span><span class="token punctuation">,</span><span class="token string">'东方快车谋杀案'</span><span class="token punctuation">,</span><span class="token string">'寻梦环游记'</span><span class="token punctuation">,</span><span class="token string">'全球风暴'</span><span class="token punctuation">,</span><span class="token string">'降魔传'</span><span class="token punctuation">,</span><span class="token string">'追捕'</span><span class="token punctuation">,</span><span class="token string">'七十七天'</span><span class="token punctuation">,</span><span class="token string">'密战'</span><span class="token punctuation">,</span><span class="token string">'狂兽'</span><span class="token punctuation">,</span><span class="token string">'其它'</span><span class="token punctuation">]</span>

place_count <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">60605</span><span class="token punctuation">,</span><span class="token number">54546</span><span class="token punctuation">,</span><span class="token number">45819</span><span class="token punctuation">,</span><span class="token number">28243</span><span class="token punctuation">,</span><span class="token number">13270</span><span class="token punctuation">,</span><span class="token number">9945</span><span class="token punctuation">,</span><span class="token number">7679</span><span class="token punctuation">,</span><span class="token number">6799</span><span class="token punctuation">,</span><span class="token number">6101</span><span class="token punctuation">,</span><span class="token number">4621</span><span class="token punctuation">,</span><span class="token number">20105</span><span class="token punctuation">]</span>

plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dpi <span class="token operator">=</span> <span class="token number">80</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>place_count<span class="token punctuation">,</span>labels<span class="token operator">=</span>movie_name<span class="token punctuation">,</span>colors<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'m'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">,</span><span class="token string">'k'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'g'</span><span class="token punctuation">,</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> autopct<span class="token operator">=</span><span class="token string">"%.2f%%"</span><span class="token punctuation">)</span> <span class="token comment">#在pie的api中plt.pie（x,labels=,colors,autopct=） x:填入数字即可，pie会自动计算百分比</span>

plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'equal'</span><span class="token punctuation">)</span> <span class="token comment">#设置图形好像 圆圆的且居中</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/92/P2rn3dZc_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3numpy_319"></a>3numpy</h3> 
<p>高效的运算工具<br> Numpy提供了一个N维数组类型ndarray，他描述了相同类型的“items”的集合。</p> 
<h4><a id="ndarray_322"></a>ndarray</h4> 
<h5><a id="_323"></a>属性</h5> 
<p>shape<br> ndim<br> size<br> dtype<br> itemsize<br> <img src="https://images2.imgbox.com/4b/77/Yw27R0WJ_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_330"></a>形状</h5> 
<p><img src="https://images2.imgbox.com/4a/24/8fFfdPyE_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_333"></a>方法</h5> 
<h6><a id="_334"></a>生成数组的方法</h6> 
<h6><a id="01_335"></a>生成0和1的数组</h6> 
<p>np.zeros(shape)<br> np.ones(shape)<br> <img src="https://images2.imgbox.com/65/80/cX9h70Km_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_339"></a>从现有数组中生成</h6> 
<p>np.array()<br> np.asarray()深拷贝<br> np.copy()浅拷贝<br> <img src="https://images2.imgbox.com/79/b1/BMrgWLwM_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_344"></a>生成固定范围的数组</h6> 
<p>np.linspace(0,10,1000) 生成[0,10]之间1000个元素，且等距离<br> np.arange(0,10,1) 生成[0,10)步长为1 的数组<br> <img src="https://images2.imgbox.com/11/a0/Tnbshnl1_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_348"></a>生成随机数组</h6> 
<p>均匀分布：每组的可能性相同<br> np.random.uniform(low=-1,high=1,size=1000000)<br> <img src="https://images2.imgbox.com/ca/60/RuInUzru_o.png" alt="在这里插入图片描述"><br> 正态分布：<br> np.random.normal(loc=1.75,scale=0.1,size=10000) loc:均值，scale：方差，size：大小<br> <img src="https://images2.imgbox.com/2d/e5/1s0GmmVC_o.png" alt="在这里插入图片描述"></p> 
<p><em>数组的索引和切片</em><br> <img src="https://images2.imgbox.com/17/1e/xTxC3ptN_o.png" alt="在这里插入图片描述"><br> [0,:3] :3代表从0-3的数据</p> 
<p><em>形状修改</em><br> ndarray.reshape(shape) <strong>返回新的ndarray, 原始数据没有改变</strong>,且reshape并没有把行列互换，只是把原有数据重新切割，分成shape形状<br> ndarray.resize() <strong>没有返回值， 对原始的ndarray进行了修改</strong>,且reshape并没有把行列互换，只是把原有数据重新切割，分成shape形状<br> ndarray.T 转置 行变成列，列变成行 <strong>返回一个ndarray，原数据未改变</strong></p> 
<p><em>类型修改</em><br> ndarray.astype（type）<br> ndarray序列化到本地<br> ndarray.tostring()<br> <img src="https://images2.imgbox.com/d7/11/kHTBb2Bk_o.png" alt="在这里插入图片描述"></p> 
<p><em>数组去重</em><br> ndarray.unique()<br> <img src="https://images2.imgbox.com/bc/cc/Sgvp8tor_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="ndarray_374"></a>ndarray运算</h5> 
<h6><a id="_375"></a>逻辑运算</h6> 
<p><em>布尔索引</em><br> <img src="https://images2.imgbox.com/7d/31/RRcy6ois_o.png" alt="在这里插入图片描述"><br> <em>通用判断函数</em><br> np.all(布尔值) 只要有一个FALSE就返回FALSE，只有全是True才返回True<br> np.any(布尔值)只要有一个True就为True，只有全是FALSE才返回FALSE</p> 
<p><em>三元运算符</em><br> np.where(三元运算符)<br> np.where(布尔值，True的值，False的值）<br> <img src="https://images2.imgbox.com/81/ec/6OQkGeKs_o.png" alt="在这里插入图片描述"><br> <strong>涉及符合逻辑需要额外的函数logical_and/or</strong><br> 大于0.5且小于1<br> np.where(np.logical_and(temp &gt; 0.5, temp &lt; 1), 1, 0)<br> 大于0.5或小于-0.5<br> np.where(np.logical_or(temp &gt; 0.5, temp &lt; -0.5), 11, 3)</p> 
<h6><a id="_392"></a>统计运算</h6> 
<p>统计指标函数<br> min,max,mean,median,var,std<br> np.函数名（）<br> ndarray.方法名（）<br> <img src="https://images2.imgbox.com/1a/f6/aZTw3Gea_o.png" alt="在这里插入图片描述"><br> 返回最大值最小值位置<br> np.argmax(tem,axis=0)<br> np.argmin(tem,axis=0)</p> 
<h6><a id="_402"></a>数组间运算</h6> 
<p><em>ndarray数组与数的运算</em><br> 正常的运算即可 加减乘除等<br> <img src="https://images2.imgbox.com/0c/84/VTMidJ4k_o.png" alt="在这里插入图片描述"><br> <em>数组与数组的运算</em><br> 数组与数组行列不同时，直接运算会出错<br> <img src="https://images2.imgbox.com/c6/c8/4LGuImid_o.png" alt="在这里插入图片描述"><br> <strong>广播机制</strong><br> 执行broadcast的前提在于，两个nadarray执行的是element-wise的运算，Broadcast机制的功能是为了方便不同形状的ndarray(numpy库的核心数据结构)进行数学运算。</p> 
<p>当操作两个数组时，numpy会逐个比较它们的shape(构成的元组tuple)，只有在下述情况下，两个数组才能够进行数组与数组的运算。</p> 
<ul><li>维度相等</li><li>shape（其中相对应的一个地方为1）<br> <img src="https://images2.imgbox.com/4b/51/7xQYtywm_o.png" alt="在这里插入图片描述"><br> 在根据广播机制修改后，便可以运算了<br> <img src="https://images2.imgbox.com/62/ed/BOikYgMk_o.png" alt="在这里插入图片描述"></li></ul> 
<h6><a id="_419"></a>矩阵运算</h6> 
<p><em>两种方法存储矩阵：</em></p> 
<ul><li>np.ndarray()</li><li>np.mat()</li></ul> 
<p><em>矩阵乘法：</em><br> <em>如果矩阵使用ndarray存储的话，可以用：</em></p> 
<ul><li>np.matmul()</li><li>np.dot()</li></ul> 
<p>如果矩阵用mat存储，可以直接用运算符“*”来进行运算</p> 
<p>如果ndarray想用“*”来进行运算，用@符号即可 eg:a @ b得到的结果便是a矩阵和b矩阵相乘的结果</p> 
<h5><a id="_434"></a>数组的合并</h5> 
<p>np.hstack() 水平拼接<br> np.vstack() 竖直拼接<br> np.concatenate((a,b,c,…),axis=0/1) 若axis为0，竖直拼接，axis=1为水平拼接</p> 
<h5><a id="_438"></a>数组的分割</h5> 
<p>np.split()</p> 
<h5><a id="IO_440"></a>IO操作与数据处理</h5> 
<p><img src="https://images2.imgbox.com/2c/0f/61vQ6gMw_o.png" alt="在这里插入图片描述"><br> 会遇到有缺失值的情况，有两种处理情况：</p> 
<ul><li>把含有缺失值得数据删除掉</li><li>若数据量少，可以使用插补法，求某一列平均值或中位数等</li></ul> 
<p>但是在numpy中处理很麻烦，所以使用pandas</p> 
<h4><a id="Pandas_450"></a>Pandas</h4> 
<p><em><strong>优势：</strong></em><br> 便捷的数据处理能力<br> 读取文件方便<br> 封装了Matplotlib和numpy</p> 
<h5><a id="_456"></a>核心数据结构</h5> 
<h6><a id="DataFrame_457"></a>DataFrame</h6> 
<p>既有行索引，又有列索引的二维数组。<br> <strong>创建索引，并修改行索引index和列索引columns</strong></p> 
<p><img src="https://images2.imgbox.com/1a/ea/K157oFHi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3d/20/ISdBFxqo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/03/03/RWovvKty_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="DataFrame_464"></a>DataFrame属性</h6> 
<p>shape:形状<br> <img src="https://images2.imgbox.com/e3/0b/pkrWxhO6_o.png" alt="在这里插入图片描述"></p> 
<p>index：行索引列表<br> <img src="https://images2.imgbox.com/b0/31/Su9F21fG_o.png" alt="在这里插入图片描述"></p> 
<p>columns：列索引列表<br> <img src="https://images2.imgbox.com/64/ad/JtW4jajY_o.png" alt="在这里插入图片描述"></p> 
<p>values：得到原始的ndarray数据<br> <img src="https://images2.imgbox.com/d5/7d/RyUq4sIg_o.png" alt="在这里插入图片描述"></p> 
<p>T:转置</p> 
<h6><a id="_479"></a>方法</h6> 
<p>head():默认显示前五行，但也可以指定前几行<br> <img src="https://images2.imgbox.com/6b/04/18SHEZ93_o.png" alt="在这里插入图片描述"><br> tail():显示数据的最后五行<br> <img src="https://images2.imgbox.com/10/fe/sygoCgEe_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="DataFrame_484"></a>DataFrame索引的设置</h6> 
<ul><li> <p>修改行列索引值<br> <em>不可以单独修改，必须整体修改</em><br> <img src="https://images2.imgbox.com/56/1d/E5zP0nCe_o.png" alt="在这里插入图片描述"></p> </li><li> <p>重设索引<br> <img src="https://images2.imgbox.com/01/4c/XkfysONd_o.png" alt="在这里插入图片描述"></p> </li><li> <p>设置新索引<br> <img src="https://images2.imgbox.com/28/71/LSLt2UdD_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/14/20/U1YUSXKx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/47/19/4pMU4SER_o.png" alt="在这里插入图片描述"></p> </li></ul> 
<h6><a id="MultiIndexPanel_496"></a>MultiIndex与Panel</h6> 
<p>multiindex属性：<br> <img src="https://images2.imgbox.com/24/d9/PTMsC0vb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b6/07/JUVTT5EL_o.png" alt="在这里插入图片描述"></p> 
<p>Panel:存储三维结构的容器<br> pandas.Panel(data=None,items=None,major_axis=None,minor_axis=None,copy=False,dtype=None)<br> items - axis 0，每个项目对应于内部包含的数据帧(DataFrame)。<br> major_axis - axis 1，它是每个数据帧(DataFrame)的索引(行)。<br> minor_axis - axis 2，它是每个数据帧(DataFrame)的列。<br> <s>Pandas从版本0.20.0开始弃用，推荐的用于表示3D数据的方法是DataFrame上的MultiIndex方法</s></p> 
<pre><code class="prism language-python">p <span class="token operator">=</span> pd<span class="token punctuation">.</span>Panel<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 items<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token string">'ABCD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 major_axis<span class="token operator">=</span>pd<span class="token punctuation">.</span>date_range<span class="token punctuation">(</span><span class="token string">'20130101'</span><span class="token punctuation">,</span> periods<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 minor_axis<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">,</span> <span class="token string">'second'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
p<span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">]</span>
p<span class="token punctuation">.</span>major_xs<span class="token punctuation">(</span><span class="token string">"2013-01-01"</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span>minor_xs<span class="token punctuation">(</span><span class="token string">"first"</span><span class="token punctuation">)</span>
<span class="token comment">###由于panel是三维数据，因此只能从某一个维度切入，可以理解为从立方体中抽出一个平面(dataframe)观察，则上面三行代码结果如下图；而series则是相当于从平面(dataframe)中抽出一行或一列来观察</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/32/92/efGVesLS_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="series_520"></a>series</h6> 
<p>带索引的一维数组</p> 
<h6><a id="_522"></a>属性</h6> 
<p>index<br> values<br> <img src="https://images2.imgbox.com/29/26/EyhAvUjq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/63/fb/nTFB3dly_o.png" alt="在这里插入图片描述"><br> 总结：DataFrame 是series的容器，Panel是DataFrame的容器</p> 
<h6><a id="_528"></a>基本数据操作</h6> 
<p>索引操作</p> 
<ul><li> <p>直接索引<br> <img src="https://images2.imgbox.com/bf/90/ciTlMHKY_o.png" alt="在这里插入图片描述"></p> </li><li> <p>按名字索引<br> <img src="https://images2.imgbox.com/d3/2f/egBNyD3M_o.png" alt="在这里插入图片描述"></p> </li><li> <p>按数字索引<br> <img src="https://images2.imgbox.com/4f/54/oV2IMMhn_o.png" alt="在这里插入图片描述"></p> </li><li> <p>组合索引<br> 数字和名字混用</p> </li></ul> 
<pre><code class="prism language-python"><span class="token comment"># 获取行第1天到第4天，['open', 'close', 'high', 'low']这个四个指标的结果</span>
data<span class="token punctuation">.</span>ix<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token string">'low'</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment"># 现在不推荐用了</span>
<span class="token comment">###但仍可利用loc和iloc</span>
data<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token string">'low'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
data<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span>columns<span class="token punctuation">.</span>get_indexer<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token string">'close'</span><span class="token punctuation">,</span> <span class="token string">'high'</span><span class="token punctuation">,</span> <span class="token string">'low'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> 
<p>赋值操作<br> <img src="https://images2.imgbox.com/da/8f/PZCkNngT_o.png" alt="在这里插入图片描述"><br> 排序操作</p> 
<ul><li>对内容进行排序</li></ul> 
<p>dataframe<br> <img src="https://images2.imgbox.com/7b/a2/hZ4uRYLN_o.png" alt="在这里插入图片描述"></p> 
<p>series<br> <img src="https://images2.imgbox.com/83/25/2fqy4oOH_o.png" alt="在这里插入图片描述"></p> 
<ul><li>对索引进行排序</li></ul> 
<p>dataframe<br> <img src="https://images2.imgbox.com/7f/13/0FNJMtVn_o.png" alt="在这里插入图片描述"></p> 
<p>series<br> <img src="https://images2.imgbox.com/32/47/8lb1pQDE_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="DataFrame_572"></a>DataFrame运算</h6> 
<p>算术运算<br> <img src="https://images2.imgbox.com/ac/d1/27E4BwXS_o.png" alt="在这里插入图片描述"></p> 
<p>逻辑运算<br> 逻辑运算符<br> <img src="https://images2.imgbox.com/5c/5a/9w0eEOVj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/40/8b/R54IVBAw_o.png" alt="在这里插入图片描述"><br> 逻辑运算函数<br> query（）<br> <img src="https://images2.imgbox.com/ff/d0/9LCROYTW_o.png" alt="在这里插入图片描述"></p> 
<p>isin（）<br> <img src="https://images2.imgbox.com/d1/93/MVl6efbc_o.png" alt="在这里插入图片描述"></p> 
<p>统计运算<br> describe()<br> 将返回关于列的最值，均值，方差等多种信息<br> <img src="https://images2.imgbox.com/0f/3e/mr72LIFm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8d/fc/yrTDcLnB_o.png" alt="在这里插入图片描述"><br> 累计统计函数<br> cumsum 计算前1/2/3/…/n个数的和<br> cummax 计算前1/2/3/…/n个数的最大值<br> cummin 计算前1/2/3/…/n个数的最小值<br> cumprod 计算前1/2/3/…/n个数的积<br> <img src="https://images2.imgbox.com/13/05/pCayYuz1_o.png" alt="在这里插入图片描述"></p> 
<p>自定义运算<br> apply(func, axis=0)</p> 
<p>​ func: 自定义函数</p> 
<p>​ axis=0: 默认按列运算，axis=1按行运算<br> <img src="https://images2.imgbox.com/07/46/OGSmH3Vt_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="Pandas_606"></a>Pandas画图</h6> 
<p>pandas.DataFrame.plot<br> DataFrame.plot(x=None, y=None, kind=‘line’)</p> 
<p>x: label or position, default None<br> y: label, position or list of label, positions, default None<br> Allows plotting of one column versus another<br> kind: str<br> ‘line’: line plot(default)<br> ''bar": vertical bar plot<br> “barh”: horizontal bar plot<br> “hist”: histogram<br> “pie”: pie plot<br> “scatter”: scatter plot<br> <img src="https://images2.imgbox.com/59/77/tEmcPhZf_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_621"></a>文件的读取与存储</h6> 
<h6><a id="CSV_622"></a>CSV</h6> 
<p>读取 CSV<br> pd.read_csv（path,usecols，names）<br> <img src="https://images2.imgbox.com/04/92/gRfcZLGZ_o.png" alt="在这里插入图片描述"><br> 存储CSV<br> DataFrame.to_csv（）<br> path_or_buf ：string or file handle ， default None<br> sep : character, default ‘,’（分隔符）<br> columns ：sequence,optional 一般填入列表<br> mode：'w‘:重写，'a’追加<br> index:是否写入 行索引<br> header:boolean or list of string,default True,是否写进列索引值<br> <img src="https://images2.imgbox.com/e8/04/bV4VggBb_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="HDF5_635"></a>HDF5</h6> 
<p>hdf5可以存储三维数据<br> HDF5文件的读取和存储需要指定一个键，值为要存储的DataFrame，也就是说hdf5存储的是panel这种三维类型，一个key对应一个dataframe</p> 
<p><em>pandas.read_hdf(path_or_buf, key=None, kwargs)</em></p> 
<p>从h5文件当中读取数据</p> 
<p>path_or_buffer: 文件路径<br> key: 读取的键<br> mode: 打开文件的模式<br> reurn: The Selected object<br> <em>DataFrame.to_hdf(path_or_buf, key, kwargs)</em><br> <img src="https://images2.imgbox.com/08/99/H1mn88s4_o.png" alt="在这里插入图片描述"><br> 注：如果一个文件有两个key，在读取的时候要指定键，否则会报错</p> 
<h6><a id="JSON_651"></a>JSON</h6> 
<p>pandas.read_json(path_or_buf=None,orient=None,typ=“frame”,lines=False)</p> 
<p>将JSON格式转换成默认的Pandas DataFrame格式</p> 
<ul><li>orient: string,Indication of expected JSON string format.</li></ul> 
<p>‘split’: dict like {index -&gt; [index], columns -&gt; [columns], data -&gt; [values]}<br> <strong>‘records’: list like [{column -&gt; value}, …, {column -&gt; value}] 一般都用这个</strong><br> ‘index’: dict like {index -&gt; {column -&gt; value}}<br> ‘columns’: dict like {column -&gt; {index -&gt; value}}, 默认该格式<br> ‘values’: just the values array</p> 
<ul><li>lines: boolean, default False 作用：是否按行读取文件</li></ul> 
<p>按照每行读取json对象</p> 
<ul><li>typ: default ‘frame’，指定转换成的对象类型series或者dataframe</li></ul> 
<p>dataframe.to_json("./test.json",orient=“records”,lines=True)<br> <img src="https://images2.imgbox.com/43/7d/EGSSzTw1_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="Pandas_672"></a>Pandas高级処理</h6> 
<h6><a id="_673"></a>缺失值处理</h6> 
<p>如何进行缺失值处理？</p> 
<ul><li>删除含有缺失值的样本</li><li>替换/插补数据</li></ul> 
<p><strong>如何处理NaN？</strong></p> 
<p>第一步：判断数据中是否存在NaN</p> 
<p>pd.isnull（df）<br> <img src="https://images2.imgbox.com/12/cf/u8Kwurmm_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f8/ff/zecXfBn3_o.png" alt="在这里插入图片描述"></p> 
<p>pd.notnull（df）<br> 第二步：删除含有缺失值的样本<br> df.dropna(inplace=True/False) 默认按行删除<br> <img src="https://images2.imgbox.com/87/e2/4ZYAMTpl_o.png" alt="在这里插入图片描述"></p> 
<p>替换插补<br> df.fillna(value,inplace=True/False)<br> <img src="https://images2.imgbox.com/cf/64/h4PQOVHp_o.png" alt="在这里插入图片描述"></p> 
<p>inplace如果想原位置修改的话就是True，如果想返回一个新的df就用False,默认为False</p> 
<p><strong>如何处理不是NaN缺失值的？</strong><br> <em>读取数据</em><br> path = “wisconsin.data”-&gt;参数可以直接是一个网址<br> name = [“Sample code number”, “Normal Nucleoli”,“Mitoses”, “Class”]<br> data = pd.read_csv(path, names=name)</p> 
<p>#这里的非nan标记值缺失值就是利用“?”表示的，因此利用参数to_replace,value=np.nan,将默认标记值替换为nan值，然后再利用前面方法处理nan缺失值<br> <em>替换</em><br> data_new = data.<strong>replace</strong>(to_replace="?", value=np.nan)</p> 
<h6><a id="_708"></a>数据离散化</h6> 
<p>one-hot编码（哑变量）<br> <strong>分组</strong><br> 自动分组 pd.qcut(data,bins)<br> 自定义分组 pd.cut(data,[])<br> 分好组以后 返回series<br> <strong>转换为one-hot编码</strong><br> pd.get_dunmmies(sr,prefix=)<br> <img src="https://images2.imgbox.com/5b/06/ZL4Ki2zp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c8/09/uqGQl87I_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_718"></a>合并</h6> 
<p>按方向拼接<br> pd.concat([data1,data2],axis = )<br> <img src="https://images2.imgbox.com/43/5f/oiZrzmwS_o.png" alt="在这里插入图片描述"><br> 按索引进行拼接(与数据库中的内外连接，左连接，右连接一起学习)<br> pd.merge(left,right,how=“inner”,on=[索引]) how可以选择left，right，inner，outer<br> <img src="https://images2.imgbox.com/92/0f/eGXbeYWX_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_726"></a>交叉表和透视表</h6> 
<p><em>交叉表</em><br> data = pd.crosstab(stock[“week”], stock[“pona”])<br> 探索两个变量之间的关系<br> <img src="https://images2.imgbox.com/65/69/COX3xwSx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/63/ef/X3awpiP7_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b3/7c/WtKfeacR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c3/92/lRFFaIla_o.png" alt="在这里插入图片描述"><em>透视表</em><br> stock.pivot_table([“pona”], index=[“week”])相对于交叉表操作简单些</p> 
<h6><a id="_735"></a>分组与聚合</h6> 
<p>分组与聚合(聚合一般是统计函数)通常是分析数据的一种方式，通常与一些统计函数一起使用，查看数据的分组情况<br> <img src="https://images2.imgbox.com/9c/24/CkyojLjA_o.png" alt="在这里插入图片描述"></p> 
<ul><li>dataframe<br> <img src="https://images2.imgbox.com/e5/96/8f64O5cz_o.png" alt="在这里插入图片描述"></li><li>series<br> <img src="https://images2.imgbox.com/85/76/2W2ARybH_o.png" alt="在这里插入图片描述"></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a26ab1a022de3875d9fa8855f167b1b1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Pytorch基础入门</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f74cb6cb76df2062561da11fc62fe851/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu20.04安装Nvidia显卡驱动&#43;CUDA11.1&#43;cuDNN8.0.5</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>