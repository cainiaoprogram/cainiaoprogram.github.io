<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux 创建文件系统 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux 创建文件系统" />
<meta property="og:description" content="【推荐阅读】
浅谈linux 内核网络 sk_buff 之克隆与复制
深入linux内核架构--进程&amp;线程
了解Docker 依赖的linux内核技术
创建文件系统也称之为磁盘分区格式化。
磁盘：也称之为硬盘，由盘片，机械臂，磁头，马达组成。马达带动盘片旋转，，由机械臂上的磁头在盘片上读写数据。
磁盘盘片的组成：
1.扇区：（sector)为最小物理存储单位，每个扇区为512字节
2.柱面：（cylinder）是分区（partition）的最小单位
3.磁盘的第一个扇区通常存放MBR（开机主引导记录，Master boot record)及磁盘分区表（partition table),其中MBR占用446字节，而磁盘分区表占64字节，最后2个字节为启动标记。
每16个字节标示一个分区，在linux系统上最多能分四个主分区，或者三个主分区和一个扩展分区，在扩展分区中可以划分多个逻辑分区。注意：一个硬盘只能有一个扩展分区！
使用fdisk -l： 查看所有磁盘信息，后跟设备路径查看某个磁盘的信息：
使用fdisk 后跟磁盘路径会出现交互式选项：
使用m是获得帮助：
使用d是删除一个分区：加入我删除第三个分区：
使用q是不保存退出：
退出后，我们发现删除操作没有生效。再看看其他选项：
选项n是新建一个分区，我们这里已经有三个主分区了，因此我把第四个分区设为扩展分区，以便我在其内部创建逻辑分区，由于linux操作系统上只能创建四个主分区，所以，最后两项柱面的选项我都选择了默认。如果我们不按回车选默认，就会有一段磁盘空间无法分配使用，这样就会浪费磁盘空间。
使用选项p显示当前分区信息：
然后我们就来创建逻辑分区：
选项l:各分区类型所对应的system id:
使用选项t，可以修改某指定分区的system id:
我现在将创建好的分区进行保存退出（w),并用fdisk -l查看：
这样分区就创建好了，但这时候内核并未对新创建的分区进行识别，打开/proc/partitions进行查看：
使用partx -a 后跟磁盘名称，先试一试：
我为何之前要说试一试，有时候使用上述方法不一定能让内核识别，如果内核无法识别，就使用：partx -a [分区] [设备磁盘名称]。
如果内核无法对所创建的分区进行识别，就无法对其进行控制。而只有内核对分区进行控制之后，分区才能够被格式化。
partx还有一个用法：partx -d [--nr 分区] [设备磁盘名称]
下面我们看看分区格式化：
格式化分区，也称作创建文件系统：
创建文件系统的命令有很多，但是mkfs是通用命令，对非ext系列文件系统均可创建。不过，要使用mkfs创建文件系统需要两个前提：
1.文件系统必须被内核支持才能使用，即内核中有相应的内核模块，或已经将之整合进入内核。
2.要有相应的文件系统创建工具，通常是mkfs.fstype
上图是我的虚拟机中的linux所拥有的文件系统创建工具，我们先看看已经创建好的分区的文件系统类型，使用blkid命令查看：
我们已经看到前两个分区是ext4类型，第三个分区是swap类型，而第四，第五个分区都还没有创建文件系统，但是第四个分区它是扩展分区，
扩展分区上是不能够直接创建文件系统的，而只能在其内部的逻辑分区上创建，也就是在第五个分区上创建：
以上我使用mke2fs -t ext4 /dev/sda5对分区5进行了文件系统的创建，我们再来查看一下：
对于ext系列的文件系统的创建方式有一下几种：
mkfs -t ext4 = mkfs.ext4 = mke2fs -t ext4" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f51fa2b880e28afb1e72264867176e71/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-01-10T22:10:25+08:00" />
<meta property="article:modified_time" content="2023-01-10T22:10:25+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux 创建文件系统</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <p style="text-align:left;"><span class="kdocs-bold" style="font-weight:bold;">【推荐阅读】</span></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://mp.csdn.net/mp_blog/creation/editor/128253994" target="_blank" rel="noopener noreferrer">浅谈linux 内核网络 sk_buff 之克隆与复制</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://mp.csdn.net/mp_blog/creation/editor/128221118" target="_blank" rel="noopener noreferrer">深入linux内核架构--进程&amp;线程</a></p> 
 <p style="text-align:left;"><a class="kdocs-link" style="color:#0A6CFF;" href="https://mp.csdn.net/mp_blog/creation/editor/128203248" target="_blank" rel="noopener noreferrer">了解Docker 依赖的linux内核技术</a></p> 
 <p style="text-align:null;">创建文件系统也称之为磁盘分区格式化。</p> 
 <p style="text-align:null;">磁盘：也称之为硬盘，由盘片，机械臂，磁头，马达组成。马达带动盘片旋转，，由机械臂上的磁头在盘片上读写数据。</p> 
 <p style="text-align:null;">磁盘盘片的组成：</p> 
 <p style="text-align:null;">1.扇区：（sector)为最小物理存储单位，每个扇区为512字节</p> 
 <p style="text-align:null;">2.柱面：（cylinder）是分区（partition）的最小单位</p> 
 <p style="text-align:null;">3.磁盘的第一个扇区通常存放MBR（开机主引导记录，Master boot record)及磁盘分区表（partition table),其中MBR占用446字节，而磁盘分区表占64字节，最后2个字节为启动标记。</p> 
 <p style="text-align:null;">每16个字节标示一个分区，在linux系统上最多能分四个主分区，或者三个主分区和一个扩展分区，在扩展分区中可以划分多个逻辑分区。注意：一个硬盘只能有一个扩展分区！</p> 
 <p style="text-align:null;">使用fdisk -l： 查看所有磁盘信息，后跟设备路径查看某个磁盘的信息：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1215;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.748972%;height:0;"> 
    <img src="https://images2.imgbox.com/73/c2/HmitwIM9_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-26.748972%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用fdisk 后跟磁盘路径会出现交互式选项：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1206;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:12.769486%;height:0;"> 
    <img src="https://images2.imgbox.com/7b/a7/6C4wTNa2_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-12.769486%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用m是获得帮助：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:828;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:50.362316%;height:0;"> 
    <img src="https://images2.imgbox.com/a4/a3/xxjpxUWG_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-50.362316%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用d是删除一个分区：加入我删除第三个分区：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1018;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:7.7603145%;height:0;"> 
    <img src="https://images2.imgbox.com/d9/62/TP9cEcpi_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-7.7603145%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用q是不保存退出：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1115;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:33.81166%;height:0;"> 
    <img src="https://images2.imgbox.com/01/ef/uikeGGbP_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-33.81166%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">退出后，我们发现删除操作没有生效。再看看其他选项：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1160;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:21.637932%;height:0;"> 
    <img src="https://images2.imgbox.com/c9/2b/DmgEd8hz_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-21.637932%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">选项n是新建一个分区，我们这里已经有三个主分区了，因此我把第四个分区设为扩展分区，以便我在其内部创建逻辑分区，由于linux操作系统上只能创建四个主分区，所以，最后两项柱面的选项我都选择了默认。如果我们不按回车选默认，就会有一段磁盘空间无法分配使用，这样就会浪费磁盘空间。</p> 
 <p style="text-align:null;">使用选项p显示当前分区信息：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1173;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:30.690536%;height:0;"> 
    <img src="https://images2.imgbox.com/ca/c6/Md9C33bA_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-30.690536%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">然后我们就来创建逻辑分区：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1202;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.434277%;height:0;"> 
    <img src="https://images2.imgbox.com/ac/a7/cdpwGuJc_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-39.434277%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">选项l:各分区类型所对应的system id:</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:899;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:52.836487%;height:0;"> 
    <img src="https://images2.imgbox.com/08/04/YzNorbeW_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-52.836487%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用选项t，可以修改某指定分区的system id:</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1023;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:39.002934%;height:0;"> 
    <img src="https://images2.imgbox.com/b0/8d/bSkCDxTY_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-39.002934%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">我现在将创建好的分区进行保存退出（w),并用fdisk -l查看：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1188;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:29.545454%;height:0;"> 
    <img src="https://images2.imgbox.com/1c/5f/Tbyfh7Z8_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-29.545454%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">这样分区就创建好了，但这时候内核并未对新创建的分区进行识别，打开/proc/partitions进行查看：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:910;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:19.010988%;height:0;"> 
    <img src="https://images2.imgbox.com/b1/fc/Ym7OuruO_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-19.010988%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">使用partx -a 后跟磁盘名称，先试一试：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:879;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.775883%;height:0;"> 
    <img src="https://images2.imgbox.com/c7/8e/mKJPsgBZ_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-42.775883%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">我为何之前要说试一试，有时候使用上述方法不一定能让内核识别，如果内核无法识别，就使用：partx -a [分区] [设备磁盘名称]。</p> 
 <p style="text-align:null;">如果内核无法对所创建的分区进行识别，就无法对其进行控制。而只有内核对分区进行控制之后，分区才能够被格式化。</p> 
 <p style="text-align:null;">partx还有一个用法：partx -d [--nr 分区] [设备磁盘名称]</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:863;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:25.492468%;height:0;"> 
    <img src="https://images2.imgbox.com/10/a5/C1xes8uw_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-25.492468%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">下面我们看看分区格式化：</p> 
 <p style="text-align:null;">格式化分区，也称作创建文件系统：</p> 
 <p style="text-align:null;">创建文件系统的命令有很多，但是mkfs是通用命令，对非ext系列文件系统均可创建。不过，要使用mkfs创建文件系统需要两个前提：</p> 
 <p style="text-align:null;">1.文件系统必须被内核支持才能使用，即内核中有相应的内核模块，或已经将之整合进入内核。</p> 
 <p style="text-align:null;">2.要有相应的文件系统创建工具，通常是mkfs.fstype</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1314;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:4.870624%;height:0;"> 
    <img src="https://images2.imgbox.com/cb/e4/lRcRJd04_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-4.870624%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">上图是我的虚拟机中的linux所拥有的文件系统创建工具，我们先看看已经创建好的分区的文件系统类型，使用blkid命令查看：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1024;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:24.511719%;height:0;"> 
    <img src="https://images2.imgbox.com/40/24/KtLfTQxk_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-24.511719%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">我们已经看到前两个分区是ext4类型，第三个分区是swap类型，而第四，第五个分区都还没有创建文件系统，但是第四个分区它是扩展分区，</p> 
 <p style="text-align:null;">扩展分区上是不能够直接创建文件系统的，而只能在其内部的逻辑分区上创建，也就是在第五个分区上创建：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:853;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:49.941383%;height:0;"> 
    <img src="https://images2.imgbox.com/63/73/x4rmmNGf_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-49.941383%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">以上我使用mke2fs -t ext4 /dev/sda5对分区5进行了文件系统的创建，我们再来查看一下：</p> 
 <p style="text-align:null;"></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1042;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:7.8694816%;height:0;"> 
    <img src="https://images2.imgbox.com/1c/f9/WoUKjsk3_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-7.8694816%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">对于ext系列的文件系统的创建方式有一下几种：</p> 
 <p style="text-align:null;">mkfs -t ext4 = mkfs.ext4 = mke2fs -t ext4</p> 
 <p style="text-align:null;">mkfs -t ext3 = mkfs.ext3 = mke2fs -t ext3 = mke2fs -j</p> 
 <p style="text-align:null;">mkfs -t ext2 = mkfs.ext2 = mke2fs -t ext2 mke2fs</p> 
 <p style="text-align:null;">mkfs 是针对所有文件系统的创建命令，而mke2fs 只是针对ext系列文件系统的创建命令。mke2fs 有一个配置文件/etc/mke2fs.conf 用于设定 mke2fs 的默认特性，以及文件系统的特有特性：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:963;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:53.582554%;height:0;"> 
    <img src="https://images2.imgbox.com/d4/20/1cLSCtja_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-53.582554%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">而这些特性都是可以在我们需要的时候加以更改的。另外，我们还可以使用一些选项对被格 式化的磁盘做一些设定：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:740;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:5.8108106%;height:0;"> 
    <img src="https://images2.imgbox.com/6d/da/ZrwdNT3P_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-5.8108106%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
 <p style="text-align:null;">以上我使用的那条命令是用来查看5号分区的块大小的，下面我来对5号分区的块大小重新设定：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:872;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:63.188076%;height:0;"> 
    <img src="https://images2.imgbox.com/06/38/h8d1g8XW_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-63.188076%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">我再用tune2fs -l 这条命令来验证一下：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:959;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:6.465068%;height:0;"> 
    <img src="https://images2.imgbox.com/6d/99/2MMjpi3h_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-6.465068%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">同时，我们还可以调整给管理员使用的块在分区中的空间比例。</p> 
 <p style="text-align:null;">首先，我们先来看一下没有调整前的空间比例：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:782;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:53.324806%;height:0;"> 
    <img src="https://images2.imgbox.com/ea/40/R7USX2EG_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-53.324806%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">5号分区的块总个数是：2623506块，预留给管理员使用的块个数是：131175块。我们来用bc 计算器计算一下比例：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1031;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:19.495636%;height:0;"> 
    <img src="https://images2.imgbox.com/12/54/EAjFMKc2_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-19.495636%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">根据以上操作，我们可以得出结论：预留给管理员使用的块所占的比例，在没有事先设定的 情况下，通常不超过5%。我们可以通过以下操作对此设定进行调整：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:826;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.150122%;height:0;"> 
    <img src="https://images2.imgbox.com/cc/35/1aOR0Mvq_o.png" style="margin-left:;display:block;width:100.0%;margin-top:-26.150122%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-align:null;">上面的操作我执行了两条命令，第一条命令中我将比例调整到了3%，第二条命令是用来验证 第一条的执行效果。</p> 
 <p style="text-align:null;">在创建文件系统的过程中，还有些其它选项可以设定：</p> 
 <p style="text-align:null;">-L:设定卷标</p> 
 <p style="text-align:null;">-r:设定给管理员使用的块的个数</p> 
 <p style="text-align:null;">-E：设定文件系统的扩展属性</p> 
 <p style="text-align:null;">-o：设定挂载的默认选项</p> 
 <p style="text-align:null;">-O：设定文件系统的默认特性</p> 
 <p style="text-align:null;">以上这些选项都可以被 mke2fs 和 tune2fs 命令使用，唯独-b:块大小的设定，以及-t:文件 系统的类型只有 mke2fs 能够运用，而 tune2fs 是无法做到的。</p> 
 <p style="text-align:null;">另外，还有一个命令可以用来设定卷标：e2label</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="background-color:#F5F7F9;flex-direction:column;max-width:100%;display:flex;width:1074;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:10.893855%;height:0;"> 
    <img src="https://images2.imgbox.com/4e/82/OZ4bLx5T_o.jpg" style="margin-left:;display:block;width:100.0%;margin-top:-10.893855%;height:auto;"> 
   </div> 
  </div> 
 </div> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9842cc71480787bc0288e1b815da80d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">kinetics数据集包含什么动作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0b66173819a5830859d3cc7aaed16e3c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">sqli-labs基础篇【第七关】详细解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>