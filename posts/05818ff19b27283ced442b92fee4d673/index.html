<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SAS描述性统计分析 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SAS描述性统计分析" />
<meta property="og:description" content="一、使用proc means描述数据 可以用proc means查看一些简单的统计量，Means过程开始于关键词proc means，后面接需要打印的统计量，基本形式：
PROC MEANS options;
如果不加选项，则默认打印出非缺失值个数、均值、标准差、以及最大最小值，下面是用选项可以查看的统计量：
BY variable-list; 分变量单独分析，但数据必须先按照variable-list的变量顺序排序（proc sort）。CLASS variable-list; 也是分变量单独分析，看起来会更集中一些，且不需要排序。VAR variable-list; 指定分析中使用哪种数值变量，默认则使用所有的数值变量 下面的代码读取数据，计算新变量销售月份month，并使用proc sort按照月份排序，并使用proc means的by语句来按照月份描述数据： 输出结果为：
将描述性统计写入SAS数据集中
有两种方法可以在SAS数据集中储存描述性统计量，Output Delivery System(ODS)，或者output语句。后者的基本形式为：OUTPUT OUT=data-set output-statistic-list;
要描述数据，每个顾客只有一个观测值，包括SUM和MEAN，并且将结果储存到数据集中以便日后分析。下面的程序读取程序，按照CustomerID排序，使用means过程，结果存在totals数据集中。以原始名Petunia,SnapDragon,Marigold给出sum，以新变量名MeanPetunia,MeanSnapDragon,and MeanMarigold给出mean。
结果如下：
二、用proc freq为数据计数 使用proc freq最明显的目的是现实分类数据的分布情况，基本形式为：
PROC FREQ;
TABLES variable-combinations;
建立两个变量的交叉表需要一个*号，下面的语句显示变量Sex by YearsEducation的频数情况：TABLES Sex*YearsEducation;
这个语句之后可以用/option的形式添加选项，主要下面几个：
LIST：用list形式打印交叉表（而不是网格）
MISSING：频率统计量中包含缺失值
NOCOL：强制在交叉表中不打印列百分比
NOROW：强制在交叉表中不打印行百分比
OUT=data-set：输出数据集
比如说，使用第二个选项：TABLES Sex*YearsEducation/MISSING;
例子 有一家咖啡店的销售数据，记录了销售的咖啡种类（cappuccino,espresso,kona,or iced coffee），以及每次购买的顾客是打包还是原地就饮：
下面的代码就产生了一个one-way和two-way的频率表：
代码告诉SAS打印两个表，一个是one-way的频率表，一个是交叉表。交叉表的每个小方格内，SAS打印了频数、百分比、行百分比和列百分比。左边和右边是累积百分比。注意计算频数时没有考虑缺失值。
三、用proc tabulate产生一个表格报告 比起print means和print freq，Proc tabulate过程产生的报告更耐看。Proc tabulate的基本形式为：
PROC TABULATE;
CLASS classification-variable-list;
TABLE page-dimension,row-dimension,column-dimension;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/05818ff19b27283ced442b92fee4d673/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-10T10:53:07+08:00" />
<meta property="article:modified_time" content="2019-06-10T10:53:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SAS描述性统计分析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 style="margin-left:0cm;">一、使用proc means描述数据</h2> 
<p style="margin-left:0cm;">可以用proc means查看一些简单的统计量，Means过程开始于关键词proc means，后面接需要打印的统计量，基本形式：</p> 
<p style="margin-left:0cm;">PROC MEANS options;</p> 
<p style="margin-left:0cm;">如果不加选项，则默认打印出<span style="color:#FF0000;">非缺失值个数</span>、均值、标准差、以及最大最小值，下面是用选项可以查看的统计量：</p> 
<p style="margin-left:0cm;">                                                    <img alt="" class="has" height="173" src="https://images2.imgbox.com/fa/9f/fq3Zrlh6_o.png" width="322"></p> 
<ol><li>BY variable-list; 分变量单独分析，但数据必须先按照variable-list的变量顺序排序（proc sort）。</li><li>CLASS variable-list; 也是分变量单独分析，看起来会更集中一些，且不需要排序。</li><li>VAR variable-list; 指定分析中使用哪种数值变量，默认则使用所有的数值变量</li></ol> 
<p style="margin-left:0cm;">下面的代码读取数据，计算新变量销售月份month，并使用proc sort按照月份排序，并使用proc means的by语句来按照月份描述数据：                  </p> 
<p style="margin-left:0cm;">                                    <img alt="" class="has" height="199" src="https://images2.imgbox.com/50/03/jIeCoaR1_o.png" width="554"></p> 
<p style="margin-left:0cm;">输出结果为：</p> 
<p style="margin-left:0cm;">                            <img alt="" class="has" height="304" src="https://images2.imgbox.com/4c/da/HqgBWxmB_o.png" width="554"></p> 
<p style="margin-left:0cm;"><strong>将描述性统计写入SAS数据集中</strong></p> 
<p style="margin-left:0cm;">有两种方法可以在SAS数据集中储存描述性统计量，Output Delivery System(ODS)，或者output语句。后者的基本形式为：OUTPUT OUT=data-set output-statistic-list;</p> 
<p style="margin-left:0cm;">                         <img alt="" class="has" height="64" src="https://images2.imgbox.com/55/58/TYHdCPx0_o.png" width="554"></p> 
<p style="margin-left:0cm;">要描述数据，每个顾客只有一个观测值，包括SUM和MEAN，并且将结果储存到数据集中以便日后分析。下面的程序读取程序，按照CustomerID排序，使用means过程，结果存在totals数据集中。以原始名Petunia,SnapDragon,Marigold给出sum，以新变量名MeanPetunia,MeanSnapDragon,and MeanMarigold给出mean。</p> 
<p style="margin-left:0cm;">                             <img alt="" class="has" height="201" src="https://images2.imgbox.com/ec/62/Hu0jnZSR_o.png" width="554"></p> 
<p style="margin-left:0cm;">结果如下：</p> 
<p style="margin-left:0cm;">                             <img alt="" class="has" height="161" src="https://images2.imgbox.com/04/c9/Zr81j47I_o.png" width="554"></p> 
<h2 style="margin-left:0cm;">二、用proc freq为数据计数</h2> 
<p style="margin-left:0cm;">使用proc freq最明显的目的是现实分类数据的分布情况，基本形式为：</p> 
<p style="margin-left:0cm;">        PROC FREQ;</p> 
<p style="margin-left:0cm;">       TABLES variable-combinations;</p> 
<p style="margin-left:0cm;">建立两个变量的交叉表需要一个*号，下面的语句显示变量Sex by YearsEducation的频数情况：TABLES Sex*YearsEducation;</p> 
<p style="margin-left:0cm;">这个语句之后可以用/option的形式添加选项，主要下面几个：</p> 
<p style="margin-left:0cm;"><strong>LIST</strong>：用list形式打印交叉表（而不是网格）</p> 
<p style="margin-left:0cm;"><strong>MISSING</strong>：频率统计量中包含缺失值</p> 
<p style="margin-left:0cm;"><strong>NOCOL</strong>：强制在交叉表中不打印列百分比</p> 
<p style="margin-left:0cm;"><strong>NOROW</strong>：强制在交叉表中不打印行百分比</p> 
<p style="margin-left:0cm;"><strong>OUT</strong>=data-set：输出数据集</p> 
<p style="margin-left:0cm;">比如说，使用第二个选项：TABLES Sex*YearsEducation/MISSING;</p> 
<p style="margin-left:0cm;"><strong>例子</strong> 有一家咖啡店的销售数据，记录了销售的咖啡种类（cappuccino,espresso,kona,or iced coffee），以及每次购买的顾客是打包还是原地就饮：</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="50" src="https://images2.imgbox.com/71/a3/syjzr1Oa_o.png" width="546"></p> 
<p style="margin-left:0cm;">下面的代码就产生了一个one-way和two-way的频率表：</p> 
<p style="margin-left:0cm;">                          <img alt="" class="has" height="108" src="https://images2.imgbox.com/15/0c/Su0WEONW_o.png" width="436"></p> 
<p style="margin-left:0cm;">代码告诉SAS打印两个表，一个是one-way的频率表，一个是交叉表。交叉表的每个小方格内，SAS打印了频数、百分比、行百分比和列百分比。左边和右边是累积百分比。<span style="color:#f33b45;"><strong>注意计算频数时没有考虑缺失值</strong></span>。</p> 
<p style="margin-left:0cm;">                       <img alt="" class="has" height="393" src="https://images2.imgbox.com/af/2d/5jOkW9hH_o.png" width="474"></p> 
<h2 style="margin-left:0cm;">三、用proc tabulate产生一个表格报告</h2> 
<p style="margin-left:0cm;">比起print means和print freq，Proc tabulate过程产生的报告更耐看。Proc tabulate的基本形式为：</p> 
<p style="margin-left:0cm;">                     PROC TABULATE;</p> 
<p style="margin-left:0cm;">                    CLASS classification-variable-list;</p> 
<p style="margin-left:0cm;">                    TABLE page-dimension,row-dimension,column-dimension;</p> 
<p style="margin-left:0cm;"><strong>Class</strong>语句告诉SAS哪些变量将数据分成不同部分。</p> 
<p style="margin-left:0cm;"><strong>Table</strong>语句可以定义一个表，可以用多个table语句定义多个表；</p> 
<p style="margin-left:0cm;"><em><strong>维度</strong></em> table语句可以在报告中指定三个维度：页、行、列。如果只指定一个维度，则默认是列维度；如果指定两个，则是行和列。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"><em><strong>缺失数据</strong> </em>默认下不考虑缺失数据，在proc语句后面增加missing选项可以改变这种默认：</p> 
<p style="margin-left:0cm;">PROC TABULATE MISSING;</p> 
<p style="margin-left:0cm;"><strong>例子</strong> 有关于船的一些数据，Boats.dat，记录了每艘船的姓名、港口、移动方式（sailing或者power vesse），类型（schooner,catamaran,or yacht），使用它远行的价格</p> 
<p style="margin-left:0cm;">                                              <img alt="" class="has" height="144" src="https://images2.imgbox.com/75/f0/kJS4wmd0_o.png" width="278"></p> 
<p style="margin-left:0cm;">你想得到一份报告，包含了每一个港口的、sailing或者power vessel的、每一种类型的、船的数量，下面的代码用proc tabulate创建了一个三维报告：港口作为页、移动方式作为行、类型作为列：                                                                                                                            <img alt="" class="has" height="154" src="https://images2.imgbox.com/66/59/ckGFYMKn_o.png" width="525"></p> 
<p style="margin-left:0cm;">报告分两页，港口的每个值情况为一页：</p> 
<p style="margin-left:0cm;">                              <img alt="" class="has" height="279" src="https://images2.imgbox.com/86/17/5eXsp5YE_o.png" width="554"></p> 
<p style="margin-left:0cm;"><strong>为proc tabulate输出增加统计量</strong></p> 
<p style="margin-left:0cm;">Class语句列出分类变量，而VAR语句告诉SAS那些变量包含连续数据。基本形式为：</p> 
<p style="margin-left:0cm;">             PROC TABULATE;</p> 
<p style="margin-left:0cm;">             VAR analysis-variable-list;</p> 
<p style="margin-left:0cm;">            CLASS classification-variable-list;</p> 
<p style="margin-left:0cm;">            TABLE page-dimension row-dimension column-dimension;</p> 
<p style="margin-left:0cm;"><strong>关键词</strong> 下面是tabulate可以计算的值：</p> 
<p style="margin-left:0cm;">ALL:增加行、列或页，显示总数</p> 
<p style="margin-left:0cm;">Max：最高值</p> 
<p style="margin-left:0cm;">Min：最低值</p> 
<p style="margin-left:0cm;">Mean：算术均值</p> 
<p style="margin-left:0cm;">Median：中位数</p> 
<p style="margin-left:0cm;">N：非缺失值个数</p> 
<p style="margin-left:0cm;">Nmiss：缺失值数</p> 
<p style="margin-left:0cm;">P90：90th分位数</p> 
<p style="margin-left:0cm;">Pctn：某类的观测值百分数</p> 
<p style="margin-left:0cm;">Pctsum：某类值总和的百分数</p> 
<p style="margin-left:0cm;">STDDEV：标准差</p> 
<p style="margin-left:0cm;">SUM：求和</p> 
<p style="margin-left:0cm;"> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f5f7fdc2b18c2a9db67c83053bc46f94/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">HTTPS证书安装无效的原因都有哪些 ？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0e542833f8fa42e33be13de8c8a6b2e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ubuntu——ls-l命令详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>