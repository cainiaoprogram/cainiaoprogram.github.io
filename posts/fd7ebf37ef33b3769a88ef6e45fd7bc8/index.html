<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python（5）正则表达式 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python（5）正则表达式" />
<meta property="og:description" content="目录 前言正则表达式的步骤匹配模式： flags=xxx反斜杠：\分组 一、re模块常用方法1.编译compile(pattern[, flags])2.匹配match(pattern,string[,flags])3.匹配search(pattern,str[,flags])4.匹配findall(pattern,str[,flags])5.分割split(pattern,str[maxsplit=0,flags])6.替换sub(pat,repl,str,count=0,flags=0) 二、匹配练习习题集一习题集二 前言 正则表达式的步骤 确定模式有几个子模式各部分的字符分类是什么子模式怎么重复是否有外部位置的限制是否有内部制约关系 正则表达式本质上是一门语言，它不从属与Python！Python只是将他人写好的正则引擎集成到了语言内部，大多数编程语言都是这么干的！
正则表达式诞生的时间很长，应用非常广泛，是业界公认的字符串匹配工具。虽然有不同版本的内部引擎，但基本通用，也就是说，你在Python内写的正则表达式，可以移植到Linux的shell，Java语言等任何支持正则的场景中去。
正则表达式默认从左往右匹配。
正则表达式默认是贪婪模式。
正则表达式默认在匹配到了内容后，则终止匹配，不继续匹配。
对同一个问题，编写的正则表达式不是唯一的！
匹配模式： flags=xxx 缩写全称含义AASCIIASCII字符模式IIGNORECASE不区分大小写LLOCALE本地化识别local-aware匹配MMULTILINE多行匹配，每一行匹配一次,影响^ $SDOTALL使 . 字符能够匹配包括 \n 换行符的所有字符，针对多行匹配XVERBOSE该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解（emm 有点点废话）UUNICODE根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B 史上最全ASCII码对照表0-255（%d）
Unicode字符代码
字符集与编码系列：Unicode字符集
反斜杠：\ print(re.match(r&#34;\d\wabc&#34;,str)
print(re.match(“\d\wabc”,str)
原字符串\\\\----&gt;表示\\----&gt;正则表达式中表示 很复杂！很恼火！
如果需要匹配 “D:\abc\s\1.txt&#34;,可以写成：
print(re.search(r&#34;\w:\\w&#43;\\w&#43;\\w&#43;.\w&#43;&#34;,“sadaD:\abc\s\1.txt”))
python提供原生字符串的功能， 很好地解决了这个问题，这个例子中的正则表达式可以使用r&#34;\“表示。同样，匹配一个数字的”\d&#34;可以直接写成r&#34;\d&#34;。有了原生字符串，你再也不用担心是不是漏写了反斜杠，写出来的表达式也更直观。
分组 把正则表达式分成几组，这样就可以重复某个部分
分组正则匹配(…)捕获一个组(?P…)捕获一个组，命名name(?:…)不捕获组\Y匹配第Y个匹配的组，可以数左括号的个数(?P=name)匹配名为name的组(?#…)注释 一、re模块常用方法 引用博客的传送门
方法描述返回值compile(pattern[,flags])根据包含正则表达式的字符串创建模式对象re对象search(pattern,string[,flags])在字符串中查找第一个匹配到的对象或者nonematch(pattern,string[,flags])在字符串中开始处匹配返回re对象或nonesplit(pattern,string[,maxsplit=0,flags])分割字符串返回分割后的字符串列表listfindall(pattern,string,flags)字符串中所有匹配项返回字符串列表sub(pat,repl,string[,count=0,flags])repl替换所有的pat返回替换后的string 1.编译compile(pattern[, flags]) compile一个re对象 ，提高效率！
返回的re对象就可以正常调用re模块中的噶种方法！
根据包含正则表达式的字符串创建模式对象
当你需要多次匹配string时候，比如需要for的时候，就可以提前compile
f=re.compile(r&#34;\d{8}--\d{4}--\d{4}&#34;) for i in str: f.match(i) 2.匹配match(pattern,string[,flags]) 在字符串的开始位置进行匹配，不成功就返回None，这个我个人认为在代码编辑中不常用该方法。
** group()方法**
group(0) – 输出原字符串；； group(i) --从pattern左边数第i个左括号中匹配的字符" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fd7ebf37ef33b3769a88ef6e45fd7bc8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-31T20:56:56+08:00" />
<meta property="article:modified_time" content="2023-05-31T20:56:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python（5）正则表达式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">前言</a></li><li><ul><li><a href="#_2" rel="nofollow">正则表达式的步骤</a></li><li><a href="#_flagsxxx_19" rel="nofollow">匹配模式： flags=xxx</a></li><li><a href="#_33" rel="nofollow">反斜杠：\</a></li><li><a href="#_43" rel="nofollow">分组</a></li></ul> 
  </li><li><a href="#re_56" rel="nofollow">一、re模块常用方法</a></li><li><ul><li><a href="#1compilepattern_flags_68" rel="nofollow">1.编译compile(pattern[, flags])</a></li><li><a href="#2matchpatternstringflags_81" rel="nofollow">2.匹配match(pattern,string[,flags])</a></li><li><a href="#3searchpatternstrflags_95" rel="nofollow">3.匹配search(pattern,str[,flags])</a></li><li><a href="#4findallpatternstrflags_98" rel="nofollow">4.匹配findall(pattern,str[,flags])</a></li><li><a href="#5splitpatternstrmaxsplit0flags_102" rel="nofollow">5.分割split(pattern,str[maxsplit=0,flags])</a></li><li><a href="#6subpatreplstrcount0flags0_120" rel="nofollow">6.替换sub(pat,repl,str,count=0,flags=0)</a></li></ul> 
  </li><li><a href="#_140" rel="nofollow">二、匹配练习</a></li><li><ul><li><a href="#_142" rel="nofollow">习题集一</a></li><li><a href="#_237" rel="nofollow">习题集二</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>前言</h2> 
<h3><a id="_2"></a>正则表达式的步骤</h3> 
<ol><li>确定模式有几个子模式</li><li>各部分的字符分类是什么</li><li>子模式怎么重复</li><li>是否有外部位置的限制</li><li>是否有内部制约关系</li></ol> 
<blockquote> 
 <p>正则表达式本质上是一门语言，它不从属与Python！Python只是将他人写好的正则引擎集成到了语言内部，大多数编程语言都是这么干的！<br> 正则表达式诞生的时间很长，应用非常广泛，是业界公认的字符串匹配工具。虽然有不同版本的内部引擎，但基本通用，也就是说，你在<strong>Python</strong>内写的正则表达式，可以移植到<strong>Linux</strong>的shell，<strong>Java</strong>语言等任何支持正则的场景中去。<br> 正则表达式默认<strong>从左往右</strong>匹配。<br> 正则表达式默认是<strong>贪婪模式</strong>。<br> 正则表达式默认在匹配到了内容后，则终止匹配，不继续匹配。<br> 对同一个问题，编写的正则表达式<strong>不是唯一的</strong>！</p> 
</blockquote> 
<h3><a id="_flagsxxx_19"></a>匹配模式： flags=xxx</h3> 
<table><thead><tr><th>缩写</th><th>全称</th><th>含义</th></tr></thead><tbody><tr><td>A</td><td>ASCII</td><td>ASCII字符模式</td></tr><tr><td>I</td><td>IGNORECASE</td><td>不区分大小写</td></tr><tr><td>L</td><td>LOCALE</td><td>本地化识别local-aware匹配</td></tr><tr><td>M</td><td>MULTILINE</td><td>多行匹配，每一行匹配一次,影响^ $</td></tr><tr><td>S</td><td>DOTALL</td><td>使 . 字符能够匹配包括 \n 换行符的所有字符，针对多行匹配</td></tr><tr><td>X</td><td>VERBOSE</td><td>该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解（emm 有点点废话）</td></tr><tr><td>U</td><td>UNICODE</td><td>根据Unicode字符集解析字符。这个标志影响 \w, \W, \b, \B</td></tr></tbody></table> 
<p><a href="https://blog.csdn.net/yueyueniaolzp/article/details/82178954#:~:text=%E5%B8%B8%E7%94%A8%20ASCII%E7%A0%81%20%E8%AF%A6%E7%BB%86%20%E5%AF%B9%E7%85%A7%E8%A1%A8%20_0-%20255%20%E5%8F%B7%20Muchen%E7%81%AC,3%2003%20ETX%20%28End%20Of%20Text%29%20%E6%AD%A3%E6%96%87%E7%BB%93%E6%9D%9F%200">史上最全ASCII码对照表0-255（%d）</a><br> <a href="https://www.rapidtables.org/zh-CN/code/text/unicode-characters.html" rel="nofollow">Unicode字符代码</a><br> <a href="https://blog.csdn.net/liudun_cool/article/details/120739653">字符集与编码系列：Unicode字符集</a></p> 
<h3><a id="_33"></a>反斜杠：\</h3> 
<blockquote> 
 <p>print(re.match(r"\d\wabc",str)<br> print(re.match(“\d\wabc”,str)<br> 原字符串\\\\----&gt;表示\\----&gt;正则表达式中表示 <br> 很复杂！很恼火！<br> 如果需要匹配 “D:\abc\s\1.txt",可以写成：<br> print(re.search(r"\w:\\w+\\w+\\w+.\w+",“sadaD:\abc\s\1.txt”))</p> 
</blockquote> 
<p>python提供原生字符串的功能， 很好地解决了这个问题，这个例子中的正则表达式可以使用r"\“表示。同样，匹配一个数字的”\d"可以直接写成r"\d"。有了原生字符串，你再也不用担心是不是漏写了反斜杠，写出来的表达式也更直观。</p> 
<h3><a id="_43"></a>分组</h3> 
<p>把正则表达式分成几组，这样就可以重复某个部分</p> 
<table><thead><tr><th>分组</th><th></th></tr></thead><tbody><tr><td>正则</td><td>匹配</td></tr><tr><td>(…)</td><td>捕获一个组</td></tr><tr><td>(?P…)</td><td>捕获一个组，命名name</td></tr><tr><td>(?:…)</td><td>不捕获组</td></tr><tr><td>\Y</td><td>匹配第Y个匹配的组，可以数左括号的个数</td></tr><tr><td>(?P=name)</td><td>匹配名为name的组</td></tr><tr><td>(?#…)</td><td>注释</td></tr></tbody></table> 
<h2><a id="re_56"></a>一、re模块常用方法</h2> 
<p><a href="https://www.liujiangblog.com/course/python/74" rel="nofollow">引用博客的传送门</a></p> 
<table><thead><tr><th>方法</th><th>描述</th><th>返回值</th></tr></thead><tbody><tr><td>compile(pattern[,flags])</td><td>根据包含正则表达式的字符串创建模式对象</td><td>re对象</td></tr><tr><td>search(pattern,string[,flags])</td><td>在字符串中查找</td><td>第一个匹配到的对象或者none</td></tr><tr><td>match(pattern,string[,flags])</td><td>在字符串中开始处匹配</td><td>返回re对象或none</td></tr><tr><td>split(pattern,string[,maxsplit=0,flags])</td><td>分割字符串</td><td>返回分割后的字符串列表list</td></tr><tr><td>findall(pattern,string,flags)</td><td>字符串中所有匹配项</td><td>返回字符串列表</td></tr><tr><td>sub(pat,repl,string[,count=0,flags])</td><td>repl替换所有的pat</td><td>返回替换后的string</td></tr></tbody></table> 
<h3><a id="1compilepattern_flags_68"></a>1.编译compile(pattern[, flags])</h3> 
<blockquote> 
 <p>compile一个re对象 ，提高效率！<br> 返回的re对象就可以正常调用re模块中的噶种方法！<br> 根据包含正则表达式的字符串创建模式对象<br> 当你需要多次匹配string时候，比如需要for的时候，就可以提前compile</p> 
</blockquote> 
<pre><code class="prism language-python">f<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d{8}--\d{4}--\d{4}"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
	f<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="2matchpatternstringflags_81"></a>2.匹配match(pattern,string[,flags])</h3> 
<p>在字符串的开始位置进行匹配，不成功就返回None，这个我个人认为在代码编辑中不常用该方法。<br> ** group()方法**<br> group(0) – 输出原字符串；； group(i) --从pattern左边数第i个左括号中匹配的字符</p> 
<blockquote> 
 <p>根据返回的object &lt;_sre.SRE_Match object; span=(0, 3), match=‘abc’&gt;<br> span是匹配到的字符在字符串中的位置下标 [左下标,右下标)</p> 
</blockquote> 
<pre><code class="prism language-python">f<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"abc"</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>end<span class="token punctuation">(</span><span class="token punctuation">)</span>
f<span class="token punctuation">.</span>span<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<h3><a id="3searchpatternstrflags_95"></a>3.匹配search(pattern,str[,flags])</h3> 
<p>文本内查找（和match的唯一区别），饭回匹配的第一个字符内容，如果匹配字符中包含分组，可以用group()方法。</p> 
<h3><a id="4findallpatternstrflags_98"></a>4.匹配findall(pattern,str[,flags])</h3> 
<p>三大巨头之一，与前两个的区别就是：这个全文搜索所有满足条件的字符串，返回匹配到的字符串的列表。如果是分组查找，返回的就是以组为元素的列表。如果是没有匹配的，返回的是[]空列表，前两个返回的是None。<br> <strong>没有group()方法！！！</strong></p> 
<h3><a id="5splitpatternstrmaxsplit0flags_102"></a>5.分割split(pattern,str[maxsplit=0,flags])</h3> 
<p>分割功能强大，可以按照特定的正则表达式进行分割。返回的是不包含分割字符的列表，也有方法可以返回分割字符。</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"--|[\+\-\*]"</span><span class="token punctuation">,</span><span class="token string">"2020--12--39+49人"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token string">'2020'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'39'</span><span class="token punctuation">,</span> <span class="token string">'49人'</span><span class="token punctuation">]</span>
</code></pre> 
<p>maxsplit=最大分割次数，从左到右进行匹配</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"--|[\+\-\*]"</span><span class="token punctuation">,</span><span class="token string">"2020--12--39-49人-32男+17女"</span><span class="token punctuation">,</span>maxsplit<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#限制分割次数3次</span>
<span class="token punctuation">[</span><span class="token string">'2020'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'39'</span><span class="token punctuation">,</span> <span class="token string">'49人-32男+17女'</span><span class="token punctuation">]</span>
</code></pre> 
<p>返回包括分割字符的列表。比如上述例子，需要返回 ‘2020’ ‘–’ ’ 12’ ‘–’…，可以通过神奇的<strong>添加小括号（）</strong></p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"(--|[\+\-\*])"</span><span class="token punctuation">,</span><span class="token string">"2020--12--39-49人-32男+17女"</span><span class="token punctuation">,</span>maxsplit<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># !!!!!这里添加了小括号</span>
<span class="token punctuation">[</span><span class="token string">'2020'</span><span class="token punctuation">,</span> <span class="token string">'--'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">,</span> <span class="token string">'--'</span><span class="token punctuation">,</span> <span class="token string">'39'</span><span class="token punctuation">,</span> <span class="token string">'-'</span><span class="token punctuation">,</span> <span class="token string">'49人-32男+17女'</span><span class="token punctuation">]</span>
</code></pre> 
<h3><a id="6subpatreplstrcount0flags0_120"></a>6.替换sub(pat,repl,str,count=0,flags=0)</h3> 
<p>pat：被替换的字符<br> repl：替换的新字符<br> 用repl替换pat<br> count：指替换次数</p> 
<pre><code class="prism language-python"><span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"i"</span><span class="token punctuation">,</span><span class="token string">r"I"</span><span class="token punctuation">,</span><span class="token string">"i love you but fuvky your ***"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>sub()又一个高级功能----分组引用<br> \1 就是从左往右数左括号的个数</p> 
<pre><code class="prism language-python">origin <span class="token operator">=</span> <span class="token string">"Hello,world!"</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"((world))(.)"</span><span class="token punctuation">,</span><span class="token string">r"&lt;em&gt;\1&lt;em&gt;&lt;em&gt;\3&lt;em&gt;&lt;em&gt;\2&lt;em&gt;"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>   <span class="token comment"># 注意括号和\1的作用！</span>
<span class="token comment"># \1 : ((world))----world  \2(world)----world  \3----!</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>

Hello<span class="token punctuation">,</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>world<span class="token operator">&lt;</span>em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>!<span class="token operator">&lt;</span>em<span class="token operator">&gt;</span><span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>world<span class="token operator">&lt;</span>em<span class="token operator">&gt;</span>
</code></pre> 
<p>其实现机制是首先在正则表达式里用括号建立了一个分组，然后在要替换进去的字符串里用“\1”引用了这个分组匹配到的内容。</p> 
<h2><a id="_140"></a>二、匹配练习</h2> 
<p><a href="https://www.cnblogs.com/guo-123/p/10745289.html" rel="nofollow">原文章链接</a></p> 
<h3><a id="_142"></a>习题集一</h3> 
<p>习题1：判断是否匹配成功，并输出对应匹配信息</p> 
<pre><code class="prism language-python"><span class="token keyword">if</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"123"</span><span class="token punctuation">,</span><span class="token string">"123sc"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"匹配成功"</span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"匹配失败"</span><span class="token punctuation">)</span>
</code></pre> 
<p>习题2： 找出一个字符串中是否有连续的5个数字</p> 
<pre><code class="prism language-python"><span class="token builtin">str</span><span class="token operator">=</span><span class="token string">"applr 123999328 hjdfsfh"</span>
str2<span class="token operator">=</span><span class="token string">"diasohdi123uinhxv32r32"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"\d{5}"</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"\d{5}"</span><span class="token punctuation">,</span>str2<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token comment"># AttributeError: 'NoneType' object has no attribute 'group'</span>
</code></pre> 
<p>习题3：出一个字符串中的连续5个数字，要求数字前后必须是非数字</p> 
<pre><code class="prism language-python">
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"(\D\d{5}\D)|(^\d{5}\D)|(\D\d{5}$)|(^\d{5}$)"</span><span class="token punctuation">,</span><span class="token string">"12567"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 匹配成功</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"[^\d]\d{5}[^\d]"</span><span class="token punctuation">,</span><span class="token string">"12567"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 匹配失败，因为[^\d]是指非数字的字符，不能涵盖只有数字的字符串 </span>
</code></pre> 
<p>习题4:统计一个文件中单词的数量</p> 
<pre><code class="prism language-python"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"1.txt"</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span>errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token builtin">file</span><span class="token operator">=</span>f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#  type of file  is string</span>
    <span class="token comment"># \b 匹配一个单词边界，也就是单词和空格之间的位置，符号本身不匹配任何字符</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\b[a-zA-Z]+\b"</span><span class="token punctuation">,</span><span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p>习题5:把a1b23c4d非字符内容拼成一个字符串</p> 
<pre><code class="prism language-python"><span class="token comment"># 方法一：split()</span>
a<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"[^\d]"</span><span class="token punctuation">,</span><span class="token string">"a1b23c4d"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> a<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n\n"</span><span class="token punctuation">)</span>

<span class="token comment"># 方法二：findall()</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\d"</span><span class="token punctuation">,</span><span class="token string">"123adewad1fes3hbu4345bh"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> 
<p>习题6:取最后一个字母</p> 
<pre><code class="prism language-python"><span class="token comment"># 取最后一个字母</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r".+([a-zA-Z])"</span><span class="token punctuation">,</span><span class="token string">"dsafbhqbfcuSJHAS Hab12cd"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>习题7:找出一个字符串中的所有数字</p> 
<pre><code class="prism language-python"><span class="token builtin">str</span><span class="token operator">=</span><span class="token string">"a1cd33dd99kddd"</span>
<span class="token comment"># 找出一个字符串中的所有数字</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\d+"</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># 看了答案，题主竟然compile了！！！秀</span>
pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d+"</span><span class="token punctuation">)</span>
pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>

<span class="token comment"># 越来越复杂 秀</span>
pat<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"\d"</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>pat<span class="token punctuation">.</span>search<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
 

 
</code></pre> 
<p>习题8:把一个字符串中的所有字母找出并拼成一个字符串</p> 
<pre><code class="prism language-python"><span class="token comment"># 把一个字符串中的所有字母找出并拼成一个字符串</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"[a-zA-Z]"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span>

<span class="token comment"># split()</span>
f<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"[\d]"</span><span class="token punctuation">,</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span>

 
</code></pre> 
<p>习题9:输出句子中的所有单词</p> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">"I am a boy! you are a girl!"</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"[a-zA-Z]+"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span><span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token string">'am'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'boy'</span><span class="token punctuation">,</span> <span class="token string">'you'</span><span class="token punctuation">,</span> <span class="token string">'are'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'girl'</span><span class="token punctuation">]</span>

</code></pre> 
<h3><a id="_237"></a>习题集二</h3> 
<p>1、 只匹配包含字母和数字的行<br> import re</p> 
<p>s=“because\n12sd 34er 56\ndf e4 54434”</p> 
<p>print(re.findall(r"\w+",s,re.M))</p> 
<p>2、写一个正则表达式，使其能同时识别下面所有的字符串：‘bat’,‘bit’, ‘but’, ‘hat’, ‘hit’, 'hut‘</p> 
<pre><code class="prism language-python">s1 <span class="token operator">=</span> <span class="token triple-quoted-string string">''' 'bat', 'bit', 'but', 'hat', 'hit', 'hut','yat','har','hot' '''</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\'[bh][aiu]t\'"</span><span class="token punctuation">,</span>s1<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># [b|h][a|i|u] 和 [bh][aiu]的含义是一样的</span>

</code></pre> 
<p>6、匹配所有合法的python标识符<br> import re</p> 
<p>s=“awoeur awier !@# @#4_-asdf3<span class="katex--inline">KaTeX parse error: Expected group after '^' at position 1: ^̲&amp;()+?&gt;&lt;dfg</span>\n$”</p> 
<p>print(re.findall(r".*",s,re.DOTALL))</p> 
<p>7、提取每行中完整的年月日和时间字段</p> 
<pre><code class="prism language-python">SS<span class="token operator">=</span><span class="token string">"我出生时间为1990-01-01 00:00:00,今天时间为2019-04-20 12:20:00"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"(\d{4}-\d{2}-\d{2} ([01][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9]))"</span><span class="token punctuation">,</span>SS<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> i <span class="token keyword">in</span> SS<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r","</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    result<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"\d{4}-\d{2}-\d{2} ([01][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9])"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>
    <span class="token keyword">if</span> result<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">continue</span>
</code></pre> 
<pre><code class="prism language-python"><span class="token number">8</span>、将每行中的电子邮件地址替换为你自己的电子邮件地址
<span class="token comment"># coding:utf-8</span>
<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token triple-quoted-string string">"""
1234867@qq.com
lihuali@sdcion.com
"""</span>
s1<span class="token operator">=</span><span class="token string">"guolingping@sdcion.com"</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    result<span class="token operator">=</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r"[\w]+@[\w]+.com"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span>
    <span class="token keyword">if</span> result<span class="token punctuation">:</span>
        s<span class="token operator">=</span>s<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s1<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">continue</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

 
 

<span class="token number">10</span>、使用正则提取出字符串中的单词
<span class="token comment"># coding:utf-8</span>
<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token string">"I am a boy, my is 19 year!"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\b[a-zA-Z]+\b"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

 

<span class="token number">11</span>、使用正则表达式匹配合法的邮件地址：
国际域名格式如下：

域名由各国文字的特定字符集、英文字母、数字及“<span class="token operator">-</span>”<span class="token punctuation">(</span>即连字符或减号<span class="token punctuation">)</span>任意组合而成<span class="token punctuation">,</span> 但开头及结尾均不能含有“<span class="token operator">-</span>”，“<span class="token operator">-</span>”不能连续出现。域名中字母不分大小写。域名最长可达<span class="token number">60</span>个字节<span class="token punctuation">(</span>包括后缀<span class="token punctuation">.</span>com、<span class="token punctuation">.</span>net、<span class="token punctuation">.</span>org等<span class="token punctuation">)</span>。

<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token string">"lisi_1234@qq.org"</span>
result<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r"^[\w]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[\.][a-z]{2,3}([\.][a-z]{2})?$"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span>
<span class="token keyword">if</span> result<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

 

<span class="token number">12</span>、提取字符串中合法的超链接地址比如：s <span class="token operator">=</span> <span class="token string">'&lt;a href="http://www.gloryroad.cn"&gt;光荣之路官网&lt;/a&gt;'</span>要求，给出的正则表达式能兼顾所有链接地址。
<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token string">'&lt;a href="http://www.gloryroad.cn"&gt;光荣之路官网&lt;/a&gt;'</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r'\w+://[w]{3}.\w+.\w{2,3}'</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

 

<span class="token number">13</span>、统计文件中单词个数
<span class="token comment"># coding:utf-8</span>
<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token string">"I am a boy, my is 19 year!"</span>
result<span class="token operator">=</span>re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">r"\b[a-zA-Z]+\b"</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"单词个数为："</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>

 

<span class="token number">14</span>、写一个函数，其中用正则验证密码的强度
<span class="token keyword">import</span> re
<span class="token triple-quoted-string string">"""
密码长度大于或等于8位数
强：字母+数字+特殊字符
中：字母+数字，字母+特殊字符，数字+特殊字符
弱：纯数字，纯字母，纯特殊字符
"""</span>

<span class="token keyword">def</span> <span class="token function">checklen</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token operator">&gt;=</span><span class="token number">8</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">is_strong_pwd</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&amp;*]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&amp;*]+$)(?![\d!@#$%^&amp;*]+$)[a-zA-Z\d!@#$%^&amp;*]+$"</span><span class="token punctuation">)</span>
    result<span class="token operator">=</span>pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>
    <span class="token keyword">if</span> result<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">is_inter_pwd</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&amp;*]+$)[a-zA-Z\d!@#$%^&amp;*]+$"</span><span class="token punctuation">)</span>
    result<span class="token operator">=</span>pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>
    <span class="token keyword">if</span> result<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">is_weak_pwd</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">:</span>
    pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r"^(?:\d+|[a-zA-Z]+|[!@#$%^&amp;*]+)$"</span><span class="token punctuation">)</span>
    result<span class="token operator">=</span>pattern<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>
    <span class="token keyword">if</span> result<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">checkpassword</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token comment">#判断密码长度是否合法</span>
    lenOK<span class="token operator">=</span>checklen<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>

    <span class="token comment">#判断是否强：字母+数字+特殊字符</span>
    strongOK<span class="token operator">=</span>is_strong_pwd<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>

    <span class="token comment">#判断是否中：字母+数字，字母+特殊字符，数字+特殊字符</span>
    interOK<span class="token operator">=</span>is_inter_pwd<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>

    <span class="token comment">#判断是否弱：纯数字，纯字母，纯特殊字符</span>
    weakOK<span class="token operator">=</span>is_weak_pwd<span class="token punctuation">(</span>pwd<span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span>lenOK<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>strongOK<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>interOK<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>weakOK<span class="token punctuation">)</span>
    <span class="token keyword">if</span> lenOK<span class="token punctuation">:</span>
        <span class="token keyword">if</span> strongOK<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"密码的强度为强的！"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> interOK<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"密码的强度为中的！"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> weakOK<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"密码的强度为弱的，建议修改！"</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"密码长度不合格！"</span><span class="token punctuation">)</span>

checkpassword<span class="token punctuation">(</span><span class="token string">"Helloworld#123"</span><span class="token punctuation">)</span>

结果为：

<span class="token boolean">True</span>

<span class="token boolean">True</span>

<span class="token boolean">True</span>

<span class="token boolean">False</span>

密码的强度为强的！

<span class="token number">15</span>、匹配ip的正则表达式<span class="token punctuation">:</span>
<span class="token string">r'^(([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$'</span>

<span class="token comment"># coding:utf-8</span>
<span class="token keyword">import</span> re
s<span class="token operator">=</span><span class="token string">'172.16.23.189'</span>
s1<span class="token operator">=</span><span class="token string">'11.2.123.1'</span>
s2<span class="token operator">=</span><span class="token string">'255.255.255.255'</span>
s2<span class="token operator">=</span><span class="token string">'0.0.0.0'</span>
pattern<span class="token operator">=</span>re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">r'^(([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


</code></pre> 
<pre><code class="prism language-python">
<span class="token keyword">import</span> re

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token triple-quoted-string string">'''
# findall(pattern, string, flags=0)
# 它的返回值是一个匹配到的字符串的列表。这个列表没有group()方法，
# 没有start、end、span，更不是一个匹配对象，仅仅是个列表！没有匹配的就返回空列表


# split(pattern, string, maxsplit=0, flags=0)
# 字符串的split()和re模块的split()都能分割字符串
# maxsplit最大分割次数
# 返回列表，可保留分割字符
'''</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
st<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"[\+\#\$\/]"</span><span class="token punctuation">,</span><span class="token string">"1+2+3+4\3#2313kk/kk"</span><span class="token punctuation">)</span>
sr<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"([\+\#\$\/])"</span><span class="token punctuation">,</span><span class="token string">"1+2+3+4\3#2313kk/kk"</span><span class="token punctuation">)</span> <span class="token comment"># 加上小括号 就可以保存被匹配到的分隔符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span><span class="token string">"\n\n"</span><span class="token punctuation">,</span>sr<span class="token punctuation">)</span>

<span class="token comment"># sub(pattern, repl, string, count=0, flags=0)</span>
<span class="token comment"># 类似于字符串的replace（）方法</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"i"</span><span class="token punctuation">,</span><span class="token string">"I"</span><span class="token punctuation">,</span><span class="token string">"i like u"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 把I替换掉i</span>

<span class="token comment"># "分组引用" 非常强大的功能</span>
origin<span class="token operator">=</span><span class="token string">"hello world  it is your world"</span>
r<span class="token operator">=</span>re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">r"(world)"</span><span class="token punctuation">,</span><span class="token string">r"&lt;em&gt;\1&lt;em&gt;"</span><span class="token punctuation">,</span>origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>

<span class="token comment"># flag匹配模式</span>
<span class="token comment"># re.I 不区分大小写</span>
<span class="token comment"># re.M 多行匹配</span>

st<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"[\+\#\$\/K]"</span><span class="token punctuation">,</span><span class="token string">"1+2+3+4\3#2313kkff/kk"</span><span class="token punctuation">,</span>flags<span class="token operator">=</span>re<span class="token punctuation">.</span>I<span class="token punctuation">)</span>
sr<span class="token operator">=</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">r"([\+\#\$\/K])"</span><span class="token punctuation">,</span><span class="token string">"1+2+3+4\3#2313kk/kk"</span><span class="token punctuation">,</span>flags<span class="token operator">=</span>re<span class="token punctuation">.</span>I<span class="token punctuation">)</span> <span class="token comment"># 加上小括号 就可以保存被匹配到的分隔符</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>st<span class="token punctuation">,</span><span class="token string">"\n\n"</span><span class="token punctuation">,</span>sr<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token triple-quoted-string string">'''re 的分组功能
已经匹配到的内容里面再筛选出需要的内容，相当于二次过滤。
实现分组靠圆括号()，
获取分组的内容靠的是group()、groups()和groupdict()方法， 

'''</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
origin <span class="token operator">=</span> <span class="token string">"hasdfi123123safd"</span>
<span class="token comment"># 不分组时的情况</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">"(h\w+)(?P&lt;id2&gt;\d\w+)"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token comment"># (?P&lt;name&gt;\d)中?P&lt;name&gt;是个正则表达式的特殊语法，表示给这个小组取了个叫“name”的名字，?P&lt;xxxx&gt;是固定写法。</span>
<span class="token comment"># 在匹配的时候是拿整体的表达式去匹配的，而不是拿小组去匹配的。</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>         <span class="token comment"># 获取匹配到的整体结果</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token comment"># 获取模型中匹配到的分组结果元组 （"",""）</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>groupdict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment"># 获取模型中匹配到的分组中所有key的字典 {"name":" "}</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span>

<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token triple-quoted-string string">''' search()方法 分组'''</span>

origin <span class="token operator">=</span> <span class="token string">"sdfi1ha23123safd123"</span>      <span class="token comment"># 注意这里对匹配对象做了下调整</span>
<span class="token comment"># 有分组</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">"h(\w+).*(?P&lt;name&gt;\d)$"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment"># 第几个左括号就是第几个分组，例如（1（2，（3）），（4）），</span>
<span class="token comment"># 0表示表达式本身，不参加数左括号的动作。</span>
<span class="token comment"># 所以根据上面两句话我们可以知道group括号里面的数字代表的是组 和列表中的标识不一样</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>groups<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>groupdict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 


<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span>
origin <span class="token operator">=</span> <span class="token string">"has something have do"</span>
<span class="token comment"># 一个分组  元组组成的列表！</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">"(h(\w+))"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span><span class="token string">"\n"</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">)</span> 

origin <span class="token operator">=</span> <span class="token string">"hasabcd something haveabcd do"</span>
<span class="token comment"># 有分组</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">"h(\w+)"</span><span class="token punctuation">,</span> <span class="token string">"haha"</span><span class="token punctuation">,</span>origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
<span class="token comment"># sub()没有分组的概念！这是因为sub()方法是用正则表达式整体去匹配，然后又整体的去替换，分不分组对它没有意义。这里一定要注意了！不！！他有分组的概念，巧妙利用正则表达式里面的反向应用。</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token operator">*</span><span class="token number">4</span><span class="token punctuation">)</span>
origin <span class="token operator">=</span> <span class="token string">"has abcd something abcd do"</span>
<span class="token comment"># 有一个分组</span>
r <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"(abcd)"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
r2 <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"(a(bc)d)"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r2<span class="token punctuation">)</span>
r3 <span class="token operator">=</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"(a(bc)d)"</span><span class="token punctuation">,</span> origin<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r3<span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a573be1366c681df32f3048d1f410daa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux基础及Linux环境搭建（保姆级别）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b5f94a46e75222ea30d8babf9b8a1c90/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot如何热部署（无需重启即可进行重新编译）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>