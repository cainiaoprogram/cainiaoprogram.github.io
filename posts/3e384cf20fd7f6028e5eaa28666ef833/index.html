<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>springboot学生综合测评系统源码和论文 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="springboot学生综合测评系统源码和论文" />
<meta property="og:description" content="随着信息化时代的到来，管理系统都趋向于智能化、系统化，学生综合测评系统也不例外，但目前国内仍都使用人工管理，学校规模越来越大，同时信息量也越来越庞大，人工管理显然已无法应对时代的变化，而学生综合测评系统能很好地解决这一问题，轻松应对学生综合测评平时的工作，既能提高人力物力财力，又能加快工作的效率，取代人工管理是必然趋势。
本学生综合测评系统以springboot作为框架，b/s模式以及MySql作为后台运行的数据库，同时使用Tomcat用为系统的服务器。本系统主要包括首页，个人中心，学生管理，试题信息管理，测评试题管理，管理员管理，综合测评管理，系统管理，综合考试管理等功能，通过这些功能的实现基本能够满足日常学生综合测评管理的操作。
本文着重阐述了学生综合测评系统的分析、设计与实现，首先介绍开发系统和环境配置、数据库的设计，接着说明功能模块的详细实现，最后进行了总结。
关键词：学生综合测评系统; springboot;MySql数据库;Tomcat;
springboot学生综合测评系统源码和论文308
Abstract
With the coming of information era, all tend to be intelligent, systematic management system, students&#39; comprehensive evaluation system is no exception, but at present domestic still use manual management, school size bigger and bigger, at the same time, the amount of information is becoming more and more big, the artificial management has clearly unable to cope with the changes of The Times, and the students&#39; comprehensive evaluation system can well solve the problem, It can not only improve human and material resources and financial resources, but also speed up the efficiency of work." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3e384cf20fd7f6028e5eaa28666ef833/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T22:38:42+08:00" />
<meta property="article:modified_time" content="2024-01-09T22:38:42+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">springboot学生综合测评系统源码和论文</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<p></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">随着信息化时代的到来，管理系统都趋向于智能化、系统化，学生综合测评系统也不例外，但目前国内仍都使用人工管理，学校规模越来越大，同时信息量也越来越庞大，人工管理显然已无法应对时代的变化，而学生综合测评系统能很好地解决这一问题，轻松应对学生综合测评平时的工作，既能提高人力物力财力，又能加快工作的效率，取代人工管理是必然趋势。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">本学生综合测评系统以</span>springboot<span style="color:#000000;">作为框架，b/s模式以及MySql作为后台运行的数据库，同时使用Tomcat用为系统的服务器。本系统主要包括</span>首页，个人中心，学生管理，试题信息管理，测评试题管理，管理员管理，综合测评管理，系统管理，综合考试管理<span style="color:#000000;">等功能，通过这些功能的实现基本能够满足日常学生综合测评管理的操作。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">本文着重阐述了学生综合测评系统的分析、设计与实现，<span style="color:#000000;">首先介绍开发系统和环境配置、数据库的设计，接着说明功能模块的详细实现，最后进行了总结。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><strong>关键词：</strong></strong>学生综合测评系统; springboot;MySql数据库;Tomcat;</p> 
<p style="margin-left:.0001pt;text-align:justify;">springboot学生综合测评系统源码和论文308</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="797" src="https://images2.imgbox.com/4d/0e/0PGVtsrz_o.png" width="989"></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="text-align:center;"><br><span style="color:#000000;">Abstract</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">With the coming of information era, all tend to be intelligent, systematic management system, students' comprehensive evaluation system is no exception, but at present domestic still use manual management, school size bigger and bigger, at the same time, the amount of information is becoming more and more big, the artificial management has clearly unable to cope with the changes of The Times, and the students' comprehensive evaluation system can well solve the problem, It can not only improve human and material resources and financial resources, but also speed up the efficiency of work. It is an inevitable trend to replace manual management.</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">The student comprehensive evaluation system uses Springboot as the framework, B/S mode and MySql as the background database, and Tomcat as the server of the system. This system mainly includes home page, personal center, student management, test information management, assessment test management, administrator management, comprehensive assessment management, system management, comprehensive examination management and other functions, through the realization of these functions can basically meet the daily operation of comprehensive assessment management of students.</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">This paper focuses on the analysis, design and implementation of the student comprehensive evaluation system. First, it introduces the development system and environment configuration, the design of the database, and then explains the detailed implementation of the functional modules. Finally, it summarizes.</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="color:#000000;">Key words: </span></strong><span style="color:#000000;">Student comprehensive assessment system; springboot; MySql database; Tomcat;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"></p> 
<p style="margin-left:.0001pt;text-align:center;"></p> 
<p style="margin-left:.0001pt;text-align:center;"></p> 
<p><img alt="" height="936" src="https://images2.imgbox.com/6c/31/gyT2Iaol_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/49/5d/2wIkHFU7_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/ab/6b/P40EvEpE_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/c4/2f/asX4sXak_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/1a/33/wN9zLGLd_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/f2/ed/nkXok9PW_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/25/d3/VBiMMapl_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/5d/93/yEyao9Zp_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/cf/dc/9CeqB7jO_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/df/fc/FQe2fSM1_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/0f/c7/KpAeF45h_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/31/55/TWwRyohg_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/31/57/zZqhRlcr_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/65/58/eedaIzPO_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/d4/46/555hkcOD_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/c5/93/2jLA7dyn_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/df/0c/pIVJ37vN_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/83/9e/JGshoFVk_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/01/d8/GFFjjBl4_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/72/b4/WCWqrrxy_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/1b/e1/K6TEZzRm_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/13/f9/y34rt2dg_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/6c/d4/mNoVnFn7_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/0e/d0/IYjtwXzn_o.jpg" width="1200"><img alt="" height="936" src="https://images2.imgbox.com/60/c3/fkpdBe5Q_o.jpg" width="1200"></p> 
<p></p> 
<pre><code>package com.controller;

import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.Map;
import java.util.HashMap;
import java.util.Iterator;
import java.util.Date;
import java.util.List;
import javax.servlet.http.HttpServletRequest;

import com.utils.ValidatorUtils;
import org.apache.commons.lang3.StringUtils;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.format.annotation.DateTimeFormat;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import com.baomidou.mybatisplus.mapper.EntityWrapper;
import com.baomidou.mybatisplus.mapper.Wrapper;
import com.annotation.IgnoreAuth;

import com.entity.XueshengEntity;
import com.entity.view.XueshengView;

import com.service.XueshengService;
import com.service.TokenService;
import com.utils.PageUtils;
import com.utils.R;
import com.utils.MD5Util;
import com.utils.MPUtil;
import com.utils.CommonUtil;
import java.io.IOException;

/**
 * 学生
 * 后端接口
 * @author 
 * @email 
 * @date 2022-03-21 20:23:26
 */
@RestController
@RequestMapping("/xuesheng")
public class XueshengController {
    @Autowired
    private XueshengService xueshengService;


    
	@Autowired
	private TokenService tokenService;
	
	/**
	 * 登录
	 */
	@IgnoreAuth
	@RequestMapping(value = "/login")
	public R login(String username, String password, String captcha, HttpServletRequest request) {
		XueshengEntity user = xueshengService.selectOne(new EntityWrapper&lt;XueshengEntity&gt;().eq("xuehao", username));
		if(user==null || !user.getMima().equals(password)) {
			return R.error("账号或密码不正确");
		}
		
		String token = tokenService.generateToken(user.getId(), username,"xuesheng",  "学生" );
		return R.ok().put("token", token);
	}
	
	/**
     * 注册
     */
	@IgnoreAuth
    @RequestMapping("/register")
    public R register(@RequestBody XueshengEntity xuesheng){
    	//ValidatorUtils.validateEntity(xuesheng);
    	XueshengEntity user = xueshengService.selectOne(new EntityWrapper&lt;XueshengEntity&gt;().eq("xuehao", xuesheng.getXuehao()));
		if(user!=null) {
			return R.error("注册用户已存在");
		}
		Long uId = new Date().getTime();
		xuesheng.setId(uId);
        xueshengService.insert(xuesheng);
        return R.ok();
    }

	
	/**
	 * 退出
	 */
	@RequestMapping("/logout")
	public R logout(HttpServletRequest request) {
		request.getSession().invalidate();
		return R.ok("退出成功");
	}
	
	/**
     * 获取用户的session用户信息
     */
    @RequestMapping("/session")
    public R getCurrUser(HttpServletRequest request){
    	Long id = (Long)request.getSession().getAttribute("userId");
        XueshengEntity user = xueshengService.selectById(id);
        return R.ok().put("data", user);
    }
    
    /**
     * 密码重置
     */
    @IgnoreAuth
	@RequestMapping(value = "/resetPass")
    public R resetPass(String username, HttpServletRequest request){
    	XueshengEntity user = xueshengService.selectOne(new EntityWrapper&lt;XueshengEntity&gt;().eq("xuehao", username));
    	if(user==null) {
    		return R.error("账号不存在");
    	}
        user.setMima("123456");
        xueshengService.updateById(user);
        return R.ok("密码已重置为：123456");
    }


    /**
     * 后端列表
     */
    @RequestMapping("/page")
    public R page(@RequestParam Map&lt;String, Object&gt; params,XueshengEntity xuesheng,
		HttpServletRequest request){
        EntityWrapper&lt;XueshengEntity&gt; ew = new EntityWrapper&lt;XueshengEntity&gt;();
		PageUtils page = xueshengService.queryPage(params, MPUtil.sort(MPUtil.between(MPUtil.likeOrEq(ew, xuesheng), params), params));

        return R.ok().put("data", page);
    }
    
    /**
     * 前端列表
     */
	@IgnoreAuth
    @RequestMapping("/list")
    public R list(@RequestParam Map&lt;String, Object&gt; params,XueshengEntity xuesheng, 
		HttpServletRequest request){
        EntityWrapper&lt;XueshengEntity&gt; ew = new EntityWrapper&lt;XueshengEntity&gt;();
		PageUtils page = xueshengService.queryPage(params, MPUtil.sort(MPUtil.between(MPUtil.likeOrEq(ew, xuesheng), params), params));
        return R.ok().put("data", page);
    }

	/**
     * 列表
     */
    @RequestMapping("/lists")
    public R list( XueshengEntity xuesheng){
       	EntityWrapper&lt;XueshengEntity&gt; ew = new EntityWrapper&lt;XueshengEntity&gt;();
      	ew.allEq(MPUtil.allEQMapPre( xuesheng, "xuesheng")); 
        return R.ok().put("data", xueshengService.selectListView(ew));
    }

	 /**
     * 查询
     */
    @RequestMapping("/query")
    public R query(XueshengEntity xuesheng){
        EntityWrapper&lt; XueshengEntity&gt; ew = new EntityWrapper&lt; XueshengEntity&gt;();
 		ew.allEq(MPUtil.allEQMapPre( xuesheng, "xuesheng")); 
		XueshengView xueshengView =  xueshengService.selectView(ew);
		return R.ok("查询学生成功").put("data", xueshengView);
    }
	
    /**
     * 后端详情
     */
    @RequestMapping("/info/{id}")
    public R info(@PathVariable("id") Long id){
        XueshengEntity xuesheng = xueshengService.selectById(id);
        return R.ok().put("data", xuesheng);
    }

    /**
     * 前端详情
     */
	@IgnoreAuth
    @RequestMapping("/detail/{id}")
    public R detail(@PathVariable("id") Long id){
        XueshengEntity xuesheng = xueshengService.selectById(id);
        return R.ok().put("data", xuesheng);
    }
    



    /**
     * 后端保存
     */
    @RequestMapping("/save")
    public R save(@RequestBody XueshengEntity xuesheng, HttpServletRequest request){
    	xuesheng.setId(new Date().getTime()+new Double(Math.floor(Math.random()*1000)).longValue());
    	//ValidatorUtils.validateEntity(xuesheng);
    	XueshengEntity user = xueshengService.selectOne(new EntityWrapper&lt;XueshengEntity&gt;().eq("xuehao", xuesheng.getXuehao()));
		if(user!=null) {
			return R.error("用户已存在");
		}
		xuesheng.setId(new Date().getTime());
        xueshengService.insert(xuesheng);
        return R.ok();
    }
    
    /**
     * 前端保存
     */
    @RequestMapping("/add")
    public R add(@RequestBody XueshengEntity xuesheng, HttpServletRequest request){
    	xuesheng.setId(new Date().getTime()+new Double(Math.floor(Math.random()*1000)).longValue());
    	//ValidatorUtils.validateEntity(xuesheng);
    	XueshengEntity user = xueshengService.selectOne(new EntityWrapper&lt;XueshengEntity&gt;().eq("xuehao", xuesheng.getXuehao()));
		if(user!=null) {
			return R.error("用户已存在");
		}
		xuesheng.setId(new Date().getTime());
        xueshengService.insert(xuesheng);
        return R.ok();
    }

    /**
     * 修改
     */
    @RequestMapping("/update")
    public R update(@RequestBody XueshengEntity xuesheng, HttpServletRequest request){
        //ValidatorUtils.validateEntity(xuesheng);
        xueshengService.updateById(xuesheng);//全部更新
        return R.ok();
    }
    

    /**
     * 删除
     */
    @RequestMapping("/delete")
    public R delete(@RequestBody Long[] ids){
        xueshengService.deleteBatchIds(Arrays.asList(ids));
        return R.ok();
    }
    
    /**
     * 提醒接口
     */
	@RequestMapping("/remind/{columnName}/{type}")
	public R remindCount(@PathVariable("columnName") String columnName, HttpServletRequest request, 
						 @PathVariable("type") String type,@RequestParam Map&lt;String, Object&gt; map) {
		map.put("column", columnName);
		map.put("type", type);
		
		if(type.equals("2")) {
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
			Calendar c = Calendar.getInstance();
			Date remindStartDate = null;
			Date remindEndDate = null;
			if(map.get("remindstart")!=null) {
				Integer remindStart = Integer.parseInt(map.get("remindstart").toString());
				c.setTime(new Date()); 
				c.add(Calendar.DAY_OF_MONTH,remindStart);
				remindStartDate = c.getTime();
				map.put("remindstart", sdf.format(remindStartDate));
			}
			if(map.get("remindend")!=null) {
				Integer remindEnd = Integer.parseInt(map.get("remindend").toString());
				c.setTime(new Date());
				c.add(Calendar.DAY_OF_MONTH,remindEnd);
				remindEndDate = c.getTime();
				map.put("remindend", sdf.format(remindEndDate));
			}
		}
		
		Wrapper&lt;XueshengEntity&gt; wrapper = new EntityWrapper&lt;XueshengEntity&gt;();
		if(map.get("remindstart")!=null) {
			wrapper.ge(columnName, map.get("remindstart"));
		}
		if(map.get("remindend")!=null) {
			wrapper.le(columnName, map.get("remindend"));
		}


		int count = xueshengService.selectCount(wrapper);
		return R.ok().put("count", count);
	}
	







}
</code></pre> 
<pre><code>package com.controller;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.apache.commons.lang3.StringUtils;
import org.json.JSONObject;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.util.ResourceUtils;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;

import com.annotation.IgnoreAuth;
import com.baidu.aip.face.AipFace;
import com.baidu.aip.face.MatchRequest;
import com.baidu.aip.util.Base64Util;
import com.baomidou.mybatisplus.mapper.EntityWrapper;
import com.entity.ConfigEntity;
import com.service.CommonService;
import com.service.ConfigService;
import com.utils.BaiduUtil;
import com.utils.FileUtil;
import com.utils.R;
/**
 * 通用接口
 */
@RestController
public class CommonController{
	@Autowired
	private CommonService commonService;

    private static AipFace client = null;
    
    @Autowired
    private ConfigService configService;    
	/**
	 * 获取table表中的column列表(联动接口)
	 * @param table
	 * @param column
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/option/{tableName}/{columnName}")
	public R getOption(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName,String level,String parent) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		if(StringUtils.isNotBlank(level)) {
			params.put("level", level);
		}
		if(StringUtils.isNotBlank(parent)) {
			params.put("parent", parent);
		}
		List&lt;String&gt; data = commonService.getOption(params);
		return R.ok().put("data", data);
	}
	
	/**
	 * 根据table中的column获取单条记录
	 * @param table
	 * @param column
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/follow/{tableName}/{columnName}")
	public R getFollowByOption(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName, @RequestParam String columnValue) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		params.put("columnValue", columnValue);
		Map&lt;String, Object&gt; result = commonService.getFollowByOption(params);
		return R.ok().put("data", result);
	}
	
	/**
	 * 修改table表的sfsh状态
	 * @param table
	 * @param map
	 * @return
	 */
	@RequestMapping("/sh/{tableName}")
	public R sh(@PathVariable("tableName") String tableName, @RequestBody Map&lt;String, Object&gt; map) {
		map.put("table", tableName);
		commonService.sh(map);
		return R.ok();
	}
	
	/**
	 * 获取需要提醒的记录数
	 * @param tableName
	 * @param columnName
	 * @param type 1:数字 2:日期
	 * @param map
	 * @return
	 */
	@IgnoreAuth
	@RequestMapping("/remind/{tableName}/{columnName}/{type}")
	public R remindCount(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName, 
						 @PathVariable("type") String type,@RequestParam Map&lt;String, Object&gt; map) {
		map.put("table", tableName);
		map.put("column", columnName);
		map.put("type", type);
		
		if(type.equals("2")) {
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
			Calendar c = Calendar.getInstance();
			Date remindStartDate = null;
			Date remindEndDate = null;
			if(map.get("remindstart")!=null) {
				Integer remindStart = Integer.parseInt(map.get("remindstart").toString());
				c.setTime(new Date()); 
				c.add(Calendar.DAY_OF_MONTH,remindStart);
				remindStartDate = c.getTime();
				map.put("remindstart", sdf.format(remindStartDate));
			}
			if(map.get("remindend")!=null) {
				Integer remindEnd = Integer.parseInt(map.get("remindend").toString());
				c.setTime(new Date());
				c.add(Calendar.DAY_OF_MONTH,remindEnd);
				remindEndDate = c.getTime();
				map.put("remindend", sdf.format(remindEndDate));
			}
		}
		
		int count = commonService.remindCount(map);
		return R.ok().put("count", count);
	}
	
	/**
	 * 单列求和
	 */
	@IgnoreAuth
	@RequestMapping("/cal/{tableName}/{columnName}")
	public R cal(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		Map&lt;String, Object&gt; result = commonService.selectCal(params);
		return R.ok().put("data", result);
	}
	
	/**
	 * 分组统计
	 */
	@IgnoreAuth
	@RequestMapping("/group/{tableName}/{columnName}")
	public R group(@PathVariable("tableName") String tableName, @PathVariable("columnName") String columnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("column", columnName);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectGroup(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}
	
	/**
	 * （按值统计）
	 */
	@IgnoreAuth
	@RequestMapping("/value/{tableName}/{xColumnName}/{yColumnName}")
	public R value(@PathVariable("tableName") String tableName, @PathVariable("yColumnName") String yColumnName, @PathVariable("xColumnName") String xColumnName) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("xColumn", xColumnName);
		params.put("yColumn", yColumnName);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectValue(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}

	/**
 	 * （按值统计）时间统计类型
	 */
	@IgnoreAuth
	@RequestMapping("/value/{tableName}/{xColumnName}/{yColumnName}/{timeStatType}")
	public R valueDay(@PathVariable("tableName") String tableName, @PathVariable("yColumnName") String yColumnName, @PathVariable("xColumnName") String xColumnName, @PathVariable("timeStatType") String timeStatType) {
		Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();
		params.put("table", tableName);
		params.put("xColumn", xColumnName);
		params.put("yColumn", yColumnName);
		params.put("timeStatType", timeStatType);
		List&lt;Map&lt;String, Object&gt;&gt; result = commonService.selectTimeStatValue(params);
		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
		for(Map&lt;String, Object&gt; m : result) {
			for(String k : m.keySet()) {
				if(m.get(k) instanceof Date) {
					m.put(k, sdf.format((Date)m.get(k)));
				}
			}
		}
		return R.ok().put("data", result);
	}
	
    /**
     * 人脸比对
     * 
     * @param face1 人脸1
     * @param face2 人脸2
     * @return
     */
    @RequestMapping("/matchFace")
    @IgnoreAuth
    public R matchFace(String face1, String face2,HttpServletRequest request) {
        if(client==null) {
            /*String AppID = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "AppID")).getValue();*/
            String APIKey = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "APIKey")).getValue();
            String SecretKey = configService.selectOne(new EntityWrapper&lt;ConfigEntity&gt;().eq("name", "SecretKey")).getValue();
            String token = BaiduUtil.getAuth(APIKey, SecretKey);
            if(token==null) {
                return R.error("请在配置管理中正确配置APIKey和SecretKey");
            }
            client = new AipFace(null, APIKey, SecretKey);
            client.setConnectionTimeoutInMillis(2000);
            client.setSocketTimeoutInMillis(60000);
        }
        JSONObject res = null;
        try {
            File path = new File(ResourceUtils.getURL("classpath:static").getPath());
            if(!path.exists()) {
                path = new File("");
            }
            File upload = new File(path.getAbsolutePath(),"/upload/");
            File file1 = new File(upload.getAbsolutePath()+"/"+face1);
            File file2 = new File(upload.getAbsolutePath()+"/"+face2);
            String img1 = Base64Util.encode(FileUtil.FileToByte(file1));
            String img2 = Base64Util.encode(FileUtil.FileToByte(file2));
            MatchRequest req1 = new MatchRequest(img1, "BASE64");
            MatchRequest req2 = new MatchRequest(img2, "BASE64");
            ArrayList&lt;MatchRequest&gt; requests = new ArrayList&lt;MatchRequest&gt;();
            requests.add(req1);
            requests.add(req2);
            res = client.match(requests);
            System.out.println(res.get("result"));
        } catch (FileNotFoundException e) {
            e.printStackTrace();
            return R.error("文件不存在");
        } catch (IOException e) {
            e.printStackTrace();
        } 
        return R.ok().put("score", com.alibaba.fastjson.JSONObject.parse(res.getJSONObject("result").get("score").toString()));
    }
}
</code></pre> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2d92549415852f7e4f0fdc953760e2f9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【python】os模块使用操作</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9692f0d2a548d50d1af831c5fafe8d89/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">C语言-函数指针，指针与函数传参</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>