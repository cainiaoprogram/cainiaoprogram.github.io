<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Vue使用高德地图搜索功能 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Vue使用高德地图搜索功能" />
<meta property="og:description" content="下载依赖
yarn add @amap/amap-jsapi-loader 2、初始化高德地图 设置key和秘钥
&lt;template&gt; &lt;div class=&#34;page-box&#34;&gt; &lt;el-input id=&#34;mapInput&#34; type=&#34;text&#34; value=&#34;请输入关键字：(选定后搜索)&#34; onfocus=&#39;this.value=&#34;&#34;&#39; placeholder=&#34;请输入活动地址&#34; /&gt; &lt;!-- 百度地图 --&gt; &lt;div id=&#34;bai-du-map&#34;&gt; &lt;!-- 技术支持和联系方式 --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import AMapLoader from &#34;@amap/amap-jsapi-loader&#34;; // 设置安全密钥 window._AMapSecurityConfig = { securityJsCode: &#39;01749f31f7a3a451c2e1xxxxxxx&#39;, } export default { data() { return { map: null, mouseTool: null, overlays: [], auto: null, placeSearch: null, }; }, created() { this.initMap() }, methods: { initMap() { AMapLoader.load({ &#34;key&#34;: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d137461e261c862c0eea60583e332045/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-23T14:50:26+08:00" />
<meta property="article:modified_time" content="2023-02-23T14:50:26+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Vue使用高德地图搜索功能</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><p>下载依赖</p></li></ol> 
 <pre class="kdocs-javascript"><code class="language-javascript">yarn add @amap/amap-jsapi-loader</code></pre> 
 <p style="">2、初始化高德地图 设置key和秘钥</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">&lt;template&gt;
    &lt;div class="page-box"&gt;
        &lt;el-input id="mapInput" type="text" value="请输入关键字：(选定后搜索)" onfocus='this.value=""' placeholder="请输入活动地址" /&gt;
        &lt;!-- 百度地图  --&gt;
        &lt;div id="bai-du-map"&gt;
            &lt;!-- 技术支持和联系方式  --&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import AMapLoader from "@amap/amap-jsapi-loader";
    // 设置安全密钥
    window._AMapSecurityConfig = {
        securityJsCode: '01749f31f7a3a451c2e1xxxxxxx',
    }
    export default {
        data() {
            return {
                map: null,
                mouseTool: null,
                overlays: [],
                auto: null,
                placeSearch: null,
            };
        },
        created() {
            this.initMap()
        },
        methods: {
            initMap() {
                AMapLoader.load({
                    "key": "3748e65db671fcc6eb43d3bbxxxx",
                    "version": "2.0",   // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
                    "plugins": [] // 插件
                }).then((AMap) =&gt; {
                    console.log(1)
                    // 初始化地图
                    this.map = new AMap.Map('bai-du-map', {
                        viewMode: "2D",  //  是否为3D地图模式
                        zoom: 13,   // 初始化地图级别
                        center: [113.65553, 34.748764], //中心点坐标  郑州
                        resizeEnable: true
                    });
                }).catch(e =&gt; {
                    console.log(e);
                });
            },
        },
    };
&lt;/script&gt;

&lt;style scoped&gt;
    #bai-du-map {
        overflow: hidden;
        width: 400px;
        height: 300px;
        margin: 0;
        font-family: "微软雅黑";
        position: absolute;
        right: 35%;
        top: 40%;
    }
&lt;/style&gt;

&lt;style scoped lang="less"&gt;
    /* 隐藏高德logo  */
    .amap-logo {
        display: none !important;
    }

    /* 隐藏高德版权  */
    .amap-copyright {
        display: none !important;
    }
&lt;/style&gt;</code></pre> 
 <p style="text-indent:1.4em;padding-left:1.4em;">这样就能渲染出地图来了</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:431px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:73.085846%;height:0;"> 
    <img src="https://images2.imgbox.com/01/9e/JZnu4QXA_o.png" style="margin-left:;display:block;width:431px;margin-top:-73.085846%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="">3、使用高德地图API插件 实现搜索定位功能</p> 
 <pre class="kdocs-javascript"><code class="language-javascript">&lt;template&gt;
    &lt;div class="page-box"&gt;
        &lt;el-input id="mapInput" type="text" value="请输入关键字：(选定后搜索)" onfocus='this.value=""' placeholder="请输入活动地址" /&gt;
        &lt;!-- 百度地图  --&gt;
        &lt;div id="bai-du-map"&gt;
            &lt;!-- 技术支持和联系方式  --&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    import AMapLoader from "@amap/amap-jsapi-loader";
    // 设置安全密钥
    window._AMapSecurityConfig = {
        securityJsCode: '01749f31f7a3a451c2e1cxxxxxxx',
    }
    export default {
        data() {
            return {
                map: null,
                mouseTool: null,
                overlays: [],
                auto: null,
                placeSearch: null,
            };
        },
        created() {
            this.initMap()
        },
        methods: {
            initMap() {
                AMapLoader.load({
                    "key": "3748e65db671fcc6eb43d3bbxxxxxxx",
                    "version": "2.0",   // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15
                    "plugins": ['AMap.AutoComplete', 'AMap.PlaceSearch'],//这里一定要注意 驼峰式 我没注意这块 找问题浪费了很多时间
                }).then((AMap) =&gt; {
                    // 初始化地图
                    this.map = new AMap.Map('bai-du-map', {
                        viewMode: "2D",  //  是否为3D地图模式
                        zoom: 13,   // 初始化地图级别
                        center: [113.65553, 34.748764], //中心点坐标  郑州
                        resizeEnable: true
                    });
                    var autoOptions = {
                        // 城市，默认全国 
                        // city: "北京",
                        // 使用联想输入的input的id
                        input: "mapInput"
                    }
                    this.auto = new AMap.AutoComplete(autoOptions);
                    this.placeSearch = new AMap.PlaceSearch({
                        map: this.map,
                        // panel: "panel", // 结果列表将在此容器中进行展示。
                        // city: "010", // 兴趣点城市
                        autoFitView: true, // 是否自动调整地图视野使绘制的 Marker点都处于视口的可见范围
                        extensions: 'base' //返回基本地址信息
                    });
                    this.auto.on("select", this.select);//注册监听，当选中某条记录时会触发

                }).catch(e =&gt; {
                    console.log(e);
                });
            },
            select(e) {
                this.placeSearch.setCity(e.poi.adcode);
                this.placeSearch.search(e.poi.name);  //关键字查询查询
            }

        },
    };
&lt;/script&gt;

&lt;style scoped&gt;
    #bai-du-map {
        overflow: hidden;
        width: 400px;
        height: 300px;
        margin: 0;
        font-family: "微软雅黑";
        position: absolute;
        right: 35%;
        top: 40%;
    }
&lt;/style&gt;

&lt;style scoped lang="less"&gt;
    /* 隐藏高德logo  */
    .amap-logo {
        display: none !important;
    }

    /* 隐藏高德版权  */
    .amap-copyright {
        display: none !important;
    }
&lt;/style&gt;</code></pre> 
 <p style=""> 最后就大功告成了 </p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1323px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:42.479214%;height:0;"> 
    <img src="https://images2.imgbox.com/dd/85/uzwSUg5o_o.png" style="margin-left:;display:block;width:1323px;margin-top:-42.479214%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""></p> 
</div>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d4f6acb0db73bda7bafc711f11a0587/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">高级信息系统项目管理师（高项）高分通过经验分享</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/427e7e2e406c13feb7f21a11341c60e5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">springboot配置ssl</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>