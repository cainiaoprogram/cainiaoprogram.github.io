<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>本地播放哔哩哔哩弹幕&#43;视频 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="本地播放哔哩哔哩弹幕&#43;视频" />
<meta property="og:description" content="本地播放哔哩哔哩弹幕&#43;视频 1.打开你喜欢或者收藏的视频播放页面2.下载视频方法1：一劳永逸的下载工具： IDM方法2：利用浏览器插件的嗅探[^1]工具（不太推荐，感兴趣的可以百度学习一下）方法3：这还用说......哔哩哔哩有pc版的方法4：在线链接下载 3.下载弹幕！方法1：Crawler（爪巴 虫）方法2：当然是直接右键另存为。。 4.视频音频弹幕组合播放最后在本地就可以做到和在线看一样的效果啦！Nice！愉快地看视频吧！！ 1.打开你喜欢或者收藏的视频播放页面 首先我们在哔哩哔哩寻找喜欢的视频，这里以君名与哔哩哔哩排行榜#513的视频为例。
2.下载视频 方法1：一劳永逸的下载工具： IDM 注：IDM是目前主流的下载工具之一，可在IDM官网下载（付费使用），也可自行百度，此处不详细介绍其安装配置过程，实在找不到可以去IDM贴吧或者私信我。
我们可以看到在这里显示了5个文件，一般来说第1个文件为当前画质视频文件（无音频），第2、3个文件为音频文件（选择其中一个下载即可），其余文件可忽略，不用担心下载的视频文件无声的问题（后面会说到，额，不会让你们看哑剧的。。）
方法2：利用浏览器插件的嗅探1工具（不太推荐，感兴趣的可以百度学习一下） 嗅探器的原理即是获取网络上流经的数据包。这将带来较之令人难受的困难：
当需要的数据很大时，嗅探器一时间无法接收完所有数据包，导致页面必须一直处于开启状态（嗅探时若中途退出则嗅探将终止，毕竟算是抓包，网页都关了抓个捶捶）。由于在不同网页得到的数据包类型太多，导致不易直接批量下载（虽然可以过滤类型名，但是直接下不是更快乐？）对于视频文件是一个整体的还好说，但如果是被分成了很多片的视频呢？
答案是：你将会得到一堆可能有序可能无序的.mp4或者.ts文件，你还要费心思把文件拼起来？那可能还要下一个拼接软件，或者学习写一段代码，我想没有人下个视频工作量这么大。。 方法3：这还用说…哔哩哔哩有pc版的 找到Windows自带的Microsoft Store，搜索哔哩哔哩下载第一个即可。
然后就可以选择自己喜欢的视频进行下载了。
方法4：在线链接下载 哔哩哔哩唧唧 或者在bilibili.com的.com前加jj =&gt; bilibilijj.com即可。
硕鼠下载 复制哔站视频链接致硕鼠即可（好像硕鼠更新了，要下载客户端或者下一个其他程序才能提供哔站视频下载）
确保上述无误，那么这时候我们拿到如下视频啦！（此处使用IDM）：
3.下载弹幕！ 以哔哩哔哩排行榜#513视频为例。
首先我们需要知道将获取的视频的cid的，注意不是aid。
1. 使用f12打开开发者工具—&gt;Network
2.加载视频（开始播放）在Network中找到heartbeat并点击
3. 点击heartbeat—&gt;Headers—&gt;Form Data—&gt;cid，找到cid为180279063
4. 跳转弹幕xml页面：https://comment.bilibili.com/&#43;cid&#43;.xml，此处为：https://comment.bilibili.com/180279063.xml
5.下面开始获取弹幕！
方法1：Crawler（爪巴 虫） 注：爬虫虽好，但且注意版权问题以及不要爬取国家网站，否则将会涉嫌犯法！
在xml界面按f12得到如下结构：
图像可以看出该页面的结构单一(//div[@id=“webkit-xml-viewer-source-xml”])，且只需获取i标签的内容即可（get_elements_by_tag_name()），此处爪巴虫代码不再赘述。
方法2：当然是直接右键另存为。。 弹幕.xml文件GET!
4.视频音频弹幕组合播放 虽说我们由步骤3得到了弹幕.xml文件，但是xml文件是不可以在播放视频时自动加载的！但视频可以加载字幕，于是我们想到将其转为字幕文件。
1. 使用xml转字幕软件Danmu2Ass1.1将其转换为字幕.ass文件。
2. 下载完成解压安装后，可以在快捷栏-&gt;发送到…-&gt;转换为ASS字幕文件将其转换为ASS。
3. 转换完成后需重命名并移动至视频文件夹以让视频自动匹配字幕，音频也是同样的道理，重命名为相同名字后视频会自动匹配。
最后在本地就可以做到和在线看一样的效果啦！Nice！ 我用MPC-HC(x64)打开的，因其兼容性比较好
愉快地看视频吧！！ @date: 2020.4.21
@author: zkinglin
（完）
嗅探-百度百科 ↩︎" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/12c94038e8aea4a67ffe55e2a38e0386/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-04-21T01:06:56+08:00" />
<meta property="article:modified_time" content="2020-04-21T01:06:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">本地播放哔哩哔哩弹幕&#43;视频</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>本地播放哔哩哔哩弹幕+视频</h4> 
 <ul><li><a href="#1_2" rel="nofollow">1.打开你喜欢或者收藏的视频播放页面</a></li><li><a href="#2_10" rel="nofollow">2.下载视频</a></li><li><ul><li><a href="#1_IDM_11" rel="nofollow">方法1：一劳永逸的下载工具： IDM</a></li><li><a href="#21_16" rel="nofollow">方法2：利用浏览器插件的嗅探[^1]工具（不太推荐，感兴趣的可以百度学习一下）</a></li><li><a href="#3pc_25" rel="nofollow">方法3：这还用说......哔哩哔哩有pc版的</a></li><li><a href="#4_32" rel="nofollow">方法4：在线链接下载</a></li></ul> 
  </li><li><a href="#3_40" rel="nofollow">3.下载弹幕！</a></li><li><ul><li><a href="#1Crawler__52" rel="nofollow">方法1：Crawler（爪巴 虫）</a></li><li><a href="#2_57" rel="nofollow">方法2：当然是直接右键另存为。。</a></li></ul> 
  </li><li><a href="#4_61" rel="nofollow">4.视频音频弹幕组合播放</a></li><li><a href="#Nice_70" rel="nofollow">最后在本地就可以做到和在线看一样的效果啦！Nice！</a></li><li><ul><li><a href="#_73" rel="nofollow">愉快地看视频吧！！</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="1_2"></a>1.打开你喜欢或者收藏的视频播放页面</h2> 
<p>首先我们在<a href="https://www.bilibili.com" rel="nofollow">哔哩哔哩</a>寻找喜欢的视频，这里以<a href="https://www.bilibili.com/bangumi/play/ep118250?theme=movie" rel="nofollow">君名</a>与<a href="https://www.bilibili.com/video/BV1QK4y1r7KN?spm_id_from=333.851.b_7265706f7274466972737432.10" rel="nofollow">哔哩哔哩排行榜#513</a>的视频为例。<br> <img src="https://images2.imgbox.com/cc/0e/DQCGmYiN_o.png" alt="你的名字哔站电影页面"><br> <img src="https://images2.imgbox.com/fb/da/sXFq5tvK_o.png" alt="在这里插入图片描述"><br> <br> </p> 
<h2><a id="2_10"></a>2.下载视频</h2> 
<h3><a id="1_IDM_11"></a>方法1：一劳永逸的下载工具： IDM</h3> 
<p>注：IDM是目前主流的下载工具之一，可在<a href="http://www.internetdownloadmanager.com/" rel="nofollow">IDM官网</a>下载（付费使用），也可自行百度，此处不详细介绍其安装配置过程，实在找不到可以去<a href="https://tieba.baidu.com/f?kw=idm&amp;fr=ala0&amp;tpl=5" rel="nofollow">IDM贴吧</a>或者私信我。<br> <img src="https://images2.imgbox.com/09/03/d7AMcW3Q_o.png" alt="君名IDM"><br> 我们可以看到在这里显示了<strong>5个文件</strong>，<mark>一般来说第<strong>1</strong>个文件为当前画质视频文件（<strong>无音频</strong>），第<strong>2、3</strong>个文件为音频文件（<strong>选择其中一个下载即可</strong>），其余文件可忽略，不用担心下载的视频文件无声的问题</mark>（<em>后面会说到</em>，额，不会让你们看哑剧的。。）</p> 
<h3><a id="21_16"></a>方法2：利用浏览器插件的嗅探<sup class="footnote-ref"><a href="#fn1" rel="nofollow" id="fnref1">1</a></sup>工具（不太推荐，感兴趣的可以百度学习一下）</h3> 
<p>嗅探器的原理即是获取网络上流经的数据包。这将带来较之令人难受的困难：</p> 
<ol><li><strong>当需要的数据很大时，嗅探器一时间无法接收完所有数据包，导致页面必须一直处于开启状态（嗅探时若中途退出则嗅探将终止，毕竟算是抓包，网页都关了抓个捶捶）。</strong></li><li><strong>由于在不同网页得到的数据包类型太多，导致不易直接批量下载（虽然可以过滤类型名，但是直接下不是更快乐？）</strong></li><li><strong>对于视频文件是一个整体的还好说，但如果是被分成了很多片的视频呢？</strong><br> <img src="https://images2.imgbox.com/61/8e/eCzUR57Z_o.png" alt="在这里插入图片描述"><br> <mark>答案是：你将会得到一堆可能有序可能无序的.mp4或者.ts文件，你还要费心思把文件拼起来？那可能还要下一个拼接软件，或者学习写一段代码，我想没有人下个视频工作量这么大。。</mark></li></ol> 
<h3><a id="3pc_25"></a>方法3：这还用说…哔哩哔哩有pc版的</h3> 
<p>找到Windows自带的Microsoft Store，搜索哔哩哔哩下载第一个即可。<br> <img src="https://images2.imgbox.com/c7/9e/jGmvTkzo_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/2d/85/p8ZBAMsi_o.png" alt="在这里插入图片描述" width="400" height="300"><br> <img src="https://images2.imgbox.com/7a/a4/klLMME6I_o.png" alt="biliweb"><br> 然后就可以选择自己喜欢的视频进行下载了。</p> 
<h3><a id="4_32"></a>方法4：在线链接下载</h3> 
<ol><li><a href="https://www.jijidown.com/" rel="nofollow">哔哩哔哩唧唧</a> 或者在bilibili.com的.com前加jj =&gt; bilibilijj.com即可。<br> <img src="https://images2.imgbox.com/d5/c5/h9BnE9Mn_o.png" alt="在这里插入图片描述"></li><li><a href="http://www.flvcd.com/" rel="nofollow">硕鼠下载</a> 复制哔站视频链接致硕鼠即可（好像硕鼠更新了，要下载客户端或者下一个其他程序才能提供哔站视频下载）<br> <img src="https://images2.imgbox.com/0d/66/aq1V0y8J_o.png" alt="在这里插入图片描述"><br> <strong>确保上述无误，那么这时候我们拿到如下视频啦！（此处使用IDM）：</strong><br> <img src="https://images2.imgbox.com/f7/1a/WgiVU095_o.png" alt="快乐"></li></ol> 
<h2><a id="3_40"></a>3.下载弹幕！</h2> 
<p>以<a href="https://www.bilibili.com/video/BV1QK4y1r7KN?spm_id_from=333.851.b_7265706f7274466972737432.10" rel="nofollow">哔哩哔哩排行榜#513</a>视频为例。<br> 首先我们需要知道将获取的视频的<strong>cid</strong>的，注意不是<s>aid</s>。<br> <strong>1. 使用f12打开开发者工具—&gt;Network</strong><br> <img src="https://images2.imgbox.com/10/65/dUBwd9Nh_o.png" alt="在这里插入图片描述"><br> <strong>2.加载视频（开始播放）在Network中找到heartbeat并点击</strong><br> <img src="https://images2.imgbox.com/8d/85/OUgSuELC_o.png" alt="heartbeat"><br> <strong>3. 点击heartbeat—&gt;Headers—&gt;Form Data—&gt;cid</strong>，找到cid为180279063<br> <strong>4. 跳转弹幕xml页面：https://comment.bilibili.com/+cid+.xml</strong>，此处为：<a href="https://comment.bilibili.com/180279063.xml" rel="nofollow">https://comment.bilibili.com/180279063.xml</a><br> <img src="https://images2.imgbox.com/c9/3f/hR6294rw_o.png" alt="xml"><br> <strong>5.下面开始获取弹幕！</strong></p> 
<h3><a id="1Crawler__52"></a>方法1：Crawler（爪巴 虫）</h3> 
<p><em>注：爬虫虽好，但且注意版权问题以及不要爬取国家网站，否则将会涉嫌犯法！</em><br> 在xml界面按f12得到如下结构：<br> <img src="https://images2.imgbox.com/0a/b7/zXtlFtMj_o.png" alt="在这里插入图片描述"><br> <mark>图像可以看出该页面的结构单一(//div[@id=“webkit-xml-viewer-source-xml”])，且只需获取i标签的内容即可（get_elements_by_tag_name()），此处爪巴虫代码不再赘述。</mark></p> 
<h3><a id="2_57"></a>方法2：当然是直接右键另存为。。</h3> 
<p><img src="https://images2.imgbox.com/09/de/cCuJndts_o.png" alt="另存为"><br> <strong>弹幕.xml文件GET!</strong><br> <img src="https://images2.imgbox.com/ce/9f/MMkIythY_o.png" alt="xmldanmu"></p> 
<h2><a id="4_61"></a>4.视频音频弹幕组合播放</h2> 
<p>虽说我们由步骤3得到了弹幕.xml文件，但是xml文件是不可以在播放视频时自动加载的！但视频可以加载字幕，于是我们想到将其转为字幕文件。<br> <strong>1. 使用xml转字幕软件<a href="http://www.wmzhe.com/soft-30545.html" rel="nofollow">Danmu2Ass1.1</a>将其转换为字幕.ass文件。</strong><br> <img src="https://images2.imgbox.com/fa/ae/8wAsOTxO_o.png" alt="wu"><br> <strong>2. 下载完成解压安装后，可以在快捷栏-&gt;发送到…-&gt;转换为ASS字幕文件将其转换为ASS。</strong><br> <img src="https://images2.imgbox.com/b0/ea/E88djHTh_o.png" alt="在这里插入图片描述"><br> 3. <strong>转换完成后需重命名</strong>并<strong>移动至视频文件夹</strong>以让视频自动匹配字幕，<strong>音频也是同样的道理</strong>，<mark>重命名为相同名字后视频会自动匹配。</mark><br> <img src="https://images2.imgbox.com/17/c5/nJ9G8vVc_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Nice_70"></a>最后在本地就可以做到和在线看一样的效果啦！Nice！</h2> 
<p><img src="https://images2.imgbox.com/f7/b6/aLXS8dQO_o.png" alt="在这里插入图片描述"><br> <em>我用MPC-HC(x64)打开的，因其兼容性比较好</em></p> 
<h3><a id="_73"></a>愉快地看视频吧！！</h3> 
<p><img src="https://images2.imgbox.com/3c/c0/kFjqUDvf_o.png" alt="xiaoguo"><br> @date: 2020.4.21<br> @author: zkinglin<br> （完）</p> 
<hr class="footnotes-sep"> 
<section class="footnotes"> 
 <ol class="footnotes-list"><li id="fn1" class="footnote-item"><p><a href="https://baike.baidu.com/item/%E5%97%85%E6%8E%A2/5114370" rel="nofollow">嗅探-百度百科</a> <a href="#fnref1" rel="nofollow" class="footnote-backref">↩︎</a></p> </li></ol> 
</section>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3f51c8b04060e49162f6b74fb5facdad/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Window7激活 电话激活小记；</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b0229dd6cfe2c8da4d0ce1dc26dc1018/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[计算机网络]-网络层-1</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>