<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【ASP.NET Core 基础知识】--MVC框架--Views和Razor语法 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【ASP.NET Core 基础知识】--MVC框架--Views和Razor语法" />
<meta property="og:description" content="一、Views和Razor语法基础 1.1 Views概述 在ASP.NET Core的MVC（Model-View-Controller）框架中，View 扮演着呈现用户界面的角色。View负责展示应用程序的数据给用户，并接收用户的输入。它与Model和Controller协同工作，通过模型绑定从Controller获取数据，然后使用Razor语法或其他视图引擎将数据呈现为用户可见的HTML。
视图的作用
数据呈现： 主要职责是将数据从Controller层传递到用户界面，展示给用户。这包括显示数据库查询结果、业务逻辑计算的输出等。用户交互： Views能够接收用户的输入，并将用户的请求传递给Controller层进行处理。这使得用户能够与应用程序进行交互，例如填写表单、点击按钮等。 Razor语法
在ASP.NET Core中，主要使用Razor作为默认的视图引擎。Razor语法是一种简洁且强大的语法，它允许在HTML中嵌入C#代码，使得在视图中能够方便地处理数据和逻辑。以下是Razor语法的一些基本特征：
代码块： 使用 @ 符号表示C#代码块，可以在HTML中嵌入C#逻辑。&lt;p&gt;Total items: @Model.Items.Count&lt;/p&gt; 变量和表达式： 使用 @ 符号表示C#表达式，可以直接在HTML中输出变量的值。&lt;p&gt;Welcome, @User.Name!&lt;/p&gt; 循环和条件语句： 使用C#的循环和条件语句来实现动态的HTML生成。@foreach (var item in Model.Items) { &lt;li&gt;@item.Name&lt;/li&gt; } 视图文件结构
在ASP.NET Core中，Views通常存放在项目的特定文件夹中（例如Views文件夹），并按照Controller的结构进行组织。每个Controller都有一个对应的文件夹，其中包含该Controller的所有视图。
视图布局
Views支持布局，可以使用主布局文件（_Layout.cshtml）定义整个应用程序的共同结构。通过使用布局，可以实现页面的一致性和重用。
&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;title&gt;@ViewBag.Title - My ASP.NET Core App&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&#34;header&#34;&gt; &lt;!-- Header content --&gt; &lt;/div&gt; &lt;div id=&#34;main&#34;&gt; @RenderBody() &lt;/div&gt; &lt;div id=&#34;footer&#34;&gt; &lt;!-- Footer content --&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e95b7b0f2b9c3b85402fa7d82b2a5a71/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-10T22:58:10+08:00" />
<meta property="article:modified_time" content="2024-01-10T22:58:10+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【ASP.NET Core 基础知识】--MVC框架--Views和Razor语法</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="ViewsRazor_0"></a>一、Views和Razor语法基础</h4> 
<h6><a id="11_Views_1"></a>1.1 Views概述</h6> 
<p>在ASP.NET Core的MVC（Model-View-Controller）框架中，<strong>View</strong> 扮演着呈现用户界面的角色。View负责展示应用程序的数据给用户，并接收用户的输入。它与Model和Controller协同工作，通过模型绑定从Controller获取数据，然后使用Razor语法或其他视图引擎将数据呈现为用户可见的HTML。</p> 
<ol><li> <p><strong>视图的作用</strong></p> 
  <ul><li><strong>数据呈现：</strong> 主要职责是将数据从Controller层传递到用户界面，展示给用户。这包括显示数据库查询结果、业务逻辑计算的输出等。</li><li><strong>用户交互：</strong> Views能够接收用户的输入，并将用户的请求传递给Controller层进行处理。这使得用户能够与应用程序进行交互，例如填写表单、点击按钮等。</li></ul> </li><li> <p><strong>Razor语法</strong><br> 在ASP.NET Core中，主要使用Razor作为默认的视图引擎。Razor语法是一种简洁且强大的语法，它允许在HTML中嵌入C#代码，使得在视图中能够方便地处理数据和逻辑。以下是Razor语法的一些基本特征：</p> 
  <ul><li><strong>代码块：</strong> 使用 <code>@</code> 符号表示C#代码块，可以在HTML中嵌入C#逻辑。<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Total items: @Model.Items.Count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li><strong>变量和表达式：</strong> 使用 <code>@</code> 符号表示C#表达式，可以直接在HTML中输出变量的值。<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li><strong>循环和条件语句：</strong> 使用C#的循环和条件语句来实现动态的HTML生成。<pre><code class="prism language-html">@foreach (var item in Model.Items)
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@item.Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> </li></ul> <pre><code></code></pre> </li><li> <p><strong>视图文件结构</strong><br> 在ASP.NET Core中，Views通常存放在项目的特定文件夹中（例如<code>Views</code>文件夹），并按照Controller的结构进行组织。每个Controller都有一个对应的文件夹，其中包含该Controller的所有视图。</p> </li><li> <p><strong>视图布局</strong><br> Views支持布局，可以使用主布局文件（_Layout.cshtml）定义整个应用程序的共同结构。通过使用布局，可以实现页面的一致性和重用。</p> </li></ol> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>@ViewBag.Title - My ASP.NET Core App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Header content --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        @RenderBody()
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Footer content --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<h6><a id="12_Razor_49"></a>1.2 Razor语法简介</h6> 
<ol><li> <p><strong>Razor语法的优势</strong><br> Razor语法在ASP.NET Core中被广泛采用，并具有多个优势，使其成为一种强大且受欢迎的视图引擎。以下是Razor语法的一些主要优势：</p> 
  <ul><li><strong>简洁性和可读性：</strong> Razor语法以简洁的方式嵌入在HTML中，使得视图代码更加清晰易读。与传统的ASP.NET Web Forms相比，Razor语法减少了视图文件中的冗余标记，提高了可维护性。</li></ul> <pre><code class="prism language-html">	   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>混编性：</strong> Razor语法允许在HTML中嵌入C#代码，实现了前端与后端逻辑的混编。这使得在视图中可以直接访问后端的数据和逻辑，简化了数据呈现和处理的流程。</li></ul> <pre><code class="prism language-html">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Total items: @Model.Items.Count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>强大的代码块支持：</strong> Razor语法支持C#代码块，包括条件语句、循环语句等。这使得在视图中可以轻松实现动态内容的生成。</li></ul> <pre><code class="prism language-html">   @if (User.IsAuthenticated)
   {
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome back, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
   }
</code></pre> 
  <ul><li><strong>自动HTML编码：</strong> Razor自动对输出进行HTML编码，防止了常见的跨站脚本攻击（XSS）。这意味着在视图中输出的内容默认会被转义，提高了安全性。</li></ul> <pre><code class="prism language-html">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>@Model.HtmlContent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!-- 如果HtmlContent包含HTML标签，会被自动编码 --&gt;</span>
</code></pre> 
  <ul><li><strong>强大的模型绑定：</strong> Razor语法与MVC框架深度集成，支持强大的模型绑定功能。这使得在视图中能够方便地访问Controller传递的数据。</li></ul> <pre><code class="prism language-html">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Total items: @Model.Items.Count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>良好的扩展性：</strong> Razor语法是可扩展的，可以通过自定义标签助手（Tag Helpers）等方式扩展其功能。这使得开发者能够根据需要进行定制，以适应特定的项目要求。</li></ul> <pre><code class="prism language-html">   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-custom-tag</span> <span class="token attr-name">helper-attribute</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-custom-tag</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li> <p><strong>Razor语法的基本结构</strong><br> Razor语法是在HTML中嵌入C#代码的一种方式，具有简洁且直观的语法结构。以下是Razor语法的基本结构：</p> 
  <ul><li>输出表达式：使用 <code>@</code> 符号，后跟C#表达式，将其输出到HTML页面。</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> <p>这里 <code>User.Name</code> 是一个C#表达式，它的值会被自动输出到HTML中。</p> 
  <ul><li>代码块：使用 <code>@{ }</code> 包裹C#代码块，可以在其中编写多行代码。</li></ul> <pre><code class="prism language-html">@if (User.IsAuthenticated)
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome back, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
else
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Please log in.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
  <ul><li>循环和条件语句：Razor支持常见的C#循环和条件语句，可以在HTML中嵌套使用。</li></ul> <pre><code class="prism language-html">@foreach (var item in Model.Items)
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@item.Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
}

@if (Model.Items.Count == 0)
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>No items available.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
  <ul><li>注释：Razor支持单行和多行注释，使用 <code>@*</code> 和 <code>*@</code>。</li></ul> <pre><code class="prism language-html"><span class="token comment">&lt;!-- 这是HTML注释 --&gt;</span>

@* 这是Razor注释 *@
</code></pre> 
  <ul><li>嵌套：在Razor中，可以嵌套HTML和C#代码，创建动态的HTML结构。</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>@Model.Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        @foreach (var item in Model.Items)
        {
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@item.Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li>部分视图：使用 <code>@RenderSection</code> 和 <code>@section</code> 可以在布局文件中定义和渲染部分视图。 
    <ul><li>布局文件（_Layout.cshtml）:</li></ul> <pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>@ViewBag.Title - My ASP.NET Core App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        @RenderBody()
        @RenderSection("scripts", required: false)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
    <ul><li>页面文件:</li></ul> <pre><code class="prism language-html">@section scripts {
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// JavaScript code specific to this view</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> </li></ul> </li></ol> 
<p>这样，部分视图中定义的内容将被嵌入到布局文件中相应的位置。</p> 
<h4><a id="Razor_166"></a>二、Razor语法深入理解</h4> 
<h6><a id="21_Razor_167"></a>2.1 Razor中的代码块</h6> 
<ol><li><strong>代码注释</strong><br> 在Razor中，你可以使用两种方式进行注释：单行注释和多行注释。以下是它们的示例： 
  <ul><li>单行注释：使用 <code>@*</code> 和 <code>*@</code> 将代码行或代码块注释掉。</li></ul> <pre><code class="prism language-html">@* 这是单行注释 *@
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li>多行注释：使用 <code>&lt;!--</code> 和 <code>--&gt;</code> 进行多行注释，类似于HTML注释：</li></ul> <pre><code class="prism language-html"><span class="token comment">&lt;!--
    这是多行注释
    可以跨越多行
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li></ol> 
<p>在Razor中，这两种注释方式都是有效的，并根据需要选择适当的注释形式。注释对于在代码中添加解释或标记暂时不需要的代码块是很有用的。</p> 
<ol start="2"><li><strong>变量和表达式</strong><br> 在Razor中，你可以使用 <code>@</code> 符号来嵌入C#变量和表达式，将它们输出到HTML中。以下是变量和表达式的基本用法： 
  <ul><li>变量：使用 <code>@</code> 符号后跟变量名，将其输出到HTML中：</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 在这个例子中，<code>User.Name</code> 是一个C#变量，其值将被嵌入到HTML中。 
  <ul><li>表达式：使用 <code>@</code> 符号后跟C#表达式，将其输出到HTML中。</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Total items: @Model.Items.Count<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 在这个例子中，<code>Model.Items.Count</code> 是一个C#表达式，它的值会被输出到HTML中。 
  <ul><li>字符串拼接：你也可以在HTML中使用 <code>+</code> 来连接字符串：</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>@("Hello, " + User.Name + "!")<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li>HTML编码：Razor默认对输出进行HTML编码，防止跨站脚本攻击（XSS）。这意味着特殊字符将被转义，确保安全性。</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>@Model.HtmlContent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 如果HtmlContent包含HTML标签，会被自动编码 --&gt;</span>
</code></pre> </li></ol> 
<blockquote> 
 <p>Tip：默认情况下Razor会进行HTML编码，确保输出的内容不会引起安全问题。</p> 
</blockquote> 
<ol start="3"><li><strong>控制流语句</strong><br> 在Razor中，你可以使用C#的控制流语句，如条件语句 (<code>if</code>, <code>else if</code>, <code>else</code>) 和循环语句 (<code>for</code>, <code>foreach</code>, <code>while</code>)，以便在视图中根据不同的条件生成不同的HTML内容。以下是一些示例： 
  <ul><li> <p>条件语句</p> 
    <ul><li>if 语句</li></ul> <pre><code class="prism language-html">@if (User.IsAuthenticated)
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Welcome back, @User.Name!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
else
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Please log in.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
    <ul><li>else if 语句</li></ul> <pre><code class="prism language-html">@if (Model.Status == "Active")
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account is active.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
else if (Model.Status == "Inactive")
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account is inactive.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
else
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account status is unknown.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> </li><li> <p>循环语句</p> 
    <ul><li>foreach 语句</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    @foreach (var item in Model.Items)
    {
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@item.Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    }
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
    <ul><li>for 语句</li></ul> <pre><code class="prism language-html">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
	    @for (int i = 0; i &lt; Model.Items.Count; i++)
	    {
	        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>@Model.Items[i].Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
	    }
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
	```

</code></pre> </li><li> <p>其他控制流语句</p> 
    <ul><li>switch 语句</li></ul> <pre><code class="prism language-html">@switch (Model.Status)
{
    case "Active":
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account is active.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        break;
    case "Inactive":
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account is inactive.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        break;
    default:
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The account status is unknown.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        break;
}
</code></pre> 
    <ul><li>while 语句</li></ul> <pre><code class="prism language-html">@{
    int i = 0;
    while (i &lt; 5)
    {
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Iteration @i<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        i++;
    }
}
</code></pre> </li></ul> </li></ol> 
<p>这些控制流语句使得在Razor视图中可以根据不同的条件生成不同的HTML内容，从而实现动态的页面呈现。</p> 
<h6><a id="22_RazorHTML_288"></a>2.2 Razor中的HTML辅助方法</h6> 
<p>在ASP.NET Core中，Razor视图引擎提供了一些内置的HTML辅助方法（HTML Helpers），这些方法简化了在视图中生成HTML元素的过程。HTML辅助方法使得在Razor视图中以更简洁的方式生成常见的HTML元素和表单控件。以下是一些常用的HTML辅助方法：</p> 
<ol><li><strong><code>Html.ActionLink</code></strong><br> <code>ActionLink</code> 用于生成超链接，链接到指定的Controller和Action。</li></ol> 
<pre><code class="prism language-html">@Html.ActionLink("Click me", "About", "Home")
</code></pre> 
<ol start="2"><li><strong><code>Html.DisplayNameFor</code> 和 <code>Html.DisplayFor</code></strong><br> 这对方法用于显示模型的属性名和属性值。</li></ol> 
<pre><code class="prism language-html">@Html.DisplayNameFor(model =&gt; model.Name)
@Html.DisplayFor(model =&gt; model.Name)
</code></pre> 
<ol start="3"><li><strong><code>Html.EditorFor</code> 和 <code>Html.TextBoxFor</code></strong><br> 用于生成文本框，<code>EditorFor</code> 会根据模型类型选择适当的编辑器。</li></ol> 
<pre><code class="prism language-html">@Html.EditorFor(model =&gt; model.UserName)
@Html.TextBoxFor(model =&gt; model.UserName)
</code></pre> 
<ol start="4"><li><strong><code>Html.DropDownListFor</code></strong><br> 生成下拉列表。</li></ol> 
<pre><code class="prism language-html">@Html.DropDownListFor(model =&gt; model.Country, new SelectList(Model.Countries, "Value", "Text"), "Select Country")
</code></pre> 
<ol start="5"><li><strong><code>Html.CheckBoxFor</code> 和 <code>Html.CheckBox</code></strong><br> 生成复选框。</li></ol> 
<pre><code class="prism language-html">@Html.CheckBoxFor(model =&gt; model.IsAdmin)
@Html.CheckBox("isAdmin", true)
</code></pre> 
<ol start="6"><li><strong><code>Html.RadioButtonFor</code> 和 <code>Html.RadioButton</code></strong><br> 生成单选按钮。</li></ol> 
<pre><code class="prism language-html">@Html.RadioButtonFor(model =&gt; model.Gender, "Male") Male
@Html.RadioButton("gender", "Female", true) Female
</code></pre> 
<ol start="7"><li><strong><code>Html.TextAreaFor</code></strong><br> 生成文本区域。</li></ol> 
<pre><code class="prism language-html">@Html.TextAreaFor(model =&gt; model.Comments, new { rows = 4, cols = 40 })
</code></pre> 
<ol start="8"><li><strong><code>Html.ValidationMessageFor</code></strong><br> 显示模型属性的验证消息。</li></ol> 
<pre><code class="prism language-html">@Html.ValidationMessageFor(model =&gt; model.UserName)
</code></pre> 
<p>这些HTML辅助方法使得在Razor视图中生成HTML元素更为方便和可维护。通过利用这些方法，可以减少手动编写HTML元素的工作，同时提高代码的可读性和可重用性。</p> 
<h4><a id="Views_337"></a>三、Views的创建和布局</h4> 
<h6><a id="31_Views_338"></a>3.1 创建Views文件</h6> 
<p>在ASP.NET Core中，创建Views文件通常是在MVC（Model-View-Controller）模式中的<code>Views</code>文件夹下的特定位置。以下是一般的步骤：</p> 
<ol><li><strong>确保存在Views文件夹：</strong> 在ASP.NET Core项目中，确保在项目的根目录下有一个名为<code>Views</code>的文件夹。如果没有，你可以手动创建。</li><li><strong>按Controller组织Views：</strong> Views文件夹中通常包含与Controller对应的文件夹，每个Controller文件夹中包含该Controller相关的视图文件。例如，如果有一个名为<code>HomeController</code>的Controller，那么在<code>Views</code>文件夹下应该有一个名为<code>Home</code>的文件夹。</li><li><strong>创建具体的视图文件：</strong> 在Controller对应的文件夹中，你可以创建具体的视图文件，这些文件的命名通常与Controller的Action方法对应。例如，如果有一个名为<code>Index</code>的Action方法，那么在<code>Views/Home</code>文件夹下就可以创建一个名为<code>Index.cshtml</code>的文件。<br> 下面是一个示例：<br> 假设有一个名为<code>HomeController</code>的Controller，其中有一个名为<code>Index</code>的Action方法。</li><li><strong>在<code>Views</code>文件夹下创建<code>Home</code>文件夹：</strong><pre><code>/Views
/Home
</code></pre> </li><li><strong>在<code>Home</code>文件夹下创建<code>Index.cshtml</code>：</strong><pre><code>/Views
   /Home
      /Index.cshtml
</code></pre> </li></ol> 
<p>在<code>Index.cshtml</code>中，你可以编写HTML和Razor代码来构建具体的页面内容。</p> 
<p>这样，当访问<code>HomeController</code>的<code>Index</code>方法时，MVC框架会自动查找并渲染<code>Views/Home/Index.cshtml</code>文件中的内容。这种组织结构使得视图文件与Controller的关系更加清晰，方便了项目的维护和扩展。</p> 
<h6><a id="32_Views_359"></a>3.2 Views的布局</h6> 
<ol><li><strong>主布局文件</strong><br> 在ASP.NET Core中，主布局文件通常是整个应用程序中的顶层布局，它定义了整个站点的基本结构和外观。这个主布局文件在项目中被称为 <code>_Layout.cshtml</code>，位于<code>Views/Shared</code>文件夹下。以下是一个简单的 <code>_Layout.cshtml</code> 的示例：</li></ol> 
<pre><code class="prism language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>@ViewBag.Title - My ASP.NET Core App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 引入CSS文件或其他头部元素 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/lib/bootstrap/dist/css/bootstrap.min.css<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- ...其他CSS文件... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>My ASP.NET Core App<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">asp-area</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">asp-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Home<span class="token punctuation">"</span></span> <span class="token attr-name">asp-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">asp-area</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span> <span class="token attr-name">asp-controller</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Home<span class="token punctuation">"</span></span> <span class="token attr-name">asp-action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>About<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
                    <span class="token comment">&lt;!-- ...其他导航链接... --&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>
            @RenderBody()
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- 页脚内容 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 引入JS文件或其他尾部元素 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/lib/jquery/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/lib/bootstrap/dist/js/bootstrap.bundle.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ...其他JS文件... --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在这个示例中：</p> 
<ul><li><code>@ViewBag.Title</code> 用于动态设置页面的标题，具体的标题信息会在每个视图中进行设置。</li><li><code>@RenderBody()</code> 是一个占位符，用于渲染具体视图的内容。</li><li>使用了 <code>asp-*</code> 属性，这是ASP.NET Core Tag Helpers 的一种形式，用于生成URL。</li><li>引入了一些外部的CSS和JavaScript文件，通常是通过使用 <code>lib</code> 目录下的包管理工具（例如，NuGet或NPM）安装的第三方库。</li><li><code>&lt;div class="container"&gt;</code> 用于包裹主要内容，这是 Bootstrap 中的一个样式类，用于创建一个固定宽度的容器。</li></ul> 
<p>这个主布局文件定义了网站的整体结构，包括头部、导航栏、主要内容区域和页脚。每个具体的视图可以选择性地使用这个布局，确保整个应用程序的一致性。在视图中，可以使用 <code>@{ Layout = "_Layout"; }</code> 来指定使用的布局文件。</p> 
<ol start="2"><li><strong>部分视图</strong><br> 部分视图（Partial View）是在ASP.NET Core中可重用的、可以被其他视图或部分视图包含的组件。它允许你将页面中的一部分提取出来，以便在多个地方共享相同的代码或 UI 元素。以下是如何创建和使用部分视图的基本步骤：</li></ol> 
<ul><li>创建部分视图 
  <ul><li>在<code>Views</code>文件夹中创建一个名为<code>Shared</code>的文件夹：</li></ul> <pre><code> /Views
    /Shared
</code></pre> 
  <ul><li>在<code>Shared</code>文件夹中创建部分视图文件，例如<code>_MyPartialView.cshtml</code>：</li></ul> <pre><code class="prism language-html"><span class="token comment">&lt;!-- _MyPartialView.cshtml --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>This is a partial view content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 其他部分视图的内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li>使用部分视图<br> 在其他视图或布局中使用 <code>Html.Partial</code> 或 <code>Html.RenderPartial</code> 方法引入部分视图：</li></ul> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 在视图中引入部分视图 --&gt;</span>
@Html.Partial("_MyPartialView")

<span class="token comment">&lt;!-- 或者使用 Razor 语法 --&gt;</span>
@{
    await Html.RenderPartialAsync("_MyPartialView");
}
</code></pre> 
<p>或者，在布局中引入部分视图：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 在布局中引入部分视图 --&gt;</span>
@Html.Partial("_MyPartialView")
</code></pre> 
<ul><li>传递模型给部分视图<br> 如果你希望在部分视图中使用模型数据，可以将模型数据传递给部分视图：</li></ul> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 在视图中传递模型给部分视图 --&gt;</span>
@Html.Partial("_MyPartialView", model: new MyModel())
</code></pre> 
<ul><li>使用 <code>@model</code> 声明部分视图的模型<br> 在部分视图文件的顶部使用 <code>@model</code> 声明视图模型，以便在部分视图中直接访问模型数据：</li></ul> 
<pre><code class="prism language-html">@model MyNamespace.MyModel

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>@Model.Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 使用模型数据渲染内容 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ul><li>注意事项 
  <ul><li>部分视图的文件名通常以下划线 <code>_</code> 开头，这是一种常见的约定，用于表示这是一个局部组件而非完整的视图。</li><li>部分视图通常用于渲染重复的 UI 元素，例如导航栏、页脚、模态框等。</li><li>在部分视图中，可以包含 HTML、Razor 代码和 C# 代码，类似于完整的视图。</li></ul> </li></ul> 
<p>使用部分视图有助于提高代码的可维护性，避免在多个地方重复编写相同的代码，同时使得对 UI 元素的修改更为方便。</p> 
<h4><a id="_466"></a>四、数据传递和模型绑定</h4> 
<h6><a id="41__467"></a>4.1 模型绑定概述</h6> 
<p>模型绑定是ASP.NET Core中一种重要的特性，它负责将HTTP请求的数据（如表单数据、查询字符串、路由数据等）与应用程序中的模型进行关联。这使得在控制器中处理请求时，可以方便地使用和操作模型数据。</p> 
<ol><li><strong>工作原理</strong><br> 模型绑定工作的基本原理是通过将HTTP请求中的数据（键值对）映射到应用程序中的模型对象。这个映射过程是自动进行的，ASP.NET Core框架根据请求中的数据类型、名称和模型对象的属性进行匹配。</li><li><strong>支持的数据源</strong><br> 模型绑定可以从多个数据源中获取数据，包括： 
  <ul><li><strong>查询字符串（Query String）：</strong> 通过URL中的查询参数传递的数据。<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromQuery</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> parameter<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从查询字符串中获取参数值</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>表单数据：</strong> 通过HTML表单提交的数据。<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> parameter<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从表单数据中获取参数值</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>路由数据：</strong> 从URL中的路由参数中获取数据。<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpGet</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"/myroute/{parameter}"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromRoute</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> parameter<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从路由数据中获取参数值</span>
<span class="token punctuation">}</span>
</code></pre> </li><li><strong>请求体数据（Body）：</strong> 通常用于接收JSON格式的数据。<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromBody</span></span><span class="token punctuation">]</span> <span class="token class-name">MyModel</span> model<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从请求体中获取模型数据</span>
<span class="token punctuation">}</span>
</code></pre> </li></ul> </li><li><strong>模型验证</strong><br> 模型绑定的一部分是模型验证，这是一个在模型绑定后执行的步骤。模型验证用于确保绑定到模型的数据符合模型的定义规则。如果验证失败，可以通过检查 <code>ModelState.IsValid</code> 属性来获取错误信息。</li><li><strong>自定义模型绑定器</strong><br> 在某些情况下，可能需要自定义模型绑定的行为。这可以通过创建自定义的模型绑定器来实现。模型绑定器是实现 <code>IModelBinder</code> 接口的类，允许你完全掌控数据绑定的过程。</li><li><strong>特性和注解</strong><br> 通过在模型属性上使用特性和注解，可以对模型的绑定行为进行更精确的控制。例如，可以使用 <code>Required</code> 特性指定某个属性为必填项。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>模型绑定是ASP.NET Core MVC中处理用户请求和数据输入的关键机制之一。了解如何有效地使用模型绑定可以简化控制器的代码，并使数据传递更为方便和可靠。</p> 
<h6><a id="42__518"></a>4.2 常见的模型绑定技巧</h6> 
<p>在ASP.NET Core MVC中，有一些常见的模型绑定技巧，可以帮助你更灵活、高效地处理用户请求和数据输入。以下是一些常见的技巧：</p> 
<ol><li><strong>模型绑定前缀</strong><br> 在处理复杂的数据结构（例如嵌套的对象或集合）时，可以使用模型绑定前缀来指定数据应该绑定到模型的哪个属性。这在处理表单数组或嵌套对象时非常有用。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Bind</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Prefix <span class="token operator">=</span> <span class="token string">"User"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">UserModel</span> user<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 会将请求中以 "User" 为前缀的数据绑定到 UserModel 对象的相应属性</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li><strong>[FromBody] 特性</strong><br> 使用 <code>[FromBody]</code> 特性将请求体中的数据绑定到模型对象。这在处理 JSON 格式的请求时非常有用。</li></ol> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromBody</span></span><span class="token punctuation">]</span> <span class="token class-name">MyModel</span> model<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 从请求体中获取 JSON 数据并绑定到 MyModel 对象</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="3"><li><strong>[FromForm], [FromQuery], [FromRoute]</strong><br> 使用 <code>[FromForm]</code>, <code>[FromQuery]</code>, <code>[FromRoute]</code> 特性明确指定模型绑定的数据来源。</li></ol> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromForm</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromQuery</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">int</span></span> age<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromRoute</span></span><span class="token punctuation">]</span> <span class="token class-name"><span class="token keyword">int</span></span> id<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 分别从表单、查询字符串和路由数据中获取数据</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li><strong>默认值</strong><br> 在模型的属性上设置默认值，可以确保即使没有提供相应的数据，模型属性也有一个合理的初始值。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyModel</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token string">"Default Name"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="5"><li><strong>复杂类型的绑定</strong><br> 处理复杂类型（如集合、数组）时，可以使用 <code>[Bind]</code> 特性来指定绑定的属性。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Bind</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Id,Name"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">List<span class="token punctuation">&lt;</span>ItemModel<span class="token punctuation">&gt;</span></span> items<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 只绑定 Id 和 Name 属性，而忽略其他属性</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="6"><li><strong>手动验证</strong><br> 在模型绑定后，可以手动执行验证并检查 <code>ModelState.IsValid</code> 属性。</li></ol> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromBody</span></span><span class="token punctuation">]</span> <span class="token class-name">MyModel</span> model<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ModelState<span class="token punctuation">.</span>IsValid<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 执行逻辑</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 处理验证失败的情况</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="7"><li><strong>自定义模型绑定器</strong><br> 对于特殊的绑定需求，可以创建自定义的模型绑定器。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomModelBinder</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IModelBinder</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Task</span> <span class="token function">BindModelAsync</span><span class="token punctuation">(</span><span class="token class-name">ModelBindingContext</span> bindingContext<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 自定义绑定逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>然后在控制器的方法中使用 <code>[ModelBinder]</code> 特性应用自定义的模型绑定器。</p> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">MyAction</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ModelBinder</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CustomModelBinder</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">MyModel</span> model<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 使用自定义模型绑定器</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这些技巧可以帮助你更好地利用ASP.NET Core MVC的模型绑定功能，使代码更加灵活、可维护。选择适当的技巧取决于你的具体需求和场景。</p> 
<h4><a id="Views_599"></a>五、Views中的表单处理</h4> 
<h6><a id="51_HTML_600"></a>5.1 HTML表单基础</h6> 
<p>HTML表单是一种用于收集用户输入的元素，它允许用户通过输入框、下拉菜单、单选按钮等方式向服务器提交数据。以下是HTML表单的基础概念和元素：</p> 
<ol><li><strong><code>&lt;form&gt;</code> 元素</strong><br> 表单通常使用 <code>&lt;form&gt;</code> 元素进行定义，它包裹了表单中的所有输入元素。<code>&lt;form&gt;</code> 元素有以下常见属性： 
  <ul><li><code>action</code>: 指定表单数据提交到的服务器端URL。</li><li><code>method</code>: 指定用于发送表单数据的HTTP方法，常见的有 “GET” 和 “POST”。</li><li><code>enctype</code>: 指定在发送表单数据时使用的编码类型，常见的有 “application/x-www-form-urlencoded” 和 “multipart/form-data”。</li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/submit<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 表单内容将在这里定义 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li><strong>输入元素</strong><br> 在表单中，可以使用多种输入元素，根据用户需要收集的数据类型选择合适的元素。 
  <ul><li><strong>文本框 <code>&lt;input type="text"&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Username:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>密码框 <code>&lt;input type="password"&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>单选按钮 <code>&lt;input type="radio"&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Male<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gender<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Female<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>复选框 <code>&lt;input type="checkbox"&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscribe<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscribe<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subscribe<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Subscribe to newsletter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>下拉菜单 <code>&lt;select&gt;</code> 和 <code>&lt;option&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Country:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>country<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>usa<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>USA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>canada<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Canada<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>uk<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>UK<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
  <ul><li><strong>多行文本框 <code>&lt;textarea&gt;</code></strong></li></ul> <pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Comments:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>comments<span class="token punctuation">"</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
</code></pre> </li><li><strong>提交按钮 <code>&lt;input type="submit"&gt;</code></strong><br> 用于触发表单提交。</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="4"><li><strong>重置按钮 <code>&lt;input type="reset"&gt;</code></strong><br> 用于重置表单中的所有输入元素。</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>reset<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Reset<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="5"><li><strong><code>&lt;label&gt;</code> 元素</strong><br> 用于为表单元素添加标签，提高可访问性并改善用户体验。</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Username:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>以上是HTML表单的基础元素，通过它们的组合可以创建各种类型的表单，用于接收用户输入并提交到服务器。在实际开发中，还可以使用CSS和JavaScript来改善表单的样式和交互行为。</p> 
<h6><a id="52_Views_669"></a>5.2 Views中的表单标签</h6> 
<p>在ASP.NET Core的Razor视图中，可以使用HTML表单标签和ASP.NET Core的HTML辅助方法来创建表单。以下是一些在Razor视图中创建表单的示例：</p> 
<ol><li><strong>使用HTML辅助方法</strong></li></ol> 
<pre><code class="prism language-html">@using (Html.BeginForm("submit", "home", FormMethod.Post))
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Username:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    @Html.TextBox("username")

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    @Html.Password("password")

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
<ol start="2"><li><strong>模型绑定</strong><br> 使用模型绑定可以将表单字段直接绑定到模型的属性上。首先，在视图的顶部声明模型：</li></ol> 
<pre><code class="prism language-html">@model YourNamespace.YourModel
</code></pre> 
<p>然后，使用 <code>Html.EditorFor</code> 或 <code>Html.TextBoxFor</code> 等辅助方法：</p> 
<pre><code class="prism language-html">@using (Html.BeginForm("submit", "home", FormMethod.Post))
{
    @Html.LabelFor(model =&gt; model.Username)
    @Html.TextBoxFor(model =&gt; model.Username)

    @Html.LabelFor(model =&gt; model.Password)
    @Html.PasswordFor(model =&gt; model.Password)

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
<ol start="3"><li> <p><strong>部分视图中的表单</strong><br> 在部分视图中使用表单，可以在主视图中通过 <code>Html.RenderPartial</code> 或 <code>Html.Partial</code> 来包含部分视图，然后在部分视图中定义表单。</p> 
  <ul><li>主视图：</li></ul> <pre><code class="prism language-html">@{
    Layout = null;
}

@Html.Partial("_MyForm")
</code></pre> 
  <ul><li>部分视图 <code>_MyForm.cshtml</code>：</li></ul> <pre><code class="prism language-html">@using (Html.BeginForm("submit", "home", FormMethod.Post))
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Username:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    @Html.TextBox("username")

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Password:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    @Html.Password("password")

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Submit<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
}
</code></pre> </li></ol> 
<p>这些示例演示了如何在ASP.NET Core的Razor视图中使用HTML表单标签和HTML辅助方法来创建表单。根据实际需求，可以选择使用传统的HTML表单标签或ASP.NET Core提供的HTML辅助方法来简化表单的创建和处理。</p> 
<h6><a id="53__728"></a>5.3 表单验证和处理</h6> 
<p>在ASP.NET Core中，表单验证和处理是Web应用程序中的关键部分。ASP.NET Core提供了内置的模型验证和处理机制，可以方便地处理用户提交的表单数据。以下是基本的表单验证和处理步骤：</p> 
<ol><li><strong>模型定义</strong><br> 首先，定义用于表示表单数据的模型。在模型中可以使用数据注解来添加验证规则：</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserViewModel</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"Username is required."</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Username <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Required</span><span class="token attribute-arguments"><span class="token punctuation">(</span>ErrorMessage <span class="token operator">=</span> <span class="token string">"Password is required."</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">DataType</span><span class="token attribute-arguments"><span class="token punctuation">(</span>DataType<span class="token punctuation">.</span>Password<span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Password <span class="token punctuation">{<!-- --></span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="2"><li><strong>创建表单</strong><br> 在Razor视图中创建表单，使用 <code>Html.BeginForm</code> 和表单元素：</li></ol> 
<pre><code class="prism language-html">@model YourNamespace.UserViewModel

@using (Html.BeginForm("Login", "Account", FormMethod.Post))
{
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        @Html.LabelFor(model =&gt; model.Username)
        @Html.TextBoxFor(model =&gt; model.Username)
        @Html.ValidationMessageFor(model =&gt; model.Username)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        @Html.LabelFor(model =&gt; model.Password)
        @Html.PasswordFor(model =&gt; model.Password)
        @Html.ValidationMessageFor(model =&gt; model.Password)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Login<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
}
</code></pre> 
<ol start="3"><li><strong>控制器中处理表单提交</strong><br> 在控制器中创建对应的动作方法来处理表单提交：</li></ol> 
<pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">HttpPost</span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">Login</span><span class="token punctuation">(</span><span class="token class-name">UserViewModel</span> model<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>ModelState<span class="token punctuation">.</span>IsValid<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 执行登录逻辑</span>
        <span class="token comment">// 例如，验证用户名密码是否正确</span>
        <span class="token comment">// 重定向到成功页面或执行其他操作</span>

        <span class="token keyword">return</span> <span class="token function">RedirectToAction</span><span class="token punctuation">(</span><span class="token string">"Success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 模型验证失败，返回登录页面，并显示错误信息</span>
    <span class="token keyword">return</span> <span class="token function">View</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<ol start="4"><li><strong>模型验证</strong><br> 在表单提交时，模型验证会自动执行。通过 <code>ModelState.IsValid</code> 属性来检查模型是否通过验证。如果模型验证失败，将会在视图中显示相应的错误信息。</li><li><strong>显示验证错误信息</strong><br> 在视图中使用 <code>ValidationMessageFor</code> 辅助方法来显示验证错误信息：</li></ol> 
<pre><code class="prism language-html">@Html.ValidationMessageFor(model =&gt; model.Username)
</code></pre> 
<p>这样，如果模型验证失败，错误信息将自动显示在相应的位置。<br> 这是一个基本的表单验证和处理的例子。根据实际需求，可以进一步扩展和定制验证规则、错误消息以及处理逻辑。 ASP.NET Core的模型验证和处理机制非常强大，可以满足各种复杂的验证需求。</p> 
<h4><a id="Views_793"></a>六、Views中的客户端脚本</h4> 
<h6><a id="61_JavaScriptRazor_794"></a>6.1 JavaScript和Razor的集成</h6> 
<p>JavaScript和Razor在ASP.NET Core中可以很好地集成，提供了强大的前端和后端交互的能力。以下是一些常见的JavaScript和Razor集成的场景和方法：</p> 
<ol><li><strong>Razor中嵌入JavaScript</strong><br> 在Razor视图中，可以直接嵌入JavaScript代码。这使得你可以根据后端的数据动态生成JavaScript代码。例如：</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token string">'@Model.Username'</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Welcome, '</span> <span class="token operator">+</span> username <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>在这个例子中，<code>@Model.Username</code> 会被后端的数据替换，从而在JavaScript中生成动态的代码。<br> 2. <strong>使用Razor变量和JavaScript</strong><br> 你可以将Razor中的变量传递给JavaScript，以便在前端脚本中使用。这可以通过使用 <code>@</code> 符号实现：</p> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token string">'@Model.Username'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Username from Razor: '</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 可以在JavaScript中使用 username 变量</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="3"><li><strong>Razor中生成JavaScript URL</strong><br> 在ASP.NET Core中，可以使用 <code>Url.Action</code> 来生成包含Razor变量的JavaScript中的URL。例如：</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> submitUrl <span class="token operator">=</span> <span class="token string">'@Url.Action("Submit", "Home")'</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Submit URL: '</span> <span class="token operator">+</span> submitUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="4"><li><strong>Ajax请求与Razor结合</strong><br> 使用JavaScript中的Ajax请求与后端的Razor动作方法交互是常见的需求。例如，使用jQuery进行Ajax请求：</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.6.4.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#submitBtn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#username'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> password <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#password'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span>
                <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'@Url.Action("Login", "Account")'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{<!-- --></span> <span class="token literal-property property">Username</span><span class="token operator">:</span> username<span class="token punctuation">,</span> <span class="token literal-property property">Password</span><span class="token operator">:</span> password <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 处理成功的响应</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token comment">// 处理错误的响应</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这个例子中，当按钮被点击时，通过Ajax请求将表单数据发送到后端的Razor动作方法 <code>Login</code>。<br> 5. <strong>Razor中使用JavaScript库</strong><br> 在Razor视图中引入和使用JavaScript库，例如，引入Bootstrap或其他前端库：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 引入Bootstrap的CSS和JavaScript文件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.5.1.slim.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="6"><li><strong>使用Razor生成动态的JavaScript代码</strong><br> 在Razor视图中，可以根据后端的逻辑生成动态的JavaScript代码。例如：</li></ol> 
<pre><code class="prism language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    @<span class="token keyword">if</span> <span class="token punctuation">(</span>Model<span class="token punctuation">.</span>IsAdmin<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 只有管理员用户才能执行的JavaScript代码</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome, Admin!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这允许根据后端数据生成条件性的JavaScript代码。<br> 这些例子展示了JavaScript和Razor在ASP.NET Core中的集成方式。通过这种方式，前端和后端可以更灵活地协同工作，使得开发更加方便和高效。</p> 
<h6><a id="62_ViewsJavaScript_872"></a>6.2 在Views中使用JavaScript库</h6> 
<p>在ASP.NET Core的Razor视图中使用JavaScript库是很常见的，这通常涉及到在HTML中引入相关的库文件，并在页面中使用这些库。下面是一些在Razor视图中使用JavaScript库的例子：</p> 
<ol><li><strong>引入本地的JavaScript库文件</strong><br> 如果你的项目中有本地存储的JavaScript库文件，你可以通过以下方式在Razor视图中引入它们：</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 引入本地的JavaScript文件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/lib/jquery/dist/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>~/lib/bootstrap/dist/js/bootstrap.bundle.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>上述例子中，<code>~/lib/jquery/dist/jquery.min.js</code> 和 <code>~/lib/bootstrap/dist/js/bootstrap.bundle.min.js</code> 是相对于项目根目录的路径，你需要根据你项目中的实际文件路径进行调整。<br> 2. <strong>引入CDN上的JavaScript库</strong><br> 如果你更喜欢使用CDN（内容分发网络）上托管的库文件，可以通过以下方式引入：</p> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 引入CDN上的jQuery库 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.6.4.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 引入CDN上的Bootstrap库 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.5.1.slim.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<ol start="3"><li><strong>使用JavaScript库的功能</strong><br> 引入JavaScript库后，你可以在Razor视图中使用相应的库功能。例如，在Bootstrap中使用弹出框：</li></ol> 
<pre><code class="prism language-html"><span class="token comment">&lt;!-- 在Razor视图中使用Bootstrap的弹出框 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-primary<span class="token punctuation">"</span></span> <span class="token attr-name">data-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#myModal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Open Modal
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myModal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-dialog<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-content<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- Modal Header --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-header<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Modal Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token entity named-entity" title="×">&amp;times;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- Modal Body --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-body<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>This is the modal body.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

      <span class="token comment">&lt;!-- Modal Footer --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal-footer<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn btn-danger<span class="token punctuation">"</span></span> <span class="token attr-name">data-dismiss</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modal<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Close<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p>这个例子中，使用了Bootstrap的弹出框功能，其中的 <code>data-toggle</code> 和 <code>data-target</code> 属性是Bootstrap的JavaScript库提供的功能。<br> 在Razor视图中使用JavaScript库时，确保在引入库文件后，按照库的文档说明使用相应的功能。这有助于保持代码的清晰和可维护性。</p> 
<h4><a id="_927"></a>七、性能优化</h4> 
<h6><a id="71_Views_928"></a>7.1 Views的性能考虑</h6> 
<p>在ASP.NET Core中，提高视图性能是优化Web应用程序的一个重要方面。以下是一些有助于提高Views性能的考虑因素：</p> 
<ol><li> <p><strong>缓存</strong></p> 
  <ul><li>输出缓存<br> 使用输出缓存可以缓存整个视图的输出，避免重复渲染相同的内容。可以在控制器的动作方法上使用 <code>[ResponseCache]</code> 特性，或者在视图中使用 <code>ResponseCache</code> 中间件。</li></ul> <pre><code class="prism language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">ResponseCache</span><span class="token attribute-arguments"><span class="token punctuation">(</span>Duration <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token return-type class-name">IActionResult</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 动作方法的输出将被缓存1小时</span>
    <span class="token keyword">return</span> <span class="token function">View</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
  <ul><li>片段缓存<br> 使用片段缓存可以缓存部分视图的输出，适用于只有部分内容需要缓存的情况。</li></ul> <pre><code class="prism language-html">@{
    var cachedValue = Html.Partial("_PartialView").ToString();
}

@{ 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        @await Html.RenderPartialAsync("_PartialView")

        <span class="token comment">&lt;!-- 使用片段缓存 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cache</span> <span class="token attr-name">expires-after</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@TimeSpan.FromHours(1).TotalSeconds.ToString()<span class="token punctuation">"</span></span> <span class="token attr-name">vary-by</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@cachedValue<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
            @await Html.RenderPartialAsync("_PartialView")
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cache</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
}
</code></pre> </li><li> <p><strong>避免重复查询</strong><br> 确保在视图中不要执行重复的查询。使用 ViewModel 将必要的数据传递给视图，以避免在视图中执行多次数据库查询。</p> </li><li> <p><strong>视图组件</strong><br> 使用视图组件来封装可复用的UI组件，以避免在多个视图中重复相同的代码。</p> </li></ol> 
<pre><code class="prism language-csharp"><span class="token comment">// 在 Views/Shared/Components/MyComponent/Default.cshtml 中定义组件的HTML和逻辑</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyComponentViewComponent</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ViewComponent</span></span>
<span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IViewComponentResult</span> <span class="token function">Invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 处理逻辑</span>
        <span class="token keyword">return</span> <span class="token function">View</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在视图中使用：</p> 
<pre><code class="prism language-html">@await Component.InvokeAsync("MyComponent")
</code></pre> 
<ol start="4"><li><strong>延迟加载</strong><br> 对于一些不是必需立即加载的内容，可以考虑使用 JavaScript 进行延迟加载。例如，图片或其他大型媒体资源可以在页面加载完成后再进行加载。</li><li><strong>合理使用 JavaScript 和 CSS</strong><br> 将JavaScript和CSS放置在页面底部，以减少对页面加载性能的影响。此外，使用压缩和缩小脚本和样式表以减小文件大小。</li><li><strong>视图的结构和布局</strong><br> 确保视图的结构清晰，布局简单。复杂的嵌套结构可能导致性能下降。</li><li><strong>压缩输出</strong><br> 在生产环境中，启用输出压缩可以减小传输的数据量，加快页面加载速度。可以在 <code>Startup.cs</code> 中启用压缩中间件。</li></ol> 
<pre><code class="prism language-csharp"><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Configure</span><span class="token punctuation">(</span><span class="token class-name">IApplicationBuilder</span> app<span class="token punctuation">,</span> <span class="token class-name">IHostingEnvironment</span> env<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">// ...</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">IsProduction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        app<span class="token punctuation">.</span><span class="token function">UseResponseCompression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>以上是一些有助于提高ASP.NET Core Views性能的常见策略。具体的优化措施应该根据应用程序的特定需求和性能测试结果来确定。</p> 
<h4><a id="_1004"></a>八、总结</h4> 
<p>ASP.NET Core是一款强大而灵活的开发框架，结合Razor视图引擎和MVC架构，为构建现代Web应用提供了丰富的工具和最佳实践。通过模型绑定、视图布局和Razor语法，简化了开发流程。合理使用JavaScript库、中间件和依赖注入提高了性能和可维护性。采用MVC和Repository模式实现了清晰的代码组织和数据访问。最佳实践包括RESTful API设计、异常处理、安全性和性能优化，确保了应用程序的健壮性和安全性。这些综合策略帮助构建高效、安全、可扩展的ASP.NET Core应用。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6e662d5aecbf9e05ec3000a54ce0cbfd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">QT上位机开发（键盘绘图控制）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/12431996ed05b67a0c4f6b14362523f2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">win7添加access的odbc数据源</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>