<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Numpy 常见函数及使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Numpy 常见函数及使用" />
<meta property="og:description" content="Numpy常见函数及使用 本文后续边补充，边更新！
参考：
1. Numpy基本使用
2. numpy的文件存储.npy .npz 文件详解
3. np.hstack 用法
4. 图解
5. 菜鸟教程
6. python之np.argmax()及对axis=0或者1的理解
1. np.delete() 删除指定行
np.delete(x, i, axis=0) #删除x矩阵 第i行 2. np.where() 返回输入数组中满足给定条件的元素的索引，返回值为元组类型。
import numpy as np x = np.arange(9.).reshape(3, 3) print (&#39;我们的数组是：&#39;) print (x) print ( &#39;大于 3 的元素的索引：&#39;) y = np.where(x &gt; 3) print (y) print (&#39;使用这些索引来获取满足条件的元素：&#39;) print (x[y]) 结果： 我们的数组是： [[0. 1. 2.] [3. 4. 5.] [6. 7. 8.]] 大于 3 的元素的索引（元组）： (array([1, 1, 2, 2, 2]), array([1, 2, 0, 1, 2])) 使用这些索引来获取满足条件的元素： [4." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2eab7f001d92db21ab07d3e9793b6323/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-28T16:24:30+08:00" />
<meta property="article:modified_time" content="2022-07-28T16:24:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Numpy 常见函数及使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Numpy_0"></a>Numpy常见函数及使用</h2> 
<p>本文后续边补充，边更新！</p> 
<p><strong>参考：</strong><br> <a href="https://blog.csdn.net/xu_fu_yong/article/details/92812773">1. Numpy基本使用</a><br> <a href="https://blog.csdn.net/zhw864680355/article/details/103400422">2. numpy的文件存储.npy .npz 文件详解</a><br> <a href="https://blog.csdn.net/G66565906/article/details/84142034">3. np.hstack 用法</a><br> <a href="https://img-blog.csdnimg.cn/20190619112119409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1X2Z1X3lvbmc=,size_16,color_FFFFFF,t_70" rel="nofollow">4. 图解</a><br> <a href="https://www.runoob.com/numpy/numpy-array-manipulation.html" rel="nofollow">5. 菜鸟教程</a><br> <a href="https://blog.csdn.net/XYKenny/article/details/98865532">6. python之np.argmax()及对axis=0或者1的理解</a><br> <br></p> 
<h3><a id="1_npdelete_12"></a>1. np.delete()</h3> 
<p><code>删除指定行</code></p> 
<pre><code>np.delete(x, i, axis=0)  #删除x矩阵 第i行
</code></pre> 
<br> 
<h3><a id="2_npwhere_19"></a>2. np.where()</h3> 
<p><code>返回输入数组中满足给定条件的元素的索引</code>，返回值为<mark>元组类型</mark>。</p> 
<pre><code>import numpy as np 
x = np.arange(9.).reshape(3,  3)  
print ('我们的数组是：')
print (x)
print ( '大于 3 的元素的索引：')
y = np.where(x &gt; 3)  
print (y)
print ('使用这些索引来获取满足条件的元素：')
print (x[y])
结果：
我们的数组是：
[[0. 1. 2.]
 [3. 4. 5.]
 [6. 7. 8.]]
大于 3 的元素的索引（元组）：
(array([1, 1, 2, 2, 2]), array([1, 2, 0, 1, 2]))
使用这些索引来获取满足条件的元素：
[4. 5. 6. 7. 8.]
</code></pre> 
<br> 
<h3><a id="3_npload_44"></a>3. np.load()</h3> 
<p><code>读取npy文件</code>。<br> 默认情况下，数组是以未压缩的原始二进制格式保存在扩展名为.npy的文件中。.npz为压缩文件。<br> <strong>参考</strong>：<a href="https://blog.csdn.net/zhw864680355/article/details/103400422">numpy的文件存储.npy .npz 文件详解</a></p> 
<pre><code>&gt;&gt;&gt; np.save('/tmp/123', np.array([[1, 2, 3], [4, 5, 6]]))
&gt;&gt;&gt; np.load('/tmp/123.npy')
array([[1, 2, 3],
       [4, 5, 6]])

&gt;&gt;&gt; a=np.array([[1, 2, 3], [4, 5, 6]])
&gt;&gt;&gt; b=np.array([1, 2])
&gt;&gt;&gt; np.savez('/tmp/123.npz', a=a, b=b)
&gt;&gt;&gt; data = np.load('/tmp/123.npz')
&gt;&gt;&gt; data['a']
array([[1, 2, 3],
       [4, 5, 6]])
&gt;&gt;&gt; data['b']
array([1, 2])
&gt;&gt;&gt; data.close()

&gt;&gt;&gt; X = np.load('/tmp/123.npy', mmap_mode='r')
&gt;&gt;&gt; X[1, :]
memmap([4, 5, 6])
</code></pre> 
<br> 
<h3><a id="4npitem_71"></a>4.np.item()</h3> 
<p><code>可以获取在numpy数组上给定索引处找到的数据元素。</code></p> 
<pre><code># import the important module in python 
import numpy as np 

# make an array with numpy 
gfg = np.array([[1, 2, 3, 4, 5], 
                [6, 5, 4, 3, 2]]) 

print(gfg.item((1, 2)))   ## 结果为4
</code></pre> 
<br> 
<h3><a id="5__85"></a>5. 连接数组</h3> 
<table><thead><tr><th>函数</th><th align="center">描述</th></tr></thead><tbody><tr><td>concatenate()</td><td align="center">连接沿现有轴的数组序列</td></tr><tr><td>stack()</td><td align="center">增加新一维度方式堆叠</td></tr><tr><td>hstack()</td><td align="center">水平堆叠</td></tr><tr><td>vstack()</td><td align="center">垂直堆叠</td></tr><tr><td>dstack()</td><td align="center">深度堆叠</td></tr></tbody></table> 
<p><strong>参考：</strong><br> <a href="https://blog.csdn.net/G66565906/article/details/84142034">np.hstack 用法</a><br> <a href="https://img-blog.csdnimg.cn/20190619112119409.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1X2Z1X3lvbmc=,size_16,color_FFFFFF,t_70" rel="nofollow">图解</a><br> <a href="https://www.runoob.com/numpy/numpy-array-manipulation.html" rel="nofollow">菜鸟教程</a></p> 
<p><strong>eg1.</strong></p> 
<pre><code>a = np.array([[1,2],[3,4]])
b = np.array([[5,6],[7,8]])
print ('沿轴 0 连接两个数组：')
print (np.concatenate((a,b)))    # 默认是0轴
print ('沿轴 1 连接两个数组：')
print (np.concatenate((a,b),axis = 1))
#结果
第一个数组：
[[1 2]
 [3 4]]
第二个数组：
[[5 6]
 [7 8]]
沿轴 0 连接两个数组：
[[1 2]
 [3 4]
 [5 6]
 [7 8]]
沿轴 1 连接两个数组：
[[1 2 5 6]
 [3 4 7 8]]
</code></pre> 
<p><strong>eg2.</strong></p> 
<pre><code>print(np.stack((arr1, arr2),0)) # 堆叠后维度增加，axis=0/1效果相同
print(np.vstack((arr1, arr2)))
print(np.hstack((arr1, arr2)))
print(np.dstack((arr1, arr2)))
# 结果
[[[1 2]
  [3 4]]
 [[5 6]
  [7 8]]]
  
[[ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]
 [10 11 12]]
[[ 1  2  3  7  8  9]
 [ 4  5  6 10 11 12]]
[[[ 1  7]
  [ 2  8]
  [ 3  9]]

 [[ 4 10]
  [ 5 11]
  [ 6 12]]]
</code></pre> 
<br> 
<br> 
<h3><a id="6__153"></a>6. 修改数组维度</h3> 
<h4><a id="61_npsqueeze_154"></a>6.1 np.squeeze()</h4> 
<p><code>从数组的形状中删除一维条目，及shape中是１的维度。</code><br> 例如维度为(1,2,5)-&gt;(2,5), (3,4)-&gt;(3,4)</p> 
<pre><code>np.squeeze()
</code></pre> 
<p>eg.</p> 
<pre><code>c  = np.arange(10).reshape(2,5)
np.squeeze(c)
c.shape   # (2,5)
d  = np.arange(10).reshape(1,2,5)
np.squeeze(d)
d.shape   # (2,5)

x = np.arange(9).reshape(1,3,3)
y = np.squeeze(x)
print (x.shape, y.shape)
# 结果
(1, 3, 3) (3, 3)
</code></pre> 
<h4><a id="62_npexpand_dims_175"></a>6.2 np.expand_dims()</h4> 
<p>扩展数组的形状.</p> 
<pre><code>cat_mask = np.expand_dims(cat_mask, 0) # cat_mask从原来的[256,256]变为[1,256,256]
</code></pre> 
<br> 
<h3><a id="7_npunique_182"></a>7. np.unique()</h3> 
<p><code>用于去除数组中的重复元素。</code><br> <strong>函数原型：</strong></p> 
<pre><code>numpy.unique(arr, return_index, return_inverse, return_counts)
</code></pre> 
<ul><li>arr：输入数组，如果不是一维数组则会展开</li><li>return_index：如果为true，返回新列表元素在旧列表中的位置（下标），并以列表形式储</li><li>return_inverse：如果为true，返回旧列表元素在新列表中的位置（下标），并以列表形式储</li><li>return_counts：如果为true，返回去重数组中的元素在原数组中的出现次数<br> eg.</li></ul> 
<pre><code>a = np.array([5,2,6,2,7,5,6,8,2,9])
print (a)       # [5 2 6 2 7 5 6 8 2 9]
 
u = np.unique(a)
print (u)       # [2 5 6 7 8 9], 顺便排序了

u,indices = np.unique(a, return_index = True)
print (indices)     # [1 0 2 4 7 9]
</code></pre> 
<br> 
<h3><a id="8__205"></a>8. 排序、条件筛选函数</h3> 
<p><code>用于给多个序列进行排序，想象成电子表格，优先排序后面的列。</code></p> 
<pre><code>numpy.lexsort()
</code></pre> 
<p>eg.</p> 
<pre><code>nm =  ('raju','anil','ravi','amar') 
dv =  ('f.y.',  's.y.',  's.y.',  'f.y.') 
ind = np.lexsort((dv,nm))  

print (ind) 
print ([nm[i]  +  ", "  + dv[i]  for i in ind])
# 结果
[3 1 0 2]
['amar, f.y.', 'anil, s.y.', 'raju, f.y.', 'ravi, s.y.']
</code></pre> 
<br> 
<h3><a id="9__224"></a>9. 连续内存数组</h3> 
<p>Numpy中，随机初始化的数组默认都是C连续的，经过不规则的slice操作，则会改变连续性。<code>ascontiguousarray函数将一个内存不连续存储的数组转换为内存连续存储的数组</code>，使得<mark>运行速度更快</mark>。</p> 
<pre><code>np.ascontiguousarray()
</code></pre> 
<p>eg.</p> 
<pre><code>&gt;&gt;&gt; x = np.arange(8).reshape(2,4)
&gt;&gt;&gt; np.ascontiguousarray(x, dtype=np.float32)
array([[0., 1., 2., 3.],
       [4., 5., 6., 7.]], dtype=float32)
&gt;&gt;&gt; x.flags['C_CONTIGUOUS']
True
</code></pre> 
<br> 
<h3><a id="10__240"></a>10. 统计频率</h3> 
<p><code>像直方图一样，统计元素出现频率，并返回ndarray。</code></p> 
<pre><code>np.bincount()
</code></pre> 
<p><strong>参考</strong>：<a href="https://wenku.baidu.com/view/3b122a417b3e0912a21614791711cc7931b77831.html" rel="nofollow">np.bincount用法</a><br> eg.</p> 
<pre><code>x=np.array([0,1,1,3,2,1,7])
print(np.bincount(x))
# 结果
[1 3 1 1 0 0 0 1]
</code></pre> 
<br> 
<h3><a id="11_npargmax_255"></a>11. np.argmax()</h3> 
<p><code>返回数组中较大值所在的索引，这里针对一维、二维、三维或者高维数据。</code><br> 参考：<a href="https://blog.csdn.net/XYKenny/article/details/98865532">python之np.argmax()及对axis=0或者1的理解</a></p> 
<pre><code>import numpy as np
# 三维数组
a = np.array([
              [
                  [1, 5, 5, 2],
                  [9, -6, 2, 8],
                  [-3, 7, -9, 1]
              ],

              [
                  [-1, 5, -5, 2],
                  [9, 6, 2, 8],
                  [3, 7, 9, 1]
              ]
            ])
print(np.argmax(a, axis=0)) 
结果：从[2,3,4]-&gt;[3,4]
[[0 0 0 0]
 [0 1 0 0]
 [1 0 1 0]]
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/826cdc077c1126e1c9673cd0a86d6341/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">AUTOSAR学习笔记1——基础了解</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a62c8c93b7d0529a2357988c2009d24d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">JS中的reduce()函数介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>