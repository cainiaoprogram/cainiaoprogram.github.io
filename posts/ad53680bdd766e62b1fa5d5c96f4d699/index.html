<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>H5, 遇到的 ios 兼容性问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="H5, 遇到的 ios 兼容性问题" />
<meta property="og:description" content="H5, 遇到的 ios 兼容性问题 1.ios 中日期格式 new Date(&#39;2019-10-11&#39;) 无效; 解决: new Date(&#39;2019-10-11&#39;.replace(/\-/g, &#39;/&#39;)); 2.ios 中日期格式 new Date(&#39; 2019-07-24 11:35:00.0&#39;) 无效; 解决: new Date(&#39; 2019-07-24 11:35:00.0&#39;.replace(/\-/g, &#39;/&#39;).replace(&#39;.0&#39;, &#39;&#39;)); 3.ios 中 input[type=&#39;date&#39;] placeholder 默认显示空白问题; 解决( 用伪类添加一个placeholder属性, onfoucs时removeAttribute(&#39;placeholder&#39;), onblur的时候setAttribute(&#39;placeholder&#39;, &#39;&#39;) ): input[type=&#39;date&#39;]:before { content: attr(placeholder); color: rgba(0,0,0,0.7); } input:-webkit-input-placeholder{ color: #999; } 4.ios 中 overflow: scroll 滚动效果卡顿; 解决: -webkit-overflow-scroll: touch; -webkit-overflow-scrolling: touch; /* 当手指从触摸屏上移开，会保持一段时间的滚动 */ -webkit-overflow-scrolling: auto; /* 当手指从触摸屏上移开，滚动会立即停止 */ 5.ios 中 input disabled 时的color 很浅; 原因: iPhone Safari/webview input disabled 会有默认样式； 解决: input:disabled { color: #999; opacity: 1; -webkit-text-fill-color: #999; } 6." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ad53680bdd766e62b1fa5d5c96f4d699/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-22T10:31:57+08:00" />
<meta property="article:modified_time" content="2022-07-22T10:31:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">H5, 遇到的 ios 兼容性问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="H5__ios__0"></a>H5, 遇到的 ios 兼容性问题</h2> 
<pre><code class="prism language-js"><span class="token number">1</span><span class="token punctuation">.</span>ios 中日期格式 <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-10-11'</span><span class="token punctuation">)</span> 无效<span class="token punctuation">;</span>
<span class="token literal-property property">解决</span><span class="token operator">:</span>  <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-10-11'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\-</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">2</span><span class="token punctuation">.</span>ios 中日期格式 <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">' 2019-07-24 11:35:00.0'</span><span class="token punctuation">)</span> 无效<span class="token punctuation">;</span>
<span class="token literal-property property">解决</span><span class="token operator">:</span>  <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">' 2019-07-24 11:35:00.0'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\-</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'.0'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">3</span><span class="token punctuation">.</span>ios 中 input<span class="token punctuation">[</span>type<span class="token operator">=</span><span class="token string">'date'</span><span class="token punctuation">]</span> placeholder 默认显示空白问题<span class="token punctuation">;</span>
<span class="token function">解决</span><span class="token punctuation">(</span> 用伪类添加一个placeholder属性<span class="token punctuation">,</span> 
	<span class="token function">onfoucs时removeAttribute</span><span class="token punctuation">(</span><span class="token string">'placeholder'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
	<span class="token function">onblur的时候setAttribute</span><span class="token punctuation">(</span><span class="token string">'placeholder'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token operator">:</span> 
input<span class="token punctuation">[</span>type<span class="token operator">=</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token operator">:</span>before <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token function">attr</span><span class="token punctuation">(</span>placeholder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token literal-property property">input</span><span class="token operator">:</span><span class="token operator">-</span>webkit<span class="token operator">-</span>input<span class="token operator">-</span>placeholder<span class="token punctuation">{<!-- --></span> <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">999</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-js"><span class="token number">4</span><span class="token punctuation">.</span>ios 中 overflow<span class="token operator">:</span> scroll 滚动效果卡顿<span class="token punctuation">;</span>
<span class="token literal-property property">解决</span><span class="token operator">:</span>  <span class="token operator">-</span>webkit<span class="token operator">-</span>overflow<span class="token operator">-</span>scroll<span class="token operator">:</span> touch<span class="token punctuation">;</span>
<span class="token operator">-</span>webkit<span class="token operator">-</span>overflow<span class="token operator">-</span>scrolling<span class="token operator">:</span> touch<span class="token punctuation">;</span> <span class="token comment">/* 当手指从触摸屏上移开，会保持一段时间的滚动 */</span>
 
<span class="token operator">-</span>webkit<span class="token operator">-</span>overflow<span class="token operator">-</span>scrolling<span class="token operator">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* 当手指从触摸屏上移开，滚动会立即停止 */</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">5</span><span class="token punctuation">.</span>ios 中 input disabled 时的color 很浅<span class="token punctuation">;</span>
<span class="token literal-property property">原因</span><span class="token operator">:</span>  iPhone Safari<span class="token operator">/</span>webview input disabled 会有默认样式；
<span class="token literal-property property">解决</span><span class="token operator">:</span>  
<span class="token literal-property property">input</span><span class="token operator">:</span>disabled <span class="token punctuation">{<!-- --></span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">999</span><span class="token punctuation">;</span>
    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token operator">-</span>webkit<span class="token operator">-</span>text<span class="token operator">-</span>fill<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token number">999</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<pre><code class="prism language-js"><span class="token number">6</span><span class="token punctuation">.</span>ios 中 transition<span class="token punctuation">,</span> animation 属性支持性很差<span class="token punctuation">,</span> 会造成屏幕滑动抖动<span class="token punctuation">;</span><span class="token punctuation">(</span>暂时无法解决<span class="token punctuation">)</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">7.</span>使用css伪类的content设置图标时<span class="token punctuation">,</span> 图标颜色设置无效<span class="token punctuation">;</span>
需增加以下配置<span class="token punctuation">;</span>
<span class="token literal-property property">原因</span><span class="token operator">:</span> 资料查到说是ios9以后不再支持css更改这种符号的颜色<span class="token punctuation">,</span> 如需要<span class="token punctuation">,</span>使用 <span class="token constant">U</span><span class="token operator">+</span><span class="token constant">FE0E</span> <span class="token constant">VARIATION</span> <span class="token constant">SELECTOR</span><span class="token operator">-</span><span class="token number">15</span>字符<span class="token punctuation">;</span>
<span class="token literal-property property">如</span><span class="token operator">:</span> content<span class="token operator">:</span> "\<span class="token number">2714</span>\fe0e<span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-js"><span class="token number">8</span><span class="token punctuation">.</span>ios使用input<span class="token punctuation">,</span>激活的时候会自动放大页面问题<span class="token punctuation">;</span>
<span class="token literal-property property">解决</span><span class="token operator">:</span>
<span class="token number">1.</span> <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"apple-mobile-web-app-capable"</span> content<span class="token operator">=</span><span class="token string">"yes"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="token operator">&gt;</span>
<span class="token number">2.</span> 同时强制设置input字体16px<span class="token punctuation">,</span> 或者focus的时候设置16px<span class="token punctuation">;</span><span class="token punctuation">(</span>针对小于16px的input<span class="token punctuation">)</span>


</code></pre> 
<pre><code class="prism language-js"><span class="token number">9</span><span class="token punctuation">.</span>iphonex的body设置height<span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>底部会有24px的留白<span class="token punctuation">;</span>
<span class="token literal-property property">原因</span><span class="token operator">:</span> 本人页面因为使用html<span class="token punctuation">,</span> body<span class="token punctuation">{<!-- --></span><span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token literal-property property">body</span><span class="token operator">:</span><span class="token number">100</span><span class="token operator">%</span> 这个属性并不能在iphonex撑满可视区域<span class="token punctuation">;</span>
<span class="token literal-property property">解决</span><span class="token operator">:</span> <span class="token function">官方提供的meta</span><span class="token punctuation">(</span>我这里使用好像没效果<span class="token punctuation">)</span><span class="token punctuation">;</span>
viewport<span class="token operator">-</span>fit：有三个值contain：可视窗口完全包含网页内容；cover：网页内容完全覆盖可视窗口；auto：同contain；
通过给页面设置viewport<span class="token operator">-</span>fit<span class="token operator">=</span>cover，可以将页面的布局延伸到页面顶部和底部。
<span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no, viewport-fit=cover"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token function">于是</span><span class="token punctuation">(</span>暂时解决问题方法时<span class="token punctuation">,</span> 使用 height<span class="token operator">:</span> 100vh<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="_77"></a>软键盘将页面顶起来、收起未回落问题</h3> 
<p>我们在app 布局中会有个固定的底部。安卓一些版本中，输入弹窗出来，会将解压 <code>absolute</code> 和 <code>fixed</code> 定位的元素。导致可视区域变小，布局错乱。</p> 
<pre><code class="prism language-js"><span class="token comment">// 记录原有的视口高度</span>
<span class="token keyword">const</span> originalHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
 
window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
  <span class="token keyword">var</span> resizeHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>resizeHeight <span class="token operator">&lt;</span> originalHeight <span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 恢复内容区域高度</span>
    <span class="token comment">// const container = document.getElementById("container")</span>
    <span class="token comment">// 例如 container.style.height = originalHeight;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>键盘不能回落问题出现在 iOS 12+ 和 wechat 6.7.4+ 中，而在微信 H5 开发中是比较常见的 Bug。</p> 
<p>兼容原理，1.判断版本类型 2.更改滚动的可视区域</p> 
<pre><code class="prism language-js"><span class="token keyword">const</span> isWechat <span class="token operator">=</span> window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MicroMessenger\/([\d\.]+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isWechat<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> wechatVersion <span class="token operator">=</span> wechatInfo<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">OS (\d+)_(\d+)_?(\d+)?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 如果设备类型为iOS 12+ 和wechat 6.7.4+，恢复成原来的视口</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">+</span>wechatVersion<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">674</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>version<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<pre><code>window.scrollTo(x-coord, y-coord)，其中window.scrollTo(0, clientHeight)恢复成原来的视口
</code></pre> 
<p>使用 QRCode 生成二维码</p> 
<pre><code class="prism language-js">QRCode<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre> 
<p>H5通过jsbridge调用原生的分享</p> 
<p>第一种通过注入API</p> 
<p>就是在原生里面先写好打开原生分享的逻辑的一个函数，但是不执行，然后把调用这个函数挂载到webview.window上，然后再H5页面需要的调用的时候就直接传入函数中的参数，调用函数就可以调用原生的分享</p> 
<p>Android的WebView提供了addJavascriptInterface方法 ，可以在原生里面写js</p> 
<p>开启Javascript使能、传递交互接口对象、加载web页面。</p> 
<pre><code class="prism language-js">WebSettings settings <span class="token operator">=</span> mWebView<span class="token punctuation">.</span><span class="token function">getSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
settings<span class="token punctuation">.</span><span class="token function">setJavaScriptEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
settings<span class="token punctuation">.</span><span class="token function">setDefaultTextEncodingName</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mWebView<span class="token punctuation">.</span><span class="token function">addJavascriptInterface</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebViewUtils</span><span class="token punctuation">(</span>mWebView<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"androidInterface"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mWebView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"file:///android_asset/test.html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p>第二种 通过拦截拦截URL Scheme</p> 
<p>是在原生里面通过ifream.src ：自定义网址并携带参数，在原生里面拦截这个接口，并且取出里面的参数，然后通过区分发来的这个接口，来的调用原生的分享</p> 
<ul><li> 
  <ul><li>为什么选择iframe.src不选择location.herf?(因为如果通过location.href连续调用Native，很容易丢失一些调用)</li></ul> </li><li>创建请求需要一定的耗时，比诸如API的方式调用同样的功能耗时更长。</li></ul> 
<h6><a id="NativeJS_157"></a>Native调用JS的方式</h6> 
<p>Native调用js需要,JavaScript的方法必须在全局的window上即可</p> 
<p>Android 4.4以前，通过loadUrl方法，执行一段js代码来实现<br> loadUrl方式使用起来方便简洁，但是效率低无法获得返回结果且调用的时候会刷新WebView<br> Android 4.4以后可以使用evaluateJavascript方法<br> evaluateJavascript方法效率高获取返回值方便。调用的时候不刷新WebView</p> 
<pre><code class="prism language-js">webView<span class="token punctuation">.</span><span class="token function">loadUrl</span><span class="token punctuation">(</span><span class="token string">"javascript:"</span> <span class="token operator">+</span> javaScriptString<span class="token punctuation">)</span><span class="token punctuation">;</span>
webView<span class="token punctuation">.</span><span class="token function">evaluateJavascript</span><span class="token punctuation">(</span>javaScriptString<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ValueCallback</span><span class="token operator">&lt;</span>String<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
  @Override
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onReceiveValue</span><span class="token punctuation">(</span><span class="token parameter">String value</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    xxx
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<ul><li> <p>ios在WKWebview中可以通过evaluateJavaScript:javaScriptString来实现，支持iOS8.0及以上系统</p> <pre><code class="prism language-js"><span class="token comment">// swift</span>
func <span class="token function">evaluateJavaScript</span><span class="token punctuation">(</span>_ javaScriptString<span class="token operator">:</span> String<span class="token punctuation">,</span> 
    <span class="token literal-property property">completionHandler</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Any<span class="token operator">?</span><span class="token punctuation">,</span> Error<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Void<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token operator">=</span> nil<span class="token punctuation">)</span>
<span class="token comment">// javaScriptString 需要调用的 JS 代码</span>
<span class="token comment">// completionHandler 执行后的回调</span>

<span class="token comment">// objective-c</span>
<span class="token punctuation">[</span>jsContext evaluateJavaScript<span class="token operator">:</span>@<span class="token string">"ZcyJsBridge(ev, data)"</span><span class="token punctuation">]</span>

</code></pre> </li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2e35553f5fb9943749688159ece0a80a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Monocle3</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/06b5e0437d293a15987ccdd128bff3f9/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">（仿牛客社区项目）Java开发笔记4.2：实现点赞功能</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>