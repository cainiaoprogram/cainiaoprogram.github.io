<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue项目播放海康,大华等rtsp视频流-webrtc - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue项目播放海康,大华等rtsp视频流-webrtc" />
<meta property="og:description" content="1.下载webrtc
网盘链接：https://pan.baidu.com/s/1QmUbL2lR2DVqezGq8PDhuw 提取码：lygw
下载后直接运行
后台开着就行
2.前端代码
在index.html引入 webrtc/html/lib下的两个文件（我把这两个文件copy了一份放在了public）
&lt;script type=&#34;text/javascript&#34; src=&#34;/webrtc/adapter.min.js&#34;&gt;&lt;/script&gt; &lt;script type=&#34;text/javascript&#34; src=&#34;/webrtc/webrtcstreamer.js&#34;&gt;&lt;/script&gt; 然后就是页面代码
&lt;!-- Description: 监控视频 Author: 李亚光 Date: 2023-05-18 --&gt; &lt;script lang=&#34;ts&#34; setup name=&#34;EditPerson&#34;&gt; const webRtcServer = ref(null) onMounted(() =&gt; { webRtcServer.value = new WebRtcStreamer(&#39;video&#39;, &#39;http://127.0.0.1:8000&#39;) //这里ip和端口不用修改 webRtcServer.value.connect( &#39;rtsp://admin:1234qwer@192.168.11.301&#39;, //替换成自己的地址 ) }) onBeforeUnmount(() =&gt; { webRtcServer.value.disconnect() }) &lt;/script&gt; &lt;template&gt; &lt;div className=&#34;home&#34;&gt; &lt;video id=&#34;video&#34; autoPlay width=&#34;800&#34; height=&#34;400&#34; style=&#34;margin-left: -20px;&#34; /&gt; &lt;/div&gt; &lt;/template&gt; &lt;style lang=&#34;scss&#34; scoped&gt; .demo-video { max-width: 880px; max-height: 660px; } &lt;/style&gt; 需注意视频输出格式需要H264" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0e3b415cd10ea989479c6cd84778ce80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-05T09:07:57+08:00" />
<meta property="article:modified_time" content="2023-06-05T09:07:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue项目播放海康,大华等rtsp视频流-webrtc</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong>1.下载webrtc</strong></p> 
<p>网盘链接：https://pan.baidu.com/s/1QmUbL2lR2DVqezGq8PDhuw <br> 提取码：lygw</p> 
<p>下载后直接运行</p> 
<p><img alt="" height="179" src="https://images2.imgbox.com/25/2f/xqDENmdz_o.png" width="721"></p> 
<p> <img alt="" height="538" src="https://images2.imgbox.com/04/ac/y3TfkWi0_o.png" width="1162"></p> 
<p> 后台开着就行</p> 
<p><strong>2.前端代码</strong></p> 
<p>在index.html引入  webrtc/html/lib下的两个文件（我把这两个文件copy了一份放在了public）</p> 
<pre><code>&lt;script type="text/javascript" src="/webrtc/adapter.min.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript" src="/webrtc/webrtcstreamer.js"&gt;&lt;/script&gt;</code></pre> 
<p>然后就是页面代码</p> 
<pre><code>&lt;!--
  Description: 监控视频
  Author: 李亚光
  Date: 2023-05-18
 --&gt;
&lt;script lang="ts" setup name="EditPerson"&gt;
const webRtcServer = ref(null)
onMounted(() =&gt; {
   webRtcServer.value = new WebRtcStreamer('video', 'http://127.0.0.1:8000') //这里ip和端口不用修改
   webRtcServer.value.connect(
      'rtsp://admin:1234qwer@192.168.11.301', //替换成自己的地址
    )
})
onBeforeUnmount(() =&gt; {
  webRtcServer.value.disconnect()
})
&lt;/script&gt;

&lt;template&gt;
    &lt;div className="home"&gt;
      &lt;video id="video" autoPlay width="800" height="400" style="margin-left: -20px;" /&gt;
    &lt;/div&gt;
&lt;/template&gt;

&lt;style lang="scss" scoped&gt;
.demo-video {
  max-width: 880px;
  max-height: 660px;
}
&lt;/style&gt;
</code></pre> 
<p>需注意视频输出格式需要H264</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/43368361bb48ade24fb021ecb94b8b48/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">零入门kubernetes网络实战-34-＞将物理网卡eth0挂载到虚拟网桥上使得内部网络能够跨主机ping通外网的方案</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/57b2e441b12d8745d7ee999630d882e7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">WSL 修改 hostname</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>