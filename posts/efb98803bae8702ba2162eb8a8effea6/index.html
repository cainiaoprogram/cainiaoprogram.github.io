<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>足球运动员的数据分析实战(python) - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="足球运动员的数据分析实战(python)" />
<meta property="og:description" content="一、本案例的相关说明 本人把这篇文章拿出来进行写作的主要原因是为了让大家对数据分析有一个较为清楚的认识，其实数据分析并不是那么高深，只是看你怎么从一堆杂乱无章的数据中能够发现一定的有规律性的结论，有时候可能会觉得某些结论有些牵强，但这属于每个人对每个问题而见解不同，因而较强的数据分析能力，需要我们在实际工作中进行慢慢培养出来。同时这篇文章很好的将pandas库运用到其中，这个也可以帮助我们学以致用，用而学，会起到更好的效果。
1、案例背景 足球运动是最受欢迎的运动之一。在此万受瞩目的运动下，打算针对足球运动员个人的信息，技能水平等各项指标进行相关的分析与统计。例如，我们可能会关注如下的内容：
足球运动员是否受出生日期的影响？左撇子适合踢足球吗？足球运动员的号码是否与位置相关？足球运动员的年龄与能力具有怎样的关联？ 2、任务说明 目前，我们收集到了某年现役运动员的数据集data.csv。我们希望通过该数据集，针对众多的足球运动员进行分析与统计，从而能够发现一些关于足球运动员的特征，解开我们上述疑问。
3、数据列名的含义 4、足球场上各位置说明 5、什么是数据分析？ 数据分析指的就是利用统计学知识，对一系列杂乱无章的数据进行数据分析前的预处理，同时结合数据的具体应用场景，提炼出数据中的有效信息，帮助我们定位、分析、解决某些问题，高效决策。
6、数据分析的基本流程 明确需求
数据收集
内部数据
购买数据
爬取数据
调查问卷
数据预处理
数据清洗
缺失值
异常值
重复值
数据转换
数据分析
数据建模
数据可视化
编写报告
7、理解流程 现在网上最常见的一种比喻数据分析流程的方式，就是利用“炒菜”来对比“数据分析的每个流程”。
做菜步骤数据分析步骤确定做菜明确需求与目的买菜数据收集洗菜数据清洗切菜数据转换炒菜数据分析盛菜数据可视化写日记编写报告 1）熟悉数据集 熟悉数据集，就是在进行数据处理之前，应该先熟悉数据，只有对数据充分熟悉之后，才能更好的进行分析。
熟悉数据常用的方法和属性有shape、head()、tail()、sample()、info()、describe()。
shape：以元组形式返回数据集的行、列大小。head()或tail()：当数据量过大时，我们不可能直接查看所有数据，这样会很消耗电脑内存，因此，使用head()或tail()，可以默认返回数据集的前五行、后五行的数据；当向head()或tail()中传入整数n时，则可以返回任意前n行、后n行的数据。sample()：向方法中传入整数n时，则会从当前数据集中随机抽样n条记录显示出来，对于我们了解数据很有帮助。info()：可以显示每列的列名、非空值数量、数据类型，内存占用等信息。describe()：可以帮助我们掌握数值的分布情况，会返回每个字段的count()、mean()、std()、min()、25%、50%、75%、max()。对于非数值型字段，只会显示count()计数。 2）缺失值处理 缺失值就是由于某些原因导致部分数据为空。进行缺失值处理之前，首先应该查看是否有缺失值。
① 检查缺失值的办法：一般有以下两种处理方式；
1、通过info查看数据信息。2、可以通过isnull与sum结合，查看缺失值情况。 data.info() data.isnull().sum(axis=0) ② 缺失值的处理办法：一般也有两种处理方式；
1、直接删除(当某一列或某一行存在大量的缺失值的时候)。2、采用某个值填充。 ③ 直接删除缺失值
采用dropna()方法，默认删除所有含有缺失行的数据（即：某一行只有要一个字段缺失，就删除）。传入参数how=”all”，只删除那些全为空的行。
# inplace=True表示原地修改数据集 data.dropna(axis=0, inplace=True) # 对删除后缺失值后的数据集，再次进行缺失值统计 data.isnull().sum(axis=1) ④ 填充
可以采用均值、中位数、众数、附近值进行填充。
对于缺失值填充，这里做一个简单的说明：1、当数据服从正态分布，这时候可以采用均值填充；2、当数据为偏态分布（不管左偏还是右偏），则采用中位数进行填充；3、若某个字段为离散型数据，则最好采用众数填充；4、若像温度这样的数据，前后时刻之间的温度关联肯定是最大的，这时采用前后时刻温度进行填充更好。
3）异常值处理 异常值：就是和正常数据相比，过高或者过低的数据。
异常值检测：对异常值进行检测，主要有以下几种方式：1、根据业务需求和经验对不同指标所划分的范围，超过指定范围的数据叫做异常值；2、绘制箱线图，大于上边缘和小于下边缘的数据叫做异常值；3、通过descride()函数，可以找出数据的25%和75%分位数，然后把“小于q1&#43;1.5IQR，大于q3&#43;1.5IQR”的数据叫做异常值，q1为25%分位数，q3为75%分位数，IQR= q3- q1的差值。
异常值处理：主要有三种处理办法。1、直接删除；2、把异常值当做缺失值填充；3、把异常值当做特殊情况，研究异常值出现的原因。
4）重复值处理 重复数据，指的是数据集中同样的记录有多条。对于这样的数据一般就是直接删除。
重复值的检测：data.duplicated().sum()可以查看，重复数据有多少行。
重复值的删除：data.drop_duplicates(inplace=True)。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/efb98803bae8702ba2162eb8a8effea6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-18T09:52:18+08:00" />
<meta property="article:modified_time" content="2020-01-18T09:52:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">足球运动员的数据分析实战(python)</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h5><a id="_0"></a>一、本案例的相关说明</h5> 
<p>  本人把这篇文章拿出来进行写作的主要原因是为了让大家对数据分析有一个较为清楚的认识，其实数据分析并不是那么高深，只是看你怎么从一堆杂乱无章的数据中能够发现一定的有规律性的结论，有时候可能会觉得某些结论有些牵强，但这属于每个人对每个问题而见解不同，因而较强的数据分析能力，需要我们在实际工作中进行慢慢培养出来。同时这篇文章很好的将pandas库运用到其中，这个也可以帮助我们学以致用，用而学，会起到更好的效果。</p> 
<h5><a id="1_2"></a>1、案例背景</h5> 
<p>  足球运动是最受欢迎的运动之一。在此万受瞩目的运动下，打算针对足球运动员个人的信息，技能水平等各项指标进行相关的分析与统计。例如，我们可能会关注如下的内容：</p> 
<ul><li>足球运动员是否受出生日期的影响？</li><li>左撇子适合踢足球吗？</li><li>足球运动员的号码是否与位置相关？</li><li>足球运动员的年龄与能力具有怎样的关联？</li></ul> 
<h5><a id="2_10"></a>2、任务说明</h5> 
<p>  目前，我们收集到了某年现役运动员的数据集data.csv。我们希望通过该数据集，针对众多的足球运动员进行分析与统计，从而能够发现一些关于足球运动员的特征，解开我们上述疑问。</p> 
<h4><a id="3_12"></a>3、数据列名的含义</h4> 
<p><img src="https://images2.imgbox.com/4e/5a/s75HJQ46_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4_14"></a>4、足球场上各位置说明</h5> 
<p><img src="https://images2.imgbox.com/c2/d3/5DexrmEB_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="5_16"></a>5、什么是数据分析？</h5> 
<p>  数据分析指的就是利用统计学知识，对一系列杂乱无章的数据进行数据分析前的预处理，同时结合数据的具体应用场景，提炼出数据中的有效信息，帮助我们定位、分析、解决某些问题，高效决策。</p> 
<h5><a id="6_18"></a>6、数据分析的基本流程</h5> 
<p>明确需求<br> 数据收集<br>   内部数据<br>   购买数据<br>   爬取数据<br>   调查问卷<br> 数据预处理<br>   数据清洗<br>     缺失值<br>     异常值<br>     重复值<br>   数据转换<br> 数据分析<br>   数据建模<br>   数据可视化<br> 编写报告</p> 
<h5><a id="7_35"></a>7、理解流程</h5> 
<p>  现在网上最常见的一种比喻数据分析流程的方式，就是利用“炒菜”来对比“数据分析的每个流程”。</p> 
<table><thead><tr><th>做菜步骤</th><th>数据分析步骤</th></tr></thead><tbody><tr><td>确定做菜</td><td>明确需求与目的</td></tr><tr><td>买菜</td><td>数据收集</td></tr><tr><td>洗菜</td><td>数据清洗</td></tr><tr><td>切菜</td><td>数据转换</td></tr><tr><td>炒菜</td><td>数据分析</td></tr><tr><td>盛菜</td><td>数据可视化</td></tr><tr><td>写日记</td><td>编写报告</td></tr></tbody></table> 
<h6><a id="1_46"></a>1）熟悉数据集</h6> 
<p>  熟悉数据集，就是在进行数据处理之前，应该先熟悉数据，只有对数据充分熟悉之后，才能更好的进行分析。<br>   熟悉数据常用的方法和属性有shape、head()、tail()、sample()、info()、describe()。</p> 
<ul><li>shape：以元组形式返回数据集的行、列大小。</li><li>head()或tail()：当数据量过大时，我们不可能直接查看所有数据，这样会很消耗电脑内存，因此，使用head()或tail()，可以默认返回数据集的前五行、后五行的数据；当向head()或tail()中传入整数n时，则可以返回任意前n行、后n行的数据。</li><li>sample()：向方法中传入整数n时，则会从当前数据集中随机抽样n条记录显示出来，对于我们了解数据很有帮助。</li><li>info()：可以显示每列的列名、非空值数量、数据类型，内存占用等信息。</li><li>describe()：可以帮助我们掌握数值的分布情况，会返回每个字段的count()、mean()、std()、min()、25%、50%、75%、max()。对于非数值型字段，只会显示count()计数。</li></ul> 
<h6><a id="2_55"></a>2）缺失值处理</h6> 
<p>  缺失值就是由于某些原因导致部分数据为空。进行缺失值处理之前，首先应该查看是否有缺失值。</p> 
<p>① 检查缺失值的办法：一般有以下两种处理方式；</p> 
<ul><li>1、通过info查看数据信息。</li><li>2、可以通过isnull与sum结合，查看缺失值情况。</li></ul> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>② 缺失值的处理办法：一般也有两种处理方式；</p> 
<ul><li>1、直接删除(当某一列或某一行存在大量的缺失值的时候)。</li><li>2、采用某个值填充。</li></ul> 
<p>③ 直接删除缺失值<br>   采用dropna()方法，默认删除所有含有缺失行的数据（即：某一行只有要一个字段缺失，就删除）。传入参数how=”all”，只删除那些全为空的行。</p> 
<pre><code class="prism language-python"><span class="token comment"># inplace=True表示原地修改数据集</span>
data<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> 

<span class="token comment"># 对删除后缺失值后的数据集，再次进行缺失值统计</span>
data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> 
</code></pre> 
<p>④ 填充<br>   可以采用均值、中位数、众数、附近值进行填充。<br>   对于缺失值填充，这里做一个简单的说明：1、当数据服从正态分布，这时候可以采用均值填充；2、当数据为偏态分布（不管左偏还是右偏），则采用中位数进行填充；3、若某个字段为离散型数据，则最好采用众数填充；4、若像温度这样的数据，前后时刻之间的温度关联肯定是最大的，这时采用前后时刻温度进行填充更好。</p> 
<h6><a id="3_84"></a>3）异常值处理</h6> 
<p>  异常值：就是和正常数据相比，过高或者过低的数据。<br>   异常值检测：对异常值进行检测，主要有以下几种方式：1、根据业务需求和经验对不同指标所划分的范围，超过指定范围的数据叫做异常值；2、绘制箱线图，大于上边缘和小于下边缘的数据叫做异常值；3、通过descride()函数，可以找出数据的25%和75%分位数，然后把“小于q1+1.5IQR，大于q3+1.5IQR”的数据叫做异常值，q1为25%分位数，q3为75%分位数，IQR= q3- q1的差值。<br>   异常值处理：主要有三种处理办法。1、直接删除；2、把异常值当做缺失值填充；3、把异常值当做特殊情况，研究异常值出现的原因。</p> 
<h6><a id="4_89"></a>4）重复值处理</h6> 
<p>  重复数据，指的是数据集中同样的记录有多条。对于这样的数据一般就是直接删除。<br>   重复值的检测：data.duplicated().sum()可以查看，重复数据有多少行。<br>   重复值的删除：data.drop_duplicates(inplace=True)。<br>   上述函数可以配合使用参数subset=[]和keep进行调整，具体需要的时候，再百度自学。</p> 
<h5><a id="_95"></a>二、数据分析代码</h5> 
<h5><a id="1_96"></a>1、导入相关的库</h5> 
<pre><code class="prism language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np 
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd 
<span class="token keyword">import</span> matplotlib <span class="token keyword">as</span>  mpl
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span>  plt 
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> warnings

<span class="token comment"># 用来显示中文标签</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"font.family"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"SimHei"</span>

<span class="token comment"># 用来显示负号</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">"axes.unicode_minus"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span>

<span class="token comment"># 有时候运行代码时会有很多warning输出，像提醒新版本之类的，如果不想这些乱糟糟的输出，可以使用如下代码</span>
warnings<span class="token punctuation">.</span>filterwarnings<span class="token punctuation">(</span><span class="token string">'ignore'</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/ac/16/zvzU6jJR_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="2datacsv_116"></a>2、读取data.csv数据集</h5> 
<p>① 读取数据集</p> 
<pre><code class="prism language-python">data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"G:\\2大数据学习\\data.csv"</span><span class="token punctuation">,</span>engine<span class="token operator">=</span><span class="token string">"python"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8-sig"</span><span class="token punctuation">)</span>
</code></pre> 
<ul><li>当文件路径中存在中文时，需要设置engine参数来指定默认引擎为python，否则会报错。</li><li>utf-8-sig这个编码在windows系统中是常见的。不带有BOM格式的数据才是标准的utf8，但是在windows下，用记事本打开一个文本文件，另存为utf-8格式后，该文件开头就会被带上BOM头信息。这个时候当我们指定编码为utf8，会报错，因此我们就需要指定编码为utf-8-sig，告诉系统该文件的编码是带有BOM格式的utf8编码文件。</li></ul> 
<p>② 熟悉数据集的几种方式</p> 
<pre><code class="prism language-python"><span class="token comment"># 查看数据集共有多少行、多少列</span>
data<span class="token punctuation">.</span>shape

<span class="token comment"># 查看数据集的前5行</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 查看数据集的后5行</span>
data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 随机从数据集中抽取5行，显示</span>
data<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 显示每列的列名、非空值数量、数据类型，内存占用等信息。</span>
data<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 此函数可以帮助我们掌握数据的分布情况</span>
data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>注意：head()、tail()和sample()方法中都可以传入一个整数值，head(10)表示显示前10行，tail(10)表示显示后10行，sample(10)表示任意抽取10行显示。</p> 
<p>③ 设置DataFrame最大显示列数<br>   DataFrame在显示数据时，若列数较多，中间会将一些列省略掉，变为省略号，而我们往往又需要查看全部列的情况，这个时候就需要设置DataFrame最大显示列数。</p> 
<pre><code class="prism language-python">pd<span class="token punctuation">.</span>set_option<span class="token punctuation">(</span><span class="token string">"display.max_columns"</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
</code></pre> 
<p>④ 选取指定列，进行相关的数据分析<br>   有时候，数据集中的列，并非都是我们分析所需要的，我们可以有选择性的进行加载，只加载我们需要的信息列(特征列)。</p> 
<pre><code class="prism language-python">columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token string">"Age"</span><span class="token punctuation">,</span> <span class="token string">"Nationality"</span><span class="token punctuation">,</span> <span class="token string">"Overall"</span><span class="token punctuation">,</span> <span class="token string">"Potential"</span><span class="token punctuation">,</span> <span class="token string">"Club"</span><span class="token punctuation">,</span> 
           <span class="token string">"Value"</span><span class="token punctuation">,</span> <span class="token string">"Wage"</span><span class="token punctuation">,</span> <span class="token string">"Preferred Foot"</span><span class="token punctuation">,</span><span class="token string">"Position"</span><span class="token punctuation">,</span> <span class="token string">"Jersey Number"</span><span class="token punctuation">,</span> 
           <span class="token string">"Joined"</span><span class="token punctuation">,</span><span class="token string">"Height"</span><span class="token punctuation">,</span> <span class="token string">"Weight"</span><span class="token punctuation">,</span> <span class="token string">"Crossing"</span><span class="token punctuation">,</span><span class="token string">"Finishing"</span><span class="token punctuation">,</span><span class="token string">"HeadingAccuracy"</span><span class="token punctuation">,</span>
           <span class="token string">"ShortPassing"</span><span class="token punctuation">,</span> <span class="token string">"Volleys"</span><span class="token punctuation">,</span><span class="token string">"Dribbling"</span><span class="token punctuation">,</span> <span class="token string">"Curve"</span><span class="token punctuation">,</span><span class="token string">"FKAccuracy"</span><span class="token punctuation">,</span><span class="token string">"LongPassing"</span><span class="token punctuation">,</span>
           <span class="token string">"Jumping"</span><span class="token punctuation">,</span><span class="token string">"Stamina"</span><span class="token punctuation">,</span><span class="token string">"Strength"</span><span class="token punctuation">,</span><span class="token string">"Aggression"</span><span class="token punctuation">,</span><span class="token string">"Interceptions"</span><span class="token punctuation">,</span><span class="token string">"Positioning"</span><span class="token punctuation">,</span>
           <span class="token string">"Vision"</span><span class="token punctuation">,</span><span class="token string">"Penalties"</span><span class="token punctuation">,</span><span class="token string">"Marking"</span><span class="token punctuation">,</span><span class="token string">"StandingTackle"</span><span class="token punctuation">,</span> <span class="token string">"SlidingTackle"</span><span class="token punctuation">,</span><span class="token string">"GKDiving"</span><span class="token punctuation">,</span>
           <span class="token string">"GKHandling"</span><span class="token punctuation">,</span><span class="token string">"GKKicking"</span><span class="token punctuation">,</span><span class="token string">"GKPositioning"</span><span class="token punctuation">,</span> <span class="token string">"GKReflexes"</span><span class="token punctuation">,</span> <span class="token string">"Release Clause"</span><span class="token punctuation">]</span>
           
pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"G:\\2大数据学习\\data.csv"</span><span class="token punctuation">,</span>engine<span class="token operator">=</span><span class="token string">"python"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8-sig"</span><span class="token punctuation">,</span>usecols<span class="token operator">=</span>columns<span class="token punctuation">)</span>

<span class="token comment"># 查看数据集共有多少行、多少列</span>
data<span class="token punctuation">.</span>shape

<span class="token comment"># 查看数据集的前5行</span>
data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 查看数据集的后5行</span>
data<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 随机从数据集中抽取5行，显示</span>
data<span class="token punctuation">.</span>sample<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 显示每列的列名、非空值数量、数据类型，内存占用等信息。</span>
data<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 此函数可以帮助我们掌握数据的分布情况</span>
data<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>info()方法的结果显示如下：<br> <img src="https://images2.imgbox.com/03/8f/4K2Em1Bt_o.png" alt="在这里插入图片描述"><br> 截取describe()方法的部分结果如下：<br> <img src="https://images2.imgbox.com/42/69/kWF1WcCM_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="3_190"></a>3、缺失值处理</h5> 
<h6><a id="1_191"></a>1）查看缺失值</h6> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/ab/eb/8OEjkKDR_o.png" alt="在这里插入图片描述"><br> 结果分析：通过上面的展示可以发现，info()方法虽然可以看到哪些字段具有缺失值，但是并不直观。通过data.isnull().sum(axis=0)结果显示，可以很清楚的看到哪些字段具有缺失值，有多少个缺失值。</p> 
<h6><a id="2_200"></a>2）删除缺失值</h6> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/39/03/6ucyJPkM_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="4_207"></a>4、异常值处理</h5> 
<p>① info()方法展示出的信息<br> <img src="https://images2.imgbox.com/17/7e/PuJiCmjC_o.png" alt="在这里插入图片描述"><br> 结果分析：上图截取了部分列的结果展示，其中count表示非空记录数；mean表示该列所有数据的均值；std表示该列所有数据的标准差；min表示该列数据中的最小值；max表示该列数据中的最大值；25%表示该列中有1/4的数据，小于该值；50%表示该列中有1/2的数据，小于该值；75%表示该列中有3/4的数据，小于该值；</p> 
<p>② 利用箱线图，查看异常值<br>  由于数据集列数太多，因此我随意选取两列画出其箱线图进行展示。</p> 
<pre><code class="prism language-python">sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">(</span>data<span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"Age"</span><span class="token punctuation">,</span> <span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/7a/fc/WgzCJAQC_o.png" alt="在这里插入图片描述"><br> 结果分析：此数据集主要是一些打分情况，几乎没有什么特别的异常值，同时有时候一些异常值数据的产生也是合理的，并不是能够随意删除的，因此实际生产中，可以按照上述介绍的方法，结合实际业务进行异常值的处理。</p> 
<h5><a id="5_222"></a>5、重复值处理</h5> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>duplicated<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># data.drop_duplicates(inplace=True)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/4b/f6/0OdVMufV_o.png" alt="在这里插入图片描述"><br> 结果分析：从上面的结果中可以看出，此数据集中没有重复的数据，duplicated()函数默认是将两行完全一样的记录，称之为“重复值”，当然此函数还有一些其他参数，供我们选择，你可以根据需求，随意指定某两行数据有多少个字段相同，可以称之为“重复值”。当数据集中含有重复值的时候，可以使用这句代码data.drop_duplicates(inplace=True)原地删除数据集中的重复值。</p> 
<h5><a id="6_231"></a>6、足球运动员的身高体重分布</h5> 
<h6><a id="1_232"></a>1）数据转换</h6> 
<p>  想要统计身高与体重的分布情况，由于数据集中的身高与体重数据并不是我们熟悉的身高与体重的单位，同时也并不是数值类型的数据，因此处理之前需要我们先做数据转换。</p> 
<ul><li>1英尺 = 30.48厘米</li><li>1英寸 = 2.54厘米</li><li>1磅 = 0.45千克</li></ul> 
<p>原始数据展示如下：<br> <img src="https://images2.imgbox.com/83/44/sruLTLuD_o.png" alt="在这里插入图片描述"><br> 代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">tran_height</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>
	v <span class="token operator">=</span> height<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"'"</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">30.48</span> <span class="token operator">+</span> <span class="token builtin">int</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2.54</span>

<span class="token keyword">def</span> <span class="token function">tran_weight</span><span class="token punctuation">(</span>weight<span class="token punctuation">)</span><span class="token punctuation">:</span>
	v <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>weight<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"lbs"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
	<span class="token keyword">return</span> v<span class="token operator">*</span><span class="token number">0.45</span>

</code></pre> 
<p>处理后的结果展示如下：<br> <img src="https://images2.imgbox.com/bc/99/NBHJmtdO_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2_253"></a>2）绘制核密度图</h6> 
<pre><code class="prism language-python">fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> 
fig<span class="token punctuation">.</span>set_size_inches<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">"Height"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"g"</span><span class="token punctuation">)</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"Weight"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span> ax<span class="token operator">=</span>ax<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/dc/b0/POALzzkN_o.png" alt="在这里插入图片描述"><br> 结果分析：通过上图展示可以发现，足球运动员的身高和体重的分布近似呈现正态分布，这个也与显示情况相似，身高和体重处在两端的人数较少，处在均值附近的人数最多。当数据量足够大的时候，根据中心极限定理可以知道，数据集的结果几乎呈现一个正态分布。</p> 
<h5><a id="7_263"></a>7、左撇子适合踢足球吗？</h5> 
<h6><a id="1_264"></a>1）数量上对比</h6> 
<pre><code class="prism language-python">number <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span> 
display<span class="token punctuation">(</span>number<span class="token punctuation">)</span>

sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/82/90/gDGfll5B_o.png" alt="在这里插入图片描述"><br> 结果分析：Preferred Foot这个字段指的是足球运动员的惯用脚，通过上图展示的左脚和右脚的数量上的对比分析可以发现，左脚人数明显多于右脚的人数。</p> 
<h6><a id="2_276"></a>2）能力上对比</h6> 
<pre><code class="prism language-python">data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Overall"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/21/d7/0v2JScT3_o.png" alt="在这里插入图片描述"><br> 结果分析：Overall这个字段指的是足球运动员的综合能力评分，这里我们将子球运动员的惯用脚进行分组后，求出足球运动员的综合能力评分，可以看出左脚和右脚的综合能力得分，没有太大区别。</p> 
<h6><a id="3_286"></a>3）位置上对比</h6> 
<p>  由于在综合能力上体现不明显，我们现在通过每个位置，进行更细致的分析。为了分析的客观性，我们只统计左脚与右脚都超过50人（含50人）的位置。</p> 
<p>① 首先，计算哪些位置左右脚球员都达到了50人。</p> 
<pre><code class="prism language-python">t <span class="token operator">=</span> data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">,</span> <span class="token string">"Position"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span> 
t <span class="token operator">=</span> t<span class="token punctuation">.</span>unstack<span class="token punctuation">(</span><span class="token punctuation">)</span>
t<span class="token punctuation">[</span>t <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>NaN t<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> 
display<span class="token punctuation">(</span>t<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/c2/3d/ikEM6nRK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9c/ba/uxhftErp_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/81/5d/IOhFpP0W_o.png" alt="在这里插入图片描述"><br> ② 然后，我们根据之前计算的那些位置，对数据集进行过滤。</p> 
<pre><code class="prism language-python">display<span class="token punctuation">(</span>t<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>
t2 <span class="token operator">=</span> data<span class="token punctuation">[</span>data<span class="token punctuation">[</span><span class="token string">"Position"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>isin<span class="token punctuation">(</span>t<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">]</span> 
plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Position"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Overall"</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">"Preferred Foot"</span><span class="token punctuation">,</span> hue_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"Left"</span><span class="token punctuation">,</span> <span class="token string">"Right"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token operator">=</span>t2<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/3f/4f/58Y6qf76_o.png" alt="在这里插入图片描述"><br> 结果分析：从上图中可以清晰地看出，左脚选手更适合RW(右边锋)的位置。而在其他位置上，左右脚的人数差别并没有显著性的差异。</p> 
<h5><a id="8top10_313"></a>8、哪个的俱乐部、国家拥有综合能力更好的球员(展示top10)。</h5> 
<p>  由于每个俱乐部、国家队足球年动员的人数不一，为了统计的客观性，只考虑人数达到一定规模的俱乐部、国家。</p> 
<h6><a id="1_315"></a>1）俱乐部</h6> 
<pre><code class="prism language-python">g <span class="token operator">=</span> data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">"Club"</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> g<span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"mean"</span><span class="token punctuation">,</span> <span class="token string">"count"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
r <span class="token operator">=</span> r<span class="token punctuation">[</span>r<span class="token punctuation">[</span><span class="token string">"count"</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">]</span>
r <span class="token operator">=</span> r<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">"mean"</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> 
display<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
r<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/a6/34/vJ9QSCOD_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a1/f6/4xjmqURn_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/14/f4/XrAN9XLB_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="2_329"></a>2）国家队</h6> 
<pre><code class="prism language-python">g <span class="token operator">=</span> data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">"Nationality"</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> g<span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>agg<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"mean"</span><span class="token punctuation">,</span> <span class="token string">"count"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
r <span class="token operator">=</span> r<span class="token punctuation">[</span>r<span class="token punctuation">[</span><span class="token string">"count"</span><span class="token punctuation">]</span> <span class="token operator">&gt;=</span> <span class="token number">50</span><span class="token punctuation">]</span>
r <span class="token operator">=</span> r<span class="token punctuation">.</span>sort_values<span class="token punctuation">(</span><span class="token string">"mean"</span><span class="token punctuation">,</span> ascending<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> 
display<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
r<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/cd/ea/fM2gpkyM_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="95_341"></a>9、哪些俱乐部拥有效力更久的球员(5年及以上)？</h5> 
<pre><code class="prism language-python">t <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"Joined"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
t <span class="token operator">=</span> t<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">)</span>
join_year <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> item<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
over_five_year <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">2018</span> <span class="token operator">-</span> join_year<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">5</span>
t2 <span class="token operator">=</span> data<span class="token punctuation">[</span>over_five_year<span class="token punctuation">]</span>
t2 <span class="token operator">=</span> t2<span class="token punctuation">[</span><span class="token string">"Club"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span>
display<span class="token punctuation">(</span>t2<span class="token punctuation">)</span> 
t2<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/11/d8/DiiHV4IL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/28/e5/hthySoan_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/90/6b/s3XyzalX_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="10_358"></a>10、足球运动员是否是出生日期相关？</h5> 
<p>  我们现有的数据集中，不含有具体的出生日期，因此，我们使用另外一个数据集，该数据集包含2018年世界杯所有球员。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-python">data2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"G:\\2大数据学习\\wc2018-players.csv"</span><span class="token punctuation">,</span>engine<span class="token operator">=</span><span class="token string">"python"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8-sig"</span><span class="token punctuation">)</span> 
data2<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> data2<span class="token punctuation">[</span><span class="token string">"Birth Date"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">,</span> expand<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
t<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
t<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
t<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/51/63/Y6ejT6zE_o.png" alt="在这里插入图片描述"><br> 结论如下：对于球员与出生日期这张图，并看不出一定的规律性，由于样本量并不够大，不同日期的球员数量差别10个左右，并不能说明什么问题。对于球员与出生月份这张图，可以看出年初出生的运动员比年尾出生的运动员多，由于年初出生的运动员和年尾出生的运动员，都是同一年的，但是年初出生的运动员比年尾出生的运动员，要多学习了那么几个月，因此能力稍微更强、更有一些经验，因此在同龄人选拔的时候，会更有优势一些(这个是概率问题，并不是说年尾出生的运动员优秀的不多)。对于球员与出生年份这张图，可以看出本阶段球员中1992年出生的球员最多，1999出生的球员最少。</p> 
<p>足球运动员与出生日期是有关的，在年初出生的运动员要明显多于在年末出生的运动员。</p> 
<h5><a id="11_376"></a>11、足球运动员号码是否与位置相关？</h5> 
<pre><code class="prism language-python">g <span class="token operator">=</span> data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"Jersey Number"</span><span class="token punctuation">,</span> <span class="token string">"Position"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
t <span class="token operator">=</span> g<span class="token punctuation">.</span>size<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#display(t)</span>
t <span class="token operator">=</span> t<span class="token punctuation">[</span>t <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">]</span>
t<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>kind<span class="token operator">=</span><span class="token string">"bar"</span><span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/60/b1/e3lKcUES_o.png" alt="在这里插入图片描述"><br> 结论如下：球员的号码与位置是相关的，例如，1号通常都是守门员，9号通常是中锋等，这个在图中有着很好的体现。</p> 
<h5><a id="12_388"></a>12、身价与薪水，违约金是否相关？</h5> 
<p>  因为身价与违约金的单位既有M，也有K，为了便于分析，我们统一使用K作为单位，同时，将类型转换为数值类型，便于统计。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">to_numeric</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">:</span>
	item <span class="token operator">=</span> item<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"€"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span> 
	value <span class="token operator">=</span> <span class="token builtin">float</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> item<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"M"</span><span class="token punctuation">:</span> 
		value <span class="token operator">*=</span> <span class="token number">1000</span>
	<span class="token keyword">return</span> value

data<span class="token punctuation">[</span><span class="token string">"Value"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"Value"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>to_numeric<span class="token punctuation">)</span> 
data<span class="token punctuation">[</span><span class="token string">"Wage"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"Wage"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>to_numeric<span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">"Release Clause"</span><span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"Release Clause"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>to_numeric<span class="token punctuation">)</span> data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Value"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Wage"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Value"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Release Clause"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Value"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Height"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/ca/e1/g1UJ8dXr_o.png" alt="在这里插入图片描述"><br> 结论如下：从上图可以看出，足球运动员的身价与薪水和违约金均存在一定的线性关系，但是身价和违约金的线性关系更强(具体是什么样的线性关系，就需要建模了)。因此可以得出足球运动员的身价与其薪水是紧密关联的，尤其是违约金，与身价的关联更大。最下面这张图是随意画的球员身价与升高的关系，可以看出球员身价与升高并没有什么关系。</p> 
<h5><a id="13_410"></a>13、哪些指标对综合评分的影响较大？</h5> 
<pre><code class="prism language-python">plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>data<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> annot<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fmt<span class="token operator">=</span><span class="token string">".2f"</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span>plt<span class="token punctuation">.</span>cm<span class="token punctuation">.</span>Greens<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">"corr.png"</span><span class="token punctuation">,</span> dpi<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> bbox_inches<span class="token operator">=</span><span class="token string">"tight"</span><span class="token punctuation">)</span>
</code></pre> 
<p>这张图就不展示结果了，由于图太大。</p> 
<h5><a id="14_419"></a>14、年龄与评分具有怎样的关系？</h5> 
<pre><code class="prism language-python">sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"Age"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"Overall"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>
data<span class="token punctuation">[</span><span class="token string">"Age"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>corr<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 对一个数组进行切分，可以将连续值变成离散值。</span>
<span class="token comment"># bins 指定区间数量（桶数）。bins如果为int类型，则进行等分。此处的区间边界与为前开后闭。</span>
<span class="token comment"># pd.cut(t["Age"], bins=4)</span>
<span class="token comment"># 如果需要进行区间的不等分，则可以将bins参数指定为数组类型。数组来指定区间的边界。</span>
min_<span class="token punctuation">,</span> max_ <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string">"Age"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">0.5</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token string">"Age"</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># pd.cut(t["Age"], bins=[min_, 20, 30, 40, max_])</span>
<span class="token comment"># pd.cut  默认显示的内容为区间的范围，如果我们希望自定义内容(每个区间显示的内容)，可以通过labels参数进行指定。</span>
t <span class="token operator">=</span> pd<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">"Age"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token punctuation">[</span>min_<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> max_<span class="token punctuation">]</span><span class="token punctuation">,</span> labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"弱冠之年"</span><span class="token punctuation">,</span> <span class="token string">"而立之年"</span><span class="token punctuation">,</span><span class="token string">"不惑之年"</span><span class="token punctuation">,</span><span class="token string">"知天命"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> 
g <span class="token operator">=</span> t<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token string">"Age"</span><span class="token punctuation">)</span> 
display<span class="token punctuation">(</span>g<span class="token punctuation">[</span><span class="token string">"Overall"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token string">"Overall"</span><span class="token punctuation">,</span> marker<span class="token operator">=</span><span class="token string">" "</span><span class="token punctuation">,</span> ms<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">"Age"</span><span class="token punctuation">,</span> data<span class="token operator">=</span>t<span class="token punctuation">)</span>
</code></pre> 
<p>结果如下：<br> <img src="https://images2.imgbox.com/6d/28/rMEQ7RSa_o.png" alt="在这里插入图片描述"><br> 结论如下：运动员随着年龄的增长，球员得到更多的锻炼与经验，总体能力提升，综合能力评分因此也不断增长，但三十几岁之后，由于体力等其它因素的影响，综合能力评分呈现下降趋势。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6e917439351ca3e9ec869df74346b55/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">queue的pop,top ?! 为什么会有segmentation fault !!!</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5dc98a934e17aa6bc0b3dcd3a9f3350b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Opencv之特征匹配</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>