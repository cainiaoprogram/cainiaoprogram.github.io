<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>后台管理系统中数据库存储文章用什么类型，mysql数据库中怎么存储大段文字呢？(1000个中文字符以上） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="后台管理系统中数据库存储文章用什么类型，mysql数据库中怎么存储大段文字呢？(1000个中文字符以上）" />
<meta property="og:description" content="问题 一个小型的文章系统的网站，用来存储内容content的字段，我选择的是varchar(8000),最多可容纳4000汉字，对绝大多数用户来说，应该够用了。但是一个问题是允许用户输入代码（HTML，JS，CSS等），实际上如果存储代码的话，会变得更多
那么是用varchar还是text?还是别的？
结论 用text
资料 TEXT TEXT有4有类型：
TINYTEXT 256bytesTEXT 64kbMEDIUMTEXT 16MbLONGTEXT 4GB 使用注解 @Lob @Basic(fetch=FetchType.LAZY) @Column(columnDefinition=&#34;TEXT&#34;,nullable=true) public String getContent() { return Content; } BLOB TINYBLOB
BLOB、MEDIUMBLOBLONGBLOB blob 保存的是二进制数据，利用这个特性，可以把图片存储到数据库里面。text只能存储文本。
使用注解 @Lob @Basic(fetch=FetchType.LAZY) @Column(columnDefinition=&#34;BLOB&#34;,nullable=true) public String getContent() { return Content; } TEXT 与 BLOG TEXT：存储可变长度的非Unicode数据，最大长度为 65535 (2^16-1) 个字符 。
MEDIUMTEXT ：存储可变长度的非Unicode数据，最大长度为 16777215 (2^24-1) 个字符。
LONGTEXT ：存储可变长度的非Unicode数据，最大长度为 2147483647 (2^32-1) 个字符。
TINYTEXT ：存储可变长度的非Unicode数据，最大长度为 255 (2^8-1) 个字符。
与TEXT类似的数据类型是BLOG，区别是
BLOB保存二进制数据，TEXT保存字符数据。
使用BLOB的优势在于文本和图片都可以以二进制的形式存储在数据库中。但是，不幸的是，现在大部分得图片都是以标签引入到前端的，而且图床和CDN的出现直接导致我们自己的数据库中只会存储文本数据，也就是说比较常用的是 TEXT。
BLOB列没有字符集，排序和比较基于列值字节的数值。TEXT列有一个字符集，会根据字符集的校对规则对值进行排序和比较 。那么，在存储包含中文字符时，建议使用 TEXT。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/330ef75f1400739387b86167c8d7a508/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-18T16:15:17+08:00" />
<meta property="article:modified_time" content="2023-05-18T16:15:17+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">后台管理系统中数据库存储文章用什么类型，mysql数据库中怎么存储大段文字呢？(1000个中文字符以上）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>问题</h2> 
<p>一个小型的文章系统的网站，用来存储内容content的字段，我选择的是varchar(8000),最多可容纳4000汉字，对绝大多数用户来说，应该够用了。但是一个问题是允许用户输入代码（HTML，JS，CSS等），实际上如果存储代码的话，会变得更多</p> 
<p><mark>那么是用varchar还是text?还是别的？</mark></p> 
<h2><a id="_4"></a>结论</h2> 
<p>用<mark>text</mark></p> 
<h2><a id="_8"></a>资料</h2> 
<h3><a id="TEXT_9"></a>TEXT</h3> 
<p>TEXT有4有类型：</p> 
<ul><li>TINYTEXT 256bytes</li><li>TEXT 64kb</li><li>MEDIUMTEXT 16Mb</li><li>LONGTEXT 4GB</li></ul> 
<h4><a id="_16"></a>使用注解</h4> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Lob</span>
<span class="token annotation punctuation">@Basic</span><span class="token punctuation">(</span>fetch<span class="token operator">=</span><span class="token class-name">FetchType</span><span class="token punctuation">.</span>LAZY<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>columnDefinition<span class="token operator">=</span><span class="token string">"TEXT"</span><span class="token punctuation">,</span>nullable<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token class-name">Content</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="BLOB_26"></a>BLOB</h3> 
<p>TINYBLOB</p> 
<ul><li>BLOB、</li><li>MEDIUMBLOB</li><li>LONGBLOB</li></ul> 
<p>blob 保存的是二进制数据，利用这个特性，可以把图片存储到数据库里面。text只能存储文本。</p> 
<h4><a id="_33"></a>使用注解</h4> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Lob</span>
<span class="token annotation punctuation">@Basic</span><span class="token punctuation">(</span>fetch<span class="token operator">=</span><span class="token class-name">FetchType</span><span class="token punctuation">.</span>LAZY<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>columnDefinition<span class="token operator">=</span><span class="token string">"BLOB"</span><span class="token punctuation">,</span>nullable<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">return</span> <span class="token class-name">Content</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="TEXT__BLOG_43"></a>TEXT 与 BLOG</h3> 
<p><code>TEXT</code>：存储可变长度的非Unicode数据，最大长度为 65535 (2^16-1) 个字符 。</p> 
<p><code>MEDIUMTEXT</code> ：存储可变长度的非Unicode数据，最大长度为 16777215 (2^24-1) 个字符。</p> 
<p><code>LONGTEXT </code>：存储可变长度的非Unicode数据，最大长度为 2147483647 (2^32-1) 个字符。</p> 
<p><code>TINYTEXT </code>：存储可变长度的非Unicode数据，最大长度为 255 (2^8-1) 个字符。</p> 
<p>与TEXT类似的数据类型是BLOG，区别是</p> 
<ul><li> <p>BLOB保存二进制数据，TEXT保存字符数据。</p> </li><li> <p>使用BLOB的优势在于文本和图片都可以以二进制的形式存储在数据库中。但是，不幸的是，现在大部分得图片都是以标签引入到前端的，而且图床和CDN的出现直接导致我们自己的数据库中只会存储文本数据，也就是说比较常用的是 TEXT。</p> </li><li> <p>BLOB列没有字符集，排序和比较基于列值字节的数值。TEXT列有一个字符集，会根据字符集的校对规则对值进行排序和比较 。那么，在存储包含中文字符时，建议使用 TEXT。</p> </li></ul> 
<h3><a id="TEXT__BLOG__61"></a>TEXT 与 BLOG 的共同点：</h3> 
<ul><li> <p>有四种不同字符长度限制的数据类型</p> </li><li> <p>当保存或检索BLOB和TEXT列的值时不删除尾部空格。</p> </li><li> <p>对于BLOB和TEXT列的索引，必须指定索引前缀的长度。</p> </li><li> <p>BLOB和TEXT列不能有默认值。</p> </li><li> <p>当排序时只使用该列的前max_sort_length个字节。max_sort_length的 默认值是1024。</p> </li><li> <p>当你想要使超过max_sort_length的字节有意义，对含长值的BLOB或TEXT列使用GROUP BY或ORDER BY的另一种方式是将列值转换为固定长度的对象。标准方法是使用SUBSTRING函数。</p> </li><li> <p>BLOB或TEXT对象的最大大小由其类型确定，但在客户端和服务器之间实际可以传递的最大值由可用内存数量和通信缓存区大小确定。你可以通过更改max_allowed_packet变量的值更改消息缓存区的大小，但必须同时修改服务器和客户端程序。</p> </li></ul> 
<p><mark>用法：如果不涉及存储图片与文本混合的二进制数据，或者存储中文文本是，建议使用TEXT</mark></p> 
<h3><a id="CHAR_VARCHAR_74"></a>CHAR与 VARCHAR</h3> 
<p><code>CHAR </code>用于存储固定长度的数据，CHAR字段上的索引效率级高，但是不适用于字符长度不确定的数据。比如定义char(10)，那么不论你存储的数据是否达到了10个字节，都要占去10个字节的空间。</p> 
<p><code>VARCHAR</code> 为了解决上面提到问题，SQL设计了专门存储可变长度的数据类型，但相应的损失存储效率。如果一个字段可能的值是不固定长度的，我们只知道它不可能超过10个字符，把它定义为 VARCHAR(10)是最合算的。</p> 
<p>VARCHAR类型的实际长度是它的值的实际长度+1。为什么“+1”呢？这一个字节用于保存实际使用了多大的长度。</p> 
<p><code>用法</code>：从空间上考虑，用varchar合适；从效率上考虑，用char合适，关键是根据实际情况找到权衡点。</p> 
<h3><a id="NCHARNVARCHARNTEXT_84"></a>NCHAR、NVARCHAR、NTEXT</h3> 
<p>在前面几种类型前加N。它表示存储的是Unicode数据类型的字符。</p> 
<ul><li> <p>英文一般只需要字母表和一些符号字符组成的编码表，因只需要一个字节就可以存储字符。但是中文里的每个汉字并不是字母的排列组合，需要更多的存储空间，一般会占用两个字节。</p> </li><li> <p>为了兼容不同语言的字符，需要使用 Unicode 字符集，它所有的字符都用两个字节表示，即英文字符也是用两个字节表示。</p> </li><li> <p>可以看出使用nchar、nvarchar数据类型时不用担心输入的字符是英文还是汉字，较为方便，但在存储英文时数量上有些损失。</p> </li></ul> 
<p><mark>用法：如果含有中文字符，用nchar/nvarchar，如果纯英文和数字，用char/varchar。</mark></p> 
<h3><a id="mysqltextlongtextmediumtext_97"></a>mysql中text,longtext,mediumtext区别</h3> 
<h4><a id="_98"></a>一、概览</h4> 
<p>在 MySQL 中，text、mediumtext 和 longtext 都是用来存储大量文本数据的数据类型。</p> 
<ul><li>TEXT：TEXT 数据类型可以用来存储最大长度为 65,535(2^16-1)个字符的文本数据。如果存储的数据超过了这个长度，MySQL 将会抛出错误。</li><li>MEDIUMTEXT：MEDIUMTEXT 数据类型可以用来存储最大长度为 16,777,215(2^24-1)个字符的文本数据。相比于 TEXT 类型，MEDIUMTEXT 类型可以存储更多的数据。</li><li>LONGTEXT：LONGTEXT 数据类型可以用来存储最大长度为 4,294,967,295(2^32-1)个字符的文本数据。它是所有文本类型中存储数据最多的一种。</li></ul> 
<p>在这些数据类型中，存储的数据越大，占用的存储空间也会越大。因此，在设计数据库时，应该根据实际情况来选择合适的数据类型，避免浪费存储空间。</p> 
<p>另外，需要注意的是，这些数据类型都是 Unicode 字符集（UTF-8）编码的。如果需要存储非 Unicode 字符集的数据，可以选择其他的数据类型，比如 CHAR 或 VARCHAR。</p> 
<p>除了存储容量上的差别，这些文本类型之间还有一些其他的区别。</p> 
<ul><li>存储空间：在存储相同的数据时，LONGTEXT 类型所占用的存储空间要比 MEDIUMTEXT 和 TEXT 类型更大。</li><li>性能：由于 LONGTEXT 类型占用的存储空间更大，因此在执行查询和排序等操作时，LONGTEXT 类型的数据需要更长的时间。</li><li>索引：由于文本类型的数据比较大，因此在使用索引时需要特别注意。如果要对文本类型的数据建立索引，需要使用前缀索引或全文索引等技术，以避免性能问题。<br> 数据类型：虽然这些文本类型都可以存储大量的文本数据，但是它们在 MySQL 中的数据类型是不同的。TEXT 类型是 TINYTEXT、TEXT、MEDIUMTEXT 和 LONGTEXT 中存储数据最小的一种。因此，如果需要存储较小的文本数据，可以使用 TINYTEXT 类型。</li></ul> 
<p>总之，在设计数据库时，应该根据实际需求选择合适的数据类型。如果需要存储较小的文本数据，可以使用 TINYTEXT 类型；如果需要存储大量的文本数据，则可以使用 MEDIUMTEXT 或 LONGTEXT 类型。在使用索引时，应该注意避免性能问题。</p> 
<h4><a id="_120"></a>二、字节限制不同</h4> 
<p>1、text 字段类型：text 字段类型的字节限制为 65535 字节。</p> 
<p>2、longtext 字段类型：longtext 字段类型的字节限制为 2147483647 字节。</p> 
<p>3、mediumtext 字段类型：mediumtext 字段类型的字节限制为 16777215 字节。</p> 
<h4><a id="IO__127"></a>三、I/O 不同</h4> 
<p>1、text 字段类型：text 字段类型比 longtext、mediumtext 字段类型更不容易造成多余的 I/O。</p> 
<p>2、longtext 字段类型：longtext 字段类型比 text、mediumtext 字段类型更容易造成多余的 I/O。</p> 
<p>3、mediumtext 字段类型：mediumtext 字段类型比 text 字段类型更容易造成多余的 I/O，比 longtext 字段类型更不容易造成多余的 I/O。</p> 
<h4><a id="_134"></a>四、行迁移不同</h4> 
<p>1、text 字段类型：text 字段类型比 longtext、mediumtext 字段类型更容易进行行迁移。</p> 
<p>2、longtext 字段类型：longtext 字段类型比 text、mediumtext 字段类型更不容易进行行迁移。</p> 
<p>3、mediumtext 字段类型：mediumtext 字段类型比 text 字段类型更不容易进行行迁移，比 longtext 字段类型更容易进行行迁移。</p> 
<h2><a id="_142"></a>感谢</h2> 
<p>以上内容参考<br> https://blog.csdn.net/strivenoend/article/details/80462044</p> 
<p>https://blog.csdn.net/u011262253/article/details/105587518</p> 
<p>https://blog.csdn.net/qyj19920704/article/details/123924672</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b1af72c42ec5759094876e8b8f136767/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ConstraintLayout布局中子控件长宽超出父控件不显示问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/52915ba112ad84eba03697dff47e0bf0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">yii2框架的优缺点以及一些坑</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>