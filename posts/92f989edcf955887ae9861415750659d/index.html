<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>思科RSTP组网实验（快速生成树协议） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="思科RSTP组网实验（快速生成树协议）" />
<meta property="og:description" content="1.1.1 RSTP简介 RSTP协议是在STP协议（生成树协议）的基础上进行了部分改进，实现网络拓扑的快速收敛。简单理解，RSTP比STP快！并且拥有STP协议的所有内容。（个人理解而已，非专业解释！）
1.1.2 组网拓扑图 1.1.3 实验目标 两处的计算机网络通过两台交换机互连组成内部网,为了提高网络的可靠性,作为网络管理员,你要用2条链路将交换机互连,现要求在交换机上做适当配置,使网络避免环路。 1.1.4 全局配置命令 （1）SW0交换机跟网桥的配置
Switch&gt;en Switch#conf t Switch(config)#vlan 10	//创建VLAN Switch(config-vlan)#int f0/1	//进入接口 Switch(config-if)#switchport mode access //把接口设置成access模式 Switch(config-if)#switchport access vlan 10	//把接口划给vlan 10 Switch(config-if)#exit Switch(config)#int range f0/2 - 3	//批量操作f0/1和f0/2 Switch(config-if-range)#switchport mode trunk //接口模式设置为trunk模式 Switch(config-if-range)#switchport trunk allowed vlan all	//允许所有VLAN通过 Switch(config-if-range)#exit Switch(config)#spanning-tree mode rapid-pvst //生成树配置从快速生成树RSTP模式 Switch(config)#spanning-tree vlan 10 priority 4096 //把SWO交换机配置成根网桥 （2）SW1交换机备份网桥的配置（交换机生成树的默认优先级为327268）
Switch&gt;en Switch(config)#vlan 10 Switch(config-vlan)#int f0/1 Switch(config-if)#switchport mode access Switch(config-if)#switchport access vlan 10 Switch(config-if)#exit Switch(config)#int range f0/2 - 3 Switch(config-if-range)#switchport mode trunk Switch(config-if-range)#switchport trunk allowed vlan all Switch(config-if-range)#exit Switch(config)#spanning-tree mode rapid-pvst 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/92f989edcf955887ae9861415750659d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-01T10:49:16+08:00" />
<meta property="article:modified_time" content="2022-08-01T10:49:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">思科RSTP组网实验（快速生成树协议）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1.1.1     RSTP简介</h2> 
<p>             RSTP协议是在STP协议（生成树协议）的基础上进行了部分改进，实现网络拓扑的快速收敛。简单理解，RSTP比STP快！并且拥有STP协议的所有内容。（个人理解而已，非专业解释！）</p> 
<hr> 
<h2>1.1.2     组网拓扑图</h2> 
<p><img alt="" height="342" src="https://images2.imgbox.com/56/a8/ZsLlemZb_o.png" width="684"></p> 
<h2> 1.1.3        实验目标              </h2> 
<ul><li style="text-align:justify;">两处的计算机网络通过两台交换机互连组成内部网,为了提高网络的可靠性,作为网络管理员,你要用2条链路将交换机互连,现要求在交换机上做适当配置,使网络避免环路。</li></ul> 
<h2 style="text-align:justify;"> 1.1.4        全局配置命令</h2> 
<p>        （1）SW0交换机跟网桥的配置</p> 
<pre><code>Switch&gt;en
Switch#conf t
Switch(config)#vlan 10	//创建VLAN
Switch(config-vlan)#int f0/1	//进入接口
Switch(config-if)#switchport mode access 	//把接口设置成access模式
Switch(config-if)#switchport access vlan 10		//把接口划给vlan 10
Switch(config-if)#exit
Switch(config)#int range f0/2 - 3	//批量操作f0/1和f0/2
Switch(config-if-range)#switchport mode trunk 	//接口模式设置为trunk模式
Switch(config-if-range)#switchport trunk allowed vlan all	//允许所有VLAN通过
Switch(config-if-range)#exit
Switch(config)#spanning-tree mode rapid-pvst 	//生成树配置从快速生成树RSTP模式
Switch(config)#spanning-tree vlan 10 priority 4096 	//把SWO交换机配置成根网桥
</code></pre> 
<p>        （2）SW1交换机备份网桥的配置（交换机生成树的默认优先级为327268）</p> 
<p class="img-center"><img alt="" height="78" src="https://images2.imgbox.com/62/71/0iTKzWtr_o.png" width="390"></p> 
<p></p> 
<pre><code>Switch&gt;en
Switch(config)#vlan 10
Switch(config-vlan)#int f0/1
Switch(config-if)#switchport mode access 
Switch(config-if)#switchport access vlan 10
Switch(config-if)#exit
Switch(config)#int range f0/2 - 3
Switch(config-if-range)#switchport mode trunk 
Switch(config-if-range)#switchport trunk allowed vlan all
Switch(config-if-range)#exit
Switch(config)#spanning-tree mode rapid-pvst 
</code></pre> 
<h2>1.1.5          RSTP二层网络的调试</h2> 
<pre><code>Switch#show spanning-tree 
VLAN0010
Spanning tree enabled protocol rstp
Root ID Priority 4106
Address 0060.5C86.A80D
This bridge is the root
Hello Time 2 sec Max Age 20 sec Forward Delay 15 sec

Bridge ID Priority 4106 (priority 4096 sys-id-ext 10)
Address 0060.5C86.A80D
Hello Time 2 sec Max Age 20 sec Forward Delay 15 sec
Aging Time 20

Interface Role Sts Cost Prio.Nbr Type
---------------- ---- --- --------- -------- --------------------------------
Fa0/2 Desg FWD 19 128.2 P2p	—端口，—状态，原因—
Fa0/3 Desg FWD 19 128.3 P2p	—端口，—状态，原因—
Fa0/1 Desg FWD 19 128.1 P2p	—端口，—状态，原因—


</code></pre> 
<p></p> 
<p class="img-center"><img alt="" height="370" src="https://images2.imgbox.com/62/66/NnghgTnY_o.png" width="365"></p> 
<p> <img alt="" height="257" src="https://images2.imgbox.com/cc/73/D10lYIhT_o.png" width="500"></p> 
<p>1.1.6        总结</p> 
<p>        本次实验的拓扑图比较简单，通过抓包实验后，对比STP组网实验，可以看出RSTP的作用。</p> 
<p>通过流量分析，可以更加清楚的知道STP和RSTP的工作原理。</p> 
<p></p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ec9ad072cbc5cebf5f52a985188c5002/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">yocto（六）——搭建yocto环境</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/82b2e2b824362a48f1dd87a75a3c3c99/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Zabbix笔记</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>