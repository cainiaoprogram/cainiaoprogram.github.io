<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>解放生产力！用Python结合GPT-4进行编程（下） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="解放生产力！用Python结合GPT-4进行编程（下）" />
<meta property="og:description" content="用GPT-4和Python自动处理枯燥的工作，通过让AI在几秒钟内编写Python代码来加快日常工作流程。
微信搜索关注《Python学研大本营》，加入读者群，分享更多精彩
2.与PDF文件一起工作 虽然这不是一个常见的数据科学应用案例，但有时人们不得不从数百个PDF文件中提取文本数据来建立一个情感分析模型。这些数据是非结构化的，需要花费很多时间对其进行提取和预处理。
偶尔，你可能还要与研究人员合作，阅读和创作特定行业的时事内容。需要紧跟新闻，分析公司报告，并了解该行业的潜在趋势。
阅读100页的公司报告，提取感兴趣的词，阅读包含这些关键词的句子。或者，如果对趋势感兴趣，可以创建一个自动化的工作流程来展示关键词随时间的增长，而不是手动浏览每一份报告。
在本部分中，我们将使用ChatGPT来分析Python中的PDF文件。我们将要求聊天机器人提取PDF文件的内容，并将其写入一个文本文件中。
同样，这将使用GPT-3.5和GPT-4分别来完成，以查看生成的代码是否有明显的区别。
用GPT-3.5读取PDF文件 在本部分中，将分析一份公开发布的PDF文件，标题为《工程师机器学习简介》。如果想继续编写本部分的代码，请务必下载该文件。
首先，要求算法生成Python代码，从这个PDF文档中提取数据并保存到一个文本文件中:
以下是该算法提供的完整代码：
import PyPDF2 # 以读二进制模式打开PDF文件 with open(&#34;Intro_to_ML.pdf&#34;, &#34;rb&#34;) as pdf_file: # 创建一个PDF阅读器对象 pdf_reader = PyPDF2.PdfFileReader(pdf_file) # 获取PDF文件的总页数 num_pages = pdf_reader.getNumPages() # 创建一个新的文本文件 with open(&#34;output_file.txt&#34;, &#34;w&#34;) as txt_file: # 循环浏览PDF文件中的每一页 for page_num in range(num_pages): # 从当前页获取文本 page_text = pdf_reader.getPage(page_num).extractText() # 把文本写到文本文件中 txt_file.write(page_text) (注意：确保将PDF文件名改为你在运行此代码前保存的文件名)。
但是，在运行GPT-3.5生成的代码后，遇到了以下unicode错误：
回到GPT-3.5，看看该模型是否能解决这个问题：
把这个错误粘贴到ChatGPT上，模型回复说可以通过把使用的编码改为utf-8来解决这个问题。它还给出了一些修改过的代码，反映了这一变化：
import PyPDF2 # 以读二进制模式打开PDF文件 with open(&#34;Intro_to_ML.pdf&#34;, &#34;rb&#34;) as pdf_file: # 创建一个PDF阅读器对象 pdf_reader = PyPDF2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/289033bd1b5b419c25447cccded420b3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-11T16:16:15+08:00" />
<meta property="article:modified_time" content="2023-07-11T16:16:15+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">解放生产力！用Python结合GPT-4进行编程（下）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>用GPT-4和Python自动处理枯燥的工作，通过让AI在几秒钟内编写Python代码来加快日常工作流程。</p> 
</blockquote> 
<p>微信搜索关注《Python学研大本营》，加入读者群，分享更多精彩</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/cf/c7/RqlZ76Mu_o.png"></p> 
<h3>2.与PDF文件一起工作</h3> 
<p>虽然这不是一个常见的数据科学应用案例，但有时人们不得不从数百个PDF文件中提取文本数据来建立一个情感分析模型。这些数据是非结构化的，需要花费很多时间对其进行提取和预处理。</p> 
<p>偶尔，你可能还要与研究人员合作，阅读和创作特定行业的时事内容。需要紧跟新闻，分析公司报告，并了解该行业的潜在趋势。</p> 
<p>阅读100页的公司报告，提取感兴趣的词，阅读包含这些关键词的句子。或者，如果对趋势感兴趣，可以创建一个自动化的工作流程来展示关键词随时间的增长，而不是手动浏览每一份报告。</p> 
<p>在本部分中，我们将使用ChatGPT来分析Python中的PDF文件。我们将要求聊天机器人提取PDF文件的内容，并将其写入一个文本文件中。</p> 
<p>同样，这将使用GPT-3.5和GPT-4分别来完成，以查看生成的代码是否有明显的区别。</p> 
<h4>用GPT-3.5读取PDF文件</h4> 
<p>在本部分中，将分析一份公开发布的PDF文件，标题为《工程师机器学习简介》。如果想继续编写本部分的代码，请务必下载该文件。</p> 
<p>首先，要求算法生成Python代码，从这个PDF文档中提取数据并保存到一个文本文件中:</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/ac/a7/CX399GFJ_o.png"></p> 
<p>以下是该算法提供的完整代码：</p> 
<pre><code>import PyPDF2

# 以读二进制模式打开PDF文件
with open("Intro_to_ML.pdf", "rb") as pdf_file:
    # 创建一个PDF阅读器对象
    pdf_reader = PyPDF2.PdfFileReader(pdf_file)

    # 获取PDF文件的总页数
    num_pages = pdf_reader.getNumPages()

    # 创建一个新的文本文件
    with open("output_file.txt", "w") as txt_file:
        # 循环浏览PDF文件中的每一页
        for page_num in range(num_pages):
            # 从当前页获取文本
            page_text = pdf_reader.getPage(page_num).extractText()

            # 把文本写到文本文件中
            txt_file.write(page_text)
</code></pre> 
<p>(注意：确保将PDF文件名改为你在运行此代码前保存的文件名)。</p> 
<p>但是，在运行GPT-3.5生成的代码后，遇到了以下<code>unicode</code>错误：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/7f/9d/dNofyfAD_o.png"></p> 
<p>回到GPT-3.5，看看该模型是否能解决这个问题：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/09/72/gBoi9d1w_o.png"></p> 
<p>把这个错误粘贴到ChatGPT上，模型回复说可以通过把使用的编码改为<code>utf-8</code>来解决这个问题。它还给出了一些修改过的代码，反映了这一变化：</p> 
<pre><code>import PyPDF2

# 以读二进制模式打开PDF文件
with open("Intro_to_ML.pdf", "rb") as pdf_file:
    # 创建一个PDF阅读器对象
    pdf_reader = PyPDF2.PdfFileReader(pdf_file)

    # 获取PDF文件的总页数
    num_pages = pdf_reader.getNumPages()

    # 创建一个具有utf-8编码的新文本文件
    with open("output_file.txt", "w", encoding="utf-8") as txt_file:
        # 循环浏览PDF文件中的每一页
        for page_num in range(num_pages):
            # 从当前页面获取文本
            page_text = pdf_reader.getPage(page_num).extractText()

            # 把文本写到文本文件中
            txt_file.write(page_text)
</code></pre> 
<p>这段代码成功执行并创建了一个名为<code>output_file.txt</code>的文本文件。PDF文档中的所有内容都被写入该文件：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d9/6d/aYLgWZWY_o.png"></p> 
<h4>用GPT-4读取PDF文件</h4> 
<p>现在，把同样的提示粘贴到GPT-4中，看看该模型的结果如何：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/6d/1e/ExejnIIA_o.png"></p> 
<p>以下是GPT-4生成的完整代码：</p> 
<pre><code>import PyPDF2


def pdf_to_text(input_pdf, output_txt):
    with open(input_pdf, "rb") as pdf_file:
        pdf_reader = PyPDF2.PdfFileReader(pdf_file)
        num_pages = pdf_reader.numPages

        text = ""
        for page_num in range(num_pages):
            page = pdf_reader.getPage(page_num)
            text += page.extractText()
    with open(output_txt, "w", encoding="utf-8") as text_file:
        text_file.write(text)


input_pdf = "Intro_to_ML.pdf"
output_txt = "output_gpt4.txt"
pdf_to_text(input_pdf, output_txt)
</code></pre> 
<p>看看这个!</p> 
<p>与GPT-3.5不同的是，GPT-4已经指定应使用<code>utf-8</code>编码来打开文本文件。不需要再像以前那样回去修改代码了。</p> 
<p>GPT-4提供的代码应该可以成功执行，应该可以在创建的文本文件中看到PDF文档的内容。</p> 
<p>还有许多其他的技术可以用Python来实现PDF文档的自动化。如果想进一步探索，这里有一些其他的提示，可以输入ChatGPT：</p> 
<ul><li> <p>可以写Python代码来合并两个PDF文件吗？</p> </li><li> <p>如何使用Python计算一个PDF文档中特定单词或短语的出现次数？</p> </li><li> <p>可以写Python代码从PDF中提取表格并写入Excel中吗？</p> </li></ul> 
<p>建议在空闲时间尝试其中的一些——也许会惊讶于GPT-4可以帮助用户快速完成通常需要几个小时才能完成的琐碎任务。</p> 
<h3>3.发送自动化的电子邮件</h3> 
<p>每周在工作中花费几个小时来阅读和回复电子邮件。这不仅耗费时间，而且当赶着紧迫的截止日期时，要保持对电子邮件的掌控也是令人难以置信的压力。</p> 
<p>虽然不能让ChatGPT帮忙写所有的电子邮件（当然大家都希望如此），但仍然可以用它来编写程序，在特定时间发送预定的电子邮件，或者修改一个可以发送给多人的电子邮件模板。</p> 
<p>在这一部分中，将让GPT-3.5和GPT-4帮助编写一个Python脚本来发送自动电子邮件。</p> 
<h4>用GPT-3.5发送自动电子邮件</h4> 
<p>首先输入以下提示，以生成发送自动电子邮件的代码：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/7f/b2/NFnummMx_o.png"></p> 
<p>以下是GPT-3.5生成的完整代码（确保在运行此代码前更改电子邮件地址和密码）：</p> 
<pre><code>import smtplib

# 设置SMTP连接
smtp_server = "smtp.gmail.com"
smtp_port = 587
sender_email = "your_email@gmail.com"
sender_password = "your_password"
receiver_email = "receiver_email@example.com"

with smtplib.SMTP(smtp_server, smtp_port) as smtp:
    # 开始 TLS 加密
    smtp.starttls()

    # 登录到你的Gmail帐户
    smtp.login(sender_email, sender_password)

    # 编写你的电子邮件信息
    subject = "Automated email"
    body = "Hello,\n\nThis is an automated email sent from Python."
    message = f"Subject: {subject}\n\n{body}"

    # 发送电子邮件
    smtp.sendmail(sender_email, receiver_email, message)
</code></pre> 
<p>不幸的是，这段代码目前来看并没有成功执行。它产生了以下错误：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/01/98/C7QLkW5y_o.png"></p> 
<p>把这个错误粘贴到ChatGPT中，看看这个模型是否能帮助解决这个问题：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/53/ab/dwvMoCk4_o.png"></p> 
<p>好的，所以该算法指出了几个原因，说明了为什么会遇到这个错误。</p> 
<p>我知道我的登录凭证和电子邮件地址是有效的，而且代码中没有错别字。所以这些原因可以被排除。</p> 
<p>GPT-3.5还建议，允许不太安全的应用程序可能会解决这个问题。</p> 
<p>然而，如果你尝试这样做，你将在你的谷歌账户中找不到允许访问不太安全的应用程序的选项。</p> 
<p>这是因为谷歌出于安全考虑，不再允许用户使用安全性较低的应用程序。</p> 
<p>最后，GPT-3.5还提到，如果启用了双因素身份认证，应该生成一个应用程序密码。</p> 
<p>我没有启用双因素身份认证，所以我打算（暂时）放弃这种模式，看看GPT-4是否有解决方案。</p> 
<h4>用GPT-4发送自动电子邮件</h4> 
<p>好的，所以如果你在GPT-4中输入同样的提示，你会发现该算法生成的代码与GPT-3.5给我们的非常相似。这将导致我们遇到与之前相同的错误。</p> 
<p>看看GPT-4是否可以帮助修复这个错误：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/37/08/wZSnLpG5_o.png"></p> 
<p>GPT-4的建议与我们之前看到的非常相似。</p> 
<p>然而，这一次，它为我们提供了如何完成每个步骤的分步分解。</p> 
<p>GPT-4还建议创建一个应用程序密码，让我们尝试一下。</p> 
<p>首先，访问你的谷歌账户，导航到“安全”，并启用双因素认证。然后，在同一个部分，你应该会看到一个选项，上面写着“应用程序密码”。</p> 
<p>点击它，将出现以下屏幕：</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/d8/8a/m5N9SMPr_o.png"></p> 
<p>可以输入任何喜欢的名字，然后点击“生成”。</p> 
<p>将出现一个新的应用程序密码。</p> 
<p>用这个应用程序密码替换在Python代码中的现有密码，然后再次运行代码：</p> 
<pre><code>import smtplib

# 设置SMTP连接
smtp_server = "smtp.gmail.com"
smtp_port = 587
sender_email = "your_email@gmail.com"
sender_password = "YOUR_APP_PASSWORD"
receiver_email = "receiver_email@example.com"

with smtplib.SMTP(smtp_server, smtp_port) as smtp:
    # 开始 TLS 加密
    smtp.starttls()

    # 登录到你的Gmail帐户
    smtp.login(sender_email, sender_password)

    # 编写你的电子邮件信息
    subject = "Automated email"
    body = "Hello,\n\nThis is an automated email sent from Python."
    message = f"Subject: {subject}\n\n{body}"

    # 发送电子邮件
    smtp.sendmail(sender_email, receiver_email, message)
</code></pre> 
<p>这次应该能成功运行，你的收件人会收到一封类似如下的电子邮件:</p> 
<p class="img-center"><img alt="" src="https://images2.imgbox.com/0c/6d/GQfSlQxJ_o.png"></p> 
<p>很完美!</p> 
<p>感谢ChatGPT，我们已经成功地用Python发送了一封自动电子邮件。</p> 
<p>如果你想更进一步，我建议通过生成提示来允许你：</p> 
<ul><li> <p>同时向多个收件人批量发送电子邮件。</p> </li><li> <p>向预定义的电子邮件地址列表发送预定的电子邮件。</p> </li><li> <p>根据收件人的年龄、性别和地点向其发送定制的电子邮件。</p> </li></ul> 
<h3>推荐书单</h3> 
<h4>《Python人工智能》</h4> 
<p>本书系统地介绍了基于Python平台的人工智能的原理及实现过程，全书共7章。第1章“从这里开始认识Python”，介绍人工智能及Python 基础知识；第2章“Python 语法基础”，通过生动有趣的实验实例介绍Python编程语法知识；第3章“Python 程序设计”，以实例为基础，介绍Python 的编程方法；第4 章“数据结构”，通过范例介绍列表、元组、字典、集合、函数等数据结构的使用方法；第5章“数据库及应用”，主要介绍Python数据库应用及Web应用开发技术，通过实例讲解Python数据库应用；第6章“大数据应用”，基于实例，主要介绍网络爬虫、Excel数据爬取及分析处理等技术，了解数据挖掘分析处理等大数据应用技术的一般设计流程；第7 章“人工智能”，以具体实例讲解照片人脸识别、图像识别、视频人脸识别、聊天机器人、微信语音聊天机器人、图文识别、语音识别及花朵识别等人工智能深度学习技术。</p> 
<p>本书图文并茂，示例丰富，讲解细致透彻，介绍深入浅出，章后练习精广，具有很强的实用性和可操作性，适合初学或自学Python的学生，可作为中小学STEM 教育或培训机构的人工智能课程教材，也可作为大中专院校人工智能、软件工程、计算机等专业以及相关课程的教材或参考书，还可以当作全国计算机二级（Python）考试的教材使用。</p> 
<p><a class="has-card" href="https://item.jd.com/12854912.html" rel="nofollow" title="《Python人工智能》(刘伟善)【摘要 书评 试读】- 京东图书"><span class="link-card-box"><span class="link-title">《Python人工智能》(刘伟善)【摘要 书评 试读】- 京东图书</span><span class="link-desc">京东JD.COM图书频道为您提供《Python人工智能》在线选购，本书作者：，出版社：清华大学出版社。买图书，到京东。网购图书，享受最低优惠折扣!</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/d7/20/5VCQUvBi_o.png" alt="icon-default.png?t=N658">https://item.jd.com/12854912.html</span></span></a></p> 
<p class="img-center"><img alt="" height="444" src="https://images2.imgbox.com/29/35/dzxCVDRN_o.jpg" width="444"></p> 
<blockquote> 
 <blockquote> 
  <h3>精彩回顾</h3> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247492814&amp;idx=1&amp;sn=7e1a0815ee82c5e33df9b9b22bc0d361&amp;scene=21#wechat_redirect" rel="nofollow" title="《如虎添翼，6个让你效率翻倍的ChatGPT插件》">《如虎添翼，6个让你效率翻倍的ChatGPT插件》</a></p> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247492290&amp;idx=1&amp;sn=a98b3b97860c8571bd6e643bda291a92&amp;scene=21#wechat_redirect" rel="nofollow" title="《还没搞懂GPT-4，AutoGPT就来了！一文帮你速通AutoGPT》">《还没搞懂GPT-4，AutoGPT就来了！一文帮你速通AutoGPT》</a></p> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247491934&amp;idx=1&amp;sn=3ba24f463b10b8be56cd851184c45c84&amp;scene=21#wechat_redirect" rel="nofollow" title="《大模型技术的根基，解读注意力机制论文《Attention Is All You Need》和代码实现（下）》">《大模型技术的根基，解读注意力机制论文《Attention Is All You Need》和代码实现（下）》</a></p> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247491935&amp;idx=1&amp;sn=90ab5f6b275bad437638d36f1ce74d70&amp;scene=21#wechat_redirect" rel="nofollow" title="《大模型技术的根基，解读注意力机制论文《Attention Is All You Need》和代码实现（上）》">《大模型技术的根基，解读注意力机制论文《Attention Is All You Need》和代码实现（上）》</a></p> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247491160&amp;idx=1&amp;sn=a38185dd271f8232779deef33c68e19c&amp;scene=21#wechat_redirect" rel="nofollow" title="《真实对比，OpenAI ChatGPT与谷歌Bard大比拼》">《真实对比，OpenAI ChatGPT与谷歌Bard大比拼》</a></p> 
  <p><a href="https://mp.weixin.qq.com/s?__biz=Mzg4Mzc3NTM4Ng==&amp;mid=2247490607&amp;idx=1&amp;sn=29b581f001753589662874169faa675d&amp;scene=21#wechat_redirect" rel="nofollow" title="《深入浅析，一步步用GPT打造你的聊天机器人》">《深入浅析，一步步用GPT打造你的聊天机器人》</a></p> 
 </blockquote> 
</blockquote> 
<blockquote> 
 <blockquote> 
  <p>微信搜索关注《Python学研大本营》，加入读者群</p> 
  <p>访问【IT今日热榜】，发现每日技术热点</p> 
 </blockquote> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b68f8a7cb67b079a6d47f4e69b0d89f4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">解放生产力！用Python结合GPT-4进行编程（上）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/74e3c493caee2b3ab1e0d2f3c46a8e1e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">国际化实现思路</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>