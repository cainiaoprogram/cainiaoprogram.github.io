<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL建立图书管理系统后续 mysql查询实战 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL建立图书管理系统后续 mysql查询实战" />
<meta property="og:description" content="实验内容
1. SELECT语句对表进行查询操作，是最基本的查询语句。
语法格式如下：
Select &lt;目标列组&gt; From &lt;数据源&gt; [Where &lt;元组选择条件&gt;] [Group by &lt;分组列&gt; [Having &lt;组选择条件&gt;]]
[Order by &lt;排序列1&gt; &lt;排序要求&gt; [, …n]]
2．用SELECT语句对表进行连接查询操作，连接查询涉及被连接和连接两个表，所以数据源一般为多个表。用来连接两个表的条件称为连接条件，一般格式为：
[&lt;表名1&gt;.]&lt;列名1&gt; &lt;比较运算符&gt; [&lt;表名2&gt;.]&lt;列名2&gt;
其中比较运算符主要有：=、&gt;、&lt;、&gt;=、&lt;=、!=。
3．用SELECT语句对表进行嵌套查询操作，一个Select…From…Where语句称为一个查询块，将一个查询块嵌套在另一个查询块的Where子句或Having短语的条件中的查询，就是嵌套查询。主要有使用In操作符、使用比较运算符的嵌套查询方式。
4．用SELECT语句对表进行组合查询操作，将SELECT语句的查询结果集，再进行集合运算就构成了SQL的组合查询。组合查询操作符有Union(并操作)、Intersect(交操作)和Minus(差操作)。
5. SQL函数是综合信息的统计函数，包括计数，求最大值、最小值、平均值、和值等。基本的SQL函数如下：
AVG(数值表达式) 功能：求与字段相关的数值表达式的平均值
SUM(数值表达式) 功能：求与字段相关的数值表达式的和值
MIN(字段表达式) 功能：求字段表达式的最小值
MAX(字段表达式) 功能：求字段表达式的最大值
COUNT(*|字段表达式) 功能：求记录行数(*)，或求不是NULL的字段的行数
6. 在SQL查询语句中，如果有GROUP BY分组子句，则语句中的函数为分组统计函数；如果没有GROUP BY分组子句，则语句中的函数为全部结果集的统计函数。语法为
Select [统计函数]&lt;目标列组&gt; From &lt;数据源&gt; [Where &lt;元组选择条件&gt;] [Group by &lt;分组列&gt; [Having &lt;组选择条件&gt;]]
7，having语法
#1．列出自动化类图书的书号，名称，价格。 #提示：列起别名，如 书名 名称 或者 书名 as 名称 SELECT 书号,书名 AS 名称,定价 AS 价格 FROM 图书; /*2．查询计算机类与电子工业出版社出版的图书 提示：结果应该既包含计算机类的图书又包含电子工业出版社的图书，用UNION 或者OR。*/ SELECT 书名 FROM 图书借阅." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/05a0b96839bc84f242ce1ae4bfa21b9d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-07T11:27:20+08:00" />
<meta property="article:modified_time" content="2022-10-07T11:27:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL建立图书管理系统后续 mysql查询实战</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<p style="margin-left:.0001pt;text-align:justify;"><strong><span style="color:#000000;"><strong>实验内容</strong></span></strong></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">1.  </span><span style="color:#000000;">SELECT</span><span style="color:#000000;">语句对表进行查询操作，是最基本的查询语句。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">语法格式如下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">Select &lt;目标列组&gt; From &lt;数据源&gt; [Where &lt;元组选择条件&gt;] </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">[Group by &lt;分组列&gt; [Having &lt;组选择条件&gt;]]</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">[Order by &lt;排序列1&gt; &lt;排序要求&gt; [, </span><span style="color:#000000;">…</span><span style="color:#000000;">n]]</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">2．用</span><span style="color:#000000;">SELECT</span><span style="color:#000000;">语句对表进行连接查询操作，连接查询涉及被连接和连接两个表，所以数据源一般为多个表。用来连接两个表的条件称为连接条件，一般格式为：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">[<span style="color:#000000;">&lt;表名1&gt;.</span>]<span style="color:#000000;">&lt;列名1&gt; &lt;比较运算符&gt; </span>[<span style="color:#000000;">&lt;表名2&gt;.</span>]<span style="color:#000000;">&lt;列名2&gt;</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">其中比较运算符主要有：=、&gt;、&lt;、&gt;=、&lt;=、!=。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">3．用</span><span style="color:#000000;">SELECT</span><span style="color:#000000;">语句对表进行嵌套查询操作，一个</span><span style="color:#000000;">Select</span><span style="color:#000000;">…</span><span style="color:#000000;">From</span><span style="color:#000000;">…</span><span style="color:#000000;">Where</span><span style="color:#000000;">语句称为一个查询块，将一个查询块嵌套在另一个查询块的</span><span style="color:#000000;">Where</span><span style="color:#000000;">子句或</span><span style="color:#000000;">Having</span><span style="color:#000000;">短语的条件中的查询，就是嵌套查询。主要有使用</span><span style="color:#000000;">In</span><span style="color:#000000;">操作符、使用比较运算符的嵌套查询方式。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">4．用<span style="color:#000000;">SELECT</span><span style="color:#000000;">语句对表进行组合查询操作，将</span><span style="color:#000000;">SELECT</span><span style="color:#000000;">语句的查询结果集，再进行集合运算就构成</span><span style="color:#000000;">了SQL</span><span style="color:#000000;">的组合查询。组合查询操作符有</span><span style="color:#000000;">Union</span><span style="color:#000000;">(并操作)、</span><span style="color:#000000;">Intersect</span><span style="color:#000000;">(交操作)和</span><span style="color:#000000;">Minus</span><span style="color:#000000;">(差操作)。</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">5. SQL</span><span style="color:#000000;">函数是综合信息的统计函数，包括计数，求最大值、最小值、平均值、和值等。基本的</span><span style="color:#000000;">SQL</span><span style="color:#000000;">函数如下：</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  AVG(数值表达式)  功能：求与字段相关的数值表达式的平均值</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  SUM(数值表达式)  功能：求与字段相关的数值表达式的和值</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  MIN(字段表达式)  功能：求字段表达式的最小值</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">  MAX(字段表达式)  功能：求字段表达式的最大值</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">COUNT(*|字段表达式)  功能：求记录行数(*)，或求不是NULL的字段的行数</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">6. 在</span><span style="color:#000000;">SQL</span><span style="color:#000000;">查询语句中，如果有</span><span style="color:#000000;">GROUP BY</span><span style="color:#000000;">分组子句，则语句中的函数为分组统计函数；如果没有</span><span style="color:#000000;">GROUP BY</span><span style="color:#000000;">分组子句，则语句中的函数为全部结果集的统计函数。语法为</span></p> 
<p style="margin-left:.0001pt;text-align:justify;">   <span style="color:#000000;">Select</span><span style="color:#000000;"> [统计函数]&lt;目标列组&gt;</span><span style="color:#000000;"> From</span><span style="color:#000000;"> &lt;数据源&gt; [</span><span style="color:#000000;">Where</span><span style="color:#000000;"> &lt;元组选择条件&gt;] </span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">[</span><span style="color:#000000;">Group by</span><span style="color:#000000;"> &lt;分组列&gt; [</span><span style="color:#000000;">Having</span><span style="color:#000000;"> &lt;组选择条件&gt;]]</span></p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="color:#000000;">7，having语法</span></p> 
<pre><code class="language-sql">#1．列出自动化类图书的书号，名称，价格。
#提示：列起别名，如 书名 名称 或者 书名 as 名称
SELECT 书号,书名 AS 名称,定价 AS 价格
FROM 图书;
/*2．查询计算机类与电子工业出版社出版的图书 
提示：结果应该既包含计算机类的图书又包含电子工业出版社的图书，用UNION 或者OR。*/
SELECT 书名 
FROM 图书借阅.图书
WHERE 出版社='电子工业出版社' OR 类别='计算机类';
#3．查询借了书的读者（包含该读者的详细信息）。
SELECT  DISTINCT 读者.* ,借阅.`书号`
FROM 读者,借阅
WHERE 读者.`读者编号`=借阅.`读者编号`
GROUP BY 读者.`读者编号`;
/*4．查询读者“张三”所借阅的书的情况，包括书号，书名，书的类别及借阅日期，按借阅日期递减排序*/
SELECT 图书.书号,图书.书名,图书.类别,借阅.借阅日期
FROM 图书,借阅 
WHERE 借阅.读者编号=10001 AND 图书.书号=借阅.`书号`
ORDER BY 借阅.借阅日期 DESC
/*5．求阅读了所有自动化类书籍的读者的详细信息。
提示：NOT EXISTS    NOT EXISTS*/
SELECT 读者.*
FROM 图书,借阅,读者
WHERE 图书.类别='自动化类' AND 图书.书号=借阅.`书号` AND 读者.读者编号=借阅.`读者编号`
GROUP BY 读者.`读者编号`;
/*求各类图书的总数量，平均定价，总价格，按类别递增排序。
AVG(数值表达式)  功能：求与字段相关的数值表达式的平均值
  SUM(数值表达式)  功能：求与字段相关的数值表达式的和值
  MIN(字段表达式)  功能：求字段表达式的最小值
  MAX(字段表达式)  功能：求字段表达式的最大值
COUNT(*|字段表达式)  功能：求记录行数(*)，或求不是NULL*/
SELECT
图书.`类别`,
COUNT(DISTINCT 图书.书号) AS 图书的总数量,
AVG(图书.定价) AS 平均定价,
SUM(图书.定价) AS 总价格
FROM 图书
GROUP BY 图书.`类别`
ORDER BY 图书.`类别`;
#7.统计书名为“数据库技术及应用”的书被各读者借阅的次数，按次数递减排序。
SELECT 
读者.读者编号,
读者.姓名,
COUNT(借阅.书号) AS 次数
FROM 读者,借阅,图书
WHERE 借阅.书号=图书.`书号` AND 借阅.`读者编号`=读者.`读者编号` AND 图书.`书名`='数据库技术及应用'
GROUP BY 借阅.读者编号
ORDER BY 次数 ASC
#.查找这样的图书类别：要求该类别中最高的图书定价不低于全部按类别分组的图书平均定价的2倍。
SELECT 
图书.`类别`
FROM 图书 
GROUP BY 图书.`类别`
HAVING MAX(图书.`定价`) &gt;= AVG(图书.`定价`);</code></pre> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a6f665be15c382a6643d34a6ee91a07a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Centos 7 虚拟机安装 harbor</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e29401c5f2a1a3dab7180694a4a50cfa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于Matlab的非线性规划问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>