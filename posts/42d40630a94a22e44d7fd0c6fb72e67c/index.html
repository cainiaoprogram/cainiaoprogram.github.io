<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mysql-proxy主从搭建读写分离全过程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mysql-proxy主从搭建读写分离全过程" />
<meta property="og:description" content="废话不说！ Mysql-proxy是什么，大家都知道，不知道的就别往下看了... 首先搭建 mysql 主从数据库，参考： http://blog.csdn.net/swengineer/archive/2011/03/11/6239711.aspx 下载 mysql-proxy 最新版，本文撰写时最新版本为 MySQL Proxy 0.8.1 alpha 安装 mysql-proxy 步骤如下： 解压 mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit.gz tar zxvf mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit.gz cp -R mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit /usr/local/proxy-mysql 新建或编辑 /etc/mysql-proxy.cnf 文件，添加以下内容 ( 具体参数根据实际情况修改 ) ： vi /etc/mysql-proxy.cnf [mysql-proxy] admin-username = zhangdongyu admin-password = 123123 daemon = true keepalive = true proxy-backend-addresses = 192.168.0.88:3306 proxy-read-only-backend-addresses = 192.168.0.88:3307 proxy-lua-script = /usr/local/proxy-mysql/share/doc/mysql-proxy/rw-splitting.lua admin-lua-script = /usr/local/proxy-mysql/share/doc/mysql-proxy/admin-sql.lua log-file = /usr/local/proxy-mysql/cn.log log-level = debug 主要参数注解： proxy-backend-addresses mysql 主库（写）地址 proxy-read-only-backend-addresses mysql 从库（读）地址 proxy-lua-script 读写分离脚本 admin-lua-script admin 脚本 admin-username 数据库用户名（主从上都需建立相同用户） admin-password 数据库密码 daemon daemon 进程运行 keepalive 保持连接（启动进程会有 2 个，一号进程用来监视二号进行，如果二号进程死掉自动重建，此参数在旧版本中无法使用） 编辑 profile/." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/42d40630a94a22e44d7fd0c6fb72e67c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-03-14T16:34:00+08:00" />
<meta property="article:modified_time" content="2011-03-14T16:34:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mysql-proxy主从搭建读写分离全过程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">废话不说！</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">Mysql-proxy是什么，大家都知道，不知道的就别往下看了...</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">首先搭建</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">主从数据库，参考：</span> <span lang="EN-US"><a href="http://blog.csdn.net/swengineer/archive/2011/03/11/6239711.aspx"><span style="font-family: Times New Roman;">http://blog.csdn.net/swengineer/archive/2011/03/11/6239711.aspx</span> </a> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">下载</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">最新版，本文撰写时最新版本为</span> <span style="font-family: Times New Roman;"> <span lang="EN-US"><a href="http://dev.mysql.com/downloads/mysql-proxy/" rel="nofollow">MySQL Proxy 0.8.1 alpha</a> </span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">安装</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">步骤如下：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">解压</span> <span lang="EN-US"><a href="http://dev.mysql.com/downloads/mysql-proxy/" rel="nofollow"><span style="font-family: Times New Roman;">mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit.gz</span> </a> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">tar zxvf mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit.gz</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">cp -R mysql-proxy-0.8.1-linux-glibc2.3-x86-32bit /usr/local/proxy-mysql</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">新建或编辑</span> <span lang="EN-US"><span style="font-family: Times New Roman;">/etc/mysql-proxy.cnf</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">文件，添加以下内容</span> <span lang="EN-US"><span style="font-family: Times New Roman;">(</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">具体参数根据实际情况修改</span> <span lang="EN-US"><span style="font-family: Times New Roman;">)</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="font-family: Times New Roman;"><span lang="EN-US">vi /etc/mysql-proxy.cnf</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-ansi-language: FR" lang="FR"><span style="font-size: small;"><span style="font-family: Times New Roman;">[mysql-proxy]</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">admin-username = zhangdongyu</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">admin-password = 123123</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">daemon = true</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">keepalive = true</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">proxy-backend-addresses = 192.168.0.88:3306</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">proxy-read-only-backend-addresses = 192.168.0.88:3307</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">proxy-lua-script = /usr/local/proxy-mysql/share/doc/mysql-proxy/rw-splitting.lua</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">admin-lua-script = /usr/local/proxy-mysql/share/doc/mysql-proxy/admin-sql.lua</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">log-file = /usr/local/proxy-mysql/cn.log</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">log-level = debug</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">主要参数注解：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">proxy-backend-addresses<span style="mso-tab-count: 3">                    </span> mysql</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">主库（写）地址</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">proxy-read-only-backend-addresses<span style="mso-tab-count: 1">     </span> mysql</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">从库（读）地址</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">proxy-lua-script<span style="mso-tab-count: 5">                                 </span> </span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">读写分离脚本</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">admin-lua-script<span style="mso-tab-count: 5">                                 </span> admin</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">脚本</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">admin-username<span style="mso-tab-count: 5">                                 </span> </span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">数据库用户名（主从上都需建立相同用户）</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">admin-password<span style="mso-tab-count: 5">                                 </span> </span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">数据库密码</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">daemon<span style="mso-tab-count: 7">                                             </span> daemon</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">进程运行</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">keepalive<span style="mso-tab-count: 7">                                           </span> </span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">保持连接（启动进程会有</span> <span lang="EN-US"><span style="font-family: Times New Roman;">2</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">个，一号进程用来监视二号进行，如果二号进程死掉自动重建，此参数在旧版本中无法使用）</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">编辑</span> <span lang="EN-US"><span style="font-family: Times New Roman;">profile/.bash_profile</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">脚本</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="mso-ansi-language: FR" lang="FR"><span style="font-family: Times New Roman;">vi /etc/profile(</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'; mso-ansi-language: FR">或者</span> <span style="mso-ansi-language: FR" lang="FR"><span style="font-family: Times New Roman;">.bash_profile)</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">LUA_PATH="/usr/local/proxy-mysql/share/doc/mysql-proxy/?.lua"</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">export LUA_PATH</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">export PATH=$PATH:/usr/local/proxy-mysql/bin</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">:wq</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">source /etc/profile</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">为方便建立建立</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy.sh</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">脚本</span> </span> </p> 
<table class="MsoTableGrid" style="BORDER-RIGHT: medium none; BORDER-TOP: medium none; BORDER-LEFT: medium none; BORDER-BOTTOM: medium none; BORDER-COLLAPSE: collapse; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext" border="1" cellspacing="0" cellpadding="0"><tbody><tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes"><td style="padding: 0cm 5.4pt; width: 426.1pt; background-color: transparent; border: 1pt solid windowtext;" width="568"> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">#!/bin/bash</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">mode=$1</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">if [ -z "$mode" ] ; then</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">mode="start"</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">fi</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">case $mode in</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">start)</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">mysql-proxy --defaults-file=/etc/mysql-proxy.cnf&gt;/usr/local/proxy-mysql/cn.log &amp;</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">;;</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">stop)</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">killall -9 mysql-proxy</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">;;</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">restart)</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">if $0 stop ; then</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">$0 start</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">else</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">echo<span style="mso-spacerun: yes">  </span> "Restart failed!"</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">exit 1</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">fi</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">;;</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">esac</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">exit 0</span> </span> </p> </td></tr></tbody></table> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">启动</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">sh</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">脚本</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">启动：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">./mysql-proxy.sh<span style="mso-spacerun: yes">  </span> </span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">或</span> <span lang="EN-US"><span style="font-family: Times New Roman;"> ./mysql-proxy.sh start</span> </span> </span> </p> 
<table class="MsoTableGrid" style="BORDER-RIGHT: medium none; BORDER-TOP: medium none; BORDER-LEFT: medium none; BORDER-BOTTOM: medium none; BORDER-COLLAPSE: collapse; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext" border="1" cellspacing="0" cellpadding="0"><tbody><tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes"><td style="padding: 0cm 5.4pt; width: 426.1pt; background-color: transparent; border: 1pt solid windowtext;" width="568"> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">启动日志</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"><img src="https://images2.imgbox.com/dd/81/4SU80VDQ_o.gif" alt="" width="622" height="128">  </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> </td></tr></tbody></table> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">重启：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">./mysql-proxy.sh restart</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">停止：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">./mysql-proxy.sh stop</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">测试：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">为达到测试效果，修改</span> <span lang="EN-US"><span style="font-family: Times New Roman;">admin-sql.lua</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">脚本以下两行</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">vi /usr/local/proxy-mysql/share/doc/mysql-proxy/rw-splitting.lua</span> </span> </p> 
<table class="MsoTableGrid" style="BORDER-RIGHT: medium none; BORDER-TOP: medium none; BORDER-LEFT: medium none; BORDER-BOTTOM: medium none; BORDER-COLLAPSE: collapse; mso-border-alt: solid windowtext .5pt; mso-yfti-tbllook: 480; mso-padding-alt: 0cm 5.4pt 0cm 5.4pt; mso-border-insideh: .5pt solid windowtext; mso-border-insidev: .5pt solid windowtext" border="1" cellspacing="0" cellpadding="0"><tbody><tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes"><td style="padding: 0cm 5.4pt; width: 426.1pt; background-color: transparent; border: 1pt solid windowtext;" width="568"> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">if not proxy.global.config.rwsplit then</span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small;"><span style="font-family: Times New Roman;"><span style="mso-spacerun: yes">        </span> proxy.global.config.rwsplit = {<!-- --></span> </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;"><span style="mso-spacerun: yes">                </span> min_idle_connections = 1,<span style="mso-spacerun: yes">   </span> #</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">修改最小连接为</span> <span lang="EN-US"><span style="font-family: Times New Roman;">1</span> </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;"><span style="mso-spacerun: yes">                </span> max_idle_connections = 2,<span style="mso-spacerun: yes">   </span> #</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">修改最大连接为</span> <span lang="EN-US"><span style="font-family: Times New Roman;">2</span> </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;"><span style="mso-spacerun: yes">                </span> is_debug = true<span style="mso-spacerun: yes">            </span> #debug</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">为</span> <span lang="EN-US"><span style="font-family: Times New Roman;">true</span> </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small;"><span style="font-family: Times New Roman;"><span style="mso-spacerun: yes">        </span> }</span> </span> </span> </p> <p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">end</span> </span> </p> </td></tr></tbody></table> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">重启</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">代理</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">开启两个终端分别连接代理：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">ONE</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">./mysql -h192.168.0.88 -uzhangdongyu -p123123 -P4040</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span lang="EN-US"><span style="font-family: Times New Roman;">TWO</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">./mysql -h192.168.0.88 -uzhangdongyu -p123123 -P4040</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">可看到连接成功信息：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><img src="https://images2.imgbox.com/42/b0/hS4QZ9EW_o.gif" alt=""> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span> <span lang="EN-US"><span style="font-family: Times New Roman;">ONE</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">客户端：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">执行</span> <span lang="EN-US"><span style="font-family: Times New Roman;">select</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">语句观察数据库</span> <span lang="EN-US"><span style="font-family: Times New Roman;">log</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">文件</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">select * from z_member_info;</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">观察主从库日志文件，发现查询发生在主库？</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">主库：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">192.168.0.88:3306</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">日志文件：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">tail -f /usr/local/mysql/localstate/mysqlexecute.log</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> <img src="https://images2.imgbox.com/42/0c/ahtC9JJt_o.gif" alt=""> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">这是因为</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">代理会检测客户端连接，当连接没有超过</span> <span lang="EN-US"><span style="font-family: Times New Roman;">min_idle_connections</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">预设值时，不会进行读写分离，即查询操作会发生到主库上。</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;"> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作</span> <span lang="EN-US"><span style="font-family: Times New Roman;">TWO</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">客户端：</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">执行</span> <span lang="EN-US"><span style="font-family: Times New Roman;">select</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">语句观察数据库</span> <span lang="EN-US"><span style="font-family: Times New Roman;">log</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">文件</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">select * from z_member_info;</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'"><span style="font-size: small;">观察主从库日志文件，发现主库没有任何记录，查询日志记录在从库。</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">从库：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">192.168.0.88:3306</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">日志文件：</span> <span lang="EN-US"><span style="font-family: Times New Roman;">tail -f /usr/local/mysql3307/localstate/mysqlexecute.log</span> </span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><img src="https://images2.imgbox.com/5b/2e/TPljBx10_o.gif" alt=""> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作两个终端进行</span> <span lang="EN-US"><span style="font-family: Times New Roman;">insert</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">操作，会发现写操作始终被主库（</span> <span lang="EN-US"><span style="font-family: Times New Roman;">3306</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">）日志文件记录。</span> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"><img src="https://images2.imgbox.com/67/05/Q1YFar7p_o.gif" alt=""> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span lang="EN-US"> </span> </p> 
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="font-size: small;"><span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">至此</span> <span lang="EN-US"><span style="font-family: Times New Roman;">mysql-proxy</span> </span> <span style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">安装测试完成。</span> </span> </p> 
<p><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; mso-bidi-font-size: 12.0pt; mso-font-kerning: 1.0pt; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA">注：生产环境一定要根据实际情况配置相关文件，至于</span> <span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 宋体; mso-font-kerning: 1.0pt; mso-ansi-language: EN-US; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA" lang="EN-US">lua</span> <span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; mso-bidi-font-size: 12.0pt; mso-font-kerning: 1.0pt; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA">文件强烈推荐读者自行，目前正在研究</span> <span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 'Times New Roman'; mso-bidi-font-size: 12.0pt; mso-fareast-font-family: 宋体; mso-font-kerning: 1.0pt; mso-ansi-language: EN-US; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA" lang="EN-US">lua</span> <span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; mso-bidi-font-size: 12.0pt; mso-font-kerning: 1.0pt; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA">文件的优化与定制，不久会发上来。</span> </p> 
<p><span style="FONT-SIZE: 10.5pt; FONT-FAMILY: 宋体; mso-bidi-font-size: 12.0pt; mso-font-kerning: 1.0pt; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'; mso-ansi-language: EN-US; mso-bidi-font-family: 'Times New Roman'; mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA"><span class="Apple-style-span" style="word-spacing: 0px; font: medium Simsun; text-transform: none; color: #000000; text-indent: 0px; white-space: normal; letter-spacing: normal; border-collapse: separate; orphans: 2; widows: 2; webkit-border-horizontal-spacing: 0px; webkit-border-vertical-spacing: 0px; webkit-text-decorations-in-effect: none; webkit-text-size-adjust: auto; webkit-text-stroke-width: 0px;"><span class="Apple-style-span" style="font-size: x-small; line-height: 18px; font-family: verdana, sans-serif; text-align: left;">版权所有：Robot_G(swengineer)  欢迎转载<a href="http://blog.csdn.net/swengineer/archive/2011/03/14/6248680.aspx">http://blog.csdn.net/swengineer/archive/2011/03/14/6248680.aspx</a> </span> </span> </span> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6a8bba4fbce01e5cba9d2659bce33f82/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">如何添加domino子服务器</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/ef50ffc8b556da0570f10f3c9009582b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">观察者模式应用场景实例</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>