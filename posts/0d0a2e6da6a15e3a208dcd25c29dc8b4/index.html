<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>中文TTS文字转语音合成模块合成成品带喇叭 替代SYN6288和XFS5152 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="中文TTS文字转语音合成模块合成成品带喇叭 替代SYN6288和XFS5152" />
<meta property="og:description" content="简 介： 初步测试了一款非常简单的语音模块。使用ESP32的串口作为控制模块发声的控制器。在测试过程中出现读音错误的情况，具体原因还需要之后进一步进行查找。
关键词： TTS，ESP32，声音模块
§01 中文文字转语音 最初是为了支持学生制作一款他们的设计作品，需要设计到语音合成的目标板。现在从 TB购买到一款模块 ,准备进行测试。下面就是购买到的中文TTS文字转语音合成模块。
▲ 购买到的中文TTS文字转语音合成模块 1.开发资料 开发资料： 百度网盘下载了解： https://pan.baidu.com/s/1z2nrEr-MvIl9ZdkbGG1ZUQ 提取码：pa29 2.板上主要芯片 在语音模块内部的电路板上，主要有三个集成芯片。
集成芯片信息： MX25L6445： MX25L6446 3V，64Mb 串口Flash XS8002D： XS8002D 是一款带有自关断的音频IC。（ 已经停产） SSOP20：表面打磨的芯片，型号不详。估计是一颗MCU。 ▲ 语音模块内聚结构以及外部接口 3.接口功能定义 【表1-1 对外接口颜色功能】 引线PIN1PIN2PIN3PIN4颜色红黄白黑功能&#43;5VRXTXGND ▲ 内部对外接口连线的颜色 为了便于对TTS模块进行测试，将它原来的接口焊接成PIN100mil的接口。它的定义如下图所示。
▲ 外部新的接口功能定义 ▲ TTS模块功能定义 连接TTS与控制器的UART之间的方法如下图所示：
▲ TTS模块与控制串口的连接方式 串口通信协议： 波特率：9600bps 起始位：1bit 数据位：8bits 停止位：1bits 校验：无 §02 测试模块功能 1.UART接口平台 使用 ESP32-S 转接板 的接口来调试TTS模块。在PIN19,20分别定义了ESP32的UART2（PIN19-RXD2， PIN20-TXD2）。下面通过基础实验来测试ESP32-PIN19,20的基本功能。
▲ 实验ESP32测试版 （1）ESP32-UART 管脚 根据 MicroPython 中ESP32 UART模块 ，ESP32模块对应的GPIO管脚表格：
▲ ESP32 UART端口 使用UART2 对于 TTS模块进行控制。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/0d0a2e6da6a15e3a208dcd25c29dc8b4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-05-14T21:25:11+08:00" />
<meta property="article:modified_time" content="2021-05-14T21:25:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">中文TTS文字转语音合成模块合成成品带喇叭 替代SYN6288和XFS5152</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/c2/c1/lhB3Pd4O_o.png" alt="" width="800"></p> 
<blockquote> 
 <p><font face="黑体" color="purple" size="4">简 介：</font> 初步测试了一款非常简单的语音模块。使用ESP32的串口作为控制模块发声的控制器。在测试过程中出现读音错误的情况，具体原因还需要之后进一步进行查找。<br> <br><font color="slateblue" face="宋体"><strong><code>关键词</code></strong>：</font> <strong>TTS</strong>，<strong>ESP32</strong>，<strong>声音模块</strong></p> 
</blockquote> 
<p> </p> 
<h2><a id="centerfont__face_colorslateblueu01u_font_colorredfontfontcenter_13"></a> 
 <center> 
  <font face="黑体" color="slateblue">§<u>01</u> <font color="red">中</font>文文字转语音</font> 
 </center></h2> 
<hr> 
<p>  <font color="purple" size="5">最</font>初是为了支持学生制作一款他们的设计作品，需要设计到语音合成的目标板。现在从 <a href="https://detail.tmall.com/item.htm?id=565603673443&amp;spm=a1z09.2.0.0.2ac72e8dZqCX0N&amp;_u=dnvskcd9bad" rel="nofollow"><strong>TB购买到一款模块</strong></a> ,准备进行测试。下面就是购买到的中文TTS文字转语音合成模块。</p> 
<p><img src="https://images2.imgbox.com/a4/84/3BurNiKh_o.png" alt="▲ 购买到的中文TTS文字转语音合成模块" width="560"></p> 
<center> 
 <sup><code>▲ 购买到的中文TTS文字转语音合成模块</code></sup> 
</center> 
<p></p> 
<h4><a id="font__face_colorpurple1font_23"></a><font face="宋体" color="purple">1.开发资料</font></h4> 
<dl> 
  
  <strong>开发资料：</strong> 
  
 <dd> 
  <code>百度网盘下载了解</code>： 
  <a href="https://pan.baidu.com/s/1z2nrEr-MvIl9ZdkbGG1ZUQ" rel="nofollow">https://pan.baidu.com/s/1z2nrEr-MvIl9ZdkbGG1ZUQ</a> 
  <br> 
  <code>提取码</code>：pa29 
 </dd> 
</dl> 
<h4><a id="font__face_colorpurple2font_31"></a><font face="宋体" color="purple">2.板上主要芯片</font></h4> 
<p>  在语音模块内部的电路板上，主要有三个集成芯片。</p> 
<dl> 
  
  <strong>集成芯片信息：</strong> 
  
 <dd> 
  <code>MX25L6445</code>： 
  <a href="https://wenku.baidu.com/view/f4373f2a4b73f242336c5f49.html" rel="nofollow"><strong>MX25L6446 3V，64Mb</strong></a> 串口Flash 
  <br> 
  <code>XS8002D</code>： 
  <a href="http://www.xdxtek.com/product.php?id=52" rel="nofollow"><strong>XS8002D</strong></a> 是一款带有自关断的音频IC。（ 
  <s>已经停产</s>） 
  <br> 
  <code>SSOP20</code>：表面打磨的芯片，型号不详。估计是一颗MCU。 
 </dd> 
</dl> 
<p><img src="https://images2.imgbox.com/af/85/U6YgkNN8_o.png" alt="▲ 语音模块内聚结构以及外部接口" width="560"></p> 
<center> 
 <sup><code>▲ 语音模块内聚结构以及外部接口</code></sup> 
</center> 
<p></p> 
<h4><a id="font__face_colorpurple3font_43"></a><font face="宋体" color="purple">3.接口功能定义</font></h4> 
<div align="right"> 
 <font face="宋体" color="green">【表1-1 对外接口颜色功能】</font> 
</div> 
<table><thead><tr><th>引线</th><th>PIN1</th><th>PIN2</th><th>PIN3</th><th>PIN4</th></tr></thead><tbody><tr><td>颜色</td><td>红</td><td>黄</td><td>白</td><td>黑</td></tr><tr><td>功能</td><td>+5V</td><td>RX</td><td>TX</td><td>GND</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/bb/71/GQoSLsW9_o.png" alt="▲ 内部对外接口连线的颜色" width="560"></p> 
<center> 
 <sup><code>▲ 内部对外接口连线的颜色</code></sup> 
</center> 
<p></p> 
<p>  为了便于对TTS模块进行测试，将它原来的接口焊接成PIN100mil的接口。它的定义如下图所示。</p> 
<p><img src="https://images2.imgbox.com/50/d5/q64t0DoB_o.png" alt="▲ 外部新的接口功能定义" width="560"></p> 
<center> 
 <sup><code>▲ 外部新的接口功能定义</code></sup> 
</center> 
<p></p> 
<p><img src="https://images2.imgbox.com/03/ac/HpK26aCI_o.png" alt="▲ TTS模块功能定义" width="560"></p> 
<center> 
 <sup><code>▲ TTS模块功能定义</code></sup> 
</center> 
<p></p> 
<p>  连接TTS与控制器的UART之间的方法如下图所示：</p> 
<p><img src="https://images2.imgbox.com/78/33/SoiaIrR8_o.png" alt="▲ TTS模块与控制串口的连接方式" width="320"></p> 
<center> 
 <sup><code>▲ TTS模块与控制串口的连接方式</code></sup> 
</center> 
<p></p> 
<dl> 
  
  <strong>串口通信协议：</strong> 
  
 <dd> 
  <code>波特率</code>：9600bps 
  <br> 
  <code>起始位</code>：1bit 
  <br> 
  <code>数据位</code>：8bits 
  <br> 
  <code>停止位</code>：1bits 
  <br> 
  <code>校验</code>：无 
 </dd> 
</dl> 
<p> </p> 
<h2><a id="centerfont__face_colorslateblueu02u_font_colorredfontfontcenter_85"></a> 
 <center> 
  <font face="黑体" color="slateblue">§<u>02</u> <font color="red">测</font>试模块功能</font> 
 </center></h2> 
<hr> 
<h4><a id="font__face_colorpurple1UARTfont_88"></a><font face="宋体" color="purple">1.UART接口平台</font></h4> 
<p>  使用 <a href="https://zhuoqing.blog.csdn.net/article/details/115563474" rel="nofollow"><strong>ESP32-S 转接板</strong></a> 的接口来调试TTS模块。在PIN19,20分别定义了ESP32的UART2（PIN19-RXD2， PIN20-TXD2）。下面通过基础实验来测试ESP32-PIN19,20的基本功能。</p> 
<p><img src="https://images2.imgbox.com/20/bf/oSgMyOFg_o.gif" alt="▲ 实验ESP32测试版" width="560"></p> 
<center> 
 <sup><code>▲ 实验ESP32测试版</code></sup> 
</center> 
<p></p> 
<h5><a id="font__face_colorteal1ESP32UART_font_96"></a><font face="仿宋" color="teal">（1）ESP32-UART 管脚</font></h5> 
<p>  根据 <a href="https://docs.micropython.org/en/latest/esp32/quickref.html#uart-serial-bus" rel="nofollow"><strong>MicroPython 中ESP32 UART模块</strong></a> ，ESP32模块对应的GPIO管脚表格：<br> <img src="https://images2.imgbox.com/bd/98/A1kajxJE_o.png" alt="▲ ESP32 UART端口" width="320"></p> 
<center> 
 <sup><code>▲ ESP32 UART端口</code></sup> 
</center> 
<p></p> 
<p>  使用UART2 对于 TTS模块进行控制。</p> 
<h5><a id="font__face_colorteal2TX2font_102"></a><font face="仿宋" color="teal">（2）测试TX2程序</font></h5> 
<pre><code class="prism language-python"><span class="token keyword">from</span> machine                <span class="token keyword">import</span> Pin
<span class="token keyword">import</span> time
<span class="token keyword">from</span> machine                <span class="token keyword">import</span> UART
LED1 <span class="token operator">=</span> Pin<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> Pin<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span>
LED2 <span class="token operator">=</span> Pin<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> Pin<span class="token punctuation">.</span>OUT<span class="token punctuation">)</span>
uart2 <span class="token operator">=</span> UART<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> baudrate<span class="token operator">=</span><span class="token number">9600</span><span class="token punctuation">,</span> tx<span class="token operator">=</span><span class="token number">17</span><span class="token punctuation">,</span> rx<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    LED1<span class="token punctuation">.</span>off<span class="token punctuation">(</span><span class="token punctuation">)</span>
    LED2<span class="token punctuation">.</span>on<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep_ms<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    LED1<span class="token punctuation">.</span>on<span class="token punctuation">(</span><span class="token punctuation">)</span>
    LED2<span class="token punctuation">.</span>off<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep_ms<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span>
    uart2<span class="token punctuation">.</span>write<span class="token punctuation">(</span>b<span class="token string">'U'</span><span class="token punctuation">)</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/56/49/S7bZh6To_o.png" alt="▲ 测量ESP32-S模块PIN20，GPIO17， TX2波形" width="560"></p> 
<center> 
 <sup><code>▲ 测量ESP32-S模块PIN20，GPIO17， TX2波形</code></sup> 
</center> 
<p></p> 
<h4><a id="font__face_colorpurple2TTSfont_123"></a><font face="宋体" color="purple">2.连接TTS</font></h4> 
<p>  将ESP-32S转移模块的PIN20（UART2-TXD）与TTS模块的TXD。</p> 
<p><img src="https://images2.imgbox.com/72/6b/aO9B7jTU_o.png" alt="▲ 连接TTS模块与ESP32-S" width="560"></p> 
<center> 
 <sup><code>▲ 连接TTS模块与ESP32-S</code></sup> 
</center> 
<p></p> 
<p>  对于TTS模块上电+5V时，它会输出一个三音和弦，然后处在静态，静态电流： <strong><code>3.3mA</code></strong> 。</p> 
<h4><a id="font__face_colorteal3font_131"></a><font face="宋体" color="teal">3.测试语言输出</font></h4> 
<pre><code class="prism language-python"><span class="token keyword">from</span> machine                <span class="token keyword">import</span> Pin
<span class="token keyword">import</span> time
<span class="token keyword">from</span> machine                <span class="token keyword">import</span> UART
uart2 <span class="token operator">=</span> UART<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> baudrate<span class="token operator">=</span><span class="token number">9600</span><span class="token punctuation">,</span> tx<span class="token operator">=</span><span class="token number">17</span><span class="token punctuation">,</span> rx<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    uart2<span class="token punctuation">.</span>write<span class="token punctuation">(</span>b<span class="token string">'hello'</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> 
<p>  TTS则分别念出 “HELLO”。</p> 
<p>  <font face="黑体" color="red" size="4">测试错误：</font> 但是输出其它字符串的时候出现发生错误。</p> 
<p> </p> 
<h2><a id="centerfont__face_colorslateblue_font_colorredfont_fontcenter_149"></a> 
 <center> 
  <font face="黑体" color="slateblue">※ <font color="red">测</font>试总结 ※</font> 
 </center></h2> 
<hr> 
<p>  <font color="purple" size="5">初</font>步测试了TTS的模块。它发出的声音比较生硬。对于输出汉字以及其它信息还存在一定问题。现在还不知道具体的错误原因是什么。</p> 
<h4><a id="font__face_colorteal_font_154"></a><font face="宋体" color="teal">▓ 补充说明</font></h4> 
<p>  在 <a href="https://zhuoqing.blog.csdn.net/article/details/116843459" rel="nofollow"><strong>语音合成模块 文本转TTS 真人发音 SYN6288</strong></a> 进行了补充实验，验证了直接使用MAX2323将PC的RS232转换成TTL-UART，可以正确的控制语音模块了。这说明使用ESP-32-S模块发送TTL-UART出现与设置不同的情况。具体原因后面需要通过进一步的实验进行验证。</p> 
<h4><a id="font__face_colorteal_1font_159"></a><font face="宋体" color="teal">▓ 补充说明1：</font></h4> 
<p>在博文： <a href="https://zhuoqing.blog.csdn.net/article/details/116855392" rel="nofollow"><strong>ESP32-S的UART2的初始化需要注意的问题</strong></a> 对于前面实验中使用ESP32-S的UART2控制TTS过程中出现的问题进行探索，初步找到了解决问题的方案，但具体原因并不是完全了解。</p> 
<p> </p> 
<hr> 
<p>  <font face="宋体" color="gray"><strong>■ 相关文献链接:</strong></font></p> 
<ul><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://detail.tmall.com/item.htm?id=565603673443&amp;spm=a1z09.2.0.0.2ac72e8dZqCX0N&amp;_u=dnvskcd9bad" rel="nofollow"> TB购买到一款模块 </a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://wenku.baidu.com/view/f4373f2a4b73f242336c5f49.html" rel="nofollow"> MX25L6446 3V，64Mb </a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="http://www.xdxtek.com/product.php?id=52" rel="nofollow"> XS8002D </a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> <a href="https://zhuoqing.blog.csdn.net/article/details/115563474" rel="nofollow"> ESP32-S模块转接板设计与实现 </a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://docs.micropython.org/en/latest/esp32/quickref.html#uart-serial-bus" rel="nofollow"> MicroPython 中ESP32 UART模块 </a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled> <a href="https://zhuoqing.blog.csdn.net/article/details/116843459" rel="nofollow"><strong>语音合成模块 文本转TTS 真人发音 SYN6288</strong></a></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" checked disabled> <a href="https://zhuoqing.blog.csdn.net/article/details/116855392" rel="nofollow"><strong>ESP32-S的UART2的初始化需要注意的问题</strong></a></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2cbe2846963a593aedce470045b56334/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">你真的会用 Git 吗？Git 中的数据结构与对应伪代码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a518e234a1069d12aa69f82a96d7cd4d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【Web前端HTML5&amp;CSS3】01-前端简介</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>