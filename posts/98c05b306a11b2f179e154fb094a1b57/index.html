<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在Ubuntu22.04上安装WordPress - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在Ubuntu22.04上安装WordPress" />
<meta property="og:description" content="WordPress是当今最简单、最强大的博客和网站建设工具。据统计全球大约有40% 以上网站是使用WordPress，这是个巨大的数字也侧面证明了WordPress的强大和普遍性。因此，如果你正在寻找一款高效、实用、可靠的CMS工具来构建网站，那么WordPress无疑是一个不错的选择。
WordPress 同时为网站的后端和前端提供支持：
1、博客：专门用于个人分享想法、照片、评论、教程、食谱等等。
2、B2C电商网站：电商网站允许我们在线销售商品或服务并通过在线支付系统收款。
3、跨境电商：如果您的企业需要一个网站供客户了解您的公司和您所提供的产品，WordPress 是一个很好的选择。客户可以与您联系、询问报价、安排参观等等。
4、作品集网站： 通过基于 WordPress 的作品集网站展示您的艺术作品、设计技巧等。
5、论坛网站：论坛网站可以成为用户提问或分享建议的好地方，目前许多论坛网站都在 WordPress 上运行。
6、电子学习网站：学生可以从电子学习网站上在线课程、跟踪他们的进度、下载资源等等。使用一种称为 WordPress LMS 插件的特殊插件，您可以从 WordPress 网站提供在线课程。
7、直播网站：WordPress集成了SBS流媒体客户端，可以直接进行网站直播。
如果你决定使用WordPress来搭建自己的外贸独立站，那么这将是一个不错的选择。下面我们就开始介绍WordPress离线部署。
一：安装环境
服务器配置：ubuntu22.04
服务器IP：192.168.29.166
先安装必要的相关依赖：
apt update &amp;&amp; sudo apt upgrade
apt install apache2 mariadb-server libapache2-mod-php php-gd php-mysql
apt install php-curl php-mbstring php-intl php-gmp php-bcmath php-xml php-imagick php-zip php-json
二：配置数据库
为WordPress初始化数据库MariaDB，默认情况下，不会对MariaDB进行加固。您可以使用mysql_secure_installation脚本保护MariaDB 。您应该仔细阅读每个步骤，并在每个步骤下面仔细进行操作，这将设置root密码，删除匿名用户，禁止远程root登录以及删除测试数据库和对安全MariaDB的访问。
mysql_secure_installation 这样初始化MariaDB：
- Set root password? [Y/n] n - Remove anonymous users? [Y/n] y - Disallow root login remotely?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/98c05b306a11b2f179e154fb094a1b57/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-07T17:28:01+08:00" />
<meta property="article:modified_time" content="2024-01-07T17:28:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在Ubuntu22.04上安装WordPress</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>WordPress是当今最简单、最强大的博客和网站建设工具。据统计全球大约有40% 以上网站是使用WordPress，这是个巨大的数字也侧面证明了WordPress的强大和普遍性。因此，如果你正在寻找一款高效、实用、可靠的CMS工具来构建网站，那么WordPress无疑是一个不错的选择。</p> 
<p>WordPress 同时为网站的后端和前端提供支持：</p> 
<p>1、博客：专门用于个人分享想法、照片、评论、教程、食谱等等。<br> 2、B2C电商网站：电商网站允许我们在线销售商品或服务并通过在线支付系统收款。<br> 3、跨境电商：如果您的企业需要一个网站供客户了解您的公司和您所提供的产品，WordPress 是一个很好的选择。客户可以与您联系、询问报价、安排参观等等。<br> 4、作品集网站： 通过基于 WordPress 的作品集网站展示您的艺术作品、设计技巧等。<br> 5、论坛网站：论坛网站可以成为用户提问或分享建议的好地方，目前许多论坛网站都在 WordPress 上运行。<br> 6、电子学习网站：学生可以从电子学习网站上在线课程、跟踪他们的进度、下载资源等等。使用一种称为 WordPress LMS 插件的特殊插件，您可以从 WordPress 网站提供在线课程。<br> 7、直播网站：WordPress集成了SBS流媒体客户端，可以直接进行网站直播。<br> 如果你决定使用WordPress来搭建自己的外贸独立站，那么这将是一个不错的选择。下面我们就开始介绍WordPress离线部署。</p> 
<p><strong>一：安装环境</strong></p> 
<p>服务器配置：ubuntu22.04</p> 
<p>服务器IP：192.168.29.166</p> 
<p>先安装必要的相关依赖：</p> 
<p>apt update &amp;&amp; sudo apt upgrade</p> 
<p>apt install apache2 mariadb-server libapache2-mod-php php-gd php-mysql</p> 
<p>apt install php-curl php-mbstring php-intl php-gmp php-bcmath php-xml php-imagick php-zip php-json</p> 
<p><strong>二：配置数据库</strong><br> 为WordPress初始化数据库MariaDB，默认情况下，不会对MariaDB进行加固。您可以使用mysql_secure_installation脚本保护MariaDB 。您应该仔细阅读每个步骤，并在每个步骤下面仔细进行操作，这将设置root密码，删除匿名用户，禁止远程root登录以及删除测试数据库和对安全MariaDB的访问。</p> 
<pre><code class="hljs">mysql_secure_installation</code></pre> 
<p>这样初始化MariaDB：</p> 
<pre><code class="hljs">- Set root password? [Y/n] n
- Remove anonymous users? [Y/n] y
- Disallow root login remotely? [Y/n] y
- Remove test database and access to it? [Y/n] y
- Reload privilege tables now? [Y/n] y</code></pre> 
<p>接下来，我们将需要登录到MariaDB控制台并为WordPress创建数据库。</p> 
<p>运行以下命令，安装phpmyadmin：</p> 
<pre><code class="hljs">apt install phpmyadmin</code></pre> 
<p><strong> 三：为专用MySQL用户配置密码访问</strong></p> 
<p>mysql -u root -p<br> CREATE USER 'wpsql'@'localhost' IDENTIFIED BY '你的密码';</p> 
<p>接下来附权限<br> GRANT ALL PRIVILEGES ON *.* TO 'wpsql'@'localhost' WITH GRANT OPTION;<br> exit</p> 
<p><strong>四：下载WordPress并解压</strong></p> 
<p>wordpress中文版下载地址：<a href="https://cn.wordpress.org/download/" rel="nofollow" title="https://cn.wordpress.org/download/">https://cn.wordpress.org/download/</a></p> 
<pre><code class="hljs">apt install unzip
unzip wordpress-6.4.2-zh_CN.zip</code></pre> 
<p>考贝web文件到/var/www/html<br> # mv -r * /var/www/html/</p> 
<pre><code class="hljs">#wp安装目录
chown -R www-data:www-data /var/www/html</code></pre> 
<p><strong>五：创建数据库和获取数据库密钥</strong></p> 
<p>1、登录phpmyadin<br> http://192.168.29.166/phpmyadmin<br> 用户名：wpsql<br> 密码：wpsql密码</p> 
<p><img alt="" height="786" src="https://images2.imgbox.com/f3/2f/XzaMlEKG_o.png" width="1143"></p> 
<p>2、创建建WordPress数据库和用户</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/06/ad/uBmoNBYm_o.png" width="1200"></p> 
<p>创建数据库：</p> 
<p><img alt="" height="997" src="https://images2.imgbox.com/f4/46/8MxSoPkM_o.png" width="1200"></p> 
<p>这里我们将数据名为：wordpress。</p> 
<p>3、创建数据库帐号：</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/bc/96/eLh2eWfU_o.png" width="1200"><br> 数据库名：wpadmin<br> 数据库密码:“设置用户密码”</p> 
<p><img alt="" height="769" src="https://images2.imgbox.com/22/44/bHSjrGOv_o.png" width="1200"></p> 
<p>注意这里生成的密钥：wOSeiA]xOKa0c[c1，要记住，当然后面还可以改，这是wordpress可登录sql的密钥，并不是你设置的那个密码。</p> 
<p>4、将该用户附予数据库wordpress:</p> 
<p><img alt="" height="841" src="https://images2.imgbox.com/3c/2b/NxWTjtyY_o.png" width="1200"></p> 
<p>5、权限全部都要选上</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/18/18/e1FreWtj_o.png" width="1200"></p> 
<p><strong>六：WordPress网站配置</strong></p> 
<pre><code class="hljs">cd /var/www/html
cp wp-config-sample.php wp-config.php
vim wp-config.php</code></pre> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/22/e1/VV8bmEX1_o.png" width="1200"></p> 
<p>在Database password那里把上边记录的数据库密钥填到这里，注意这里并不是填你设置的密码。</p> 
<p>2、apache2配置<br> 修改访问端口<br> vim /etc/apache2/ports.conf</p> 
<p>只要修改virtualHost的端口即可<br> vim /etc/apache2/sites-enabled/000-default</p> 
<p>重启apache2<br> 命令service apache2 stop<br> 命令service apache2 start</p> 
<p><strong>七：首次登录wordpress</strong></p> 
<p>首次登录需要设置：</p> 
<p>1、网站的主题</p> 
<p>2、网站后台用户名及密码</p> 
<p>设置好后提交。</p> 
<p>以后访问和管理如下：</p> 
<p>外部地址：http://192.168.29.166/index.php</p> 
<p>内部地址：http://192.168.29.166/wp-admin/index.php</p> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/f8/40/xa7UKhqd_o.png" width="1200"></p> 
<p><strong>八：其他问题讨论</strong></p> 
<p>1、WordPress安装主题、插件、更新时需要FTP的解决办法</p> 
<p>修改wp-config.php文件<br> vim /var/www/html/wp-config.php<br> 对于没有服务器目录操作权限的用户来说，修改wp-config.php文件会比较简单快捷，只需要在wp-config.php的文件中，define( 'WP_DEBUG', false );下面添加以下代码：</p> 
<p>define('FS_METHOD','direct');</p> 
<p><img alt="" height="1158" src="https://images2.imgbox.com/4b/ad/2yHSCZok_o.png" width="1129"></p> 
<p><strong>2、WordPress解决文件大小上传2M限制方法</strong></p> 
<p>服务器根目录php.ini文件<br> vim /etc/php/8.1/apache2/php.ini<br> 使用的是这个方法，使用PHP的配置文件php.ini去设置，在WordPress站点的根目录创建这个文件，然后把下面的代码拷贝到文件中，再重启下Apache应该生效了。</p> 
<p>upload_max_filesize = 64M<br> post_max_size = 64M<br> max_execution_time = 300</p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/99479850c71f19484e493d8022d57092/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">看图识熊（三）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0499cf93451fccac1c5e6d6a28f3f962/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">SQLServer设置端口，并设置SQLServer和SQLServer Browser服务</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>