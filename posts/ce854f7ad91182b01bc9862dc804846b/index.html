<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>instanceof 在list - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="instanceof 在list" />
<meta property="og:description" content="public static void main(String args[]) {
List Listlist1 = new ArrayList();
Listlist1.add(0);
List Listlist2 = Listlist1;
System.out.println(Listlist1.get(0) instanceof Integer);
System.out.println(Listlist2.get(0) instanceof Integer);
}
打印出来是：
true true 解析
collection类型的集合（ArrayList,LinkedList）只能装入对象类型的数据，该题中装入了0，是一个基本类型，但是JDK5以后提供了自动装箱与自动拆箱，所以int类型自动装箱变为了Integer类型。编译能够正常通过。
将list1的引用赋值给了list2，那么list1和list2都将指向同一个堆内存空间。instanceof是Java中关键字，用于判断一个对象是否属于某个特定类的实例，并且返回boolean类型的返回值。显然，list1.get(0)和list2.get(0)都属于Integer的实例
不指定ArrayList类型，存入数据，再次取出时，默认是Object类型；但这个题的关键是instanceof关键字，instanceof执行时类似利用java反射机制，识别对象信息。
public class Test { public static void main(String[] args){ List list1 = new ArrayList(); List list2 = list1; list1.add(0); Object o = list1.get(0); Class&lt;?&gt; oClass = o.getClass(); System.out.println(oClass.getSimpleName()); // 实际类型为Integer。 System.out.println(list1.get(0) instanceof Integer); System.out.println(list2.get(0) instanceof Integer); // ArrayList在底层存储数据时就是采用的一个Object[]类型的数组来实现的。在get操作时会强转为泛型类型然后返回， 在 // 此例中并没有给ArrayList泛型。 所以使用的默认值， 即Object类型。所以此例中返回的是一个Object的对象。 // 但是又因为在add的时候由于0是基本类型， 所以在add时会发生自动装箱操作， 将0转换为Integer类型然后添加到ArrayList中。所以 // 通过get获取的对象的实际类型为Integer（第14行通过获取它的Class对象进行验证）; // instanceof在进行比较时会获取对象的实际类型进行比较， 所以通过list1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ce854f7ad91182b01bc9862dc804846b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-18T15:14:16+08:00" />
<meta property="article:modified_time" content="2019-06-18T15:14:16+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">instanceof 在list</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><code>public</code> <code>static</code> <code>void</code> <code>main(String args[]) {<!-- --></code></p> 
<p><code>      </code><code>List  Listlist1 = </code><code>new</code> <code>ArrayList();</code></p> 
<p><code>      </code><code>Listlist1.add(</code><code>0</code><code>);</code></p> 
<p><code>      </code><code>List Listlist2 = Listlist1;</code></p> 
<p><code>        </code><code>System.out.println(Listlist1.get(</code><code>0</code><code>) </code><code>instanceof</code> <code>Integer);</code></p> 
<p><code>        </code><code>System.out.println(Listlist2.get(</code><code>0</code><code>) </code><code>instanceof</code> <code>Integer);</code></p> 
<p><code>}</code></p> 
<p> </p> 
<p><code>打印出来是：</code></p> 
<ul><li> <pre><code class="language-html hljs">true true</code></pre> </li></ul> 
<p>解析<br>  </p> 
<p>collection类型的集合（ArrayList,LinkedList）只能装入对象类型的数据，该题中装入了0，是一个基本类型，但是JDK5以后提供了自动装箱与自动拆箱，所以int类型自动装箱变为了Integer类型。编译能够正常通过。</p> 
<p>将list1的引用赋值给了list2，那么list1和list2都将指向同一个堆内存空间。instanceof是Java中关键字，用于判断一个对象是否属于某个特定类的实例，并且返回boolean类型的返回值。显然，list1.get(0)和list2.get(0)都属于Integer的实例</p> 
<p> </p> 
<p>不指定ArrayList类型，存入数据，再次取出时，默认是Object类型；但这个题的关键是instanceof关键字，instanceof执行时类似利用java反射机制，识别对象信息。</p> 
<p><br><br> public class Test { public static void main(String[] args){ List list1 = new ArrayList(); List list2 = list1; list1.add(0); Object o = list1.get(0); Class&lt;?&gt; oClass = o.getClass(); System.out.println(oClass.getSimpleName()); // 实际类型为Integer。 System.out.println(list1.get(0) instanceof Integer); System.out.println(list2.get(0) instanceof Integer); // ArrayList在底层存储数据时就是采用的一个Object[]类型的数组来实现的。在get操作时会强转为泛型类型然后返回， 在 // 此例中并没有给ArrayList泛型。 所以使用的默认值， 即Object类型。所以此例中返回的是一个Object的对象。 // 但是又因为在add的时候由于0是基本类型， 所以在add时会发生自动装箱操作， 将0转换为Integer类型然后添加到ArrayList中。所以 // 通过get获取的对象的实际类型为Integer（第14行通过获取它的Class对象进行验证）; // instanceof在进行比较时会获取对象的实际类型进行比较， 所以通过list1.get(0)和list2.get(0)获取到的对象的实际类型肯定是Integer // 类型的， 所以这两个输出的都是true。 }}</p> 
<p> </p> 
<p>List集合中的元素必须是对象。</p> 
<p>Listlist1.add(0);JDK1.5之后支持自动装箱(int类型自动装箱成Integer)，编译通过。</p> 
<p> </p> 
<p>instanceof：前一个参数通常是一个引用类型变量，后一个操作数通常是一个类（也可以是一个接口， <strong>它用于判断前面的对象是否是后面的类，或者其子类、实现类的实例</strong>。</p> 
<p> </p> 
<p>List没有使用泛型，说明<strong>使用get(0)取出的元素的编译类型是Object型的，</strong> <strong>但运行时类型是Integer</strong>。所以打印true。这边体现了多态。</p> 
<p><strong>而Listlist1把引用赋给了List</strong> <strong>list2，说明两个指向同一个对象</strong>。第二个打印的也是true。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e8f0d1561d0e2f51bc22891517979ded/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">代码签名证书购买及使用步骤  不同品牌代码签名证书的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4ec398f1f75ffd4425b73b840e5eab14/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">刷题Leetcode</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>