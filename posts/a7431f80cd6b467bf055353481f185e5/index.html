<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>jQuery实战3:菜单效果 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="jQuery实战3:菜单效果" />
<meta property="og:description" content="菜单是web开发中常见的功能模块，它能够直观的展示给用户本站中有哪些功能。一般在页面中看到的菜单类型分为两种：横向菜单和纵向菜单。 今天分别来完成纵向菜单和横向菜单的功能。先来看看纵向菜单，首先导航栏有四个菜单项，分别是古典名著《红楼梦》、《水浒传》、《三国演义》、《西游记》，而每个菜单栏下面分别对应着自己的二级菜单。对应的html是一个无序列表ul下面的四个li，每个li包括了每个一级菜单和一级菜单下的二级菜单。对应的html如下:
&lt;body&gt; &lt;ul&gt; &lt;li class=&#34;main&#34;&gt; 红楼梦 &lt;ul&gt; &lt;li&gt;第一回 甄士隐梦幻识通灵 贾雨村风尘怀闺秀&lt;/li&gt; &lt;li&gt;第二回 贾夫人仙逝扬州城 冷子兴演说荣国府&lt;/li&gt; &lt;li&gt;第三回 金陵城起复贾雨村 荣国府收养林黛玉&lt;/li&gt; &lt;li&gt;第四回 薄命女偏逢薄命郎 葫芦僧乱判葫芦案&lt;/li&gt; &lt;li&gt;第五回 开生面梦演红楼梦 立新场情传幻境情&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class=&#34;main&#34;&gt; 水浒传 &lt;ul&gt; &lt;li&gt;第一回　张天师祈禳瘟疫　洪太尉误走妖魔&lt;/li&gt; &lt;li&gt;第二回　王教头私走延安府　九纹龙大闹史家村&lt;/li&gt; &lt;li&gt;第三回　史大郎夜走华阴县　鲁提辖拳打镇关西&lt;/li&gt; &lt;li&gt;第四回　赵员外重修文殊院　鲁智深大闹五台山&lt;/li&gt; &lt;li&gt;第五回　小霸王醉入销金帐　花和尚大闹桃花村&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class=&#34;main&#34;&gt; 三国演义 &lt;ul&gt; &lt;li&gt;第一回 宴桃园豪杰三结义 斩黄巾英雄首立功&lt;/li&gt; &lt;li&gt;第二回 张翼德怒鞭督邮 何国舅谋诛宦竖&lt;/li&gt; &lt;li&gt;第三回 议温明董卓叱丁原 馈金珠李肃说吕布&lt;/li&gt; &lt;li&gt;第四回 废汉帝陈留践位 谋董贼孟德献刀&lt;/li&gt; &lt;li&gt;第五回 发矫诏诸镇应曹公 破关兵三英战吕布&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class=&#34;main&#34;&gt; 西游记 &lt;ul&gt; &lt;li&gt;第一回 靈根育孕源流出 心性修持大道生&lt;/li&gt; &lt;li&gt;第二回 悟徹菩提真妙理 斷魔歸本合元神&lt;/li&gt; &lt;li&gt;第三回 四海千山皆拱伏 九幽十類盡除名&lt;/li&gt; &lt;li&gt;第四回 官封弼馬心何足 名注齊天意未寧&lt;/li&gt; &lt;li&gt;第五回 亂蟠桃大聖偷丹 反天宮諸神捉怪&lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/body&gt; 我们是用列表嵌套列表的方式来做二级菜单的，如果再有三级菜单，只需要在二级菜单的li中再添加一层ul。上诉html代码的页面效果如下: 显然离想要的效果相去甚远。这时候可以用menu." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a7431f80cd6b467bf055353481f185e5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-01-22T15:02:52+08:00" />
<meta property="article:modified_time" content="2017-01-22T15:02:52+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">jQuery实战3:菜单效果</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>菜单是web开发中常见的功能模块，它能够直观的展示给用户本站中有哪些功能。一般在页面中看到的菜单类型分为两种：横向菜单和纵向菜单。 <br> 今天分别来完成纵向菜单和横向菜单的功能。先来看看纵向菜单，首先导航栏有四个菜单项，分别是古典名著《红楼梦》、《水浒传》、《三国演义》、《西游记》，而每个菜单栏下面分别对应着自己的二级菜单。对应的html是一个无序列表ul下面的四个li，每个li包括了每个一级菜单和一级菜单下的二级菜单。对应的html如下:</p> 
<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"main"</span>&gt;</span>
            红楼梦
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第一回 甄士隐梦幻识通灵 贾雨村风尘怀闺秀<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第二回 贾夫人仙逝扬州城 冷子兴演说荣国府<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第三回 金陵城起复贾雨村 荣国府收养林黛玉<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第四回 薄命女偏逢薄命郎 葫芦僧乱判葫芦案<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第五回 开生面梦演红楼梦 立新场情传幻境情<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"main"</span>&gt;</span>
            水浒传
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第一回　张天师祈禳瘟疫　洪太尉误走妖魔<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第二回　王教头私走延安府　九纹龙大闹史家村<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第三回　史大郎夜走华阴县　鲁提辖拳打镇关西<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第四回　赵员外重修文殊院　鲁智深大闹五台山<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第五回　小霸王醉入销金帐　花和尚大闹桃花村<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"main"</span>&gt;</span>
            三国演义
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第一回 宴桃园豪杰三结义 斩黄巾英雄首立功<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第二回 张翼德怒鞭督邮 何国舅谋诛宦竖<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第三回 议温明董卓叱丁原 馈金珠李肃说吕布<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第四回 废汉帝陈留践位 谋董贼孟德献刀<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第五回 发矫诏诸镇应曹公 破关兵三英战吕布<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"main"</span>&gt;</span>
            西游记
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第一回 靈根育孕源流出 心性修持大道生<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第二回 悟徹菩提真妙理 斷魔歸本合元神<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第三回 四海千山皆拱伏 九幽十類盡除名<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第四回 官封弼馬心何足 名注齊天意未寧<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span>第五回 亂蟠桃大聖偷丹 反天宮諸神捉怪<span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span></code></pre> 
<p>我们是用列表嵌套列表的方式来做二级菜单的，如果再有三级菜单，只需要在二级菜单的li中再添加一层ul。上诉html代码的页面效果如下: <br> <img src="https://images2.imgbox.com/50/e7/inaGiY49_o.png" alt="这里写图片描述" title=""> <br> 显然离想要的效果相去甚远。这时候可以用menu.css来控制想要的效果。浏览器中ul和li元素默认情况下文字前都有圆点标识符，li元素会有缩进。去掉ul和li的前面的圆点可以用如下的样式:</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-tag">ul</span>, <span class="hljs-tag">li</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">list-style</span>:<span class="hljs-value"> none</span></span>;
<span class="hljs-rule">}</span></span></code></pre> 
<p>清除子菜单的缩进值</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-tag">ul</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">padding</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>;
<span class="hljs-rule">}</span></span></code></pre> 
<p>要想把一级菜单的导航栏背景颜色设置为黑色，使用background-image来完成这一需求。如果背景图片比元素的实际大小要小，那么背景图就会自动在横向和纵向上重复显示，直到充满整个区域。这时候需要用background-repeat来控制背景图的重复填充方式。</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-class">.main</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(<span class="hljs-string">"../image/title.gif"</span>)</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-repeat</span>:<span class="hljs-value"> repeat-x</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">360</span>px</span></span>;
<span class="hljs-rule">}</span></span></code></pre> 
<p>需要指出的是，背景图片的url内容是图片的相对位置，background-repeat和width配合起来是让图片在360个像素长度的区域横向重复。如果一个元素上同时定义了背景图和背景色，那么有背景图的地方是不会显示背景色的。 <br> 接下来给菜单栏的内容加上a标签。同时为了能够显示其手指图标，样式如下：</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-tag">a</span> <span class="hljs-rules">{
    <span class="hljs-comment">/*取消所有的下划线*/</span>
    <span class="hljs-rule"><span class="hljs-attribute">text-decoration</span>:<span class="hljs-value"> none</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding-left</span>:<span class="hljs-value"> <span class="hljs-number">20</span>px</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> block</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> inline-block</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">340</span>px</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding-top</span>:<span class="hljs-value"> <span class="hljs-number">3</span>px</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">padding-bottom</span>:<span class="hljs-value"> <span class="hljs-number">3</span>px</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.main</span> <span class="hljs-tag">a</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> white</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-image</span>:<span class="hljs-value"> <span class="hljs-function">url(../image/collapsed.gif)</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-repeat</span>:<span class="hljs-value"> no-repeat</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background-position</span>:<span class="hljs-value"> <span class="hljs-number">2</span>px center</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-class">.main</span> <span class="hljs-tag">li</span> <span class="hljs-tag">a</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> black</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> none</span></span>;
<span class="hljs-rule">}</span></span>
<span class="hljs-tag">li</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background-color</span>:<span class="hljs-value"> <span class="hljs-hexcolor">#EEEEEE</span></span></span>;
<span class="hljs-rule">}</span></span>
</code></pre> 
<p>text-decoration属性值为none时，可以取消文字上的下划线，background-position可以控制背景图的位置，属性值既可以用数值，也可以用center,left,top这些值来控制横向和纵向的位置。这个属性的两个值，第一个对应横向，第二个对应纵向。background-image的值为none表示没有背景图片。.main a中的color为白色，.main li a中的color为黑色目的是为了让一级菜单黑底白字，而二级菜单是白底黑字。页面效果如图： <br> <img src="https://images2.imgbox.com/25/06/wBaUP7SS_o.png" alt="这里写图片描述" title=""></p> 
<p>页面渲染的差不多了，接下来是做隐藏二级菜单的功能。首先在前面的css中默认所有控制二级菜单的为none，也就是不显示的。</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-class">.main</span> <span class="hljs-tag">ul</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">display</span>:<span class="hljs-value"> none</span></span>;
<span class="hljs-rule">}</span></span></code></pre> 
<p>然后用jquery的选择器选出所有的一级菜单标题来控制对应二级菜单的显示和隐藏。</p> 
<pre class="prettyprint"><code class=" hljs javascript">$(document).ready(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    $(<span class="hljs-string">".main &gt; a"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
        <span class="hljs-keyword">var</span> ulNode = $(<span class="hljs-keyword">this</span>).next(<span class="hljs-string">"ul"</span>);

        <span class="hljs-comment">//让二级菜单显示和隐藏</span>
        <span class="hljs-keyword">if</span>(ulNode.css(<span class="hljs-string">"display"</span>) == <span class="hljs-string">"block"</span>) {
            ulNode.css(<span class="hljs-string">"display"</span>, <span class="hljs-string">"none"</span>);
        } <span class="hljs-keyword">else</span> {
            ulNode.css(<span class="hljs-string">"display"</span>, <span class="hljs-string">"block"</span>);
        }
        changeIcon($(<span class="hljs-keyword">this</span>));       
    });
});</code></pre> 
<p>.main a和.main&gt;a的不同之处，前者选择了用.main的这个class的元素内部所有的a节点，候着只选择.main的子节点中的a节点。隐藏和显示效果，在jQuery中的实现方式比较多，这里介绍几种。</p> 
<ol><li>本例子中的给节点css属性display赋值为block和none来达到效果。</li><li>使用show()和hide()方法。</li><li>使用slideDown()和slideUp()方法。这种方法比show()和hide()不同的是，可以淡入谈出，里面的参数：slow,normal,fast可以控制滑动的快慢。</li><li>使用toggle()方法。toggle()方法可以自动判断是显示还是隐藏。</li></ol> 
<p>在一级菜单的左边有一个白色的按钮。当二级菜单展开的时候按钮指向右，当二级菜单收缩的时候按钮指向下。实现这样的效果需要障眼法，当出发点击事件时，不停的切换向右箭头和向下箭头的图片。</p> 
<pre class="prettyprint"><code class=" hljs scss">function <span class="hljs-function">changeIcon(menuNode)</span> {
    <span class="hljs-function">if(-<span class="hljs-number">1</span> != menuNode.<span class="hljs-function">css(<span class="hljs-string">"background-image"</span>)</span>.<span class="hljs-function">indexOf(<span class="hljs-string">"collapsed.gif"</span>)</span>)</span> {
        menuNode<span class="hljs-class">.css</span>("<span class="hljs-attribute">background-image</span>", "<span class="hljs-function">url(<span class="hljs-string">'../image/expanded.gif'</span>)</span>");
    } else {
        menuNode<span class="hljs-class">.css</span>("<span class="hljs-attribute">background-image</span>", "<span class="hljs-function">url(<span class="hljs-string">'../image/collapsed.gif'</span>)</span>");
    }
}</code></pre> 
<p>这里用到js的函数indexOf()的用法</p> 
<blockquote> 
 <p>定义和用法</p> 
 <p>indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。</p> 
 <p>语法 <br> stringObject.indexOf(searchvalue,fromindex)</p> 
 <p>参数 描述</p> 
 <p>searchvalue 必需。规定需检索的字符串值。</p> 
 <p>fromindex 可选的整数参数。规定在字符串中开始检索的位置。它的合法取值是 0 到 stringObject.length - 1。如省略该参数，则将从字&gt;符串的首字符开始检索。</p> 
 <p>说明</p> 
 <p>该方法将从头到尾地检索字符串 stringObject，看它是否含有子串 searchvalue。开始检索的位置在字符串的 fromindex 处或字符串的开头 <br> （没有指定 fromindex 时）。如果找到一个 searchvalue，则返回 searchvalue 的第一次出现的位置。stringObject 中的字符位置是从 0 &gt;开始的。</p> 
</blockquote> 
<p>该函数的处理过程是jQuery拿到一级菜单的节点，然后判断背景图片的url地址是否包含字符串“collapsed.gif”，如果包含则切换到expaned.gif,如果不包含则切换到collapsed.gif。 <br> 调用方式是:</p> 
<pre class="prettyprint"><code class=" hljs javascript">$(<span class="hljs-string">".main &gt; a"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {<!-- --></span>
    changeIcon($(<span class="hljs-keyword">this</span>));       
});</code></pre> 
<p>到此，纵向菜单功能已经基本实现，横向菜单的做法也是差不多的，最关键的地方是让ul的四个li横向展示。css中的关键代码是”float: left;”。html代码与纵向菜单相同</p> 
<pre class="prettyprint"><code class=" hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"hmain"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>红楼梦<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第一回 甄士隐梦幻识通灵 贾雨村风尘怀闺秀<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第二回 贾夫人仙逝扬州城 冷子兴演说荣国府<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第三回 金陵城起复贾雨村 荣国府收养林黛玉<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第四回 薄命女偏逢薄命郎 葫芦僧乱判葫芦案<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第五回 开生面梦演红楼梦 立新场情传幻境情<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"hmain"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>水浒传<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第一回　张天师祈禳瘟疫　洪太尉误走妖魔<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第二回　王教头私走延安府　九纹龙大闹史家村<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第三回　史大郎夜走华阴县　鲁提辖拳打镇关西<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第四回　赵员外重修文殊院　鲁智深大闹五台山<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第五回　小霸王醉入销金帐　花和尚大闹桃花村<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">li</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"hmain"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>三国演义<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第一回 宴桃园豪杰三结义 斩黄巾英雄首立功<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第二回 张翼德怒鞭督邮 何国舅谋诛宦竖<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第三回 议温明董卓叱丁原 馈金珠李肃说吕布<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第四回 废汉帝陈留践位 谋董贼孟德献刀<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">a</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"#"</span>&gt;</span>第五回 发矫诏诸镇应曹公 破关兵三英战吕布<span class="hljs-tag">&lt;/<span class="hljs-title">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">li</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ul</span>&gt;</span></code></pre> 
<p>在menu.css中，控制.main的样式统统用来控制.hmain,除此之外还应该添加横向飘逸的这一句:</p> 
<pre class="prettyprint"><code class=" hljs css"><span class="hljs-class">.hmain</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">float</span>:<span class="hljs-value"> left</span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">margin-left</span>:<span class="hljs-value"> <span class="hljs-number">1</span>px</span></span>;
<span class="hljs-rule">}</span></span></code></pre> 
<p>而横向菜单的二级菜单的展开与收缩与纵向不同，横向菜单当鼠标进入区域时展开内容，当鼠标离开时内容收缩。这里用到jQuery的hover()方法。</p> 
<p>.hover( handlerIn, handlerOut ) <br> Description: Bind two handlers to the matched elements, to be executed when the mouse pointer enters and leaves the elements.</p> 
<blockquote> 
 <p>.hover(handlerIn, handlerOut)</p> 
 <p>描述:</p> 
 <p>将两个处理程序绑定到匹配的元素，当鼠标指针进入并离开元素时执行。</p> 
</blockquote> 
<p>实现的代码如下:</p> 
<pre class="prettyprint"><code class=" hljs javascript">    $(<span class="hljs-string">".hmain"</span>).hover(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{<!-- --></span>
        $(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"ul"</span>).toggle(<span class="hljs-string">"slow"</span>);
<span class="hljs-comment">//      $(this).children("ul").slideDown("3000");</span>
        changeIcon($(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"a"</span>));
    },<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{<!-- --></span>
        $(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"ul"</span>).toggle(<span class="hljs-string">"slow"</span>);
<span class="hljs-comment">//      $(this).children("ul").slideUp("3000");</span>
        changeIcon($(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"a"</span>));
    });</code></pre> 
<p>当鼠标进入横向菜单一级菜单时，代码执行进入hover()函数里面的第一个函数，触发toggle()函数，然后调用之前写好的改变箭头状态的changeIcon函数。当鼠标离开的时候代码执行进入hover()函数里面的第二个函数，触发toggle()函数，然后调用changeIcon函数。</p> 
<p>代码参考地址：<a href="https://github.com/shizongger/JqueryInAction" title="https://github.com/shizongger/JqueryInAction">https://github.com/shizongger/JqueryInAction</a></p> 
<p>参考资料： <br> 1. 王兴奎《jQuery实战》 <br> 2. w3school</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fad062b22f0461ec2252290c869ec80e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux下火狐浏览器无响应</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/814e349d68a814e6853d00de006f1fa7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【C#】重载（overload）与重写（override）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>