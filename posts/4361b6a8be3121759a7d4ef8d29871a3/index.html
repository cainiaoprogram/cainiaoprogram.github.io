<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NMS - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="NMS" />
<meta property="og:description" content="对NMS的理解内容，如有不对请指出。
在引进NMS概念之前我们先介绍IOU(交并比)，因为在NMS中选出框图起到至关重要的作用
1、IOU(交并比)
对于bounding box的定位精度，有一个很重要的概念，那就是定位精度评价公式：IOU。
IOU表示了bounding box 与 ground truth 的重叠度，如下图所示：
矩形框A、B的一个重合度IOU计算公式为：
IOU=Area(A∩B)/Area(A∪B) 就是矩形框A、B的重叠面积占A、B并集的面积比例:
IOU=SI/(SA&#43;SB-SI) 如何计算IOU（交并比）
首先求出重合面积：
选取两个矩形框左顶角的横，纵坐标的最大值，x21，y21；选取两个矩形框右下边角的横纵坐标的最小值，x12，y12; 重合面积计算：
inter= 并集的面积计算：
b = 计算IOU：
具体实例如下：
有了IOU（交并比）的概念理解，接下来我们就进入正题，介绍NMS
2、NMS概念
NMS也即非极大值抑制。在最近几年常见的物体检测算法（包括rcnn、sppnet、fast-rcnn、faster-rcnn等）中，最终都会从一张图片中找出很多个可能是物体的矩形框，然后为每个矩形框为做类别分类概率：
所谓非极大值抑制：依靠分类器得到多个候选框，以及关于候选框中属于类别的概率值，根据分类器得到的类别分类概率做排序，具体算法流程如下：
（1）将所有框的得分排序，选中最高分及其对应的框
（2）遍历其余的框，如果和当前最高分框的重叠面积(IOU)大于一定阈值，我们就将框删除。（为什么要删除，是因为超过设定阈值，认为两个框的里面的物体属于同一个类别，比如都属于狗这个类别。我们只需要留下一个类别的可能性框图即可。）
（3）从未处理的框中继续选一个得分最高的，重复上述过程。
举例说明：（1）（2），这里设定交并比&gt;=0.6就删除对比框图，留下最高分的框图；对于低于阈值的框图留下，然后在剩下的框图中排序，选出置信度值高的框图，然后重复交并比比较这个过程。
（1）选出Dog这个框图
（1）选出Bike这个框图
————————————————
版权声明：本文为CSDN博主「zouxiaolv」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/zouxiaolv/article/details/107400193" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/4361b6a8be3121759a7d4ef8d29871a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-26T17:13:28+08:00" />
<meta property="article:modified_time" content="2021-03-26T17:13:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">NMS</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>对NMS的理解内容，如有不对请指出。<br> 在引进NMS概念之前我们先介绍IOU(交并比)，因为在NMS中选出框图起到至关重要的作用</p> 
<p>1、IOU(交并比)<br> <img src="https://images2.imgbox.com/8c/83/JzAoDolc_o.png" alt="在这里插入图片描述"></p> 
<p>对于bounding box的定位精度，有一个很重要的概念，那就是定位精度评价公式：IOU。</p> 
<p>IOU表示了bounding box 与 ground truth 的重叠度，如下图所示：</p> 
<p><img src="https://images2.imgbox.com/d0/de/2K4QbMr8_o.png" alt="在这里插入图片描述"></p> 
<p>矩形框A、B的一个重合度IOU计算公式为：</p> 
<pre><code>                                                             IOU=Area(A∩B)/Area(A∪B)
</code></pre> 
<p>就是矩形框A、B的重叠面积占A、B并集的面积比例:</p> 
<pre><code>                                                             IOU=SI/(SA+SB-SI)
</code></pre> 
<p>如何计算IOU（交并比）<br> <img src="https://images2.imgbox.com/6e/82/ptsOF7vd_o.png" alt="在这里插入图片描述"></p> 
<p>首先求出重合面积：</p> 
<pre><code> 选取两个矩形框左顶角的横，纵坐标的最大值，x21，y21；选取两个矩形框右下边角的横纵坐标的最小值，x12，y12;
</code></pre> 
<p>重合面积计算：</p> 
<pre><code>                         inter=    
</code></pre> 
<p>并集的面积计算：</p> 
<pre><code>                           b =
</code></pre> 
<p>计算IOU：</p> 
<p>具体实例如下：<br> <img src="https://images2.imgbox.com/6d/9e/cxfVpGJl_o.png" alt="在这里插入图片描述"></p> 
<p>有了IOU（交并比）的概念理解，接下来我们就进入正题，介绍NMS</p> 
<p>2、NMS概念</p> 
<p>NMS也即非极大值抑制。在最近几年常见的物体检测算法（包括rcnn、sppnet、fast-rcnn、faster-rcnn等）中，最终都会从一张图片中找出很多个可能是物体的矩形框，然后为每个矩形框为做类别分类概率：</p> 
<p>所谓非极大值抑制：依靠分类器得到多个候选框，以及关于候选框中属于类别的概率值，根据分类器得到的类别分类概率做排序，具体算法流程如下：</p> 
<p>（1）将所有框的得分排序，选中最高分及其对应的框<br> （2）遍历其余的框，如果和当前最高分框的重叠面积(IOU)大于一定阈值，我们就将框删除。（为什么要删除，是因为超过设定阈值，认为两个框的里面的物体属于同一个类别，比如都属于狗这个类别。我们只需要留下一个类别的可能性框图即可。）<br> （3）从未处理的框中继续选一个得分最高的，重复上述过程。</p> 
<p>举例说明：（1）（2），这里设定交并比&gt;=0.6就删除对比框图，留下最高分的框图；对于低于阈值的框图留下，然后在剩下的框图中排序，选出置信度值高的框图，然后重复交并比比较这个过程。</p> 
<p>（1）选出Dog这个框图<br> <img src="https://images2.imgbox.com/62/58/NxippqcX_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/75/b3/R2Fu2eCy_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/97/4a/NbTGkFHS_o.png" alt="在这里插入图片描述"></p> 
<p>（1）选出Bike这个框图</p> 
<p><img src="https://images2.imgbox.com/c9/de/LQUYQq5u_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/e2/04/KfvMH02K_o.png" alt="在这里插入图片描述"></p> 
<p>————————————————<br> 版权声明：本文为CSDN博主「zouxiaolv」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br> 原文链接：https://blog.csdn.net/zouxiaolv/article/details/107400193</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c5d1f5318f4a6c2f4d788eb68e125885/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Trojan的兴起</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c1581ed101dcd2a87ccc0c6cda1135d4/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">信息编码表示：ASCLL、汉字信息编码略</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>