<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python学习笔记：函数和变量传递 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python学习笔记：函数和变量传递" />
<meta property="og:description" content="函数和变量传递 函数 函数是一个可重复使用的代码块。函数能提高应用的模块性和代码的重复利用率。
Python提供了许多内建函数供用户直接调用，比如print()。同时也可以自己创建函数，称之为用户自定义函数。
函数定义 使用def关键字来定义函数。语法格式为：
def 函数名 (参数): &#34;&#34;&#34; 说明文档 &#34;&#34;&#34; 执行语句 (return 返回值) 即使函数没有参数值，参数的括号也不能省略。
如：
def add(a, b): &#34;&#34;&#34; 输入两个值，返回他们的和 &#34;&#34;&#34; return a &#43; b 上述代码段中定义了一个函数add()，括号内包含两个参数a和b，函数的返回值为a&#43;b。
返回值return是指退出函数并返回结果，一个函数可以没有返回值，也可以有多个返回值；有多个返回值时，若只有一个变量来接受，则返回值为元组类型；或者必须有对应的变量数量来接收，否则会报错。
函数调用 一个简单的两个参数输入返回一个值的函数： def add(a, b): return a &#43; b print(add(1, 2)) # 输出：3 ​ 调用函数时，需严格按照函数的参数格式输入，包括参数的数量和顺序。
​ 上述代码中，add()函数指定了两个输入参数，用户在调用函数时也需要输入两个参数来获得函数的返回值。
多个参数输入多个参数返回的函数： def my_print(a, b, c): return a, b, c a = my_print(1, 2, 3) print(a) # 输出：(1, 2, 3) a, b = my_print(1, 2, 3) print(a, b) # 错误 a, b, c = my_print(1, 2, 3) print(a, b, c) # 输出：1 2 3 调用函数时请注意参数的对应关系。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/82f94bf8084fd1699c588aa55d4a1278/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-23T16:07:29+08:00" />
<meta property="article:modified_time" content="2023-07-23T16:07:29+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python学习笔记：函数和变量传递</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>函数和变量传递</h2> 
<h3><a id="_3"></a>函数</h3> 
<p>函数是一个可重复使用的代码块。函数能提高应用的模块性和代码的重复利用率。</p> 
<p>Python提供了许多内建函数供用户直接调用，比如<code>print()</code>。同时也可以自己创建函数，称之为用户自定义函数。</p> 
<h4><a id="_9"></a>函数定义</h4> 
<p>使用<code>def</code>关键字来定义函数。语法格式为：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> 函数名 <span class="token punctuation">(</span>参数<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    说明文档
    """</span>
    执行语句
    <span class="token punctuation">(</span><span class="token keyword">return</span> 返回值<span class="token punctuation">)</span>
</code></pre> 
<p>即使函数没有参数值，参数的括号也不能省略。</p> 
<p>如：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    输入两个值，返回他们的和
    """</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b
</code></pre> 
<p>上述代码段中定义了一个函数<code>add()</code>，括号内包含两个参数<code>a</code>和<code>b</code>，函数的返回值为<code>a+b</code>。</p> 
<p>返回值return是指退出函数并返回结果，一个函数可以没有返回值，也可以有多个返回值；有多个返回值时，若只有一个变量来接受，则返回值为元组类型；或者必须有对应的变量数量来接收，否则会报错。</p> 
<h4><a id="_38"></a>函数调用</h4> 
<ul><li>一个简单的两个参数输入返回一个值的函数：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b

<span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：3</span>
</code></pre> 
<p>​ 调用函数时，需严格按照函数的参数格式输入，包括参数的数量和顺序。</p> 
<p>​ 上述代码中，<code>add()</code>函数指定了两个输入参数，用户在调用函数时也需要输入两个参数来获得函数的返回值。</p> 
<ul><li>多个参数输入多个参数返回的函数：</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">my_print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c

a <span class="token operator">=</span> my_print<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token comment"># 输出：(1, 2, 3)</span>
a<span class="token punctuation">,</span> b <span class="token operator">=</span> my_print<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token comment"># 错误</span>
a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c <span class="token operator">=</span> my_print<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
<span class="token comment"># 输出：1 2 3</span>
</code></pre> 
<p>调用函数时请注意参数的对应关系。</p> 
<h3><a id="_73"></a>参数传递</h3> 
<h4><a id="_75"></a>参数分类</h4> 
<p>函数的参数可以分为形式参数和实际参数。</p> 
<ul><li>形式参数（形参）：在<strong>定义函数</strong>时，函数名后面括号中的参数就是形式参数。</li><li>实际参数（实参）：在<strong>调用函数</strong>时，函数名后面括号中的参数称为实际参数。</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b

<span class="token keyword">print</span><span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>上述代码中，定义函数<code>add(a,b)</code>时，其中的"a"和"b"就是形式参数；调用函数时<code>add(1,2)</code>中的"1"和"2"就是实际参数。</p> 
<h4><a id="_91"></a>形式参数</h4> 
<p>形式参数可以分为必选参数，默认参数，可变长位置参数，可变长关键字参数。</p> 
<ul><li> <p><strong>必选参数和默认参数</strong></p> <p>如上门所述，调用函数时，需严格按照函数的参数格式输入，指的就是必备参数。</p> <p>而默认参数则是调用函数时可选择是否传入，若不传入则由默认值替代。</p> <p>如：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">stu_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token operator">=</span><span class="token string">"male"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 若不传入sex，则默认值为"male"</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"name is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>age<span class="token punctuation">}</span></span><span class="token string">,sex is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sex<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>

stu_info<span class="token punctuation">(</span><span class="token string">"user1"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">,</span> <span class="token string">"female"</span><span class="token punctuation">)</span>
stu_info<span class="token punctuation">(</span><span class="token string">"user2"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：</span>
<span class="token comment"># name is user1,age is 20,sex is female</span>
<span class="token comment"># name is user2,age is 20,sex is male</span>
</code></pre> </li><li> <p><strong>可变长位置参数</strong></p> <p>可变长位置参数是指参数输入的数量不确定，使用星号<code>*</code>来定义可变长位置参数。</p> <p>加了星号的变量名会存放所有未命名的变量参数，打包成元组形式存储元素。</p> <p>如：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">my_args</span><span class="token punctuation">(</span><span class="token operator">*</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>

my_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
my_args<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
my_args<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：</span>
<span class="token comment"># ()</span>
<span class="token comment"># (1,)</span>
<span class="token comment"># (1, 2)</span>
</code></pre> <p>若要传入元组、列表或者集合中的元素（可以简单理解为解包），也要使用<code>*</code>来传入。传入的元组会被解包成单个元素再进行处理。</p> <p>如：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">myprint</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> args<span class="token punctuation">)</span>

myprint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：1 2 (3, 4, 5)</span>
</code></pre> <p>在上述代码中，元组(1, 2)被解包成两个元素；然后再进行位置参数的处理，即1,2对应形参a和b，3,4,5被打包成args元组输出。</p> </li><li> <p>可变长关键字参数</p> <p>与可变长位置参数类似，使用两个星号<code>**</code>来定义可变长关键字参数。读入的参数会以字典形式来存储。</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">my_kwargs</span><span class="token punctuation">(</span><span class="token operator">**</span>nums<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span>

my_kwargs<span class="token punctuation">(</span><span class="token punctuation">)</span>
my_kwargs<span class="token punctuation">(</span>a<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
my_kwargs<span class="token punctuation">(</span>b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>

<span class="token comment"># 输出</span>
<span class="token comment"># {}</span>
<span class="token comment"># {'a': 1}</span>
<span class="token comment"># {'b': 2, 'c': 3}</span>
</code></pre> <p>同样的，如果要在参数内传入解包的字典，需要使用<code>**</code>。</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">myprint</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> kwargs<span class="token punctuation">)</span>

myprint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">**</span><span class="token punctuation">{<!-- --></span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：1 2 {'a': 1, 'b': 2}</span>
</code></pre> </li></ul> 
<h4><a id="_177"></a>实际参数</h4> 
<p>实际参数可以分为位置参数，关键字参数。</p> 
<ul><li> <p>位置参数：按照函数的参数位置依次输入参数。</p> <p>如：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">stu_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span class="token punctuation">:</span>、
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"name is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>age<span class="token punctuation">}</span></span><span class="token string">,sex is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sex<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
stu_info<span class="token punctuation">(</span><span class="token string">"user1"</span><span class="token punctuation">,</span> <span class="token string">"20"</span><span class="token punctuation">,</span> <span class="token string">"female"</span><span class="token punctuation">)</span>
</code></pre> </li><li> <p>关键字参数：使用关键字给定参数值；和位置参数一起使用时，放在位置参数后。</p> <p>如：</p> <pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">stu_info</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"name is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>name<span class="token punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>age<span class="token punctuation">}</span></span><span class="token string">,sex is </span><span class="token interpolation"><span class="token punctuation">{<!-- --></span>sex<span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
    
stu_info<span class="token punctuation">(</span><span class="token string">"user1"</span><span class="token punctuation">,</span> sex<span class="token operator">=</span><span class="token string">"male"</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token string">"18"</span><span class="token punctuation">)</span>
</code></pre> </li></ul> 
<h4><a id="_203"></a>值传递和引用传递</h4> 
<p>根据实际参数的类型不同，函数参数的传递方式可分为 2 种，分别为值传递和引用（地址）传递：</p> 
<ol><li>值传递：适用于实参类型为不可变类型（字符串、数字、元组）；</li><li>引用（地址）传递：适用于实参类型为可变类型（列表，字典）；</li></ol> 
<p>值传递和引用传递的区别是，函数参数进行值传递后，若形参的值发生改变，不会影响实参的值；而函数参数继续引用传递后，改变形参的值，实参的值也会一同改变。</p> 
<ul><li><strong>可更改对象与不可更改对象</strong></li></ul> 
<p>可更改对象与不可更改对象的区别在于对象本身是否可变。字符串、元组、数值是不可更改对象，而列表、字典等则是可更改对象。</p> 
<p>在更改不可更改对象的值时，实际上是生成了一个新的对象再指向原变量。</p> 
<p>而更改可更改对象的值时，只是更改了对象内部的数据，对象本身没有发生变化。</p> 
<p>如：</p> 
<pre><code class="prism language-python">num <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"第一个num的地址为</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">id</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
num <span class="token operator">=</span> <span class="token number">20</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"第二个num的地址为</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">id</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token comment"># 第一个num的地址为2610845516304</span>
<span class="token comment"># 第二个num的地址为2610845516624</span>

my_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"第一个list的地址为</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">id</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
my_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"第二个list的地址为</span><span class="token interpolation"><span class="token punctuation">{<!-- --></span><span class="token builtin">id</span><span class="token punctuation">(</span>my_list<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token comment"># 第一个list的地址为2023694724288</span>
<span class="token comment"># 第二个list的地址为2023694724288</span>
</code></pre> 
<p>在python函数中，参数传递分为不可变类型传参和可变类型传参：</p> 
<ul><li> <p><strong>不可变类型</strong>：如果传入一个不可更改对象参数，传递的只是该参数的值，不会影响参数本身。</p> <p>如 fun(a)，传递的只是 a 的值，没有影响 a 对象本身。如果在 fun(a) 内部修改 a 的值，则是新生成一个 a 的对象。</p> </li><li> <p><strong>可变类型</strong>：如果传入一个可更改对象参数，则传递的参数本身，修改函数的值会修改该变量的值。</p> <p>如 fun(my_list)，则是将 my_list真正地传过去，修改后 fun 外部的 my_list 也会受影响。</p> </li></ul> 
<p>python 中一切都是对象，严格意义上来说不能说值传递还是引用传递，应该说传不可变对象和传可变对象。</p> 
<h3><a id="_250"></a>变量作用域</h3> 
<h4><a id="LEGB_252"></a>LEGB</h4> 
<p>在python访问一个变量时，其查找顺序遵循LEGB机制：</p> 
<ul><li>L：local，局部作用域，即函数中定义的变量；</li><li>E：enclosing，嵌套的父级函数的局部作用域，即包含此函数的上级函数的局部作用域；</li><li>G：global，全局变量，即模块级别定义的变量；</li><li>B：built-in，系统固定模块里面的变量，即python的内置作用域。</li><li>搜索变量的优先级顺序依次是：局部作用域&gt;外层作用域&gt;当前模块中的全局变量&gt;python内置作用域</li></ul> 
<p>下面是一个简单的示例：</p> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">'aaa'</span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    
<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    s <span class="token operator">=</span> <span class="token string">'bbb'</span>
    f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：aaa</span>
</code></pre> 
<p>在函数 <code>f1()</code> 中，变量 <code>s</code> 是在全局作用域中定义的，它的值是 <code>'aaa'</code>。</p> 
<p>在函数 <code>f2()</code> 中，另一个名为 <code>s</code> 的变量被定义为 <code>'bbb'</code>，但它只存在于 <code>f2()</code> 的本地作用域中。</p> 
<p>当 <code>f2()</code> 调用 <code>f1()</code> 时，它会调用全局变量 <code>s</code>，因此输出的值为 <code>'aaa'</code>。</p> 
<h4><a id="global_284"></a>global关键字</h4> 
<p>如果想在函数中声明全局变量或者改变临时变量，可以使用<code>global</code>关键字。</p> 
<p>如：</p> 
<pre><code class="prism language-scss">def f1():
    global s
    s = "aaa"

def f2():
    print(s)

f1()
f2()
# 输出：aaa

</code></pre> 
<p>在上述代码中，函数<code>f1()</code>定义了一个全局变量<code>s = "aaa"</code>，首先调用函数<code>f1()</code>来声明全局变量，再调用<code>f2()1</code>时，变量<code>s</code>被识别为全局变量并输出。</p> 
<p>如果全局变量是不可变类型，想要在函数中对函数变量进行修改，则需要先在函数内声明其为global，再进行修改；如果是可变数据类型则可以直接修改。</p> 
<pre><code class="prism language-python">s <span class="token operator">=</span> <span class="token string">"aaa"</span>

<span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">global</span> s
    s <span class="token operator">=</span> <span class="token string">"bbb"</span>

<span class="token keyword">def</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
f2<span class="token punctuation">(</span><span class="token punctuation">)</span>
f3<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：</span>
<span class="token comment"># aaa</span>
<span class="token comment"># bbb</span>
</code></pre> 
<h3><a id="_329"></a>特殊函数</h3> 
<h4><a id="_331"></a>匿名函数</h4> 
<p>匿名函数是指没有名字的函数。匿名函数使用关键字<code>lambda</code>来定义，函数体只有一个表达式。</p> 
<p>匿名函数可以作为参数传递给其他函数，可以使代码更简洁、更易于阅读。</p> 
<p>语法表达式为<code>lambda 参数:返回值</code>。</p> 
<p>如：</p> 
<pre><code class="prism language-python">func1 <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">,</span> b<span class="token punctuation">:</span> a <span class="token operator">+</span> b
<span class="token keyword">print</span><span class="token punctuation">(</span>func1<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：3</span>
</code></pre> 
<h4><a id="_347"></a>递归函数</h4> 
<p>如果一个函数在内部调用函数本身，这个函数就是递归函数。</p> 
<p>下面是一个递归函数，用于计算输入值到1的和：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">calculate</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> n <span class="token operator">+</span> calculate<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
</code></pre> 
<p>计算输入值到1的和用数学表达式表达为<code>n + (n-1) + (n-2) + ... + 1</code>。</p> 
<p>当给定一个变量 n 时，函数会返回 n + n-1 ，并将 n-1 递归给函数本身进行下一次计算，以此循环，直至返回到 n-1=0 时结束递归。</p> 
<p>使用递归函数需要考虑好每一层递归的执行代码，即问题的共同规矩；要考虑好函数的出口。</p> 
<p>注意，函数的递归次数不要超过1000次，否则会造成堆栈溢出报错等问题。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/27adb4953c2feba5b2e4c1a6976394bd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java反射getMethod和getDeclaredMethod区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/029b589c6b17e0bca5e1c74e77bc6373/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">全光谱吸顶灯选购指南</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>