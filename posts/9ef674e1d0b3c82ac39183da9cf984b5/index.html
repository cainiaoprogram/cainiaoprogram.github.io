<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Ubuntu16.04 中 搭建Janus Server - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Ubuntu16.04 中 搭建Janus Server" />
<meta property="og:description" content="Ubuntu16.04 局域网中搭建Janus Server 文章目录 Ubuntu16.04 局域网中搭建Janus Serverjanus简介系统环境安装准备安装 aptitu安装依赖 安装源码安装 WebSocket安装 libsrtp安装libusrsctp安装libmicrohttpd安装 Janus安装和配置nginx签名证书安装nginx配置nginx验证nginx配置是否成功 janus 官方demo运行配置janus修改demo增加wss支持验证 Janus demo janus简介 ​ Janus是WebRTC 服务器端的开源项目，官方对其定义是一个WebRTC服务器端，支持的功能比较丰富，通过core模块来支持不同的插件的方式，支持SFU模式，客户端集成相对比较简。开发语言（C语言），代码架构比较清晰，支持了SIP 接口。
官方网址：https://janus.conf.meetecho.com/index.html
系统环境 uname -ar Linux ubuntu16 4.4.0-186-generic #216-Ubuntu SMP Wed Jul 1 05:34:05 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux 安装准备 安装 aptitu sudo apt-get install aptitude 安装依赖 sudo aptitude install libmicrohttpd-dev libjansson-dev libnice-dev \ libssl1.0.1-dev libsrtp-dev libsofia-sip-ua-dev libglib2.3.4-dev \ libopus-dev libogg-dev libcurl4-openssl-dev pkg-config gengetopt \ libtool automake sudo apt install cmake sudo aptitude install libconfig-dev sudo aptitude install libssl-dev sudo aptitude install doxygen graphviz sudo aptitude install libavcodec-dev libavformat-dev libswscale-dev libavutil-dev 安装源码 janus支持插件式功能安装，根据需求选择安装，这里将安装：WebSocket(支持 WebSocket),bsrtp和libusrsctp（音视频流传输控制和数据协议支持），libmicrohttpd（支持http/https），Janus（咱们的主角）,nginx(提供web服务)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/9ef674e1d0b3c82ac39183da9cf984b5/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-31T19:14:00+08:00" />
<meta property="article:modified_time" content="2023-07-31T19:14:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Ubuntu16.04 中 搭建Janus Server</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Ubuntu1604_Janus_Server_0"></a>Ubuntu16.04 局域网中搭建Janus Server</h2> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Ubuntu1604_Janus_Server_0" rel="nofollow">Ubuntu16.04 局域网中搭建Janus Server</a></li><li><ul><li><a href="#janus_3" rel="nofollow">janus简介</a></li><li><a href="#_9" rel="nofollow">系统环境</a></li><li><a href="#_18" rel="nofollow">安装准备</a></li><li><ul><li><a href="#_aptitu_20" rel="nofollow">安装 aptitu</a></li><li><a href="#_26" rel="nofollow">安装依赖</a></li></ul> 
   </li><li><a href="#_43" rel="nofollow">安装源码</a></li><li><ul><li><a href="#_WebSocket_52" rel="nofollow">安装 WebSocket</a></li><li><a href="#_libsrtp_66" rel="nofollow">安装 libsrtp</a></li><li><a href="#libusrsctp_76" rel="nofollow">安装libusrsctp</a></li><li><a href="#libmicrohttpd_89" rel="nofollow">安装libmicrohttpd</a></li><li><a href="#_Janus_102" rel="nofollow">安装 Janus</a></li><li><a href="#nginx_158" rel="nofollow">安装和配置nginx</a></li><li><ul><li><a href="#_160" rel="nofollow">签名证书</a></li><li><a href="#nginx_173" rel="nofollow">安装nginx</a></li><li><a href="#nginx_184" rel="nofollow">配置nginx</a></li><li><a href="#nginx_214" rel="nofollow">验证nginx配置是否成功</a></li></ul> 
   </li></ul> 
   </li><li><a href="#janus_demo_228" rel="nofollow">janus 官方demo运行</a></li><li><ul><li><a href="#janus_230" rel="nofollow">配置janus</a></li><li><a href="#demowss_309" rel="nofollow">修改demo增加wss支持</a></li><li><a href="#_Janus_demo_322" rel="nofollow">验证 Janus demo</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="janus_3"></a>janus简介</h3> 
<p>​ Janus是WebRTC 服务器端的开源项目，官方对其定义是一个WebRTC服务器端，支持的功能比较丰富，通过core模块来支持不同的插件的方式，支持SFU模式，客户端集成相对比较简。开发语言（C语言），代码架构比较清晰，支持了SIP 接口。</p> 
<blockquote> 
 <p>官方网址：https://janus.conf.meetecho.com/index.html</p> 
</blockquote> 
<h3><a id="_9"></a>系统环境</h3> 
<pre><code class="prism language-shell"><span class="token function">uname</span> <span class="token parameter variable">-ar</span>
Linux ubuntu16 <span class="token number">4.4</span>.0-186-generic <span class="token comment">#216-Ubuntu SMP Wed Jul 1 05:34:05 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</span>
</code></pre> 
<h3><a id="_18"></a>安装准备</h3> 
<h4><a id="_aptitu_20"></a>安装 aptitu</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">aptitude</span>
</code></pre> 
<h4><a id="_26"></a>安装依赖</h4> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> libmicrohttpd-dev libjansson-dev libnice-dev <span class="token punctuation">\</span>
    libssl1.0.1-dev libsrtp-dev libsofia-sip-ua-dev libglib2.3.4-dev <span class="token punctuation">\</span>
    libopus-dev libogg-dev libcurl4-openssl-dev pkg-config gengetopt <span class="token punctuation">\</span>
    libtool automake
    
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> cmake
<span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> libconfig-dev
<span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> libssl-dev
<span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> doxygen graphviz
<span class="token function">sudo</span> <span class="token function">aptitude</span> <span class="token function">install</span> libavcodec-dev libavformat-dev libswscale-dev libavutil-dev
</code></pre> 
<h3><a id="_43"></a>安装源码</h3> 
<blockquote> 
 <p>janus支持插件式功能安装，根据需求选择安装，这里将安装：WebSocket(支持 WebSocket),bsrtp和libusrsctp（音视频流传输控制和数据协议支持），libmicrohttpd（支持http/https），Janus（咱们的主角）,nginx(提供web服务)</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/93/78/hNmnWNny_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_WebSocket_52"></a>安装 WebSocket</h4> 
<pre><code>git clone https://github.com/warmcat/libwebsockets.git
cd libwebsockets
git checkout v3.2-stable 
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX:PATH=/usr -DCMAKE_C_FLAGS="-fpic" ..
make &amp;&amp; sudo make install
</code></pre> 
<blockquote> 
 <p>janus会通过 --enable-websockets 使能 WebSocket 开关， --disable-websockets 关闭 WebSocket 开关</p> 
</blockquote> 
<h4><a id="_libsrtp_66"></a>安装 libsrtp</h4> 
<pre><code>wget https://github.com/cisco/libsrtp/archive/v2.2.0.tar.gz
tar xfv v2.2.0.tar.gz
cd libsrtp-2.2.0
./configure --prefix=/usr --enable-openssl
make shared_library &amp;&amp; sudo make install
</code></pre> 
<h4><a id="libusrsctp_76"></a>安装libusrsctp</h4> 
<pre><code>git clone https://github.com/Kurento/libusrsctp.git
cd libusrsctp
./bootstrap
./configure
make
sudo make install
</code></pre> 
<blockquote> 
 <p>janus会通过–enable-data-channels支持libusrsctp</p> 
</blockquote> 
<h4><a id="libmicrohttpd_89"></a>安装libmicrohttpd</h4> 
<pre><code>wget https://ftp.gnu.org/gnu/libmicrohttpd/libmicrohttpd-0.9.71.tar.gz
tar zxf libmicrohttpd-0.9.71.tar.gz
cd libmicrohttpd-0.9.71/
./configure
make
sudo make install
</code></pre> 
<blockquote> 
 <p>janus会通过–enable-rest支持</p> 
</blockquote> 
<h4><a id="_Janus_102"></a>安装 Janus</h4> 
<pre><code>git clone https://github.com/meetecho/janus-gateway.git
git  checkout v0.10.4
sh autogen.sh
./configure --prefix=/opt/janus --enable-websockets --enable-post-processing --enable-docs --enable-rest --enable-data-channels
make
sudo make install
</code></pre> 
<p>执行后，</p> 
<pre><code class="prism language-shell">Compiler:                  gcc
libsrtp version:           <span class="token number">2</span>.x
SSL/crypto library:        OpenSSL
DTLS set-timeout:          not available
Mutex implementation:      GMutex <span class="token punctuation">(</span>native futex on Linux<span class="token punctuation">)</span>
DataChannels support:      <span class="token function">yes</span>
Recordings post-processor: <span class="token function">yes</span>
TURN REST API client:      <span class="token function">yes</span>
Doxygen documentation:     <span class="token function">yes</span>
Transports:
    REST <span class="token punctuation">(</span>HTTP/HTTPS<span class="token punctuation">)</span>:     <span class="token function">yes</span>
    WebSockets:            <span class="token function">yes</span>
    RabbitMQ:              no
    MQTT:                  no
    Unix Sockets:          <span class="token function">yes</span>
    Nanomsg:               no
Plugins:
    Echo Test:             <span class="token function">yes</span>
    Streaming:             <span class="token function">yes</span>
    Video Call:            <span class="token function">yes</span>
    SIP Gateway:           <span class="token function">yes</span>
    NoSIP <span class="token punctuation">(</span>RTP Bridge<span class="token punctuation">)</span>:    <span class="token function">yes</span>
    Audio Bridge:          <span class="token function">yes</span>
    Video Room:            <span class="token function">yes</span>
    Voice Mail:            <span class="token function">yes</span>
    Record<span class="token operator">&amp;</span>Play:           <span class="token function">yes</span>
    Text Room:             <span class="token function">yes</span>
    Lua Interpreter:       no
    Duktape Interpreter:   no
Event handlers:
    Sample event handler:  <span class="token function">yes</span>
    WebSocket ev. handler: <span class="token function">yes</span>
    RabbitMQ event handler:no
    MQTT event handler:    no
    Nanomsg event handler: no
    GELF event handler:    <span class="token function">yes</span>
External loggers:
    JSON <span class="token function">file</span> logger:      no
JavaScript modules:        no

</code></pre> 
<h4><a id="nginx_158"></a>安装和配置nginx</h4> 
<h5><a id="_160"></a>签名证书</h5> 
<p>使用https/wss，需要证书，使用如下命令生成：</p> 
<pre><code>mkdir -p ~/cert
cd ~/cert
# CA私钥
openssl genrsa -out key.pem 2048
# 自签名证书
openssl req -new -x509 -key key.pem -out cert.pem -days 1095
</code></pre> 
<h5><a id="nginx_173"></a>安装nginx</h5> 
<pre><code>wget http://nginx.org/download/nginx-1.15.8.tar.gz
tar xvzf nginx-1.15.8.tar.gz
cd nginx-1.15.8/
./configure --with-http_ssl_module 
make
sudo make install
</code></pre> 
<h5><a id="nginx_184"></a>配置nginx</h5> 
<pre><code>vim /usr/local/nginx/conf/nginx.conf
</code></pre> 
<p>修改大概98行位置，如下：</p> 
<pre><code>98     server {
99         listen       443 ssl;
100         server_name  localhost;
101
102         ssl_certificate      自己的证书路径/cert.pem;   #自己的证书
103         ssl_certificate_key  自己的证书路径/key.pem;
104
105         ssl_session_cache    shared:SSL:1m;
106         ssl_session_timeout  5m;
107
108         ssl_ciphers  HIGH:!aNULL:!MD5;
109         ssl_prefer_server_ciphers  on;
110
111         location / { 
112             root   /opt/janus/share/janus/demos;  #web网页打开时，定位到这里
113             index  index.html index.htm;
114         }
115     }

</code></pre> 
<h5><a id="nginx_214"></a>验证nginx配置是否成功</h5> 
<ol><li> <p>查看ngnix是否启动：<br> ps -ef | grep nginx<br> root 2046 1 0 10:55 ? 00:00:00 nginx: master process /usr/local/nginx/sbin/nginx<br> nobody 2047 2046 0 10:55 ? 00:00:00 nginx: worker process<br> hbwang 2051 1858 0 10:55 pts/0 00:00:00 grep --color=auto nginx</p> </li><li> <p>如果没有启动，请执行如下cmd启动:<br> sudo /usr/local/nginx/sbin/nginx</p> </li><li> <p>使用谷歌浏览器(qq浏览器也可以，但火狐我测试不能打开)，进行验证 https://自己的本地ip<br> <img src="https://images2.imgbox.com/9e/1c/JOvDaeuF_o.png" alt="在这里插入图片描述"></p> </li></ol> 
<h3><a id="janus_demo_228"></a>janus 官方demo运行</h3> 
<h4><a id="janus_230"></a>配置janus</h4> 
<blockquote> 
 <p>将sample配置cp一份，作为我们janus基本配置，然后在此基础上更改</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token builtin class-name">cd</span> /opt/janus/etc/janus
<span class="token function">sudo</span> <span class="token function">cp</span> janus.jcfg.sample janus.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.transport.http.jcfg.sample janus.transport.http.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.transport.websockets.jcfg.sample janus.transport.websockets.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.videoroom.jcfg.sample janus.plugin.videoroom.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.transport.pfunix.jcfg.sample janus.transport.pfunix.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.streaming.jcfg.sample janus.plugin.streaming.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.recordplay.jcfg.sample janus.plugin.recordplay.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.voicemail.jcfg.sample janus.plugin.voicemail.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.sip.jcfg.sample janus.plugin.sip.jcfg
<span class="token function">sudo</span> <span class="token function">cp</span> janus.plugin.nosip.jcfg.sample janus.plugin.nosip.jcfg
</code></pre> 
<p>这里需要配置janus.transport.http.jcfg，janus.transport.websockets.jcfg</p> 
<blockquote> 
 <p>janus.transport.http.jcfg主要开启https和增加证书</p> 
</blockquote> 
<pre><code class="prism language-shell">general: <span class="token punctuation">{<!-- --></span>
        <span class="token comment">#events = true                                  # Whether to notify event handlers about transport events (default=true)</span>
        json <span class="token operator">=</span> <span class="token string">"indented"</span>                               <span class="token comment"># Whether the JSON messages should be indented (default),</span>
                                                                        <span class="token comment"># plain (no indentation) or compact (no indentation and no spaces)</span>
        base_path <span class="token operator">=</span> <span class="token string">"/janus"</span>                    <span class="token comment"># Base path to bind to in the web server (plain HTTP only)</span>
        threads <span class="token operator">=</span> <span class="token string">"unlimited"</span>                   <span class="token comment"># unlimited=thread per connection, number=thread pool</span>
        http <span class="token operator">=</span> <span class="token boolean">true</span>                                             <span class="token comment"># Whether to enable the plain HTTP interface</span>
        port <span class="token operator">=</span> <span class="token number">8088</span>                                             <span class="token comment"># Web server HTTP port</span>
        <span class="token comment">#interface = "eth0"                             # Whether we should bind this server to a specific interface only</span>
        <span class="token comment">#ip = "192.168.0.1"                             # Whether we should bind this server to a specific IP address (v4 or v6) only</span>
        https <span class="token operator">=</span> <span class="token boolean">true</span>                                    <span class="token comment"># Whether to enable HTTPS (default=false)</span>
        secure_port <span class="token operator">=</span> <span class="token number">8089</span>                              <span class="token comment"># Web server HTTPS port, if enabled</span>
        <span class="token comment">#secure_interface = "eth0"              # Whether we should bind this server to a specific interface only</span>
        <span class="token comment">#secure_ip = "192.168.0.1"              # Whether we should bind this server to a specific IP address (v4 or v6) only</span>
        <span class="token comment">#acl = "127.,192.168.0."                # Only allow requests coming from this comma separated list of addresses</span>
<span class="token punctuation">}</span>

certificates: <span class="token punctuation">{<!-- --></span>
        cert_pem <span class="token operator">=</span> <span class="token string">"自己的证书路径/cert.pem"</span>
        cert_key <span class="token operator">=</span> <span class="token string">"自己的证书路径/key.pem"</span>
        <span class="token comment">#cert_pwd = "secretpassphrase"</span>
        <span class="token comment">#ciphers = "PFS:-VERS-TLS1.0:-VERS-TLS1.1:-3DES-CBC:-ARCFOUR-128"</span>
<span class="token punctuation">}</span>
</code></pre> 
<blockquote> 
 <p>janus.transport.websockets.jcfg主要开启wss和增加证书</p> 
</blockquote> 
<pre><code class="prism language-shell">general: <span class="token punctuation">{<!-- --></span>
        <span class="token comment">#events = true                                  # Whether to notify event handlers about transport events (default=true)</span>
        json <span class="token operator">=</span> <span class="token string">"indented"</span>                               <span class="token comment"># Whether the JSON messages should be indented (default),</span>
                                                                        <span class="token comment"># plain (no indentation) or compact (no indentation and no spaces)</span>
        <span class="token comment">#pingpong_trigger = 30                  # After how many seconds of idle, a PING should be sent</span>
        <span class="token comment">#pingpong_timeout = 10                  # After how many seconds of not getting a PONG, a timeout should be detected</span>

        ws <span class="token operator">=</span> <span class="token boolean">true</span>                                               <span class="token comment"># Whether to enable the WebSockets API</span>
        ws_port <span class="token operator">=</span> <span class="token number">8188</span>                                  <span class="token comment"># WebSockets server port</span>
        <span class="token comment">#ws_interface = "eth0"                  # Whether we should bind this server to a specific interface only</span>
        <span class="token comment">#ws_ip = "192.168.0.1"                  # Whether we should bind this server to a specific IP address only</span>
        wss <span class="token operator">=</span> <span class="token boolean">true</span>                                              <span class="token comment"># Whether to enable secure WebSockets</span>
        wss_port <span class="token operator">=</span> <span class="token number">8989</span>                         <span class="token comment"># WebSockets server secure port, if enabled</span>
        <span class="token comment">#wss_interface = "eth0"                 # Whether we should bind this server to a specific interface only</span>
        <span class="token comment">#wss_ip = "192.168.0.1"                 # Whether we should bind this server to a specific IP address only</span>
        <span class="token comment">#ws_logging = "err,warn"                # libwebsockets debugging level as a comma separated list of things</span>
                                                                        <span class="token comment"># to debug, supported values: err, warn, notice, info, debug, parser,</span>
                                                                        <span class="token comment"># header, ext, client, latency, user, count (plus 'none' and 'all')</span>
        <span class="token comment">#ws_acl = "127.,192.168.0."             # Only allow requests coming from this comma separated list of addresses</span>
<span class="token punctuation">}</span>

certificates: <span class="token punctuation">{<!-- --></span>
        cert_pem <span class="token operator">=</span> <span class="token string">"自己的证书路径/cert.pem"</span>
        cert_key <span class="token operator">=</span> <span class="token string">"自己的证书路径/key.pem"</span>
        <span class="token comment">#cert_pwd = "secretpassphrase"</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="demowss_309"></a>修改demo增加wss支持</h4> 
<pre><code class="prism language-javascript">vim <span class="token operator">/</span>opt<span class="token operator">/</span>janus<span class="token operator">/</span>share<span class="token operator">/</span>janus<span class="token operator">/</span>demos<span class="token operator">/</span>videoroomtest<span class="token punctuation">.</span>js

<span class="token keyword">var</span> server <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>protocol <span class="token operator">===</span> <span class="token string">'http:'</span><span class="token punctuation">)</span>
        server <span class="token operator">=</span> <span class="token string">"http://"</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hostname <span class="token operator">+</span> <span class="token string">":8088/janus"</span><span class="token punctuation">;</span>
<span class="token keyword">else</span>
        #server <span class="token operator">=</span> <span class="token string">"https://"</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hostname <span class="token operator">+</span> <span class="token string">":8089/janus"</span><span class="token punctuation">;</span>
        server <span class="token operator">=</span> <span class="token string">"wss://"</span> <span class="token operator">+</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hostname <span class="token operator">+</span> <span class="token string">":8989"</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="_Janus_demo_322"></a>验证 Janus demo</h4> 
<pre><code class="prism language-shell">/opt/janus/bin/janus --debug-level<span class="token operator">=</span><span class="token number">5</span> --log-file<span class="token operator">=</span><span class="token environment constant">$HOME</span>/janus-log
</code></pre> 
<p>启动log如下：</p> 
<pre><code class="prism language-shell">Janus commit: b68b209f91d0250f0739feee28555fe71255450b
Compiled on:  Sat Jan <span class="token number">30</span> <span class="token number">12</span>:50:58 CST <span class="token number">2021</span>

Logger plugins folder: /opt/janus/lib/janus/loggers
---------------------------------------------------
  Starting Meetecho Janus <span class="token punctuation">(</span>WebRTC Server<span class="token punctuation">)</span> v0.10.4
---------------------------------------------------

Checking <span class="token builtin class-name">command</span> line arguments<span class="token punctuation">..</span>.
Debug/log level is <span class="token number">3</span>
Debug/log timestamps are disabled
Debug/log colors are enabled
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> Token based authentication disabled
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> Janus is deployed on a private address <span class="token punctuation">(</span><span class="token number">192.168</span>.1.4<span class="token punctuation">)</span> but you didn<span class="token string">'t specify any STUN server! Expect trouble if this is supposed to work over the internet and not just in a LAN...
[WARN] The libsrtp installation does not support AES-GCM profiles
[WARN] No cert/key specified, autogenerating some...
[WARN] Event handlers support disabled
[ERR] [config.c:janus_config_parse:191]   -- Error reading configuration file '</span>janus.plugin.videocall.jcfg<span class="token string">'... error 2 (No such file or directory)
[WARN] Couldn'</span>t <span class="token function">find</span> .jcfg configuration <span class="token function">file</span> <span class="token punctuation">(</span>janus.plugin.videocall<span class="token punctuation">)</span>, trying .cfg
<span class="token punctuation">[</span>ERR<span class="token punctuation">]</span> <span class="token punctuation">[</span>config.c:janus_config_parse:191<span class="token punctuation">]</span>   -- Error reading configuration <span class="token function">file</span> <span class="token string">'janus.plugin.videocall.cfg'</span><span class="token punctuation">..</span>. error <span class="token number">2</span> <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
<span class="token punctuation">[</span>ERR<span class="token punctuation">]</span> <span class="token punctuation">[</span>config.c:janus_config_parse:191<span class="token punctuation">]</span>   -- Error reading configuration <span class="token function">file</span> <span class="token string">'janus.plugin.audiobridge.jcfg'</span><span class="token punctuation">..</span>. error <span class="token number">2</span> <span class="token punctuation">(</span>No such <span class="token function">file</span> or directory<span class="token punctuation">)</span>
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> Couldn<span class="token string">'t find .jcfg configuration file (janus.plugin.audiobridge), trying .cfg
[ERR] [config.c:janus_config_parse:191]   -- Error reading configuration file '</span>janus.plugin.audiobridge.cfg<span class="token string">'... error 2 (No such file or directory)
[WARN] Admin/monitor HTTP webserver disabled
[WARN] Admin/monitor HTTPS webserver disabled
[WARN] Unix Sockets server disabled (Janus API)
[WARN] Unix Sockets server disabled (Admin API)
[WARN] No Unix Sockets server started, giving up...
[WARN] The '</span>janus.transport.pfunix' plugin could not be initialized
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> libwebsockets has been built without IPv6 support, will <span class="token builtin class-name">bind</span> to IPv4 only
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> Admin WebSockets server disabled
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> Secure Admin WebSockets server disabled
<span class="token punctuation">[</span>WARN<span class="token punctuation">]</span> libnice version outdated: <span class="token number">0.1</span>.13 installed, at least <span class="token number">0.1</span>.16 recommended. Notice the installed version was checked at build time: <span class="token keyword">if</span> you updated libnice <span class="token keyword">in</span> the meanwhile, re-configure and recompile to get rid of this warning

</code></pre> 
<blockquote> 
 <p>使用谷歌浏览器(qq浏览器也可以，但火狐我测试不能打开)，进行验证 https://自己的本地ip</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e0/d2/EpcT6O7t_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YLD8jIkG-1612002747240)(C:\Users\ADMINI~1\AppData\Local\Temp\1611987721927.png)]"></p> 
<p><img src="https://images2.imgbox.com/a3/cc/qOgSfUOx_o.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-TTgEdMmW-1612002747242)(C:\Users\ADMINI~1\AppData\Local\Temp\1611987814009.png)]"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9f5d42deb557e7be6a524901c7000857/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于libevent的多线程http server (CentOS)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a1bf7eced78d087f1cc277df54077562/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">淘宝cp210X提示“VeriFone USB Modem”无法匹配驱动</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>