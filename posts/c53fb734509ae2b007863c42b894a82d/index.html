<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>XCP协议入门-认识XCP协议1 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="XCP协议入门-认识XCP协议1" />
<meta property="og:description" content="1前言 本文是笔者自己学习XCP协议时，结合所学习视频及查看的资料，进行的总结。
通过本文，你将了解什么是XCP协议，XCP协议的作用、工作过程等知识，将对XCP协议有个基本掌握。
2标定(Calibration)的定义 标定就是通过不断地修改软件控制参数(测量&#43;标定)，使系统达到最佳工作状态。
3XCP协议的概述 XCP协议-Univeral Measurement and Calibration Protocol（通用测量和标定协议），又可以叫做Extended Calibration Protocol（扩展的标定协议），是由ASAM（自动化和测量系统标准化协会）标准化的。它的前身是CCP（Can Calibration Protocol），CAN标定协议，只针对于CAN通信的测量和标定。（理解：C变成了X，扩展了传输层的传输媒介，应用更加广泛）
其中，
ASAM是汽车OEM，供应商和工具生产商的组织。
“C”代表CAN总线，“X”代表任意的传输层（如CAN、CAN FD、FlexRay、Ethernet…）
4XCP协议的应用 用于内部ECU参数的测量和标定，刷新及对ECU进行旁路仿真。
5XCP协议的分类 为了独立于特定的物理传输层，XCP协议被细分为两层，如图5-1所示，一层是协议层（protocol layer），一层是传输层（transport layer），移植的时候重点关注传输层接口。
图5-1
6Xcp协议的工作过程 如图6-1所示，XCP协议是基于主从结构进行通讯，也就是Master-Slave Communication。
图6-1
主机（Master）:位于PC上的软件工具（PC Tool），Canape/Inca.
从机（Slave）:真实ECU/仿真ECU
图6-2
XCP协议是基于ASAM接口模型定义的。如上图6-2所示，显示了主机PC（测量和校准工具）与从机ECU，描述文件的接口以及与更高级别的自动化系统的连接。
1、主机PC（测量和校准工具）和从机ECU之间的连接接口：ASAM MCD-1MC
该接口描述了物理和协议的特定部分，传输的是Xcp Frame。
2、主机PC（测量和校准工具）和.A2L文件之间的连接接口：ASAM MCD-2MC
.A2L文件包含ECU描述信息（定义好的通信参数，测量参数的地址和名字等），主机需要通过.A2L文件掌握ECU的内部信息。后续章节会专门讨论此A2L描述文件。
3、主机PC（测量和校准工具）和更高级别的自动化系统之间的连接接口：ASAM MCD-3MC
该接口在本文档中暂不做说明，此接口用于将另一个更高级别的自动化系统连接到测量和校准工具。
图6-3
XCP协议基于主从通信的原则，如图6-3所示，从机在任何给定时间只能与一个主机通信，而主机可以同时与许多从机进行通信。
关于XCP 报文格式及XCP 数据传输方式将在下一章节认识XCP协议2进行讲述。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/c53fb734509ae2b007863c42b894a82d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-10T09:57:03+08:00" />
<meta property="article:modified_time" content="2023-10-10T09:57:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">XCP协议入门-认识XCP协议1</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2>1前言</h2> 
<p style="margin-left:.0001pt;text-align:justify;">本文是笔者自己学习XCP协议时，结合所学习视频及查看的资料，进行的总结。</p> 
<p style="margin-left:.0001pt;text-align:justify;">通过本文，你将了解什么是XCP协议，XCP协议的作用、工作过程等知识，将对XCP协议有个基本掌握。</p> 
<h2 style="margin-left:.0001pt;text-align:justify;">2标定(Calibration)的定义</h2> 
<p style="margin-left:.0001pt;text-align:justify;">标定就是通过不断地<span style="background-color:#a2e043;">修改软件控制参数</span>(<span style="background-color:#ffd900;">测量</span>+<span style="background-color:#ffd900;">标定</span>)，使系统达到最佳工作状态。</p> 
<h2 style="margin-left:.0001pt;text-align:justify;">3XCP协议的概述</h2> 
<p style="margin-left:.0001pt;text-align:justify;">XCP协议-Univeral Measurement and Calibration Protocol（通用测量和标定协议），又可以叫做Extended Calibration Protocol（扩展的标定协议），是由<span style="background-color:#ffd900;">ASAM</span>（<span style="background-color:#ffffff;"><span style="color:#444444;">自动化和测量系统标准化协会</span></span>）标准化的。它的前身是<span style="background-color:#ffd900;">CCP</span>（Can Calibration Protocol），CAN标定协议，只针对于CAN通信的测量和标定。（理解：C变成了X，扩展了传输层的传输媒介，应用更加广泛）</p> 
<p style="margin-left:.0001pt;text-align:justify;">其中，</p> 
<p style="margin-left:.0001pt;text-align:justify;"><span style="background-color:#ffffff;"><span style="color:#444444;">ASAM</span></span><span style="background-color:#ffffff;"><span style="color:#444444;">是汽车OEM，供应商和工具生产商的组织。</span></span></p> 
<p style="margin-left:.0001pt;text-align:justify;">“C”代表CAN总线，<span style="background-color:#ffffff;"><span style="color:#444444;">“X”代表任意的传输层（如CAN、CAN FD、FlexRay、Ethernet…）</span></span></p> 
<h2 style="margin-left:.0001pt;text-align:justify;">4XCP协议的应用</h2> 
<p style="margin-left:.0001pt;text-align:justify;">用于<span style="background-color:#ffffff;"><span style="color:#4d4d4d;">内部</span></span><span style="color:#4d4d4d;"><span style="background-color:#ffd900;">ECU</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">参数的</span></span><span style="color:#4d4d4d;"><span style="background-color:#ffd900;">测量</span></span><span style="background-color:#ffffff;"><span style="color:#4d4d4d;">和</span></span><span style="background-color:#ffd900;">标定</span>，<span style="background-color:#ffd900;">刷新</span>及对ECU进行<span style="background-color:#ffd900;">旁路仿真</span>。</p> 
<h2 style="margin-left:.0001pt;text-align:justify;">5XCP协议的分类</h2> 
<p style="margin-left:.0001pt;text-align:justify;">为了独立于特定的物理传输层，XCP协议被细分为两层，如图5-1所示，一层是协议层（protocol layer），一层是传输层（transport layer），移植的时候重点关注传输层接口。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="142" src="https://images2.imgbox.com/c1/65/kIL3gnAo_o.png" width="641"></p> 
<p style="margin-left:.0001pt;text-align:center;">图5-1</p> 
<h2 style="margin-left:.0001pt;text-align:justify;">6Xcp协议的工作过程</h2> 
<p style="margin-left:.0001pt;text-align:justify;">如图6-1所示，XCP协议是基于<span style="background-color:#ffd900;">主从结构</span>进行通讯，也就是Master-Slave Communication。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="227" src="https://images2.imgbox.com/b5/7c/nobctqXZ_o.png" width="848"></p> 
<p style="margin-left:.0001pt;text-align:center;">图6-1</p> 
<p style="margin-left:.0001pt;text-align:justify;">主机（Master）:位于PC上的软件工具（PC Tool），<span style="background-color:#ffd900;">Canape/Inca</span>.</p> 
<p style="margin-left:.0001pt;text-align:justify;">从机（Slave）:真实<span style="background-color:#ffd900;">ECU</span>/仿真ECU</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="516" src="https://images2.imgbox.com/a5/2c/PNv0b93k_o.png" width="865"></p> 
<p style="margin-left:.0001pt;text-align:center;">图6-2</p> 
<p style="margin-left:.0001pt;text-align:justify;">XCP协议是基于ASAM接口模型定义的。如上图6-2所示，显示了主机PC（测量和校准工具）与从机ECU，描述文件的接口以及与更高级别的自动化系统的连接。</p> 
<p style="margin-left:.0001pt;text-align:justify;">1、<span style="background-color:#ffd900;">主机PC</span>（测量和校准工具）和<span style="background-color:#ffd900;">从机ECU</span>之间的连接接口：ASAM MCD-1MC</p> 
<p style="margin-left:.0001pt;text-align:justify;">该接口描述了物理和协议的特定部分，传输的是Xcp Frame。</p> 
<p style="margin-left:.0001pt;text-align:justify;">2、<span style="background-color:#ffd900;">主机PC</span>（测量和校准工具）和<span style="background-color:#ffd900;">.A2L文件</span>之间的连接接口：ASAM MCD-2MC</p> 
<p style="margin-left:.0001pt;text-align:justify;">.A2L文件包含ECU描述信息（定义好的通信参数，测量参数的地址和名字等），主机需要通过.A2L文件掌握ECU的内部信息。后续章节会专门讨论此A2L描述文件。</p> 
<p style="margin-left:.0001pt;text-align:justify;">3、<span style="background-color:#ffd900;">主机PC</span>（测量和校准工具）和<span style="background-color:#ffd900;">更高级别的自动化系统</span>之间的连接接口：ASAM MCD-3MC</p> 
<p style="margin-left:.0001pt;text-align:justify;">该接口在本文档中暂不做说明，此接口用于将另一个更高级别的自动化系统连接到测量和校准工具。</p> 
<p style="margin-left:.0001pt;text-align:justify;"><img alt="" height="361" src="https://images2.imgbox.com/2e/8e/hilmwy7x_o.png" width="865"></p> 
<p style="margin-left:.0001pt;text-align:center;">图6-3</p> 
<p style="margin-left:.0001pt;text-align:justify;">XCP协议基于主从通信的原则，如图6-3所示，从机在任何给定时间只能与一个主机通信，而主机可以同时与许多从机进行通信。</p> 
<p style="margin-left:.0001pt;text-align:justify;">关于<strong>XCP 报文格式</strong>及<strong>XCP 数据传输方式</strong>将在下一章节<strong><a class="link-info" href="https://blog.csdn.net/m0_66961286/article/details/133299284?spm=1001.2014.3001.5502" title="认识XCP协议2">认识XCP协议2</a></strong>进行讲述。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0d3970d0cd712c02e34dcbc2c9d52a14/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">各类高危漏洞介绍及验证方式教程（二）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8f583705c4b3e313b7150b13144f2b42/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">uView自定义图标和普通引入图标（iconfont-阿里巴巴图标库）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>