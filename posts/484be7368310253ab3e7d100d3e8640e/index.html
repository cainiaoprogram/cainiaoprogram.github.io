<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cascaded Pyramid Network for Multi-Person Pose Estimation - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Cascaded Pyramid Network for Multi-Person Pose Estimation" />
<meta property="og:description" content="Cascaded Pyramid Network 是2017年 COCO 人体姿态点检测时提出的网络，并获得了冠军。
CPN 的网络结构如下
GlobalNet 中分别提取了 ResNet 中4个不同blocks里的特征，利用不同尺度的语义信息来进行预测，RefineNet 主要对困难关键点进行定位。
其主要结构代码如下：
resnet_fms = resnet101(image, is_train, bn_trainable=True) # 提取 ResNet101 中四个不同block中的 feature maps global_fms, global_outs = create_global_net(resnet_fms, is_train) # 将 ResNet feautre maps 输入到 GlobalNet 输出 global feature maps 和 global outputs，分别用于输入到 RefineNet 和计算 loss refine_out = create_refine_net(global_fms, is_train) GlobalNet的代码如下
def create_global_net(blocks, is_training, trainable=True): global_fms = [] global_outs = [] last_fm = None initializer = tf.contrib.layers.xavier_initializer() for i, block in enumerate(reversed(blocks)): with slim." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/484be7368310253ab3e7d100d3e8640e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-16T11:48:20+08:00" />
<meta property="article:modified_time" content="2018-10-16T11:48:20+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Cascaded Pyramid Network for Multi-Person Pose Estimation</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://arxiv.org/abs/1711.07319" rel="nofollow">Cascaded Pyramid Network</a> 是2017年 COCO 人体姿态点检测时提出的网络，并获得了冠军。<br> CPN 的网络结构如下<br> <img src="https://images2.imgbox.com/00/f4/48JXQuYd_o.png" alt="在这里插入图片描述"></p> 
<p>GlobalNet 中分别提取了 ResNet 中4个不同blocks里的特征，利用不同尺度的语义信息来进行预测，RefineNet 主要对困难关键点进行定位。</p> 
<p>其主要结构代码如下：</p> 
<pre><code class="prism language-python">resnet_fms <span class="token operator">=</span> resnet101<span class="token punctuation">(</span>image<span class="token punctuation">,</span> is_train<span class="token punctuation">,</span> bn_trainable<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># 提取 ResNet101 中四个不同block中的 feature maps</span>
global_fms<span class="token punctuation">,</span> global_outs <span class="token operator">=</span> create_global_net<span class="token punctuation">(</span>resnet_fms<span class="token punctuation">,</span> is_train<span class="token punctuation">)</span>
<span class="token comment"># 将 ResNet feautre maps 输入到 GlobalNet 输出 global feature maps 和 global outputs，分别用于输入到 RefineNet 和计算 loss</span>
refine_out <span class="token operator">=</span> create_refine_net<span class="token punctuation">(</span>global_fms<span class="token punctuation">,</span> is_train<span class="token punctuation">)</span>
</code></pre> 
<p>GlobalNet的代码如下</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">create_global_net</span><span class="token punctuation">(</span>blocks<span class="token punctuation">,</span> is_training<span class="token punctuation">,</span> trainable<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    global_fms <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    global_outs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    last_fm <span class="token operator">=</span> <span class="token boolean">None</span>
    initializer <span class="token operator">=</span> tf<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>xavier_initializer<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> block <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token builtin">reversed</span><span class="token punctuation">(</span>blocks<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">with</span> slim<span class="token punctuation">.</span>arg_scope<span class="token punctuation">(</span>resnet_arg_scope<span class="token punctuation">(</span>bn_is_training<span class="token operator">=</span>is_training<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            lateral <span class="token operator">=</span> slim<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>block<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                trainable<span class="token operator">=</span>trainable<span class="token punctuation">,</span> weights_initializer<span class="token operator">=</span>initializer<span class="token punctuation">,</span>
                padding<span class="token operator">=</span><span class="token string">'SAME'</span><span class="token punctuation">,</span> activation_fn<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span>
                scope<span class="token operator">=</span><span class="token string">'lateral/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">if</span> last_fm <span class="token keyword">is</span> <span class="token operator">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            sz <span class="token operator">=</span> tf<span class="token punctuation">.</span>shape<span class="token punctuation">(</span>lateral<span class="token punctuation">)</span>
            upsample <span class="token operator">=</span> tf<span class="token punctuation">.</span>image<span class="token punctuation">.</span>resize_bilinear<span class="token punctuation">(</span>last_fm<span class="token punctuation">,</span> <span class="token punctuation">(</span>sz<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sz<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                name<span class="token operator">=</span><span class="token string">'upsample/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
            upsample <span class="token operator">=</span> slim<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>upsample<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                trainable<span class="token operator">=</span>trainable<span class="token punctuation">,</span> weights_initializer<span class="token operator">=</span>initializer<span class="token punctuation">,</span>
                padding<span class="token operator">=</span><span class="token string">'SAME'</span><span class="token punctuation">,</span> activation_fn<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                scope<span class="token operator">=</span><span class="token string">'merge/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
            last_fm <span class="token operator">=</span> upsample <span class="token operator">+</span> lateral
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            last_fm <span class="token operator">=</span> lateral

        <span class="token keyword">with</span> slim<span class="token punctuation">.</span>arg_scope<span class="token punctuation">(</span>resnet_arg_scope<span class="token punctuation">(</span>bn_is_training<span class="token operator">=</span>is_training<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            tmp <span class="token operator">=</span> slim<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>last_fm<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                trainable<span class="token operator">=</span>trainable<span class="token punctuation">,</span> weights_initializer<span class="token operator">=</span>initializer<span class="token punctuation">,</span>
                padding<span class="token operator">=</span><span class="token string">'SAME'</span><span class="token punctuation">,</span> activation_fn<span class="token operator">=</span>tf<span class="token punctuation">.</span>nn<span class="token punctuation">.</span>relu<span class="token punctuation">,</span>
                scope<span class="token operator">=</span><span class="token string">'tmp/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
            out <span class="token operator">=</span> slim<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>nr_skeleton<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                trainable<span class="token operator">=</span>trainable<span class="token punctuation">,</span> weights_initializer<span class="token operator">=</span>initializer<span class="token punctuation">,</span>
                padding<span class="token operator">=</span><span class="token string">'SAME'</span><span class="token punctuation">,</span> activation_fn<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
                scope<span class="token operator">=</span><span class="token string">'pyramid/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        global_fms<span class="token punctuation">.</span>append<span class="token punctuation">(</span>last_fm<span class="token punctuation">)</span>
        global_outs<span class="token punctuation">.</span>append<span class="token punctuation">(</span>tf<span class="token punctuation">.</span>image<span class="token punctuation">.</span>resize_bilinear<span class="token punctuation">(</span>out<span class="token punctuation">,</span> <span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>output_shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>output_shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    global_fms<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>
    global_outs<span class="token punctuation">.</span>reverse<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> global_fms<span class="token punctuation">,</span> global_outs
</code></pre> 
<p>根据代码描述，以输入图片尺寸为 384x288 为例，流程图如下（省去了 batch size）</p> 
<div class="mermaid"> 
 <svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-zN3WJflltRv3DwgW" height="2619.7625274658203" width="2073.25" viewbox="0 0 2093.25 2639.7625274658203"> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1035.328125,66L1035.328125,104L1035.328125,142" marker-end="url(#arrowhead440)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead440" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M965.1233350409836,188L849.1328125,226L849.1328125,264" marker-end="url(#arrowhead441)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead441" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M750.3164702868853,310L587.0546875,348L587.0546875,386" marker-end="url(#arrowhead442)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead442" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M489.11321721311475,432L327.296875,470L327.296875,508" marker-end="url(#arrowhead443)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead443" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1282.8984375,182.60628278927427L1893.078125,226L1893.078125,287L1893.078125,348L1893.078125,409L1893.078125,470L1893.078125,531L1893.078125,592L1893.078125,742.0875015258789L1893.078125,892.1750030517578L1893.078125,953.1750030517578L1893.078125,1014.1750030517578L1893.078125,1167.9750061035156L1893.078125,1321.7750091552734L1893.078125,1382.7750091552734L1893.078125,1443.7750091552734L1893.078125,1597.5750122070312L1893.078125,1751.375015258789L1893.078125,1812.375015258789L1893.078125,1873.375015258789L1856.6297934868658,1949.786061797415" marker-end="url(#arrowhead444)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead444" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1096.703125,305.1910739912951L1679.30859375,348L1679.30859375,409L1679.30859375,470L1679.30859375,531L1679.30859375,592L1679.30859375,742.0875015258789L1679.30859375,892.1750030517578L1679.30859375,953.1750030517578L1679.30859375,1014.1750030517578L1679.30859375,1167.9750061035156L1679.30859375,1321.7750091552734L1679.30859375,1382.7750091552734L1679.30859375,1443.7750091552734L1448.7305445700881,1559.5368067771212" marker-end="url(#arrowhead445)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead445" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M843.90625,428.5214488041817L1389.65625,470L1389.65625,531L1389.65625,592L1389.65625,742.0875015258789L1389.65625,892.1750030517578L1389.65625,953.1750030517578L1389.65625,1014.1750030517578L937.5470079168894,1142.9095140204042" marker-end="url(#arrowhead446)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead446" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M327.296875,554L327.296875,592L327.796875,630.5000015258787" marker-end="url(#arrowhead447)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead447" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1818.7187500000002,2143.475012207031L1818.21875,2180.9750213623047L1818.21875,2218.9750213623047" marker-end="url(#arrowhead448)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead448" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1333.5577065131333,1675.9639687201654L1296.109375,1751.375015258789L1296.109375,1812.375015258789L1296.109375,1873.375015258789L1296.109375,2027.1750183105469L1296.109375,2180.9750213623047L1296.109375,2218.9750213623047" marker-end="url(#arrowhead449)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead449" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M809.4014565131336,1246.3639626166498L771.953125,1321.7750091552734L771.953125,1382.7750091552734L771.953125,1443.7750091552734L771.953125,1597.5750122070312L771.953125,1751.375015258789L771.953125,1812.375015258789L771.953125,1873.375015258789L771.953125,2027.1750183105469L771.953125,2180.9750213623047L771.953125,2218.9750213623047" marker-end="url(#arrowhead450)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead450" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M290.49562270033897,817.373749226218L252.4375,892.1750030517578L252.4375,953.1750030517578L252.4375,1014.1750030517578L252.4375,1167.9750061035156L252.4375,1321.7750091552734L252.4375,1382.7750091552734L252.4375,1443.7750091552734L252.4375,1597.5750122070312L252.4375,1751.375015258789L252.4375,1812.375015258789L252.4375,1873.375015258789L252.4375,2027.1750183105469L252.4375,2180.9750213623047L252.4375,2218.9750213623047" marker-end="url(#arrowhead451)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead451" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M252.4375,2264.9750213623047L252.4375,2302.9750213623047L252.4375,2340.9750213623047" marker-end="url(#arrowhead452)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead452" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M771.953125,2264.9750213623047L771.953125,2302.9750213623047L771.953125,2340.9750213623047" marker-end="url(#arrowhead453)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead453" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1296.109375,2264.9750213623047L1296.109375,2302.9750213623047L1296.109375,2340.9750213623047" marker-end="url(#arrowhead454)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead454" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1818.21875,2264.9750213623047L1818.21875,2302.9750213623047L1818.21875,2340.9750213623047" marker-end="url(#arrowhead455)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead455" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M252.4375,2386.9750213623047L252.4375,2424.9750213623047L974.332055612901,2523.6742126976524" marker-end="url(#arrowhead456)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead456" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M771.953125,2386.9750213623047L771.953125,2424.9750213623047L985.885726612738,2512.1205416978146" marker-end="url(#arrowhead457)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead457" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1296.109375,2386.9750213623047L1296.109375,2424.9750213623047L1083.1767690461004,2512.120543460161" marker-end="url(#arrowhead458)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead458" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1818.21875,2386.9750213623047L1818.21875,2424.9750213623047L1094.754305048981,2523.698079463041" marker-end="url(#arrowhead459)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead459" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M398.83734324367833,783.6345302304427L587.0546875,892.1750030517578L587.0546875,930.1750030517578" marker-end="url(#arrowhead460)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead460" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M587.0546875,976.1750030517578L587.0546875,1014.1750030517578L774.5779145520045,1125.409585447996" marker-end="url(#arrowhead461)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead461" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M920.2873530358513,1211.3001469641483L1108.890625,1321.7750091552734L1108.890625,1359.7750091552734" marker-end="url(#arrowhead462)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead462" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1108.890625,1405.7750091552734L1108.890625,1443.7750091552734L1298.4938892715193,1555.2498668319947" marker-end="url(#arrowhead463)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead463" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1444.3379543446424,1641.0058017588765L1632.0234375,1751.375015258789L1632.0234375,1789.375015258789" marker-end="url(#arrowhead464)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead464" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1632.0234375,1835.375015258789L1632.0234375,1873.375015258789L1755.3019400096753,1975.2918221973546" marker-end="url(#arrowhead465)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead465" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="translate(1035.328125,104)" style="opacity: 1;"> 
      <g transform="translate(-8.2578125,-13)" class="label"> 
       <foreignobject width="16.515625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">/4</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(849.1328125,226)" style="opacity: 1;"> 
      <g transform="translate(-8.2578125,-13)" class="label"> 
       <foreignobject width="16.515625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">/2</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(587.0546875,348)" style="opacity: 1;"> 
      <g transform="translate(-8.2578125,-13)" class="label"> 
       <foreignobject width="16.515625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">/2</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(327.296875,470)" style="opacity: 1;"> 
      <g transform="translate(-8.2578125,-13)" class="label"> 
       <foreignobject width="16.515625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">/2</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1893.078125,953.1750030517578)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1679.30859375,892.1750030517578)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1389.65625,742.0875015258789)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(327.296875,592)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1818.21875,2180.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1296.109375,1873.375015258789)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(771.953125,1751.375015258789)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(252.4375,1443.7750091552734)" style="opacity: 1;"> 
      <g transform="translate(-35.1484375,-13)" class="label"> 
       <foreignobject width="70.296875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(252.4375,2302.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-54.4296875,-13)" class="label"> 
       <foreignobject width="108.859375" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">joint num, 3 x 3</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(771.953125,2302.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-54.4296875,-13)" class="label"> 
       <foreignobject width="108.859375" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">joint num, 3 x 3</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1296.109375,2302.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-54.4296875,-13)" class="label"> 
       <foreignobject width="108.859375" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">joint num, 3 x 3</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1818.21875,2302.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-54.4296875,-13)" class="label"> 
       <foreignobject width="108.859375" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">joint num, 3 x 3</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(252.4375,2424.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(771.953125,2424.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1296.109375,2424.9750213623047)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="" style="opacity: 1;"> 
      <g transform="translate(0,0)" class="label"> 
       <foreignobject width="0" height="0"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel"></span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(587.0546875,892.1750030517578)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 24 x 18</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(587.0546875,1014.1750030517578)" style="opacity: 1;"> 
      <g transform="translate(-74.53125,-13)" class="label"> 
       <foreignobject width="149.0625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1 and add to</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1108.890625,1321.7750091552734)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 48 x 36</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1108.890625,1443.7750091552734)" style="opacity: 1;"> 
      <g transform="translate(-74.53125,-13)" class="label"> 
       <foreignobject width="149.0625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1 and add to</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1632.0234375,1751.375015258789)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1632.0234375,1873.375015258789)" style="opacity: 1;"> 
      <g transform="translate(-74.53125,-13)" class="label"> 
       <foreignobject width="149.0625" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">256, 1 x 1 and add to</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node" id="input" transform="translate(1035.328125,43)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-80.890625" y="-23" width="161.78125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-70.890625,-13)"> 
        <foreignobject width="141.78125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           input: 384 x 288 x 3 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="resnet_v1_101_1/block1/unit_3/bottleneck_v1/Relu" transform="translate(1035.328125,165)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-247.5703125" y="-23" width="495.140625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-237.5703125,-13)"> 
        <foreignobject width="475.140625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           resnet_v1_101_1/block1/unit_3/bottleneck_v1/Relu: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="resnet_v1_101_2/block2/unit_4/bottleneck_v1/Relu" transform="translate(849.1328125,287)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-247.5703125" y="-23" width="495.140625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-237.5703125,-13)"> 
        <foreignobject width="475.140625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           resnet_v1_101_2/block2/unit_4/bottleneck_v1/Relu: 48 x 36 x 512 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="resnet_v1_101_3/block3/unit_23/bottleneck_v1/Relu" transform="translate(587.0546875,409)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-256.8515625" y="-23" width="513.703125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-246.8515625,-13)"> 
        <foreignobject width="493.703125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           resnet_v1_101_3/block3/unit_23/bottleneck_v1/Relu: 24 x 18 x 1024 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="resnet_v1_101_4/block4/unit_3/bottleneck_v1/Relu" transform="translate(327.296875,531)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-247.5703125" y="-23" width="495.140625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-237.5703125,-13)"> 
        <foreignobject width="475.140625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           resnet_v1_101_4/block4/unit_3/bottleneck_v1/Relu: 12 x 9 x 2048 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res2/Relu" transform="translate(1818.21875,2027.1750183105469)" style="opacity: 1;"> 
      <polygon points="115.80000000000001,0 231.60000000000002,-115.80000000000001 115.80000000000001,-231.60000000000002 0,-115.80000000000001" rx="5" ry="5" transform="translate(-115.80000000000001,115.80000000000001)"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res2/Relu: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res3/Relu" transform="translate(1370.96875,1597.5750122070312)" style="opacity: 1;"> 
      <polygon points="115.80000000000001,0 231.60000000000002,-115.80000000000001 115.80000000000001,-231.60000000000002 0,-115.80000000000001" rx="5" ry="5" transform="translate(-115.80000000000001,115.80000000000001)"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res3/Relu: 48 x 36 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res4/Relu" transform="translate(846.8125,1167.9750061035156)" style="opacity: 1;"> 
      <polygon points="115.80000000000001,0 231.60000000000002,-115.80000000000001 115.80000000000001,-231.60000000000002 0,-115.80000000000001" rx="5" ry="5" transform="translate(-115.80000000000001,115.80000000000001)"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res4/Relu: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res5/Relu" transform="translate(327.296875,742.0875015258789)" style="opacity: 1;"> 
      <polygon points="112.0875,0 224.175,-112.0875 112.0875,-224.175 0,-112.0875" rx="5" ry="5" transform="translate(-112.0875,112.0875)"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-107.109375,-13)"> 
        <foreignobject width="214.21875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res5/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="tmp/res2/Relu" transform="translate(1818.21875,2241.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-113.9609375" y="-23" width="227.921875" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-103.9609375,-13)"> 
        <foreignobject width="207.921875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           tmp/res2/Relu: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="tmp/res3/Relu" transform="translate(1296.109375,2241.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-113.9609375" y="-23" width="227.921875" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-103.9609375,-13)"> 
        <foreignobject width="207.921875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           tmp/res3/Relu: 48 x 36 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="tmp/res4/Relu" transform="translate(771.953125,2241.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-113.9609375" y="-23" width="227.921875" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-103.9609375,-13)"> 
        <foreignobject width="207.921875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           tmp/res4/Relu: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="tmp/res5/Relu" transform="translate(252.4375,2241.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-109.3203125" y="-23" width="218.640625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-99.3203125,-13)"> 
        <foreignobject width="198.640625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           tmp/res5/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="pyramid/res5/BatchNorm/FusedBatchNorm" transform="translate(252.4375,2363.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-232.4375" y="-23" width="464.875" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-222.4375,-13)"> 
        <foreignobject width="444.875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           pyramid/res5/BatchNorm/FusedBatchNorm: 12 x 9 x joint num 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="pyramid/res4/BatchNorm/FusedBatchNorm" transform="translate(771.953125,2363.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-237.078125" y="-23" width="474.15625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-227.078125,-13)"> 
        <foreignobject width="454.15625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           pyramid/res4/BatchNorm/FusedBatchNorm: 24 x 18 x joint num 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="pyramid/res3/BatchNorm/FusedBatchNorm" transform="translate(1296.109375,2363.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-237.078125" y="-23" width="474.15625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-227.078125,-13)"> 
        <foreignobject width="454.15625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           pyramid/res3/BatchNorm/FusedBatchNorm: 48 x 36 x joint num 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="pyramid/res2/BatchNorm/FusedBatchNorm" transform="translate(1818.21875,2363.9750213623047)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-235.03125" y="-23" width="470.0625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-225.03125,-13)"> 
        <foreignobject width="450.0625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           pyramid/res2/BatchNorm/FusedBatchNorm: 96 x72 x joint num 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="globalouts" transform="translate(1034.03125,2531.3687744140625)" style="opacity: 1;"> 
      <polygon points="68.39375,0 136.7875,-68.39375 68.39375,-136.7875 0,-68.39375" rx="5" ry="5" transform="translate(-68.39375,68.39375)"></polygon> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-52.4921875,-13)"> 
        <foreignobject width="104.984375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           global outs: list 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample/res4" transform="translate(587.0546875,953.1750030517578)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-114.71875" y="-23" width="229.4375" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-104.71875,-13)"> 
        <foreignobject width="209.4375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample/res4: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample/res3" transform="translate(1108.890625,1382.7750091552734)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-114.71875" y="-23" width="229.4375" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-104.71875,-13)"> 
        <foreignobject width="209.4375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample/res3: 48 x 36 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample/res2" transform="translate(1632.0234375,1812.375015258789)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-114.71875" y="-23" width="229.4375" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-104.71875,-13)"> 
        <foreignobject width="209.4375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample/res2: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<p>流程图中的菱形分别代表输出 global feature maps 和 global outputs。</p> 
<p>RefineNet 的代码如下</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">create_refine_net</span><span class="token punctuation">(</span>blocks<span class="token punctuation">,</span> is_training<span class="token punctuation">,</span> trainable<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    initializer <span class="token operator">=</span> tf<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>xavier_initializer<span class="token punctuation">(</span><span class="token punctuation">)</span>
    bottleneck <span class="token operator">=</span> resnet_v1<span class="token punctuation">.</span>bottleneck
    refine_fms <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> block <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>blocks<span class="token punctuation">)</span><span class="token punctuation">:</span>
        mid_fm <span class="token operator">=</span> block
        <span class="token keyword">with</span> slim<span class="token punctuation">.</span>arg_scope<span class="token punctuation">(</span>resnet_arg_scope<span class="token punctuation">(</span>bn_is_training<span class="token operator">=</span>is_training<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                mid_fm <span class="token operator">=</span> bottleneck<span class="token punctuation">(</span>mid_fm<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> scope<span class="token operator">=</span><span class="token string">'res{}/refine_conv{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># no projection</span>
        mid_fm <span class="token operator">=</span> tf<span class="token punctuation">.</span>image<span class="token punctuation">.</span>resize_bilinear<span class="token punctuation">(</span>mid_fm<span class="token punctuation">,</span> <span class="token punctuation">(</span>cfg<span class="token punctuation">.</span>output_shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>output_shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            name<span class="token operator">=</span><span class="token string">'upsample_conv/res{}'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
        refine_fms<span class="token punctuation">.</span>append<span class="token punctuation">(</span>mid_fm<span class="token punctuation">)</span>
    refine_fm <span class="token operator">=</span> tf<span class="token punctuation">.</span>concat<span class="token punctuation">(</span>refine_fms<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">with</span> slim<span class="token punctuation">.</span>arg_scope<span class="token punctuation">(</span>resnet_arg_scope<span class="token punctuation">(</span>bn_is_training<span class="token operator">=</span>is_training<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        refine_fm <span class="token operator">=</span> bottleneck<span class="token punctuation">(</span>refine_fm<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> stride<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> scope<span class="token operator">=</span><span class="token string">'final_bottleneck'</span><span class="token punctuation">)</span>
        res <span class="token operator">=</span> slim<span class="token punctuation">.</span>conv2d<span class="token punctuation">(</span>refine_fm<span class="token punctuation">,</span> cfg<span class="token punctuation">.</span>nr_skeleton<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            trainable<span class="token operator">=</span>trainable<span class="token punctuation">,</span> weights_initializer<span class="token operator">=</span>initializer<span class="token punctuation">,</span>
            padding<span class="token operator">=</span><span class="token string">'SAME'</span><span class="token punctuation">,</span> activation_fn<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span>
            scope<span class="token operator">=</span><span class="token string">'refine_out'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
</code></pre> 
<p>根据代码描述，流程图如下</p> 
<div class="mermaid"> 
 <svg xmlns="http://www.w3.org/2000/svg" id="mermaid-svg-5o20XqfvgSwiSgq8" height="940" width="1312.3984375" viewbox="0 0 1332.3984375 960"> 
  <g> 
   <g class="output"> 
    <g class="clusters"></g> 
    <g class="edgePaths"> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M154.8828125,432L154.8828125,470L154.8828125,508" marker-end="url(#arrowhead527)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead527" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M474.6484375,310L474.6484375,348L474.6484375,386" marker-end="url(#arrowhead528)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead528" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M474.6484375,432L474.6484375,470L474.6484375,508" marker-end="url(#arrowhead529)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead529" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M815.4609375,188L815.4609375,226L815.4609375,264" marker-end="url(#arrowhead530)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead530" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M815.4609375,310L815.4609375,348L815.4609375,386" marker-end="url(#arrowhead531)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead531" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M815.4609375,432L815.4609375,470L815.4609375,508" marker-end="url(#arrowhead532)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead532" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1151.6328125,66L1151.6328125,104L1151.6328125,142" marker-end="url(#arrowhead533)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead533" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1151.6328125,188L1151.6328125,226L1151.6328125,264" marker-end="url(#arrowhead534)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead534" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1151.6328125,310L1151.6328125,348L1151.6328125,386" marker-end="url(#arrowhead535)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead535" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1151.6328125,432L1151.6328125,470L1151.6328125,508" marker-end="url(#arrowhead536)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead536" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M154.8828125,554L154.8828125,592L554.3125,641.707484619553" marker-end="url(#arrowhead537)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead537" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M474.6484375,554L474.6484375,592L580.8031506147541,630" marker-end="url(#arrowhead538)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead538" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M815.4609375,554L815.4609375,592L709.3062243852459,630" marker-end="url(#arrowhead539)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead539" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M1151.6328125,554L1151.6328125,592L735.796875,642.0732087227415" marker-end="url(#arrowhead540)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead540" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M645.0546875,676L645.0546875,714L645.0546875,752" marker-end="url(#arrowhead541)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead541" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
     <g class="edgePath" style="opacity: 1;"> 
      <path class="path" d="M645.0546875,798L645.0546875,836L645.0546875,874" marker-end="url(#arrowhead542)" style="fill:none"></path> 
      <defs> 
       <marker id="arrowhead542" viewbox="0 0 10 10" refx="9" refy="5" markerunits="strokeWidth" markerwidth="8" markerheight="6" orient="auto"> 
        <path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path> 
       </marker> 
      </defs> 
     </g> 
    </g> 
    <g class="edgeLabels"> 
     <g class="edgeLabel" transform="translate(154.8828125,470)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(474.6484375,348)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(474.6484375,470)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(815.4609375,226)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(815.4609375,348)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(815.4609375,470)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1151.6328125,104)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1151.6328125,226)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1151.6328125,348)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1151.6328125,470)" style="opacity: 1;"> 
      <g transform="translate(-76.640625,-13)" class="label"> 
       <foreignobject width="153.28125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bilinear resize 96 x 72</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(154.8828125,592)" style="opacity: 1;"> 
      <g transform="translate(-23.4140625,-13)" class="label"> 
       <foreignobject width="46.828125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">concat</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(474.6484375,592)" style="opacity: 1;"> 
      <g transform="translate(-23.4140625,-13)" class="label"> 
       <foreignobject width="46.828125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">concat</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(815.4609375,592)" style="opacity: 1;"> 
      <g transform="translate(-23.4140625,-13)" class="label"> 
       <foreignobject width="46.828125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">concat</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(1151.6328125,592)" style="opacity: 1;"> 
      <g transform="translate(-23.4140625,-13)" class="label"> 
       <foreignobject width="46.828125" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">concat</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(645.0546875,714)" style="opacity: 1;"> 
      <g transform="translate(-37.09375,-13)" class="label"> 
       <foreignobject width="74.1875" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">bottleneck</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
     <g class="edgeLabel" transform="translate(645.0546875,836)" style="opacity: 1;"> 
      <g transform="translate(-54.4296875,-13)" class="label"> 
       <foreignobject width="108.859375" height="26"> 
        <div style="display: inline-block; white-space: nowrap;"> 
         <span class="edgeLabel">joint num, 3 x 3</span> 
        </div> 
       </foreignobject> 
      </g> 
     </g> 
    </g> 
    <g class="nodes"> 
     <g class="node" id="lateral/res2/Relu" transform="translate(154.8828125,409)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-121.75" y="-23" width="243.5" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res2/Relu: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample_conv/res2" transform="translate(154.8828125,531)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-134.8828125" y="-23" width="269.765625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-124.8828125,-13)"> 
        <foreignobject width="249.765625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample_conv/res2: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res3/Relu" transform="translate(474.6484375,287)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-121.75" y="-23" width="243.5" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res3/Relu: 48 x 36 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res3/refine_conv0/Relu" transform="translate(474.6484375,409)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-145.40625" y="-23" width="290.8125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-135.40625,-13)"> 
        <foreignobject width="270.8125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res3/refine_conv0/Relu: 48 x 36 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample_conv/res3" transform="translate(474.6484375,531)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-134.8828125" y="-23" width="269.765625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-124.8828125,-13)"> 
        <foreignobject width="249.765625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample_conv/res3: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res4/Relu" transform="translate(815.4609375,165)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-121.75" y="-23" width="243.5" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-111.75,-13)"> 
        <foreignobject width="223.5" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res4/Relu: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res4/refine_conv0/Relu" transform="translate(815.4609375,287)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-145.40625" y="-23" width="290.8125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-135.40625,-13)"> 
        <foreignobject width="270.8125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res4/refine_conv0/Relu: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res4/refine_conv1/Relu" transform="translate(815.4609375,409)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-145.40625" y="-23" width="290.8125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-135.40625,-13)"> 
        <foreignobject width="270.8125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res4/refine_conv1/Relu: 24 x 18 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample_conv/res4" transform="translate(815.4609375,531)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-134.8828125" y="-23" width="269.765625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-124.8828125,-13)"> 
        <foreignobject width="249.765625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample_conv/res4: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="lateral/res5/Relu" transform="translate(1151.6328125,43)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-117.109375" y="-23" width="234.21875" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-107.109375,-13)"> 
        <foreignobject width="214.21875" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           lateral/res5/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res5/refine_conv0/Relu" transform="translate(1151.6328125,165)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-140.765625" y="-23" width="281.53125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-130.765625,-13)"> 
        <foreignobject width="261.53125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res5/refine_conv0/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res5/refine_conv1/Relu" transform="translate(1151.6328125,287)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-140.765625" y="-23" width="281.53125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-130.765625,-13)"> 
        <foreignobject width="261.53125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res5/refine_conv1/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="res5/refine_conv2/Relu" transform="translate(1151.6328125,409)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-140.765625" y="-23" width="281.53125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-130.765625,-13)"> 
        <foreignobject width="261.53125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           res5/refine_conv2/Relu: 12 x 9 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="upsample_conv/res5" transform="translate(1151.6328125,531)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-134.8828125" y="-23" width="269.765625" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-124.8828125,-13)"> 
        <foreignobject width="249.765625" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           upsample_conv/res5: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="concat" transform="translate(645.0546875,653)" style="opacity: 1;" title="function concat() { [native code] }"> 
      <rect rx="0" ry="0" x="-90.7421875" y="-23" width="181.484375" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-80.7421875,-13)"> 
        <foreignobject width="161.484375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           concat: 96 x 72 x 1024 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="final_bottleneck/Relu" transform="translate(645.0546875,775)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-137.3046875" y="-23" width="274.609375" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-127.3046875,-13)"> 
        <foreignobject width="254.609375" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           final_bottleneck/Relu: 96 x 72 x 256 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
     <g class="node" id="refine_out/BatchNorm/FusedBatchNorm" transform="translate(645.0546875,897)" style="opacity: 1;"> 
      <rect rx="0" ry="0" x="-226.0390625" y="-23" width="452.078125" height="46"></rect> 
      <g class="label" transform="translate(0,0)"> 
       <g transform="translate(-216.0390625,-13)"> 
        <foreignobject width="432.078125" height="26"> 
         <div style="display: inline-block; white-space: nowrap;">
           refine_out/BatchNorm/FusedBatchNorm: 96 x 72 x joint num 
         </div> 
        </foreignobject> 
       </g> 
      </g> 
     </g> 
    </g> 
   </g> 
  </g> 
 </svg> 
</div> 
<p>这里的 bottleneck 为 resnet_v1.bottleneck</p> 
<p>参考资料：<br> 作者开源代码：<a href="https://github.com/chenyilun95/tf-cpn">https://github.com/chenyilun95/tf-cpn</a><br> <a href="https://www.bilibili.com/video/av24143047" rel="nofollow">旷视研究院详解COCO2017人体姿态估计冠军论文</a><br> <a href="http://www.sohu.com/a/211402864_610300" rel="nofollow">实录 | 旷视研究院详解COCO2017人体姿态估计冠军论文（PPT+视频)</a><br> 其他文章：<br> <a href="https://blog.csdn.net/m0_37477175/article/details/80999124">CPN（Cascaded Pyramid Network for Multi-Person Pose Estimation) 姿态估计</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/96ad0b804f77e98928fe0c3bc12a4706/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Golang 处理错误，panic defer PK try catch 机制</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7694bc4d66440cd8cf3dc0d7d82e0ec2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">eclipse报错：An error has occurred. See error log for more details. java.lang.NullPointerException</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>