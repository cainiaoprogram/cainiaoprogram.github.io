<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>shell脚本的基础知识 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="shell脚本的基础知识" />
<meta property="og:description" content="一、Shell脚本概述 1.1Shell基本概念 将要执行的命令按顺序保存到一个文本文件
给该文件可执行权限
可结合各种Shell控制语句以完成更复杂的操作
1.2 Shell脚本应用场景 重复性操作
交互性任务
批量事务处理
服务运行状态监控
定时任务执行
1.3 Shell作用——翻译官 shell是一个特殊的应用程序，它介于操作系统内核和用户之间，充当了一个“命令解释器”的角色，负责接收用户输入的操作指令并进行解释，将需要执行的操作传递给内核执行，并输出执行结果。
二、shell编程规范 2.1 用户登录shell 登录后默认使用的shell程序，一般为/bin/bash
不同shell的内部指令、运行环境等会有所不同
shell说明sh已经被bash所替换（软链接）bash是基准于GNU的框架下发展出的shelltcsh整合了csh，提供更多的功能（增强版）csh语法有点类似于C语言的shellnologin奇怪的shell，这个shell可以让用户无法登录主机 2.2 shell 脚本的概念 1、将要执行的命令按顺序保存到一个文本文件
2、给该文件可执行权限
3、可结合各种Shell控制语句以完成更复杂的操作
总结:将需要执行的命令保存到一个文件中，按照顺序执行，它不需要编译，它是解释型的
2.3 shell脚本解释器 有dash和bash两种，但dash没有bash功能全面，所以通常使用bash。
可以通过命令来查看系统中的脚本解释器： ls -l /bin/*sh
2.4 shell 脚本的应用场景 ①重复性操作
②交互性任务
③批量事务处理
④服务运行状态监控定
⑤时任务执行
2.5shell 脚本的作用 自动化完成软件的安装部署，如安装部署LAMP架构服务
自动化完成系统的管理，如批量添加用户
自动化完成备份，如数据库定时备份
自动化的分析处理，如网站访问量
2.6 编写脚本代码 使用vim文本编辑器
每行一条Linux命令，按执行顺序依次编写
脚本后缀为.sh
第一行为 “#!/bin/bash” ,脚本申明（默认解释器)：
表示此行以下的代码语句是通过 /bin/bash 程序来执行。
还有其他类型的解释器，比如#!/usr/ bin/python、#!/usr/bin/expect
注释信息:以”#“开头的语句表示为注释信息，被注释的语句在脚本运行时不会被执行可执行语句:如echo命令，用于输出&#34;“之间的字符串
创建 shell 程序的步骤：
第一步: 创建一个包含命令和控制结构的文件。
第二步: 修改这个文件的权限使它可以执行#使用chmod &#43;x xxx." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a8a8200588b17b0081f8867b9b526e1b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-07T17:47:01+08:00" />
<meta property="article:modified_time" content="2022-05-07T17:47:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">shell脚本的基础知识</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Shell_0"></a>一、Shell脚本概述</h2> 
<h3><a id="11Shell_1"></a>1.1Shell基本概念</h3> 
<p>将要执行的命令按顺序保存到一个文本文件<br> 给该文件可执行权限<br> 可结合各种Shell控制语句以完成更复杂的操作</p> 
<h3><a id="12_Shell_5"></a>1.2 Shell脚本应用场景</h3> 
<p>重复性操作<br> 交互性任务<br> 批量事务处理<br> 服务运行状态监控<br> 定时任务执行</p> 
<h3><a id="13_Shell_11"></a>1.3 Shell作用——翻译官</h3> 
<p>shell是一个特殊的应用程序，它介于操作系统内核和用户之间，充当了一个“命令解释器”的角色，负责接收用户输入的操作指令并进行解释，将需要执行的操作传递给内核执行，并输出执行结果。</p> 
<p><img src="https://images2.imgbox.com/43/7f/ej8lDREC_o.png" alt="请添加图片描述"></p> 
<h2><a id="shell_15"></a>二、shell编程规范</h2> 
<h3><a id="21_shell_16"></a>2.1 用户登录shell</h3> 
<p>登录后默认使用的shell程序，一般为/bin/bash<br> 不同shell的内部指令、运行环境等会有所不同<br> <img src="https://images2.imgbox.com/81/2a/Eo1mlnav_o.png" alt="在这里插入图片描述"></p> 
<table><thead><tr><th>shell</th><th>说明</th></tr></thead><tbody><tr><td>sh</td><td>已经被bash所替换（软链接）</td></tr><tr><td>bash</td><td>是基准于GNU的框架下发展出的shell</td></tr><tr><td>tcsh</td><td>整合了csh，提供更多的功能（增强版）</td></tr><tr><td>csh</td><td>语法有点类似于C语言的shell</td></tr><tr><td>nologin</td><td>奇怪的shell，这个shell可以让用户无法登录主机</td></tr></tbody></table> 
<h3><a id="22_shell__29"></a>2.2 shell 脚本的概念</h3> 
<p>1、将要执行的命令按顺序保存到一个文本文件</p> 
<p>2、给该文件可执行权限</p> 
<p>3、可结合各种Shell控制语句以完成更复杂的操作</p> 
<p>总结:将需要执行的命令保存到一个文件中，按照顺序执行，它不需要编译，它是解释型的</p> 
<h3><a id="23_shell_38"></a>2.3 shell脚本解释器</h3> 
<p>有dash和bash两种，但dash没有bash功能全面，所以通常使用bash。</p> 
<p>可以通过命令来查看系统中的脚本解释器： ls -l /bin/*sh<br> <img src="https://images2.imgbox.com/e6/14/OowM1kOI_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="24_shell__44"></a>2.4 shell 脚本的应用场景</h3> 
<p>①重复性操作</p> 
<p>②交互性任务</p> 
<p>③批量事务处理</p> 
<p>④服务运行状态监控定</p> 
<p>⑤时任务执行</p> 
<h3><a id="25shell__55"></a>2.5shell 脚本的作用</h3> 
<p>自动化完成软件的安装部署，如安装部署LAMP架构服务</p> 
<p>自动化完成系统的管理，如批量添加用户</p> 
<p>自动化完成备份，如数据库定时备份</p> 
<p>自动化的分析处理，如网站访问量</p> 
<h3><a id="26___63"></a>2.6 编写脚本代码</h3> 
<p>使用vim文本编辑器</p> 
<p>每行一条Linux命令，按执行顺序依次编写</p> 
<p>脚本后缀为.sh</p> 
<p>第一行为 “#!/bin/bash” ,脚本申明（默认解释器)：<br> 表示此行以下的代码语句是通过 /bin/bash 程序来执行。<br> 还有其他类型的解释器，比如#!/usr/ bin/python、#!/usr/bin/expect<br> 注释信息:以”#“开头的语句表示为注释信息，被注释的语句在脚本运行时不会被执行可执行语句:如echo命令，用于输出"“之间的字符串<br> <img src="https://images2.imgbox.com/43/02/m4v1gQ8p_o.png" alt="在这里插入图片描述"></p> 
<p>创建 shell 程序的步骤：</p> 
<p>第一步: 创建一个包含命令和控制结构的文件。</p> 
<p>第二步: 修改这个文件的权限使它可以执行#使用chmod +x xxx.sh（不修改权限也可以）</p> 
<p>第三步: 检测语法错误</p> 
<p>第四步: 执行 .xxx.sh (不修改权限可以使用 bash xxx.sh 或 sh xxx.sh)</p> 
<h3><a id="27__86"></a>2.7 赋予可执行权限</h3> 
<p>使脚本具有可执行权限</p> 
<p>chmod +x</p> 
<p>一般文件的权限有三种，读（r）、写（w）、执行（x）。通常Shell脚本写完是不具备执行（x）权限的，所以我们需要给予它执行权限</p> 
<p><img src="https://images2.imgbox.com/56/f0/c3oZQRfh_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="28__shell__97"></a>2.8 shell 脚本执行方式</h3> 
<p>方法 一：./+脚本文件路径（绝对路径与相对路径）</p> 
<p>必须要执行权限才能执行，执行完毕不会改变当前所在目录<br> <img src="https://images2.imgbox.com/08/cb/uo2Cbkxo_o.png" alt="在这里插入图片描述"></p> 
<p>方法二：sh脚本文件路径 （不给执行权限也可以）<br> <img src="https://images2.imgbox.com/34/cb/U5dBtKca_o.png" alt="在这里插入图片描述"><br> 方法三：source脚本文件路径（会自动切换到目标文件位置）<br> <img src="https://images2.imgbox.com/56/89/kxXnYcvz_o.png" alt="在这里插入图片描述"></p> 
<p>方法四：点空格脚本文件路径（会自动切换到目标文件夹,相当于source）<br> <img src="https://images2.imgbox.com/b0/c8/cIgkg1l8_o.png" alt="在这里插入图片描述"><br> 方法五：bash xxx.sh</p> 
<p><img src="https://images2.imgbox.com/92/02/BmHYkr6M_o.png" alt="在这里插入图片描述"></p> 
<p>方法六： sh &lt; xxxx.sh 或者 cat xxxx.sh |sh<br> <img src="https://images2.imgbox.com/67/7a/Jaa4wZ7j_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_116"></a>三、重定向与管道符</h2> 
<h3><a id="31__117"></a>3.1 交互式硬件设备</h3> 
<p>标准输入： 从该设备接收用户输入的数据<br> 标准输出： 通过该设备向用户输出数据<br> 标准错误： 通过该设备报告执行出错信息</p> 
<table><thead><tr><th>类型</th><th>设备文件</th><th>文件描述编号</th><th>默认设备</th></tr></thead><tbody><tr><td>标准输入</td><td>/dev/stdin</td><td>0</td><td>键盘</td></tr><tr><td>标准输出</td><td>/dev/stdout</td><td>1</td><td>显示器</td></tr><tr><td>标准错误输出</td><td>/dev/stderr</td><td>2</td><td>显示器</td></tr></tbody></table> 
<h3><a id="32__128"></a>3.2 定向操作</h3> 
<table><thead><tr><th>类型</th><th>操作符</th><th>用途</th></tr></thead><tbody><tr><td>定向输入</td><td>&lt;</td><td>从指定文件读取数据，而不是从键盘输入</td></tr><tr><td>定向输出</td><td>&gt;</td><td>将输出结果保存到指定文件（覆盖原有内容）</td></tr><tr><td>重定向输出</td><td>&gt;&gt;</td><td>将输出结果追加到指定文件尾部</td></tr><tr><td>标准错误输出</td><td>2&gt;</td><td>将错误信息保存带指定文件（覆盖原有内容）</td></tr><tr><td>标准错误输出</td><td>2&gt;&gt;</td><td>将错误信息追加到指定文件</td></tr><tr><td>混合输出</td><td>&amp;&gt;</td><td>将标准输出、标准错误的内容保存到同一个文件中</td></tr></tbody></table> 
<p>示例：</p> 
<h4><a id="321_139"></a>3.2.1定向输出</h4> 
<p>使用passwd命令为用户设置密码时，每次都必须根据提示输入两次密码字串，非常烦琐，若改用重定向输入将可以省略交互式的过程，而自动完成密码设置（结合passwd命令的“–stdin”选项来识别标准输入)。<br> <img src="https://images2.imgbox.com/ee/55/h2ACgJpM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="322_142"></a>3.2.2追加与替换</h4> 
<p><img src="https://images2.imgbox.com/aa/51/iUIQttcX_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/69/88/4FaSyj17_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="32300_146"></a>3.2.3以0作为分界符，只要不输入0就会一直输入数据从而显示到屏</h4> 
<p><img src="https://images2.imgbox.com/e3/c7/DLntcxBB_o.png" alt="在这里插入图片描述"><br> 可以把输入重定向和输出重定问结合使用，把从屏幕输出的内容保存到文件<br> <img src="https://images2.imgbox.com/f9/5c/ytGcjLB4_o.png" alt="在这里插入图片描述"><br> 重定向输出指的是将命令的正常输出结果保存到指定的文件中，而不是直接显示在显示器的屏幕上。重定向输出使用"&gt;或"&gt;&gt;"操作符号，分别用于覆盖或追加文件，若重定向输出的目标文件不存在，则会新建该文件，然后将前面命令的输出结果保存到该文件中﹔若目标文件已经存在，则将输出结果覆盖或追加到文件中。</p> 
<h4><a id="324_151"></a>3.2.4错误重定向输出</h4> 
<p>错误重定向指的是将执行命令过程中出现的错误信息（如选项或参数错误等）保存到指定的文件，而不是直接显示在屏幕上。错误重定向使用"2&gt;操作符</p> 
<p>2个作用:</p> 
<p>在实际应用中，错误重定向可用来收集程序执行的错误信息，为排错提供依据，还可以将无关紧要的错误信息重定向到空文件/dev/null 中，以保持脚本输出的简洁，使用"2&gt;”操作符时，会像使用"&gt;“操作符一样覆盖目标文件的内容，若要追加内容而不是覆盖文件，则应改用“2&gt;&gt;“操作符。<br> <img src="https://images2.imgbox.com/59/54/DkZDgKbL_o.png" alt="在这里插入图片描述"><br> 以使用操作符"&gt;" "2&gt;"将两类输出信息分别保存到不同的文件，也可以使用”&amp;&gt;“操作符将两类输出信息保存到同一个文件<br> ls -lh &gt; abc.txt 2&gt;&amp;1 等同于 ls -lh &amp;&gt; abc.txt<br> <img src="https://images2.imgbox.com/4b/97/jUCB7oFM_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="325_161"></a>3.2.5将信息输入到“黑洞”</h4> 
<p>/dev/null:把它看作"黑洞"，所有写入它的内容都会永远丢失.而尝试从它那儿读取内容则什么也读不到.然而/dev/null对命令行和脚本都非常的有用。</p> 
<p>就是将不想再频幕上显示的信息输入到黑洞中，不在屏幕上显示<br> <img src="https://images2.imgbox.com/19/16/OKjjcNh5_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="33_166"></a>3.3管道符号操作“|”</h3> 
<p>将左侧的命令输出结果，作为右侧命令的输入（处理对象），同一行命令中可以使用多个管道。</p> 
<p>ps -aux显示所有进程<br> <img src="https://images2.imgbox.com/26/d2/ShK6H9yB_o.png" alt="在这里插入图片描述"><br> wc -l统计所有行数<br> <img src="https://images2.imgbox.com/7b/9f/hfbEFp3U_o.png" alt="在这里插入图片描述"><br> 打印出用户中可以登录shell的用户名，家目录，及登录shell</p> 
<p>cat /etc/passwd | grep “nologin” | awk -F: ‘{print $1,$6,$7}’</p> 
<p>或者grep “/nologin$” /etc/passwd | awk -F: ‘{print $1,$6,$7}’</p> 
<p>这里提升一下利用文本命令awk后面我会讲<br> AWK， 数据过滤工具 (类似于grep，比grep强大)<br> -F指定分隔符“：”<br> print打印<br> <img src="https://images2.imgbox.com/42/29/UgQYwa5O_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Shell_184"></a>四、Shell变量的作用、类型</h2> 
<p>变量是会变化的值，不会变化的是常量</p> 
<h3><a id="41_187"></a>4.1变量的作用</h3> 
<p>●用来存放系统和用户需要使用的特定参数（值）</p> 
<p>●变量名：使用固定的名称，由系统预设或用户定义</p> 
<p>●变量值：能够根据用户设置、系统环境的变化而变化</p> 
<h3><a id="42_194"></a>4.2变量的类型</h3> 
<p>●自定义变量：由用户自己定义、修改和使用</p> 
<p>●特殊变量：环境变量、只读变量、位置变量、预定义变量</p> 
<h3><a id="43_198"></a>4.3自定义变量</h3> 
<blockquote> 
 <p>变量名=变量值 #变量名以字母或下划线开头，区分大小写，建议全大写<br> echo $变量名 #查看变量的值</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/bd/a4/VGEtyShv_o.png" alt="在这里插入图片描述"></p> 
<p>等号（=）用来给变量赋值</p> 
<p>等号（=）运算符左边是一个变量名,等号（=）运算符右边是存储在变量中的值</p> 
<h3><a id="44_208"></a>4.4赋值时使用引号</h3> 
<p>双引号：允许通过$符号引用其他变量值</p> 
<p>单引号：禁止引用其他变量值， $视为普通字符</p> 
<p>反撇号：命令替换，提取命令执行后的输出结果,​​``​​​和$(…)作用相同</p> 
<blockquote> 
 <p>单引号‘’：强引用,六亲不认，变量和命令都不识别，都当成了普通的字符串,“最傻”<br> 双引号”“：弱引用,不能识别命令，可以识别变量,“半傻不精”<br> 反向单引号··：里面的内容必须是能执行的命令并且有输出信息,变量和命令都识别，并且会将反向单引号的内容当成命令进行执行后，再交给调用反向单引号的命令继续,“最聪明<br> 引用变量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
        
          命 
         
        
          令 
         
        
          执 
         
        
          行 
         
        
          结 
         
        
          果 
         
        
       
         {} 命令执行结果 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0em; vertical-align: 0em;"></span><span class="mord"></span><span class="mord cjk_fallback">命</span><span class="mord cjk_fallback">令</span><span class="mord cjk_fallback">执</span><span class="mord cjk_fallback">行</span><span class="mord cjk_fallback">结</span><span class="mord cjk_fallback">果</span></span></span></span></span>()<br> 运算$[] $(())<br> $() 或 ``引用命令执行的结果<br> <span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          ( 
         
        
          ( 
         
        
          ) 
         
        
          ) 
         
        
          或 
         
        
       
         (()) 或 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord cjk_fallback">或</span></span></span></span></span>[]进行运算<br> 使用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
      
       
        
         
        
          或 
         
        
          " 
         
        
       
         {}或" 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord"></span><span class="mord cjk_fallback">或</span><span class="mord">"</span></span></span></span></span>变量名” 划定变量名的起止范围</p> 
</blockquote> 
<p>定义A=apple而66没有被定义所以输出apple 66 （中间空格分开）</p> 
<p><img src="https://images2.imgbox.com/74/0b/plkA2yyI_o.png" alt="在这里插入图片描述"></p> 
<p>因为A6没有被定义，所以无法输出</p> 
<p><img src="https://images2.imgbox.com/3e/e8/TubbhWCJ_o.png" alt="在这里插入图片描述"></p> 
<p>可以使用{}和“”进行分割，{}是应用在变量名，“”是应用在$变量名，如果使用‘’则视为普通字符</p> 
<p><img src="https://images2.imgbox.com/f0/df/7pOwk4wH_o.png" alt="在这里插入图片描述"></p> 
<p>反撇号``，直接调用命令结果 ，因为echo "<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         A 
        
       
         " 
        
       
         5.5 
        
       
         = 
        
       
         a 
        
       
         p 
        
       
         p 
        
       
         l 
        
       
         e 
        
       
         6.6 
        
       
         a 
        
       
         b 
        
       
         c 
        
       
         = 
        
       
         ‘ 
        
       
         " 
        
       
      
        A"5.5=apple6.6 abc=`" 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault">A</span><span class="mord">"</span><span class="mord">5</span><span class="mord">.</span><span class="mord">5</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord">6</span><span class="mord">.</span><span class="mord">6</span><span class="mord mathdefault">a</span><span class="mord mathdefault">b</span><span class="mord mathdefault">c</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord">‘</span><span class="mord">"</span></span></span></span></span>A"6.6` 所以 abc=apple6.6<br> <img src="https://images2.imgbox.com/30/8e/BoUCdvom_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="45_244"></a>4.5从键盘输入内容为变量赋值</h3> 
<p>read命令获取输入内容</p> 
<blockquote> 
 <p>-p：提示用户的信息<br> -n：定义字符数<br> -s：不显示用户输入的内容，常用于输入密码read -s -p “input your password:” pass<br> -t：定义超时时间，超过多长时间没输自动退出从文件读取内容赋值给变量（默认10s）</p> 
</blockquote> 
<p>方法一：</p> 
<blockquote> 
 <p>read -p 提示信息 变量名<br> echo $变量名</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a1/ff/lyxS2O1i_o.png" alt="在这里插入图片描述"></p> 
<p>方法二：</p> 
<p>在脚本中编写，在命令行实现read获取</p> 
<p>vim name.sh<br> #！/bin/bash<br> read -p “请输入你的名字” NAME<br> echo “--------”<br> read -p “请输入他的名字” NAME2<br> echo “--------”<br> echo “你的名字是”<br> echo $NAME<br> echo “他的名字是”<br> echo $NAME2</p> 
<p>执行结果：<br> <img src="https://images2.imgbox.com/76/7b/wPghTFEN_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/22/ed/13SBevx4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f7/e3/aroPlsaq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="46export_282"></a>4.6export命令</h3> 
<p>为了使用户定义的变量在所有的子 shell环境中能够继续使用，减少重复设置工作，可以通过内部命令export将指定的变量导出为全局变量。用户可以同时指定多个变量名称作为参数（无须使用"$"符号)，变量名之间以空格分隔.</p> 
<blockquote> 
 <p>格式1：export 变量名<br> 格式2：export 变量名=变量值<br> <img src="https://images2.imgbox.com/45/f8/bg9laN3x_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<h3><a id="47_290"></a>4.7整数变量的运算</h3> 
<p>在 Bash shell环境中，只能进行简单的整数运算，不支持小数运算，整数值的运算主要通过内部命令expr进行。运算符与变量之间必须有至少一个空格。</p> 
<p>运算内容:加(+)、减(-)、乘(*)、除(/)、取余(%)</p> 
<p>运算符号:<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
       
         ( 
        
       
         ) 
        
       
         ) 
        
       
         和 
        
       
      
        (( ))和 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mclose">)</span><span class="mclose">)</span><span class="mord cjk_fallback">和</span></span></span></span></span>[]</p> 
<p>运算命令: expr和let</p> 
<p>运算工具: bc(系统自带)</p> 
<h4><a id="471_expr_301"></a>4.7.1 expr命令</h4> 
<blockquote> 
 <p>+ :加法运算。<br> - :版法运算。<br> * :乘法运算，注意不能仅使用 * 符号，否则将被当成文件通配符。<br> /:除法运算。<br> %:求模运算,又称为取余运算，用来计算数值相除后的余数。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/ba/03/mNOZRKca_o.png" alt="在这里插入图片描述"></p> 
<p>expr 不仅支持常量还支持变量的运算</p> 
<p><img src="https://images2.imgbox.com/2d/b8/wswWgqtQ_o.png" alt="在这里插入图片描述"></p> 
<p>使用脚本执行输入两个数字后进行乘法运算<br> <img src="https://images2.imgbox.com/a2/c9/Ee4w4uq2_o.png" alt="在这里插入图片描述"></p> 
<p>执行结果：</p> 
<p><img src="https://images2.imgbox.com/d1/0d/iRSaX09o_o.png" alt="在这里插入图片描述"></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
       
         ] 
        
       
         和 
        
       
      
        []和 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mclose">]</span><span class="mord cjk_fallback">和</span></span></span></span></span> (())_必须要和echo在一起用因为他只能运算无法输出结果，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
       
         ] 
        
       
         和 
        
       
      
        []和 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mclose">]</span><span class="mord cjk_fallback">和</span></span></span></span></span> (())中*不需要转义</p> 
<p><img src="https://images2.imgbox.com/26/71/GW3NP5RW_o.png" alt="请添加图片描述"></p> 
<p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
       
         ] 
        
       
         和 
        
       
      
        []和 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mclose">]</span><span class="mord cjk_fallback">和</span></span></span></span></span> (())变量的运算可以省略里面的$</p> 
<p><img src="https://images2.imgbox.com/41/92/rudz7ZbO_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="472_let_335"></a>4.7.2 let命令</h4> 
<p>let的运算可以改变变量本身的值，但不显示结果，需要echo，其他的运算方式可以做运算但不改变变量本身的值。</p> 
<p><img src="https://images2.imgbox.com/19/5a/9GqZEOwv_o.png" alt="请添加图片描述"></p> 
<blockquote> 
 <p>let n++ #n自加1<br> let n-- #n自减1<br> [a++] #先输出再自增1<br> [++a] #先自增1再输出</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4f/92/ZPJFAvyf_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/a1/f6/tRE2hMHg_o.png" alt="请添加图片描述"></p> 
<p><img src="https://images2.imgbox.com/bc/b6/ih6PtHfv_o.png" alt="请添加图片描述"></p> 
<h4><a id="473bc_361"></a>4.73bc命令</h4> 
<p>使用bc进行运算，支持小数运算，但在脚本中不可直接使用否则会进入交互界面，可以用echo结合管道使用</p> 
<p>scale=n /指定小数点后保留n位<br> <img src="https://images2.imgbox.com/82/78/7J0DVDvW_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/95/46/91wwuC1f_o.png" alt="在这里插入图片描述"></p> 
<p>bc也可做变量的运算，还可以做逻辑运算,真为1，假为0</p> 
<p><img src="https://images2.imgbox.com/65/e5/dOfEdjyB_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="shell_376"></a>五、特殊的shell变量</h2> 
<h3><a id="51__377"></a>5.1 环境变量</h3> 
<p>由系统提前创建，用来设置用户的工作环境</p> 
<p>配置文件：/etc/profile（全局生效）、~/.bash_profile（当前用户环境）</p> 
<h3><a id="52__382"></a>5.2 常见的环境变量</h3> 
<p>PWD、PATH</p> 
<p>USER、SHELL、HOME</p> 
<p>使用 env 命令可以查看到当前工作环境下的环境变量</p> 
<p>变量USER表示用户名称，HOME表示用户的宿主目录，<strong>LANG表示语言和字符集</strong>，PWD表示当前所在的工作目录，变量PATH表示可执行程序的默认搜索路径，RAMNDOM表示随机数。</p> 
<p><img src="https://images2.imgbox.com/92/46/kxJi7Bdb_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="521PATH_394"></a>5.2.1PATH（路径环境变量）</h4> 
<blockquote> 
 <p>echo <span class="katex--inline">KaTeX parse error: Expected 'EOF', got '#' at position 15: PATH #̲查看当前搜索路径 PATH="</span>PATH:/root" #将/root目录添加到搜索路径<br> export PATH=“$PATH:/root” #输出为全局环境变量<br> first.sh<br> <img src="https://images2.imgbox.com/0a/28/mU3EfjBy_o.png" alt="请添加图片描述"></p> 
</blockquote> 
<p>已经将该目录添加到路径环境变量中，目录内的所有具有执行权限的文件，都可以在当前环境任何目录中执行</p> 
<h4><a id="522__404"></a>5.2.2 只读变量</h4> 
<blockquote> 
 <p>readonly 命令设置只读变量<br> readonly PRODUCT #设置为只读变量<br> echo $PRODUCT<br> PRODUCT=Python #只读变量不可以被重新赋值<br> unset PRODUCT #只读变量不可以被删除，unset 命令用于删除变量,但无法删除只读变量，只能重启系统解决</p> 
</blockquote> 
<h4><a id="523__413"></a>5.2.3 位置变量</h4> 
<p>当执行命令行操作时，第一个字段表示命令名或脚本程序名，其余的字符串参数按照从左到右的顺序依次赋值给位置变量。</p> 
<p>$n：n为数字，$0代表命令本身，1~9代表第一个到第九个参数，十以上的参数需要使用大括号表示，比如第十个参数为 ${10}</p> 
<p><img src="https://images2.imgbox.com/6b/21/XyzEsQ6A_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="524__422"></a>5.2.4 预定义变量</h4> 
<p>预定义变量是由Bash程序预先定义好的一类特殊变量，用户只能使用预定义变量，而不能创建新的预定义变量，也不能直接为预定义变量赋值。预定义变量使用*$"符号和另一个符号组合表示</p> 
<blockquote> 
 <p>$#： 表示命令行中位置参数的个数。<br> $<em>： 表示所有位置参数的内容，这些内容当做一个整体<br> $@： 表示列出所有位置参数，但是是以单个的形式的列出<br> $?： 表示前一条命令执行后的返回状态，返回值为О表示执行正确，返回任何非О值均表示执行出现异常。<br> $0：表示当前执行的脚本或程序的名称<br> $$：表示返回当前进程的进程号<br> $!：返回最后一个后合进程的进程号<br> $ 是将参数全部当做一个整体<br> $@ 是将参数每一个都当做单独的个体</em></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/5b/35/LlW7PvC6_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a6/d1/ldmXLCJb_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/97/b2/vtC4Tn1f_o.png" alt="在这里插入图片描述"></p> 
<p>总结<br> shell的作用与应用场景</p> 
<p>shell脚本的编写规范与执行方法</p> 
<p>重定向与管道的作用与使用方法</p> 
<p>自定义变量赋值时单引号、双引号、反撇号的使用方法</p> 
<p>数值变量的常用运算符：+、-、*、/、%</p> 
<p>环境变量、只读变量、位置变量、预定义变量的用途</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/710bae9c4bba8dfa719c7e5189a30f1a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java两种调用sap的方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5a85f06889cde32849d71a3db60707e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">深入理解python中的切片</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>