<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>永磁同步电机矢量控制——电流环转速环 PI 参数整定 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="永磁同步电机矢量控制——电流环转速环 PI 参数整定" />
<meta property="og:description" content="1、预备知识 （1）典型I型系统的传递函数如下图所示：
（2）通常情况下，一个实际系统可以通过工程上的近似处理和调节器校正变换成 典型I（前面已讲） 或 典型 II 系统。
本节用到的工程上近似处理方法：小惯性群的近似处理，自动控制系统中有多个小时间常数的惯性环节相串联的情况，在一定条件下可以将这些小惯性环节合并为一个惯性环节。
调节器结构选择的基本思路：将控制对象校正成典型I或者典型II系统。
2、电流环PI参数整定 2.1、电流环的开环传递函数
上图为电流环传递函数框图，电流环的输入为电流信号的误差值，输出为电压，控制电机转矩。 第一个环节： PI调节器的传函
第二个环节：延迟传函
在实际计算过程中，CPU进入中断读取电流反馈值，然后进行PI调节器的计算，得到输出电压（或者三角波比较值），但是输出电压或者比较值不是立即作用出去的，通常会延迟一个PWM周期，才会将比较值输出出去。这样就造成了采样和计算的延迟，这里近似看成一阶延迟环节，时间常数为Ts(这里td=Ts)。
第三个环节： 逆变器的传函
经过第二个环节，更新了三角波的比较值后，输出的电压是立刻作用到了负载上面吗？还不是的。对于7段式SVPWM来说，调制特点决定了还有0.5Ts的延时。而Kpwm为逆变器的增益，这个值没有一个确定的数值，这里取Kpwm为1，默认他为理想型。
第四个环节： 电机传递函数
电机传递函数可近似处理为：
说下电机传函的由来，前面讲过电机在dq轴坐标系下的电压方程：
忽略耦合项的电压平衡方程为（这里只列出q轴电压方程）：
上式拉式变换后得到电机的传函。
在开关频率为10KHZ时，PWM逆变器和延迟环节的时间常数都很小。工程近似就可以把延迟环节和PWM环节合并处理：
因为时间常数Ts很小，那么分母中的二次项系数可以看做0，从而等效为一个典型的I型系统。
则可得电流传递函数框图：
则电流环的开环传函数：
2.2 、电流环参数整定 前面我们得到了电流环的开环传递函数，下面我们把开环传递函数配置成典型系统：
2.2.1、I型系统配置 I型系统开环传递函数的结构是：
Wcur(s)貌似又和I型系统的结构不一样。怎么处理？ 采用零极点对消法 ，将参数设置满足
Kp/Ki=Lq/R 这个条件，让分子分母各自约去一项，就能将电流环变成了I型系统。
剩下的Wcur(s)中，分子Ki/R就是I型系统的分子K，分母中的1.5Ts就是I型系统的T。如果按
照 ξ = 0.707 ，故可知 KT = 0.5 。
计算出PI调节器参数为：
其中Ts为PI调节器计算的周期，一般情况下等同于逆变器的开关周期。
典型I型系统跟随性能指标和频域指标与参数的关系如下表所示：
参考：
1.https://blog.csdn.net/sy243772901/article/details/82221672
2.2021-06-14_pi调节器里面kp和ki的确定-CSDN博客" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/26d7b5927c87d07335d0535230ee4038/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-16T21:06:56+08:00" />
<meta property="article:modified_time" content="2023-11-16T21:06:56+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">永磁同步电机矢量控制——电流环转速环 PI 参数整定</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><strong>1、预备知识</strong></h2> 
<p>（1）典型I型系统的传递函数如下图所示：</p> 
<p><img alt="" height="399" src="https://images2.imgbox.com/b5/0f/5etywYc8_o.png" width="552"></p> 
<p>（2）通常情况下，一个实际系统可以通过<strong>工程上的近似处理</strong>和<strong>调节器校正</strong>变换成 典型I（前面已讲） 或 典型 II 系统。</p> 
<p><strong>本节用到的工程上近似处理方法</strong>：小惯性群的近似处理，自动控制系统中有多个小时间常数的惯性环节相串联的情况，在一定条件下可以将这些小惯性环节合并为一个惯性环节。<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/8d/2b/hj7mq2qI_o.png"></p> 
<p><strong>调节器结构选择的基本思路</strong>：<strong>将控制对象校正成典型I或者典型II系统。</strong></p> 
<p><img alt="在这里插入图片描述" src="https://images2.imgbox.com/24/da/oolKWVdu_o.png"></p> 
<h2 style="margin-left:0px;"><span style="color:#4f4f4f;"><span style="background-color:#ffffff;">2、电流环PI参数整定</span></span></h2> 
<h3 style="margin-left:0px;"><span style="color:#4f4f4f;"><span style="background-color:#ffffff;"><a name="t3"></a><a id="21_14"></a>2.1、电流环的开环传递函数</span></span><br><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><img alt="123" src="https://images2.imgbox.com/d9/df/oaLwepmH_o.png"><br> 上图为电流环传递函数框图，电流环的输入为电流信号的误差值，输出为电压，控制电机转矩。</span></span></h3> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><strong>第一个环节：</strong> <strong>PI调节器的传函</strong></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><strong>第二个环节</strong>：<strong>延迟传函</strong></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">  在实际计算过程中，CPU进入中断读取电流反馈值，然后进行PI调节器的计算，得到输出电压（或者三角波比较值），但是输出电压或者比较值不是立即作用出去的，<strong>通常会延迟一个PWM周期，才会将比较值输出出去</strong>。这样就造成了采样和计算的延迟，这里近似看成一阶延迟环节，时间常数为<strong>Ts(这里td=Ts)</strong>。</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><strong>第三个环节：</strong> <strong>逆变器的传函</strong></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">  经过第二个环节，更新了三角波的比较值后，输出的电压是立刻作用到了负载上面吗？还不是的。<strong>对于7段式SVPWM来说，调制特点决定了还有0.5Ts的延时</strong>。而Kpwm为逆变器的增益，这个值没有一个确定的数值，<strong>这里取Kpwm为1，默认他为理想型</strong>。</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><strong>第四个环节：</strong> <strong>电机传递函数</strong></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">  电机传递函数可近似处理为：<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/19/18/sPqnL9L9_o.png"><br> 说下电机传函的由来，前面讲过电机在dq轴坐标系下的电压方程：<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/d6/c7/NGKi18An_o.png"><br> 忽略耦合项的电压平衡方程为（这里只列出q轴电压方程）：</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><img alt="在这里插入图片描述" src="https://images2.imgbox.com/9b/bb/ohCie2xw_o.png"></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">上式拉式变换后得到电机的传函。</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">在开关频率为10KHZ时，PWM逆变器和延迟环节的时间常数都很小。工程近似就可以把延迟环节和PWM环节合并处理：</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><img alt="在这里插入图片描述" src="https://images2.imgbox.com/11/9b/hHgbXm84_o.png"></span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><strong>因为时间常数Ts很小，那么分母中的二次项系数可以看做0，从而等效为一个</strong></span></span><strong>典型的I型系统。</strong></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">则可得电流传递函数框图：</span></span></p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;"><img alt="在这里插入图片描述" src="https://images2.imgbox.com/e8/92/rUplQD6l_o.png"><br><strong>则电流环的开环传函数：</strong><br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/51/c6/MSgtDUuU_o.png"></span></span></p> 
<h3 style="margin-left:0px;"><span style="color:#4f4f4f;"><span style="background-color:#ffffff;"><a name="t4"></a><a id="22__53"></a>2.2 、电流环参数整定</span></span></h3> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">前面我们得到了电流环的开环传递函数，下面我们把开环传递函数配置成典型系统：</span></span></p> 
<h4 style="margin-left:0px;"><span style="color:#4f4f4f;"><span style="background-color:#ffffff;"><a id="221I_56"></a>2.2.1、I型系统配置</span></span></h4> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">I型系统开环传递函数的结构是：<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/b0/11/AHtaeddn_o.png"><br> Wcur(s)貌似又和I型系统的结构不一样。怎么处理？<span style="color:#ff0000;"> 采用零极点对消法 </span>，将参数设置满足<br> Kp/Ki=Lq/R 这个条件，让分子分母各自约去一项，就能将电流环变成了I型系统。<br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/69/93/2mbskIZu_o.png"><br> 剩下的Wcur(s)中，分子Ki/R就是I型系统的分子K，分母中的1.5Ts就是I型系统的T。如果按<br> 照 <strong><strong>ξ = 0.707 ，故可知 KT = 0.5 。</strong></strong><br><img alt="在这里插入图片描述" src="https://images2.imgbox.com/d8/3b/0BKJip3y_o.png"><br> 计算出PI调节器参数为：<br><img alt="![在这里插入图片描" src="https://images2.imgbox.com/76/e8/9M9RP4Ev_o.png"></span></span></p> 
<p style="margin-left:0;"><img alt="" height="573" src="https://images2.imgbox.com/3b/ca/gu54q5Gq_o.png" width="409"></p> 
<p style="margin-left:0;">其中Ts为PI调节器计算的周期，一般情况下等同于逆变器的开关周期。</p> 
<p style="margin-left:0;"><span style="color:#4d4d4d;"><span style="background-color:#ffffff;">典型I型系统跟随性能指标和频域指标与参数的关系如下表所示：</span></span><br><img alt="" height="297" src="https://images2.imgbox.com/5c/8c/0KHsTfZZ_o.png" width="554"></p> 
<p style="margin-left:0;">参考：</p> 
<p style="margin-left:0;">1.<a href="https://blog.csdn.net/sy243772901/article/details/82221672" title="https://blog.csdn.net/sy243772901/article/details/82221672">https://blog.csdn.net/sy243772901/article/details/82221672</a></p> 
<p>2.<a href="https://blog.csdn.net/m0_46180089/article/details/117908832?spm=1001.2014.3001.5501" title="2021-06-14_pi调节器里面kp和ki的确定-CSDN博客">2021-06-14_pi调节器里面kp和ki的确定-CSDN博客</a></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7a336c35e21b784f3924b947bec1d8a0/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">永磁同步电机矢量控制——转速环 PI 参数整定</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0ad3d178d3e0205ca75b8c6f81573acc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">17. Series.dt.month-提取日期数据中的月份信息</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>