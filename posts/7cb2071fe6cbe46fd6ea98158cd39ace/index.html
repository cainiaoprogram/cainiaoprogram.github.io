<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>2024三掌柜赠书活动第三期：Rust系统编程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="2024三掌柜赠书活动第三期：Rust系统编程" />
<meta property="og:description" content="目录 前言
Rust语言概念
关于《Rust系统编程》
Rust系统编程的核心点
Rust系统编程的关键技术和工具
编辑推荐
内容简介
作者简介
图书目录
书中前言/序言
《Rust系统编程》全书速览
结束语
前言 在技术圈，最近的编程语言新秀当属Rust莫属，Rust是一种现代化的系统编程语言，具有强大的性能、内存安全和并发性，它旨在提供高效的低级控制和抽象，使开发人员能够编写高性能、可靠且安全的系统级应用程序。据悉在 Stack Overflow 的年度开发者调查报告中，Rust 连续多年被评为“最受喜爱的编程语言”，越来越多的大公司如谷歌、微软、腾讯等都开始将Rust运用于各类项目中。本文就来简单聊聊Rust系统编程的基本概念和特点，并聊聊如何使用Rust构建可靠的系统级软件。
Rust语言概念 作为开发者想必都知道，Rust是一门系统编程语言，专注于安全，尤其是并发安全，支持函数式和命令式以及泛型等编程范式的多范式语言。Rust在语法上和C&#43;&#43;类似，设计者想要在保证性能的同时提供更好的内存安全。据悉 Rust最初是由Mozilla研究院的Graydon Hoare设计创造，然后在Dave Herman, Brendan Eich以及很多其他人的贡献下逐步完善的，Rust的设计者们通过在研发Servo网站浏览器布局引擎过程中积累的经验优化了Rust语言和Rust编译器。
还有就是Rust编译器是在MIT License 和 Apache License 2.0双重协议声明下的免费开源软件，另外，Rust已经连续七年（2016，2017，2018，2019，2020, 2021, 2022）在Stack Overflow开发者调查的“最受喜爱编程语言”评选项目中折取桂冠。
关于《Rust系统编程》 接下来给大家推荐一本关于Rust系统编程学习必备的书籍，这是一本关于Rust系统编程实战类的干货图书，一经上市就登上了京东“计算机与互联网”图书排行榜前列。另外，关注本文博主，点赞&#43;收藏本文，且在本文评论区评论“我要入门Rust编程”，将选取三名幸运读者送出纸质版《Rust系统编程》一本，截止时间：2024.01.14。入手《Rust系统编程》传送门：https://item.jd.com/13434725.html 或者 《Rust系统编程》([印]普拉布·艾什沃拉 著 刘君 译)【简介_书评_在线阅读】 - 当当图书，个人觉得这本书非常的不错，尤其是想构建可靠的系统级软件的开发者来讲，是一本不可多得的好书，值得拥有去学习。
Rust系统编程的核心点 内存安全：Rust的所有权系统和借用检查器能够在编译时防止常见的内存错误，如空指针引用、数据竞争等。零成本抽象：Rust提供了高级抽象和模块化的编程机制，同时保证在运行时不引入额外的开销。高性能：Rust的运行时性能接近于C/C&#43;&#43;，并且具备对内存分配和线程管理的精细控制。并发性：Rust的并发模型允许开发人员编写安全的并发代码，包括线程安全、跨线程通信等。 Rust系统编程的关键技术和工具 unsafe关键字：Rust提供了unsafe关键字，用于处理需要绕过编译时检查的底层操作，如访问原始指针和调用不安全的函数。FFI（Foreign Function Interface）：Rust支持与其他语言进行无缝集成，可以直接调用C语言函数和使用C语言的数据结构。Cargo构建系统：Cargo是Rust的默认构建系统，提供了便捷的项目管理、依赖管理和构建工具等功能。 编辑推荐 Rust是一种现代开源系统编程语言，它承诺并做到了3个领域的：Java的类型安全；C 的速度、表现力和效率；无须垃圾收集器的内存安全。通读完本书，你会对如何使用Rust管理和控制操作系统资源（如内存、文件、进程、线程、系统环境、外围设备、网络接口、终端和外壳程序）有清晰的了解，并掌握如何通过FFI构建跨语言绑定。在此过程中，你会对Rust为构建安全、高性能、可靠和高效的系统级软件带来的价值有深刻的认识。
内容简介 《Rust系统编程》详细阐述了与Rust系统编程相关的基本解决方案，主要包括Rust工具链和项目结构，Rust编程语言之旅，Rust标准库介绍，管理环境、命令行和时间，Rust中的内存管理，在Rust中使用文件和目录，在Rust中实现终端I/O，处理进程和信号，管理并发，处理设备I/O，学习网络编程，编写不安全Rust和FFI等内容。此外，本书还提供了相应的示例、代码，以帮助读者进一步理解相关方案的实现过程。 本书适合作为高等院校计算机及相关专业的教材和教学参考书，也可作为相关开发人员的自学用书和参考手册。
图书目录 目 录
第1篇 Rust系统编程入门
第1章 Rust工具链和项目结构 3
1.1 技术要求 3
1.2 为项目选择正确的Rust配置 4" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7cb2071fe6cbe46fd6ea98158cd39ace/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-09T00:35:37+08:00" />
<meta property="article:modified_time" content="2024-01-09T00:35:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">2024三掌柜赠书活动第三期：Rust系统编程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p></p> 
<h3 id="main-toc"><strong>目录</strong></h3> 
<p id="%E5%89%8D%E8%A8%80-toc" style="margin-left:40px;"><a href="#%E5%89%8D%E8%A8%80" rel="nofollow">前言</a></p> 
<p id="Rust%E8%AF%AD%E8%A8%80%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#Rust%E8%AF%AD%E8%A8%80%E6%A6%82%E5%BF%B5" rel="nofollow">Rust语言概念</a></p> 
<p id="%E5%85%B3%E4%BA%8E%E3%80%8ARust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E3%80%8B-toc" style="margin-left:40px;"><a href="#%E5%85%B3%E4%BA%8E%E3%80%8ARust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E3%80%8B" rel="nofollow">关于《Rust系统编程》</a></p> 
<p id="Rust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E7%9A%84%E6%A0%B8%E5%BF%83%E7%82%B9-toc" style="margin-left:40px;"><a href="#Rust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E7%9A%84%E6%A0%B8%E5%BF%83%E7%82%B9" rel="nofollow">Rust系统编程的核心点</a></p> 
<p id="Rust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E7%9A%84%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E5%92%8C%E5%B7%A5%E5%85%B7-toc" style="margin-left:40px;"><a href="#Rust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E7%9A%84%E5%85%B3%E9%94%AE%E6%8A%80%E6%9C%AF%E5%92%8C%E5%B7%A5%E5%85%B7" rel="nofollow">Rust系统编程的关键技术和工具</a></p> 
<p id="%E7%BC%96%E8%BE%91%E6%8E%A8%E8%8D%90-toc" style="margin-left:40px;"><a href="#%E7%BC%96%E8%BE%91%E6%8E%A8%E8%8D%90" rel="nofollow">编辑推荐</a></p> 
<p id="%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%E5%86%85%E5%AE%B9%E7%AE%80%E4%BB%8B" rel="nofollow">内容简介</a></p> 
<p id="%E4%BD%9C%E8%80%85%E7%AE%80%E4%BB%8B-toc" style="margin-left:40px;"><a href="#%E4%BD%9C%E8%80%85%E7%AE%80%E4%BB%8B" rel="nofollow">作者简介</a></p> 
<p id="%E5%9B%BE%E4%B9%A6%E7%9B%AE%E5%BD%95-toc" style="margin-left:40px;"><a href="#%E5%9B%BE%E4%B9%A6%E7%9B%AE%E5%BD%95" rel="nofollow">图书目录</a></p> 
<p id="%E4%B9%A6%E4%B8%AD%E5%89%8D%E8%A8%80%2F%E5%BA%8F%E8%A8%80-toc" style="margin-left:40px;"><a href="#%E4%B9%A6%E4%B8%AD%E5%89%8D%E8%A8%80%2F%E5%BA%8F%E8%A8%80" rel="nofollow">书中前言/序言</a></p> 
<p id="%E3%80%8ARust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E3%80%8B%E5%85%A8%E4%B9%A6%E9%80%9F%E8%A7%88-toc" style="margin-left:40px;"><a href="#%E3%80%8ARust%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B%E3%80%8B%E5%85%A8%E4%B9%A6%E9%80%9F%E8%A7%88" rel="nofollow">《Rust系统编程》全书速览</a></p> 
<p id="%E7%BB%93%E6%9D%9F%E8%AF%AD-toc" style="margin-left:40px;"><a href="#%E7%BB%93%E6%9D%9F%E8%AF%AD" rel="nofollow">结束语</a></p> 
<hr id="hr-toc"> 
<h3>前言</h3> 
<blockquote> 
 <p>在技术圈，最近的编程语言新秀当属Rust莫属，Rust是一种现代化的系统编程语言，具有强大的性能、内存安全和并发性，它旨在提供高效的低级控制和抽象，使开发人员能够编写高性能、可靠且安全的系统级应用程序。据悉在 Stack Overflow 的年度开发者调查报告中，Rust 连续多年被评为“最受喜爱的编程语言”，越来越多的大公司如谷歌、微软、腾讯等都开始将Rust运用于各类项目中。本文就来简单聊聊Rust系统编程的基本概念和特点，并聊聊如何使用Rust构建可靠的系统级软件。</p> 
</blockquote> 
<h3>Rust语言概念</h3> 
<p>作为开发者想必都知道，Rust是一门系统编程语言，专注于安全，尤其是并发安全，支持函数式和命令式以及泛型等编程范式的多范式语言。Rust在语法上和C++类似，设计者想要在保证性能的同时提供更好的内存安全。据悉 Rust最初是由Mozilla研究院的Graydon Hoare设计创造，然后在Dave Herman, Brendan Eich以及很多其他人的贡献下逐步完善的，Rust的设计者们通过在研发Servo网站浏览器布局引擎过程中积累的经验优化了Rust语言和Rust编译器。</p> 
<p>还有就是Rust编译器是在MIT License 和 Apache License 2.0双重协议声明下的免费开源软件，另外，Rust已经连续七年（2016，2017，2018，2019，2020, 2021, 2022）在Stack Overflow开发者调查的“最受喜爱编程语言”评选项目中折取桂冠。</p> 
<h3>关于《Rust系统编程》</h3> 
<p>接下来给大家推荐一本关于Rust系统编程学习必备的书籍，这是一本关于Rust系统编程实战类的干货图书，一经上市就登上了京东“计算机与互联网”图书排行榜前列。另外，<strong><span style="color:#fe2c24;">关注本文博主，点赞+收藏本文</span></strong>，且在本文评论区评论“我要入门Rust编程”，将选取三名幸运读者送出纸质版《Rust系统编程》一本，截止时间：<strong><span style="color:#fe2c24;">2024.01.14</span></strong>。入手《Rust系统编程》传送门：<a href="https://item.jd.com/13434725.html" rel="nofollow" title="https://item.jd.com/13434725.html">https://item.jd.com/13434725.html</a> 或者 <a href="http://product.dangdang.com/29469127.html" rel="nofollow" title="《Rust系统编程》([印]普拉布·艾什沃拉 著 刘君 译)【简介_书评_在线阅读】 - 当当图书">《Rust系统编程》([印]普拉布·艾什沃拉 著 刘君 译)【简介_书评_在线阅读】 - 当当图书</a>，个人觉得这本书非常的不错，尤其是想构建可靠的系统级软件的开发者来讲，是一本不可多得的好书，值得拥有去学习。</p> 
<h3>Rust系统编程的核心点</h3> 
<ol><li>内存安全：Rust的所有权系统和借用检查器能够在编译时防止常见的内存错误，如空指针引用、数据竞争等。</li><li>零成本抽象：Rust提供了高级抽象和模块化的编程机制，同时保证在运行时不引入额外的开销。</li><li>高性能：Rust的运行时性能接近于C/C++，并且具备对内存分配和线程管理的精细控制。</li><li>并发性：Rust的并发模型允许开发人员编写安全的并发代码，包括线程安全、跨线程通信等。</li></ol> 
<h3>Rust系统编程的关键技术和工具</h3> 
<ol><li>unsafe关键字：Rust提供了unsafe关键字，用于处理需要绕过编译时检查的底层操作，如访问原始指针和调用不安全的函数。</li><li>FFI（Foreign Function Interface）：Rust支持与其他语言进行无缝集成，可以直接调用C语言函数和使用C语言的数据结构。</li><li>Cargo构建系统：Cargo是Rust的默认构建系统，提供了便捷的项目管理、依赖管理和构建工具等功能。</li></ol> 
<h3>编辑推荐</h3> 
<p>Rust是一种现代开源系统编程语言，它承诺并做到了3个领域的：Java的类型安全；C 的速度、表现力和效率；无须垃圾收集器的内存安全。通读完本书，你会对如何使用Rust管理和控制操作系统资源（如内存、文件、进程、线程、系统环境、外围设备、网络接口、终端和外壳程序）有清晰的了解，并掌握如何通过FFI构建跨语言绑定。在此过程中，你会对Rust为构建安全、高性能、可靠和高效的系统级软件带来的价值有深刻的认识。</p> 
<h3>内容简介</h3> 
<p>《Rust系统编程》详细阐述了与Rust系统编程相关的基本解决方案，主要包括Rust工具链和项目结构，Rust编程语言之旅，Rust标准库介绍，管理环境、命令行和时间，Rust中的内存管理，在Rust中使用文件和目录，在Rust中实现终端I/O，处理进程和信号，管理并发，处理设备I/O，学习网络编程，编写不安全Rust和FFI等内容。此外，本书还提供了相应的示例、代码，以帮助读者进一步理解相关方案的实现过程。 本书适合作为高等院校计算机及相关专业的教材和教学参考书，也可作为相关开发人员的自学用书和参考手册。</p> 
<h3>图书目录</h3> 
<blockquote> 
 <p>目    录</p> 
 <p>第1篇  Rust系统编程入门</p> 
 <p>第1章  Rust工具链和项目结构 3</p> 
 <p>1.1  技术要求 3</p> 
 <p>1.2  为项目选择正确的Rust配置 4</p> 
 <p>1.2.1  选择Rust发布通道 4</p> 
 <p>1.2.2  选择Rust项目类型 6</p> 
 <p>1.3  Cargo和项目结构简介 7</p> 
 <p>1.4  使用Cargo自动化构建管理 9</p> 
 <p>1.4.1  构建一个基本的二进制项Crate 9</p> 
 <p>1.4.2  配置Cargo 11</p> 
 <p>1.4.3  构建静态库Crate 13</p> 
 <p>1.5  自动化依赖项管理 14</p> 
 <p>1.5.1  指定依赖项的位置 15</p> 
 <p>1.5.2  在源代码中使用依赖包 16</p> 
 <p>1.6  编写和运行自动化测试 16</p> 
 <p>1.6.1  用Rust编写单元测试 17</p> 
 <p>1.6.2  用Rust编写集成测试 18</p> 
 <p>1.6.3  控制测试执行 19</p> 
 <p>1.6.4  按顺序或并行运行测试 21</p> 
 <p>1.7  生成项目文档 21</p> 
 <p>1.7.1  在Crate中编写内联文档注释 22</p> 
 <p>1.7.2  在Markdown文件中编写文档 23</p> 
 <p>1.7.3  运行文档测试 24</p> 
 <p>1.8  小结 24</p> 
 <p>1.9  延伸阅读 25</p> 
 <p>第2章  Rust编程语言之旅 27</p> 
 <p>2.1  技术要求 28</p> 
 <p>2.2  分析问题域 28</p> 
 <p>2.3  系统行为建模 29</p> 
 <p>2.4  构建标记化器 32</p> 
 <p>2.4.1  Tokenizer数据结构 32</p> 
 <p>2.4.2  Tokenizer数据处理 36</p> 
 <p>2.5  构建解析器 40</p> 
 <p>2.5.1  Parser数据结构 41</p> 
 <p>2.5.2  Parser方法 43</p> 
 <p>2.5.3  运算符优先级 47</p> 
 <p>2.6  构建求值器 50</p> 
 <p>2.7  处理错误 51</p> 
 <p>2.8  综合演练 55</p> 
 <p>2.9  小结 57</p> 
 <p>第3章  Rust标准库介绍 59</p> 
 <p>3.1  技术要求 59</p> 
 <p>3.2  Rust标准库和系统编程 59</p> 
 <p>3.3  探索Rust标准库 62</p> 
 <p>3.4  面向计算的模块 67</p> 
 <p>3.4.1  数据类型 67</p> 
 <p>3.4.2  数据处理 69</p> 
 <p>3.4.3  错误处理 69</p> 
 <p>3.4.4  外部函数接口 70</p> 
 <p>3.4.5  编译器 70</p> 
 <p>3.5  面向系统调用的模块 70</p> 
 <p>3.5.1  内存管理 70</p> 
 <p>3.5.2  并发 72</p> 
 <p>3.5.3  文件系统 73</p> 
 <p>3.5.4  输入/输出 73</p> 
 <p>3.5.5  网络连接 73</p> 
 <p>3.5.6  与特定操作系统相关的模块 73</p> 
 <p>3.5.7  时间 73</p> 
 <p>3.5.8  异步 73</p> 
 <p>3.6  构建模板引擎 74</p> 
 <p>3.7  模板语法和设计 76</p> 
 <p>3.7.1  模板文件的常见元素列表 76</p> 
 <p>3.7.2  模板引擎的概念模型 77</p> 
 <p>3.7.3  模板引擎的工作原理 79</p> 
 <p>3.7.4  模板引擎生成HTML的步骤 80</p> 
 <p>3.7.5  新建库项目 81</p> 
 <p>3.7.6  模板引擎的代码结构 81</p> 
 <p>3.7.7  数据结构 82</p> 
 <p>3.7.8  关键函数 83</p> 
 <p>3.7.9  测试用例 84</p> 
 <p>3.8  编写模板引擎 86</p> 
 <p>3.8.1  解析器的设计 86</p> 
 <p>3.8.2  编写解析器 87</p> 
 <p>3.8.3  支持函数 88</p> 
 <p>3.8.4  main()函数 91</p> 
 <p>3.8.5  执行模板引擎 95</p> 
 <p>3.9  小结 96</p> 
 <p>3.10  延伸阅读 97</p> 
 <p>第4章  管理环境、命令行和时间 99</p> 
 <p>4.1  技术要求 100</p> 
 <p>4.2  项目范围和设计概述 100</p> 
 <p>4.2.1  要构建的内容 100</p> 
 <p>4.2.2  技术设计 103</p> 
 <p>4.3  使用Rust标准库 106</p> 
 <p>4.3.1  路径操作和目录迭代 106</p> 
 <p>4.3.2  时间测量 108</p> 
 <p>4.3.3  使用环境变量 108</p> 
 <p>4.3.4  使用命令行参数 110</p> 
 <p>4.3.5  imagix库设计方法总结 111</p> 
 <p>4.4  编写imagix库代码 111</p> 
 <p>4.4.1  imagix库的模块结构 112</p> 
 <p>4.4.2  添加依赖项 114</p> 
 <p>4.4.3  遍历目录条目 114</p> 
 <p>4.4.4  调整图像大小 115</p> 
 <p>4.4.5  图像文件信息统计 117</p> 
 <p>4.4.6  错误处理 118</p> 
 <p>4.5  开发命令行应用程序 119</p> 
 <p>4.5.1  设计命令行界面 120</p> 
 <p>4.5.2  使用structopt对命令行二进制文件进行编码 122</p> 
 <p>4.6  小结 125</p> 
 <p>第2篇  在Rust中管理和控制系统资源</p> 
 <p>第5章  Rust中的内存管理 129</p> 
 <p>5.1  技术要求 130</p> 
 <p>5.2  操作系统内存管理的基础知识 130</p> 
 <p>5.2.1  内存管理生命周期 130</p> 
 <p>5.2.2  进程的内存布局 134</p> 
 <p>5.3  Rust程序的内存布局 136</p> 
 <p>5.3.1  理解Rust程序的内存布局 136</p> 
 <p>5.3.2  栈、堆和静态内存的特性 139</p> 
 <p>5.4  Rust内存管理生命周期 141</p> 
 <p>5.4.1  Rust内存管理生命周期概述 142</p> 
 <p>5.4.2  内存分配 144</p> 
 <p>5.4.3  内存使用和操作 146</p> 
 <p>5.4.4  Rust的所有权规则 147</p> 
 <p>5.4.5  Rust借用和引用规则 148</p> 
 <p>5.4.6  内存释放 148</p> 
 <p>5.4.7  内存安全 149</p> 
 <p>5.5  实现动态数据结构 150</p> 
 <p>5.5.1  模板引擎设计的变化 152</p> 
 <p>5.5.2  编写动态数据结构的代码 154</p> 
 <p>5.6  小结 159</p> 
 <p>5.7  延伸阅读 159</p> 
 <p>第6章  在Rust中使用文件和目录 161</p> 
 <p>6.1  技术要求 161</p> 
 <p>6.2  理解用于文件操作的Linux系统调用 161</p> 
 <p>6.3  在Rust中执行文件I/O操作 164</p> 
 <p>6.3.1  创建 166</p> 
 <p>6.3.2  打开 166</p> 
 <p>6.3.3  复制 167</p> 
 <p>6.3.4  重命名 167</p> 
 <p>6.3.5  读取 167</p> 
 <p>6.3.6  写入 168</p> 
 <p>6.3.7  查询 168</p> 
 <p>6.3.8  元数据 169</p> 
 <p>6.3.9  关闭 170</p> 
 <p>6.4  了解目录和路径操作 170</p> 
 <p>6.4.1  读取目录条目的详细信息 172</p> 
 <p>6.4.2  以编程方式创建目录结构 173</p> 
 <p>6.4.3  动态构造路径字符串 173</p> 
 <p>6.5  设置硬链接、符号链接和执行查询 174</p> 
 <p>6.5.1  创建硬链接 175</p> 
 <p>6.5.2  创建和查询符号链接 175</p> 
 <p>6.6  在Rust中编写shell命令 176</p> 
 <p>6.6.1  代码概述 176</p> 
 <p>6.6.2  错误处理 178</p> 
 <p>6.6.3  源指标计算 180</p> 
 <p>6.6.4  main()函数 184</p> 
 <p>6.7  小结 186</p> 
 <p>第7章  在Rust中实现终端I/O 187</p> 
 <p>7.1  技术要求 187</p> 
 <p>7.2  终端I/O基础知识 188</p> 
 <p>7.2.1  终端的特性 188</p> 
 <p>7.2.2  Termion Crate 189</p> 
 <p>7.2.3  定义项目构建内容 190</p> 
 <p>7.3  处理终端用户界面和光标 192</p> 
 <p>7.3.1  编写数据结构和main()函数 192</p> 
 <p>7.3.2  初始化文本查看器并获取终端大小 195</p> 
 <p>7.3.3  显示文档并设置终端颜色、样式和光标位置 196</p> 
 <p>7.3.4  退出文本查看器 197</p> 
 <p>7.4  处理键盘输入和滚动 198</p> 
 <p>7.4.1  侦听用户的按键 199</p> 
 <p>7.4.2  定位终端光标 200</p> 
 <p>7.4.3  在终端上启用滚动功能 202</p> 
 <p>7.5  处理鼠标输入 203</p> 
 <p>7.6  小结 205</p> 
 <p>第8章  处理进程和信号 207</p> 
 <p>8.1  技术要求 207</p> 
 <p>8.2  理解Linux进程概念和系统调用 208</p> 
 <p>8.2.1  程序和进程之间的区别 208</p> 
 <p>8.2.2  程序内存布局和进程管理 209</p> 
 <p>8.3  深入了解Linux进程基础知识 211</p> 
 <p>8.3.1  进程管理关键任务分解 211</p> 
 <p>8.3.2  创建新进程 212</p> 
 <p>8.3.3  检查子进程的状态 213</p> 
 <p>8.3.4  使用进程间通信 213</p> 
 <p>8.3.5  设置环境变量 213</p> 
 <p>8.3.6  终止进程 214</p> 
 <p>8.3.7  处理信号 214</p> 
 <p>8.4  使用Rust生成进程 214</p> 
 <p>8.4.1  生成新的子进程 214</p> 
 <p>8.4.2  终止进程 216</p> 
 <p>8.4.3  检查子进程的执行状态 217</p> 
 <p>8.5  处理I/O和环境变量 218</p> 
 <p>8.5.1  处理子进程的I/O 218</p> 
 <p>8.5.2  为子进程设置环境变量 220</p> 
 <p>8.6  处理恐慌、错误和信号 221</p> 
 <p>8.6.1  中止当前进程 221</p> 
 <p>8.6.2  信号处理 223</p> 
 <p>8.7  用Rust编写shell程序 225</p> 
 <p>8.7.1  新建项目 225</p> 
 <p>8.7.2  迭代1—生成执行命令的子进程 225</p> 
 <p>8.7.3  迭代2—添加对命令参数的支持 227</p> 
 <p>8.7.4  迭代3—支持自然语言命令 228</p> 
 <p>8.7.5  测试和错误处理 229</p> 
 <p>8.7.6  练习和改进 230</p> 
 <p>8.8  小结 231</p> 
 <p>第9章  管理并发 233</p> 
 <p>9.1  技术要求 233</p> 
 <p>9.2  并发的基础知识 234</p> 
 <p>9.2.1  并发与并行 234</p> 
 <p>9.2.2  多线程的概念 237</p> 
 <p>9.3  生成和配置线程 239</p> 
 <p>9.3.1  使用thread::spawn()函数 240</p> 
 <p>9.3.2  使用thread::Builder结构 241</p> 
 <p>9.4  线程中的错误处理 242</p> 
 <p>9.5  线程间消息传递 245</p> 
 <p>9.6  通过共享状态实现并发 247</p> 
 <p>9.6.1  互斥锁和原子引用计数 248</p> 
 <p>9.6.2  定义程序结构 249</p> 
 <p>9.6.3  汇总共享状态下的源文件统计信息 250</p> 
 <p>9.7  使用计时器暂停线程执行 254</p> 
 <p>9.8  小结 255</p> 
 <p></p> 
 <p>第3篇  高 级 主 题</p> 
 <p>第10章  处理设备I/O 259</p> 
 <p>10.1  技术要求 259</p> 
 <p>10.2  了解Linux中设备I/O的基础知识 260</p> 
 <p>10.2.1  设备驱动程序 260</p> 
 <p>10.2.2  设备类型 262</p> 
 <p>10.3  执行缓冲读取和写入操作 263</p> 
 <p>10.4  使用标准输入和输出 266</p> 
 <p>10.5  I/O上的链接和迭代器 268</p> 
 <p>10.6  处理错误和返回值 270</p> 
 <p>10.7  获取已连接USB设备的详细信息 272</p> 
 <p>10.7.1  设计项目 272</p> 
 <p>10.7.2  编写数据结构和工具函数 274</p> 
 <p>10.7.3  编写main()函数 276</p> 
 <p>10.8  小结 278</p> 
 <p>第11章  学习网络编程 279</p> 
 <p>11.1  技术要求 279</p> 
 <p>11.2  Linux中的网络连接基础知识 280</p> 
 <p>11.3  理解Rust标准库中的网络原语 283</p> 
 <p>11.3.1  Rust网络标准库中的基础数据结构 283</p> 
 <p>11.3.2  IP地址应用示例 284</p> 
 <p>11.3.3  套接字示例 286</p> 
 <p>11.4  在Rust中使用TCP和UDP进行编程 286</p> 
 <p>11.4.1  编写UDP服务器和客户端 286</p> 
 <p>11.4.2  编写TCP服务器和客户端 289</p> 
 <p>11.5  编写一个TCP反向代理 290</p> 
 <p>11.5.1  代理服务器类型 291</p> 
 <p>11.5.2  新建项目 292</p> 
 <p>11.5.3  编写源服务器—结构体和方法 293</p> 
 <p>11.5.4  编写源服务器—main()函数 295</p> 
 <p>11.5.5  测试源服务器 298</p> 
 <p>11.5.6  编写反向代理服务器 299</p> 
 <p>11.5.7  测试反向代理服务器 302</p> 
 <p>11.6  小结 303</p> 
 <p>第12章  编写不安全Rust和FFI 305</p> 
 <p>12.1  技术要求 305</p> 
 <p>12.2  不安全Rust简介 306</p> 
 <p>12.2.1  区分安全Rust和不安全Rust代码 307</p> 
 <p>12.2.2  在不安全Rust中的操作 308</p> 
 <p>12.3  FFI简介 310</p> 
 <p>12.3.1  通过FFI接口调用外部函数 310</p> 
 <p>12.3.2  跨FFI边界共享联合体 311</p> 
 <p>12.4  安全FFI指南 313</p> 
 <p>12.5  从C中调用Rust 314</p> 
 <p>12.5.1  项目操作步骤概述 314</p> 
 <p>12.5.2  具体操作过程 314</p> 
 <p>12.6  理解ABI 316</p> 
 <p>12.6.1  关于ABI 317</p> 
 <p>12.6.2  条件编译选项 317</p> 
 <p>12.6.3  数据布局约定 318</p> 
 <p>12.6.4  链接选项 319</p> 
 <p>12.7  小结 319</p> 
</blockquote> 
<h3>书中前言/序言</h3> 
<p>现代软件堆栈的规模和复杂性迅速发展。云、网络、数据科学、机器学习（ML）、开发运营一体化（DevOps）、容器、物联网（IoT）、嵌入式系统、分布式账本、虚拟现实（VR）和增强现实（AR）以及人工智能（AI）等技术领域不断发展和专业化，导致能够构建系统基础设施组件的系统软件开发人员严重短缺。</p> 
<p>现代社会、企业和政府越来越依赖数字技术，因此更加重视开发安全、可靠和高效的系统软件和软件基础设施，以构建现代Web和移动应用程序。</p> 
<p>数十年来，C和C++等系统编程语言在该领域证明了自己的实力，并提供了高度灵活的控制和性能，但这是以牺牲内存安全为代价的。</p> 
<p>Java、C#、Python、Ruby和JavaScript等高级语言提供了内存安全，但对内存布局的控制较少，并且会受垃圾收集暂停的影响。</p> 
<p>Rust是一种现代开源系统编程语言，它承诺并做到了3个领域的最佳：Java的类型安全；C++的速度、表现力和效率；无须垃圾收集器的内存安全。</p> 
<p>本书采用了独特的三步法来教授Rust系统编程。本书的每一章都首先概述了类UNIX 操作系统（UNIX、Linux、macOS）中该主题的系统编程基础和Kernel系统调用，然后通过丰富的代码片段演示如何使用Rust标准库执行常见的系统调用（有些用例会用到外部Crate），再通过构建实际示例项目来强化这些知识的掌握。</p> 
<p>通读完本书，你会对如何使用Rust管理和控制操作系统资源（如内存、文件、进程、线程、系统环境、外围设备、网络接口、终端和外壳程序）有清晰的了解，并掌握如何通过FFI构建跨语言绑定。在此过程中，你会对Rust为构建安全、高性能、可靠和高效的系统级软件带来的价值有深刻的认识。</p> 
<h3>本书读者</h3> 
<p>本书面向具有Rust基础知识但系统编程经验较少的程序开发人员，也适用于具有系统编程背景并将Rust视为C或C++替代品的人。</p> 
<p>读者应该对C、C++、Java、Python、Ruby、JavaScript或Go语言的编程概念有基本的了解。</p> 
<p>内容介绍</p> 
<p>本书共分为3篇12章，具体内容如下。</p> 
<p>第1篇：Rust系统编程入门，包括第1～4章。</p> 
<p>第1章“Rust 工具链和项目结构”，介绍用于构建和管理依赖项、自动化测试和生成项目文档的Rust工具链。</p> 
<p>第2章“Rust 编程语言之旅”，通过一个示例项目说明Rust编程语言的关键概念，包括类型系统、数据结构和内存管理基础。</p> 
<p>第3章“Rust 标准库介绍”，详细讨论Rust标准库的关键模块，这些模块为Rust中的系统编程提供构建块和预定义功能。</p> 
<p>第4章“管理环境、命令行和时间”，讨论如何以编程方式处理命令行参数、设置和操作进程环境，以及使用系统时间。</p> 
<p>第2篇：在Rust中管理和控制系统资源，包括第5～9章。</p> 
<p>第5章“Rust中的内存管理”，全面介绍Rust提供的内存管理工具，阐释 Linux内存管理的基础知识、C/C++的传统缺点，以及如何使用Rust来克服这些缺点。</p> 
<p>第6章“在Rust中使用文件和目录”，介绍Linux文件系统的工作方式，以及如何在Rust中执行文件I/O操作，并提供一个在Rust中编写shell命令的项目示例。</p> 
<p>第7章“在Rust中实现终端 I/O”，介绍伪终端应用程序的工作方式，以及如何创建这样一个程序。本章的项目示例是一个处理流的交互式应用程序。</p> 
<p>第8章“处理进程和信号”，详细解释什么是进程、如何在Rust中处理进程、如何创建子进程并与子进程通信，以及如何处理信号和错误等。</p> 
<p>第9章“管理并发”，阐释并发、并行和多线程的基础知识，以及在Rust中跨线程共享数据的各种机制，包括通道、互斥锁和引用计数器。</p> 
<p>第3篇：高级主题，包括第10～12章。</p> 
<p>第10章“处理设备I/O”，解释Linux中设备I/O的概念，如缓冲、标准输入和输出，以及设备I/O，并演示如何使用Rust控制I/O操作。</p> 
<p>第11章“学习网络编程”，详细阐释Rust标准库中的低级网络原语和协议，并提供构建低级TCP和UDP服务器、客户端及TCP反向代理的项目示例。</p> 
<p>第12章“编写不安全Rust和FFI”，描述与不安全Rust相关的主要机制和风险，并演示如何使用FFI将Rust与其他编程语言安全地连接起来。</p> 
<p>充分利用本书</p> 
<p>使用本书前，必须将Rustup安装在本地开发环境中。其网址如下：</p> 
<p><a href="https://github.com/rust-lang/rustup" title="GitHub - rust-lang/rustup: The Rust toolchain installer">GitHub - rust-lang/rustup: The Rust toolchain installer</a></p> 
<p>官方安装说明网址如下：</p> 
<p><a href="https://www.rust-lang.org/tools/install" rel="nofollow" title="https://www.rust-lang.org/tools/install">https://www.rust-lang.org/tools/install</a></p> 
<p>安装完成后，可使用以下命令检查rustc和cargo是否安装正确：</p> 
<blockquote> 
 <p>rustc --version</p> 
 <p>cargo –version</p> 
</blockquote> 
<p>操作系统可使用Linux、macOS或Windows。</p> 
<p>虽然Rust标准库在很大程度上是独立于平台的，但本书的总体风格是面向基于Linux/ UNIX系统的。因此，如果使用Windows系统，则在某些章节（或章节中的某些部分）中，建议使用本地Linux虚拟机，如Virtual box（也可以使用云虚拟机），这是因为部分示例代码和项目中使用的命令、外部Crate或共享库等可能是特定于Linux/UNIX系统的。</p> 
<p>注意：使用Windows系统进行开发的注意事项</p> 
<p>有些章节需要运行类UNIX操作系统（UNIX/Linux/macOS）的虚拟机或Docker镜像。</p> 
<p>本书每章有两种类型的代码，它们放置在本书配套的GitHub存储库中：</p> 
<p>与示例项目相对应的代码（对应章节中的命名源文件）。</p> 
<p>独立的代码片段，放置在每章的miscellaneous文件夹中。</p> 
<p>建议开发人员通过本书配套的GitHub存储库（下文将提供链接）访问代码。这样做有助于避免与复制和粘贴代码相关的任何潜在错误。</p> 
<p>在使用cargo run命令构建和运行Rust程序时，如果运行该命令的用户ID没有足够的权限来执行系统级操作（如读取或写入文件），则可能会收到“权限被拒绝”之类的消息。在这种情况下，解决方法之一是使用以下命令运行程序：</p> 
<blockquote> 
 <p>sudo env "PATH=$PATH" cargo run</p> 
</blockquote> 
<p><strong>下载示例代码文件</strong></p> 
<p>读者可以访问www.packtpub.com并通过个人账户下载本书的示例代码文件。具体步骤如下：</p> 
<p>（1）注册并登录www.packtpub.com。</p> 
<p>（2）在页面顶部的搜索框中输入图书名称Practical System Programming for Rust Developers（不区分大小写，也不必输入完整），即可看到本书出现在列表中，单击超链接，如图P-1所示。</p> 
<p>图P-1 搜索图书</p> 
<p>（3）在本书详情页面中，找到并单击Download code from GitHub（从GitHub中下载代码文件）按钮，如图P-2所示。</p> 
<p>提示：如果看不到该下载按钮，可能是没有登录packtpub账号。该站点可免费注册账号。</p> 
<p>（4）在本书GitHub源代码下载页面中，单击Code（代码）下拉按钮，在弹出的下拉菜单中选择Download ZIP（下载压缩包），如图P-3所示。</p> 
<p>图P-2 单击下载代码的按钮</p> 
<p>图P-3 下载GitHub存储库中的代码压缩包</p> 
<p>下载文件后，请确保使用最新版本软件解压或析取文件夹：</p> 
<p>WinRAR/7-Zip（Windows系统）。</p> 
<p>Zipeg/iZip/UnRarX（macOS系统）。</p> 
<p>7-Zip/PeaZip（Linux系统）。</p> 
<p>你也可以直接访问本书在GitHub上的存储库，其网址如下：</p> 
<p><a href="https://github.com/PacktPublishing/Practical-System-Programming-for-Rust-Developers" title="GitHub - PacktPublishing/Practical-System-Programming-for-Rust-Developers: Practical System Programming for Rust Developers, published by Packt">GitHub - PacktPublishing/Practical-System-Programming-for-Rust-Developers: Practical System Programming for Rust Developers, published by Packt</a></p> 
<p>如果代码有更新，则也会在现有GitHub存储库上更新。</p> 
<p>本书中的代码片段是为学习而设计的，因此可能并不满足生产环境中的要求。也就是说，虽然代码示例是实用的并且使用了地道的Rust语言，但它们并不以具有强大错误处理机制的全功能为目标，无法涵盖所有极端情况。这是有意为之，以免妨碍你的学习过程。</p> 
<p>下载彩色图像</p> 
<p>本书提供了一个PDF文件，其中包含本书中使用的屏幕截图和图表的彩色图像，可以通过以下地址下载：</p> 
<p><a href="http://www.packtpub.com/sites/default/files/downloads/9781800560963_ColorImages.pdf" rel="nofollow" title="http://www.packtpub.com/sites/default/files/downloads/9781800560963_ColorImages.pdf">http://www.packtpub.com/sites/default/files/downloads/9781800560963_ColorImages.pdf</a></p> 
<p>本书约定</p> 
<p>本书中使用了许多文本约定。</p> 
<p>（1）有关代码块的设置如下所示：</p> 
<p>fn main() {<!-- --></p> 
<p>println!("Hello, time now is {:}", chrono::Utc::now());</p> 
<p>}</p> 
<p>（2）当我们希望让你注意代码块的特定部分时，相关行或项目采用粗体表示，示例如下：</p> 
<p>fn main() {<!-- --></p> 
<p>println!("Hello, time now is {:}", chrono::Utc::now());</p> 
<p>}</p> 
<p>（3）任何命令行输入或输出都采用如下所示的粗体代码形式：</p> 
<p>cargo new Chapter2 &amp;&amp; cd Chapter2</p> 
<p>（4）术语或重要单词采用中英文对照形式给出，在括号内保留其英文原文，示例如下：</p> 
<p>分词器或标记化器（tokenizer）是本项目系统设计中的一个模块，它从算术表达式中读取一个或多个字符并将其转换为一个标记（token）。换句话说，输入是一组字符，而输出则是一组标记。</p> 
<p>（5）本书使用了以下两个图标：</p> 
<p>表示警告或重要的注意事项。</p> 
<p>表示提示或小技巧。</p> 
<p>《Rust系统编程》全书速览</p> 
<p class="img-center"><img alt="" height="1200" src="https://images2.imgbox.com/d5/0d/2cFuf52a_o.png" width="750"></p> 
<p>结束语</p> 
<p>通过上面的介绍，想必大家都知道Rust是一种强大的系统编程语言，具备内存安全、高性能和并发性等关键特点，通过使用Rust进行系统编程，开发人员可以编写可靠、高效且安全的系统级应用程序。上文简要介绍了Rust系统编程的基本概念、核心特点、关键技术和实践案例，并展望了Rust系统编程的挑战和未来发展方向。希望本文对读者了解Rust系统编程的基本概念和应用场景有所帮助，并激发对Rust的兴趣和探索，通过介绍，读者可以深入了解Rust系统编程的更多细节，并将其应用于实际的系统级开发中，从而构建高性能、可靠和安全的软件系统。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/25e221be76ce205e8ace02e856af0af4/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">1146. 新的开始（prim算法，超级原点）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/0b33bd86aeba141c5a54cb8ea2670929/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">即将消失的五种编程语言？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>