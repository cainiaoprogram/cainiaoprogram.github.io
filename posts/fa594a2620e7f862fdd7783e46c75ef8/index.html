<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于单片机的智能扫地机设计 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于单片机的智能扫地机设计" />
<meta property="og:description" content="收藏和点赞，您的关注是我创作的动力
文章目录 概要 一、方案设计二、电路设计与理论分析2.1 硬件设计总体概要2.2 电源电路设计总控制电路的设计总电路设计 三、PCB板的设计与制作四、 结论五、 文章目录 概要 本文主要设计一个简单的智能扫地机。该扫地机的核心控制元器件是stc89c52，具有编写程序简单，成本普遍较低，功能较多，效率特别高等优点，因此在市场上得到很大的应用。除此之外，该扫地机能够自动避开障碍物、自动利用风机进行吸尘功能。该文介绍了扫地机系统的整体制作过程，它主要由单片机主控电路、单片机最小系统电路、红外光电避障电路、按键启动停止电路以及电机驱动电路组成。通过利用Altium Designer集成电路设计软件，进行原理图以及电路板的设计。其次通过KEIL编程软件为单片机输送程序，来控制整个扫地机的逻辑。
关键字：智能吸尘机；壁障；stc89c52单片机；L298N
一、方案设计 1.3.1 扫地机器人功能
（1）自动吸尘
（2）自动识别障碍
（3）自动转弯
1.3.2 功能参考
（1）电池供电：12V
（2）稳压输出：5v
二、电路设计与理论分析 2.1 硬件设计总体概要 将单片机最小系统电路组，按键启动停止电路，红外光电避障电路，直流无刷电机电路，风扇吸尘电路以及下载端电路围绕着stc89c52组合成一个系统，总框架如下2.1所示。
图2.1硬件系统总框图
2.2 电源电路设计 所有电子产品中，电源的起着关键的作用，如同一座房子的根据，只有电源稳定才能为后续提供更多功能作保证，输出的纹波趋向平滑则性能才能良好工作。该智能吸尘机人采用L298N电机驱动模块中的内置的L7805CV稳压芯片来获得稳定的5V电压.通过L298N和L7805CV主控芯片和稳压芯片结合，充分减小因电源不稳定的干扰，提高整体驱动电路的稳定。
L7805CV具备众多的高质量性能：相关抵偿的元器件可以省略不接；在内部设置了限流庇护的电路，它可以避免负载短路而导致损坏元器件；在内部还集成了功耗限制电路，可以阻拦损坏输出启动的晶体管。L7805CV可以输出4.75-5.25V的电压，静止状态的电流大约在4.2-8mA,最大的输出电流约在1.5A，纹波抑止比大概在78dB。其采用TO-220的封装形式，如下图2.2所示，从左到右分别为引脚1是输入端，引脚2是接地端，引脚3是输出端。
总控制电路的设计 ①　VCC,EA/Vpp的引脚端口，联通5V电源；
②　P32，P33控制启动停止按键；
③　P16、P17分别控制左右红外避障探头；
④　P30RXD，P31TXD为下载程序引脚；
⑤　P10、P11、P12、控制电机A驱动引脚ENA，AIN1和AIN2，P13、P14、P15、控制电机B驱动引脚BIN1,BIN2和ENB；
⑥　VSS即，接地引脚GND；
⑦　P20为吸尘小风扇控制信号；
⑧　第十八和第十九号引脚为晶振连接端口
⑨　第九号脚位为按键复位连接端口
总电路设计 总共分为七大模块L298N电机驱动模块，两个红外避障模块，复位电路模块，晶振电路模块，下载端口模块，启动停止按键模块，风扇吸尘模块。如下图2.5总控制电路图所示。
图2.5总控制电路
三、PCB板的设计与制作 Altium Designer拥有许多好用的功能，包含了原理图，PCB，3D仿真PCB，输出word文档等功能。它不仅拥有许多原器件库，还能够自己建立属于自己的原器件库，大大提高了电路设计的效率与质量。下面介绍以下主要元器件封装及整个PCB绘制过程。
1)STC89C52的DIP-40封装
首先建立一个原器件库并保存，可以利用工具选项中的器件导向，然后选择DIP的模式，输入单片机有引脚横向之间的距离为15.24毫米左右，列向之间的距离为2.54毫米左右;焊盘直径为15.24毫米左右以及2.54毫米左右，过孔的直径为33mil,采取的层为Multi-layer,线的宽度为8mil。这是一种快捷绘制封装的方法，不过一般适用于市面上比较典型的封装
四、 结论 便采用PCB的形式节省了众多电线。焊接过程中需要注意的是虚焊的问题，一个元器件未连接都可能导致失败。就这样，焊接过程中多注意，多加小心问题也边轻易可以解决。单片机中程序的编写尤为重要，开始自己对于C语言特别惧怕，于是去查看一些网络教程，渐渐地明白了一个单片机中程序所包含基本上都有头文件，端口声明，函数声明，子函数，主函数等。逐渐了解后开始查阅相关扫地机的程序，然后自己尝试着编写。开始编写的一塌糊涂，各种小问题不断，不过经过一段时间的学习不断地调试，逐渐有了清晰的思路。虽然有了清晰的思路，不过真正运行起来又是一大问题，编写过程中细节特别主要，输入法中英文不能混淆，冒号不能忘记，语句结构不能用错等各种细节，把这些都做好，最终便能解决各种问题。在硬件和程序都解决情况下，并不意味着就结束了，还有整个扫地机调试的过程。在运行过程中又会发现各种问题，比如避障能力弱，于是又去寻找解决方案，调整感应器位置，在不同环境测试。还有一个比较严重的问题是吸尘能力弱，也是当初选择小风机未能预测它的吸尘能力。整个产品设计之初到结束都是一个挑战，不断碰见问题，不断地去解决，让自己在各方面都有了一定的提升，明白一个产品的诞生不是这么容易的，想要做好一个产品，需要不断尝试，不断改进
五、 文章目录 目 录
1、概述 1
1.1 国内产品研究背景 1" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/fa594a2620e7f862fdd7783e46c75ef8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-02T23:12:41+08:00" />
<meta property="article:modified_time" content="2023-11-02T23:12:41+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于单片机的智能扫地机设计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <blockquote> 
 <p><code> 收藏和点赞，您的关注是我创作的动力</code><br> </p> 
 <div class="toc"> 
  <h4>文章目录</h4> 
  <ul><li><ul><li><a href="#_2" rel="nofollow">概要</a></li></ul> 
   </li><li><a href="#_13" rel="nofollow">一、方案设计</a></li><li><a href="#_24" rel="nofollow">二、电路设计与理论分析</a></li><li><ul><li><a href="#21__26" rel="nofollow">2.1 硬件设计总体概要</a></li><li><a href="#22__33" rel="nofollow">2.2 电源电路设计</a></li><li><a href="#_38" rel="nofollow">总控制电路的设计</a></li><li><a href="#_50" rel="nofollow">总电路设计</a></li></ul> 
   </li><li><a href="#PCB_56" rel="nofollow">三、PCB板的设计与制作</a></li><li><a href="#__63" rel="nofollow">四、 结论</a></li><li><a href="#__71" rel="nofollow">五、 文章目录</a></li></ul> 
 </div> 
 <p></p> 
</blockquote> 
<h3><a id="_2"></a>概要</h3> 
<p>  本文主要设计一个简单的智能扫地机。该扫地机的核心控制元器件是stc89c52，具有编写程序简单，成本普遍较低，功能较多，效率特别高等优点，因此在市场上得到很大的应用。除此之外，该扫地机能够自动避开障碍物、自动利用风机进行吸尘功能。该文介绍了扫地机系统的整体制作过程，它主要由单片机主控电路、单片机最小系统电路、红外光电避障电路、按键启动停止电路以及电机驱动电路组成。通过利用Altium Designer集成电路设计软件，进行原理图以及电路板的设计。其次通过KEIL编程软件为单片机输送程序，来控制整个扫地机的逻辑。</p> 
<p>关键字：智能吸尘机；壁障；stc89c52单片机；L298N</p> 
<h2><a id="_13"></a>一、方案设计</h2> 
<p>1.3.1 扫地机器人功能<br> （1）自动吸尘<br> （2）自动识别障碍<br> （3）自动转弯<br> 1.3.2 功能参考<br> （1）电池供电：12V<br> （2）稳压输出：5v</p> 
<h2><a id="_24"></a>二、电路设计与理论分析</h2> 
<h3><a id="21__26"></a>2.1 硬件设计总体概要</h3> 
<p>将单片机最小系统电路组，按键启动停止电路，红外光电避障电路，直流无刷电机电路，风扇吸尘电路以及下载端电路围绕着stc89c52组合成一个系统，总框架如下2.1所示。<br> <img src="https://images2.imgbox.com/75/5a/WO0LxnM3_o.png" alt="在这里插入图片描述"></p> 
<p>图2.1硬件系统总框图</p> 
<h3><a id="22__33"></a>2.2 电源电路设计</h3> 
<p>所有电子产品中，电源的起着关键的作用，如同一座房子的根据，只有电源稳定才能为后续提供更多功能作保证，输出的纹波趋向平滑则性能才能良好工作。该智能吸尘机人采用L298N电机驱动模块中的内置的L7805CV稳压芯片来获得稳定的5V电压.通过L298N和L7805CV主控芯片和稳压芯片结合，充分减小因电源不稳定的干扰，提高整体驱动电路的稳定。<br> L7805CV具备众多的高质量性能：相关抵偿的元器件可以省略不接；在内部设置了限流庇护的电路，它可以避免负载短路而导致损坏元器件；在内部还集成了功耗限制电路，可以阻拦损坏输出启动的晶体管。L7805CV可以输出4.75-5.25V的电压，静止状态的电流大约在4.2-8mA,最大的输出电流约在1.5A，纹波抑止比大概在78dB。其采用TO-220的封装形式，如下图2.2所示，从左到右分别为引脚1是输入端，引脚2是接地端，引脚3是输出端。</p> 
<h3><a id="_38"></a>总控制电路的设计</h3> 
<p>①　VCC,EA/Vpp的引脚端口，联通5V电源；<br> ②　P32，P33控制启动停止按键；<br> ③　P16、P17分别控制左右红外避障探头；<br> ④　P30RXD，P31TXD为下载程序引脚；<br> ⑤　P10、P11、P12、控制电机A驱动引脚ENA，AIN1和AIN2，P13、P14、P15、控制电机B驱动引脚BIN1,BIN2和ENB；<br> ⑥　VSS即，接地引脚GND；<br> ⑦　P20为吸尘小风扇控制信号；<br> ⑧　第十八和第十九号引脚为晶振连接端口<br> ⑨　第九号脚位为按键复位连接端口</p> 
<h3><a id="_50"></a>总电路设计</h3> 
<p>总共分为七大模块L298N电机驱动模块，两个红外避障模块，复位电路模块，晶振电路模块，下载端口模块，启动停止按键模块，风扇吸尘模块。如下图2.5总控制电路图所示。<br> <img src="https://images2.imgbox.com/d6/aa/cGCMYlS0_o.png" alt="在这里插入图片描述"></p> 
<p>图2.5总控制电路</p> 
<h2><a id="PCB_56"></a>三、PCB板的设计与制作</h2> 
<p>Altium Designer拥有许多好用的功能，包含了原理图，PCB，3D仿真PCB，输出word文档等功能。它不仅拥有许多原器件库，还能够自己建立属于自己的原器件库，大大提高了电路设计的效率与质量。下面介绍以下主要元器件封装及整个PCB绘制过程。<br> 1)STC89C52的DIP-40封装<br> 首先建立一个原器件库并保存，可以利用工具选项中的器件导向，然后选择DIP的模式，输入单片机有引脚横向之间的距离为15.24毫米左右，列向之间的距离为2.54毫米左右;焊盘直径为15.24毫米左右以及2.54毫米左右，过孔的直径为33mil,采取的层为Multi-layer,线的宽度为8mil。这是一种快捷绘制封装的方法，不过一般适用于市面上比较典型的封装<br> <img src="https://images2.imgbox.com/01/37/MoXVh6Y5_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="__63"></a>四、 结论</h2> 
<p>便采用PCB的形式节省了众多电线。焊接过程中需要注意的是虚焊的问题，一个元器件未连接都可能导致失败。就这样，焊接过程中多注意，多加小心问题也边轻易可以解决。单片机中程序的编写尤为重要，开始自己对于C语言特别惧怕，于是去查看一些网络教程，渐渐地明白了一个单片机中程序所包含基本上都有头文件，端口声明，函数声明，子函数，主函数等。逐渐了解后开始查阅相关扫地机的程序，然后自己尝试着编写。开始编写的一塌糊涂，各种小问题不断，不过经过一段时间的学习不断地调试，逐渐有了清晰的思路。虽然有了清晰的思路，不过真正运行起来又是一大问题，编写过程中细节特别主要，输入法中英文不能混淆，冒号不能忘记，语句结构不能用错等各种细节，把这些都做好，最终便能解决各种问题。在硬件和程序都解决情况下，并不意味着就结束了，还有整个扫地机调试的过程。在运行过程中又会发现各种问题，比如避障能力弱，于是又去寻找解决方案，调整感应器位置，在不同环境测试。还有一个比较严重的问题是吸尘能力弱，也是当初选择小风机未能预测它的吸尘能力。整个产品设计之初到结束都是一个挑战，不断碰见问题，不断地去解决，让自己在各方面都有了一定的提升，明白一个产品的诞生不是这么容易的，想要做好一个产品，需要不断尝试，不断改进</p> 
<h2><a id="__71"></a>五、 文章目录</h2> 
<p>目 录<br> 1、概述 1<br> 1.1 国内产品研究背景 1<br> 1.2 研究的目的和意义 1<br> 1.3 课题的主要内容 2<br> 1.3.1 扫地机器人功能 2<br> 1.3.2 性能指标 2<br> 1.3.3 论文的主要内容 2<br> 2、电路设计与理论分析 3<br> 2.1 硬件电路设计总概要 3<br> 2.2 电源电路原理 4<br> 2.3 总控制电路 4<br> 2.3.1 STC89C52单片机简介 4<br> 2.3.2 总控制电路的设计 6<br> 2.4 复位电路模块 7<br> 2.5 晶振电路模块 8<br> 2.6 启动停止按键模块 9<br> 2.7 下载口 9<br> 2.8 风扇吸尘电路 9<br> 2.9光电传感模块电路设计 11<br> 2.10电机驱动电路设计 12<br> 3、PCB板的设计与制作. 17<br> 3.1 PCB板的设计 17<br> 3.2 PCB板的制作 19<br> 4、电路焊接与调试 20<br> 4.1 电路焊接 20<br> 4.2 红外避障调试 20<br> 4.3 风扇吸尘电路调试 20<br> 5、系统程序的设计 21<br> 5.1 C语言与汇编语言的优缺点 21<br> 5.2 系统程序设计 23<br> 5.2.1 程序的设计 23<br> 5.2.2 程序的初始化 24<br> 5.2.3 延时子程序 25<br> 5.2.4 中断函数 25<br> 5.2.5 子函数 26<br> 5.2.6主函数 28<br> 6、整机调试与功能介绍 29<br> 6.1 存在的问题与解决方案 29<br> 6.1.1 传感器缺陷 29<br> 6.1.2 电池缺陷 29<br> 6.1.3 吸尘器功率缺陷 29<br> 7、总结 30<br> 参考文献 31<br> 致谢 32<br> 附 录 33</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d988570020000f0bb9f4498ca2b03dae/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">跨域获取 Headers 中的 Content-Disposition</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e22783929b74b40254e33a5d3ab43115/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">安装vscode以及vue必备插件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>