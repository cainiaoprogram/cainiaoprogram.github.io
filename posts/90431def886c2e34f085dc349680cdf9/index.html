<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>python 深度学习 记录遇到的报错问题10 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="python 深度学习 记录遇到的报错问题10" />
<meta property="og:description" content="本篇继python 深度学习 解决遇到的报错问题9_module &#39;d2l.torch&#39; has no attribute &#39;train_ch3-CSDN博客
一、CUDA error: no kernel image is available for execution on the device CUDA kernel errors might be asynchronously reported at some other API call,so the stacktrace below might be incorrect. For debugging consider passing CUDA_LAUNCH_BLOCKING=1. 警告：
然后模型训练的时候，报错： 原因：为什么把警告打印出来，是因为警告可以让我们了解一些有用信息。首先警告里的内容不可忽略，翻译过来就是NVIDIA RTX A4000与CUDA功能sm_86不兼容当前的PyTorch安装。当前的PyTorch安装支持CUDA功能sm_37 sm_50 sm_60 sm_70。说白了就是CUDA和pytorch版本不一致。
解决方法：安装的torch应该是cpu版本的，需要换成gpu版本的。
验证CUDA设备的可用性：使用torch.cuda.is_available()检查CUDA是否可用，并使用torch.cuda.device_count()检查可用的CUDA设备数量。确保代码正常选择并使用可用的CUDA设备。
二、torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 4.86 GiB. GPU 0 has a total capacty of 15." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/90431def886c2e34f085dc349680cdf9/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-02T14:56:22+08:00" />
<meta property="article:modified_time" content="2024-01-02T14:56:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">python 深度学习 记录遇到的报错问题10</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <blockquote> 
 <p>本篇继<a href="https://blog.csdn.net/qq_45956730/article/details/134217954?spm=1001.2014.3001.5501" title="python 深度学习 解决遇到的报错问题9_module 'd2l.torch' has no attribute 'train_ch3-CSDN博客">python 深度学习 解决遇到的报错问题9_module 'd2l.torch' has no attribute 'train_ch3-CSDN博客</a></p> 
</blockquote> 
<h2>一、CUDA error: no kernel image is available for execution on the device CUDA kernel errors might be asynchronously reported at some other API call,so the stacktrace below might be incorrect. For debugging consider passing CUDA_LAUNCH_BLOCKING=1.</h2> 
<p>警告：</p> 
<p><img alt="" height="159" src="https://images2.imgbox.com/15/f8/DAeJx3Tk_o.png" width="1200"></p> 
<p>然后模型训练的时候，报错： </p> 
<p><img alt="" height="104" src="https://images2.imgbox.com/f2/a4/oXyL9F6A_o.png" width="1200"></p> 
<p>原因：为什么把警告打印出来，是因为警告可以让我们了解一些有用信息。首先警告里的内容不可忽略，翻译过来就是NVIDIA RTX A4000与CUDA功能sm_86不兼容当前的PyTorch安装。当前的PyTorch安装支持CUDA功能sm_37 sm_50 sm_60 sm_70。说白了就是CUDA和pytorch版本不一致。</p> 
<p>解决方法：安装的torch应该是cpu版本的，需要换成gpu版本的。</p> 
<p>验证CUDA设备的可用性：使用<code>torch.cuda.is_available()</code>检查CUDA是否可用，并使用<code>torch.cuda.device_count()</code>检查可用的CUDA设备数量。确保代码正常选择并使用可用的CUDA设备。</p> 
<p><img alt="" height="118" src="https://images2.imgbox.com/01/b9/yJgFKm3X_o.png" width="397"></p> 
<p></p> 
<h2>二、torch.cuda.OutOfMemoryError: CUDA out of memory. Tried to allocate 4.86 GiB. GPU 0 has a total capacty of 15.73 GiB of which 3.04 GiB is free. Including non-PyTorch memory, this process has 12.67 GiB memory in use. Of the allocated memory 11.10 GiB is all</h2> 
<p>报错：</p> 
<p><img alt="" height="73" src="https://images2.imgbox.com/04/27/xUdu0VE9_o.png" width="1200"></p> 
<p>原因：这个错误信息表明PyTorch应用程序在尝试分配额外的GPU内存时发生了CUDA内存不足错误。不知道为什么在参数前面加上<code>CUDA_VISIBLE_DEVICES=0,1,2,3</code>也还是会报显存不够的错误.。</p> 
<p><img alt="" height="40" src="https://images2.imgbox.com/98/7b/zLOFKRl9_o.png" width="465"></p> 
<p>解决方法：未解决。</p> 
<p></p> 
<h2>三、RuntimeError: CUDA error: invalid device ordinal CUDA kernel errors might be asynchronously reported at some other API call, so the stacktrace below might be incorrect For debugging consider passing CUDA_LAUNCH_BLOCKING=1. Compile with `TORCH_USE_CUDA_DSA` to enable device-side assertions.</h2> 
<p>报错：</p> 
<p><img alt="" height="122" src="https://images2.imgbox.com/bd/03/6M5U8zV6_o.png" width="1200"></p> 
<p>解决方法：未解决。</p> 
<p></p> 
<h2>四、RuntimeError：Expected floating point type for target with class probabilities, got Long</h2> 
<p>报错：计算损失loss = loss_fn(outputs, targets)的时候，</p> 
<p><img alt="" height="203" src="https://images2.imgbox.com/d2/88/jatElSLP_o.png" width="1200"></p> 
<p>原因：有类别概率的目标的预期浮点类型，但是是Long。大概意思就是输入的标签值是浮点数，但实际上所获得的是<a href="https://so.csdn.net/so/search?q=Long%E7%B1%BB%E5%9E%8B&amp;spm=1001.2101.3001.7020" title="Long类型">Long类型</a>的值。</p> 
<p>解决方法：</p> 
<p><img alt="" height="171" src="https://images2.imgbox.com/e3/60/1E5Va88B_o.png" width="1168"></p> 
<p>重新运行代码，</p> 
<p><img alt="" height="198" src="https://images2.imgbox.com/0b/71/P0aVz8Vr_o.png" width="273"></p> 
<p>OK，问题解决。</p> 
<p></p> 
<h2>五、ValueError: invalid literal for int() with base 10</h2> 
<p>报错：<img alt="" height="64" src="https://images2.imgbox.com/5e/8e/xEQ4qUse_o.png" width="831"></p> 
<p>原因：这种错误是指类型转换错误，int()函数是可以将字符串转换为整数，但是这个字符串如果是带小数的，比如1.1，3.14之类,这个时候如果你再用int(1.1)转换得话，就会出现上面报的错误。</p> 
<p>解决方法：先将字符串转换为浮点数，再将浮点数转换为整数。</p> 
<pre><code>int(float(i))</code></pre> 
<p>OK，问题解决。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/060d146721dc7b16697e65db4353cc91/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">人工智能论文通用创新点(持续更新中...)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/261c1e829c0806b1aef0c51d8db161a2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Flutter 中使用 ICON</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>