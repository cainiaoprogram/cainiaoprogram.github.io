<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AStyle代码格式工具在source insight中的使用 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AStyle代码格式工具在source insight中的使用" />
<meta property="og:description" content="一、AStyle下载路径
Astyle为开源项目，支持C/C&#43;&#43;和java的代码格式化
Home Page: http://astyle.sourceforge.net/
Project Page: http://sourceforge.net/projects/astyle/
下载最新Windows版本的AStyle，解压到你指定位置，笔者解压到D:\program files下的。
二、Source Insight中安装Astyle工具
如：增加Astyle命令，格式化C/C&#43;&#43;文件
1. 打开source insight中的一个工程，选择Options--Custom Commands命令
2. 点击add，添加新的命令Astyle。
1）ansi C 格式化当前文件的命令为
其中，Run中输入astyle的命令参数：&#34;D:\program files\AStyle\bin\AStyle.exe&#34; --style=ansi-s4 -S -N -L -m0 -M40 --convert-tabs --suffix=.pre %f
2）ansi C 格式化某个目录下所有文件的命令为：
&#34;D:\program files\AStyle\bin\AStyle.exe&#34; Z:\LocalProject\DEZHOU3716/*.c Z:\LocalProject\DEZHOU3716/*.h --style=ansi -s4 -S -N -L -m0 -M40 --recursive --convert-tabs --suffix=.pre %f
3. 添加menu菜单，点击“menu”，选择menu--View，然后INSERT。这样就可以在菜单栏View上多一个命令选项。
4. 添加快捷键，点击&#34;Assigh New Key&#34;，输入快捷键：Ctrl&#43;Alt&#43;C。以后格式化C/C&#43;&#43;文件，就可以直接使用快捷键了。
同理，新建java格式化命令，Astyle参数为
C:\AStyle\bin\AStyle.exe --style=java -s4 -S -N -L -m0 -M40 --suffix=none --convert-tabs %f" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/99e09ba223dbd992e2de6e58d681b9ec/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-08-31T09:57:49+08:00" />
<meta property="article:modified_time" content="2012-08-31T09:57:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AStyle代码格式工具在source insight中的使用</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><span style="font-size:14px">一、AStyle下载路径</span></p> 
<p><span style="font-size:14px">　　Astyle为开源项目，支持C/C++和java的代码格式化</span></p> 
<p><span style="font-size:14px">　　Home Page: </span><a href="http://astyle.sourceforge.net/" rel="nofollow"><span style="font-size:14px">http://astyle.sourceforge.net/</span></a></p> 
<p><span style="font-size:14px">　　Project Page: </span><a href="http://sourceforge.net/projects/astyle/" rel="nofollow"><span style="font-size:14px">http://sourceforge.net/projects/astyle/</span></a></p> 
<p><span style="font-size:14px">　　下载最新Windows版本的AStyle，解压到你指定位置，笔者解压到D:\program files下的。</span></p> 
<p><span style="font-size:14px">二、Source Insight中安装Astyle工具</span></p> 
<p><span style="font-size:14px">　　如：增加Astyle命令，格式化C/C++文件</span></p> 
<p>　<span style="font-size:18px; color:#ff0000">　1. 打开source insight中的一个工程，选择Options--Custom Commands命令</span></p> 
<p><img alt="" src="https://images2.imgbox.com/9e/bd/jEDBqhgQ_o.jpg"></p> 
<p>    <span style="font-size:18px; color:#ff0000">     2. 点击add，添加新的命令Astyle。</span></p> 
<p>        <span style="color:#3366ff">   <strong><span style="font-size:14px; background-color:#ffffff"> 1）ansi C 格式化当前文件的命令为</span></strong></span></p> 
<p>　      　<span style="font-size:14px">其中，Run中输入astyle的命令参数："D:\program files\AStyle\bin\AStyle.exe" --style=<span style="color:#ff0000">ansi</span>-s4 -S -N -L -m0 -M40 --convert-tabs --suffix=.pre %f</span></p> 
<p><img alt="" src="https://images2.imgbox.com/18/f5/orvidI2G_o.jpg"></p> 
<p> </p> 
<p><strong>          <span style="font-size:14px"><span style="color:#33ccff"> </span><span style="color:#3366ff"> 2）ansi C 格式化某个目录下所有文件的命令为</span><span style="color:#000000"><span style="font-size:14px">：</span></span></span></strong></p> 
<p><strong><span style="font-size:14px"><span style="color:#000000"><span style="font-size:14px">            "D:\program files\AStyle\bin\AStyle.exe"</span> Z:\LocalProject\DEZHOU3716/*.c Z:\LocalProject\DEZHOU3716/*.h --style=ansi -s4 -S -N -L -m0 -M40 --recursive --convert-tabs --suffix=.pre %f</span></span></strong></p> 
<p><img alt="" src="https://images2.imgbox.com/9c/7c/lQvOP0Du_o.jpg"></p> 
<p><span style="font-size:14px; color:#ff0000">3. 添加menu菜单，点击“menu”，选择menu--View，然后INSERT。这样就可以在菜单栏View上多一个命令选项。</span></p> 
<p><img alt="" src="https://images2.imgbox.com/b4/90/X6rPeXWu_o.jpg"></p> 
<p><span style="font-size:14px; color:#ff0000">4. 添加快捷键，点击"Assigh New Key"，输入快捷键：Ctrl+Alt+C。以后格式化C/C++文件，就可以直接使用快捷键了。</span></p> 
<p> </p> 
<p><img alt="" src="https://images2.imgbox.com/d4/8a/cp8kH1Bh_o.jpg"></p> 
<p><span style="font-size:18px; color:#3333ff">同理，新建java格式化命令，Astyle参数为</span></p> 
<p><span style="font-size:18px; color:#3333ff">　　C:\AStyle\bin\AStyle.exe --style=java -s4 -S -N -L -m0 -M40 --suffix=none --convert-tabs %f</span></p> 
<p><span style="font-size:18px">三、其他常用的参数：</span></p> 
<p> </p> 
<table border="0" cellspacing="0" cellpadding="0"><tbody><tr><td width="120"> <p align="left">-C</p> </td><td width="549"> <p align="left">类中public,pretected,private关键字，一个tab的缩进</p> </td></tr><tr><td width="120"> <p align="left">-S</p> </td><td width="549"> <p align="left">switch中case关键字，一个tab的缩进</p> </td></tr><tr><td width="120"> <p align="left">-K</p> </td><td width="549"> <p align="left">switch中case关键字，无缩进</p> </td></tr><tr><td width="120"> <p align="left">-N</p> </td><td width="549"> <p align="left">被namespace包含的block，一个tab的缩进</p> </td></tr><tr><td width="120"> <p align="left">-w</p> </td><td width="549"> <p align="left">格式化多行的宏定义</p> </td></tr><tr><td width="120"> <p align="left">-c</p> </td><td width="549"> <p align="left">将tab转化为对应个数的空格</p> </td></tr><tr><td width="120"> <p align="left">--mode=c</p> </td><td width="549"> <p align="left">格式化的是C/C++的源文件或者头文件（缺省值）</p> </td></tr><tr><td width="120"> <p align="left">--mode=java</p> </td><td width="549"> <p align="left">格式化的是JAVA的源文件</p> </td></tr><tr><td width="120"> <p align="left">--suffix=####</p> </td><td width="549"> <p align="left">将原始文件保存为“####”后缀，而不是“orig”</p> </td></tr><tr><td width="120"> <p align="left">--suffix=none</p> </td><td width="549"> <p align="left">不保存原始文件</p> </td></tr><tr><td width="120"> <p align="left">--exclude=####</p> </td><td width="549"> <p align="left">优化时不包含“####”文件或目录</p> </td></tr><tr><td width="120"> <p align="left">-Z</p> </td><td width="549"> <p align="left">修改后保持文件的修改时间不变</p> </td></tr><tr><td width="120"> <p align="left">-X</p> </td><td width="549"> <p align="left">将错误信息输出到标准输出设备（stdout），而不是标准错误设备（stderr）</p> </td></tr><tr><td width="120"> <p align="left">-Q</p> </td><td width="549"> <p align="left">只显示格式化前后发生变化的文件</p> </td></tr><tr><td width="120"> <p align="left">-q</p> </td><td width="549"> <p align="left">不输出任何信息</p> </td></tr><tr><td width="120"> <p align="left">-z1</p> </td><td width="549"> <p align="left">使用windows版本的回车符(CRLF)</p> </td></tr><tr><td width="120"> <p align="left">-z2</p> </td><td width="549"> <p align="left">使用linux版本的回车符(LF)</p> </td></tr><tr><td width="120"> <p align="left">--help</p> </td><td width="549"> <p align="left">显示帮助信息</p> </td></tr><tr><td width="120"> <p align="left">-v</p> </td><td width="549"> <p align="left">显示版本信息</p> </td></tr></tbody></table> 
<p></p> 
<p><span style="font-size:18px; color:#3333ff"></span> </p> 
<p><span style="font-size:14px">基于V2.02版本，astyle主要支持的参数有：</span></p> 
<p><span style="font-size:14px"><strong>Style-格式配置：</strong><br> 最常用的就是ansi或或kr格式，实际上，kr，stroustrup和linux这三种格式是非常接近的了，试了好几个文件，只有非常微小的区别，可以忽略不计。</span></p> 
<p> </p> 
<table border="0" cellspacing="0" cellpadding="0" style="width:786px; height:523px"><tbody><tr><td style="background:silver"> <p align="left">stype<br> 选项</p> </td><td style="background:silver"> <p align="left">--style=allman<br> --style=ansi<br> --style=bsd<br> --style=break<br> -A1</p> </td><td style="background:silver"> <p align="left">--style=java<br> --style=attach<br> -A2</p> </td><td style="background:silver"> <p align="left">--style=kr<br> --style=k&amp;r<br> --style=k/r<br> -A3</p> </td><td style="background:silver"> <p align="left">--style=stroustrup<br> -A4</p> </td><td style="background:silver"> <p align="left">--style=whitesmith<br> -A5</p> </td><td style="background:silver"> <p align="left">--style=banner<br> -A6</p> </td></tr><tr><td style="background:#969696"> <p align="left">代码风格</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar)<br>     {<!-- --><br>         bar();<br>         return 1;<br>     }<br>     else<br>     {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo() {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>     } else {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>     } else {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>     } else {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br>     {<!-- --><br>     if (isBar)<br>         {<!-- --><br>         bar();<br>         return 1;<br>         }<br>     else<br>         {<!-- --><br>         return 0;<br>         }<br>     }</p> </td><td> <p align="left">int Foo() {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>         }<br>     else {<!-- --><br>         return 0;<br>         }<br>     }</p> </td></tr><tr><td style="background:silver"> <p align="left">stype<br> 选项</p> </td><td style="background:silver"> <p align="left">--style=gnu<br> -A7</p> </td><td style="background:silver"> <p align="left">--style=linux<br> -A8</p> </td><td style="background:silver"> <p align="left">--style=horstmann<br> -A9</p> </td><td style="background:silver"> <p align="left">--style=1tbs<br> -A10</p> </td><td style="background:silver"> <p align="left">--style=pico<br> -A11</p> </td><td style="background:silver"> <p align="left">--style=lisp<br> -A12</p> </td></tr><tr><td style="background:#969696"> <p align="left">代码风格</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar)<br>         {<!-- --><br>             bar();<br>             return 1;<br>         }<br>     else<br>         {<!-- --><br>             return 0;<br>         }<br> }</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>     } else {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br> {   if (isBar)<br>     {   bar();<br>         return 1;<br>     }<br>     else<br>     {   return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br> {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1;<br>     } else {<!-- --><br>         return 0;<br>     }<br> }</p> </td><td> <p align="left">int Foo()<br> {   if (isBar)<br>     {   bar();<br>         return 1; }<br>     else<br>         return 0; }</p> </td><td> <p align="left">int Foo() {<!-- --><br>     if (isBar) {<!-- --><br>         bar();<br>         return 1; }<br>     else<br>         return 0; }</p> </td></tr></tbody></table> 
<p></p> 
<p> </p> 
<p> </p> 
<p><span style="font-size:14px">参考文档：</span></p> 
<p><span style="font-size:14px">1. </span><a href="http://www.cnblogs.com/zhaoshixin/archive/2011/12/02/2272076.html" rel="nofollow"><span style="font-size:14px">http://www.cnblogs.com/zhaoshixin/archive/2011/12/02/2272076.html</span></a></p> 
<p><span style="font-size:14px">2. </span><a href="http://astyle.sourceforge.net/astyle.html" rel="nofollow"><span style="font-size:14px">http://astyle.s<span style="color:#000000">o</span>urceforge.net/astyle.html</span></a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/86c7f65e8333d9aef7beb6cd24eb9c35/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">win7 安装程序无法创建新的系统分区，也无法定位现有系统分区</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3db2e07334b1eb19f138fdbb5317e078/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于客户端（浏览器）证书身份认证的方法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>