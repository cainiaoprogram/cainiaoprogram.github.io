<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>php Carbon 中文文档 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="php Carbon 中文文档" />
<meta property="og:description" content="我只是个搬运工 0.0 [TOC]
Introduction Carbon 是php的日期处理类库（A simple PHP API extension for DateTime.）。
The Carbon class is inherited from the PHP DateTime class. Carbon has all of the functions inherited from the base DateTime class. This approach allows you to access the base functionality if you see anything missing in Carbon but is there in DateTime.
Carbon 继承了PHP的 Datetime 类，所以 Carbon 中没有涉及到的，但在 Datetime 中已经实现的方法都是可以使用的。
有点类似于 JavaScript 中的 Moment.js，Laravel 中的 Carbon 就是这货。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a7efaa43bbe90318853ad25f06c57cc0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-10-25T12:18:13+08:00" />
<meta property="article:modified_time" content="2016-10-25T12:18:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">php Carbon 中文文档</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>我只是个搬运工 0.0 <br> [TOC]</p> 
<h2 id="introduction">Introduction</h2> 
<p><a href="http://carbon.nesbot.com/" rel="nofollow">Carbon</a> 是php的日期处理类库（A simple PHP API extension for DateTime.）。</p> 
<blockquote> 
 <p>The Carbon class is inherited from the PHP DateTime class. <br> Carbon has all of the functions inherited from the base DateTime class. This approach allows you to access the base functionality if you see anything missing in Carbon but is there in DateTime.</p> 
</blockquote> 
<p>Carbon 继承了PHP的 <a href="http://php.net/manual/zh/class.datetime.php" rel="nofollow">Datetime</a> 类，所以 Carbon 中没有涉及到的，但在 <a href="http://php.net/manual/zh/class.datetime.php" rel="nofollow">Datetime</a> 中已经实现的方法都是可以使用的。</p> 
<blockquote> 
 <p>有点类似于 JavaScript 中的 <a href="http://momentjs.cn/" rel="nofollow">Moment.js</a>，<a href="https://laravel.com/" rel="nofollow">Laravel</a> 中的 <strong>Carbon</strong> 就是这货。</p> 
</blockquote> 
<h2 id="instantiation">Instantiation</h2> 
<p><strong>选择适合的Carbon版本：</strong></p> 
<ul><li>目前 Carbon 1.x 仅版本适用于php 5.3以上的版本（1.x is compatible with PHP 5.3+.）</li><li>Carbon 2.x 也可以使用了，但是要求php 5.4以上的版本（A 2.x version is in the works and will require PHP 5.4+.）</li></ul> 
<p><strong>选择合适的安装方式：</strong></p> 
<ul><li><p><a href="http://carbon.nesbot.com/docs/" rel="nofollow">compsoer</a>安装（最简单并且推荐的方法）：</p> <p>命令行安装 </p> <pre class="prettyprint"><code class="language-php hljs ">$ composer <span class="hljs-keyword">require</span> nesbot/carbon</code></pre> <p>编辑composer.json文件：</p> <pre class="prettyprint"><code class="language-php hljs ">{
   <span class="hljs-string">"require"</span>: {
      <span class="hljs-string">"nesbot/carbon"</span>: <span class="hljs-string">"*"</span>
   }
}</code></pre></li><li><a href="https://github.com/briannesbitt/Carbon/blob/master/src/Carbon/Carbon.php">直接下载</a> Carbon.php安装到项目中:</li></ul> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">'path/to/Carbon.php'</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Carbon</span>\<span class="hljs-title">Carbon</span>;

printf(<span class="hljs-string">"Now: %s"</span>, Carbon::now());</code></pre> 
<h2 id="文档">文档</h2> 
<h3 id="introduction-1">Introduction</h3> 
<p><strong>Carbon</strong> 是php的日期处理类库，类似于 JavaScript中的<a href="http://momentjs.cn/" rel="nofollow">Moment.js</a> <br> 以下照搬 <a href="http://carbon.nesbot.com" rel="nofollow">Carbon</a> 内容。</p> 
<blockquote> 
 <p>You can see from the code snippet above that the Carbon class is declared in the Carbon namespace. You need to import the namespace to use Carbon without having to provide its fully qualified name each time.</p> 
</blockquote> 
<p><strong>Carbon</strong> 类声明在 <strong>Carbon</strong> 命名空间下，可以通过引入命名空间的方式来代替每次输入完整的类名。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Carbon</span>\<span class="hljs-title">Carbon</span>;</code></pre> 
<blockquote> 
 <p>Note: I live in <strong>Ottawa, Ontario, Canada</strong> and if the timezone is not specified in the examples then the default of <strong>‘America/Toronto’</strong> is to be assumed. Typically Ottawa is <strong>-0500</strong> but when daylight savings time is on we are <strong>-0400</strong>.</p> 
</blockquote> 
<p>Note:如果在使用 <strong>Carbon</strong> 时，没有专门设置时区的话，默认使用 <em>America/Toronto</em> 的时区。</p> 
<blockquote> 
 <p>Special care has been taken to ensure <strong>timezones</strong> are handled correctly, and where appropriate are based on the underlying <strong>DateTime</strong> implementation. For example all comparisons are done in <strong>UTC</strong> or in the timezone of the <strong>datetime</strong> being used.</p> 
</blockquote> 
<p>要特别留意是否使用了正确的时区，比如 <strong>Carbon</strong> 的所有差异比较都使用 <strong>UTC</strong> 或者系统设定的时区。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$dtToronto</span> = Carbon::createFromDate(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'America/Toronto'</span>);
<span class="hljs-variable">$dtVancouver</span> = Carbon::createFromDate(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'America/Vancouver'</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dtVancouver</span>-&gt;diffInHours(<span class="hljs-variable">$dtToronto</span>); <span class="hljs-comment">// 3</span></code></pre> 
<blockquote> 
 <p>Also is comparisons are done in the timezone of the provided Carbon instance. For example my current timezone is -13 hours from Tokyo. So <strong>Carbon::now(‘Asia/Tokyo’)-&gt;isToday()</strong> would only return false for any time past 1 PM my time. This doesn’t make sense since <strong>now()</strong> in tokyo is always today in Tokyo. Thus the comparison to <strong>now()</strong> is done in the same timezone as the current instance.</p> 
</blockquote> 
<p>以上进行的时间比较是在提供的 <strong>Carbon</strong> 实例所在的时区下完成的。例如作者所在的时区为 东京时间减13 小时，因此在下午一点后。<strong>Carbon::now(‘Asia/Tokyo’)-&gt;isToday()</strong> 将会返回 <em>false</em> ，如果在调用 <strong>now()</strong> 时设置时区为东京时区，接下来的操作都使用东京时区是说不过去的。所以在与 <strong>now()</strong> 创建的实例进行比较时，默认是在当前时区下完成的。</p> 
<h3 id="instantiation-1">Instantiation</h3> 
<p>There are several different methods available to create a new instance of <strong>Carbon</strong> . First there is a constructor. It overrides the <a href="http://www.php.net/manual/en/datetime.construct.php" rel="nofollow">parent constructor</a> and you are best to read about the first parameter from the PHP manual and understand the <a href="http://php.net/manual/en/datetime.formats.php" rel="nofollow">date/time string formats</a> it accepts. You’ll hopefully find yourself rarely using the constructor but rather relying on the explicit static methods for improved readability. <br> 有好几种方式可以创建 <strong>Carbon</strong> 的实例，但是大家应该更倾向于通过这种语义化的静态方法来实现。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$carbon</span> = <span class="hljs-keyword">new</span> Carbon();                  <span class="hljs-comment">// equivalent to Carbon::now()</span>
<span class="hljs-variable">$carbon</span> = <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'first day of January 2008'</span>, <span class="hljs-string">'America/Vancouver'</span>);
<span class="hljs-keyword">echo</span> get_class(<span class="hljs-variable">$carbon</span>);                 <span class="hljs-comment">// 'Carbon\Carbon'</span>
<span class="hljs-variable">$carbon</span> = Carbon::now(-<span class="hljs-number">5</span>);</code></pre> 
<blockquote> 
 <p>You’ll notice above that the timezone (2nd) parameter was passed as a string and an integer rather than a <strong>\DateTimeZone</strong> instance. All DateTimeZone parameters have been augmented so you can pass a DateTimeZone instance, string or integer offset to GMT and the timezone will be created for you. This is again shown in the next example which also introduces the <strong>now()</strong> function.</p> 
</blockquote> 
<p>值得注意的是，<strong>Carbon</strong> 构造器的第二个参数被增强到了不仅限于是 <strong><a href="http://php.net/manual/en/class.datetimezone.php" rel="nofollow">\DateTimeZone</a></strong> 实例，还可以是 <em>String</em>、<em>Integer</em> (表示相对于GMT的偏移值)。举个栗子来说明下 <strong>now()</strong> 方法。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$now</span> = Carbon::now();

<span class="hljs-variable">$nowInLondonTz</span> = Carbon::now(<span class="hljs-keyword">new</span> DateTimeZone(<span class="hljs-string">'Europe/London'</span>));

<span class="hljs-comment">// or just pass the timezone as a string</span>
<span class="hljs-variable">$nowInLondonTz</span> = Carbon::now(<span class="hljs-string">'Europe/London'</span>);

<span class="hljs-comment">// or to create a date with a timezone of +1 to GMT during DST then just pass an integer</span>
<span class="hljs-keyword">echo</span> Carbon::now(<span class="hljs-number">1</span>)-&gt;tzName;             <span class="hljs-comment">// Europe/London</span></code></pre> 
<blockquote> 
 <p>If you really love your fluid method calls and get frustrated by the extra line or ugly pair of brackets necessary when using the constructor you’ll enjoy the parse method.</p> 
</blockquote> 
<p>你将会喜欢上用 <strong>parse()</strong> 方法来代替原有繁琐的构造方式</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">echo</span> (<span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'first day of December 2008'</span>))-&gt;addWeeks(<span class="hljs-number">2</span>);     <span class="hljs-comment">// 2008-12-15 00:00:00</span>
<span class="hljs-keyword">echo</span> Carbon::parse(<span class="hljs-string">'first day of December 2008'</span>)-&gt;addWeeks(<span class="hljs-number">2</span>);    <span class="hljs-comment">// 2008-12-15 00:00:00</span></code></pre> 
<blockquote> 
 <p>To accompany <strong>now()</strong> , a few other static instantiation helpers exist to create widely known instances. The only thing to really notice here is that <strong>today()</strong> , <strong>tomorrow()</strong> and <strong>yesterday()</strong> , besides behaving as expected, all accept a timezone parameter and each has their time value set to <em>00:00:00</em>.</p> 
</blockquote> 
<p>类似 <strong>now()</strong> 这样直接返回 <strong>Carbon</strong> 实例的方法还有 <strong>today()</strong>, <strong>tomorrow()</strong>,<strong>yesterday()</strong>，他们都接受一个 timezone 类型的参数，最后得到的结果时间部分都是 <em>00:00:00</em></p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$now</span> = Carbon::now();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$now</span>;                               <span class="hljs-comment">// 2016-06-24 15:18:34</span>
<span class="hljs-variable">$today</span> = Carbon::today();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$today</span>;                             <span class="hljs-comment">// 2016-06-24 00:00:00</span>
<span class="hljs-variable">$tomorrow</span> = Carbon::tomorrow(<span class="hljs-string">'Europe/London'</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$tomorrow</span>;                          <span class="hljs-comment">// 2016-06-25 00:00:00</span>
<span class="hljs-variable">$yesterday</span> = Carbon::yesterday();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$yesterday</span>;                         <span class="hljs-comment">// 2016-06-23 00:00:00</span></code></pre> 
<blockquote> 
 <p>The next group of static helpers are the <strong>createXXX()</strong> helpers. Most of the static create functions allow you to provide as many or as few arguments as you want and will provide default values for all others. Generally default values are the current date, time or timezone. Higher values will wrap appropriately but invalid values will throw an <a href="http://php.net/manual/en/class.invalidargumentexception.php" rel="nofollow">InvalidArgumentException</a> with an informative message. The message is obtained from an <a href="http://php.net/manual/en/datetime.getlasterrors.php" rel="nofollow">DateTime::getLastErrors()</a> call.</p> 
</blockquote> 
<p>下面是一些其他的 <strong>creatXXX()</strong> 形式的静态方法。绝大多数静态方法的参数是可传可不传的，如果不传的话会使用方法预设的默认值，这些预设值一般都是针对当前日期、时间、时区的。如果为传递某个必要参数，会抛出一个 <a href="http://php.net/manual/en/class.invalidargumentexception.php" rel="nofollow">InvalidArgumentException</a> 类型的异常，用 <a href="http://php.net/manual/en/datetime.getlasterrors.php" rel="nofollow">DateTime::getLastErrors()</a> 方法可以得到异常的详细信息。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
Carbon::createFromDate(<span class="hljs-variable">$year</span>, <span class="hljs-variable">$month</span>, <span class="hljs-variable">$day</span>, <span class="hljs-variable">$tz</span>);
Carbon::createFromTime(<span class="hljs-variable">$hour</span>, <span class="hljs-variable">$minute</span>, <span class="hljs-variable">$second</span>, <span class="hljs-variable">$tz</span>);
Carbon::create(<span class="hljs-variable">$year</span>, <span class="hljs-variable">$month</span>, <span class="hljs-variable">$day</span>, <span class="hljs-variable">$hour</span>, <span class="hljs-variable">$minute</span>, <span class="hljs-variable">$second</span>, <span class="hljs-variable">$tz</span>);</code></pre> 
<blockquote> 
 <p><strong>createFromDate()</strong> will default the time to now. <strong>createFromTime()</strong> will default the date to today. <strong>create()</strong> will default any null parameter to the current respective value. As before, the $tz defaults to the current timezone and otherwise can be a <a href="http://php.net/manual/en/class.datetimezone.php" rel="nofollow">DateTimeZone</a> instance or simply a string timezone value. The only special case for default values (mimicking the underlying PHP library) occurs when an hour value is specified but no minutes or seconds, they will get defaulted to <em>0</em>.</p> 
</blockquote> 
<p><strong>createFromDate()</strong> 默认返回当前时间，<strong>createFromTime()</strong>日期默认是今天。<strong>crete()</strong> 所有为 <em>null</em> 的参数都将默认为当前对应的时间。同样，时区也默认是当前时区。如果只设置了小时数没有设置分秒那么分秒默认是 <em>0</em></p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$xmasThisYear</span> = Carbon::createFromDate(<span class="hljs-keyword">null</span>, <span class="hljs-number">12</span>, <span class="hljs-number">25</span>);  <span class="hljs-comment">// Year defaults to current year</span>
<span class="hljs-variable">$Y2K</span> = Carbon::create(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable">$alsoY2K</span> = Carbon::create(<span class="hljs-number">1999</span>, <span class="hljs-number">12</span>, <span class="hljs-number">31</span>, <span class="hljs-number">24</span>);
<span class="hljs-variable">$noonLondonTz</span> = Carbon::createFromTime(<span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'Europe/London'</span>);

<span class="hljs-comment">// A two digit minute could not be found</span>
<span class="hljs-keyword">try</span> { Carbon::create(<span class="hljs-number">1975</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">0</span>); } <span class="hljs-keyword">catch</span>(InvalidArgumentException <span class="hljs-variable">$x</span>) { <span class="hljs-keyword">echo</span> <span class="hljs-variable">$x</span>-&gt;getMessage(); }</code></pre> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
Carbon::createFromFormat(<span class="hljs-variable">$format</span>, <span class="hljs-variable">$time</span>, <span class="hljs-variable">$tz</span>);</code></pre> 
<blockquote> 
 <p><strong>createFromFormat()</strong> is mostly a wrapper for the base php function <a href="http://php.net/manual/en/datetime.createfromformat.php" rel="nofollow">DateTime::createFromFormat</a>. The difference being again the $tz argument can be a <a href="http://php.net/manual/en/class.datetimezone.php" rel="nofollow">DateTimeZone </a>instance or a string timezone value. Also, if there are errors with the format this function will call the <a href="http://php.net/manual/en/datetime.getlasterrors.php" rel="nofollow">DateTime::getLastErrors()</a> method and then throw a <a href="http://php.net/manual/en/class.invalidargumentexception.php" rel="nofollow">InvalidArgumentException</a> with the errors as the message. If you look at the source for the createXX() functions above, they all make a call to <strong>createFromFormat()</strong>.</p> 
</blockquote> 
<p><strong>createFromFormat()</strong> 与php的<strong>DateTime::createFromFormat</strong>。不同之处是 <em>$dt</em> 参数可以是 <strong>DateTImeZone</strong> 的实例或者一个时区的字符串。并且可以会返回参数异常的提示。从createXX()的源码可以看出，他们都调用了<strong>createFromFormat()</strong>方法。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">echo</span> Carbon::createFromFormat(<span class="hljs-string">'Y-m-d H'</span>, <span class="hljs-string">'1975-05-21 22'</span>)-&gt;toDateTimeString(); <span class="hljs-comment">// 1975-05-21 22:00:00</span></code></pre> 
<blockquote> 
 <p>The final two create functions are for working with unix timestamps. The first will create a Carbon instance equal to the given timestamp and will set the timezone as well or default it to the current timezone. The second, <strong>createFromTimestampUTC()</strong> , is different in that the timezone will remain UTC (GMT). The second acts the same as <strong>Carbon::createFromFormat(‘@’.$timestamp)</strong> but I have just made it a little more explicit. Negative timestamps are also allowed.</p> 
</blockquote> 
<p>最后提到的这两个create方法都是处理Unix时间戳的。第一个将会返回一个等于预期时间戳的 <strong>Carbon</strong> 实例，时区可以设置也可以选用默认值。第二个方法，<strong>createFromTimestampUTC()</strong> 与第一个不同的是时区将始终是 <em>UTC(GMT)</em> .第一个方法的第二个示例，只是为了让这个函数的用法展现的更加明确。Negative timestamps are also allowed. </p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">echo</span> Carbon::createFromTimestamp(-<span class="hljs-number">1</span>)-&gt;toDateTimeString();                        <span class="hljs-comment">// 1969-12-31 18:59:59</span>
<span class="hljs-keyword">echo</span> Carbon::createFromTimestamp(-<span class="hljs-number">1</span>, <span class="hljs-string">'Europe/London'</span>)-&gt;toDateTimeString();       <span class="hljs-comment">// 1970-01-01 00:59:59</span>
<span class="hljs-keyword">echo</span> Carbon::createFromTimeStampUTC(-<span class="hljs-number">1</span>)-&gt;toDateTimeString();                     <span class="hljs-comment">// 1969-12-31 23:59:59</span></code></pre> 
<blockquote> 
 <p>You can also create a <strong>copy()</strong> of an existing <strong>Carbon</strong> instance. As expected the date, time and timezone values are all copied to the new instance.</p> 
</blockquote> 
<p><strong>copy()</strong> 方法可以copy一个已经存在的 <strong>Carbon</strong> 实例。对copy生成实例进行修改并不会影响被copy对象的本身。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$dt</span> = Carbon::now();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInYears(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addYear());  <span class="hljs-comment">// 1</span>

<span class="hljs-comment">// $dt was unchanged and still holds the value of Carbon:now()</span></code></pre> 
<blockquote> 
 <p>Finally, if you find yourself inheriting a <a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">\DateTime</a> instance from another library, fear not! You can create a Carbon instance via a friendly <strong>instance()</strong> function.</p> 
</blockquote> 
<p>最后，当你正在使用的 <strong>DateTime</strong> 实例是通过实例化其他继承了 <strong>\DateTime</strong> 库而得到的，别怕！通过下边的方式仍然可以极其友好创建 <strong>Carbon</strong> 实例。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$dt</span> = <span class="hljs-keyword">new</span> \DateTime(<span class="hljs-string">'first day of January 2008'</span>); <span class="hljs-comment">// &lt;== instance from another API</span>
<span class="hljs-variable">$carbon</span> = Carbon::instance(<span class="hljs-variable">$dt</span>);
<span class="hljs-keyword">echo</span> get_class(<span class="hljs-variable">$carbon</span>);                               <span class="hljs-comment">// 'Carbon\Carbon'</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$carbon</span>-&gt;toDateTimeString();                      <span class="hljs-comment">// 2008-01-01 00:00:00</span></code></pre> 
<blockquote> 
 <p>A quick note about microseconds. The PHP <strong>DateTime</strong> object allows you to set a microsecond value but ignores it for all of its date math. As of 1.12.0 <strong>Carbon</strong> now supports microseconds during instantiation or copy operations as well as by default with the <strong>format()</strong> method.</p> 
</blockquote> 
<p>关于毫秒的一些处理。php自带的 <strong>DateTime</strong> 类也可以设置毫秒，但是在进行日期的数学预算时并不会考虑毫秒。从 <strong>Carbon</strong> 1.12.0版本起，实例化、copy也能像 <strong>format()</strong> 方法一样支持毫秒（PHP默认的只有 <a href="http://php.net/manual/en/datetime.format.php" rel="nofollow">Datetime::format()</a> 支持毫秒）。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-variable">$dt</span> = Carbon::parse(<span class="hljs-string">'1975-05-21 22:23:00.123456'</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;micro;                                       <span class="hljs-comment">// 123456</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;copy()-&gt;micro;                               <span class="hljs-comment">// 123456</span></code></pre> 
<blockquote> 
 <p>获取PHP支持的有效时间取值范围：最早时间、最晚时间</p> 
</blockquote> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-keyword">echo</span> Carbon::maxValue();                               <span class="hljs-comment">// '2038-01-18 22:14:07'</span>
<span class="hljs-keyword">echo</span> Carbon::minValue();                               <span class="hljs-comment">// '1901-12-13 15:45:52'</span></code></pre> 
<h3 id="localization">Localization</h3> 
<blockquote> 
 <p>Unfortunately the base class <a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">DateTime</a> does not have any localization support. To begin localization support a <strong>formatLocalized($format)</strong> method was added. The implementation makes a call to strftime using the current instance timestamp. If you first set the current locale with PHP function <strong>setlocale()</strong> then the string returned will be formatted in the correct locale.</p> 
</blockquote> 
<p><strong>Carbon</strong>中，<strong>formatLocalized()</strong> 方法通过调用 <strong>strftime()</strong> 方法，弥补了php底层的 <strong>DateTime</strong> 类不支持区域化设置的缺陷。如果你已经通过使用 <strong>setlocale()</strong> 方法设置过当前区域，<strong>formatLocalized($format)</strong> 方法将会按照设置的区域格式进行返回。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
setlocale(LC_TIME, <span class="hljs-string">'German'</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;formatLocalized(<span class="hljs-string">'%A %d %B %Y'</span>);          <span class="hljs-comment">// Mittwoch 21 Mai 1975</span>
setlocale(LC_TIME, <span class="hljs-string">''</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;formatLocalized(<span class="hljs-string">'%A %d %B %Y'</span>);          <span class="hljs-comment">// Wednesday 21 May 1975</span></code></pre> 
<blockquote> 
 <p><strong>diffForHumans()</strong> has also been localized. You can set the Carbon locale by using the static <strong>Carbon::setLocale()</strong> function.</p> 
</blockquote> 
<p><strong>diffForHumans()</strong> 的结果也会被转化成区域语言。通过<strong>Carbon::setLocale()</strong> 方法可以设置 <strong>Carbon</strong> 的区域语言。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
Carbon::setLocale(<span class="hljs-string">'de'</span>);
<span class="hljs-keyword">echo</span> Carbon::now()-&gt;addYear()-&gt;diffForHumans();    <span class="hljs-comment">// in 1 Jahr</span>

Carbon::setLocale(<span class="hljs-string">'en'</span>);</code></pre> 
<blockquote> 
 <p>Note : <br> on Linux <br> If you have trouble with translations, check locales installed in your system (local and production). <br> locale -a to list locales enabled. <br> sudo locale-gen fr_FR.UTF-8 to install a new locale. <br> sudo dpkg-reconfigure locales to publish all locale enabled. <br> And reboot your system.</p> 
</blockquote> 
<p>注意 <br> 如果在linux系统中转换出现了问题，请仔细检查安装在本地或生产系统中语言环境。</p> 
<pre class="prettyprint"><code class="language-php hljs ">locale -a 列举出所有可用的语言环境
sudo locale-gen zh_CN.utf8 安装新的语言环境
sudo dpkg-reconfigure locales 配置启用新的语言环境，并重启</code></pre> 
<h3 id="testing-aids">Testing Aids()</h3> 
<blockquote> 
 <p>The testing methods allow you to set a <strong>Carbon</strong> instance (real or mock) to be returned when a “now” instance is created. The provided instance will be returned specifically under the following conditions:</p> 
 <ul><li>A call to the static <strong>now()</strong> method, ex. <strong>Carbon::now()</strong></li><li>When a null (or blank string) is passed to the constructor or <strong>parse()</strong> , ex. <strong>new Carbon(null)</strong></li><li>When the string “now” is passed to the constructor or <strong>parse()</strong> , ex. <strong>new Carbon(‘now’)</strong></li></ul> 
</blockquote> 
<p>通过测试方法可以得到一个模拟或真实的 <strong>Carbon</strong> 实例。只有在一下情况下，主动提供的 <strong>Carbon</strong> 实例才会被特殊处理：</p> 
<ul><li>调用静态方法 <strong>now()</strong>，例如： <strong>Varbon::now()</strong></li><li>传给 <em>construct</em> 或 <strong>parse()</strong> 方法的是 <em>null</em> (或空字符串)，例如：<strong>new Carbon(null)</strong></li><li>当传给 <em>construct</em> 或 <strong>parse()</strong>的是字符串 <em>now</em>，例如：<strong>new Carbon(‘now’)</strong></li></ul> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$knownDate</span> = Carbon::create(<span class="hljs-number">2001</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>, <span class="hljs-number">12</span>);          <span class="hljs-comment">// create testing date</span>
Carbon::setTestNow(<span class="hljs-variable">$knownDate</span>);                        <span class="hljs-comment">// set the mock (of course this could be a real mock object)</span>
<span class="hljs-keyword">echo</span> Carbon::now();                                    <span class="hljs-comment">// 2001-05-21 12:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon();                                     <span class="hljs-comment">// 2001-05-21 12:00:00</span>
<span class="hljs-keyword">echo</span> Carbon::parse();                                  <span class="hljs-comment">// 2001-05-21 12:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'now'</span>);                                <span class="hljs-comment">// 2001-05-21 12:00:00</span>
<span class="hljs-keyword">echo</span> Carbon::parse(<span class="hljs-string">'now'</span>);                             <span class="hljs-comment">// 2001-05-21 12:00:00</span>
var_dump(Carbon::hasTestNow());                        <span class="hljs-comment">// bool(true)</span>
Carbon::setTestNow();                                  <span class="hljs-comment">// clear the mock</span>
var_dump(Carbon::hasTestNow());                        <span class="hljs-comment">// bool(false)</span>
<span class="hljs-keyword">echo</span> Carbon::now();    </code></pre> 
<p>有用的例子：</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SeasonalProduct</span>
{<!-- --></span>
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$price</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">(<span class="hljs-variable">$price</span>)</span>
    {<!-- --></span>
        <span class="hljs-variable">$this</span>-&gt;price = <span class="hljs-variable">$price</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPrice</span><span class="hljs-params">()</span> {<!-- --></span>
        <span class="hljs-variable">$multiplier</span> = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (Carbon::now()-&gt;month == <span class="hljs-number">12</span>) {
            <span class="hljs-variable">$multiplier</span> = <span class="hljs-number">2</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$this</span>-&gt;price * <span class="hljs-variable">$multiplier</span>;
    }
}

<span class="hljs-variable">$product</span> = <span class="hljs-keyword">new</span> SeasonalProduct(<span class="hljs-number">100</span>);
Carbon::setTestNow(Carbon::parse(<span class="hljs-string">'first day of March 2000'</span>));
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$product</span>-&gt;getPrice();                                             <span class="hljs-comment">// 100</span>
Carbon::setTestNow(Carbon::parse(<span class="hljs-string">'first day of December 2000'</span>));
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$product</span>-&gt;getPrice();                                             <span class="hljs-comment">// 200</span>
Carbon::setTestNow(Carbon::parse(<span class="hljs-string">'first day of May 2000'</span>));
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$product</span>-&gt;getPrice();                                             <span class="hljs-comment">// 100</span>
Carbon::setTestNow();</code></pre> 
<blockquote> 
 <p>Relative phrases are also mocked according to the given “now” instance.</p> 
</blockquote> 
<p>一些相关的用法也可以得到一个模拟的 <em>now</em> 实例，返回相应的模拟数据。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$knownDate</span> = Carbon::create(<span class="hljs-number">2001</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>, <span class="hljs-number">12</span>);          <span class="hljs-comment">// create testing date</span>
Carbon::setTestNow(<span class="hljs-variable">$knownDate</span>);                        <span class="hljs-comment">// set the mock</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'tomorrow'</span>);                           <span class="hljs-comment">// 2001-05-22 00:00:00  ... notice the time !</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'yesterday'</span>);                          <span class="hljs-comment">// 2001-05-20 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'next wednesday'</span>);                     <span class="hljs-comment">// 2001-05-23 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'last friday'</span>);                        <span class="hljs-comment">// 2001-05-18 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-keyword">new</span> Carbon(<span class="hljs-string">'this thursday'</span>);                      <span class="hljs-comment">// 2001-05-24 00:00:00</span>
Carbon::setTestNow();      </code></pre> 
<blockquote> 
 <p>The list of words that are considered to be relative modifiers are:</p> 
</blockquote> 
<p>以下是当前支持的时间转换字</p> 
<ul><li>this</li><li>net</li><li>last</li><li>this</li><li>next</li><li>last</li><li>tomorrow</li><li>yesterday</li><li>+</li><li>-</li><li>first</li><li>last</li><li>ago</li></ul> 
<blockquote> 
 <p>Be aware that similar to the <strong>next()</strong>, <strong>previous()</strong> and <strong>modify()</strong> methods some of these relative modifiers will set the time to <em>00:00:00</em> .</p> 
</blockquote> 
<p>值得注意的是像 <strong>next()</strong> , <strong>previous()</strong> 和 <strong>modify()</strong> 方法等相关的修改会把日期的时间部分设置成 <em>00:00:00</em> 。</p> 
<h3 id="getters">Getters</h3> 
<blockquote> 
 <p>The getters are implemented via PHP’s <strong>__get()</strong> method. This enables you to access the value as if it was a property rather than a function call.</p> 
</blockquote> 
<p>获取器通过PHP的 <strong>__get()</strong> 方式实现。可以直接通过一下方式直接获取到属性的值。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::parse(<span class="hljs-string">'2012-9-5 23:26:11.123789'</span>);

<span class="hljs-comment">// These getters specifically return integers, ie intval()</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;year);                                         <span class="hljs-comment">// int(2012)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;month);                                        <span class="hljs-comment">// int(9)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;day);                                          <span class="hljs-comment">// int(5)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;hour);                                         <span class="hljs-comment">// int(23)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;minute);                                       <span class="hljs-comment">// int(26)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;second);                                       <span class="hljs-comment">// int(11)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;micro);                                        <span class="hljs-comment">// int(123789)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfWeek);                                    <span class="hljs-comment">// int(3)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfYear);                                    <span class="hljs-comment">// int(248)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;weekOfMonth);                                  <span class="hljs-comment">// int(1)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;weekOfYear);                                   <span class="hljs-comment">// int(36)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;daysInMonth);                                  <span class="hljs-comment">// int(30)</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;timestamp);                                    <span class="hljs-comment">// int(1346901971)</span>
var_dump(Carbon::createFromDate(<span class="hljs-number">1975</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>)-&gt;age);          <span class="hljs-comment">// int(41) calculated vs now in the same tz</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;quarter);                                      <span class="hljs-comment">// int(3)</span>

<span class="hljs-comment">// Returns an int of seconds difference from UTC (+/- sign included)</span>
var_dump(Carbon::createFromTimestampUTC(<span class="hljs-number">0</span>)-&gt;offset);         <span class="hljs-comment">// int(0)</span>
var_dump(Carbon::createFromTimestamp(<span class="hljs-number">0</span>)-&gt;offset);            <span class="hljs-comment">// int(-18000)</span>

<span class="hljs-comment">// Returns an int of hours difference from UTC (+/- sign included)</span>
var_dump(Carbon::createFromTimestamp(<span class="hljs-number">0</span>)-&gt;offsetHours);       <span class="hljs-comment">// int(-5)</span>

<span class="hljs-comment">// Indicates if day light savings time is on</span>
var_dump(Carbon::createFromDate(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)-&gt;dst);           <span class="hljs-comment">// bool(false)</span>
var_dump(Carbon::createFromDate(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>)-&gt;dst);           <span class="hljs-comment">// bool(true)</span>

<span class="hljs-comment">// Indicates if the instance is in the same timezone as the local timezone</span>
var_dump(Carbon::now()-&gt;local);                              <span class="hljs-comment">// bool(true)</span>
var_dump(Carbon::now(<span class="hljs-string">'America/Vancouver'</span>)-&gt;local);           <span class="hljs-comment">// bool(false)</span>

<span class="hljs-comment">// Indicates if the instance is in the UTC timezone</span>
var_dump(Carbon::now()-&gt;utc);                                <span class="hljs-comment">// bool(false)</span>
var_dump(Carbon::now(<span class="hljs-string">'Europe/London'</span>)-&gt;utc);                 <span class="hljs-comment">// bool(false)</span>
var_dump(Carbon::createFromTimestampUTC(<span class="hljs-number">0</span>)-&gt;utc);            <span class="hljs-comment">// bool(true)</span>

<span class="hljs-comment">// Gets the DateTimeZone instance</span>
<span class="hljs-keyword">echo</span> get_class(Carbon::now()-&gt;timezone);                     <span class="hljs-comment">// DateTimeZone</span>
<span class="hljs-keyword">echo</span> get_class(Carbon::now()-&gt;tz);                           <span class="hljs-comment">// DateTimeZone</span>

<span class="hljs-comment">// Gets the DateTimeZone instance name, shortcut for -&gt;timezone-&gt;getName()</span>
<span class="hljs-keyword">echo</span> Carbon::now()-&gt;timezoneName;                            <span class="hljs-comment">// America/Toronto</span>
<span class="hljs-keyword">echo</span> Carbon::now()-&gt;tzName;                                  <span class="hljs-comment">// America/Toronto</span></code></pre> 
<h3 id="setters">Setters</h3> 
<blockquote> 
 <p>The following setters are implemented via PHP’s <strong>__set()</strong> method. Its good to take note here that none of the setters, with the obvious exception of explicitly setting the timezone, will change the timezone of the instance. Specifically, setting the timestamp will not set the corresponding timezone to UTC.</p> 
</blockquote> 
<p><strong>Setters</strong> 通过PHP的 <strong>__set()</strong> 方法实现。值得注意的是，通过这种方式设置时间戳时，时区不会相对于时间戳而改变。如果需要改变时区的话，需要针对时区单独设置。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::now();

<span class="hljs-variable">$dt</span>-&gt;year = <span class="hljs-number">1975</span>;
<span class="hljs-variable">$dt</span>-&gt;month = <span class="hljs-number">13</span>;             <span class="hljs-comment">// would force year++ and month = 1</span>
<span class="hljs-variable">$dt</span>-&gt;month = <span class="hljs-number">5</span>;
<span class="hljs-variable">$dt</span>-&gt;day = <span class="hljs-number">21</span>;
<span class="hljs-variable">$dt</span>-&gt;hour = <span class="hljs-number">22</span>;
<span class="hljs-variable">$dt</span>-&gt;minute = <span class="hljs-number">32</span>;
<span class="hljs-variable">$dt</span>-&gt;second = <span class="hljs-number">5</span>;

<span class="hljs-variable">$dt</span>-&gt;timestamp = <span class="hljs-number">169957925</span>;  <span class="hljs-comment">// This will not change the timezone</span>

<span class="hljs-comment">// Set the timezone via DateTimeZone instance or string</span>
<span class="hljs-variable">$dt</span>-&gt;timezone = <span class="hljs-keyword">new</span> DateTimeZone(<span class="hljs-string">'Europe/London'</span>);
<span class="hljs-variable">$dt</span>-&gt;timezone = <span class="hljs-string">'Europe/London'</span>;
<span class="hljs-variable">$dt</span>-&gt;tz = <span class="hljs-string">'Europe/London'</span>;</code></pre> 
<h3 id="fluent-setters">Fluent Setters</h3> 
<blockquote> 
 <p>No arguments are optional for the setters, but there are enough variety in the function definitions that you shouldn’t need them anyway. Its good to take note here that none of the setters, with the obvious exception of explicitly setting the timezone, will change the timezone of the instance. Specifically, setting the timestamp will not set the corresponding timezone to UTC.</p> 
</blockquote> 
<p>此处 <strong>Setters</strong> 方法的参数是必选参数，<strong>Carbon</strong> 提供了更多种设置方式可供使用。值得注意的是，所有对于时区的修改都会影响整个到 <strong>Carbon</strong> 实例。对时间戳进行修改时不会自动转换到时间戳对应的时区。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::now();

<span class="hljs-variable">$dt</span>-&gt;year(<span class="hljs-number">1975</span>)-&gt;month(<span class="hljs-number">5</span>)-&gt;day(<span class="hljs-number">21</span>)-&gt;hour(<span class="hljs-number">22</span>)-&gt;minute(<span class="hljs-number">32</span>)-&gt;second(<span class="hljs-number">5</span>)-&gt;toDateTimeString();
<span class="hljs-variable">$dt</span>-&gt;setDate(<span class="hljs-number">1975</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>)-&gt;setTime(<span class="hljs-number">22</span>, <span class="hljs-number">32</span>, <span class="hljs-number">5</span>)-&gt;toDateTimeString();
<span class="hljs-variable">$dt</span>-&gt;setDateTime(<span class="hljs-number">1975</span>, <span class="hljs-number">5</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">32</span>, <span class="hljs-number">5</span>)-&gt;toDateTimeString();

<span class="hljs-variable">$dt</span>-&gt;timestamp(<span class="hljs-number">169957925</span>)-&gt;timezone(<span class="hljs-string">'Europe/London'</span>);

<span class="hljs-variable">$dt</span>-&gt;tz(<span class="hljs-string">'America/Toronto'</span>)-&gt;setTimezone(<span class="hljs-string">'America/Vancouver'</span>);</code></pre> 
<h3 id="isset">IsSet</h3> 
<blockquote> 
 <p>The PHP function <strong>__isset()</strong> is implemented. This was done as some external systems (ex. Twig) validate the existence of a property before using it. This is done using the <strong>isset()</strong> or <strong>empty()</strong> method. You can read more about these on the PHP site: <strong>__isset()</strong> , <strong>isset()</strong> , <strong>empty()</strong> .</p> 
</blockquote> 
<p>当尝试调用 <strong>Carbon</strong> 实例的属性时，会首先检查该属性是否存在，存在返回 <em>true</em>，不存在返回 <em>false</em>。</p> 
<pre class="prettyprint"><code class="language-php hljs ">var_dump(<span class="hljs-keyword">isset</span>(Carbon::now()-&gt;iDoNotExist));       <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-keyword">isset</span>(Carbon::now()-&gt;hour));              <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-keyword">empty</span>(Carbon::now()-&gt;iDoNotExist));       <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-keyword">empty</span>(Carbon::now()-&gt;year));              <span class="hljs-comment">// bool(false)</span></code></pre> 
<h3 id="string-formatting">String Formatting</h3> 
<blockquote> 
 <p>All of the available toXXXString() methods rely on the base class method <a href="http://php.net/manual/en/datetime.format.php" rel="nofollow">DateTime::format()</a>. You’ll notice the <strong>__toString()</strong> method is defined which allows a <strong>Carbon</strong> instance to be printed as a pretty date time string when used in a string context.</p> 
</blockquote> 
<p>所有类似 toXXXString() 这样的方法都依赖于<a href="http://php.net/manual/en/datetime.format.php" rel="nofollow">DateTime::format()</a>。<strong>__toString()</strong> 方法允许 <strong>Carbon</strong> 实例被打印时以一种可读性更好的方式被打印出来。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">1975</span>, <span class="hljs-number">12</span>, <span class="hljs-number">25</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>);

var_dump(<span class="hljs-variable">$dt</span>-&gt;toDateTimeString() == <span class="hljs-variable">$dt</span>);          <span class="hljs-comment">// bool(true) =&gt; uses __toString()</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toDateString();                          <span class="hljs-comment">// 1975-12-25</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toFormattedDateString();                 <span class="hljs-comment">// Dec 25, 1975</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toTimeString();                          <span class="hljs-comment">// 14:15:16</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toDateTimeString();                      <span class="hljs-comment">// 1975-12-25 14:15:16</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toDayDateTimeString();                   <span class="hljs-comment">// Thu, Dec 25, 1975 2:15 PM</span>

<span class="hljs-comment">// ... of course format() is still available</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;format(<span class="hljs-string">'l jS \\of F Y h:i:s A'</span>);         <span class="hljs-comment">// Thursday 25th of December 1975 02:15:16 PM</span></code></pre> 
<blockquote> 
 <p>You can also set the default <strong>__toString()</strong> format (which defaults to <em>Y-m-d H:i:s</em> ) thats used when type juggling occurs.</p> 
</blockquote> 
<p>另外可以默认设置 <strong>__toString()</strong> 方法所要显示的时间日期格式。</p> 
<pre class="prettyprint"><code class="language-php hljs ">Carbon::setToStringFormat(<span class="hljs-string">'jS \o\f F, Y g:i:s a'</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>;                                          <span class="hljs-comment">// 25th of December, 1975 2:15:16 pm</span>
Carbon::resetToStringFormat();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>;                                          <span class="hljs-comment">// 1975-12-25 14:15:16</span></code></pre> 
<blockquote> 
 <p>Note: For localization support see the <strong>Localization</strong> section. <br> 如果需要设定特定的语言显示，请参考 <strong>Localization</strong> 部分。</p> 
</blockquote> 
<h3 id="common-formats">Common Formats</h3> 
<blockquote> 
 <p>The following are wrappers for the common formats provided in the <a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">DateTime</a> class.</p> 
</blockquote> 
<p>下面是对 <a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">DateTime</a> 类提供的通用格式的一些封装。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::now();

<span class="hljs-comment">// $dt-&gt;toAtomString() is the same as $dt-&gt;format(DateTime::ATOM);</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toAtomString();      <span class="hljs-comment">// 1975-12-25T14:15:16-05:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toCookieString();    <span class="hljs-comment">// Thursday, 25-Dec-1975 14:15:16 EST</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toIso8601String();   <span class="hljs-comment">// 1975-12-25T14:15:16-0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc822String();    <span class="hljs-comment">// Thu, 25 Dec 75 14:15:16 -0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc850String();    <span class="hljs-comment">// Thursday, 25-Dec-75 14:15:16 EST</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc1036String();   <span class="hljs-comment">// Thu, 25 Dec 75 14:15:16 -0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc1123String();   <span class="hljs-comment">// Thu, 25 Dec 1975 14:15:16 -0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc2822String();   <span class="hljs-comment">// Thu, 25 Dec 1975 14:15:16 -0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRfc3339String();   <span class="hljs-comment">// 1975-12-25T14:15:16-05:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toRssString();       <span class="hljs-comment">// Thu, 25 Dec 1975 14:15:16 -0500</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toW3cString();       <span class="hljs-comment">// 1975-12-25T14:15:16-05:00</span></code></pre> 
<h3 id="comparison">Comparison</h3> 
<blockquote> 
 <p>Simple comparison is offered up via the following functions. Remember that the comparison is done in the UTC timezone so things aren’t always as they seem.</p> 
</blockquote> 
<p>通过以下方式可以对两个 <strong>Carbon</strong> 实例进行简单的比较。牢记这些比较都是在UTC时区下完成的。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-keyword">echo</span> Carbon::now()-&gt;tzName;                        <span class="hljs-comment">// America/Toronto</span>
<span class="hljs-variable">$first</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">23</span>, <span class="hljs-number">26</span>, <span class="hljs-number">11</span>);
<span class="hljs-variable">$second</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">26</span>, <span class="hljs-number">11</span>, <span class="hljs-string">'America/Vancouver'</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$first</span>-&gt;toDateTimeString();                   <span class="hljs-comment">// 2012-09-05 23:26:11</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$first</span>-&gt;tzName;                               <span class="hljs-comment">// America/Toronto</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$second</span>-&gt;toDateTimeString();                  <span class="hljs-comment">// 2012-09-05 20:26:11</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$second</span>-&gt;tzName;                              <span class="hljs-comment">// America/Vancouver</span>

var_dump(<span class="hljs-variable">$first</span>-&gt;eq(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;ne(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;gt(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;gte(<span class="hljs-variable">$second</span>));                    <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;lt(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;lte(<span class="hljs-variable">$second</span>));                    <span class="hljs-comment">// bool(true)</span>

<span class="hljs-variable">$first</span>-&gt;setDateTime(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable">$second</span>-&gt;setDateTime(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);         <span class="hljs-comment">// Remember tz is 'America/Vancouver'</span>

var_dump(<span class="hljs-variable">$first</span>-&gt;eq(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;ne(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;gt(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;gte(<span class="hljs-variable">$second</span>));                    <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;lt(<span class="hljs-variable">$second</span>));                     <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-variable">$first</span>-&gt;lte(<span class="hljs-variable">$second</span>));                    <span class="hljs-comment">// bool(true)</span></code></pre> 
<blockquote> 
 <p>To determine if the current instance is between two other instances you can use the aptly named <strong>between()</strong> method. The third parameter indicates if an equal to comparison should be done. The default is true which determines if its between or equal to the boundaries.</p> 
</blockquote> 
<p>如果要判断当前实例对应的时间，是否在其他两个实例对应的时间之间，可以用 <strong>between()</strong> 方法。如果提供了第三个参数，并且为 <em>true</em>，将会进行 <em>&gt;=</em> 和 <em>&lt;=</em> 的操作。如果为 <em>false</em>，会进行 <em>&gt;</em> 和 <em>&lt;</em> 的操作。该参数默认是 <em>true</em> 。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$first</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>);
<span class="hljs-variable">$second</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>);
var_dump(Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>)-&gt;between(<span class="hljs-variable">$first</span>, <span class="hljs-variable">$second</span>));          <span class="hljs-comment">// bool(true)</span>
var_dump(Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>)-&gt;between(<span class="hljs-variable">$first</span>, <span class="hljs-variable">$second</span>));          <span class="hljs-comment">// bool(true)</span>
var_dump(Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>)-&gt;between(<span class="hljs-variable">$first</span>, <span class="hljs-variable">$second</span>, <span class="hljs-keyword">false</span>));   <span class="hljs-comment">// bool(false)</span></code></pre> 
<blockquote> 
 <p>Woah! Did you forget <strong>min()</strong> and <strong>max()</strong> ? Nope. That is covered as well by the suitably named <strong>min()</strong> and <strong>max()</strong> methods. As usual the default parameter is now if null is specified.</p> 
</blockquote> 
<p>还记得之前提到的 <strong>min()</strong> 和 <strong>max()</strong> 吗？<strong>min()</strong> 将会返回两个实例中时间较早的实例，<strong>max()</strong> 返回时间较晚的那个。如果没有提供给 <strong>min()</strong> 或 <strong>max()</strong> 任何参数，将会拿当前时间和调用该方法的实例进行比较。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt1</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable">$dt2</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt1</span>-&gt;min(<span class="hljs-variable">$dt2</span>);                              <span class="hljs-comment">// 2012-01-01 00:00:00</span>

<span class="hljs-variable">$dt1</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable">$dt2</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt1</span>-&gt;max(<span class="hljs-variable">$dt2</span>);                              <span class="hljs-comment">// 2014-01-30 00:00:00</span>

<span class="hljs-comment">// now is the default param</span>
<span class="hljs-variable">$dt1</span> = Carbon::create(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt1</span>-&gt;max();                                  <span class="hljs-comment">// 2016-06-24 15:18:34</span></code></pre> 
<blockquote> 
 <p>To handle the most used cases there are some simple helper functions that hopefully are obvious from their names. For the methods that compare to <strong>now()</strong> (ex. <strong>isToday()</strong> ) in some manner the <strong>now()</strong> is created in the same timezone as the instance.</p> 
</blockquote> 
<p><strong>Carbon</strong> 提供了一些见名知意的辅助方法去处理大部分用到的场景。需要执行比较操作的方法都会与当前时区的当前时间进行比较。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::now();

<span class="hljs-variable">$dt</span>-&gt;isWeekday();
<span class="hljs-variable">$dt</span>-&gt;isWeekend();
<span class="hljs-variable">$dt</span>-&gt;isYesterday();
<span class="hljs-variable">$dt</span>-&gt;isToday();
<span class="hljs-variable">$dt</span>-&gt;isTomorrow();
<span class="hljs-variable">$dt</span>-&gt;isFuture();
<span class="hljs-variable">$dt</span>-&gt;isPast();
<span class="hljs-variable">$dt</span>-&gt;isLeapYear();
<span class="hljs-variable">$dt</span>-&gt;isSameDay(Carbon::now());
<span class="hljs-variable">$born</span> = Carbon::createFromDate(<span class="hljs-number">1987</span>, <span class="hljs-number">4</span>, <span class="hljs-number">23</span>);
<span class="hljs-variable">$noCake</span> = Carbon::createFromDate(<span class="hljs-number">2014</span>, <span class="hljs-number">9</span>, <span class="hljs-number">26</span>);
<span class="hljs-variable">$yesCake</span> = Carbon::createFromDate(<span class="hljs-number">2014</span>, <span class="hljs-number">4</span>, <span class="hljs-number">23</span>);
<span class="hljs-variable">$overTheHill</span> = Carbon::now()-&gt;subYears(<span class="hljs-number">50</span>);
var_dump(<span class="hljs-variable">$born</span>-&gt;isBirthday(<span class="hljs-variable">$noCake</span>));              <span class="hljs-comment">// bool(false)</span>
var_dump(<span class="hljs-variable">$born</span>-&gt;isBirthday(<span class="hljs-variable">$yesCake</span>));             <span class="hljs-comment">// bool(true)</span>
var_dump(<span class="hljs-variable">$overTheHill</span>-&gt;isBirthday());              <span class="hljs-comment">// bool(true) -&gt; default compare it to today!</span></code></pre> 
<h3 id="addition-and-subtraction">Addition and Subtraction</h3> 
<blockquote> 
 <p>The default <a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">DateTime</a> provides a couple of different methods for easily adding and subtracting time. There is <strong>modify()</strong> , <strong>add()</strong> and <strong>sub()</strong> . <strong>modify()</strong> takes a magical date/time format string, ‘last day of next month’, that it parses and applies the modification while <strong>add()</strong> and <strong>sub()</strong> use a <a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a> class thats not so obvious, <strong>new \DateInterval(‘P6YT5M’)</strong> . Hopefully using these fluent functions will be more clear and easier to read after not seeing your code for a few weeks. But of course I don’t make you choose since the base class functions are still available.</p> 
</blockquote> 
<p>默认的<a href="http://php.net/manual/en/class.datetime.php" rel="nofollow">DateTime</a>类提供了一对方便增加和减少时间的方法。有 <strong>modify()</strong>，<strong>add()</strong> 和 <strong>sub()</strong> 。<strong>modify()</strong> 方法接受一个标准的 <em>data/time</em> 字符串，该方法会对字符串进行解析，当牵扯到 <strong>add()</strong> 和 <strong>sub()</strong> 时会隐式调用<a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a>类进行处理。用链式调用的方式进行操作，代码将会更加的清晰和易读。当然，由于继承关系这并不会影响你使用底层的方法进行操作。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">0</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;toDateTimeString();            <span class="hljs-comment">// 2012-01-31 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addYears(<span class="hljs-number">5</span>);                   <span class="hljs-comment">// 2017-01-31 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addYear();                     <span class="hljs-comment">// 2018-01-31 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subYear();                     <span class="hljs-comment">// 2017-01-31 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subYears(<span class="hljs-number">5</span>);                   <span class="hljs-comment">// 2012-01-31 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addMonths(<span class="hljs-number">60</span>);                 <span class="hljs-comment">// 2017-01-31 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addMonth();                    <span class="hljs-comment">// 2017-03-03 00:00:00 equivalent of $dt-&gt;month($dt-&gt;month + 1); so it wraps</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subMonth();                    <span class="hljs-comment">// 2017-02-03 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subMonths(<span class="hljs-number">60</span>);                 <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addDays(<span class="hljs-number">29</span>);                   <span class="hljs-comment">// 2012-03-03 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addDay();                      <span class="hljs-comment">// 2012-03-04 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subDay();                      <span class="hljs-comment">// 2012-03-03 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subDays(<span class="hljs-number">29</span>);                   <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addWeekdays(<span class="hljs-number">4</span>);                <span class="hljs-comment">// 2012-02-09 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addWeekday();                  <span class="hljs-comment">// 2012-02-10 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subWeekday();                  <span class="hljs-comment">// 2012-02-09 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subWeekdays(<span class="hljs-number">4</span>);                <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addWeeks(<span class="hljs-number">3</span>);                   <span class="hljs-comment">// 2012-02-24 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addWeek();                     <span class="hljs-comment">// 2012-03-02 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subWeek();                     <span class="hljs-comment">// 2012-02-24 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subWeeks(<span class="hljs-number">3</span>);                   <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addHours(<span class="hljs-number">24</span>);                  <span class="hljs-comment">// 2012-02-04 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addHour();                     <span class="hljs-comment">// 2012-02-04 01:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subHour();                     <span class="hljs-comment">// 2012-02-04 00:00:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subHours(<span class="hljs-number">24</span>);                  <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addMinutes(<span class="hljs-number">61</span>);                <span class="hljs-comment">// 2012-02-03 01:01:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addMinute();                   <span class="hljs-comment">// 2012-02-03 01:02:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subMinute();                   <span class="hljs-comment">// 2012-02-03 01:01:00</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subMinutes(<span class="hljs-number">61</span>);                <span class="hljs-comment">// 2012-02-03 00:00:00</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addSeconds(<span class="hljs-number">61</span>);                <span class="hljs-comment">// 2012-02-03 00:01:01</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addSecond();                   <span class="hljs-comment">// 2012-02-03 00:01:02</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subSecond();                   <span class="hljs-comment">// 2012-02-03 00:01:01</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;subSeconds(<span class="hljs-number">61</span>);                <span class="hljs-comment">// 2012-02-03 00:00:00</span></code></pre> 
<blockquote> 
 <p>For fun you can also pass negative values to addXXX(), in fact that’s how subXXX() is implemented. <br> P.S. Don’t worry if you forget and use <strong>addDay(5)</strong> or <strong>subYear(3)</strong> , I have your back ;)</p> 
</blockquote> 
<p>当然你也可以传递负值到addXXX()方法，实际这正是subXXX()方法所实现的功能。</p> 
<h3 id="difference">Difference</h3> 
<blockquote> 
 <p>These functions always return the total difference expressed in the specified time requested. This differs from the base class <strong>diff()</strong> function where an interval of 61 seconds would be returned as 1 minute and 1 second via a <a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a> instance. The <strong>diffInMinutes()</strong> function would simply return 1. All values are truncated and not rounded. Each function below has a default first parameter which is the Carbon instance to compare to, or null if you want to use <strong>now()</strong> . The 2nd parameter again is optional and indicates if you want the return value to be the absolute value or a relative value that might have a - (negative) sign if the passed in date is less than the current instance. This will default to true, return the absolute value. The comparisons are done in UTC.</p> 
</blockquote> 
<p>以下方法总是返回两个实例之间的时间差。与基类中的 <strong>diff()</strong> 方法不同的是，<strong>diff()</strong> 方法会通过<a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a>实例将61秒转化成1分1秒来返回。下边的这些方法第一个参数是将会用来比较的 <strong>Carbon</strong> 实例，默认为 <strong>now()</strong> 方法创建的当前时间实例。第二个参数也是可选的,指明了你是否需要返回一个比较结果的绝对值，默认为 <em>true</em>，当第二个参数为 <em>false</em>，并且用于比较的实例时间早于被比较的实例时，返回负数。所有的比较操作都在UTC时区下完成。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-comment">// Carbon::diffInYears(Carbon $dt = null, $abs = true)</span>

<span class="hljs-keyword">echo</span> Carbon::now(<span class="hljs-string">'America/Vancouver'</span>)-&gt;diffInSeconds(Carbon::now(<span class="hljs-string">'Europe/London'</span>)); <span class="hljs-comment">// 0</span>

<span class="hljs-variable">$dtOttawa</span> = Carbon::createFromDate(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'America/Toronto'</span>);
<span class="hljs-variable">$dtVancouver</span> = Carbon::createFromDate(<span class="hljs-number">2000</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'America/Vancouver'</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dtOttawa</span>-&gt;diffInHours(<span class="hljs-variable">$dtVancouver</span>);                             <span class="hljs-comment">// 3</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dtOttawa</span>-&gt;diffInHours(<span class="hljs-variable">$dtVancouver</span>, <span class="hljs-keyword">false</span>);                      <span class="hljs-comment">// 3</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dtVancouver</span>-&gt;diffInHours(<span class="hljs-variable">$dtOttawa</span>, <span class="hljs-keyword">false</span>);                      <span class="hljs-comment">// -3</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInDays(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addMonth());                         <span class="hljs-comment">// 31</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInDays(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;subMonth(), <span class="hljs-keyword">false</span>);                  <span class="hljs-comment">// -31</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">4</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInDays(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addMonth());                         <span class="hljs-comment">// 30</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInDays(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addWeek());                          <span class="hljs-comment">// 7</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInMinutes(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addSeconds(<span class="hljs-number">59</span>));                  <span class="hljs-comment">// 0</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInMinutes(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addSeconds(<span class="hljs-number">60</span>));                  <span class="hljs-comment">// 1</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInMinutes(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addSeconds(<span class="hljs-number">119</span>));                 <span class="hljs-comment">// 1</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffInMinutes(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addSeconds(<span class="hljs-number">120</span>));                 <span class="hljs-comment">// 2</span>

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;addSeconds(<span class="hljs-number">120</span>)-&gt;secondsSinceMidnight();                     <span class="hljs-comment">// 120</span></code></pre> 
<blockquote> 
 <p>There are also special filter functions <strong>diffInDaysFiltered()</strong> , <strong>diffInHoursFiltered()</strong> and <strong>diffFiltered()</strong> , to help you filter the difference by days, hours or a custom interval. For example to count the weekend days between two instances.</p> 
</blockquote> 
<p>一些特殊的过滤方法，像 <strong>diffInDaysFiltered()</strong> 、<strong>diffInHoursFiltered()</strong> 和 <strong>diffFiltered()</strong> ,可以帮助你过滤时间差中的 <em>days</em> 、<em>hour</em> 或者一个自定义的时间间隔。下边是统计两个实例之间的周末天数。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);
<span class="hljs-variable">$dt2</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">12</span>, <span class="hljs-number">31</span>);
<span class="hljs-variable">$daysForExtraCoding</span> = <span class="hljs-variable">$dt</span>-&gt;diffInDaysFiltered(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Carbon <span class="hljs-variable">$date</span>)</span> {<!-- --></span>
   <span class="hljs-keyword">return</span> <span class="hljs-variable">$date</span>-&gt;isWeekend();
}, <span class="hljs-variable">$dt2</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$daysForExtraCoding</span>;      <span class="hljs-comment">// 104</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)-&gt;startOfDay();
<span class="hljs-variable">$dt2</span> = <span class="hljs-variable">$dt</span>-&gt;copy()-&gt;endOfDay();
<span class="hljs-variable">$littleHandRotations</span> = <span class="hljs-variable">$dt</span>-&gt;diffFiltered(CarbonInterval::minute(), <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Carbon <span class="hljs-variable">$date</span>)</span> {<!-- --></span>
   <span class="hljs-keyword">return</span> <span class="hljs-variable">$date</span>-&gt;minute === <span class="hljs-number">0</span>;
}, <span class="hljs-variable">$dt2</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$littleHandRotations</span>;     <span class="hljs-comment">// 24</span>

<span class="hljs-comment">// others that are defined</span>
<span class="hljs-comment">// diffInYears(), diffInMonths(), diffInWeeks()</span>
<span class="hljs-comment">// diffInDays(), diffInWeekdays(), diffInWeekendDays()</span>
<span class="hljs-comment">// diffInHours(), diffInMinutes(), diffInSeconds()</span>
<span class="hljs-comment">// secondsSinceMidnight(), secondsUntilEndOfDay()</span></code></pre> 
<h3 id="difference-for-humans">Difference for Humans</h3> 
<blockquote> 
 <p>It is easier for humans to read 1 month ago compared to 30 days ago. This is a common function seen in most date libraries so I thought I would add it here as well. It uses approximations for a month being 4 weeks. The lone argument for the function is the other <strong>Carbon</strong> instance to diff against, and of course it defaults to <strong>now()</strong> if not specified. <br> This method will add a phrase after the difference value relative to the instance and the passed in instance. There are 4 possibilities:</p> 
</blockquote> 
<p>对于人们来说,一月前比30天前更加易与理解。这是一个常见的方法在许多日期处理类库中，所以他想也应该把这个加进来。这里把一个月看做四周，这些方法需要一个可选的 <strong>Carbon</strong> 实例作为参数来进行比较，默认为当前时间的实例。 <br> 这些方法会在两个时间差值后增加一写描述，可能类似下边这四种：</p> 
<ul><li>When comparing a value in the past to default now: <br> 
  <ul><li>1 hour ago</li><li>5 months ago</li></ul></li></ul> 
<h3 id="title"> </h3> 
<ul><li>When comparing a value in the future to default now: <br> 
  <ul><li>1 hour from now</li><li>5 months from now</li></ul></li></ul> 
<h3 id="title-1"> </h3> 
<ul><li>When comparing a value in the past to another value: <br> 
  <ul><li>1 hour before</li><li>5 months before</li></ul></li></ul> 
<h3 id="title-2"> </h3> 
<ul><li>When comparing a value in the future to another value: <br> 
  <ul><li>1 hour after</li><li>5 months after</li></ul></li></ul> 
<blockquote> 
 <p>You may also pass true as a 2nd parameter to remove the modifiers ago, from now, etc : <strong>diffForHumans(Carbon $other, true)</strong> .</p> 
</blockquote> 
<p>你也可以传递第二个参数去掉类似 <em>ago</em>，<em>from now</em> 这种修饰符，类似这样的用法 <strong>diffForHumans(Carbon $other, true)</strong> 等。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-comment">// The most typical usage is for comments</span>
<span class="hljs-comment">// The instance is the date the comment was created and its being compared to default now()</span>
<span class="hljs-keyword">echo</span> Carbon::now()-&gt;subDays(<span class="hljs-number">5</span>)-&gt;diffForHumans();               <span class="hljs-comment">// 5 days ago</span>

<span class="hljs-keyword">echo</span> Carbon::now()-&gt;diffForHumans(Carbon::now()-&gt;subYear());   <span class="hljs-comment">// 1 year after</span>

<span class="hljs-variable">$dt</span> = Carbon::createFromDate(<span class="hljs-number">2011</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>);

<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffForHumans(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;addMonth());              <span class="hljs-comment">// 1 month before</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;diffForHumans(<span class="hljs-variable">$dt</span>-&gt;copy()-&gt;subMonth());              <span class="hljs-comment">// 1 month after</span>

<span class="hljs-keyword">echo</span> Carbon::now()-&gt;addSeconds(<span class="hljs-number">5</span>)-&gt;diffForHumans();            <span class="hljs-comment">// 5 seconds from now</span>

<span class="hljs-keyword">echo</span> Carbon::now()-&gt;subDays(<span class="hljs-number">24</span>)-&gt;diffForHumans();              <span class="hljs-comment">// 3 weeks ago</span>
<span class="hljs-keyword">echo</span> Carbon::now()-&gt;subDays(<span class="hljs-number">24</span>)-&gt;diffForHumans(<span class="hljs-keyword">null</span>, <span class="hljs-keyword">true</span>);    <span class="hljs-comment">// 3 weeks</span>
</code></pre> 
<blockquote> 
 <p>You can also change the locale of the string using <strong>Carbon::setLocale(‘fr’)</strong> before the <strong>diffForHumans()</strong> call. See the <strong>localization</strong> section for more detail.</p> 
</blockquote> 
<p>你也通过在 <strong>diffForHumans()</strong> 被调用前，使用 <strong>Carbon::setLocale(‘fr’)</strong> 来改变语言设置。详细请参考 <strong>localization</strong> 部分。</p> 
<h3 id="modifiers">Modifiers</h3> 
<blockquote> 
 <p>These group of methods perform helpful modifications to the current instance. Most of them are self explanatory from their names… or at least should be. You’ll also notice that the <strong>startOfXXX()</strong> , <strong>next()</strong> and previous() methods set the time to <em>00:00:00</em> and the <strong>endOfXXX()</strong> methods set the time to <em>23:59:59</em> . <br> The only one slightly different is the <strong>average()</strong> function. It moves your instance to the middle date between itself and the provided <strong>Carbon</strong> argument.这些方法组对修改当前实例很有帮助。你会注意到 <strong>startOfXXX()</strong>，<strong>next()</strong>，和 <strong>previous()</strong> 方法将会设置时间为 <em>00:00:00</em>，另外 <em>endOfXXX()</em> 方法将会设置时间为 <em>23:59:59</em> 。</p> 
</blockquote> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfDay();                            <span class="hljs-comment">// 2012-01-31 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfDay();                              <span class="hljs-comment">// 2012-01-31 23:59:59</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfMonth();                          <span class="hljs-comment">// 2012-01-01 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfMonth();                            <span class="hljs-comment">// 2012-01-31 23:59:59</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfYear();                           <span class="hljs-comment">// 2012-01-01 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfYear();                             <span class="hljs-comment">// 2012-12-31 23:59:59</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfDecade();                         <span class="hljs-comment">// 2010-01-01 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfDecade();                           <span class="hljs-comment">// 2019-12-31 23:59:59</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfCentury();                        <span class="hljs-comment">// 2000-01-01 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfCentury();                          <span class="hljs-comment">// 2099-12-31 23:59:59</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;startOfWeek();                           <span class="hljs-comment">// 2012-01-30 00:00:00</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfWeek == Carbon::MONDAY);        <span class="hljs-comment">// bool(true) : ISO8601 week starts on Monday</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;endOfWeek();                             <span class="hljs-comment">// 2012-02-05 23:59:59</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfWeek == Carbon::SUNDAY);        <span class="hljs-comment">// bool(true) : ISO8601 week ends on Sunday</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;next(Carbon::WEDNESDAY);                 <span class="hljs-comment">// 2012-02-01 00:00:00</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfWeek == Carbon::WEDNESDAY);     <span class="hljs-comment">// bool(true)</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;next();                                  <span class="hljs-comment">// 2012-01-08 00:00:00</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">31</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;previous(Carbon::WEDNESDAY);             <span class="hljs-comment">// 2012-01-25 00:00:00</span>
var_dump(<span class="hljs-variable">$dt</span>-&gt;dayOfWeek == Carbon::WEDNESDAY);     <span class="hljs-comment">// bool(true)</span>

<span class="hljs-variable">$dt</span> = Carbon::create(<span class="hljs-number">2012</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$dt</span>-&gt;previous();                              <span class="hljs-comment">// 2011-12-25 00:00:00</span>

<span class="hljs-variable">$start</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-variable">$end</span> = Carbon::create(<span class="hljs-number">2014</span>, <span class="hljs-number">1</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$start</span>-&gt;average(<span class="hljs-variable">$end</span>);                        <span class="hljs-comment">// 2014-01-15 12:00:00</span>

<span class="hljs-comment">// others that are defined that are similar</span>
<span class="hljs-comment">//   firstOfMonth(), lastOfMonth(), nthOfMonth()</span>
<span class="hljs-comment">//   firstOfQuarter(), lastOfQuarter(), nthOfQuarter()</span>
<span class="hljs-comment">//   firstOfYear(), lastOfYear(), nthOfYear()</span></code></pre> 
<h3 id="constants">Constants</h3> 
<blockquote> 
 <p>The following constants are defined in the <strong>Carbon</strong> class.</p> 
</blockquote> 
<p><strong>Carbon</strong> 中定义了以下常量。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-comment">// These getters specifically return integers, ie intval()</span>
var_dump(Carbon::SUNDAY);                          <span class="hljs-comment">// int(0)</span>
var_dump(Carbon::MONDAY);                          <span class="hljs-comment">// int(1)</span>
var_dump(Carbon::TUESDAY);                         <span class="hljs-comment">// int(2)</span>
var_dump(Carbon::WEDNESDAY);                       <span class="hljs-comment">// int(3)</span>
var_dump(Carbon::THURSDAY);                        <span class="hljs-comment">// int(4)</span>
var_dump(Carbon::FRIDAY);                          <span class="hljs-comment">// int(5)</span>
var_dump(Carbon::SATURDAY);                        <span class="hljs-comment">// int(6)</span>

var_dump(Carbon::YEARS_PER_CENTURY);               <span class="hljs-comment">// int(100)</span>
var_dump(Carbon::YEARS_PER_DECADE);                <span class="hljs-comment">// int(10)</span>
var_dump(Carbon::MONTHS_PER_YEAR);                 <span class="hljs-comment">// int(12)</span>
var_dump(Carbon::WEEKS_PER_YEAR);                  <span class="hljs-comment">// int(52)</span>
var_dump(Carbon::DAYS_PER_WEEK);                   <span class="hljs-comment">// int(7)</span>
var_dump(Carbon::HOURS_PER_DAY);                   <span class="hljs-comment">// int(24)</span>
var_dump(Carbon::MINUTES_PER_HOUR);                <span class="hljs-comment">// int(60)</span>
var_dump(Carbon::SECONDS_PER_MINUTE);              <span class="hljs-comment">// int(60)</span></code></pre> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$dt</span> = Carbon::createFromDate(<span class="hljs-number">2012</span>, <span class="hljs-number">10</span>, <span class="hljs-number">6</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$dt</span>-&gt;dayOfWeek === Carbon::SATURDAY) {
    <span class="hljs-keyword">echo</span> <span class="hljs-string">'Place bets on Ottawa Senators Winning!'</span>;
}</code></pre> 
<h3 id="carboninterval">CarbonInterval</h3> 
<blockquote> 
 <p>The <strong>Carbon</strong> class is inherited from the PHP <a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a> class.</p> 
</blockquote> 
<p><strong>Carbon</strong> 类继承了PHP 的<a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">DateInterval</a>类。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-preprocessor">&lt;?php</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CarbonInterval</span> <span class="hljs-keyword">extends</span> \<span class="hljs-title">DateInterval</span>
{<!-- --></span>
    <span class="hljs-comment">// code here</span>
}</code></pre> 
<blockquote> 
 <p>You can create an instance in the following ways:</p> 
</blockquote> 
<p>你也可以通过一下方法创建一个实例。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-keyword">echo</span> CarbonInterval::year();                           <span class="hljs-comment">// 1 year</span>
<span class="hljs-keyword">echo</span> CarbonInterval::months(<span class="hljs-number">3</span>);                        <span class="hljs-comment">// 3 months</span>
<span class="hljs-keyword">echo</span> CarbonInterval::days(<span class="hljs-number">3</span>)-&gt;seconds(<span class="hljs-number">32</span>);             <span class="hljs-comment">// 3 days 32 seconds</span>
<span class="hljs-keyword">echo</span> CarbonInterval::weeks(<span class="hljs-number">3</span>);                         <span class="hljs-comment">// 3 weeks</span>
<span class="hljs-keyword">echo</span> CarbonInterval::days(<span class="hljs-number">23</span>);                         <span class="hljs-comment">// 3 weeks 2 days</span>
<span class="hljs-keyword">echo</span> CarbonInterval::create(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>);      <span class="hljs-comment">// 2 years 5 weeks 1 day 1 hour 2 minutes 7 seconds</span></code></pre> 
<blockquote> 
 <p>If you find yourself inheriting a <a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">\DateInterval</a> instance from another library, fear not! You can create a <strong>CarbonInterval</strong> instance via a friendly <strong>instance()</strong> function.</p> 
</blockquote> 
<p>如果你继承的 <a href="http://php.net/manual/en/class.dateinterval.php" rel="nofollow">\DateInterval</a> 实例来自其他类库，别怕，通过 <strong>instance()</strong> 这种友好的方式你手动可以创建一个 <strong>CarbonInterval</strong> 实例。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-variable">$di</span> = <span class="hljs-keyword">new</span> \DateInterval(<span class="hljs-string">'P1Y2M'</span>); <span class="hljs-comment">// &lt;== instance from another API</span>
<span class="hljs-variable">$ci</span> = CarbonInterval::instance(<span class="hljs-variable">$di</span>);
<span class="hljs-keyword">echo</span> get_class(<span class="hljs-variable">$ci</span>);                                   <span class="hljs-comment">// 'Carbon\CarbonInterval'</span>
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$ci</span>;                                              <span class="hljs-comment">// 1 year 2 months</span></code></pre> 
<blockquote> 
 <p>Other helpers, but beware the implemenation provides helpers to handle weeks but only days are saved. Weeks are calculated based on the total days of the current instance.</p> 
</blockquote> 
<p>其他的一些辅助方法，但要注意这些辅助方法处理周时，只有天会被保存下来。并且是在当前实例的总天数基础上计算周。</p> 
<pre class="prettyprint"><code class="language-php hljs "><span class="hljs-keyword">echo</span> CarbonInterval::year()-&gt;years;                    <span class="hljs-comment">// 1</span>
<span class="hljs-keyword">echo</span> CarbonInterval::year()-&gt;dayz;                     <span class="hljs-comment">// 0</span>
<span class="hljs-keyword">echo</span> CarbonInterval::days(<span class="hljs-number">24</span>)-&gt;dayz;                   <span class="hljs-comment">// 24</span>
<span class="hljs-keyword">echo</span> CarbonInterval::days(<span class="hljs-number">24</span>)-&gt;daysExcludeWeeks;       <span class="hljs-comment">// 3</span>
<span class="hljs-keyword">echo</span> CarbonInterval::weeks(<span class="hljs-number">3</span>)-&gt;days(<span class="hljs-number">14</span>)-&gt;weeks;        <span class="hljs-comment">// 2  &lt;-- days setter overwrites the current value</span>
<span class="hljs-keyword">echo</span> CarbonInterval::weeks(<span class="hljs-number">3</span>)-&gt;weeks;                  <span class="hljs-comment">// 3</span>
<span class="hljs-keyword">echo</span> CarbonInterval::minutes(<span class="hljs-number">3</span>)-&gt;weeksAndDays(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>);   <span class="hljs-comment">// 2 weeks 5 days 3 minutes</span></code></pre> 
<blockquote> 
 <p>It also has a handy <strong>forHumans()</strong> , which is mapped as the <strong>__toString()</strong> implementation, that prints the interval for humans.</p> 
</blockquote> 
<p>也有一个方便的 <strong>forHumans()</strong>，在调用 <strong>__toString()</strong> 方法时，自动执行，并打印出可读性更好的时间格式。</p> 
<pre class="prettyprint"><code class="language-php hljs ">CarbonInterval::setLocale(<span class="hljs-string">'fr'</span>);
<span class="hljs-keyword">echo</span> CarbonInterval::create(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>)-&gt;forHumans();        <span class="hljs-comment">// 2 ans 1 mois</span>
<span class="hljs-keyword">echo</span> CarbonInterval::hour()-&gt;seconds(<span class="hljs-number">3</span>);               <span class="hljs-comment">// 1 heure 3 secondes</span>
CarbonInterval::setLocale(<span class="hljs-string">'en'</span>);</code></pre> 
<blockquote> 
 <p>As you can see, you can change the locale of the string using <strong>CarbonInterval::setLocale(‘fr’)</strong> . <br> 当然，你可以通过 <strong>CarbonInterval::setLocale(‘fr’)</strong> 来改变语言显示。</p> 
</blockquote> 
<h2 id="thank-you-for-your-reading">Thank you for your reading.</h2>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b6734d7cb8b5ee833c36ed7fc2cc327f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MinGW 编译zlib、libpng</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c1493cbf7d0dbf7dd489b926ad6eed30/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">恶意代码--dll动态链接库注入目标进程隐藏自身（亲测win7x86和x64有效）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>