<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>小程序中使用动画的四种方式 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="小程序中使用动画的四种方式" />
<meta property="og:description" content="既然是前端开发，那么页面的动画必然是一个少不了的东西，下面我们就来研究研究小程序的动画是怎么来实现的
1、利用样式实现小程序动画(用法和css用法相识)
wxml 文件
&lt;image class=&#34;aniamtion&#34; src=&#34;../../images/page4.jfif&#34; style=&#34;width:200rpx;height:200rpx; position: relative;&#34;&gt;&lt;/image&gt; wxss文件
.aniamtion { animation: mymove 5s infinite; /* //infinite属性是表示无限循环的意思，没有这个属性的话动画只执行一次。 */ } @keyframes mymove { from { /* left: 0px; */ /* transform: rotate(7deg) skew(50deg) translate(30rpx,30rpx); */ transform: rotate3d(100,200,300,0deg); } to { /* left: 200px; */ /* transform: rotate(7deg) skew(5deg) translate(100rpx,100rpx); */ transform: rotate3d(200,300,400,360deg); } } 2、 用小程序的API来实现动画
用wx.createAnimation(object) 来创建一个动画 --&gt;返回一个animation对象
创建一个动画实例 animation。
onReady: function () { this.animation = wx.createAnimation({ duration:1000, timingFunction:&#39;linear&#39;, delay:100, transformOrigin:&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/95a4536d8fab711b3ceb4be2c180c5cf/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-11-27T10:07:11+08:00" />
<meta property="article:modified_time" content="2019-11-27T10:07:11+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">小程序中使用动画的四种方式</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>既然是前端开发，那么页面的动画必然是一个少不了的东西，下面我们就来研究研究小程序的动画是怎么来实现的<br> 1、利用样式实现小程序动画(用法和css用法相识)<br> wxml 文件</p> 
<pre><code>&lt;image class="aniamtion" src="../../images/page4.jfif" style="width:200rpx;height:200rpx;  position:  relative;"&gt;&lt;/image&gt;
</code></pre> 
<p>wxss文件</p> 
<pre><code>.aniamtion {
  animation: mymove 5s infinite;
  /* //infinite属性是表示无限循环的意思，没有这个属性的话动画只执行一次。 */
}

@keyframes mymove {
  from {
    /* left: 0px; */
	/* transform: rotate(7deg) skew(50deg) translate(30rpx,30rpx); */
	transform: rotate3d(100,200,300,0deg);
  }

  to {
   /* left: 200px; */
	/* transform: rotate(7deg) skew(5deg) translate(100rpx,100rpx); */
	transform: rotate3d(200,300,400,360deg);
  }
}
</code></pre> 
<p>2、 用小程序的API来实现动画<br> 用wx.createAnimation(object) 来创建一个动画 --&gt;返回一个animation对象<br> 创建一个动画实例 animation。</p> 
<pre><code>  onReady: function () {
	this.animation = wx.createAnimation({
		duration:1000,
		timingFunction:'linear',
		delay:100,
		transformOrigin:"left top 0"
	})
  },
</code></pre> 
<p>调用实例的方法来描述动画。<br> Animation.step() 表示一组动画的完成，可以在一组动画中调用任意多个动画方法，一组动画中的所有动画会同时开始，一组动画完成后才会进行下一组动画</p> 
<pre><code> rotate(){
	  this.animation.rotate(150).step() //对动画进行简单的描述
	  this.setData({
           animation:this.animation.export()
	  })
  },
</code></pre> 
<p>最后通过动画实例的 export 方法导出动画数据传递给组件的 animation 属性。<br> this.animation.export() 导出动画队列。export 方法每次调用后会清掉之前的动画操作</p> 
<pre><code> rotate(){
	  this.animation.rotate(150).step() //对动画进行简单的描述
	  this.setData({ // 在setData({}) 导出动画数据数据给组件
           animation:this.animation.export()
	  })
  },
</code></pre> 
<p>完整的wxml</p> 
<pre><code>&lt;view class="container"&gt;
	&lt;view animation="{<!-- -->{animation}}" class="view"&gt;
		将做动画的块
	&lt;/view&gt;
&lt;/view&gt;
&lt;button type="default" size="mini" bindtap="rotate"&gt;
	旋转
&lt;/button&gt;
</code></pre> 
<p>完整的js</p> 
<pre><code>Page({
  data: {
	animation:''
  },
  onReady: function () {
	this.animation = wx.createAnimation({
		duration:1000,
		timingFunction:'linear',
		delay:100,
		transformOrigin:"left top 0"
	})
  },
  rotate(){
	  this.animation.rotate(150).step().translate(100).step()
	  this.setData({
		  animation:this.animation.export()
	  })
  }
})
</code></pre> 
<p>3、用选择器来绑定组件来来实现组件的动画（小程序2.9.0 的库可用，版本不够会报this.animate不是一个方法）</p> 
<pre><code>&lt;text&gt;pages/index7/index7.wxml&lt;/text&gt;
&lt;view id="container" style="height: 100px; width: 100px; background-color: blue;"&gt;
  container
&lt;/view&gt;
&lt;view class="block" style="height: 100px; width: 100px;background-color: #ccc;"&gt;
  block
&lt;/view&gt;
</code></pre> 
<p>用选择器选择相应的组件进行相应的动画<br> 进行关键帧的处理</p> 
<pre><code>onLoad: function () {
    this.animate('#container', [
      { opacity: 1.0, rotate: 0, backgroundColor: '#FF0000' },
      { opacity: 0.5, rotate: 45, backgroundColor: '#00FF00' },
      { opacity: 1.0, rotate: 90, backgroundColor: '#FF0000' },
    ], 5000)
    this.animate('.block', [
      { scale: [1, 1], rotate: 0, ease: 'ease-out' },
      { scale: [1.5, 1.5], rotate: 45, ease: 'ease-in'},
      { scale: [2, 2], rotate: 90 },
    ], 5000)
  },
 } 
</code></pre> 
<p>4、用第三方的库 animation.css<br> 需要做的有<br> 从https://daneden.github.io/animate.css/下载css动画文件<br> 把 .css 文件 改名成 .wxss文件（可进行相应的需改，毕竟小程序的大小限制摆在那里）<br> 把它引入到你的app.wxss文件中<br> @import “动画文件的相对目录”</p> 
<p>在用的时候把他和你的样式绑定</p> 
<pre><code>&lt;view class="swing" style="height: 100px; width: 100px;background-color: #ccc;"&gt;
	block
&lt;/view&gt;
// 给类名为swing 的文件绑定swing 的动画
.swing{
	animation: swing 5s infinite;
}
</code></pre> 
<p>ok,动画完成</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2b214340d1eada6f69c77c31666f3a9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【沃趣科技】MySQL高可用工具Orchestrator系列四：拓扑恢复</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2a4e3f6b666871a4116b3e535b61def2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">汇编指令--移位操作SHL、SHR、SAL、SAR以及它们的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>