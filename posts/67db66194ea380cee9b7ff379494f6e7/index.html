<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微服务之间互相调用出现的错误 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="微服务之间互相调用出现的错误" />
<meta property="og:description" content="场景：
微服务A调用微服务B的接口，微服务B的接口请求方式是get类型，传递的参数是JSON格式。 错误：
1、postman：springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;com.cechds.diagnosis.domain.OnlineRegisterScheduleDetail&gt;` from Object value (token `JsonToken.START_OBJECT`);
2、微服务B：
心路历程：
1、我找了请求方式的问题，发现一点毛病没有，都是get请求，但是为啥微服务B中报错的原因尽然是请求方式不支持POST。
2、看了postman给我的报错原因，我也核实了请求参数是否传递有问题，最后发现也没毛病。
当我准备放弃时，向打开chat问一问它时，我就想既然你有报错时不支持POST请求，那我就把所有的请求方式改一下，都改成POST。最后启动项目，postman测试，发现通了。
然后，我冷静分析了一波……最后我明白了：出现问题的根本原因就是GET和POST请求方式的不同以及服务器和客户端对请求方式支持的程度不同导致的。
POST和GET的区别：
1、常规的设计原则是使用 GET 请求用于获取资源，而 POST 请求用于创建资源；
2、GET 请求通常用于查询，而查询参数通常会附加在 URL 上，而不是在请求体中传递 JSON 数据。因此，GET 请求通常不用于传递复杂的结构化数据，例如 JSON；
3、POST 请求通常用于在服务器上创建新资源，并且可以在请求体中传递复杂的结构化数据，例如 JSON。这种设计符合 RESTful 架构的原则，即使用不同的 HTTP 方法来表示不同的操作。
虽然 HTTP 规范并没有明确规定 GET 请求不能包含请求体，但是在实际应用中，许多服务器和客户端的实现对 GET 请求体的支持不够完善，可能导致一些不一致性和问题。在微服务之间进行 HTTP 调用时，通常建议遵循 RESTful 设计原则，并根据不同的操作选择适当的 HTTP 方法。如果需要传递数据，尤其是结构化数据，POST 请求通常被认为是更合适的选择。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/67db66194ea380cee9b7ff379494f6e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-04T14:35:07+08:00" />
<meta property="article:modified_time" content="2024-01-04T14:35:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">微服务之间互相调用出现的错误</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>场景：</p> 
<p>微服务A调用微服务B的接口，微服务B的接口请求方式是get类型，传递的参数是JSON格式。 </p> 
<blockquote> 
 <p><strong>错误：</strong></p> 
 <p><strong>1、postman：</strong>springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList&lt;com.cechds.diagnosis.domain.OnlineRegisterScheduleDetail&gt;` from Object value (token `JsonToken.START_OBJECT`);</p> 
 <p><strong>2、微服务B：</strong></p> 
 <p><img alt="" height="184" src="https://images2.imgbox.com/76/21/Z0xEJB9x_o.png" width="1200"></p> 
</blockquote> 
<p> 心路历程：</p> 
<p>1、我找了请求方式的问题，发现一点毛病没有，都是get请求，但是为啥微服务B中报错的原因尽然是请求方式不支持POST。</p> 
<p>2、看了postman给我的报错原因，我也核实了请求参数是否传递有问题，最后发现也没毛病。</p> 
<p>当我准备放弃时，向打开chat问一问它时，我就想既然你有报错时不支持POST请求，那我就把所有的请求方式改一下，都改成POST。最后启动项目，postman测试，发现通了。</p> 
<p><strong>然后，我冷静分析了一波……最后我明白了：出现问题的根本原因就是GET和POST请求方式的不同以及服务器和客户端对请求方式支持的程度不同导致的。</strong></p> 
<blockquote> 
 <p>POST和GET的区别：</p> 
 <p>1、常规的设计原则是使用 GET 请求用于获取资源，而 POST 请求用于创建资源；</p> 
 <p>2、GET 请求通常用于查询，而查询参数通常会附加在 URL 上，而不是在请求体中传递 JSON 数据。因此，GET 请求通常不用于传递复杂的结构化数据，例如 JSON；</p> 
 <p>3、POST 请求通常用于在服务器上创建新资源，并且可以在请求体中传递复杂的结构化数据，例如 JSON。这种设计符合 RESTful 架构的原则，即使用不同的 HTTP 方法来表示不同的操作。</p> 
 <p><strong>虽然 HTTP 规范并没有明确规定 GET 请求不能包含请求体，但是在实际应用中，许多服务器和客户端的实现对 GET 请求体的支持不够完善，可能导致一些不一致性和问题。在微服务之间进行 HTTP 调用时，通常建议遵循 RESTful 设计原则，并根据不同的操作选择适当的 HTTP 方法。如果需要传递数据，尤其是结构化数据，POST 请求通常被认为是更合适的选择。</strong></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1e42ccb3bb8292cbcc9fa1a1c6f8dc56/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">easycode 插件配置文件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bc459aef6ec965c3c6b515794beeee2e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">记一次使用mpvue开发微信小程序动画播放播放完成再播放下一个动画，实现动画队列的实战操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>