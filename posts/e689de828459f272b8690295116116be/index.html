<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux学习-常用文件目录操作命令（一） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux学习-常用文件目录操作命令（一）" />
<meta property="og:description" content="1、Linux特点
Linux是Unix的衍生版本，Mac os则是Unix 基础上的另一种操作系统。Linux版本主要分为内核版本和发行版本，内核版本主要是操作系统内核，一般我们无法直接使用，而是使用社区或厂商在linux内核基础上研发的发行版本，比如redhat、centos、ubuntu等。
与windows区别：
1、Linux严格区分大小写
2、Linux一切皆文件，无论软件程序还是硬件都对应一个文件
3、Linux区分文件类型并不是根据文件后缀，而是根据文件的权限，但是有一些约定的文件类型来使人区别文件类型
4、windows程序不能直接运行在linux上
Linux一般用于企业服务器或嵌入式（支持裁剪），企业级服务器中一般没有图形界面，因为有更多的额外的程序服务，就会带来更大的风险。linux作为开源软件，拥有丰富的配套资源软件，但是游戏就比较少。
发行版本ubuntu与centos区别是ubuntu图形界面更完善一些，但是也没有达到很优秀，但是centos更稳定一些，做企业级服务器更好。
2、Linux文件用户权限
‘- - - - - - - - - -’
Linux文件权限总共有10位，第1位表示文件的类型-(文件)、d(目录)、l(链接)、b(存储设备)、c(串口设备) 连续---表示rwx（4 2 1） 第1个连续三位表示所有者对文件的权限； 第2个连续三位表示文件所属用户组对文件的权限 第3个连续三位表示其他用户对文件的权限 3、修改用户对文件的权限
chmod 修改文件权限
文字设定法
chmod ［ugoa］ ［&#43; | – | =］ ［rwxugofvr…］ 文件名
chmod ugo&#43;w file.txt //等价 chmod a&#43;w file.txt
数字设定法
chmod ［r4 w2 x1］ 文件名
chmod 777 file.txt chmod 664 file.txt chown 修改文件所属主或者组
语法：chown ［cvR…］ 用户或组 文件
chown -R lisi /d1/d2/file //R表示递归包括文件以及目录都修改所有者 不使用R则只是文件或目录file下所有子文件夹权限修改 修改文件所有组 chgrp" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/e689de828459f272b8690295116116be/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-11-06T22:01:36+08:00" />
<meta property="article:modified_time" content="2018-11-06T22:01:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux学习-常用文件目录操作命令（一）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><strong>1、Linux特点</strong><br> Linux是Unix的衍生版本，Mac os则是Unix 基础上的另一种操作系统。Linux版本主要分为内核版本和发行版本，内核版本主要是操作系统内核，一般我们无法直接使用，而是使用社区或厂商在linux内核基础上研发的发行版本，比如redhat、centos、ubuntu等。<br> 与windows区别：<br> 1、Linux严格区分大小写<br> 2、Linux一切皆文件，无论软件程序还是硬件都对应一个文件<br> 3、Linux区分文件类型并不是根据文件后缀，而是根据文件的权限，但是有一些约定的文件类型来使人区别文件类型<br> 4、windows程序不能直接运行在linux上<br> Linux一般用于企业服务器或嵌入式（支持裁剪），企业级服务器中一般没有图形界面，因为有更多的额外的程序服务，就会带来更大的风险。linux作为开源软件，拥有丰富的配套资源软件，但是游戏就比较少。<br> 发行版本ubuntu与centos区别是ubuntu图形界面更完善一些，但是也没有达到很优秀，但是centos更稳定一些，做企业级服务器更好。<br> <strong>2、Linux文件用户权限</strong><br> ‘- - - - - - - - - -’</p> 
<pre><code>	Linux文件权限总共有10位，第1位表示文件的类型-(文件)、d(目录)、l(链接)、b(存储设备)、c(串口设备)
	连续---表示rwx（4 2 1）
	第1个连续三位表示所有者对文件的权限；
	第2个连续三位表示文件所属用户组对文件的权限 
	第3个连续三位表示其他用户对文件的权限
</code></pre> 
<p><strong>3、修改用户对文件的权限</strong><br> chmod 修改文件权限<br> 文字设定法<br> chmod ［ugoa］ ［+ | – | =］ ［rwxugofvr…］ 文件名<br> <code>chmod ugo+w file.txt //等价 chmod a+w file.txt</code><br> 数字设定法<br> chmod ［r4 w2 x1］ 文件名</p> 
<pre><code>chmod 777 file.txt
chmod 664 file.txt
</code></pre> 
<p>chown 修改文件所属主或者组<br> 语法：chown ［cvR…］ 用户或组 文件</p> 
<pre><code>chown -R lisi /d1/d2/file    //R表示递归包括文件以及目录都修改所有者 不使用R则只是文件或目录file下所有子文件夹权限修改
</code></pre> 
<p>修改文件所有组 chgrp<br> 语法： chgrp [组名] [文件名]</p> 
<pre><code>chgrp group1 file.txt
</code></pre> 
<p><strong>4、常用文件和目录修改命令</strong><br> 角色切换 su</p> 
<pre><code>su root	    su jack
sudo 用于在执行命令前表示该用户执行被授予的root部分权限，前提是该用户已经在sudoers中
mkdir /dir  //提示权限不够
sudo mkdir /dir    //则可以执行成功
</code></pre> 
<p>目录切换cd</p> 
<pre><code>//当前为根目录/
cd ect/      //相对路径
cd /ect/    //绝对路径
cd     //返回家目录
cd -  //返回上一次所在目录cd
cd ..  //返回上一级目录
cd . //当前目录
</code></pre> 
<p>返回当前用户所处绝对路径 pwd</p> 
<pre><code>pwd      // /etc
</code></pre> 
<p>查看文件信息 ls</p> 
<pre><code>ls [-alhdRt] 目录
-a 全部文件连同隐藏文件（.开头的文件）但是并不列出子目录下文件或目录
-l 列出长数据串，包含文件属性权限 引用次数等
-h 文件容量以易读的方式（KB、GB）列出来
-d 仅列出目录本身
-R 不仅列出本目录下文件，同时递归列出子目录及文件
-t 列出文件以时间排序

ls -al  //显示当前目录下所有的文件和目录
ls -al  /etc  //显示etc目录下所有的文件和目录
</code></pre> 
<p>创建文件cat （vi filename 、touch filename）</p> 
<pre><code>cat [-nb] filename    //显示一个已存在的文件的所有内容 n显示行号 b对于空白行不编号
cat &gt;filename         //输入内替换原来文件内容 如果文件不存在，则创建一个新文件 ctr+d 退出
cat &gt;filename &lt;&lt;EOF(可自定义)  //与上面功能一样，只不过在新的一行输入EOF表示退出编辑
cat &gt;&gt;filename     //在原来文件内容后面追加内容，如果文件 不存在则新创建文件
cat &gt;&gt;filename &lt;&lt;EOF   //与上面功能一致，同样在新的一行输入EOF表示退出
</code></pre> 
<p>创建目录 mkdir</p> 
<pre><code>mkdir  /world         //绝对路径方式创建world目录
mkdir world          //相对路径 当前路径下创建world目录
mkdir -p /world/world1/world2     //一次创建多级目录
</code></pre> 
<p>删除目录文件 rm</p> 
<pre><code>rm -rf 目录或文件   // r递归删除 f强制删除  i对话提示
</code></pre> 
<p>拷贝文件或目录cp</p> 
<pre><code>cp [-pdra] 源 目标
-p 连同文件属性一块复制 包括时间
-r 递归复制
-d若源文件为连接文件的属性，则复制连接文件属性，而非文件本身
</code></pre> 
<p>移动文件目录或改名（同一个目录下）mv</p> 
<pre><code>mv file  dir    //文件移动到dir下
mv file1 file2  dir   /如果是多个源文件，则最后一个一定是目标目录
</code></pre> 
<p>将一个文件在另一个文件上建立连接 ln</p> 
<pre><code>ln  file1  file2     //相当于对file1起别名file2 删除其中一个 不影响另一个使用  硬链接 不能用于目录 跨分区
ln  -s file1  file2  //软连接 如果删除file1，则file2也不能使用
</code></pre> 
<p><strong>4、文件目录查找命令</strong> <br> 查找文件命令<br> locate [-ibc…] filename<br> locate （只能文件名）比find （但强大）命令快，主要是因为locate并不是像find那样检索相应的所有的文件系统目录，locate是只检索/var/lib/mlocate/mlocate.db数据库，但是这个数据库由系统每天更新一次，所以存在刚创建的文件 locate搜索不到。<br> 还有就是即使更新（updatedb）有些目录下也搜索不到，主要是因为在locate搜索更新配置文件/etc/updatedb.conf中在搜索的时候把默写目录已经排除在外 比如/temp 、/var/temp<br> 可自行修改搜索限制</p> 
<pre><code>[root@localhost /]# cat /etc/updatedb.conf
PRUNE_BIND_MOUNTS = "yes"
PRUNEFS = "9p afs anon_inodefs auto autofs bdev binfmt_misc cgroup cifs coda configfs cpuset debugfs devpts ecryptfs exofs fuse fuse.sshfs fusectl gfs gfs2 gpfs hugetlbfs inotifyfs iso9660 jffs2 lustre mqueue ncpfs nfs nfs4 nfsd pipefs proc ramfs rootfs rpc_pipefs securityfs selinuxfs sfs sockfs sysfs tmpfs ubifs udf usbfs"
PRUNENAMES = ".git .hg .svn"
PRUNEPATHS = "/afs /media /mnt /net /sfs /tmp /udev /var/cache/ccache /var/lib/yum/yumdb /var/spool/cups /var/spool/squid /var/tmp"


</code></pre> 
<pre><code>[root@localhost dirtest]# touch gf.txt
[root@localhost dirtest]# locate /dirtest/gf
[root@localhost dirtest]# updatedb 
[root@localhost dirtest]# locate /dirtest/gf
/dirtest/gf.txt

</code></pre> 
<p>查找命令的命令<br> whereis [-b（显示可执行文件）m（显示帮助文档）] 系统命令</p> 
<pre><code>[root@localhost /]# whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz
</code></pre> 
<p>which 系统命令<br> 显示命令所在路径 有别名会显示别名</p> 
<pre><code>[root@localhost /]# which cd
/usr/bin/cd
[root@localhost /]# which ls
alias ls='ls --color=auto'
	/usr/bin/ls
</code></pre> 
<p>命令执行时根据PATH环境变量中来搜索的并执行</p> 
<pre><code>[root@localhost /]# echo $PATH
/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin:/bin:/sbin:/home/lr/.local/bin:/home/lr/bin

</code></pre> 
<p>强大的查找find命令<br> find [搜索范围] [搜索条件]</p> 
<p>[root@localhost /]# find /dirtest -name <a href="http://hello.sh" rel="nofollow">hello.sh</a> //在范围内 根据文件名全匹配搜索<br> /dirtest/hello.sh<br> //只搜索文件<br> [root@localhost dirtest]# find . -type f<br> ./file1.txt<br> ./hello.sh<br> ./test/file.sh<br> ./ff.txt<br> ./ff<br> ./f<br> ./gf.txt</p> 
<p>//只搜索目录<br> [root@localhost dirtest]# find . -type d<br> .<br> ./test<br> ./test1<br> ./test2<br> ./tets3<br> ./tets3/test31<br> ./tets3/test31/test32</p> 
<p>//通配符匹配文件名 任意符号* 单个字符？ 其中任意一个字符[]<br> [root@localhost dirtest]# find . -iname “*.sh” //i不区分大小写 含通配符部分要用引号<br> ./hello.sh</p> 
<p>//组合命令 -exec 命令 {} ; 固定格式 对前面执行后在执行这个命令<br> [root@localhost dirtest]# find . -type f -print -exec ls -al {} ;<br> ./file1.txt<br> -rw-r–r--. 1 root root 52 10月 19 16:43 ./file1.txt<br> //加-print会把文件对象输出<br> [root@localhost dirtest]# find . -type f -exec ls -al {} ;<br> -rw-r–r--. 1 root root 52 10月 19 16:43 ./file1.txt<br> //找到某个文件并删除<br> [root@localhost dirtest]# find . -name f -exec rm -rf f {} ;</p> 
<p>//查找文件权限为644的文件<br> find ./ -perm 644<br> //根据大小查找文件 等于2k（M）大于+2k（M） 小于-2k（M）<br> find ./ -size -2k<br> //根据修改文件内容时间（天）查找 2 +2 -2 （其它时间雷同 ctime 属性修改 atime 访问）<br> find . -mtime -2<br> //根据修改文件内容时间（分钟）查找 2 +2 -2<br> find . -mmin -2<br> //根据文件所属用户查找<br> [lr@localhost dirtest]$ find . -user root</p> 
<p>查找文件中的字符串grep 常与find搭配使用</p> 
<p>grep [-iv] 字符串 文件名<br> -i 忽略字符串大小写<br> -v 排除字符串</p> 
<pre><code>grep -v he hello.sh
//与find组合使用 查找指定目录下的文件中含有某个字符的行
[root@localhost practice]# find ./ -type f -print -exec grep "金庸" {} \; 
[root@localhost practice]# find ./ -type f -print | xargs grep -n "金庸"

</code></pre> 
<p>-exec与-args区别<br> -exec 结果参数是一个一个传递的，传递一个参数执行一次后面的命令 -print可以看出；把前面的命令标准输出，作为后面的命令的标准输入，其中{}表示前面命令的结果集，;表示命令终结符</p> 
<p>-xargs 是把结果一次（-n可指定传递个数）传递给后面指令执行。</p> 
<p><strong>5、查看命令帮助文档</strong><br> 帮助命令man（还有–help）（help 内核自带命令）(info 命令 文档巨大)<br> 查看用户命令如ls 而系统内核命令则可以用help cd来查看帮助文档</p> 
<pre><code>man ls  //查看ls命令
[root@localhost dirtest]# man -f ls    //查看该命令帮助等级数字
ls (1)               - list directory contents
ls (1p)              - list directory contents
[root@localhost dirtest]# whereis ls
ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz
[root@localhost dirtest]# man 1 ls
</code></pre> 
<p>//命令 --help也是查看帮助文档</p> 
<pre><code>[lr@localhost ~]$ ls --help
</code></pre> 
<p>// help 内核命令</p> 
<pre><code>help cd
</code></pre> 
<p>//info 命令</p> 
<pre><code>info ls
</code></pre> 
<p><strong>6、linux中常用文件目录压缩</strong><br> 格式 .zip .gz .bz2 -&gt;tar.gz tar.bz2（最常用）<br> gzip 压缩目录是自压缩目录下的文件，并不会压缩目录<br> bzip2 是不能压缩目录，因此 需要先打包成.tar单文件，然后压缩 可以命令一步完成</p> 
<p>zip 压缩后文件 源文件 //参数文件 可以用包含目录的文件<br> unzip 解压后文件 源压缩文件 //比如 file1 /dir1/file1</p> 
<pre><code>//压缩文件至当前目录
root@localhost dirtest]# zip  ff.zip  ff
//压缩文件至指定目录
root@localhost dirtest]# zip  dir2/ff.zip  ff
//解压至当前目录下
[root@localhost dirtest]# unzip ff.zip 
//解压文件至指定目录下
[root@localhost dirtest]# unzip dir2/ff.zip -d dir1/
//压缩目录加 -r 其他一样
[root@localhost dirtest]# zip -r dir2/d1.zip dir1
[root@localhost dirtest]# unzip  dir2/d1.zip 
</code></pre> 
<p>gzip 源文件 （源文件会消失 只当前目录下使用 不能跨目录，可以使用&gt;流到指定的目录或文件 ls &gt;abc.txt 把结果写入到文件）<br> gunzip 压缩文件 /gzip -d 压缩文件 （压缩文件也会消失）</p> 
<pre><code>//压缩文件
[root@localhost dirtest]# gzip ff
//解压文件
[root@localhost dirtest]# gzip -d ff.gz
//压缩文件夹  自压缩文件夹下的文件  注意 这个需 -r
[root@localhost dirtest]# gunzip -r dir1

</code></pre> 
<p>bzip2 源文件 （不会保留源文件 -k 保留源文件 且<strong>不能压缩目录</strong>）<br> bunzip2 压缩文件 /bzip2 -d 压缩文件 （-k 保留原文件）</p> 
<pre><code>//压缩文件
[root@localhost dirtest]# bzip2 --k ff
//解压文件
oot@localhost dirtest]# bunzip2 ff.bz2

</code></pre> 
<p>通过tar可以使命令和zip格式一样 （压缩类型z与j参数要放在最前）<br> tar -zcvf 压缩文件 源文件<br> tar -zxvf 压缩文件</p> 
<pre><code>//压缩
[root@localhost dirtest]# tar -zcvf ff.tar.gz ff
//解压
[root@localhost dirtest]# tar -zxvf ff.tar.gz
//压缩
[root@localhost dirtest]# tar -jcvf ff.tar.bz2 ff
//解压
[root@localhost dirtest]# tar -jxvf ff.tar.bz2
</code></pre> 
<p>7、关机与重启命令<br> shutdown [-rhc]</p> 
<pre><code>shutdown -h now  //现在关机  不使用 远程没办法再次开机
shutdown -r now //现在重启
shutdown  -r  10:00  //十点后重启
shutdown -r +20    //而是分钟后重启
shutdown -c      //取消刚才执行的关机命令
</code></pre> 
<p>重启 reboot<br> 其他关机命令 init [0-6]<br> 0：关机<br> 1：单用户模式 root<br> 2：不完全多用户，不包含nfs服务<br> 3：完全多用户<br> 4：未使用<br> 5：启用图形界面<br> 6：重启</p> 
<pre><code>init 0     
</code></pre> 
<p>8、挂载<br> mount [参数]设备符 挂载目录 //参数代表格式等<br> umount 设备符或挂载目录<br> 9、查看用户登录信息</p> 
<pre><code>[root@localhost ~]# w      //查看登陆的用户信息    **当前用户**
[root@localhost ~]# last   //查看所有用户登录信息
[root@localhost ~]# lastlog    //查看用户最后一次登录信息  查看是否有何黑客登录 即不是自己登录的记录

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fadf600589c6aef8ce3f1f508cbdae6f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">retinex图像增强算法ssr-msr-msrcr详解及其opencv源码</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f83e217ac2788f92dea76f3e9b5e5c0b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">排队论</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>