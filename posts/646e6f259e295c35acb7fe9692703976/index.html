<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>载波聚合（CA）-carrier aggregation - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="载波聚合（CA）-carrier aggregation" />
<meta property="og:description" content="1
为什么需要载波聚合？
一般来说，要提升网速或者容量，有下面几个思路：
建更多的基站：这样一来同一个基站下抢资源的人就少了，网速自然就上去了。但缺点是投入太大了，运营商肯定不会做亏本的买卖。
提升频谱效率：从2G到5G，有多少专家潜心钻研，一头青丝变华发，就是为了提升效率，在每赫兹的频谱上传更多的数据！可见这项工作是真的很艰难。
增加频谱带宽：这是提升容量最简单粗暴的办法了，从2G到5G，单个载波的带宽不断增长，从2G的200K，再到3G的5M，4G的20M，在5G时代甚至达到了100M（Sub6G频段）乃至400M（毫米波频段）！
然而，这一切努力在汹汹流量面前还是杯水车薪，这可怎么办？
只能再增加频谱带宽了！4G的做法主要是把2G和3G，乃至Wifi的频段抢过来用，5G的做法主要是扩展新频段，从传统的低频向带宽更大的高频发起冲击。
频谱千方百计搞到了，但载波的带宽却已经由协议定好了，不容再改，这又咋办？
说起来要实现也简单，人多力量大是永恒的真理，一个载波容量不够，我就再加一个一起传数据，不信速度上不去。什么，还不够？那就继续增加载波！
这种技术就叫做：载波聚合。
话说LTE的第一个版本因为容量有限，虽然被广泛宣传为4G技术，但实际上达不到国际电联的4G标准，业内也就称之为3.9G。
后来LTE演进到LTE-Advanced时，引入了5载波聚合，把单用户可用的带宽从20MHz扩大到了100MHz，这才坐稳了4G的头把交椅。
后面的5G，自然是继承了4G的衣钵，把载波聚合作为提升容量的利器。
2
载波聚合的分类及发展史
话说频谱资源是稀缺的，每个频段就那么一小段，因此载波聚合需要支持多种方式，以两载波聚合为例：
如果两个载波的频段相同，还相互紧挨着，频谱连续，就称作频段内连续的载波聚合。
如果两个载波的频段相同，但频谱不连续，中间隔了一段，就称作频段内不连续的载波聚合。
如果两个载波的频段不同，则称作频段间的载波聚合。
intra-band 中心频点间隔 N*300KHZ (N&gt;=1)
这三种方式包含了所有的情况，可谓任你几路来，都只一路去，再多的载波，也能给拧成一股绳。
参与载波聚合的每一个载波，又都叫做分量载波（Component Carrier，简称CC）。因此，3载波聚合也可称之为3CC。
这些载波在一起工作，需要相互协同，就总得有个主辅载波之分。
所谓主载波，就是承载信令，并管理其他载波的载波，也叫Pcell（Primary cell）。
辅载波也叫Scell（Secondary cell），用来扩展带宽增强速率，可由主载波来决定何时增加和删除。
主辅载波是相对终端来说的，对于不同终端，工作的主辅载波可以不同。并且，参与聚合的多个载波不限于同一个基站，也可以来自相邻的基站。
从4G的LTE-Advanced协议引入载波聚合之后，该技术就如脱缰的野马一样狂奔，从最初的5载波聚合，总带宽100MHz，再到后面的32载波聚合，总带宽可达640MHz！
到了5G时代，虽说可聚合的载波数量仅为16个，但架不住5G的载波带宽大啊。
Sub6G的单载波带宽最大100MHz，16个载波聚合一共就1.6GHz带宽了；毫米波频段更夸张，单载波带宽最大400MHz，16个载波聚合一共就有6.4GHz带宽！
时代的车轮就这样滚滚向前。前浪以为自己已经很牛逼了，但回头一看，后浪简直就是滔天巨浪啊，然后还没反应过来就已经被拍在了沙滩上摩擦。
3
5G的载波聚合技术
话说5G的载波聚合，相比4G来说更复杂一些。
首先5G的频段分为两类，FR1和FR2，也就是俗称的6GHz以下的频段（Sub6G），以及高频，也就毫米波（mmWave）。
FR1包含了众多从2G，3G和4G传承下来的频段，有些是FDD的，有些是TDD的。
这样一来，在FR1内部就存在FDD&#43;FDD频段间的载波聚合，FDD&#43;TDD频段间的载波聚合，以及TDD&#43;TDD频段间的载波聚合。
在上述的每个FDD或者TDD的频段内部，还可以由多个带内连续的载波聚合而成。3GPP定义了多种的聚合等级，对应于不同的聚合带宽和连续载波数。
比如上图中的FR1频段内载波聚合等级C，就表示2个带内连续的载波聚合，且总带宽在100MHz到200MHz之间。
不同于FR1，FR2是全新定义毫米波频段，双工方式全部都是TDD。
跟FR1类似，3GPP也为FR2频段定义了带内连续的多种的聚合等级，对应于不同的聚合带宽和连续载波数。
比如上图中的FR2频段内载波聚合等级M，就表示8个带内连续的载波聚合，且总带宽在700MHz到800MHz之间。
有了上述的定义，我们就可以在FR1内部频段内，频段间进行载波聚合，还能和FR2进行聚合，并且载波数量，以及每个载波的带宽也都可以不同，它们之间的排列组合非常多。
举个例子，“CA_n78A-n258M”这个组合，就代表n78（又称3.5GHz或者C-Band）和n258（毫米波26GHz）这两个频段间的聚合，其中n78的频段内聚合等级为A，也就是单载波，n258的频段内聚合等级为M，也就是有8个载波且总带宽小于800MHz。
4
NSA组网下的双连接技术
且说上面的5G内部载波聚合已经很强悍了，但这还只是带宽扩展的冰山一角。
5G在NSA架构下引入了双连接（Dual Connection，简称DC）技术，手机可以同时连接到4G基站和5G基站。
在双连接的基础上，4G部分和5G部分还都可以在其内部进行载波聚合，这就相当于把4G的带宽也加进来，可进一步增强下行传输速率！
在双连接下，手机同时接入4G基站和5G基站，这两基站也要分个主辅，一般情况下Option3系列架构中，4G基站作为控制面锚点，称之为主节点（Master Node），5G基站称之为辅节点（Secondary Node）。
主节点和辅节点都可以进行载波聚合。其中主节点的主载波和辅载波称为Pcell和Scell，辅节点的主载波和辅载波称为PScell和Scell。
带载波聚合的主节点和辅节点又可以被称作MCG（Master Cell Group，主小区组）和SCG（Secondary Cell Group，辅小区组）。
虽说NSA架构的初衷并不是提升速率，而是想着藉由4G来做控制面锚点，这样一来不但现网的4G核心网EPC可以利旧，还能使用成熟的4G覆盖来庇护5G这个初生的孩童。
但是客观上来讲，通过双连接技术，手机可同时连接4G和5G这两张网络，获取到的频谱资源更多，理论上的峰值下载速率可能要高于SA组网架构，除非以后把4G载波全部重耕到5G。
这些双连接加载波聚合的组合，也都是由协议定义的。
如果看到这串字符：DC_1A_n78A-n257M，我们先按照下划线“_”把它拆解为三个部分，DC，1A，和n78A-n257M。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/646e6f259e295c35acb7fe9692703976/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-11-08T20:25:54+08:00" />
<meta property="article:modified_time" content="2021-11-08T20:25:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">载波聚合（CA）-carrier aggregation</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p><strong><em>1</em></strong></p> 
<p> </p> 
<h3><a name="t0"></a><br>    </h3> 
<p><strong>为什么需要载波聚合？</strong></p> 
<p>一般来说，要提升网速或者容量，有下面几个思路：</p> 
<p><strong>建更多的基站</strong>：这样一来同一个基站下抢资源的人就少了，网速自然就上去了。但缺点是投入太大了，运营商肯定不会做亏本的买卖。</p> 
<p><strong>提升频谱效率</strong>：从2G到5G，有多少专家潜心钻研，一头青丝变华发，就是为了提升效率，在每赫兹的频谱上传更多的数据！可见这项工作是真的很艰难。</p> 
<p><strong>增加频谱带宽</strong>：这是提升容量最简单粗暴的办法了，<span style="color:#fe2c24;">从2G到5G</span>，<span style="color:#fe2c24;">单个载波的带宽不断增长，从2G的200K，再到3G的5M，4G的20M，在5G时代甚至达到了100M（Sub6G频段）乃至400M</span>（毫米波频段）！</p> 
<p>然而，这一切努力在汹汹流量面前还是杯水车薪，这可怎么办？</p> 
<p>只能再增加频谱带宽了！4G的做法主要是把2G和3G，乃至Wifi的频段抢过来用，5G的做法主要是扩展新频段，从传统的低频向带宽更大的高频发起冲击。</p> 
<p>频谱千方百计搞到了，但载波的带宽却已经由协议定好了，不容再改，这又咋办？</p> 
<p>说起来要实现也简单，人多力量大是永恒的真理，<span style="color:#fe2c24;">一个载波容量不够，我就再加一个一起传数据，不信速度上不去。什么，还不够？那就继续增加载波！</span></p> 
<p>这种技术就叫做：<strong>载波聚合</strong>。</p> 
<p>话说LTE的第一个版本因为容量有限，虽然被广泛宣传为4G技术，但实际上达不到国际电联的4G标准，业内也就称之为3.9G。</p> 
<p>后来LTE演进到L<span style="color:#fe2c24;">TE-Advanced时，引入了5载波聚合</span>，<span style="color:#fe2c24;">把单用户可用的带宽从20MHz扩大到了100MHz，这才坐稳了4G的头把交椅。</span></p> 
<p><img alt="" src="https://images2.imgbox.com/5b/8f/s3cRV2j4_o.png"></p> 
<p>后面的5G，自然是继承了4G的衣钵，把载波聚合作为提升容量的利器。</p> 
<p><strong><em>2</em></strong></p> 
<h3><a name="t1"></a><br>    </h3> 
<p><strong>载波聚合的分类及发展史</strong></p> 
<p>话说频谱资源是稀缺的，每个频段就那么一小段，因此载波聚合需要支持多种方式，以两载波聚合为例：</p> 
<p>如果两个载波的频段相同，还相互紧挨着，频谱连续，就称作频段内连续的载波聚合。</p> 
<p>如果两个载波的频段相同，但频谱不连续，中间隔了一段，就称作频段内不连续的载波聚合。</p> 
<p>如果两个载波的频段不同，则称作频段间的载波聚合。</p> 
<p>intra-band 中心频点间隔 N*300KHZ (N&gt;=1)</p> 
<p><img alt="" src="https://images2.imgbox.com/07/5e/DCjypjtC_o.png"></p> 
<p>这三种方式包含了所有的情况，可谓任你几路来，都只一路去，再多的载波，也能给拧成一股绳。</p> 
<p><span style="color:#fe2c24;">参与载波聚合的每一个载波，又都叫做分量载波（Component Carrier，简称CC</span>）。因此，3载波聚合也可称之为3CC。</p> 
<p>这些载波在一起工作，需要相互协同，就总得有个主辅载波之分。</p> 
<p>所<span style="color:#fe2c24;">谓主载波，就是承载信令，并管理其他载波的载波，也叫Pcell（Primary cell）</span>。</p> 
<p><span style="color:#fe2c24;">辅载波也叫Scell（Secondary cell）</span>，用来扩展带宽增强速率，可由主载波来决定何时增加和删除。</p> 
<p><img alt="" src="https://images2.imgbox.com/90/ef/7mOvsOX9_o.png"></p> 
<p>主辅载波是相对终端来说的，对于不同终端，工作的主辅载波可以不同。并且，参与聚合的多个载波不限于同一个基站，也可以来自相邻的基站。</p> 
<p>从4G的LTE-Advanced协议引入载波聚合之后，该技术就如脱缰的野马一样狂奔，从最初的<span style="color:#fe2c24;">5载波</span>聚合，总<span style="color:#fe2c24;">带宽100MHz，再到后面的32载波聚合，总带宽可达640MHz</span>！</p> 
<p>到了5G时代，虽说可聚合的载波数量仅为16个，但架不住5G的载波带宽大啊。</p> 
<p><span style="color:#fe2c24;">Sub6G的单载波带宽最大100MHz，16个载波聚合一共就1.6GHz带宽了</span>；<span style="color:#fe2c24;">毫米波频段更夸张，单载波带宽最大400MHz，16个载波聚合一共就有6.4GHz带宽！</span></p> 
<p><img alt="" src="https://images2.imgbox.com/87/5b/Dqr957Z6_o.png"></p> 
<p>时代的车轮就这样滚滚向前。前浪以为自己已经很牛逼了，但回头一看，后浪简直就是滔天巨浪啊，然后还没反应过来就已经被拍在了沙滩上摩擦。</p> 
<p><strong><em>3</em></strong></p> 
<h3><a name="t2"></a><br>    </h3> 
<p><strong>5G的载波聚合技术</strong></p> 
<p>话说5G的载波聚合，相比4G来说更复杂一些。</p> 
<p>首先5G的频段分为两类，FR1和FR2，也就是俗称<span style="color:#fe2c24;">的6GHz以下的频段（Sub6G），以及高频，也就毫米波（mmWave）。</span></p> 
<p><img alt="" src="https://images2.imgbox.com/c8/04/4VxREgtI_o.png"></p> 
<p>FR1包含了众多从2G，3G和4G传承下来的频段，有些是FDD的，有些是TDD的。</p> 
<p><img alt="" src="https://images2.imgbox.com/2a/81/ckfJlAJg_o.png"></p> 
<p>这样一来，在<span style="color:#fe2c24;">FR1内部就存在FDD+FDD频段间的载波聚合，FDD+TDD频段间的载波聚合，以及TDD+TDD频段间的载波聚合</span>。</p> 
<p>在上述的每个FDD或者TDD的频段内部，还可以由<span style="color:#fe2c24;">多个带内连续的载波聚合</span>而成。3GPP定义了多种的聚合等级，对应于不同的聚合带宽和连续载波数。</p> 
<p><img alt="" src="https://images2.imgbox.com/15/6f/MRrU26Od_o.png"></p> 
<p>比如上图中的FR1频段内载波聚合等级C，就表示2个带内连续的载波聚合，且总带宽在100MHz到200MHz之间。</p> 
<p>不同于FR1，FR2是全新定义毫米波频段，双工方式全部都是TDD。</p> 
<p><img alt="" src="https://images2.imgbox.com/0e/9b/ySntCXnM_o.png"></p> 
<p>跟FR1类似，3GPP也为FR2频段定义了带内连续的多种的聚合等级，对应于不同的聚合带宽和连续载波数。</p> 
<p><img alt="" src="https://images2.imgbox.com/77/f1/r1Y6dCyj_o.png"></p> 
<p>比如上图中的FR2频段内载波聚合等级M，就表示8个带内连续的载波聚合，且总带宽在700MHz到800MHz之间。</p> 
<p>有了上述的定义，我们就可以在FR1内部频段内，频段间进行载波聚合，还能和FR2进行聚合，并且载波数量，以及每个载波的带宽也都可以不同，它们之间的排列组合非常多。</p> 
<p>举个例子，“CA_n78A-n258M”这个组合，就代表n78（又称3.5GHz或者C-Band）和n258（毫米波26GHz）这两个频段间的聚合，<span style="color:#fe2c24;">其中n78的频段内聚合等级为A，也就是单载波，n258的频段内聚合等级为M，也就是有8个载波且总带宽小于800MHz</span>。</p> 
<p><strong><em>4</em></strong></p> 
<h3><a name="t3"></a><br>    </h3> 
<p><strong>NSA组网下的双连接技术</strong></p> 
<p>且说上面的5G内部载波聚合已经很强悍了，但这还只是带宽扩展的冰山一角。</p> 
<p>5G在NSA架构下引入了双连接（Dual Connection，简称DC）技术，手机可以同时连接到4G基站和5G基站。</p> 
<p><img alt="" src="https://images2.imgbox.com/d7/6b/Hyprc8RT_o.png"></p> 
<p>在双连接的基础上，4G部分和5G部分还都可以在其内部进行载波聚合，这就相当于把4G的带宽也加进来，可进一步增强下行传输速率！</p> 
<p><img alt="" src="https://images2.imgbox.com/9b/d3/TQC7mwfp_o.png"></p> 
<p>在双连接下，手机同时接入4G基站和5G基站，这两基站也要分个主辅，一般情况下Option3系列架构中，4G基站作为控制面锚点，称之为主节点（Master Node），5G基站称之为辅节点（Secondary Node）。</p> 
<p>主节点和辅节点都可以进行载波聚合。其中主节点的主载波和辅载波称为Pcell和Scell，辅节点的主载波和辅载波称为PScell和Scell。</p> 
<p>带载波聚合的主节点和辅节点又可以被称<span style="color:#fe2c24;">作MCG（Master Cell Group，主小区组）和SCG（Secondary Cell Group，辅小区组）。</span></p> 
<p><img alt="" src="https://images2.imgbox.com/d8/83/7T0B8Mwy_o.png"></p> 
<p>虽说NSA架构的初衷并不是提升速率，而是想着藉由4G来做控制面锚点，这样一来不但现网的4G核心网EPC可以利旧，还能使用成熟的4G覆盖来庇护5G这个初生的孩童。</p> 
<p>但是客观上来讲，通过双连接技术，手机可同时连接4G和5G这两张网络，获取到的频谱资源更多，理论上的峰值下载速率可能要高于SA组网架构，除非以后把4G载波全部重耕到5G。</p> 
<p>这些双连接加载波聚合的组合，也都是由协议定义的。</p> 
<p>如果看到这串字符：DC_1A_n78A-n257M，我们先按照下划线“_”把它拆解为三个部分，DC，1A，和n78A-n257M。</p> 
<p>DC就表示双连接，1A表示LTE band1（2100MHz）单载波，后面的n78A-n257M见前文的解释，这串字符综合起来就是5G FR1和FR2多个载波聚合后，在和一个4G载波进行了双连接。</p> 
<p><strong><em>5</em></strong></p> 
<h3><a name="t4"></a><br>    </h3> 
<p><strong>高通骁龙888集成的X60基带，下载速率是怎样达到7.5Gbps的？</strong></p> 
<p>话说近期高通发布了骁龙888芯片，这个名字确实非常吉利，其内部集成的X60基带也是非常牛逼的，号称能达到7.5Gbps的最大下载速度。</p> 
<p>我们且先看看X60主要都支持哪些高级能力：</p> 
<p><strong>频段支持：</strong>Sub6G（FR1）和mmWave（FR2）都支持，在Sub6G还支持4G和5G的动态频谱共享（Dynamic Spectrum Sharing，简称DSS）。</p> 
<p><strong>Sub6G能力：</strong>支持200M带宽，4x4 MIMO。也就是说，可以在这200M带宽（2个100M载波）上，同时接收4路不同的下载数据，也叫做4流。</p> 
<p><strong>mmWave能力：</strong>支持800M带宽，8个载波，2x2 MIMO。也就是说，这800M带宽被划分为了8个载波，每个100M，它们可聚合起来，同时接收2路不同的下载数据，也叫做2流。</p> 
<p><strong>载波聚合能力：</strong>Sub6G载波聚合（FDD+TDD，FDD+FDD，TDD+TDD），以及Sub6G和mmWave之间的载波聚合。</p> 
<p>那么，7.5Gbps的下载速率是怎么实现的呢？</p> 
<p>由于没有详细资料，蜉蝣君大概通过各种组合的拼凑，大概猜测了一下，这个速率可能是在NSA模式下，由一个5G Sub6G 100M载波加上7个mmWave 100M载波聚合起来， 再和4G的一个20MHz载波做了双连接而得来的。</p> 
<p><img alt="" src="https://images2.imgbox.com/1b/59/YlUC9KtR_o.png"></p> 
<p>当然，这只是芯片的上限能力，具体能把这些潜能发挥到多少，还要看手机厂家的具体实现。让我们拭目以待。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/b36fb0b7671f4bab294b73edd48ed28f/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">0-1背包问题（多种解决方案）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/80086f7d8a58957eed2078033e44f853/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Mybatis学习之LomBok</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>