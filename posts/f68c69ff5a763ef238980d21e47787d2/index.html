<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>R语言随机森林分析全流程 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="R语言随机森林分析全流程" />
<meta property="og:description" content="R语言随机森林全流程分析 引言 再2023年6月，如果你以Random Forest为关键词在Google Scholar检索，时间降序。
image-20230626173703705 你会发现这些方法用于各个领域的研究：GIS、环境、遥感（只要有大数据）
发表的期刊水平也参差不齐，有Frontiers、Remote Sensing（MDPI）、总环。
除了很少有顶尖期刊，但也不乏还不错的期刊，从一区到四区。为何这个方法一直在使用？这就引出了随机森林的几个优点。
随机森林是集成学习（Ensemble Learning），集成学习的基本思想就是将多个分类器组合，从而实现一个预测效果更好的集成分类器。
随机森林既可以胜任分类任务又可以胜任回归任务。机器学习中有两种任务，回归和分类，而随机森林可以同时胜任这两种任务。其中分类任务是对离散值进行预测（比如将一景图像中的植被，建筑，水体等地物类型分类）；回归任务是对连续值进行预测（比如根据已有的数据预测明天的气温是多少度，预测明天某基金的价格）。
随机森林能评估特征的相对重要性。集成学习模型的一大特点是可以输出特征重要性，特征重要性能够在一定程度上辅助我们对特征进行筛选，从而使得模型的鲁棒性更好。在实际研究中，也能提供一定的物理意义。
代码实现 借助于R语言的高效数据分析，我们使用R的randomForest包实现这一效果
数据集载入 首先加载数据集：
library(tidyverse)
data(airquality)
airquality &lt;- airquality %&gt;% na.omit()
airquality
image-20230626174902091 在airquality数据集中，Ozone是臭氧变量，其它太阳辐射Solar.R、风速Wind和温度Temp等等对臭氧的影响。
数据训练 这里首先把数据集划分训练集（70%）和测试集（30%）
使用randomForest开始训练，其中Ozone~代表臭氧Ozone为因变量，其它数据为自变量。
# To evaluate the performance of RF
# split traning data (70%) and validation data (30%)
set.seed(123)
train &lt;- sample(nrow(airquality), nrow(airquality)*0.7)
ozo_train &lt;- airquality[train, ]
ozo_test &lt;- airquality[-train, ]
# randomForest
library(randomForest)
# Random forest calculation（default 500 tress），please see ?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f68c69ff5a763ef238980d21e47787d2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-26T18:07:59+08:00" />
<meta property="article:modified_time" content="2023-06-26T18:07:59+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">R语言随机森林分析全流程</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <section id="nice" style="color: black; line-height: 1.6; word-spacing: 0px; letter-spacing: 0px; word-break: break-word; word-wrap: break-word; text-align: left; font-size: 15px; padding: 0 20px; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;"> 
 <h2 style="margin-top: 30px; padding: 0px; font-weight: bold; color: black; text-align: center; font-size: 2.1em; line-height: 1.8em; padding-top: 16px; padding-bottom: 10px; margin-bottom: 4px; border-bottom: 1px solid #c99833;"><span class="prefix" style="display: none;"></span><span class="content" style="letter-spacing: 0.07em; color: #515151; font-weight: 700;">R语言随机森林全流程分析</span><span class="suffix"></span></h2> 
 <h3 style="padding: 0px; font-weight: bold; color: black; font-size: 22px; letter-spacing: 0.07em; line-height: 1.8em; display: block; text-align: center; background-image: url(https://files.mdnice.com/user/3441/cafd93c8-f328-4ba7-9460-9b9e94b899ce.svg); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 70px; margin-top: 27px; margin-bottom: 27px;"><span class="prefix" style="display: none;"></span><span class="content" style="text-align: center; display: inline-block; line-height: 10px; color: #3e4ca3; background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 63px; padding-top: 29px; font-size: 20px; padding-bottom: 29px;">引言</span><span class="suffix"></span></h3> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">再2023年6月，如果你以Random Forest为关键词在Google Scholar检索，时间降序。</p> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/ec/48/Ldc7gw1C_o.png" alt="image-20230626173703705" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
  <figcaption style="text-align: center; margin-top: 0px; color: #7f7f7f; font-size: 13px; letter-spacing: 0.07em;">
    image-20230626173703705 
  </figcaption> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">你会发现这些方法用于各个领域的研究：GIS、环境、遥感（只要有大数据）</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">发表的期刊水平也参差不齐，有Frontiers、Remote Sensing（MDPI）、总环。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">除了很少有顶尖期刊，但也不乏还不错的期刊，从一区到四区。为何这个方法一直在使用？这就引出了随机森林的几个优点。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;"><strong style="font-weight: 600; color: #3e4ca3;">随机森林是集成学习（Ensemble Learning）</strong>，集成学习的基本思想就是将多个分类器组合，从而实现一个预测效果更好的集成分类器。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;"><strong style="font-weight: 600; color: #3e4ca3;">随机森林既可以胜任分类任务又可以胜任回归任务。</strong>机器学习中有两种任务，回归和分类，而随机森林可以同时胜任这两种任务。其中分类任务是对离散值进行预测（比如将一景图像中的植被，建筑，水体等地物类型分类）；回归任务是对连续值进行预测（比如根据已有的数据预测明天的气温是多少度，预测明天某基金的价格）。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;"><strong style="font-weight: 600; color: #3e4ca3;">随机森林能评估特征的相对重要性。</strong>集成学习模型的一大特点是可以输出特征重要性，特征重要性能够在一定程度上辅助我们对特征进行筛选，从而使得模型的鲁棒性更好。在实际研究中，也能提供一定的物理意义。</p> 
 <h3 style="padding: 0px; font-weight: bold; color: black; font-size: 22px; letter-spacing: 0.07em; line-height: 1.8em; display: block; text-align: center; background-image: url(https://files.mdnice.com/user/3441/cafd93c8-f328-4ba7-9460-9b9e94b899ce.svg); background-position: center center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 70px; margin-top: 27px; margin-bottom: 27px;"><span class="prefix" style="display: none;"></span><span class="content" style="text-align: center; display: inline-block; line-height: 10px; color: #3e4ca3; background-position: left center; background-repeat: no-repeat; background-attachment: initial; background-origin: initial; background-clip: initial; background-size: 63px; padding-top: 29px; font-size: 20px; padding-bottom: 29px;">代码实现</span><span class="suffix"></span></h3> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">借助于R语言的高效数据分析，我们使用R的<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">randomForest</code>包实现这一效果</p> 
 <h4 style="letter-spacing: 0.07em; margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; text-align: left; line-height: 1.4; margin: 27px 0 27px;"><span style="background-image: url(https://files.mdnice.com/user/3441/342eadea-afc8-4175-afeb-c9fa0fa6da15.svg); background-size: 15px 15px; display: inline-block; width: 15px; height: 15px; line-height: 15px;"></span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; margin-left: 8px; color: #3e4ca3;">数据集载入</span><span class="suffix" style="display: none;"></span></h4> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">首先加载数据集：</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">library(tidyverse)<br>data(airquality)<br>airquality &lt;- airquality %&gt;% na.omit()<br>airquality<br></code></pre> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/17/11/upySnGHC_o.png" alt="image-20230626174902091" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
  <figcaption style="text-align: center; margin-top: 0px; color: #7f7f7f; font-size: 13px; letter-spacing: 0.07em;">
    image-20230626174902091 
  </figcaption> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">在<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">airquality</code>数据集中，<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Ozone</code>是臭氧变量，其它太阳辐射<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Solar.R</code>、风速<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Wind</code>和温度<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Temp</code>等等对臭氧的影响。</p> 
 <h4 style="letter-spacing: 0.07em; margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; text-align: left; line-height: 1.4; margin: 27px 0 27px;"><span style="background-image: url(https://files.mdnice.com/user/3441/342eadea-afc8-4175-afeb-c9fa0fa6da15.svg); background-size: 15px 15px; display: inline-block; width: 15px; height: 15px; line-height: 15px;"></span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; margin-left: 8px; color: #3e4ca3;">数据训练</span><span class="suffix" style="display: none;"></span></h4> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">这里首先把数据集划分<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">训练集（70%）</code>和<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">测试集（30%）</code></p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">使用<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">randomForest</code>开始训练，其中<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Ozone~</code>代表臭氧Ozone为因变量，其它数据为自变量。</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># To evaluate the performance of RF</span><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># split traning data (70%) and validation data (30%)</span><br>set.seed(123)<br>train &lt;- sample(nrow(airquality), nrow(airquality)*0.7)<br>ozo_train &lt;- airquality[train, ]<br>ozo_test &lt;- airquality[-train, ]<br> <br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># randomForest</span><br>library(randomForest)<br> <br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># Random forest calculation（default 500 tress），please see ?randomForest</span><br>set.seed(123)<br>ozo_train.forest &lt;- randomForest(Ozone~., data = ozo_train, importance = TRUE)<br>ozo_train.forest<br></code></pre> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">结果如图：</p> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/3c/f1/FlbSN2St_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">结果中，<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">% Var explained</code>体现了预测变量（太阳辐射，温度，降水和时间变量）对响应变量（臭氧）有关方差的整体解释率。</p> 
   </section></li><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">解释了约70.44%的总方差，可以理解为该回归的R2=70.44，相当可观的一个数值，表明臭氧与这些变量密切相关</p> 
   </section></li></ul> 
 <h4 style="letter-spacing: 0.07em; margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; text-align: left; line-height: 1.4; margin: 27px 0 27px;"><span style="background-image: url(https://files.mdnice.com/user/3441/342eadea-afc8-4175-afeb-c9fa0fa6da15.svg); background-size: 15px 15px; display: inline-block; width: 15px; height: 15px; line-height: 15px;"></span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; margin-left: 8px; color: #3e4ca3;">可视化结果</span><span class="suffix" style="display: none;"></span></h4> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">接下来可视化随机森林的回归效果：</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># Scatterplot</span><br>library(ggplot2)<br>library(ggExtra)<br>library(ggpmisc)<br>library(ggpubr)<br><br>g &lt;- ggplot(train_test, aes(obs, pre)) + <br>  geom_point() + <br>  geom_smooth(method=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"lm"</span>, se=F) +<br>  geom_abline(slope = 1,intercept = 0,lty=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"dashed"</span>) +<br>  stat_poly_eq(<br>    aes(label =paste( ..adj.rr.label.., sep = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'~~'</span>)),<br>    formula = y ~ x,  parse = TRUE,<br>      family=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"serif"</span>,<br>      size = 6.4,<br>      color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"black"</span>,<br>      label.x = 0.1,  <span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#0-1之间的比例确定位置</span><br>      label.y = 1)<br><br>g1 &lt;- ggMarginal(g, <span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">type</span> = <span class="hljs-string" style="color: #98c379; line-height: 26px;">"histogram"</span>, fill=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"transparent"</span>)<br>g &lt;- ggplot(predict_test, aes(obs, pre)) + <br>  geom_point() + <br>  geom_smooth(method=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"lm"</span>, se=F) +<br>  geom_abline(slope = 1,intercept = 0,lty=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"dashed"</span>) +<br>  stat_poly_eq(<br>    aes(label =paste( ..adj.rr.label.., sep = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'~~'</span>)),<br>    formula = y ~ x,  parse = TRUE,<br>      family=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"serif"</span>,<br>      size = 6.4,<br>      color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"black"</span>,<br>      label.x = 0.1,  <span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#0-1之间的比例确定位置</span><br>      label.y = 1)<br><br>g2 &lt;- ggMarginal(g, <span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">type</span> = <span class="hljs-string" style="color: #98c379; line-height: 26px;">"histogram"</span>, fill=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"transparent"</span>)<br>ggarrange(g1, g2, ncol = 2)<br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># ggMarginal(g, type = "boxplot", fill="transparent")</span><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># ggMarginal(g, type = "density", fill="transparent")</span><br></code></pre> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/58/38/joU6UifO_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">如图所示，在训练集的拟合效果很好，R2可达0.94</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">在测试集上表现也较好，R2可达0.71</p> 
 <h4 style="letter-spacing: 0.07em; margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; text-align: left; line-height: 1.4; margin: 27px 0 27px;"><span style="background-image: url(https://files.mdnice.com/user/3441/342eadea-afc8-4175-afeb-c9fa0fa6da15.svg); background-size: 15px 15px; display: inline-block; width: 15px; height: 15px; line-height: 15px;"></span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; margin-left: 8px; color: #3e4ca3;">重要性评估</span><span class="suffix" style="display: none;"></span></h4> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">接下来查看变量重要性</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">##Ozo 的重要性评估</span><br>importance_ozo &lt;- ozo_train.forest<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$importance</span><br>importance_ozo<br>importance_plot &lt;- tibble(var = rownames(importance_ozo), <br>                          IncMSE = importance_ozo[,1],<br>                          IncNodePurity = importance_ozo[,2])<br><br></code></pre> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;"><code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">%IncMSE</code>即increase in mean squared error，通过对每一个预测变量随机赋值，如果该预测变量更为重要，那么其值被随机替换后模型预测的误差会增大。因此，该值越大表示该变量的重要性越大；</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;"><code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">IncNodePurity</code>即increase in node purity，通过残差平方和来度量，代表了每个变量对分类树每个节点上观测值的异质性的影响，从而比较变量的重要性。该值越大表示该变量的重要性越大。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">对于<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">%IncMSE</code>或<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">IncNodePurity</code>，二选一作为判断预测变量重要性的指标。需注意的是，二者的排名存在一定的差异。</p> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/00/61/JCv5mbiA_o.png" alt="image-20230626175657726" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
  <figcaption style="text-align: center; margin-top: 0px; color: #7f7f7f; font-size: 13px; letter-spacing: 0.07em;">
    image-20230626175657726 
  </figcaption> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">对重要性排序进行可视化：</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">p1 &lt;- ggplot(importance_plot, aes(x=var, y=IncMSE)) +<br>  geom_segment( aes(x=var, xend=var, y=0, yend=IncMSE), color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"skyblue"</span>) +<br>  geom_point( color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"blue"</span>, size=4, alpha=0.6) +<br>  theme_light() +<br>  coord_flip() +<br>  theme(<br>    panel.grid.major.y = element_blank(),<br>    panel.border = element_blank(),<br>    axis.ticks.y = element_blank()<br>  )<br>  p2 &lt;- ggplot(importance_plot, aes(x=var, y=IncNodePurity)) +<br>  geom_segment( aes(x=var, xend=var, y=0, yend=IncNodePurity), color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"skyblue"</span>) +<br>  geom_point( color=<span class="hljs-string" style="color: #98c379; line-height: 26px;">"blue"</span>, size=4, alpha=0.6) +<br>  theme_light() +<br>  coord_flip() +<br>  theme(<br>    panel.grid.major.y = element_blank(),<br>    panel.border = element_blank(),<br>    axis.ticks.y = element_blank()<br>  )<br>ggarrange(p1, p2, ncol = 2)<br></code></pre> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">可以看到，温度<code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">Temp</code>是臭氧的一个主要因素</p> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/a8/d4/A78tQ6mR_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <h4 style="letter-spacing: 0.07em; margin-top: 30px; margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; text-align: left; line-height: 1.4; margin: 27px 0 27px;"><span style="background-image: url(https://files.mdnice.com/user/3441/342eadea-afc8-4175-afeb-c9fa0fa6da15.svg); background-size: 15px 15px; display: inline-block; width: 15px; height: 15px; line-height: 15px;"></span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 18px; font-weight: bold; display: inline-block; margin-left: 8px; color: #3e4ca3;">交叉验证</span><span class="suffix" style="display: none;"></span></h4> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">接下来进行五折交叉验证，来选取超参数（这里是变量个数）：</p> 
 <ul style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;"><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">replicate</code>用于重复n次所需语句，这里进行5次五折交叉验证 
   </section></li><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">rfcv</code>通过嵌套交叉验证程序显示模型的交叉验证预测性能，模型的预测器数量按顺序减少（按变量重要性排序）。 
   </section></li><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">step</code>如果log=TRUE，则为每个步骤要删除的变量的分数，否则一次删除这么多变量 
   </section></li><li> 
   <section style="margin-top: 5px; margin-bottom: 5px; text-align: left; font-weight: 500; color: #000000; line-height: 1.8em; letter-spacing: 0.07em;"> 
    <code style="word-wrap: break-word; border-radius: 4px; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; letter-spacing: 0.07em; font-size: 13px; color: #9b6e23; background-color: #FFF9E3; padding: 3px; margin: 0px;">cv.fold</code>为折数 
   </section></li></ul> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#5 次重复五折交叉验证</span><br>set.seed(111)<br>ozo_train.cv &lt;- replicate(5, rfcv(ozo_train[-ncol(ozo_train)], ozo_train<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$Ozone</span>, cv.fold = 5, step = 0.8), simplify = FALSE)<br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#ozo_train.cv</span><br></code></pre> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">ozo_train.cv &lt;- data.frame(sapply(ozo_train.cv, <span class="hljs-string" style="color: #98c379; line-height: 26px;">'[['</span>, <span class="hljs-string" style="color: #98c379; line-height: 26px;">'error.cv'</span>))<br>ozo_train.cv<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$vars</span> &lt;- rownames(ozo_train.cv)<br>ozo_train.cv &lt;- reshape2::melt(ozo_train.cv, id = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'vars'</span>)<br>ozo_train.cv<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$vars</span> &lt;- as.numeric(as.character(ozo_train.cv<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$vars</span>))<br> <br>ozo_train.cv.mean &lt;- aggregate(ozo_train.cv<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$value</span>, by = list(ozo_train.cv<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$vars</span>), FUN = mean)<br>ozo_train.cv.mean<br></code></pre> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/4c/e7/PgUWs8As_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">可视化误差结果</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">ggplot(ozo_train.cv.mean, aes(Group.1, x)) +<br>    geom_line() +<br>    labs(title = <span class="hljs-string" style="color: #98c379; line-height: 26px;">''</span>,x = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Number of vars'</span>, y = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Cross-validation error'</span>)<br></code></pre> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/30/e6/YjKeRHGk_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">根据交叉验证曲线，提示保留1个重要的变量（或前四个重要的变量）获得理想的回归结果，因为此时的误差达到最小。</p> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">因此，根据计算得到的各ozone重要性的值（如“IncNodePurity”），将重要性由高往低排序后，最后大约选择前4个变量就可以了。</p> 
 <pre class="custom" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/point.png); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#首先根据某种重要性的高低排个序，例如根据“IncNodePurity”指标</span><br>importance_ozo &lt;- importance_plot[order(importance_plot<span class="hljs-variable" style="color: #d19a66; line-height: 26px;">$IncNodePurity</span>, decreasing = TRUE), ]<br> <br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;">#然后取出排名靠前的因素</span><br>importance_ozo.select &lt;- importance_ozo[1:4, ]<br>vars &lt;- c(pull(importance_ozo.select, var), <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Ozone'</span>)<br>ozo.select &lt;- airquality[ ,vars]<br>ozo.select &lt;- reshape2::melt(ozo.select, id = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Ozone'</span>)<br><br><span class="hljs-comment" style="color: #5c6370; font-style: italic; line-height: 26px;"># 查看下这些重要的 vars 与Ozone的关系</span><br>ggplot(ozo.select, aes(x = Ozone, y = value)) +<br>    geom_point() +<br>    geom_smooth() +<br>    facet_wrap(~variable, ncol = 2, scale = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'free_y'</span>) +<br>    labs(title = <span class="hljs-string" style="color: #98c379; line-height: 26px;">''</span>,x = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Ozone'</span>, y = <span class="hljs-string" style="color: #98c379; line-height: 26px;">'Relative abundance'</span>)<br></code></pre> 
 <figure style="display: flex; flex-direction: column; justify-content: center; align-items: center; margin: 0; margin-top: 20px; margin-bottom: 20px;"> 
  <img src="https://images2.imgbox.com/74/f0/2hhQZvz3_o.png" alt="alt" style="margin: 0 auto; max-width: 100%; width: 100%; border-radius: 5px; display: block; margin-bottom: 10px; height: auto; border-radius: 5px;"> 
 </figure> 
 <p style="padding-top: 8px; padding-bottom: 8px; font-size: 15px; margin: 1.8em 0 1.8em; padding: 0; line-height: 1.8em; color: #000000; letter-spacing: 0.07em;">这就是R语言进行随机森林分析的全流程了，希望对大家的科研有所帮助。</p> 
</section> 
<p>本文由<a href="https://mdnice.com/?platform=4" rel="nofollow"> mdnice </a>多平台发布</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/15682fb4f43c7ef4a07fff2be3d01269/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">谷歌浏览器（chrome）安装crx插件</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/960d6eb2c1303d08b1c05c3505efd981/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">vue 文件流下载文件</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>