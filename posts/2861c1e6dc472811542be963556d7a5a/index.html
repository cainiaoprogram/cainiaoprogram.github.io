<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【RbMQ】RabbitMQ概念辨析 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【RbMQ】RabbitMQ概念辨析" />
<meta property="og:description" content=" 一、RabbitMQ的安装 1、参考文章 下面的文章对RabbitMQ在Linux服务器下的安装提供了详细的指导，按照它可以完成RabbitMQ在Linux服务器下的安装。 RabbitMQ超详细安装教程（Linux）_Baret-H的博客-CSDN博客_linux安装rabbitmq教程
Windows环境下的安装可以参考这篇文章 RabbitMQ安装 - 地鼠文档 (topgoer.cn)
2、注意事项 （1）开放对应的端口。
RabbitMQ Web界面管理的端口是15672，对外提供服务端口的是5672，需要在安全组开放这两个端口。 二、概念辨析 1、Virtual Host(VHost) （1）虚拟主机，相当于虚拟机，用于隔离数据。服务通过URL连接的是一个VHost，交换机、信道、队列等的创建均在一个VHost上。
（2）VHost可以通过Web管理页面创建。
2、生产者和消费者 （1）在RbMQ中，生产者和消费者的概念是相对于消息而言的。生产者生成消息，消费者处理消息，而RbMQ是充当信使的角色，在两者之间建立起桥梁，使生产者、消费者应用解耦。
3、队列 （1）队列是RbMQ内部对象，用于存储消息。在RbMQ中消息最终是存储在队列中的，消费者通过订阅队列的方式获取需要处理的消息并消费。
（2）同一个队列可以被多个消费者订阅，这时队列中的消息通过轮询（一条消息只能分发到一个消费者，多个平均分摊队列中的消息）的方式分发给多个消费者处理。
（3）RbMQ不提倡在队列的层面实现消息的广播（即一条消息分发到全部订阅队列的消费者），广播消息推荐使用交换器。
4、交换器、路由键 （1）交换器将生产者的消息投递到与之绑定的队列中。即队列与交换机的关系是一个或多个队列绑定到交换器上，生产者将消息投递到交换器中，交换器根据一定的策略分发消息到队列中，在由与队列绑定的消费者消费处理。
（2）交换器分发消息的策略主要由绑定键、交换器的类型、路由键决定的。
绑定键是队列与交换器绑定时指定的值。路由键是生产者将消息发送到交换器时指定的值。交换器的类型主要有fanout、direct、topic、headers四种。
1）fanout：扇出类型，交换器将所有接收到的消息分发到与之绑定的队列中，从而可以实现广播通信。
2）direct：直接等类型，交换器将消息发送到绑定键与消息的路由键相等的队列中。
3）topic：主题类型（匹配符模式），topic类型与direct类型相似，不过topic类型采用的时类似正则匹配的方式分发消息。其中.代表一个独立的字符串（单次），*用于匹配一个单词，#用于匹配零个或多个单词。
4）headers：headers模式不根据消息的路由键分发消息，而是根据发送消息中headers的属性进行匹配。在绑定队列和交换器是制定一组键值对，当消息发送到交换器时，RbMQ会获取消息的headers（一个键值对），对比其中的键值对是否完全匹配绑定时制定的键值对，从而决定消息的分发。headers类型的交换器性能很差，基本不定义该类型的交换器。
（3）消息的分发过程
在定义和绑定阶段交换器的类型和队列与交换器的绑定键是固定的，因此可以通过消息的路由键指定消息发送的目标队列。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2861c1e6dc472811542be963556d7a5a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-11T20:39:08+08:00" />
<meta property="article:modified_time" content="2022-09-11T20:39:08+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【RbMQ】RabbitMQ概念辨析</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="RabbitMQ_0"></a>一、<code>RabbitMQ</code>的安装</h4> 
<h5><a id="1_2"></a>1、参考文章</h5> 
<ul><li>下面的文章对<code>RabbitMQ</code>在<code>Linux</code>服务器下的安装提供了详细的指导，按照它可以完成<code>RabbitMQ</code>在<code>Linux</code>服务器下的安装。</li></ul> 
<p><a href="https://bareth.blog.csdn.net/article/details/116429302" rel="nofollow">RabbitMQ超详细安装教程（Linux）_Baret-H的博客-CSDN博客_linux安装rabbitmq教程</a></p> 
<ul><li>Windows环境下的安装可以参考这篇文章</li></ul> 
<p><a href="https://www.topgoer.cn/docs/golang/chapter10-6-2" rel="nofollow">RabbitMQ安装 - 地鼠文档 (topgoer.cn)</a></p> 
<h5><a id="2_14"></a>2、注意事项</h5> 
<p>（1）开放对应的端口。</p> 
<ul><li><code>RabbitMQ Web</code>界面管理的端口是<code>15672</code>，对外提供服务端口的是<code>5672</code>，需要在安全组开放这两个端口。</li></ul> 
<h4><a id="_22"></a>二、概念辨析</h4> 
<h5><a id="1Virtual_HostVHost_24"></a>1、<code>Virtual Host</code>(<code>VHost</code>)</h5> 
<p>（1）虚拟主机，相当于虚拟机，用于隔离数据。服务通过URL连接的是一个<code>VHost</code>，交换机、信道、队列等的创建均在一个<code>VHost</code>上。</p> 
<p>（2）<code>VHost</code>可以通过<code>Web</code>管理页面创建。</p> 
<h5><a id="2_32"></a>2、生产者和消费者</h5> 
<p>（1）在<code>RbMQ</code>中，生产者和消费者的概念是相对于消息而言的。生产者生成消息，消费者处理消息，而<code>RbMQ</code>是充当<strong>信使</strong>的角色，在两者之间建立起桥梁，使生产者、消费者应用解耦。</p> 
<h5><a id="3_38"></a>3、队列</h5> 
<p>（1）队列是<code>RbMQ</code>内部对象，用于存储消息。在<code>RbMQ</code>中消息最终是存储在队列中的，消费者通过订阅队列的方式获取需要处理的消息并消费。</p> 
<p>（2）同一个队列可以被多个消费者订阅，这时队列中的消息通过<strong>轮询</strong>（一条消息只能分发到一个消费者，多个平均分摊队列中的消息）的方式分发给多个消费者处理。</p> 
<p>（3）<code>RbMQ</code>不提倡在队列的层面实现消息的广播（即一条消息分发到全部订阅队列的消费者），广播消息推荐使用交换器。</p> 
<h5><a id="4_48"></a>4、交换器、路由键</h5> 
<p>（1）交换器将生产者的消息投递到与之<strong>绑定</strong>的队列中。即队列与交换机的关系是一个或多个队列绑定到交换器上，生产者将消息投递到交换器中，交换器根据<strong>一定的策略</strong>分发消息到队列中，在由与队列绑定的消费者消费处理。</p> 
<p>（2）交换器分发消息的策略主要由<strong>绑定键、交换器的类型、路由键</strong>决定的。</p> 
<ul><li> <p>绑定键是队列与交换器绑定时指定的值。路由键是生产者将消息发送到交换器时指定的值。交换器的类型主要有<code>fanout</code>、<code>direct</code>、<code>topic</code>、<code>headers</code>四种。</p> <p>1）<code>fanout</code>：扇出类型，交换器将所有接收到的消息分发到与之绑定的队列中，从而可以实现广播通信。</p> <p>2）<code>direct</code>：直接等类型，交换器将消息发送到绑定键与消息的路由键相等的队列中。</p> <p>3）<code>topic</code>：主题类型（匹配符模式），<code>topic</code>类型与<code>direct</code>类型相似，不过<code>topic</code>类型采用的时类似正则匹配的方式分发消息。其中<code>.</code>代表一个独立的字符串（单次），<code>*</code>用于匹配一个单词，<code>#</code>用于匹配零个或多个单词。</p> <p>4）<code>headers</code>：<code>headers</code>模式不根据消息的路由键分发消息，而是根据发送消息中<code>headers</code>的属性进行匹配。在绑定队列和交换器是制定一组键值对，当消息发送到交换器时，<code>RbMQ</code>会获取消息的<code>headers</code>（一个键值对），对比其中的键值对是否完全匹配绑定时制定的键值对，从而决定消息的分发。<code>headers</code>类型的交换器性能很差，基本不定义该类型的交换器。</p> </li></ul> 
<p>（3）消息的分发过程</p> 
<ul><li>在定义和绑定阶段交换器的类型和队列与交换器的绑定键是固定的，因此可以通过消息的<strong>路由键</strong>指定消息发送的目标队列。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/5073a5daef8c9409650bf6bff09b9c67/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Springcloud结合mybatis-plus与nacos实现分布式事务seata</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/fb2f86ebad3de9fda8fd6b8d2fa1198f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">VLAN的配置</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>