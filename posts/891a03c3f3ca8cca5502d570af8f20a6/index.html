<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>MySQL数据库高级SQL语句 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="MySQL数据库高级SQL语句" />
<meta property="og:description" content="目录
一、高级SQL语句
（一）select：查询语句
1.where：根据条件查询
2.in：显示已知值的数据
3.not in：显示除了已知值的数据
4.between：显示两个值范围内的数据
5.like&#43;通配符：模糊查询
6.order by：按关键字排序
（二）函数
1.数学函数
（1）函数类型
（2）示例
2.聚合函数
（1）函数类型
（2）示例
3.字符串函数
（1）函数类型
（2）示例
① concat(字段1, 字段2, ....) ② 字段1 || 字段2 ③ substr(x,y,z) ④ length(x)
⑤ 替换
（三）group by分组
1.group by
2.having
（四）as：别名
（五）连接查询
1.inner join(内连接)
2.left join(左连接)
3.right join(右连接)
（六）联集
1.union
2.union all
（七）子查询
一、高级SQL语句 （一）select：查询语句 1.where：根据条件查询 select &#39;字段&#39; from 表名 where 条件 #示例：显示store_Name和store_info 字段 并且要找到Sales小于1000 select store_name from store_info where Sales &gt; 1000; 2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/891a03c3f3ca8cca5502d570af8f20a6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-28T10:14:05+08:00" />
<meta property="article:modified_time" content="2023-12-28T10:14:05+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">MySQL数据库高级SQL语句</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E9%AB%98%E7%BA%A7SQL%E8%AF%AD%E5%8F%A5-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E9%AB%98%E7%BA%A7SQL%E8%AF%AD%E5%8F%A5" rel="nofollow">一、高级SQL语句</a></p> 
<p id="%EF%BC%88%E4%B8%80%EF%BC%89select%EF%BC%9A%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%80%EF%BC%89select%EF%BC%9A%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5" rel="nofollow">（一）select：查询语句</a></p> 
<p id="1.where%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#1.where%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2" rel="nofollow">1.where：根据条件查询</a></p> 
<p id="2.in%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#2.in%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE" rel="nofollow">2.in：显示已知值的数据</a></p> 
<p id="3.not%C2%A0in%EF%BC%9A%E6%98%BE%E7%A4%BA%E9%99%A4%E4%BA%86%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#3.not%C2%A0in%EF%BC%9A%E6%98%BE%E7%A4%BA%E9%99%A4%E4%BA%86%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE" rel="nofollow">3.not in：显示除了已知值的数据</a></p> 
<p id="4.between%EF%BC%9A%E6%98%BE%E7%A4%BA%E4%B8%A4%E4%B8%AA%E5%80%BC%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%95%B0%E6%8D%AE-toc" style="margin-left:80px;"><a href="#4.between%EF%BC%9A%E6%98%BE%E7%A4%BA%E4%B8%A4%E4%B8%AA%E5%80%BC%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%95%B0%E6%8D%AE" rel="nofollow">4.between：显示两个值范围内的数据</a></p> 
<p id="5.like%2B%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%9A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2-toc" style="margin-left:80px;"><a href="#5.like%2B%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%9A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2" rel="nofollow">5.like+通配符：模糊查询</a></p> 
<p id="6.order%20by%EF%BC%9A%E6%8C%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%8E%92%E5%BA%8F-toc" style="margin-left:80px;"><a href="#6.order%20by%EF%BC%9A%E6%8C%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%8E%92%E5%BA%8F" rel="nofollow">6.order by：按关键字排序</a></p> 
<p id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%87%BD%E6%95%B0-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%87%BD%E6%95%B0" rel="nofollow">（二）函数</a></p> 
<p id="1.%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#1.%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0" rel="nofollow">1.数学函数</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B" rel="nofollow">（1）函数类型</a></p> 
<p id="%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B" rel="nofollow">（2）示例</a></p> 
<p id="2.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#2.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0" rel="nofollow">2.聚合函数</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B" rel="nofollow">（1）函数类型</a></p> 
<p id="%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B" rel="nofollow">（2）示例</a></p> 
<p id="3.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0-toc" style="margin-left:80px;"><a href="#3.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0" rel="nofollow">3.字符串函数</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B" rel="nofollow">（1）函数类型</a></p> 
<p id="%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B-toc" style="margin-left:120px;"><a href="#%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B" rel="nofollow">（2）示例</a></p> 
<p id="%E2%91%A0%C2%A0%C2%A0concat(%E5%AD%97%E6%AE%B51%2C%20%E5%AD%97%E6%AE%B52%2C%20....)%C2%A0-toc" style="margin-left:160px;"><a href="#%E2%91%A0%C2%A0%C2%A0concat%28%E5%AD%97%E6%AE%B51%2C%20%E5%AD%97%E6%AE%B52%2C%20....%29%C2%A0" rel="nofollow">①  concat(字段1, 字段2, ....) </a></p> 
<p id="%E2%91%A1%C2%A0%E5%AD%97%E6%AE%B51%20%7C%7C%20%E5%AD%97%E6%AE%B52%C2%A0%C2%A0-toc" style="margin-left:160px;"><a href="#%E2%91%A1%C2%A0%E5%AD%97%E6%AE%B51%20%7C%7C%20%E5%AD%97%E6%AE%B52%C2%A0%C2%A0" rel="nofollow">② 字段1 || 字段2  </a></p> 
<p id="%E2%91%A2%C2%A0substr(x%2Cy%2Cz)%C2%A0-toc" style="margin-left:160px;"><a href="#%E2%91%A2%C2%A0substr%28x%2Cy%2Cz%29%C2%A0" rel="nofollow">③ substr(x,y,z) </a></p> 
<p id="%E2%91%A3%C2%A0length(x)-toc" style="margin-left:160px;"><a href="#%E2%91%A3%C2%A0length%28x%29" rel="nofollow">④ length(x)</a></p> 
<p id="%E2%91%A4%20%E6%9B%BF%E6%8D%A2-toc" style="margin-left:160px;"><a href="#%E2%91%A4%20%E6%9B%BF%E6%8D%A2" rel="nofollow">⑤ 替换</a></p> 
<p id="%EF%BC%88%E4%B8%89%EF%BC%89group%20by%E5%88%86%E7%BB%84-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%89%EF%BC%89group%20by%E5%88%86%E7%BB%84" rel="nofollow">（三）group by分组</a></p> 
<p id="1.group%20by-toc" style="margin-left:80px;"><a href="#1.group%20by" rel="nofollow">1.group by</a></p> 
<p id="2.having-toc" style="margin-left:80px;"><a href="#2.having" rel="nofollow">2.having</a></p> 
<p id="%EF%BC%88%E5%9B%9B%EF%BC%89as%EF%BC%9A%E5%88%AB%E5%90%8D-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%9B%9B%EF%BC%89as%EF%BC%9A%E5%88%AB%E5%90%8D" rel="nofollow">（四）as：别名</a></p> 
<p id="%EF%BC%88%E4%BA%94%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%BA%94%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2" rel="nofollow">（五）连接查询</a></p> 
<p id="1.inner%20join(%E5%86%85%E8%BF%9E%E6%8E%A5)-toc" style="margin-left:80px;"><a href="#1.inner%20join%28%E5%86%85%E8%BF%9E%E6%8E%A5%29" rel="nofollow">1.inner join(内连接)</a></p> 
<p id="2.left%20join(%E5%B7%A6%E8%BF%9E%E6%8E%A5)-toc" style="margin-left:80px;"><a href="#2.left%20join%28%E5%B7%A6%E8%BF%9E%E6%8E%A5%29" rel="nofollow">2.left join(左连接)</a></p> 
<p id="3.right%20join(%E5%8F%B3%E8%BF%9E%E6%8E%A5)-toc" style="margin-left:80px;"><a href="#3.right%20join%28%E5%8F%B3%E8%BF%9E%E6%8E%A5%29" rel="nofollow">3.right join(右连接)</a></p> 
<p id="%EF%BC%88%E5%85%AD%EF%BC%89%E8%81%94%E9%9B%86-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E5%85%AD%EF%BC%89%E8%81%94%E9%9B%86" rel="nofollow">（六）联集</a></p> 
<p id="1.union-toc" style="margin-left:80px;"><a href="#1.union" rel="nofollow">1.union</a></p> 
<p id="2.union%20all-toc" style="margin-left:80px;"><a href="#2.union%20all" rel="nofollow">2.union all</a></p> 
<p id="%EF%BC%88%E4%B8%83%EF%BC%89%E5%AD%90%E6%9F%A5%E8%AF%A2-toc" style="margin-left:40px;"><a href="#%EF%BC%88%E4%B8%83%EF%BC%89%E5%AD%90%E6%9F%A5%E8%AF%A2" rel="nofollow">（七）子查询</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2>一、<strong>高级SQL语句</strong></h2> 
<h3 id="%EF%BC%88%E4%B8%80%EF%BC%89select%EF%BC%9A%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><strong>（一）</strong>select：查询语句</h3> 
<h4 id="1.where%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2">1.<strong>where：根据条件查询</strong></h4> 
<pre><code class="language-bash">select '字段' from 表名  where 条件
 
#示例：显示store_Name和store_info 字段 并且要找到Sales小于1000
select store_name from store_info where Sales &gt; 1000;</code></pre> 
<p><img alt="" height="1026" src="https://images2.imgbox.com/d8/fe/aVNAh5HX_o.png" width="1200"></p> 
<h4 id="2.in%EF%BC%9A%E6%98%BE%E7%A4%BA%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE">2.<strong>in：显示已知值的数据</strong></h4> 
<pre><code class="language-bash">select 字段名  from 表名 where 字段 in (值1，值2....);

select * from store_info where store_name in ('Los Angeles', 'Houston');
#示例：查询store_info表中store_name是Los Angeles和Houston的记录
</code></pre> 
<p><img alt="" height="1090" src="https://images2.imgbox.com/58/b5/qwOcS5q7_o.png" width="1200"></p> 
<h4 id="3.not%C2%A0in%EF%BC%9A%E6%98%BE%E7%A4%BA%E9%99%A4%E4%BA%86%E5%B7%B2%E7%9F%A5%E5%80%BC%E7%9A%84%E6%95%B0%E6%8D%AE">3.not <strong>in：显示除了已知值的数据</strong></h4> 
<pre><code class="language-bash">select 字段名  from 表名 where 字段 not in (值1，值2....);

select * from store_info where store_name not in ('Los Angeles', 'Houston');
#示例：查询store_info表中除了store_name是Los Angeles和Houston之外的记录
</code></pre> 
<p><img alt="" height="1004" src="https://images2.imgbox.com/a0/92/i8fXl4KH_o.png" width="1200"></p> 
<h4 id="4.between%EF%BC%9A%E6%98%BE%E7%A4%BA%E4%B8%A4%E4%B8%AA%E5%80%BC%E8%8C%83%E5%9B%B4%E5%86%85%E7%9A%84%E6%95%B0%E6%8D%AE">4.<strong>between：显示两个值范围内的数据</strong></h4> 
<pre><code class="language-bash">select 字段名  from 表名 where 字段 between 值1 and 值2;

select * from store_info where date between '2020-12-06' and '2020-12-10';
#示例：查询store_info表中在2020-12-06和2020-12-10之间的记录
</code></pre> 
<p><img alt="" height="1112" src="https://images2.imgbox.com/55/f4/lZEGQMDS_o.png" width="1200"></p> 
<h4 id="5.like%2B%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%9A%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2">5.like+通配符：模糊查询</h4> 
<table border="1" cellpadding="1" cellspacing="1" style="width:672px;"><tbody><tr><th style="text-align:center;">通配符</th><th style="text-align:center;width:605px;">含义</th></tr><tr><td style="text-align:center;">%</td><td style="text-align:center;width:605px;">表示零个，一个或者多个字符</td></tr><tr><td style="text-align:center;">_</td><td style="text-align:center;width:605px;">下划线表示单个字符</td></tr><tr><td style="text-align:center;">A_Z</td><td style="text-align:center;width:605px;">所有以A开头 Z 结尾的字符串 'ABZ' 'ACZ' 'ACCCCZ'不在范围内 下划线只表示一个字符 AZ 包含a空格z</td></tr><tr><td style="text-align:center;">ABC%</td><td style="text-align:center;width:605px;">所有以ABC开头的字符串 ABCD ABCABC</td></tr><tr><td style="text-align:center;">%CBA</td><td style="text-align:center;width:605px;">所有以CBA结尾的字符串 WCBA CBACBA</td></tr><tr><td style="text-align:center;">%AN%</td><td style="text-align:center;width:605px;">所有包含AN的字符串 los angeles</td></tr><tr><td style="text-align:center;">_AN%</td><td style="text-align:center;width:605px;">所有 第二个字母为 A 第三个字母 为N 的字符串</td></tr></tbody></table> 
<pre><code class="language-bash">select 字段 from 表名 where 字段 like '通配符表达式'；

select * from store_info where store_name like '%os%';
#示例：查询store_info表中带有os的store_name值</code></pre> 
<p><img alt="" height="1120" src="https://images2.imgbox.com/e6/4f/toZAPmmZ_o.png" width="1200"></p> 
<h4 id="6.order%20by%EF%BC%9A%E6%8C%89%E5%85%B3%E9%94%AE%E5%AD%97%E6%8E%92%E5%BA%8F">6.<strong>order by：按关键字排序</strong></h4> 
<pre><code class="language-bash">select 字段名  from 表名 where 条件 order by 字段 [asc,desc];
asc ：按照升序进行排序的，是默认的排序方式   desc ：按降序方式进行排序

select store_name,sales,date from store_info order by Sales desc;
#示例：按store_info表中Sales的大小降序排序
</code></pre> 
<p><img alt="" height="1162" src="https://images2.imgbox.com/30/0d/F6OuMHYX_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E4%BA%8C%EF%BC%89%E5%87%BD%E6%95%B0">（二）函数</h3> 
<h4 id="1.%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0">1.数学函数</h4> 
<h5 id="%EF%BC%881%EF%BC%89%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B">（1）函数类型</h5> 
<table border="1" cellpadding="1" cellspacing="1" style="width:540px;"><tbody><tr><th style="text-align:center;">函数</th><th style="text-align:center;width:348px;">含义</th></tr><tr><td style="text-align:center;">abs(x)</td><td style="text-align:center;width:348px;">返回x 的 绝对值</td></tr><tr><td style="text-align:center;">rand()</td><td style="text-align:center;width:348px;">返回0到1的随机数</td></tr><tr><td style="text-align:center;">mod(x,y)</td><td style="text-align:center;width:348px;">返回x除以y以后的余数</td></tr><tr><td style="text-align:center;">power(x,y)</td><td style="text-align:center;width:348px;">返回x的y次方</td></tr><tr><td style="text-align:center;">round(x)</td><td style="text-align:center;width:348px;">返回离x最近的整数</td></tr><tr><td style="text-align:center;">round(x,y）</td><td style="text-align:center;width:348px;">保留x的y位小数四舍五入后的值</td></tr><tr><td style="text-align:center;">sqrt(x)</td><td style="text-align:center;width:348px;">返回x的平方根</td></tr><tr><td style="text-align:center;">truncate(x,y)</td><td style="text-align:center;width:348px;">返回数字 x 截断为 y 位小数的值</td></tr><tr><td style="text-align:center;">ceil(x)</td><td style="text-align:center;width:348px;">返回大于或等于 x 的最小整数</td></tr><tr><td style="text-align:center;">floor(x)</td><td style="text-align:center;width:348px;">返回小于或等于 x 的最大整数</td></tr><tr><td style="text-align:center;">greatest(x1,x2.....)</td><td style="text-align:center;width:348px;">返回返回集合中最大的值</td></tr><tr><td style="text-align:center;">least(x1,x2..........)</td><td style="text-align:center;width:348px;">返回返回集合中最小的值</td></tr></tbody></table> 
<h5 id="%EF%BC%882%EF%BC%89%E7%A4%BA%E4%BE%8B">（2）示例</h5> 
<pre><code class="language-bash">SELECT abs(-1), rand(), mod(5,3), power(2,3), round(1.89);
#返回-1的平均值，0-1的随机数，5除以3的余数，2的3次方，距离1.89最近的整数
SELECT round(1.8937,3), truncate(1.235,2), ceil(5.2), floor(2.1), least(1.89,3,6.1,2.1);
#返回数字1.8937的3位小数四舍五入后的值，数字1.235截断为2位小数的值，大于或等于5.2 的最小整数，小于或等于2.1的最大整数，集合中最小的值</code></pre> 
<p><img alt="" height="1038" src="https://images2.imgbox.com/78/4f/ZHZZuwxG_o.png" width="1200"></p> 
<h4 id="2.%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0">2.聚合函数</h4> 
<h5>（1）函数类型</h5> 
<table border="1" cellpadding="1" cellspacing="1" style="width:537px;"><tbody><tr><th style="text-align:center;">函数</th><th style="text-align:center;width:423px;">含义</th></tr><tr><td style="text-align:center;">avg()</td><td style="text-align:center;width:423px;">返回指定列的平均值</td></tr><tr><td style="text-align:center;">count()</td><td style="text-align:center;width:423px;">返回指定列中非 NULL 值的个数</td></tr><tr><td style="text-align:center;">min()</td><td style="text-align:center;width:423px;">返回指定列的最小值</td></tr><tr><td style="text-align:center;">max()</td><td style="text-align:center;width:423px;">返回指定列的最大值</td></tr><tr><td style="text-align:center;">sum(x)</td><td style="text-align:center;width:423px;">返回指定列的所有值之和</td></tr></tbody></table> 
<h5>（2）示例</h5> 
<pre><code class="language-bash">select avg(Sales) from store_info;
#返回表中营业额的平均值
select count(Store_Name) from  store_info;
#返回Store_Name中非 NULL 值的个数
select count(distinct Store_Name) from  store_info;
#返回Store_Name中不重复的非 NULL 值的个数
select max(Sales) from  store_info;
#返回表中营业额的最大值
select min(Sales) from  store_info;
#返回表中营业额的最小值
select sum(Sales) from  store_info;
#返回表中营业额所有值之和</code></pre> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/55/44/YSkLJC9r_o.png" width="1200"><img alt="" height="1200" src="https://images2.imgbox.com/f5/bc/IVYueYzx_o.png" width="1200"><img alt="" height="544" src="https://images2.imgbox.com/39/c6/vWLBHYvI_o.png" width="1200"></p> 
<h4 id="3.%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0">3.字符串函数</h4> 
<h5>（1）函数类型</h5> 
<table border="1" cellpadding="1" cellspacing="1" style="width:569px;"><tbody><tr><th style="text-align:center;">函数</th><th style="text-align:center;width:470px;">描述</th></tr><tr><td style="text-align:center;"><span style="color:#fe2c24;"><strong>concat(x,y)</strong></span></td><td style="text-align:center;width:470px;"><span style="color:#fe2c24;"><strong>将提供的参数 x 和 y 拼接成一个字符串</strong></span></td></tr><tr><td style="text-align:center;"><span style="color:#fe2c24;"><strong>substr(x,y,z)</strong></span></td><td style="text-align:center;"><span style="color:#fe2c24;"><strong>获取从字符串 x 中的第 y 个位置开始长度为z 的字符串</strong></span></td></tr><tr><td style="text-align:center;"><span style="color:#fe2c24;"><strong>eplace(x,y,z)</strong></span></td><td style="text-align:center;width:470px;"> <p style="text-align:center;"><span style="color:#fe2c24;"><strong>将字符串 z 替代字符串 x 中的字符串 y</strong></span></p> </td></tr><tr><td style="text-align:center;"><span style="color:#fe2c24;"><strong>length(x)</strong></span></td><td style="text-align:center;"><span style="color:#fe2c24;"><strong>返回字符串 x 的长度</strong></span></td></tr><tr><td style="text-align:center;">lower(x)</td><td style="text-align:center;">将字符串 x 的所有字母变成小写字母</td></tr><tr><td style="text-align:center;">left(x,y)</td><td style="text-align:center;">返回字符串 x 的前 y 个字符</td></tr><tr><td style="text-align:center;">right(x,y)</td><td style="text-align:center;">返回字符串 x 的后 y 个字符</td></tr><tr><td style="text-align:center;">repeat(x,y)</td><td style="text-align:center;">将字符串 x 重复 y 次</td></tr><tr><td style="text-align:center;">space(x)</td><td style="text-align:center;">返回 x 个空格</td></tr><tr><td style="text-align:center;">strcmp(x,y)</td><td style="text-align:center;">比较 x 和 y，返回的值可以为-1,0,1</td></tr><tr><td style="text-align:center;">reverse(x)</td><td style="text-align:center;">将字符串 x 反转</td></tr><tr><td style="text-align:center;">trim()</td><td style="text-align:center;">返回去除指定格式的值</td></tr><tr><td style="text-align:center;">substr(x,y)</td><td style="text-align:center;width:470px;">获取从字符串 x 中的第 y 个位置开始的字符串，跟substring（）函数作用相同</td></tr><tr><td style="text-align:center;">upper(x)</td><td style="text-align:center;">将字符串 x 的所有字母变成大写字母</td></tr></tbody></table> 
<h5>（2）示例</h5> 
<h6 id="%E2%91%A0%C2%A0%C2%A0concat(%E5%AD%97%E6%AE%B51%2C%20%E5%AD%97%E6%AE%B52%2C%20....)%C2%A0">①  concat(字段1, 字段2, ....) </h6> 
<p><strong>拼接字段</strong></p> 
<pre><code class="language-bash">select concat(Region, Store_Name) from location where Store_Name = 'Boston';
#将location表中的Region和Store_Name字段拼接起来</code></pre> 
<p><img alt="" height="1006" src="https://images2.imgbox.com/b1/a9/gzBUZB21_o.png" width="1200"></p> 
<h6 id="%E2%91%A1%C2%A0%E5%AD%97%E6%AE%B51%20%7C%7C%20%E5%AD%97%E6%AE%B52%C2%A0%C2%A0">② 字段1 || 字段2  </h6> 
<p><strong>字段拼接</strong></p> 
<pre><code class="language-bash">select Region || ' ' || Store_Name FROM location where Store_Name = 'Boston';
#将location表中的Region和Store_Name字段以空格为分隔符拼接起来</code></pre> 
<p><img alt="" height="1028" src="https://images2.imgbox.com/d7/16/20zuBdTn_o.png" width="1200"></p> 
<h6 id="%E2%91%A2%C2%A0substr(x%2Cy%2Cz)%C2%A0">③ <span style="color:#0d0016;">substr(x,y,z) </span></h6> 
<p><span style="color:#0d0016;">获取从字符串 x 中的第 y 个位置开始长度为z 的字符串</span></p> 
<pre><code class="language-bash">select substr(Store_Name,2,4) from location where Store_Name = 'New York';
#提取location表中Store_Name字段从第2个字符，4个字符长度的字段内容</code></pre> 
<p><img alt="" height="1062" src="https://images2.imgbox.com/e3/83/mgS2pnre_o.png" width="1200"></p> 
<h6 id="%E2%91%A3%C2%A0length(x)">④<span style="color:#0d0016;"><strong> length(x)</strong></span></h6> 
<p><strong>统计字符长度</strong></p> 
<pre><code class="language-bash">select Store_Name,length(Store_Name) from location;
#统计Store_Name字段中字符的长度</code></pre> 
<p><img alt="" height="616" src="https://images2.imgbox.com/92/40/iKC7gHmL_o.png" width="1200"></p> 
<h6 id="%E2%91%A4%20%E6%9B%BF%E6%8D%A2">⑤ 替换</h6> 
<pre><code class="language-bash">select replace(Store_Name,'on','aa') from location;
#将location表中Store_Name字段记录的字符中的on替换成aa</code></pre> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/cf/e2/drc132xW_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E4%B8%89%EF%BC%89group%20by%E5%88%86%E7%BB%84">（三）group by分组</h3> 
<p id="%E5%85%AD.group%20by%EF%BC%9A%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E6%B1%87%E6%80%BB%E5%88%86%E7%BB%84"><strong>查询结果进行汇总分组，</strong></p> 
<ul><li> <p>对group by 后面的字段的查询结果进行汇总分组，通常是结合聚合函数一起使用的</p> </li><li> <p>group by 有一个原则，就是select 后面的所有列中，没有使用聚合函数的列必须出现在 group by 的后面</p> </li></ul> 
<h4 id="1.group%20by"><strong>1.</strong>group by</h4> 
<pre><code class="language-bash">select 字段1，sum(字段2) from 表名 group by 字段1；

select Store_Name, sum(Sales) from store_info group by Store_Name order by sales desc;
#示例：求store_info表中相同Store_Name营业额的总和并和Store_Name一起按降序排列</code></pre> 
<p><img alt="" height="1188" src="https://images2.imgbox.com/0b/82/zF6gFWEk_o.png" width="1200"></p> 
<h4 id="2.having">2.having</h4> 
<p>根据group by分组后的结果再进行条件过滤</p> 
<pre><code class="language-bash">select 字段,聚合函数(字段) from 表 group by 字段 having 条件表达式;

select Store_Name, sum(Sales) from store_info group by Store_Name having sum(Sales) &gt; 1500;
#示例：求store_info表中相同Store_Name营业额的总和并显示Store_Name和营业额大于1500的记录</code></pre> 
<p><img alt="" height="1050" src="https://images2.imgbox.com/07/64/AprMvAEa_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E5%9B%9B%EF%BC%89as%EF%BC%9A%E5%88%AB%E5%90%8D">（四）as：别名</h3> 
<pre><code class="language-bash">select "表格別名"."字段1" [AS] "字段別名" from "表格名" [AS] "表格別名";

select A.Store_Name Store, sum(A.Sales) "Total Sales" from store_info A group by A.Store_Name;
#示例：设置表名别名为A，基于营业额总和，将其按降序排列并分组后的表sum(Sales)定义别名为Total Sales</code></pre> 
<p><img alt="" height="1200" src="https://images2.imgbox.com/d6/47/h3msVZBN_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E4%BA%94%EF%BC%89%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2">（五）连接查询</h3> 
<p><strong>先准备location和store_info两个表</strong></p> 
<p><img alt="" height="1186" src="https://images2.imgbox.com/95/ae/QY6i7nYr_o.png" width="1200"></p> 
<h4 id="1.inner%20join(%E5%86%85%E8%BF%9E%E6%8E%A5)">1.<strong>inner join(内连接)</strong></h4> 
<p><strong>只返回两个表中联结字段相等的行</strong></p> 
<pre><code class="language-bash">select * from location A inner join store_info B on A.Store_Name = B.Store_Name ;
#返回location表和store_info表中Store_Name字段相等的行</code></pre> 
<p><img alt="" height="622" src="https://images2.imgbox.com/a5/99/AIPntk4h_o.png" width="1200"></p> 
<h4 id="2.left%20join(%E5%B7%A6%E8%BF%9E%E6%8E%A5)">2.l<strong>eft join(左连接)</strong></h4> 
<p><strong>返回包括左表中的所有记录和右表中联结字段相等的记录，不相等的行返回null</strong></p> 
<pre><code class="language-bash">select * from location A left join store_info B on A.Store_Name = B.Store_Name ;
#返回包括location左表中的所有记录和store_info右表中Store_Name字段相等的行记录，不相等的行返回null</code></pre> 
<p><img alt="" height="680" src="https://images2.imgbox.com/30/0b/2aGKLdyu_o.png" width="1200"></p> 
<h4 id="3.right%20join(%E5%8F%B3%E8%BF%9E%E6%8E%A5)">3.<strong>right join(右连接)</strong></h4> 
<p><strong>返回包括右表中的所有记录和左表中联结字段相等的记录，不相等的行返回null</strong></p> 
<pre><code class="language-bash">select * from store_info A left join location B on A.Store_Name = B.Store_Name ;
#返回包括store_info右表中的所有记录和location左表中Store_Name字段相等的行记录，不相等的行返回null</code></pre> 
<p><img alt="" height="640" src="https://images2.imgbox.com/4c/1e/aJcAallg_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E5%85%AD%EF%BC%89%E8%81%94%E9%9B%86">（六）联集</h3> 
<p>将两个SQL语句的结果合并起来，两个SQL语句所产生的字段需要是同样的数据记录种类</p> 
<p><img alt="" height="1186" src="https://images2.imgbox.com/11/c7/GQ70iba4_o.png" width="1200"></p> 
<h4 id="1.union">1.union</h4> 
<p><strong>生成结果的数据记录值将没有重复，且按照字段的顺序进行排序</strong></p> 
<pre><code class="language-bash">[select 语句 1] union [select 语句 2];

select Store_Name from location union select Store_Name from store_info;
#示例：将location和store_info表中的Store_Name字段记录合并、去重</code></pre> 
<p><img alt="" height="598" src="https://images2.imgbox.com/68/12/UyFF5Kcb_o.png" width="1200"></p> 
<h4 id="2.union%20all">2.union all</h4> 
<p><strong>将生成结果的数据记录值都列出来，无论有无重复</strong></p> 
<pre><code class="language-bash">[select 语句 1] union all [select 语句 2];

select Store_Name from location union all select Store_Name from store_info;
#示例：将location和store_info表中的Store_Name字段所有记录合并,不去重</code></pre> 
<p><img alt="" height="816" src="https://images2.imgbox.com/5e/ca/xDng9vQG_o.png" width="1200"></p> 
<h3 id="%EF%BC%88%E4%B8%83%EF%BC%89%E5%AD%90%E6%9F%A5%E8%AF%A2" style="background-color:transparent;">（七）子查询</h3> 
<p><strong>连接表格，在where子句或having子句中插入另一个SQL语句</strong></p> 
<p><strong>在where子句或having子句中插入的另一个SQL语句为内查询，其查询结果作为外查询（where子句或having子句）的查询条件</strong></p> 
<pre><code class="language-bash">select A.字段 from 左表 A where A.字段 in (select B.字段 from 右表 B);

select Store_Name from location where (Store_Name) in (select Store_Name from store_info);
#示例：查询显示location表中Store_Name字段，其取值范围在store_info中的Store_Name字段
      （即查询location表和store_info中Store_Name字段相等的行记录）</code></pre> 
<p><img alt="" height="650" src="https://images2.imgbox.com/b9/b8/CxUWPTry_o.png" width="1200"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f6e904e16c97414f6842ac2dde29af3b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">中间件系列 - Redis入门到实战</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2bd2fd38826b28a4e2ea7166e8487a7c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">解决阿里云远程连接yum无法安装问题（Ubuntu 22.04）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>