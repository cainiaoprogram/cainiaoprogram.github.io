<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误" />
<meta property="og:description" content="彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误 0.问题 使用as run项目出现如下错误
11/14 10:27:18: Launching &#39;rapp&#39; on XGenie AILABS_K1A01. $ adb shell am start -n &#34;com.xxx.xxx/com.xxx.xxx.test.MainActivity&#34; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Error while executing: am start -n &#34;com.xxx.xxx/com.xxx.xxx.test.MainActivity&#34; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.xxx.xxx/.test.MainActivity } Error type 3 Error: Activity class {com.xxx.xxx/com.xxx.xxx.test.MainActivity} does not exist. Error while Launching activity 或者adb install
adb: failed to install xxxx.apk: Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE: Package com.xxx.xxx signatures do not match previously installed version; ignoring!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1f5411317abb52a4dfaa941bc243c69c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-15T09:16:58+08:00" />
<meta property="article:modified_time" content="2023-11-15T09:16:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atelier-sulphurpool-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="INSTALL_FAILED_UPDATE_INCOMPATIBLE_0"></a>彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误</h2> 
<h4><a id="0_2"></a>0.问题</h4> 
<p>使用as run项目出现如下错误</p> 
<pre><code>11/14 10:27:18: Launching 'rapp' on XGenie AILABS_K1A01. $ adb shell am start -n "com.xxx.xxx/com.xxx.xxx.test.MainActivity" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Error while executing: am start -n "com.xxx.xxx/com.xxx.xxx.test.MainActivity" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] cmp=com.xxx.xxx/.test.MainActivity } Error type 3 Error: Activity class {com.xxx.xxx/com.xxx.xxx.test.MainActivity} does not exist. Error while Launching activity
</code></pre> 
<p>或者adb install</p> 
<pre><code>adb: failed to install xxxx.apk: Failure [INSTALL_FAILED_UPDATE_INCOMPATIBLE: Package com.xxx.xxx signatures do not match previously installed version; ignoring!]
</code></pre> 
<p>应用列表中，该应用显示“<strong>未针对此用户安装</strong>”</p> 
<p>如果是这两种问题可以继续往下看，如果不是就可以去找其他的文章了！</p> 
<h4><a id="1_22"></a>1.删除可能存在的文件夹</h4> 
<p>利用adb shell进入系统，进入/data/app或者/data/data，删除跟你安装的apk同样的包名；</p> 
<p>输入exit退出shell命令。</p> 
<pre><code>adb shell
cd /data/app
ls -l
rm -r 文件名
ls 查看还有没有了？
</code></pre> 
<h4><a id="2package_38"></a>2.获取package文件</h4> 
<p>adb remount（重新挂载系统分区）（失败后再使用这个命令）（尝试这个命令还失败，转到4）</p> 
<p>利用adb pull /data/system/packages.xml命令将packages.xml放到你PC机本地，然后找到你需要的包名，删除到的一段数据。</p> 
<p>保存packages.xml，然后adb push packages.xml /data/system将packages.xml文件送回设备中。</p> 
<h4><a id="3_48"></a>3.尝试卸载应用</h4> 
<pre><code>adb uninstall com.xxx.xxx
</code></pre> 
<p>可能会成功Success，也可能失败failure。我的情况是成功一次，再执行就失败了，可能是因为我run项目了。</p> 
<h4><a id="4_58"></a>4.尝试授权</h4> 
<pre><code>mount -o remount,rw /data (重新将文件夹为可读可写。)
chmod 777 /data 
</code></pre> 
<h4><a id="5_67"></a>5.整个事件的起因</h4> 
<p>不能通过adb uninstall卸载应用，出现<code>Failure [DELETE_FAILED_INTERNAL_ERROR]</code>错误，我使用了</p> 
<pre><code class="prism language-text">adb uninstall --user 0 com.xxx.xxx
</code></pre> 
<p>卸载成功了，但是没有卸载干净，导致出现上面的问题。</p> 
<p>以后出现卸载不了的事情，一定要冷静处理。通过查看包名等方式，或者使用as先运行下再看看能不能卸载等方式。</p> 
<h4><a id="6_81"></a>6.参考</h4> 
<p><a href="https://blog.csdn.net/philofly/article/details/8090210">彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误</a></p> 
<p><a href="https://blog.csdn.net/u012150360/article/details/55223619">彻底解决INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误、安装包与之前设备上的安装包签名不一致</a></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/beb2b8a1e570964b38a9470e4e836a74/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Redis 事务是什么？又和MySQL事务有什么区别？</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7cb1c385e82c5be4ce6f8bb3ad7317a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">高项考试总结</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>