<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Shell脚本入门:环境变量和自定义变量 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Shell脚本入门:环境变量和自定义变量" />
<meta property="og:description" content="文章目录 Shell变量：环境变量目标Shell变量的介绍变量类型系统环境变量介绍Shell的配置文件分类环境变量分类查看当前Shell系统环境变量查看Shell变量(系统环境变量&#43;自定义变量&#43;函数)常用系统环境变量 小结 Shell变量：自定义变量目标自定义变量介绍分类自定义局部变量介绍定义与使用变量删除 自定义常量自定义全局变量父子Shell环境介绍自定义全局变量介绍自定义全局变量语法案例需求案例实现步骤案例演示结论 小结 Shell变量：环境变量 目标 1、理解什么是系统环境变量？
2、掌握常用的系统环境变量都有哪些？
Shell变量的介绍 变量用于存储管理临时的数据, 这些数据都是在运行内存中的.
变量类型 系统环境变量自定义变量特殊符号变量 系统环境变量 介绍 是系统提供的共享变量.是linux系统加载Shell的配置文件中定义的变量共享给所有的Shell程序使用
Shell的配置文件分类 1.全局配置文件
/etc/profile
/etc/profile.d/*.sh
/etc/bashrc
2.个人配置文件
当前用户/.bash_profile
当前用户/.bashrc
一般情况下，我们都是直接针对全局配置进行操作。
环境变量分类 在Linux系统中，环境变量按照其作用范围不同大致可以分为系统级环境变量和用户级环境变量。
系统级环境变量：Shell环境加载全局配置文件中的变量共享给所有用户所有Shell程序使用, 全局共享
用户级环境变量：Shell环境加载个人配置文件中的变量共享给当前用户的Shell程序使用, 登录用户使用
查看当前Shell系统环境变量 查看命令
env 效果
查看Shell变量(系统环境变量&#43;自定义变量&#43;函数) 命令
set 效果
常用系统环境变量 变量名称含义PATH与windows环境变量PATH功能一样，设置命令的搜索路径，以冒号为分割HOME当前用户主目录：/rootSHELL当前shell解析器类型：/bin/bashHISTFILE显示当前用户执行命令的历史列表文件：/root/.bash_historyPWD显示当前所在路径：/rootOLDPWD显示之前的路径HOSTNAME显示当前主机名：itheimaHOSTTYPE显示主机的架构，是i386、i686、还是x86、x64等：x86_64LANG设置当前系统语言环境：zh_CN.UTF-8 环境变量输出演示
小结 1.系统环境变量是什么?
是系统提供的环境变量, 通过加载Shell配置文件中变量数据共享给Shell程序使用
2.环境变量的分类?
系统级环境变量, Shell环境加载全局配置文件中定义的变量
用户级环境变量, Shell环境加载个人配置文件中定义的变量
3.env与set区别
env用于查看系统环境变量
set用于查看系统环境变量&#43;自定义变量&#43;函数
4.常用环境变量
变量名称含义PATH命令搜索的目录路径, 与windows的环境变量PATH功能一样LANG查询系统的字符集HISTFILE查询当前用户执行命令的历史列表 Shell变量：自定义变量 目标 理解自定义变量的分类
能够自定义变量进行增\删\改\查
自定义变量介绍 就是自己定义的变量
分类 自定义局部变量自定义常量自定义全局变量 自定义局部变量 介绍 就是定义在一个脚本文件中的变量, 只能在这个脚本文件中使用的变量, 就是局部变量" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ef3f54682ec4929144819c6ac547b93e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-10-24T23:40:39+08:00" />
<meta property="article:modified_time" content="2020-10-24T23:40:39+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Shell脚本入门:环境变量和自定义变量</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#Shell_2" rel="nofollow">Shell变量：环境变量</a></li><li><ul><li><a href="#_4" rel="nofollow">目标</a></li><li><a href="#Shell_12" rel="nofollow">Shell变量的介绍</a></li><li><a href="#_18" rel="nofollow">变量类型</a></li><li><a href="#_26" rel="nofollow">系统环境变量</a></li><li><ul><li><a href="#_28" rel="nofollow">介绍</a></li><li><a href="#Shell_32" rel="nofollow">Shell的配置文件分类</a></li><li><a href="#_47" rel="nofollow">环境变量分类</a></li><li><a href="#Shell_54" rel="nofollow">查看当前Shell系统环境变量</a></li><li><a href="#Shell_65" rel="nofollow">查看Shell变量(系统环境变量+自定义变量+函数)</a></li><li><a href="#_77" rel="nofollow">常用系统环境变量</a></li></ul> 
   </li><li><a href="#_94" rel="nofollow">小结</a></li></ul> 
  </li><li><a href="#Shell_120" rel="nofollow">Shell变量：自定义变量</a></li><li><ul><li><a href="#_122" rel="nofollow">目标</a></li><li><a href="#_130" rel="nofollow">自定义变量介绍</a></li><li><a href="#_136" rel="nofollow">分类</a></li><li><a href="#_144" rel="nofollow">自定义局部变量</a></li><li><ul><li><a href="#_146" rel="nofollow">介绍</a></li><li><a href="#_152" rel="nofollow">定义与使用</a></li><li><a href="#_189" rel="nofollow">变量删除</a></li></ul> 
   </li><li><a href="#_201" rel="nofollow">自定义常量</a></li><li><a href="#_217" rel="nofollow">自定义全局变量</a></li><li><ul><li><a href="#Shell_219" rel="nofollow">父子Shell环境介绍</a></li><li><a href="#_225" rel="nofollow">自定义全局变量介绍</a></li><li><a href="#_229" rel="nofollow">自定义全局变量语法</a></li><li><a href="#_235" rel="nofollow">案例需求</a></li><li><a href="#_239" rel="nofollow">案例实现步骤</a></li><li><a href="#_255" rel="nofollow">案例演示</a></li><li><a href="#_277" rel="nofollow">结论</a></li></ul> 
   </li><li><a href="#_280" rel="nofollow">小结</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="Shell_2"></a>Shell变量：环境变量</h2> 
<h3><a id="_4"></a>目标</h3> 
<p>1、理解什么是系统环境变量？</p> 
<p>2、掌握常用的系统环境变量都有哪些？</p> 
<h3><a id="Shell_12"></a>Shell变量的介绍</h3> 
<p>变量用于存储管理临时的数据, 这些数据都是在运行内存中的.</p> 
<h3><a id="_18"></a>变量类型</h3> 
<ol><li>系统环境变量</li><li>自定义变量</li><li>特殊符号变量</li></ol> 
<h3><a id="_26"></a>系统环境变量</h3> 
<h4><a id="_28"></a>介绍</h4> 
<p>是系统提供的共享变量.是linux系统加载Shell的配置文件中定义的变量共享给所有的Shell程序使用</p> 
<h4><a id="Shell_32"></a>Shell的配置文件分类</h4> 
<p>1.全局配置文件<br> /etc/profile<br> /etc/profile.d/*.sh<br> /etc/bashrc</p> 
<p>2.个人配置文件<br> 当前用户/.bash_profile<br> 当前用户/.bashrc</p> 
<p>一般情况下，我们都是直接针对全局配置进行操作。</p> 
<h4><a id="_47"></a>环境变量分类</h4> 
<p>在Linux系统中，环境变量按照其作用范围不同大致可以分为系统级环境变量和用户级环境变量。</p> 
<p>系统级环境变量：Shell环境加载全局配置文件中的变量共享给所有用户所有Shell程序使用, 全局共享<br> 用户级环境变量：Shell环境加载个人配置文件中的变量共享给当前用户的Shell程序使用, 登录用户使用</p> 
<h4><a id="Shell_54"></a>查看当前Shell系统环境变量</h4> 
<p>查看命令</p> 
<pre><code class="prism language-shell"><span class="token function">env</span>
</code></pre> 
<p>效果<br> <img src="https://images2.imgbox.com/6c/9c/0vJ4xO89_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="Shell_65"></a>查看Shell变量(系统环境变量+自定义变量+函数)</h4> 
<p>命令</p> 
<pre><code class="prism language-shell"><span class="token keyword">set</span>
</code></pre> 
<p>效果<br> <img src="https://images2.imgbox.com/89/98/tEYCehxu_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_77"></a>常用系统环境变量</h4> 
<table><thead><tr><th>变量名称</th><th>含义</th></tr></thead><tbody><tr><td><mark>PATH</mark></td><td>与windows环境变量PATH功能一样，设置命令的搜索路径，以冒号为分割</td></tr><tr><td>HOME</td><td>当前用户主目录：/root</td></tr><tr><td>SHELL</td><td>当前shell解析器类型：/bin/bash</td></tr><tr><td><mark>HISTFILE</mark></td><td>显示当前用户执行命令的历史列表文件：/root/.bash_history</td></tr><tr><td>PWD</td><td>显示当前所在路径：/root</td></tr><tr><td>OLDPWD</td><td>显示之前的路径</td></tr><tr><td>HOSTNAME</td><td>显示当前主机名：itheima</td></tr><tr><td>HOSTTYPE</td><td>显示主机的架构，是i386、i686、还是x86、x64等：x86_64</td></tr><tr><td><mark>LANG</mark></td><td>设置当前系统语言环境：zh_CN.UTF-8</td></tr></tbody></table> 
<p>环境变量输出演示</p> 
<p><img src="https://images2.imgbox.com/64/21/k0i4lbjM_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_94"></a>小结</h3> 
<p>1.系统环境变量是什么?</p> 
<blockquote> 
 <p>是系统提供的环境变量, 通过加载Shell配置文件中变量数据共享给Shell程序使用</p> 
</blockquote> 
<p>2.环境变量的分类?</p> 
<blockquote> 
 <p>系统级环境变量, Shell环境加载全局配置文件中定义的变量</p> 
 <p>用户级环境变量, Shell环境加载个人配置文件中定义的变量</p> 
</blockquote> 
<p>3.env与set区别</p> 
<blockquote> 
 <p>env用于查看系统环境变量</p> 
 <p>set用于查看系统环境变量+自定义变量+函数</p> 
</blockquote> 
<p>4.常用环境变量</p> 
<table><thead><tr><th>变量名称</th><th>含义</th></tr></thead><tbody><tr><td>PATH</td><td>命令搜索的目录路径, 与windows的环境变量PATH功能一样</td></tr><tr><td>LANG</td><td>查询系统的字符集</td></tr><tr><td>HISTFILE</td><td>查询当前用户执行命令的历史列表</td></tr></tbody></table> 
<h2><a id="Shell_120"></a>Shell变量：自定义变量</h2> 
<h3><a id="_122"></a>目标</h3> 
<p>理解自定义变量的分类</p> 
<p>能够自定义变量进行增\删\改\查</p> 
<h3><a id="_130"></a>自定义变量介绍</h3> 
<p>就是自己定义的变量</p> 
<h3><a id="_136"></a>分类</h3> 
<ol><li>自定义局部变量</li><li>自定义常量</li><li>自定义全局变量</li></ol> 
<h3><a id="_144"></a>自定义局部变量</h3> 
<h4><a id="_146"></a>介绍</h4> 
<p>就是定义在一个脚本文件中的变量, 只能在这个脚本文件中使用的变量, 就是局部变量</p> 
<h4><a id="_152"></a>定义与使用</h4> 
<p>定义语法</p> 
<pre><code class="prism language-shell">var_name<span class="token operator">=</span>value
</code></pre> 
<p>变量定义规则</p> 
<ol><li>变量名称可以有字母,数字和下划线组成, 但是不能以数字开头</li><li>等号两侧不能有空格</li><li>在bash环境中, 变量的默认类型都是字符串类型, 无法直接进行数值运算</li><li>变量的值如果有空格, 必须使用双引号括起来</li><li>不能使用Shell的关键字作为变量名称</li></ol> 
<p>演示</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-zwDJqckT-1603553192500)(assets/image-20200608170754770.png)]</p> 
<p>查询变量值语法</p> 
<pre><code class="prism language-Shell"># 语法1: 直接使用变量名查询
$var_name
# 语法2: 使用花括号
${var_name}
# 区别: 花括号方式适合拼接字符串
</code></pre> 
<p>演示<br> <img src="https://images2.imgbox.com/55/34/IEDlRsEE_o.png" alt="在这里插入图片描述"></p> 
<p>注意: 如果<code>"My name is ${var2}Style"</code> 中 <code>$var2</code> 不带花括号, 系统会认为获取<code>$var2Style</code> 变量数据, 这个变量不存在就获取不到数据,执行效果如下<br> <img src="https://images2.imgbox.com/2d/25/3byOCEKu_o.png" alt="在这里插入图片描述"></p> 
<p>结论: 推荐大家使用花括号才是编程好习惯</p> 
<h4><a id="_189"></a>变量删除</h4> 
<p>语法</p> 
<pre><code class="prism language-shell">unset var_name
</code></pre> 
<p>演示<br> <img src="https://images2.imgbox.com/e0/2e/nDhuKJlq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_201"></a>自定义常量</h3> 
<p>介绍</p> 
<blockquote> 
 <p>就是变量设置值以后不可以修改的变量叫常量, 也叫只读变量</p> 
</blockquote> 
<p>语法</p> 
<pre><code class="prism language-shell"><span class="token function">readonly</span> var_name
</code></pre> 
<p>演示<br> <img src="https://images2.imgbox.com/e7/ae/axPnYq7q_o.png" alt="在这里插入图片描述"></p> 
<p>自定义常量</p> 
<h3><a id="_217"></a>自定义全局变量</h3> 
<h4><a id="Shell_219"></a>父子Shell环境介绍</h4> 
<p>例如: 有2个Shell脚本文件 A.sh 和 B.sh</p> 
<p>如果 在A.sh脚本文件中执行了B.sh脚本文件, 那么A.sh就是父Shell环境, B.sh就是子Shell环境</p> 
<h4><a id="_225"></a>自定义全局变量介绍</h4> 
<blockquote> 
 <p>就是在当前脚本文件中定义全局变量, 这个全局变量可以在当前Shell环境与子Shell环境中都可以使用</p> 
</blockquote> 
<h4><a id="_229"></a>自定义全局变量语法</h4> 
<pre><code class="prism language-Shell">export var_name1 var_name2
</code></pre> 
<h4><a id="_235"></a>案例需求</h4> 
<p>测试全局变量在子Shell中是否可用, 在父Shell中是否可用</p> 
<h4><a id="_239"></a>案例实现步骤</h4> 
<ol><li> <p>创建2个脚本文件 demo2.sh 和 demo3.sh</p> </li><li> <p>编辑demo2.sh</p> <p>命令1:定义全局变量VAR4</p> <p>命令2: 执行demo3.sh脚本文件</p> </li><li> <p>编辑demo3.sh</p> <p>输出全局变量VAR4</p> </li><li> <p>执行demo2.sh脚本文件</p> </li></ol> 
<h4><a id="_255"></a>案例演示</h4> 
<ol><li>创建demo2.sh和demo3.sh文件<br> <img src="https://images2.imgbox.com/11/d3/8Gfp6fr2_o.png" alt="在这里插入图片描述"></li><li>编辑demo2.sh, 里面定义变量VAR4并设置为全局, 并里面执行demo3.sh脚本文件</li></ol> 
<pre><code class="prism language-shell">vim demo2.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/ef/a2/R0cMGyUz_o.png" alt="在这里插入图片描述"><br> 3. 编辑demo3.sh, 里面打印VAR4</p> 
<pre><code class="prism language-shell">vim demo3.sh
</code></pre> 
<p><img src="https://images2.imgbox.com/8a/47/lI0KnJbY_o.png" alt="在这里插入图片描述"><br> 4. 执行脚本文件demo2.sh, 观察打印VAR4效果<br> <img src="https://images2.imgbox.com/da/2b/zRFUeh05_o.png" alt="在这里插入图片描述"><br> 5. 执行脚本文件后, 在交互式Shell环境打印VAR4, 观察打印VAR4效果<br> <img src="https://images2.imgbox.com/16/c5/rvSsK1uv_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_277"></a>结论</h4> 
<p>全局变量在当前Shell环境与子Shell环境中可用, 父Shell环境中不可用</p> 
<h3><a id="_280"></a>小结</h3> 
<p>自定义变量的分类</p> 
<blockquote> 
 <p>自定义局部变量: 就是在一个脚本文件内部使用 <code>var_name=value</code></p> 
 <p>自定义常量: 不可以修改值的变量, <code>readonly var_name</code></p> 
 <p>自定义全局变量: 设置变量在当前脚本文件中与子Shell环境可以使用的变量, <code>export var_name</code></p> 
</blockquote> 
<p>自定义变量进行增\删\改\查</p> 
<blockquote> 
 <p>定义和修改: <code>var_name=value</code></p> 
 <p>查询:<code>${var_name} 或 $var_name</code></p> 
 <p>删除: <code>unset var_name</code></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ad5b2d3bb52c0fe35aab61d048d1e139/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux下lt9611调试总结</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/84c17fbdd878407e384a5d8ed347fde8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">excel乘法公式怎么输入_使用Excel积函数10例，公式乘除，指数</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>