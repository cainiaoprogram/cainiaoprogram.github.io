<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于Python实现的五子棋游戏设计 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于Python实现的五子棋游戏设计" />
<meta property="og:description" content="一、设计目的： 1.1 课程设计教学目的 本课程设计是本专业的一门重要实践性教学环节。在学习了专业基础课和《Python程序设计》课程的基础上，本课程设计旨在加深对Python程序设计的认识，对Python语言及其语言生态有一个进一步的掌握和应用，学会运用Python标准库及外接相关库来解决实际问题的基本能力，培养和提高学生分析问题、解决问题的能力，尤其是提高学生使用Python为开发语言来进行问题描述、交流与思考的能力，为毕业设计和以后的工程实践打下良好的基础。
1.2 本课程设计具体目的 经过小组讨论分析，我们最终选择了“五子棋”作为本次课设主题。
五子棋起源于中国上古时期的传统黑白棋种之一。主要流行于华人和汉字文化圈的国家以及欧美一些地区，是世界上最古老的棋。古代五子棋棋盘与围棋棋盘是通用的，直到1931年，才出现所谓五子棋专用棋盘，为十五路（15×15）棋盘。现在人们压力日益增大，需要劳逸结合才能获得更高的工作效率，工作之余的娱乐对于每一个人来说必不可少。五子棋这种娱乐方式容易上手，老少皆宜，而且趣味横生，引人入胜；不仅能增强思维能力，提高智力，而且富含哲理，有助于修身养性。
二、课程设计任务和要求 2.1 课程设计教学任务和要求 本次课程设计的主要任务是以Python为开发语言完成一个100~300行左右规模的程序项目开发。
课程设计的基本要求是：在课程设计的各个阶段严格、规范地完成相关的文档，例如在初期按时完成设计目的、设计要求、总体设计，在后期完成详细设计、调试与测试、设计总结等。要求能完成所选题目的主要功能，程序运行健壮、正确，代码要有详细注释，可读性好；所写文档结构合理、内容完整、叙述清晰。更高要求是：有创意、系统界面美观。
由于课程设计项目具有一定的综合性，鼓励具有不同特长和不同能力的学生互相组队。项目小组自己推荐一名组长，实行“组长负责制”。组长组织组员进行项目选题、任务分配、方案确定、方案设计、系统调试测试，组员分工协作。小组成员开展项目讨论，互相支持，形成协作意识。
2.2 本课程设计具体任务和要求 有图形界面，能够用鼠标进行操作。
能够进行五子棋游戏的基本操作，即玩家轮流落子。
能够对游戏结果进行正确的判定。
能够实现悔棋及认输等附加功能。
各项功能的展示与应用直观明了。
输出必要的提示信息让玩家更好地进行游戏。
三、总体设计： 基于Python的标准GUI库tkinter快速创建GUI应用程序。
运行程序提示可开始游戏。人人对战，二人轮流落子。界面显示提示信息当点轮到哪一方落子。先有五子“—”或“|”或“/”或“\”连成一线的玩家获胜。若棋盘中棋子已满，玩家均为完成五子相连则判定为平局。当黑方获胜或白方获胜或平局时及时作出判定，并弹出提示框，告知玩家当前对局结束。
3.1 小组成员及任务分配情况 组员：吴佳丽余叶钰刘璐瑶
任务分配：
：负责玩家操作模块设计，包括落子、悔棋及认输。
：负责游戏的可视化设计，包括游戏界面设计及棋盘设计。
棋盘设计部分包括运行程序开始游戏及重新开局时初始化棋盘。
：负责判定游戏结果即玩家胜负或平局判定
3.2 程序功能图 3.3 整体流程图 四、设计实现 4.1 最终实验结果 游戏主界面 启动程序运行游戏，弹出提示框，提示玩家游戏开始，黑方先进行落子。玩家可点击棋盘无棋子处进行落子。或点击“开局”、“悔棋”、“认输”按钮可重新开局或悔棋或认输。当点击“开局/重新开局”按钮时，清空棋盘中的棋子，展示处与启动程序相同的游戏界面。界面中间“黑方”与“落子”二处文字为游戏进行中的提示信息，表示当前轮到黑方进行棋子放置。轮到白方落子时会“黑方”将自动更改为“白方”，“白方”二字以白色显示。如图4-1所示。
玩家获胜后界面 如图4-2所示，若有一方玩家存在“—”或“|”或“/”或“\”五子相连，该玩家取得该局游戏胜利。以图中所示情况——黑方“/”五子相连为例，说明玩家取胜结果。通过黄色线条将黑方连成一线的五颗棋子相连接，此时界面中间提示信息改为“黑方获胜”，“获胜”二字以红色显示。并弹出消息提示框，提示玩家游戏结束黑方完成五子相连，取得胜利。若此时点击悔棋按钮，将提示玩家此时不能悔棋。如图4-3所示；点击认输按钮，将提示玩家点击开局开始游戏，如图4-4所示。
平局情况 当玩家双方都没有完成五子连线，且棋盘中所有棋格都有棋子放置即无处置放棋子时，判定为平局。
为更方便展示，将棋盘改为5*5大小。如图4-5所示，中间提示文字变更为绿色字样“平局？？！”，同时弹出消息提示框，提示玩家当前对局结束，双方达成平局。此时游戏结束，玩家不可再悔棋或认输，若玩家点击悔棋或认输按钮，效果与有一方玩家获胜时相同。即游戏界面不做改变，弹出消息提示框，该消息提示框与图4-3、图4-4中消息提示框相同，不再重复展示。
玩家认输 在一局游戏过程中，若玩家首次点击认输按钮。棋盘不做改变，游戏界面中间文字“落子”变为“认输”如图4-6所示。此时游戏结束，玩家不可再悔棋或认输，若玩家点击悔棋或认输按钮，效果与有一方玩家获胜时相同。即游戏界面不做改变，弹出消息提示框，该消息提示框与图4-3、图4-4中消息提示框相同，不再重复展示。
玩家悔棋 游戏过程中，若一个回合内该玩家首次进行悔棋，取回该玩家刚放置到棋盘上的棋子，并将中间的提示信息“某方落子”改回到该玩家。以黑方悔棋为例，悔棋前及悔棋后游戏部分界面分别如图4-7、图4-8所示。若该玩家在一个回合内已经进行过悔棋操作，再次点击悔棋按钮，则不改变游戏界面及棋盘，但回弹出提示框此时不能悔棋，该消息提示框及提示信息与获胜时点击悔棋按钮，即图4-4中的提示框相同。
4.2 实验结果评价 窗体界面直观明了，游戏过程中有适当的提示信息有助于玩家更好的进行游戏。同时窗体的颜色搭配即窗体大小设置合适。玩家不会因游戏界面颜色冲击或棋盘、文字信息等过大过小产生疲劳。程序能对游戏结果进行正确的判定，悔棋及认输这两个附加功能也能够实现。课程设计最初定下的功能和要求均能实现。在此基础上，玩家完成五子相连时用黄色线条标记，让玩家能有更好的体验。还加上了一个回合内只允许玩家各悔棋一次，增加挑战，让游戏更加有趣。
小组超额完成了最初想要实现的功能和要求，所以我们给自己评价为优秀！
当然这个小程序也很多不足之处。例如没有标记出最后放置的棋子，玩家悔棋后也没有标记出悔棋前的棋子等等。我们往后也应努力学习，做的更好。
五、详细设计 5.1 模块设计 所负责部分大致可分为三大模块。首先，判断游戏胜负的四种情况，即横、竖、斜方向五子一线；其次，判断棋盘是否可以继续下棋，即是否平局；最后，判断玩家输赢，并弹出提示框。
5.2 程序流程图 5.3 具体算法分析 引用tkinter库 from tkinter import* from tkinter import messagebox Tkinter库:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/376c2f28c77c0eb3d49c5bf2936d0742/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-30T12:01:01+08:00" />
<meta property="article:modified_time" content="2022-07-30T12:01:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于Python实现的五子棋游戏设计</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0"></a>一、设计目的：</h2> 
<h3><a id="11__2"></a>1.1 课程设计教学目的</h3> 
<p>本课程设计是本专业的一门重要实践性教学环节。在学习了专业基础课和《Python程序设计》课程的基础上，本课程设计旨在加深对Python程序设计的认识，对Python语言及其语言生态有一个进一步的掌握和应用，学会运用Python标准库及外接相关库来解决实际问题的基本能力，培养和提高学生分析问题、解决问题的能力，尤其是提高学生使用Python为开发语言来进行问题描述、交流与思考的能力，为毕业设计和以后的工程实践打下良好的基础。</p> 
<h3><a id="12__6"></a>1.2 本课程设计具体目的</h3> 
<p>经过小组讨论分析，我们最终选择了“五子棋”作为本次课设主题。</p> 
<p>五子棋起源于中国上古时期的传统黑白棋种之一。主要流行于华人和汉字文化圈的国家以及欧美一些地区，是世界上最古老的棋。古代五子棋棋盘与围棋棋盘是通用的，直到1931年，才出现所谓五子棋专用棋盘，为十五路（15×15）棋盘。现在人们压力日益增大，需要劳逸结合才能获得更高的工作效率，工作之余的娱乐对于每一个人来说必不可少。五子棋这种娱乐方式容易上手，老少皆宜，而且趣味横生，引人入胜；不仅能增强思维能力，提高智力，而且富含哲理，有助于修身养性。</p> 
<h2><a id="_12"></a>二、课程设计任务和要求</h2> 
<h3><a id="21__14"></a>2.1 课程设计教学任务和要求</h3> 
<p>本次课程设计的主要任务是以Python为开发语言完成一个100~300行左右规模的程序项目开发。</p> 
<p>课程设计的基本要求是：在课程设计的各个阶段严格、规范地完成相关的文档，例如在初期按时完成设计目的、设计要求、总体设计，在后期完成详细设计、调试与测试、设计总结等。要求能完成所选题目的主要功能，程序运行健壮、正确，代码要有详细注释，可读性好；所写文档结构合理、内容完整、叙述清晰。更高要求是：有创意、系统界面美观。</p> 
<p>由于课程设计项目具有一定的综合性，鼓励具有不同特长和不同能力的学生互相组队。项目小组自己推荐一名组长，实行“组长负责制”。组长组织组员进行项目选题、任务分配、方案确定、方案设计、系统调试测试，组员分工协作。小组成员开展项目讨论，互相支持，形成协作意识。</p> 
<h3><a id="22__22"></a>2.2 本课程设计具体任务和要求</h3> 
<ol><li> <p>有图形界面，能够用鼠标进行操作。</p> </li><li> <p>能够进行五子棋游戏的基本操作，即玩家轮流落子。</p> </li><li> <p>能够对游戏结果进行正确的判定。</p> </li><li> <p>能够实现悔棋及认输等附加功能。</p> </li><li> <p>各项功能的展示与应用直观明了。</p> </li><li> <p>输出必要的提示信息让玩家更好地进行游戏。</p> </li></ol> 
<h2><a id="_36"></a>三、总体设计：</h2> 
<p>基于Python的标准GUI库tkinter快速创建GUI应用程序。</p> 
<p>运行程序提示可开始游戏。人人对战，二人轮流落子。界面显示提示信息当点轮到哪一方落子。先有五子“—”或“|”或“/”或“\”连成一线的玩家获胜。若棋盘中棋子已满，玩家均为完成五子相连则判定为平局。当黑方获胜或白方获胜或平局时及时作出判定，并弹出提示框，告知玩家当前对局结束。</p> 
<h3><a id="31__42"></a>3.1 小组成员及任务分配情况</h3> 
<p>组员：吴佳丽余叶钰刘璐瑶<br> 任务分配：<br> ：负责玩家操作模块设计，包括落子、悔棋及认输。<br> ：负责游戏的可视化设计，包括游戏界面设计及棋盘设计。</p> 
<p>棋盘设计部分包括运行程序开始游戏及重新开局时初始化棋盘。<br> ：负责判定游戏结果即玩家胜负或平局判定</p> 
<h3><a id="32__52"></a>3.2 程序功能图</h3> 
<p><img src="https://images2.imgbox.com/b1/7b/469yMjX6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="33__55"></a>3.3 整体流程图</h3> 
<p><img src="https://images2.imgbox.com/d2/9e/dNUszRCI_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_60"></a>四、设计实现</h2> 
<h3><a id="41__62"></a>4.1 最终实验结果</h3> 
<h5><a id="_64"></a>游戏主界面</h5> 
<p>启动程序运行游戏，弹出提示框，提示玩家游戏开始，黑方先进行落子。玩家可点击棋盘无棋子处进行落子。或点击“开局”、“悔棋”、“认输”按钮可重新开局或悔棋或认输。当点击“开局/重新开局”按钮时，清空棋盘中的棋子，展示处与启动程序相同的游戏界面。界面中间“黑方”与“落子”二处文字为游戏进行中的提示信息，表示当前轮到黑方进行棋子放置。轮到白方落子时会“黑方”将自动更改为“白方”，“白方”二字以白色显示。如图4-1所示。</p> 
<p><img src="https://images2.imgbox.com/67/0c/3uruWU89_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d4/52/1a8M1AIx_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_72"></a>玩家获胜后界面</h5> 
<p>如图4-2所示，若有一方玩家存在“—”或“|”或“/”或“\”五子相连，该玩家取得该局游戏胜利。以图中所示情况——黑方“/”五子相连为例，说明玩家取胜结果。通过黄色线条将黑方连成一线的五颗棋子相连接，此时界面中间提示信息改为“黑方获胜”，“获胜”二字以红色显示。并弹出消息提示框，提示玩家游戏结束黑方完成五子相连，取得胜利。若此时点击悔棋按钮，将提示玩家此时不能悔棋。如图4-3所示；点击认输按钮，将提示玩家点击开局开始游戏，如图4-4所示。</p> 
<p><img src="https://images2.imgbox.com/7e/3d/Xy6sv2EB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/fd/50/UECExpI9_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_80"></a>平局情况</h5> 
<p>当玩家双方都没有完成五子连线，且棋盘中所有棋格都有棋子放置即无处置放棋子时，判定为平局。</p> 
<p>为更方便展示，将棋盘改为5*5大小。如图4-5所示，中间提示文字变更为绿色字样“平局？？！”，同时弹出消息提示框，提示玩家当前对局结束，双方达成平局。此时游戏结束，玩家不可再悔棋或认输，若玩家点击悔棋或认输按钮，效果与有一方玩家获胜时相同。即游戏界面不做改变，弹出消息提示框，该消息提示框与图4-3、图4-4中消息提示框相同，不再重复展示。</p> 
<p><img src="https://images2.imgbox.com/21/7e/5cncwINx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/31/e3/hUNr8CDr_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="_90"></a>玩家认输</h5> 
<p>在一局游戏过程中，若玩家首次点击认输按钮。棋盘不做改变，游戏界面中间文字“落子”变为“认输”如图4-6所示。此时游戏结束，玩家不可再悔棋或认输，若玩家点击悔棋或认输按钮，效果与有一方玩家获胜时相同。即游戏界面不做改变，弹出消息提示框，该消息提示框与图4-3、图4-4中消息提示框相同，不再重复展示。</p> 
<h5><a id="_94"></a>玩家悔棋</h5> 
<p>游戏过程中，若一个回合内该玩家首次进行悔棋，取回该玩家刚放置到棋盘上的棋子，并将中间的提示信息“某方落子”改回到该玩家。以黑方悔棋为例，悔棋前及悔棋后游戏部分界面分别如图4-7、图4-8所示。若该玩家在一个回合内已经进行过悔棋操作，再次点击悔棋按钮，则不改变游戏界面及棋盘，但回弹出提示框此时不能悔棋，该消息提示框及提示信息与获胜时点击悔棋按钮，即图4-4中的提示框相同。<br> <img src="https://images2.imgbox.com/14/41/Cjta5306_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/c3/a8/SdxnwryG_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="42__103"></a>4.2 实验结果评价</h3> 
<p>窗体界面直观明了，游戏过程中有适当的提示信息有助于玩家更好的进行游戏。同时窗体的颜色搭配即窗体大小设置合适。玩家不会因游戏界面颜色冲击或棋盘、文字信息等过大过小产生疲劳。程序能对游戏结果进行正确的判定，悔棋及认输这两个附加功能也能够实现。课程设计最初定下的功能和要求均能实现。在此基础上，玩家完成五子相连时用黄色线条标记，让玩家能有更好的体验。还加上了一个回合内只允许玩家各悔棋一次，增加挑战，让游戏更加有趣。</p> 
<p>小组超额完成了最初想要实现的功能和要求，所以我们给自己评价为优秀！</p> 
<p>当然这个小程序也很多不足之处。例如没有标记出最后放置的棋子，玩家悔棋后也没有标记出悔棋前的棋子等等。我们往后也应努力学习，做的更好。</p> 
<h2><a id="_111"></a>五、详细设计</h2> 
<h3><a id="51__113"></a>5.1 模块设计</h3> 
<p>所负责部分大致可分为三大模块。首先，判断游戏胜负的四种情况，即横、竖、斜方向五子一线；其次，判断棋盘是否可以继续下棋，即是否平局；最后，判断玩家输赢，并弹出提示框。</p> 
<h3><a id="52__117"></a>5.2 程序流程图</h3> 
<p><img src="https://images2.imgbox.com/8f/1f/dymKWNK2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="53__123"></a>5.3 具体算法分析</h3> 
<h5><a id="tkinter_125"></a>引用tkinter库</h5> 
<pre><code class="prism language-c++">from tkinter import*
from tkinter import messagebox
</code></pre> 
<p><strong>Tkinter库:</strong></p> 
<p>Tkinter是Python 的标准 GUI 库。Python 使用 Tkinter 可以快速的创建 GUI 应用程序。由于 Tkinter 是内置到 python 的安装包中、只要安装好 Python 之后就能 import Tkinter 库、而且 IDLE 也是用 Tkinter 编写而成、简单的图形界面可以由Tkinter 库完成。</p> 
<p><strong>Messagebox 函数分析：</strong></p> 
<p>函数定义：&lt;整型&gt; MessageBox（&lt;字符串&gt; Text, &lt;字符串&gt; Title, &lt;整型&gt; nType）;</p> 
<p>函数功能： 弹出一个消息框。</p> 
<p>参数：</p> 
<pre><code class="prism language-c++">Text &lt;字符串&gt;，消息框的正文；
Title &lt;字符串&gt;，消息框的标题；
nType &lt;整型&gt;，消息框的类型。
</code></pre> 
<p>返回值：&lt;整型&gt;，用户在消息框上点击关闭时的选择的按钮。</p> 
<p>说明：</p> 
<p>nType对应的对话框如下表所示：</p> 
<ul><li> <p>0： 确定</p> </li><li> <p>1： 确定，取消</p> </li><li> <p>2： 终止，重试，忽略</p> </li><li> <p>3： 是，否，取消</p> </li><li> <p>4： 是，否</p> </li><li> <p>5： 重试，取消</p> </li><li> <p>6： 取消，再试一次，继续</p> </li></ul> 
<p>返回值对应的值如下：</p> 
<ul><li> <p>1： 确定</p> </li><li> <p>2： 取消</p> </li><li> <p>3： 终止</p> </li><li> <p>4： 重试</p> </li><li> <p>5： 忽略</p> </li><li> <p>6： 是</p> </li><li> <p>7： 否</p> </li><li> <p>：再试一次</p> </li></ul> 
<h5><a id="_188"></a>胜负情况判断：</h5> 
<p>自定义panduan（）函数并利用for语句循环，判断棋子是否为横、竖、斜五子连线，列表QP[a][b]中必须满足 0 &lt;= a,b &lt;= 17，i、j必须严格控制。若有五子连线情况发生，在棋子上增加一条黄色标记线贯穿五子，更易看出。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">panduan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        iswin <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">#标记是否有一方完成五子相连，0代表否</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment">#判断是否出现有一方"—"五子相连</span>
        If QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
              iswin<span class="token operator">=</span><span class="token number">1</span>     canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">"yellow"</span><span class="token punctuation">)</span>
              win<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#判断是否出现有一方"|"五子相连   </span>
 <span class="token keyword">if</span> QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                iswin<span class="token operator">=</span><span class="token number">1</span>               canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">"yellow"</span><span class="token punctuation">)</span>
                win<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#判断是否出现有一方"\"五子相连           if QP[i][j]==QP[i+1][j+1]==QP[i+2][j+2]==QP[i+3][j+3]==QP[i+4][j+4] != -1:</span>
                iswin <span class="token operator">=</span> <span class="token number">1</span>
canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">"yellow"</span><span class="token punctuation">)</span>
                win<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#判断是否出现有一方"/"五子相连</span>
            <span class="token keyword">if</span> QP<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">==</span>QP<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
                iswin<span class="token operator">=</span><span class="token number">1</span>                canvas<span class="token punctuation">.</span>create_line<span class="token punctuation">(</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">+</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>mesh<span class="token operator">*</span><span class="token punctuation">(</span>j<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">-</span>Qr<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>fill<span class="token operator">=</span><span class="token string">"yellow"</span><span class="token punctuation">)</span>
                win<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>函数及语句分析：</p> 
<p>for循环：</p> 
<p>作用：for循环语句是python中的一个循环控制语句，任何有序的序列对象内的元素都可以遍历，比如字符串、列表、元组等可迭代对像。</p> 
<p>一般格式：第一行是要先定义一个赋值目标（迭代变量），和要遍历（迭代）的对像；首行后面是要执行的语句块。<br> for 目标 in 对像:<br> print赋值目标</p> 
<p>循环过程： i相当于目标，range（num）是遍历对像。当运行for循环语句时，每一次迭代时，i都会从遍历对像range（num）中接收一个新值输出。结束循环后，目标i会保留最后一个值</p> 
<p>Canvas组件：</p> 
<p>Python Tkinter 画布（Canvas）组件和 html5 中的画布一样，都是用来绘图的。可以将图形、文本、小部件或框架放置在画布上。canvas.create_line（）主要实现的是画一条直线，后面<code>()</code>中给的参数就是线段两点的坐标，两点确定一条直线。</p> 
<p>Canvas 组件支持以下标准选项：</p> 
<p>arc 创建一个扇形</p> 
<pre><code class="prism language-c++">coord = 10, 50, 240, 210
arc = canvas.create_arc(coord, start=0, extent=150, fill="blue")
</code></pre> 
<p>image 创建图像</p> 
<pre><code class="prism language-c++">filename = PhotoImage(file = "sunshine.gif")
image = canvas.create_image(50, 50, anchor=NE, image=filename)
</code></pre> 
<p>line 创建线条</p> 
<pre><code class="prism language-c++">line = canvas.create_line(x0, y0, x1, y1, ..., xn, yn, options)
</code></pre> 
<p>oval 创建一个圆</p> 
<pre><code class="prism language-c++">oval = canvas.create_oval(x0, y0, x1, y1, options)
</code></pre> 
<p>polygon 创建一个至少有三个顶点的多边形</p> 
<p>oval = canvas.create_polygon(x0, y0, x1, y1,…xn, yn, options）</p> 
<h5><a id="_267"></a>判断是否平局</h5> 
<p>分析：定义一个列表boring记录每个棋格的状态，包括棋格是否有棋子，若有棋子是为黑棋还是白棋。For循环语句遍历棋盘（列表QP[a][b]中必须满足 0 &lt;= a,b &lt;= 17，i、j必须严格控制），当棋盘中不存在无棋子的棋格且双方均未完成五子连线，判定为平局并弹出提示框。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-c++"> boring=[]   #遍历棋盘，记录每个棋格状态
    for i in range(num):
        for j in range(num):
            boring.append(QP[i][j])
    if -1 not in boring and iswin != 1:  
        print(messagebox.askokcancel('游戏结束','旗鼓相当！平局！'))
</code></pre> 
<p><strong>append（）函数</strong></p> 
<p>描述：append() 方法用于在列表末尾添加新的对象。</p> 
<p>用法: list.append(obj) obj为添加到列表末尾的对象</p> 
<p>返回值：该方法无返回值，但是会修改原来的列表。</p> 
<p>本例应用：</p> 
<pre><code class="prism language-c++">boring.append(QP[i][j])
</code></pre> 
<p>作用是将最新遍历的棋格状态添加到boring列表最后。</p> 
<p><strong>输出分析</strong></p> 
<p>输出提示框，显示游戏结束，旗鼓相当！平局！</p> 
<pre><code class="prism language-c++">print(messagebox.askokcancel('游戏结束','旗鼓相当！平局！')
</code></pre> 
<p>函数分析：</p> 
<p>messagebox.askokcancel（）是tkinter库中的一个组件，用来设置一个消息框。</p> 
<p>askokcancel（）设置对话框的主要文本内容，可以用’\n’来实现换行</p> 
<p>返回值为Boolean类型。</p> 
<h5><a id="_314"></a>判断玩家输赢</h5> 
<p>分析：判断黑子还是白子获胜，弹出提示框，显示“游戏结束，黑方五子相连！获胜！”或“游戏结束，白方五子相连！获胜！”。</p> 
<p>变量设置：global设置全局变量stop，hq。其中tag为之前定义的，tag标记执棋方，0代表黑方，1代表白方 ；stop标记游戏状态，0代表游戏进行中，1代表游戏结束；hq标记是否可悔棋，0代表不可以，1代表可以。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-c++">def win():
    global stop,hq
    a.config(text=key[(tag+1)%2],fg=color[(tag+1)%2])
    b.config(text = "获胜",fg='red')
    stop,hq = 1,0 #决出胜负后游戏结束，不可悔棋
    if tag == 0:
        r=messagebox.askokcancel('游戏结束','白方五子相连！获胜！')
    else:
        r=messagebox.askokcancel('游戏结束','黑方五子相连！获胜！')  
print(r)
</code></pre> 
<p>前要：</p> 
<pre><code class="prism language-c++"> a = Label(tk,text=key[tag],fg=color[tag],bg = "pink",font = ("楷体", "18", "bold"))
    b = Label(tk,text= "落子" ,fg=color[tag],bg = "pink",font = ("楷体", "18", "bold"))
</code></pre> 
<p>函数分析：</p> 
<pre><code class="prism language-c++">a.config(text=key[(tag+1)%2],fg=color[(tag+1)%2])
b.config(text = "获胜",fg='red')
</code></pre> 
<p>通过tag判断棋子的颜色，弹出的消息框中获胜的字体为红色。</p> 
<h2><a id="_351"></a>六、调试与测试</h2> 
<h3><a id="61__353"></a>6.1 调试方法</h3> 
<h5><a id="logging__355"></a>logging 调试法</h5> 
<p>把print()替换为logging，logging不会抛出错误，而且可以输出到文件。</p> 
<p>它允许你指定记录信息的级别，有debug，info，warning，error等几个级别，当我们指定level=INFO时，logging.debug就不起作用了。同理，level=WARNING后，debug和info就不起作用了。这样一来，就可以放心地输出不同级别的信息，也不用删除，最后统一控制输出哪个级别的信息。logging的另一个好处是通过简单的配置，一条语句可以同时输出到不同的地方。</p> 
<h5><a id="Pythonpdb_361"></a>启动Python的调试器pdb</h5> 
<p>使用pdb进行调试，pdb是python自带的一个包，为python程序提供了一种交互的源代码调试功能，主要特性包括设置断点、单步调试、进入函数调试、查看当前代码、查看栈片段、动态改变变量的值等。</p> 
<p>pdb常用命令如下：</p> 
<p>图6-1 pdb<strong>常用命令表</strong></p> 
<p><img src="https://images2.imgbox.com/0b/1b/5c1v7fUs_o.png" alt="在这里插入图片描述"></p> 
<p>步骤如下：</p> 
<p>[1]让程序以单步方式运行，可以随时查看运行状态。<br> [2]以参数-mpdb启动后，pdb定位到下一步要执行的代码-&gt;s=‘0’。输入命令l来查看代码<br> [3]输入命令n可以单步执行代码<br> [4]任何时候都可以输入命令p变量名来查看变量<br> [5]输入命令q结束调试，退出程序</p> 
<h3><a id="62__381"></a>6.2 测试结果分析与讨论</h3> 
<p>黑子右斜五子连线，黑方获胜</p> 
<p><img src="https://images2.imgbox.com/01/b4/ExfCRfMd_o.png" alt="在这里插入图片描述"></p> 
<p>黑方五子竖连线，黑方获胜</p> 
<p><img src="https://images2.imgbox.com/ce/7d/aLLZtGvF_o.png" alt="在这里插入图片描述"></p> 
<p>黑子左斜五子连线，黑方获胜</p> 
<p><img src="https://images2.imgbox.com/e0/24/8PF6vxfM_o.png" alt="在这里插入图片描述"></p> 
<p>白子五子横连线，白方获胜</p> 
<p><img src="https://images2.imgbox.com/ab/11/0kzjFbtW_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/fb14c66b2c5cfa35e4fd9cff3f09e003/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Qt Mac下局域网文件夹共享</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eee6178da8265c06d48ff418cb5443dd/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【ROS基础】map、odom、base_link、laser 的理解 及其 tf 树的理解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>