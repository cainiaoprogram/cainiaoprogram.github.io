<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux系统安装Oracle - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux系统安装Oracle" />
<meta property="og:description" content="1.下载oracle安装包，并上传到/opt目录 2.解压oracle安装包 # cd /opt # unzip linuxx64_12201_database.zip
# ls database
3.关闭selinux(安全模块)和防火墙 关闭selinux:
# vim /etc/selinux/config
将SELINUX设置成disabled 关闭防火墙:
# systemctl stop firewalld
4.安装Oracle12c依赖软件 1.使用阿里yum源代替系统默认的yum源
① 备份默认源 #cd /etc/yum.repos.d/ #mv CentOS-Base.repo CentOS-Base.repo.bak ② 下载新CentOS-Base.repo #wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
含义:使用阿里云的yum源代替默认的yum源，下载软件更快 ③ 清除所有缓存 #yum clean all ④ 重新生成缓存 #yum makecache
2.依赖的安装
# yum -y install binutils compat-libstdc&#43;&#43;-33 compat-libstdc&#43;&#43;-33.i686 elfutilslibelf
elfutils-libelf-devel gcc gcc-c&#43;&#43; glibc glibc.i686 glibc-common glibcdevel
glibc-devel.i686 glibc-headers ksh libaio libaio.i686 libaio-devel libaiodevel." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/7cf0fa203858ca42959a9c9426228987/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-16T15:33:49+08:00" />
<meta property="article:modified_time" content="2022-05-16T15:33:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux系统安装Oracle</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4><strong>1.下载oracle安装包，并上传到/opt目录 </strong></h4> 
<h4><strong>2.解压oracle安装包 </strong></h4> 
<p># cd /opt <br> # unzip linuxx64_12201_database.zip<br> # ls database</p> 
<h4>3.关闭selinux(安全模块)和防火墙</h4> 
<p>关闭selinux:</p> 
<p># vim /etc/selinux/config<br> 将SELINUX设置成disabled </p> 
<p><img alt="" height="329" src="https://images2.imgbox.com/00/68/e2JkTFRR_o.png" width="1200"></p> 
<p>关闭防火墙:</p> 
<p># systemctl stop firewalld</p> 
<p></p> 
<h4>4.安装Oracle12c依赖软件</h4> 
<h4></h4> 
<p>1.使用阿里yum源代替系统默认的yum源</p> 
<p>① 备份默认源 <br> #cd /etc/yum.repos.d/ <br> #mv CentOS-Base.repo CentOS-Base.repo.bak <br> ② 下载新CentOS-Base.repo <br> #wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</p> 
<p>含义:使用阿里云的yum源代替默认的yum源，下载软件更快 <br> ③ 清除所有缓存 <br> #yum clean all <br> ④ 重新生成缓存 <br> #yum makecache</p> 
<p>2.依赖的安装</p> 
<p># yum -y install binutils compat-libstdc++-33 compat-libstdc++-33.i686 elfutilslibelf<br> elfutils-libelf-devel gcc gcc-c++ glibc glibc.i686 glibc-common glibcdevel<br> glibc-devel.i686 glibc-headers ksh libaio libaio.i686 libaio-devel libaiodevel.i686<br> libgcc libgcc.i686 libstdc++ libstdc++.i686 libstdc++-devel make <br> sysstat  ld-linux.so.2  unixODBC unixODBC-devel libXp.i686 compat-libcap1 sysstat <br> smartmontools net-tools</p> 
<h4><br> 5.添加Oracle用户和用户组 </h4> 
<p>1.添加分组和创建用户</p> 
<p>#创建安装组<br> # groupadd oinstall<br> #创建管理组<br> # groupadd dba<br> # groupadd oper<br> # 创建用户<br> # useradd -g oinstall -G dba,oper oracle</p> 
<p>2.设置密码</p> 
<p># passwd oracle</p> 
<h4><br> 6.创建Oracle的安装目录 </h4> 
<p># mkdir -p /usr/local/oracle/product/12.1.0.2.0/dbhome_1<br> # chown -R oracle:oinstall /usr/local/oracle<br> # chmod -R 775 /usr/local/oracle<br>  </p> 
<h4>7.修改内核参数</h4> 
<p># vim /etc/sysctl.conf<br> 在文件最后加入<br> fs.aio-max-nr=1048576<br> fs.file-max=6815744<br> kernel.sem=250 32000 100 128<br> kernel.shmall=2097152<br> kernel.shmmax=2147483648<br> kernel.shmmni=4096<br> net.core.rmem_default=1048576<br> net.core.rmem_max=4194304<br> net.core.wmem_default=262144<br> net.core.wmem_max=1048576<br> net.ipv4.ip_local_port_range=9000 65500<br> # 立即生效：<br> # sysctl -p</p> 
<h4></h4> 
<h4>8.修改oracle用户权限文件</h4> 
<p># vim /etc/security/limits.conf<br> 在文件最后加入<br> oracle soft   nofile  1024<br> oracle hard   nofile  65536<br> oracle soft   nproc   2047<br> oracle hard   nproc   16384<br> oracle soft   stack   10240</p> 
<h4>9.修改验证选项</h4> 
<p># vim /etc/pam.d/login<br> 在文件最后加入<br> session required       /lib64/security/pam_limits.so<br> session required       pam_limits.so<br>  </p> 
<h4>10.修改配置文件</h4> 
<p># vim /etc/profile<br> 在文件最后加入<br> if [ $USER = "oracle" ]; then<br>   if [ $SHELL = "/bin/ksh" ]; then<br>      ulimit -p 16384<br>      ulimit -n 65536<br>   else<br>      ulimit -u 16384 -n 65536<br>   fi<br> fi<br> # 立即生效：<br> # source /etc/profile</p> 
<p>11.配置Oracle环境变量</p> 
<p># vim /home/oracle/.bash_profile<br> 添加在文件的末尾<br> umask 022<br> ORACLE_BASE=/usr/local/oracle<br> ORACLE_HOME=$ORACLE_BASE/product/12.1.0.2.0/dbhome_1<br> ORACLE_SID=orcl<br> ORACLE_TERM=xterm<br> PATH=$ORACLE_HOME/bin:/usr/sbin:$PATH<br> LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib<br> LANG=C<br> NLS_LANG=AMERICAN_AMERICA.AL32UTF8<br> export ORACLE_BASE ORACLE_HOME ORACLE_SID ORACLE_TERM PATH LD_LIBRARY_PATH LANG NLS_LANG<br> # 立即生效：<br> # source /home/oracle/.bash_profile</p> 
<h4>12.安装图形化界面</h4> 
<p># yum -y groupinstall "X Window System"<br> # yum install -y xterm</p> 
<h4>13.开启图型化安装Oracle </h4> 
<p><br> 使用Xmanager6进行图形化安装（需要另行安装）<br><img alt="" height="292" src="https://images2.imgbox.com/42/40/RyzzUGqb_o.png" width="285"></p> 
<p>1）开启Xstart<br> 2）新建会话</p> 
<p><img alt="" height="151" src="https://images2.imgbox.com/2e/46/OMTViO2P_o.png" width="343"> </p> 
<p>3）写入命令</p> 
<p>/usr/bin/xterm -ls -display $DISPLAY</p> 
<p><img alt="" height="452" src="https://images2.imgbox.com/20/a8/NlKLJm7h_o.png" width="563"> </p> 
<p>4)设置密码</p> 
<p><img alt="" height="457" src="https://images2.imgbox.com/e9/5b/QjjKIps8_o.png" width="569"> </p> 
<p>         <img alt="" height="267" src="https://images2.imgbox.com/04/f1/9mVrb4Sp_o.png" width="380"> </p> 
<p>5）点击运行</p> 
<p><img alt="" height="569" src="https://images2.imgbox.com/75/39/u0V1vUR9_o.png" width="529"> </p> 
<p> <img alt="" height="326" src="https://images2.imgbox.com/2a/80/4XyEDkWA_o.png" width="499"></p> 
<p># cd /opt/database</p> 
<p># ./runInstaller</p> 
<h3>14.安装Oracle </h3> 
<p><img alt="" height="418" src="https://images2.imgbox.com/fe/b4/UoOIqPg9_o.png" width="554"></p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/99/d7/TZYZVT5I_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/8a/5d/7Iahaj0S_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/aa/14/fdZnLaCb_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/24/1d/nB9zsx6x_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/d0/ea/TyPgzr6c_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/de/d6/NICNAPzJ_o.png" width="816"> </p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/22/35/H60M7l3f_o.png" width="1002"> </p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/6f/98/LME530gU_o.png" width="1002"> </p> 
<p> <img alt="" height="616" src="https://images2.imgbox.com/f3/8d/FMAS4TXe_o.png" width="816"></p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/73/58/LWCmZ8vr_o.png" width="816"> </p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/a9/3c/uXnsD6Af_o.png" width="1002"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/dd/26/yy6L5d68_o.png" width="816"> </p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/f5/a2/iMd7jPC8_o.png" width="1002"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/c8/a0/50csT5iV_o.png" width="816"> </p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/f3/b0/cgiNFj0o_o.png" width="1002"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/12/02/Qxt0ooEz_o.png" width="816"> </p> 
<p> <img alt="" height="616" src="https://images2.imgbox.com/a0/1d/a2KOnOzS_o.png" width="816"></p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/e7/b4/dq0SVF5H_o.png" width="816"> </p> 
<p>出现如下图所示的错误说明swap空间不足，配置swap空间的方法参考：<br><a class="link-info" href="https://blog.csdn.net/java_1992/article/details/78697388" title="https://blog.csdn.net/java_1992/article/details/78697388">https://blog.csdn.net/java_1992/article/details/78697388</a></p> 
<p><img alt="" height="567" src="https://images2.imgbox.com/ec/8b/EQHidtgq_o.png" width="714"> </p> 
<p> <img alt="" height="616" src="https://images2.imgbox.com/e6/1f/pxM3P3xN_o.png" width="816"></p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/36/7b/COc1Uaua_o.png" width="816"> </p> 
<p>出现如上图所示说明缺少包，使用“yum list 包名”缺少的名称查询包名，再使用“yum install 具体包名”<br> 安装<br><img alt="" height="283" src="https://images2.imgbox.com/f2/2e/GtM9E5yv_o.png" width="679"> </p> 
<p>若搜索不到则需要在网上下载对应包，然后对应安装即可。<br><img alt="" height="616" src="https://images2.imgbox.com/72/17/zDEMHUgD_o.png" width="816"> </p> 
<p><img alt="" height="616" src="https://images2.imgbox.com/37/87/qjII1jMm_o.png" width="816"> </p> 
<p>出现下面这条切记一定不用直接OK，要运行以后才能OK</p> 
<p><img alt="" height="446" src="https://images2.imgbox.com/14/f0/AAiNTTUw_o.png" width="740"> </p> 
<p>  用根用户执行</p> 
<p><img alt="" height="216" src="https://images2.imgbox.com/03/c2/Ga7UKgT9_o.png" width="1174"></p> 
<p><img alt="" height="700" src="https://images2.imgbox.com/01/32/IG97RuRN_o.png" width="1200"> </p> 
<p>执行完点击ok</p> 
<p><img alt="" height="761" src="https://images2.imgbox.com/22/3f/Sh4l8qmS_o.png" width="1002"> </p> 
<h3>15.启动和关闭oracle </h3> 
<p></p> 
<p><br> 1.登录服务器，切换到oracle用户，或者以oracle用户登录</p> 
<p>[admin@dataserver ~]$ su - oracle<br> 密码：<br> [oracle@dataserver ~]$</p> 
<p><br> 2.打开监听服务</p> 
<p>[oracle@localhost ~]$ lsnrctl start<br><br> 可以通过lsnrctl status命令查看Oracle监听器运行状况<br>  [oracle@localhost ~]$ lsnrctl status</p> 
<p>3.以SYS用户身份登录Oracle</p> 
<p>[oracle@localhost ~]$ sqlplus /nolog<br> SQL*Plus: Release 11.2.0.1.0 Production on Fri Dec 1 23:29:19 2017<br> Copyright (c) 1982, 2009, Oracle. All rights reserved.<br> SQL&gt; conn /as sysdba<br> Connected to an idle instance.</p> 
<p>4.通过startup命令启动实例</p> 
<p>SQL&gt; startup<br> ORACLE instance started.<br> Total System ... ...Database mounted.<br> Database opened.<br> SQL&gt;</p> 
<p>二、Linux下关闭Oracle<br> 1.关闭数据库实例</p> 
<p>SQL&gt; shutdown<br> Database closed.<br> Database dismounted.<br> ORACLE instance shut down.SQL&gt; quitDisconnected from Oracle Database 11g <br> Enterprise Edition Release 11.2.0.1.0 - 64bit ProductionWith the Partitioning, <br> OLAP, Data Mining and Real Application Testing options</p> 
<p><br> 2.关闭监听器</p> 
<p>[oracle@localhost ~]$ lsnrctl stop</p> 
<h4>16.客户端连接oracle</h4> 
<p><img alt="" height="673" src="https://images2.imgbox.com/df/9e/HM3GFK9v_o.png" width="593"></p> 
<p><img alt="" height="673" src="https://images2.imgbox.com/85/e7/5b8tohiH_o.png" width="593"> </p> 
<p> </p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f98e2b3a47d458b47447cd9c988370f3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">4 - 线程 - Windows 10 - CPython - 理解伪多线程中 join() 线程连接点(主线程堵塞) 和 sleep() 线程睡眠 的作用</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f62dd2f48aa913df9bfa7950ee178d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">对于基本的AT命令学习与掌握</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>