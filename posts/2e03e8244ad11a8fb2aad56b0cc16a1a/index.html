<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>cpolar 的内网渗透（抵挡不住攻击，可内部使用） - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="cpolar 的内网渗透（抵挡不住攻击，可内部使用）" />
<meta property="og:description" content="目录
系列文章概述1. Windows安装StudyPHP 1.1 下载后解压并安装1.2 打开默认站点，测试2 下载静态演示站点 2.1 下载演示站点2.2 解压并复制2.3 打开站点根目录2.4 复制演示站点到站网根目录2.2 在浏览器中，查看演示效果。3. 将站点发布到公网 3.1 生成cpolar随机URL公网地址3.2 复制命令行窗口里的随机网址3.3 如何生成一个非随机的公网URL？总结下一步做什么？ 系列文章 Windows用户如何安装Cpolar如何在Windows上搭建Web站点，并发布到公网 1/2如何在Windows上搭建Web站点，并发布到公网 2/2如何在Windows下搭建WordPress博客站点并发布到公网如何为Windows上的WordPress站点配置自己的域名并公网可访问如何为WordPress站点配置HTTPS证书远程办公神器:如何在家里远程办公室的电脑,利用Cpolar远程办公神器：如何使用Cpolar远程桌面，配置固定TCP端口地址 概述 这非常适合设置您的第一个网站，我们将在Windows上搭建一个PHP站点环境，然后部署一个演示站点，并且将它发布到公网上。让您的好友及用户可以访问到它。
1. Windows安装StudyPHP 官网下载：Windows版phpstudy下载 - 小皮面板(phpstudy)
1.1 下载后解压并安装 安装后的效果，如图：
点击，一键启动 WNMP 旁边的启动按钮
会默认启动nginx，MYSQL 5.7
在启动过程中，如有提示防火墙提示，允许即可。
1.2 打开默认站点，测试 在StudyPHP面版–网站–选择localhost 80的默认站点，点击管理，弹出下拉菜单，选择打开网站，会弹出浏览器，打开本地默认站点http://localhost
如下图，说明安装成功。
2 下载静态演示站点 2.1 下载演示站点 下载:https://www.cpolar.com/static/downloads/meditation-app-master.zip
2.2 解压并复制 下载后，解压缩，复制目录下的所有文件，如下图
2.3 打开站点根目录 我们找到并打开网站的根目录
默认在 D:\phpstudy_pro\WWW, 我们将目录里所有文件删除，如下图
2.4 复制演示站点到站网根目录 复制我们的演示站点所有文件到该目录下,复制后如下图：
2.2 在浏览器中，查看演示效果。 这是一个冥想站点，可以选择2-5-10分钟不同的时间，可以切换下雨与阳光不同的情景。用于放松自我，调解心境，给自己做一个心灵SPA
3. 将站点发布到公网 这里，使用cpolar内网穿透工具，如果您还没有安装，请参考前一篇教程《如何在Windows下安装cpoalr》
3.1 生成cpolar随机URL公网地址 打开命令行窗口：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/2e03e8244ad11a8fb2aad56b0cc16a1a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-18T02:24:01+08:00" />
<meta property="article:modified_time" content="2023-09-18T02:24:01+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">cpolar 的内网渗透（抵挡不住攻击，可内部使用）</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>目录</p> 
<p></p> 
<ul><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#%E7%B3%BB%E5%88%97%E6%96%87%E7%AB%A0" rel="nofollow" title="系列文章">系列文章</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#%E6%A6%82%E8%BF%B0" rel="nofollow" title="概述">概述</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#1_Windows%E5%AE%89%E8%A3%85StudyPHP" rel="nofollow" title="1. Windows安装StudyPHP">1. Windows安装StudyPHP</a> 
  <ul><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#11_%E4%B8%8B%E8%BD%BD%E5%90%8E%E8%A7%A3%E5%8E%8B%E5%B9%B6%E5%AE%89%E8%A3%85" rel="nofollow" title="1.1 下载后解压并安装">1.1 下载后解压并安装</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#12_%E6%89%93%E5%BC%80%E9%BB%98%E8%AE%A4%E7%AB%99%E7%82%B9%EF%BC%8C%E6%B5%8B%E8%AF%95" rel="nofollow" title="1.2 打开默认站点，测试">1.2 打开默认站点，测试</a></li></ul></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#2_%E4%B8%8B%E8%BD%BD%E9%9D%99%E6%80%81%E6%BC%94%E7%A4%BA%E7%AB%99%E7%82%B9" rel="nofollow" title="2 下载静态演示站点">2 下载静态演示站点</a> 
  <ul><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#21_%E4%B8%8B%E8%BD%BD%E6%BC%94%E7%A4%BA%E7%AB%99%E7%82%B9" rel="nofollow" title="2.1 下载演示站点">2.1 下载演示站点</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#22_%E8%A7%A3%E5%8E%8B%E5%B9%B6%E5%A4%8D%E5%88%B6" rel="nofollow" title="2.2 解压并复制">2.2 解压并复制</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#23_%E6%89%93%E5%BC%80%E7%AB%99%E7%82%B9%E6%A0%B9%E7%9B%AE%E5%BD%95" rel="nofollow" title="2.3 打开站点根目录">2.3 打开站点根目录</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#24_%E5%A4%8D%E5%88%B6%E6%BC%94%E7%A4%BA%E7%AB%99%E7%82%B9%E5%88%B0%E7%AB%99%E7%BD%91%E6%A0%B9%E7%9B%AE%E5%BD%95" rel="nofollow" title="2.4 复制演示站点到站网根目录">2.4 复制演示站点到站网根目录</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#22_%E5%9C%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%EF%BC%8C%E6%9F%A5%E7%9C%8B%E6%BC%94%E7%A4%BA%E6%95%88%E6%9E%9C%E3%80%82" rel="nofollow" title="2.2 在浏览器中，查看演示效果。">2.2 在浏览器中，查看演示效果。</a></li></ul></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#3_%E5%B0%86%E7%AB%99%E7%82%B9%E5%8F%91%E5%B8%83%E5%88%B0%E5%85%AC%E7%BD%91" rel="nofollow" title="3. 将站点发布到公网">3. 将站点发布到公网</a> 
  <ul><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#31_%E7%94%9F%E6%88%90cpolar%E9%9A%8F%E6%9C%BAURL%E5%85%AC%E7%BD%91%E5%9C%B0%E5%9D%80" rel="nofollow" title="3.1 生成cpolar随机URL公网地址">3.1 生成cpolar随机URL公网地址</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#32_%E5%A4%8D%E5%88%B6%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3%E9%87%8C%E7%9A%84%E9%9A%8F%E6%9C%BA%E7%BD%91%E5%9D%80" rel="nofollow" title="3.2 复制命令行窗口里的随机网址">3.2 复制命令行窗口里的随机网址</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#33_%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E9%9D%9E%E9%9A%8F%E6%9C%BA%E7%9A%84%E5%85%AC%E7%BD%91URL%EF%BC%9F" rel="nofollow" title="3.3 如何生成一个非随机的公网URL？">3.3 如何生成一个非随机的公网URL？</a></li></ul></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#%E6%80%BB%E7%BB%93" rel="nofollow" title="总结">总结</a></li><li><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network#%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F" rel="nofollow" title="下一步做什么？">下一步做什么？</a></li></ul> 
<h3>系列文章</h3> 
<ul><li><em><a href="https://www.cpolar.com/blog/how-do-windows-users-install-cpolar" rel="nofollow" title="Windows用户如何安装Cpolar">Windows用户如何安装Cpolar</a></em></li><li><em><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network" rel="nofollow" title="如何在Windows上搭建Web站点，并发布到公网 1/2">如何在Windows上搭建Web站点，并发布到公网 1/2</a></em></li><li><em><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network-2-2" rel="nofollow" title="如何在Windows上搭建Web站点，并发布到公网 2/2">如何在Windows上搭建Web站点，并发布到公网 2/2</a></em></li><li><em><a href="https://www.cpolar.com/blog/how-to-set-up-a-wordpress-blog-in-windows-and-publish-it-to-the-public-network" rel="nofollow" title="如何在Windows下搭建WordPress博客站点并发布到公网">如何在Windows下搭建WordPress博客站点并发布到公网</a></em></li><li><em><a href="https://www.cpolar.com/blog/configure-your-own-domain-name-for-your-wordpress-sit" rel="nofollow" title="如何为Windows上的WordPress站点配置自己的域名并公网可访问">如何为Windows上的WordPress站点配置自己的域名并公网可访问</a></em></li><li><em><a href="https://www.cpolar.com/blog/configure-an-https-certificate-for-your-wordpress-site" rel="nofollow" title="如何为WordPress站点配置HTTPS证书">如何为WordPress站点配置HTTPS证书</a></em></li><li><em><a href="https://www.cpolar.com/blog/use-cpolar-remote-office-computers" rel="nofollow" title="远程办公神器:如何在家里远程办公室的电脑,利用Cpolar">远程办公神器:如何在家里远程办公室的电脑,利用Cpolar</a></em></li><li><em><a href="https://www.cpolar.com/blog/configure-a-fixed-tcp-port-address-for-the-remote-desktop" rel="nofollow" title="远程办公神器：如何使用Cpolar远程桌面，配置固定TCP端口地址">远程办公神器：如何使用Cpolar远程桌面，配置固定TCP端口地址</a></em></li></ul> 
<h3>概述</h3> 
<p>这非常适合设置您的第一个网站，我们将在Windows上搭建一个PHP站点环境，然后部署一个演示站点，并且将它发布到公网上。让您的好友及用户可以访问到它。</p> 
<h3>1. Windows安装StudyPHP</h3> 
<p>官网下载：<a href="https://www.xp.cn/download.html" rel="nofollow" title="Windows版phpstudy下载 - 小皮面板(phpstudy)">Windows版phpstudy下载 - 小皮面板(phpstudy)</a></p> 
<h4>1.1 下载后解压并安装</h4> 
<p>安装后的效果，如图：</p> 
<p></p> 
<p class="img-center"><img alt="20221117165009" height="567" src="https://images2.imgbox.com/01/6e/j2Ja0pu0_o.png" width="720"></p> 
<p>点击，一键启动 WNMP 旁边的<code>启动</code>按钮</p> 
<p></p> 
<p class="img-center"><img alt="20221117165018" height="565" src="https://images2.imgbox.com/19/c6/cJOSTkzd_o.png" width="720"></p> 
<p>会默认启动nginx，MYSQL 5.7</p> 
<p>在启动过程中，如有提示防火墙提示，允许即可。</p> 
<h4>1.2 打开默认站点，测试</h4> 
<p>在StudyPHP面版–<code>网站</code>–选择localhost 80的默认站点，点击<code>管理</code>，弹出下拉菜单，选择<code>打开网站</code>，会弹出浏览器，打开本地默认站点http://localhost</p> 
<p></p> 
<p class="img-center"><img alt="20221117165024" height="561" src="https://images2.imgbox.com/de/45/MJfvzRr3_o.png" width="720"></p> 
<p>如下图，说明安装成功。</p> 
<p></p> 
<p class="img-center"><img alt="20221117165030" height="377" src="https://images2.imgbox.com/6b/00/ERcVzb4n_o.png" width="720"></p> 
<h3>2 下载静态演示站点</h3> 
<h4>2.1 下载演示站点</h4> 
<p>下载:<a href="https://www.cpolar.com/static/downloads/meditation-app-master.zip" rel="nofollow" title="https://www.cpolar.com/static/downloads/meditation-app-master.zip">https://www.cpolar.com/static/downloads/meditation-app-master.zip</a></p> 
<h4>2.2 解压并复制</h4> 
<p>下载后，解压缩，复制目录下的所有文件，如下图</p> 
<p></p> 
<p class="img-center"><img alt="20221117165059" height="529" src="https://images2.imgbox.com/16/cd/CqnPbUvq_o.png" width="720"></p> 
<h4>2.3 打开站点根目录</h4> 
<p>我们找到并打开网站的根目录</p> 
<p></p> 
<p class="img-center"><img alt="20221117165110" height="566" src="https://images2.imgbox.com/7b/13/R4ELFCOy_o.png" width="720"></p> 
<p>默认在 <code>D:\phpstudy_pro\WWW</code>, 我们将目录里所有文件删除，如下图</p> 
<p></p> 
<p class="img-center"><img alt="20221117165117" height="534" src="https://images2.imgbox.com/3a/b1/rHEFaxsA_o.png" width="720"></p> 
<h4>2.4 复制演示站点到站网根目录</h4> 
<p>复制我们的演示站点所有文件到该目录下,复制后如下图：</p> 
<p></p> 
<p class="img-center"><img alt="20221117165123" height="529" src="https://images2.imgbox.com/22/1c/I15sVKfv_o.png" width="720"></p> 
<h4>2.2 在浏览器中，查看演示效果。</h4> 
<p></p> 
<p class="img-center"><img alt="20221117165129" height="353" src="https://images2.imgbox.com/5c/5b/VpLMBx0E_o.png" width="720"></p> 
<p>这是一个冥想站点，可以选择2-5-10分钟不同的时间，可以切换下雨与阳光不同的情景。用于放松自我，调解心境，给自己做一个心灵SPA</p> 
<h3>3. 将站点发布到公网</h3> 
<p>这里，使用cpolar内网穿透工具，如果您还没有安装，请参考前一篇教程<a href="https://www.cpolar.com/blog/how-do-windows-users-install-cpolar" rel="nofollow" title="《如何在Windows下安装cpoalr》">《如何在Windows下安装cpoalr》</a></p> 
<h4>3.1 生成cpolar随机URL公网地址</h4> 
<p>打开命令行窗口：</p> 
<pre><code>cpolar http -region=cn_vip 80
</code></pre> 
<p>Bash</p> 
<p>Copy</p> 
<p></p> 
<p class="img-center"><img alt="20221117165156" height="388" src="https://images2.imgbox.com/e6/e9/JjPsOYP3_o.png" width="720"></p> 
<p>现在，cpolar将内网站点，发布到了一个随机域名网址：<a href="https://711d7522.vip.cpolar.cn/" rel="nofollow" title="https://711d7522.vip.cpolar.cn">https://711d7522.vip.cpolar.cn</a></p> 
<h4>3.2 复制命令行窗口里的随机网址</h4> 
<p>在命令行窗口上按鼠标右键，弹出菜单，选择<code>标记</code>.如下图：</p> 
<p></p> 
<p class="img-center"><img alt="20221117165206" height="390" src="https://images2.imgbox.com/69/6a/m7JaBW5S_o.png" width="720"></p> 
<p>然后选择要复制的网址后，再次点击鼠标右键。则复制成功。</p> 
<p></p> 
<p class="img-center"><img alt="20221117165211" height="388" src="https://images2.imgbox.com/d9/98/TJzpHDOv_o.png" width="720"></p> 
<p>我们把复制好的URL，粘贴在浏览器中，看一下效果。</p> 
<p>打开浏览器试：<a href="https://380b860c.vip.cpolar.cn/" rel="nofollow" title="https://380b860c.vip.cpolar.cn/">https://380b860c.vip.cpolar.cn/</a></p> 
<p></p> 
<p class="img-center"><img alt="20221117165224" height="403" src="https://images2.imgbox.com/05/51/oLK3RoHk_o.png" width="720"></p> 
<p>现在，我们的站点，已经发布到了公网，任何人都可以访问到它。虽然它是临时站点。</p> 
<p>我们可以将应该地址发给好友，让TA也做个心灵SPA。^ ^</p> 
<p>回到cpolar命令行窗口，按CTRL+C键，退出cpolar</p> 
<p>此时，公网地址不再能被访问。</p> 
<h4>3.3 如何生成一个非随机的公网URL？</h4> 
<p>虽然我们已经发布了站点公网，但域名是随机变化的（24小时后会变化），这只适合临时测试使用。如果要长期使用，我们要配置二级子域名。</p> 
<p>操作步骤：</p> 
<ol><li>登录到cpolar<a href="https://dashboard.cpolar.com/" rel="nofollow" title="后台">后台</a>–&gt;套餐，升级到cpolar基础套餐</li><li>cpolar<a href="https://dashboard.cpolar.com/" rel="nofollow" title="后台">后台</a>–&gt;预留–&gt;保留二级子域名，例如添加dev9(改成您自己喜欢的），地区选择VIP China地区</li></ol> 
<p>回到命令行窗口，测试预留好的二级子域名</p> 
<pre><code>cpolar http -subdomain=dev9 -region=cn_vip 80
</code></pre> 
<p>Bash</p> 
<p>Copy</p> 
<p>显示如下图，说明创建隧道成功</p> 
<p></p> 
<p class="img-center"><img alt="20221117165235" height="387" src="https://images2.imgbox.com/08/29/QOUj4wvm_o.png" width="720"></p> 
<p>我们打开浏览器测试一下：</p> 
<p></p> 
<p class="img-center"><img alt="20221117165240" height="421" src="https://images2.imgbox.com/12/f7/ErnUJlrM_o.png" width="720"></p> 
<p>我们的全网唯一私有二级子域名，创建好了。</p> 
<h3>总结</h3> 
<p>今天，我们在Windows上安装了StudyPHP站点环境，也配置了一个演示站点，并且使用cpolar将其发布到公网，也配置了一个容易记忆的二级子域名。</p> 
<p>接下来的章节里，我们将继续完善它，将cpolar配置为开机自启动。将二级子域名的配置，写在cpolar配置文件里，并且设置cpolar为后台服务模式，开机自启动。</p> 
<h3>下一步做什么？</h3> 
<ul><li><em><a href="https://www.cpolar.com/blog/how-to-set-up-a-web-site-on-windows-and-publish-it-to-the-public-network-2-2" rel="nofollow" title="如何将cpolar开机自启动。">如何将cpolar开机自启动。</a></em></li><li><em><a href="https://www.cpolar.com/blog/how-to-set-up-a-wordpress-blog-in-windows-and-publish-it-to-the-public-network" rel="nofollow" title="如何在Widnows安装Wordpress，并且发布至公网。">如何在Widnows安装Wordpress，并且发布至公网。</a></em></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6816b6248621b960d9a8605aadcd08d9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">并发场景下的事务会导致哪些数据问题?</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/62bc4f0dd4675d79ea63ec4bf7728b48/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">华为云云耀云服务器L实例评测 | 华为云部署Docker容器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>