<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>快学scala 第十章 特质 读书笔记及习题答案代码 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="快学scala 第十章 特质 读书笔记及习题答案代码" />
<meta property="og:description" content="chapter 10 特质 标签：快学scala
一、笔记 scala和java一样不允许从多个超类继承，scala提供特质而非接口。特质可以同时拥有抽象方法和具体方法，而类可以实现多个特质。 不需要将方法声明为abstract，特质中未被实现的方法默认就是抽象的。在重写特质的抽象方法时不需要给出override关键字。特质跟类更为相像。用with添加额外的特质： class ConsoleLogger extends Logger with Cloneable with Serialiable 由上，Logger ith Cloneable with Serialiable首先是一个整体，然后再由类来扩展。 2. 特质的方法并不需要一定是抽象的：
trait ConsoleLogger{ def log(msg: String) { println(msg)}}class SavingAccount extends Account with ConsoleLogger { def withdraw(amount: Double){ if(amount &gt; balance) log(&#34;Insufficient funds&#34;) else balance -= amount }} //scala与java的区别，SavingAccount从ConsoleLogger特质得到了一个具体的log方法，java的接口是不可能做到的。scala中是ConsoleLogger的功能被混入了SavingAccount类 JVM中，一个类只能扩展一个超类，因此来自特质的字段不能以相同的方式继承。对于特质的构造顺序：首先调用超类的构造器。特质构造器在超类构造器之后、类构造器之前执行。特质由左到右被构造。每个特质当中，父特质先被构造。如果多个特质共有一个父特质，而那个父特质已经被构造，则不会被再次构造。所有特质构造完毕，子类被构造。 class SavingsAccount extends Account with FileLogger with ShortLogger//构造顺序是： Account（超类）Looger（第一个特质的父特质）FileLogger（第一个特质）ShortLogger（第二个特质，它的父特质Logger已被构造），SavingsAccount(类) 特质不能有构造器参数，每个特质都有一个无参数的构造器。缺少构造器参数是特质和类之间唯一的技术差别。 val acct = new SavingsAccount with FileLogger(&#34;myapp.log&#34;) //错误：特质不能使用构造器参数 FileLogger构造器先于子类构造器执行，在轮到子类之前，FileLogger的构造器就会抛出一个空指针异常。解决方法是 “提前定义”：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/8cd305981bca5d0fa06ceffefdc625a3/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-07-21T14:10:35+08:00" />
<meta property="article:modified_time" content="2016-07-21T14:10:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">快学scala 第十章 特质 读书笔记及习题答案代码</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2 id="chapter-10-特质" style='margin:50px 0px 20px; font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-weight:500; line-height:40px; color:rgb(0,119,187); font-size:30px; background-color:rgb(249,249,245)'> chapter 10 特质</h2> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 标签：快学scala</p> 
<hr style='margin:30px 0px; border-top-width:0px; border-right-width:0px; border-left-width:0px; border-bottom-style:dashed; border-bottom-color:rgb(207,207,207); color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<h3 id="一笔记" style='margin:35px 0px 20px; font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-weight:500; line-height:40px; color:rgb(44,62,80); font-size:26px; background-color:rgb(249,249,245)'> 一、笔记</h3> 
<ol style='padding:0px; margin:0px 0px 10px 25px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'><li style="line-height:27px">scala和java一样不允许从多个超类继承，scala提供特质而非接口。特质可以同时拥有抽象方法和具体方法，而类可以实现多个特质。 <br> 不需要将方法声明为abstract，特质中未被实现的方法默认就是抽象的。在重写特质的抽象方法时不需要给出override关键字。特质跟类更为相像。用with添加额外的特质：</li></ol> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Cloneable</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Serialiable</span><span class="pln" style="color:rgb(0,0,0)">    </span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 由上，Logger ith Cloneable with Serialiable首先是一个整体，然后再由类来扩展。 <br> 2. 特质的方法并不需要一定是抽象的：</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="color:rgb(0,0,0)"> println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">)}</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">SavingAccount</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Account</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> withdraw</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">amount</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">){<!-- --></span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">amount </span><span class="pun" style="color:rgb(102,102,0)">&gt;</span><span class="pln" style="color:rgb(0,0,0)"> balance</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"Insufficient funds"</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">else</span><span class="pln" style="color:rgb(0,0,0)"> balance </span><span class="pun" style="color:rgb(102,102,0)">-=</span><span class="pln" style="color:rgb(0,0,0)"> amount</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="com" style="color:rgb(136,0,0)">//scala与java的区别，SavingAccount从ConsoleLogger特质得到了一个具体的log方法，java的接口是不可能做到的。scala中是ConsoleLogger的功能被混入了SavingAccount类</span></code></li></ol></pre> 
<ol style='padding:0px; margin:0px 0px 10px 25px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'><li style="line-height:27px">JVM中，一个类只能扩展一个超类，因此来自特质的字段不能以相同的方式继承。</li><li style="line-height:27px">对于特质的构造顺序：首先调用超类的构造器。特质构造器在超类构造器之后、类构造器之前执行。特质由左到右被构造。每个特质当中，父特质先被构造。如果多个特质共有一个父特质，而那个父特质已经被构造，则不会被再次构造。所有特质构造完毕，子类被构造。</li></ol> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">SavingsAccount</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Account</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ShortLogger</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="com" style="color:rgb(136,0,0)">//构造顺序是： Account（超类）Looger（第一个特质的父特质）FileLogger（第一个特质）ShortLogger（第二个特质，它的父特质Logger已被构造），SavingsAccount(类)</span></code></li></ol></pre> 
<ol style='padding:0px; margin:0px 0px 10px 25px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'><li style="line-height:27px">特质不能有构造器参数，每个特质都有一个无参数的构造器。缺少构造器参数是特质和类之间唯一的技术差别。</li></ol> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val acct </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">SavingsAccount</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileLogger</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"myapp.log"</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="com" style="color:rgb(136,0,0)">//错误：特质不能使用构造器参数</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> FileLogger构造器先于子类构造器执行，在轮到子类之前，FileLogger的构造器就会抛出一个空指针异常。解决方法是 “提前定义”：</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val acct </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val filename </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">"myapp.log"</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">SavingsAccount</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="com" style="color:rgb(136,0,0)">//提前定义发生在常规的构造序列之前，在FileLogger被构造时，filename已经是初始化过的了</span></code></li></ol></pre> 
<ol style='padding:0px; margin:0px 0px 10px 25px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'><li style="line-height:27px">特质可以扩展另一个特质，特质也可以扩展类，这个类会自动成为所有混入该特质的超类。在特质扩展类时，编译器能够确保的是所有混入该特质的类都认这个类作超类。scala还有另一套机制保证：自身类型</li></ol> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">类型</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span><span class="pln" style="color:rgb(0,0,0)">   </span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="com" style="color:rgb(136,0,0)">//当特质以这一定义开始时，它便被混入指定类型的子类</span></code></li></ol></pre> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">LoggedException</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logged</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Exception</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">()</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">getMessage</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="com" style="color:rgb(136,0,0)">//该特质并不扩展Exception类，而是有一个自身类型Exception，这意味着，它只能被混入Exception的子类。</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">如果把特质混入一个不符合自身类型要求的类，就会报错</span></code></li></ol></pre> 
<ol style='padding:0px; margin:0px 0px 10px 25px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'><li>
  6. 
</li></ol> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<h3 id="二习题答案" style='margin:35px 0px 20px; font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-weight:500; line-height:40px; color:rgb(44,62,80); font-size:26px; background-color:rgb(249,249,245)'> 二、习题答案</h3> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.1 java.awt.Rectangle类有两个很有用的方法translate和grow,但可惜的是像java.awt.geom.Ellipse2D这样的类没有。在Scala中，你可以解决掉这个问题。定义一个RenctangleLike特质,加入具体的translate和grow方法。提供任何你需要用来实现的抽象方法,以便你可以像如下代码这样混入该特质:</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val egg </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">awt</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">geom</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Ellipse2D</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">5</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">20</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">30</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">RectangleLike</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">translate</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,-</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">grow</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">20</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li></ol></pre> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">awt</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">geom</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Ellipse2D</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">RectangleLike</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="color:rgb(0,0,0)">  </span><span class="com" style="color:rgb(136,0,0)">//使用自身类型使得trait可以操作x,y</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="typ" style="color:rgb(102,0,102)">Ellipse2D</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> translate</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> y</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">){<!-- --></span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> x</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> y</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> grow</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> y</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">){<!-- --></span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">+=</span><span class="pln" style="color:rgb(0,0,0)"> x </span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y </span><span class="pun" style="color:rgb(102,102,0)">+=</span><span class="pln" style="color:rgb(0,0,0)"> y</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span><span class="pln" style="color:rgb(0,0,0)"> </span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">object</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Test</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">App</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val egg </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Ellipse2D</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Double</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">5</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">20</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">30</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">RectangleLike</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"x = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getX </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">" y = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getY</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">translate</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"x = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getX </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">" y = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getY</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">grow</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">20</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"x = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getX </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">" y = "</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> egg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">getY</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.2 把scala.math.Ordered[Point]混入java.awt.Point的方式，定义OrderedPoint类。按辞典编辑方式排序，也就是说，如果</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">&lt;</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="str" style="color:rgb(0,136,0)">'或者x=x'</span><span class="pun" style="color:rgb(102,102,0)">且</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="pun" style="color:rgb(102,102,0)">&lt;</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="str" style="color:rgb(0,136,0)">'则(x,y)&lt;(x'</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="str" style="color:rgb(0,136,0)">')</span></code></li></ol></pre> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> scala</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">math</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Ordered</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">awt</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Point</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">OrderedPoint</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> y</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Point</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Ordered</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Point</span><span class="pun" style="color:rgb(102,102,0)">]{<!-- --></span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="com" style="color:rgb(136,0,0)">//Point(x,y)写全</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> compare</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">that</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Point</span><span class="pun" style="color:rgb(102,102,0)">):</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">&lt;=</span><span class="pln" style="color:rgb(0,0,0)"> that</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">){<!-- --></span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">            </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">==</span><span class="pln" style="color:rgb(0,0,0)"> that</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">                </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y </span><span class="pun" style="color:rgb(102,102,0)">&lt;</span><span class="pln" style="color:rgb(0,0,0)"> that</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">                </span><span class="kwd" style="color:rgb(0,0,136)">else</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y </span><span class="pun" style="color:rgb(102,102,0)">&gt;</span><span class="pln" style="color:rgb(0,0,0)"> that</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">y</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">                </span><span class="kwd" style="color:rgb(0,0,136)">else</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">            </span><span class="pun" style="color:rgb(102,102,0)">}</span><span class="kwd" style="color:rgb(0,0,136)">else</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">}</span><span class="kwd" style="color:rgb(0,0,136)">else</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> toString </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="str" style="color:rgb(0,136,0)">"[%d, %d]"</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">format</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">getX</span><span class="pun" style="color:rgb(102,102,0)">(),</span><span class="pln" style="color:rgb(0,0,0)"> getY</span><span class="pun" style="color:rgb(102,102,0)">())</span><span class="pln" style="color:rgb(0,0,0)">    </span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val x1 </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">OrderedPoint</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val x2 </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">OrderedPoint</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">,-</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val x3 </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">OrderedPoint</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="lit" style="color:rgb(0,102,102)">2</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x1 </span><span class="pun" style="color:rgb(102,102,0)">&lt;</span><span class="pln" style="color:rgb(0,0,0)"> x2</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x1 </span><span class="pun" style="color:rgb(102,102,0)">&gt;=</span><span class="pln" style="color:rgb(0,0,0)"> x3</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.4 提供一个CryptoLogger类，将日志消息以凯撒密码加密。缺省情况下密匙为3，不过使用者也可以重写它。提供缺省密匙和-3作为密匙是的使用示例</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{}</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Console</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">CaesarLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val shift</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">3</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">super</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">log</span><span class="pun" style="color:rgb(102,102,0)">((</span><span class="kwd" style="color:rgb(0,0,136)">for</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">&lt;-</span><span class="pln" style="color:rgb(0,0,0)"> msg</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">yield</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> shift</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">toChar</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">mkString</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="com" style="color:rgb(136,0,0)">// more elegant</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">super</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">map</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">_ </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> shift</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">map</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">_</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">toChar</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">mkString</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="com" style="color:rgb(136,0,0)">// speedup but less elegant</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">super</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">map</span><span class="pun" style="color:rgb(102,102,0)">((</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Char</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">x </span><span class="pun" style="color:rgb(102,102,0)">+</span><span class="pln" style="color:rgb(0,0,0)"> shift</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">toChar</span><span class="pun" style="color:rgb(102,102,0)">).</span><span class="pln" style="color:rgb(0,0,0)">mkString</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Sample</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> doSomeWork</span><span class="pun" style="color:rgb(102,102,0)">()</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"Some Log Message"</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val x </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Sample</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">x</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">doSomeWork</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val y </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Sample</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">CaesarLogger</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">y</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">doSomeWork</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val z </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> val shift </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">3</span><span class="pun" style="color:rgb(102,102,0)">}</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Sample</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">ConsoleLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">CaesarLogger</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">z</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">doSomeWork</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.5 JavaBean规范里有一种提法叫做属性变更监听器(property change listener)，这是bean用来通知其属性变更的标准方式。PropertyChangeSupport类对于任何想要支持属性变更通知其属性变更监听器的bean而言是个便捷的超类。但可惜已有其他超类的类—比如JComponent—必须重新实现相应的方法。将PropertyChangeSupport重新实现为一个特质,然后将它混入到java.awt.Point类中</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">awt</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">Point</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">beans</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">PropertyChangeSupport</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">PropertyChange</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">PropertyChangeSupport</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val p </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Point</span><span class="pun" style="color:rgb(102,102,0)">()</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">PropertyChange</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.6 在Java AWT类库中,我们有一个Container类，一个可以用于各种组件的Component子类。举例来说,Button是一个Component,但Panel是Container。这是一个运转中的组合模式。Swing有JComponent和JContainer,但如果你仔细看的话，你会发现一些奇怪的细节。尽管把其他组件添加到比如JButton中毫无意义,JComponent依然扩展自Container。Swing的设计者们理想情况下应该会更倾向于图10-4中的设计。但在Java中那是不可能的。请解释这是为什么？Scala中如何用特质来设计出这样的效果?</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="typ" style="color:rgb(102,0,102)">Java</span><span class="pun" style="color:rgb(102,102,0)">只能单继承,</span><span class="typ" style="color:rgb(102,0,102)">JContainer</span><span class="pun" style="color:rgb(102,102,0)">不能同时继承自</span><span class="typ" style="color:rgb(102,0,102)">Container</span><span class="pun" style="color:rgb(102,102,0)">和</span><span class="typ" style="color:rgb(102,0,102)">JComponent</span><span class="pun" style="color:rgb(102,102,0)">。</span><span class="typ" style="color:rgb(102,0,102)">Scala</span><span class="pun" style="color:rgb(102,102,0)">可以通过特质解决这个问题.</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.7 市面上有不下数十种关于Scala特质的教程,用的都是些"在叫的狗"啦，"讲哲学的青蛙"啦之类的傻乎乎的例子。阅读和理解这些机巧的继承层级很乏味且对于理解问题没什么帮助,但自己设计一套继承层级就不同了,会很有启发。做一个你自己的关于特质的继承层级，要求体现出叠加在一起的特质,具体的和抽象的方法，以及具体的和抽象的字段</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Fly</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> fly</span><span class="pun" style="color:rgb(102,102,0)">(){<!-- --></span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"flying"</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> flywithnowing</span><span class="pun" style="color:rgb(102,102,0)">()</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Walk</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> walk</span><span class="pun" style="color:rgb(102,102,0)">(){<!-- --></span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"walk"</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Bird</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">var</span><span class="pln" style="color:rgb(0,0,0)"> name</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> _</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">BlueBird</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Bird</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Fly</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Walk</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> flywithnowing</span><span class="pun" style="color:rgb(102,102,0)">(){<!-- --></span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"BlueBird flywithnowing"</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">object</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Test</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">App</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val b </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">BlueBird</span><span class="pun" style="color:rgb(102,102,0)">()</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    b</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">walk</span><span class="pun" style="color:rgb(102,102,0)">()</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    b</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">flywithnowing</span><span class="pun" style="color:rgb(102,102,0)">()</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    b</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">fly</span><span class="pun" style="color:rgb(102,102,0)">()</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.8 在java.io类库中，你可以通过BufferedInputStream修饰器来给输入流增加缓冲机制。用特质来重新实现缓冲。简单起见，重写read方法</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">io</span><span class="pun" style="color:rgb(102,102,0)">.{<!-- --></span><span class="typ" style="color:rgb(102,0,102)">InputStream</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileInputStream</span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Buffering</span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">InputStream</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">5</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> val buf </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Array</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pun" style="color:rgb(102,102,0)">](</span><span class="pln" style="color:rgb(0,0,0)">BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">var</span><span class="pln" style="color:rgb(0,0,0)"> bufsize</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">var</span><span class="pln" style="color:rgb(0,0,0)"> pos</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> read</span><span class="pun" style="color:rgb(102,102,0)">():</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">pos </span><span class="pun" style="color:rgb(102,102,0)">&gt;=</span><span class="pln" style="color:rgb(0,0,0)"> bufsize</span><span class="pun" style="color:rgb(102,102,0)">){<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">            bufsize </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">read</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">buf</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">            </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">bufsize </span><span class="pun" style="color:rgb(102,102,0)">&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">            pos </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        pos </span><span class="pun" style="color:rgb(102,102,0)">+=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        buf</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">pos </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val f </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileInputStream</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"test.txt"</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Buffering</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">for</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)"> i </span><span class="pun" style="color:rgb(102,102,0)">&lt;-</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pln" style="color:rgb(0,0,0)"> to </span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">f</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">read</span><span class="pun" style="color:rgb(102,102,0)">())</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.9 使用本章的日志生成器特质,给前一个练习中的方案增加日志功能，要求体现缓冲的效果</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">import</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">io</span><span class="pun" style="color:rgb(102,102,0)">.{<!-- --></span><span class="typ" style="color:rgb(102,0,102)">InputStream</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileInputStream</span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">NoneLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{}</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">PrintLogger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">String</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">msg</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">Buffering</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">InputStream</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Logger</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=&gt;</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    val BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">5</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> val buf </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Array</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pun" style="color:rgb(102,102,0)">](</span><span class="pln" style="color:rgb(0,0,0)">BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">var</span><span class="pln" style="color:rgb(0,0,0)"> bufsize</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">private</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">var</span><span class="pln" style="color:rgb(0,0,0)"> pos</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> read</span><span class="pun" style="color:rgb(102,102,0)">():</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Int</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">      </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">pos </span><span class="pun" style="color:rgb(102,102,0)">&gt;=</span><span class="pln" style="color:rgb(0,0,0)"> bufsize</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">{<!-- --></span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        bufsize </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">read</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">buf</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> BUF_SIZE</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        log</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"buffered %d bytes: %s"</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">format</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">bufsize</span><span class="pun" style="color:rgb(102,102,0)">,</span><span class="pln" style="color:rgb(0,0,0)"> buf</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">mkString</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">", "</span><span class="pun" style="color:rgb(102,102,0)">)))</span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">if</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">bufsize </span><span class="pun" style="color:rgb(102,102,0)">&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        pos </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">      pos </span><span class="pun" style="color:rgb(102,102,0)">+=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">      buf</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">pos</span><span class="pun" style="color:rgb(102,102,0)">-</span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">  </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val f </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">FileInputStream</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"test.txt"</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Buffering</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">PrintLogger</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">for</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">i </span><span class="pun" style="color:rgb(102,102,0)">&lt;-</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">1</span><span class="pln" style="color:rgb(0,0,0)"> to </span><span class="lit" style="color:rgb(0,102,102)">10</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">f</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">read</span><span class="pun" style="color:rgb(102,102,0)">())</span></code></li></ol></pre> 
<p style='margin-top:0px; margin-bottom:20px; color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 10.10 实现一个IterableInputStream类，扩展java.io.InputStream并混入Iterable[Byte]特质</p> 
<div class="md-section-divider" style='color:rgb(44,62,80); font-family:"PingFang SC","Hiragino Sans GB","Helvetica Neue","Microsoft Yahei","WenQuanYi Micro Hei",sans-serif; font-size:14px; line-height:24px; background-color:rgb(249,249,245)'> 
</div> 
<pre class="prettyprint linenums prettyprinted" style='padding:9.5px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; font-size:14px; color:rgb(51,51,51); margin-top:0px; margin-bottom:20px; line-height:20px; word-break:break-all; word-wrap:break-word; white-space:pre-wrap'> 
 <ol class="linenums" style="padding:0px; margin:0px 0px 0px 35px"><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">trait </span><span class="typ" style="color:rgb(102,0,102)">IterableInputStream</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">io</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">InputStream</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Iterable</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pun" style="color:rgb(102,102,0)">]{<!-- --></span></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">class</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">InputStreamIterator</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">outer</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">IterableInputStream</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">extends</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Iterator</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pun" style="color:rgb(102,102,0)">]{<!-- --></span></code></li><li class="L3" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> hasNext</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Boolean</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> outer</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">available</span><span class="pun" style="color:rgb(102,102,0)">()</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">&gt;</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="lit" style="color:rgb(0,102,102)">0</span><span class="pln" style="color:rgb(0,0,0)"> </span></code></li><li class="L4" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">        </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">next</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> outer</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">read</span><span class="pun" style="color:rgb(102,102,0)">().</span><span class="pln" style="color:rgb(0,0,0)">toByte</span></code></li><li class="L5" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L6" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L7" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">    </span><span class="kwd" style="color:rgb(0,0,136)">override</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">def</span><span class="pln" style="color:rgb(0,0,0)"> iterator</span><span class="pun" style="color:rgb(102,102,0)">:</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">Iterator</span><span class="pun" style="color:rgb(102,102,0)">[</span><span class="typ" style="color:rgb(102,0,102)">Byte</span><span class="pun" style="color:rgb(102,102,0)">]</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">InputStreamIterator</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="kwd" style="color:rgb(0,0,136)">this</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li><li class="L8" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="com" style="color:rgb(136,0,0)">//    override def read(): Int = 0</span></code></li><li class="L9" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pun" style="color:rgb(102,102,0)">}</span></code></li><li class="L0" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="pln" style="color:rgb(0,0,0)">val f </span><span class="pun" style="color:rgb(102,102,0)">=</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">new</span><span class="pln" style="color:rgb(0,0,0)"> java</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">io</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="typ" style="color:rgb(102,0,102)">FileInputStream</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="str" style="color:rgb(0,136,0)">"test.txt"</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="kwd" style="color:rgb(0,0,136)">with</span><span class="pln" style="color:rgb(0,0,0)"> </span><span class="typ" style="color:rgb(102,0,102)">IterableInputStream</span></code></li><li class="L1" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'></code></li><li class="L2" style="padding-left:15px"><code style='padding:0px; font-family:Monaco,Menlo,Consolas,"Courier New",monospace; color:inherit; border:0px; background-color:transparent'><span class="kwd" style="color:rgb(0,0,136)">for</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">b </span><span class="pun" style="color:rgb(102,102,0)">&lt;-</span><span class="pln" style="color:rgb(0,0,0)"> f</span><span class="pun" style="color:rgb(102,102,0)">)</span><span class="pln" style="color:rgb(0,0,0)"> println</span><span class="pun" style="color:rgb(102,102,0)">(</span><span class="pln" style="color:rgb(0,0,0)">b</span><span class="pun" style="color:rgb(102,102,0)">.</span><span class="pln" style="color:rgb(0,0,0)">toChar</span><span class="pun" style="color:rgb(102,102,0)">)</span></code></li></ol></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/dc9244e7393275d89571983f34412f89/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SharedPreferences.Editor 的apply()与commit()方法的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/dbd8521e0efe338339e57ce2839ebe5b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">完美实现跨域Iframe高度自适应【Iframe跨域高度自适应解决方案】</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>