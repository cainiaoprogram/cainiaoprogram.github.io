<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>eclipse cleanup svn时卡死或者失败的一种解决方案 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="eclipse cleanup svn时卡死或者失败的一种解决方案" />
<meta property="og:description" content="经常遇到一种情况，在进行pull或者push时，svn报错，提示你应该cleanup一下，但当你cleanup时，要么就卡死，要么就报错，说是在cleanup过程中需要等待其他操作。这种情况可能是由于，以前的某次SVN操作在没有执行完就被强行终止了，导致svn会根据记录的操作尝试恢复原来的操作，或者revert到失败操作之前的状态。
网上查了写资料最后把目标锁定在项目文件.svn里的wc.db文件上。
这里面的work_queue表中是用来记录svn.的操作队列的。标题描述的问题，很大一种可能就是在强行终止svn操作时该表出现了问题。所以
解决方法：
step1: 到 sqlite官网 (http://www.sqlite.org/download.html) 下载 sqlite3.exe 找到 Precompiled Binaries for Windows，点击 sqlite-shell-win32-x86-3080500.zip 下载，300KB左右
step2: 将下载到的 sqlite3.exe 文件复制到 本地磁盘的某个临时目录下 （我的svn源代码放在共享磁盘中，发现 sqlite老是找不到 svn的 wc.db文件），
step3: 然后 设置 svn源代码 文件夹 及文件 显示 所有文件（包括隐藏文件），会发现 .svn/wc.db 文件， 将 其复制到 step2的临时目录下
step4: 开始 -&gt; 运行 -&gt; 打开 cmd命令
打开 wc.db
执行 delete from work_queue;
如图所示：
step 5: 将 wc.db 覆盖到 svn源代码目录的 .svn目录下
step 6: 对 svn源代码目录 右键, clean up, 稍等1至5分钟左右，然后会提示 清理成功。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/bf5406f7548f6295126addca7dfcf419/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-24T13:44:50+08:00" />
<meta property="article:modified_time" content="2017-07-24T13:44:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">eclipse cleanup svn时卡死或者失败的一种解决方案</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>经常遇到一种情况，在进行pull或者push时，svn报错，提示你应该cleanup一下，但当你cleanup时，要么就卡死，要么就报错，说是在cleanup过程中需要等待其他操作。这种情况可能是由于，以前的某次SVN操作在没有执行完就被强行终止了，导致svn会根据记录的操作尝试恢复原来的操作，或者revert到失败操作之前的状态。</p> 
<p>网上查了写资料最后把目标锁定在项目文件.svn里的wc.db文件上。</p> 
<p>这里面<span style="color:rgb(51,51,51); font-family:arial; font-size:13px">的work_queue表中</span>是用来记录svn.的操作队列的。标题描述的问题，很大一种可能就是在强行终止svn操作时该表出现了问题。所以</p> 
<p></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">解决方法：</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">   step1: 到 sqlite官网 (http://www.sqlite.org/download.html) 下载 sqlite3.exe      <br> </p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">            <strong>找到 Precompiled Binaries for Windows</strong>，点击 <span style="font-size:18px">sqlite-shell-win32-x86-3080500.zip</span> 下载，300KB左右</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">   step2: 将下载到的 sqlite3.exe 文件复制到 本地磁盘的某个临时目录下  （我的svn源代码放在共享磁盘中，发现 sqlite老是找不到 svn的 wc.db文件），</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">   step3:  然后 设置 svn源代码 文件夹 及文件 显示 所有文件（包括隐藏文件），会发现 .svn/wc.db 文件， 将 其复制到 step2的临时目录下</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">   step4:  开始 -&gt; 运行 -&gt; 打开 cmd命令</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">               打开 wc.db</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">               执行 delete from work_queue;</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">              如图所示：</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">             <img src="https://images2.imgbox.com/d7/bb/vSZQZF1e_o.jpg" alt="" style="border:none; max-width:100%"><br> </p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">     step 5: 将 wc.db 覆盖到 svn源代码目录的 .svn目录下</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">     step 6: 对 svn源代码目录 右键, clean up, 稍等1至5分钟左右，然后会提示 清理成功。</p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">                   如图所示：<br> </p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">                  <img src="https://images2.imgbox.com/db/47/rcARS8tX_o.jpg" alt="" style="border:none; max-width:100%"></p> 
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px">   （结束）</p> 
<br>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/caa616002491cfb0bc1568a87f1ea2b6/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">&amp;与&amp;&amp;的区别</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eba48f30dceb56d1848eb3de0777df03/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Android 检查应用包名是否存在并启动或安装指定包名</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>