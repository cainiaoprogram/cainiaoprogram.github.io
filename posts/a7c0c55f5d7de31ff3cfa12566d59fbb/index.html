<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>AMESim2020&amp;MATLAB2020b联合仿真设置 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="AMESim2020&amp;MATLAB2020b联合仿真设置" />
<meta property="og:description" content="AMESim2020&amp;MATLAB2020b联合仿真 提示：本文按照作者的个人经验完成，不代表经验的普适性；如有侵权，请联系作者删除。
文章目录 AMESim2020&amp;MATLAB2020b联合仿真前言一、AMESim2020的安装二、VS2019 community版本安装三、MATLAB2020b的安装破解四、配置环境变量五、修改文件信息六、软件编译器的选择七、联合仿真运行八、总结 前言 本文的软件安装版本为AMESim2020，MATLAB2020b，编译器为Microsoft Visual Studio 2019 community版本。安装顺序为：
VS2019——AMESim2020——MATLAB2020b
1、电动汽车仿真
掌控车辆电动化的工程复杂性。Simcenter Amesim 提供对所有关键子系统进行仿真所需的建模级别。无论是处理电池容量还是电机设计，您都可以从高效的建模工作流中获益，为从架构创建到集成的工程工作提供支持，包括详细的设计。
2、动力总成子系统仿真
加快汽门机构、曲轴系统、燃油喷射、润滑和冷却系统的设计过程。Simcenter Amesim 可用于调整组件大小，评估和优化系统效率，并验证控制策略。通过评估不同子系统之间以及子系统与燃烧室之间的相互作用，您将能够准备传动环境中子系统的集成，并分析子系统设计对发动机性能、燃油经济性或排放的影响。
3、动力总成传动系统仿真
从早期设计阶段优化各类变速箱和车辆的集成，以平衡性能、燃油经济性、驾驶性、舒适性和可靠性。Simcenter Amesim 通过预测损耗来帮助您改善燃油消耗，还通过检测和修改固有模态的影响因素来减少振动，并减少接触力的变化、离合器颤振声、空腔噪鸣声和咔嗒声。
4、飞机发动机和设备系统仿真
Simcenter系统仿真软件使您能够在设计周期的早期集成最佳概念，以评估整体性能并获得最佳的适应性引擎。 您可以轻松地评估和实现您的创新想法。
5、ADAS和自动驾驶汽车仿真
使用包括正确的车辆动力学和高保真动力总成物理模型的模型验证高级驾驶员辅助系统和自动驾驶系统。 Simcenter补充了我们的PreScan环境和传感器仿真解决方案，并通过提供现成的保真度可缩放组件使您在小型或大型仿真活动中更有效。 在安全性，舒适性，燃料和电能消耗以及污染物排放评估方面，您始终可以在CPU时间和准确性之间获得最佳平衡。
一、AMESim2020的安装 下载Amesim2020软件并解压，首先将LMS_RLM_Server文件夹复制到C盘目录下，以管理员身份运行server_install.bat启动服务。（PS.在任务管理器中可以看到有LMS RLM Server的服务启动，如果安装错误要卸载软件，一定要先使用server_remove.bat关闭服务再删除文件夹。）
创建系统环境变量
变量名：LMS_LICENSE
变量值：5053@localhost
使用虚拟光驱或者直接解压Simcenter Amesim and System Architect 2020.1 dvd1.iso镜像文件，之后，运行setup_win.bat文件进入安装向导界面，选择要安装的产品，在此选择第一项。
之后一直点next。
输入用户信息和激活码：这里提供一组参考，7ZZXW 40TI2 6Z070 039M0 20LN9
选择安装类型，默认即可，单击next。
可以两个都安装。
选择软件安装位置，默认的是为C盘，可以单击 browse 修改。本文选择的路径为E:\Simcenter\2020.1\Amesim
弹出安装路径窗口，点击yes。
确认安装信息，单击 install 开始安装。
安装时间较长，点击next之后选择Specify port@host，输入5053@localhost即可，与第一步的环境变量设置一致。
继续按照提示安装，这里必须选择稍后重启电脑并结束安装。（此处没有截到图，在安装到这个界面时会有一个弹窗，需要先装载另一个虚拟光驱Simcenter Amesim and System Architect 2020.1 dvd2，在弹窗中选择对应盘符如G:或F:等，之后继续按照前述步骤安装，完成后弹窗会自动消失，否则可能丢失demo库）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/a7c0c55f5d7de31ff3cfa12566d59fbb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-16T00:47:19+08:00" />
<meta property="article:modified_time" content="2021-03-16T00:47:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">AMESim2020&amp;MATLAB2020b联合仿真设置</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="AMESim2020MATLAB2020b_0"></a>AMESim2020&amp;MATLAB2020b联合仿真</h2> 
<p><font color="#999AAA">提示：本文按照作者的个人经验完成，不代表经验的普适性；如有侵权，请联系作者删除。</font></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#AMESim2020MATLAB2020b_0" rel="nofollow">AMESim2020&amp;MATLAB2020b联合仿真</a></li><li><a href="#_10" rel="nofollow">前言</a></li><li><a href="#AMESim2020_39" rel="nofollow">一、AMESim2020的安装</a></li><li><a href="#VS2019_community_89" rel="nofollow">二、VS2019 community版本安装</a></li><li><a href="#MATLAB2020b_96" rel="nofollow">三、MATLAB2020b的安装破解</a></li><li><a href="#_101" rel="nofollow">四、配置环境变量</a></li><li><a href="#_128" rel="nofollow">五、修改文件信息</a></li><li><a href="#_158" rel="nofollow">六、软件编译器的选择</a></li><li><a href="#_181" rel="nofollow">七、联合仿真运行</a></li><li><a href="#_193" rel="nofollow">八、总结</a></li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_10"></a>前言</h2> 
<font color="#999AAA"> </font> 
<p>本文的软件安装版本为AMESim2020，MATLAB2020b，编译器为Microsoft Visual Studio 2019 community版本。安装顺序为：<br> VS2019——AMESim2020——MATLAB2020b</p> 
<p>1、电动汽车仿真</p> 
<p>掌控车辆电动化的工程复杂性。Simcenter Amesim 提供对所有关键子系统进行仿真所需的建模级别。无论是处理电池容量还是电机设计，您都可以从高效的建模工作流中获益，为从架构创建到集成的工程工作提供支持，包括详细的设计。</p> 
<p>2、动力总成子系统仿真</p> 
<p>加快汽门机构、曲轴系统、燃油喷射、润滑和冷却系统的设计过程。Simcenter Amesim 可用于调整组件大小，评估和优化系统效率，并验证控制策略。通过评估不同子系统之间以及子系统与燃烧室之间的相互作用，您将能够准备传动环境中子系统的集成，并分析子系统设计对发动机性能、燃油经济性或排放的影响。</p> 
<p>3、动力总成传动系统仿真</p> 
<p>从早期设计阶段优化各类变速箱和车辆的集成，以平衡性能、燃油经济性、驾驶性、舒适性和可靠性。Simcenter Amesim 通过预测损耗来帮助您改善燃油消耗，还通过检测和修改固有模态的影响因素来减少振动，并减少接触力的变化、离合器颤振声、空腔噪鸣声和咔嗒声。</p> 
<p>4、飞机发动机和设备系统仿真</p> 
<p>Simcenter系统仿真软件使您能够在设计周期的早期集成最佳概念，以评估整体性能并获得最佳的适应性引擎。 您可以轻松地评估和实现您的创新想法。</p> 
<p>5、ADAS和自动驾驶汽车仿真</p> 
<p>使用包括正确的车辆动力学和高保真动力总成物理模型的模型验证高级驾驶员辅助系统和自动驾驶系统。 Simcenter补充了我们的PreScan环境和传感器仿真解决方案，并通过提供现成的保真度可缩放组件使您在小型或大型仿真活动中更有效。 在安全性，舒适性，燃料和电能消耗以及污染物排放评估方面，您始终可以在CPU时间和准确性之间获得最佳平衡。</p> 
<hr color="#000000" size='1"'> 
<h2><a id="AMESim2020_39"></a>一、AMESim2020的安装</h2> 
<ol><li> <p>下载Amesim2020软件并解压，首先将LMS_RLM_Server文件夹复制到C盘目录下，以管理员身份运行server_install.bat启动服务。（PS.在任务管理器中可以看到有LMS RLM Server的服务启动，如果安装错误要卸载软件，一定要先使用server_remove.bat关闭服务再删除文件夹。）<br> <img src="https://images2.imgbox.com/7f/17/tuuRpfo9_o.png" alt="LMS_RLM_Sever的启动"><br> <img src="https://images2.imgbox.com/22/66/BvsmewgD_o.png" alt="在这里插入图片描述"></p> </li><li> <p>创建系统环境变量</p> <p>变量名：LMS_LICENSE</p> <p>变量值：5053@localhost<br> <img src="https://images2.imgbox.com/00/b2/QX7STR5G_o.png" alt="在这里插入图片描述"></p> </li><li> <p>使用虚拟光驱或者直接解压Simcenter Amesim and System Architect 2020.1 dvd1.iso镜像文件，之后，运行setup_win.bat文件进入安装向导界面，选择要安装的产品，在此选择第一项。<br> <img src="https://images2.imgbox.com/78/cf/AfIvlp2W_o.png" alt="在这里插入图片描述"></p> </li><li> <p>之后一直点next。<br> <img src="https://images2.imgbox.com/a0/6b/x8dfjWZv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b4/10/S82WUvmH_o.png" alt="在这里插入图片描述"></p> </li><li> <p>输入用户信息和激活码：这里提供一组参考，7ZZXW 40TI2 6Z070 039M0 20LN9<br> <img src="https://images2.imgbox.com/92/c4/9BvD5ypd_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择安装类型，默认即可，单击next。<br> <img src="https://images2.imgbox.com/48/f1/zPkqfI1y_o.png" alt="在这里插入图片描述"></p> </li><li> <p>可以两个都安装。<br> <img src="https://images2.imgbox.com/69/79/WVTMrCm0_o.png" alt="在这里插入图片描述"></p> </li><li> <p>选择软件安装位置，默认的是为C盘，可以单击 browse 修改。本文选择的路径为E:\Simcenter\2020.1\Amesim<br> <img src="https://images2.imgbox.com/74/ca/9H6sZrid_o.png" alt="在这里插入图片描述"></p> </li><li> <p>弹出安装路径窗口，点击yes。<br> <img src="https://images2.imgbox.com/32/c4/S6Shrxu9_o.png" alt="在这里插入图片描述"></p> </li><li> <p>确认安装信息，单击 install 开始安装。<br> <img src="https://images2.imgbox.com/b8/c6/p7vb4Noq_o.png" alt="在这里插入图片描述"></p> </li><li> <p>安装时间较长，点击next之后选择Specify port@host，输入5053@localhost即可，与第一步的环境变量设置一致。<br> <img src="https://images2.imgbox.com/49/9c/rNBIipRn_o.png" alt="在这里插入图片描述"></p> </li><li> <p>继续按照提示安装，这里必须选择稍后重启电脑并结束安装。（此处没有截到图，在安装到这个界面时会有一个弹窗，需要先装载另一个虚拟光驱Simcenter Amesim and System Architect 2020.1 dvd2，在弹窗中选择对应盘符如G:或F:等，之后继续按照前述步骤安装，完成后弹窗会自动消失，否则可能丢失demo库）<br> <img src="https://images2.imgbox.com/d0/f9/elena2Wc_o.png" alt="在这里插入图片描述"></p> </li><li> <p>将破解补丁文件夹复制到Simcenter Amesim 2020安装目录下全部替换。<br> <img src="https://images2.imgbox.com/3c/07/7v7Qb0Qh_o.png" alt="在这里插入图片描述"></p> </li><li> <p>重启电脑后，运行Amesim2020即可使用。</p> </li></ol> 
<hr color="#000000" size='1"'> 
<h2><a id="VS2019_community_89"></a>二、VS2019 community版本安装</h2> 
<p>需要选择VC++作为MATLAB和AMESim的编译器，因此需要在安装过程中选择VC++编译相关的工作负载（或者带VC相关的都打钩），本文的安装路径为E:\Microsoft Visual Studio\2019\Community。<br> <img src="https://images2.imgbox.com/0a/7a/HAcEjaND_o.png" alt="在这里插入图片描述"><br> 完成的安装目录如下图所示：<br> <img src="https://images2.imgbox.com/84/b2/cG2jUVqT_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="MATLAB2020b_96"></a>三、MATLAB2020b的安装破解</h2> 
<p>本文的安装路径为E:\MATLAB2020b</p> 
<hr color="#000000" size='1"'> 
<h2><a id="_101"></a>四、配置环境变量</h2> 
<p>安装完成后需要配置环境变量。<br> 在windows桌面，右键“计算机”-“属性”-“高级系统设置”-“环境变量”里添加用户变量和系统变量。</p> 
<ol><li>用户变量<br> 此处需要添加变量名 HOME，变量值为 E:\，因为前述三个软件均安装在E盘，因此HOME为E盘。<br> 添加变量名 MATLAB，变量值为 E:\MATLAB2020b<br> 在path中添加变量值如下：<img src="https://images2.imgbox.com/1c/ff/Aw3hTbkI_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/8b/20/xYkee277_o.png" alt="在这里插入图片描述"></li><li>系统变量<br> 检查系统变量中的变量名和变量值，需要具有下列变量。<br> 此处的VS140COMNTOOLS变量为在AMESim软件尝试编译时产生的vcvars64_vc140.bat文件，该文件的作用可能类似一个通讯器用来寻找编译器安装位置，可仿照前述的安装路径修改自己的编译器位置。<br> <img src="https://images2.imgbox.com/6c/28/5BTUizyt_o.png" alt="在这里插入图片描述"><img src="https://images2.imgbox.com/df/5e/tPFziHtB_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/c9/2qIIxgVK_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3c/a8/tCUZdseu_o.png" alt="在这里插入图片描述"><br> path这里本人实际上没有找到AMESim安装路径下sys文件夹中的mpich和cgns，但也一样添加了这两个路径，本人认为成功与否可能与加不加这两个路径无关。</li></ol> 
<p><img src="https://images2.imgbox.com/f6/b9/0QkVkMLz_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>系统设置<br> 为防止报错乱码，在控制面板-时钟和区域-区域-管理-更改系统区域设置，勾选Beta版：使用 Unicode UTF-8提供全球语言支持（U），这个设置需要重启生效。<br> <img src="https://images2.imgbox.com/92/0b/Ck9GsgVp_o.png" alt="在这里插入图片描述"></li></ol> 
<hr color="#000000" size='1"'> 
<h2><a id="_128"></a>五、修改文件信息</h2> 
<ol><li>打开AMESim安装路径（E:\Simcenter\2020.1\Amesim）下的vcvars64_vc140.bat文件，右键编辑可以用记事本打开，如果格式与下图一致，则已经找到编译器路径；否则需要按照下图修改文件内容，注意：按照自己的安装路径修改！！！<br> <img src="https://images2.imgbox.com/a1/22/6gxMZiCu_o.png" alt="在这里插入图片描述"></li></ol> 
<pre><code class="prism language-bash">@echo off
REM Generated by Simcenter Amesim installer
call <span class="token string">"E:\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat"</span>
</code></pre> 
<ol start="2"><li>在上图所示的路径下可以找到编译器的执行文件位置，将目录下的vcvars32.bat和vcvars64.bat文件复制粘贴到AMESim安装目录，并按如下方式修改两个文件内容：</li></ol> 
<p>vcvars32.bat:</p> 
<pre><code class="prism language-bash">@echo off
call <span class="token string">"E:\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars32.bat"</span> 
</code></pre> 
<p>vavars64.bat</p> 
<pre><code class="prism language-bash">@echo off
call <span class="token string">"E:\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat"</span>
</code></pre> 
<ol start="3"><li>将E:\Microsoft Visual Studio\2019\Community\VC\bin下的nmake.exe文件复制粘贴到AMESim的安装目录下。</li></ol> 
<hr color="#000000" size='1"'> 
<h2><a id="_158"></a>六、软件编译器的选择</h2> 
<ol><li>AMESim的编译器选择<br> 打开安装好的软件，在Tools-Preferences-Compilation中，将Active Compiler 设置为Microsoft Visual C++ (64bit)，在complier settings中同样打钩。以上设置重启方能生效。<br> <img src="https://images2.imgbox.com/d3/73/l1nUpGYL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/4e/f7/FcKVs1hi_o.png" alt="在这里插入图片描述"></li><li>在MATLAB软件命令行中先输入以下指令，如果出现图中的情况，点击mex -setup C++即可完成</li></ol> 
<pre><code class="prism language-bash">mex -setup 
</code></pre> 
<p><img src="https://images2.imgbox.com/61/84/5FM2gfls_o.png" alt="在这里插入图片描述"></p> 
<ol start="3"><li>如果出现问题，可安装参考文献4的方法，对注册表完成所需添加和修改，直至所有结果都为“是”，一般就可以使用编译器。</li></ol> 
<pre><code class="prism language-bash">mex -setup -v
</code></pre> 
<ol start="4"><li>在尝试仿真后如果报错可以查看MATLAB的设置路径是否包含下图的全部AMESim路径。<br> <img src="https://images2.imgbox.com/0b/bf/ebEhoASi_o.png" alt="在这里插入图片描述"></li></ol> 
<hr color="#000000" size='1"'> 
<h2><a id="_181"></a>七、联合仿真运行</h2> 
<p><img src="https://images2.imgbox.com/76/65/sznVLwM3_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/90/e5/QmroOt7I_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/61/6a/qsNrQSNZ_o.png" alt="在这里插入图片描述"><br> 如果编译成功这里有一个新的 .mexw64文件出现。<br> <img src="https://images2.imgbox.com/5d/1f/EelIIw9A_o.png" alt="在这里插入图片描述"><br> 仿真结果：<br> <img src="https://images2.imgbox.com/78/49/r0Vca0Bc_o.png" alt="在这里插入图片描述"></p> 
<hr color="#000000" size='1"'> 
<h2><a id="_193"></a>八、总结</h2> 
<font color="#999AAA"> 其实联合仿真的本意是将两个独立的软件通过编译器串联完成，因此其实可以分步来看设置的过程，如分步调试MATLAB的VC++编译器和AMESim的VC++编译器，当两者是一个东西时，问题就变得简单了。 本人在设置过程中走了很多弯路，在此记录仅供参考。 </font> 
<p>参考文献：</p> 
<ol><li>Amesim2016与Matlab2017b联合仿真环境搭建</li></ol> 
<blockquote> 
 <p>https://blog.csdn.net/weixin_43196262/article/details/114011036?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242</p> 
</blockquote> 
<ol start="2"><li>Simcenter Amesim 2019.2与Matlab 2019b联合仿真-环境配置与例程联合仿真</li></ol> 
<blockquote> 
 <p>https://blog.csdn.net/jaysur/article/details/104607293/?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-4&amp;spm=1001.2101.3001.4242</p> 
</blockquote> 
<ol start="3"><li>Simcenter Amesim 2019.1与Matlab/simulink联合仿真-环境配置与例程联合仿真</li></ol> 
<blockquote> 
 <p>https://blog.csdn.net/jaysur/article/details/103546126?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-4&amp;spm=1001.2101.3001.4242</p> 
</blockquote> 
<ol start="4"><li>Matlab2016及以上版本设置VS编译器</li></ol> 
<blockquote> 
 <p>https://blog.csdn.net/cztqwan/article/details/78902530</p> 
</blockquote> 
<ol start="5"><li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/ffd3185cf15e8d84180751675cb597c2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">微服务架构-SpringCloudAlibaba-098：Gateway高可用集群与动态网关</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11fef4decfe63dd786808935d142b456/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">java的executor,带你进入java中的ExecutorService</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>