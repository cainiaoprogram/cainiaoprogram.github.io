<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在docker 训练新环境中mmclassification装包遇见的一些问题 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在docker 训练新环境中mmclassification装包遇见的一些问题" />
<meta property="og:description" content="项目场景： python 3.6.9
已经安装sudo
现在要安装一些包
镜像是学长配的tensortrt8 容器是自己提的
问题描述 在MMlab里运行命令
python mmlab/mmclassification/tools/train.py mmlab/mmclassification/configs/tutorial/resnet50_finetune_cifar.py 问题1：发现 ModuleNotFoundError: No module named &#39;mmcv&#39; root@407d147d301b:/# python mmlab/mmclassification/tools/train.py mmlab/mmclassification/configs/tutorial/resnet50_finetune_cifar.py Traceback (most recent call last): File &#34;mmlab/mmclassification/tools/train.py&#34;, line 9, in &lt;module&gt; import mmcv ModuleNotFoundError: No module named &#39;mmcv&#39; 问题2：”想使用pip下载 mmcv,发现pip没有
root@407d147d301b:/# pip install mmcv-full bash: pip: command not found 问题3：下载pip后发现找不到pip
root@407d147d301b:/# sudo apt install python3-pip Reading package lists... Done Building dependency tree Reading state information... Done python3-pip is already the newest version (9." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/38c3c8cde7bb8eb242e9fe6dc539086d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-14T20:01:51+08:00" />
<meta property="article:modified_time" content="2022-10-14T20:01:51+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在docker 训练新环境中mmclassification装包遇见的一些问题</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h2><a id="_0"></a>项目场景：</h2> 
<p>python 3.6.9</p> 
<p>已经安装sudo</p> 
<p>现在要安装一些包</p> 
<p> 镜像是学长配的tensortrt8 容器是自己提的</p> 
<p><img alt="" height="23" src="https://images2.imgbox.com/55/2e/uyVnsHpJ_o.png" width="243"></p> 
<hr> 
<h2><a id="_7"></a>问题描述</h2> 
<p>在MMlab里运行命令</p> 
<pre><code class="hljs">python mmlab/mmclassification/tools/train.py mmlab/mmclassification/configs/tutorial/resnet50_finetune_cifar.py</code></pre> 
<p><strong>问题1：发现 ModuleNotFoundError: No module named 'mmcv' </strong></p> 
<pre><code class="hljs">root@407d147d301b:/# python mmlab/mmclassification/tools/train.py mmlab/mmclassification/configs/tutorial/resnet50_finetune_cifar.py
Traceback (most recent call last):
  File "mmlab/mmclassification/tools/train.py", line 9, in &lt;module&gt;
    import mmcv
ModuleNotFoundError: No module named 'mmcv'</code></pre> 
<p><strong> 问题2：”想使用pip下载 mmcv,发现pip没有</strong></p> 
<pre><code class="hljs">root@407d147d301b:/# pip install mmcv-full
bash: pip: command not found</code></pre> 
<p><strong> 问题3：下载pip后发现找不到pip</strong></p> 
<pre><code class="hljs">root@407d147d301b:/# sudo apt install python3-pip
Reading package lists... Done
Building dependency tree       
Reading state information... Done
python3-pip is already the newest version (9.0.1-2.3~ubuntu1.18.04.5).
0 upgraded, 0 newly installed, 0 to remove and 26 not upgraded.
root@407d147d301b:/# pip --version
bash: pip: command not found</code></pre> 
<h2> </h2> 
<blockquote> 
 <p>先下载pip 使用sudo    （下载sudo）上篇文章 有链接</p> 
</blockquote> 
<pre><code class="hljs">root@407d147d301b:/# sudo apt-get install python3-pip</code></pre> 
<p>问题3解决方法：下载pip后发现找不到pip,解决办法：</p> 
<p> 您可以使用<code>python3 -m pip</code>作为pip的同义词，解决了麻烦</p> 
<p><a class="link-info" href="https://www.thinbug.com/q/30993086" rel="nofollow" title="https://www.thinbug.com/q/30993086">https://www.thinbug.com/q/30993086</a></p> 
<p></p> 
<p><strong>问题4：解决后执行 出现新问题</strong></p> 
<p> ModuleNotFoundError: No module named 'skbuild'</p> 
<pre><code class="hljs">opencv-python-4.6.0.66.tar.gz (90.3MB)
    100% |████████████████████████████████| 90.3MB 13kB/s 
    Complete output from command python setup.py egg_info:
    Traceback (most recent call last):
      File "&lt;string&gt;", line 1, in &lt;module&gt;
      File "/tmp/pip-build-io61vnng/opencv-python/setup.py", line 10, in &lt;module&gt;
        import skbuild
    ModuleNotFoundError: No module named 'skbuild'
    
    ----------------------------------------
Command "python setup.py egg_info" failed with error code 1 in /tmp/pip-build-io61vnng/opencv-python/</code></pre> 
<p>问题4：解决指令相关链接</p> 
<p><a class="link-info" href="https://blog.csdn.net/weixin_44996884/article/details/108678298" title="https://blog.csdn.net/weixin_44996884/article/details/108678298">https://blog.csdn.net/weixin_44996884/article/details/108678298</a></p> 
<pre><code class="hljs">pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple scikit-build
</code></pre> 
<p></p> 
<hr> 
<p>问题5 执行 python3 -m pip install mmcv-full 后显示</p> 
<p>Running setup.py bdist_wheel for opencv-python ... -一直卡着不动</p> 
<pre><code class="hljs">Running setup.py bdist_wheel for opencv-python ... -</code></pre> 
<p><strong> 问题5 解决办法升级Pip 指令</strong></p> 
<pre><code class="hljs">pip3 install --upgrade pip</code></pre> 
<pre><code class="hljs">oot@407d147d301b:/# pip3 install --upgrade pip
Cache entry deserialization failed, entry ignored
Collecting pip
  Downloading https://files.pythonhosted.org/packages/a4/6d/6463d49a933f547439d6b5b98b46af8742cc03ae83543e4d7688c2420f8b/pip-21.3.1-py3-none-any.whl (1.7MB)
    100% |████████████████████████████████| 1.7MB 689kB/s 
Installing collected packages: pip
  Found existing installation: pip 9.0.1
    Not uninstalling pip at /usr/lib/python3/dist-packages, outside environment /usr
Successfully installed pip-21.3.1</code></pre> 
<p> 继续执行 python3 -m pip install mmcv-full，成功 现在下好了mmcv包</p> 
<pre><code class="hljs">root@407d147d301b:/# python3 -m pip install mmcv-full
Collecting mmcv-full
  Using cached mmcv-full-1.6.2.tar.gz (575 kB)
  P~~~~~~~~~~
Successfully installed mmcv-full-1.6.2 opencv-python-4.6.0.66 pyyaml-6.0 yapf-0.32.0</code></pre> 
<p> 执行训练语句</p> 
<pre><code class="hljs">python mmlab/mmclassification/tools/train.py mmlab/mmclassification/configs/tutorial/resnet50_finetune_cifar.py</code></pre> 
<p><strong> 出现问题6  ModuleNotFoundError: No module named 'torch' 没有torch包</strong></p> 
<p><strong>简单了 用pip下载即可</strong></p> 
<p><strong>继续执行训练语句</strong></p> 
<p><strong>问题7：ModuleNotFoundError: No module named 'torchvision'没有torchvision包</strong></p> 
<p><strong>用pip install torchvision 下载成功</strong></p> 
<pre><code class="hljs">root@407d147d301b:/# pip install torchvision    
Uninstalling torch-1.10.2:
      Successfully uninstalled torch-1.10.2</code></pre> 
<p><strong>问题8： ModuleNotFoundError: No module named 'mmcls' 没有mmcls包</strong></p> 
<p><strong>pip install mmcls 下载解决</strong></p> 
<pre><code class="hljs">root@407d147d301b:/# pip install mmcls
Collecting mmcls           
 mmcls
Successfully installed cycler-0.11.0 kiwisolver-1.3.1 matplotlib-3.3.4 mmcls-0.24.0 python-dateutil-2.8.2</code></pre> 
<p> 继续执行训练语句</p> 
<p><strong>问题9：AttributeError: 'ConfigDict' object has no attribute 'data'</strong></p> 
<p><strong>意思是</strong><a href="https://stackoverflow.com/questions/28966434/arff-loader-attributeerror-dict-object-has-no-attribute-data" rel="nofollow" title="加载程序 ：属性错误：“字典”对象没有属性“数据”">加载程序 ：属性错误：“字典”对象没有属性“数据”</a> </p> 
<p>看来包的问题解决的差不多了 问题9 现在是结构问题了   以后接着搞</p> 
<p></p> 
<h2><a id="_23"></a></h2> 
<hr> 
<h2><a id="_30"></a></h2> 
<p></p> 
<p></p> 
<p></p> 
<p></p> 
<p></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f9851d3a592f93daf15ff3cae1f581c3/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">深入剖析Redis客户端Jedis的特性和原理</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a8b6ce53a1cdf2ee4d3f16b939029b2b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Torch</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>