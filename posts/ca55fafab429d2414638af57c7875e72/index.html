<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络通信基础 物理层与数据链路层 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络通信基础 物理层与数据链路层" />
<meta property="og:description" content="0x01 物理层 物理层是TCP/IP五层模型的最底层，它为数据通信的介质提供规范和定义。集线器是典型的工作在物理层的设备，它共享一个广播域，共享一个冲突域。
物理特性解决的问题机械特性指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置电器特性指明在接口电缆的各条线上出现的电压范围功能特性指明某条线上出现的某一电平的电压表示何种意义过程特性指明利用接口传输位流的全过程及各项用于传输的事件发生的合法顺序 0x02 数据链路层 数据链路层位于网络层与物理层之间，它负责数据链路的建立、维护与拆除，能够实现帧包装、帧传输、帧同步、帧的差错恢复以及流量控制。以太网是最常用的数据链路层协议。
以太网是一种计算机局域网技术。IEEE组织的IEEE 802.3标准制定了以太网的技术标准，它规定了包括物理层的连线、电子信号和介质访问层协议的内容。以太网是应用最普遍的局域网技术，取代了其他局域网技术如令牌环、FDDI和ARCNET。
0x03 以太网 以太网（局域网组网规范）模拟了声音的传输，一个教室中一个人说话每个人都能听到（广播域），一个人说话的时候不能有第二个人说话（冲突域）。以太网采用CSMA/CD避免信号的冲突（集线器仅能建立一个信道，属于半双工模式；交换机能够建立多个信道，属于全双工模式）。
CSMA/CD工作原理：发送前先监听信道是否空闲，若空闲则立即发送数据。在发送时，边发边继续监听，若监听到冲突，则立即停止发送，等待一段时间（称为退避）以后，再重新尝试。
MAC地址（英语：Media Access Control Address），直译为媒体存取控制位址，也称为局域网地址（LAN Address），MAC位址，以太网地址（Ethernet Address）或物理地址（Physical Address），它是一个用来确认网络设备位置的位址。在OSI模型中，第三层网络层负责IP地址，第二层数据链路层则负责MAC位址 [1] 。MAC地址用于在网络中唯一标示一个网卡，一台设备若有一或多个网卡，则每个网卡都需要并会有一个唯一的MAC地址 [2] 。
以太网的传播性质虽然是广播，但根据其通话对象又可具体分为单播、组播和广播。例如在教室中说“张三，我要对你说…”，虽然每个人都能听见，但它属于单播。
MAC（Media Acess Control）地址共有48比特，前24比特为供应商标识，后24比特为供应商对网卡的唯一编号。MAC地址的第8位为0则表示单播地址，为1则表示组播地址。如果MAC地址48位全为1（FF-FF-FF-FF-FF-FF），则表示广播地址。
MAC地址一般固化在网卡（网络适配器）的店可擦可编程只读存储器EEPROM中，因此MAC地址也被称为硬件地址，但这并不意味着MAC地址属于网络体系结构中的物理层。
一般情况下，用户主机含两个网络适配器：有线局域网适配器（有线网卡）和无线局域网适配器（无线网卡）。每个网络适配器都有一个全球唯一的MAC地址。而交换机和路由器往往拥有更多的网络接口，所以会拥有更多的MAC地址。故严格来说，MAC地址是对网络上各接口的唯一标识，而不是对网络上各设备的唯一标识。
0x04 数据链路层设备 以太网二层交换机
交换机能够根据以太网帧中目标地址智能的转发数据，因此交换机工作在数据链路层。
交换机分割冲突域，实现全双工通信。
需要注意的是，交换机分割冲突域，但是不分割广播域，即交换机的所有端口均属于同一个广播域。冲突域为广播域的若干个子集。
交换机数据转发原理
转发：交换机根据MAC地址表单播转发数据帧。学习：MAC地址表是交换机通过学习接受到的数据帧的源MAC地址来形成的。广播：如果无法在MAC地址表中查到目标地址（端口），交换机就向所有端口广播该数据帧。更新：交换机MAC地址表的老化时间是300s，如果交换机发现一个帧的入端口和MAC地址表中源MAC地址的端口不同，交换机将会对该源MAC地址对应的端口进行更新。 MAC地址洪水攻击：构造大量虚假的MAC地址对交换机的MAC地址表进行污染（MAC地址表具有一定大小），当交换机在MAC地址表中查询不到所要传输的数据的MAC地址时，交换机将由单播变为广播。
交换机实现分割冲突域使用了两个技术，一个是上述的MAC地址转发表，另一个是交换机的背板交换矩阵结构。
0x05 综合布线 综合布线中的六个子系统，建筑群子系统、设备间子系统、垂直子系统、管理子系统、水平子系统、工作区子系统。
以宿舍楼为例，每个宿舍都有一台交换机，它用来接入寝室内各个同学的计算机，这些交换机被称为接入交换机。同一楼层的交换机通过水平子系统相连接入控制器，各个楼层的控制器再通过垂直子系统相连接入汇聚交换机。最后，不同宿舍楼的汇聚交换机接入核心交换机，再由核心交换机接入路由器。其中汇聚交换机和核心交换机不是必须品，但是它们可以使网络拓扑更加层次化从而方便管理。
接入交换机：通常将网络中直接面向用户连接或访问网络的部分称为接入层，接入层目的是允许终端用户连接到网络，因此接入层交换机具有低成本和高端口密度特性。我们在接入层设计上主张使用性能价格比高的设备。接入层是最终用户与网络的接口，它应该提供即插即用的特性，同时应该非常易于使用和维护。一般POE交换机是直接接终端供电，所以POE交换机是作为接入层交换机。
汇聚交换机：汇聚层是网络接入层和核心层的“中介”，就是在有线终端接入核心层前先做汇聚，以减轻核心层设备的负荷。汇聚层必须能够处理来自接入层设备的所有通信量，并提供到核心层的上行链路，因此汇聚层交换机与接入层交换机比较，需要更高的性能，更少的接口和更高的交换速率。在汇聚层中，应该采用支持三层交换技术和VLAN的交换机，以达到网络隔离和分段的目的。
核心交换机：核心层是网络的高速交换主干，对整个网络的连通起到至关重要的作用。核心层应该具有如下几个特性：可靠性、高效性、冗余性、容错性、可管理性、适应性、低延时性等。因为核心层是网络的枢纽中心，重要性突出。核心层设备采用双机冗余热备份是非常必要的，也可以使用负载均衡功能，来改善网络性能。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ca55fafab429d2414638af57c7875e72/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-10-25T18:57:23+08:00" />
<meta property="article:modified_time" content="2021-10-25T18:57:23+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络通信基础 物理层与数据链路层</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h3><a id="0x01__0"></a>0x01 物理层</h3> 
<p>物理层是TCP/IP五层模型的最底层，它为数据通信的介质提供规范和定义。集线器是典型的工作在物理层的设备，它共享一个广播域，共享一个冲突域。</p> 
<table><thead><tr><th>物理特性</th><th>解决的问题</th></tr></thead><tbody><tr><td>机械特性</td><td>指明接口所用接线器的形状和尺寸、引脚数目和排列、固定和锁定装置</td></tr><tr><td>电器特性</td><td>指明在接口电缆的各条线上出现的电压范围</td></tr><tr><td>功能特性</td><td>指明某条线上出现的某一电平的电压表示何种意义</td></tr><tr><td>过程特性</td><td>指明利用接口传输位流的全过程及各项用于传输的事件发生的合法顺序</td></tr></tbody></table> 
<p><img src="https://images2.imgbox.com/27/40/aaDE3gDe_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="0x02__10"></a>0x02 数据链路层</h3> 
<p>数据链路层位于网络层与物理层之间，它负责数据链路的建立、维护与拆除，能够实现帧包装、帧传输、帧同步、帧的差错恢复以及流量控制。以太网是最常用的数据链路层协议。</p> 
<blockquote> 
 <p>以太网是一种计算机局域网技术。IEEE组织的IEEE 802.3标准制定了以太网的技术标准，它规定了包括物理层的连线、电子信号和介质访问层协议的内容。以太网是应用最普遍的局域网技术，取代了其他局域网技术如令牌环、FDDI和ARCNET。</p> 
</blockquote> 
<h3><a id="0x03__15"></a>0x03 以太网</h3> 
<p>以太网（局域网组网规范）模拟了声音的传输，一个教室中一个人说话每个人都能听到（广播域），一个人说话的时候不能有第二个人说话（冲突域）。以太网采用CSMA/CD避免信号的冲突（集线器仅能建立一个信道，属于半双工模式；交换机能够建立多个信道，属于全双工模式）。</p> 
<p>CSMA/CD工作原理：发送前先监听信道是否空闲，若空闲则立即发送数据。在发送时，边发边继续监听，若监听到冲突，则立即停止发送，等待一段时间（称为退避）以后，再重新尝试。<br> <img src="https://images2.imgbox.com/b4/18/BNNIMUD9_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>MAC地址（英语：Media Access Control Address），直译为媒体存取控制位址，也称为局域网地址（LAN Address），MAC位址，以太网地址（Ethernet Address）或物理地址（Physical Address），它是一个用来确认网络设备位置的位址。在OSI模型中，第三层网络层负责IP地址，第二层数据链路层则负责MAC位址 [1] 。MAC地址用于在网络中唯一标示一个网卡，一台设备若有一或多个网卡，则每个网卡都需要并会有一个唯一的MAC地址 [2] 。</p> 
</blockquote> 
<p>以太网的传播性质虽然是广播，但根据其通话对象又可具体分为单播、组播和广播。例如在教室中说“张三，我要对你说…”，虽然每个人都能听见，但它属于单播。</p> 
<p>MAC（Media Acess Control）地址共有48比特，前24比特为供应商标识，后24比特为供应商对网卡的唯一编号。MAC地址的第8位为0则表示单播地址，为1则表示组播地址。如果MAC地址48位全为1（FF-FF-FF-FF-FF-FF），则表示广播地址。<br> <img src="https://images2.imgbox.com/e6/10/drdNPBV2_o.png" alt="在这里插入图片描述"><br> MAC地址一般固化在网卡（网络适配器）的店可擦可编程只读存储器EEPROM中，因此MAC地址也被称为硬件地址，但这并不意味着MAC地址属于网络体系结构中的物理层。</p> 
<p>一般情况下，用户主机含两个网络适配器：有线局域网适配器（有线网卡）和无线局域网适配器（无线网卡）。每个网络适配器都有一个全球唯一的MAC地址。而交换机和路由器往往拥有更多的网络接口，所以会拥有更多的MAC地址。故严格来说，MAC地址是对网络上各接口的唯一标识，而不是对网络上各设备的唯一标识。<br> <img src="https://images2.imgbox.com/bb/9e/eEFkd4qq_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="0x04__32"></a>0x04 数据链路层设备</h3> 
<p>以太网二层交换机</p> 
<ul><li> <p>交换机能够根据以太网帧中目标地址智能的转发数据，因此交换机工作在数据链路层。</p> </li><li> <p>交换机分割冲突域，实现全双工通信。</p> </li></ul> 
<p>需要注意的是，交换机分割冲突域，但是不分割广播域，即交换机的所有端口均属于同一个广播域。冲突域为广播域的若干个子集。</p> 
<p>交换机数据转发原理</p> 
<ul><li>转发：交换机根据MAC地址表单播转发数据帧。</li><li>学习：MAC地址表是交换机通过学习接受到的数据帧的源MAC地址来形成的。</li><li>广播：如果无法在MAC地址表中查到目标地址（端口），交换机就向所有端口广播该数据帧。</li><li>更新：交换机MAC地址表的老化时间是300s，如果交换机发现一个帧的入端口和MAC地址表中源MAC地址的端口不同，交换机将会对该源MAC地址对应的端口进行更新。</li></ul> 
<p><img src="https://images2.imgbox.com/a3/16/EMFVcGZx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/15/ee/kixbTRPv_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/28/6e/2u9G1fT4_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/14/82/nGq6iDTF_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b8/35/gAc1MftY_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/70/86/n0r1payH_o.png" alt="在这里插入图片描述"><br> MAC地址洪水攻击：构造大量虚假的MAC地址对交换机的MAC地址表进行污染（MAC地址表具有一定大小），当交换机在MAC地址表中查询不到所要传输的数据的MAC地址时，交换机将由单播变为广播。</p> 
<p>交换机实现分割冲突域使用了两个技术，一个是上述的MAC地址转发表，另一个是交换机的背板交换矩阵结构。<br> <img src="https://images2.imgbox.com/f3/25/JOatfjIu_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="0x05__57"></a>0x05 综合布线</h3> 
<p>综合布线中的六个子系统，建筑群子系统、设备间子系统、垂直子系统、管理子系统、水平子系统、工作区子系统。<br> <img src="https://images2.imgbox.com/45/87/0nrjxONJ_o.png" alt="在这里插入图片描述"><br> 以宿舍楼为例，每个宿舍都有一台交换机，它用来接入寝室内各个同学的计算机，这些交换机被称为接入交换机。同一楼层的交换机通过水平子系统相连接入控制器，各个楼层的控制器再通过垂直子系统相连接入汇聚交换机。最后，不同宿舍楼的汇聚交换机接入核心交换机，再由核心交换机接入路由器。其中汇聚交换机和核心交换机不是必须品，但是它们可以使网络拓扑更加层次化从而方便管理。</p> 
<ul><li> <p>接入交换机：通常将网络中直接面向用户连接或访问网络的部分称为接入层，接入层目的是允许终端用户连接到网络，因此接入层交换机具有低成本和高端口密度特性。我们在接入层设计上主张使用性能价格比高的设备。接入层是最终用户与网络的接口，它应该提供即插即用的特性，同时应该非常易于使用和维护。一般POE交换机是直接接终端供电，所以POE交换机是作为接入层交换机。</p> </li><li> <p>汇聚交换机：汇聚层是网络接入层和核心层的“中介”，就是在有线终端接入核心层前先做汇聚，以减轻核心层设备的负荷。汇聚层必须能够处理来自接入层设备的所有通信量，并提供到核心层的上行链路，因此汇聚层交换机与接入层交换机比较，需要更高的性能，更少的接口和更高的交换速率。在汇聚层中，应该采用支持三层交换技术和VLAN的交换机，以达到网络隔离和分段的目的。</p> </li><li> <p>核心交换机：核心层是网络的高速交换主干，对整个网络的连通起到至关重要的作用。核心层应该具有如下几个特性：可靠性、高效性、冗余性、容错性、可管理性、适应性、低延时性等。因为核心层是网络的枢纽中心，重要性突出。核心层设备采用双机冗余热备份是非常必要的，也可以使用负载均衡功能，来改善网络性能。</p> </li></ul> 
<p><img src="https://images2.imgbox.com/ed/45/P6BJZmsq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/01/f8/GgMPhLhR_o.jpg" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e3637f842b20beeff9b09e2b41563c41/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Python &#43; Steamlit 快速开发可视化 web 页面！</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43e570166332fcdb2ed2e061cf05d7d8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">面试官：说说微信小程序的支付流程？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>