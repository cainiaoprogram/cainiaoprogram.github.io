<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>狂神Spring学习笔记 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="狂神Spring学习笔记" />
<meta property="og:description" content="一：Spring Spring: 春天 -&gt; 给软件行业带来了春天2002,首次推出了Spring框架的雏形: interface212004年3月24，发布了1.0正式版Rod Johnson -&gt; Spring framework创始人理念：使现有的技术更加容易使用, 本身是一个大杂烩，整合了现有的技术框架Spring是一个开源的免费的框架(容器），是一个轻量级的、非入侵式的框架控制反转（IOC），面向切面编程（AOP）支持事务的处理，对框架整合的支持 Spring就是一个轻量级的控制反转（IOC）和面向切面免除（AOP）的框架
SSH: Struct2 &#43; Spring &#43; Hibernate
SSM: SpringMvc &#43; Spring &#43; MyBatis
pom.xml 依赖
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.2.0.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 二：IOC （一）理论推导 1.UserDao 接口
2.UserDaoImpl 实现类
3.UserService 业务接口
4.UserServiceImpl 业务实现类
在我们之前的业务中，用户的需求可能会影响原来的代码，我们需要根据用户的需求去修改源代码。如果程序代码量十分大，修改一次的成本代价十分昂贵。
使用一个set接口实现,已经发生了革命性的变化。
private UserDao userDao; // 利用set实现动态实现值的注入 public void setUserDao(UserDao userDao) { this.userDao = userDao; } 之前，程序是主动创建对象，控制权在程序员手上使用set注入后，程序不在具有主动性，而是变成了被动的接受对象 思想的差距不是在短期内能够弥补的
这种思想，从本质上解决了问题，程序员不用再去管理对象的创建了。系统的耦合性大大降低，可以更加专注在业务的实现上,这是IOC的原型
程序完全不用动，修改配置xml文件中进行修改，对象由Spring来创建、管理、装配
beans.xml
&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt; &lt;beans xmlns=&#34;http://www.springframework.org/schema/beans&#34; xmlns:xsi=&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/47853827369473884a67f8c4878906db/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-04T14:59:06+08:00" />
<meta property="article:modified_time" content="2023-09-04T14:59:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">狂神Spring学习笔记</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><img src="https://images2.imgbox.com/e6/7c/g9W8Rg1h_o.jpg" alt="在这里插入图片描述"></p> 
<h3><a id="Spring_2"></a>一：Spring</h3> 
<ul><li>Spring: 春天 -&gt; 给软件行业带来了春天</li><li>2002,首次推出了Spring框架的雏形: interface21</li><li>2004年3月24，发布了1.0正式版</li><li>Rod Johnson -&gt; Spring framework创始人</li><li>理念：使现有的技术更加容易使用, 本身是一个大杂烩，整合了现有的技术框架</li><li>Spring是一个开源的免费的框架(容器），是一个轻量级的、非入侵式的框架</li><li>控制反转（IOC），面向切面编程（AOP）</li><li>支持事务的处理，对框架整合的支持</li></ul> 
<blockquote> 
 <p>Spring就是一个轻量级的控制反转（IOC）和面向切面免除（AOP）的框架</p> 
</blockquote> 
<p>SSH: Struct2 + Spring + Hibernate<br> SSM: SpringMvc + Spring + MyBatis</p> 
<p>pom.xml 依赖</p> 
<pre><code class="prism language-bash">    <span class="token operator">&lt;</span>dependencies<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>dependency<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>groupId<span class="token operator">&gt;</span>org.springframework<span class="token operator">&lt;</span>/groupId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>artifactId<span class="token operator">&gt;</span>spring-webmvc<span class="token operator">&lt;</span>/artifactId<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span><span class="token number">5.2</span>.0.RELEASE<span class="token operator">&lt;</span>/version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/dependencies<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="IOC_32"></a>二：IOC</h3> 
<h4><a id="_34"></a>（一）理论推导</h4> 
<p>1.UserDao 接口<br> 2.UserDaoImpl 实现类<br> 3.UserService 业务接口<br> 4.UserServiceImpl 业务实现类</p> 
<p>在我们之前的业务中，用户的需求可能会影响原来的代码，我们需要根据用户的需求去修改源代码。如果程序代码量十分大，修改一次的成本代价十分昂贵。</p> 
<p>使用一个set接口实现,已经发生了革命性的变化。</p> 
<pre><code class="prism language-bash">    private UserDao userDao<span class="token punctuation">;</span>

    // 利用set实现动态实现值的注入
    public void setUserDao<span class="token punctuation">(</span>UserDao userDao<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        this.userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre> 
<ul><li>之前，程序是主动创建对象，控制权在程序员手上</li><li>使用set注入后，程序不在具有主动性，而是变成了被动的接受对象</li></ul> 
<blockquote> 
 <p>思想的差距不是在短期内能够弥补的</p> 
</blockquote> 
<p>这种思想，从本质上解决了问题，程序员不用再去管理对象的创建了。系统的耦合性大大降低，可以更加专注在业务的实现上,这是IOC的原型</p> 
<p>程序完全不用动，修改配置xml文件中进行修改，对象由Spring来创建、管理、装配</p> 
<p>beans.xml</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">"1.0"</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">"UTF-8"</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans <span class="token assign-left variable">xmlns</span><span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns:xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xsi:schemaLocation<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"mysqlImpl"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.dao.UserDaoMysqlImpl"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"oracleImpl"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.dao.UserDaoOracleImpl"</span>/<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"UserServiceImpl"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.service.UserServiceImpl"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>--        ref： 是引用spring容器中创建好的对象
            value: 具体的值
            --<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"userDao"</span> <span class="token assign-left variable">ref</span><span class="token operator">=</span><span class="token string">"oracleImpl"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>/beans<span class="token operator">&gt;</span>

</code></pre> 
<p>测试</p> 
<pre><code class="prism language-bash">public class MyTest <span class="token punctuation">{<!-- --></span>
    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        // 用户实际调用的是业务层, dao层不需要接触
//        UserServiceImpl userService <span class="token operator">=</span> new UserServiceImpl<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
//        userService.setUserDao<span class="token punctuation">(</span>new UserDaoMysqlImpl<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
//        userService.getUser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        ApplicationContext context <span class="token operator">=</span> new ClassPathXmlApplicationContext<span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        UserServiceImpl userServiceImpl <span class="token operator">=</span> <span class="token punctuation">(</span>UserServiceImpl<span class="token punctuation">)</span>context.getBean<span class="token punctuation">(</span><span class="token string">"UserServiceImpl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userServiceImpl.getUser<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h4><a id="IOC_103"></a>（二）IOC创建对象的方式</h4> 
<p>1.使用无参构造创建对象，默认<br> 2.假设要使用有参构造创建对象</p> 
<ul><li>下标赋值</li></ul> 
<pre><code class="prism language-bash">    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"user"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.User"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>constructor-arg <span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token string">"0"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"夜斗学java"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>
</code></pre> 
<ul><li>通过类型创建</li></ul> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span><span class="token operator">!</span>--    通过类型创建--<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"user"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.User"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>constructor-arg <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">"java.lang.String"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"夜斗学java"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>
</code></pre> 
<ul><li>通过参数名</li></ul> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span><span class="token operator">!</span>--    直接通过参数名来设置--<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"user"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.User"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>constructor-arg <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"name"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"币圈好难受"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="Bean_133"></a>（三）Bean的配置</h4> 
<pre><code class="prism language-bash">        <span class="token operator">&lt;</span><span class="token operator">!</span>--  id: bean的唯一标识符
              class: bean对象所对应的全限定符
              name: 别名--<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"userT"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.UserT"</span>  <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"yedou1"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>constructor-arg <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"name"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"币圈好难受"</span> /<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span>--    取别名--<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>alias <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"user"</span> <span class="token assign-left variable">alias</span><span class="token operator">=</span><span class="token string">"yedou"</span>/<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="import_146"></a>（四）import</h4> 
<p>一般用于团队开发，将多个配置文件，导入合并为一个总的配置</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">"1.0"</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">"UTF-8"</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans <span class="token assign-left variable">xmlns</span><span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns:xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xsi:schemaLocation<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>import <span class="token assign-left variable">resource</span><span class="token operator">=</span><span class="token string">"beans.xml"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>import <span class="token assign-left variable">resource</span><span class="token operator">=</span><span class="token string">"beans1.xml"</span>/<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/beans<span class="token operator">&gt;</span>
</code></pre> 
<pre><code class="prism language-bash">public class MyTest <span class="token punctuation">{<!-- --></span>
    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ApplicationContext context <span class="token operator">=</span> new ClassPathXmlApplicationContext<span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        User user <span class="token operator">=</span> <span class="token punctuation">(</span>User<span class="token punctuation">)</span>context.getBean<span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user.show<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<h3><a id="_172"></a>三：依赖注入</h3> 
<ul><li>构造器注入</li><li>Set方式注入</li><li>拓展方式注入</li></ul> 
<h4><a id="set_178"></a>（一）set方式注入</h4> 
<ul><li>依赖: bean对象的创建依赖于容器</li><li>注入: bean对象中的所有属性，由容器来注入</li></ul> 
<p>【环境搭建】<br> 1.复杂类型</p> 
<pre><code class="prism language-bash">public class Address <span class="token punctuation">{<!-- --></span>
    private String address<span class="token punctuation">;</span>

    public String <span class="token function-name function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token builtin class-name">return</span> address<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    public void setAddress<span class="token punctuation">(</span>String address<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        this.address <span class="token operator">=</span> address<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>2.真实测试对象</p> 
<pre><code class="prism language-bash">public class Student <span class="token punctuation">{<!-- --></span>

    private String name<span class="token punctuation">;</span>
    private Address address<span class="token punctuation">;</span>
    private String<span class="token punctuation">[</span><span class="token punctuation">]</span> books<span class="token punctuation">;</span>
    private List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> hobbys<span class="token punctuation">;</span>
    private Map<span class="token operator">&lt;</span>String,String<span class="token operator">&gt;</span> card<span class="token punctuation">;</span>
    private Set<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> games<span class="token punctuation">;</span>
    private String wife<span class="token punctuation">;</span>
    private Properties info<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre> 
<p>3.beans.xml</p> 
<pre><code class="prism language-bash"><span class="token operator">&lt;</span>?xml <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token string">"1.0"</span> <span class="token assign-left variable">encoding</span><span class="token operator">=</span><span class="token string">"UTF-8"</span>?<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans <span class="token assign-left variable">xmlns</span><span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns:xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xsi:schemaLocation<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans
       http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="token operator">&gt;</span>


    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"student"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Student"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"name"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"夜斗"</span>/<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>/beans<span class="token operator">&gt;</span>

</code></pre> 
<p>4.测试类</p> 
<pre><code class="prism language-bash">public class YeTest <span class="token punctuation">{<!-- --></span>
    public static void main<span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        ApplicationContext context <span class="token operator">=</span> new ClassPathXmlApplicationContext<span class="token punctuation">(</span><span class="token string">"beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        Student student <span class="token operator">=</span> <span class="token punctuation">(</span>Student<span class="token punctuation">)</span> context.getBean<span class="token punctuation">(</span><span class="token string">"student"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System.out.println<span class="token punctuation">(</span>student.getName<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>完善注入信息</p> 
<pre><code class="prism language-bash">   <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"address"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Address"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"address"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"夜斗小神社"</span>/<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>



    <span class="token operator">&lt;</span>bean <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">"student"</span> <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Student"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"name"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"夜斗"</span>/<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"address"</span> <span class="token assign-left variable">ref</span><span class="token operator">=</span><span class="token string">"address"</span>/<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"books"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>array<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>吕氏春秋<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>我的春秋<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>我做主<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>！<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/array<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"hobbys"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>list<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>写代码<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>看电影<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>听歌<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/list<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"card"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>map<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"身份证"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"12345"</span>/<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>entry <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"银行卡"</span> <span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token string">"45678"</span>/<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/map<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"games"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>set<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>荒野大表哥<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>英雄联盟<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>value<span class="token operator">&gt;</span>BOB<span class="token operator">&lt;</span>/value<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/set<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"wife"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>null/<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>property <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"info"</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>props<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>prop <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"学号"</span><span class="token operator">&gt;</span><span class="token number">19037006</span><span class="token operator"><span class="token file-descriptor important">3</span>&lt;</span>/prop<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>prop <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"url"</span><span class="token operator">&gt;</span>baidu<span class="token operator">&lt;</span>/prop<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>prop <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"username"</span><span class="token operator">&gt;</span>夜斗<span class="token operator">&lt;</span>/prop<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>prop <span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">"password"</span><span class="token operator">&gt;</span><span class="token number">12345</span><span class="token operator"><span class="token file-descriptor important">6</span>&lt;</span>/prop<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>/props<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>/property<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>/bean<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="pc_307"></a>（二）p命名和c命名空间</h4> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans xmlns<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns<span class="token operator">:</span>p<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/p"</span>
       xmlns<span class="token operator">:</span>c<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/c"</span>
       xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span>"http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans<span class="token operator">/</span>spring<span class="token operator">-</span>beans<span class="token punctuation">.</span>xsd"<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    p命名空间注入：可以直接注入属性的值<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"user"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.User"</span> p<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"夜斗"</span>  p<span class="token operator">:</span>age<span class="token operator">=</span><span class="token string">"21"</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    c命名空间注入<span class="token punctuation">,</span>通过构造器注入<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"user2"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.User"</span> c<span class="token operator">:</span>age<span class="token operator">=</span><span class="token string">"18"</span> c<span class="token operator">:</span>name<span class="token operator">=</span><span class="token string">"狂神"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span>
</code></pre> 
<h3><a id="Bean_325"></a>四：Bean的自动装配</h3> 
<ul><li>自动装配是Spring满足bean依赖的一种方式</li><li>Spring会在上下文中自动寻找，并给bean装配属性</li></ul> 
<p>在Spring中有三种自动装配的方式</p> 
<ul><li>在xml中显示的配置</li><li>在java中显示配置</li><li>隐式的自动装配bean</li></ul> 
<h4><a id="bynamebytype_336"></a>(一）：byname与bytype自动装配</h4> 
<pre><code class="prism language-java">    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Cat"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    byName<span class="token operator">:</span> 会自动在容器上下文中查找，和自己对象set方法后面的值对应的 beanid
        byType<span class="token operator">:</span> 会自动在容器上下文中查找<span class="token punctuation">,</span> 和自己对象属性类型相同的bean
<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"people"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.People"</span> autowire<span class="token operator">=</span><span class="token string">"byType"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"夜斗"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"dog"</span> ref<span class="token operator">=</span><span class="token string">"dog"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"cat"</span> ref<span class="token operator">=</span><span class="token string">"cat"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>
</code></pre> 
<h4><a id="_350"></a>(二）：注解实现自动装配</h4> 
<p>jdk1.5支持的注解,Spring2.5就支持注解了</p> 
<p>使用注解：<br> 1.导入约束：context约束<br> 2.配置注解的支持</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans xmlns<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xmlns<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/context"</span>
       xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span>"http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans<span class="token operator">/</span>spring<span class="token operator">-</span>beans<span class="token punctuation">.</span>xsd
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context<span class="token operator">/</span>spring<span class="token operator">-</span>context<span class="token punctuation">.</span>xsd"<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    开启注解的支持<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>context<span class="token operator">:</span>annotation<span class="token operator">-</span>config<span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"cat"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Cat"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"dog"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.Dog"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"people"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo.People"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span>

</code></pre> 
<p>@Autowired<br> 直接在属性上使用即可！也可以在set方式上使用！<br> 使用Autowired我们可以不用编写Set方法，前提是你这个自动装配在IOC容器中存在</p> 
<p>@Nullable 字段标记了这个注解，说明这个字段可以为null</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 这个对象可以为空值</span>
    <span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"dog222"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="_397"></a>五：使用注解开发</h3> 
<p>在Spring4之后，要使用注解开发，必须要保证aop的包导入了</p> 
<p>使用注解要增加context约束，增加注解的支持</p> 
<p>1.bean</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    指定要扫描的包<span class="token punctuation">,</span>这个包下的注解就会生效<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>context<span class="token operator">:</span>component<span class="token operator">-</span>scan base<span class="token operator">-</span><span class="token keyword">package</span><span class="token operator">=</span><span class="token string">"com.kuang.pojo"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    开启注解的支持<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>context<span class="token operator">:</span>annotation<span class="token operator">-</span>config<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"yedou"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>2.属性如何注入</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"yedou"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>3.衍生注解</p> 
<p>@Component有几个衍生注解，在web开发中，会按照mvc三层架构分层</p> 
<ul><li>dao(@Repository)</li><li>service(@Service)</li><li>controller(@Controller)</li></ul> 
<p>这四个注解的功能都是一样的，都是代表将某个类注册到Spring中，装备到Bean</p> 
<p>xml与注解：</p> 
<ul><li>xml更加万能，适用于任何场合，维护简单方便</li><li>注解不是类使用不了，维护相对复杂</li></ul> 
<p>Xml与注解最佳实践</p> 
<ul><li>xml用于管理bean</li><li>注解只负责完成属性的注入</li><li>必须让注解生效，就需要开启注解的支持</li></ul> 
<h3><a id="JavaSpring_450"></a>六：使用Java的方式配置Spring</h3> 
<p>我们现在完全不使用Spring的Xml的配置了，全程交给java来做</p> 
<p>JavaConfig是Spring的一个子项目,在Spring4之后，他成为了一个核心功能</p> 
<p>实体类</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token comment">// 这个类被Spring接管了,注册到了容器中</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"yedou"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token string">"User{"</span> <span class="token operator">+</span>
                <span class="token string">"name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token char">'\''</span> <span class="token operator">+</span>
                <span class="token char">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>配置类</p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ComponentScan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Import</span></span><span class="token punctuation">;</span>

<span class="token comment">// 代表这是一个配置类，就和之前beans.xml一样</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">"com.kuang.pojo"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">YeConfig2</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YeConfig</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 注册一个Bean，就相当于我们之前写的一个bean标签</span>
    <span class="token comment">// 这个方法的名字就相当于bean标签中的id属性</span>
    <span class="token comment">// 这个方法的返回值就相当于bean标签中的class属性</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">getuser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 要注入到bean的对象</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>测试类</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">YeConfig</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>kuang<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation">;</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 如果完全使用了配置类方式去做，我们就只能通过AnnotationConfig上下文来获取容器，通过配置类的class对象加载</span>
        <span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">YeConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> getUser <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"getuser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>getUser<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>这种纯java的配置方式，在SpringBoot中随处可见！</p> 
<h3><a id="_533"></a>六：代理模式</h3> 
<p>为什么要学习代理模式？因为这就是SpringAOP的底层！【SpringAOP和SpringMVC】</p> 
<p>代理模式的分类：</p> 
<ul><li>静态代理</li><li>动态代理</li></ul> 
<h4><a id="_541"></a>（一）静态代理</h4> 
<p>角色分析：</p> 
<ul><li>抽象角色：一般会使用接口或者抽象类来解决</li><li>真实角色：被代理的角色</li><li>代理角色：代理真实的角色，代理真实角色后，我们一般会做一些附属操作</li><li>客户：访问代理对象的人</li></ul> 
<p>1.接口</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Rent</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>2.真实角色</p> 
<pre><code class="prism language-java"><span class="token comment">// 房东</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Host</span> <span class="token keyword">implements</span> <span class="token class-name">Rent</span><span class="token punctuation">{<!-- --></span>


    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"房东要出租房子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>3.代理角色</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Proxy</span> <span class="token keyword">implements</span> <span class="token class-name">Rent</span><span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Host</span> host<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token class-name">Host</span> host<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>host <span class="token operator">=</span> host<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token function">seeHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        host<span class="token punctuation">.</span><span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">hetong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">fare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 看房</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">seeHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"中介带你看房"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 收中介费</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">fare</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"收中介费"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 签合同</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hetong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"收中介费"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>4.客户端访问代理角色</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Host</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Host</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Proxy</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>
        proxy<span class="token punctuation">.</span><span class="token function">rent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> 
<p>代理模式的好处：</p> 
<ul><li>可以使真实角色的操作更加纯粹，不用去关注一些公共的业务</li><li>公共也就交给代理角色，实现了业务的分工</li><li>公共业务发生扩展的时候，方便集中管理</li></ul> 
<p>缺点：</p> 
<ul><li>一个真实角色就会产生一个代理角色，代码量会翻倍，开发效率会变低</li></ul> 
<h4><a id="_633"></a>（二）动态代理</h4> 
<ul><li>动态代理和静态代理角色一样</li><li>动态代理的代理是动态生成的，不是我们直接写好的</li><li>动态代理分为两大类：基于接口的动态代理，基于类的动态代理</li></ul> 
<p>基于接口: JDK动态代理<br> 基于类：cglib<br> java字节码实现：javasist</p> 
<p>需要了解两个类：Proxy — 代理 InvocationHandler：调用程序</p> 
<p>动态代理的好处：</p> 
<ul><li>一个动态代理类代理的是一个接口，一般就是一类业务</li><li>一个动态代理类可以代理多个类，只要实现了同一个接口即可</li></ul> 
<h3><a id="AOP_649"></a>七：AOP</h3> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans xmlns<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
       xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       xmlns<span class="token operator">:</span>aop<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/aop"</span>
       xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span>"http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans<span class="token operator">/</span>spring<span class="token operator">-</span>beans<span class="token punctuation">.</span>xsd
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>aop
       http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>aop<span class="token operator">/</span>spring<span class="token operator">-</span>aop<span class="token punctuation">.</span>xsd"<span class="token operator">&gt;</span>



    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"userService"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.service.UserServiceImpl"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"log"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.log.Log"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"afterLog"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.log.AfterLog"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">!</span><span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span>    方式一：使用原生<span class="token class-name">Spring</span> <span class="token constant">API</span>接口<span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    <span class="token operator">&lt;</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">!</span><span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span>        切入点<span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>pointcut id<span class="token operator">=</span><span class="token string">"pointcut"</span> expression<span class="token operator">=</span><span class="token string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">!</span><span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span>        <span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">!</span><span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span>        执行环绕增强<span class="token operator">&amp;</span>ndash<span class="token punctuation">;</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>advisor advice<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"log"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"pointcut"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>advisor advice<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"afterLog"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"pointcut"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    <span class="token operator">&lt;</span><span class="token operator">/</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    方式二：自定义类<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"diy"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"com.kuang.diy.DiyPointCut"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        自定义切面，ref 要引用的类<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>aspect ref<span class="token operator">=</span><span class="token string">"diy"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            切入点<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>aop<span class="token operator">:</span>pointcut id<span class="token operator">=</span><span class="token string">"point"</span> expression<span class="token operator">=</span><span class="token string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            通知<span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>aop<span class="token operator">:</span>before method<span class="token operator">=</span><span class="token string">"before"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"point"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>aop<span class="token operator">:</span>after method<span class="token operator">=</span><span class="token string">"after"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"point"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>aop<span class="token operator">:</span>aspect<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span>

</code></pre> 
<h3><a id="Mybatis_692"></a>八：整合Mybatis</h3> 
<p>步骤：<br> 1.导入相关的jar包</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>project xmlns<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0"</span>
         xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>modelVersion<span class="token punctuation">&gt;</span></span><span class="token number">4.0</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>modelVersion<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>kuang<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>study<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.0</span><span class="token operator">-</span><span class="token constant">SNAPSHOT</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>packaging<span class="token punctuation">&gt;</span></span>pom<span class="token operator">&lt;</span><span class="token operator">/</span>packaging<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>modules<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span>ioc1<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span>hellospring<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span>ioc2<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span>di<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token class-name">Autowired</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>anno<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">07</span><span class="token operator">-</span>appconfig<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span>proxy<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>aop<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">module</span><span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>modules<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>properties<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token punctuation">&gt;</span></span><span class="token number">17</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token punctuation">&gt;</span></span><span class="token number">17</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>sourceEncoding<span class="token punctuation">&gt;</span></span><span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token punctuation">.</span>build<span class="token punctuation">.</span>sourceEncoding<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>properties<span class="token operator">&gt;</span>


    <span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>webmvc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">5.3</span><span class="token number">.23</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>junit<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>junit<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">4.12</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>aspectj<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.9</span><span class="token number">.4</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mysql<span class="token operator">-</span>connector<span class="token operator">-</span>java<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">8.0</span><span class="token number">.33</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.5</span><span class="token number">.5</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>jdbc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">5.1</span><span class="token number">.9</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>aspectj<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.9</span><span class="token number">.4</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>mybatis<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>mybatis<span class="token operator">-</span>spring<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.0</span><span class="token number">.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token operator">&gt;</span>
</code></pre> 
<p>2.编写配置文件<br> 1.编写数据源配置<br> 2.sqlSessionFactory<br> 3.sqlSessionTemplate<br> 4.给接口增加实现类<br> 5.将自己写的实现类，注入到Spring中<br> 6.测试</p> 
<h3><a id="_785"></a>九：声明式事务</h3> 
<ul><li>把一组业务当成一个业务来做；要么都成功，要么都失败！</li><li>事务在项目开发中，十分的重要，涉及到数据一致性问题，不能马虎！</li><li>确保完整性和一致性；</li></ul> 
<p>事务ACID原则：</p> 
<ul><li>原子性</li><li>一致性</li><li>隔离性：多个业务可能操作同一个资源，防止数据损坏</li><li>持久性：事务一旦提交，无论系统发生什么问题，结果都不会被影响，被持久化的写到存储器中</li></ul> 
<h4><a id="spring_799"></a>（一）：spring中的事务管理</h4> 
<p>声明式事务；AOP<br> 编程式事务：</p> 
<pre><code class="prism language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    配置声明式事务<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"transactionManager"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"dataSource"</span> ref<span class="token operator">=</span><span class="token string">"datasource"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    结合<span class="token constant">AOP</span>实现事物的织入<span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>    配置事务的通知<span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tx<span class="token operator">:</span>advice id<span class="token operator">=</span><span class="token string">"txAdvice"</span> transaction<span class="token operator">-</span>manager<span class="token operator">=</span><span class="token string">"transactionManager"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>        给哪些方法配置事务<span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>tx<span class="token operator">:</span>attributes<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>tx<span class="token operator">:</span>method name<span class="token operator">=</span><span class="token string">"*"</span> propagation<span class="token operator">=</span><span class="token string">"REQUIRED"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            <span class="token operator">&lt;</span>tx<span class="token operator">:</span>method name<span class="token operator">=</span><span class="token string">"delete"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            <span class="token operator">&lt;</span>tx<span class="token operator">:</span>method name<span class="token operator">=</span><span class="token string">"update"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            <span class="token operator">&lt;</span>tx<span class="token operator">:</span>method name<span class="token operator">=</span><span class="token string">"query"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>            <span class="token operator">&lt;</span>tx<span class="token operator">:</span>method name<span class="token operator">=</span><span class="token string">"*"</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tx<span class="token operator">:</span>attributes<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tx<span class="token operator">:</span>advice<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>pointcut id<span class="token operator">=</span><span class="token string">"txPoint"</span> expression<span class="token operator">=</span><span class="token string">"execution(* com.kuang.mapper.*.*(..))"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>aop<span class="token operator">:</span>advisor advice<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"txAdvice"</span> pointcut<span class="token operator">-</span>ref<span class="token operator">=</span><span class="token string">"txPoint"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>aop<span class="token operator">:</span>config<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span>

</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/23bdeac2c9616f9bb068cb0c34a697c1/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">关于使用IDEA与Maven创建web工程步骤：</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/b2fd3c86c67fa8dde26bfd67740775e0/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">『好书推荐』｜《Effective软件测试》</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>