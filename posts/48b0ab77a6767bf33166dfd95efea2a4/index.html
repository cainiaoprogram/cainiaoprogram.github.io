<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络自顶向下 第3章 运输层 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络自顶向下 第3章 运输层" />
<meta property="og:description" content="3.1 概述和运输层服务 作用：为运行在不同主机上的应用进程之间提供了逻辑通信（logic communication）功能。在运输层的分组称为运输层报文段（segment）， 3.1.1 运输层和网络层的关系 网络层提供了主机之间的逻辑通信。运输层为不同主机上的进程提供了逻辑通信。 3.1.2 因特网运输层概述 UDP（用户数据报协议）：为应用程序提供了一种不可靠、无连接的服务。TCP（传输控制协议）：为应用程序提供了一种可靠的、面向连接的服务。TCP还提供如下的附加服务： 可靠数据传输（relable data transfer）：通过使用流量控制、序号、确认和定时器确保正确地、按序地将数据从发送进程交付给接收进程。拥塞控制（congestion-control）：TCP力求为每个通过一条拥塞网络链路的连接平等地共享网络链路带宽，通过调节TCP连接发送端发送进网络流量速率来实现。 将主机交付扩展到进程间交付被称为运输层的多路复用（transport-layer multiplexing）与多路分解（demultiplexing）。 3.2 多路复用与多路分解 将运输层报文段中的数据交付到正确的套接字的工作称为多路分解（demultiplexing）。
在源主机从不同套接字中收集数据块，并为每个数据块封装上首部信息生成报文段，然后将报文段传递到网络的工作称为多路复用（multiplexing）。
为了实现上述功能，使用源端口号字段（source port number field）和目的端口字段（distination port number field）。
端口号是一个16比特的数，大小在0~65535之间。0~1023的端口号称为周知端口号（well-known port number），保留个HTTP和FTP等协议使用。 1.无连接的多路复用与多路分解 一个UDP套接字是由一个二元组来标识，包括一个目的IP地址和目的端口号。
2.面向连接的多路复用与多路分解 TCP套接字是由一个四元组（源IP地址、源端口号、目的IP地址、目的端口号）来标识的。这是因为TCP要保存连接状态。
3.Web服务器和TCP 没内容
3.3 无连接运输：UDP UDP（User Datagram Protocol） 只是做了运输协议能够做的最少工作。包括：
复用/分解功能少量的差错检测 UDP相比TCP的优点：
使用UDP的应用也可以实现可靠数据传输，通过应用层来实现，比如在应用程序中增加确认与重传机制等。速度更快。无需建立连接。不用进行拥塞控制。分组首部开销小，UDP近由8个字节，而TCP由20个字节的首部开销。 流行的因特网应用及其运输层协议
应用应用层协议下面的运输层协议电子邮件SMTPTCP远程终端访问TelnetTCPWebHTTPTCP文件传输FTPTCP远程文件服务器NFS通常UDP流式多媒体通常专用UDP或TCP因特网电话通常专用UDP或TCP网络管理SNMP通常UDP路由选择协议RIP通常UDP域名系统DNS通常UDP 3.3.1 UDP报文段结构 3.3.2 UDP检验和 UDP检验和，通过对UDP报文中的所有16比特字的和进行反码运算，注意在求和时，如果最高位有溢出要进行回卷（即将最高位溢出的结果加到最低位）。在接收方，对所有数据求和的结果将是1111111111111111（因为是数据和加上其反码）。如果有一个比特为0，标识数据出现差错。 3.4 可靠数据传输原理 可靠数据传输协议（rliable data transfer protocol）的责任是保证传输数据比特不会受到损坏或丢失，而且所有数据都是按照其发送顺序进行交付。用rdt表示可靠数据传输。用udp标识不可靠数据传输。 3.4.1 构造可靠传输协议 参考可靠传输协议…
1.经完全可靠信道的可靠数据传输：rdt 1.0 rdt的发送端通过rdt_send(data)事件来接受较高层的数据，产生一个包含该数据的分组packet（通过make_pkt(data)），并将该分组发送到信道上去。在接收端，rdt通过rdt_rcv(packet)事件从底层信道接收一个分组，并从分组中抽取收据（通过extract（packet，data）动作），并将数据上传给较高层（通过deliver_data(data)）动作。由于信道完全可信，所以直接发送数据，而不需要任何反馈。 2.经具有比特差错信道的可靠数据传输：rdt 2.0 rdt2.0在rdt1.0的基础上解决了比特位翻转的问题底层信道实际上可能会在分组中出现比特受损。在计算机网络中，基于重传机制的可靠数据传输协议称为自动重传请求（Automatic Repeat reQuest,ARQ）协议。 ARQ还需要另外三种协议功能来处理比特差错：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/48b0ab77a6767bf33166dfd95efea2a4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-20T15:08:09+08:00" />
<meta property="article:modified_time" content="2021-06-20T15:08:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络自顶向下 第3章 运输层</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="31__0"></a>3.1 概述和运输层服务</h2> 
<ul><li>作用：为运行在不同主机上的应用进程之间提供了<strong>逻辑通信</strong>（logic communication）功能。</li><li>在运输层的分组称为运输层<strong>报文段</strong>（segment），</li></ul> 
<h3><a id="311__4"></a>3.1.1 运输层和网络层的关系</h3> 
<ul><li>网络层提供了<strong>主机</strong>之间的逻辑通信。</li><li>运输层为不同主机上的<strong>进程</strong>提供了逻辑通信。</li></ul> 
<h3><a id="312__8"></a>3.1.2 因特网运输层概述</h3> 
<ul><li><strong>UDP（用户数据报协议）</strong>：为应用程序提供了一种不可靠、无连接的服务。</li><li><strong>TCP（传输控制协议）</strong>：为应用程序提供了一种可靠的、面向连接的服务。TCP还提供如下的附加服务： 
  <ul><li><strong>可靠数据传输</strong>（relable data transfer）：通过使用流量控制、序号、确认和定时器确保正确地、按序地将数据从发送进程交付给接收进程。</li><li><strong>拥塞控制</strong>（congestion-control）：TCP力求为每个通过一条拥塞网络链路的连接平等地共享网络链路带宽，通过调节TCP连接发送端发送进网络流量速率来实现。</li></ul> </li><li>将主机交付扩展到进程间交付被称为运输层的<strong>多路复用</strong>（transport-layer multiplexing）与<strong>多路分解</strong>（demultiplexing）。</li></ul> 
<hr> 
<h2><a id="32__16"></a>3.2 多路复用与多路分解</h2> 
<ul><li> <p>将运输层报文段中的数据交付到正确的套接字的工作称为<strong>多路分解</strong>（demultiplexing）。</p> </li><li> <p>在源主机从不同套接字中收集数据块，并为每个数据块封装上首部信息生成报文段，然后将报文段传递到网络的工作称为<strong>多路复用</strong>（multiplexing）。</p> </li><li> <p>为了实现上述功能，使用<strong>源端口号字段</strong>（source port number field）和<strong>目的端口字段</strong>（distination port number field）。</p> 
  <ul><li>端口号是一个16比特的数，大小在0~65535之间。</li><li>0~1023的端口号称为<strong>周知端口号</strong>（well-known port number），保留个HTTP和FTP等协议使用。</li></ul> </li></ul> 
<h3><a id="1_24"></a>1.无连接的多路复用与多路分解</h3> 
<p>一个UDP套接字是由一个二元组来标识，包括一个目的IP地址和目的端口号。</p> 
<h3><a id="2_27"></a>2.面向连接的多路复用与多路分解</h3> 
<p>TCP套接字是由一个四元组（源IP地址、源端口号、目的IP地址、目的端口号）来标识的。这是因为TCP要保存连接状态。</p> 
<h3><a id="3WebTCP_30"></a>3.Web服务器和TCP</h3> 
<p>没内容</p> 
<hr> 
<h2><a id="33_UDP_34"></a>3.3 无连接运输：UDP</h2> 
<ul><li> <p><strong>UDP（User Datagram Protocol）</strong> 只是做了运输协议能够做的最少工作。包括：</p> 
  <ul><li>复用/分解功能</li><li>少量的差错检测</li></ul> </li><li> <p>UDP相比TCP的优点：</p> 
  <ul><li>使用UDP的应用也可以实现<strong>可靠数据传输</strong>，通过应用层来实现，比如在应用程序中增加确认与重传机制等。</li><li>速度更快。</li><li>无需建立连接。</li><li>不用进行拥塞控制。</li><li>分组首部开销小，UDP近由8个字节，而TCP由20个字节的首部开销。</li></ul> </li><li> <p>流行的因特网应用及其运输层协议</p> </li></ul> 
<table><thead><tr><th><strong>应用</strong></th><th><strong>应用层协议</strong></th><th><strong>下面的运输层协议</strong></th></tr></thead><tbody><tr><td>电子邮件</td><td>SMTP</td><td>TCP</td></tr><tr><td>远程终端访问</td><td>Telnet</td><td>TCP</td></tr><tr><td>Web</td><td>HTTP</td><td>TCP</td></tr><tr><td>文件传输</td><td>FTP</td><td>TCP</td></tr><tr><td>远程文件服务器</td><td>NFS</td><td>通常UDP</td></tr><tr><td>流式多媒体</td><td>通常专用</td><td>UDP或TCP</td></tr><tr><td>因特网电话</td><td>通常专用</td><td>UDP或TCP</td></tr><tr><td>网络管理</td><td>SNMP</td><td>通常UDP</td></tr><tr><td>路由选择协议</td><td>RIP</td><td>通常UDP</td></tr><tr><td>域名系统</td><td>DNS</td><td>通常UDP</td></tr></tbody></table> 
<hr> 
<h3><a id="331_UDP_62"></a>3.3.1 UDP报文段结构</h3> 
<p><img src="https://images2.imgbox.com/e5/3b/fKeX3QIm_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="332_UDP_64"></a>3.3.2 UDP检验和</h3> 
<ul><li>UDP检验和，通过对UDP报文中的所有16比特字的和进行反码运算，注意在求和时，如果最高位有溢出要进行回卷（即将最高位溢出的结果加到最低位）。</li><li>在接收方，对所有数据求和的结果将是1111111111111111（因为是数据和加上其反码）。如果有一个比特为0，标识数据出现差错。</li></ul> 
<hr> 
<h2><a id="34__69"></a>3.4 可靠数据传输原理</h2> 
<ul><li><strong>可靠数据传输协议</strong>（rliable data transfer protocol）的责任是保证传输数据比特不会受到损坏或丢失，而且所有数据都是按照其发送顺序进行交付。</li><li>用<strong>rdt</strong>表示可靠数据传输。</li><li>用<strong>udp</strong>标识不可靠数据传输。</li></ul> 
<h3><a id="341__74"></a>3.4.1 构造可靠传输协议</h3> 
<p>参考<a href="https://blog.csdn.net/hjl_heart/article/details/88218012">可靠传输协议…</a></p> 
<h4><a id="1rdt_10_76"></a>1.经完全可靠信道的可靠数据传输：rdt 1.0</h4> 
<p><img src="https://images2.imgbox.com/f3/f7/f8F5zKXU_o.png" alt="在这里插入图片描述"></p> 
<ul><li>rdt的发送端通过rdt_send(data)事件来接受较高层的数据，产生一个包含该数据的分组packet（通过make_pkt(data)），并将该分组发送到信道上去。</li><li>在接收端，rdt通过rdt_rcv(packet)事件从底层信道接收一个分组，并从分组中抽取收据（通过extract（packet，data）动作），并将数据上传给较高层（通过deliver_data(data)）动作。</li><li>由于<strong>信道完全可信</strong>，所以直接发送数据，而不需要任何反馈。</li></ul> 
<hr> 
<h4><a id="2rdt_20_83"></a>2.经具有比特差错信道的可靠数据传输：rdt 2.0</h4> 
<ul><li>rdt2.0在rdt1.0的基础上解决了比特位翻转的问题</li><li>底层信道实际上可能会在分组中出现比特受损。</li><li>在计算机网络中，基于重传机制的可靠数据传输协议称为<strong>自动重传请求</strong>（Automatic Repeat reQuest,ARQ）协议。</li></ul> 
<p>ARQ还需要另外三种协议功能来处理比特差错：</p> 
<ul><li><strong>差错检测</strong></li><li><strong>接收方反馈</strong>：比如用0标识<strong>NAK（否定确认）</strong> 和用1表示<strong>ACK（肯定确认）</strong></li><li><strong>重传</strong></li></ul> 
<p><img src="https://images2.imgbox.com/ca/ce/XQcFTXqb_o.png" alt="在这里插入图片描述"><br> 但是rdt2.0有着一个致命的缺点，只考虑了发送方到接收方的数据传输，如果反馈信息ACK，NAK传输时发生比特位翻转会出现什么情况？如果ACK发生翻转，那么发送方会再次重复的发送相同的数据包；如果NAK发生翻转，那么发送方会认为数据传输情况很好，但是接收方却已经收到了一个错误的数据包。（<strong>因为ACK可能会错误，因此多了两个状态</strong>）</p> 
<p>由此rdt2.1应运而生，在rdt2.0的基础之上，发送方在打包数据包时添加了0或者1编号，同样ACK,NAK字段上也添加了0，1字段，表示0.1号字段的确认或者否定。发送方就有了2种状态发送0号数据包，1号数据包，接收方也有了2种状态等待0号数据包和等待1号数据包。现在假设情景发送方向接收方发送0号数据包，如果接收方接收到0号数据包，返回ACK，但是ACK出现翻转，接收方处于等待1号数据状态，发送方重复发送0号数据，接收方会拒绝0号数据，避免重复。如果接收方接收到0号数据包出现错误，返回NAK，但是NAK出现翻转，接收方处于等待0号数据状态，发送方继续发送1号数据，接收方会拒绝1号数据，避免错序。<br> <img src="https://images2.imgbox.com/2b/9f/7ZN1KF2a_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/7e/be/HlPvnW4U_o.png" alt="在这里插入图片描述"></p> 
<p>rdt2.2是在rdt2.1上的基础之上做了小小的改善，摒弃了NAK，只需采用ACK。我们在ACK的信息上加上了期望的顺序号，现在假设情景发送方向接收方发送0号数据包，如果接收方接收到0号数据包，返回（ACK，1），发送方接着发送1号数据包。如果接收方接收到0号数据包出现错误，返回（ACK，0），发送方重传0号数据包。</p> 
<p><img src="https://images2.imgbox.com/18/0a/LPpcdjjc_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/74/e3/9sldGAYC_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h4><a id="3rdt_30_107"></a>3.经具有比特差错的丢包信道的可靠数据传输：rdt 3.0</h4> 
<ul><li>基于rdt2.2中的技术（检验和、序号、ACK分组和重传等）需要增加一种新的协议解决丢包问题。</li><li>为了实现基于时间的重传机制，需要一个<strong>倒计数定时器</strong>（countdown timer），在一个给定的时间过后，可中断发送方。因此需要做到 
  <ul><li>每发送一个分组时，启动一个定时器。</li><li>响应定时器中断。</li><li>终止定时器。</li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/49/6d/EA0i7kIt_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/e5/bc/q9CoNwWM_o.png" alt="-"></p> 
<hr> 
<h3><a id="342__119"></a>3.4.2 流水线可靠数据传输协议</h3> 
<p><img src="https://images2.imgbox.com/22/7e/juANh9sU_o.png" alt="在这里插入图片描述"></p> 
<p><strong>流水线</strong>（pipelining）技术可能给可靠传输协议带来如下影响：</p> 
<ul><li>必须增加序号范围：每个分组都有唯一的序号，</li><li>接收方和发送方可能需要缓存多个分组。</li><li>解决流水线的差错恢复的两种基本方法：<strong>回退N步</strong>（Go-Back-N，GBN）和<strong>选择重传</strong>（Selectinve Repeat，SR）。</li></ul> 
<hr> 
<h3><a id="343_N_128"></a>3.4.3 回退N步</h3> 
<p>在回退N步中，允许发送方发送多个分组而不需等待确认。最大允许数为<strong>N</strong>。<strong>N</strong>常被称为<strong>窗口长度</strong>（window size），GBN协议也常被称为<strong>滑动窗口协议</strong>。</p> 
<ul><li><strong>基序号</strong>（base）：为最早的未确认分组的序号。</li><li><strong>下一序号</strong>（nextseqnum）：为最小的未使用的序号<br> <img src="https://images2.imgbox.com/69/13/ioq0R283_o.png" alt="在这里插入图片描述"></li></ul> 
<p>GBN发送方必须相应三种类型的事件：</p> 
<ul><li>上层的调用：当上层调用rdt_send()时，要检测发送窗口是否已满。如果未满，产生一个分组发送。如果满了，返回数据给上层，然后上层可能过一会儿再试。</li><li>收到一个ACK。在GBN协议中，对序号为n的分组的确认采取<strong>累积确认</strong>（cumulative acknowledgment）的方式，表明接收方已正确收到序号为n的以前且包括n在内的所有分组。</li><li>超时时间。如果出现超时，发送方重传所有已发送但还未被确认的分组。</li></ul> 
<p>GNB接收方则按序接受分组，其他情况则丢弃该分组。<br> <img src="https://images2.imgbox.com/fb/cc/d5yii5jC_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h3><a id="344__144"></a>3.4.4 选择重传</h3> 
<ul><li>在GBN中，单个分组的差错能够引起GBN重传大量分组。</li><li>选择重传（SR）协议通过让发送方仅重传那些它怀疑在接收方出错的分组而避免不必要的重传。<br> <img src="https://images2.imgbox.com/38/9b/CUYjvDsr_o.png" alt="在这里插入图片描述"></li></ul> 
<h3><a id="_148"></a>可靠传输机制及其用途的总结</h3> 
<table><thead><tr><th>机制</th><th>用途和说明</th></tr></thead><tbody><tr><td>检验和</td><td>用于检测一个传输分组中的比特错误</td></tr><tr><td>定时器</td><td>用于超时/重传一个分组</td></tr><tr><td>序号</td><td>用于对从发送方流向接收方的数据分组按顺序编号，可以让接收方检测出丢失或冗余的分组</td></tr><tr><td>确认</td><td>接受方用于告诉发送方一个分组或一组分组已被正确地接收到了</td></tr><tr><td>否定确认</td><td>接收方告诉发送方某个分组未被正常地接收，通常带着该分组的序号</td></tr><tr><td>窗口、流水线</td><td>将发送方发送数据报范围限定在一个范围内的分组，流水线用来增加发送方信道利用率</td></tr></tbody></table> 
<hr> 
<h2><a id="35_TCP_159"></a>3.5 面向连接的运输：TCP</h2> 
<h3><a id="351_TCP_160"></a>3.5.1 TCP连接</h3> 
<ul><li>TCP是<strong>面向连接的</strong>（connection-oriented）</li><li>TCP连接提供的是<strong>全双工服务</strong>（full-duplex service）：即通信双发都可以收发信息。</li><li>TCP连接是<strong>点对点</strong>（point-to-point）的，所谓多播在TCP中是不可能的。</li><li>TCP会将数据引导到该连接的<strong>TCP缓存</strong>（sender buffer）里，之后就会时不时地从缓存中取一块数据发送。</li><li>TCP可以从发送缓存取出并放入报文段中的数据数量受限于<strong>最大报文长度</strong>（Maximum Segment Size，MSS）。MSS根据本地主机发送的最大链路层帧长度（即<strong>最大传输单元</strong>（Maximum Transmission Unit，MTU））设置。<br> <img src="https://images2.imgbox.com/de/84/5xgAAbkj_o.png" alt="在这里插入图片描述"></li></ul> 
<hr> 
<h3><a id="352_TCP_168"></a>3.5.2 TCP报文结构</h3> 
<p><img src="https://images2.imgbox.com/ef/df/rqYxdyTx_o.png" alt="在这里插入图片描述"><br> 除了<strong>源端口</strong>和<strong>目的端口</strong>，TCP首部也包含<strong>检验和字段</strong>（checksum field）。</p> 
<ul><li>32比特的<strong>序号字段</strong>（sequence number field）和32比特的<strong>确认号字段</strong>（acknowledgment number field）。用来进行可靠数据传输服务。序号是对应报文段首字节的<strong>字节流编号</strong>。确认号即为当前累计已收到的数据报首字节序号+长度+1（比如收到一个0 ~ 535和一个900 ~ 1000的包，返回的序号是536）。</li><li>16比特的<strong>接收窗口字段</strong>（receive window field），该字段用于流量控制，指示接收方愿意接受的字节数量。</li><li>4比特的<strong>首部长度字段</strong>（header length field），该字段指示了以32比特的字为单位的TCP首部长度。</li><li>可选与边长的<strong>选项字段</strong>（options field），该字段用于发送方与接收方协商最大报文长度（MSS）时，或在高速网络环境下作窗口调节因子时使用。</li><li>6比特的<strong>标志</strong>字段（flag field）。<strong>ACK</strong>比特用于指示确认字段中的值是有效的。<strong>RST、SYN和FIN</strong>比特用于连接建立和拆除。当<strong>PSH</strong>比特被设置的时候，就指示接收方应立即将数据交给上层。最后<strong>URG</strong>用来指示报文段里存在着被发送端的上层实体设置为 <strong>“紧急”</strong> 的数据，紧急数据的最后一个字节由16比特的<strong>紧急数据指针字段</strong>指出。</li></ul> 
<hr> 
<h3><a id="353__179"></a>3.5.3 往返时间的估计与超时</h3> 
<p>TCP采用<strong>超时/重传</strong>机制来处理报文段的丢失问题。因此超时间隔必须大于该连接的<strong>往返时间</strong>（RTT）。</p> 
<h4><a id="1_182"></a>1.估计往返时间</h4> 
<ul><li> <p>TCP使用样本估计往返时间。报文段的样本RTT（表示为SampleRTT）就是从某报文段被发出到对该报文段的确认被收到之间的时间两。</p> </li><li> <p>TCP维持一个SampleRTT均值（称为EstimatedRTT）来对抗路由器的拥塞和端系统负载的变化。<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            E 
           
          
            s 
           
          
            t 
           
          
            i 
           
          
            m 
           
          
            a 
           
          
            t 
           
          
            e 
           
          
            d 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            = 
           
          
            ( 
           
          
            1 
           
          
            − 
           
          
            α 
           
          
            ） 
           
          
            ⋅ 
           
          
            E 
           
          
            s 
           
          
            t 
           
          
            i 
           
          
            m 
           
          
            a 
           
          
            t 
           
          
            e 
           
          
            d 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            + 
           
          
            α 
           
          
            S 
           
          
            a 
           
          
            m 
           
          
            p 
           
          
            l 
           
          
            e 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
         
           EstimatedRTT = (1-\alpha ）\cdot EstimatedRTT + \alpha SampleRTT 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.44445em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.0037em;">α</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.77777em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.0037em;">α</span><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span></span></span></span></span></span><br> 这种平均通常为称为<strong>指数加权移动平均</strong>（Exponential Weighted Moving Average，EWMA）。在这里<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           α 
          
         
        
          \alpha 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.0037em;">α</span></span></span></span></span>的建议值为0.125。</p> </li><li> <p>除了估算RTT，测量RTT的变化也是有价值的，RTT变差DecRTT如下，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           β 
          
         
        
          \beta 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05278em;">β</span></span></span></span></span>的推荐值为0.25。<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
        
         
          
          
            D 
           
          
            e 
           
          
            v 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            = 
           
          
            ( 
           
          
            1 
           
          
            − 
           
          
            β 
           
          
            ） 
           
          
            ⋅ 
           
          
            D 
           
          
            e 
           
          
            v 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            + 
           
          
            β 
           
          
            ⋅ 
           
          
            ∣ 
           
          
            S 
           
          
            a 
           
          
            m 
           
          
            p 
           
          
            l 
           
          
            e 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            − 
           
          
            E 
           
          
            s 
           
          
            t 
           
          
            i 
           
          
            m 
           
          
            a 
           
          
            t 
           
          
            e 
           
          
            d 
           
          
            R 
           
          
            T 
           
          
            T 
           
          
            ∣ 
           
          
         
           DevRTT = (1-\beta）\cdot DevRTT + \beta \cdot |SampleRTT - EstimatedRTT| 
          
         
       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05278em;">β</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05278em;">β</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="mord mathdefault">a</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord">∣</span></span></span></span></span></span></p> </li></ul> 
<h4><a id="2_190"></a>2.设置和管理重传超时间隔</h4> 
<ul><li>超时间隔TimeoutInterval为</li></ul> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          T 
         
        
          i 
         
        
          m 
         
        
          e 
         
        
          o 
         
        
          u 
         
        
          t 
         
        
          I 
         
        
          n 
         
        
          t 
         
        
          e 
         
        
          r 
         
        
          v 
         
        
          a 
         
        
          l 
         
        
          = 
         
        
          E 
         
        
          s 
         
        
          t 
         
        
          i 
         
        
          m 
         
        
          a 
         
        
          t 
         
        
          e 
         
        
          d 
         
        
          R 
         
        
          T 
         
        
          T 
         
        
          + 
         
        
          4 
         
        
          ⋅ 
         
        
          D 
         
        
          e 
         
        
          v 
         
        
          R 
         
        
          T 
         
        
          T 
         
        
       
         TimeoutInterval = EstimatedRTT+4\cdot DevRTT 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.69444em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">o</span><span class="mord mathdefault">u</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right: 0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault">a</span><span class="mord mathdefault" style="margin-right: 0.01968em;">l</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.77777em; vertical-align: -0.08333em;"></span><span class="mord mathdefault" style="margin-right: 0.05764em;">E</span><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">e</span><span class="mord mathdefault">d</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">D</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right: 0.03588em;">v</span><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></p> 
<hr> 
<h3><a id="354__196"></a>3.5.4 可靠数据传输</h3> 
<ul><li> <p>TCP在IP不可靠的尽力而为的服务之上创建了一种<strong>可靠数据传输服务</strong>（reliable data transfer service）。确保一个进程从其接受缓存中读出的数据流是无损坏、无间隔、非冗余、按序的数据流。</p> </li><li> <p>TCP有三个与发送和重传有关的重要事件：</p> 
  <ul><li><strong>从上层应用程序接收数据</strong>：一旦接收到数据，TCP将数据封装到一个报文中，并交给IP。</li><li><strong>超时</strong>：TCP通过重传引起超时的报文来相应超时时间，并重启定时器。</li><li><strong>收到ACK</strong>：TCP会将收到的ACK与它的SendBase（最早未被确认的字节序号）进行比较，并作出相应的动作。</li></ul> </li><li> <p>TCP每次重传都会将下一次的超时间隔TimeoutInterval设置为之前的两倍，而不是之前有均值和偏差所求的公式.</p> </li><li> <p>TCP使用<strong>冗余ACK</strong>（duplicate ACK）就是再次确认某个报文段的ACK，而发送方先前已经收到对该报文段的确认，但是后续的数据可能丢失，因此要再次发送。</p> </li><li> <p>TCP的差错恢复机制是回退N步GBN和选择重传SR的混合体。</p> </li></ul> 
<hr> 
<h3><a id="355__209"></a>3.5.5 流量控制</h3> 
<ul><li>由于接收方并不一定马上从TCP缓存读取数据，而接收方如果一直发数据，会造成接收缓存溢出。</li><li>TCP为它的应用程序提供了<strong>流量控制</strong>服务（flow-control service）以消除缓存溢出的可能性。</li><li>TCP通过让<strong>发送方</strong>维护一个称为<strong>接收窗口</strong>（congestion control）的变量来提供流量控制，指明接收方还有多少可用的缓存空间。由于TCP是全双工通信的，连接双方的都各自维护一个接收窗口。</li><li>当接收窗口值为0时，发送方仍会发送一个只有一字节的报文段，最终会被接收方确认，最终缓存将开始清空，并且返回一个非0的接收窗口值。</li></ul> 
<hr> 
<h3><a id="356_TCP_216"></a>3.5.6 三次握手，四次挥手-TCP连接管理</h3> 
<ul><li><strong>第一步</strong>：客户端的TCP首先向服务器端的TCP发送一个特殊的TCP报文段，该报文段不包含应用层的数据，在首部中的标志位<strong>SYN</strong>置为1，并随机的选择一个初始序号（client_isn）作为报文段中的<strong>序号字段</strong>。</li><li><strong>第二步</strong>：该报文段到达服务器端，服务器为该TCP连接分配TCP缓存和变量，并向客户TCP发送允许连接的报文段。在该报文段中，<strong>SYN</strong>置为1，<strong>确认号字段</strong>被置为client_isn+1，服务器选择自己的初始序列号server_isn作为<strong>序号字段</strong>。</li><li><strong>第三步</strong>：客户端收到<strong>SYNACK报文段</strong>后，客户端也要为该连接分配缓存和变量，可以开始发送数据，<strong>SYN</strong>置为0，<strong>确认号字段</strong>为server_isn+1，<strong>序号字段</strong>为client_isn+1。<br> -<img src="https://images2.imgbox.com/27/3a/VZqccH4V_o.png" alt="在这里插入图片描述"></li></ul> 
<p>四次挥手使用<strong>FIN</strong>字段，如下所示：<br> <img src="https://images2.imgbox.com/ef/89/hzf4kl6w_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="36__226"></a>3.6 拥塞控制原理</h2> 
<h3><a id="361__227"></a>3.6.1 拥塞原因与代价</h3> 
<ul><li>排队时延</li><li>丢包重传</li><li>未丢包重传（冗余分组）</li><li>…</li></ul> 
<hr> 
<h3><a id="362__234"></a>3.6.2 拥塞控制方法</h3> 
<ul><li><strong>端到端拥塞控制</strong> ：即使网络中存在拥塞，端系统也必须通过对网络行为的观察（如分组丢失与时延）来推断网络是否存在拥塞。网络层没有为运输层拥塞控制提供显示支持。</li><li><strong>网络辅助的拥塞控制</strong>：网络层构件（即路由器）向发送方提供关于网络中拥塞状态的显示反馈信息。这种反馈可以简单的用一个比特来表示。 
  <ul><li>网络辅助的拥塞控制又分为两种</li><li>1.由网络路由器发给发送方。</li><li>2.路由器标记或更新从发送方流向接收方的分组中的某个字段来指示拥塞的产生。</li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/62/14/LDari0gV_o.png" alt="在这里插入图片描述"></p> 
<hr> 
<h2><a id="37_TCP_245"></a>3.7 TCP拥塞控制</h2> 
<ul><li> <p>TCP使用端到端拥塞控制。</p> </li><li> <p><strong>【问题1】</strong> 一个TCP发送方如何限制它向其连接发送流量的速率。</p> 
  <ul><li>通过调节拥塞窗口cwnd的值。（cwnd是<strong>拥塞窗口</strong>（congestion window）是接收方TCP缓存剩余的空间，rwnd是滑动窗口，是发送方发送数据用于回退N步和选择重传的那个窗口。）</li></ul> </li><li> <p><strong>【问题2】</strong> 一个TCP发送方如何感知网络中存在拥塞呢。</p> 
  <ul><li>将 <strong>“丢包事件“</strong> 定义为要么出现超时，要么收到三个冗余的ACK。</li><li>出现丢包事件，发送方就认为路径上出现了拥塞的指示。</li></ul> </li><li> <p><strong>【问题3】</strong> 当发送方感知到端到端的拥塞时，用何种算法改变其发送速率呢？</p> 
  <ul><li><strong>TCP拥塞控制算法（TCP congestion control algorithm）</strong></li><li>TCP拥塞控制算法包括以下三个部分。其中慢启动和拥塞避免的差异在增加cwnd的长度上。快速回复是推荐部分。并维护一个阈值<strong>threshold</strong>，当窗口小于阈值时使用慢启动，大于阈值时使用拥塞避免。</li><li><strong>（1）慢启动</strong><br> 在<strong>慢启动（slow-start）</strong> 状态中，cwnd的值以1个MSS（最大报文长度）开始并且每当传输的报文段首次被确认就增加1个MSS。（其实等于2的指示倍增，因为上次新增的MSS，下一次确认会带来两个MSS的增加）。直到遇到拥塞，cwnd可以从1开始，也可以变为遇到拥塞时的一半。</li><li><strong>（2）拥塞避免</strong><br> 一旦进入拥塞避免状态，cwnd的值大于是上次遇到拥塞时的值的一半。方法是无论何时到达一个新的确认，就将cwnd增加一个MSS/cwnd字节。</li><li><strong>（3）快速恢复</strong> 
    <ul><li>对于收到冗余的ACK，cwnd增加一个MSS。</li><li>当对丢失报文段的三个个ACK到达时，TCP降低cwnd后进入拥塞避免（阈值和cwnd降为一半）。</li><li>当出现超时时，进行如同拥塞避免和慢启动的动作后进入慢启动状态。（阈值降低为拥塞时的一半，窗口大小从1个MSS开始）</li></ul> </li></ul> </li><li> <p>对TCP<strong>吞吐量</strong>的宏观描述</p> </li></ul> 
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          一 
         
        
          条 
         
        
          连 
         
        
          接 
         
        
          的 
         
        
          平 
         
        
          均 
         
        
          吞 
         
        
          吐 
         
        
          量 
         
        
          = 
         
         
          
          
            0.75 
           
          
            × 
           
          
            W 
           
          
          
          
            R 
           
          
            T 
           
          
            T 
           
          
         
        
       
         一条连接的平均吞吐量 = \frac{0.75\times W}{RTT} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">条</span><span class="mord cjk_fallback">连</span><span class="mord cjk_fallback">接</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">平</span><span class="mord cjk_fallback">均</span><span class="mord cjk_fallback">吞</span><span class="mord cjk_fallback">吐</span><span class="mord cjk_fallback">量</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.04633em; vertical-align: -0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.36033em;"><span class="" style="top: -2.314em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mord">5</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">W</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.686em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span><br> 其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         W 
        
       
      
        W 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathdefault" style="margin-right: 0.13889em;">W</span></span></span></span></span>为出现丢包时拥塞窗口的大小。</p> 
<ul><li>经高带宽路径的TCP包含丢包率的公式：<br> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
       
        
         
         
           一 
          
         
           条 
          
         
           连 
          
         
           接 
          
         
           的 
          
         
           平 
          
         
           均 
          
         
           吞 
          
         
           吐 
          
         
           量 
          
         
           = 
          
          
           
           
             1.22 
            
           
             × 
            
           
             M 
            
           
             S 
            
           
             S 
            
           
           
           
             R 
            
           
             T 
            
           
             T 
            
            
            
              L 
             
            
           
          
         
        
          一条连接的平均吞吐量 = \frac{1.22\times MSS}{RTT\sqrt{L}} 
         
        
      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.36687em; vertical-align: 0em;"></span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">条</span><span class="mord cjk_fallback">连</span><span class="mord cjk_fallback">接</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">平</span><span class="mord cjk_fallback">均</span><span class="mord cjk_fallback">吞</span><span class="mord cjk_fallback">吐</span><span class="mord cjk_fallback">量</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 2.29033em; vertical-align: -0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.36033em;"><span class="" style="top: -2.18333em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.00773em;">R</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord mathdefault" style="margin-right: 0.13889em;">T</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.926665em;"><span class="svg-align" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class="mord" style="padding-left: 0.833em;"><span class="mord mathdefault">L</span></span></span><span class="" style="top: -2.88666em;"><span class="pstrut" style="height: 3em;"></span><span class="hide-tail" style="min-width: 0.853em; height: 1.08em;"> 
                    <svg width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"> 
                     <path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,
-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,
-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,
35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,
-221c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467
s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422
s-65,47,-65,47z M834 80H400000v40H845z"></path> 
                    </svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.113335em;"><span class=""></span></span></span></span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.677em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">.</span><span class="mord">2</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span><span class="mord mathdefault" style="margin-right: 0.05764em;">S</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.93em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/7a0a4eaa95e04c176c046883d6cd4998/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">unbutu 18.04 循环登录报错</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/11e88bc8c4e2a2719265ac175ddc54d7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Vue 中的过滤器</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>