<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>vue.config.js中的devServer - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="vue.config.js中的devServer" />
<meta property="og:description" content="真能扯啊。
按照我的经历，我认为学习vue一个障碍和困难，是不容易了解它整个项目结构。*.vue本身的内容较容易掌握，但更大的方面，比如它整个项目的运行机制，路由，配置，就比较讳莫如深了。资料很少，说的人也是不知从哪里抄的，没有说清楚。对于像我这样普通的开发者来说，让我不用啥框架，直接用空白项目捣鼓出一个看得过去的前端，我会感到困难重重，这也不知，那也不懂，无从下手。这其中，就包括这个vue.config.js。
vue.config.js，就是vue项目的配置文件咯。一度传闻vue3创建项目时，默认是不提供这个文件，要用的话只能自己手动创建。但一旦创建，vue又会自动地优先使用其中的配置。这给人一种很扯的感觉。不过，不久前我创建vue3项目，里面是有vue.config.js的。其实，vue也没有什么好神秘的，它就是一个巨大的语法糖，或者解释器。虽然它创建了这样那样的书写结构，但最终是要编译成原始的js。你看vue3的语法，我感觉并不比vue2更高明，反而有种累赘和啰嗦的感觉，估计VUE4还要来个大改，折腾不止，至死方休。
说回vue.config.js。vue.config.js里面，同样有许多神秘的咒语。不过后来逐渐有了一些发现。下面这段代码就摘自我们之前一个vue项目的vue.config.js。
module.exports = { devServer: { port: 8090, // 端口号，如果端口号被占用，会自动加1 host: &#39;0.0.0.0&#39;,// 主机名， 127.0.0.1， 真机 0.0.0.0 https: false, //协议 open: false, //启动服务时自动打开浏览器访问 disableHostCheck: true, proxy: { &#39;/api&#39;:{ target:PROXY_API_BASE_URL, pathRewrite:{ &#34;^/api&#34;:&#34;&#34; } }, &#39;/webapps&#39;:{ target:PROXY_BASE_URL, pathRewrite:{ &#34;^/webapps&#34;:&#34;/webapps&#34; } }, &#39;/javapubzy&#39;:{ target:PROXY_BASE_URL, pathRewrite:{ &#34;^/javapubzy&#34;:&#34;/javapubzy&#34; } }, &#39;/arcgis&#39;:{ target:PROXY_BASE_URL, pathRewrite:{ &#34;^/arcgis&#34;:&#34;/arcgis&#34; } } } }, 。。。 } 代码中，devServer算是系统的保留字，用来配置我们的开发环境，从名字也能看出来。所以，别看它里面写了这么多，又是端口，又是代理，让人一看就头大，其实只是用于我们本机开发和调试。一旦发布和打包，就与它无关了。我们将发布包部署到nginx，端口和转发，就遵循nginx的设置：
http { include mime.types; default_type application/octet-stream;	sendfile on; server { listen 8081; server_name 192." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/1903520d821bb394100e655f4d21d195/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-10T16:45:28+08:00" />
<meta property="article:modified_time" content="2023-05-10T16:45:28+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">vue.config.js中的devServer</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><em>真能扯啊。</em></p> 
<p>按照我的经历，我认为学习vue一个障碍和困难，是不容易了解它整个项目结构。*.vue本身的内容较容易掌握，但更大的方面，比如它整个项目的运行机制，路由，配置，就比较讳莫如深了。资料很少，说的人也是不知从哪里抄的，没有说清楚。对于像我这样普通的开发者来说，让我不用啥框架，直接用空白项目捣鼓出一个看得过去的前端，我会感到困难重重，这也不知，那也不懂，无从下手。这其中，就包括这个vue.config.js。</p> 
<p>vue.config.js，就是vue项目的配置文件咯。一度传闻vue3创建项目时，默认是不提供这个文件，要用的话只能自己手动创建。但一旦创建，vue又会自动地优先使用其中的配置。这给人一种很扯的感觉。不过，不久前我创建vue3项目，里面是有vue.config.js的。其实，vue也没有什么好神秘的，它就是一个巨大的语法糖，或者解释器。虽然它创建了这样那样的书写结构，但最终是要编译成原始的js。你看vue3的语法，我感觉并不比vue2更高明，反而有种累赘和啰嗦的感觉，估计VUE4还要来个大改，折腾不止，至死方休。</p> 
<p>说回vue.config.js。vue.config.js里面，同样有许多神秘的咒语。不过后来逐渐有了一些发现。下面这段代码就摘自我们之前一个vue项目的vue.config.js。</p> 
<pre><code class="prism language-yaml">module.exports = <span class="token punctuation">{<!-- --></span>
  <span class="token key atrule">devServer</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8090</span><span class="token punctuation">,</span> // 端口号，如果端口号被占用，会自动加1
    <span class="token key atrule">host</span><span class="token punctuation">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>// 主机名， 127.0.0.1，  真机 0.0.0.0
    <span class="token key atrule">https</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token punctuation">,</span> //协议
    <span class="token key atrule">open</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span class="token punctuation">,</span> //启动服务时自动打开浏览器访问
    <span class="token key atrule">disableHostCheck</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span class="token punctuation">,</span>
    <span class="token key atrule">proxy</span><span class="token punctuation">:</span> <span class="token punctuation">{<!-- --></span>
      '/api'<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
        target<span class="token punctuation">:</span>PROXY_API_BASE_URL<span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
          "^/api"<span class="token punctuation">:</span><span class="token string">""</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      '/webapps'<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
        target<span class="token punctuation">:</span>PROXY_BASE_URL<span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
          "^/webapps"<span class="token punctuation">:</span><span class="token string">"/webapps"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      '/javapubzy'<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
        target<span class="token punctuation">:</span>PROXY_BASE_URL<span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
          "^/javapubzy"<span class="token punctuation">:</span><span class="token string">"/javapubzy"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      '/arcgis'<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
        target<span class="token punctuation">:</span>PROXY_BASE_URL<span class="token punctuation">,</span>
        pathRewrite<span class="token punctuation">:</span><span class="token punctuation">{<!-- --></span>
          "^/arcgis"<span class="token punctuation">:</span><span class="token string">"/arcgis"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  。。。
<span class="token punctuation">}</span>
</code></pre> 
<p>代码中，devServer算是系统的保留字，用来配置我们的开发环境，从名字也能看出来。所以，别看它里面写了这么多，又是端口，又是代理，让人一看就头大，其实只是用于我们本机开发和调试。一旦发布和打包，就与它无关了。我们将发布包部署到nginx，端口和转发，就遵循nginx的设置：</p> 
<pre><code class="prism language-js">http <span class="token punctuation">{<!-- --></span>
    include       mime<span class="token punctuation">.</span>types<span class="token punctuation">;</span>
    default_type  application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>	
    sendfile        on<span class="token punctuation">;</span>

	server <span class="token punctuation">{<!-- --></span>
	    listen       <span class="token number">8081</span><span class="token punctuation">;</span>
        server_name  <span class="token number">192.168</span><span class="token number">.10</span><span class="token number">.8</span><span class="token punctuation">;</span>

		location <span class="token operator">/</span> <span class="token punctuation">{<!-- --></span>
			root   <span class="token constant">E</span><span class="token operator">:</span><span class="token operator">/</span>code<span class="token operator">/</span>web<span class="token operator">/</span>dist<span class="token punctuation">;</span>		
			index  index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
			try_files $uri $uri<span class="token operator">/</span> <span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		location <span class="token operator">/</span>api<span class="token operator">/</span> <span class="token punctuation">{<!-- --></span>
			proxy_pass http<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">192.168.10.9:8090</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>#必须斜杠<span class="token operator">/</span>结尾
			proxy_set_header   <span class="token constant">X</span><span class="token operator">-</span>Forwarded<span class="token operator">-</span>Proto $scheme<span class="token punctuation">;</span>
			proxy_set_header   Host              $http_host<span class="token punctuation">;</span>
			proxy_set_header   <span class="token constant">X</span><span class="token operator">-</span>Real<span class="token operator">-</span><span class="token constant">IP</span>         $remote_addr<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

        error_page   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span>50x<span class="token punctuation">.</span>html<span class="token punctuation">;</span>
        location <span class="token operator">=</span> <span class="token operator">/</span>50x<span class="token punctuation">.</span>html <span class="token punctuation">{<!-- --></span>
            root   html<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>咦，孰为汝多知乎。</p> 
<p><img src="https://images2.imgbox.com/23/1a/Y4f2m5zi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/3f/cc/Q5dgwrDJ_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/841281b153dd6db84f1183e887095338/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">GraphHopper调研笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6e440236b889cb1cff46d37b16c49135/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Qt实现MySQL数据库备份小工具</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>