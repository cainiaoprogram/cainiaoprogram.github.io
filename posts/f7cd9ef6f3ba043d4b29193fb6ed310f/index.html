<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>CSK6环境搭建 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="CSK6环境搭建" />
<meta property="og:description" content="前期准备 开发板测试 （1）根据这个视频教程来进行测试：示例工程快速上手
Ubuntu环境搭建 （1）聆思官方推荐使用Linux开发，因此我于是采用VMware搭建Ubuntu的方式进行开发。不清楚Ubuntu搭建的请看：VMware虚拟机安装Ubuntu20.04详细图文教程
（1）注意点：尽量直接在Ubuntu中进行操作，不要使用MobaXterm这种终端工具。因为测试发现，一些操作在终端工具里面会执行不成功，但是在Ubuntu中又可以。具体原因不清楚
VScode安装 （1）聆思官方在VScode中做了一些插件配置，因此推荐使用VScode和插件组合使用，这样降低开发难度。在Ubuntu20.04中安装VScode教程请看：Ubuntu20.04下安装VSCode（配置C/C&#43;&#43;开发环境）
CSK6环境搭建 环境安装 （1）为了保证软件源的时效性，先执行如下指令
sudo apt update sudo apt upgrade （2）安装依赖文件，lisa zep 工具，并初始化 CSK6 SDK 所需的开发环境。最终，该命令会在 ~/.listenai 目录下，安装 CSK6 的集成开发环境以及 CSK SDK 的拉取，执行完毕后开发者能快速进行 CSK6 的应用开发。
sudo apt install --no-install-recommends git wget wget -qO- https://cdn.iflyos.cn/public/cskTools/lisa-zephyr-install.sh | bash （3）测试系统环境，如果提示有版本更新，就输入y。
lisa info zephyr （4）最后再输入一次如下命令检测环境是否正常，如果与下图一致，表示环境正常。
lisa info zephyr （5）在本人测试过程中，发现执行检测环境的命令时，会出现如下报错，解决办法就是在Ubuntu中输入如下三条命令。
注意：如果使用MobaXterm此类终端工具执行如下命令，可能会出现错误，具体原因不明。
lisa info zep lisa zep use-env --clear lisa zep use-env csk6 VScode插件安装 （1）进入VScode的插件商城，搜索CSK。下载如下四个插件
（2）安装 Cortex Debug" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/f7cd9ef6f3ba043d4b29193fb6ed310f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-13T13:47:32+08:00" />
<meta property="article:modified_time" content="2023-12-13T13:47:32+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">CSK6环境搭建</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_1"></a>前期准备</h2> 
<h3><a id="_3"></a>开发板测试</h3> 
<blockquote> 
 <p>（1）根据这个视频教程来进行测试：<a href="https://docs2.listenai.com/x/1UpknZSqN" rel="nofollow">示例工程快速上手</a></p> 
</blockquote> 
<h3><a id="Ubuntu_5"></a>Ubuntu环境搭建</h3> 
<blockquote> 
 <p>（1）聆思官方推荐使用<code>Linux</code>开发，因此我于是采用VMware搭建Ubuntu的方式进行开发。不清楚Ubuntu搭建的请看：<a href="https://blog.csdn.net/weixin_41805734/article/details/120698714">VMware虚拟机安装Ubuntu20.04详细图文教程</a><br> （1）<mark>注意点：尽量直接在<code>Ubuntu</code>中进行操作，不要使用<code>MobaXterm</code>这种终端工具。因为测试发现，一些操作在终端工具里面会执行不成功，但是在<code>Ubuntu</code>中又可以。具体原因不清楚</mark></p> 
</blockquote> 
<h3><a id="VScode_9"></a>VScode安装</h3> 
<blockquote> 
 <p>（1）聆思官方在<code>VScode</code>中做了一些插件配置，因此推荐使用<code>VScode</code>和插件组合使用，这样降低开发难度。在<code>Ubuntu20.04</code>中安装<code>VScode</code>教程请看：<a href="https://blog.csdn.net/fangshuo_light/article/details/123635576">Ubuntu20.04下安装VSCode（配置C/C++开发环境）</a></p> 
</blockquote> 
<h2><a id="CSK6_11"></a>CSK6环境搭建</h2> 
<h3><a id="_12"></a>环境安装</h3> 
<blockquote> 
 <p>（1）为了保证软件源的时效性，先执行如下指令</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade
</code></pre> 
<p><img src="https://images2.imgbox.com/76/2b/Jht69gwy_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）安装依赖文件，<code>lisa zep</code> 工具，并初始化 <code>CSK6 SDK</code> 所需的开发环境。最终，该命令会在 <code>~/.listenai</code> 目录下，安装 <code>CSK6</code> 的集成开发环境以及 <code>CSK SDK</code> 的拉取，执行完毕后开发者能快速进行 <code>CSK6</code> 的应用开发。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> --no-install-recommends <span class="token function">git</span> <span class="token function">wget</span>
<span class="token function">wget</span> -qO- https://cdn.iflyos.cn/public/cskTools/lisa-zephyr-install.sh <span class="token operator">|</span> <span class="token function">bash</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/27/09/Z6MVStSZ_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（3）测试系统环境，如果提示有版本更新，就输入y。</p> 
</blockquote> 
<pre><code class="prism language-shell">lisa info zephyr
</code></pre> 
<p><img src="https://images2.imgbox.com/71/55/OE0Bgd8U_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（4）最后再输入一次如下命令检测环境是否正常，如果与下图一致，表示环境正常。</p> 
</blockquote> 
<pre><code class="prism language-shell">lisa info zephyr
</code></pre> 
<p><img src="https://images2.imgbox.com/0a/23/bdyr4GDV_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（5）在本人测试过程中，发现执行检测环境的命令时，会出现如下报错，解决办法就是在Ubuntu中输入如下三条命令。<br> <mark>注意：如果使用<code>MobaXterm</code>此类终端工具执行如下命令，可能会出现错误，具体原因不明。</mark></p> 
</blockquote> 
<pre><code class="prism language-shell"> lisa info zep
 lisa zep use-env <span class="token parameter variable">--clear</span>
 lisa zep use-env csk6
</code></pre> 
<p><img src="https://images2.imgbox.com/c3/cd/TAkoTDFs_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="VScode_51"></a>VScode插件安装</h3> 
<blockquote> 
 <p>（1）进入<code>VScode</code>的插件商城，搜索<code>CSK</code>。下载如下四个插件</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/85/fd/FvJbXa7v_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）安装 <code>Cortex Debug</code></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/25/47/YEHMbmRT_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）安装 <code>C/C++</code></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/4d/3a/9svv1XuF_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_63"></a>编译例程</h2> 
<h3><a id="_64"></a>例程编译</h3> 
<blockquote> 
 <p>（1）打开VScode，按照如下步骤创建一个例程。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e6/71/VEN78NFe_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）配置开发板信息</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/d1/0a/6C4HK5G2_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（3）编译<br> &lt;1&gt;</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2f/63/tX97axQR_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>&lt;2&gt;有可能会出现如下编译失败的问题，那么就需要先把<code>~/.listenai</code>文件夹删除，重新进行一次如上的环境搭建。</p> 
</blockquote> 
<pre><code class="prism language-c">rm <span class="token operator">-</span>rf <span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>listenai
</code></pre> 
<p><img src="https://images2.imgbox.com/a9/64/pMsoSsel_o.jpg" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（4）烧录程序<br> &lt;1&gt;确定USB是和虚拟机连接成功。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/de/74/2Bd8HErp_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>&lt;2&gt;烧录程序</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/2a/10/J2C7zBSQ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="USB_93"></a>USB权限不够</h3> 
<blockquote> 
 <p>（1）在烧录程序的时候，可能会遇到如下问题。出现一大堆这种黄色的标识符，表示USB设备的权限不够。记住下面我标注的两个部分</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/f0/cf/25SQvZKl_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）进入<code>/etc/udev/rules.d/99-myusb.rules</code>加入如下内容，在<code>ATTR{idVendor}==</code>后面加上<code>VID</code>的数字，在<code>ATTR{idProduct}==</code>后面加上<code>PID</code>的数字。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/udev/rules.d/99-myusb.rules
<span class="token comment"># 加入如下内容</span>
<span class="token assign-left variable">SUBSYSTEM</span><span class="token operator">==</span><span class="token string">"usb"</span>, ATTR<span class="token punctuation">{<!-- --></span>idVendor<span class="token punctuation">}</span><span class="token operator">==</span><span class="token string">"0d28"</span>, ATTR<span class="token punctuation">{<!-- --></span>idProduct<span class="token punctuation">}</span><span class="token operator">==</span><span class="token string">"0204"</span>, <span class="token assign-left variable">MODE</span><span class="token operator">=</span><span class="token string">"0666"</span>
</code></pre> 
<blockquote> 
 <p>（2）保存文件并退出编辑器。重新加载 udev 规则，之后就可以烧录程序了。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">sudo</span> udevadm control --reload-rules
<span class="token function">sudo</span> udevadm trigger
</code></pre> 
<h3><a id="_109"></a>测试结果</h3> 
<blockquote> 
 <p>（1）配置串口，波特率115200，8数据位，无校验位，1停止位</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/36/60/I3b1iaui_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）开发板和串口连接上之后，点击复位按键，串口端出现数据打印信息。</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/e5/7a/Usqksze2_o.jpg" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/16/7f/q669L0kR_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="DEMO_117"></a>官方DEMO烧录</h2> 
<blockquote> 
 <p>（1）<a href="https://docs2.listenai.com/x/1UpknZSqN" rel="nofollow">聆思官方手册</a>找到如下部分，下载bin文件。<br> <mark>一般购买来的开发板已经烧录好了官方DEMO。</mark></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/1d/ef/WB7oeoF6_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（2）下载好bin文件之后，找到下载路径，先执行如下命令查找对应的串口编号。</p> 
</blockquote> 
<pre><code class="prism language-shell"><span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">tty</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/0b/3d/h5NzE8uf_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>（3）找到下载好的bin文件，输入如下指令，<code>/dev/ttyACM0</code>修改为你本机的串口编号。</p> 
</blockquote> 
<pre><code class="prism language-shell">lisa zep <span class="token builtin class-name">exec</span> cskburn <span class="token parameter variable">-s</span> /dev/ttyACM0 <span class="token parameter variable">-C</span> <span class="token number">6</span> <span class="token parameter variable">-b</span> <span class="token number">1500000</span> 0x000000 zephyr.bin
</code></pre> 
<p><img src="https://images2.imgbox.com/b4/d6/G9SEMyUM_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_133"></a>参考</h2> 
<blockquote> 
 <p>（1）<a href="https://docs2.listenai.com/x/xfI6rkDCKmW" rel="nofollow">聆思文档中心：环境搭建</a><br> （2）<a href="https://www.bilibili.com/video/BV1dP4y167Yd" rel="nofollow">B站：CSK6配套开发工具使用教程</a><br> （3）<a href="https://blog.csdn.net/weixin_41805734/article/details/120698714">C站：VMware虚拟机安装Ubuntu20.04详细图文教程</a><br> （4）<a href="https://blog.csdn.net/fangshuo_light/article/details/123635576">C站：Ubuntu20.04下安装VSCode（配置C/C++开发环境）</a><br> （5）<a href="https://docs2.listenai.com/x/1UpknZSqN" rel="nofollow">聆思文档中心：示例工程快速上手</a></p> 
</blockquote>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f947d2177a42a3e38a3d40686d8d3f5b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">cron表达式详解，cron表达式写法，cron表达式例子</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/031798f8237a149b6a90bb1050f98f7c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Linux 服务器 cuda安装</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>