<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>[QT_021]VS_Qt 常见错误 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[QT_021]VS_Qt 常见错误" />
<meta property="og:description" content="本文转自:VS_Qt 常见错误（持续更新） - fengMisaka - 博客园
本文参考：详解讲解 Qt 编程过程中出现问题-51CTO.COM
VS&#43;QT需要获得.ui对应的ui_XXXX.h头文件的解决方法 解决办法：
（1）在 Qt5.11.2\5.11.2\mingw53_32\bin 目录下有对应的 uic.exe 用来生成 .ui 对应的 ui_XXXX.h 头文件，所以 cmd 进入 bin 目录，运行uic XXXX.ui ui_XXXX.h就可以生成。
（2）在 VS 下，右键 .ui 文件 -&gt; &#34;编译&#34;，就会生成对应的 ui_XXXX.h 头文件，但默认的 ui_XXX.h 输出目录是$(IntDir)\uic\%(RelativeDir)，在工程所在的 Debug\uic 目录下，而实际需要修改在自定义的 GeneratedFiles 目录下，右键 .ui 文件 -&gt; &#34;配置属性&#34; -&gt; “uic”，修改输出目录为GeneratedFiles\。
QT -1: error: [debug/qrc_images.cpp] 异常解决 运行报错：
-1: error: [debug/qrc_images.cpp] 解决办法：
右键 .qrc 文件，点击 open in editor 后出现的红色就是误删遗留下来的问题，删掉重新编译即可。
LINK : fatal error LNK1158: 无法运行“rc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/d1b9673db9c5dac976854493137cbd9e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-15T14:02:19+08:00" />
<meta property="article:modified_time" content="2023-05-15T14:02:19+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[QT_021]VS_Qt 常见错误</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>本文转自:<a href="https://www.cnblogs.com/linuxAndMcu/p/12365978.html" rel="nofollow" title="VS_Qt 常见错误（持续更新） - fengMisaka - 博客园">VS_Qt 常见错误（持续更新） - fengMisaka - 博客园</a></p> 
<p>本文参考：<a href="https://www.51cto.com/article/271783.html" rel="nofollow" title="详解讲解 Qt 编程过程中出现问题-51CTO.COM">详解讲解 Qt 编程过程中出现问题-51CTO.COM</a></p> 
<h3 id="vsqt需要获得ui对应的ui_xxxxh头文件的解决方法">VS+QT需要获得.ui对应的ui_XXXX.h头文件的解决方法</h3> 
<p><strong>解决办法：</strong></p> 
<p>（1）在 Qt5.11.2\5.11.2\mingw53_32\bin 目录下有对应的 uic.exe 用来生成 .ui 对应的 ui_XXXX.h 头文件，所以 cmd 进入 bin 目录，运行<code>uic XXXX.ui ui_XXXX.h</code>就可以生成。</p> 
<p>（2）在 VS 下，右键 .ui 文件 -&gt; "编译"，就会生成对应的 ui_XXXX.h 头文件，但默认的 ui_XXX.h 输出目录是<code>$(IntDir)\uic\%(RelativeDir)</code>，在工程所在的 Debug\uic 目录下，而实际需要修改在自定义的 GeneratedFiles 目录下，右键 .ui 文件 -&gt; "配置属性" -&gt; “uic”，修改输出目录为<code>GeneratedFiles\</code>。<a name="_label1"></a></p> 
<h3 id="qt--1-error-debugqrc_imagescpp-异常解决">QT -1: error: [debug/qrc_images.cpp] 异常解决</h3> 
<p>运行报错：</p> 
<pre><code>-1: error: [debug/qrc_images.cpp]
</code></pre> 
<p><strong>解决办法：</strong><br> 右键 .qrc 文件，点击 open in editor 后出现的红色就是误删遗留下来的问题，删掉重新编译即可。<a name="_label2"></a></p> 
<h3 id="link--fatal-error-lnk1158-无法运行rcexe">LINK : fatal error LNK1158: 无法运行“rc.exe”</h3> 
<p><strong>问题：</strong><br> 在用 VS2015 编译网上别人的源码时，出现了 LINK : fatal error LNK1158: 无法运行“rc.exe” 的问题。</p> 
<p><strong>解决方法：</strong><br> 打开 C:\Program Files (x86)\Windows Kits\10\bin\10.0.17763.0\x64 文件夹（找不到可以用 Everything 搜 "rc.exe"），复制里边的 “rc.exe” 和 "rcdll.dll"，拷贝到 VS2015 的 VC 下的 bin 目录下，我的是 E:\technology\VS 2015\VC\bin，重新 build 即成功。<br> （这个问题应该是最近对 VS 进行过修改，或者环境变量变了，其实将这个路径加到环境变量的 PATH 中去也是可以的）</p> 
<h3 id="undefined-reference-to-vtable-for问题的原因及解决方法">undefined reference to `vtable for’”问题的原因及解决方法</h3> 
<p><strong>原因：</strong></p> 
<p>Qt 中，类要支持信号与槽机制，需要继承自 QObject 并在头文件开头添加 Q_OBJECT 宏。<br> 如果使用 QtCreator 创建类时，没有选择继承自 QObject 类或其子类，而在创建后手工修改继承自 QObject 并手动添加 Q_OBJECT 宏，则在编译时有可能会出现 ”undefined reference to `vtable for’…….” 错误.</p> 
<p><strong>解决方法:</strong></p> 
<p>把新创建的类从项目中移除(主要不要从磁盘上删除)，然后再添加进来，QtCreator就会重新解析此类，再编译就不再会出现上述错误。<a name="_label4"></a></p> 
<h3 id="qt-creator提示无法用utf-8编码解码无法编辑">Qt Creator提示无法用“UTF-8”编码解码，无法编辑</h3> 
<p><strong>问题：</strong></p> 
<p>在 Qt Creator 里打开其他编辑器的代码时，有时会提示无法用 “UTF-8” 编码解码，无法编辑。</p> 
<p><strong>解决方法：</strong></p> 
<p>（1）找到源文件，在文件上右键使用 Notepad++ 编辑器打开，<strong>选择 ---&gt;</strong> <strong>“编码” ---&gt;“转为UTF-8编码”</strong>。</p> 
<p>（2）windows环境下，Qt Creator，菜单 -&gt; 工具 -&gt; 选项 -&gt; 文本编辑器 -&gt;行为 -&gt; 文件编码：默认编码：System（简体中文Windows系统默认指的是GBK编码，即下拉框选项里的GBK/windows-936-2000/CP936/windows-936）<a name="_label5"></a></p> 
<h3 id="error-lnk2019-无法解析的外部符号-__imp__recv16该符号在函数-_-中被引用">error LNK2019: 无法解析的外部符号 __imp__recv@16，该符号在函数 _*** 中被引用</h3> 
<p>出现这个错误，一般都是缺少了相关的库文件，可以右键点击项目，选择属性，选择链接器，选择输入，选择附加依赖项，在依赖项里添加相应的库文件，这里是 ws2_32.lib 文件，然后就可以了。<a name="_label6"></a></p> 
<h3 id="error-unknown-type-name-class-的解决方法">error: unknown type name 'class' 的解决方法</h3> 
<p>编译工程时出现以下错误：</p> 
<pre><code>error: unknown type name 'class'
</code></pre> 
<p><strong>原因：</strong></p> 
<p>C 文件 include 了带有 C++ 关键字的头文件，如 class 等。因此，包含 C++ 关键字的头文件被 C 编译器所编译，而不是用 C++ 编译器编译，而 C 编译器无法识别 C++ 的关键字，所以报错。</p> 
<p><strong>解决方法：</strong></p> 
<p>1、不能在 C 文件中包含 C++ 的头文件，所以需要将 .c 改成 .cpp。</p> 
<p>2、在所有使用 C++ 方法的地方加上：#ifdef __cplusplus，如：</p> 
<pre><code>#ifdef __cplusplus

class A{

};

#endi
</code></pre> 
<p>注：如果使用了 extern "C" ，也要加上 #ifdef __cplusplus，因为 C 编译器无法识别 extern "C"。<a name="_label7"></a></p> 
<h3 id="fatal-error-c1083-无法打开包括文件unistdh-no-such-file-or-directory">fatal error C1083: 无法打开包括文件:“unistd.h”: No such file or directory</h3> 
<p>许多在 Linux 下开发的 C 程序都需要头文件 unistd.h，但 VC 中没有个头文件，所以用 VC 编译总是报错。把下面的内容保存为 unistd.h，可以解决这个问题。</p> 
<pre><code>#ifndef _UNISTD_H
#define _UNISTD_H

#include &lt;io.h&gt;
#include &lt;process.h&gt;

#endif /* _UNISTD_H */
</code></pre> 
<p><a name="_label8"></a></p> 
<h3 id="fatal-error-lnk1281-无法生成-safeseh-映像">fatal error LNK1281: 无法生成 SAFESEH 映像</h3> 
<p><strong>解决方法：</strong></p> 
<p>1.打开该项目的“属性页”对话框。</p> 
<p>2.单击“链接器”文件夹。</p> 
<p>3.单击“命令行”属性页。</p> 
<p>4.将 /SAFESEH:NO 键入“附加选项”框中，然后点击应用。</p> 
<p><a name="_label9"></a></p> 
<h3 id="找不到qt5coreddll">找不到Qt5Cored.dll</h3> 
<p>Qt5Cored.dll 和 Qt5Core.dll 文件分别用于 Qt 软件的 Debug 版和 Release 版。</p> 
<p>通常会有两个 Qt5Core.dll 文件，分别位于 Qt 安装目录下的 “Qt5.11.2\5.11.2\mingw48_32\bin” 和 “\Qt5.11.2\Tools\QtCreator\bin” 两个目录中。其中 “Qt5.11.2\5.11.2\mingw48_32\bin” 目录下才是 Qt 项目运行时所需的库。</p> 
<p>但是，有时候在运行 Release 版项目时，却提示没有找到 Qt5Cored.dll。这是由于在编译 Release 版时，错误的链接到了 Debug 版的库上。这种情况主要发生在使用了第三方软件库的时候，在编译第三方软件库时，Debug 版本库链接到 Qt 的 Qt5Cored.dll，而 Release 版链接到 Qt5Core.dll，如果在编译 Release 版项目时错误的链接了第三方软件库的 Debug 版，则也会间接的链接 Debug 版的相关支持库（如 Qt5Cored.dll），因此在运行项目时提示需要相关的 Debug 版支持库。</p> 
<p>举个例子：在编译 Release 版项目时，工程文件中有 “#LIBS += D:/Qwt-6.1.0/lib/qwtd.dll”（这是 QWT 库，QWT 库需要 QT 库的支持），则在运行时提示 “找不到Qt5Cored.dll文件”，这时将其修改为 “#LIBS += D:/Qwt-6.1.0/lib/qwt.dll” 则解决问题。</p> 
<p><a name="_label10"></a></p> 
<h3 id="正确解决坑爹的0xc000007b应用程序无法正常启动">正确解决：坑爹的0xc000007b——应用程序无法正常启动</h3> 
<p>（1）根本原因是缺乏所需要的 DLL，提供了错误版本的 dll 相当于没有 DLL， 提示完全一样。</p> 
<p>（2）网上有人说缺乏 dx 运行环境，如果属实，也是因为缺乏 dx 相关的 dll。</p> 
<p>（3）与程序是 32 还是 64 位没有直接关系，但是与你的程序对应不上的 dll 版本，往往很难发现问题，要引起注意。</p> 
<p>（4）生成的 debug 目录下，运行 exe 文件报改错，将缺少的 dll 文件添加进来即可解决，例如 opencv_world411d.dll。</p> 
<p><a name="_label11"></a></p> 
<h3 id="弹窗崩溃abort-has-been-called-错误分析及其解决方法">弹窗崩溃：abort() has been called 错误分析及其解决方法</h3> 
<p>调试代码的过程中经常会遇到 abort() has been called 的错误，导致出现这样的原因有：</p> 
<p>（1）内存泄漏，导致内存不够分配；</p> 
<p>（2）非法指针访问或者指针访问内存越界出现问题；<br> （3）多线程访问资源出的问题。</p> 
<p>参考：<a href="https://www.cnblogs.com/happyamyhope/p/7246617.html" rel="nofollow" title="R6010 -abort() has been called错误分析及其解决方法">R6010 -abort() has been called错误分析及其解决方法</a></p> 
<p><a name="_label12"></a></p> 
<h3 id="this-application-failed-to-start-because-it-could-not-find-or-load-the-qt-platform-plugin-windows-错误解决方法">This application failed to start because it could not find or load the Qt platform plugin “windows” 错误解决方法</h3> 
<p>用 inno setup 打包生成了一个安装 exe，U 盘拷到另一台电脑安装运行，出现该错误！</p> 
<p>根据错误提示发现是和 platform 有关，是因为前面误删了安装目录下的 platforms 文件夹以及其内部的 qwindows.dll，把 plugins/platform 这个文件夹原封不动地复制到安装包里再打包即可。</p> 
<p><a name="_label13"></a></p> 
<h3 id="qt中文乱码问题">Qt中文乱码问题</h3> 
<p>方法一：</p> 
<pre><code>ui-&gt;pushButton-&gt;setText(QString::fromLocal8Bit("我是中文"));
</code></pre> 
<p>方法二：</p> 
<p>将默认字体设置为 UTF8，再配合 tr("我是中文") 就不会乱码啦。</p> 
<p><a name="_label14"></a></p> 
<h3 id="解决qt线程关闭问题qthread-destroyed-while-thread-is-still-running">解决Qt线程关闭问题！QThread: Destroyed while thread is still running</h3> 
<p>耗时操作里面这样判断：</p> 
<pre><code> while (!isInterruptionRequested())
</code></pre> 
<p>添加析构函数，析构函数里面这样操作：</p> 
<pre><code>XXXThread:: ~XXXThread()
{
    requestInterruption();
    quit();
    wait();
}
</code></pre> 
<p><a name="_label15"></a></p> 
<h3 id="给放在-program-files-目录下的-exe-添加写入权限">给放在 Program Files 目录下的 exe 添加写入权限</h3> 
<p>由于 exe 会在本目录下，写入 .ini 文件，如果把 exe 制作成安装包，会安装到 program files 目录下，但在 win10 下 program files 默认是没有写入权限的。</p> 
<p>解决方法：</p> 
<p>vs =&gt; 项目属性 =&gt;配置属性 =&gt; 链接器 =&gt; 清单文件 =&gt;UAC执行级别修改成 requireAdministrator。</p> 
<p><a name="_label16"></a></p> 
<h3 id="error-lnk2001无法解析的外部符号_imp_timegettime0">error LNK2001:无法解析的外部符号_imp_timeGetTime@0</h3> 
<p>解决方法：将库winmm.lib添加到工程中。</p> 
<p>参考：<a href="https://blog.csdn.net/caoshangpa/article/details/52879995" title="error LNK2001:无法解析的外部符号_imp_timeGetTime@0">error LNK2001:无法解析的外部符号_imp_timeGetTime@0</a></p> 
<p><a href="https://www.cnblogs.com/djiankuo/p/5092341.html" rel="nofollow" title="error LNK2019: 无法解析的外部符号">error LNK2019: 无法解析的外部符号</a></p> 
<p><a name="_label17"></a></p> 
<h3 id="加入头文件出现-chrono-和-ratio-的错误">加入头文件出现 chrono 和 ratio 的错误</h3> 
<p>在一个使用 FFmepg 的多线程工程中加入 librtmp 第三方开源库，在 chrono 和 ratio 中就会报二十多个错误，尤其是 <code>C4430错误，“C4430 缺少类型说明符 - 假定为 int。注意: C++ 不支持默认 int”</code> 这个错误，在网上找了很多方法均不行，直到找到这个解决办法，前提是先<code>include &lt;stdint.h&gt;</code>：</p> 
<p>VS =&gt; 项目属性 =&gt;配置属性 =&gt; C/C++ =&gt; 预处理器中加入: <strong>__STDC_LIMIT_MACROS</strong></p> 
<p>扩展：c++ - C++: <strong>__STDC_LIMIT_MACROS</strong>和<strong>__STDC_CONSTANT_MACROS</strong>意味著什麼？</p> 
<p><code>__STDC_LIMIT_MACROS</code> 和 <code>__STDC_CONSTANT_MACROS</code> 是一种解决办法，允许 C++ 程序使用标准中指定的<code>stdint.h</code> 宏，而不在 C++ 标准中。 宏( 如 <code>UINT8_MAX</code> 。<code>INT64_MIN</code> 和 <code>INT32_C()</code> ) 可能已经在 C++ 应用程序中定义为其他方式。 为了允许用户口決定是否需要为 C 定义宏，许多实现需要在 <code>stdint.h</code> 包含之前定义 <code>__STDC_LIMIT_MACROS</code> 和 <code>__STDC_CONSTANT_MACROS</code> 。</p> 
<p>参考：</p> 
<p><a href="https://blog.csdn.net/zhoukai216/article/details/89394165" title="加入头文件出现ratio和chrono的错误">加入头文件出现ratio和chrono的错误</a></p> 
<p><a href="https://sourceware.org/bugzilla/show_bug.cgi?id=15366" rel="nofollow" title="每个C11和C ++ 11，&lt;stdint.h&gt;不应查看__STDC_LIMIT_MACROS或__STDC_CONSTANT_MACROS">每个C11和C ++ 11，&lt;stdint.h&gt;不应查看__STDC_LIMIT_MACROS或__STDC_CONSTANT_MACROS</a></p> 
<p><a name="_label18"></a></p> 
<h3 id="ffmpeg-commonh-error-c3861-uint64_c-找不到标识符">ffmpeg Common.h error C3861: “UINT64_C”: 找不到标识符</h3> 
<p>解决方法：在 common.h 中添加如下代码：</p> 
<pre><code>#ifndef INT64_C
#define INT64_C(c) (c ## LL)
#define UINT64_C(c) (c ## ULL)
#endif

#ifdef __cplusplus
#define __STDC_CONSTANT_MACROS
#ifdef _STDINT_H
#undef _STDINT_H
#endif
# include &lt;stdint.h&gt;
#endif
</code></pre> 
<p>顺便解决了<code>fatal error C1189: #error : missing -D__STDC_FORMAT_MACROS</code>这个错误。</p> 
<p><a name="_label19"></a></p> 
<h3 id="error-writen-rtmp-send-error-10054-39-bytes">ERROR: WriteN, RTMP send error 10054 (39 bytes)</h3> 
<p>时间戳过大会导致该错误。原先错误将时间戳单位弄错了，时间戳过大，大了 1000 倍导致的。</p> 
<p></p> 
<h2 id="vs出现-fatal-error-c1083-无法打开包括文件-syssocketh-no-such-file-">VS出现 fatal error C1083: 无法打开包括文件: “sys/socket.h”: No such file ....</h2> 
<p>因为 sys/socket.h 是 Linux 系统下的库文件，所以在 windows 上无法打开，用<code>#include &lt;winsock.h&gt;</code>替换即可。</p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/55481160b06016170cfff3bcee8138bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">【Simulink】 0基础入门教程 P2 常用模块的使用介绍</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d8fa2389e1272fdfe8c6f6161e2ec828/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[QT_024]Qt学习之QByteArray详解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>