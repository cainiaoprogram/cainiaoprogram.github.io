<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>将本地文件传输至远程服务器 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="将本地文件传输至远程服务器" />
<meta property="og:description" content="在我们部署项目的时候，需要将本地的项目部署于远程服务器上，（腾讯云，公司内网云，等等），那么经常使用的方法就是通过ssh来进行文件传输
什么是ssh协议： SSH 为 Secure Shell 的缩写，即安全外壳协议，SSH 为建立在应用层基础上的安全协议。SSH 是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。使用SSH，还有一个额外的好处就是传输的数据是经过压缩的，所以可以加快传输的速度。
如何配置ssh： 这里我们使用的工具是openssh-server，OpenSSH 是 SSH （Secure SHell） 协议的免费开源实现，我使用的主机是ubuntu，所以以下的命令均是在ubuntu下进行。
首先安装openssh-server：
root@ubuntu:~# apt-get install openssh-server 若出现关于openssh-client依赖包问题，请看我另外一篇文章：
安装openssh-server提示依赖包问题
若安装成功则提示：
root@ubuntu:~# Setting up ssh-import-id (5.5-0ubuntu1) ... root@ubuntu:~# Processing triggers for systemd (229-4ubuntu7) ... root@ubuntu:~# Processing triggers for ureadahead (0.100.0-19) ... root@ubuntu:~# Processing triggers for ufw (0.35-0ubuntu2) ... 检查ssh服务是否启动：
root@ubuntu:~# ps -e | grep ssh root@ubuntu:~# 9050 ? 00:00:00 sshd ssh服务此时已经启动，接着修改配置文件：
root@ubuntu:~# gedit /etc/ssh/sshd_config 将该文件中： PermitRootLogin prohibit-password 注释掉，变为 #PermitRootLogin prohibit-password 然后添加：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/90319d5165b380b8d9bc6f857fbc43e7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-03-09T16:06:18+08:00" />
<meta property="article:modified_time" content="2018-03-09T16:06:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">将本地文件传输至远程服务器</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>在我们部署项目的时候，需要将本地的项目部署于远程服务器上，（腾讯云，公司内网云，等等），那么经常使用的方法就是通过ssh来进行文件传输</p> 
<h6>什么是ssh协议：</h6> 
<p><span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">SSH 为 </span><a href="https://baike.baidu.com/item/Secure%20Shell" rel="nofollow" style="color:rgb(19,110,194);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">Secure Shell</a><span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);"> 的缩写，即安全外壳协议，<span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">SSH 为建立在应用层基础上的安全协议。SSH 是目前较可靠，专为</span><a href="https://baike.baidu.com/item/%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95" rel="nofollow" style="color:rgb(19,110,194);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">远程登录</a><span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">会话和其他网络服务提供安全性的协议。<span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">使用SSH，还有一个额外的好处就是传输的数据是经过压缩的，所以可以加快传输的</span><a href="https://baike.baidu.com/item/%E9%80%9F%E5%BA%A6/5456" rel="nofollow" style="color:rgb(19,110,194);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">速度</a><span style="color:rgb(51,51,51);font-family:arial, '宋体', sans-serif;font-size:14px;text-indent:28px;background-color:rgb(255,255,255);">。</span></span></span></p> 
<h6>如何配置ssh：</h6> 
<p><span style="font-size:14px;">这里我们使用的工具是openssh-server，<span style="color:rgb(204,0,0);font-family:arial;background-color:rgb(255,255,255);">OpenSSH</span><span style="color:rgb(51,51,51);font-family:arial;background-color:rgb(255,255,255);"> 是 SSH （Secure SHell） 协议的免费开源实现，我使用的主机是ubuntu，所以以下的命令均是在ubuntu下进行。</span></span></p> 
<p><span style="color:rgb(51,51,51);font-family:arial;background-color:rgb(255,255,255);"><span style="font-size:14px;">首先安装openssh-server：</span></span></p> 
<pre><code class="language-plain">root@ubuntu:~# apt-get install openssh-server</code></pre> 
<br> 
<p>若出现关于openssh-client依赖包问题，请看我另外一篇文章：</p> 
<p><a href="http://blog.csdn.net/yixieling4397/article/details/79487127">安装openssh-server提示依赖包问题</a><br></p> 
<p>若安装成功则提示：</p> 
<pre><code class="language-plain">root@ubuntu:~# Setting up ssh-import-id (5.5-0ubuntu1) ...  
root@ubuntu:~# Processing triggers for systemd (229-4ubuntu7) ...  
root@ubuntu:~# Processing triggers for ureadahead (0.100.0-19) ...  
root@ubuntu:~# Processing triggers for ufw (0.35-0ubuntu2) ...  </code></pre> 
<br> 
<p>检查ssh服务是否启动：</p> 
<pre><code class="language-plain">root@ubuntu:~# ps -e | grep ssh
root@ubuntu:~#  9050 ?        00:00:00 sshd</code></pre> 
<br> 
<p>ssh服务此时已经启动，接着修改配置文件：</p> 
<pre><code class="language-plain">root@ubuntu:~# gedit /etc/ssh/sshd_config </code></pre> 
<br> 
<p>将该文件中<span style="font-size:14px;">：<span style="background-color:rgb(240,240,240);color:rgb(0,0,0);font-family:Consolas, Inconsolata, Courier, monospace;"> </span></span></p> 
<pre><code class="language-plain">PermitRootLogin prohibit-password</code></pre> 
<span style="color:rgb(0,0,0);font-family:Consolas, Inconsolata, Courier, monospace;font-size:14px;background-color:rgb(240,240,240);">注释掉，变为</span> 
<br> 
<p></p> 
<pre><code class="language-plain">#PermitRootLogin prohibit-password</code></pre> 
<br> 
<br> 
<p><span style="font-size:14px;"><span style="background-color:rgb(240,240,240);color:rgb(0,0,0);font-family:Consolas, Inconsolata, Courier, monospace;">然后添加：</span></span></p> 
<pre><code class="language-plain">PermitRootLogin yes
StrictHostChecking no
UserKnownHostsFile /dev/null</code></pre> 
<p>若不加这些配置，当你登录的时候会出现这种错误：</p> 
<pre><code class="language-plain">the authenticity of host xxx can't be established</code></pre> 
<p>保存退出，完成配置</p> 
<h6>使用ssh传输文件：</h6> 
<p>1.登录远程服务器：</p> 
<p><span style="color:rgb(51,51,51);font-family:Arial;font-size:14px;background-color:rgb(255,255,255);"> </span><span style="font-weight:700;color:rgb(51,51,51);font-family:Arial;font-size:14px;background-color:rgb(255,255,255);">ssh username@目标ip</span><br></p> 
<p><span style="color:rgb(51,51,51);font-family:Arial;font-size:14px;background-color:rgb(255,255,255);">2.上传下载文件：</span></p> 
<p><span style="color:rgb(51,51,51);font-family:Arial;font-size:14px;background-color:rgb(255,255,255);"><strong><span style="font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;background-color:rgb(255,255,255);">scp -r 本地文件路径 服务器帐号名@服务器的adress:想要保存的路径 #从本地到服务器 </span><br style="font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;background-color:rgb(255,255,255);"><span style="font-family:'-apple-system', 'SF UI Text', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'WenQuanYi Micro Hei', sans-serif, SimHei, SimSun;background-color:rgb(255,255,255);">scp -r 服务器帐号名@服务器的adress:文件路径 本地保存路径 #从服务器到本地</span></strong><br></span></p> 
<p>（若是文件夹的话记得添加参数 -r）</p> 
<p>此时就成功将文件传输至远程服务器上：</p> 
<pre><code class="language-plain"><span style="font-size:14px;">MAIN_rlbx582nn6481jh4.seg                     100% 4515     4.4KB/s   00:00    
MAIN_zsp4okn800kqj6de.seg                     100% 4511     4.4KB/s   00:00    
MAIN_hwdyca2gv523zzks.seg                     100% 4217     4.1KB/s   00:00    
MAIN_cnu8gu1p96hmiuwq.seg                     100% 4215     4.1KB/s   00:00    
MAIN_m5z7hkpwt14ahuav.seg                     100% 6066     5.9KB/s   00:00    
manager.iml                                   100%  696     0.7KB/s   00:00    
workspace.xml                                 100%   44KB  44.4KB/s   00:00    
profiles_settings.xml                         100%  228     0.2KB/s   00:00    
misc.xml                                      100%  209     0.2KB/s   00:00    
modules.xml                                   100%  266     0.3KB/s   00:00    
watcherTasks.xml                              100% 1241     1.2KB/s   00:00    
test.db                                       100% 2048     2.0KB/s   00:00    
manager.pyc                                   100% 6177     6.0KB/s   00:00 </span></code></pre> 
<br> 
<br> 
<br> 
<br> 
<p><br></p>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/542878ba39d1eacc48423885b58ce9e9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">安装openssh-server提示依赖包问题</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7b6027655c928bba213aa5f9038154c5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Uncaught Error: Bootstrap&#39;s JavaScript requires jQuery</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>