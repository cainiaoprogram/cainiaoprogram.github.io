<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>在Spring Boot项目中使用Redisson - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="在Spring Boot项目中使用Redisson" />
<meta property="og:description" content="在Spring Boot项目中使用Redisson Redisson简介 Redisson官网仓库
Redisson中文文档
Redission是一个基于Java的分布式缓存和分布式任务调度框架，用于处理分布式系统中的缓存和任务队列。它是一个开源项目，旨在简化分布式系统的开发和管理。
以下是Redission的一些主要特点和功能：
分布式缓存：Redission支持分布式缓存，可以将数据存储在分布式环境中，以提高性能和可用性。它提供了各种数据结构，如分布式Map、Set、List、Queue等，可以用来存储和操作数据。
分布式锁：Redission提供了分布式锁的功能，允许多个线程或多个应用程序在分布式环境中协调对共享资源的访问，以避免竞态条件。
分布式队列：Redission支持分布式队列，可以用来实现任务调度和消息传递。这对于构建分布式系统中的异步处理非常有用。
分布式发布/订阅：Redission支持发布/订阅模式，允许不同部分的应用程序通过发布消息和订阅消息来进行通信。
高可用性：Redission可以配置为在分布式环境中具有高可用性，通过数据复制和故障转移来确保系统的稳定性。
丰富的客户端库：Redission提供了多种客户端库，可以与不同的Java应用程序和框架集成，包括Spring、Spring Boot等。
支持多种数据存储后端：Redission可以与多种数据存储后端集成，包括Redis、AWS Elasticache、Apache Ignite等，以适应不同的部署需求。
总之，Redission是一个强大的Java库，用于构建和管理分布式系统中的缓存和任务调度。它可以帮助开发人员简化分布式系统的开发，并提供了丰富的功能来处理分布式环境中的常见问题。
配置和使用Redisson 1. 添加Redisson依赖： 在你的Spring Boot项目的Maven或Gradle配置中添加Redisson的依赖，就像前面提到的一样。确保使用适当的版本。
Maven 示例：
&lt;dependency&gt; &lt;groupId&gt;org.redisson&lt;/groupId&gt; &lt;artifactId&gt;redisson&lt;/artifactId&gt; &lt;version&gt;3.16.5&lt;/version&gt; &lt;!-- 请使用最新版本 --&gt; &lt;/dependency&gt; 2. 创建Redisson配置类： 在你的Spring Boot项目中创建一个配置类，用于配置Redisson。这个配置类可以包含Redis服务器的连接信息，例如主机地址、端口和密码等。
import org.redisson.Redisson; import org.redisson.api.RedissonClient; import org.redisson.config.Config; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; @Configuration public class RedissonConfig { @Bean public RedissonClient redissonClient() { Config config = new Config(); config.useSingleServer() .setAddress(&#34;redis://localhost:6379&#34;) // Redis服务器地址和端口 .setPassword(&#34;your_password&#34;); // 如果有密码，请设置密码 return Redisson." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/ee38671d5113573aa9268cd7b2fc9592/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-09-29T22:02:57+08:00" />
<meta property="article:modified_time" content="2023-09-29T22:02:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">在Spring Boot项目中使用Redisson</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="Spring_BootRedisson_0"></a>在Spring Boot项目中使用Redisson</h2> 
<h3><a id="Redisson_2"></a>Redisson简介</h3> 
<p><a href="https://github.com/redisson/redisson">Redisson官网仓库</a></p> 
<p><a href="https://github.com/redisson/redisson/wiki/%E7%9B%AE%E5%BD%95">Redisson中文文档</a></p> 
<p>Redission是一个基于Java的分布式缓存和分布式任务调度框架，用于处理分布式系统中的缓存和任务队列。它是一个开源项目，旨在简化分布式系统的开发和管理。</p> 
<p>以下是Redission的一些主要特点和功能：</p> 
<ol><li> <p><strong>分布式缓存</strong>：Redission支持分布式缓存，可以将数据存储在分布式环境中，以提高性能和可用性。它提供了各种数据结构，如分布式Map、Set、List、Queue等，可以用来存储和操作数据。</p> </li><li> <p><strong>分布式锁</strong>：Redission提供了分布式锁的功能，允许多个线程或多个应用程序在分布式环境中协调对共享资源的访问，以避免竞态条件。</p> </li><li> <p><strong>分布式队列</strong>：Redission支持分布式队列，可以用来实现任务调度和消息传递。这对于构建分布式系统中的异步处理非常有用。</p> </li><li> <p><strong>分布式发布/订阅</strong>：Redission支持发布/订阅模式，允许不同部分的应用程序通过发布消息和订阅消息来进行通信。</p> </li><li> <p><strong>高可用性</strong>：Redission可以配置为在分布式环境中具有高可用性，通过数据复制和故障转移来确保系统的稳定性。</p> </li><li> <p><strong>丰富的客户端库</strong>：Redission提供了多种客户端库，可以与不同的Java应用程序和框架集成，包括Spring、Spring Boot等。</p> </li><li> <p><strong>支持多种数据存储后端</strong>：Redission可以与多种数据存储后端集成，包括Redis、AWS Elasticache、Apache Ignite等，以适应不同的部署需求。</p> </li></ol> 
<p>总之，Redission是一个强大的Java库，用于构建和管理分布式系统中的缓存和任务调度。它可以帮助开发人员简化分布式系统的开发，并提供了丰富的功能来处理分布式环境中的常见问题。</p> 
<h3><a id="Redisson_28"></a>配置和使用Redisson</h3> 
<p><strong>1. 添加Redisson依赖：</strong> 在你的Spring Boot项目的Maven或Gradle配置中添加Redisson的依赖，就像前面提到的一样。确保使用适当的版本。</p> 
<p>Maven 示例：</p> 
<pre><code class="prism language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.redisson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>redisson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.16.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 请使用最新版本 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> 
<p><strong>2. 创建Redisson配置类：</strong> 在你的Spring Boot项目中创建一个配置类，用于配置Redisson。这个配置类可以包含Redis服务器的连接信息，例如主机地址、端口和密码等。</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>redisson<span class="token punctuation">.</span></span><span class="token class-name">Redisson</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>redisson<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">RedissonClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>redisson<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">Config</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedissonConfig</span> <span class="token punctuation">{<!-- --></span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RedissonClient</span> <span class="token function">redissonClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Config</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        config<span class="token punctuation">.</span><span class="token function">useSingleServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">"redis://localhost:6379"</span><span class="token punctuation">)</span> <span class="token comment">// Redis服务器地址和端口</span>
            <span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">"your_password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果有密码，请设置密码</span>

        <span class="token keyword">return</span> <span class="token class-name">Redisson</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>请确保根据你的实际Redis配置进行适当的配置。</p> 
<p><strong>3. 注入RedissonClient：</strong> 现在，你可以在你的Spring Boot服务或组件中注入<code>RedissonClient</code>，以便在应用程序中使用它执行Redis相关的操作。</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>redisson<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">RedissonClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YourService</span> <span class="token punctuation">{<!-- --></span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">RedissonClient</span> redissonClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token class-name">YourService</span><span class="token punctuation">(</span><span class="token class-name">RedissonClient</span> redissonClient<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>redissonClient <span class="token operator">=</span> redissonClient<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 在这里使用 redissonClient 来执行各种 Redis 操作</span>
    <span class="token comment">// 例如：redissonClient.getLock("myLock").lock();</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><strong>4. 使用RedissonClient：</strong> 现在，你可以在你的Spring Boot服务、控制器或其他组件中使用<code>redissonClient</code>来执行Redis操作，例如获取分布式锁等。</p> 
<p>这样，你就可以在Spring Boot项目中使用Redisson来管理Redis连接和执行Redis操作。确保在配置文件中替换实际的Redis服务器地址和密码，以适应你的环境。同时，注意适时关闭<code>RedissonClient</code>以确保资源的释放。</p> 
<p>实际使用代码：</p> 
<pre><code class="prism language-java"><span class="token annotation punctuation">@Resource</span>
<span class="token class-name">RedissonClient</span> redissonClient<span class="token punctuation">;</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/testRedission"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">BaseResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">testRedission</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
    <span class="token class-name">RLock</span> lock <span class="token operator">=</span> redissonClient<span class="token punctuation">.</span><span class="token function">getLock</span><span class="token punctuation">(</span><span class="token string">"test:redis:lock"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">boolean</span> isGetLock <span class="token operator">=</span> lock<span class="token punctuation">.</span><span class="token function">tryLock</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>isGetLock<span class="token punctuation">)</span><span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"获取锁成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">ResultUtils</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">"ok"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{<!-- --></span>
            log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"获取锁失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token class-name">ResultUtils</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">ErrorCode</span><span class="token punctuation">.</span><span class="token constant">SYSTEM_ERROR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BusinessException</span><span class="token punctuation">(</span><span class="token class-name">ErrorCode</span><span class="token punctuation">.</span><span class="token constant">SYSTEM_ERROR</span><span class="token punctuation">,</span><span class="token string">"出异常了"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{<!-- --></span>
        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/6065c788f9dca24149645a2ce79ae41b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">问 ChatGPT 关于 GPT 的事情：数据准备篇</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6fcbd0f86d66c2c176fb08986f2fa83c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">百度飞桨(PaddlePaddle) - PP-OCRv3 文字检测识别系统 预测部署简介与总览</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>