<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HarmonyOS应用开发之ArkTS语言学习记录 - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HarmonyOS应用开发之ArkTS语言学习记录" />
<meta property="og:description" content=" 1、ArkTS介绍 ArkTS是鸿蒙生态的应用开发语言。它在保持TypeScript（简称TS）基本语法风格的基础上，对TS的动态类型特性施加更严格的约束，引入静态类型。同时，提供了声明式UI、状态管理等相应的能力，让开发者可以以更简洁、更自然的方式开发高性能应用。具体介绍可查看官方文档：ArkTS 语言 | 华为开发者联盟
2、初识ArkTS语言 ArkTS是HarmonyOS优选的主力应用开发语言。ArkTS围绕应用开发在TypeScript（简称TS）生态基础上做了进一步扩展，继承了TS的所有特性，是TS的超集。因此，在学习ArkTS语言之前，建议开发者具备TS语言开发能力。
当前，ArkTS在TS的基础上主要扩展了如下能力：
基本语法：ArkTS定义了声明式UI描述、自定义组件和动态扩展UI元素的能力，再配合ArkUI开发框架中的系统组件及其相关的事件方法、属性方法等共同构成了UI开发的主体。状态管理：ArkTS提供了多维度的状态管理机制。在UI开发框架中，与UI相关联的数据可以在组件内使用，也可以在不同组件层级间传递，比如父子组件之间、爷孙组件之间，还可以在应用全局范围内传递或跨设备传递。另外，从数据的传递形式来看，可分为只读的单向传递和可变更的双向传递。开发者可以灵活的利用这些能力来实现数据和UI的联动。渲染控制：ArkTS提供了渲染控制的能力。条件渲染可根据应用的不同状态，渲染对应状态下的UI内容。循环渲染可从数据源中迭代获取数据，并在每次迭代过程中创建相应的组件。数据懒加载从数据源中按需迭代数据，并在每次迭代过程中创建相应的组件。 3、基础语法概述 在初步了解了ArkTS语言之后，我们以一个具体的示例来说明ArkTS的基本组成。如下图所示，当点击按钮时，文本内容从“Hello World”变为“Hello ArkUI”。
图1 示例效果图
本示例中，ArkTS的基本组成如下所示。
图2 ArkTS的基本组成
装饰器： 用于装饰类、结构、方法以及变量，并赋予其特殊的含义。如上述示例中@Entry、@Component和@State都是装饰器，@Component表示自定义组件，@Entry表示该自定义组件为入口组件，@State表示组件中的状态变量，状态变量变化会触发UI刷新。UI描述：以声明式的方式来描述UI的结构，例如build()方法中的代码块。自定义组件：可复用的UI单元，可组合其他组件，如上述被@Component装饰的struct Hello。系统组件：ArkUI框架中默认内置的基础和容器组件，可直接被开发者调用，比如示例中的Column、Text、Divider、Button。属性方法：组件可以通过链式调用配置多项属性，如fontSize()、width()、height()、backgroundColor()等。事件方法：组件可以通过链式调用设置多个事件的响应逻辑，如跟随在Button后面的onClick()。 除此之外，ArkTS扩展了多种语法范式来使开发更加便捷：
@Builder/@BuilderParam：特殊的封装UI描述的方法，细粒度的封装和复用UI描述。@Extend/@Style：扩展内置组件和封装属性样式，更灵活地组合内置组件。stateStyles：多态样式，可以依据组件的内部状态的不同，设置不同样式。 4、声明式UI描述 ArkTS以声明方式组合和扩展组件来描述应用程序的UI，同时还提供了基本的属性、事件和子组件配置方法，帮助开发者实现应用交互逻辑。
创建组件：根据组件构造方法的不同，创建组件包含有参数和无参数两种方式。配置属性：属性方法以“.”链式调用的方式配置系统组件的样式和其他属性，建议每个属性方法单独写一行。配置事件：事件方法以“.”链式调用的方式配置系统组件支持的事件，建议每个事件方法单独写一行。 使用lambda表达式配置组件的事件方法。使用匿名函数表达式配置组件的事件方法，要求使用bind，以确保函数体中的this指向当前组件。使用组件的成员函数配置组件的事件方法。 配置子组件：如果组件支持子组件配置，则需在尾随闭包&#34;{...}&#34;中为组件添加子组件的UI描述。Column、Row、Stack、Grid、List等组件都是容器组件。（容器组件即支持嵌套子组件） 5、自定义组件 在ArkUI中，UI显示的内容均为组件，由框架直接提供的称为系统组件，由开发者定义的称为自定义组件。在进行 UI 界面开发时，通常不是简单的将系统组件进行组合使用，而是需要考虑代码可复用性、业务逻辑与UI分离，后续版本演进等因素。因此，将UI和部分业务逻辑封装成自定义组件是不可或缺的能力。
自定义组件具有以下特点：
可组合：允许开发者组合使用系统组件、及其属性和方法。可重用：自定义组件可以被其他组件重用，并作为不同的实例在不同的父组件或容器中使用。数据驱动UI更新：通过状态变量的改变，来驱动UI的刷新。 " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/84c5211a41b7497cadc279df9b18d92c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-05T14:15:13+08:00" />
<meta property="article:modified_time" content="2024-01-05T14:15:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HarmonyOS应用开发之ArkTS语言学习记录</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <h4 id="QRS9C">1、ArkTS介绍</h4> 
<p id="u772d34be">ArkTS是鸿蒙生态的应用开发语言。它在保持TypeScript（简称TS）基本语法风格的基础上，对TS的动态类型特性施加更严格的约束，引入静态类型。同时，提供了声明式UI、状态管理等相应的能力，让开发者可以以更简洁、更自然的方式开发高性能应用。具体介绍可查看官方文档：<a href="https://developer.huawei.com/consumer/cn/arkts/" rel="nofollow" title="ArkTS 语言 | 华为开发者联盟">ArkTS 语言 | 华为开发者联盟</a></p> 
<p id="u7ff17a71"></p> 
<h4 id="b6Q1O">2、初识ArkTS语言</h4> 
<p id="udd6c83d5">ArkTS是HarmonyOS优选的主力应用开发语言。ArkTS围绕应用开发在TypeScript（简称TS）生态基础上做了进一步扩展，继承了TS的所有特性，是TS的超集。因此，在学习ArkTS语言之前，建议开发者具备TS语言开发能力。</p> 
<p id="ufe4a9db9">当前，ArkTS在TS的基础上主要扩展了如下能力：</p> 
<ul><li id="u945811cf">基本语法：ArkTS定义了声明式UI描述、自定义组件和动态扩展UI元素的能力，再配合ArkUI开发框架中的系统组件及其相关的事件方法、属性方法等共同构成了UI开发的主体。</li><li id="u45b28140">状态管理：ArkTS提供了多维度的状态管理机制。在UI开发框架中，与UI相关联的数据可以在组件内使用，也可以在不同组件层级间传递，比如父子组件之间、爷孙组件之间，还可以在应用全局范围内传递或跨设备传递。另外，从数据的传递形式来看，可分为只读的单向传递和可变更的双向传递。开发者可以灵活的利用这些能力来实现数据和UI的联动。</li><li id="uaaba62a5">渲染控制：ArkTS提供了渲染控制的能力。条件渲染可根据应用的不同状态，渲染对应状态下的UI内容。循环渲染可从数据源中迭代获取数据，并在每次迭代过程中创建相应的组件。数据懒加载从数据源中按需迭代数据，并在每次迭代过程中创建相应的组件。</li></ul> 
<p id="u29cd9b64"></p> 
<h4 id="TwGCA">3、基础语法概述</h4> 
<p id="u394c7882">在初步了解了ArkTS语言之后，我们以一个具体的示例来说明ArkTS的基本组成。如下图所示，当点击按钮时，文本内容从“Hello World”变为“Hello ArkUI”。</p> 
<p id="u1743e4e9">图1 示例效果图</p> 
<p id="uc62a6aee"></p> 
<p class="img-center"><img alt="" height="88" id="u56806408" src="https://images2.imgbox.com/c7/77/GrwuASeY_o.gif" width="204"></p> 
<p id="ud6d16c8d"></p> 
<p id="ub9e67b12">本示例中，ArkTS的基本组成如下所示。</p> 
<p id="u67b9b1a5"><strong>图2 </strong>ArkTS的基本组成</p> 
<p id="u7b460cda"></p> 
<p class="img-center"><img alt="" height="433" id="ude9e1718" src="https://images2.imgbox.com/5c/f0/W5Qn1Ogy_o.png" width="504"></p> 
<ul><li id="u88a6bc23">装饰器： 用于装饰类、结构、方法以及变量，并赋予其特殊的含义。如上述示例中@Entry、@Component和@State都是装饰器，@Component表示自定义组件，@Entry表示该自定义组件为入口组件，@State表示组件中的状态变量，状态变量变化会触发UI刷新。</li><li id="u1a11cd40"><a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-declarative-ui-description-0000001524416537-V2" rel="nofollow" title="UI描述">UI描述</a>：以声明式的方式来描述UI的结构，例如build()方法中的代码块。</li><li id="u7334a339"><a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-create-custom-components-0000001473537046-V2" rel="nofollow" title="自定义组件">自定义组件</a>：可复用的UI单元，可组合其他组件，如上述被@Component装饰的struct Hello。</li><li id="u850dd914">系统组件：ArkUI框架中默认内置的基础和容器组件，可直接被开发者调用，比如示例中的Column、Text、Divider、Button。</li><li id="u7c855243">属性方法：组件可以通过链式调用配置多项属性，如fontSize()、width()、height()、backgroundColor()等。</li><li id="u2d26c0f5">事件方法：组件可以通过链式调用设置多个事件的响应逻辑，如跟随在Button后面的onClick()。</li></ul> 
<p id="ufb7a85eb">除此之外，ArkTS扩展了多种语法范式来使开发更加便捷：</p> 
<ul><li id="uce135024"><a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-builder-0000001524176981-V2" rel="nofollow" title="@Builder">@Builder</a>/<a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-builderparam-0000001524416541-V2" rel="nofollow" title="@BuilderParam">@BuilderParam</a>：特殊的封装UI描述的方法，细粒度的封装和复用UI描述。</li><li id="ud31d632f"><a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-extend-0000001473696678-V2" rel="nofollow" title="@Extend">@Extend</a>/<a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-style-0000001473856690-V2" rel="nofollow" title="@Style">@Style</a>：扩展内置组件和封装属性样式，更灵活地组合内置组件。</li><li id="u7f724451"><a href="https://developer.huawei.com/consumer/cn/doc/development/harmonyos-guides-V2/arkts-statestyles-0000001482592098-V2" rel="nofollow" title="stateStyles">stateStyles</a>：多态样式，可以依据组件的内部状态的不同，设置不同样式。</li></ul> 
<p id="u63ca00ee"></p> 
<h4 id="GdYIa">4、声明式UI描述</h4> 
<p id="u8b386a37">ArkTS以声明方式组合和扩展组件来描述应用程序的UI，同时还提供了基本的属性、事件和子组件配置方法，帮助开发者实现应用交互逻辑。</p> 
<ul><li id="u5e585694">创建组件：根据组件构造方法的不同，创建组件包含有参数和无参数两种方式。</li><li id="u7cafe027">配置属性：属性方法以“.”链式调用的方式配置系统组件的样式和其他属性，建议每个属性方法单独写一行。</li><li id="u4381c178">配置事件：事件方法以“.”链式调用的方式配置系统组件支持的事件，建议每个事件方法单独写一行。</li></ul> 
<blockquote> 
 <ul><li>使用lambda表达式配置组件的事件方法。</li><li>使用匿名函数表达式配置组件的事件方法，要求使用bind，以确保函数体中的this指向当前组件。</li><li>使用组件的成员函数配置组件的事件方法。</li></ul> 
</blockquote> 
<ul><li id="uacb392af">配置子组件：如果组件支持子组件配置，则需在尾随闭包"{...}"中为组件添加子组件的UI描述。Column、Row、Stack、Grid、List等组件都是容器组件。（容器组件即支持嵌套子组件）</li></ul> 
<p id="ucde7ed41"></p> 
<h4 id="fknHD">5、自定义组件</h4> 
<p id="u7ed77a3f">在ArkUI中，UI显示的内容均为组件，由框架直接提供的称为系统组件，由开发者定义的称为自定义组件。在进行 UI 界面开发时，通常不是简单的将系统组件进行组合使用，而是需要考虑代码可复用性、业务逻辑与UI分离，后续版本演进等因素。因此，将UI和部分业务逻辑封装成自定义组件是不可或缺的能力。</p> 
<p id="u0c6be748">自定义组件具有以下特点：</p> 
<ul><li id="u249cee1c">可组合：允许开发者组合使用系统组件、及其属性和方法。</li><li id="uc9091f82">可重用：自定义组件可以被其他组件重用，并作为不同的实例在不同的父组件或容器中使用。</li><li id="u0d04f940">数据驱动UI更新：通过状态变量的改变，来驱动UI的刷新。</li></ul>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/465b1f235a278a963fb6b4a84dccf9fa/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">走向云原生 破局数字化</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/03b3751c96c778173be29ed48756a0dc/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">【React系列】ES6学习笔记（三）Class</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>