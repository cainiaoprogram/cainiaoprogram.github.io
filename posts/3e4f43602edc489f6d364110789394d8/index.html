<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Angular中的装饰器有哪些？怎么用？ - 菜鸟程序员博客</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Angular中的装饰器有哪些？怎么用？" />
<meta property="og:description" content="Angular中有一些非常有用的装饰器，用于增强指令、组件等功能。以下是一些常用的装饰器：
@HostBinding：用于绑定宿主元素的属性。可以通过该装饰器将指令或组件中的属性值绑定到宿主元素上。 import { Component, HostBinding } from &#39;@angular/core&#39;; @Component({ selector: &#39;app-example&#39;, template: &#39;&lt;p&gt;Example Component&lt;/p&gt;&#39; }) export class ExampleComponent { @HostBinding(&#39;style.color&#39;) color = &#39;red&#39;; } @Input：用于接收父组件传递的数据。通过该装饰器可以将父组件中的数据传递给子组件的属性。 import { Component, Input } from &#39;@angular/core&#39;; @Component({ selector: &#39;app-child&#39;, template: &#39;&lt;p&gt;{{inputValue}}&lt;/p&gt;&#39; }) export class ChildComponent { @Input() inputValue: string; } @Output：用于向父组件发送事件。通过该装饰器可以定义一个事件，并在子组件中触发该事件，以便通知父组件。 import { Component, Output, EventEmitter } from &#39;@angular/core&#39;; @Component({ selector: &#39;app-child&#39;, template: &#39;&lt;button (click)=&#34;sendMessage()&#34;&gt;Send Message&lt;/button&gt;&#39; }) export class ChildComponent { @Output() messageEvent = new EventEmitter&lt;string&gt;(); sendMessage() { this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cainiaoprogram.github.io/posts/3e4f43602edc489f6d364110789394d8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-08T17:00:00+08:00" />
<meta property="article:modified_time" content="2024-01-08T17:00:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="菜鸟程序员博客" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">菜鸟程序员博客</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Angular中的装饰器有哪些？怎么用？</h1>
			
		</header>
		<div id="gatop"></div>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>        Angular中有一些非常有用的装饰器，用于增强指令、组件等功能。以下是一些常用的装饰器：</p> 
<ol><li>@<strong>HostBinding</strong>：用于绑定宿主元素的属性。可以通过该装饰器将指令或组件中的属性值绑定到宿主元素上。 <pre><code class="language-javascript">import { Component, HostBinding } from '@angular/core';

@Component({
  selector: 'app-example',
  template: '&lt;p&gt;Example Component&lt;/p&gt;'
})
export class ExampleComponent {
  @HostBinding('style.color') color = 'red';
}
</code></pre> </li><li>@<strong>Input</strong>：用于接收父组件传递的数据。通过该装饰器可以将父组件中的数据传递给子组件的属性。 <pre><code class="language-javascript">import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-child',
  template: '&lt;p&gt;{<!-- -->{inputValue}}&lt;/p&gt;'
})
export class ChildComponent {
  @Input() inputValue: string;
}
</code></pre> </li><li>@<strong>Output</strong>：用于向父组件发送事件。通过该装饰器可以定义一个事件，并在子组件中触发该事件，以便通知父组件。 <pre><code class="language-javascript">import { Component, Output, EventEmitter } from '@angular/core';

@Component({
  selector: 'app-child',
  template: '&lt;button (click)="sendMessage()"&gt;Send Message&lt;/button&gt;'
})
export class ChildComponent {
  @Output() messageEvent = new EventEmitter&lt;string&gt;();

  sendMessage() {
    this.messageEvent.emit('Message from child component');
  }
}
</code></pre> </li><li>@<strong>ViewChild</strong>：用于获取对子组件或DOM元素的引用。通过该装饰器可以在父组件中获取对子组件或DOM元素的引用，以便进行操作。 <pre><code class="language-javascript">import { Component, ViewChild, ElementRef } from '@angular/core';

@Component({
  selector: 'app-parent',
  template: '&lt;div #childDiv&gt;Child Div&lt;/div&gt;'
})
export class ParentComponent {
  @ViewChild('childDiv') childDiv: ElementRef;
  
  ngAfterViewInit() {
    console.log(this.childDiv.nativeElement.textContent);
  }
}
</code></pre> </li><li>@<strong>ContentChild</strong>：用于获取对投影内容中的子组件或DOM元素的引用。通过该装饰器可以在父组件中获取对投影内容中的子组件或DOM元素的引用。xiamian <pre><code class="language-javascript">import { Component, ContentChild, ElementRef } from '@angular/core';

@Component({
  selector: 'app-parent',
  template: '&lt;ng-content&gt;&lt;/ng-content&gt;'
})
export class ParentComponent {
  @ContentChild('contentChild') contentChild: ElementRef;

  ngAfterContentInit() {
    console.log(this.contentChild.nativeElement.textContent);
  }
}
</code></pre> </li></ol> 
<p>接下来将着重介绍@HostListener：</p> 
<p><strong><span style="background-color:#a2e043;">概念：</span></strong></p> 
<p>        HostListener是Angular中的一个装饰器，用于监听宿主元素上的事件，并在事件发生时执行相应的方法。它可以用来监听DOM事件、指令事件、自定义事件等。</p> 
<p><strong><span style="background-color:#a2e043;">使用语法：</span></strong></p> 
<p>       其中 event是要监听的事件名称，可以是任何合法的DOM事件名称，如click、mouseover等。$event是可选参数，用于传递事件对象给方法。</p> 
<pre><code class="language-javascript">@HostListener('event', ['$event'])
methodName(event: Event) {
  // 在事件发生时执行的方法
}
</code></pre> 
<p><strong><span style="background-color:#a2e043;">使用场景：</span></strong></p> 
<p>        @HostBinding 装饰器用于将属性绑定到宿主元素上。在使用 @HostBinding 装饰器时，它会自动将属性绑定到指令或组件的宿主元素上。它不需要显式地确认宿主元素，而是会自动将绑定的属性应用到宿主元素上。</p> 
<p>        例如，如果我们有一个指令或组件，并在该指令或组件中使用 @HostBinding 装饰器来绑定样式属性，那么这些样式属性将会自动应用到该指令或组件的宿主元素上。</p> 
<p>        <strong>示例一：</strong>在下面的示例中，我们创建了一个指令，并使用 @HostBinding 装饰器将 color 属性绑定到宿主元素的样式颜色上。当这个指令被应用到一个元素上时，该元素的文本颜色会自动变为红色，因为 color 属性被绑定到了宿主元素的样式颜色上。</p> 
<pre><code class="language-javascript">import { Directive, HostBinding } from '@angular/core';

@Directive({
  selector: '[appExampleDirective]'
})
export class ExampleDirective {
  @HostBinding('style.color') color = 'red';
}
</code></pre> 
<p>        <strong>示例二</strong>：在下面例子中，我们创建了一个名为ExampleComponent的组件，并使用@HostBinding装饰器将color属性绑定到组件的宿主元素的样式颜色上。因此，当这个组件被渲染时，它的宿主元素（即组件本身）的文本颜色会自动变为蓝色，因为color属性被绑定到了宿主元素的样式颜色上。</p> 
<pre><code class="language-javascript">import { Component, HostBinding } from '@angular/core';

@Component({
  selector: 'app-example',
  template: '&lt;p&gt;Example Component&lt;/p&gt;',
  styles: ['p { font-size: 20px; }']
})
export class ExampleComponent {
  @HostBinding('style.color') color = 'blue';
}
</code></pre> 
<p><strong><span style="background-color:#a2e043;">注意事项：</span></strong></p> 
<ol><li>方法名必须与HostListener装饰器中的方法名一致。</li><li>方法参数中可以传入事件对象$event，用于获取事件的相关信息。</li><li>如果要监听多个事件，可以使用多个HostListener装饰器，或者在一个HostListener中传入多个事件名称。</li><li>如果在使用HostListener装饰器的时候传递了可选参数，那在监听的事件中必须书写这个参数，不然会报类似于0 params required, but got 1的错误。像下面的这种写法就会报这种错误： <pre><code class="language-javascript">@HostListener('event', ['$event'])
mouseUp() {
  // 在事件发生时执行的方法
}</code></pre> <p></p> </li></ol>
                </div>
		</div>
		<div id="gabottom"></div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0c09d75937a4cfde93c81208a8389a9b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Ubuntu 18.04.5 LTS 解决安装包复杂依赖相关问题解决的主要法则和VIM的安装实录</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/c51f4003b2989291d3e3bd1939a3da68/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Redis持久化</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2024 菜鸟程序员博客.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
<div id="gafoot"></div>
<script src="https://101121.xyz/ga/app.js"></script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>